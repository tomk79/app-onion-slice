<?php
/* ---------------------

  onion-slice v0.0.1-alpha.1+dev

--------------------- */

namespace renconFramework;

// =-=-=-=-=-=-=-=-=-=-=-= Configuration START =-=-=-=-=-=-=-=-=-=-=-=



$conf = new \stdClass();


/* --------------------------------------
 * ログインユーザーのIDとパスワードの対
 * 
 * `$conf->users` に 登録されたユーザーが、ログインを許可されます。
 * ユーザーIDを キー に、sha1ハッシュ化されたパスワード文字列を 値 に持つ連想配列で設定してください。
 * ユーザーは、複数登録できます。
 */
$conf->users = array(
	"admin" => sha1("admin"),
);


/* --------------------------------------
 * データディレクトリのパス
 * 
 * アプリケーションが専有的に使用するディレクトリを与えてください。
 * ここには、各種の状態を記憶したり、設定を保存したり、
 * Pickles 2 プロジェクトデータを生成したりする用途で使用します。
 */
$conf->path_data_dir = './.onion-slice/';


/* --------------------------------------
 * コマンドのパス
 */
$conf->commands = (object) array();
$conf->commands->php = 'php';
$conf->commands->git = 'git';





// =-=-=-=-=-=-=-=-=-=-=-= / Configuration END =-=-=-=-=-=-=-=-=-=-=-=


$rencon = new rencon( $conf );
$rencon->run();

class rencon {

	private $conf;
	private $fs;
	private $req;
	private $user;
	private $theme;
	private $resources;

	private $app_id = 'onion-slice';
	private $app_name = 'onion-slice';

	public function __construct( $conf ){
		$this->conf = new conf( $conf );
		$this->fs = new filesystem();
		$this->req = new request();
		$this->user = new user($this);
		$this->resources = new resources($this);
	}

	public function conf(){ return $this->conf; }
	public function fs(){ return $this->fs; }
	public function req(){ return $this->req; }
	public function user(){ return $this->user; }
	public function theme(){ return $this->theme; }
	public function resources(){ return $this->resources; }

	public function app_id(){ return $this->app_id; }
	public function app_name(){ return $this->app_name; }

	public function run(){
		header('Content-type: text/html'); // default

		$route = array(

'' => (object) array(
	"title" => 'Home',
	"page" => function(){
$rencon = $this; ?>
<p>ようこそ、Pickles 2</p>
<?php return; },
),
'test' => (object) array(
	"title" => 'Test',
	"page" => 'tomk79\\onionSlice\\test::start',
),


		);

		$action = $this->req->get_param('a');
		$resource = $this->req->get_param('res');
		$controller = null;
		$app_info = array(
			'id' => $this->app_id,
			'name' => $this->app_name,
			'pages' => $route,
		);
		$page_info = array(
			'id' => $action,
			'title' => 'Home',
		);
		$this->theme = new theme( $this, $app_info, $page_info );

		// --------------------------------------
		// リソースへのリクエストを処理
		if( strlen($resource) ){
			header("Content-type: ".$this->resources->get_mime_type($resource));
			$bin = $this->resources->get($resource);
			echo $bin;
			exit();

		}

		// --------------------------------------
		// ログイン処理
		$login = new login($this, $app_info);

		if( $action == 'logout' ){
			$login->logout();
			exit;
		}

		if( !$login->check() ){
			if( $action == 'logout' || $action == 'login' ){
				$this->req()->set_param('a', null);
			}
			$login->please_login();
			exit;
		}

		if( $action == 'logout' || $action == 'login' ){
			$this->req()->set_param('a', null);
		}

		// --------------------------------------
		// middleware

		$middleware = array (
  0 => 'tomk79\\onionSlice\\middleware\\setup::setup_wizard',
);

		foreach( $middleware as $method ){
			list( $className, $funcName ) = explode('::', $method);
			$tmp_obj = new $className();
			call_user_func( array($tmp_obj, $funcName), $this );
		}



		// --------------------------------------
		// コンテンツを処理
		if( array_key_exists( $action, $route ) ){
			$controller = $route[$action];
			$page_info['title'] = $controller->title;
			$this->theme()->set_current_page_info( $page_info );

			ob_start();
			call_user_func( $controller->page );
			$content = ob_get_clean();


			$html = $this->theme()->bind( $content );
			echo $html;

		}else{
			$this->notfound();
		}
		exit();
	}


	/**
	 * Not Found ページを表示して終了する
	 */
	public function notfound(){
		$page_info['title'] = 'Not Found';
		$this->theme()->set_current_page_info( $page_info );

		$content = '<p>404: Not Found</p>';
		$html = $this->theme()->bind( $content );
		echo $html;
		exit;
	}

	/**
	 * Forbidden ページを表示して終了する
	 */
	public function forbidden(){
		$page_info['title'] = 'Forbidden';
		$this->theme()->set_current_page_info( $page_info );

		$content = '<p>403: Forbidden</p>';
		$html = $this->theme()->bind( $content );
		echo $html;
		exit;
	}

}
?><?php
namespace renconFramework;

/**
 * rencon conf class
 *
 * @author Tomoya Koyanagi <tomk79@gmail.com>
 */
class conf{
	private $conf;
	public $users;
	public $databases;

	/**
	 * Constructor
	 */
	public function __construct( $conf ){
		$this->conf = (object) $conf;
		foreach( $this->conf as $key=>$val ){
			$this->{$key} = $val;
		}

		// --------------------------------------
		// $conf->users
		$this->users = null;
		if( property_exists( $conf, 'users' ) && !is_null( $conf->users ) ){
			$this->users = (array) $conf->users;
		}

		// --------------------------------------
		// $conf->databases
		$this->databases = null;
		if( property_exists( $conf, 'databases' ) && !is_null( $conf->databases ) ){
			$this->databases = (array) $conf->databases;
		}

	}

	/**
	 * コンフィグ値を取得する
	 */
	public function get( $key = null ){
		if( is_null( $key ) ){
			return $this->conf;
		}
		if( property_exists( $this->conf, $key ) ){
			return $this->conf->{$key};
		}
		return false;
	}

	/**
	 * ログインが必要か？
	 */
	public function is_login_required(){
		if( !is_array($this->users) ){
			return false;
		}
		return true;
	}

}
?><?php
namespace renconFramework;

/**
 * tomk79/filesystem core class
 *
 * @author Tomoya Koyanagi <tomk79@gmail.com>
 */
class filesystem{

	/**
	 * ファイルおよびディレクトリ操作時のデフォルトパーミッション
	 */
	private $default_permission = array('dir'=>0775,'file'=>0775);
	/**
	 * ファイルシステムの文字セット
	 */
	private $filesystem_encoding = null;

	/**
	 * コンストラクタ
	 *
	 * @param object $conf 設定オブジェクト
	 */
	public function __construct($conf=null){
		$conf = json_decode( json_encode($conf), true );
		if(!is_array($conf)){
			$conf = array();
		}
		if( array_key_exists('file_default_permission', $conf) && strlen( $conf['file_default_permission'] ) ){
			$this->default_permission['file'] = octdec( $conf['file_default_permission'] );
		}
		if( array_key_exists('dir_default_permission', $conf) && strlen( $conf['dir_default_permission'] ) ){
			$this->default_permission['dir'] = octdec( $conf['dir_default_permission'] );
		}
		if( array_key_exists('filesystem_encoding', $conf) && strlen( $conf['filesystem_encoding'] ) ){
			$this->filesystem_encoding = trim( $conf['filesystem_encoding'] );
		}
	}

	/**
	 * 書き込み/上書きしてよいアイテムか検証する。
	 *
	 * @param string $path 検証対象のパス
	 * @return bool 書き込み可能な場合 `true`、不可能な場合に `false` を返します。
	 */
	public function is_writable( $path ){
		$path = $this->localize_path($path);
		if( !$this->is_file($path) ){
			return @is_writable( dirname($path) );
		}
		return @is_writable( $path );
	}//is_writable()

	/**
	 * 読み込んでよいアイテムか検証する。
	 *
	 * @param string $path 検証対象のパス
	 * @return bool 読み込み可能な場合 `true`、不可能な場合に `false` を返します。
	 */
	public function is_readable( $path ){
		$path = $this->localize_path($path);
		return @is_readable( $path );
	}//is_readable()

	/**
	 * ファイルが存在するかどうか調べる。
	 *
	 * @param string $path 検証対象のパス
	 * @return bool ファイルが存在する場合 `true`、存在しない場合、またはディレクトリが存在する場合に `false` を返します。
	 */
	public function is_file( $path ){
		$path = $this->localize_path($path);
		return @is_file( $path );
	}//is_file()

	/**
	 * シンボリックリンクかどうか調べる。
	 *
	 * @param string $path 検証対象のパス
	 * @return bool ファイルがシンボリックリンクの場合 `true`、存在しない場合、それ以外の場合に `false` を返します。
	 */
	public function is_link( $path ){
		$path = $this->localize_path($path);
		return @is_link( $path );
	}//is_link()

	/**
	 * ディレクトリが存在するかどうか調べる。
	 *
	 * @param string $path 検証対象のパス
	 * @return bool ディレクトリが存在する場合 `true`、存在しない場合、またはファイルが存在する場合に `false` を返します。
	 */
	public function is_dir( $path ){
		$path = $this->localize_path($path);
		return @is_dir( $path );
	}//is_dir()

	/**
	 * ファイルまたはディレクトリが存在するかどうか調べる。
	 *
	 * @param string $path 検証対象のパス
	 * @return bool ファイルまたはディレクトリが存在する場合 `true`、存在しない場合に `false` を返します。
	 */
	public function file_exists( $path ){
		$path = $this->localize_path($path);
		return @file_exists( $path );
	}//file_exists()

	/**
	 * ディレクトリを作成する。
	 *
	 * @param string $dirpath 作成するディレクトリのパス
	 * @param int $perm 作成するディレクトリに与えるパーミッション
	 * @return bool 成功時に `true`、失敗時に `false` を返します。
	 */
	public function mkdir( $dirpath , $perm = null ){
		$dirpath = $this->localize_path($dirpath);

		if( $this->is_dir( $dirpath ) ){
			// 既にディレクトリがあったら、作成を試みない。
			$this->chmod( $dirpath , $perm );
			return true;
		}
		$result = @mkdir( $dirpath );
		$this->chmod( $dirpath , $perm );
		clearstatcache();
		return	$result;
	}//mkdir()

	/**
	 * ディレクトリを作成する(上層ディレクトリも全て作成)
	 *
	 * @param string $dirpath 作成するディレクトリのパス
	 * @param int $perm 作成するディレクトリに与えるパーミッション
	 * @return bool 成功時に `true`、失敗時に `false` を返します。
	 */
	public function mkdir_r( $dirpath , $perm = null ){
		$dirpath = $this->localize_path($dirpath);
		if( $this->is_dir( $dirpath ) ){
			return true;
		}
		if( $this->is_file( $dirpath ) ){
			return false;
		}
		$patharray = explode( DIRECTORY_SEPARATOR , $this->localize_path( $this->get_realpath($dirpath) ) );
		$targetpath = '';
		foreach( $patharray as $idx=>$Line ){
			if( !strlen( $Line ) || $Line == '.' || $Line == '..' ){ continue; }
			if(!($idx===0 && DIRECTORY_SEPARATOR == '\\' && preg_match('/^[a-zA-Z]\:$/s', $Line))){
				$targetpath .= DIRECTORY_SEPARATOR;
			}
			$targetpath .= $Line;

			// clearstatcache();
			if( !$this->is_dir( $targetpath ) ){
				$targetpath = $this->localize_path( $targetpath );
				if( !$this->mkdir( $targetpath , $perm ) ){
					return false;
				}
			}
		}
		return true;
	}//mkdir_r()

	/**
	 * ファイルやディレクトリを中身ごと完全に削除する。
	 *
	 * このメソッドは、ファイルやシンボリックリンクも削除します。
	 * ディレクトリを削除する場合は、中身ごと完全に削除します。
	 * シンボリックリンクは、その先を追わず、シンボリックリンク本体のみを削除します。
	 *
	 * @param string $path 対象のパス
	 * @return bool 成功時に `true`、失敗時に `false` を返します。
	 */
	public function rm( $path ){
		$path = $this->localize_path($path);

		if( !$this->is_writable( $path ) ){
			return false;
		}
		$path = @realpath( $path );
		if( $path === false ){ return false; }
		if( $this->is_file( $path ) || $this->is_link( $path ) ){
			// ファイルまたはシンボリックリンクの場合の処理
			$result = @unlink( $path );
			return	$result;

		}elseif( $this->is_dir( $path ) ){
			// ディレクトリの処理
			$flist = $this->ls( $path );
			if( is_array($flist) ){
				foreach ( $flist as $Line ){
					if( $Line == '.' || $Line == '..' ){ continue; }
					$this->rm( $path.DIRECTORY_SEPARATOR.$Line );
				}
			}
			$result = @rmdir( $path );
			return	$result;

		}

		return false;
	}//rm()

	/**
	 * ディレクトリを削除する。
	 *
	 * このメソッドはディレクトリを削除します。
	 * 中身のない、空のディレクトリ以外は削除できません。
	 *
	 * @param string $path 対象ディレクトリのパス
	 * @return bool 成功時に `true`、失敗時に `false` を返します。
	 */
	public function rmdir( $path ){
		$path = $this->localize_path($path);

		if( !$this->is_writable( $path ) ){
			return false;
		}
		$path = @realpath( $path );
		if( $path === false ){
			return false;
		}
		if( $this->is_file( $path ) || $this->is_link( $path ) ){
			// ファイルまたはシンボリックリンクの場合の処理
			// ディレクトリ以外は削除できません。
			return false;

		}elseif( $this->is_dir( $path ) ){
			// ディレクトリの処理
			// rmdir() は再帰的削除を行いません。
			// 再帰的に削除したい場合は、代わりに `rm()` または `rmdir_r()` を使用します。
			return @rmdir( $path );
		}

		return false;
	}//rmdir()

	/**
	 * ディレクトリを再帰的に削除する。
	 *
	 * このメソッドはディレクトリを再帰的に削除します。
	 * 中身のない、空のディレクトリ以外は削除できません。
	 *
	 * @param string $path 対象ディレクトリのパス
	 * @return bool 成功時に `true`、失敗時に `false` を返します。
	 */
	public function rmdir_r( $path ){
		$path = $this->localize_path($path);

		if( !$this->is_writable( $path ) ){
			return false;
		}
		$path = @realpath( $path );
		if( $path === false ){
			return false;
		}
		if( $this->is_file( $path ) || $this->is_link( $path ) ){
			// ファイルまたはシンボリックリンクの場合の処理
			// ディレクトリ以外は削除できません。
			return false;

		}elseif( $this->is_dir( $path ) ){
			// ディレクトリの処理
			$filelist = $this->ls($path);
			if( is_array($filelist) ){
				foreach( $filelist as $basename ){
					if( $this->is_file( $path.DIRECTORY_SEPARATOR.$basename ) ){
						$this->rm( $path.DIRECTORY_SEPARATOR.$basename );
					}else if( !$this->rmdir_r( $path.DIRECTORY_SEPARATOR.$basename ) ){
						return false;
					}
				}
			}
			return $this->rmdir( $path );
		}

		return false;
	}//rmdir_r()


	/**
	 * ファイルを上書き保存する。
	 *
	 * このメソッドは、`$filepath` にデータを保存します。
	 * もともと保存されていた内容は破棄され、新しいデータで上書きします。
	 *
	 * @param string $filepath 保存先ファイルのパス
	 * @param string $content 保存する内容
	 * @param int $perm 保存するファイルに与えるパーミッション
	 * @return bool 成功時に `true`、失敗時に `false` を返します。
	 */
	public function save_file( $filepath , $content , $perm = null ){
		$filepath = $this->get_realpath($filepath);
		$filepath = $this->localize_path($filepath);

		if( $this->is_dir( $filepath ) ){
			return false;
		}
		if( !$this->is_writable( $filepath ) ){
			return false;
		}

		if( !strlen( $content ) ){
			// 空白のファイルで上書きしたい場合
			if( $this->is_file( $filepath ) ){
				@unlink( $filepath );
			}
			@touch( $filepath );
			$this->chmod( $filepath , $perm );
			clearstatcache();
			return $this->is_file( $filepath );
		}

		clearstatcache();
		$fp = fopen( $filepath, 'w' );
		if( !is_resource( $fp ) ){
			return false;
		}

		for ($written = 0; $written < strlen($content); $written += $fwrite) {
			$fwrite = fwrite($fp, substr($content, $written));
			if ($fwrite === false) {
				break;
			}
		}

		fclose($fp);

		$this->chmod( $filepath , $perm );
		clearstatcache();
		return !empty( $written );
	}//save_file()

	/**
	 * ファイルの中身を文字列として取得する。
	 *
	 * @param string $path ファイルのパス
	 * @return string ファイル `$path` の内容
	 */
	public function read_file( $path ){
		$path = $this->localize_path($path);
		return file_get_contents( $path );
	}//file_get_contents()

	/**
	 * ファイルの更新日時を比較する。
	 *
	 * @param string $path_a 比較対象A
	 * @param string $path_b 比較対象B
	 * @return bool|null
	 * `$path_a` の方が新しかった場合に `true`、
	 * `$path_b` の方が新しかった場合に `false`、
	 * 同時だった場合に `null` を返します。
	 *
	 * いずれか一方、または両方のファイルが存在しない場合、次のように振る舞います。
	 * - 両方のファイルが存在しない場合 = `null`
	 * - $path_a が存在せず、$path_b は存在する場合 = `false`
	 * - $path_a が存在し、$path_b は存在しない場合 = `true`
	 */
	public function is_newer_a_than_b( $path_a , $path_b ){
		$path_a = $this->localize_path($path_a);
		$path_b = $this->localize_path($path_b);

		// 比較できない場合に
		if(!file_exists($path_a) && !file_exists($path_b)){return null;}
		if(!file_exists($path_a)){return false;}
		if(!file_exists($path_b)){return true;}

		$mtime_a = filemtime( $path_a );
		$mtime_b = filemtime( $path_b );
		if( $mtime_a > $mtime_b ){
			return true;
		}elseif( $mtime_a < $mtime_b ){
			return false;
		}
		return null;
	}//is_newer_a_than_b()

	/**
	 * ファイル名/ディレクトリ名を変更する。
	 *
	 * @param string $original 現在のファイルまたはディレクトリ名
	 * @param string $newname 変更後のファイルまたはディレクトリ名
	 * @return bool 成功時 `true`、失敗時 `false` を返します。
	 */
	public function rename( $original , $newname ){
		$original = $this->localize_path($original);
		$newname  = $this->localize_path($newname );

		if( !@file_exists( $original ) ){ return false; }
		if( !$this->is_writable( $original ) ){ return false; }
		return @rename( $original , $newname );
	}//rename()

	/**
	 * ファイル名/ディレクトリ名を強制的に変更する。
	 *
	 * 移動先の親ディレクトリが存在しない場合にも、親ディレクトリを作成して移動するよう試みます。
	 *
	 * @param string $original 現在のファイルまたはディレクトリ名
	 * @param string $newname 変更後のファイルまたはディレクトリ名
	 * @return bool 成功時 `true`、失敗時 `false` を返します。
	 */
	public function rename_f( $original , $newname ){
		$original = $this->localize_path($original);
		$newname  = $this->localize_path($newname );

		if( !@file_exists( $original ) ){ return false; }
		if( !$this->is_writable( $original ) ){ return false; }
		$dirname = dirname( $newname );
		if( !$this->is_dir( $dirname ) ){
			if( !$this->mkdir_r( $dirname ) ){
				return false;
			}
		}
		return @rename( $original , $newname );
	}//rename_f()

	/**
	 * 絶対パスを得る。
	 *
	 * パス情報を受け取り、スラッシュから始まるサーバー内部絶対パスに変換して返します。
	 *
	 * このメソッドは、PHPの `realpath()` と異なり、存在しないパスも絶対パスに変換します。
	 *
	 * @param string $path 対象のパス
	 * @param string $cd カレントディレクトリパス。
	 * 実在する有効なディレクトリのパス、または絶対パスの表現で指定される必要があります。
	 * 省略時、カレントディレクトリを自動採用します。
	 * @return string 絶対パス
	 */
	public function get_realpath( $path, $cd = '.' ){
		$is_dir = false;
		if( preg_match( '/(\/|\\\\)+$/s', $path ) ){
			$is_dir = true;
		}
		$path = $this->localize_path($path);
		if( is_null($cd) ){ $cd = '.'; }
		$cd = $this->localize_path($cd);
		$preg_dirsep = preg_quote(DIRECTORY_SEPARATOR, '/');

		if( $this->is_dir($cd) ){
			$cd = realpath($cd);
		}elseif( !preg_match('/^((?:[A-Za-z]\\:'.$preg_dirsep.')|'.$preg_dirsep.'{1,2})(.*?)$/', $cd) ){
			$cd = false;
		}
		if( $cd === false ){
			return false;
		}

		$prefix = '';
		$localpath = $path;
		if( preg_match('/^((?:[A-Za-z]\\:'.$preg_dirsep.')|'.$preg_dirsep.'{1,2})(.*?)$/', $path, $matched) ){
			// もともと絶対パスの指定か調べる
			$prefix = preg_replace('/'.$preg_dirsep.'$/', '', $matched[1]);
			$localpath = $matched[2];
			$cd = null; // 元の指定が絶対パスだったら、カレントディレクトリは関係ないので捨てる。
		}

		$path = $cd.DIRECTORY_SEPARATOR.'.'.DIRECTORY_SEPARATOR.$localpath;

		if( file_exists( $prefix.$path ) ){
			$rtn = realpath( $prefix.$path );
			if( $is_dir && $rtn != realpath('/') ){
				$rtn .= DIRECTORY_SEPARATOR;
			}
			return $rtn;
		}

		$paths = explode( DIRECTORY_SEPARATOR, $path );
		$path = '';
		foreach( $paths as $idx=>$row ){
			if( $row == '' || $row == '.' ){
				continue;
			}
			if( $row == '..' ){
				$path = dirname($path);
				if($path == DIRECTORY_SEPARATOR){
					$path = '';
				}
				continue;
			}
			if(!($idx===0 && DIRECTORY_SEPARATOR == '\\' && preg_match('/^[a-zA-Z]\:$/s', $row))){
				$path .= DIRECTORY_SEPARATOR;
			}
			$path .= $row;
		}

		$rtn = $prefix.$path;
		if( $is_dir ){
			$rtn .= DIRECTORY_SEPARATOR;
		}
		return $rtn;
	}

	/**
	 * 相対パスを得る。
	 *
	 * パス情報を受け取り、ドットスラッシュから始まる相対絶対パスに変換して返します。
	 *
	 * @param string $path 対象のパス
	 * @param string $cd カレントディレクトリパス。
	 * 実在する有効なディレクトリのパス、または絶対パスの表現で指定される必要があります。
	 * 省略時、カレントディレクトリを自動採用します。
	 * @return string 相対パス
	 */
	public function get_relatedpath( $path, $cd = '.' ){
		$is_dir = false;
		if( preg_match( '/(\/|\\\\)+$/s', $path ) ){
			$is_dir = true;
		}
		if( @!strlen( $cd ) ){
			$cd = realpath('.');
		}elseif( $this->is_dir($cd) ){
			$cd = realpath($cd);
		}elseif( $this->is_file($cd) ){
			$cd = realpath(dirname($cd));
		}
		$path = $this->get_realpath($path, $cd);

		$normalize = function( $tmp_path, $fs ){
			$tmp_path = $fs->localize_path( $tmp_path );
			$preg_dirsep = preg_quote(DIRECTORY_SEPARATOR, '/');
			if( DIRECTORY_SEPARATOR == '\\' ){
				$tmp_path = preg_replace( '/^[a-zA-Z]\:/s', '', $tmp_path );
			}
			$tmp_path = preg_replace( '/^('.$preg_dirsep.')+/s', '', $tmp_path );
			$tmp_path = preg_replace( '/('.$preg_dirsep.')+$/s', '', $tmp_path );
			if( strlen($tmp_path) ){
				$tmp_path = explode( DIRECTORY_SEPARATOR, $tmp_path );
			}else{
				$tmp_path = array();
			}

			return $tmp_path;
		};

		$cd = $normalize($cd, $this);
		$path = $normalize($path, $this);

		$rtn = array();
		while( 1 ){
			if( !count($cd) || !count($path) ){
				break;
			}
			if( $cd[0] === $path[0] ){
				array_shift( $cd );
				array_shift( $path );
				continue;
			}
			break;
		}
		if( count($cd) ){
			foreach($cd as $dirname){
				array_push( $rtn, '..' );
			}
		}else{
			array_push( $rtn, '.' );
		}
		$rtn = array_merge( $rtn, $path );
		$rtn = implode( DIRECTORY_SEPARATOR, $rtn );

		if( $is_dir ){
			$rtn .= DIRECTORY_SEPARATOR;
		}
		return $rtn;
	}

	/**
	 * パス情報を得る。
	 *
	 * @param string $path 対象のパス
	 * @return array パス情報
	 */
	public function pathinfo( $path ){
		if(strpos($path,'#')!==false){ list($path, $hash) = @explode( '#', $path, 2 ); }
		if(strpos($path,'?')!==false){ list($path, $query) = @explode( '?', $path, 2 ); }

		$pathinfo = pathinfo( $path );
		$pathinfo['filename'] = $this->trim_extension( $pathinfo['basename'] );
		$pathinfo['extension'] = $this->get_extension( $pathinfo['basename'] );
		$pathinfo['query'] = (@strlen($query) ? '?'.$query : null);
		$pathinfo['hash'] = (@strlen($hash) ? '#'.$hash : null);
		return $pathinfo;
	}

	/**
	 * パス情報から、ファイル名を取得する。
	 *
	 * @param string $path 対象のパス
	 * @return string 抜き出されたファイル名
	 */
	public function get_basename( $path ){
		$path = pathinfo( $path , PATHINFO_BASENAME );
		if( !strlen($path) ){$path = null;}
		return $path;
	}

	/**
	 * パス情報から、拡張子を除いたファイル名を取得する。
	 *
	 * @param string $path 対象のパス
	 * @return string 拡張子が除かれたパス
	 */
	public function trim_extension( $path ){
		$pathinfo = pathinfo( $path );
		$RTN = preg_replace( '/\.'.preg_quote( @$pathinfo['extension'], '/' ).'$/' , '' , $path );
		return $RTN;
	}

	/**
	 * ファイル名を含むパス情報から、ファイルが格納されているディレクトリ名を取得する。
	 *
	 * @param string $path 対象のパス
	 * @return string 親ディレクトリのパス
	 */
	public function get_dirpath( $path ){
		$path = pathinfo( $path , PATHINFO_DIRNAME );
		if( !strlen($path) ){$path = null;}
		return $path;
	}

	/**
	 * パス情報から、拡張子を取得する。
	 *
	 * @param string $path 対象のパス
	 * @return string 拡張子
	 */
	public function get_extension( $path ){
		$path = preg_replace('/\#.*$/si', '', $path);
		$path = preg_replace('/\?.*$/si', '', $path);
		$path = pathinfo( $path , PATHINFO_EXTENSION );
		if(!strlen($path)){$path = null;}
		return $path;
	}


	/**
	 * CSVファイルを読み込む。
	 *
	 * @param string $path 対象のCSVファイルのパス
	 * @param array $options オプション
	 * - delimiter = 区切り文字(省略時、カンマ)
	 * - enclosure = クロージャー文字(省略時、ダブルクオート)
	 * - size = 一度に読み込むサイズ(省略時、10000)
	 * - charset = 文字セット(省略時、UTF-8)
	 * @return array|bool 読み込みに成功した場合、行列を格納した配列、失敗した場合には `false` を返します。
	 */
	public function read_csv( $path , $options = array() ){
		// $options['charset'] は、保存されているCSVファイルの文字エンコードです。
		// 省略時は UTF-8 から、内部エンコーディングに変換します。

		$path = $this->localize_path($path);

		if( !$this->is_file( $path ) ){
			// ファイルがなければfalseを返す
			return false;
		}

		if( !strlen( @$options['delimiter'] ) )    { $options['delimiter'] = ','; }
		if( !strlen( @$options['enclosure'] ) )    { $options['enclosure'] = '"'; }
		if( !strlen( @$options['size'] ) )         { $options['size'] = 10000; }
		if( !strlen( @$options['charset'] ) )      { $options['charset'] = 'UTF-8'; }//←CSVの文字セット

		$RTN = array();
		$fp = fopen( $path, 'r' );
		if( !is_resource( $fp ) ){
			return false;
		}

		while( $SMMEMO = fgetcsv( $fp , intval( $options['size'] ) , $options['delimiter'] , $options['enclosure'] ) ){
			foreach( $SMMEMO as $key=>$row ){
				$SMMEMO[$key] = mb_convert_encoding( $row , mb_internal_encoding() , $options['charset'].',UTF-8,SJIS-win,eucJP-win,SJIS,EUC-JP' );
			}
			array_push( $RTN , $SMMEMO );
		}
		fclose($fp);
		return $RTN;
	}//read_csv()

	/**
	 * 配列をCSV形式に変換する。
	 *
	 * 改行コードはLFで出力されます。
	 *
	 * @param array $array 2次元配列
	 * @param array $options オプション
	 * - charset = 文字セット(省略時、UTF-8)
	 * @return string 生成されたCSV形式のテキスト
	 */
	public function mk_csv( $array , $options = array() ){
		// $options['charset'] は、出力されるCSV形式の文字エンコードを指定します。
		// 省略時は UTF-8 に変換して返します。
		if( !is_array( $array ) ){ $array = array(); }

		if( @!strlen( $options['charset'] ) ){
			$options['charset'] = 'UTF-8';
		}
		$RTN = '';
		foreach( $array as $Line ){
			if( is_null( $Line ) ){ continue; }
			if( !is_array( $Line ) ){ $Line = array(); }
			foreach( $Line as $cell ){
				$cell = mb_convert_encoding( $cell , $options['charset'] , mb_internal_encoding().',UTF-8,SJIS-win,eucJP-win,SJIS,EUC-JP' );
				if( preg_match( '/"/' , $cell ) ){
					$cell = preg_replace( '/"/' , '""' , $cell);
				}
				if( strlen( $cell ) ){
					$cell = '"'.$cell.'"';
				}
				$RTN .= $cell.',';
			}
			$RTN = preg_replace( '/,$/' , '' , $RTN );
			$RTN .= "\n";
		}
		return $RTN;
	}//mk_csv()

	/**
	 * ファイルを複製する。
	 *
	 * @param string $from コピー元ファイルのパス
	 * @param string $to コピー先のパス
	 * @param int $perm 保存するファイルに与えるパーミッション
	 * @return bool 成功時に `true`、失敗時に `false` を返します。
	 */
	public function copy( $from , $to , $perm = null ){
		$from = $this->localize_path($from);
		$to   = $this->localize_path($to  );

		if( !$this->is_file( $from ) ){
			return false;
		}
		if( !$this->is_readable( $from ) ){
			return false;
		}

		if( $this->is_file( $to ) ){
			//	まったく同じファイルだった場合は、複製しないでtrueを返す。
			if( md5_file( $from ) == md5_file( $to ) && filesize( $from ) == filesize( $to ) ){
				return true;
			}
		}
		if( !@copy( $from , $to ) ){
			return false;
		}
		$this->chmod( $to , $perm );
		return true;
	}//copy()

	/**
	 * ディレクトリを複製する(下層ディレクトリも全てコピー)
	 *
	 * @param string $from コピー元ファイルのパス
	 * @param string $to コピー先のパス
	 * @param int $perm 保存するファイルに与えるパーミッション
	 * @return bool 成功時に `true`、失敗時に `false` を返します。
	 */
	public function copy_r( $from , $to , $perm = null ){
		$from = $this->localize_path($from);
		$to   = $this->localize_path($to  );

		$result = true;

		if( $this->is_file( $from ) ){
			if( $this->mkdir_r( dirname( $to ) ) ){
				if( !$this->copy( $from , $to , $perm ) ){
					$result = false;
				}
			}else{
				$result = false;
			}
		}elseif( $this->is_dir( $from ) ){
			if( !$this->is_dir( $to ) ){
				if( !$this->mkdir_r( $to ) ){
					$result = false;
				}
			}
			$itemlist = $this->ls( $from );
			if( is_array($itemlist) ){
				foreach( $itemlist as $Line ){
					if( $Line == '.' || $Line == '..' ){ continue; }
					if( $this->is_dir( $from.DIRECTORY_SEPARATOR.$Line ) ){
						if( $this->is_file( $to.DIRECTORY_SEPARATOR.$Line ) ){
							continue;
						}elseif( !$this->is_dir( $to.DIRECTORY_SEPARATOR.$Line ) ){
							if( !$this->mkdir_r( $to.DIRECTORY_SEPARATOR.$Line ) ){
								$result = false;
							}
						}
						if( !$this->copy_r( $from.DIRECTORY_SEPARATOR.$Line , $to.DIRECTORY_SEPARATOR.$Line , $perm ) ){
							$result = false;
						}
						continue;
					}elseif( $this->is_file( $from.DIRECTORY_SEPARATOR.$Line ) ){
						if( !$this->copy_r( $from.DIRECTORY_SEPARATOR.$Line , $to.DIRECTORY_SEPARATOR.$Line , $perm ) ){
							$result = false;
						}
						continue;
					}
				}
			}
		}

		return $result;
	}//copy_r()

	/**
	 * パーミッションを変更する。
	 *
	 * @param string $filepath 対象のパス
	 * @param int $perm 保存するファイルに与えるパーミッション
	 * @return bool 成功時に `true`、失敗時に `false` を返します。
	 */
	public function chmod( $filepath , $perm = null ){
		$filepath = $this->localize_path($filepath);

		if( is_null( $perm ) ){
			if( $this->is_dir( $filepath ) ){
				$perm = $this->default_permission['dir'];
			}else{
				$perm = $this->default_permission['file'];
			}
		}
		if( is_null( $perm ) ){
			$perm = 0775; // コンフィグに設定モレがあった場合
		}
		return @chmod( $filepath , $perm );
	}//chmod()

	/**
	 * パーミッション情報を調べ、3桁の数字で返す。
	 *
	 * @param string $path 対象のパス
	 * @return int|bool 成功時に 3桁の数字、失敗時に `false` を返します。
	 */
	public function get_permission( $path ){
		$path = $this->localize_path($path);

		if( !@file_exists( $path ) ){
			return false;
		}
		$perm = rtrim( sprintf( "%o\n" , fileperms( $path ) ) );
		$start = strlen( $perm ) - 3;
		return substr( $perm , $start , 3 );
	}//get_permission()


	/**
	 * ディレクトリにあるファイル名のリストを配列で返す。
	 *
	 * @param string $path 対象ディレクトリのパス
	 * @return array|bool 成功時にファイルまたはディレクトリ名の一覧を格納した配列、失敗時に `false` を返します。
	 */
	public function ls($path){
		$path = $this->localize_path($path);

		if( $path === false ){ return false; }
		if( !@file_exists( $path ) ){ return false; }
		if( !$this->is_dir( $path ) ){ return false; }

		$RTN = array();
		$dr = @opendir($path);
		while( ( $ent = readdir( $dr ) ) !== false ){
			// CurrentDirとParentDirは含めない
			if( $ent == '.' || $ent == '..' ){ continue; }
			array_push( $RTN , $ent );
		}
		closedir($dr);
		if( strlen( $this->filesystem_encoding ) ){
			//PxFW 0.6.4 追加
			$RTN = @$this->convert_filesystem_encoding( $RTN );
		}
		usort($RTN, "strnatcmp");
		return	$RTN;
	}//ls()

	/**
	 * ディレクトリの内部を比較し、$comparisonに含まれない要素を$targetから削除する。
	 *
	 * @param string $target クリーニング対象のディレクトリパス
	 * @param string $comparison 比較するディレクトリのパス
	 * @return bool 成功時 `true`、失敗時 `false` を返します。
	 */
	public function compare_and_cleanup( $target , $comparison ){
		if( is_null( $comparison ) || is_null( $target ) ){ return false; }

		$target = $this->localize_path($target);
		$comparison = $this->localize_path($comparison);

		if( !@file_exists( $comparison ) && @file_exists( $target ) ){
			$this->rm( $target );
			return true;
		}

		if( $this->is_dir( $target ) ){
			$flist = $this->ls( $target );
		}else{
			return true;
		}

		if( is_array($flist) ){
			foreach ( $flist as $Line ){
				if( $Line == '.' || $Line == '..' ){ continue; }
				$this->compare_and_cleanup( $target.DIRECTORY_SEPARATOR.$Line , $comparison.DIRECTORY_SEPARATOR.$Line );
			}
		}

		return true;
	}//compare_and_cleanup()

	/**
	 * ディレクトリを同期する。
	 *
	 * @param string $path_sync_from 同期元ディレクトリ
	 * @param string $path_sync_to 同期先ディレクトリ
	 * @return bool 常に `true` を返します。
	 */
	public function sync_dir( $path_sync_from , $path_sync_to ){
		$this->copy_r( $path_sync_from , $path_sync_to );
		$this->compare_and_cleanup( $path_sync_to , $path_sync_from );
		return true;
	}//sync_dir()

	/**
	 * 指定されたディレクトリ以下の、全ての空っぽのディレクトリを削除する。
	 *
	 * @param string $path ディレクトリパス
	 * @param array $options オプション
	 * @return bool 成功時 `true`、失敗時 `false` を返します。
	 */
	public function remove_empty_dir( $path , $options = array() ){
		$path = $this->localize_path($path);

		if( !$this->is_writable( $path ) ){ return false; }
		if( !$this->is_dir( $path ) ){ return false; }
		if( $this->is_file( $path ) || $this->is_link( $path ) ){ return false; }
		$path = @realpath( $path );
		if( $path === false ){ return false; }

		// --------------------------------------
		// 次の階層を処理するかどうかのスイッチ
		$switch_donext = false;
		if( is_null( $options['depth'] ) ){
			// 深さの指定がなければ掘る
			$switch_donext = true;
		}elseif( !is_int( $options['depth'] ) ){
			// 指定がnullでも数値でもなければ掘らない
			$switch_donext = false;
		}elseif( $options['depth'] <= 0 ){
			// 指定がゼロ以下なら、今回の処理をして終了
			$switch_donext = false;
		}elseif( $options['depth'] > 0 ){
			// 指定が正の数(ゼロは含まない)なら、掘る
			$options['depth'] --;
			$switch_donext = true;
		}else{
			return false;
		}
		// / 次の階層を処理するかどうかのスイッチ
		// --------------------------------------

		$flist = $this->ls( $path );
		if( !count( $flist ) ){
			// 開いたディレクトリの中身が
			// "." と ".." のみだった場合
			// 削除して終了
			$result = @rmdir( $path );
			return	$result;
		}
		$alive = false;
		foreach ( $flist as $Line ){
			if( $Line == '.' || $Line == '..' ){ continue; }
			if( $this->is_link( $path.DIRECTORY_SEPARATOR.$Line ) ){
				// シンボリックリンクは無視する。
			}elseif( $this->is_dir( $path.DIRECTORY_SEPARATOR.$Line ) ){
				if( $switch_donext ){
					// さらに掘れと指令があれば、掘る。
					$this->remove_empty_dir( $path.DIRECTORY_SEPARATOR.$Line , $options );
				}
			}
			if( @file_exists( $path.DIRECTORY_SEPARATOR.$Line ) ){
				$alive = true;
			}
		}
		if( !$alive ){
			$result = @rmdir( $path );
			return	$result;
		}
		return true;
	}//remove_empty_dir()


	/**
	 * 指定された2つのディレクトリの内容を比較し、まったく同じかどうか調べる。
	 *
	 * @param string $dir_a 比較対象ディレクトリA
	 * @param string $dir_b 比較対象ディレクトリB
	 * @param array $options オプション
	 * <dl>
	 *   <dt>bool $options['compare_filecontent']</dt>
	 * 	   <dd>ファイルの中身も比較するか？</dd>
	 *   <dt>bool $options['compare_emptydir']</dt>
	 * 	   <dd>空っぽのディレクトリの有無も評価に含めるか？</dd>
	 * </dl>
	 * @return bool 同じ場合に `true`、異なる場合に `false` を返します。
	 */
	public function compare_dir( $dir_a , $dir_b , $options = array() ){

		if( strlen( $this->filesystem_encoding ) ){
			//PxFW 0.6.4 追加
			$dir_a = @$this->convert_filesystem_encoding( $dir_a );
			$dir_b = @$this->convert_filesystem_encoding( $dir_b );
		}

		if( ( $this->is_file( $dir_a ) && !$this->is_file( $dir_b ) ) || ( !$this->is_file( $dir_a ) && $this->is_file( $dir_b ) ) ){
			return false;
		}
		if( ( ( $this->is_dir( $dir_a ) && !$this->is_dir( $dir_b ) ) || ( !$this->is_dir( $dir_a ) && $this->is_dir( $dir_b ) ) ) && $options['compare_emptydir'] ){
			return false;
		}

		if( $this->is_file( $dir_a ) && $this->is_file( $dir_b ) ){
			// --------------------------------------
			// 両方ファイルだったら
			if( $options['compare_filecontent'] ){
				// ファイルの内容も比較する設定の場合、
				// それぞれファイルを開いて同じかどうかを比較
				$filecontent_a = $this->read_file( $dir_a );
				$filecontent_b = $this->read_file( $dir_b );
				if( $filecontent_a !== $filecontent_b ){
					return false;
				}
			}
			return true;
		}

		if( $this->is_dir( $dir_a ) || $this->is_dir( $dir_b ) ){
			// --------------------------------------
			// 両方ディレクトリだったら
			$contlist_a = $this->ls( $dir_a );
			$contlist_b = $this->ls( $dir_b );

			if( $options['compare_emptydir'] && $contlist_a !== $contlist_b ){
				// 空っぽのディレクトリも厳密に評価する設定で、
				// ディレクトリ内の要素配列の内容が異なれば、false。
				return false;
			}

			$done = array();
			foreach( $contlist_a as $Line ){
				// Aをチェック
				if( $Line == '..' || $Line == '.' ){ continue; }
				if( !$this->compare_dir( $dir_a.DIRECTORY_SEPARATOR.$Line , $dir_b.DIRECTORY_SEPARATOR.$Line , $options ) ){
					return false;
				}
				$done[$Line] = true;
			}

			foreach( $contlist_b as $Line ){
				// Aに含まれなかったBをチェック
				if( $done[$Line] ){ continue; }
				if( $Line == '..' || $Line == '.' ){ continue; }
				if( !$this->compare_dir( $dir_a.DIRECTORY_SEPARATOR.$Line , $dir_b.DIRECTORY_SEPARATOR.$Line , $options ) ){
					return false;
				}
				$done[$Line] = true;
			}

		}

		return true;
	}//compare_dir()


	/**
	 * サーバがUNIXパスか調べる。
	 *
	 * @return bool UNIXパスなら `true`、それ以外なら `false` を返します。
	 */
	public function is_unix(){
		if( DIRECTORY_SEPARATOR == '/' ){
			return true;
		}
		return false;
	}//is_unix()

	/**
	 * サーバがWindowsパスか調べる。
	 *
	 * @return bool Windowsパスなら `true`、それ以外なら `false` を返します。
	 */
	public function is_windows(){
		if( DIRECTORY_SEPARATOR == '\\' ){
			return true;
		}
		return false;
	}//is_windows()


	/**
	 * パスを正規化する。
	 *
	 * 受け取ったパスを、スラッシュ区切りの表現に正規化します。
	 * Windowsのボリュームラベルが付いている場合は削除します。
	 * URIスキーム(http, https, ftp など) で始まる場合、2つのスラッシュで始まる場合(`//www.example.com/abc/` など)、これを残して正規化します。
	 *
	 *  - 例： `\a\b\c.html` → `/a/b/c.html` バックスラッシュはスラッシュに置き換えられます。
	 *  - 例： `/a/b////c.html` → `/a/b/c.html` 余計なスラッシュはまとめられます。
	 *  - 例： `C:\a\b\c.html` → `/a/b/c.html` ボリュームラベルは削除されます。
	 *  - 例： `http://a/b/c.html` → `http://a/b/c.html` URIスキームは残されます。
	 *  - 例： `//a/b/c.html` → `//a/b/c.html` ドメイン名は残されます。
	 *
	 * @param string $path 正規化するパス
	 * @return string 正規化されたパス
	 */
	public function normalize_path($path){
		$path = trim($path);
		$path = $this->convert_encoding( $path );//文字コードを揃える
		$path = preg_replace( '/\\/|\\\\/s', '/', $path );//バックスラッシュをスラッシュに置き換える。
		$path = preg_replace( '/^[A-Z]\\:\\//s', '/', $path );//Windowsのボリュームラベルを削除
		$prefix = '';
		if( preg_match( '/^((?:[a-zA-Z0-9]+\\:)?\\/)(\\/.*)$/', $path, $matched ) ){
			$prefix = $matched[1];
			$path = $matched[2];
		}
		$path = preg_replace( '/\\/+/s', '/', $path );//重複するスラッシュを1つにまとめる
		return $prefix.$path;
	}


	/**
	 * パスをOSの標準的な表現に変換する。
	 *
	 * 受け取ったパスを、OSの標準的な表現に変換します。
	 * - スラッシュとバックスラッシュの違いを吸収し、`DIRECTORY_SEPARATOR` に置き換えます。
	 *
	 * @param string $path ローカライズするパス
	 * @return string ローカライズされたパス
	 */
	public function localize_path($path){
		$path = $this->convert_filesystem_encoding( $path );//文字コードを揃える
		$path = preg_replace( '/\\/|\\\\/s', '/', $path );//一旦スラッシュに置き換える。
		if( $this->is_unix() ){
			// Windows以外だった場合に、ボリュームラベルを受け取ったら削除する
			$path = preg_replace( '/^[A-Z]\\:\\//s', '/', $path );//Windowsのボリュームラベルを削除
		}
		$path = preg_replace( '/\\/+/s', '/', $path );//重複するスラッシュを1つにまとめる
		$path = preg_replace( '/\\/|\\\\/s', DIRECTORY_SEPARATOR, $path );
		return $path;
	}



	/**
	 * 受け取ったテキストを、ファイルシステムエンコードに変換する。
	 *
	 * @param mixed $text テキスト
	 * @return string 文字セット変換後のテキスト
	 */
	private function convert_filesystem_encoding( $text ){
		$RTN = $text;
		if( !is_callable( 'mb_internal_encoding' ) ){
			return $text;
		}
		if( !strlen( $this->filesystem_encoding ) ){
			return $text;
		}

		$to_encoding = $this->filesystem_encoding;
		$from_encoding = mb_internal_encoding().',UTF-8,SJIS-win,eucJP-win,SJIS,EUC-JP,JIS,ASCII';

		return $this->convert_encoding( $text, $to_encoding, $from_encoding );

	}//convert_filesystem_encoding()

	/**
	 * 受け取ったテキストを、ファイルシステムエンコードに変換する。
	 *
	 * @param mixed $text テキスト
	 * @param string $to_encoding 文字セット(省略時、内部文字セット)
	 * @param string $from_encoding 変換前の文字セット
	 * @return string 文字セット変換後のテキスト
	 */
	public function convert_encoding( $text, $to_encoding = null, $from_encoding = null ){
		$RTN = $text;
		if( !is_callable( 'mb_internal_encoding' ) ){
			return $text;
		}

		$to_encoding_fin = $to_encoding;
		if( !strlen($to_encoding_fin) ){
			$to_encoding_fin = mb_internal_encoding();
		}
		if( !strlen($to_encoding_fin) ){
			$to_encoding_fin = 'UTF-8';
		}

		$from_encoding_fin = (strlen($from_encoding)?$from_encoding.',':'').mb_internal_encoding().',UTF-8,SJIS-win,eucJP-win,SJIS,EUC-JP,JIS,ASCII';

		// ---
		if( is_array( $text ) ){
			$RTN = array();
			if( !count( $text ) ){
				return $text;
			}
			foreach( $text as $key=>$row ){
				$RTN[$key] = $this->convert_encoding( $row, $to_encoding, $from_encoding );
			}
		}else{
			if( !strlen( $text ) ){
				return $text;
			}
			$RTN = mb_convert_encoding( $text, $to_encoding_fin, $from_encoding_fin );
		}
		return $RTN;
	}//convert_encoding()

	/**
	 * 受け取ったテキストを、指定の改行コードに変換する。
	 *
	 * @param mixed $text テキスト
	 * @param string $crlf 改行コード名。CR|LF(default)|CRLF
	 * @return string 改行コード変換後のテキスト
	 */
	public function convert_crlf( $text, $crlf = null ){
		if( !strlen($crlf) ){
			$crlf = 'LF';
		}
		$crlf_code = "\n";
		switch(strtoupper($crlf)){
			case 'CR':
				$crlf_code = "\r";
				break;
			case 'CRLF':
				$crlf_code = "\r\n";
				break;
			case 'LF':
			default:
				$crlf_code = "\n";
				break;
		}
		$RTN = $text;
		if( is_array( $text ) ){
			$RTN = array();
			if( !count( $text ) ){
				return $text;
			}
			foreach( $text as $key=>$val ){
				$RTN[$key] = $this->convert_crlf( $val , $crlf );
			}
		}else{
			if( !strlen( $text ) ){
				return $text;
			}
			$RTN = preg_replace( '/\r\n|\r|\n/', $crlf_code, $text );
		}
		return $RTN;
	}

}
?><?php
namespace renconFramework;

/**
 * tomk79/request core class
 *
 * @author Tomoya Koyanagi <tomk79@gmail.com>
 */
class request{
	/**
	 * 設定オブジェクト
	 */
	private $conf;
	/**
	 * ファイルシステムオブジェクト
	 */
	private $fs;
	/**
	 * URLパラメータ
	 */
	private $param = array();
	/**
	 * コマンドからのアクセス フラグ
	 */
	private $flg_cmd = false;
	/**
	 * 優先ディレクトリインデックス
	 */
	private $directory_index_primary;
	/**
	 * コマンドラインオプション
	 */
	private $cli_options;
	/**
	 * コマンドラインパラメータ
	 */
	private $cli_params;

	/**
	 * コンストラクタ
	 *
	 * @param object $conf 設定オブジェクト
	 */
	public function __construct($conf=null){
		$this->conf = $conf;
		if( !is_object($this->conf) ){
			$this->conf = json_decode('{}');
		}

		if(!property_exists($this->conf, 'get') || !@is_array($this->conf->get)){
			$this->conf->get = $_GET;
		}
		if(!property_exists($this->conf, 'post') || !@is_array($this->conf->post)){
			$this->conf->post = $_POST;
		}
		if(!property_exists($this->conf, 'files') || !@is_array($this->conf->files)){
			$this->conf->files = $_FILES;
		}
		if(!property_exists($this->conf, 'server') || !@is_array($this->conf->server)){
			$this->conf->server = $_SERVER;
		}
		if( !array_key_exists( 'PATH_INFO' , $this->conf->server ) ){
			$this->conf->server['PATH_INFO'] = null;
		}
		if( !array_key_exists( 'HTTP_USER_AGENT' , $this->conf->server ) ){
			$this->conf->server['HTTP_USER_AGENT'] = null;
		}
		if( !array_key_exists( 'argv' , $this->conf->server ) ){
			$this->conf->server['argv'] = null;
		}
		if(!property_exists($this->conf, 'session_name') || !@strlen($this->conf->session_name)){
			$this->conf->session_name = 'SESSID';
		}
		if(!property_exists($this->conf, 'session_expire') || !@strlen($this->conf->session_expire)){
			$this->conf->session_expire = 1800;
		}
		if(!property_exists($this->conf, 'directory_index_primary') || !@strlen($this->conf->directory_index_primary)){
			$this->conf->directory_index_primary = 'index.html';
		}
		if(!property_exists($this->conf, 'cookie_default_path') || !@strlen($this->conf->cookie_default_path)){
			// クッキーのデフォルトのパス
			// session の範囲もこの設定に従う。
			$this->conf->cookie_default_path = $this->get_path_current_dir();
		}

		$this->parse_input();
		$this->session_start();
	}

	/**
	 *	入力値を解析する。
	 *
	 * `$_GET`, `$_POST`, `$_FILES` に送られたパラメータ情報を取りまとめ、1つの連想配列としてまとめま、オブジェクト内に保持します。
	 *
	 * コマンドラインから実行された場合は、コマンドラインオプションをそれぞれ `=` 記号で区切り、URLパラメータ同様にパースします。
	 *
	 * このメソッドの処理には、入力文字コードの変換(UTF-8へ統一)などの整形処理が含まれます。
	 *
	 * @return bool 常に `true`
	 */
	private function parse_input(){
		$this->cli_params = array();
		$this->cli_options = array();

		if( !array_key_exists( 'REMOTE_ADDR' , $this->conf->server ) ){
			//  コマンドラインからの実行か否か判断
			$this->flg_cmd = true;//コマンドラインから実行しているかフラグ
			if( is_array( $this->conf->server['argv'] ) && count( $this->conf->server['argv'] ) ){
				$tmp_path = null;
				for( $i = 0; count( $this->conf->server['argv'] ) > $i; $i ++ ){
					if( preg_match( '/^\-/', $this->conf->server['argv'][$i] ) ){
						$this->cli_params = array();//オプションの前に引数は付けられない
						$this->cli_options[$this->conf->server['argv'][$i]] = $this->conf->server['argv'][$i+1];
						$i ++;
					}else{
						array_push( $this->cli_params, $this->conf->server['argv'][$i] );
					}
				}
				$tmp_path = @$this->cli_params[count($this->cli_params)-1];
				if( preg_match( '/^\//', $tmp_path ) && @is_array($this->conf->server['argv']) ){
					$tmp_path = array_pop( $this->conf->server['argv'] );
					$tmp_path = parse_url($tmp_path);
					@parse_str( $tmp_path['query'], $query );
					if( is_array($query) ){
						$this->conf->get = array_merge( $this->conf->get, $query );
					}
				}
				unset( $tmp_path );
			}
		}

		if( ini_get('magic_quotes_gpc') ){
			// PHPINIのmagic_quotes_gpc設定がOnだったら、
			// エスケープ文字を削除。
			foreach( array_keys( $this->conf->get ) as $Line ){
				$this->conf->get[$Line] = self::stripslashes( $this->conf->get[$Line] );
			}
			foreach( array_keys( $this->conf->post ) as $Line ){
				$this->conf->post[$Line] = self::stripslashes( $this->conf->post[$Line] );
			}
		}

		$this->conf->get = self::convert_encoding( $this->conf->get );
		$this->conf->post = self::convert_encoding( $this->conf->post );
		$param = array_merge( $this->conf->get , $this->conf->post );
		$param = $this->normalize_input( $param );

		if( is_array( $this->conf->files ) ){
			$FILES_KEYS = array_keys( $this->conf->files );
			foreach($FILES_KEYS as $Line){
				$this->conf->files[$Line]['name'] = self::convert_encoding( $this->conf->files[$Line]['name'] );
				$this->conf->files[$Line]['name'] = mb_convert_kana( $this->conf->files[$Line]['name'] , 'KV' , mb_internal_encoding() );
				$param[$Line] = $this->conf->files[$Line];
			}
		}

		$this->param = $param;
		unset($param);

		return	true;
	}//parse_input()

	/**
	 *	入力値に対する標準的な変換処理
	 *
	 * @param array $param パラメータ
	 * @return array 変換後のパラメータ
	 */
	private function normalize_input( $param ){
		$is_callable_mb_check_encoding = is_callable( 'mb_check_encoding' );
		foreach( $param as $key=>$val ){
			// URLパラメータを加工
			if( is_array( $val ) ){
				// 配列なら
				$param[$key] = $this->normalize_input( $param[$key] );
			}elseif( is_string( $param[$key] ) ){
				// 文字列なら
				$param[$key] = mb_convert_kana( $param[$key] , 'KV' , mb_internal_encoding() );
					// 半角カナは全角に統一
				$param[$key] = preg_replace( '/\r\n|\r|\n/' , "\n" , $param[$key] );
					// 改行コードはLFに統一
				if( $is_callable_mb_check_encoding ){
					// 不正なバイトコードのチェック
					if( !mb_check_encoding( $key , mb_internal_encoding() ) ){
						// キーの中に見つけたらパラメータごと削除
						unset( $param[$key] );
					}
					if( !mb_check_encoding( $param[$key] , mb_internal_encoding() ) ){
						// 値の中に見つけたら false に置き換える
						$param[$key] = false;
					}
				}
			}
		}
		return $param;
	}//normalize_input()

	/**
	 * パラメータを取得する。
	 *
	 * `$_GET`, `$_POST`、`$_FILES` を合わせた連想配列の中から `$key` に当たる値を引いて返します。
	 * キーが定義されていない場合は、`null` を返します。
	 *
	 * @param string $key URLパラメータ名
	 * @return mixed URLパラメータ値
	 */
	public function get_param( $key ){
		if( !array_key_exists($key, $this->param) ){ return null; }
		return @$this->param[$key];
	}//get_param()

	/**
	 * パラメータをセットする。
	 *
	 * @param string $key パラメータ名
	 * @param mixed $val パラメータ値
	 * @return bool 常に `true`
	 */
	public function set_param( $key , $val ){
		$this->param[$key] = $val;
		return true;
	}//set_param()

	/**
	 * パラメータをすべて取得する。
	 *
	 * @return array すべてのパラメータを格納する連想配列
	 */
	public function get_all_params(){
		return $this->param;
	}

	/**
	 * コマンドラインオプションを取得する
	 * @param string $name オプション名
	 * @return string 指定されたオプション値
	 */
	public function get_cli_option( $name ){
		if( !array_key_exists($name, $this->cli_options) ){
			return null;
		}
		return @$this->cli_options[$name];
	}

	/**
	 * すべてのコマンドラインオプションを連想配列で取得する
	 * @return array すべてのコマンドラインオプション
	 */
	public function get_cli_options(){
		return @$this->cli_options;
	}

	/**
	 * コマンドラインパラメータを取得する
	 * @param string $idx パラメータ番号
	 * @return string 指定されたオプション値
	 */
	public function get_cli_param( $idx = 0 ){
		if($idx < 0){
			// マイナスのインデックスが与えられた場合、
			// 配列の最後から数える
			$idx = count($this->cli_params)+$idx;
		}
		return @$this->cli_params[$idx];
	}

	/**
	 * すべてのコマンドラインパラメータを配列で取得する
	 * @return array すべてのコマンドラインパラメータ
	 */
	public function get_cli_params(){
		return @$this->cli_params;
	}



	// ----- cookies -----

	/**
	 * クッキー情報を取得する。
	 *
	 * @param string $key クッキー名
	 * @return mixed クッキーの値
	 */
	public function get_cookie( $key ){
		if( @!is_array( $_COOKIE ) ){ return null; }
		if( @!array_key_exists($key, $_COOKIE) ){ return null; }
		return	@$_COOKIE[$key];
	}//get_cookie()

	/**
	 * クッキー情報をセットする。
	 *
	 * @param string $key クッキー名
	 * @param string $val クッキー値
	 * @param string $expire クッキーの有効期限
	 * @param string $path サーバー上での、クッキーを有効としたいパス
	 * @param string $domain クッキーが有効なドメイン
	 * @param bool $secure クライアントからのセキュアな HTTPS 接続の場合にのみクッキーが送信されるようにします。デフォルトは `true`
	 * @return 成功時 `true`、失敗時 `false` を返します。
	 */
	public function set_cookie( $key , $val , $expire = null , $path = null , $domain = null , $secure = true ){
		if( is_null( $path ) ){
			$path = $this->conf->cookie_default_path;
			if( !strlen( $path ) ){
				$path = $this->get_path_current_dir();
			}
			if( !strlen( $path ) ){
				$path = '/';
			}
		}
		if( !@setcookie( $key , $val , $expire , $path , $domain , $secure ) ){
			return false;
		}

		$_COOKIE[$key] = $val;//現在の処理からも呼び出せるように
		return true;
	}//set_cookie()

	/**
	 * クッキー情報を削除する。
	 *
	 * @param string $key クッキー名
	 * @return bool 成功時 `true`、失敗時 `false` を返します。
	 */
	public function delete_cookie( $key ){
		if( !@setcookie( $key , null ) ){
			return false;
		}
		unset( $_COOKIE[$key] );
		return true;
	}//delete_cookie()



	// ----- session -----

	/**
	 * セッションを開始する。
	 *
	 * @param string $sid セッションID。省略時、自動発行。
	 * @return bool セッションが正常に開始した場合に `true`、それ以外の場合に `false` を返します。
	 */
	private function session_start( $sid = null ){
		$expire = intval($this->conf->session_expire);
		$cache_limiter = 'nocache';
		$session_name = 'SESSID';
		if( strlen( $this->conf->session_name ) ){
			$session_name = $this->conf->session_name;
		}
		$path = $this->conf->cookie_default_path;
		if( !strlen( $path ) ){
			$path = $this->get_path_current_dir();
		}
		if( !strlen( $path ) ){
			$path = '/';
		}

		@session_name( $session_name );
		@session_cache_limiter( $cache_limiter );
		@session_cache_expire( intval($expire/60) );

		if( intval( ini_get( 'session.gc_maxlifetime' ) ) < $expire + 10 ){
			// ガベージコレクションの生存期間が
			// $expireよりも短い場合は、上書きする。
			// バッファは固定値で10秒。
			@ini_set( 'session.gc_maxlifetime' , $expire + 10 );
		}

		@session_set_cookie_params( 0 , $path );
			//  セッションクッキー自体の寿命は定めない(=0)
			//  そのかわり、SESSION_LAST_MODIFIED を新設し、自分で寿命を管理する。

		if( strlen( $sid ) ){
			// セッションIDに指定があれば、有効にする。
			session_id( $sid );
		}

		// セッションを開始
		$rtn = @session_start();

		// セッションの有効期限を評価
		if( strlen( $this->get_session( 'SESSION_LAST_MODIFIED' ) ) && intval( $this->get_session( 'SESSION_LAST_MODIFIED' ) ) < intval( time() - $expire ) ){
			#	セッションの有効期限が切れていたら、セッションキーを再発行。
			if( is_callable('session_regenerate_id') ){
				@session_regenerate_id( true );
			}
		}
		$this->set_session( 'SESSION_LAST_MODIFIED' , time() );
		return $rtn;
	}//session_start()

	/**
	 * セッションIDを取得する。
	 *
	 * @return string セッションID
	 */
	public function get_session_id(){
		return session_id();
	}//get_session_id()

	/**
	 * セッション情報を取得する。
	 *
	 * @param string $key セッションキー
	 * @return mixed `$key` に対応するセッション値
	 */
	public function get_session( $key ){
		if( @!is_array( $_SESSION ) ){ return null; }
		if( @!array_key_exists($key, $_SESSION) ){ return null; }
		return @$_SESSION[$key];
	}//get_session()

	/**
	 * セッション情報をセットする。
	 *
	 * @param string $key セッションキー
	 * @param mixed $val `$key` に対応するセッション値
	 * @return bool 常に `true` を返します。
	 */
	public function set_session( $key , $val ){
		$_SESSION[$key] = $val;
		return true;
	}//set_session()

	/**
	 * セッション情報を削除する。
	 *
	 * @param string $key セッションキー
	 * @return bool 常に `true` を返します。
	 */
	public function delete_session( $key ){
		unset( $_SESSION[$key] );
		return true;
	}//delete_session()


	// ----- upload file access -----

	/**
	 * アップロードされたファイルをセッションに保存する。
	 *
	 * @param string $key セッションキー
	 * @param array $ulfileinfo アップロードファイル情報
	 * @return bool 成功時 `true`、失敗時 `false` を返します。
	 */
	public function save_uploadfile( $key , $ulfileinfo ){
		// base64でエンコードして、バイナリデータを持ちます。
		// $ulfileinfo['content'] にバイナリを格納して渡すか、
		// $ulfileinfo['tmp_name'] または $ulfileinfo['path'] のいずれかに、
		// アップロードファイルのパスを指定してください。
		$fileinfo = array();
		$fileinfo['name'] = $ulfileinfo['name'];
		$fileinfo['type'] = $ulfileinfo['type'];

		if( $ulfileinfo['content'] ){
			$fileinfo['content'] = base64_encode( $ulfileinfo['content'] );
		}else{
			$filepath = '';
			if( @is_file( $ulfileinfo['tmp_name'] ) ){
				$filepath = $ulfileinfo['tmp_name'];
			}elseif( @is_file( $ulfileinfo['path'] ) ){
				$filepath = $ulfileinfo['path'];
			}else{
				return false;
			}
			$fileinfo['content'] = base64_encode( file_get_contents( $filepath ) );
		}

		if( @!is_array( $_SESSION ) ){
			$_SESSION = array();
		}
		if( @!array_key_exists('FILE', $_SESSION) ){
			$_SESSION['FILE'] = array();
		}

		$_SESSION['FILE'][$key] = $fileinfo;
		return	true;
	}
	/**
	 * セッションに保存されたファイル情報を取得する。
	 *
	 * @param string $key セッションキー
	 * @return array|bool 成功時、ファイル情報 を格納した連想配列、失敗時 `false` を返します。
	 */
	public function get_uploadfile( $key ){
		if(!strlen($key)){ return false; }
		if( @!is_array( $_SESSION ) ){
			return false;
		}
		if( @!array_key_exists('FILE', $_SESSION) ){
			return false;
		}
		if( @!array_key_exists($key, $_SESSION['FILE']) ){
			return false;
		}

		$rtn = @$_SESSION['FILE'][$key];
		if( is_null( $rtn ) ){ return false; }

		$rtn['content'] = base64_decode( @$rtn['content'] );
		return	$rtn;
	}
	/**
	 * セッションに保存されたファイル情報の一覧を取得する。
	 *
	 * @return array ファイル情報 を格納した連想配列
	 */
	public function get_uploadfile_list(){
		if( @!array_key_exists('FILE', $_SESSION) ){
			return false;
		}
		return	array_keys( $_SESSION['FILE'] );
	}
	/**
	 * セッションに保存されたファイルを削除する。
	 *
	 * @param string $key セッションキー
	 * @return bool 常に `true` を返します。
	 */
	public function delete_uploadfile( $key ){
		if( @!array_key_exists('FILE', $_SESSION) ){
			return true;
		}
		unset( $_SESSION['FILE'][$key] );
		return	true;
	}
	/**
	 * セッションに保存されたファイルを全て削除する。
	 *
	 * @return bool 常に `true` を返します。
	 */
	public function delete_uploadfile_all(){
		return	$this->delete_session( 'FILE' );
	}


	// ----- utils -----

	/**
	 * USER_AGENT を取得する。
	 *
	 * @return string USER_AGENT
	 */
	public function get_user_agent(){
		return @$this->conf->server['HTTP_USER_AGENT'];
	}//get_user_agent()

	/**
	 *  SSL通信か調べる
	 *
	 * @return bool SSL通信の場合 `true`、それ以外の場合 `false` を返します。
	 */
	public function is_ssl(){
		if( @$this->conf->server['HTTP_SSL'] || @$this->conf->server['HTTPS'] ){
			// SSL通信が有効か否か判断
			return true;
		}
		return false;
	}

	/**
	 * コマンドラインによる実行か確認する。
	 *
	 * @return bool コマンドからの実行の場合 `true`、ウェブからの実行の場合 `false` を返します。
	 */
	public function is_cmd(){
		if( array_key_exists( 'REMOTE_ADDR' , $this->conf->server ) ){
			return false;
		}
		return	true;
	}


	// ----- private -----

	/**
	 * 受け取ったテキストを、指定の文字セットに変換する。
	 *
	 * @param mixed $text テキスト
	 * @param string $encode 変換後の文字セット。省略時、`mb_internal_encoding()` から取得
	 * @param string $encodefrom 変換前の文字セット。省略時、自動検出
	 * @return string 文字セット変換後のテキスト
	 */
	private static function convert_encoding( $text, $encode = null, $encodefrom = null ){
		if( !is_callable( 'mb_internal_encoding' ) ){ return $text; }
		if( !strlen( $encodefrom ) ){ $encodefrom = mb_internal_encoding().',UTF-8,SJIS-win,eucJP-win,SJIS,EUC-JP,JIS,ASCII'; }
		if( !strlen( $encode ) ){ $encode = mb_internal_encoding(); }

		if( is_array( $text ) ){
			$rtn = array();
			if( !count( $text ) ){ return $text; }
			$TEXT_KEYS = array_keys( $text );
			foreach( $TEXT_KEYS as $Line ){
				$KEY = mb_convert_encoding( $Line , $encode , $encodefrom );
				if( is_array( $text[$Line] ) ){
					$rtn[$KEY] = self::convert_encoding( $text[$Line] , $encode , $encodefrom );
				}else{
					$rtn[$KEY] = @mb_convert_encoding( $text[$Line] , $encode , $encodefrom );
				}
			}
		}else{
			if( !strlen( $text ) ){ return $text; }
			$rtn = @mb_convert_encoding( $text , $encode , $encodefrom );
		}
		return $rtn;
	}

	/**
	 * クォートされた文字列のクォート部分を取り除く。
	 *
	 * この関数は、PHPの `stripslashes()` のラッパーです。
	 * 配列を受け取ると再帰的に文字列を変換して返します。
	 *
	 * @param mixed $text テキスト
	 * @return string クォートが元に戻されたテキスト
	 */
	private static function stripslashes( $text ){
		if( is_array( $text ) ){
			// 配列なら
			foreach( $text as $key=>$val ){
				$text[$key] = self::stripslashes( $val );
			}
		}elseif( is_string( $text ) ){
			// 文字列なら
			$text = stripslashes( $text );
		}
		return	$text;
	}

	/**
	 * カレントディレクトリのパスを取得
	 * @return string ドキュメントルートからのパス(スラッシュ閉じ)
	 */
	private function get_path_current_dir(){
		//  環境変数から自動的に判断。
		$rtn = dirname( $this->conf->server['SCRIPT_NAME'] );
		if( !array_key_exists( 'REMOTE_ADDR' , $this->conf->server ) ){
			//  CUIから起動された場合
			//  ドキュメントルートが判定できないので、
			//  ドキュメントルート直下にあるものとする。
			$rtn = '/';
		}
		$rtn = str_replace('\\','/',$rtn);
		$rtn .= ($rtn!='/'?'/':'');
		return $rtn;
	}//get_path_current_dir()

}
?><?php
namespace renconFramework;

/**
 * user class
 *
 * @author Tomoya Koyanagi <tomk79@gmail.com>
 */
class user{
	private $rencon;

	/**
	 * Constructor
	 */
	public function __construct( $rencon ){
		$this->rencon = $rencon;
	}

	/**
	 * ログインしているか
	 */
	public function is_login(){
		$login_id = $this->get_user_id();
		return !!strlen($login_id);
	}

	/**
	 * ユーザーIDを取得
	 */
	public function get_user_id(){
		$login_id = $this->rencon->req()->get_session($this->rencon->app_id().'_ses_login_id');
		return $login_id;
	}

}
?><?php
namespace renconFramework;

/**
 * theme class
 *
 * @author Tomoya Koyanagi <tomk79@gmail.com>
 */
class theme{
	private $rencon;
	private $app_info;
	private $current_page_info;

	/**
	 * Constructor
	 */
	public function __construct( $rencon, $app_info, $current_page_info = array() ){
		$this->rencon = $rencon;
		$this->app_info = (object) $app_info;
		$this->current_page_info = (object) $current_page_info;
	}

	/**
	 * ページ情報
	 */
	public function set_current_page_info( $page_info ){
		$this->current_page_info = (object) array_merge((array) $this->current_page_info, (array) $page_info);
		return true;
	}

	/**
	 * アプリケーション情報を取得
	 */
	public function app_info(){
		return $this->app_info;
	}

	/**
	 * ページ情報を取得
	 */
	public function get_current_page_info(){
		return $this->current_page_info;
	}

	/**
	 * テーマにコンテンツを包んで返す
	 */
	public function bind( $content ){
		$action_ary = explode('.', $this->rencon->req()->get_param('a'));
		if( !is_array($action_ary) || !count($action_ary) ){
			$action_ary[0] = '';
		}
		$class_active['active'] = $action_ary[0];
		$rencon = $this->rencon;

		ob_start();
		?><?php
$app_info = $this->app_info();
$current_page_info = $this->get_current_page_info();
?>
<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8" />
<title><?= htmlspecialchars( $app_info->name ) ?> | <?= htmlspecialchars( $current_page_info->title ) ?></title>
<link rel="stylesheet" href="?res=theme.css" />
</head>
<body>

<p><a href="?a="><?= htmlspecialchars( $app_info->name ) ?></a></p>

<ul><?php
foreach( $app_info->pages as $pid=>$page_info ){
    echo '<li><a href="?a='.htmlspecialchars($pid).'">'.htmlspecialchars($page_info->title).'</a></li>'."\n";
}

?></ul>

<hr />
<div class="theme-middle">
<h1><?= nl2br( htmlspecialchars( $current_page_info->title ) ) ?></h1>
<div class="contents">
<?= $content ?>
</div>
</div>

<hr />

<?php if( $rencon->conf()->is_login_required() && $rencon->user()->is_login() ) { ?>
<p>
    <a href="?a=logout">Logout</a>
</p>
<?php } ?>

<script src="?res=theme.js"></script>
</body>
</html>
<?php
		$rtn = ob_get_clean();

		return $rtn;
	}
}
?><?php
namespace renconFramework;

/**
 * login class
 *
 * @author Tomoya Koyanagi <tomk79@gmail.com>
 */
class login{
	private $rencon;
	private $app_info;

	/**
	 * Constructor
	 */
	public function __construct( $rencon, $app_info ){
		$this->rencon = $rencon;
		$this->app_info = (object) $app_info;
	}

	/**
	 * ログインしているか調べる
	 */
	public function check(){

		if( !$this->rencon->conf()->is_login_required() ){
			// ユーザーが設定されていなければ、ログインの評価を行わない。
			return true;
		}

		$users = (array) $this->rencon->conf()->users;
		$ses_id = $this->rencon->app_id().'_ses_login_id';
		$ses_pw = $this->rencon->app_id().'_ses_login_pw';

		$login_id = $this->rencon->req()->get_param('login_id');
		$login_pw = $this->rencon->req()->get_param('login_pw');
		$login_try = $this->rencon->req()->get_param('login_try');
		if( strlen( $login_try ) && strlen($login_id) && strlen($login_pw) ){
			// ログイン評価
			if( array_key_exists($login_id, $users) && $users[$login_id] == sha1($login_pw) ){
				$this->rencon->req()->set_session($ses_id, $login_id);
				$this->rencon->req()->set_session($ses_pw, sha1($login_pw));
				header('Location: ?a='.urlencode($this->rencon->req()->get_param('a')));
				return true;
			}
		}


		$login_id = $this->rencon->req()->get_session($ses_id);
		$login_pw_hash = $this->rencon->req()->get_session($ses_pw);
		if( strlen($login_id) && strlen($login_pw_hash) ){
			// ログイン済みか評価
			if( array_key_exists($login_id, $users) && $users[$login_id] == $login_pw_hash ){
				return true;
			}
			$this->rencon->req()->delete_session($ses_id);
			$this->rencon->req()->delete_session($ses_pw);
			$this->rencon->forbidden();
			exit;
		}

		return false;
	}

	/**
	 * ログイン画面を表示して終了する
	 */
	public function please_login(){
		header('Content-type: text/html');



		ob_start();
		?>
<!doctype html>
<html>
	<head>
		<meta charset="UTF-8" />
		<title><?= htmlspecialchars( $this->app_info->name ) ?></title>
		<meta name="robots" content="nofollow, noindex, noarchive" />
		<?= $this->mk_css() ?>
	</head>
	<body>
		<div class="theme-container">
			<h1><?= htmlspecialchars( $this->app_info->name ) ?></h1>
			<?php if( strlen($this->rencon->req()->get_param('login_try')) ){ ?>
				<div class="alert alert-danger" role="alert">
					<div>IDまたはパスワードが違います。</div>
				</div>
			<?php } ?>

			<form action="?" method="post">
<table>
	<tr><th>ID:</th><td><input type="text" name="login_id" value="" /></td>
	<tr><th>Password:</th><td><input type="password" name="login_pw" value="" /></td>
</table>
<p><button type="submit">Login</button></p>
<input type="hidden" name="login_try" value="1" />
<input type="hidden" name="a" value="<?= htmlspecialchars($this->rencon->req()->get_param('a')) ?>" />
			</form>
		</div>
	</body>
</html>
<?php
		$rtn = ob_get_clean();
		print $rtn;
		exit;
	}

	/**
	 * ログアウトして終了する
	 */
	public function logout(){
		$this->rencon->req()->delete_session($this->rencon->app_id().'_ses_login_id');
		$this->rencon->req()->delete_session($this->rencon->app_id().'_ses_login_pw');



		header('Content-type: text/html');
		ob_start();
		?>
<!doctype html>
<html>
	<head>
		<meta charset="UTF-8" />
		<title><?= htmlspecialchars( $this->app_info->name ) ?></title>
		<meta name="robots" content="nofollow, noindex, noarchive" />
		<?= $this->mk_css() ?>
	</head>
	<body>
		<div class="theme-container">
			<h1><?= htmlspecialchars( $this->app_info->name ) ?></h1>
			<p>Logged out.</p>
			<p><a href="?">Back to Home</a></p>
		</div>
	</body>
</html>
<?php
		$rtn = ob_get_clean();
		print $rtn;
		exit;
	}


	/**
	 * CSSを生成
	 */
	private function mk_css(){
		ob_start();?>
		<style>
			html, body {
				background-color: #e7e7e7;
				color: #333;
				font-size: 16px;
				margin: 0;
				padding: 0;
			}
			.theme-container {
				box-sizing: border-box;
				text-align: center;
				padding: 4em 20px;
				margin: 30px auto;
				width: calc(100% - 20px);
				max-width: 600px;
				background-color: #f6f6f6;
				border: 1px solid #bbb;
				border-radius: 5px;
				box-shadow: 0 2px 12px rgba(0,0,0,0.1);
			}
			h1 {
				font-size: 22px;
			}
			table{
				margin: 0 auto;
				max-width: 100%;
			}
			th {
				text-align: right;
				padding: 3px;
			}
			td {
				text-align: left;
				padding: 3px;
			}
			input[type=text],
			input[type=password]{
				display: inline-block;
				box-sizing: border-box;
				width: 160px;
				min-width: 50px;
				max-width: 100%;
				padding: .375rem .75rem;
				font-size: 1em;
				font-weight: normal;
				line-height: 1.5;
				color: #333;
				background-color: #f6f6f6;
				background-clip: padding-box;
				border: 1px solid #ced4da;
				border-radius: .25rem;
				transition: border-color .15s ease-in-out,box-shadow .15s ease-in-out;
			}
			input[type=text]:focus,
			input[type=password]:focus{
				color: #333;
				background-color: #fff;
				border-color: #80bdff;
				outline: 0;
				box-shadow: 0 0 0 .2rem rgba(0,123,255,.25);
			}

			button {
				display: inline-block;
				border-radius: 3px;
				background-color: #f5fbfe;
				color: #00a0e6;
				border: 1px solid #00a0e6;
				box-shadow: 0 2px 0px rgba(0,0,0,0.1);
				padding: 0.5em 2em;
				font-size:1em;
				font-weight: normal;
				line-height: 1;
				text-decoration: none;
				text-align: center;
				cursor: pointer;
				box-sizing: border-box;
				align-items: stretch;
				transition:
					color 0.1s,
					background-color 0.1s,
					transform 0.1s
				;
			}
			button:focus,
			button:hover{
				background-color: #d9f1fb;
			}
			button:hover{
				background-color: #ccecfa;
			}
			button:active{
				background-color: #00a0e6;
				color: #fff;
			}

		</style>

		<?php
		$src = ob_get_clean();
		return $src;
	}

}
?><?php
namespace tomk79\onionSlice\middleware;

class setup {

	/**
	 * セットアップを進行する
	 */
	public function setup_wizard( $rencon ){
		$setup = new \tomk79\onionSlice\setup( $rencon );
		if( !$setup->wizard() ){
			return;
		}
		return;
	}

}
?><?php
namespace tomk79\onionSlice;

class setup {
	private $rencon;


	/**
	 * Constructor
	 */
	public function __construct( $rencon ){
		$this->rencon = $rencon;
	}


	/**
	 * セットアップを進行する
	 */
	public function wizard(){
		$conf = $this->rencon->conf();

		if( !$this->rencon->fs()->is_dir($this->rencon->conf()->path_data_dir) ||
			!$this->rencon->fs()->is_dir($this->rencon->conf()->path_data_dir.'/project/') ||
			!$this->rencon->fs()->is_file($this->rencon->conf()->path_data_dir.'/commands/composer/composer.phar') ){
			ob_start();
			$this->step01();
			$html = ob_get_clean();
			echo $this->rencon->theme()->bind( $html );
			exit();
		}


		if( !$this->rencon->fs()->is_file($this->rencon->conf()->path_data_dir.'/project/composer.json') ){
			ob_start();
			$this->step02();
			$html = ob_get_clean();
			echo $this->rencon->theme()->bind( $html );
			exit();
		}

		$path_entry_script = $this->get_entry_script();

		$px2agent = new \picklesFramework2\px2agent\px2agent();
		$px2proj = $px2agent->createProject( $this->rencon->conf()->path_data_dir.'/project/'.$path_entry_script );


		if( !$this->rencon->fs()->is_dir($this->rencon->conf()->path_data_dir.'/project/.git/') ){
			ob_start();
			$this->step03();
			$html = ob_get_clean();
			echo $this->rencon->theme()->bind( $html );
			exit();
		}


		return true;
	}


	/**
	 * entryScriptのパスを調べる
	 */
	private function get_entry_script(){
		if( !$this->rencon->fs()->is_file($this->rencon->conf()->path_data_dir.'/project/composer.json') ){
			return false;
		}

		$path_entry_script = '.px_execute.php';

		$src_composer_json = $this->rencon->fs()->read_file( $this->rencon->conf()->path_data_dir.'/project/composer.json' );
		$composer_json = json_decode( $src_composer_json );

		if( !isset( $composer_json->extra->px2package ) ){
			return $path_entry_script;
		}

		if( is_object($composer_json->extra->px2package) && isset($composer_json->extra->px2package->path) ){
			$path_entry_script = $composer_json->extra->px2package->path;
		}elseif( is_array($composer_json->extra->px2package) ){
			foreach( $composer_json->extra->px2package as $row ){
				if( is_object($row) && isset($row->path) ){
					if( isset($row->type) && $row->type != 'project' ){
						continue;
					}
					$path_entry_script = $row->path;
					break;
				}
			}
		}

		return $path_entry_script;
	}

	/**
	 * reload
	 */
	private function reload(){
		header('Location: ?a='.urlencode($this->rencon->req()->get_param('a')));
		return;
	}



	/**
	 * ステップ1: データディレクトリを作成する
	 */
	private function step01(){
		if( $this->rencon->req()->get_param('cmd') == 'next' ){
			if( !$this->rencon->fs()->mkdir($this->rencon->conf()->path_data_dir) ){
				?>
				<p>ディレクトリの作成に失敗しました。</p>
				<?php
				return;
			}
			if( !$this->rencon->fs()->mkdir($this->rencon->conf()->path_data_dir.'/project/') ){
				?>
				<p>ディレクトリの作成に失敗しました。</p>
				<?php
				return;
			}
			if( !$this->rencon->fs()->mkdir_r($this->rencon->conf()->path_data_dir.'/commands/composer/') ){
				?>
				<p>ディレクトリの作成に失敗しました。</p>
				<?php
				return;
			}
			$bin = $this->rencon->resources()->get('resources/composer.phar');
			$this->rencon->fs()->save_file( $this->rencon->conf()->path_data_dir.'/commands/composer/composer.phar', $bin );
			$this->reload();
			return;
		}
		?>
			<p>データディレクトリを作成します。</p>
			<form action="?" method="post">
				<input type="hidden" name="a" value="<?= $this->rencon->req()->get_param('a') ?>" />
				<input type="hidden" name="cmd" value="next" />
				<button type="submit">次へ</button>
			</form>
		<?php
		return;
	}

	/**
	 * ステップ2: プロジェクトをセットアップ
	 */
	private function step02(){
		if( $this->rencon->req()->get_param('cmd') == 'next' ){
			$path_composer = realpath($this->rencon->conf()->path_data_dir.'/commands/composer/composer.phar');
			$base_dir = $this->rencon->conf()->path_data_dir.'/project/';
			$current_dir = realpath('.');
			chdir($base_dir);

			exec($this->rencon->conf()->commands->php.' '.$path_composer.' create-project pickles2/preset-get-start-pickles2 ./');

			chdir($current_dir);
			$this->reload();
			return;
		}
		?>
			<p>プロジェクトをセットアップします。</p>
			<form action="?" method="post">
				<input type="hidden" name="a" value="<?= $this->rencon->req()->get_param('a') ?>" />
				<input type="hidden" name="cmd" value="next" />
				<button type="submit">次へ</button>
			</form>
		<?php
		return;
	}

	/**
	 * ステップ3: Gitを初期化します
	 */
	private function step03(){
		if( $this->rencon->req()->get_param('cmd') == 'next' ){
			$path_composer = realpath($this->rencon->conf()->path_data_dir.'/commands/composer/composer.phar');
			$base_dir = $this->rencon->conf()->path_data_dir.'/project/';
			$current_dir = realpath('.');
			chdir($base_dir);

			exec($this->rencon->conf()->commands->git.' init');
			exec($this->rencon->conf()->commands->git.' add ./');
			exec($this->rencon->conf()->commands->git.' commit -m "Initial commit."');

			chdir($current_dir);
			$this->reload();
			return;
		}
		?>
			<p>Gitを初期化します。</p>
			<form action="?" method="post">
				<input type="hidden" name="a" value="<?= $this->rencon->req()->get_param('a') ?>" />
				<input type="hidden" name="cmd" value="next" />
				<button type="submit">次へ</button>
			</form>
		<?php
		return;
	}

}
?><?php

namespace tomk79\onionSlice;

class test {
    static public function start(){
        echo "test::start()"."\n";
        return;
    }
}
?><?php
/**
 * tomk79/filesystem
 *
 * @author Tomoya Koyanagi <tomk79@gmail.com>
 */

namespace tomk79;

/**
 * tomk79/filesystem core class
 *
 * @author Tomoya Koyanagi <tomk79@gmail.com>
 */
class filesystem{

	/**
	 * ファイルおよびディレクトリ操作時のデフォルトパーミッション
	 */
	private $default_permission = array('dir'=>0775,'file'=>0775);
	/**
	 * ファイルシステムの文字セット
	 */
	private $filesystem_encoding = null;

	/**
	 * コンストラクタ
	 *
	 * @param object $conf 設定オブジェクト
	 */
	public function __construct($conf=null){
		$conf = json_decode( json_encode($conf), true );
		if(!is_array($conf)){
			$conf = array();
		}
		if( array_key_exists('file_default_permission', $conf) && strlen( $conf['file_default_permission'] ) ){
			$this->default_permission['file'] = octdec( $conf['file_default_permission'] );
		}
		if( array_key_exists('dir_default_permission', $conf) && strlen( $conf['dir_default_permission'] ) ){
			$this->default_permission['dir'] = octdec( $conf['dir_default_permission'] );
		}
		if( array_key_exists('filesystem_encoding', $conf) && strlen( $conf['filesystem_encoding'] ) ){
			$this->filesystem_encoding = trim( $conf['filesystem_encoding'] );
		}
	}

	/**
	 * 書き込み/上書きしてよいアイテムか検証する。
	 *
	 * @param string $path 検証対象のパス
	 * @return bool 書き込み可能な場合 `true`、不可能な場合に `false` を返します。
	 */
	public function is_writable( $path ){
		$path = $this->localize_path($path);
		if( !$this->is_file($path) ){
			return is_writable( dirname($path) );
		}
		return is_writable( $path );
	} // is_writable()

	/**
	 * 読み込んでよいアイテムか検証する。
	 *
	 * @param string $path 検証対象のパス
	 * @return bool 読み込み可能な場合 `true`、不可能な場合に `false` を返します。
	 */
	public function is_readable( $path ){
		$path = $this->localize_path($path);
		return is_readable( $path );
	}//is_readable()

	/**
	 * ファイルが存在するかどうか調べる。
	 *
	 * @param string $path 検証対象のパス
	 * @return bool ファイルが存在する場合 `true`、存在しない場合、またはディレクトリが存在する場合に `false` を返します。
	 */
	public function is_file( $path ){
		$path = $this->localize_path($path);
		return is_file( $path );
	}//is_file()

	/**
	 * シンボリックリンクかどうか調べる。
	 *
	 * @param string $path 検証対象のパス
	 * @return bool ファイルがシンボリックリンクの場合 `true`、存在しない場合、それ以外の場合に `false` を返します。
	 */
	public function is_link( $path ){
		$path = $this->localize_path($path);
		return is_link( $path );
	}//is_link()

	/**
	 * ディレクトリが存在するかどうか調べる。
	 *
	 * @param string $path 検証対象のパス
	 * @return bool ディレクトリが存在する場合 `true`、存在しない場合、またはファイルが存在する場合に `false` を返します。
	 */
	public function is_dir( $path ){
		$path = $this->localize_path($path);
		return is_dir( $path );
	}//is_dir()

	/**
	 * ファイルまたはディレクトリが存在するかどうか調べる。
	 *
	 * @param string $path 検証対象のパス
	 * @return bool ファイルまたはディレクトリが存在する場合 `true`、存在しない場合に `false` を返します。
	 */
	public function file_exists( $path ){
		$path = $this->localize_path($path);
		return file_exists( $path );
	} // file_exists()

	/**
	 * ディレクトリを作成する。
	 *
	 * @param string $dirpath 作成するディレクトリのパス
	 * @param int $perm 作成するディレクトリに与えるパーミッション
	 * @return bool 成功時に `true`、失敗時に `false` を返します。
	 */
	public function mkdir( $dirpath , $perm = null ){
		$dirpath = $this->localize_path($dirpath);

		if( $this->is_dir( $dirpath ) ){
			// 既にディレクトリがあったら、作成を試みない。
			$this->chmod( $dirpath , $perm );
			return true;
		}
		$result = @mkdir( $dirpath );
		$this->chmod( $dirpath , $perm );
		clearstatcache();
		return	$result;
	}//mkdir()

	/**
	 * ディレクトリを作成する(上層ディレクトリも全て作成)
	 *
	 * @param string $dirpath 作成するディレクトリのパス
	 * @param int $perm 作成するディレクトリに与えるパーミッション
	 * @return bool 成功時に `true`、失敗時に `false` を返します。
	 */
	public function mkdir_r( $dirpath , $perm = null ){
		$dirpath = $this->localize_path($dirpath);
		if( $this->is_dir( $dirpath ) ){
			return true;
		}
		if( $this->is_file( $dirpath ) ){
			return false;
		}
		$patharray = explode( DIRECTORY_SEPARATOR , $this->localize_path( $this->get_realpath($dirpath) ) );
		$targetpath = '';
		foreach( $patharray as $idx=>$Line ){
			if( !strlen( $Line ) || $Line == '.' || $Line == '..' ){ continue; }
			if(!($idx===0 && DIRECTORY_SEPARATOR == '\\' && preg_match('/^[a-zA-Z]\:$/s', $Line))){
				$targetpath .= DIRECTORY_SEPARATOR;
			}
			$targetpath .= $Line;

			// clearstatcache();
			if( !$this->is_dir( $targetpath ) ){
				$targetpath = $this->localize_path( $targetpath );
				if( !$this->mkdir( $targetpath , $perm ) ){
					return false;
				}
			}
		}
		return true;
	}//mkdir_r()

	/**
	 * ファイルやディレクトリを中身ごと完全に削除する。
	 *
	 * このメソッドは、ファイルやシンボリックリンクも削除します。
	 * ディレクトリを削除する場合は、中身ごと完全に削除します。
	 * シンボリックリンクは、その先を追わず、シンボリックリンク本体のみを削除します。
	 *
	 * @param string $path 対象のパス
	 * @return bool 成功時に `true`、失敗時に `false` を返します。
	 */
	public function rm( $path ){
		$path = $this->localize_path($path);
		clearstatcache();

		if( !$this->is_writable( $path ) ){
			return false;
		}
		if( $this->is_file( $path ) || $this->is_link( $path ) ){
			// ファイルまたはシンボリックリンクの場合の処理
			$result = unlink( $path );
			return	$result;

		}elseif( $this->is_dir( $path ) ){
			// ディレクトリの処理
			$flist = $this->ls( $path );
			if( is_array($flist) ){
				foreach ( $flist as $Line ){
					if( $Line == '.' || $Line == '..' ){ continue; }
					$this->rm( $path.DIRECTORY_SEPARATOR.$Line );
				}
			}
			$result = rmdir( $path );
			return	$result;

		}

		return false;
	}//rm()

	/**
	 * ディレクトリを削除する。
	 *
	 * このメソッドはディレクトリを削除します。
	 * 中身のない、空のディレクトリ以外は削除できません。
	 *
	 * @param string $path 対象ディレクトリのパス
	 * @return bool 成功時に `true`、失敗時に `false` を返します。
	 */
	public function rmdir( $path ){
		$path = $this->localize_path($path);

		if( !$this->is_writable( $path ) ){
			return false;
		}
		$path = @realpath( $path );
		if( $path === false ){
			return false;
		}
		if( $this->is_file( $path ) || $this->is_link( $path ) ){
			// ファイルまたはシンボリックリンクの場合の処理
			// ディレクトリ以外は削除できません。
			return false;

		}elseif( $this->is_dir( $path ) ){
			// ディレクトリの処理
			// rmdir() は再帰的削除を行いません。
			// 再帰的に削除したい場合は、代わりに `rm()` または `rmdir_r()` を使用します。
			return @rmdir( $path );
		}

		return false;
	}//rmdir()

	/**
	 * ディレクトリを再帰的に削除する。
	 *
	 * このメソッドはディレクトリを再帰的に削除します。
	 * 中身のない、空のディレクトリ以外は削除できません。
	 *
	 * @param string $path 対象ディレクトリのパス
	 * @return bool 成功時に `true`、失敗時に `false` を返します。
	 */
	public function rmdir_r( $path ){
		$path = $this->localize_path($path);

		if( !$this->is_writable( $path ) ){
			return false;
		}
		$path = @realpath( $path );
		if( $path === false ){
			return false;
		}
		if( $this->is_file( $path ) || $this->is_link( $path ) ){
			// ファイルまたはシンボリックリンクの場合の処理
			// ディレクトリ以外は削除できません。
			return false;

		}elseif( $this->is_dir( $path ) ){
			// ディレクトリの処理
			$filelist = $this->ls($path);
			if( is_array($filelist) ){
				foreach( $filelist as $basename ){
					if( $this->is_file( $path.DIRECTORY_SEPARATOR.$basename ) ){
						$this->rm( $path.DIRECTORY_SEPARATOR.$basename );
					}else if( !$this->rmdir_r( $path.DIRECTORY_SEPARATOR.$basename ) ){
						return false;
					}
				}
			}
			return $this->rmdir( $path );
		}

		return false;
	}//rmdir_r()


	/**
	 * ファイルを上書き保存する。
	 *
	 * このメソッドは、`$filepath` にデータを保存します。
	 * もともと保存されていた内容は破棄され、新しいデータで上書きします。
	 *
	 * @param string $filepath 保存先ファイルのパス
	 * @param string $content 保存する内容
	 * @param int $perm 保存するファイルに与えるパーミッション
	 * @return bool 成功時に `true`、失敗時に `false` を返します。
	 */
	public function save_file( $filepath , $content , $perm = null ){
		$filepath = $this->get_realpath($filepath);
		$filepath = $this->localize_path($filepath);

		if( $this->is_dir( $filepath ) ){
			return false;
		}
		if( !$this->is_writable( $filepath ) ){
			return false;
		}

		if( !strlen( $content ) ){
			// 空白のファイルで上書きしたい場合
			if( $this->is_file( $filepath ) ){
				@unlink( $filepath );
			}
			@touch( $filepath );
			$this->chmod( $filepath , $perm );
			clearstatcache();
			return $this->is_file( $filepath );
		}

		clearstatcache();
		$fp = fopen( $filepath, 'w' );
		if( !is_resource( $fp ) ){
			return false;
		}

		for ($written = 0; $written < strlen($content); $written += $fwrite) {
			$fwrite = fwrite($fp, substr($content, $written));
			if ($fwrite === false) {
				break;
			}
		}

		fclose($fp);

		$this->chmod( $filepath , $perm );
		clearstatcache();
		return !empty( $written );
	}//save_file()

	/**
	 * ファイルの中身を文字列として取得する。
	 *
	 * @param string $path ファイルのパス
	 * @return string ファイル `$path` の内容
	 */
	public function read_file( $path ){
		$path = $this->localize_path($path);
		return file_get_contents( $path );
	}//file_get_contents()

	/**
	 * ファイルの更新日時を比較する。
	 *
	 * @param string $path_a 比較対象A
	 * @param string $path_b 比較対象B
	 * @return bool|null
	 * `$path_a` の方が新しかった場合に `true`、
	 * `$path_b` の方が新しかった場合に `false`、
	 * 同時だった場合に `null` を返します。
	 *
	 * いずれか一方、または両方のファイルが存在しない場合、次のように振る舞います。
	 * - 両方のファイルが存在しない場合 = `null`
	 * - $path_a が存在せず、$path_b は存在する場合 = `false`
	 * - $path_a が存在し、$path_b は存在しない場合 = `true`
	 */
	public function is_newer_a_than_b( $path_a , $path_b ){
		$path_a = $this->localize_path($path_a);
		$path_b = $this->localize_path($path_b);

		// 比較できない場合に
		if(!file_exists($path_a) && !file_exists($path_b)){return null;}
		if(!file_exists($path_a)){return false;}
		if(!file_exists($path_b)){return true;}

		$mtime_a = filemtime( $path_a );
		$mtime_b = filemtime( $path_b );
		if( $mtime_a > $mtime_b ){
			return true;
		}elseif( $mtime_a < $mtime_b ){
			return false;
		}
		return null;
	}//is_newer_a_than_b()

	/**
	 * ファイル名/ディレクトリ名を変更する。
	 *
	 * @param string $original 現在のファイルまたはディレクトリ名
	 * @param string $newname 変更後のファイルまたはディレクトリ名
	 * @return bool 成功時 `true`、失敗時 `false` を返します。
	 */
	public function rename( $original , $newname ){
		$original = $this->localize_path($original);
		$newname  = $this->localize_path($newname );

		if( !file_exists( $original ) ){ return false; }
		if( !$this->is_writable( $original ) ){ return false; }
		return rename( $original , $newname );
	}//rename()

	/**
	 * ファイル名/ディレクトリ名を強制的に変更する。
	 *
	 * 移動先の親ディレクトリが存在しない場合にも、親ディレクトリを作成して移動するよう試みます。
	 *
	 * @param string $original 現在のファイルまたはディレクトリ名
	 * @param string $newname 変更後のファイルまたはディレクトリ名
	 * @return bool 成功時 `true`、失敗時 `false` を返します。
	 */
	public function rename_f( $original , $newname ){
		$original = $this->localize_path($original);
		$newname  = $this->localize_path($newname );

		if( !file_exists( $original ) ){ return false; }
		if( !$this->is_writable( $original ) ){ return false; }
		$dirname = dirname( $newname );
		if( !$this->is_dir( $dirname ) ){
			if( !$this->mkdir_r( $dirname ) ){
				return false;
			}
		}
		return rename( $original , $newname );
	} // rename_f()

	/**
	 * 絶対パスを得る。
	 *
	 * パス情報を受け取り、スラッシュから始まるサーバー内部絶対パスに変換して返します。
	 *
	 * このメソッドは、PHPの `realpath()` と異なり、存在しないパスも絶対パスに変換します。
	 *
	 * @param string $path 対象のパス
	 * @param string $cd カレントディレクトリパス。
	 * 実在する有効なディレクトリのパス、または絶対パスの表現で指定される必要があります。
	 * 省略時、カレントディレクトリを自動採用します。
	 * @return string 絶対パス
	 */
	public function get_realpath( $path, $cd = '.' ){
		$is_dir = false;
		if( preg_match( '/(\/|\\\\)+$/s', $path ) ){
			$is_dir = true;
		}
		$path = $this->localize_path($path);
		if( is_null($cd) ){ $cd = '.'; }
		$cd = $this->localize_path($cd);
		$preg_dirsep = preg_quote(DIRECTORY_SEPARATOR, '/');

		if( $this->is_dir($cd) ){
			$cd = realpath($cd);
		}elseif( !preg_match('/^((?:[A-Za-z]\\:'.$preg_dirsep.')|'.$preg_dirsep.'{1,2})(.*?)$/', $cd) ){
			$cd = false;
		}
		if( $cd === false ){
			return false;
		}

		$prefix = '';
		$localpath = $path;
		if( preg_match('/^((?:[A-Za-z]\\:'.$preg_dirsep.')|'.$preg_dirsep.'{1,2})(.*?)$/', $path, $matched) ){
			// もともと絶対パスの指定か調べる
			$prefix = preg_replace('/'.$preg_dirsep.'$/', '', $matched[1]);
			$localpath = $matched[2];
			$cd = null; // 元の指定が絶対パスだったら、カレントディレクトリは関係ないので捨てる。
		}

		$path = $cd.DIRECTORY_SEPARATOR.'.'.DIRECTORY_SEPARATOR.$localpath;

		if( file_exists( $prefix.$path ) ){
			$rtn = realpath( $prefix.$path );
			if( $is_dir && $rtn != realpath('/') ){
				$rtn .= DIRECTORY_SEPARATOR;
			}
			return $rtn;
		}

		$paths = explode( DIRECTORY_SEPARATOR, $path );
		$path = '';
		foreach( $paths as $idx=>$row ){
			if( $row == '' || $row == '.' ){
				continue;
			}
			if( $row == '..' ){
				$path = dirname($path);
				if($path == DIRECTORY_SEPARATOR){
					$path = '';
				}
				continue;
			}
			if(!($idx===0 && DIRECTORY_SEPARATOR == '\\' && preg_match('/^[a-zA-Z]\:$/s', $row))){
				$path .= DIRECTORY_SEPARATOR;
			}
			$path .= $row;
		}

		$rtn = $prefix.$path;
		if( $is_dir ){
			$rtn .= DIRECTORY_SEPARATOR;
		}
		return $rtn;
	}

	/**
	 * 相対パスを得る。
	 *
	 * パス情報を受け取り、ドットスラッシュから始まる相対絶対パスに変換して返します。
	 *
	 * @param string $path 対象のパス
	 * @param string $cd カレントディレクトリパス。
	 * 実在する有効なディレクトリのパス、または絶対パスの表現で指定される必要があります。
	 * 省略時、カレントディレクトリを自動採用します。
	 * @return string 相対パス
	 */
	public function get_relatedpath( $path, $cd = '.' ){
		$is_dir = false;
		if( preg_match( '/(\/|\\\\)+$/s', $path ) ){
			$is_dir = true;
		}
		if( !strlen( $cd ) ){
			$cd = realpath('.');
		}elseif( $this->is_dir($cd) ){
			$cd = realpath($cd);
		}elseif( $this->is_file($cd) ){
			$cd = realpath(dirname($cd));
		}
		$path = $this->get_realpath($path, $cd);

		$normalize = function( $tmp_path, $fs ){
			$tmp_path = $fs->localize_path( $tmp_path );
			$preg_dirsep = preg_quote(DIRECTORY_SEPARATOR, '/');
			if( DIRECTORY_SEPARATOR == '\\' ){
				$tmp_path = preg_replace( '/^[a-zA-Z]\:/s', '', $tmp_path );
			}
			$tmp_path = preg_replace( '/^('.$preg_dirsep.')+/s', '', $tmp_path );
			$tmp_path = preg_replace( '/('.$preg_dirsep.')+$/s', '', $tmp_path );
			if( strlen($tmp_path) ){
				$tmp_path = explode( DIRECTORY_SEPARATOR, $tmp_path );
			}else{
				$tmp_path = array();
			}

			return $tmp_path;
		};

		$cd = $normalize($cd, $this);
		$path = $normalize($path, $this);

		$rtn = array();
		while( 1 ){
			if( !count($cd) || !count($path) ){
				break;
			}
			if( $cd[0] === $path[0] ){
				array_shift( $cd );
				array_shift( $path );
				continue;
			}
			break;
		}
		if( count($cd) ){
			foreach($cd as $dirname){
				array_push( $rtn, '..' );
			}
		}else{
			array_push( $rtn, '.' );
		}
		$rtn = array_merge( $rtn, $path );
		$rtn = implode( DIRECTORY_SEPARATOR, $rtn );

		if( $is_dir ){
			$rtn .= DIRECTORY_SEPARATOR;
		}
		return $rtn;
	}

	/**
	 * パス情報を得る。
	 *
	 * @param string $path 対象のパス
	 * @return array パス情報
	 */
	public function pathinfo( $path ){
		if(strpos($path,'#')!==false){ list($path, $hash) = explode( '#', $path, 2 ); }
		if(strpos($path,'?')!==false){ list($path, $query) = explode( '?', $path, 2 ); }

		$pathinfo = pathinfo( $path );
		$pathinfo['filename'] = $this->trim_extension( $pathinfo['basename'] );
		$pathinfo['extension'] = $this->get_extension( $pathinfo['basename'] );
		$pathinfo['query'] = (isset($query)&&strlen($query) ? '?'.$query : null);
		$pathinfo['hash'] = (isset($hash)&&strlen($hash) ? '#'.$hash : null);
		return $pathinfo;
	}

	/**
	 * パス情報から、ファイル名を取得する。
	 *
	 * @param string $path 対象のパス
	 * @return string 抜き出されたファイル名
	 */
	public function get_basename( $path ){
		$path = pathinfo( $path , PATHINFO_BASENAME );
		if( !strlen($path) ){$path = null;}
		return $path;
	}

	/**
	 * パス情報から、拡張子を除いたファイル名を取得する。
	 *
	 * @param string $path 対象のパス
	 * @return string 拡張子が除かれたパス
	 */
	public function trim_extension( $path ){
		$pathinfo = pathinfo( $path );
		if( !array_key_exists('extension', $pathinfo) ){
			$pathinfo['extension'] = '';
		}
		$RTN = preg_replace( '/\.'.preg_quote( $pathinfo['extension'], '/' ).'$/' , '' , $path );
		return $RTN;
	}

	/**
	 * ファイル名を含むパス情報から、ファイルが格納されているディレクトリ名を取得する。
	 *
	 * @param string $path 対象のパス
	 * @return string 親ディレクトリのパス
	 */
	public function get_dirpath( $path ){
		$path = pathinfo( $path , PATHINFO_DIRNAME );
		if( !strlen($path) ){$path = null;}
		return $path;
	}

	/**
	 * パス情報から、拡張子を取得する。
	 *
	 * @param string $path 対象のパス
	 * @return string 拡張子
	 */
	public function get_extension( $path ){
		$path = preg_replace('/\#.*$/si', '', $path);
		$path = preg_replace('/\?.*$/si', '', $path);
		$path = pathinfo( $path , PATHINFO_EXTENSION );
		if(!strlen($path)){$path = null;}
		return $path;
	}


	/**
	 * CSVファイルを読み込む。
	 *
	 * @param string $path 対象のCSVファイルのパス
	 * @param array $options オプション
	 * - delimiter = 区切り文字(省略時、カンマ)
	 * - enclosure = クロージャー文字(省略時、ダブルクオート)
	 * - size = 一度に読み込むサイズ(省略時、10000)
	 * - charset = 文字セット(省略時、UTF-8)
	 * @return array|bool 読み込みに成功した場合、行列を格納した配列、失敗した場合には `false` を返します。
	 */
	public function read_csv( $path , $options = array() ){
		// $options['charset'] は、保存されているCSVファイルの文字エンコードです。
		// 省略時は UTF-8 から、内部エンコーディングに変換します。

		$path = $this->localize_path($path);

		if( !$this->is_file( $path ) ){
			// ファイルがなければfalseを返す
			return false;
		}

		// Normalize $options
		if( !is_array($options) ){
			$options = array();
		}
		if( !array_key_exists( 'charset', $options ) ){ $options['charset'] = null; }
		if( !array_key_exists( 'delimiter', $options ) ){ $options['delimiter'] = null; }
		if( !array_key_exists( 'enclosure', $options ) ){ $options['enclosure'] = null; }
		if( !array_key_exists( 'size', $options ) ){ $options['size'] = null; }
		if( !array_key_exists( 'charset', $options ) ){ $options['charset'] = null; }

		if( !strlen( @$options['delimiter'] ) )    { $options['delimiter'] = ','; }
		if( !strlen( @$options['enclosure'] ) )    { $options['enclosure'] = '"'; }
		if( !strlen( @$options['size'] ) )         { $options['size'] = 10000; }
		if( !strlen( @$options['charset'] ) )      { $options['charset'] = 'UTF-8'; }//←CSVの文字セット

		$RTN = array();
		$fp = fopen( $path, 'r' );
		if( !is_resource( $fp ) ){
			return false;
		}

		while( $SMMEMO = fgetcsv( $fp , intval( $options['size'] ) , $options['delimiter'] , $options['enclosure'] ) ){
			foreach( $SMMEMO as $key=>$row ){
				$SMMEMO[$key] = mb_convert_encoding( $row , mb_internal_encoding() , $options['charset'].',UTF-8,SJIS-win,eucJP-win,SJIS,EUC-JP' );
			}
			array_push( $RTN , $SMMEMO );
		}
		fclose($fp);
		return $RTN;
	} // read_csv()

	/**
	 * 配列をCSV形式に変換する。
	 *
	 * 改行コードはLFで出力されます。
	 *
	 * @param array $array 2次元配列
	 * @param array $options オプション
	 * - charset = 文字セット(省略時、UTF-8)
	 * @return string 生成されたCSV形式のテキスト
	 */
	public function mk_csv( $array , $options = array() ){
		// $options['charset'] は、出力されるCSV形式の文字エンコードを指定します。
		// 省略時は UTF-8 に変換して返します。
		if( !is_array( $array ) ){ $array = array(); }

		// Normalize $options
		if( !is_array($options) ){
			$options = array();
		}
		if( !array_key_exists( 'charset', $options ) ){
			$options['charset'] = null;
		}
		if( !strlen( $options['charset'] ) ){
			$options['charset'] = 'UTF-8';
		}

		$RTN = '';
		foreach( $array as $Line ){
			if( is_null( $Line ) ){ continue; }
			if( !is_array( $Line ) ){ $Line = array(); }
			foreach( $Line as $cell ){
				$cell = mb_convert_encoding( $cell , $options['charset'] , mb_internal_encoding().',UTF-8,SJIS-win,eucJP-win,SJIS,EUC-JP' );
				if( preg_match( '/"/' , $cell ) ){
					$cell = preg_replace( '/"/' , '""' , $cell);
				}
				if( strlen( $cell ) ){
					$cell = '"'.$cell.'"';
				}
				$RTN .= $cell.',';
			}
			$RTN = preg_replace( '/,$/' , '' , $RTN );
			$RTN .= "\n";
		}
		return $RTN;
	} // mk_csv()

	/**
	 * ファイルを複製する。
	 *
	 * @param string $from コピー元ファイルのパス
	 * @param string $to コピー先のパス
	 * @param int $perm 保存するファイルに与えるパーミッション
	 * @return bool 成功時に `true`、失敗時に `false` を返します。
	 */
	public function copy( $from , $to , $perm = null ){
		$from = $this->localize_path($from);
		$to   = $this->localize_path($to  );

		if( !$this->is_file( $from ) ){
			return false;
		}
		if( !$this->is_readable( $from ) ){
			return false;
		}

		if( $this->is_file( $to ) ){
			//	まったく同じファイルだった場合は、複製しないでtrueを返す。
			if( md5_file( $from ) == md5_file( $to ) && filesize( $from ) == filesize( $to ) ){
				return true;
			}
		}
		if( !@copy( $from , $to ) ){
			return false;
		}
		$this->chmod( $to , $perm );
		return true;
	}//copy()

	/**
	 * ディレクトリを再帰的に複製する(下層ディレクトリも全てコピー)
	 *
	 * ディレクトリを、含まれる内容ごと複製します。
	 * 受け取ったパスがファイルの場合は、単体のファイルが複製されます。
	 *
	 * @param string $from コピー元ファイルのパス
	 * @param string $to コピー先のパス
	 * @param int $perm 保存するファイルに与えるパーミッション
	 * @return bool 成功時に `true`、失敗時に `false` を返します。
	 */
	public function copy_r( $from , $to , $perm = null ){
		$from = $this->localize_path($from);
		$to   = $this->localize_path($to  );

		$result = true;

		if( $this->is_file( $from ) ){
			if( $this->mkdir_r( dirname( $to ) ) ){
				if( !$this->copy( $from , $to , $perm ) ){
					$result = false;
				}
			}else{
				$result = false;
			}
		}elseif( $this->is_dir( $from ) ){
			if( !$this->is_dir( $to ) ){
				if( !$this->mkdir_r( $to ) ){
					$result = false;
				}
			}
			$itemlist = $this->ls( $from );
			if( is_array($itemlist) ){
				foreach( $itemlist as $Line ){
					if( $Line == '.' || $Line == '..' ){ continue; }
					if( $this->is_dir( $from.DIRECTORY_SEPARATOR.$Line ) ){
						if( $this->is_file( $to.DIRECTORY_SEPARATOR.$Line ) ){
							continue;
						}elseif( !$this->is_dir( $to.DIRECTORY_SEPARATOR.$Line ) ){
							if( !$this->mkdir_r( $to.DIRECTORY_SEPARATOR.$Line ) ){
								$result = false;
							}
						}
						if( !$this->copy_r( $from.DIRECTORY_SEPARATOR.$Line , $to.DIRECTORY_SEPARATOR.$Line , $perm ) ){
							$result = false;
						}
						continue;
					}elseif( $this->is_file( $from.DIRECTORY_SEPARATOR.$Line ) ){
						if( !$this->copy_r( $from.DIRECTORY_SEPARATOR.$Line , $to.DIRECTORY_SEPARATOR.$Line , $perm ) ){
							$result = false;
						}
						continue;
					}
				}
			}
		}

		return $result;
	} // copy_r()

	/**
	 * パーミッションを変更する。
	 *
	 * @param string $filepath 対象のパス
	 * @param int $perm 与えるパーミッション
	 * @return bool 成功時に `true`、失敗時に `false` を返します。
	 */
	public function chmod( $filepath, $perm = null ){
		$filepath = $this->localize_path($filepath);
		if( !file_exists($filepath) ){
			return;
		}

		if( is_null( $perm ) ){
			if( $this->is_dir( $filepath ) ){
				$perm = $this->default_permission['dir'];
			}else{
				$perm = $this->default_permission['file'];
			}
		}
		if( is_null( $perm ) ){
			$perm = 0775; // コンフィグに設定モレがあった場合
		}
		return chmod( $filepath , $perm );
	} // chmod()

	/**
	 * パーミッションを再帰的に変更する。(下層のファイルやディレクトリも全て)
	 *
	 * `$perm_file` と `$perm_dir` が省略された場合は、代わりに初期化時に登録されたデフォルトのパーミッションが与えられます。
	 *
	 * 第2引数 `$perm_dir` が省略され、最初の引数 `$perm_file` だけが与えられた場合は、 ファイルとディレクトリの両方に `$perm_file` が適用されます。
	 *
	 * @param string $filepath 対象のパス
	 * @param int $perm_file ファイルに与えるパーミッション (省略可)
	 * @param int $perm_dir ディレクトリに与えるパーミッション (省略可)
	 * @return bool 成功時に `true`、失敗時に `false` を返します。
	 */
	public function chmod_r( $filepath, $perm_file = null, $perm_dir = null ){
		$filepath = $this->localize_path($filepath);
		if( !is_null( $perm_file ) && is_null($perm_dir) ){
			// パーミッション設定値が1つだけ与えられた場合には、
			// ファイルにもディレクトリにも適用する。
			$perm_dir = $perm_file;
		}

		$result = true;

		if( $this->is_file( $filepath ) ){
			if( !$this->chmod( $filepath, $perm_file ) ){
				$result = false;
			}
		}elseif( $this->is_dir( $filepath ) ){
			$itemlist = $this->ls( $filepath );
			if( is_array($itemlist) ){
				foreach( $itemlist as $Line ){
					if( $Line == '.' || $Line == '..' ){ continue; }
					if( $this->is_dir( $filepath.DIRECTORY_SEPARATOR.$Line ) ){
						if( !$this->chmod( $filepath.DIRECTORY_SEPARATOR.$Line, $perm_dir ) ){
							$result = false;
						}
						if( !$this->chmod_r( $filepath.DIRECTORY_SEPARATOR.$Line, $perm_file, $perm_dir ) ){
							$result = false;
						}
						continue;
					}elseif( $this->is_file( $filepath.DIRECTORY_SEPARATOR.$Line ) ){
						if( !$this->chmod( $filepath.DIRECTORY_SEPARATOR.$Line, $perm_file ) ){
							$result = false;
						}
						continue;
					}
				}
			}
		}

		return $result;
	} // chmod_r()


	/**
	 * パーミッション情報を調べ、3桁の数字で返す。
	 *
	 * @param string $path 対象のパス
	 * @return int|bool 成功時に 3桁の数字、失敗時に `false` を返します。
	 */
	public function get_permission( $path ){
		$path = $this->localize_path($path);

		if( !file_exists( $path ) ){
			return false;
		}
		$perm = rtrim( sprintf( "%o\n" , fileperms( $path ) ) );
		$start = strlen( $perm ) - 3;
		return substr( $perm , $start , 3 );
	}//get_permission()


	/**
	 * ディレクトリにあるファイル名のリストを配列で返す。
	 *
	 * @param string $path 対象ディレクトリのパス
	 * @return array|bool 成功時にファイルまたはディレクトリ名の一覧を格納した配列、失敗時に `false` を返します。
	 */
	public function ls($path){
		$path = $this->localize_path($path);

		if( $path === false ){ return false; }
		if( !file_exists( $path ) ){ return false; }
		if( !$this->is_dir( $path ) ){ return false; }

		$RTN = array();
		$dr = @opendir($path);
		while( ( $ent = readdir( $dr ) ) !== false ){
			// CurrentDirとParentDirは含めない
			if( $ent == '.' || $ent == '..' ){ continue; }
			array_push( $RTN , $ent );
		}
		closedir($dr);
		if( strlen( $this->filesystem_encoding ) ){
			//PxFW 0.6.4 追加
			$RTN = @$this->convert_filesystem_encoding( $RTN );
		}
		usort($RTN, "strnatcmp");
		return	$RTN;
	}//ls()

	/**
	 * ディレクトリの内部を比較し、$comparisonに含まれない要素を$targetから削除する。
	 *
	 * @param string $target クリーニング対象のディレクトリパス
	 * @param string $comparison 比較するディレクトリのパス
	 * @return bool 成功時 `true`、失敗時 `false` を返します。
	 */
	public function compare_and_cleanup( $target , $comparison ){
		if( is_null( $comparison ) || is_null( $target ) ){ return false; }

		$target = $this->localize_path($target);
		$comparison = $this->localize_path($comparison);

		if( !file_exists( $comparison ) && file_exists( $target ) ){
			$this->rm( $target );
			return true;
		}

		if( $this->is_dir( $target ) ){
			$flist = $this->ls( $target );
		}else{
			return true;
		}

		if( is_array($flist) ){
			foreach ( $flist as $Line ){
				if( $Line == '.' || $Line == '..' ){ continue; }
				$this->compare_and_cleanup( $target.DIRECTORY_SEPARATOR.$Line , $comparison.DIRECTORY_SEPARATOR.$Line );
			}
		}

		return true;
	}//compare_and_cleanup()

	/**
	 * ディレクトリを同期する。
	 *
	 * @param string $path_sync_from 同期元ディレクトリ
	 * @param string $path_sync_to 同期先ディレクトリ
	 * @return bool 常に `true` を返します。
	 */
	public function sync_dir( $path_sync_from , $path_sync_to ){
		$this->copy_r( $path_sync_from , $path_sync_to );
		$this->compare_and_cleanup( $path_sync_to , $path_sync_from );
		return true;
	}//sync_dir()

	/**
	 * 指定されたディレクトリ以下の、全ての空っぽのディレクトリを削除する。
	 *
	 * @param string $path ディレクトリパス
	 * @param array $options オプション
	 * @return bool 成功時 `true`、失敗時 `false` を返します。
	 */
	public function remove_empty_dir( $path , $options = array() ){
		$path = $this->localize_path($path);

		if( !$this->is_writable( $path ) ){ return false; }
		if( !$this->is_dir( $path ) ){ return false; }
		if( $this->is_file( $path ) || $this->is_link( $path ) ){ return false; }
		$path = @realpath( $path );
		if( $path === false ){ return false; }

		// Normalize $options
		if( !is_array($options) ){
			$options = array();
		}
		if( !array_key_exists( 'depth', $options ) ){
			$options['depth'] = null;
		}

		// --------------------------------------
		// 次の階層を処理するかどうかのスイッチ
		$switch_donext = false;
		if( is_null( $options['depth'] ) ){
			// 深さの指定がなければ掘る
			$switch_donext = true;
		}elseif( !is_int( $options['depth'] ) ){
			// 指定がnullでも数値でもなければ掘らない
			$switch_donext = false;
		}elseif( $options['depth'] <= 0 ){
			// 指定がゼロ以下なら、今回の処理をして終了
			$switch_donext = false;
		}elseif( $options['depth'] > 0 ){
			// 指定が正の数(ゼロは含まない)なら、掘る
			$options['depth'] --;
			$switch_donext = true;
		}else{
			return false;
		}
		// / 次の階層を処理するかどうかのスイッチ
		// --------------------------------------

		$flist = $this->ls( $path );
		if( !count( $flist ) ){
			// 開いたディレクトリの中身が
			// "." と ".." のみだった場合
			// 削除して終了
			$result = @rmdir( $path );
			return	$result;
		}
		$alive = false;
		foreach ( $flist as $Line ){
			if( $Line == '.' || $Line == '..' ){ continue; }
			if( $this->is_link( $path.DIRECTORY_SEPARATOR.$Line ) ){
				// シンボリックリンクは無視する。
			}elseif( $this->is_dir( $path.DIRECTORY_SEPARATOR.$Line ) ){
				if( $switch_donext ){
					// さらに掘れと指令があれば、掘る。
					$this->remove_empty_dir( $path.DIRECTORY_SEPARATOR.$Line , $options );
				}
			}
			if( file_exists( $path.DIRECTORY_SEPARATOR.$Line ) ){
				$alive = true;
			}
		}
		if( !$alive ){
			$result = @rmdir( $path );
			return	$result;
		}
		return true;
	}//remove_empty_dir()


	/**
	 * 指定された2つのディレクトリの内容を比較し、まったく同じかどうか調べる。
	 *
	 * @param string $dir_a 比較対象ディレクトリA
	 * @param string $dir_b 比較対象ディレクトリB
	 * @param array $options オプション
	 * <dl>
	 *   <dt>bool $options['compare_filecontent']</dt>
	 * 	   <dd>ファイルの中身も比較するか？</dd>
	 *   <dt>bool $options['compare_emptydir']</dt>
	 * 	   <dd>空っぽのディレクトリの有無も評価に含めるか？</dd>
	 * </dl>
	 * @return bool 同じ場合に `true`、異なる場合に `false` を返します。
	 */
	public function compare_dir( $dir_a , $dir_b , $options = array() ){

		if( strlen( $this->filesystem_encoding ) ){
			//PxFW 0.6.4 追加
			$dir_a = @$this->convert_filesystem_encoding( $dir_a );
			$dir_b = @$this->convert_filesystem_encoding( $dir_b );
		}

		if( ( $this->is_file( $dir_a ) && !$this->is_file( $dir_b ) ) || ( !$this->is_file( $dir_a ) && $this->is_file( $dir_b ) ) ){
			return false;
		}
		if( ( ( $this->is_dir( $dir_a ) && !$this->is_dir( $dir_b ) ) || ( !$this->is_dir( $dir_a ) && $this->is_dir( $dir_b ) ) ) && $options['compare_emptydir'] ){
			return false;
		}

		// Normalize $options
		if( !is_array($options) ){
			$options = array();
		}
		if( !array_key_exists( 'compare_filecontent', $options ) ){
			$options['compare_filecontent'] = null;
		}
		if( !array_key_exists( 'compare_emptydir', $options ) ){
			$options['compare_emptydir'] = null;
		}

		if( $this->is_file( $dir_a ) && $this->is_file( $dir_b ) ){
			// --------------------------------------
			// 両方ファイルだったら
			if( $options['compare_filecontent'] ){
				// ファイルの内容も比較する設定の場合、
				// それぞれファイルを開いて同じかどうかを比較
				$filecontent_a = $this->read_file( $dir_a );
				$filecontent_b = $this->read_file( $dir_b );
				if( $filecontent_a !== $filecontent_b ){
					return false;
				}
			}
			return true;
		}

		if( $this->is_dir( $dir_a ) || $this->is_dir( $dir_b ) ){
			// --------------------------------------
			// 両方ディレクトリだったら
			$contlist_a = $this->ls( $dir_a );
			$contlist_b = $this->ls( $dir_b );

			if( $options['compare_emptydir'] && $contlist_a !== $contlist_b ){
				// 空っぽのディレクトリも厳密に評価する設定で、
				// ディレクトリ内の要素配列の内容が異なれば、false。
				return false;
			}

			$done = array();
			foreach( $contlist_a as $Line ){
				// Aをチェック
				if( $Line == '..' || $Line == '.' ){ continue; }
				if( !$this->compare_dir( $dir_a.DIRECTORY_SEPARATOR.$Line , $dir_b.DIRECTORY_SEPARATOR.$Line , $options ) ){
					return false;
				}
				$done[$Line] = true;
			}

			foreach( $contlist_b as $Line ){
				// Aに含まれなかったBをチェック
				if( $done[$Line] ){ continue; }
				if( $Line == '..' || $Line == '.' ){ continue; }
				if( !$this->compare_dir( $dir_a.DIRECTORY_SEPARATOR.$Line , $dir_b.DIRECTORY_SEPARATOR.$Line , $options ) ){
					return false;
				}
				$done[$Line] = true;
			}

		}

		return true;
	}//compare_dir()


	/**
	 * サーバがUNIXパスか調べる。
	 *
	 * @return bool UNIXパスなら `true`、それ以外なら `false` を返します。
	 */
	public function is_unix(){
		if( DIRECTORY_SEPARATOR == '/' ){
			return true;
		}
		return false;
	}//is_unix()

	/**
	 * サーバがWindowsパスか調べる。
	 *
	 * @return bool Windowsパスなら `true`、それ以外なら `false` を返します。
	 */
	public function is_windows(){
		if( DIRECTORY_SEPARATOR == '\\' ){
			return true;
		}
		return false;
	}//is_windows()


	/**
	 * パスを正規化する。
	 *
	 * 受け取ったパスを、スラッシュ区切りの表現に正規化します。
	 * Windowsのボリュームラベルが付いている場合は削除します。
	 * URIスキーム(http, https, ftp など) で始まる場合、2つのスラッシュで始まる場合(`//www.example.com/abc/` など)、これを残して正規化します。
	 *
	 *  - 例： `\a\b\c.html` → `/a/b/c.html` バックスラッシュはスラッシュに置き換えられます。
	 *  - 例： `/a/b////c.html` → `/a/b/c.html` 余計なスラッシュはまとめられます。
	 *  - 例： `C:\a\b\c.html` → `/a/b/c.html` ボリュームラベルは削除されます。
	 *  - 例： `http://a/b/c.html` → `http://a/b/c.html` URIスキームは残されます。
	 *  - 例： `//a/b/c.html` → `//a/b/c.html` ドメイン名は残されます。
	 *
	 * @param string $path 正規化するパス
	 * @return string 正規化されたパス
	 */
	public function normalize_path($path){
		$path = trim($path);
		$path = $this->convert_encoding( $path );//文字コードを揃える
		$path = preg_replace( '/\\/|\\\\/s', '/', $path );//バックスラッシュをスラッシュに置き換える。
		$path = preg_replace( '/^[A-Z]\\:\\//s', '/', $path );//Windowsのボリュームラベルを削除
		$prefix = '';
		if( preg_match( '/^((?:[a-zA-Z0-9]+\\:)?\\/)(\\/.*)$/', $path, $matched ) ){
			$prefix = $matched[1];
			$path = $matched[2];
		}
		$path = preg_replace( '/\\/+/s', '/', $path );//重複するスラッシュを1つにまとめる
		return $prefix.$path;
	}


	/**
	 * パスをOSの標準的な表現に変換する。
	 *
	 * 受け取ったパスを、OSの標準的な表現に変換します。
	 * - スラッシュとバックスラッシュの違いを吸収し、`DIRECTORY_SEPARATOR` に置き換えます。
	 *
	 * @param string $path ローカライズするパス
	 * @return string ローカライズされたパス
	 */
	public function localize_path($path){
		$path = $this->convert_filesystem_encoding( $path );//文字コードを揃える
		$path = preg_replace( '/\\/|\\\\/s', '/', $path );//一旦スラッシュに置き換える。
		if( $this->is_unix() ){
			// Windows以外だった場合に、ボリュームラベルを受け取ったら削除する
			$path = preg_replace( '/^[A-Z]\\:\\//s', '/', $path );//Windowsのボリュームラベルを削除
		}
		$path = preg_replace( '/\\/+/s', '/', $path );//重複するスラッシュを1つにまとめる
		$path = preg_replace( '/\\/|\\\\/s', DIRECTORY_SEPARATOR, $path );
		return $path;
	}



	/**
	 * 受け取ったテキストを、ファイルシステムエンコードに変換する。
	 *
	 * @param mixed $text テキスト
	 * @return string 文字セット変換後のテキスト
	 */
	private function convert_filesystem_encoding( $text ){
		$RTN = $text;
		if( !is_callable( 'mb_internal_encoding' ) ){
			return $text;
		}
		if( !strlen( $this->filesystem_encoding ) ){
			return $text;
		}

		$to_encoding = $this->filesystem_encoding;
		$from_encoding = mb_internal_encoding().',UTF-8,SJIS-win,eucJP-win,SJIS,EUC-JP,JIS,ASCII';

		return $this->convert_encoding( $text, $to_encoding, $from_encoding );

	}//convert_filesystem_encoding()

	/**
	 * 受け取ったテキストを、ファイルシステムエンコードに変換する。
	 *
	 * @param mixed $text テキスト
	 * @param string $to_encoding 文字セット(省略時、内部文字セット)
	 * @param string $from_encoding 変換前の文字セット
	 * @return string 文字セット変換後のテキスト
	 */
	public function convert_encoding( $text, $to_encoding = null, $from_encoding = null ){
		$RTN = $text;
		if( !is_callable( 'mb_internal_encoding' ) ){
			return $text;
		}

		$to_encoding_fin = $to_encoding;
		if( !strlen($to_encoding_fin) ){
			$to_encoding_fin = mb_internal_encoding();
		}
		if( !strlen($to_encoding_fin) ){
			$to_encoding_fin = 'UTF-8';
		}

		$from_encoding_fin = (strlen($from_encoding)?$from_encoding.',':'').mb_internal_encoding().',UTF-8,SJIS-win,eucJP-win,SJIS,EUC-JP,JIS,ASCII';

		// ---
		if( is_array( $text ) ){
			$RTN = array();
			if( !count( $text ) ){
				return $text;
			}
			foreach( $text as $key=>$row ){
				$RTN[$key] = $this->convert_encoding( $row, $to_encoding, $from_encoding );
			}
		}else{
			if( !strlen( $text ) ){
				return $text;
			}
			$RTN = mb_convert_encoding( $text, $to_encoding_fin, $from_encoding_fin );
		}
		return $RTN;
	}//convert_encoding()

	/**
	 * 受け取ったテキストを、指定の改行コードに変換する。
	 *
	 * @param mixed $text テキスト
	 * @param string $crlf 改行コード名。CR|LF(default)|CRLF
	 * @return string 改行コード変換後のテキスト
	 */
	public function convert_crlf( $text, $crlf = null ){
		if( !strlen($crlf) ){
			$crlf = 'LF';
		}
		$crlf_code = "\n";
		switch(strtoupper($crlf)){
			case 'CR':
				$crlf_code = "\r";
				break;
			case 'CRLF':
				$crlf_code = "\r\n";
				break;
			case 'LF':
			default:
				$crlf_code = "\n";
				break;
		}
		$RTN = $text;
		if( is_array( $text ) ){
			$RTN = array();
			if( !count( $text ) ){
				return $text;
			}
			foreach( $text as $key=>$val ){
				$RTN[$key] = $this->convert_crlf( $val , $crlf );
			}
		}else{
			if( !strlen( $text ) ){
				return $text;
			}
			$RTN = preg_replace( '/\r\n|\r|\n/', $crlf_code, $text );
		}
		return $RTN;
	}

}
?><?php
/**
 * tomk79/request
 *
 * @author Tomoya Koyanagi <tomk79@gmail.com>
 */

namespace tomk79;

/**
 * tomk79/request core class
 *
 * @author Tomoya Koyanagi <tomk79@gmail.com>
 */
class request{
	/**
	 * 設定オブジェクト
	 */
	private $conf;
	/**
	 * ファイルシステムオブジェクト
	 */
	private $fs;
	/**
	 * URLパラメータ
	 */
	private $param = array();
	/**
	 * コマンドからのアクセス フラグ
	 */
	private $flg_cmd = false;
	/**
	 * リクエストファイルパス
	 */
	private $request_file_path;
	/**
	 * 優先ディレクトリインデックス
	 */
	private $directory_index_primary;
	/**
	 * コマンドラインオプション
	 */
	private $cli_options;
	/**
	 * コマンドラインパラメータ
	 */
	private $cli_params;

	/**
	 * コンストラクタ
	 *
	 * @param object $conf 設定オブジェクト
	 */
	public function __construct($conf=null){
		$this->conf = $conf;
		if( !is_object($this->conf) ){
			$this->conf = json_decode('{}');
		}
		$this->fs = new \tomk79\filesystem();

		if(!property_exists($this->conf, 'get') || !@is_array($this->conf->get)){
			$this->conf->get = $_GET;
		}
		if(!property_exists($this->conf, 'post') || !@is_array($this->conf->post)){
			$this->conf->post = $_POST;
		}
		if(!property_exists($this->conf, 'files') || !@is_array($this->conf->files)){
			$this->conf->files = $_FILES;
		}
		if(!property_exists($this->conf, 'server') || !@is_array($this->conf->server)){
			$this->conf->server = $_SERVER;
		}
		if( !array_key_exists( 'PATH_INFO' , $this->conf->server ) ){
			$this->conf->server['PATH_INFO'] = null;
		}
		if( !array_key_exists( 'HTTP_USER_AGENT' , $this->conf->server ) ){
			$this->conf->server['HTTP_USER_AGENT'] = null;
		}
		if( !array_key_exists( 'argv' , $this->conf->server ) ){
			$this->conf->server['argv'] = null;
		}
		if(!property_exists($this->conf, 'session_name') || !@strlen($this->conf->session_name)){
			$this->conf->session_name = 'SESSID';
		}
		if(!property_exists($this->conf, 'session_expire') || !@strlen($this->conf->session_expire)){
			$this->conf->session_expire = 1800;
		}
		if(!property_exists($this->conf, 'directory_index_primary') || !@strlen($this->conf->directory_index_primary)){
			$this->conf->directory_index_primary = 'index.html';
		}
		if(!property_exists($this->conf, 'cookie_default_path') || !@strlen($this->conf->cookie_default_path)){
			// クッキーのデフォルトのパス
			// session の範囲もこの設定に従う。
			$this->conf->cookie_default_path = $this->get_path_current_dir();
		}

		$this->parse_input();
		$this->session_start();
	}

	/**
	 *	入力値を解析する。
	 *
	 * `$_GET`, `$_POST`, `$_FILES` に送られたパラメータ情報を取りまとめ、1つの連想配列としてまとめま、オブジェクト内に保持します。
	 *
	 * コマンドラインから実行された場合は、コマンドラインオプションをそれぞれ `=` 記号で区切り、URLパラメータ同様にパースします。
	 *
	 * このメソッドの処理には、入力文字コードの変換(UTF-8へ統一)などの整形処理が含まれます。
	 *
	 * @return bool 常に `true`
	 */
	private function parse_input(){
		$this->request_file_path = $this->conf->server['PATH_INFO'];
		if( !strlen($this->request_file_path) ){
			$this->request_file_path = '/';
		}
		$this->cli_params = array();
		$this->cli_options = array();

		if( !array_key_exists( 'REMOTE_ADDR' , $this->conf->server ) ){
			//  コマンドラインからの実行か否か判断
			$this->flg_cmd = true;//コマンドラインから実行しているかフラグ
			if( is_array( $this->conf->server['argv'] ) && count( $this->conf->server['argv'] ) ){
				$tmp_path = null;
				for( $i = 0; count( $this->conf->server['argv'] ) > $i; $i ++ ){
					if( preg_match( '/^\-/', $this->conf->server['argv'][$i] ) ){
						$this->cli_params = array();//オプションの前に引数は付けられない
						$this->cli_options[$this->conf->server['argv'][$i]] = $this->conf->server['argv'][$i+1];
						$i ++;
					}else{
						array_push( $this->cli_params, $this->conf->server['argv'][$i] );
					}
				}
				$tmp_path = @$this->cli_params[count($this->cli_params)-1];
				if( preg_match( '/^\//', $tmp_path ) && @is_array($this->conf->server['argv']) ){
					$tmp_path = array_pop( $this->conf->server['argv'] );
					$tmp_path = parse_url($tmp_path);
					$this->request_file_path = $tmp_path['path'];
					@parse_str( $tmp_path['query'], $query );
					if( is_array($query) ){
						$this->conf->get = array_merge( $this->conf->get, $query );
					}
				}
				unset( $tmp_path );
			}
		}

		if( ini_get('magic_quotes_gpc') ){
			// PHPINIのmagic_quotes_gpc設定がOnだったら、
			// エスケープ文字を削除。
			foreach( array_keys( $this->conf->get ) as $Line ){
				$this->conf->get[$Line] = self::stripslashes( $this->conf->get[$Line] );
			}
			foreach( array_keys( $this->conf->post ) as $Line ){
				$this->conf->post[$Line] = self::stripslashes( $this->conf->post[$Line] );
			}
		}

		$this->conf->get = self::convert_encoding( $this->conf->get );
		$this->conf->post = self::convert_encoding( $this->conf->post );
		$param = array_merge( $this->conf->get , $this->conf->post );
		$param = $this->normalize_input( $param );

		if( is_array( $this->conf->files ) ){
			$FILES_KEYS = array_keys( $this->conf->files );
			foreach($FILES_KEYS as $Line){
				$this->conf->files[$Line]['name'] = self::convert_encoding( $this->conf->files[$Line]['name'] );
				$this->conf->files[$Line]['name'] = mb_convert_kana( $this->conf->files[$Line]['name'] , 'KV' , mb_internal_encoding() );
				$param[$Line] = $this->conf->files[$Line];
			}
		}

		$this->param = $param;
		unset($param);

		if (preg_match('/\/$/', $this->request_file_path)) {
			$this->request_file_path .= $this->conf->directory_index_primary;
		}
		$this->request_file_path = $this->fs->get_realpath( $this->request_file_path );
		$this->request_file_path = $this->fs->normalize_path( $this->request_file_path );

		return	true;
	}//parse_input()

	/**
	 *	入力値に対する標準的な変換処理
	 *
	 * @param array $param パラメータ
	 * @return array 変換後のパラメータ
	 */
	private function normalize_input( $param ){
		$is_callable_mb_check_encoding = is_callable( 'mb_check_encoding' );
		foreach( $param as $key=>$val ){
			// URLパラメータを加工
			if( is_array( $val ) ){
				// 配列なら
				$param[$key] = $this->normalize_input( $param[$key] );
			}elseif( is_string( $param[$key] ) ){
				// 文字列なら
				$param[$key] = mb_convert_kana( $param[$key] , 'KV' , mb_internal_encoding() );
					// 半角カナは全角に統一
				$param[$key] = preg_replace( '/\r\n|\r|\n/' , "\n" , $param[$key] );
					// 改行コードはLFに統一
				if( $is_callable_mb_check_encoding ){
					// 不正なバイトコードのチェック
					if( !mb_check_encoding( $key , mb_internal_encoding() ) ){
						// キーの中に見つけたらパラメータごと削除
						unset( $param[$key] );
					}
					if( !mb_check_encoding( $param[$key] , mb_internal_encoding() ) ){
						// 値の中に見つけたら false に置き換える
						$param[$key] = false;
					}
				}
			}
		}
		return $param;
	}//normalize_input()

	/**
	 * パラメータを取得する。
	 *
	 * `$_GET`, `$_POST`、`$_FILES` を合わせた連想配列の中から `$key` に当たる値を引いて返します。
	 * キーが定義されていない場合は、`null` を返します。
	 *
	 * @param string $key URLパラメータ名
	 * @return mixed URLパラメータ値
	 */
	public function get_param( $key ){
		if( !array_key_exists($key, $this->param) ){ return null; }
		return @$this->param[$key];
	}//get_param()

	/**
	 * パラメータをセットする。
	 *
	 * @param string $key パラメータ名
	 * @param mixed $val パラメータ値
	 * @return bool 常に `true`
	 */
	public function set_param( $key , $val ){
		$this->param[$key] = $val;
		return true;
	}//set_param()

	/**
	 * パラメータをすべて取得する。
	 *
	 * @return array すべてのパラメータを格納する連想配列
	 */
	public function get_all_params(){
		return $this->param;
	}

	/**
	 * コマンドラインオプションを取得する
	 * @param string $name オプション名
	 * @return string 指定されたオプション値
	 */
	public function get_cli_option( $name ){
		if( !array_key_exists($name, $this->cli_options) ){
			return null;
		}
		return @$this->cli_options[$name];
	}

	/**
	 * すべてのコマンドラインオプションを連想配列で取得する
	 * @return array すべてのコマンドラインオプション
	 */
	public function get_cli_options(){
		return @$this->cli_options;
	}

	/**
	 * コマンドラインパラメータを取得する
	 * @param string $idx パラメータ番号
	 * @return string 指定されたオプション値
	 */
	public function get_cli_param( $idx = 0 ){
		if($idx < 0){
			// マイナスのインデックスが与えられた場合、
			// 配列の最後から数える
			$idx = count($this->cli_params)+$idx;
		}
		return @$this->cli_params[$idx];
	}

	/**
	 * すべてのコマンドラインパラメータを配列で取得する
	 * @return array すべてのコマンドラインパラメータ
	 */
	public function get_cli_params(){
		return @$this->cli_params;
	}



	// ----- cookies -----

	/**
	 * クッキー情報を取得する。
	 *
	 * @param string $key クッキー名
	 * @return mixed クッキーの値
	 */
	public function get_cookie( $key ){
		if( @!is_array( $_COOKIE ) ){ return null; }
		if( @!array_key_exists($key, $_COOKIE) ){ return null; }
		return	@$_COOKIE[$key];
	}//get_cookie()

	/**
	 * クッキー情報をセットする。
	 *
	 * @param string $key クッキー名
	 * @param string $val クッキー値
	 * @param string $expire クッキーの有効期限
	 * @param string $path サーバー上での、クッキーを有効としたいパス
	 * @param string $domain クッキーが有効なドメイン
	 * @param bool $secure クライアントからのセキュアな HTTPS 接続の場合にのみクッキーが送信されるようにします。デフォルトは `true`
	 * @return 成功時 `true`、失敗時 `false` を返します。
	 */
	public function set_cookie( $key , $val , $expire = null , $path = null , $domain = null , $secure = true ){
		if( is_null( $path ) ){
			$path = $this->conf->cookie_default_path;
			if( !strlen( $path ) ){
				$path = $this->get_path_current_dir();
			}
			if( !strlen( $path ) ){
				$path = '/';
			}
		}
		if( !@setcookie( $key , $val , $expire , $path , $domain , $secure ) ){
			return false;
		}

		$_COOKIE[$key] = $val;//現在の処理からも呼び出せるように
		return true;
	}//set_cookie()

	/**
	 * クッキー情報を削除する。
	 *
	 * @param string $key クッキー名
	 * @return bool 成功時 `true`、失敗時 `false` を返します。
	 */
	public function delete_cookie( $key ){
		if( !@setcookie( $key , null ) ){
			return false;
		}
		unset( $_COOKIE[$key] );
		return true;
	}//delete_cookie()



	// ----- session -----

	/**
	 * セッションを開始する。
	 *
	 * @param string $sid セッションID。省略時、自動発行。
	 * @return bool セッションが正常に開始した場合に `true`、それ以外の場合に `false` を返します。
	 */
	private function session_start( $sid = null ){
		$expire = intval($this->conf->session_expire);
		$cache_limiter = 'nocache';
		$session_name = 'SESSID';
		if( strlen( $this->conf->session_name ) ){
			$session_name = $this->conf->session_name;
		}
		$path = $this->conf->cookie_default_path;
		if( !strlen( $path ) ){
			$path = $this->get_path_current_dir();
		}
		if( !strlen( $path ) ){
			$path = '/';
		}

		@session_name( $session_name );
		@session_cache_limiter( $cache_limiter );
		@session_cache_expire( intval($expire/60) );

		if( intval( ini_get( 'session.gc_maxlifetime' ) ) < $expire + 10 ){
			// ガベージコレクションの生存期間が
			// $expireよりも短い場合は、上書きする。
			// バッファは固定値で10秒。
			@ini_set( 'session.gc_maxlifetime' , $expire + 10 );
		}

		@session_set_cookie_params( 0 , $path );
			//  セッションクッキー自体の寿命は定めない(=0)
			//  そのかわり、SESSION_LAST_MODIFIED を新設し、自分で寿命を管理する。

		if( strlen( $sid ) ){
			// セッションIDに指定があれば、有効にする。
			session_id( $sid );
		}

		// セッションを開始
		$rtn = @session_start();

		// セッションの有効期限を評価
		if( strlen( $this->get_session( 'SESSION_LAST_MODIFIED' ) ) && intval( $this->get_session( 'SESSION_LAST_MODIFIED' ) ) < intval( time() - $expire ) ){
			#	セッションの有効期限が切れていたら、セッションキーを再発行。
			if( is_callable('session_regenerate_id') ){
				@session_regenerate_id( true );
			}
		}
		$this->set_session( 'SESSION_LAST_MODIFIED' , time() );
		return $rtn;
	}//session_start()

	/**
	 * セッションIDを取得する。
	 *
	 * @return string セッションID
	 */
	public function get_session_id(){
		return session_id();
	}//get_session_id()

	/**
	 * セッション情報を取得する。
	 *
	 * @param string $key セッションキー
	 * @return mixed `$key` に対応するセッション値
	 */
	public function get_session( $key ){
		if( @!is_array( $_SESSION ) ){ return null; }
		if( @!array_key_exists($key, $_SESSION) ){ return null; }
		return @$_SESSION[$key];
	}//get_session()

	/**
	 * セッション情報をセットする。
	 *
	 * @param string $key セッションキー
	 * @param mixed $val `$key` に対応するセッション値
	 * @return bool 常に `true` を返します。
	 */
	public function set_session( $key , $val ){
		$_SESSION[$key] = $val;
		return true;
	}//set_session()

	/**
	 * セッション情報を削除する。
	 *
	 * @param string $key セッションキー
	 * @return bool 常に `true` を返します。
	 */
	public function delete_session( $key ){
		unset( $_SESSION[$key] );
		return true;
	}//delete_session()


	// ----- upload file access -----

	/**
	 * アップロードされたファイルをセッションに保存する。
	 *
	 * @param string $key セッションキー
	 * @param array $ulfileinfo アップロードファイル情報
	 * @return bool 成功時 `true`、失敗時 `false` を返します。
	 */
	public function save_uploadfile( $key , $ulfileinfo ){
		// base64でエンコードして、バイナリデータを持ちます。
		// $ulfileinfo['content'] にバイナリを格納して渡すか、
		// $ulfileinfo['tmp_name'] または $ulfileinfo['path'] のいずれかに、
		// アップロードファイルのパスを指定してください。
		$fileinfo = array();
		$fileinfo['name'] = $ulfileinfo['name'];
		$fileinfo['type'] = $ulfileinfo['type'];

		if( $ulfileinfo['content'] ){
			$fileinfo['content'] = base64_encode( $ulfileinfo['content'] );
		}else{
			$filepath = '';
			if( @is_file( $ulfileinfo['tmp_name'] ) ){
				$filepath = $ulfileinfo['tmp_name'];
			}elseif( @is_file( $ulfileinfo['path'] ) ){
				$filepath = $ulfileinfo['path'];
			}else{
				return false;
			}
			$fileinfo['content'] = base64_encode( file_get_contents( $filepath ) );
		}

		if( @!is_array( $_SESSION ) ){
			$_SESSION = array();
		}
		if( @!array_key_exists('FILE', $_SESSION) ){
			$_SESSION['FILE'] = array();
		}

		$_SESSION['FILE'][$key] = $fileinfo;
		return	true;
	}
	/**
	 * セッションに保存されたファイル情報を取得する。
	 *
	 * @param string $key セッションキー
	 * @return array|bool 成功時、ファイル情報 を格納した連想配列、失敗時 `false` を返します。
	 */
	public function get_uploadfile( $key ){
		if(!strlen($key)){ return false; }
		if( @!is_array( $_SESSION ) ){
			return false;
		}
		if( @!array_key_exists('FILE', $_SESSION) ){
			return false;
		}
		if( @!array_key_exists($key, $_SESSION['FILE']) ){
			return false;
		}

		$rtn = @$_SESSION['FILE'][$key];
		if( is_null( $rtn ) ){ return false; }

		$rtn['content'] = base64_decode( @$rtn['content'] );
		return	$rtn;
	}
	/**
	 * セッションに保存されたファイル情報の一覧を取得する。
	 *
	 * @return array ファイル情報 を格納した連想配列
	 */
	public function get_uploadfile_list(){
		if( @!array_key_exists('FILE', $_SESSION) ){
			return false;
		}
		return	array_keys( $_SESSION['FILE'] );
	}
	/**
	 * セッションに保存されたファイルを削除する。
	 *
	 * @param string $key セッションキー
	 * @return bool 常に `true` を返します。
	 */
	public function delete_uploadfile( $key ){
		if( @!array_key_exists('FILE', $_SESSION) ){
			return true;
		}
		unset( $_SESSION['FILE'][$key] );
		return	true;
	}
	/**
	 * セッションに保存されたファイルを全て削除する。
	 *
	 * @return bool 常に `true` を返します。
	 */
	public function delete_uploadfile_all(){
		return	$this->delete_session( 'FILE' );
	}


	// ----- utils -----

	/**
	 * USER_AGENT を取得する。
	 *
	 * @return string USER_AGENT
	 */
	public function get_user_agent(){
		return @$this->conf->server['HTTP_USER_AGENT'];
	}//get_user_agent()

	/**
	 * リクエストパスを取得する。
	 *
	 * @return string リクエストパス
	 */
	public function get_request_file_path(){
		return $this->request_file_path;
	}//get_request_file_path()

	/**
	 *  SSL通信か調べる
	 *
	 * @return bool SSL通信の場合 `true`、それ以外の場合 `false` を返します。
	 */
	public function is_ssl(){
		if( @$this->conf->server['HTTP_SSL'] || @$this->conf->server['HTTPS'] ){
			// SSL通信が有効か否か判断
			return true;
		}
		return false;
	}

	/**
	 * コマンドラインによる実行か確認する。
	 *
	 * @return bool コマンドからの実行の場合 `true`、ウェブからの実行の場合 `false` を返します。
	 */
	public function is_cmd(){
		if( array_key_exists( 'REMOTE_ADDR' , $this->conf->server ) ){
			return false;
		}
		return	true;
	}


	// ----- private -----

	/**
	 * 受け取ったテキストを、指定の文字セットに変換する。
	 *
	 * @param mixed $text テキスト
	 * @param string $encode 変換後の文字セット。省略時、`mb_internal_encoding()` から取得
	 * @param string $encodefrom 変換前の文字セット。省略時、自動検出
	 * @return string 文字セット変換後のテキスト
	 */
	private static function convert_encoding( $text, $encode = null, $encodefrom = null ){
		if( !is_callable( 'mb_internal_encoding' ) ){ return $text; }
		if( !strlen( $encodefrom ) ){ $encodefrom = mb_internal_encoding().',UTF-8,SJIS-win,eucJP-win,SJIS,EUC-JP,JIS,ASCII'; }
		if( !strlen( $encode ) ){ $encode = mb_internal_encoding(); }

		if( is_array( $text ) ){
			$rtn = array();
			if( !count( $text ) ){ return $text; }
			$TEXT_KEYS = array_keys( $text );
			foreach( $TEXT_KEYS as $Line ){
				$KEY = mb_convert_encoding( $Line , $encode , $encodefrom );
				if( is_array( $text[$Line] ) ){
					$rtn[$KEY] = self::convert_encoding( $text[$Line] , $encode , $encodefrom );
				}else{
					$rtn[$KEY] = @mb_convert_encoding( $text[$Line] , $encode , $encodefrom );
				}
			}
		}else{
			if( !strlen( $text ) ){ return $text; }
			$rtn = @mb_convert_encoding( $text , $encode , $encodefrom );
		}
		return $rtn;
	}

	/**
	 * クォートされた文字列のクォート部分を取り除く。
	 *
	 * この関数は、PHPの `stripslashes()` のラッパーです。
	 * 配列を受け取ると再帰的に文字列を変換して返します。
	 *
	 * @param mixed $text テキスト
	 * @return string クォートが元に戻されたテキスト
	 */
	private static function stripslashes( $text ){
		if( is_array( $text ) ){
			// 配列なら
			foreach( $text as $key=>$val ){
				$text[$key] = self::stripslashes( $val );
			}
		}elseif( is_string( $text ) ){
			// 文字列なら
			$text = stripslashes( $text );
		}
		return	$text;
	}

	/**
	 * カレントディレクトリのパスを取得
	 * @return string ドキュメントルートからのパス(スラッシュ閉じ)
	 */
	private function get_path_current_dir(){
		//  環境変数から自動的に判断。
		$rtn = dirname( $this->conf->server['SCRIPT_NAME'] );
		if( !array_key_exists( 'REMOTE_ADDR' , $this->conf->server ) ){
			//  CUIから起動された場合
			//  ドキュメントルートが判定できないので、
			//  ドキュメントルート直下にあるものとする。
			$rtn = '/';
		}
		$rtn = str_replace('\\','/',$rtn);
		$rtn .= ($rtn!='/'?'/':'');
		return $rtn;
	}//get_path_current_dir()

}
?><?php
namespace picklesFramework2\px2agent;

/**
 * px2agent.php
 */
class px2agent{
	private $options;
	private $error_list = array();

	/**
	 * Constructor
	 */
	public function __construct($options = array()){
		$this->options = (array) $options;
	}

	/**
	 * Create project object
	 */
	public function createProject( $php_self ){
		$px2project = new px2project($this, $php_self, $this->options);
		return $px2project;
	}

	/**
	 * エラーを記録する
	 */
	public function error( $error_msg ){
		array_push($this->error_list, $error_msg);
		return;
	}
}
?><?php
namespace picklesFramework2\px2agent;

/**
 * px2project.php
 */
class px2project{
	private $main;
	private $path_entry_script;
	private $options;

	/**
	 * Constructor
	 */
	public function __construct($main, $path_entry_script, $options){
		$this->main = $main;
		$this->path_entry_script = $path_entry_script;
		$this->options = (array) $options;
	}


	/**
	 * Pickles 2 にクエリを投げて、結果を受け取る (汎用)
	 */
	public function query($request_path, $options = null, &$return_var = null){
		$path_cmd_php = 'php';
		if( array_key_exists('bin', $this->options) && strlen($this->options['bin']) ){
			$path_cmd_php = $this->options['bin'];
		}
		$path_cmd_php_ini = null;
		if( array_key_exists('ini', $this->options) && strlen($this->options['ini']) ){
			$path_cmd_php_ini = $this->options['ini'];
		}
		$path_extension_dir = null;
		if( array_key_exists('extension_dir', $this->options) && strlen($this->options['extension_dir']) ){
			$path_extension_dir = $this->options['extension_dir'];
		}

		$current_dir = realpath('.');
		$project_dir = dirname($this->path_entry_script);


		if(!is_string($request_path)){
			$this->main->error('Invalid argument supplied for 1st option $request_path in $px2project->query(). It required String value.');
			return false;
		}
		if(!strlen($request_path)){ $request_path = '/'; }
		if(is_null($options)){ $options = array(); }
		if(!is_array($options)){ $options = (array) $options; }
		$php_command = array();
		array_push( $php_command, addslashes($path_cmd_php) );
			// ↑ Windows でこれを `escapeshellarg()` でエスケープすると、なぜかエラーに。

		if( strlen($path_cmd_php_ini) ){
			$php_command = array_merge(
				$php_command,
				array(
					'-c', escapeshellarg($path_cmd_php_ini),// ← php.ini のパス
				)
			);
		}

		if( strlen($path_extension_dir) ){
			$php_command = array_merge(
				$php_command,
				array(
					'-d', escapeshellarg($path_extension_dir),// ← php.ini definition
				)
			);
		}

		array_push($php_command, escapeshellarg( realpath($this->path_entry_script) ));

		// 出力形式
		if( array_key_exists('output', $options) && $options['output'] == 'json' ){
			array_push($php_command, '-o');
			array_push($php_command, 'json');
		}

		// USER_AGENT
		if( array_key_exists('user_agent', $options) && strlen($options['user_agent']) ){
			array_push($php_command, '-u');
			array_push($php_command, escapeshellarg($options['user_agent']));
		}

		// Request Method
		if( array_key_exists('method', $options) && strlen($options['method']) ){
			array_push($php_command, '--method');
			array_push($php_command, escapeshellarg($options['method']));
		}

		// Request Body
		if( array_key_exists('body', $options) && strlen($options['body']) ){
			array_push($php_command, '--body');
			array_push($php_command, escapeshellarg($options['body']));
		}
		if( array_key_exists('body_file', $options) && strlen($options['body_file']) ){
			array_push($php_command, '--body-file');
			array_push($php_command, escapeshellarg($options['body_file']));
		}

		if( realpath('/') == '/' ){
			// Linux
			array_push($php_command, escapeshellarg($request_path));
		}else{
			// Windows
			array_push($php_command, escapeshellcmd($request_path));
		}


		$cmd = implode( ' ', $php_command );

		// コマンドを実行
		chdir($project_dir);
		ob_start();
		$proc = proc_open($cmd, array(
			0 => array('pipe','r'),
			1 => array('pipe','w'),
			2 => array('pipe','w'),
		), $pipes);
		$io = array();
		foreach($pipes as $idx=>$pipe){
			$io[$idx] = null;
			if( $idx >= 1 ){
				$io[$idx] = stream_get_contents($pipe);
			}
			fclose($pipe);
		}
		$return_var = proc_close($proc);
		ob_get_clean();

		$bin = $io[1]; // stdout
		if( strlen( $io[2] ) ){
			// $this->error($io[2]); // stderr
		}

		if( array_key_exists('output', $options) && $options['output'] == 'json' ){
			$bin = json_decode($bin);
		}

		chdir($current_dir);
		return $bin;

	}

	/**
	 * PX=api.*を投げる
	 */
	protected function apiGet($cmd, $path = '/', $param = array()){
		if( !strlen($path) ){
			$path = '/';
		}
		if( !is_array($param) ){
			$param = array();
		}

		$tmp_aryParam = array();
		foreach( $param as $idx=>$row ){
			array_push($tmp_aryParam, urlencode($idx).'='.urlencode($row) );
		}
		$param_str = '';
		if(count($tmp_aryParam)){
			$param_str = '&'.implode('&', $tmp_aryParam);
		}

		$errorMsg = null;
		$rtn = $this->query(
			$path.'?PX='.$cmd.$param_str ,
			array(
				"output" => "json",
			)
		);
		return $rtn;
	}

	/**
	 * PXコマンドを実行する
	 */
	public function px_command($cmd, $path, $param){
		return $this->apiGet($cmd, $path, $param);
	}

	/**
	 * バージョン番号を取得する
	 */
	public function get_version(){
		return $this->apiGet('api.get.version', '/', array());
	}


	/**
	 * configデータを取得する
	 */
	public function get_config(){
		return $this->apiGet('api.get.config', '/', array());
	}

	/**
	 * サイトマップデータを取得する
	 */
	public function get_sitemap(){
		return $this->apiGet('api.get.sitemap', '/', array());
	}

	/**
	 * pathまたはidからページ情報を得る
	 */
	public function get_page_info($path){
		return $this->apiGet('api.get.page_info', '/', array(
			"path" => $path
		));
	}

	/**
	 * 親ページのIDを取得する
	 */
	public function get_parent($path){
		return $this->apiGet('api.get.parent', $path, array());
	}

	/**
	 * 子階層のページの一覧を取得する
	 */
	public function get_children($path, $options = array()){
		if(is_array($options)){
			$options = $this->sitemap_children_params($options);
		}
		return $this->apiGet('api.get.children', $path, $options);
	}

	/**
	 * 兄弟ページの一覧を取得する
	 */
	public function get_bros($path, $options = array()){
		if(is_array($options)){
			$options = $this->sitemap_children_params($options);
		}
		return $this->apiGet('api.get.bros', $path, $options);
	}

	/**
	 * 次の兄弟ページを取得する
	 */
	public function get_bros_next($path, $options = array()){
		if(is_array($options)){
			$options = $this->sitemap_children_params($options);
		}
		return $this->apiGet('api.get.bros_next', $path, $options);
	}

	/**
	 * 前の兄弟ページを取得する
	 */
	public function get_bros_prev($path, $options = array()){
		if(is_array($options)){
			$options = $this->sitemap_children_params($options);
		}
		return $this->apiGet('api.get.bros_prev', $path, $options);
	}

	/**
	 * 次のページを取得する
	 */
	public function get_next($path, $options = array()){
		if(is_array($options)){
			$options = $this->sitemap_children_params($options);
		}
		return $this->apiGet('api.get.next', $path, $options);
	}

	/**
	 * 前のページを取得する
	 */
	public function get_prev($path, $options = array()){
		if(is_array($options)){
			$options = $this->sitemap_children_params($options);
		}
		return $this->apiGet('api.get.prev', $path, $options);
	}

	/**
	 * パンくず配列を取得する
	 */
	public function get_breadcrumb_array($path){
		return $this->apiGet('api.get.breadcrumb_array', $path, array());
	}

	/**
	 * ダイナミックパス情報を得る
	 */
	public function get_dynamic_path_info($path){
		return $this->apiGet('api.get.dynamic_path_info', '/', array(
			"path"=>$path,
		));
	}

	/**
	 * ダイナミックパスに値をバインドする
	 */
	public function bind_dynamic_path_param($path, $param){
		return $this->apiGet('api.get.bind_dynamic_path_param', '/', array(
			"path" => $path,
			"param" => json_encode($param),
		));
	}

	/**
	 * role を取得する
	 */
	public function get_role(F$path){
		return $this->apiGet('api.get.role', $path, array());
	}

	/**
	 * Actor のページID一覧を取得する
	 */
	public function get_actors($path){
		return $this->apiGet('api.get.actors', $path, array());
	}

	/**
	 * get home directory path (deprecated)
	 *
	 * `get_path_homedir()` は 非推奨のメソッドです。
	 * 代わりに、 `get_realpath_homedir()` を使用してください。
	 */
	public function get_path_homedir(){
		return $this->apiGet('api.get.path_homedir', '/', array());
	}

	/**
	 * get home directory path
	 */
	public function get_realpath_homedir(){
		return $this->apiGet('api.get.path_homedir', '/', array());
	}

	/**
	 * コンテンツルートディレクトリのパス(=install path) を取得する
	 */
	public function get_path_controot(){
		return $this->apiGet('api.get.path_controot', '/', array());
	}

	/**
	 * DOCUMENT_ROOT のパスを取得する (deprecated)
	 *
	 * `get_path_docroot()` は 非推奨のメソッドです。
	 * 代わりに、 `get_realpath_docroot()` を使用してください。
	 */
	public function get_path_docroot(){
		return $this->apiGet('api.get.path_docroot', '/', array());
	}

	/**
	 * DOCUMENT_ROOT のパスを取得する
	 */
	public function get_realpath_docroot(){
		return $this->apiGet('api.get.path_docroot', '/', array());
	}

	/**
	 * get content path
	 */
	public function get_path_content($path){
		return $this->apiGet('api.get.path_content', $path, array());
	}

	/**
	 * ローカルリソースディレクトリのパスを得る
	 */
	public function path_files($path, $path_resource = null){
		if (!strlen($path_resource)) { 
			$path_resource = '';
		}
		return $this->apiGet('api.get.path_files', $path, array(
			"path_resource"=>$path_resource,
		));
	}

	/**
	 * ローカルリソースディレクトリのサーバー内部パスを得る
	 */
	public function realpath_files($path, $path_resource = null){
		if (!strlen($path_resource)) { 
			$path_resource = '';
		}
		return $this->apiGet('api.get.realpath_files', $path, array(
			"path_resource"=>$path_resource,
		));
	}

	/**
	 * ローカルリソースのキャッシュディレクトリのパスを得る
	 */
	public function path_files_cache($path, $path_resource = null){
		if (!strlen($path_resource)) { 
			$path_resource = '';
		}
		return $this->apiGet('api.get.path_files_cache', $path, array(
			"path_resource"=>$path_resource,
		));
	}

	/**
	 * ローカルリソースのキャッシュディレクトリのサーバー内部パスを得る
	 */
	public function realpath_files_cache($path, $path_resource = null){
		if (!strlen($path_resource)) { 
			$path_resource = '';
		}
		return $this->apiGet('api.get.realpath_files_cache', $path, array(
			"path_resource"=>$path_resource,
		));
	}

	/**
	 * コンテンツ別の非公開キャッシュディレクトリのサーバー内部パスを得る
	 */
	public function realpath_files_private_cache($path, $path_resource = null){
		if (!strlen($path_resource)) { 
			$path_resource = '';
		}
		return $this->apiGet('api.get.realpath_files_private_cache', $path, array(
			"path_resource"=>$path_resource,
		));
	}

	/**
	 * domain を取得する
	 */
	public function get_domain(){
		return $this->apiGet('api.get.domain', '/', array());
	}

	/**
	 * directory_index(省略できるファイル名) の一覧を得る
	 */
	public function get_directory_index(){
		return $this->apiGet('api.get.directory_index', '/', array());
	}

	/**
	 * 最も優先されるインデックスファイル名を得る
	 */
	public function get_directory_index_primary(){
		return $this->apiGet('api.get.directory_index_primary', '/', array());
	}

	/**
	 * ファイルの処理方法を調べる
	 */
	public function get_path_proc_type($path){
		return $this->apiGet('api.get.path_proc_type', $path, array());
	}

	/**
	 * リンク先のパスを生成する
	 */
	public function href($path_linkto){
		return $this->apiGet('api.get.href', '/', array(
			"linkto"=>$path_linkto,
		));
	}

	/**
	 * パスがダイナミックパスにマッチするか調べる
	 */
	public function is_match_dynamic_path($path){
		return $this->apiGet('api.is.match_dynamic_path', '/', array(
			"path"=>$path,
		));
	}

	/**
	 * ページが、パンくず内に存在しているか調べる
	 */
	public function is_page_in_breadcrumb($path, $path_in){
		return $this->apiGet('api.is.page_in_breadcrumb', $path, array(
			"path"=>$path_in,
		));
	}

	/**
	 * 除外ファイルか調べる
	 */
	public function is_ignore_path($path){
		return $this->apiGet('api.is.ignore_path', '/', array(
			"path"=>$path,
		));
	}


	/**
	 * パブリッシュする
	 */
	public function publish($opt = array()){
		if( !is_array($opt) ){
			$opt = array();
		}

		// path_region
		if( !array_key_exists('path_region', $opt) || !$opt['path_region'] ){
			$opt['path_region'] = '';
		}

		// paths_region
		$str_paths_region = '';
		if( array_key_exists('paths_region', $opt) && is_string($opt['paths_region']) ){
			$opt['paths_region'] = array($opt['paths_region']);
		}
		if( array_key_exists('paths_region', $opt) && is_array($opt['paths_region']) ){
			foreach($opt['paths_region'] as $i=>$row){
				$str_paths_region .= '&paths_region[]='.urlencode($row);
			}
		}

		// paths_ignore
		$str_paths_ignore = '';
		if( array_key_exists('paths_ignore', $opt) && is_string($opt['paths_ignore']) ){
			$opt['paths_ignore'] = array($opt['paths_ignore']);
		}
		if( array_key_exists('paths_ignore', $opt) && is_array($opt['paths_ignore']) ){
			foreach($opt['paths_ignore'] as $i=>$row){
				$str_paths_ignore .= '&paths_ignore[]='.urlencode($row);
			}
		}

		// keep_cache
		$str_keep_cache = '';
		if( array_key_exists('keep_cache', $opt) && $opt['keep_cache'] ){
			$str_keep_cache = '&keep_cache=1';
		}

		return $this->query(
			'/?PX=publish.run&path_region=' . urlencode($opt['path_region']) . $str_paths_ignore . $str_paths_region . $str_keep_cache,
			$opt
		);
	}

	/**
	 * キャッシュを削除する
	 */
	public function clearcache($opt = array()){
		if( !is_array($opt) ){
			$opt = array();
		}

		return $this->query(
			'/?PX=clearcache' ,
			$opt
		);
	}


	/**
	 * get_children() へ渡されるオプションを調整する
	 * この形式のオプションは、get_bros(), get_bros_next(), get_bros_prev(), get_next(), get_prev() でも共通です。
	 */
	private function sitemap_children_params($options = array()){
		$options = (array) $options;
		$filter = null;
		if( array_key_exists('filter', $options) ){
			$filter = $options['filter'];
		}

		if(is_null($filter)){
			$filter = null;
		}elseif(is_string($filter)){
			switch( $filter ){
				case 'true':
				case '1':
					$filter = 'true'; break;
				case 'false':
				case '0':
					$filter = 'false'; break;
			}
		}else{
			$filter = ($filter?'true':'false');
		}

		$rtn = array();
		$rtn['filter'] = $filter;
		return $rtn;
	}

}
?><?php
namespace renconFramework;

/**
 * resourceMgr class
 *
 * @author Tomoya Koyanagi <tomk79@gmail.com>
 */
class resources{
	private $main;

	/**
	 * Constructor
	 */
	public function __construct( $main ){
		$this->main = $main;
	}

	public function echo_resource( $path ){
		$ext = null;
		if( preg_match('/\.([a-zA-Z0-9\_\-]*)$/', $path, $matched) ){
			$ext = $matched[1];
			$ext = strtolower($ext);
			$mime = $this->get_mime_type($ext);
			if( !$mime ){ $mime = 'text/html'; }
			header('Content-type: '.$mime);
		}
		echo $this->get($path);
		exit;
	}

	/**
	 * リソースを取得
	 */
	public function get( $path ){
		$path = preg_replace( '/$(?:\/*|\.\.?\/)*/', '', $path );

		$resources = array(

'images/sample-gif.gif' => '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',
'images/sample-jpeg.jpg' => '/9j/4QAYRXhpZgAASUkqAAgAAAAAAAAAAAAAAP/sABFEdWNreQABAAQAAAAKAAD/4QMUaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLwA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/PiA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA2LjAtYzAwMiA3OS4xNjQzNTIsIDIwMjAvMDEvMzAtMTU6NTA6MzggICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdFJlZj0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlUmVmIyIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjU0RjU0QUVGODlCODExRUE5OEIxOEY2RUQyODNFOUFDIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjU0RjU0QUVFODlCODExRUE5OEIxOEY2RUQyODNFOUFDIiB4bXA6Q3JlYXRvclRvb2w9IjEwLjMuMSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkM0NTVERUU5NkVCQzExRTdCNTFGQUYyQTFGOTk2NTMzIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkM0NTVERUVBNkVCQzExRTdCNTFGQUYyQTFGOTk2NTMzIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+/+4ADkFkb2JlAGTAAAAAAf/bAIQAFBAQGRIZJxcXJzImHyYyLiYmJiYuPjU1NTU1PkRBQUFBQUFERERERERE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',
'images/sample-png.png' => 'iVBORw0KGgoAAAANSUhEUgAAAyAAAAJYCAMAAACtqHJCAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAvtpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NjcyODBDQTI2RUJEMTFFN0I1MUZBRjJBMUY5OTY1MzMiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NjcyODBDQTE2RUJEMTFFN0I1MUZBRjJBMUY5OTY1MzMiIHhtcDpDcmVhdG9yVG9vbD0iMTAuMy4xIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9IjlCOEI3N0E4NDRCOUM3MDQ1QjdBOUU4MkNFQUYyRTJCIiBzdFJlZjpkb2N1bWVudElEPSI5QjhCNzdBODQ0QjlDNzA0NUI3QTlFODJDRUFGMkUyQiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PrKTQqMAAAGAUExURWRMV/aZXE4QB/VbJZ8hDfNuVK6dnykNC4ygKVAjJHRFNK7SXkxLDnKNIa/VlwcD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',
'resources/composer.phar' => 'IyEvdXNyL2Jpbi9lbnYgcGhwCjw/cGhwCi8qCiAqIFRoaXMgZmlsZSBpcyBwYXJ0IG9mIENvbXBvc2VyLgogKgogKiAoYykgTmlscyBBZGVybWFubiA8bmFkZXJtYW5AbmFkZXJtYW4uZGU+CiAqICAgICBKb3JkaSBCb2dnaWFubyA8ai5ib2dnaWFub0BzZWxkLmJlPgogKgogKiBGb3IgdGhlIGZ1bGwgY29weXJpZ2h0IGFuZCBsaWNlbnNlIGluZm9ybWF0aW9uLCBwbGVhc2UgdmlldwogKiB0aGUgbGljZW5zZSB0aGF0IGlzIGxvY2F0ZWQgYXQgdGhlIGJvdHRvbSBvZiB0aGlzIGZpbGUuCiAqLwoKLy8gQXZvaWQgQVBDIGNhdXNpbmcgcmFuZG9tIGZhdGFsIGVycm9ycyBwZXIgaHR0cHM6Ly9naXRodWIuY29tL2NvbXBvc2VyL2NvbXBvc2VyL2lzc3Vlcy8yNjQKaWYgKGV4dGVuc2lvbl9sb2FkZWQoJ2FwYycpICYmIGZpbHRlcl92YXIoaW5pX2dldCgnYXBjLmVuYWJsZV9jbGknKSwgRklMVEVSX1ZBTElEQVRFX0JPT0xFQU4pICYmIGZpbHRlcl92YXIoaW5pX2dldCgnYXBjLmNhY2hlX2J5X2RlZmF1bHQnKSwgRklMVEVSX1ZBTElEQVRFX0JPT0xFQU4pKSB7CiAgICBpZiAodmVyc2lvbl9jb21wYXJlKHBocHZlcnNpb24oJ2FwYycpLCAnMy4wLjEyJywgJz49JykpIHsKICAgICAgICBpbmlfc2V0KCdhcGMuY2FjaGVfYnlfZGVmYXVsdCcsIDApOwogICAgfSBlbHNlIHsKICAgICAgICBmd3JpdGUoU1RERVJSLCAnV2FybmluZzogQVBDIDw9IDMuMC4xMiBtYXkgY2F1c2UgZmF0YWwgZXJyb3JzIHdoZW4gcnVubmluZyBjb21wb3NlciBjb21tYW5kcy4nLlBIUF9FT0wpOwogICAgICAgIGZ3cml0ZShTVERFUlIsICdVcGRhdGUgQVBDLCBvciBzZXQgYXBjLmVuYWJsZV9jbGkgb3IgYXBjLmNhY2hlX2J5X2RlZmF1bHQgdG8gMCBpbiB5b3VyIHBocC5pbmkuJy5QSFBfRU9MKTsKICAgIH0KfQoKUGhhcjo6bWFwUGhhcignY29tcG9zZXIucGhhcicpOwpyZXF1aXJlICdwaGFyOi8vY29tcG9zZXIucGhhci9iaW4vY29tcG9zZXInOwoKX19IQUxUX0NPTVBJTEVSKCk7ID8+DQpXoAAAHgIAABEAAAABAA0AAABjb21wb3Nlci5waGFyAAAAACsAAABzcmMvQ29tcG9zZXIvQXV0b2xvYWQvQXV0b2xvYWRHZW5lcmF0b3IucGhwGYIAALjQwGAZggAAZpKt8KQBAAAAAAAAKwAAAHNyYy9Db21wb3Nlci9BdXRvbG9hZC9DbGFzc01hcEdlbmVyYXRvci5waHD8GgAAuNDAYPwaAAAAjDgZpAEAAAAAAAAWAAAAc3JjL0NvbXBvc2VyL0NhY2hlLnBocOsVAAC40MBg6xUAADSS2C2kAQAAAAAAACUAAABzcmMvQ29tcG9zZXIvQ29tbWFuZC9BYm91dENvbW1hbmQucGhwNAMAALjQwGA0AwAAACGvw6QBAAAAAAAAJwAAAHNyYy9Db21wb3Nlci9Db21tYW5kL0FyY2hpdmVDb21tYW5kLnBocJQWAAC40MBglBYAAJsUIRGkAQAAAAAAACQAAABzcmMvQ29tcG9zZXIvQ29tbWFuZC9CYXNlQ29tbWFuZC5waHACFQAAuNDAYAIVAADF2zIBpAEAAAAAAAAuAAAAc3JjL0NvbXBvc2VyL0NvbW1hbmQvQmFzZURlcGVuZGVuY3lDb21tYW5kLnBocDgWAAC40MBgOBYAACjZsg2kAQAAAAAAADEAAABzcmMvQ29tcG9zZXIvQ29tbWFuZC9DaGVja1BsYXRmb3JtUmVxc0NvbW1hbmQucGhwuRMAALjQwGC5EwAAaFaXr6QBAAAAAAAAKgAAAHNyYy9Db21wb3Nlci9Db21tYW5kL0NsZWFyQ2FjaGVDb21tYW5kLnBocPMFAAC40MBg8wUAAIgoKtSkAQAAAAAAACYAAABzcmMvQ29tcG9zZXIvQ29tbWFuZC9Db25maWdDb21tYW5kLnBocMxYAAC40MBgzFgAALXQRVekAQAAAAAAAC0AAABzcmMvQ29tcG9zZXIvQ29tbWFuZC9DcmVhdGVQcm9qZWN0Q29tbWFuZC5waHAaQwAAuNDAYBpDAADGYGLjpAEAAAAAAAAnAAAAc3JjL0NvbXBvc2VyL0NvbW1hbmQvRGVwZW5kc0NvbW1hbmQucGhwkgQAALjQwGCSBAAAZXeHKqQBAAAAAAAAKAAAAHNyYy9Db21wb3Nlci9Db21tYW5kL0RpYWdub3NlQ29tbWFuZC5waHARTAAAuNDAYBFMAADhqaB+pAEAAAAAAAAsAAAAc3JjL0NvbXBvc2VyL0NvbW1hbmQvRHVtcEF1dG9sb2FkQ29tbWFuZC5waHD2EAAAuNDAYPYQAAD+YVSkpAEAAAAAAAAkAAAAc3JjL0NvbXBvc2VyL0NvbW1hbmQvRXhlY0NvbW1hbmQucGhwnAgAALjQwGCcCAAACjuFKaQBAAAAAAAAJAAAAHNyYy9Db21wb3Nlci9Db21tYW5kL0Z1bmRDb21tYW5kLnBocCkOAAC40MBgKQ4AAImLO26kAQAAAAAAACYAAABzcmMvQ29tcG9zZXIvQ29tbWFuZC9HbG9iYWxDb21tYW5kLnBocGMKAAC40MBgYwoAAG9rbGekAQAAAAAAACQAAABzcmMvQ29tcG9zZXIvQ29tbWFuZC9Ib21lQ29tbWFuZC5waHAGDwAAuNDAYAYPAABwCJfOpAEAAAAAAAAkAAAAc3JjL0NvbXBvc2VyL0NvbW1hbmQvSW5pdENvbW1hbmQucGhwr2sAALjQwGCvawAAOgP3aqQBAAAAAAAAJwAAAHNyYy9Db21wb3Nlci9Db21tYW5kL0luc3RhbGxDb21tYW5kLnBocCMZAAC40MBgIxkAAAJ3oqikAQAAAAAAACgAAABzcmMvQ29tcG9zZXIvQ29tbWFuZC9MaWNlbnNlc0NvbW1hbmQucGhwXBEAALjQwGBcEQAALBUFAKQBAAAAAAAAKAAAAHNyYy9Db21wb3Nlci9Db21tYW5kL091dGRhdGVkQ29tbWFuZC5waHCNDQAAuNDAYI0NAAA3fr09pAEAAAAAAAApAAAAc3JjL0NvbXBvc2VyL0NvbW1hbmQvUHJvaGliaXRzQ29tbWFuZC5waHA8BQAAuNDAYDwFAADf2w8LpAEAAAAAAAApAAAAc3JjL0NvbXBvc2VyL0NvbW1hbmQvUmVpbnN0YWxsQ29tbWFuZC5waHCmGQAAuNDAYKYZAACYPTVdpAEAAAAAAAAmAAAAc3JjL0NvbXBvc2VyL0NvbW1hbmQvUmVtb3ZlQ29tbWFuZC5waHDUKQAAuNDAYNQpAAAjthUQpAEAAAAAAAAnAAAAc3JjL0NvbXBvc2VyL0NvbW1hbmQvUmVxdWlyZUNvbW1hbmQucGhwdD8AALjQwGB0PwAAodryraQBAAAAAAAAKQAAAHNyYy9Db21wb3Nlci9Db21tYW5kL1J1blNjcmlwdENvbW1hbmQucGhwoA4AALjQwGCgDgAAHI+kNqQBAAAAAAAAKwAAAHNyYy9Db21wb3Nlci9Db21tYW5kL1NjcmlwdEFsaWFzQ29tbWFuZC5waHCvBQAAuNDAYK8FAAA/PRDRpAEAAAAAAAAmAAAAc3JjL0NvbXBvc2VyL0NvbW1hbmQvU2VhcmNoQ29tbWFuZC5waHB4DAAAuNDAYHgMAADvxHRApAEAAAAAAAAqAAAAc3JjL0NvbXBvc2VyL0NvbW1hbmQvU2VsZlVwZGF0ZUNvbW1hbmQucGhwGUUAALjQwGAZRQAAM8+P06QBAAAAAAAAJAAAAHNyYy9Db21wb3Nlci9Db21tYW5kL1Nob3dDb21tYW5kLnBocPONAAC40MBg840AANndotGkAQAAAAAAACYAAABzcmMvQ29tcG9zZXIvQ29tbWFuZC9TdGF0dXNDb21tYW5kLnBocOsVAAC40MBg6xUAAA+jY32kAQAAAAAAACgAAABzcmMvQ29tcG9zZXIvQ29tbWFuZC9TdWdnZXN0c0NvbW1hbmQucGhwmAsAALjQwGCYCwAAPWN74KQBAAAAAAAAJgAAAHNyYy9Db21wb3Nlci9Db21tYW5kL1VwZGF0ZUNvbW1hbmQucGhwEzUAALjQwGATNQAA812lC6QBAAAAAAAAKAAAAHNyYy9Db21wb3Nlci9Db21tYW5kL1ZhbGlkYXRlQ29tbWFuZC5waHBcHwAAuNDAYFwfAAC9SgPQpAEAAAAAAAAZAAAAc3JjL0NvbXBvc2VyL0NvbXBvc2VyLnBocB0MAAC40MBgHQwAAAVlf26kAQAAAAAAABcAAABzcmMvQ29tcG9zZXIvQ29uZmlnLnBocKEnAAC40MBgoScAAHpKw3OkAQAAAAAAAC0AAABzcmMvQ29tcG9zZXIvQ29uZmlnL0NvbmZpZ1NvdXJjZUludGVyZmFjZS5waHAeAgAAuNDAYB4CAAAfjRj7pAEAAAAAAAAoAAAAc3JjL0NvbXBvc2VyL0NvbmZpZy9Kc29uQ29uZmlnU291cmNlLnBocJIZAAC40MBgkhkAABmdjUSkAQAAAAAAACQAAABzcmMvQ29tcG9zZXIvQ29uc29sZS9BcHBsaWNhdGlvbi5waHDDPQAAuNDAYMM9AACsN6x7pAEAAAAAAAAqAAAAc3JjL0NvbXBvc2VyL0NvbnNvbGUvR2l0aHViQWN0aW9uRXJyb3IucGhwaAIAALjQwGBoAgAAnFHGdKQBAAAAAAAALAAAAHNyYy9Db21wb3Nlci9Db25zb2xlL0h0bWxPdXRwdXRGb3JtYXR0ZXIucGhwMAYAALjQwGAwBgAAXtCa0qQBAAAAAAAALQAAAHNyYy9Db21wb3Nlci9EZXBlbmRlbmN5UmVzb2x2ZXIvRGVjaXNpb25zLnBocLMQAAC40MBgsxAAAHvgSMukAQAAAAAAADEAAABzcmMvQ29tcG9zZXIvRGVwZW5kZW5jeVJlc29sdmVyL0RlZmF1bHRQb2xpY3kucGhw3RAAALjQwGDdEAAABrFbRaQBAAAAAAAALwAAAHNyYy9Db21wb3Nlci9EZXBlbmRlbmN5UmVzb2x2ZXIvR2VuZXJpY1J1bGUucGhwnAMAALjQwGCcAwAAZXpA8aQBAAAAAAAAOAAAAHNyYy9Db21wb3Nlci9EZXBlbmRlbmN5UmVzb2x2ZXIvTG9jYWxSZXBvVHJhbnNhY3Rpb24ucGhwUQEAALjQwGBRAQAAFe02xKQBAAAAAAAAMwAAAHNyYy9Db21wb3Nlci9EZXBlbmRlbmN5UmVzb2x2ZXIvTG9ja1RyYW5zYWN0aW9uLnBocOAKAAC40MBg4AoAAOyNYGukAQAAAAAAADUAAABzcmMvQ29tcG9zZXIvRGVwZW5kZW5jeVJlc29sdmVyL011bHRpQ29uZmxpY3RSdWxlLnBocCcFAAC40MBgJwUAAK8K6d6kAQAAAAAAAD4AAABzcmMvQ29tcG9zZXIvRGVwZW5kZW5jeVJlc29sdmVyL09wZXJhdGlvbi9JbnN0YWxsT3BlcmF0aW9uLnBocLcCAAC40MBgtwIAACPSrZKkAQAAAAAAAEkAAABzcmMvQ29tcG9zZXIvRGVwZW5kZW5jeVJlc29sdmVyL09wZXJhdGlvbi9NYXJrQWxpYXNJbnN0YWxsZWRPcGVyYXRpb24ucGhw3wIAALjQwGDfAgAAPdn3wKQBAAAAAAAASwAAAHNyYy9Db21wb3Nlci9EZXBlbmRlbmN5UmVzb2x2ZXIvT3BlcmF0aW9uL01hcmtBbGlhc1VuaW5zdGFsbGVkT3BlcmF0aW9uLnBocOUCAAC40MBg5QIAAIewuC+kAQAAAAAAAEAAAABzcmMvQ29tcG9zZXIvRGVwZW5kZW5jeVJlc29sdmVyL09wZXJhdGlvbi9PcGVyYXRpb25JbnRlcmZhY2UucGhw2gAAALjQwGDaAAAAUeLoG6QBAAAAAAAAPQAAAHNyYy9Db21wb3Nlci9EZXBlbmRlbmN5UmVzb2x2ZXIvT3BlcmF0aW9uL1NvbHZlck9wZXJhdGlvbi5waHAeAQAAuNDAYB4BAABtGNFhpAEAAAAAAABAAAAAc3JjL0NvbXBvc2VyL0RlcGVuZGVuY3lSZXNvbHZlci9PcGVyYXRpb24vVW5pbnN0YWxsT3BlcmF0aW9uLnBocJ8CAAC40MBgnwIAAG8gsSikAQAAAAAAAD0AAABzcmMvQ29tcG9zZXIvRGVwZW5kZW5jeVJlc29sdmVyL09wZXJhdGlvbi9VcGRhdGVPcGVyYXRpb24ucGhwRwcAALjQwGBHBwAAlogMCqQBAAAAAAAAMwAAAHNyYy9Db21wb3Nlci9EZXBlbmRlbmN5UmVzb2x2ZXIvUG9saWN5SW50ZXJmYWNlLnBocDcBAAC40MBgNwEAABeO/lKkAQAAAAAAACgAAABzcmMvQ29tcG9zZXIvRGVwZW5kZW5jeVJlc29sdmVyL1Bvb2wucGhwVw4AALjQwGBXDgAAq7BaeKQBAAAAAAAALwAAAHNyYy9Db21wb3Nlci9EZXBlbmRlbmN5UmVzb2x2ZXIvUG9vbEJ1aWxkZXIucGhwDTMAALjQwGANMwAAPIxDW6QBAAAAAAAAKwAAAHNyYy9Db21wb3Nlci9EZXBlbmRlbmN5UmVzb2x2ZXIvUHJvYmxlbS5waHDxPgAAuNDAYPE+AAD7CG63pAEAAAAAAAArAAAAc3JjL0NvbXBvc2VyL0RlcGVuZGVuY3lSZXNvbHZlci9SZXF1ZXN0LnBocOsOAAC40MBg6w4AAB5xaWSkAQAAAAAAACgAAABzcmMvQ29tcG9zZXIvRGVwZW5kZW5jeVJlc29sdmVyL1J1bGUucGhw5SoAALjQwGDlKgAAevTD+6QBAAAAAAAAMQAAAHNyYy9Db21wb3Nlci9EZXBlbmRlbmN5UmVzb2x2ZXIvUnVsZTJMaXRlcmFscy5waHD/BAAAuNDAYP8EAAA+3agOpAEAAAAAAAArAAAAc3JjL0NvbXBvc2VyL0RlcGVuZGVuY3lSZXNvbHZlci9SdWxlU2V0LnBocHULAAC40MBgdQsAAOjUiySkAQAAAAAAADQAAABzcmMvQ29tcG9zZXIvRGVwZW5kZW5jeVJlc29sdmVyL1J1bGVTZXRHZW5lcmF0b3IucGhwixgAALjQwGCLGAAAvIpcyKQBAAAAAAAAMwAAAHNyYy9Db21wb3Nlci9EZXBlbmRlbmN5UmVzb2x2ZXIvUnVsZVNldEl0ZXJhdG9yLnBocAsGAAC40MBgCwYAAIVn2CykAQAAAAAAADIAAABzcmMvQ29tcG9zZXIvRGVwZW5kZW5jeVJlc29sdmVyL1J1bGVXYXRjaENoYWluLnBocGkBAAC40MBgaQEAAGjvmiykAQAAAAAAADIAAABzcmMvQ29tcG9zZXIvRGVwZW5kZW5jeVJlc29sdmVyL1J1bGVXYXRjaEdyYXBoLnBocDgJAAC40MBgOAkAADjTjsikAQAAAAAAADEAAABzcmMvQ29tcG9zZXIvRGVwZW5kZW5jeVJlc29sdmVyL1J1bGVXYXRjaE5vZGUucGhwMgQAALjQwGAyBAAA/DvjlKQBAAAAAAAAKgAAAHNyYy9Db21wb3Nlci9EZXBlbmRlbmN5UmVzb2x2ZXIvU29sdmVyLnBocA44AAC40MBgDjgAAJ5OgZKkAQAAAAAAADYAAABzcmMvQ29tcG9zZXIvRGVwZW5kZW5jeVJlc29sdmVyL1NvbHZlckJ1Z0V4Y2VwdGlvbi5waHCZAQAAuNDAYJkBAABYEmc2pAEAAAAAAAA7AAAAc3JjL0NvbXBvc2VyL0RlcGVuZGVuY3lSZXNvbHZlci9Tb2x2ZXJQcm9ibGVtc0V4Y2VwdGlvbi5waHALDgAAuNDAYAsOAAC67A1DpAEAAAAAAAAvAAAAc3JjL0NvbXBvc2VyL0RlcGVuZGVuY3lSZXNvbHZlci9UcmFuc2FjdGlvbi5waHCwGgAAuNDAYLAaAAAtre/fpAEAAAAAAAAtAAAAc3JjL0NvbXBvc2VyL0Rvd25sb2FkZXIvQXJjaGl2ZURvd25sb2FkZXIucGhwLg8AALjQwGAuDwAA5gZqRKQBAAAAAAAAMQAAAHNyYy9Db21wb3Nlci9Eb3dubG9hZGVyL0NoYW5nZVJlcG9ydEludGVyZmFjZS5waHDMAAAAuNDAYMwAAACv4Ki/pAEAAAAAAAArAAAAc3JjL0NvbXBvc2VyL0Rvd25sb2FkZXIvRG93bmxvYWRNYW5hZ2VyLnBocNoeAAC40MBg2h4AAC7BCnGkAQAAAAAAAC8AAABzcmMvQ29tcG9zZXIvRG93bmxvYWRlci9Eb3dubG9hZGVySW50ZXJmYWNlLnBocAoDAAC40MBgCgMAAMjPofWkAQAAAAAAADMAAABzcmMvQ29tcG9zZXIvRG93bmxvYWRlci9EdmNzRG93bmxvYWRlckludGVyZmFjZS5waHDRAAAAuNDAYNEAAAAmwZy/pAEAAAAAAAAqAAAAc3JjL0NvbXBvc2VyL0Rvd25sb2FkZXIvRmlsZURvd25sb2FkZXIucGhwpy0AALjQwGCnLQAAbYhFX6QBAAAAAAAALwAAAHNyYy9Db21wb3Nlci9Eb3dubG9hZGVyL0ZpbGVzeXN0ZW1FeGNlcHRpb24ucGhwCgEAALjQwGAKAQAALi0ei6QBAAAAAAAALAAAAHNyYy9Db21wb3Nlci9Eb3dubG9hZGVyL0Zvc3NpbERvd25sb2FkZXIucGhwQQwAALjQwGBBDAAA5+OPSqQBAAAAAAAAKQAAAHNyYy9Db21wb3Nlci9Eb3dubG9hZGVyL0dpdERvd25sb2FkZXIucGhwFj8AALjQwGAWPwAAXLJhF6QBAAAAAAAAKgAAAHNyYy9Db21wb3Nlci9Eb3dubG9hZGVyL0d6aXBEb3dubG9hZGVyLnBocBkFAAC40MBgGQUAALZGClGkAQAAAAAAACgAAABzcmMvQ29tcG9zZXIvRG93bmxvYWRlci9IZ0Rvd25sb2FkZXIucGhwDQoAALjQwGANCgAA1IMwLKQBAAAAAAAAOAAAAHNyYy9Db21wb3Nlci9Eb3dubG9hZGVyL01heEZpbGVTaXplRXhjZWVkZWRFeGNlcHRpb24ucGhwcwAAALjQwGBzAAAA2aIL8aQBAAAAAAAAKgAAAHNyYy9Db21wb3Nlci9Eb3dubG9hZGVyL1BhdGhEb3dubG9hZGVyLnBocHYaAAC40MBgdhoAANjyilSkAQAAAAAAAC4AAABzcmMvQ29tcG9zZXIvRG93bmxvYWRlci9QZXJmb3JjZURvd25sb2FkZXIucGhwZQgAALjQwGBlCAAAOpSiRqQBAAAAAAAAKgAAAHNyYy9Db21wb3Nlci9Eb3dubG9hZGVyL1BoYXJEb3dubG9hZGVyLnBocEkBAAC40MBgSQEAAMRrMPKkAQAAAAAAACkAAABzcmMvQ29tcG9zZXIvRG93bmxvYWRlci9SYXJEb3dubG9hZGVyLnBocDYGAAC40MBgNgYAAM/QRvWkAQAAAAAAACkAAABzcmMvQ29tcG9zZXIvRG93bmxvYWRlci9Tdm5Eb3dubG9hZGVyLnBocIgWAAC40MBgiBYAABJgmvCkAQAAAAAAACkAAABzcmMvQ29tcG9zZXIvRG93bmxvYWRlci9UYXJEb3dubG9hZGVyLnBocEcBAAC40MBgRwEAAC8YUF2kAQAAAAAAAC4AAABzcmMvQ29tcG9zZXIvRG93bmxvYWRlci9UcmFuc3BvcnRFeGNlcHRpb24ucGhwCAMAALjQwGAIAwAApazviaQBAAAAAAAAOQAAAHNyYy9Db21wb3Nlci9Eb3dubG9hZGVyL1Zjc0NhcGFibGVEb3dubG9hZGVySW50ZXJmYWNlLnBocNQAAAC40MBg1AAAAGCn9PakAQAAAAAAACkAAABzcmMvQ29tcG9zZXIvRG93bmxvYWRlci9WY3NEb3dubG9hZGVyLnBocGobAAC40MBgahsAABwP8wWkAQAAAAAAACgAAABzcmMvQ29tcG9zZXIvRG93bmxvYWRlci9YekRvd25sb2FkZXIucGhwTAIAALjQwGBMAgAAYl2+26QBAAAAAAAAKQAAAHNyYy9Db21wb3Nlci9Eb3dubG9hZGVyL1ppcERvd25sb2FkZXIucGhw8RYAALjQwGDxFgAA5rCWG6QBAAAAAAAAJgAAAHNyYy9Db21wb3Nlci9FdmVudERpc3BhdGNoZXIvRXZlbnQucGhwoAIAALjQwGCgAgAAsZlq76QBAAAAAAAAMAAAAHNyYy9Db21wb3Nlci9FdmVudERpc3BhdGNoZXIvRXZlbnREaXNwYXRjaGVyLnBocNsyAAC40MBg2zIAAEJianWkAQAAAAAAADkAAABzcmMvQ29tcG9zZXIvRXZlbnREaXNwYXRjaGVyL0V2ZW50U3Vic2NyaWJlckludGVyZmFjZS5waHCpAAAAuNDAYKkAAABotwEwpAEAAAAAAAA5AAAAc3JjL0NvbXBvc2VyL0V2ZW50RGlzcGF0Y2hlci9TY3JpcHRFeGVjdXRpb25FeGNlcHRpb24ucGhwdgAAALjQwGB2AAAAd1o4U6QBAAAAAAAAOQAAAHNyYy9Db21wb3Nlci9FeGNlcHRpb24vSXJyZWNvdmVyYWJsZURvd25sb2FkRXhjZXB0aW9uLnBocHYAAAC40MBgdgAAAERNvXmkAQAAAAAAACkAAABzcmMvQ29tcG9zZXIvRXhjZXB0aW9uL05vU3NsRXhjZXB0aW9uLnBocGgAAAC40MBgaAAAAIhk8dOkAQAAAAAAABgAAABzcmMvQ29tcG9zZXIvRmFjdG9yeS5waHDJQwAAuNDAYMlDAACATTDCpAEAAAAAAAAaAAAAc3JjL0NvbXBvc2VyL0lPL0Jhc2VJTy5waHCjEgAAuNDAYKMSAADqH7hKpAEAAAAAAAAcAAAAc3JjL0NvbXBvc2VyL0lPL0J1ZmZlcklPLnBocN4GAAC40MBg3gYAAHIuRXykAQAAAAAAAB0AAABzcmMvQ29tcG9zZXIvSU8vQ29uc29sZUlPLnBocKwZAAC40MBgrBkAAKHjO06kAQAAAAAAAB8AAABzcmMvQ29tcG9zZXIvSU8vSU9JbnRlcmZhY2UucGhw2AYAALjQwGDYBgAARvKw8KQBAAAAAAAAGgAAAHNyYy9Db21wb3Nlci9JTy9OdWxsSU8ucGhwvwQAALjQwGC/BAAABfNat6QBAAAAAAAAGgAAAHNyYy9Db21wb3Nlci9JbnN0YWxsZXIucGhwFHgAALjQwGAUeAAAjRHuJqQBAAAAAAAAKgAAAHNyYy9Db21wb3Nlci9JbnN0YWxsZXIvQmluYXJ5SW5zdGFsbGVyLnBocCkXAAC40MBgKRcAAO27TXekAQAAAAAAADIAAABzcmMvQ29tcG9zZXIvSW5zdGFsbGVyL0JpbmFyeVByZXNlbmNlSW50ZXJmYWNlLnBocMsAAAC40MBgywAAAMA1mqikAQAAAAAAAC4AAABzcmMvQ29tcG9zZXIvSW5zdGFsbGVyL0luc3RhbGxhdGlvbk1hbmFnZXIucGhw5TMAALjQwGDlMwAAB9innKQBAAAAAAAAKQAAAHNyYy9Db21wb3Nlci9JbnN0YWxsZXIvSW5zdGFsbGVyRXZlbnQucGhw5QMAALjQwGDlAwAAzkUNTqQBAAAAAAAAKgAAAHNyYy9Db21wb3Nlci9JbnN0YWxsZXIvSW5zdGFsbGVyRXZlbnRzLnBocIUAAAC40MBghQAAAG7cPMGkAQAAAAAAAC0AAABzcmMvQ29tcG9zZXIvSW5zdGFsbGVyL0luc3RhbGxlckludGVyZmFjZS5waHBJBAAAuNDAYEkEAAC1qthcpAEAAAAAAAArAAAAc3JjL0NvbXBvc2VyL0luc3RhbGxlci9MaWJyYXJ5SW5zdGFsbGVyLnBocIEbAAC40MBggRsAAMIjxV+kAQAAAAAAAC8AAABzcmMvQ29tcG9zZXIvSW5zdGFsbGVyL01ldGFwYWNrYWdlSW5zdGFsbGVyLnBocJYIAAC40MBglggAACAuFKakAQAAAAAAACgAAABzcmMvQ29tcG9zZXIvSW5zdGFsbGVyL05vb3BJbnN0YWxsZXIucGhwJgcAALjQwGAmBwAALn+2FaQBAAAAAAAAJwAAAHNyYy9Db21wb3Nlci9JbnN0YWxsZXIvUGFja2FnZUV2ZW50LnBocJYEAAC40MBglgQAAD2vs1ikAQAAAAAAACgAAABzcmMvQ29tcG9zZXIvSW5zdGFsbGVyL1BhY2thZ2VFdmVudHMucGhwuAEAALjQwGC4AQAAZGLYc6QBAAAAAAAAKgAAAHNyYy9Db21wb3Nlci9JbnN0YWxsZXIvUGx1Z2luSW5zdGFsbGVyLnBocLkKAAC40MBguQoAAI0A7wekAQAAAAAAACsAAABzcmMvQ29tcG9zZXIvSW5zdGFsbGVyL1Byb2plY3RJbnN0YWxsZXIucGhwZggAALjQwGBmCAAA2ceTQqQBAAAAAAAANAAAAHNyYy9Db21wb3Nlci9JbnN0YWxsZXIvU3VnZ2VzdGVkUGFja2FnZXNSZXBvcnRlci5waHDzEAAAuNDAYPMQAAA2BHMLpAEAAAAAAAAeAAAAc3JjL0NvbXBvc2VyL0pzb24vSnNvbkZpbGUucGhwixcAALjQwGCLFwAATUFRMaQBAAAAAAAAIwAAAHNyYy9Db21wb3Nlci9Kc29uL0pzb25Gb3JtYXR0ZXIucGhwUwYAALjQwGBTBgAAH4ZlBqQBAAAAAAAAJQAAAHNyYy9Db21wb3Nlci9Kc29uL0pzb25NYW5pcHVsYXRvci5waHC4NwAAuNDAYLg3AAAeAWh5pAEAAAAAAAAtAAAAc3JjL0NvbXBvc2VyL0pzb24vSnNvblZhbGlkYXRpb25FeGNlcHRpb24ucGhwXAEAALjQwGBcAQAALljz3KQBAAAAAAAAJQAAAHNyYy9Db21wb3Nlci9QYWNrYWdlL0FsaWFzUGFja2FnZS5waHCmFgAAuNDAYKYWAAB4aB5fpAEAAAAAAAA3AAAAc3JjL0NvbXBvc2VyL1BhY2thZ2UvQXJjaGl2ZXIvQXJjaGl2YWJsZUZpbGVzRmlsdGVyLnBocAkCAAC40MBgCQIAAHlZK6akAQAAAAAAADcAAABzcmMvQ29tcG9zZXIvUGFja2FnZS9BcmNoaXZlci9BcmNoaXZhYmxlRmlsZXNGaW5kZXIucGhw5gUAALjQwGDmBQAAVWAbxqQBAAAAAAAAMAAAAHNyYy9Db21wb3Nlci9QYWNrYWdlL0FyY2hpdmVyL0FyY2hpdmVNYW5hZ2VyLnBocHYOAAC40MBgdg4AAK3sSCGkAQAAAAAAADMAAABzcmMvQ29tcG9zZXIvUGFja2FnZS9BcmNoaXZlci9BcmNoaXZlckludGVyZmFjZS5waHAHAQAAuNDAYAcBAADxtD4LpAEAAAAAAAAzAAAAc3JjL0NvbXBvc2VyL1BhY2thZ2UvQXJjaGl2ZXIvQmFzZUV4Y2x1ZGVGaWx0ZXIucGhwfgYAALjQwGB+BgAAIcqgcKQBAAAAAAAANwAAAHNyYy9Db21wb3Nlci9QYWNrYWdlL0FyY2hpdmVyL0NvbXBvc2VyRXhjbHVkZUZpbHRlci5waHAfAQAAuNDAYB8BAACLU1owpAEAAAAAAAAyAAAAc3JjL0NvbXBvc2VyL1BhY2thZ2UvQXJjaGl2ZXIvR2l0RXhjbHVkZUZpbHRlci5waHByAwAAuNDAYHIDAAAzkU1opAEAAAAAAAAxAAAAc3JjL0NvbXBvc2VyL1BhY2thZ2UvQXJjaGl2ZXIvSGdFeGNsdWRlRmlsdGVyLnBocAoFAAC40MBgCgUAACbwbSikAQAAAAAAAC4AAABzcmMvQ29tcG9zZXIvUGFja2FnZS9BcmNoaXZlci9QaGFyQXJjaGl2ZXIucGhwOAYAALjQwGA4BgAARngnTaQBAAAAAAAALQAAAHNyYy9Db21wb3Nlci9QYWNrYWdlL0FyY2hpdmVyL1ppcEFyY2hpdmVyLnBocKQFAAC40MBgpAUAACFZ8pCkAQAAAAAAACQAAABzcmMvQ29tcG9zZXIvUGFja2FnZS9CYXNlUGFja2FnZS5waHBLDwAAuNDAYEsPAACY/2JBpAEAAAAAAAAqAAAAc3JjL0NvbXBvc2VyL1BhY2thZ2UvQ29tcGFyZXIvQ29tcGFyZXIucGhwqQgAALjQwGCpCAAA/u0lhqQBAAAAAAAALQAAAHNyYy9Db21wb3Nlci9QYWNrYWdlL0NvbXBsZXRlQWxpYXNQYWNrYWdlLnBocIgJAAC40MBgiAkAAEsZAFekAQAAAAAAACgAAABzcmMvQ29tcG9zZXIvUGFja2FnZS9Db21wbGV0ZVBhY2thZ2UucGhwEwkAALjQwGATCQAA6VyNBqQBAAAAAAAAMQAAAHNyYy9Db21wb3Nlci9QYWNrYWdlL0NvbXBsZXRlUGFja2FnZUludGVyZmFjZS5waHDZBAAAuNDAYNkEAAC+QvgkpAEAAAAAAAArAAAAc3JjL0NvbXBvc2VyL1BhY2thZ2UvRHVtcGVyL0FycmF5RHVtcGVyLnBocAcNAAC40MBgBw0AAJyXBzSkAQAAAAAAAB0AAABzcmMvQ29tcG9zZXIvUGFja2FnZS9MaW5rLnBocAkHAAC40MBgCQcAAFSIlCOkAQAAAAAAACsAAABzcmMvQ29tcG9zZXIvUGFja2FnZS9Mb2FkZXIvQXJyYXlMb2FkZXIucGhwCywAALjQwGALLAAAmJZs8KQBAAAAAAAANwAAAHNyYy9Db21wb3Nlci9QYWNrYWdlL0xvYWRlci9JbnZhbGlkUGFja2FnZUV4Y2VwdGlvbi5waHBFAgAAuNDAYEUCAAB4YhO+pAEAAAAAAAAqAAAAc3JjL0NvbXBvc2VyL1BhY2thZ2UvTG9hZGVyL0pzb25Mb2FkZXIucGhwAQMAALjQwGABAwAAuBHQRqQBAAAAAAAALwAAAHNyYy9Db21wb3Nlci9QYWNrYWdlL0xvYWRlci9Mb2FkZXJJbnRlcmZhY2UucGhwsgAAALjQwGCyAAAApn36zqQBAAAAAAAAMQAAAHNyYy9Db21wb3Nlci9QYWNrYWdlL0xvYWRlci9Sb290UGFja2FnZUxvYWRlci5waHBOGwAAuNDAYE4bAABG6RiNpAEAAAAAAAA1AAAAc3JjL0NvbXBvc2VyL1BhY2thZ2UvTG9hZGVyL1ZhbGlkYXRpbmdBcnJheUxvYWRlci5waHCxRwAAuNDAYLFHAAAymUUSpAEAAAAAAAAfAAAAc3JjL0NvbXBvc2VyL1BhY2thZ2UvTG9ja2VyLnBocO8lAAC40MBg7yUAAC73OeukAQAAAAAAACAAAABzcmMvQ29tcG9zZXIvUGFja2FnZS9QYWNrYWdlLnBocDIeAAC40MBgMh4AAD/0qCCkAQAAAAAAACkAAABzcmMvQ29tcG9zZXIvUGFja2FnZS9QYWNrYWdlSW50ZXJmYWNlLnBocNcJAAC40MBg1wkAAOH+T9OkAQAAAAAAACkAAABzcmMvQ29tcG9zZXIvUGFja2FnZS9Sb290QWxpYXNQYWNrYWdlLnBocDMLAAC40MBgMwsAAO90/GykAQAAAAAAACQAAABzcmMvQ29tcG9zZXIvUGFja2FnZS9Sb290UGFja2FnZS5waHA9BQAAuNDAYD0FAAD3Wu26pAEAAAAAAAAtAAAAc3JjL0NvbXBvc2VyL1BhY2thZ2UvUm9vdFBhY2thZ2VJbnRlcmZhY2UucGhwzQQAALjQwGDNBAAAwhPWBKQBAAAAAAAAMAAAAHNyYy9Db21wb3Nlci9QYWNrYWdlL1ZlcnNpb24vU3RhYmlsaXR5RmlsdGVyLnBocOkBAAC40MBg6QEAAMRplwukAQAAAAAAAC8AAABzcmMvQ29tcG9zZXIvUGFja2FnZS9WZXJzaW9uL1ZlcnNpb25HdWVzc2VyLnBocKckAAC40MBgpyQAAMkiPeWkAQAAAAAAAC4AAABzcmMvQ29tcG9zZXIvUGFja2FnZS9WZXJzaW9uL1ZlcnNpb25QYXJzZXIucGhwEwcAALjQwGATBwAAC7dzKaQBAAAAAAAAMAAAAHNyYy9Db21wb3Nlci9QYWNrYWdlL1ZlcnNpb24vVmVyc2lvblNlbGVjdG9yLnBocJ4RAAC40MBgnhEAAEvCFLikAQAAAAAAACYAAABzcmMvQ29tcG9zZXIvUGxhdGZvcm0vSGh2bURldGVjdG9yLnBocPEEAAC40MBg8QQAAJRc6b6kAQAAAAAAACEAAABzcmMvQ29tcG9zZXIvUGxhdGZvcm0vUnVudGltZS5waHBBBAAAuNDAYEEEAADypX98pAEAAAAAAAAhAAAAc3JjL0NvbXBvc2VyL1BsYXRmb3JtL1ZlcnNpb24ucGhwmgYAALjQwGCaBgAADigFuaQBAAAAAAAALQAAAHNyYy9Db21wb3Nlci9QbHVnaW4vQ2FwYWJpbGl0eS9DYXBhYmlsaXR5LnBocFcAAAC40MBgVwAAAOZfqDGkAQAAAAAAADIAAABzcmMvQ29tcG9zZXIvUGx1Z2luL0NhcGFiaWxpdHkvQ29tbWFuZFByb3ZpZGVyLnBocJcAAAC40MBglwAAAPtP4j6kAQAAAAAAAB8AAABzcmMvQ29tcG9zZXIvUGx1Z2luL0NhcGFibGUucGhwfwAAALjQwGB/AAAAxnEVK6QBAAAAAAAAJAAAAHNyYy9Db21wb3Nlci9QbHVnaW4vQ29tbWFuZEV2ZW50LnBocOICAAC40MBg4gIAALPGx1ekAQAAAAAAACQAAABzcmMvQ29tcG9zZXIvUGx1Z2luL1BsdWdpbkV2ZW50cy5waHBlAQAAuNDAYGUBAAAqVX5ypAEAAAAAAAAnAAAAc3JjL0NvbXBvc2VyL1BsdWdpbi9QbHVnaW5JbnRlcmZhY2UucGhwjgEAALjQwGCOAQAAU38naKQBAAAAAAAAJQAAAHNyYy9Db21wb3Nlci9QbHVnaW4vUGx1Z2luTWFuYWdlci5waHB9MAAAuNDAYH0wAACj1E4RpAEAAAAAAAAtAAAAc3JjL0NvbXBvc2VyL1BsdWdpbi9Qb3N0RmlsZURvd25sb2FkRXZlbnQucGhwUwUAALjQwGBTBQAAIaJ5EaQBAAAAAAAAKgAAAHNyYy9Db21wb3Nlci9QbHVnaW4vUHJlQ29tbWFuZFJ1bkV2ZW50LnBocPUBAAC40MBg9QEAADrwZB6kAQAAAAAAACwAAABzcmMvQ29tcG9zZXIvUGx1Z2luL1ByZUZpbGVEb3dubG9hZEV2ZW50LnBocC8FAAC40MBgLwUAAB9q7xqkAQAAAAAAACoAAABzcmMvQ29tcG9zZXIvUGx1Z2luL1ByZVBvb2xDcmVhdGVFdmVudC5waHBBBwAAuNDAYEEHAAB4vJR5pAEAAAAAAAA0AAAAc3JjL0NvbXBvc2VyL1F1ZXN0aW9uL1N0cmljdENvbmZpcm1hdGlvblF1ZXN0aW9uLnBocB4FAAC40MBgHgUAACcus+ikAQAAAAAAACsAAABzcmMvQ29tcG9zZXIvUmVwb3NpdG9yeS9BcnJheVJlcG9zaXRvcnkucGhw5BYAALjQwGDkFgAAJp5IsaQBAAAAAAAALgAAAHNyYy9Db21wb3Nlci9SZXBvc2l0b3J5L0FydGlmYWN0UmVwb3NpdG9yeS5waHDzCwAAuNDAYPMLAADmpu2CpAEAAAAAAAAuAAAAc3JjL0NvbXBvc2VyL1JlcG9zaXRvcnkvQ29tcG9zZXJSZXBvc2l0b3J5LnBocIORAAC40MBgg5EAAAVA5ZSkAQAAAAAAAC8AAABzcmMvQ29tcG9zZXIvUmVwb3NpdG9yeS9Db21wb3NpdGVSZXBvc2l0b3J5LnBocE8MAAC40MBgTwwAAKS+n46kAQAAAAAAADsAAABzcmMvQ29tcG9zZXIvUmVwb3NpdG9yeS9Db25maWd1cmFibGVSZXBvc2l0b3J5SW50ZXJmYWNlLnBocIUAAAC40MBghQAAALGfXxykAQAAAAAAADAAAABzcmMvQ29tcG9zZXIvUmVwb3NpdG9yeS9GaWxlc3lzdGVtUmVwb3NpdG9yeS5waHCWHQAAuNDAYJYdAADn/e0kpAEAAAAAAAAsAAAAc3JjL0NvbXBvc2VyL1JlcG9zaXRvcnkvRmlsdGVyUmVwb3NpdG9yeS5waHAoDgAAuNDAYCgOAAAwsUR2pAEAAAAAAAA0AAAAc3JjL0NvbXBvc2VyL1JlcG9zaXRvcnkvSW5zdGFsbGVkQXJyYXlSZXBvc2l0b3J5LnBocDEBAAC40MBgMQEAAF0Fq9ekAQAAAAAAADkAAABzcmMvQ29tcG9zZXIvUmVwb3NpdG9yeS9JbnN0YWxsZWRGaWxlc3lzdGVtUmVwb3NpdG9yeS5waHAxAQAAuNDAYDEBAAB5JurNpAEAAAAAAAAvAAAAc3JjL0NvbXBvc2VyL1JlcG9zaXRvcnkvSW5zdGFsbGVkUmVwb3NpdG9yeS5waHD3FwAAuNDAYPcXAAA87SZVpAEAAAAAAAA4AAAAc3JjL0NvbXBvc2VyL1JlcG9zaXRvcnkvSW5zdGFsbGVkUmVwb3NpdG9yeUludGVyZmFjZS5waHClAAAAuNDAYKUAAAAcwyUIpAEAAAAAAAA2AAAAc3JjL0NvbXBvc2VyL1JlcG9zaXRvcnkvSW52YWxpZFJlcG9zaXRvcnlFeGNlcHRpb24ucGhwbgAAALjQwGBuAAAA4JPrmKQBAAAAAAAALwAAAHNyYy9Db21wb3Nlci9SZXBvc2l0b3J5L0xvY2tBcnJheVJlcG9zaXRvcnkucGhwpAAAALjQwGCkAAAARZmGU6QBAAAAAAAALQAAAHNyYy9Db21wb3Nlci9SZXBvc2l0b3J5L1BhY2thZ2VSZXBvc2l0b3J5LnBocNEDAAC40MBg0QMAAKuJtBKkAQAAAAAAACoAAABzcmMvQ29tcG9zZXIvUmVwb3NpdG9yeS9QYXRoUmVwb3NpdG9yeS5waHAoEAAAuNDAYCgQAABiMg9MpAEAAAAAAAAqAAAAc3JjL0NvbXBvc2VyL1JlcG9zaXRvcnkvUGVhclJlcG9zaXRvcnkucGhw5gAAALjQwGDmAAAApDUfkaQBAAAAAAAALgAAAHNyYy9Db21wb3Nlci9SZXBvc2l0b3J5L1BsYXRmb3JtUmVwb3NpdG9yeS5waHBISgAAuNDAYEhKAAB2OPscpAEAAAAAAAAtAAAAc3JjL0NvbXBvc2VyL1JlcG9zaXRvcnkvUmVwb3NpdG9yeUZhY3RvcnkucGhwpRMAALjQwGClEwAAu+0ATqQBAAAAAAAALwAAAHNyYy9Db21wb3Nlci9SZXBvc2l0b3J5L1JlcG9zaXRvcnlJbnRlcmZhY2UucGhwNwMAALjQwGA3AwAAazEdLKQBAAAAAAAALQAAAHNyYy9Db21wb3Nlci9SZXBvc2l0b3J5L1JlcG9zaXRvcnlNYW5hZ2VyLnBocAULAAC40MBgBQsAALQWPXikAQAAAAAAADcAAABzcmMvQ29tcG9zZXIvUmVwb3NpdG9yeS9SZXBvc2l0b3J5U2VjdXJpdHlFeGNlcHRpb24ucGhwbwAAALjQwGBvAAAAcNWrqqQBAAAAAAAAKQAAAHNyYy9Db21wb3Nlci9SZXBvc2l0b3J5L1JlcG9zaXRvcnlTZXQucGhwsBkAALjQwGCwGQAAMHPWeKQBAAAAAAAAMQAAAHNyYy9Db21wb3Nlci9SZXBvc2l0b3J5L1Jvb3RQYWNrYWdlUmVwb3NpdG9yeS5waHBAAQAAuNDAYEABAABYpo4cpAEAAAAAAAAvAAAAc3JjL0NvbXBvc2VyL1JlcG9zaXRvcnkvVmNzL0JpdGJ1Y2tldERyaXZlci5waHCMIAAAuNDAYIwgAACSraw+pAEAAAAAAAAsAAAAc3JjL0NvbXBvc2VyL1JlcG9zaXRvcnkvVmNzL0Zvc3NpbERyaXZlci5waHBuEwAAuNDAYG4TAADkeVELpAEAAAAAAAAyAAAAc3JjL0NvbXBvc2VyL1JlcG9zaXRvcnkvVmNzL0dpdEJpdGJ1Y2tldERyaXZlci5waHBmBgAAuNDAYGYGAADCuLD7pAEAAAAAAAApAAAAc3JjL0NvbXBvc2VyL1JlcG9zaXRvcnkvVmNzL0dpdERyaXZlci5waHCDFAAAuNDAYIMUAABNpH6hpAEAAAAAAAAsAAAAc3JjL0NvbXBvc2VyL1JlcG9zaXRvcnkvVmNzL0dpdEh1YkRyaXZlci5waHD2NAAAuNDAYPY0AAA5l6nSpAEAAAAAAAAsAAAAc3JjL0NvbXBvc2VyL1JlcG9zaXRvcnkvVmNzL0dpdExhYkRyaXZlci5waHB9LAAAuNDAYH0sAAA5wLpppAEAAAAAAAAxAAAAc3JjL0NvbXBvc2VyL1JlcG9zaXRvcnkvVmNzL0hnQml0YnVja2V0RHJpdmVyLnBocGIGAAC40MBgYgYAALkPoZSkAQAAAAAAACgAAABzcmMvQ29tcG9zZXIvUmVwb3NpdG9yeS9WY3MvSGdEcml2ZXIucGhwFxIAALjQwGAXEgAA/u0IxaQBAAAAAAAALgAAAHNyYy9Db21wb3Nlci9SZXBvc2l0b3J5L1Zjcy9QZXJmb3JjZURyaXZlci5waHAECgAAuNDAYAQKAADIIhmIpAEAAAAAAAApAAAAc3JjL0NvbXBvc2VyL1JlcG9zaXRvcnkvVmNzL1N2bkRyaXZlci5waHCVHAAAuNDAYJUcAADt1U/1pAEAAAAAAAApAAAAc3JjL0NvbXBvc2VyL1JlcG9zaXRvcnkvVmNzL1Zjc0RyaXZlci5waHBkCgAAuNDAYGQKAAA9MVzHpAEAAAAAAAAyAAAAc3JjL0NvbXBvc2VyL1JlcG9zaXRvcnkvVmNzL1Zjc0RyaXZlckludGVyZmFjZS5waHD3AgAAuNDAYPcCAADHWFuJpAEAAAAAAAApAAAAc3JjL0NvbXBvc2VyL1JlcG9zaXRvcnkvVmNzUmVwb3NpdG9yeS5waHBeMgAAuNDAYF4yAACkOq6ypAEAAAAAAAAxAAAAc3JjL0NvbXBvc2VyL1JlcG9zaXRvcnkvVmVyc2lvbkNhY2hlSW50ZXJmYWNlLnBocJQAAAC40MBglAAAAEE/Uu+kAQAAAAAAADMAAABzcmMvQ29tcG9zZXIvUmVwb3NpdG9yeS9Xcml0YWJsZUFycmF5UmVwb3NpdG9yeS5waHBPBAAAuNDAYE8EAACJ3QjqpAEAAAAAAAA3AAAAc3JjL0NvbXBvc2VyL1JlcG9zaXRvcnkvV3JpdGFibGVSZXBvc2l0b3J5SW50ZXJmYWNlLnBocFMCAAC40MBgUwIAADVDZ9OkAQAAAAAAAB0AAABzcmMvQ29tcG9zZXIvU2NyaXB0L0V2ZW50LnBocJoEAAC40MBgmgQAABfT9KmkAQAAAAAAACQAAABzcmMvQ29tcG9zZXIvU2NyaXB0L1NjcmlwdEV2ZW50cy5waHDcAgAAuNDAYNwCAADG7RTBpAEAAAAAAAAgAAAAc3JjL0NvbXBvc2VyL1NlbGZVcGRhdGUvS2V5cy5waHCcAQAAuNDAYJwBAAB6ZYOOpAEAAAAAAAAkAAAAc3JjL0NvbXBvc2VyL1NlbGZVcGRhdGUvVmVyc2lvbnMucGhwNgcAALjQwGA2BwAAMBjprqQBAAAAAAAAIAAAAHNyYy9Db21wb3Nlci9VdGlsL0F1dGhIZWxwZXIucGhwzh4AALjQwGDOHgAA5NjWVaQBAAAAAAAAHwAAAHNyYy9Db21wb3Nlci9VdGlsL0JpdGJ1Y2tldC5waHDVFgAAuNDAYNUWAACE9sg/pAEAAAAAAAAkAAAAc3JjL0NvbXBvc2VyL1V0aWwvQ29tcG9zZXJNaXJyb3IucGhwNwUAALjQwGA3BQAAjDY9dKQBAAAAAAAAJQAAAHNyYy9Db21wb3Nlci9VdGlsL0NvbmZpZ1ZhbGlkYXRvci5waHAxFgAAuNDAYDEWAADIDwkZpAEAAAAAAAAiAAAAc3JjL0NvbXBvc2VyL1V0aWwvRXJyb3JIYW5kbGVyLnBocL8EAAC40MBgvwQAAFpAV+SkAQAAAAAAACAAAABzcmMvQ29tcG9zZXIvVXRpbC9GaWxlc3lzdGVtLnBocB45AAC40MBgHjkAAKY1oaakAQAAAAAAABkAAABzcmMvQ29tcG9zZXIvVXRpbC9HaXQucGhwXzAAALjQwGBfMAAAuDINWqQBAAAAAAAAHAAAAHNyYy9Db21wb3Nlci9VdGlsL0dpdEh1Yi5waHBVDQAAuNDAYFUNAAC9UWr4pAEAAAAAAAAcAAAAc3JjL0NvbXBvc2VyL1V0aWwvR2l0TGFiLnBocHEQAAC40MBgcRAAACQdzYakAQAAAAAAABgAAABzcmMvQ29tcG9zZXIvVXRpbC9IZy5waHD0BwAAuNDAYPQHAADm6WeOpAEAAAAAAAApAAAAc3JjL0NvbXBvc2VyL1V0aWwvSHR0cC9DdXJsRG93bmxvYWRlci5waHA2PwAAuNDAYDY/AAAu7CvopAEAAAAAAAAnAAAAc3JjL0NvbXBvc2VyL1V0aWwvSHR0cC9DdXJsUmVzcG9uc2UucGhwXQEAALjQwGBdAQAARObxQKQBAAAAAAAAJgAAAHNyYy9Db21wb3Nlci9VdGlsL0h0dHAvUHJveHlIZWxwZXIucGhwRwoAALjQwGBHCgAA7L3VJaQBAAAAAAAAJwAAAHNyYy9Db21wb3Nlci9VdGlsL0h0dHAvUHJveHlNYW5hZ2VyLnBocH8KAAC40MBgfwoAACRrx2ikAQAAAAAAACcAAABzcmMvQ29tcG9zZXIvVXRpbC9IdHRwL1JlcXVlc3RQcm94eS5waHAZAwAAuNDAYBkDAAD8QTgepAEAAAAAAAAjAAAAc3JjL0NvbXBvc2VyL1V0aWwvSHR0cC9SZXNwb25zZS5waHAhBQAAuNDAYCEFAAD2mITSpAEAAAAAAAAkAAAAc3JjL0NvbXBvc2VyL1V0aWwvSHR0cERvd25sb2FkZXIucGhw5SUAALjQwGDlJQAALa74l6QBAAAAAAAAHwAAAHNyYy9Db21wb3Nlci9VdGlsL0luaUhlbHBlci5waHBoAgAAuNDAYGgCAAA7RghQpAEAAAAAAAAaAAAAc3JjL0NvbXBvc2VyL1V0aWwvTG9vcC5waHA9BwAAuNDAYD0HAAAI3w27pAEAAAAAAAAmAAAAc3JjL0NvbXBvc2VyL1V0aWwvTWV0YWRhdGFNaW5pZmllci5waHAqAQAAuNDAYCoBAABo2y9+pAEAAAAAAAAkAAAAc3JjL0NvbXBvc2VyL1V0aWwvTm9Qcm94eVBhdHRlcm4ucGhwdBQAALjQwGB0FAAAqK02r6QBAAAAAAAAIwAAAHNyYy9Db21wb3Nlci9VdGlsL1BhY2thZ2VTb3J0ZXIucGhw2wUAALjQwGDbBQAAVMZq/qQBAAAAAAAAHgAAAHNyYy9Db21wb3Nlci9VdGlsL1BlcmZvcmNlLnBocGIyAAC40MBgYjIAACmQC8OkAQAAAAAAAB4AAABzcmMvQ29tcG9zZXIvVXRpbC9QbGF0Zm9ybS5waHB4DQAAuNDAYHgNAABvFe2KpAEAAAAAAAAlAAAAc3JjL0NvbXBvc2VyL1V0aWwvUHJvY2Vzc0V4ZWN1dG9yLnBocN4fAAC40MBg3h8AANM/h8+kAQAAAAAAACYAAABzcmMvQ29tcG9zZXIvVXRpbC9SZW1vdGVGaWxlc3lzdGVtLnBocHpNAAC40MBgek0AAB8oMrCkAQAAAAAAAB4AAABzcmMvQ29tcG9zZXIvVXRpbC9TaWxlbmNlci5waHDoAgAAuNDAYOgCAAC/NdGzpAEAAAAAAAAqAAAAc3JjL0NvbXBvc2VyL1V0aWwvU3RyZWFtQ29udGV4dEZhY3RvcnkucGhwcRQAALjQwGBxFAAA74s1jqQBAAAAAAAAGQAAAHNyYy9Db21wb3Nlci9VdGlsL1N2bi5waHAKFAAAuNDAYAoUAABwAE0PpAEAAAAAAAAgAAAAc3JjL0NvbXBvc2VyL1V0aWwvU3luY0hlbHBlci5waHA3BAAAuNDAYDcEAABtbACapAEAAAAAAAAZAAAAc3JjL0NvbXBvc2VyL1V0aWwvVGFyLnBocGIEAAC40MBgYgQAAB/lXZakAQAAAAAAAB8AAABzcmMvQ29tcG9zZXIvVXRpbC9UbHNIZWxwZXIucGhwYAoAALjQwGBgCgAAopxXvaQBAAAAAAAAGQAAAHNyYy9Db21wb3Nlci9VdGlsL1VybC5waHAQDAAAuNDAYBAMAACILRZ6pAEAAAAAAAAZAAAAc3JjL0NvbXBvc2VyL1V0aWwvWmlwLnBocOYHAAC40MBg5gcAALgSKwGkAQAAAAAAABEAAABzcmMvYm9vdHN0cmFwLnBocLkBAAC40MBguQEAABVJfZykAQAAAAAAACUAAABzcmMvQ29tcG9zZXIvQXV0b2xvYWQvQ2xhc3NMb2FkZXIucGhwNTgAALjQwGA1OAAAKQGnpKQBAAAAAAAAIgAAAHNyYy9Db21wb3Nlci9JbnN0YWxsZWRWZXJzaW9ucy5waHBnNgAAuNDAYGc2AAD/PxyWpAEAAAAAAAAjAAAAcmVzL2NvbXBvc2VyLXJlcG9zaXRvcnktc2NoZW1hLmpzb27xDwAAuNDAYPEPAAB8MOCEpAEAAAAAAAAYAAAAcmVzL2NvbXBvc2VyLXNjaGVtYS5qc29uIa4AALjQwGAhrgAAzPEti6QBAAAAAAAAEwAAAHZlbmRvci9hdXRvbG9hZC5waHCCAAAAuNDAYIIAAABJNXoepAEAAAAAAAAfAAAAdmVuZG9yL2NvbXBvc2VyL0NsYXNzTG9hZGVyLnBocAEbAAC40MBgARsAAGTFwZ+kAQAAAAAAACUAAAB2ZW5kb3IvY29tcG9zZXIvSW5zdGFsbGVkVmVyc2lvbnMucGhwXBYAALjQwGBcFgAACeJygqQBAAAAAAAAJQAAAHZlbmRvci9jb21wb3Nlci9hdXRvbG9hZF9jbGFzc21hcC5waHC1AAAAuNDAYLUAAAB4kv27pAEAAAAAAAAiAAAAdmVuZG9yL2NvbXBvc2VyL2F1dG9sb2FkX2ZpbGVzLnBocIwBAAC40MBgjAEAABCPDR2kAQAAAAAAACcAAAB2ZW5kb3IvY29tcG9zZXIvYXV0b2xvYWRfbmFtZXNwYWNlcy5waHCiAAAAuNDAYKIAAACQUjdjpAEAAAAAAAAhAAAAdmVuZG9yL2NvbXBvc2VyL2F1dG9sb2FkX3BzcjQucGhwUAUAALjQwGBQBQAA4KLlVaQBAAAAAAAAIQAAAHZlbmRvci9jb21wb3Nlci9hdXRvbG9hZF9yZWFsLnBocGMHAAC40MBgYwcAAAedNNSkAQAAAAAAACMAAAB2ZW5kb3IvY29tcG9zZXIvYXV0b2xvYWRfc3RhdGljLnBocEcNAAC40MBgRw0AAF46ZoykAQAAAAAAACEAAAB2ZW5kb3IvY29tcG9zZXIvY2EtYnVuZGxlL0xJQ0VOU0UeBAAAuNDAYB4EAABHCQdfpAEAAAAAAAAoAAAAdmVuZG9yL2NvbXBvc2VyL2NhLWJ1bmRsZS9yZXMvY2FjZXJ0LnBlbZcTAwC40MBglxMDADe7E6CkAQAAAAAAACoAAAB2ZW5kb3IvY29tcG9zZXIvY2EtYnVuZGxlL3NyYy9DYUJ1bmRsZS5waHBnHwAAuNDAYGcfAABBePCQpAEAAAAAAAAdAAAAdmVuZG9yL2NvbXBvc2VyL2luc3RhbGxlZC5waHAMFAAAuNDAYAwUAAA/fHBJpAEAAAAAAAApAAAAdmVuZG9yL2NvbXBvc2VyL21ldGFkYXRhLW1pbmlmaWVyL0xJQ0VOU0UeBAAAuNDAYB4EAAC9o+vHpAEAAAAAAAA6AAAAdmVuZG9yL2NvbXBvc2VyL21ldGFkYXRhLW1pbmlmaWVyL3NyYy9NZXRhZGF0YU1pbmlmaWVyLnBocNAEAAC40MBg0AQAAMIwJsCkAQAAAAAAAB4AAAB2ZW5kb3IvY29tcG9zZXIvc2VtdmVyL0xJQ0VOU0UeBAAAuNDAYB4EAADHU1JtpAEAAAAAAAApAAAAdmVuZG9yL2NvbXBvc2VyL3NlbXZlci9zcmMvQ29tcGFyYXRvci5waHAQBAAAuNDAYBAEAABeX0WTpAEAAAAAAAAvAAAAdmVuZG9yL2NvbXBvc2VyL3NlbXZlci9zcmMvQ29tcGlsaW5nTWF0Y2hlci5waHDlBAAAuNDAYOUEAAC7iGdtpAEAAAAAAAAvAAAAdmVuZG9yL2NvbXBvc2VyL3NlbXZlci9zcmMvQ29uc3RyYWludC9Cb3VuZC5waHB3BQAAuNDAYHcFAABXNF1XpAEAAAAAAAA0AAAAdmVuZG9yL2NvbXBvc2VyL3NlbXZlci9zcmMvQ29uc3RyYWludC9Db25zdHJhaW50LnBocPgdAAC40MBg+B0AAJKLiL2kAQAAAAAAAD0AAAB2ZW5kb3IvY29tcG9zZXIvc2VtdmVyL3NyYy9Db25zdHJhaW50L0NvbnN0cmFpbnRJbnRlcmZhY2UucGhwoQEAALjQwGChAQAAjjW0eaQBAAAAAAAAPAAAAHZlbmRvci9jb21wb3Nlci9zZW12ZXIvc3JjL0NvbnN0cmFpbnQvTWF0Y2hBbGxDb25zdHJhaW50LnBocK8CAAC40MBgrwIAALJFF/qkAQAAAAAAAD0AAAB2ZW5kb3IvY29tcG9zZXIvc2VtdmVyL3NyYy9Db25zdHJhaW50L01hdGNoTm9uZUNvbnN0cmFpbnQucGhwyQIAALjQwGDJAgAA1q/YrqQBAAAAAAAAOQAAAHZlbmRvci9jb21wb3Nlci9zZW12ZXIvc3JjL0NvbnN0cmFpbnQvTXVsdGlDb25zdHJhaW50LnBocIoTAAC40MBgihMAAM3VG8SkAQAAAAAAACcAAAB2ZW5kb3IvY29tcG9zZXIvc2VtdmVyL3NyYy9JbnRlcnZhbC5waHDmAwAAuNDAYOYDAAA9WxRppAEAAAAAAAAoAAAAdmVuZG9yL2NvbXBvc2VyL3NlbXZlci9zcmMvSW50ZXJ2YWxzLnBocKQrAAC40MBgpCsAAEAxuqukAQAAAAAAACUAAAB2ZW5kb3IvY29tcG9zZXIvc2VtdmVyL3NyYy9TZW12ZXIucGhw+QYAALjQwGD5BgAA4RMtaaQBAAAAAAAALAAAAHZlbmRvci9jb21wb3Nlci9zZW12ZXIvc3JjL1ZlcnNpb25QYXJzZXIucGhwhSwAALjQwGCFLAAAxO5RB6QBAAAAAAAAJQAAAHZlbmRvci9jb21wb3Nlci9zcGR4LWxpY2Vuc2VzL0xJQ0VOU0UeBAAAuNDAYB4EAADHU1JtpAEAAAAAAAA2AAAAdmVuZG9yL2NvbXBvc2VyL3NwZHgtbGljZW5zZXMvcmVzL3NwZHgtZXhjZXB0aW9ucy5qc29uuAsAALjQwGC4CwAAwjREQ6QBAAAAAAAANAAAAHZlbmRvci9jb21wb3Nlci9zcGR4LWxpY2Vuc2VzL3Jlcy9zcGR4LWxpY2Vuc2VzLmpzb251sAAAuNDAYHWwAACb/YVUpAEAAAAAAAAyAAAAdmVuZG9yL2NvbXBvc2VyL3NwZHgtbGljZW5zZXMvc3JjL1NwZHhMaWNlbnNlcy5waHBIFAAAuNDAYEgUAADNiVQEpAEAAAAAAAAmAAAAdmVuZG9yL2NvbXBvc2VyL3hkZWJ1Zy1oYW5kbGVyL0xJQ0VOU0UrBAAAuNDAYCsEAADW40BUpAEAAAAAAAAwAAAAdmVuZG9yL2NvbXBvc2VyL3hkZWJ1Zy1oYW5kbGVyL3NyYy9QaHBDb25maWcucGhwJwMAALjQwGAnAwAAFFBzsqQBAAAAAAAALgAAAHZlbmRvci9jb21wb3Nlci94ZGVidWctaGFuZGxlci9zcmMvUHJvY2Vzcy5waHAhBQAAuNDAYCEFAAC2vUclpAEAAAAAAAAtAAAAdmVuZG9yL2NvbXBvc2VyL3hkZWJ1Zy1oYW5kbGVyL3NyYy9TdGF0dXMucGhwyQoAALjQwGDJCgAApMgHCqQBAAAAAAAANAAAAHZlbmRvci9jb21wb3Nlci94ZGVidWctaGFuZGxlci9zcmMvWGRlYnVnSGFuZGxlci5waHB5JQAAuNDAYHklAABAO8g/pAEAAAAAAAAoAAAAdmVuZG9yL2p1c3RpbnJhaW5ib3cvanNvbi1zY2hlbWEvTElDRU5TRSIEAAC40MBgIgQAAAx8u5mkAQAAAAAAAE4AAAB2ZW5kb3IvanVzdGlucmFpbmJvdy9qc29uLXNjaGVtYS9zcmMvSnNvblNjaGVtYS9Db25zdHJhaW50cy9CYXNlQ29uc3RyYWludC5waHChCQAAuNDAYKEJAACGd8xspAEAAAAAAABUAAAAdmVuZG9yL2p1c3RpbnJhaW5ib3cvanNvbi1zY2hlbWEvc3JjL0pzb25TY2hlbWEvQ29uc3RyYWludHMvQ29sbGVjdGlvbkNvbnN0cmFpbnQucGhwgwoAALjQwGCDCgAAnrg9mqQBAAAAAAAASgAAAHZlbmRvci9qdXN0aW5yYWluYm93L2pzb24tc2NoZW1hL3NyYy9Kc29uU2NoZW1hL0NvbnN0cmFpbnRzL0NvbnN0cmFpbnQucGhwpw0AALjQwGCnDQAAm1bYGKQBAAAAAAAAUwAAAHZlbmRvci9qdXN0aW5yYWluYm93L2pzb24tc2NoZW1hL3NyYy9Kc29uU2NoZW1hL0NvbnN0cmFpbnRzL0NvbnN0cmFpbnRJbnRlcmZhY2UucGhwvAEAALjQwGC8AQAA/yBRnKQBAAAAAAAATgAAAHZlbmRvci9qdXN0aW5yYWluYm93L2pzb24tc2NoZW1hL3NyYy9Kc29uU2NoZW1hL0NvbnN0cmFpbnRzL0VudW1Db25zdHJhaW50LnBocFwDAAC40MBgXAMAAF9/ff2kAQAAAAAAAEcAAAB2ZW5kb3IvanVzdGlucmFpbmJvdy9qc29uLXNjaGVtYS9zcmMvSnNvblNjaGVtYS9Db25zdHJhaW50cy9GYWN0b3J5LnBocOAMAAC40MBg4AwAAOuSX5SkAQAAAAAAAFAAAAB2ZW5kb3IvanVzdGlucmFpbmJvdy9qc29uLXNjaGVtYS9zcmMvSnNvblNjaGVtYS9Db25zdHJhaW50cy9Gb3JtYXRDb25zdHJhaW50LnBocHMUAAC40MBgcxQAAGQFC96kAQAAAAAAAFAAAAB2ZW5kb3IvanVzdGlucmFpbmJvdy9qc29uLXNjaGVtYS9zcmMvSnNvblNjaGVtYS9Db25zdHJhaW50cy9OdW1iZXJDb25zdHJhaW50LnBocIMJAAC40MBggwkAAGWQDKikAQAAAAAAAFAAAAB2ZW5kb3IvanVzdGlucmFpbmJvdy9qc29uLXNjaGVtYS9zcmMvSnNvblNjaGVtYS9Db25zdHJhaW50cy9PYmplY3RDb25zdHJhaW50LnBocLcRAAC40MBgtxEAACVsrPakAQAAAAAAAFAAAAB2ZW5kb3IvanVzdGlucmFpbmJvdy9qc29uLXNjaGVtYS9zcmMvSnNvblNjaGVtYS9Db25zdHJhaW50cy9TY2hlbWFDb25zdHJhaW50LnBocCYJAAC40MBgJgkAADc496ykAQAAAAAAAFAAAAB2ZW5kb3IvanVzdGlucmFpbmJvdy9qc29uLXNjaGVtYS9zcmMvSnNvblNjaGVtYS9Db25zdHJhaW50cy9TdHJpbmdDb25zdHJhaW50LnBocHoEAAC40MBgegQAAPlmxX6kAQAAAAAAAFgAAAB2ZW5kb3IvanVzdGlucmFpbmJvdy9qc29uLXNjaGVtYS9zcmMvSnNvblNjaGVtYS9Db25zdHJhaW50cy9UeXBlQ2hlY2svTG9vc2VUeXBlQ2hlY2sucGhwYQQAALjQwGBhBAAACwlxw6QBAAAAAAAAWQAAAHZlbmRvci9qdXN0aW5yYWluYm93L2pzb24tc2NoZW1hL3NyYy9Kc29uU2NoZW1hL0NvbnN0cmFpbnRzL1R5cGVDaGVjay9TdHJpY3RUeXBlQ2hlY2sucGhwlwIAALjQwGCXAgAANH6+oKQBAAAAAAAAXAAAAHZlbmRvci9qdXN0aW5yYWluYm93L2pzb24tc2NoZW1hL3NyYy9Kc29uU2NoZW1hL0NvbnN0cmFpbnRzL1R5cGVDaGVjay9UeXBlQ2hlY2tJbnRlcmZhY2UucGhwiQEAALjQwGCJAQAAk7UraqQBAAAAAAAATgAAAHZlbmRvci9qdXN0aW5yYWluYm93L2pzb24tc2NoZW1hL3NyYy9Kc29uU2NoZW1hL0NvbnN0cmFpbnRzL1R5cGVDb25zdHJhaW50LnBocB8PAAC40MBgHw8AAKolfQ+kAQAAAAAAAFMAAAB2ZW5kb3IvanVzdGlucmFpbmJvdy9qc29uLXNjaGVtYS9zcmMvSnNvblNjaGVtYS9Db25zdHJhaW50cy9VbmRlZmluZWRDb25zdHJhaW50LnBocCwiAAC40MBgLCIAABcBiS2kAQAAAAAAAEYAAAB2ZW5kb3IvanVzdGlucmFpbmJvdy9qc29uLXNjaGVtYS9zcmMvSnNvblNjaGVtYS9FbnRpdHkvSnNvblBvaW50ZXIucGhw6AYAALjQwGDoBgAABntOlqQBAAAAAAAAUAAAAHZlbmRvci9qdXN0aW5yYWluYm93L2pzb24tc2NoZW1hL3NyYy9Kc29uU2NoZW1hL0V4Y2VwdGlvbi9FeGNlcHRpb25JbnRlcmZhY2UucGhwSQAAALjQwGBJAAAAJXwZsKQBAAAAAAAAVgAAAHZlbmRvci9qdXN0aW5yYWluYm93L2pzb24tc2NoZW1hL3NyYy9Kc29uU2NoZW1hL0V4Y2VwdGlvbi9JbnZhbGlkQXJndW1lbnRFeGNlcHRpb24ucGhwlQAAALjQwGCVAAAAi+BHBaQBAAAAAAAAVAAAAHZlbmRvci9qdXN0aW5yYWluYm93L2pzb24tc2NoZW1hL3NyYy9Kc29uU2NoZW1hL0V4Y2VwdGlvbi9JbnZhbGlkQ29uZmlnRXhjZXB0aW9uLnBocGwAAAC40MBgbAAAAEEhTNekAQAAAAAAAFQAAAB2ZW5kb3IvanVzdGlucmFpbmJvdy9qc29uLXNjaGVtYS9zcmMvSnNvblNjaGVtYS9FeGNlcHRpb24vSW52YWxpZFNjaGVtYUV4Y2VwdGlvbi5waHBsAAAAuNDAYGwAAADoMvf+pAEAAAAAAABdAAAAdmVuZG9yL2p1c3RpbnJhaW5ib3cvanNvbi1zY2hlbWEvc3JjL0pzb25TY2hlbWEvRXhjZXB0aW9uL0ludmFsaWRTY2hlbWFNZWRpYVR5cGVFeGNlcHRpb24ucGhwdQAAALjQwGB1AAAAPWjnB6QBAAAAAAAAVwAAAHZlbmRvci9qdXN0aW5yYWluYm93L2pzb24tc2NoZW1hL3NyYy9Kc29uU2NoZW1hL0V4Y2VwdGlvbi9JbnZhbGlkU291cmNlVXJpRXhjZXB0aW9uLnBocHcAAAC40MBgdwAAAE4t8lukAQAAAAAAAFMAAAB2ZW5kb3IvanVzdGlucmFpbmJvdy9qc29uLXNjaGVtYS9zcmMvSnNvblNjaGVtYS9FeGNlcHRpb24vSnNvbkRlY29kaW5nRXhjZXB0aW9uLnBocN4CAAC40MBg3gIAAFy4DQqkAQAAAAAAAFcAAAB2ZW5kb3IvanVzdGlucmFpbmJvdy9qc29uLXNjaGVtYS9zcmMvSnNvblNjaGVtYS9FeGNlcHRpb24vUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvbi5waHBvAAAAuNDAYG8AAABw7dv5pAEAAAAAAABOAAAAdmVuZG9yL2p1c3RpbnJhaW5ib3cvanNvbi1zY2hlbWEvc3JjL0pzb25TY2hlbWEvRXhjZXB0aW9uL1J1bnRpbWVFeGNlcHRpb24ucGhwhQAAALjQwGCFAAAACCWFl6QBAAAAAAAAXgAAAHZlbmRvci9qdXN0aW5yYWluYm93L2pzb24tc2NoZW1hL3NyYy9Kc29uU2NoZW1hL0V4Y2VwdGlvbi9VbnJlc29sdmFibGVKc29uUG9pbnRlckV4Y2VwdGlvbi5waHCAAAAAuNDAYIAAAAB1LSMxpAEAAAAAAABSAAAAdmVuZG9yL2p1c3RpbnJhaW5ib3cvanNvbi1zY2hlbWEvc3JjL0pzb25TY2hlbWEvRXhjZXB0aW9uL1VyaVJlc29sdmVyRXhjZXB0aW9uLnBocGoAAAC40MBgagAAAOUaPo+kAQAAAAAAAFEAAAB2ZW5kb3IvanVzdGlucmFpbmJvdy9qc29uLXNjaGVtYS9zcmMvSnNvblNjaGVtYS9FeGNlcHRpb24vVmFsaWRhdGlvbkV4Y2VwdGlvbi5waHBmAAAAuNDAYGYAAACspIT+pAEAAAAAAABLAAAAdmVuZG9yL2p1c3RpbnJhaW5ib3cvanNvbi1zY2hlbWEvc3JjL0pzb25TY2hlbWEvSXRlcmF0b3IvT2JqZWN0SXRlcmF0b3IucGhw/gUAALjQwGD+BQAATY+E9aQBAAAAAAAAOwAAAHZlbmRvci9qdXN0aW5yYWluYm93L2pzb24tc2NoZW1hL3NyYy9Kc29uU2NoZW1hL1JmYzMzMzkucGhwoAIAALjQwGCgAgAAZjT3s6QBAAAAAAAAQQAAAHZlbmRvci9qdXN0aW5yYWluYm93L2pzb24tc2NoZW1hL3NyYy9Kc29uU2NoZW1hL1NjaGVtYVN0b3JhZ2UucGhwkw0AALjQwGCTDQAAJnrfXqQBAAAAAAAASgAAAHZlbmRvci9qdXN0aW5yYWluYm93L2pzb24tc2NoZW1hL3NyYy9Kc29uU2NoZW1hL1NjaGVtYVN0b3JhZ2VJbnRlcmZhY2UucGhwAQEAALjQwGABAQAAb4orfaQBAAAAAAAAVAAAAHZlbmRvci9qdXN0aW5yYWluYm93L2pzb24tc2NoZW1hL3NyYy9Kc29uU2NoZW1hL1VyaS9SZXRyaWV2ZXJzL0Fic3RyYWN0UmV0cmlldmVyLnBocOEAAAC40MBg4QAAAFv+QYGkAQAAAAAAAEcAAAB2ZW5kb3IvanVzdGlucmFpbmJvdy9qc29uLXNjaGVtYS9zcmMvSnNvblNjaGVtYS9VcmkvUmV0cmlldmVycy9DdXJsLnBocKMEAAC40MBgowQAAMeS9KakAQAAAAAAAFIAAAB2ZW5kb3IvanVzdGlucmFpbmJvdy9qc29uLXNjaGVtYS9zcmMvSnNvblNjaGVtYS9VcmkvUmV0cmlldmVycy9GaWxlR2V0Q29udGVudHMucGhwIAUAALjQwGAgBQAAo8EfFqQBAAAAAAAAUgAAAHZlbmRvci9qdXN0aW5yYWluYm93L2pzb24tc2NoZW1hL3NyYy9Kc29uU2NoZW1hL1VyaS9SZXRyaWV2ZXJzL1ByZWRlZmluZWRBcnJheS5waHAsAgAAuNDAYCwCAAAxlTX+pAEAAAAAAABYAAAAdmVuZG9yL2p1c3RpbnJhaW5ib3cvanNvbi1zY2hlbWEvc3JjL0pzb25TY2hlbWEvVXJpL1JldHJpZXZlcnMvVXJpUmV0cmlldmVySW50ZXJmYWNlLnBocK4AAAC40MBgrgAAAP+LweWkAQAAAAAAAEMAAAB2ZW5kb3IvanVzdGlucmFpbmJvdy9qc29uLXNjaGVtYS9zcmMvSnNvblNjaGVtYS9VcmkvVXJpUmVzb2x2ZXIucGhwBAsAALjQwGAECwAA5gYaUKQBAAAAAAAARAAAAHZlbmRvci9qdXN0aW5yYWluYm93L2pzb24tc2NoZW1hL3NyYy9Kc29uU2NoZW1hL1VyaS9VcmlSZXRyaWV2ZXIucGhwQBQAALjQwGBAFAAANRvOM6QBAAAAAAAASAAAAHZlbmRvci9qdXN0aW5yYWluYm93L2pzb24tc2NoZW1hL3NyYy9Kc29uU2NoZW1hL1VyaVJlc29sdmVySW50ZXJmYWNlLnBocIMAAAC40MBggwAAABJKgB+kAQAAAAAAAEkAAAB2ZW5kb3IvanVzdGlucmFpbmJvdy9qc29uLXNjaGVtYS9zcmMvSnNvblNjaGVtYS9VcmlSZXRyaWV2ZXJJbnRlcmZhY2UucGhwhQAAALjQwGCFAAAA7eYbZaQBAAAAAAAAPQAAAHZlbmRvci9qdXN0aW5yYWluYm93L2pzb24tc2NoZW1hL3NyYy9Kc29uU2NoZW1hL1ZhbGlkYXRvci5waHBzBQAAuNDAYHMFAADfwZEjpAEAAAAAAAAWAAAAdmVuZG9yL3Bzci9sb2cvTElDRU5TRT8EAAC40MBgPwQAAIT5CQikAQAAAAAAACkAAAB2ZW5kb3IvcHNyL2xvZy9Qc3IvTG9nL0Fic3RyYWN0TG9nZ2VyLnBocDsEAAC40MBgOwQAAPE+M1ukAQAAAAAAADMAAAB2ZW5kb3IvcHNyL2xvZy9Qc3IvTG9nL0ludmFsaWRBcmd1bWVudEV4Y2VwdGlvbi5waHBgAAAAuNDAYGAAAAAgiFgxpAEAAAAAAAAjAAAAdmVuZG9yL3Bzci9sb2cvUHNyL0xvZy9Mb2dMZXZlbC5waHD7AAAAuNDAYPsAAABq8PE4pAEAAAAAAAAvAAAAdmVuZG9yL3Bzci9sb2cvUHNyL0xvZy9Mb2dnZXJBd2FyZUludGVyZmFjZS5waHB8AAAAuNDAYHwAAAAkE6OIpAEAAAAAAAArAAAAdmVuZG9yL3Bzci9sb2cvUHNyL0xvZy9Mb2dnZXJBd2FyZVRyYWl0LnBocKcAAAC40MBgpwAAAFS9+kKkAQAAAAAAACoAAAB2ZW5kb3IvcHNyL2xvZy9Qc3IvTG9nL0xvZ2dlckludGVyZmFjZS5waHDIAgAAuNDAYMgCAACaH3gdpAEAAAAAAAAmAAAAdmVuZG9yL3Bzci9sb2cvUHNyL0xvZy9Mb2dnZXJUcmFpdC5waHBrBAAAuNDAYGsEAACjfYmSpAEAAAAAAAAlAAAAdmVuZG9yL3Bzci9sb2cvUHNyL0xvZy9OdWxsTG9nZ2VyLnBocJ8AAAC40MBgnwAAAIFY86qkAQAAAAAAACkAAAB2ZW5kb3IvcHNyL2xvZy9Qc3IvTG9nL1Rlc3QvRHVtbXlUZXN0LnBocHAAAAC40MBgcAAAABoVzgWkAQAAAAAAADMAAAB2ZW5kb3IvcHNyL2xvZy9Qc3IvTG9nL1Rlc3QvTG9nZ2VySW50ZXJmYWNlVGVzdC5waHAgDQAAuNDAYCANAAAdJC/SpAEAAAAAAAAqAAAAdmVuZG9yL3Bzci9sb2cvUHNyL0xvZy9UZXN0L1Rlc3RMb2dnZXIucGhwPAgAALjQwGA8CAAA/ijlSaQBAAAAAAAAHAAAAHZlbmRvci9yZWFjdC9wcm9taXNlL0xJQ0VOU0UnBAAAuNDAYCcEAAC2LbqEpAEAAAAAAABGAAAAdmVuZG9yL3JlYWN0L3Byb21pc2Uvc3JjL1JlYWN0L1Byb21pc2UvQ2FuY2VsbGFibGVQcm9taXNlSW50ZXJmYWNlLnBocIEAAAC40MBggQAAAAmDPJ2kAQAAAAAAADMAAAB2ZW5kb3IvcmVhY3QvcHJvbWlzZS9zcmMvUmVhY3QvUHJvbWlzZS9EZWZlcnJlZC5waHDwDAAAuNDAYPAMAABvKO2fpAEAAAAAAAA6AAAAdmVuZG9yL3JlYWN0L3Byb21pc2Uvc3JjL1JlYWN0L1Byb21pc2UvRGVmZXJyZWRQcm9taXNlLnBocMcBAAC40MBgxwEAALpgVxCkAQAAAAAAADsAAAB2ZW5kb3IvcmVhY3QvcHJvbWlzZS9zcmMvUmVhY3QvUHJvbWlzZS9EZWZlcnJlZFJlc29sdmVyLnBocMMBAAC40MBgwwEAADfLdRCkAQAAAAAAADsAAAB2ZW5kb3IvcmVhY3QvcHJvbWlzZS9zcmMvUmVhY3QvUHJvbWlzZS9GdWxmaWxsZWRQcm9taXNlLnBocM0CAAC40MBgzQIAALQfllWkAQAAAAAAADYAAAB2ZW5kb3IvcmVhY3QvcHJvbWlzZS9zcmMvUmVhY3QvUHJvbWlzZS9MYXp5UHJvbWlzZS5waHAGAwAAuNDAYAYDAACKuxQSpAEAAAAAAAAyAAAAdmVuZG9yL3JlYWN0L3Byb21pc2Uvc3JjL1JlYWN0L1Byb21pc2UvUHJvbWlzZS5waHAZBAAAuNDAYBkEAAC6Nkq1pAEAAAAAAAA7AAAAdmVuZG9yL3JlYWN0L3Byb21pc2Uvc3JjL1JlYWN0L1Byb21pc2UvUHJvbWlzZUludGVyZmFjZS5waHCfAAAAuNDAYJ8AAACgvahupAEAAAAAAAA8AAAAdmVuZG9yL3JlYWN0L3Byb21pc2Uvc3JjL1JlYWN0L1Byb21pc2UvUHJvbWlzb3JJbnRlcmZhY2UucGhwXAAAALjQwGBcAAAAV+jq4KQBAAAAAAAAOgAAAHZlbmRvci9yZWFjdC9wcm9taXNlL3NyYy9SZWFjdC9Qcm9taXNlL1JlamVjdGVkUHJvbWlzZS5waHC+AgAAuNDAYL4CAABmFUO/pAEAAAAAAAA8AAAAdmVuZG9yL3JlYWN0L3Byb21pc2Uvc3JjL1JlYWN0L1Byb21pc2UvUmVzb2x2ZXJJbnRlcmZhY2UucGhwvAAAALjQwGC8AAAA+wyNT6QBAAAAAAAALwAAAHZlbmRvci9yZWFjdC9wcm9taXNlL3NyYy9SZWFjdC9Qcm9taXNlL1V0aWwucGhw6AAAALjQwGDoAAAAy/0kOqQBAAAAAAAALwAAAHZlbmRvci9yZWFjdC9wcm9taXNlL3NyYy9SZWFjdC9Qcm9taXNlL1doZW4ucGhwxwQAALjQwGDHBAAADwSkb6QBAAAAAAAANAAAAHZlbmRvci9yZWFjdC9wcm9taXNlL3NyYy9SZWFjdC9Qcm9taXNlL2Z1bmN0aW9ucy5waHDQDAAAuNDAYNAMAAAhs08BpAEAAAAAAAA8AAAAdmVuZG9yL3JlYWN0L3Byb21pc2Uvc3JjL1JlYWN0L1Byb21pc2UvZnVuY3Rpb25zX2luY2x1ZGUucGhwXAAAALjQwGBcAAAAMYWJXqQBAAAAAAAAHAAAAHZlbmRvci9zZWxkL2pzb25saW50L0xJQ0VOU0UkBAAAuNDAYCQEAAA0Ood+pAEAAAAAAABAAAAAdmVuZG9yL3NlbGQvanNvbmxpbnQvc3JjL1NlbGQvSnNvbkxpbnQvRHVwbGljYXRlS2V5RXhjZXB0aW9uLnBocGsBAAC40MBgawEAAFr5tsOkAQAAAAAAADUAAAB2ZW5kb3Ivc2VsZC9qc29ubGludC9zcmMvU2VsZC9Kc29uTGludC9Kc29uUGFyc2VyLnBocDYyAAC40MBgNjIAABEyOMukAQAAAAAAADAAAAB2ZW5kb3Ivc2VsZC9qc29ubGludC9zcmMvU2VsZC9Kc29uTGludC9MZXhlci5waHAjEQAAuNDAYCMRAADa4UAspAEAAAAAAAA7AAAAdmVuZG9yL3NlbGQvanNvbmxpbnQvc3JjL1NlbGQvSnNvbkxpbnQvUGFyc2luZ0V4Y2VwdGlvbi5waHAlAQAAuNDAYCUBAABgYYR8pAEAAAAAAAA0AAAAdmVuZG9yL3NlbGQvanNvbmxpbnQvc3JjL1NlbGQvSnNvbkxpbnQvVW5kZWZpbmVkLnBocD4AAAC40MBgPgAAAP9xn5+kAQAAAAAAAB4AAAB2ZW5kb3Ivc2VsZC9waGFyLXV0aWxzL0xJQ0VOU0UkBAAAuNDAYCQEAACaLE2npAEAAAAAAAAlAAAAdmVuZG9yL3NlbGQvcGhhci11dGlscy9zcmMvTGludGVyLnBocM0GAAC40MBgzQYAABtIOpukAQAAAAAAACkAAAB2ZW5kb3Ivc2VsZC9waGFyLXV0aWxzL3NyYy9UaW1lc3RhbXBzLnBocJwMAAC40MBgnAwAAGtMgASkAQAAAAAAACYAAAB2ZW5kb3Ivc3ltZm9ueS9jb25zb2xlL0FwcGxpY2F0aW9uLnBocCtYAAC40MBgK1gAAKuteVikAQAAAAAAACoAAAB2ZW5kb3Ivc3ltZm9ueS9jb25zb2xlL0NvbW1hbmQvQ29tbWFuZC5waHDkIgAAuNDAYOQiAACQpMrCpAEAAAAAAAAuAAAAdmVuZG9yL3N5bWZvbnkvY29uc29sZS9Db21tYW5kL0hlbHBDb21tYW5kLnBocNgHAAC40MBg2AcAAKbaLTqkAQAAAAAAAC4AAAB2ZW5kb3Ivc3ltZm9ueS9jb25zb2xlL0NvbW1hbmQvTGlzdENvbW1hbmQucGhwWggAALjQwGBaCAAAu3cEYKQBAAAAAAAAKAAAAHZlbmRvci9zeW1mb255L2NvbnNvbGUvQ29uc29sZUV2ZW50cy5waHDpAAAAuNDAYOkAAABS29RlpAEAAAAAAAA8AAAAdmVuZG9yL3N5bWZvbnkvY29uc29sZS9EZXNjcmlwdG9yL0FwcGxpY2F0aW9uRGVzY3JpcHRpb24ucGhwzwgAALjQwGDPCAAAPI5V7qQBAAAAAAAAMAAAAHZlbmRvci9zeW1mb255L2NvbnNvbGUvRGVzY3JpcHRvci9EZXNjcmlwdG9yLnBocI8HAAC40MBgjwcAAL9OD5WkAQAAAAAAADkAAAB2ZW5kb3Ivc3ltZm9ueS9jb25zb2xlL0Rlc2NyaXB0b3IvRGVzY3JpcHRvckludGVyZmFjZS5waHD8AAAAuNDAYPwAAACxUQe1pAEAAAAAAAA0AAAAdmVuZG9yL3N5bWZvbnkvY29uc29sZS9EZXNjcmlwdG9yL0pzb25EZXNjcmlwdG9yLnBocNwNAAC40MBg3A0AACr7ncmkAQAAAAAAADgAAAB2ZW5kb3Ivc3ltZm9ueS9jb25zb2xlL0Rlc2NyaXB0b3IvTWFya2Rvd25EZXNjcmlwdG9yLnBocLYOAAC40MBgtg4AALfUO92kAQAAAAAAADQAAAB2ZW5kb3Ivc3ltZm9ueS9jb25zb2xlL0Rlc2NyaXB0b3IvVGV4dERlc2NyaXB0b3IucGhwtx4AALjQwGC3HgAAY5NxgKQBAAAAAAAAMwAAAHZlbmRvci9zeW1mb255L2NvbnNvbGUvRGVzY3JpcHRvci9YbWxEZXNjcmlwdG9yLnBocAEcAAC40MBgARwAAH9iezykAQAAAAAAADQAAAB2ZW5kb3Ivc3ltZm9ueS9jb25zb2xlL0V2ZW50L0NvbnNvbGVDb21tYW5kRXZlbnQucGhwsAEAALjQwGCwAQAAByEAyKQBAAAAAAAALQAAAHZlbmRvci9zeW1mb255L2NvbnNvbGUvRXZlbnQvQ29uc29sZUV2ZW50LnBocMUCAAC40MBgxQIAANJ421ykAQAAAAAAADYAAAB2ZW5kb3Ivc3ltZm9ueS9jb25zb2xlL0V2ZW50L0NvbnNvbGVFeGNlcHRpb25FdmVudC5waHASAwAAuNDAYBIDAADhFjLppAEAAAAAAAA2AAAAdmVuZG9yL3N5bWZvbnkvY29uc29sZS9FdmVudC9Db25zb2xlVGVybWluYXRlRXZlbnQucGhwegIAALjQwGB6AgAAsyzuTKQBAAAAAAAAPQAAAHZlbmRvci9zeW1mb255L2NvbnNvbGUvRXhjZXB0aW9uL0NvbW1hbmROb3RGb3VuZEV4Y2VwdGlvbi5waHDUAQAAuNDAYNQBAADI9yBMpAEAAAAAAAA3AAAAdmVuZG9yL3N5bWZvbnkvY29uc29sZS9FeGNlcHRpb24vRXhjZXB0aW9uSW50ZXJmYWNlLnBocGYAAAC40MBgZgAAAKFBQqqkAQAAAAAAAD0AAAB2ZW5kb3Ivc3ltZm9ueS9jb25zb2xlL0V4Y2VwdGlvbi9JbnZhbGlkQXJndW1lbnRFeGNlcHRpb24ucGhwpgAAALjQwGCmAAAA1sy9WqQBAAAAAAAAOwAAAHZlbmRvci9zeW1mb255L2NvbnNvbGUvRXhjZXB0aW9uL0ludmFsaWRPcHRpb25FeGNlcHRpb24ucGhwpgAAALjQwGCmAAAAE8vXSKQBAAAAAAAAMwAAAHZlbmRvci9zeW1mb255L2NvbnNvbGUvRXhjZXB0aW9uL0xvZ2ljRXhjZXB0aW9uLnBocJIAAAC40MBgkgAAAM1PXGWkAQAAAAAAADUAAAB2ZW5kb3Ivc3ltZm9ueS9jb25zb2xlL0V4Y2VwdGlvbi9SdW50aW1lRXhjZXB0aW9uLnBocJYAAAC40MBglgAAANntLDakAQAAAAAAADQAAAB2ZW5kb3Ivc3ltZm9ueS9jb25zb2xlL0Zvcm1hdHRlci9PdXRwdXRGb3JtYXR0ZXIucGhwMw4AALjQwGAzDgAAEeAQ16QBAAAAAAAAPQAAAHZlbmRvci9zeW1mb255L2NvbnNvbGUvRm9ybWF0dGVyL091dHB1dEZvcm1hdHRlckludGVyZmFjZS5waHCMAQAAuNDAYIwBAADy8fHApAEAAAAAAAA5AAAAdmVuZG9yL3N5bWZvbnkvY29uc29sZS9Gb3JtYXR0ZXIvT3V0cHV0Rm9ybWF0dGVyU3R5bGUucGhwRhAAALjQwGBGEAAAHfCmtKQBAAAAAAAAQgAAAHZlbmRvci9zeW1mb255L2NvbnNvbGUvRm9ybWF0dGVyL091dHB1dEZvcm1hdHRlclN0eWxlSW50ZXJmYWNlLnBocIQBAAC40MBghAEAAPe9EEekAQAAAAAAAD4AAAB2ZW5kb3Ivc3ltZm9ueS9jb25zb2xlL0Zvcm1hdHRlci9PdXRwdXRGb3JtYXR0ZXJTdHlsZVN0YWNrLnBocEAFAAC40MBgQAUAAEeo/VWkAQAAAAAAADYAAAB2ZW5kb3Ivc3ltZm9ueS9jb25zb2xlL0hlbHBlci9EZWJ1Z0Zvcm1hdHRlckhlbHBlci5waHB5CAAAuNDAYHkIAADMOMbQpAEAAAAAAAAyAAAAdmVuZG9yL3N5bWZvbnkvY29uc29sZS9IZWxwZXIvRGVzY3JpcHRvckhlbHBlci5waHB3BQAAuNDAYHcFAAB8pgFDpAEAAAAAAAAuAAAAdmVuZG9yL3N5bWZvbnkvY29uc29sZS9IZWxwZXIvRGlhbG9nSGVscGVyLnBocPAeAAC40MBg8B4AANTIFjekAQAAAAAAADEAAAB2ZW5kb3Ivc3ltZm9ueS9jb25zb2xlL0hlbHBlci9Gb3JtYXR0ZXJIZWxwZXIucGhwZAQAALjQwGBkBAAAp9csuKQBAAAAAAAAKAAAAHZlbmRvci9zeW1mb255L2NvbnNvbGUvSGVscGVyL0hlbHBlci5waHCpBwAAuNDAYKkHAADVJ4OxpAEAAAAAAAAxAAAAdmVuZG9yL3N5bWZvbnkvY29uc29sZS9IZWxwZXIvSGVscGVySW50ZXJmYWNlLnBocOUAAAC40MBg5QAAAB+KoBikAQAAAAAAACsAAAB2ZW5kb3Ivc3ltZm9ueS9jb25zb2xlL0hlbHBlci9IZWxwZXJTZXQucGhwygcAALjQwGDKBwAA4c9XIqQBAAAAAAAAMgAAAHZlbmRvci9zeW1mb255L2NvbnNvbGUvSGVscGVyL0lucHV0QXdhcmVIZWxwZXIucGhwYwEAALjQwGBjAQAABsz4g6QBAAAAAAAALwAAAHZlbmRvci9zeW1mb255L2NvbnNvbGUvSGVscGVyL1Byb2Nlc3NIZWxwZXIucGhw0wkAALjQwGDTCQAAqXeCUqQBAAAAAAAALQAAAHZlbmRvci9zeW1mb255L2NvbnNvbGUvSGVscGVyL1Byb2dyZXNzQmFyLnBocGMlAAC40MBgYyUAAEMbJnekAQAAAAAAADAAAAB2ZW5kb3Ivc3ltZm9ueS9jb25zb2xlL0hlbHBlci9Qcm9ncmVzc0hlbHBlci5waHBZGwAAuNDAYFkbAABSIY8vpAEAAAAAAAAzAAAAdmVuZG9yL3N5bWZvbnkvY29uc29sZS9IZWxwZXIvUHJvZ3Jlc3NJbmRpY2F0b3IucGhwTRQAALjQwGBNFAAA/I0Ih6QBAAAAAAAAMAAAAHZlbmRvci9zeW1mb255L2NvbnNvbGUvSGVscGVyL1F1ZXN0aW9uSGVscGVyLnBocFsdAAC40MBgWx0AAK82ffGkAQAAAAAAADcAAAB2ZW5kb3Ivc3ltZm9ueS9jb25zb2xlL0hlbHBlci9TeW1mb255UXVlc3Rpb25IZWxwZXIucGhwlQoAALjQwGCVCgAAAF1+UqQBAAAAAAAAJwAAAHZlbmRvci9zeW1mb255L2NvbnNvbGUvSGVscGVyL1RhYmxlLnBocLwqAAC40MBgvCoAAGbq/SGkAQAAAAAAACsAAAB2ZW5kb3Ivc3ltZm9ueS9jb25zb2xlL0hlbHBlci9UYWJsZUNlbGwucGhwgAMAALjQwGCAAwAAi4NbDqQBAAAAAAAALQAAAHZlbmRvci9zeW1mb255L2NvbnNvbGUvSGVscGVyL1RhYmxlSGVscGVyLnBocA4MAAC40MBgDgwAAJt19JmkAQAAAAAAADAAAAB2ZW5kb3Ivc3ltZm9ueS9jb25zb2xlL0hlbHBlci9UYWJsZVNlcGFyYXRvci5waHDKAAAAuNDAYMoAAABheh8cpAEAAAAAAAAsAAAAdmVuZG9yL3N5bWZvbnkvY29uc29sZS9IZWxwZXIvVGFibGVTdHlsZS5waHAgCgAAuNDAYCAKAABfzUkipAEAAAAAAAAqAAAAdmVuZG9yL3N5bWZvbnkvY29uc29sZS9JbnB1dC9Bcmd2SW5wdXQucGhwARYAALjQwGABFgAAquhCLaQBAAAAAAAAKwAAAHZlbmRvci9zeW1mb255L2NvbnNvbGUvSW5wdXQvQXJyYXlJbnB1dC5waHApCwAAuNDAYCkLAACl0QZDpAEAAAAAAAAmAAAAdmVuZG9yL3N5bWZvbnkvY29uc29sZS9JbnB1dC9JbnB1dC5waHCjCwAAuNDAYKMLAAATZqE/pAEAAAAAAAAuAAAAdmVuZG9yL3N5bWZvbnkvY29uc29sZS9JbnB1dC9JbnB1dEFyZ3VtZW50LnBocBIGAAC40MBgEgYAAEQNowakAQAAAAAAADQAAAB2ZW5kb3Ivc3ltZm9ueS9jb25zb2xlL0lucHV0L0lucHV0QXdhcmVJbnRlcmZhY2UucGhwmAAAALjQwGCYAAAArQ9PsKQBAAAAAAAAMAAAAHZlbmRvci9zeW1mb255L2NvbnNvbGUvSW5wdXQvSW5wdXREZWZpbml0aW9uLnBocIYZAAC40MBghhkAAKRVKaSkAQAAAAAAAC8AAAB2ZW5kb3Ivc3ltZm9ueS9jb25zb2xlL0lucHV0L0lucHV0SW50ZXJmYWNlLnBocKMDAAC40MBgowMAAMZCjCekAQAAAAAAACwAAAB2ZW5kb3Ivc3ltZm9ueS9jb25zb2xlL0lucHV0L0lucHV0T3B0aW9uLnBocBQMAAC40MBgFAwAAFyi3D2kAQAAAAAAACwAAAB2ZW5kb3Ivc3ltZm9ueS9jb25zb2xlL0lucHV0L1N0cmluZ0lucHV0LnBocJkGAAC40MBgmQYAAHuKnP6kAQAAAAAAAB4AAAB2ZW5kb3Ivc3ltZm9ueS9jb25zb2xlL0xJQ0VOU0UrBAAAuNDAYCsEAACyi6BnpAEAAAAAAAAvAAAAdmVuZG9yL3N5bWZvbnkvY29uc29sZS9Mb2dnZXIvQ29uc29sZUxvZ2dlci5waHAtCQAAuNDAYC0JAABnaFSbpAEAAAAAAAAwAAAAdmVuZG9yL3N5bWZvbnkvY29uc29sZS9PdXRwdXQvQnVmZmVyZWRPdXRwdXQucGhwXwEAALjQwGBfAQAAi6A+UKQBAAAAAAAALwAAAHZlbmRvci9zeW1mb255L2NvbnNvbGUvT3V0cHV0L0NvbnNvbGVPdXRwdXQucGhwsQcAALjQwGCxBwAAbuwhZqQBAAAAAAAAOAAAAHZlbmRvci9zeW1mb255L2NvbnNvbGUvT3V0cHV0L0NvbnNvbGVPdXRwdXRJbnRlcmZhY2UucGhw4AAAALjQwGDgAAAAh4bGyqQBAAAAAAAALAAAAHZlbmRvci9zeW1mb255L2NvbnNvbGUvT3V0cHV0L051bGxPdXRwdXQucGhwyQMAALjQwGDJAwAAmTDvZqQBAAAAAAAAKAAAAHZlbmRvci9zeW1mb255L2NvbnNvbGUvT3V0cHV0L091dHB1dC5waHCYCQAAuNDAYJgJAAAwcAQIpAEAAAAAAAAxAAAAdmVuZG9yL3N5bWZvbnkvY29uc29sZS9PdXRwdXQvT3V0cHV0SW50ZXJmYWNlLnBocBcDAAC40MBgFwMAAADsBiakAQAAAAAAAC4AAAB2ZW5kb3Ivc3ltZm9ueS9jb25zb2xlL091dHB1dC9TdHJlYW1PdXRwdXQucGhwmwYAALjQwGCbBgAALqHu7qQBAAAAAAAAMgAAAHZlbmRvci9zeW1mb255L2NvbnNvbGUvUXVlc3Rpb24vQ2hvaWNlUXVlc3Rpb24ucGhwdgoAALjQwGB2CgAAi7JXUKQBAAAAAAAAOAAAAHZlbmRvci9zeW1mb255L2NvbnNvbGUvUXVlc3Rpb24vQ29uZmlybWF0aW9uUXVlc3Rpb24ucGhw6AIAALjQwGDoAgAALx3Uj6QBAAAAAAAALAAAAHZlbmRvci9zeW1mb255L2NvbnNvbGUvUXVlc3Rpb24vUXVlc3Rpb24ucGhwzgkAALjQwGDOCQAAbEYPEKQBAAAAAAAANAAAAHZlbmRvci9zeW1mb255L2NvbnNvbGUvUmVzb3VyY2VzL2Jpbi9oaWRkZW5pbnB1dC5leGUAJAAAuNDAYAAkAACVjaV2pAEAAAAAAAAgAAAAdmVuZG9yL3N5bWZvbnkvY29uc29sZS9TaGVsbC5waHDjDwAAuNDAYOMPAACJwY7lpAEAAAAAAAAsAAAAdmVuZG9yL3N5bWZvbnkvY29uc29sZS9TdHlsZS9PdXRwdXRTdHlsZS5waHBcBQAAuNDAYFwFAAB316QEpAEAAAAAAAAvAAAAdmVuZG9yL3N5bWZvbnkvY29uc29sZS9TdHlsZS9TdHlsZUludGVyZmFjZS5waHDPAwAAuNDAYM8DAAAmbsXRpAEAAAAAAAAtAAAAdmVuZG9yL3N5bWZvbnkvY29uc29sZS9TdHlsZS9TeW1mb255U3R5bGUucGhw2x8AALjQwGDbHwAAp/Bj5KQBAAAAAAAAMwAAAHZlbmRvci9zeW1mb255L2NvbnNvbGUvVGVzdGVyL0FwcGxpY2F0aW9uVGVzdGVyLnBocM8FAAC40MBgzwUAAHOeOWmkAQAAAAAAAC8AAAB2ZW5kb3Ivc3ltZm9ueS9jb25zb2xlL1Rlc3Rlci9Db21tYW5kVGVzdGVyLnBocKgGAAC40MBgqAYAAH88nJWkAQAAAAAAACgAAAB2ZW5kb3Ivc3ltZm9ueS9kZWJ1Zy9CdWZmZXJpbmdMb2dnZXIucGhwdAEAALjQwGB0AQAAPQBo3KQBAAAAAAAAHgAAAHZlbmRvci9zeW1mb255L2RlYnVnL0RlYnVnLnBocCsDAAC40MBgKwMAAC7APamkAQAAAAAAACkAAAB2ZW5kb3Ivc3ltZm9ueS9kZWJ1Zy9EZWJ1Z0NsYXNzTG9hZGVyLnBocLAdAAC40MBgsB0AAF7mKvGkAQAAAAAAACUAAAB2ZW5kb3Ivc3ltZm9ueS9kZWJ1Zy9FcnJvckhhbmRsZXIucGhw/UcAALjQwGD9RwAAv3pMHaQBAAAAAAAAOQAAAHZlbmRvci9zeW1mb255L2RlYnVnL0V4Y2VwdGlvbi9DbGFzc05vdEZvdW5kRXhjZXB0aW9uLnBocJYBAAC40MBglgEAAGmJ5vSkAQAAAAAAADgAAAB2ZW5kb3Ivc3ltZm9ueS9kZWJ1Zy9FeGNlcHRpb24vQ29udGV4dEVycm9yRXhjZXB0aW9uLnBocJgBAAC40MBgmAEAAC0KZDKkAQAAAAAAADEAAAB2ZW5kb3Ivc3ltZm9ueS9kZWJ1Zy9FeGNlcHRpb24vRHVtbXlFeGNlcHRpb24ucGhwAgEAALjQwGACAQAArivD6qQBAAAAAAAANgAAAHZlbmRvci9zeW1mb255L2RlYnVnL0V4Y2VwdGlvbi9GYXRhbEVycm9yRXhjZXB0aW9uLnBocAwHAAC40MBgDAcAADTnJKSkAQAAAAAAADYAAAB2ZW5kb3Ivc3ltZm9ueS9kZWJ1Zy9FeGNlcHRpb24vRmF0YWxUaHJvd2FibGVFcnJvci5waHBXAgAAuNDAYFcCAAA/4OhLpAEAAAAAAAAzAAAAdmVuZG9yL3N5bWZvbnkvZGVidWcvRXhjZXB0aW9uL0ZsYXR0ZW5FeGNlcHRpb24ucGhwuxYAALjQwGC7FgAAK2EmEaQBAAAAAAAANwAAAHZlbmRvci9zeW1mb255L2RlYnVnL0V4Y2VwdGlvbi9PdXRPZk1lbW9yeUV4Y2VwdGlvbi5waHB+AAAAuNDAYH4AAADrqG/ipAEAAAAAAAA9AAAAdmVuZG9yL3N5bWZvbnkvZGVidWcvRXhjZXB0aW9uL1VuZGVmaW5lZEZ1bmN0aW9uRXhjZXB0aW9uLnBocJoBAAC40MBgmgEAAIHxSsCkAQAAAAAAADsAAAB2ZW5kb3Ivc3ltZm9ueS9kZWJ1Zy9FeGNlcHRpb24vVW5kZWZpbmVkTWV0aG9kRXhjZXB0aW9uLnBocJgBAAC40MBgmAEAAG726tikAQAAAAAAACkAAAB2ZW5kb3Ivc3ltZm9ueS9kZWJ1Zy9FeGNlcHRpb25IYW5kbGVyLnBocCQzAAC40MBgJDMAAEXr16OkAQAAAAAAAEkAAAB2ZW5kb3Ivc3ltZm9ueS9kZWJ1Zy9GYXRhbEVycm9ySGFuZGxlci9DbGFzc05vdEZvdW5kRmF0YWxFcnJvckhhbmRsZXIucGhwNRIAALjQwGA1EgAAisEqVqQBAAAAAAAARQAAAHZlbmRvci9zeW1mb255L2RlYnVnL0ZhdGFsRXJyb3JIYW5kbGVyL0ZhdGFsRXJyb3JIYW5kbGVySW50ZXJmYWNlLnBocAMBAAC40MBgAwEAAMS5QlakAQAAAAAAAE0AAAB2ZW5kb3Ivc3ltZm9ueS9kZWJ1Zy9GYXRhbEVycm9ySGFuZGxlci9VbmRlZmluZWRGdW5jdGlvbkZhdGFsRXJyb3JIYW5kbGVyLnBocHgIAAC40MBgeAgAAH7yIn+kAQAAAAAAAEsAAAB2ZW5kb3Ivc3ltZm9ueS9kZWJ1Zy9GYXRhbEVycm9ySGFuZGxlci9VbmRlZmluZWRNZXRob2RGYXRhbEVycm9ySGFuZGxlci5waHBOBQAAuNDAYE4FAAAngLOIpAEAAAAAAAAcAAAAdmVuZG9yL3N5bWZvbnkvZGVidWcvTElDRU5TRSsEAAC40MBgKwQAALKLoGekAQAAAAAAADoAAAB2ZW5kb3Ivc3ltZm9ueS9maWxlc3lzdGVtL0V4Y2VwdGlvbi9FeGNlcHRpb25JbnRlcmZhY2UucGhwaQAAALjQwGBpAAAAJCD/m6QBAAAAAAAAPQAAAHZlbmRvci9zeW1mb255L2ZpbGVzeXN0ZW0vRXhjZXB0aW9uL0ZpbGVOb3RGb3VuZEV4Y2VwdGlvbi5waHC8AQAAuNDAYLwBAABw7Vy2pAEAAAAAAAAzAAAAdmVuZG9yL3N5bWZvbnkvZmlsZXN5c3RlbS9FeGNlcHRpb24vSU9FeGNlcHRpb24ucGhwhwEAALjQwGCHAQAAgPwj0aQBAAAAAAAAPAAAAHZlbmRvci9zeW1mb255L2ZpbGVzeXN0ZW0vRXhjZXB0aW9uL0lPRXhjZXB0aW9uSW50ZXJmYWNlLnBocKYAAAC40MBgpgAAAGrZd02kAQAAAAAAACgAAAB2ZW5kb3Ivc3ltZm9ueS9maWxlc3lzdGVtL0ZpbGVzeXN0ZW0ucGhwTTQAALjQwGBNNAAA43pfB6QBAAAAAAAAIQAAAHZlbmRvci9zeW1mb255L2ZpbGVzeXN0ZW0vTElDRU5TRSsEAAC40MBgKwQAALKLoGekAQAAAAAAACkAAAB2ZW5kb3Ivc3ltZm9ueS9maWxlc3lzdGVtL0xvY2tIYW5kbGVyLnBocPIFAAC40MBg8gUAAH4zn1qkAQAAAAAAADEAAAB2ZW5kb3Ivc3ltZm9ueS9maW5kZXIvQWRhcHRlci9BYnN0cmFjdEFkYXB0ZXIucGhwXAsAALjQwGBcCwAAaBmIQqQBAAAAAAAANQAAAHZlbmRvci9zeW1mb255L2ZpbmRlci9BZGFwdGVyL0Fic3RyYWN0RmluZEFkYXB0ZXIucGhwgxkAALjQwGCDGQAAa02g3qQBAAAAAAAAMgAAAHZlbmRvci9zeW1mb255L2ZpbmRlci9BZGFwdGVyL0FkYXB0ZXJJbnRlcmZhY2UucGhwmwMAALjQwGCbAwAATQf+G6QBAAAAAAAAMAAAAHZlbmRvci9zeW1mb255L2ZpbmRlci9BZGFwdGVyL0JzZEZpbmRBZGFwdGVyLnBocDIHAAC40MBgMgcAAIOARCmkAQAAAAAAADAAAAB2ZW5kb3Ivc3ltZm9ueS9maW5kZXIvQWRhcHRlci9HbnVGaW5kQWRhcHRlci5waHAUBwAAuNDAYBQHAACm5OBPpAEAAAAAAAAsAAAAdmVuZG9yL3N5bWZvbnkvZmluZGVyL0FkYXB0ZXIvUGhwQWRhcHRlci5waHD0BwAAuNDAYPQHAADeZOg7pAEAAAAAAAAvAAAAdmVuZG9yL3N5bWZvbnkvZmluZGVyL0NvbXBhcmF0b3IvQ29tcGFyYXRvci5waHCNAwAAuNDAYI0DAAC+/Jy1pAEAAAAAAAAzAAAAdmVuZG9yL3N5bWZvbnkvZmluZGVyL0NvbXBhcmF0b3IvRGF0ZUNvbXBhcmF0b3IucGhwIwMAALjQwGAjAwAAFrAfzqQBAAAAAAAANQAAAHZlbmRvci9zeW1mb255L2ZpbmRlci9Db21wYXJhdG9yL051bWJlckNvbXBhcmF0b3IucGhwewMAALjQwGB7AwAAgNr5WaQBAAAAAAAAOQAAAHZlbmRvci9zeW1mb255L2ZpbmRlci9FeGNlcHRpb24vQWNjZXNzRGVuaWVkRXhjZXB0aW9uLnBocIQAAAC40MBghAAAAL2+c5ykAQAAAAAAADsAAAB2ZW5kb3Ivc3ltZm9ueS9maW5kZXIvRXhjZXB0aW9uL0FkYXB0ZXJGYWlsdXJlRXhjZXB0aW9uLnBocKwCAAC40MBgrAIAAHceGFKkAQAAAAAAADYAAAB2ZW5kb3Ivc3ltZm9ueS9maW5kZXIvRXhjZXB0aW9uL0V4Y2VwdGlvbkludGVyZmFjZS5waHCEAAAAuNDAYIQAAAAcR3otpAEAAAAAAABBAAAAdmVuZG9yL3N5bWZvbnkvZmluZGVyL0V4Y2VwdGlvbi9PcGVyYXRpb25Ob3RQZXJtaXRlZEV4Y2VwdGlvbi5waHApAQAAuNDAYCkBAAB4H6dlpAEAAAAAAABAAAAAdmVuZG9yL3N5bWZvbnkvZmluZGVyL0V4Y2VwdGlvbi9TaGVsbENvbW1hbmRGYWlsdXJlRXhjZXB0aW9uLnBocLoCAAC40MBgugIAAJj+FZikAQAAAAAAAC8AAAB2ZW5kb3Ivc3ltZm9ueS9maW5kZXIvRXhwcmVzc2lvbi9FeHByZXNzaW9uLnBocAcGAAC40MBgBwYAAGmlOsWkAQAAAAAAACkAAAB2ZW5kb3Ivc3ltZm9ueS9maW5kZXIvRXhwcmVzc2lvbi9HbG9iLnBocGYEAAC40MBgZgQAAETeY2qkAQAAAAAAACoAAAB2ZW5kb3Ivc3ltZm9ueS9maW5kZXIvRXhwcmVzc2lvbi9SZWdleC5waHADDwAAuNDAYAMPAACnO00ppAEAAAAAAAAzAAAAdmVuZG9yL3N5bWZvbnkvZmluZGVyL0V4cHJlc3Npb24vVmFsdWVJbnRlcmZhY2UucGhwzQEAALjQwGDNAQAAXHA0hqQBAAAAAAAAIAAAAHZlbmRvci9zeW1mb255L2ZpbmRlci9GaW5kZXIucGhwYy4AALjQwGBjLgAAOog1Z6QBAAAAAAAAHgAAAHZlbmRvci9zeW1mb255L2ZpbmRlci9HbG9iLnBocEwFAAC40MBgTAUAAGrNOdekAQAAAAAAADcAAAB2ZW5kb3Ivc3ltZm9ueS9maW5kZXIvSXRlcmF0b3IvQ3VzdG9tRmlsdGVySXRlcmF0b3IucGhwXQIAALjQwGBdAgAAzm/FxqQBAAAAAAAAOgAAAHZlbmRvci9zeW1mb255L2ZpbmRlci9JdGVyYXRvci9EYXRlUmFuZ2VGaWx0ZXJJdGVyYXRvci5waHB4AgAAuNDAYHgCAAAP9ANQpAEAAAAAAAA7AAAAdmVuZG9yL3N5bWZvbnkvZmluZGVyL0l0ZXJhdG9yL0RlcHRoUmFuZ2VGaWx0ZXJJdGVyYXRvci5waHDuAQAAuNDAYO4BAAD8zZ1xpAEAAAAAAABBAAAAdmVuZG9yL3N5bWZvbnkvZmluZGVyL0l0ZXJhdG9yL0V4Y2x1ZGVEaXJlY3RvcnlGaWx0ZXJJdGVyYXRvci5waHDtBQAAuNDAYO0FAABuBfVIpAEAAAAAAAA0AAAAdmVuZG9yL3N5bWZvbnkvZmluZGVyL0l0ZXJhdG9yL0ZpbGVQYXRoc0l0ZXJhdG9yLnBocCMGAAC40MBgIwYAAEc/VL2kAQAAAAAAADkAAAB2ZW5kb3Ivc3ltZm9ueS9maW5kZXIvSXRlcmF0b3IvRmlsZVR5cGVGaWx0ZXJJdGVyYXRvci5waHBaAgAAuNDAYFoCAAAoGib4pAEAAAAAAAA8AAAAdmVuZG9yL3N5bWZvbnkvZmluZGVyL0l0ZXJhdG9yL0ZpbGVjb250ZW50RmlsdGVySXRlcmF0b3IucGhwNQIAALjQwGA1AgAAmu0fFKQBAAAAAAAAOQAAAHZlbmRvci9zeW1mb255L2ZpbmRlci9JdGVyYXRvci9GaWxlbmFtZUZpbHRlckl0ZXJhdG9yLnBocHIBAAC40MBgcgEAAHQIGnWkAQAAAAAAADEAAAB2ZW5kb3Ivc3ltZm9ueS9maW5kZXIvSXRlcmF0b3IvRmlsdGVySXRlcmF0b3IucGhwwgIAALjQwGDCAgAAHI/jr6QBAAAAAAAAPQAAAHZlbmRvci9zeW1mb255L2ZpbmRlci9JdGVyYXRvci9NdWx0aXBsZVBjcmVGaWx0ZXJJdGVyYXRvci5waHAqBQAAuNDAYCoFAAACjJ6dpAEAAAAAAAA1AAAAdmVuZG9yL3N5bWZvbnkvZmluZGVyL0l0ZXJhdG9yL1BhdGhGaWx0ZXJJdGVyYXRvci5waHDQAQAAuNDAYNABAAASgghjpAEAAAAAAAA9AAAAdmVuZG9yL3N5bWZvbnkvZmluZGVyL0l0ZXJhdG9yL1JlY3Vyc2l2ZURpcmVjdG9yeUl0ZXJhdG9yLnBocA8JAAC40MBgDwkAAE99Q+SkAQAAAAAAADoAAAB2ZW5kb3Ivc3ltZm9ueS9maW5kZXIvSXRlcmF0b3IvU2l6ZVJhbmdlRmlsdGVySXRlcmF0b3IucGhwZQIAALjQwGBlAgAAn5Lh6aQBAAAAAAAAMwAAAHZlbmRvci9zeW1mb255L2ZpbmRlci9JdGVyYXRvci9Tb3J0YWJsZUl0ZXJhdG9yLnBocCsGAAC40MBgKwYAAPXdyyCkAQAAAAAAAB0AAAB2ZW5kb3Ivc3ltZm9ueS9maW5kZXIvTElDRU5TRSsEAAC40MBgKwQAALKLoGekAQAAAAAAACcAAAB2ZW5kb3Ivc3ltZm9ueS9maW5kZXIvU2hlbGwvQ29tbWFuZC5waHA+CwAAuNDAYD4LAABffnUMpAEAAAAAAAAlAAAAdmVuZG9yL3N5bWZvbnkvZmluZGVyL1NoZWxsL1NoZWxsLnBocHEEAAC40MBgcQQAALfTijCkAQAAAAAAACUAAAB2ZW5kb3Ivc3ltZm9ueS9maW5kZXIvU3BsRmlsZUluZm8ucGhwBgMAALjQwGAGAwAA/gDt+aQBAAAAAAAAJwAAAHZlbmRvci9zeW1mb255L3BvbHlmaWxsLWN0eXBlL0N0eXBlLnBocEgJAAC40MBgSAkAALOd1d2kAQAAAAAAACUAAAB2ZW5kb3Ivc3ltZm9ueS9wb2x5ZmlsbC1jdHlwZS9MSUNFTlNFKwQAALjQwGArBAAAhbtFOqQBAAAAAAAAKwAAAHZlbmRvci9zeW1mb255L3BvbHlmaWxsLWN0eXBlL2Jvb3RzdHJhcC5waHD6BAAAuNDAYPoEAAAVfHA6pAEAAAAAAAAoAAAAdmVuZG9yL3N5bWZvbnkvcG9seWZpbGwtbWJzdHJpbmcvTElDRU5TRSsEAAC40MBgKwQAABb423ukAQAAAAAAAC0AAAB2ZW5kb3Ivc3ltZm9ueS9wb2x5ZmlsbC1tYnN0cmluZy9NYnN0cmluZy5waHB+RwAAuNDAYH5HAAD67KFUpAEAAAAAAABEAAAAdmVuZG9yL3N5bWZvbnkvcG9seWZpbGwtbWJzdHJpbmcvUmVzb3VyY2VzL21iX2NvbnZlcnRfdmFyaWFibGVzLnBocDjLAQAAuNDAYMsBAADanS6CpAEAAAAAAABAAAAAdmVuZG9yL3N5bWZvbnkvcG9seWZpbGwtbWJzdHJpbmcvUmVzb3VyY2VzL3VuaWRhdGEvbG93ZXJDYXNlLnBocPdUAAC40MBg91QAAN8yqj+kAQAAAAAAAEYAAAB2ZW5kb3Ivc3ltZm9ueS9wb2x5ZmlsbC1tYnN0cmluZy9SZXNvdXJjZXMvdW5pZGF0YS90aXRsZUNhc2VSZWdleHAucGhw4xcAALjQwGDjFwAA9nlflaQBAAAAAAAAQAAAAHZlbmRvci9zeW1mb255L3BvbHlmaWxsLW1ic3RyaW5nL1Jlc291cmNlcy91bmlkYXRhL3VwcGVyQ2FzZS5waHDuVQAAuNDAYO5VAABg/jhRpAEAAAAAAAAuAAAAdmVuZG9yL3N5bWZvbnkvcG9seWZpbGwtbWJzdHJpbmcvYm9vdHN0cmFwLnBocAMbAAC40MBgAxsAABH+Sr6kAQAAAAAAADcAAAB2ZW5kb3Ivc3ltZm9ueS9wcm9jZXNzL0V4Y2VwdGlvbi9FeGNlcHRpb25JbnRlcmZhY2UucGhwZgAAALjQwGBmAAAAXfY+VKQBAAAAAAAAPQAAAHZlbmRvci9zeW1mb255L3Byb2Nlc3MvRXhjZXB0aW9uL0ludmFsaWRBcmd1bWVudEV4Y2VwdGlvbi5waHCoAAAAuNDAYKgAAADQwCtfpAEAAAAAAAAzAAAAdmVuZG9yL3N5bWZvbnkvcHJvY2Vzcy9FeGNlcHRpb24vTG9naWNFeGNlcHRpb24ucGhwlAAAALjQwGCUAAAAILPj8aQBAAAAAAAAOwAAAHZlbmRvci9zeW1mb255L3Byb2Nlc3MvRXhjZXB0aW9uL1Byb2Nlc3NGYWlsZWRFeGNlcHRpb24ucGhweAMAALjQwGB4AwAAqMx6eaQBAAAAAAAAPQAAAHZlbmRvci9zeW1mb255L3Byb2Nlc3MvRXhjZXB0aW9uL1Byb2Nlc3NUaW1lZE91dEV4Y2VwdGlvbi5waHAfBAAAuNDAYB8EAAB/7w6rpAEAAAAAAAA1AAAAdmVuZG9yL3N5bWZvbnkvcHJvY2Vzcy9FeGNlcHRpb24vUnVudGltZUV4Y2VwdGlvbi5waHCYAAAAuNDAYJgAAACiG9g6pAEAAAAAAAArAAAAdmVuZG9yL3N5bWZvbnkvcHJvY2Vzcy9FeGVjdXRhYmxlRmluZGVyLnBocJwEAAC40MBgnAQAAB7nwcykAQAAAAAAAB4AAAB2ZW5kb3Ivc3ltZm9ueS9wcm9jZXNzL0xJQ0VOU0UrBAAAuNDAYCsEAACyi6BnpAEAAAAAAAAuAAAAdmVuZG9yL3N5bWZvbnkvcHJvY2Vzcy9QaHBFeGVjdXRhYmxlRmluZGVyLnBocM0EAAC40MBgzQQAAO0FMOOkAQAAAAAAACUAAAB2ZW5kb3Ivc3ltZm9ueS9wcm9jZXNzL1BocFByb2Nlc3MucGhw+QMAALjQwGD5AwAAY7bfxKQBAAAAAAAALgAAAHZlbmRvci9zeW1mb255L3Byb2Nlc3MvUGlwZXMvQWJzdHJhY3RQaXBlcy5waHC4BwAAuNDAYLgHAAB40yynpAEAAAAAAAAvAAAAdmVuZG9yL3N5bWZvbnkvcHJvY2Vzcy9QaXBlcy9QaXBlc0ludGVyZmFjZS5waHBEAQAAuNDAYEQBAAB22O6hpAEAAAAAAAAqAAAAdmVuZG9yL3N5bWZvbnkvcHJvY2Vzcy9QaXBlcy9Vbml4UGlwZXMucGhwNwgAALjQwGA3CAAAYtxwhKQBAAAAAAAALQAAAHZlbmRvci9zeW1mb255L3Byb2Nlc3MvUGlwZXMvV2luZG93c1BpcGVzLnBocGkMAAC40MBgaQwAANMKoMSkAQAAAAAAACIAAAB2ZW5kb3Ivc3ltZm9ueS9wcm9jZXNzL1Byb2Nlc3MucGhwoFIAALjQwGCgUgAA19OluaQBAAAAAAAAKQAAAHZlbmRvci9zeW1mb255L3Byb2Nlc3MvUHJvY2Vzc0J1aWxkZXIucGhw4QoAALjQwGDhCgAA8TZJlaQBAAAAAAAAJwAAAHZlbmRvci9zeW1mb255L3Byb2Nlc3MvUHJvY2Vzc1V0aWxzLnBocEoGAAC40MBgSgYAAAZ78UOkAQAAAAAAAAwAAABiaW4vY29tcG9zZXJUBwAAuNDAYFQHAABmBDGUpAEAAAAAAAAHAAAATElDRU5TRS4EAAC40MBgLgQAACDVCAOkAQAAAAAAADw/cGhwCgoKCgoKCgoKCgoKbmFtZXNwYWNlIENvbXBvc2VyXEF1dG9sb2FkOwoKdXNlIENvbXBvc2VyXENvbmZpZzsKdXNlIENvbXBvc2VyXEV2ZW50RGlzcGF0Y2hlclxFdmVudERpc3BhdGNoZXI7CnVzZSBDb21wb3NlclxJbnN0YWxsZXJcSW5zdGFsbGF0aW9uTWFuYWdlcjsKdXNlIENvbXBvc2VyXElPXElPSW50ZXJmYWNlOwp1c2UgQ29tcG9zZXJcUGFja2FnZVxBbGlhc1BhY2thZ2U7CnVzZSBDb21wb3NlclxQYWNrYWdlXFBhY2thZ2VJbnRlcmZhY2U7CnVzZSBDb21wb3NlclxQYWNrYWdlXFJvb3RQYWNrYWdlSW50ZXJmYWNlOwp1c2UgQ29tcG9zZXJcUmVwb3NpdG9yeVxJbnN0YWxsZWRSZXBvc2l0b3J5SW50ZXJmYWNlOwp1c2UgQ29tcG9zZXJcUmVwb3NpdG9yeVxQbGF0Zm9ybVJlcG9zaXRvcnk7CnVzZSBDb21wb3NlclxTZW12ZXJcQ29uc3RyYWludFxCb3VuZDsKdXNlIENvbXBvc2VyXFNlbXZlclxDb25zdHJhaW50XE1hdGNoQWxsQ29uc3RyYWludDsKdXNlIENvbXBvc2VyXFV0aWxcRmlsZXN5c3RlbTsKdXNlIENvbXBvc2VyXFV0aWxcUGxhdGZvcm07CnVzZSBDb21wb3NlclxTY3JpcHRcU2NyaXB0RXZlbnRzOwp1c2UgQ29tcG9zZXJcVXRpbFxQYWNrYWdlU29ydGVyOwp1c2UgQ29tcG9zZXJcSnNvblxKc29uRmlsZTsKCgoKCgpjbGFzcyBBdXRvbG9hZEdlbmVyYXRvcgp7CgoKCnByaXZhdGUgJGV2ZW50RGlzcGF0Y2hlcjsKCgoKCnByaXZhdGUgJGlvOwoKCgoKcHJpdmF0ZSAkZGV2TW9kZSA9IG51bGw7CgoKCgpwcml2YXRlICRjbGFzc01hcEF1dGhvcml0YXRpdmUgPSBmYWxzZTsKCgoKCnByaXZhdGUgJGFwY3UgPSBmYWxzZTsKCgoKCnByaXZhdGUgJGFwY3VQcmVmaXg7CgoKCgpwcml2YXRlICRydW5TY3JpcHRzID0gZmFsc2U7CgoKCgpwcml2YXRlICRpZ25vcmVQbGF0Zm9ybVJlcXMgPSBmYWxzZTsKCnB1YmxpYyBmdW5jdGlvbiBfX2NvbnN0cnVjdChFdmVudERpc3BhdGNoZXIgJGV2ZW50RGlzcGF0Y2hlciwgSU9JbnRlcmZhY2UgJGlvID0gbnVsbCkKewokdGhpcy0+ZXZlbnREaXNwYXRjaGVyID0gJGV2ZW50RGlzcGF0Y2hlcjsKJHRoaXMtPmlvID0gJGlvOwp9CgpwdWJsaWMgZnVuY3Rpb24gc2V0RGV2TW9kZSgkZGV2TW9kZSA9IHRydWUpCnsKJHRoaXMtPmRldk1vZGUgPSAoYm9vbCkgJGRldk1vZGU7Cn0KCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBzZXRDbGFzc01hcEF1dGhvcml0YXRpdmUoJGNsYXNzTWFwQXV0aG9yaXRhdGl2ZSkKewokdGhpcy0+Y2xhc3NNYXBBdXRob3JpdGF0aXZlID0gKGJvb2wpICRjbGFzc01hcEF1dGhvcml0YXRpdmU7Cn0KCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBzZXRBcGN1KCRhcGN1LCAkYXBjdVByZWZpeCA9IG51bGwpCnsKJHRoaXMtPmFwY3UgPSAoYm9vbCkgJGFwY3U7CiR0aGlzLT5hcGN1UHJlZml4ID0gJGFwY3VQcmVmaXggIT09IG51bGwgPyAoc3RyaW5nKSAkYXBjdVByZWZpeCA6ICRhcGN1UHJlZml4Owp9CgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBzZXRSdW5TY3JpcHRzKCRydW5TY3JpcHRzID0gdHJ1ZSkKewokdGhpcy0+cnVuU2NyaXB0cyA9IChib29sKSAkcnVuU2NyaXB0czsKfQoKCgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIHNldElnbm9yZVBsYXRmb3JtUmVxdWlyZW1lbnRzKCRpZ25vcmVQbGF0Zm9ybVJlcXMpCnsKaWYgKGlzX2FycmF5KCRpZ25vcmVQbGF0Zm9ybVJlcXMpKSB7CiR0aGlzLT5pZ25vcmVQbGF0Zm9ybVJlcXMgPSBhcnJheV9maWx0ZXIoJGlnbm9yZVBsYXRmb3JtUmVxcywgZnVuY3Rpb24gKCRyZXEpIHsKcmV0dXJuIFBsYXRmb3JtUmVwb3NpdG9yeTo6aXNQbGF0Zm9ybVBhY2thZ2UoJHJlcSk7Cn0pOwp9IGVsc2UgewokdGhpcy0+aWdub3JlUGxhdGZvcm1SZXFzID0gKGJvb2wpICRpZ25vcmVQbGF0Zm9ybVJlcXM7Cn0KfQoKcHVibGljIGZ1bmN0aW9uIGR1bXAoQ29uZmlnICRjb25maWcsIEluc3RhbGxlZFJlcG9zaXRvcnlJbnRlcmZhY2UgJGxvY2FsUmVwbywgUm9vdFBhY2thZ2VJbnRlcmZhY2UgJHJvb3RQYWNrYWdlLCBJbnN0YWxsYXRpb25NYW5hZ2VyICRpbnN0YWxsYXRpb25NYW5hZ2VyLCAkdGFyZ2V0RGlyLCAkc2NhblBzclBhY2thZ2VzID0gZmFsc2UsICRzdWZmaXggPSAnJykKewppZiAoJHRoaXMtPmNsYXNzTWFwQXV0aG9yaXRhdGl2ZSkgewoKJHNjYW5Qc3JQYWNrYWdlcyA9IHRydWU7Cn0KCgppZiAobnVsbCA9PT0gJHRoaXMtPmRldk1vZGUpIHsKCiR0aGlzLT5kZXZNb2RlID0gZmFsc2U7CgokaW5zdGFsbGVkSnNvbiA9IG5ldyBKc29uRmlsZSgkY29uZmlnLT5nZXQoJ3ZlbmRvci1kaXInKS4nL2NvbXBvc2VyL2luc3RhbGxlZC5qc29uJyk7CmlmICgkaW5zdGFsbGVkSnNvbi0+ZXhpc3RzKCkpIHsKJGluc3RhbGxlZEpzb24gPSAkaW5zdGFsbGVkSnNvbi0+cmVhZCgpOwppZiAoaXNzZXQoJGluc3RhbGxlZEpzb25bJ2RldiddKSkgewokdGhpcy0+ZGV2TW9kZSA9ICRpbnN0YWxsZWRKc29uWydkZXYnXTsKfQp9Cn0KCmlmICgkdGhpcy0+cnVuU2NyaXB0cykgewoKaWYgKCFpc3NldCgkX1NFUlZFUlsnQ09NUE9TRVJfREVWX01PREUnXSkpIHsKUGxhdGZvcm06OnB1dEVudignQ09NUE9TRVJfREVWX01PREUnLCAkdGhpcy0+ZGV2TW9kZSA/ICcxJyA6ICcwJyk7Cn0KCiR0aGlzLT5ldmVudERpc3BhdGNoZXItPmRpc3BhdGNoU2NyaXB0KFNjcmlwdEV2ZW50czo6UFJFX0FVVE9MT0FEX0RVTVAsICR0aGlzLT5kZXZNb2RlLCBhcnJheSgpLCBhcnJheSgKJ29wdGltaXplJyA9PiAoYm9vbCkgJHNjYW5Qc3JQYWNrYWdlcywKKSk7Cn0KCiRmaWxlc3lzdGVtID0gbmV3IEZpbGVzeXN0ZW0oKTsKJGZpbGVzeXN0ZW0tPmVuc3VyZURpcmVjdG9yeUV4aXN0cygkY29uZmlnLT5nZXQoJ3ZlbmRvci1kaXInKSk7CgoKCiRiYXNlUGF0aCA9ICRmaWxlc3lzdGVtLT5ub3JtYWxpemVQYXRoKHJlYWxwYXRoKHJlYWxwYXRoKGdldGN3ZCgpKSkpOwokdmVuZG9yUGF0aCA9ICRmaWxlc3lzdGVtLT5ub3JtYWxpemVQYXRoKHJlYWxwYXRoKHJlYWxwYXRoKCRjb25maWctPmdldCgndmVuZG9yLWRpcicpKSkpOwokdXNlR2xvYmFsSW5jbHVkZVBhdGggPSAoYm9vbCkgJGNvbmZpZy0+Z2V0KCd1c2UtaW5jbHVkZS1wYXRoJyk7CiRwcmVwZW5kQXV0b2xvYWRlciA9ICRjb25maWctPmdldCgncHJlcGVuZC1hdXRvbG9hZGVyJykgPT09IGZhbHNlID8gJ2ZhbHNlJyA6ICd0cnVlJzsKJHRhcmdldERpciA9ICR2ZW5kb3JQYXRoLicvJy4kdGFyZ2V0RGlyOwokZmlsZXN5c3RlbS0+ZW5zdXJlRGlyZWN0b3J5RXhpc3RzKCR0YXJnZXREaXIpOwoKJHZlbmRvclBhdGhDb2RlID0gJGZpbGVzeXN0ZW0tPmZpbmRTaG9ydGVzdFBhdGhDb2RlKHJlYWxwYXRoKCR0YXJnZXREaXIpLCAkdmVuZG9yUGF0aCwgdHJ1ZSk7CiR2ZW5kb3JQYXRoQ29kZTUyID0gc3RyX3JlcGxhY2UoJ19fRElSX18nLCAnZGlybmFtZShfX0ZJTEVfXyknLCAkdmVuZG9yUGF0aENvZGUpOwokdmVuZG9yUGF0aFRvVGFyZ2V0RGlyQ29kZSA9ICRmaWxlc3lzdGVtLT5maW5kU2hvcnRlc3RQYXRoQ29kZSgkdmVuZG9yUGF0aCwgcmVhbHBhdGgoJHRhcmdldERpciksIHRydWUpOwoKJGFwcEJhc2VEaXJDb2RlID0gJGZpbGVzeXN0ZW0tPmZpbmRTaG9ydGVzdFBhdGhDb2RlKCR2ZW5kb3JQYXRoLCAkYmFzZVBhdGgsIHRydWUpOwokYXBwQmFzZURpckNvZGUgPSBzdHJfcmVwbGFjZSgnX19ESVJfXycsICckdmVuZG9yRGlyJywgJGFwcEJhc2VEaXJDb2RlKTsKCiRuYW1lc3BhY2VzRmlsZSA9IDw8PEVPRgo8P3BocAoKLy8gYXV0b2xvYWRfbmFtZXNwYWNlcy5waHAgQGdlbmVyYXRlZCBieSBDb21wb3NlcgoKXCR2ZW5kb3JEaXIgPSAkdmVuZG9yUGF0aENvZGU1MjsKXCRiYXNlRGlyID0gJGFwcEJhc2VEaXJDb2RlOwoKcmV0dXJuIGFycmF5KAoKRU9GOwoKJHBzcjRGaWxlID0gPDw8RU9GCjw/cGhwCgovLyBhdXRvbG9hZF9wc3I0LnBocCBAZ2VuZXJhdGVkIGJ5IENvbXBvc2VyCgpcJHZlbmRvckRpciA9ICR2ZW5kb3JQYXRoQ29kZTUyOwpcJGJhc2VEaXIgPSAkYXBwQmFzZURpckNvZGU7CgpyZXR1cm4gYXJyYXkoCgpFT0Y7CgoKJGRldlBhY2thZ2VOYW1lcyA9ICRsb2NhbFJlcG8tPmdldERldlBhY2thZ2VOYW1lcygpOwokcGFja2FnZU1hcCA9ICR0aGlzLT5idWlsZFBhY2thZ2VNYXAoJGluc3RhbGxhdGlvbk1hbmFnZXIsICRyb290UGFja2FnZSwgJGxvY2FsUmVwby0+Z2V0Q2Fub25pY2FsUGFja2FnZXMoKSk7CmlmICgkdGhpcy0+ZGV2TW9kZSkgewoKJGZpbHRlcmVkRGV2UGFja2FnZXMgPSBmYWxzZTsKfSBlbHNlIHsKCiRmaWx0ZXJlZERldlBhY2thZ2VzID0gJGRldlBhY2thZ2VOYW1lcyA/OiB0cnVlOwp9CiRhdXRvbG9hZHMgPSAkdGhpcy0+cGFyc2VBdXRvbG9hZHMoJHBhY2thZ2VNYXAsICRyb290UGFja2FnZSwgJGZpbHRlcmVkRGV2UGFja2FnZXMpOwoKCmZvcmVhY2ggKCRhdXRvbG9hZHNbJ3Bzci0wJ10gYXMgJG5hbWVzcGFjZSA9PiAkcGF0aHMpIHsKJGV4cG9ydGVkUGF0aHMgPSBhcnJheSgpOwpmb3JlYWNoICgkcGF0aHMgYXMgJHBhdGgpIHsKJGV4cG9ydGVkUGF0aHNbXSA9ICR0aGlzLT5nZXRQYXRoQ29kZSgkZmlsZXN5c3RlbSwgJGJhc2VQYXRoLCAkdmVuZG9yUGF0aCwgJHBhdGgpOwp9CiRleHBvcnRlZFByZWZpeCA9IHZhcl9leHBvcnQoJG5hbWVzcGFjZSwgdHJ1ZSk7CiRuYW1lc3BhY2VzRmlsZSAuPSAiICAgICRleHBvcnRlZFByZWZpeCA9PiAiOwokbmFtZXNwYWNlc0ZpbGUgLj0gImFycmF5KCIuaW1wbG9kZSgnLCAnLCAkZXhwb3J0ZWRQYXRocykuIiksXG4iOwp9CiRuYW1lc3BhY2VzRmlsZSAuPSAiKTtcbiI7CgoKZm9yZWFjaCAoJGF1dG9sb2Fkc1sncHNyLTQnXSBhcyAkbmFtZXNwYWNlID0+ICRwYXRocykgewokZXhwb3J0ZWRQYXRocyA9IGFycmF5KCk7CmZvcmVhY2ggKCRwYXRocyBhcyAkcGF0aCkgewokZXhwb3J0ZWRQYXRoc1tdID0gJHRoaXMtPmdldFBhdGhDb2RlKCRmaWxlc3lzdGVtLCAkYmFzZVBhdGgsICR2ZW5kb3JQYXRoLCAkcGF0aCk7Cn0KJGV4cG9ydGVkUHJlZml4ID0gdmFyX2V4cG9ydCgkbmFtZXNwYWNlLCB0cnVlKTsKJHBzcjRGaWxlIC49ICIgICAgJGV4cG9ydGVkUHJlZml4ID0+ICI7CiRwc3I0RmlsZSAuPSAiYXJyYXkoIi5pbXBsb2RlKCcsICcsICRleHBvcnRlZFBhdGhzKS4iKSxcbiI7Cn0KJHBzcjRGaWxlIC49ICIpO1xuIjsKCiRjbGFzc21hcEZpbGUgPSA8PDxFT0YKPD9waHAKCi8vIGF1dG9sb2FkX2NsYXNzbWFwLnBocCBAZ2VuZXJhdGVkIGJ5IENvbXBvc2VyCgpcJHZlbmRvckRpciA9ICR2ZW5kb3JQYXRoQ29kZTUyOwpcJGJhc2VEaXIgPSAkYXBwQmFzZURpckNvZGU7CgpyZXR1cm4gYXJyYXkoCgpFT0Y7CgoKJHRhcmdldERpckxvYWRlciA9IG51bGw7CiRtYWluQXV0b2xvYWQgPSAkcm9vdFBhY2thZ2UtPmdldEF1dG9sb2FkKCk7CmlmICgkcm9vdFBhY2thZ2UtPmdldFRhcmdldERpcigpICYmICFlbXB0eSgkbWFpbkF1dG9sb2FkWydwc3ItMCddKSkgewokbGV2ZWxzID0gc3Vic3RyX2NvdW50KCRmaWxlc3lzdGVtLT5ub3JtYWxpemVQYXRoKCRyb290UGFja2FnZS0+Z2V0VGFyZ2V0RGlyKCkpLCAnLycpICsgMTsKJHByZWZpeGVzID0gaW1wbG9kZSgnLCAnLCBhcnJheV9tYXAoZnVuY3Rpb24gKCRwcmVmaXgpIHsKcmV0dXJuIHZhcl9leHBvcnQoJHByZWZpeCwgdHJ1ZSk7Cn0sIGFycmF5X2tleXMoJG1haW5BdXRvbG9hZFsncHNyLTAnXSkpKTsKJGJhc2VEaXJGcm9tVGFyZ2V0RGlyQ29kZSA9ICRmaWxlc3lzdGVtLT5maW5kU2hvcnRlc3RQYXRoQ29kZSgkdGFyZ2V0RGlyLCAkYmFzZVBhdGgsIHRydWUpOwoKJHRhcmdldERpckxvYWRlciA9IDw8PEVPRgoKICAgIHB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gYXV0b2xvYWQoXCRjbGFzcykKICAgIHsKICAgICAgICBcJGRpciA9ICRiYXNlRGlyRnJvbVRhcmdldERpckNvZGUgLiAnLyc7CiAgICAgICAgXCRwcmVmaXhlcyA9IGFycmF5KCRwcmVmaXhlcyk7CiAgICAgICAgZm9yZWFjaCAoXCRwcmVmaXhlcyBhcyBcJHByZWZpeCkgewogICAgICAgICAgICBpZiAoMCAhPT0gc3RycG9zKFwkY2xhc3MsIFwkcHJlZml4KSkgewogICAgICAgICAgICAgICAgY29udGludWU7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgXCRwYXRoID0gXCRkaXIgLiBpbXBsb2RlKCcvJywgYXJyYXlfc2xpY2UoZXhwbG9kZSgnXFxcXCcsIFwkY2xhc3MpLCAkbGV2ZWxzKSkuJy5waHAnOwogICAgICAgICAgICBpZiAoIVwkcGF0aCA9IHN0cmVhbV9yZXNvbHZlX2luY2x1ZGVfcGF0aChcJHBhdGgpKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmVxdWlyZSBcJHBhdGg7CgogICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9CiAgICB9CgpFT0Y7Cn0KCiRleGNsdWRlZCA9IG51bGw7CmlmICghZW1wdHkoJGF1dG9sb2Fkc1snZXhjbHVkZS1mcm9tLWNsYXNzbWFwJ10pKSB7CiRleGNsdWRlZCA9ICRhdXRvbG9hZHNbJ2V4Y2x1ZGUtZnJvbS1jbGFzc21hcCddOwp9CgokY2xhc3NNYXAgPSBhcnJheSgpOwokYW1iaWd1b3VzQ2xhc3NlcyA9IGFycmF5KCk7CiRzY2FubmVkRmlsZXMgPSBhcnJheSgpOwpmb3JlYWNoICgkYXV0b2xvYWRzWydjbGFzc21hcCddIGFzICRkaXIpIHsKJGNsYXNzTWFwID0gJHRoaXMtPmFkZENsYXNzTWFwQ29kZSgkZmlsZXN5c3RlbSwgJGJhc2VQYXRoLCAkdmVuZG9yUGF0aCwgJGRpciwgJGV4Y2x1ZGVkLCBudWxsLCBudWxsLCAkY2xhc3NNYXAsICRhbWJpZ3VvdXNDbGFzc2VzLCAkc2Nhbm5lZEZpbGVzKTsKfQoKaWYgKCRzY2FuUHNyUGFja2FnZXMpIHsKJG5hbWVzcGFjZXNUb1NjYW4gPSBhcnJheSgpOwoKCmZvcmVhY2ggKGFycmF5KCdwc3ItNCcsICdwc3ItMCcpIGFzICRwc3JUeXBlKSB7CmZvcmVhY2ggKCRhdXRvbG9hZHNbJHBzclR5cGVdIGFzICRuYW1lc3BhY2UgPT4gJHBhdGhzKSB7CiRuYW1lc3BhY2VzVG9TY2FuWyRuYW1lc3BhY2VdW10gPSBhcnJheSgncGF0aHMnID0+ICRwYXRocywgJ3R5cGUnID0+ICRwc3JUeXBlKTsKfQp9CgprcnNvcnQoJG5hbWVzcGFjZXNUb1NjYW4pOwoKZm9yZWFjaCAoJG5hbWVzcGFjZXNUb1NjYW4gYXMgJG5hbWVzcGFjZSA9PiAkZ3JvdXBzKSB7CmZvcmVhY2ggKCRncm91cHMgYXMgJGdyb3VwKSB7CmZvcmVhY2ggKCRncm91cFsncGF0aHMnXSBhcyAkZGlyKSB7CiRkaXIgPSAkZmlsZXN5c3RlbS0+bm9ybWFsaXplUGF0aCgkZmlsZXN5c3RlbS0+aXNBYnNvbHV0ZVBhdGgoJGRpcikgPyAkZGlyIDogJGJhc2VQYXRoLicvJy4kZGlyKTsKaWYgKCFpc19kaXIoJGRpcikpIHsKY29udGludWU7Cn0KCiRjbGFzc01hcCA9ICR0aGlzLT5hZGRDbGFzc01hcENvZGUoJGZpbGVzeXN0ZW0sICRiYXNlUGF0aCwgJHZlbmRvclBhdGgsICRkaXIsICRleGNsdWRlZCwgJG5hbWVzcGFjZSwgJGdyb3VwWyd0eXBlJ10sICRjbGFzc01hcCwgJGFtYmlndW91c0NsYXNzZXMsICRzY2FubmVkRmlsZXMpOwp9Cn0KfQp9Cgpmb3JlYWNoICgkYW1iaWd1b3VzQ2xhc3NlcyBhcyAkY2xhc3NOYW1lID0+ICRhbWJpZ2lvdXNQYXRocykgewokY2xlYW5QYXRoID0gc3RyX3JlcGxhY2UoYXJyYXkoJyR2ZW5kb3JEaXIgLiBcJycsICckYmFzZURpciAuIFwnJywgIicsXG4iKSwgYXJyYXkoJHZlbmRvclBhdGgsICRiYXNlUGF0aCwgJycpLCAkY2xhc3NNYXBbJGNsYXNzTmFtZV0pOwoKJHRoaXMtPmlvLT53cml0ZUVycm9yKAonPHdhcm5pbmc+V2FybmluZzogQW1iaWd1b3VzIGNsYXNzIHJlc29sdXRpb24sICInLiRjbGFzc05hbWUuJyInLgonIHdhcyBmb3VuZCAnLiAoY291bnQoJGFtYmlnaW91c1BhdGhzKSArIDEpIC4neDogaW4gIicuJGNsZWFuUGF0aC4nIiBhbmQgIicuIGltcGxvZGUoJyIsICInLCAkYW1iaWdpb3VzUGF0aHMpIC4nIiwgdGhlIGZpcnN0IHdpbGwgYmUgdXNlZC48L3dhcm5pbmc+JwopOwp9CgokY2xhc3NNYXBbJ0NvbXBvc2VyXFxJbnN0YWxsZWRWZXJzaW9ucyddID0gIlwkdmVuZG9yRGlyIC4gJy9jb21wb3Nlci9JbnN0YWxsZWRWZXJzaW9ucy5waHAnLFxuIjsKa3NvcnQoJGNsYXNzTWFwKTsKZm9yZWFjaCAoJGNsYXNzTWFwIGFzICRjbGFzcyA9PiAkY29kZSkgewokY2xhc3NtYXBGaWxlIC49ICcgICAgJy52YXJfZXhwb3J0KCRjbGFzcywgdHJ1ZSkuJyA9PiAnLiRjb2RlOwp9CiRjbGFzc21hcEZpbGUgLj0gIik7XG4iOwoKaWYgKCEkc3VmZml4KSB7CmlmICghJGNvbmZpZy0+Z2V0KCdhdXRvbG9hZGVyLXN1ZmZpeCcpICYmIEZpbGVzeXN0ZW06OmlzUmVhZGFibGUoJHZlbmRvclBhdGguJy9hdXRvbG9hZC5waHAnKSkgewokY29udGVudCA9IGZpbGVfZ2V0X2NvbnRlbnRzKCR2ZW5kb3JQYXRoLicvYXV0b2xvYWQucGhwJyk7CmlmIChwcmVnX21hdGNoKCd7Q29tcG9zZXJBdXRvbG9hZGVySW5pdChbXjpcc10rKTo6fScsICRjb250ZW50LCAkbWF0Y2gpKSB7CiRzdWZmaXggPSAkbWF0Y2hbMV07Cn0KfQoKaWYgKCEkc3VmZml4KSB7CiRzdWZmaXggPSAkY29uZmlnLT5nZXQoJ2F1dG9sb2FkZXItc3VmZml4JykgPzogbWQ1KHVuaXFpZCgnJywgdHJ1ZSkpOwp9Cn0KCiRmaWxlc3lzdGVtLT5maWxlUHV0Q29udGVudHNJZk1vZGlmaWVkKCR0YXJnZXREaXIuJy9hdXRvbG9hZF9uYW1lc3BhY2VzLnBocCcsICRuYW1lc3BhY2VzRmlsZSk7CiRmaWxlc3lzdGVtLT5maWxlUHV0Q29udGVudHNJZk1vZGlmaWVkKCR0YXJnZXREaXIuJy9hdXRvbG9hZF9wc3I0LnBocCcsICRwc3I0RmlsZSk7CiRmaWxlc3lzdGVtLT5maWxlUHV0Q29udGVudHNJZk1vZGlmaWVkKCR0YXJnZXREaXIuJy9hdXRvbG9hZF9jbGFzc21hcC5waHAnLCAkY2xhc3NtYXBGaWxlKTsKJGluY2x1ZGVQYXRoRmlsZVBhdGggPSAkdGFyZ2V0RGlyLicvaW5jbHVkZV9wYXRocy5waHAnOwppZiAoJGluY2x1ZGVQYXRoRmlsZUNvbnRlbnRzID0gJHRoaXMtPmdldEluY2x1ZGVQYXRoc0ZpbGUoJHBhY2thZ2VNYXAsICRmaWxlc3lzdGVtLCAkYmFzZVBhdGgsICR2ZW5kb3JQYXRoLCAkdmVuZG9yUGF0aENvZGU1MiwgJGFwcEJhc2VEaXJDb2RlKSkgewokZmlsZXN5c3RlbS0+ZmlsZVB1dENvbnRlbnRzSWZNb2RpZmllZCgkaW5jbHVkZVBhdGhGaWxlUGF0aCwgJGluY2x1ZGVQYXRoRmlsZUNvbnRlbnRzKTsKfSBlbHNlaWYgKGZpbGVfZXhpc3RzKCRpbmNsdWRlUGF0aEZpbGVQYXRoKSkgewp1bmxpbmsoJGluY2x1ZGVQYXRoRmlsZVBhdGgpOwp9CiRpbmNsdWRlRmlsZXNGaWxlUGF0aCA9ICR0YXJnZXREaXIuJy9hdXRvbG9hZF9maWxlcy5waHAnOwppZiAoJGluY2x1ZGVGaWxlc0ZpbGVDb250ZW50cyA9ICR0aGlzLT5nZXRJbmNsdWRlRmlsZXNGaWxlKCRhdXRvbG9hZHNbJ2ZpbGVzJ10sICRmaWxlc3lzdGVtLCAkYmFzZVBhdGgsICR2ZW5kb3JQYXRoLCAkdmVuZG9yUGF0aENvZGU1MiwgJGFwcEJhc2VEaXJDb2RlKSkgewokZmlsZXN5c3RlbS0+ZmlsZVB1dENvbnRlbnRzSWZNb2RpZmllZCgkaW5jbHVkZUZpbGVzRmlsZVBhdGgsICRpbmNsdWRlRmlsZXNGaWxlQ29udGVudHMpOwp9IGVsc2VpZiAoZmlsZV9leGlzdHMoJGluY2x1ZGVGaWxlc0ZpbGVQYXRoKSkgewp1bmxpbmsoJGluY2x1ZGVGaWxlc0ZpbGVQYXRoKTsKfQokZmlsZXN5c3RlbS0+ZmlsZVB1dENvbnRlbnRzSWZNb2RpZmllZCgkdGFyZ2V0RGlyLicvYXV0b2xvYWRfc3RhdGljLnBocCcsICR0aGlzLT5nZXRTdGF0aWNGaWxlKCRzdWZmaXgsICR0YXJnZXREaXIsICR2ZW5kb3JQYXRoLCAkYmFzZVBhdGgsICRzdGF0aWNQaHBWZXJzaW9uKSk7CiRjaGVja1BsYXRmb3JtID0gJGNvbmZpZy0+Z2V0KCdwbGF0Zm9ybS1jaGVjaycpICYmICR0aGlzLT5pZ25vcmVQbGF0Zm9ybVJlcXMgIT09IHRydWU7CiRwbGF0Zm9ybUNoZWNrQ29udGVudCA9IG51bGw7CmlmICgkY2hlY2tQbGF0Zm9ybSkgewokcGxhdGZvcm1DaGVja0NvbnRlbnQgPSAkdGhpcy0+Z2V0UGxhdGZvcm1DaGVjaygkcGFja2FnZU1hcCwgJHRoaXMtPmlnbm9yZVBsYXRmb3JtUmVxcyA/OiBhcnJheSgpLCAkY29uZmlnLT5nZXQoJ3BsYXRmb3JtLWNoZWNrJyksICRkZXZQYWNrYWdlTmFtZXMpOwppZiAobnVsbCA9PT0gJHBsYXRmb3JtQ2hlY2tDb250ZW50KSB7CiRjaGVja1BsYXRmb3JtID0gZmFsc2U7Cn0KfQppZiAoJGNoZWNrUGxhdGZvcm0pIHsKJGZpbGVzeXN0ZW0tPmZpbGVQdXRDb250ZW50c0lmTW9kaWZpZWQoJHRhcmdldERpci4nL3BsYXRmb3JtX2NoZWNrLnBocCcsICRwbGF0Zm9ybUNoZWNrQ29udGVudCk7Cn0gZWxzZWlmIChmaWxlX2V4aXN0cygkdGFyZ2V0RGlyLicvcGxhdGZvcm1fY2hlY2sucGhwJykpIHsKdW5saW5rKCR0YXJnZXREaXIuJy9wbGF0Zm9ybV9jaGVjay5waHAnKTsKfQokZmlsZXN5c3RlbS0+ZmlsZVB1dENvbnRlbnRzSWZNb2RpZmllZCgkdmVuZG9yUGF0aC4nL2F1dG9sb2FkLnBocCcsICR0aGlzLT5nZXRBdXRvbG9hZEZpbGUoJHZlbmRvclBhdGhUb1RhcmdldERpckNvZGUsICRzdWZmaXgpKTsKJGZpbGVzeXN0ZW0tPmZpbGVQdXRDb250ZW50c0lmTW9kaWZpZWQoJHRhcmdldERpci4nL2F1dG9sb2FkX3JlYWwucGhwJywgJHRoaXMtPmdldEF1dG9sb2FkUmVhbEZpbGUodHJ1ZSwgKGJvb2wpICRpbmNsdWRlUGF0aEZpbGVDb250ZW50cywgJHRhcmdldERpckxvYWRlciwgKGJvb2wpICRpbmNsdWRlRmlsZXNGaWxlQ29udGVudHMsICR2ZW5kb3JQYXRoQ29kZSwgJGFwcEJhc2VEaXJDb2RlLCAkc3VmZml4LCAkdXNlR2xvYmFsSW5jbHVkZVBhdGgsICRwcmVwZW5kQXV0b2xvYWRlciwgJHN0YXRpY1BocFZlcnNpb24sICRjaGVja1BsYXRmb3JtKSk7CgokZmlsZXN5c3RlbS0+c2FmZUNvcHkoX19ESVJfXy4nL0NsYXNzTG9hZGVyLnBocCcsICR0YXJnZXREaXIuJy9DbGFzc0xvYWRlci5waHAnKTsKJGZpbGVzeXN0ZW0tPnNhZmVDb3B5KF9fRElSX18uJy8uLi8uLi8uLi9MSUNFTlNFJywgJHRhcmdldERpci4nL0xJQ0VOU0UnKTsKCmlmICgkdGhpcy0+cnVuU2NyaXB0cykgewokdGhpcy0+ZXZlbnREaXNwYXRjaGVyLT5kaXNwYXRjaFNjcmlwdChTY3JpcHRFdmVudHM6OlBPU1RfQVVUT0xPQURfRFVNUCwgJHRoaXMtPmRldk1vZGUsIGFycmF5KCksIGFycmF5KAonb3B0aW1pemUnID0+IChib29sKSAkc2NhblBzclBhY2thZ2VzLAopKTsKfQoKcmV0dXJuIGNvdW50KCRjbGFzc01hcCk7Cn0KCnByaXZhdGUgZnVuY3Rpb24gYWRkQ2xhc3NNYXBDb2RlKCRmaWxlc3lzdGVtLCAkYmFzZVBhdGgsICR2ZW5kb3JQYXRoLCAkZGlyLCAkZXhjbHVkZWQsICRuYW1lc3BhY2VGaWx0ZXIsICRhdXRvbG9hZFR5cGUsIGFycmF5ICRjbGFzc01hcCwgYXJyYXkgJiRhbWJpZ3VvdXNDbGFzc2VzLCBhcnJheSAmJHNjYW5uZWRGaWxlcykKewpmb3JlYWNoICgkdGhpcy0+Z2VuZXJhdGVDbGFzc01hcCgkZGlyLCAkZXhjbHVkZWQsICRuYW1lc3BhY2VGaWx0ZXIsICRhdXRvbG9hZFR5cGUsIHRydWUsICRzY2FubmVkRmlsZXMpIGFzICRjbGFzcyA9PiAkcGF0aCkgewokcGF0aENvZGUgPSAkdGhpcy0+Z2V0UGF0aENvZGUoJGZpbGVzeXN0ZW0sICRiYXNlUGF0aCwgJHZlbmRvclBhdGgsICRwYXRoKS4iLFxuIjsKaWYgKCFpc3NldCgkY2xhc3NNYXBbJGNsYXNzXSkpIHsKJGNsYXNzTWFwWyRjbGFzc10gPSAkcGF0aENvZGU7Cn0gZWxzZWlmICgkdGhpcy0+aW8gJiYgJGNsYXNzTWFwWyRjbGFzc10gIT09ICRwYXRoQ29kZSAmJiAhcHJlZ19tYXRjaCgney8odGVzdHxmaXh0dXJlfGV4YW1wbGV8c3R1YilzPy99aScsIHN0cnRyKCRjbGFzc01hcFskY2xhc3NdLicgJy4kcGF0aCwgJ1xcJywgJy8nKSkpIHsKJGFtYmlndW91c0NsYXNzZXNbJGNsYXNzXVtdID0gJHBhdGg7Cn0KfQoKcmV0dXJuICRjbGFzc01hcDsKfQoKCgoKcHJpdmF0ZSBmdW5jdGlvbiBnZW5lcmF0ZUNsYXNzTWFwKCRkaXIsICRleGNsdWRlZCwgJG5hbWVzcGFjZUZpbHRlciwgJGF1dG9sb2FkVHlwZSwgJHNob3dBbWJpZ3VvdXNXYXJuaW5nLCBhcnJheSAmJHNjYW5uZWRGaWxlcykKewppZiAoJGV4Y2x1ZGVkKSB7CgoKCmlmIChmaWxlX2V4aXN0cygkZGlyKSkgewoKJGRpck1hdGNoID0gcHJlZ19xdW90ZShzdHJ0cihyZWFscGF0aCgkZGlyKSwgJ1xcJywgJy8nKSk7CmZvcmVhY2ggKCRleGNsdWRlZCBhcyAkaW5kZXggPT4gJHBhdHRlcm4pIHsKCiRwYXR0ZXJuID0gcHJlZ19yZXBsYWNlKCd7XigoW14uKyo/XFteXF0kKCl7fT0hPD58OlxcXFwjLV0rfFxcXFxbLisqP1xbXlxdJCgpe309ITw+fDojLV0pKikuKn0nLCAnJDEnLCAkcGF0dGVybik7CgppZiAoMCAhPT0gc3RycG9zKCRwYXR0ZXJuLCAkZGlyTWF0Y2gpICYmIDAgIT09IHN0cnBvcygkZGlyTWF0Y2gsICRwYXR0ZXJuKSkgewp1bnNldCgkZXhjbHVkZWRbJGluZGV4XSk7Cn0KfQp9CgokZXhjbHVkZWQgPSAkZXhjbHVkZWQgPyAneygnIC4gaW1wbG9kZSgnfCcsICRleGNsdWRlZCkgLiAnKX0nIDogbnVsbDsKfQoKcmV0dXJuIENsYXNzTWFwR2VuZXJhdG9yOjpjcmVhdGVNYXAoJGRpciwgJGV4Y2x1ZGVkLCAkc2hvd0FtYmlndW91c1dhcm5pbmcgPyAkdGhpcy0+aW8gOiBudWxsLCAkbmFtZXNwYWNlRmlsdGVyLCAkYXV0b2xvYWRUeXBlLCAkc2Nhbm5lZEZpbGVzKTsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIGJ1aWxkUGFja2FnZU1hcChJbnN0YWxsYXRpb25NYW5hZ2VyICRpbnN0YWxsYXRpb25NYW5hZ2VyLCBQYWNrYWdlSW50ZXJmYWNlICRyb290UGFja2FnZSwgYXJyYXkgJHBhY2thZ2VzKQp7CgokcGFja2FnZU1hcCA9IGFycmF5KGFycmF5KCRyb290UGFja2FnZSwgJycpKTsKCmZvcmVhY2ggKCRwYWNrYWdlcyBhcyAkcGFja2FnZSkgewppZiAoJHBhY2thZ2UgaW5zdGFuY2VvZiBBbGlhc1BhY2thZ2UpIHsKY29udGludWU7Cn0KJHRoaXMtPnZhbGlkYXRlUGFja2FnZSgkcGFja2FnZSk7CgokcGFja2FnZU1hcFtdID0gYXJyYXkoCiRwYWNrYWdlLAokaW5zdGFsbGF0aW9uTWFuYWdlci0+Z2V0SW5zdGFsbFBhdGgoJHBhY2thZ2UpLAopOwp9CgpyZXR1cm4gJHBhY2thZ2VNYXA7Cn0KCgoKCgoKcHJvdGVjdGVkIGZ1bmN0aW9uIHZhbGlkYXRlUGFja2FnZShQYWNrYWdlSW50ZXJmYWNlICRwYWNrYWdlKQp7CiRhdXRvbG9hZCA9ICRwYWNrYWdlLT5nZXRBdXRvbG9hZCgpOwppZiAoIWVtcHR5KCRhdXRvbG9hZFsncHNyLTQnXSkgJiYgbnVsbCAhPT0gJHBhY2thZ2UtPmdldFRhcmdldERpcigpKSB7CiRuYW1lID0gJHBhY2thZ2UtPmdldE5hbWUoKTsKJHBhY2thZ2UtPmdldFRhcmdldERpcigpOwp0aHJvdyBuZXcgXEludmFsaWRBcmd1bWVudEV4Y2VwdGlvbigiUFNSLTQgYXV0b2xvYWRpbmcgaXMgaW5jb21wYXRpYmxlIHdpdGggdGhlIHRhcmdldC1kaXIgcHJvcGVydHksIHJlbW92ZSB0aGUgdGFyZ2V0LWRpciBpbiBwYWNrYWdlICckbmFtZScuIik7Cn0KaWYgKCFlbXB0eSgkYXV0b2xvYWRbJ3Bzci00J10pKSB7CmZvcmVhY2ggKCRhdXRvbG9hZFsncHNyLTQnXSBhcyAkbmFtZXNwYWNlID0+ICRkaXJzKSB7CmlmICgkbmFtZXNwYWNlICE9PSAnJyAmJiAnXFwnICE9PSBzdWJzdHIoJG5hbWVzcGFjZSwgLTEpKSB7CnRocm93IG5ldyBcSW52YWxpZEFyZ3VtZW50RXhjZXB0aW9uKCJwc3ItNCBuYW1lc3BhY2VzIG11c3QgZW5kIHdpdGggYSBuYW1lc3BhY2Ugc2VwYXJhdG9yLCAnJG5hbWVzcGFjZScgZG9lcyBub3QsIHVzZSAnJG5hbWVzcGFjZVxcJy4iKTsKfQp9Cn0KfQoKCgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gcGFyc2VBdXRvbG9hZHMoYXJyYXkgJHBhY2thZ2VNYXAsIFBhY2thZ2VJbnRlcmZhY2UgJHJvb3RQYWNrYWdlLCAkZmlsdGVyZWREZXZQYWNrYWdlcyA9IGZhbHNlKQp7CiRyb290UGFja2FnZU1hcCA9IGFycmF5X3NoaWZ0KCRwYWNrYWdlTWFwKTsKaWYgKGlzX2FycmF5KCRmaWx0ZXJlZERldlBhY2thZ2VzKSkgewokcGFja2FnZU1hcCA9IGFycmF5X2ZpbHRlcigkcGFja2FnZU1hcCwgZnVuY3Rpb24gKCRpdGVtKSB1c2UgKCRmaWx0ZXJlZERldlBhY2thZ2VzKSB7CnJldHVybiAhaW5fYXJyYXkoJGl0ZW1bMF0tPmdldE5hbWUoKSwgJGZpbHRlcmVkRGV2UGFja2FnZXMsIHRydWUpOwp9KTsKfSBlbHNlaWYgKCRmaWx0ZXJlZERldlBhY2thZ2VzKSB7CiRwYWNrYWdlTWFwID0gJHRoaXMtPmZpbHRlclBhY2thZ2VNYXAoJHBhY2thZ2VNYXAsICRyb290UGFja2FnZSk7Cn0KJHNvcnRlZFBhY2thZ2VNYXAgPSAkdGhpcy0+c29ydFBhY2thZ2VNYXAoJHBhY2thZ2VNYXApOwokc29ydGVkUGFja2FnZU1hcFtdID0gJHJvb3RQYWNrYWdlTWFwOwphcnJheV91bnNoaWZ0KCRwYWNrYWdlTWFwLCAkcm9vdFBhY2thZ2VNYXApOwoKJHBzcjAgPSAkdGhpcy0+cGFyc2VBdXRvbG9hZHNUeXBlKCRwYWNrYWdlTWFwLCAncHNyLTAnLCAkcm9vdFBhY2thZ2UpOwokcHNyNCA9ICR0aGlzLT5wYXJzZUF1dG9sb2Fkc1R5cGUoJHBhY2thZ2VNYXAsICdwc3ItNCcsICRyb290UGFja2FnZSk7CiRjbGFzc21hcCA9ICR0aGlzLT5wYXJzZUF1dG9sb2Fkc1R5cGUoYXJyYXlfcmV2ZXJzZSgkc29ydGVkUGFja2FnZU1hcCksICdjbGFzc21hcCcsICRyb290UGFja2FnZSk7CiRmaWxlcyA9ICR0aGlzLT5wYXJzZUF1dG9sb2Fkc1R5cGUoJHNvcnRlZFBhY2thZ2VNYXAsICdmaWxlcycsICRyb290UGFja2FnZSk7CiRleGNsdWRlID0gJHRoaXMtPnBhcnNlQXV0b2xvYWRzVHlwZSgkc29ydGVkUGFja2FnZU1hcCwgJ2V4Y2x1ZGUtZnJvbS1jbGFzc21hcCcsICRyb290UGFja2FnZSk7CgprcnNvcnQoJHBzcjApOwprcnNvcnQoJHBzcjQpOwoKcmV0dXJuIGFycmF5KAoncHNyLTAnID0+ICRwc3IwLAoncHNyLTQnID0+ICRwc3I0LAonY2xhc3NtYXAnID0+ICRjbGFzc21hcCwKJ2ZpbGVzJyA9PiAkZmlsZXMsCidleGNsdWRlLWZyb20tY2xhc3NtYXAnID0+ICRleGNsdWRlLAopOwp9CgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gY3JlYXRlTG9hZGVyKGFycmF5ICRhdXRvbG9hZHMsICR2ZW5kb3JEaXIgPSBudWxsKQp7CiRsb2FkZXIgPSBuZXcgQ2xhc3NMb2FkZXIoJHZlbmRvckRpcik7CgppZiAoaXNzZXQoJGF1dG9sb2Fkc1sncHNyLTAnXSkpIHsKZm9yZWFjaCAoJGF1dG9sb2Fkc1sncHNyLTAnXSBhcyAkbmFtZXNwYWNlID0+ICRwYXRoKSB7CiRsb2FkZXItPmFkZCgkbmFtZXNwYWNlLCAkcGF0aCk7Cn0KfQoKaWYgKGlzc2V0KCRhdXRvbG9hZHNbJ3Bzci00J10pKSB7CmZvcmVhY2ggKCRhdXRvbG9hZHNbJ3Bzci00J10gYXMgJG5hbWVzcGFjZSA9PiAkcGF0aCkgewokbG9hZGVyLT5hZGRQc3I0KCRuYW1lc3BhY2UsICRwYXRoKTsKfQp9CgppZiAoaXNzZXQoJGF1dG9sb2Fkc1snY2xhc3NtYXAnXSkpIHsKJGV4Y2x1ZGVkID0gbnVsbDsKaWYgKCFlbXB0eSgkYXV0b2xvYWRzWydleGNsdWRlLWZyb20tY2xhc3NtYXAnXSkpIHsKJGV4Y2x1ZGVkID0gJGF1dG9sb2Fkc1snZXhjbHVkZS1mcm9tLWNsYXNzbWFwJ107Cn0KCiRzY2FubmVkRmlsZXMgPSBhcnJheSgpOwpmb3JlYWNoICgkYXV0b2xvYWRzWydjbGFzc21hcCddIGFzICRkaXIpIHsKdHJ5IHsKJGxvYWRlci0+YWRkQ2xhc3NNYXAoJHRoaXMtPmdlbmVyYXRlQ2xhc3NNYXAoJGRpciwgJGV4Y2x1ZGVkLCBudWxsLCBudWxsLCBmYWxzZSwgJHNjYW5uZWRGaWxlcykpOwp9IGNhdGNoIChcUnVudGltZUV4Y2VwdGlvbiAkZSkgewokdGhpcy0+aW8tPndyaXRlRXJyb3IoJzx3YXJuaW5nPicuJGUtPmdldE1lc3NhZ2UoKS4nPC93YXJuaW5nPicpOwp9Cn0KfQoKcmV0dXJuICRsb2FkZXI7Cn0KCnByb3RlY3RlZCBmdW5jdGlvbiBnZXRJbmNsdWRlUGF0aHNGaWxlKGFycmF5ICRwYWNrYWdlTWFwLCBGaWxlc3lzdGVtICRmaWxlc3lzdGVtLCAkYmFzZVBhdGgsICR2ZW5kb3JQYXRoLCAkdmVuZG9yUGF0aENvZGUsICRhcHBCYXNlRGlyQ29kZSkKewokaW5jbHVkZVBhdGhzID0gYXJyYXkoKTsKCmZvcmVhY2ggKCRwYWNrYWdlTWFwIGFzICRpdGVtKSB7Cmxpc3QoJHBhY2thZ2UsICRpbnN0YWxsUGF0aCkgPSAkaXRlbTsKCmlmIChudWxsICE9PSAkcGFja2FnZS0+Z2V0VGFyZ2V0RGlyKCkgJiYgc3RybGVuKCRwYWNrYWdlLT5nZXRUYXJnZXREaXIoKSkgPiAwKSB7CiRpbnN0YWxsUGF0aCA9IHN1YnN0cigkaW5zdGFsbFBhdGgsIDAsIC1zdHJsZW4oJy8nLiRwYWNrYWdlLT5nZXRUYXJnZXREaXIoKSkpOwp9Cgpmb3JlYWNoICgkcGFja2FnZS0+Z2V0SW5jbHVkZVBhdGhzKCkgYXMgJGluY2x1ZGVQYXRoKSB7CiRpbmNsdWRlUGF0aCA9IHRyaW0oJGluY2x1ZGVQYXRoLCAnLycpOwokaW5jbHVkZVBhdGhzW10gPSBlbXB0eSgkaW5zdGFsbFBhdGgpID8gJGluY2x1ZGVQYXRoIDogJGluc3RhbGxQYXRoLicvJy4kaW5jbHVkZVBhdGg7Cn0KfQoKaWYgKCEkaW5jbHVkZVBhdGhzKSB7CnJldHVybjsKfQoKJGluY2x1ZGVQYXRoc0NvZGUgPSAnJzsKZm9yZWFjaCAoJGluY2x1ZGVQYXRocyBhcyAkcGF0aCkgewokaW5jbHVkZVBhdGhzQ29kZSAuPSAiICAgICIgLiAkdGhpcy0+Z2V0UGF0aENvZGUoJGZpbGVzeXN0ZW0sICRiYXNlUGF0aCwgJHZlbmRvclBhdGgsICRwYXRoKSAuICIsXG4iOwp9CgpyZXR1cm4gPDw8RU9GCjw/cGhwCgovLyBpbmNsdWRlX3BhdGhzLnBocCBAZ2VuZXJhdGVkIGJ5IENvbXBvc2VyCgpcJHZlbmRvckRpciA9ICR2ZW5kb3JQYXRoQ29kZTsKXCRiYXNlRGlyID0gJGFwcEJhc2VEaXJDb2RlOwoKcmV0dXJuIGFycmF5KAokaW5jbHVkZVBhdGhzQ29kZSk7CgpFT0Y7Cn0KCnByb3RlY3RlZCBmdW5jdGlvbiBnZXRJbmNsdWRlRmlsZXNGaWxlKGFycmF5ICRmaWxlcywgRmlsZXN5c3RlbSAkZmlsZXN5c3RlbSwgJGJhc2VQYXRoLCAkdmVuZG9yUGF0aCwgJHZlbmRvclBhdGhDb2RlLCAkYXBwQmFzZURpckNvZGUpCnsKJGZpbGVzQ29kZSA9ICcnOwpmb3JlYWNoICgkZmlsZXMgYXMgJGZpbGVJZGVudGlmaWVyID0+ICRmdW5jdGlvbkZpbGUpIHsKJGZpbGVzQ29kZSAuPSAnICAgICcgLiB2YXJfZXhwb3J0KCRmaWxlSWRlbnRpZmllciwgdHJ1ZSkgLiAnID0+ICcKLiAkdGhpcy0+Z2V0UGF0aENvZGUoJGZpbGVzeXN0ZW0sICRiYXNlUGF0aCwgJHZlbmRvclBhdGgsICRmdW5jdGlvbkZpbGUpIC4gIixcbiI7Cn0KCmlmICghJGZpbGVzQ29kZSkgewpyZXR1cm4gZmFsc2U7Cn0KCnJldHVybiA8PDxFT0YKPD9waHAKCi8vIGF1dG9sb2FkX2ZpbGVzLnBocCBAZ2VuZXJhdGVkIGJ5IENvbXBvc2VyCgpcJHZlbmRvckRpciA9ICR2ZW5kb3JQYXRoQ29kZTsKXCRiYXNlRGlyID0gJGFwcEJhc2VEaXJDb2RlOwoKcmV0dXJuIGFycmF5KAokZmlsZXNDb2RlKTsKCkVPRjsKfQoKcHJvdGVjdGVkIGZ1bmN0aW9uIGdldFBhdGhDb2RlKEZpbGVzeXN0ZW0gJGZpbGVzeXN0ZW0sICRiYXNlUGF0aCwgJHZlbmRvclBhdGgsICRwYXRoKQp7CmlmICghJGZpbGVzeXN0ZW0tPmlzQWJzb2x1dGVQYXRoKCRwYXRoKSkgewokcGF0aCA9ICRiYXNlUGF0aCAuICcvJyAuICRwYXRoOwp9CiRwYXRoID0gJGZpbGVzeXN0ZW0tPm5vcm1hbGl6ZVBhdGgoJHBhdGgpOwoKJGJhc2VEaXIgPSAnJzsKaWYgKHN0cnBvcygkcGF0aC4nLycsICR2ZW5kb3JQYXRoLicvJykgPT09IDApIHsKJHBhdGggPSBzdWJzdHIoJHBhdGgsIHN0cmxlbigkdmVuZG9yUGF0aCkpOwokYmFzZURpciA9ICckdmVuZG9yRGlyJzsKCmlmICgkcGF0aCAhPT0gZmFsc2UpIHsKJGJhc2VEaXIgLj0gIiAuICI7Cn0KfSBlbHNlIHsKJHBhdGggPSAkZmlsZXN5c3RlbS0+bm9ybWFsaXplUGF0aCgkZmlsZXN5c3RlbS0+ZmluZFNob3J0ZXN0UGF0aCgkYmFzZVBhdGgsICRwYXRoLCB0cnVlKSk7CmlmICghJGZpbGVzeXN0ZW0tPmlzQWJzb2x1dGVQYXRoKCRwYXRoKSkgewokYmFzZURpciA9ICckYmFzZURpciAuICc7CiRwYXRoID0gJy8nIC4gJHBhdGg7Cn0KfQoKaWYgKHN0cnBvcygkcGF0aCwgJy5waGFyJykgIT09IGZhbHNlKSB7CiRiYXNlRGlyID0gIidwaGFyOi8vJyAuICIgLiAkYmFzZURpcjsKfQoKcmV0dXJuICRiYXNlRGlyIC4gKCgkcGF0aCAhPT0gZmFsc2UpID8gdmFyX2V4cG9ydCgkcGF0aCwgdHJ1ZSkgOiAiIik7Cn0KCnByb3RlY3RlZCBmdW5jdGlvbiBnZXRQbGF0Zm9ybUNoZWNrKGFycmF5ICRwYWNrYWdlTWFwLCBhcnJheSAkaWdub3JlUGxhdGZvcm1SZXFzLCAkY2hlY2tQbGF0Zm9ybSwgYXJyYXkgJGRldlBhY2thZ2VOYW1lcykKewokbG93ZXN0UGhwVmVyc2lvbiA9IEJvdW5kOjp6ZXJvKCk7CiRyZXF1aXJlZEV4dGVuc2lvbnMgPSBhcnJheSgpOwokZXh0ZW5zaW9uUHJvdmlkZXJzID0gYXJyYXkoKTsKCmZvcmVhY2ggKCRwYWNrYWdlTWFwIGFzICRpdGVtKSB7CiRwYWNrYWdlID0gJGl0ZW1bMF07CmZvcmVhY2ggKGFycmF5X21lcmdlKCRwYWNrYWdlLT5nZXRSZXBsYWNlcygpLCAkcGFja2FnZS0+Z2V0UHJvdmlkZXMoKSkgYXMgJGxpbmspIHsKaWYgKHByZWdfbWF0Y2goJ3teZXh0LSguKykkfWlEJywgJGxpbmstPmdldFRhcmdldCgpLCAkbWF0Y2gpKSB7CiRleHRlbnNpb25Qcm92aWRlcnNbJG1hdGNoWzFdXVtdID0gJGxpbmstPmdldENvbnN0cmFpbnQoKSA/OiBuZXcgTWF0Y2hBbGxDb25zdHJhaW50KCk7Cn0KfQp9Cgpmb3JlYWNoICgkcGFja2FnZU1hcCBhcyAkaXRlbSkgewokcGFja2FnZSA9ICRpdGVtWzBdOwoKaWYgKGluX2FycmF5KCRwYWNrYWdlLT5nZXROYW1lKCksICRkZXZQYWNrYWdlTmFtZXMsIHRydWUpKSB7CmNvbnRpbnVlOwp9Cgpmb3JlYWNoICgkcGFja2FnZS0+Z2V0UmVxdWlyZXMoKSBhcyAkbGluaykgewppZiAoaW5fYXJyYXkoJGxpbmstPmdldFRhcmdldCgpLCAkaWdub3JlUGxhdGZvcm1SZXFzLCB0cnVlKSkgewpjb250aW51ZTsKfQoKaWYgKCdwaHAnID09PSAkbGluay0+Z2V0VGFyZ2V0KCkgJiYgKCRjb25zdHJhaW50ID0gJGxpbmstPmdldENvbnN0cmFpbnQoKSkpIHsKaWYgKCRjb25zdHJhaW50LT5nZXRMb3dlckJvdW5kKCktPmNvbXBhcmVUbygkbG93ZXN0UGhwVmVyc2lvbiwgJz4nKSkgewokbG93ZXN0UGhwVmVyc2lvbiA9ICRjb25zdHJhaW50LT5nZXRMb3dlckJvdW5kKCk7Cn0KfQoKaWYgKCRjaGVja1BsYXRmb3JtID09PSB0cnVlICYmIHByZWdfbWF0Y2goJ3teZXh0LSguKykkfWlEJywgJGxpbmstPmdldFRhcmdldCgpLCAkbWF0Y2gpKSB7CgppZiAoaXNzZXQoJGV4dGVuc2lvblByb3ZpZGVyc1skbWF0Y2hbMV1dKSkgewpmb3JlYWNoICgkZXh0ZW5zaW9uUHJvdmlkZXJzWyRtYXRjaFsxXV0gYXMgJHByb3ZpZGVkKSB7CmlmICghJGxpbmstPmdldENvbnN0cmFpbnQoKSB8fCAkcHJvdmlkZWQtPm1hdGNoZXMoJGxpbmstPmdldENvbnN0cmFpbnQoKSkpIHsKY29udGludWUgMjsKfQp9Cn0KCmlmICgkbWF0Y2hbMV0gPT09ICd6ZW5kLW9wY2FjaGUnKSB7CiRtYXRjaFsxXSA9ICd6ZW5kIG9wY2FjaGUnOwp9CgokZXh0ZW5zaW9uID0gdmFyX2V4cG9ydCgkbWF0Y2hbMV0sIHRydWUpOwppZiAoJG1hdGNoWzFdID09PSAncGNudGwnIHx8ICRtYXRjaFsxXSA9PT0gJ3JlYWRsaW5lJykgewokcmVxdWlyZWRFeHRlbnNpb25zWyRleHRlbnNpb25dID0gIlBIUF9TQVBJICE9PSAnY2xpJyB8fCBleHRlbnNpb25fbG9hZGVkKCRleHRlbnNpb24pIHx8IFwkbWlzc2luZ0V4dGVuc2lvbnNbXSA9ICRleHRlbnNpb247XG4iOwp9IGVsc2UgewokcmVxdWlyZWRFeHRlbnNpb25zWyRleHRlbnNpb25dID0gImV4dGVuc2lvbl9sb2FkZWQoJGV4dGVuc2lvbikgfHwgXCRtaXNzaW5nRXh0ZW5zaW9uc1tdID0gJGV4dGVuc2lvbjtcbiI7Cn0KfQp9Cn0KCmtzb3J0KCRyZXF1aXJlZEV4dGVuc2lvbnMpOwoKJGZvcm1hdFRvUGhwVmVyc2lvbklkID0gZnVuY3Rpb24gKEJvdW5kICRib3VuZCkgewppZiAoJGJvdW5kLT5pc1plcm8oKSkgewpyZXR1cm4gMDsKfQoKaWYgKCRib3VuZC0+aXNQb3NpdGl2ZUluZmluaXR5KCkpIHsKcmV0dXJuIDk5OTk5Owp9CgokdmVyc2lvbiA9IHN0cl9yZXBsYWNlKCctJywgJy4nLCAkYm91bmQtPmdldFZlcnNpb24oKSk7CiRjaHVua3MgPSBhcnJheV9tYXAoJ2ludHZhbCcsIGV4cGxvZGUoJy4nLCAkdmVyc2lvbikpOwoKcmV0dXJuICRjaHVua3NbMF0gKiAxMDAwMCArICRjaHVua3NbMV0gKiAxMDAgKyAkY2h1bmtzWzJdOwp9OwoKJGZvcm1hdFRvSHVtYW5SZWFkYWJsZSA9IGZ1bmN0aW9uIChCb3VuZCAkYm91bmQpIHsKaWYgKCRib3VuZC0+aXNaZXJvKCkpIHsKcmV0dXJuIDA7Cn0KCmlmICgkYm91bmQtPmlzUG9zaXRpdmVJbmZpbml0eSgpKSB7CnJldHVybiA5OTk5OTsKfQoKJHZlcnNpb24gPSBzdHJfcmVwbGFjZSgnLScsICcuJywgJGJvdW5kLT5nZXRWZXJzaW9uKCkpOwokY2h1bmtzID0gZXhwbG9kZSgnLicsICR2ZXJzaW9uKTsKJGNodW5rcyA9IGFycmF5X3NsaWNlKCRjaHVua3MsIDAsIDMpOwoKcmV0dXJuIGltcGxvZGUoJy4nLCAkY2h1bmtzKTsKfTsKCiRyZXF1aXJlZFBocCA9ICcnOwokcmVxdWlyZWRQaHBFcnJvciA9ICcnOwppZiAoISRsb3dlc3RQaHBWZXJzaW9uLT5pc1plcm8oKSkgewokb3BlcmF0b3IgPSAkbG93ZXN0UGhwVmVyc2lvbi0+aXNJbmNsdXNpdmUoKSA/ICc+PScgOiAnPic7CiRyZXF1aXJlZFBocCA9ICdQSFBfVkVSU0lPTl9JRCAnLiRvcGVyYXRvci4nICcuJGZvcm1hdFRvUGhwVmVyc2lvbklkKCRsb3dlc3RQaHBWZXJzaW9uKTsKJHJlcXVpcmVkUGhwRXJyb3IgPSAnIicuJG9wZXJhdG9yLicgJy4kZm9ybWF0VG9IdW1hblJlYWRhYmxlKCRsb3dlc3RQaHBWZXJzaW9uKS4nIic7Cn0KCmlmICgkcmVxdWlyZWRQaHApIHsKJHJlcXVpcmVkUGhwID0gPDw8UEhQX0NIRUNLCgppZiAoISgkcmVxdWlyZWRQaHApKSB7CiAgICBcJGlzc3Vlc1tdID0gJ1lvdXIgQ29tcG9zZXIgZGVwZW5kZW5jaWVzIHJlcXVpcmUgYSBQSFAgdmVyc2lvbiAkcmVxdWlyZWRQaHBFcnJvci4gWW91IGFyZSBydW5uaW5nICcgLiBQSFBfVkVSU0lPTiAuICcuJzsKfQoKUEhQX0NIRUNLOwp9CgokcmVxdWlyZWRFeHRlbnNpb25zID0gaW1wbG9kZSgnJywgJHJlcXVpcmVkRXh0ZW5zaW9ucyk7CmlmICgnJyAhPT0gJHJlcXVpcmVkRXh0ZW5zaW9ucykgewokcmVxdWlyZWRFeHRlbnNpb25zID0gPDw8RVhUX0NIRUNLUwoKXCRtaXNzaW5nRXh0ZW5zaW9ucyA9IGFycmF5KCk7CiRyZXF1aXJlZEV4dGVuc2lvbnMKaWYgKFwkbWlzc2luZ0V4dGVuc2lvbnMpIHsKICAgIFwkaXNzdWVzW10gPSAnWW91ciBDb21wb3NlciBkZXBlbmRlbmNpZXMgcmVxdWlyZSB0aGUgZm9sbG93aW5nIFBIUCBleHRlbnNpb25zIHRvIGJlIGluc3RhbGxlZDogJyAuIGltcGxvZGUoJywgJywgXCRtaXNzaW5nRXh0ZW5zaW9ucykgLiAnLic7Cn0KCkVYVF9DSEVDS1M7Cn0KCmlmICghJHJlcXVpcmVkUGhwICYmICEkcmVxdWlyZWRFeHRlbnNpb25zKSB7CnJldHVybiBudWxsOwp9CgpyZXR1cm4gPDw8UExBVEZPUk1fQ0hFQ0sKPD9waHAKCi8vIHBsYXRmb3JtX2NoZWNrLnBocCBAZ2VuZXJhdGVkIGJ5IENvbXBvc2VyCgpcJGlzc3VlcyA9IGFycmF5KCk7CiR7cmVxdWlyZWRQaHB9JHtyZXF1aXJlZEV4dGVuc2lvbnN9CmlmIChcJGlzc3VlcykgewogICAgaWYgKCFoZWFkZXJzX3NlbnQoKSkgewogICAgICAgIGhlYWRlcignSFRUUC8xLjEgNTAwIEludGVybmFsIFNlcnZlciBFcnJvcicpOwogICAgfQogICAgaWYgKCFpbmlfZ2V0KCdkaXNwbGF5X2Vycm9ycycpKSB7CiAgICAgICAgaWYgKFBIUF9TQVBJID09PSAnY2xpJyB8fCBQSFBfU0FQSSA9PT0gJ3BocGRiZycpIHsKICAgICAgICAgICAgZndyaXRlKFNUREVSUiwgJ0NvbXBvc2VyIGRldGVjdGVkIGlzc3VlcyBpbiB5b3VyIHBsYXRmb3JtOicgLiBQSFBfRU9MLlBIUF9FT0wgLiBpbXBsb2RlKFBIUF9FT0wsIFwkaXNzdWVzKSAuIFBIUF9FT0wuUEhQX0VPTCk7CiAgICAgICAgfSBlbHNlaWYgKCFoZWFkZXJzX3NlbnQoKSkgewogICAgICAgICAgICBlY2hvICdDb21wb3NlciBkZXRlY3RlZCBpc3N1ZXMgaW4geW91ciBwbGF0Zm9ybTonIC4gUEhQX0VPTC5QSFBfRU9MIC4gc3RyX3JlcGxhY2UoJ1lvdSBhcmUgcnVubmluZyAnLlBIUF9WRVJTSU9OLicuJywgJycsIGltcGxvZGUoUEhQX0VPTCwgXCRpc3N1ZXMpKSAuIFBIUF9FT0wuUEhQX0VPTDsKICAgICAgICB9CiAgICB9CiAgICB0cmlnZ2VyX2Vycm9yKAogICAgICAgICdDb21wb3NlciBkZXRlY3RlZCBpc3N1ZXMgaW4geW91ciBwbGF0Zm9ybTogJyAuIGltcGxvZGUoJyAnLCBcJGlzc3VlcyksCiAgICAgICAgRV9VU0VSX0VSUk9SCiAgICApOwp9CgpQTEFURk9STV9DSEVDSzsKfQoKcHJvdGVjdGVkIGZ1bmN0aW9uIGdldEF1dG9sb2FkRmlsZSgkdmVuZG9yUGF0aFRvVGFyZ2V0RGlyQ29kZSwgJHN1ZmZpeCkKewokbGFzdENoYXIgPSAkdmVuZG9yUGF0aFRvVGFyZ2V0RGlyQ29kZVtzdHJsZW4oJHZlbmRvclBhdGhUb1RhcmdldERpckNvZGUpIC0gMV07CmlmICgiJyIgPT09ICRsYXN0Q2hhciB8fCAnIicgPT09ICRsYXN0Q2hhcikgewokdmVuZG9yUGF0aFRvVGFyZ2V0RGlyQ29kZSA9IHN1YnN0cigkdmVuZG9yUGF0aFRvVGFyZ2V0RGlyQ29kZSwgMCwgLTEpLicvYXV0b2xvYWRfcmVhbC5waHAnLiRsYXN0Q2hhcjsKfSBlbHNlIHsKJHZlbmRvclBhdGhUb1RhcmdldERpckNvZGUgLj0gIiAuICcvYXV0b2xvYWRfcmVhbC5waHAnIjsKfQoKcmV0dXJuIDw8PEFVVE9MT0FECjw/cGhwCgovLyBhdXRvbG9hZC5waHAgQGdlbmVyYXRlZCBieSBDb21wb3NlcgoKcmVxdWlyZV9vbmNlICR2ZW5kb3JQYXRoVG9UYXJnZXREaXJDb2RlOwoKcmV0dXJuIENvbXBvc2VyQXV0b2xvYWRlckluaXQkc3VmZml4OjpnZXRMb2FkZXIoKTsKCkFVVE9MT0FEOwp9Cgpwcm90ZWN0ZWQgZnVuY3Rpb24gZ2V0QXV0b2xvYWRSZWFsRmlsZSgkdXNlQ2xhc3NNYXAsICR1c2VJbmNsdWRlUGF0aCwgJHRhcmdldERpckxvYWRlciwgJHVzZUluY2x1ZGVGaWxlcywgJHZlbmRvclBhdGhDb2RlLCAkYXBwQmFzZURpckNvZGUsICRzdWZmaXgsICR1c2VHbG9iYWxJbmNsdWRlUGF0aCwgJHByZXBlbmRBdXRvbG9hZGVyLCAkc3RhdGljUGhwVmVyc2lvbiwgJGNoZWNrUGxhdGZvcm0pCnsKJGZpbGUgPSA8PDxIRUFERVIKPD9waHAKCi8vIGF1dG9sb2FkX3JlYWwucGhwIEBnZW5lcmF0ZWQgYnkgQ29tcG9zZXIKCmNsYXNzIENvbXBvc2VyQXV0b2xvYWRlckluaXQkc3VmZml4CnsKICAgIHByaXZhdGUgc3RhdGljIFwkbG9hZGVyOwoKICAgIHB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gbG9hZENsYXNzTG9hZGVyKFwkY2xhc3MpCiAgICB7CiAgICAgICAgaWYgKCdDb21wb3NlclxcQXV0b2xvYWRcXENsYXNzTG9hZGVyJyA9PT0gXCRjbGFzcykgewogICAgICAgICAgICByZXF1aXJlIF9fRElSX18gLiAnL0NsYXNzTG9hZGVyLnBocCc7CiAgICAgICAgfQogICAgfQoKICAgIC8qKgogICAgICogQHJldHVybiBcQ29tcG9zZXJcQXV0b2xvYWRcQ2xhc3NMb2FkZXIKICAgICAqLwogICAgcHVibGljIHN0YXRpYyBmdW5jdGlvbiBnZXRMb2FkZXIoKQogICAgewogICAgICAgIGlmIChudWxsICE9PSBzZWxmOjpcJGxvYWRlcikgewogICAgICAgICAgICByZXR1cm4gc2VsZjo6XCRsb2FkZXI7CiAgICAgICAgfQoKCkhFQURFUjsKCmlmICgkY2hlY2tQbGF0Zm9ybSkgewokZmlsZSAuPSA8PDwnUExBVEZPUk1fQ0hFQ0snCiAgICAgICAgcmVxdWlyZSBfX0RJUl9fIC4gJy9wbGF0Zm9ybV9jaGVjay5waHAnOwoKClBMQVRGT1JNX0NIRUNLOwp9CgokZmlsZSAuPSA8PDxDTEFTU0xPQURFUl9JTklUCiAgICAgICAgc3BsX2F1dG9sb2FkX3JlZ2lzdGVyKGFycmF5KCdDb21wb3NlckF1dG9sb2FkZXJJbml0JHN1ZmZpeCcsICdsb2FkQ2xhc3NMb2FkZXInKSwgdHJ1ZSwgJHByZXBlbmRBdXRvbG9hZGVyKTsKICAgICAgICBzZWxmOjpcJGxvYWRlciA9IFwkbG9hZGVyID0gbmV3IFxcQ29tcG9zZXJcXEF1dG9sb2FkXFxDbGFzc0xvYWRlcihcXGRpcm5hbWUoXFxkaXJuYW1lKF9fRklMRV9fKSkpOwogICAgICAgIHNwbF9hdXRvbG9hZF91bnJlZ2lzdGVyKGFycmF5KCdDb21wb3NlckF1dG9sb2FkZXJJbml0JHN1ZmZpeCcsICdsb2FkQ2xhc3NMb2FkZXInKSk7CgoKQ0xBU1NMT0FERVJfSU5JVDsKCmlmICgkdXNlSW5jbHVkZVBhdGgpIHsKJGZpbGUgLj0gPDw8J0lOQ0xVREVfUEFUSCcKICAgICAgICAkaW5jbHVkZVBhdGhzID0gcmVxdWlyZSBfX0RJUl9fIC4gJy9pbmNsdWRlX3BhdGhzLnBocCc7CiAgICAgICAgJGluY2x1ZGVQYXRoc1tdID0gZ2V0X2luY2x1ZGVfcGF0aCgpOwogICAgICAgIHNldF9pbmNsdWRlX3BhdGgoaW1wbG9kZShQQVRIX1NFUEFSQVRPUiwgJGluY2x1ZGVQYXRocykpOwoKCklOQ0xVREVfUEFUSDsKfQoKJGZpbGUgLj0gPDw8U1RBVElDX0lOSVQKICAgICAgICBcJHVzZVN0YXRpY0xvYWRlciA9IFBIUF9WRVJTSU9OX0lEID49ICRzdGF0aWNQaHBWZXJzaW9uICYmICFkZWZpbmVkKCdISFZNX1ZFUlNJT04nKSAmJiAoIWZ1bmN0aW9uX2V4aXN0cygnemVuZF9sb2FkZXJfZmlsZV9lbmNvZGVkJykgfHwgIXplbmRfbG9hZGVyX2ZpbGVfZW5jb2RlZCgpKTsKICAgICAgICBpZiAoXCR1c2VTdGF0aWNMb2FkZXIpIHsKICAgICAgICAgICAgcmVxdWlyZSBfX0RJUl9fIC4gJy9hdXRvbG9hZF9zdGF0aWMucGhwJzsKCiAgICAgICAgICAgIGNhbGxfdXNlcl9mdW5jKFxDb21wb3NlclxBdXRvbG9hZFxDb21wb3NlclN0YXRpY0luaXQkc3VmZml4OjpnZXRJbml0aWFsaXplcihcJGxvYWRlcikpOwogICAgICAgIH0gZWxzZSB7CgpTVEFUSUNfSU5JVDsKCmlmICghJHRoaXMtPmNsYXNzTWFwQXV0aG9yaXRhdGl2ZSkgewokZmlsZSAuPSA8PDwnUFNSMDQnCiAgICAgICAgICAgICRtYXAgPSByZXF1aXJlIF9fRElSX18gLiAnL2F1dG9sb2FkX25hbWVzcGFjZXMucGhwJzsKICAgICAgICAgICAgZm9yZWFjaCAoJG1hcCBhcyAkbmFtZXNwYWNlID0+ICRwYXRoKSB7CiAgICAgICAgICAgICAgICAkbG9hZGVyLT5zZXQoJG5hbWVzcGFjZSwgJHBhdGgpOwogICAgICAgICAgICB9CgogICAgICAgICAgICAkbWFwID0gcmVxdWlyZSBfX0RJUl9fIC4gJy9hdXRvbG9hZF9wc3I0LnBocCc7CiAgICAgICAgICAgIGZvcmVhY2ggKCRtYXAgYXMgJG5hbWVzcGFjZSA9PiAkcGF0aCkgewogICAgICAgICAgICAgICAgJGxvYWRlci0+c2V0UHNyNCgkbmFtZXNwYWNlLCAkcGF0aCk7CiAgICAgICAgICAgIH0KCgpQU1IwNDsKfQoKaWYgKCR1c2VDbGFzc01hcCkgewokZmlsZSAuPSA8PDwnQ0xBU1NNQVAnCiAgICAgICAgICAgICRjbGFzc01hcCA9IHJlcXVpcmUgX19ESVJfXyAuICcvYXV0b2xvYWRfY2xhc3NtYXAucGhwJzsKICAgICAgICAgICAgaWYgKCRjbGFzc01hcCkgewogICAgICAgICAgICAgICAgJGxvYWRlci0+YWRkQ2xhc3NNYXAoJGNsYXNzTWFwKTsKICAgICAgICAgICAgfQoKQ0xBU1NNQVA7Cn0KCiRmaWxlIC49ICIgICAgICAgIH1cblxuIjsKCmlmICgkdGhpcy0+Y2xhc3NNYXBBdXRob3JpdGF0aXZlKSB7CiRmaWxlIC49IDw8PCdDTEFTU01BUEFVVEhPUklUQVRJVkUnCiAgICAgICAgJGxvYWRlci0+c2V0Q2xhc3NNYXBBdXRob3JpdGF0aXZlKHRydWUpOwoKQ0xBU1NNQVBBVVRIT1JJVEFUSVZFOwp9CgppZiAoJHRoaXMtPmFwY3UpIHsKJGFwY3VQcmVmaXggPSB2YXJfZXhwb3J0KCgkdGhpcy0+YXBjdVByZWZpeCAhPT0gbnVsbCA/ICR0aGlzLT5hcGN1UHJlZml4IDogc3Vic3RyKGJhc2U2NF9lbmNvZGUobWQ1KHVuaXFpZCgnJywgdHJ1ZSksIHRydWUpKSwgMCwgLTMpKSwgdHJ1ZSk7CiRmaWxlIC49IDw8PEFQQ1UKICAgICAgICBcJGxvYWRlci0+c2V0QXBjdVByZWZpeCgkYXBjdVByZWZpeCk7CgpBUENVOwp9CgppZiAoJHVzZUdsb2JhbEluY2x1ZGVQYXRoKSB7CiRmaWxlIC49IDw8PCdJTkNMVURFUEFUSCcKICAgICAgICAkbG9hZGVyLT5zZXRVc2VJbmNsdWRlUGF0aCh0cnVlKTsKCklOQ0xVREVQQVRIOwp9CgppZiAoJHRhcmdldERpckxvYWRlcikgewokZmlsZSAuPSA8PDxSRUdJU1RFUl9UQVJHRVRfRElSX0FVVE9MT0FECiAgICAgICAgc3BsX2F1dG9sb2FkX3JlZ2lzdGVyKGFycmF5KCdDb21wb3NlckF1dG9sb2FkZXJJbml0JHN1ZmZpeCcsICdhdXRvbG9hZCcpLCB0cnVlLCB0cnVlKTsKCgpSRUdJU1RFUl9UQVJHRVRfRElSX0FVVE9MT0FEOwp9CgokZmlsZSAuPSA8PDxSRUdJU1RFUl9MT0FERVIKICAgICAgICBcJGxvYWRlci0+cmVnaXN0ZXIoJHByZXBlbmRBdXRvbG9hZGVyKTsKCgpSRUdJU1RFUl9MT0FERVI7CgppZiAoJHVzZUluY2x1ZGVGaWxlcykgewokZmlsZSAuPSA8PDxJTkNMVURFX0ZJTEVTCiAgICAgICAgaWYgKFwkdXNlU3RhdGljTG9hZGVyKSB7CiAgICAgICAgICAgIFwkaW5jbHVkZUZpbGVzID0gQ29tcG9zZXJcQXV0b2xvYWRcQ29tcG9zZXJTdGF0aWNJbml0JHN1ZmZpeDo6XCRmaWxlczsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBcJGluY2x1ZGVGaWxlcyA9IHJlcXVpcmUgX19ESVJfXyAuICcvYXV0b2xvYWRfZmlsZXMucGhwJzsKICAgICAgICB9CiAgICAgICAgZm9yZWFjaCAoXCRpbmNsdWRlRmlsZXMgYXMgXCRmaWxlSWRlbnRpZmllciA9PiBcJGZpbGUpIHsKICAgICAgICAgICAgY29tcG9zZXJSZXF1aXJlJHN1ZmZpeChcJGZpbGVJZGVudGlmaWVyLCBcJGZpbGUpOwogICAgICAgIH0KCgpJTkNMVURFX0ZJTEVTOwp9CgokZmlsZSAuPSA8PDxNRVRIT0RfRk9PVEVSCiAgICAgICAgcmV0dXJuIFwkbG9hZGVyOwogICAgfQoKTUVUSE9EX0ZPT1RFUjsKCiRmaWxlIC49ICR0YXJnZXREaXJMb2FkZXI7CgppZiAoJHVzZUluY2x1ZGVGaWxlcykgewpyZXR1cm4gJGZpbGUgLiA8PDxGT09URVIKfQoKZnVuY3Rpb24gY29tcG9zZXJSZXF1aXJlJHN1ZmZpeChcJGZpbGVJZGVudGlmaWVyLCBcJGZpbGUpCnsKICAgIGlmIChlbXB0eShcJEdMT0JBTFNbJ19fY29tcG9zZXJfYXV0b2xvYWRfZmlsZXMnXVtcJGZpbGVJZGVudGlmaWVyXSkpIHsKICAgICAgICByZXF1aXJlIFwkZmlsZTsKCiAgICAgICAgXCRHTE9CQUxTWydfX2NvbXBvc2VyX2F1dG9sb2FkX2ZpbGVzJ11bXCRmaWxlSWRlbnRpZmllcl0gPSB0cnVlOwogICAgfQp9CgpGT09URVI7Cn0KCnJldHVybiAkZmlsZSAuIDw8PEZPT1RFUgp9CgpGT09URVI7Cn0KCnByb3RlY3RlZCBmdW5jdGlvbiBnZXRTdGF0aWNGaWxlKCRzdWZmaXgsICR0YXJnZXREaXIsICR2ZW5kb3JQYXRoLCAkYmFzZVBhdGgsICYkc3RhdGljUGhwVmVyc2lvbikKewokc3RhdGljUGhwVmVyc2lvbiA9IDUwNjAwOwoKJGZpbGUgPSA8PDxIRUFERVIKPD9waHAKCi8vIGF1dG9sb2FkX3N0YXRpYy5waHAgQGdlbmVyYXRlZCBieSBDb21wb3NlcgoKbmFtZXNwYWNlIENvbXBvc2VyXEF1dG9sb2FkOwoKY2xhc3MgQ29tcG9zZXJTdGF0aWNJbml0JHN1ZmZpeAp7CgpIRUFERVI7CgokbG9hZGVyID0gbmV3IENsYXNzTG9hZGVyKCk7CgokbWFwID0gcmVxdWlyZSAkdGFyZ2V0RGlyIC4gJy9hdXRvbG9hZF9uYW1lc3BhY2VzLnBocCc7CmZvcmVhY2ggKCRtYXAgYXMgJG5hbWVzcGFjZSA9PiAkcGF0aCkgewokbG9hZGVyLT5zZXQoJG5hbWVzcGFjZSwgJHBhdGgpOwp9CgokbWFwID0gcmVxdWlyZSAkdGFyZ2V0RGlyIC4gJy9hdXRvbG9hZF9wc3I0LnBocCc7CmZvcmVhY2ggKCRtYXAgYXMgJG5hbWVzcGFjZSA9PiAkcGF0aCkgewokbG9hZGVyLT5zZXRQc3I0KCRuYW1lc3BhY2UsICRwYXRoKTsKfQoKJGNsYXNzTWFwID0gcmVxdWlyZSAkdGFyZ2V0RGlyIC4gJy9hdXRvbG9hZF9jbGFzc21hcC5waHAnOwppZiAoJGNsYXNzTWFwKSB7CiRsb2FkZXItPmFkZENsYXNzTWFwKCRjbGFzc01hcCk7Cn0KCiRmaWxlc3lzdGVtID0gbmV3IEZpbGVzeXN0ZW0oKTsKCiR2ZW5kb3JQYXRoQ29kZSA9ICcgPT4gJyAuICRmaWxlc3lzdGVtLT5maW5kU2hvcnRlc3RQYXRoQ29kZShyZWFscGF0aCgkdGFyZ2V0RGlyKSwgJHZlbmRvclBhdGgsIHRydWUsIHRydWUpIC4gIiAuICcvIjsKJHZlbmRvclBoYXJQYXRoQ29kZSA9ICcgPT4gXCdwaGFyOi8vXCcgLiAnIC4gJGZpbGVzeXN0ZW0tPmZpbmRTaG9ydGVzdFBhdGhDb2RlKHJlYWxwYXRoKCR0YXJnZXREaXIpLCAkdmVuZG9yUGF0aCwgdHJ1ZSwgdHJ1ZSkgLiAiIC4gJy8iOwokYXBwQmFzZURpckNvZGUgPSAnID0+ICcgLiAkZmlsZXN5c3RlbS0+ZmluZFNob3J0ZXN0UGF0aENvZGUocmVhbHBhdGgoJHRhcmdldERpciksICRiYXNlUGF0aCwgdHJ1ZSwgdHJ1ZSkgLiAiIC4gJy8iOwokYXBwQmFzZURpclBoYXJDb2RlID0gJyA9PiBcJ3BoYXI6Ly9cJyAuICcgLiAkZmlsZXN5c3RlbS0+ZmluZFNob3J0ZXN0UGF0aENvZGUocmVhbHBhdGgoJHRhcmdldERpciksICRiYXNlUGF0aCwgdHJ1ZSwgdHJ1ZSkgLiAiIC4gJy8iOwoKJGFic29sdXRlVmVuZG9yUGF0aENvZGUgPSAnID0+ICcgLiBzdWJzdHIodmFyX2V4cG9ydChydHJpbSgkdmVuZG9yRGlyLCAnXFwvJykgLiAnLycsIHRydWUpLCAwLCAtMSk7CiRhYnNvbHV0ZVZlbmRvclBoYXJQYXRoQ29kZSA9ICcgPT4gJyAuIHN1YnN0cih2YXJfZXhwb3J0KHJ0cmltKCdwaGFyOi8vJyAuICR2ZW5kb3JEaXIsICdcXC8nKSAuICcvJywgdHJ1ZSksIDAsIC0xKTsKJGFic29sdXRlQXBwQmFzZURpckNvZGUgPSAnID0+ICcgLiBzdWJzdHIodmFyX2V4cG9ydChydHJpbSgkYmFzZURpciwgJ1xcLycpIC4gJy8nLCB0cnVlKSwgMCwgLTEpOwokYWJzb2x1dGVBcHBCYXNlRGlyUGhhckNvZGUgPSAnID0+ICcgLiBzdWJzdHIodmFyX2V4cG9ydChydHJpbSgncGhhcjovLycgLiAkYmFzZURpciwgJ1xcLycpIC4gJy8nLCB0cnVlKSwgMCwgLTEpOwoKJGluaXRpYWxpemVyID0gJyc7CiRwcmVmaXggPSAiXDBDb21wb3NlclxBdXRvbG9hZFxDbGFzc0xvYWRlclwwIjsKJHByZWZpeExlbiA9IHN0cmxlbigkcHJlZml4KTsKaWYgKGZpbGVfZXhpc3RzKCR0YXJnZXREaXIgLiAnL2F1dG9sb2FkX2ZpbGVzLnBocCcpKSB7CiRtYXBzID0gYXJyYXkoJ2ZpbGVzJyA9PiByZXF1aXJlICR0YXJnZXREaXIgLiAnL2F1dG9sb2FkX2ZpbGVzLnBocCcpOwp9IGVsc2UgewokbWFwcyA9IGFycmF5KCk7Cn0KCmZvcmVhY2ggKChhcnJheSkgJGxvYWRlciBhcyAkcHJvcCA9PiAkdmFsdWUpIHsKaWYgKCR2YWx1ZSAmJiAwID09PSBzdHJwb3MoJHByb3AsICRwcmVmaXgpKSB7CiRtYXBzW3N1YnN0cigkcHJvcCwgJHByZWZpeExlbildID0gJHZhbHVlOwp9Cn0KCmZvcmVhY2ggKCRtYXBzIGFzICRwcm9wID0+ICR2YWx1ZSkgewppZiAoY291bnQoJHZhbHVlKSA+IDMyNzY3KSB7CgoKJHN0YXRpY1BocFZlcnNpb24gPSA3MDAwMDsKfQokdmFsdWUgPSBzdHJ0cigKdmFyX2V4cG9ydCgkdmFsdWUsIHRydWUpLAphcnJheSgKJGFic29sdXRlVmVuZG9yUGF0aENvZGUgPT4gJHZlbmRvclBhdGhDb2RlLAokYWJzb2x1dGVWZW5kb3JQaGFyUGF0aENvZGUgPT4gJHZlbmRvclBoYXJQYXRoQ29kZSwKJGFic29sdXRlQXBwQmFzZURpckNvZGUgPT4gJGFwcEJhc2VEaXJDb2RlLAokYWJzb2x1dGVBcHBCYXNlRGlyUGhhckNvZGUgPT4gJGFwcEJhc2VEaXJQaGFyQ29kZSwKKQopOwokdmFsdWUgPSBsdHJpbShwcmVnX3JlcGxhY2UoJy9eICovbScsICcgICAgJDAkMCcsICR2YWx1ZSkpOwoKJGZpbGUgLj0gc3ByaW50ZigiICAgIHB1YmxpYyBzdGF0aWMgJCVzID0gJXM7XG5cbiIsICRwcm9wLCAkdmFsdWUpOwppZiAoJ2ZpbGVzJyAhPT0gJHByb3ApIHsKJGluaXRpYWxpemVyIC49ICIgICAgICAgICAgICBcJGxvYWRlci0+JHByb3AgPSBDb21wb3NlclN0YXRpY0luaXQkc3VmZml4OjpcJCRwcm9wO1xuIjsKfQp9CgpyZXR1cm4gJGZpbGUgLiA8PDxJTklUSUFMSVpFUgogICAgcHVibGljIHN0YXRpYyBmdW5jdGlvbiBnZXRJbml0aWFsaXplcihDbGFzc0xvYWRlciBcJGxvYWRlcikKICAgIHsKICAgICAgICByZXR1cm4gXENsb3N1cmU6OmJpbmQoZnVuY3Rpb24gKCkgdXNlIChcJGxvYWRlcikgewokaW5pdGlhbGl6ZXIKICAgICAgICB9LCBudWxsLCBDbGFzc0xvYWRlcjo6Y2xhc3MpOwogICAgfQp9CgpJTklUSUFMSVpFUjsKfQoKcHJvdGVjdGVkIGZ1bmN0aW9uIHBhcnNlQXV0b2xvYWRzVHlwZShhcnJheSAkcGFja2FnZU1hcCwgJHR5cGUsIFJvb3RQYWNrYWdlSW50ZXJmYWNlICRyb290UGFja2FnZSkKewokYXV0b2xvYWRzID0gYXJyYXkoKTsKCmZvcmVhY2ggKCRwYWNrYWdlTWFwIGFzICRpdGVtKSB7Cmxpc3QoJHBhY2thZ2UsICRpbnN0YWxsUGF0aCkgPSAkaXRlbTsKCiRhdXRvbG9hZCA9ICRwYWNrYWdlLT5nZXRBdXRvbG9hZCgpOwppZiAoJHRoaXMtPmRldk1vZGUgJiYgJHBhY2thZ2UgPT09ICRyb290UGFja2FnZSkgewokYXV0b2xvYWQgPSBhcnJheV9tZXJnZV9yZWN1cnNpdmUoJGF1dG9sb2FkLCAkcGFja2FnZS0+Z2V0RGV2QXV0b2xvYWQoKSk7Cn0KCgppZiAoIWlzc2V0KCRhdXRvbG9hZFskdHlwZV0pIHx8ICFpc19hcnJheSgkYXV0b2xvYWRbJHR5cGVdKSkgewpjb250aW51ZTsKfQppZiAobnVsbCAhPT0gJHBhY2thZ2UtPmdldFRhcmdldERpcigpICYmICRwYWNrYWdlICE9PSAkcm9vdFBhY2thZ2UpIHsKJGluc3RhbGxQYXRoID0gc3Vic3RyKCRpbnN0YWxsUGF0aCwgMCwgLXN0cmxlbignLycuJHBhY2thZ2UtPmdldFRhcmdldERpcigpKSk7Cn0KCmZvcmVhY2ggKCRhdXRvbG9hZFskdHlwZV0gYXMgJG5hbWVzcGFjZSA9PiAkcGF0aHMpIHsKZm9yZWFjaCAoKGFycmF5KSAkcGF0aHMgYXMgJHBhdGgpIHsKaWYgKCgkdHlwZSA9PT0gJ2ZpbGVzJyB8fCAkdHlwZSA9PT0gJ2NsYXNzbWFwJyB8fCAkdHlwZSA9PT0gJ2V4Y2x1ZGUtZnJvbS1jbGFzc21hcCcpICYmICRwYWNrYWdlLT5nZXRUYXJnZXREaXIoKSAmJiAhRmlsZXN5c3RlbTo6aXNSZWFkYWJsZSgkaW5zdGFsbFBhdGguJy8nLiRwYXRoKSkgewoKaWYgKCRwYWNrYWdlID09PSAkcm9vdFBhY2thZ2UpIHsKJHRhcmdldERpciA9IHN0cl9yZXBsYWNlKCdcXDxkaXJzZXBcXD4nLCAnW1xcXFwvXScsIHByZWdfcXVvdGUoc3RyX3JlcGxhY2UoYXJyYXkoJy8nLCAnXFwnKSwgJzxkaXJzZXA+JywgJHBhY2thZ2UtPmdldFRhcmdldERpcigpKSkpOwokcGF0aCA9IGx0cmltKHByZWdfcmVwbGFjZSgne14nLiR0YXJnZXREaXIuJ30nLCAnJywgbHRyaW0oJHBhdGgsICdcXC8nKSksICdcXC8nKTsKfSBlbHNlIHsKCiRwYXRoID0gJHBhY2thZ2UtPmdldFRhcmdldERpcigpIC4gJy8nIC4gJHBhdGg7Cn0KfQoKaWYgKCR0eXBlID09PSAnZXhjbHVkZS1mcm9tLWNsYXNzbWFwJykgewoKJHBhdGggPSBwcmVnX3JlcGxhY2UoJ3svK30nLCAnLycsIHByZWdfcXVvdGUodHJpbShzdHJ0cigkcGF0aCwgJ1xcJywgJy8nKSwgJy8nKSkpOwoKCiRwYXRoID0gc3RydHIoJHBhdGgsIGFycmF5KCdcXCpcXConID0+ICcuKz8nLCAnXFwqJyA9PiAnW14vXSs/JykpOwoKCiR1cGRpciA9IG51bGw7CiRwYXRoID0gcHJlZ19yZXBsYWNlX2NhbGxiYWNrKAone14oKD86KD86XFxcXFxcLil7MSwyfSsvKSspfScsCmZ1bmN0aW9uICgkbWF0Y2hlcykgdXNlICgmJHVwZGlyKSB7CmlmIChpc3NldCgkbWF0Y2hlc1sxXSkpIHsKCiR1cGRpciA9IHN0cl9yZXBsYWNlKCdcXC4nLCAnLicsICRtYXRjaGVzWzFdKTsKfQoKcmV0dXJuICcnOwp9LAokcGF0aAopOwppZiAoZW1wdHkoJGluc3RhbGxQYXRoKSkgewokaW5zdGFsbFBhdGggPSBzdHJ0cihnZXRjd2QoKSwgJ1xcJywgJy8nKTsKfQoKJHJlc29sdmVkUGF0aCA9IHJlYWxwYXRoKCRpbnN0YWxsUGF0aCAuICcvJyAuICR1cGRpcik7CiRhdXRvbG9hZHNbXSA9IHByZWdfcXVvdGUoc3RydHIoJHJlc29sdmVkUGF0aCwgJ1xcJywgJy8nKSkgLiAnLycgLiAkcGF0aCAuICcoJHwvKSc7CmNvbnRpbnVlOwp9CgokcmVsYXRpdmVQYXRoID0gZW1wdHkoJGluc3RhbGxQYXRoKSA/IChlbXB0eSgkcGF0aCkgPyAnLicgOiAkcGF0aCkgOiAkaW5zdGFsbFBhdGguJy8nLiRwYXRoOwoKaWYgKCR0eXBlID09PSAnZmlsZXMnKSB7CiRhdXRvbG9hZHNbJHRoaXMtPmdldEZpbGVJZGVudGlmaWVyKCRwYWNrYWdlLCAkcGF0aCldID0gJHJlbGF0aXZlUGF0aDsKY29udGludWU7Cn0KaWYgKCR0eXBlID09PSAnY2xhc3NtYXAnKSB7CiRhdXRvbG9hZHNbXSA9ICRyZWxhdGl2ZVBhdGg7CmNvbnRpbnVlOwp9CgokYXV0b2xvYWRzWyRuYW1lc3BhY2VdW10gPSAkcmVsYXRpdmVQYXRoOwp9Cn0KfQoKcmV0dXJuICRhdXRvbG9hZHM7Cn0KCnByb3RlY3RlZCBmdW5jdGlvbiBnZXRGaWxlSWRlbnRpZmllcihQYWNrYWdlSW50ZXJmYWNlICRwYWNrYWdlLCAkcGF0aCkKewpyZXR1cm4gbWQ1KCRwYWNrYWdlLT5nZXROYW1lKCkgLiAnOicgLiAkcGF0aCk7Cn0KCgoKCgoKCgpwcm90ZWN0ZWQgZnVuY3Rpb24gZmlsdGVyUGFja2FnZU1hcChhcnJheSAkcGFja2FnZU1hcCwgUm9vdFBhY2thZ2VJbnRlcmZhY2UgJHJvb3RQYWNrYWdlKQp7CiRwYWNrYWdlcyA9IGFycmF5KCk7CiRpbmNsdWRlID0gYXJyYXkoKTsKJHJlcGxhY2VkQnkgPSBhcnJheSgpOwoKZm9yZWFjaCAoJHBhY2thZ2VNYXAgYXMgJGl0ZW0pIHsKJHBhY2thZ2UgPSAkaXRlbVswXTsKJG5hbWUgPSAkcGFja2FnZS0+Z2V0TmFtZSgpOwokcGFja2FnZXNbJG5hbWVdID0gJHBhY2thZ2U7CmZvcmVhY2ggKCRwYWNrYWdlLT5nZXRSZXBsYWNlcygpIGFzICRyZXBsYWNlKSB7CiRyZXBsYWNlZEJ5WyRyZXBsYWNlLT5nZXRUYXJnZXQoKV0gPSAkbmFtZTsKfQp9CgokYWRkID0gZnVuY3Rpb24gKFBhY2thZ2VJbnRlcmZhY2UgJHBhY2thZ2UpIHVzZSAoJiRhZGQsICRwYWNrYWdlcywgJiRpbmNsdWRlLCAkcmVwbGFjZWRCeSkgewpmb3JlYWNoICgkcGFja2FnZS0+Z2V0UmVxdWlyZXMoKSBhcyAkbGluaykgewokdGFyZ2V0ID0gJGxpbmstPmdldFRhcmdldCgpOwppZiAoaXNzZXQoJHJlcGxhY2VkQnlbJHRhcmdldF0pKSB7CiR0YXJnZXQgPSAkcmVwbGFjZWRCeVskdGFyZ2V0XTsKfQppZiAoIWlzc2V0KCRpbmNsdWRlWyR0YXJnZXRdKSkgewokaW5jbHVkZVskdGFyZ2V0XSA9IHRydWU7CmlmIChpc3NldCgkcGFja2FnZXNbJHRhcmdldF0pKSB7CiRhZGQoJHBhY2thZ2VzWyR0YXJnZXRdKTsKfQp9Cn0KfTsKJGFkZCgkcm9vdFBhY2thZ2UpOwoKcmV0dXJuIGFycmF5X2ZpbHRlcigKJHBhY2thZ2VNYXAsCmZ1bmN0aW9uICgkaXRlbSkgdXNlICgkaW5jbHVkZSkgewokcGFja2FnZSA9ICRpdGVtWzBdOwpmb3JlYWNoICgkcGFja2FnZS0+Z2V0TmFtZXMoKSBhcyAkbmFtZSkgewppZiAoaXNzZXQoJGluY2x1ZGVbJG5hbWVdKSkgewpyZXR1cm4gdHJ1ZTsKfQp9CgpyZXR1cm4gZmFsc2U7Cn0KKTsKfQoKCgoKCgoKCgpwcm90ZWN0ZWQgZnVuY3Rpb24gc29ydFBhY2thZ2VNYXAoYXJyYXkgJHBhY2thZ2VNYXApCnsKJHBhY2thZ2VzID0gYXJyYXkoKTsKJHBhdGhzID0gYXJyYXkoKTsKCmZvcmVhY2ggKCRwYWNrYWdlTWFwIGFzICRpdGVtKSB7Cmxpc3QoJHBhY2thZ2UsICRwYXRoKSA9ICRpdGVtOwokbmFtZSA9ICRwYWNrYWdlLT5nZXROYW1lKCk7CiRwYWNrYWdlc1skbmFtZV0gPSAkcGFja2FnZTsKJHBhdGhzWyRuYW1lXSA9ICRwYXRoOwp9Cgokc29ydGVkUGFja2FnZXMgPSBQYWNrYWdlU29ydGVyOjpzb3J0UGFja2FnZXMoJHBhY2thZ2VzKTsKCiRzb3J0ZWRQYWNrYWdlTWFwID0gYXJyYXkoKTsKCmZvcmVhY2ggKCRzb3J0ZWRQYWNrYWdlcyBhcyAkcGFja2FnZSkgewokbmFtZSA9ICRwYWNrYWdlLT5nZXROYW1lKCk7CiRzb3J0ZWRQYWNrYWdlTWFwW10gPSBhcnJheSgkcGFja2FnZXNbJG5hbWVdLCAkcGF0aHNbJG5hbWVdKTsKfQoKcmV0dXJuICRzb3J0ZWRQYWNrYWdlTWFwOwp9Cn0KPD9waHAKCgoKCgoKCgoKCgoKCgoKCgpuYW1lc3BhY2UgQ29tcG9zZXJcQXV0b2xvYWQ7Cgp1c2UgU3ltZm9ueVxDb21wb25lbnRcRmluZGVyXEZpbmRlcjsKdXNlIENvbXBvc2VyXElPXElPSW50ZXJmYWNlOwp1c2UgQ29tcG9zZXJcVXRpbFxGaWxlc3lzdGVtOwoKCgoKCgoKY2xhc3MgQ2xhc3NNYXBHZW5lcmF0b3IKewoKCgoKCgpwdWJsaWMgc3RhdGljIGZ1bmN0aW9uIGR1bXAoJGRpcnMsICRmaWxlKQp7CiRtYXBzID0gYXJyYXkoKTsKCmZvcmVhY2ggKCRkaXJzIGFzICRkaXIpIHsKJG1hcHMgPSBhcnJheV9tZXJnZSgkbWFwcywgc3RhdGljOjpjcmVhdGVNYXAoJGRpcikpOwp9CgpmaWxlX3B1dF9jb250ZW50cygkZmlsZSwgc3ByaW50ZignPD9waHAgcmV0dXJuICVzOycsIHZhcl9leHBvcnQoJG1hcHMsIHRydWUpKSk7Cn0KCgoKCgoKCgoKCgoKCnB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gY3JlYXRlTWFwKCRwYXRoLCAkZXhjbHVkZWQgPSBudWxsLCBJT0ludGVyZmFjZSAkaW8gPSBudWxsLCAkbmFtZXNwYWNlID0gbnVsbCwgJGF1dG9sb2FkVHlwZSA9IG51bGwsICYkc2Nhbm5lZEZpbGVzID0gYXJyYXkoKSkKewokYmFzZVBhdGggPSAkcGF0aDsKaWYgKGlzX3N0cmluZygkcGF0aCkpIHsKaWYgKGlzX2ZpbGUoJHBhdGgpKSB7CiRwYXRoID0gYXJyYXkobmV3IFxTcGxGaWxlSW5mbygkcGF0aCkpOwp9IGVsc2VpZiAoaXNfZGlyKCRwYXRoKSB8fCBzdHJwb3MoJHBhdGgsICcqJykgIT09IGZhbHNlKSB7CiRwYXRoID0gRmluZGVyOjpjcmVhdGUoKS0+ZmlsZXMoKS0+Zm9sbG93TGlua3MoKS0+bmFtZSgnL1wuKHBocHxpbmN8aGgpJC8nKS0+aW4oJHBhdGgpOwp9IGVsc2Ugewp0aHJvdyBuZXcgXFJ1bnRpbWVFeGNlcHRpb24oCidDb3VsZCBub3Qgc2NhbiBmb3IgY2xhc3NlcyBpbnNpZGUgIicuJHBhdGguCiciIHdoaWNoIGRvZXMgbm90IGFwcGVhciB0byBiZSBhIGZpbGUgbm9yIGEgZm9sZGVyJwopOwp9Cn0gZWxzZWlmIChudWxsICE9PSAkYXV0b2xvYWRUeXBlKSB7CnRocm93IG5ldyBcUnVudGltZUV4Y2VwdGlvbignUGF0aCBtdXN0IGJlIGEgc3RyaW5nIHdoZW4gc3BlY2lmeWluZyBhbiBhdXRvbG9hZCB0eXBlJyk7Cn0KCiRtYXAgPSBhcnJheSgpOwokZmlsZXN5c3RlbSA9IG5ldyBGaWxlc3lzdGVtKCk7CiRjd2QgPSByZWFscGF0aChnZXRjd2QoKSk7Cgpmb3JlYWNoICgkcGF0aCBhcyAkZmlsZSkgewokZmlsZVBhdGggPSAkZmlsZS0+Z2V0UGF0aG5hbWUoKTsKaWYgKCFpbl9hcnJheShwYXRoaW5mbygkZmlsZVBhdGgsIFBBVEhJTkZPX0VYVEVOU0lPTiksIGFycmF5KCdwaHAnLCAnaW5jJywgJ2hoJykpKSB7CmNvbnRpbnVlOwp9CgppZiAoISRmaWxlc3lzdGVtLT5pc0Fic29sdXRlUGF0aCgkZmlsZVBhdGgpKSB7CiRmaWxlUGF0aCA9ICRjd2QgLiAnLycgLiAkZmlsZVBhdGg7CiRmaWxlUGF0aCA9ICRmaWxlc3lzdGVtLT5ub3JtYWxpemVQYXRoKCRmaWxlUGF0aCk7Cn0gZWxzZSB7CiRmaWxlUGF0aCA9IHByZWdfcmVwbGFjZSgne1tcXFxcL117Mix9fScsICcvJywgJGZpbGVQYXRoKTsKfQoKJHJlYWxQYXRoID0gcmVhbHBhdGgoJGZpbGVQYXRoKTsKCgoKaWYgKGlzc2V0KCRzY2FubmVkRmlsZXNbJHJlYWxQYXRoXSkpIHsKY29udGludWU7Cn0KCgppZiAoJGV4Y2x1ZGVkICYmIHByZWdfbWF0Y2goJGV4Y2x1ZGVkLCBzdHJ0cigkcmVhbFBhdGgsICdcXCcsICcvJykpKSB7CmNvbnRpbnVlOwp9CgppZiAoJGV4Y2x1ZGVkICYmIHByZWdfbWF0Y2goJGV4Y2x1ZGVkLCBzdHJ0cigkZmlsZVBhdGgsICdcXCcsICcvJykpKSB7CmNvbnRpbnVlOwp9CgokY2xhc3NlcyA9IHNlbGY6OmZpbmRDbGFzc2VzKCRmaWxlUGF0aCk7CmlmIChudWxsICE9PSAkYXV0b2xvYWRUeXBlKSB7CiRjbGFzc2VzID0gc2VsZjo6ZmlsdGVyQnlOYW1lc3BhY2UoJGNsYXNzZXMsICRmaWxlUGF0aCwgJG5hbWVzcGFjZSwgJGF1dG9sb2FkVHlwZSwgJGJhc2VQYXRoLCAkaW8pOwoKCmlmICgkY2xhc3Nlcykgewokc2Nhbm5lZEZpbGVzWyRyZWFsUGF0aF0gPSB0cnVlOwp9Cn0gZWxzZSB7Cgokc2Nhbm5lZEZpbGVzWyRyZWFsUGF0aF0gPSB0cnVlOwp9Cgpmb3JlYWNoICgkY2xhc3NlcyBhcyAkY2xhc3MpIHsKCmlmIChudWxsID09PSAkYXV0b2xvYWRUeXBlICYmIG51bGwgIT09ICRuYW1lc3BhY2UgJiYgJycgIT09ICRuYW1lc3BhY2UgJiYgMCAhPT0gc3RycG9zKCRjbGFzcywgJG5hbWVzcGFjZSkpIHsKY29udGludWU7Cn0KCmlmICghaXNzZXQoJG1hcFskY2xhc3NdKSkgewokbWFwWyRjbGFzc10gPSAkZmlsZVBhdGg7Cn0gZWxzZWlmICgkaW8gJiYgJG1hcFskY2xhc3NdICE9PSAkZmlsZVBhdGggJiYgIXByZWdfbWF0Y2goJ3svKHRlc3R8Zml4dHVyZXxleGFtcGxlfHN0dWIpcz8vfWknLCBzdHJ0cigkbWFwWyRjbGFzc10uJyAnLiRmaWxlUGF0aCwgJ1xcJywgJy8nKSkpIHsKJGlvLT53cml0ZUVycm9yKAonPHdhcm5pbmc+V2FybmluZzogQW1iaWd1b3VzIGNsYXNzIHJlc29sdXRpb24sICInLiRjbGFzcy4nIicuCicgd2FzIGZvdW5kIGluIGJvdGggIicuJG1hcFskY2xhc3NdLiciIGFuZCAiJy4kZmlsZVBhdGguJyIsIHRoZSBmaXJzdCB3aWxsIGJlIHVzZWQuPC93YXJuaW5nPicKKTsKfQp9Cn0KCnJldHVybiAkbWFwOwp9CgoKCgoKCgoKCgoKCnByaXZhdGUgc3RhdGljIGZ1bmN0aW9uIGZpbHRlckJ5TmFtZXNwYWNlKCRjbGFzc2VzLCAkZmlsZVBhdGgsICRiYXNlTmFtZXNwYWNlLCAkbmFtZXNwYWNlVHlwZSwgJGJhc2VQYXRoLCAkaW8pCnsKJHZhbGlkQ2xhc3NlcyA9IGFycmF5KCk7CiRyZWplY3RlZENsYXNzZXMgPSBhcnJheSgpOwoKJHJlYWxTdWJQYXRoID0gc3Vic3RyKCRmaWxlUGF0aCwgc3RybGVuKCRiYXNlUGF0aCkgKyAxKTsKJHJlYWxTdWJQYXRoID0gc3Vic3RyKCRyZWFsU3ViUGF0aCwgMCwgc3RycnBvcygkcmVhbFN1YlBhdGgsICcuJykpOwoKZm9yZWFjaCAoJGNsYXNzZXMgYXMgJGNsYXNzKSB7CgppZiAoJycgIT09ICRiYXNlTmFtZXNwYWNlICYmIDAgIT09IHN0cnBvcygkY2xhc3MsICRiYXNlTmFtZXNwYWNlKSkgewpjb250aW51ZTsKfQoKaWYgKCdwc3ItMCcgPT09ICRuYW1lc3BhY2VUeXBlKSB7CiRuYW1lc3BhY2VMZW5ndGggPSBzdHJycG9zKCRjbGFzcywgJ1xcJyk7CmlmIChmYWxzZSAhPT0gJG5hbWVzcGFjZUxlbmd0aCkgewokbmFtZXNwYWNlID0gc3Vic3RyKCRjbGFzcywgMCwgJG5hbWVzcGFjZUxlbmd0aCArIDEpOwokY2xhc3NOYW1lID0gc3Vic3RyKCRjbGFzcywgJG5hbWVzcGFjZUxlbmd0aCArIDEpOwokc3ViUGF0aCA9IHN0cl9yZXBsYWNlKCdcXCcsIERJUkVDVE9SWV9TRVBBUkFUT1IsICRuYW1lc3BhY2UpCi4gc3RyX3JlcGxhY2UoJ18nLCBESVJFQ1RPUllfU0VQQVJBVE9SLCAkY2xhc3NOYW1lKTsKfSBlbHNlIHsKJHN1YlBhdGggPSBzdHJfcmVwbGFjZSgnXycsIERJUkVDVE9SWV9TRVBBUkFUT1IsICRjbGFzcyk7Cn0KfSBlbHNlaWYgKCdwc3ItNCcgPT09ICRuYW1lc3BhY2VUeXBlKSB7CiRzdWJOYW1lc3BhY2UgPSAoJycgIT09ICRiYXNlTmFtZXNwYWNlKSA/IHN1YnN0cigkY2xhc3MsIHN0cmxlbigkYmFzZU5hbWVzcGFjZSkpIDogJGNsYXNzOwokc3ViUGF0aCA9IHN0cl9yZXBsYWNlKCdcXCcsIERJUkVDVE9SWV9TRVBBUkFUT1IsICRzdWJOYW1lc3BhY2UpOwp9IGVsc2Ugewp0aHJvdyBuZXcgXFJ1bnRpbWVFeGNlcHRpb24oIm5hbWVzcGFjZVR5cGUgbXVzdCBiZSBwc3ItMCBvciBwc3ItNCwgJG5hbWVzcGFjZVR5cGUgZ2l2ZW4iKTsKfQppZiAoJHN1YlBhdGggPT09ICRyZWFsU3ViUGF0aCkgewokdmFsaWRDbGFzc2VzW10gPSAkY2xhc3M7Cn0gZWxzZSB7CiRyZWplY3RlZENsYXNzZXNbXSA9ICRjbGFzczsKfQp9CgppZiAoZW1wdHkoJHZhbGlkQ2xhc3NlcykpIHsKZm9yZWFjaCAoJHJlamVjdGVkQ2xhc3NlcyBhcyAkY2xhc3MpIHsKaWYgKCRpbykgewokaW8tPndyaXRlRXJyb3IoIjx3YXJuaW5nPkNsYXNzICRjbGFzcyBsb2NhdGVkIGluICIucHJlZ19yZXBsYWNlKCd7XicucHJlZ19xdW90ZShnZXRjd2QoKSkuJ30nLCAnLicsICRmaWxlUGF0aCwgMSkuIiBkb2VzIG5vdCBjb21wbHkgd2l0aCAkbmFtZXNwYWNlVHlwZSBhdXRvbG9hZGluZyBzdGFuZGFyZC4gU2tpcHBpbmcuPC93YXJuaW5nPiIpOwp9Cn0KCnJldHVybiBhcnJheSgpOwp9CgpyZXR1cm4gJHZhbGlkQ2xhc3NlczsKfQoKCgoKCgoKCnByaXZhdGUgc3RhdGljIGZ1bmN0aW9uIGZpbmRDbGFzc2VzKCRwYXRoKQp7CiRleHRyYVR5cGVzID0gUEhQX1ZFUlNJT05fSUQgPCA1MDQwMCA/ICcnIDogJ3x0cmFpdCc7CmlmIChQSFBfVkVSU0lPTl9JRCA+PSA4MDEwMCB8fCAoZGVmaW5lZCgnSEhWTV9WRVJTSU9OJykgJiYgdmVyc2lvbl9jb21wYXJlKEhIVk1fVkVSU0lPTiwgJzMuMycsICc+PScpKSkgewokZXh0cmFUeXBlcyAuPSAnfGVudW0nOwp9CgoKCiRjb250ZW50cyA9IEBwaHBfc3RyaXBfd2hpdGVzcGFjZSgkcGF0aCk7CmlmICghJGNvbnRlbnRzKSB7CmlmICghZmlsZV9leGlzdHMoJHBhdGgpKSB7CiRtZXNzYWdlID0gJ0ZpbGUgYXQgIiVzIiBkb2VzIG5vdCBleGlzdCwgY2hlY2sgeW91ciBjbGFzc21hcCBkZWZpbml0aW9ucyc7Cn0gZWxzZWlmICghRmlsZXN5c3RlbTo6aXNSZWFkYWJsZSgkcGF0aCkpIHsKJG1lc3NhZ2UgPSAnRmlsZSBhdCAiJXMiIGlzIG5vdCByZWFkYWJsZSwgY2hlY2sgaXRzIHBlcm1pc3Npb25zJzsKfSBlbHNlaWYgKCcnID09PSB0cmltKGZpbGVfZ2V0X2NvbnRlbnRzKCRwYXRoKSkpIHsKCnJldHVybiBhcnJheSgpOwp9IGVsc2UgewokbWVzc2FnZSA9ICdGaWxlIGF0ICIlcyIgY291bGQgbm90IGJlIHBhcnNlZCBhcyBQSFAsIGl0IG1heSBiZSBiaW5hcnkgb3IgY29ycnVwdGVkJzsKfQokZXJyb3IgPSBlcnJvcl9nZXRfbGFzdCgpOwppZiAoaXNzZXQoJGVycm9yWydtZXNzYWdlJ10pKSB7CiRtZXNzYWdlIC49IFBIUF9FT0wgLiAnVGhlIGZvbGxvd2luZyBtZXNzYWdlIG1heSBiZSBoZWxwZnVsOicgLiBQSFBfRU9MIC4gJGVycm9yWydtZXNzYWdlJ107Cn0KdGhyb3cgbmV3IFxSdW50aW1lRXhjZXB0aW9uKHNwcmludGYoJG1lc3NhZ2UsICRwYXRoKSk7Cn0KCgppZiAoIXByZWdfbWF0Y2goJ3tcYig/OmNsYXNzfGludGVyZmFjZScuJGV4dHJhVHlwZXMuJylcc31pJywgJGNvbnRlbnRzKSkgewpyZXR1cm4gYXJyYXkoKTsKfQoKCiRjb250ZW50cyA9IHByZWdfcmVwbGFjZSgnezw8PFsgXHRdKihbXCciXT8pKFx3KylcXDEoPzpcclxufFxufFxyKSg/Oi4qPykoPzpcclxufFxufFxyKSg/OlxzKilcXDIoPz1ccyt8WzssLildKX1zJywgJ251bGwnLCAkY29udGVudHMpOwoKJGNvbnRlbnRzID0gcHJlZ19yZXBsYWNlKCd7IlteIlxcXFxdKisoXFxcXC5bXiJcXFxcXSorKSorInxcJ1teXCdcXFxcXSorKFxcXFwuW15cJ1xcXFxdKispKitcJ31zJywgJ251bGwnLCAkY29udGVudHMpOwoKaWYgKHN0cnBvcygkY29udGVudHMsICc8PycpICE9PSAwKSB7CiRjb250ZW50cyA9IHByZWdfcmVwbGFjZSgne14uKz88XD99cycsICc8PycsICRjb250ZW50cywgMSwgJHJlcGxhY2VtZW50cyk7CmlmICgkcmVwbGFjZW1lbnRzID09PSAwKSB7CnJldHVybiBhcnJheSgpOwp9Cn0KCiRjb250ZW50cyA9IHByZWdfcmVwbGFjZSgne1w/Pig/OltePF0rK3w8KD8hXD8pKSorPFw/fXMnLCAnPz48PycsICRjb250ZW50cyk7CgokcG9zID0gc3RycnBvcygkY29udGVudHMsICc/PicpOwppZiAoZmFsc2UgIT09ICRwb3MgJiYgZmFsc2UgPT09IHN0cnBvcyhzdWJzdHIoJGNvbnRlbnRzLCAkcG9zKSwgJzw/JykpIHsKJGNvbnRlbnRzID0gc3Vic3RyKCRjb250ZW50cywgMCwgJHBvcyk7Cn0KCmlmIChwcmVnX21hdGNoKCd7KDxcPykoPyEocGhwfGhoKSl9aScsICRjb250ZW50cykpIHsKJGNvbnRlbnRzID0gcHJlZ19yZXBsYWNlKCd7Ly8uKiB8IC9cKig/OlteKl0rK3xcKig/IS8pKSpcKi99eCcsICcnLCAkY29udGVudHMpOwp9CgpwcmVnX21hdGNoX2FsbCgnewogICAgICAgICAgICAoPzoKICAgICAgICAgICAgICAgICBcYig/PCFbXCQ6Pl0pKD9QPHR5cGU+Y2xhc3N8aW50ZXJmYWNlJy4kZXh0cmFUeXBlcy4nKSBccysrICg/UDxuYW1lPlthLXpBLVpfXHg3Zi1ceGZmOl1bYS16QS1aMC05X1x4N2YtXHhmZjpcLV0qKykKICAgICAgICAgICAgICAgfCBcYig/PCFbXCQ6Pl0pKD9QPG5zPm5hbWVzcGFjZSkgKD9QPG5zbmFtZT5ccysrW2EtekEtWl9ceDdmLVx4ZmZdW2EtekEtWjAtOV9ceDdmLVx4ZmZdKisoPzpccyorXFxcXFxzKitbYS16QS1aX1x4N2YtXHhmZl1bYS16QS1aMC05X1x4N2YtXHhmZl0qKykqKyk/IFxzKisgW1x7O10KICAgICAgICAgICAgKQogICAgICAgIH1peCcsICRjb250ZW50cywgJG1hdGNoZXMpOwoKJGNsYXNzZXMgPSBhcnJheSgpOwokbmFtZXNwYWNlID0gJyc7Cgpmb3IgKCRpID0gMCwgJGxlbiA9IGNvdW50KCRtYXRjaGVzWyd0eXBlJ10pOyAkaSA8ICRsZW47ICRpKyspIHsKaWYgKCFlbXB0eSgkbWF0Y2hlc1snbnMnXVskaV0pKSB7CiRuYW1lc3BhY2UgPSBzdHJfcmVwbGFjZShhcnJheSgnICcsICJcdCIsICJcciIsICJcbiIpLCAnJywgJG1hdGNoZXNbJ25zbmFtZSddWyRpXSkgLiAnXFwnOwp9IGVsc2UgewokbmFtZSA9ICRtYXRjaGVzWyduYW1lJ11bJGldOwoKaWYgKCRuYW1lID09PSAnZXh0ZW5kcycgfHwgJG5hbWUgPT09ICdpbXBsZW1lbnRzJykgewpjb250aW51ZTsKfQppZiAoJG5hbWVbMF0gPT09ICc6JykgewoKJG5hbWUgPSAneGhwJy5zdWJzdHIoc3RyX3JlcGxhY2UoYXJyYXkoJy0nLCAnOicpLCBhcnJheSgnXycsICdfXycpLCAkbmFtZSksIDEpOwp9IGVsc2VpZiAoJG1hdGNoZXNbJ3R5cGUnXVskaV0gPT09ICdlbnVtJykgewoKCgoKJG5hbWUgPSBydHJpbSgkbmFtZSwgJzonKTsKfQokY2xhc3Nlc1tdID0gbHRyaW0oJG5hbWVzcGFjZSAuICRuYW1lLCAnXFwnKTsKfQp9CgpyZXR1cm4gJGNsYXNzZXM7Cn0KfQo8P3BocAoKCgoKCgoKCgoKCm5hbWVzcGFjZSBDb21wb3NlcjsKCnVzZSBDb21wb3NlclxJT1xJT0ludGVyZmFjZTsKdXNlIENvbXBvc2VyXFV0aWxcRmlsZXN5c3RlbTsKdXNlIENvbXBvc2VyXFV0aWxcU2lsZW5jZXI7CnVzZSBTeW1mb255XENvbXBvbmVudFxGaW5kZXJcRmluZGVyOwoKCgoKCgpjbGFzcyBDYWNoZQp7CnByaXZhdGUgc3RhdGljICRjYWNoZUNvbGxlY3RlZCA9IG51bGw7CnByaXZhdGUgJGlvOwpwcml2YXRlICRyb290Owpwcml2YXRlICRlbmFibGVkID0gdHJ1ZTsKcHJpdmF0ZSAkYWxsb3dsaXN0Owpwcml2YXRlICRmaWxlc3lzdGVtOwpwcml2YXRlICRyZWFkT25seTsKCgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gX19jb25zdHJ1Y3QoSU9JbnRlcmZhY2UgJGlvLCAkY2FjaGVEaXIsICRhbGxvd2xpc3QgPSAnYS16MC05LicsIEZpbGVzeXN0ZW0gJGZpbGVzeXN0ZW0gPSBudWxsLCAkcmVhZE9ubHkgPSBmYWxzZSkKewokdGhpcy0+aW8gPSAkaW87CiR0aGlzLT5yb290ID0gcnRyaW0oJGNhY2hlRGlyLCAnL1xcJykgLiAnLyc7CiR0aGlzLT5hbGxvd2xpc3QgPSAkYWxsb3dsaXN0OwokdGhpcy0+ZmlsZXN5c3RlbSA9ICRmaWxlc3lzdGVtID86IG5ldyBGaWxlc3lzdGVtKCk7CiR0aGlzLT5yZWFkT25seSA9IChib29sKSAkcmVhZE9ubHk7CgppZiAoIXNlbGY6OmlzVXNhYmxlKCRjYWNoZURpcikpIHsKJHRoaXMtPmVuYWJsZWQgPSBmYWxzZTsKCnJldHVybjsKfQoKaWYgKAooIWlzX2RpcigkdGhpcy0+cm9vdCkgJiYgIVNpbGVuY2VyOjpjYWxsKCdta2RpcicsICR0aGlzLT5yb290LCAwNzc3LCB0cnVlKSkKfHwgIWlzX3dyaXRhYmxlKCR0aGlzLT5yb290KQopIHsKJHRoaXMtPmlvLT53cml0ZUVycm9yKCc8d2FybmluZz5DYW5ub3QgY3JlYXRlIGNhY2hlIGRpcmVjdG9yeSAnIC4gJHRoaXMtPnJvb3QgLiAnLCBvciBkaXJlY3RvcnkgaXMgbm90IHdyaXRhYmxlLiBQcm9jZWVkaW5nIHdpdGhvdXQgY2FjaGU8L3dhcm5pbmc+Jyk7CiR0aGlzLT5lbmFibGVkID0gZmFsc2U7Cn0KfQoKCgoKcHVibGljIGZ1bmN0aW9uIHNldFJlYWRPbmx5KCRyZWFkT25seSkKewokdGhpcy0+cmVhZE9ubHkgPSAoYm9vbCkgJHJlYWRPbmx5Owp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gaXNSZWFkT25seSgpCnsKcmV0dXJuICR0aGlzLT5yZWFkT25seTsKfQoKcHVibGljIHN0YXRpYyBmdW5jdGlvbiBpc1VzYWJsZSgkcGF0aCkKewpyZXR1cm4gIXByZWdfbWF0Y2goJ3soXnxbXFxcXC9dKShcJG51bGx8bnVsfE5VTHwvZGV2L251bGwpKFtcXFxcL118JCl9JywgJHBhdGgpOwp9CgpwdWJsaWMgZnVuY3Rpb24gaXNFbmFibGVkKCkKewpyZXR1cm4gJHRoaXMtPmVuYWJsZWQ7Cn0KCnB1YmxpYyBmdW5jdGlvbiBnZXRSb290KCkKewpyZXR1cm4gJHRoaXMtPnJvb3Q7Cn0KCnB1YmxpYyBmdW5jdGlvbiByZWFkKCRmaWxlKQp7CmlmICgkdGhpcy0+ZW5hYmxlZCkgewokZmlsZSA9IHByZWdfcmVwbGFjZSgne1teJy4kdGhpcy0+YWxsb3dsaXN0LiddfWknLCAnLScsICRmaWxlKTsKaWYgKGZpbGVfZXhpc3RzKCR0aGlzLT5yb290IC4gJGZpbGUpKSB7CiR0aGlzLT5pby0+d3JpdGVFcnJvcignUmVhZGluZyAnLiR0aGlzLT5yb290IC4gJGZpbGUuJyBmcm9tIGNhY2hlJywgdHJ1ZSwgSU9JbnRlcmZhY2U6OkRFQlVHKTsKCnJldHVybiBmaWxlX2dldF9jb250ZW50cygkdGhpcy0+cm9vdCAuICRmaWxlKTsKfQp9CgpyZXR1cm4gZmFsc2U7Cn0KCnB1YmxpYyBmdW5jdGlvbiB3cml0ZSgkZmlsZSwgJGNvbnRlbnRzKQp7CmlmICgkdGhpcy0+ZW5hYmxlZCAmJiAhJHRoaXMtPnJlYWRPbmx5KSB7CiRmaWxlID0gcHJlZ19yZXBsYWNlKCd7W14nLiR0aGlzLT5hbGxvd2xpc3QuJ119aScsICctJywgJGZpbGUpOwoKJHRoaXMtPmlvLT53cml0ZUVycm9yKCdXcml0aW5nICcuJHRoaXMtPnJvb3QgLiAkZmlsZS4nIGludG8gY2FjaGUnLCB0cnVlLCBJT0ludGVyZmFjZTo6REVCVUcpOwoKJHRlbXBGaWxlTmFtZSA9ICR0aGlzLT5yb290IC4gJGZpbGUgLiB1bmlxaWQoJy4nLCB0cnVlKSAuICcudG1wJzsKdHJ5IHsKcmV0dXJuIGZpbGVfcHV0X2NvbnRlbnRzKCR0ZW1wRmlsZU5hbWUsICRjb250ZW50cykgIT09IGZhbHNlICYmIHJlbmFtZSgkdGVtcEZpbGVOYW1lLCAkdGhpcy0+cm9vdCAuICRmaWxlKTsKfSBjYXRjaCAoXEVycm9yRXhjZXB0aW9uICRlKSB7CiR0aGlzLT5pby0+d3JpdGVFcnJvcignPHdhcm5pbmc+RmFpbGVkIHRvIHdyaXRlIGludG8gY2FjaGU6ICcuJGUtPmdldE1lc3NhZ2UoKS4nPC93YXJuaW5nPicsIHRydWUsIElPSW50ZXJmYWNlOjpERUJVRyk7CmlmIChwcmVnX21hdGNoKCd7XmZpbGVfcHV0X2NvbnRlbnRzXChcKTogT25seSAoWzAtOV0rKSBvZiAoWzAtOV0rKSBieXRlcyB3cml0dGVufScsICRlLT5nZXRNZXNzYWdlKCksICRtKSkgewoKdW5saW5rKCR0ZW1wRmlsZU5hbWUpOwoKJG1lc3NhZ2UgPSBzcHJpbnRmKAonPHdhcm5pbmc+V3JpdGluZyAlMSRzIGludG8gY2FjaGUgZmFpbGVkIGFmdGVyICUyJHUgb2YgJTMkdSBieXRlcyB3cml0dGVuLCBvbmx5ICU0JHUgYnl0ZXMgb2YgZnJlZSBzcGFjZSBhdmFpbGFibGU8L3dhcm5pbmc+JywKJHRlbXBGaWxlTmFtZSwKJG1bMV0sCiRtWzJdLApAZGlza19mcmVlX3NwYWNlKGRpcm5hbWUoJHRlbXBGaWxlTmFtZSkpCik7CgokdGhpcy0+aW8tPndyaXRlRXJyb3IoJG1lc3NhZ2UpOwoKcmV0dXJuIGZhbHNlOwp9Cgp0aHJvdyAkZTsKfQp9CgpyZXR1cm4gZmFsc2U7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBjb3B5RnJvbSgkZmlsZSwgJHNvdXJjZSkKewppZiAoJHRoaXMtPmVuYWJsZWQgJiYgISR0aGlzLT5yZWFkT25seSkgewokZmlsZSA9IHByZWdfcmVwbGFjZSgne1teJy4kdGhpcy0+YWxsb3dsaXN0LiddfWknLCAnLScsICRmaWxlKTsKJHRoaXMtPmZpbGVzeXN0ZW0tPmVuc3VyZURpcmVjdG9yeUV4aXN0cyhkaXJuYW1lKCR0aGlzLT5yb290IC4gJGZpbGUpKTsKCmlmICghZmlsZV9leGlzdHMoJHNvdXJjZSkpIHsKJHRoaXMtPmlvLT53cml0ZUVycm9yKCc8ZXJyb3I+Jy4kc291cmNlLicgZG9lcyBub3QgZXhpc3QsIGNhbiBub3Qgd3JpdGUgaW50byBjYWNoZTwvZXJyb3I+Jyk7Cn0gZWxzZWlmICgkdGhpcy0+aW8tPmlzRGVidWcoKSkgewokdGhpcy0+aW8tPndyaXRlRXJyb3IoJ1dyaXRpbmcgJy4kdGhpcy0+cm9vdCAuICRmaWxlLicgaW50byBjYWNoZSBmcm9tICcuJHNvdXJjZSk7Cn0KCnJldHVybiBjb3B5KCRzb3VyY2UsICR0aGlzLT5yb290IC4gJGZpbGUpOwp9CgpyZXR1cm4gZmFsc2U7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBjb3B5VG8oJGZpbGUsICR0YXJnZXQpCnsKaWYgKCR0aGlzLT5lbmFibGVkKSB7CiRmaWxlID0gcHJlZ19yZXBsYWNlKCd7W14nLiR0aGlzLT5hbGxvd2xpc3QuJ119aScsICctJywgJGZpbGUpOwppZiAoZmlsZV9leGlzdHMoJHRoaXMtPnJvb3QgLiAkZmlsZSkpIHsKdHJ5IHsKdG91Y2goJHRoaXMtPnJvb3QgLiAkZmlsZSwgZmlsZW10aW1lKCR0aGlzLT5yb290IC4gJGZpbGUpLCB0aW1lKCkpOwp9IGNhdGNoIChcRXJyb3JFeGNlcHRpb24gJGUpIHsKCgpTaWxlbmNlcjo6Y2FsbCgndG91Y2gnLCAkdGhpcy0+cm9vdCAuICRmaWxlKTsKfQoKJHRoaXMtPmlvLT53cml0ZUVycm9yKCdSZWFkaW5nICcuJHRoaXMtPnJvb3QgLiAkZmlsZS4nIGZyb20gY2FjaGUnLCB0cnVlLCBJT0ludGVyZmFjZTo6REVCVUcpOwoKcmV0dXJuIGNvcHkoJHRoaXMtPnJvb3QgLiAkZmlsZSwgJHRhcmdldCk7Cn0KfQoKcmV0dXJuIGZhbHNlOwp9CgpwdWJsaWMgZnVuY3Rpb24gZ2NJc05lY2Vzc2FyeSgpCnsKaWYgKHNlbGY6OiRjYWNoZUNvbGxlY3RlZCkgewpyZXR1cm4gZmFsc2U7Cn0KCnNlbGY6OiRjYWNoZUNvbGxlY3RlZCA9IHRydWU7CmlmIChnZXRlbnYoJ0NPTVBPU0VSX1RFU1RfU1VJVEUnKSkgewpyZXR1cm4gZmFsc2U7Cn0KCmlmIChQSFBfVkVSU0lPTl9JRCA+IDcwMDAwKSB7CnJldHVybiAhcmFuZG9tX2ludCgwLCA1MCk7Cn0KCnJldHVybiAhbXRfcmFuZCgwLCA1MCk7Cn0KCnB1YmxpYyBmdW5jdGlvbiByZW1vdmUoJGZpbGUpCnsKaWYgKCR0aGlzLT5lbmFibGVkKSB7CiRmaWxlID0gcHJlZ19yZXBsYWNlKCd7W14nLiR0aGlzLT5hbGxvd2xpc3QuJ119aScsICctJywgJGZpbGUpOwppZiAoZmlsZV9leGlzdHMoJHRoaXMtPnJvb3QgLiAkZmlsZSkpIHsKcmV0dXJuICR0aGlzLT5maWxlc3lzdGVtLT51bmxpbmsoJHRoaXMtPnJvb3QgLiAkZmlsZSk7Cn0KfQoKcmV0dXJuIGZhbHNlOwp9CgpwdWJsaWMgZnVuY3Rpb24gY2xlYXIoKQp7CmlmICgkdGhpcy0+ZW5hYmxlZCkgewokdGhpcy0+ZmlsZXN5c3RlbS0+ZW1wdHlEaXJlY3RvcnkoJHRoaXMtPnJvb3QpOwoKcmV0dXJuIHRydWU7Cn0KCnJldHVybiBmYWxzZTsKfQoKcHVibGljIGZ1bmN0aW9uIGdjKCR0dGwsICRtYXhTaXplKQp7CmlmICgkdGhpcy0+ZW5hYmxlZCkgewokZXhwaXJlID0gbmV3IFxEYXRlVGltZSgpOwokZXhwaXJlLT5tb2RpZnkoJy0nLiR0dGwuJyBzZWNvbmRzJyk7CgokZmluZGVyID0gJHRoaXMtPmdldEZpbmRlcigpLT5kYXRlKCd1bnRpbCAnLiRleHBpcmUtPmZvcm1hdCgnWS1tLWQgSDppOnMnKSk7CmZvcmVhY2ggKCRmaW5kZXIgYXMgJGZpbGUpIHsKJHRoaXMtPmZpbGVzeXN0ZW0tPnVubGluaygkZmlsZS0+Z2V0UGF0aG5hbWUoKSk7Cn0KCiR0b3RhbFNpemUgPSAkdGhpcy0+ZmlsZXN5c3RlbS0+c2l6ZSgkdGhpcy0+cm9vdCk7CmlmICgkdG90YWxTaXplID4gJG1heFNpemUpIHsKJGl0ZXJhdG9yID0gJHRoaXMtPmdldEZpbmRlcigpLT5zb3J0QnlBY2Nlc3NlZFRpbWUoKS0+Z2V0SXRlcmF0b3IoKTsKd2hpbGUgKCR0b3RhbFNpemUgPiAkbWF4U2l6ZSAmJiAkaXRlcmF0b3ItPnZhbGlkKCkpIHsKJGZpbGVwYXRoID0gJGl0ZXJhdG9yLT5jdXJyZW50KCktPmdldFBhdGhuYW1lKCk7CiR0b3RhbFNpemUgLT0gJHRoaXMtPmZpbGVzeXN0ZW0tPnNpemUoJGZpbGVwYXRoKTsKJHRoaXMtPmZpbGVzeXN0ZW0tPnVubGluaygkZmlsZXBhdGgpOwokaXRlcmF0b3ItPm5leHQoKTsKfQp9CgpzZWxmOjokY2FjaGVDb2xsZWN0ZWQgPSB0cnVlOwoKcmV0dXJuIHRydWU7Cn0KCnJldHVybiBmYWxzZTsKfQoKcHVibGljIGZ1bmN0aW9uIHNoYTEoJGZpbGUpCnsKaWYgKCR0aGlzLT5lbmFibGVkKSB7CiRmaWxlID0gcHJlZ19yZXBsYWNlKCd7W14nLiR0aGlzLT5hbGxvd2xpc3QuJ119aScsICctJywgJGZpbGUpOwppZiAoZmlsZV9leGlzdHMoJHRoaXMtPnJvb3QgLiAkZmlsZSkpIHsKcmV0dXJuIHNoYTFfZmlsZSgkdGhpcy0+cm9vdCAuICRmaWxlKTsKfQp9CgpyZXR1cm4gZmFsc2U7Cn0KCnB1YmxpYyBmdW5jdGlvbiBzaGEyNTYoJGZpbGUpCnsKaWYgKCR0aGlzLT5lbmFibGVkKSB7CiRmaWxlID0gcHJlZ19yZXBsYWNlKCd7W14nLiR0aGlzLT5hbGxvd2xpc3QuJ119aScsICctJywgJGZpbGUpOwppZiAoZmlsZV9leGlzdHMoJHRoaXMtPnJvb3QgLiAkZmlsZSkpIHsKcmV0dXJuIGhhc2hfZmlsZSgnc2hhMjU2JywgJHRoaXMtPnJvb3QgLiAkZmlsZSk7Cn0KfQoKcmV0dXJuIGZhbHNlOwp9Cgpwcm90ZWN0ZWQgZnVuY3Rpb24gZ2V0RmluZGVyKCkKewpyZXR1cm4gRmluZGVyOjpjcmVhdGUoKS0+aW4oJHRoaXMtPnJvb3QpLT5maWxlcygpOwp9Cn0KPD9waHAKCgoKCgoKCgoKCgpuYW1lc3BhY2UgQ29tcG9zZXJcQ29tbWFuZDsKCnVzZSBDb21wb3NlclxDb21wb3NlcjsKdXNlIFN5bWZvbnlcQ29tcG9uZW50XENvbnNvbGVcSW5wdXRcSW5wdXRJbnRlcmZhY2U7CnVzZSBTeW1mb255XENvbXBvbmVudFxDb25zb2xlXE91dHB1dFxPdXRwdXRJbnRlcmZhY2U7CgoKCgpjbGFzcyBBYm91dENvbW1hbmQgZXh0ZW5kcyBCYXNlQ29tbWFuZAp7CnByb3RlY3RlZCBmdW5jdGlvbiBjb25maWd1cmUoKQp7CiR0aGlzCi0+c2V0TmFtZSgnYWJvdXQnKQotPnNldERlc2NyaXB0aW9uKCdTaG93cyBhIHNob3J0IGluZm9ybWF0aW9uIGFib3V0IENvbXBvc2VyLicpCi0+c2V0SGVscCgKPDw8RU9UCjxpbmZvPnBocCBjb21wb3Nlci5waGFyIGFib3V0PC9pbmZvPgpFT1QKKQo7Cn0KCnByb3RlY3RlZCBmdW5jdGlvbiBleGVjdXRlKElucHV0SW50ZXJmYWNlICRpbnB1dCwgT3V0cHV0SW50ZXJmYWNlICRvdXRwdXQpCnsKJGNvbXBvc2VyVmVyc2lvbiA9IENvbXBvc2VyOjpnZXRWZXJzaW9uKCk7CgokdGhpcy0+Z2V0SU8oKS0+d3JpdGUoCjw8PEVPVAo8aW5mbz5Db21wb3NlciAtIERlcGVuZGVuY3kgTWFuYWdlciBmb3IgUEhQIC0gdmVyc2lvbiAkY29tcG9zZXJWZXJzaW9uPC9pbmZvPgo8Y29tbWVudD5Db21wb3NlciBpcyBhIGRlcGVuZGVuY3kgbWFuYWdlciB0cmFja2luZyBsb2NhbCBkZXBlbmRlbmNpZXMgb2YgeW91ciBwcm9qZWN0cyBhbmQgbGlicmFyaWVzLgpTZWUgaHR0cHM6Ly9nZXRjb21wb3Nlci5vcmcvIGZvciBtb3JlIGluZm9ybWF0aW9uLjwvY29tbWVudD4KRU9UCik7CgpyZXR1cm4gMDsKfQp9Cjw/cGhwCgoKCgoKCgoKCgoKbmFtZXNwYWNlIENvbXBvc2VyXENvbW1hbmQ7Cgp1c2UgQ29tcG9zZXJcRmFjdG9yeTsKdXNlIENvbXBvc2VyXElPXElPSW50ZXJmYWNlOwp1c2UgQ29tcG9zZXJcQ29uZmlnOwp1c2UgQ29tcG9zZXJcQ29tcG9zZXI7CnVzZSBDb21wb3NlclxQYWNrYWdlXENvbXBsZXRlUGFja2FnZUludGVyZmFjZTsKdXNlIENvbXBvc2VyXFJlcG9zaXRvcnlcQ29tcG9zaXRlUmVwb3NpdG9yeTsKdXNlIENvbXBvc2VyXFJlcG9zaXRvcnlcUmVwb3NpdG9yeUZhY3Rvcnk7CnVzZSBDb21wb3NlclxTY3JpcHRcU2NyaXB0RXZlbnRzOwp1c2UgQ29tcG9zZXJcUGx1Z2luXENvbW1hbmRFdmVudDsKdXNlIENvbXBvc2VyXFBsdWdpblxQbHVnaW5FdmVudHM7CnVzZSBDb21wb3NlclxVdGlsXEZpbGVzeXN0ZW07CnVzZSBDb21wb3NlclxVdGlsXExvb3A7CnVzZSBDb21wb3NlclxVdGlsXFByb2Nlc3NFeGVjdXRvcjsKdXNlIFN5bWZvbnlcQ29tcG9uZW50XENvbnNvbGVcSW5wdXRcSW5wdXRBcmd1bWVudDsKdXNlIFN5bWZvbnlcQ29tcG9uZW50XENvbnNvbGVcSW5wdXRcSW5wdXRJbnRlcmZhY2U7CnVzZSBTeW1mb255XENvbXBvbmVudFxDb25zb2xlXElucHV0XElucHV0T3B0aW9uOwp1c2UgU3ltZm9ueVxDb21wb25lbnRcQ29uc29sZVxPdXRwdXRcT3V0cHV0SW50ZXJmYWNlOwoKCgoKCgpjbGFzcyBBcmNoaXZlQ29tbWFuZCBleHRlbmRzIEJhc2VDb21tYW5kCnsKcHJvdGVjdGVkIGZ1bmN0aW9uIGNvbmZpZ3VyZSgpCnsKJHRoaXMKLT5zZXROYW1lKCdhcmNoaXZlJykKLT5zZXREZXNjcmlwdGlvbignQ3JlYXRlcyBhbiBhcmNoaXZlIG9mIHRoaXMgY29tcG9zZXIgcGFja2FnZS4nKQotPnNldERlZmluaXRpb24oYXJyYXkoCm5ldyBJbnB1dEFyZ3VtZW50KCdwYWNrYWdlJywgSW5wdXRBcmd1bWVudDo6T1BUSU9OQUwsICdUaGUgcGFja2FnZSB0byBhcmNoaXZlIGluc3RlYWQgb2YgdGhlIGN1cnJlbnQgcHJvamVjdCcpLApuZXcgSW5wdXRBcmd1bWVudCgndmVyc2lvbicsIElucHV0QXJndW1lbnQ6Ok9QVElPTkFMLCAnQSB2ZXJzaW9uIGNvbnN0cmFpbnQgdG8gZmluZCB0aGUgcGFja2FnZSB0byBhcmNoaXZlJyksCm5ldyBJbnB1dE9wdGlvbignZm9ybWF0JywgJ2YnLCBJbnB1dE9wdGlvbjo6VkFMVUVfUkVRVUlSRUQsICdGb3JtYXQgb2YgdGhlIHJlc3VsdGluZyBhcmNoaXZlOiB0YXIgb3IgemlwJyksCm5ldyBJbnB1dE9wdGlvbignZGlyJywgbnVsbCwgSW5wdXRPcHRpb246OlZBTFVFX1JFUVVJUkVELCAnV3JpdGUgdGhlIGFyY2hpdmUgdG8gdGhpcyBkaXJlY3RvcnknKSwKbmV3IElucHV0T3B0aW9uKCdmaWxlJywgbnVsbCwgSW5wdXRPcHRpb246OlZBTFVFX1JFUVVJUkVELCAnV3JpdGUgdGhlIGFyY2hpdmUgd2l0aCB0aGUgZ2l2ZW4gZmlsZSBuYW1lLicKLicgTm90ZSB0aGF0IHRoZSBmb3JtYXQgd2lsbCBiZSBhcHBlbmRlZC4nKSwKbmV3IElucHV0T3B0aW9uKCdpZ25vcmUtZmlsdGVycycsIGZhbHNlLCBJbnB1dE9wdGlvbjo6VkFMVUVfTk9ORSwgJ0lnbm9yZSBmaWx0ZXJzIHdoZW4gc2F2aW5nIHBhY2thZ2UnKSwKKSkKLT5zZXRIZWxwKAo8PDxFT1QKVGhlIDxpbmZvPmFyY2hpdmU8L2luZm8+IGNvbW1hbmQgY3JlYXRlcyBhbiBhcmNoaXZlIG9mIHRoZSBzcGVjaWZpZWQgZm9ybWF0CmNvbnRhaW5pbmcgdGhlIGZpbGVzIGFuZCBkaXJlY3RvcmllcyBvZiB0aGUgQ29tcG9zZXIgcHJvamVjdCBvciB0aGUgc3BlY2lmaWVkCnBhY2thZ2UgaW4gdGhlIHNwZWNpZmllZCB2ZXJzaW9uIGFuZCB3cml0ZXMgaXQgdG8gdGhlIHNwZWNpZmllZCBkaXJlY3RvcnkuCgo8aW5mbz5waHAgY29tcG9zZXIucGhhciBhcmNoaXZlIFstLWZvcm1hdD16aXBdIFstLWRpcj0vZm9vXSBbcGFja2FnZSBbdmVyc2lvbl1dPC9pbmZvPgoKUmVhZCBtb3JlIGF0IGh0dHBzOi8vZ2V0Y29tcG9zZXIub3JnL2RvYy8wMy1jbGkubWQjYXJjaGl2ZQpFT1QKKQo7Cn0KCnByb3RlY3RlZCBmdW5jdGlvbiBleGVjdXRlKElucHV0SW50ZXJmYWNlICRpbnB1dCwgT3V0cHV0SW50ZXJmYWNlICRvdXRwdXQpCnsKJGNvbXBvc2VyID0gJHRoaXMtPmdldENvbXBvc2VyKGZhbHNlKTsKJGNvbmZpZyA9IG51bGw7CgppZiAoJGNvbXBvc2VyKSB7CiRjb25maWcgPSAkY29tcG9zZXItPmdldENvbmZpZygpOwokY29tbWFuZEV2ZW50ID0gbmV3IENvbW1hbmRFdmVudChQbHVnaW5FdmVudHM6OkNPTU1BTkQsICdhcmNoaXZlJywgJGlucHV0LCAkb3V0cHV0KTsKJGV2ZW50RGlzcGF0Y2hlciA9ICRjb21wb3Nlci0+Z2V0RXZlbnREaXNwYXRjaGVyKCk7CiRldmVudERpc3BhdGNoZXItPmRpc3BhdGNoKCRjb21tYW5kRXZlbnQtPmdldE5hbWUoKSwgJGNvbW1hbmRFdmVudCk7CiRldmVudERpc3BhdGNoZXItPmRpc3BhdGNoU2NyaXB0KFNjcmlwdEV2ZW50czo6UFJFX0FSQ0hJVkVfQ01EKTsKfQoKaWYgKCEkY29uZmlnKSB7CiRjb25maWcgPSBGYWN0b3J5OjpjcmVhdGVDb25maWcoKTsKfQoKaWYgKG51bGwgPT09ICRpbnB1dC0+Z2V0T3B0aW9uKCdmb3JtYXQnKSkgewokaW5wdXQtPnNldE9wdGlvbignZm9ybWF0JywgJGNvbmZpZy0+Z2V0KCdhcmNoaXZlLWZvcm1hdCcpKTsKfQppZiAobnVsbCA9PT0gJGlucHV0LT5nZXRPcHRpb24oJ2RpcicpKSB7CiRpbnB1dC0+c2V0T3B0aW9uKCdkaXInLCAkY29uZmlnLT5nZXQoJ2FyY2hpdmUtZGlyJykpOwp9CgokcmV0dXJuQ29kZSA9ICR0aGlzLT5hcmNoaXZlKAokdGhpcy0+Z2V0SU8oKSwKJGNvbmZpZywKJGlucHV0LT5nZXRBcmd1bWVudCgncGFja2FnZScpLAokaW5wdXQtPmdldEFyZ3VtZW50KCd2ZXJzaW9uJyksCiRpbnB1dC0+Z2V0T3B0aW9uKCdmb3JtYXQnKSwKJGlucHV0LT5nZXRPcHRpb24oJ2RpcicpLAokaW5wdXQtPmdldE9wdGlvbignZmlsZScpLAokaW5wdXQtPmdldE9wdGlvbignaWdub3JlLWZpbHRlcnMnKSwKJGNvbXBvc2VyCik7CgppZiAoMCA9PT0gJHJldHVybkNvZGUgJiYgJGNvbXBvc2VyKSB7CiRjb21wb3Nlci0+Z2V0RXZlbnREaXNwYXRjaGVyKCktPmRpc3BhdGNoU2NyaXB0KFNjcmlwdEV2ZW50czo6UE9TVF9BUkNISVZFX0NNRCk7Cn0KCnJldHVybiAkcmV0dXJuQ29kZTsKfQoKcHJvdGVjdGVkIGZ1bmN0aW9uIGFyY2hpdmUoSU9JbnRlcmZhY2UgJGlvLCBDb25maWcgJGNvbmZpZywgJHBhY2thZ2VOYW1lID0gbnVsbCwgJHZlcnNpb24gPSBudWxsLCAkZm9ybWF0ID0gJ3RhcicsICRkZXN0ID0gJy4nLCAkZmlsZU5hbWUgPSBudWxsLCAkaWdub3JlRmlsdGVycyA9IGZhbHNlLCBDb21wb3NlciAkY29tcG9zZXIgPSBudWxsKQp7CmlmICgkY29tcG9zZXIpIHsKJGFyY2hpdmVNYW5hZ2VyID0gJGNvbXBvc2VyLT5nZXRBcmNoaXZlTWFuYWdlcigpOwp9IGVsc2UgewokZmFjdG9yeSA9IG5ldyBGYWN0b3J5OwokcHJvY2VzcyA9IG5ldyBQcm9jZXNzRXhlY3V0b3IoKTsKJGh0dHBEb3dubG9hZGVyID0gRmFjdG9yeTo6Y3JlYXRlSHR0cERvd25sb2FkZXIoJGlvLCAkY29uZmlnKTsKJGRvd25sb2FkTWFuYWdlciA9ICRmYWN0b3J5LT5jcmVhdGVEb3dubG9hZE1hbmFnZXIoJGlvLCAkY29uZmlnLCAkaHR0cERvd25sb2FkZXIsICRwcm9jZXNzKTsKJGFyY2hpdmVNYW5hZ2VyID0gJGZhY3RvcnktPmNyZWF0ZUFyY2hpdmVNYW5hZ2VyKCRjb25maWcsICRkb3dubG9hZE1hbmFnZXIsIG5ldyBMb29wKCRodHRwRG93bmxvYWRlciwgJHByb2Nlc3MpKTsKfQoKaWYgKCRwYWNrYWdlTmFtZSkgewokcGFja2FnZSA9ICR0aGlzLT5zZWxlY3RQYWNrYWdlKCRpbywgJHBhY2thZ2VOYW1lLCAkdmVyc2lvbik7CgppZiAoISRwYWNrYWdlKSB7CnJldHVybiAxOwp9Cn0gZWxzZSB7CiRwYWNrYWdlID0gJHRoaXMtPmdldENvbXBvc2VyKCktPmdldFBhY2thZ2UoKTsKfQoKJGlvLT53cml0ZUVycm9yKCc8aW5mbz5DcmVhdGluZyB0aGUgYXJjaGl2ZSBpbnRvICInLiRkZXN0LiciLjwvaW5mbz4nKTsKJHBhY2thZ2VQYXRoID0gJGFyY2hpdmVNYW5hZ2VyLT5hcmNoaXZlKCRwYWNrYWdlLCAkZm9ybWF0LCAkZGVzdCwgJGZpbGVOYW1lLCAkaWdub3JlRmlsdGVycyk7CiRmcyA9IG5ldyBGaWxlc3lzdGVtOwokc2hvcnRQYXRoID0gJGZzLT5maW5kU2hvcnRlc3RQYXRoKGdldGN3ZCgpLCAkcGFja2FnZVBhdGgsIHRydWUpOwoKJGlvLT53cml0ZUVycm9yKCdDcmVhdGVkOiAnLCBmYWxzZSk7CiRpby0+d3JpdGUoc3RybGVuKCRzaG9ydFBhdGgpIDwgc3RybGVuKCRwYWNrYWdlUGF0aCkgPyAkc2hvcnRQYXRoIDogJHBhY2thZ2VQYXRoKTsKCnJldHVybiAwOwp9CgoKCgpwcm90ZWN0ZWQgZnVuY3Rpb24gc2VsZWN0UGFja2FnZShJT0ludGVyZmFjZSAkaW8sICRwYWNrYWdlTmFtZSwgJHZlcnNpb24gPSBudWxsKQp7CiRpby0+d3JpdGVFcnJvcignPGluZm8+U2VhcmNoaW5nIGZvciB0aGUgc3BlY2lmaWVkIHBhY2thZ2UuPC9pbmZvPicpOwoKaWYgKCRjb21wb3NlciA9ICR0aGlzLT5nZXRDb21wb3NlcihmYWxzZSkpIHsKJGxvY2FsUmVwbyA9ICRjb21wb3Nlci0+Z2V0UmVwb3NpdG9yeU1hbmFnZXIoKS0+Z2V0TG9jYWxSZXBvc2l0b3J5KCk7CiRyZXBvID0gbmV3IENvbXBvc2l0ZVJlcG9zaXRvcnkoYXJyYXlfbWVyZ2UoYXJyYXkoJGxvY2FsUmVwbyksICRjb21wb3Nlci0+Z2V0UmVwb3NpdG9yeU1hbmFnZXIoKS0+Z2V0UmVwb3NpdG9yaWVzKCkpKTsKfSBlbHNlIHsKJGRlZmF1bHRSZXBvcyA9IFJlcG9zaXRvcnlGYWN0b3J5OjpkZWZhdWx0UmVwb3MoJHRoaXMtPmdldElPKCkpOwokaW8tPndyaXRlRXJyb3IoJ05vIGNvbXBvc2VyLmpzb24gZm91bmQgaW4gdGhlIGN1cnJlbnQgZGlyZWN0b3J5LCBzZWFyY2hpbmcgcGFja2FnZXMgZnJvbSAnIC4gaW1wbG9kZSgnLCAnLCBhcnJheV9rZXlzKCRkZWZhdWx0UmVwb3MpKSk7CiRyZXBvID0gbmV3IENvbXBvc2l0ZVJlcG9zaXRvcnkoJGRlZmF1bHRSZXBvcyk7Cn0KCiRwYWNrYWdlcyA9ICRyZXBvLT5maW5kUGFja2FnZXMoJHBhY2thZ2VOYW1lLCAkdmVyc2lvbik7CgppZiAoY291bnQoJHBhY2thZ2VzKSA+IDEpIHsKJHBhY2thZ2UgPSByZXNldCgkcGFja2FnZXMpOwokaW8tPndyaXRlRXJyb3IoJzxpbmZvPkZvdW5kIG11bHRpcGxlIG1hdGNoZXMsIHNlbGVjdGVkICcuJHBhY2thZ2UtPmdldFByZXR0eVN0cmluZygpLicuPC9pbmZvPicpOwokaW8tPndyaXRlRXJyb3IoJ0FsdGVybmF0aXZlcyB3ZXJlICcuaW1wbG9kZSgnLCAnLCBhcnJheV9tYXAoZnVuY3Rpb24gKCRwKSB7CnJldHVybiAkcC0+Z2V0UHJldHR5U3RyaW5nKCk7Cn0sICRwYWNrYWdlcykpLicuJyk7CiRpby0+d3JpdGVFcnJvcignPGNvbW1lbnQ+UGxlYXNlIHVzZSBhIG1vcmUgc3BlY2lmaWMgY29uc3RyYWludCB0byBwaWNrIGEgZGlmZmVyZW50IHBhY2thZ2UuPC9jb21tZW50PicpOwp9IGVsc2VpZiAoJHBhY2thZ2VzKSB7CiRwYWNrYWdlID0gcmVzZXQoJHBhY2thZ2VzKTsKJGlvLT53cml0ZUVycm9yKCc8aW5mbz5Gb3VuZCBhbiBleGFjdCBtYXRjaCAnLiRwYWNrYWdlLT5nZXRQcmV0dHlTdHJpbmcoKS4nLjwvaW5mbz4nKTsKfSBlbHNlIHsKJGlvLT53cml0ZUVycm9yKCc8ZXJyb3I+Q291bGQgbm90IGZpbmQgYSBwYWNrYWdlIG1hdGNoaW5nICcuJHBhY2thZ2VOYW1lLicuPC9lcnJvcj4nKTsKCnJldHVybiBmYWxzZTsKfQoKaWYgKCEkcGFja2FnZSBpbnN0YW5jZW9mIENvbXBsZXRlUGFja2FnZUludGVyZmFjZSkgewp0aHJvdyBuZXcgXExvZ2ljRXhjZXB0aW9uKCdFeHBlY3RlZCBhIENvbXBsZXRlUGFja2FnZUludGVyZmFjZSBpbnN0YW5jZSBidXQgZm91bmQgJy5nZXRfY2xhc3MoJHBhY2thZ2UpKTsKfQoKcmV0dXJuICRwYWNrYWdlOwp9Cn0KPD9waHAKCgoKCgoKCgoKCgpuYW1lc3BhY2UgQ29tcG9zZXJcQ29tbWFuZDsKCnVzZSBDb21wb3NlclxDb21wb3NlcjsKdXNlIENvbXBvc2VyXENvbmZpZzsKdXNlIENvbXBvc2VyXENvbnNvbGVcQXBwbGljYXRpb247CnVzZSBDb21wb3NlclxGYWN0b3J5Owp1c2UgQ29tcG9zZXJcSU9cSU9JbnRlcmZhY2U7CnVzZSBDb21wb3NlclxJT1xOdWxsSU87CnVzZSBDb21wb3NlclxQbHVnaW5cUHJlQ29tbWFuZFJ1bkV2ZW50Owp1c2UgQ29tcG9zZXJcUGFja2FnZVxWZXJzaW9uXFZlcnNpb25QYXJzZXI7CnVzZSBDb21wb3NlclxQbHVnaW5cUGx1Z2luRXZlbnRzOwp1c2UgQ29tcG9zZXJcVXRpbFxQbGF0Zm9ybTsKdXNlIFN5bWZvbnlcQ29tcG9uZW50XENvbnNvbGVcSGVscGVyXFRhYmxlOwp1c2UgU3ltZm9ueVxDb21wb25lbnRcQ29uc29sZVxJbnB1dFxJbnB1dEludGVyZmFjZTsKdXNlIFN5bWZvbnlcQ29tcG9uZW50XENvbnNvbGVcT3V0cHV0XE91dHB1dEludGVyZmFjZTsKdXNlIFN5bWZvbnlcQ29tcG9uZW50XENvbnNvbGVcQ29tbWFuZFxDb21tYW5kOwp1c2UgU3ltZm9ueVxDb21wb25lbnRcQ29uc29sZVxUZXJtaW5hbDsKCgoKCgoKCgoKYWJzdHJhY3QgY2xhc3MgQmFzZUNvbW1hbmQgZXh0ZW5kcyBDb21tYW5kCnsKCgoKcHJpdmF0ZSAkY29tcG9zZXI7CgoKCgpwcml2YXRlICRpbzsKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBnZXRDb21wb3NlcigkcmVxdWlyZWQgPSB0cnVlLCAkZGlzYWJsZVBsdWdpbnMgPSBudWxsKQp7CmlmIChudWxsID09PSAkdGhpcy0+Y29tcG9zZXIpIHsKJGFwcGxpY2F0aW9uID0gJHRoaXMtPmdldEFwcGxpY2F0aW9uKCk7CmlmICgkYXBwbGljYXRpb24gaW5zdGFuY2VvZiBBcHBsaWNhdGlvbikgewoKJHRoaXMtPmNvbXBvc2VyID0gJGFwcGxpY2F0aW9uLT5nZXRDb21wb3NlcigkcmVxdWlyZWQsICRkaXNhYmxlUGx1Z2lucyk7Cn0gZWxzZWlmICgkcmVxdWlyZWQpIHsKdGhyb3cgbmV3IFxSdW50aW1lRXhjZXB0aW9uKAonQ291bGQgbm90IGNyZWF0ZSBhIENvbXBvc2VyXENvbXBvc2VyIGluc3RhbmNlLCB5b3UgbXVzdCBpbmplY3QgJy4KJ29uZSBpZiB0aGlzIGNvbW1hbmQgaXMgbm90IHVzZWQgd2l0aCBhIENvbXBvc2VyXENvbnNvbGVcQXBwbGljYXRpb24gaW5zdGFuY2UnCik7Cn0KfQoKcmV0dXJuICR0aGlzLT5jb21wb3NlcjsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIHNldENvbXBvc2VyKENvbXBvc2VyICRjb21wb3NlcikKewokdGhpcy0+Y29tcG9zZXIgPSAkY29tcG9zZXI7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiByZXNldENvbXBvc2VyKCkKewokdGhpcy0+Y29tcG9zZXIgPSBudWxsOwokdGhpcy0+Z2V0QXBwbGljYXRpb24oKS0+cmVzZXRDb21wb3NlcigpOwp9CgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIGlzUHJveHlDb21tYW5kKCkKewpyZXR1cm4gZmFsc2U7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBnZXRJTygpCnsKaWYgKG51bGwgPT09ICR0aGlzLT5pbykgewokYXBwbGljYXRpb24gPSAkdGhpcy0+Z2V0QXBwbGljYXRpb24oKTsKaWYgKCRhcHBsaWNhdGlvbiBpbnN0YW5jZW9mIEFwcGxpY2F0aW9uKSB7CgokdGhpcy0+aW8gPSAkYXBwbGljYXRpb24tPmdldElPKCk7Cn0gZWxzZSB7CiR0aGlzLT5pbyA9IG5ldyBOdWxsSU8oKTsKfQp9CgpyZXR1cm4gJHRoaXMtPmlvOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gc2V0SU8oSU9JbnRlcmZhY2UgJGlvKQp7CiR0aGlzLT5pbyA9ICRpbzsKfQoKCgoKcHJvdGVjdGVkIGZ1bmN0aW9uIGluaXRpYWxpemUoSW5wdXRJbnRlcmZhY2UgJGlucHV0LCBPdXRwdXRJbnRlcmZhY2UgJG91dHB1dCkKewoKJGRpc2FibGVQbHVnaW5zID0gJGlucHV0LT5oYXNQYXJhbWV0ZXJPcHRpb24oJy0tbm8tcGx1Z2lucycpOwokY29tcG9zZXIgPSAkdGhpcy0+Z2V0Q29tcG9zZXIoZmFsc2UsICRkaXNhYmxlUGx1Z2lucyk7CmlmIChudWxsID09PSAkY29tcG9zZXIpIHsKJGNvbXBvc2VyID0gRmFjdG9yeTo6Y3JlYXRlR2xvYmFsKCR0aGlzLT5nZXRJTygpLCAkZGlzYWJsZVBsdWdpbnMpOwp9CmlmICgkY29tcG9zZXIpIHsKJHByZUNvbW1hbmRSdW5FdmVudCA9IG5ldyBQcmVDb21tYW5kUnVuRXZlbnQoUGx1Z2luRXZlbnRzOjpQUkVfQ09NTUFORF9SVU4sICRpbnB1dCwgJHRoaXMtPmdldE5hbWUoKSk7CiRjb21wb3Nlci0+Z2V0RXZlbnREaXNwYXRjaGVyKCktPmRpc3BhdGNoKCRwcmVDb21tYW5kUnVuRXZlbnQtPmdldE5hbWUoKSwgJHByZUNvbW1hbmRSdW5FdmVudCk7Cn0KCmlmICh0cnVlID09PSAkaW5wdXQtPmhhc1BhcmFtZXRlck9wdGlvbihhcnJheSgnLS1uby1hbnNpJykpICYmICRpbnB1dC0+aGFzT3B0aW9uKCduby1wcm9ncmVzcycpKSB7CiRpbnB1dC0+c2V0T3B0aW9uKCduby1wcm9ncmVzcycsIHRydWUpOwp9CgpwYXJlbnQ6OmluaXRpYWxpemUoJGlucHV0LCAkb3V0cHV0KTsKfQoKCgoKCgoKCgoKcHJvdGVjdGVkIGZ1bmN0aW9uIGdldFByZWZlcnJlZEluc3RhbGxPcHRpb25zKENvbmZpZyAkY29uZmlnLCBJbnB1dEludGVyZmFjZSAkaW5wdXQsICRrZWVwVmNzUmVxdWlyZXNQcmVmZXJTb3VyY2UgPSBmYWxzZSkKewokcHJlZmVyU291cmNlID0gZmFsc2U7CiRwcmVmZXJEaXN0ID0gZmFsc2U7Cgpzd2l0Y2ggKCRjb25maWctPmdldCgncHJlZmVycmVkLWluc3RhbGwnKSkgewpjYXNlICdzb3VyY2UnOgokcHJlZmVyU291cmNlID0gdHJ1ZTsKYnJlYWs7CmNhc2UgJ2Rpc3QnOgokcHJlZmVyRGlzdCA9IHRydWU7CmJyZWFrOwpjYXNlICdhdXRvJzoKZGVmYXVsdDoKCmJyZWFrOwp9CgppZiAoJGlucHV0LT5oYXNPcHRpb24oJ3ByZWZlci1pbnN0YWxsJykgJiYgJGlucHV0LT5nZXRPcHRpb24oJ3ByZWZlci1pbnN0YWxsJykpIHsKaWYgKCRpbnB1dC0+Z2V0T3B0aW9uKCdwcmVmZXItc291cmNlJykpIHsKdGhyb3cgbmV3IFxJbnZhbGlkQXJndW1lbnRFeGNlcHRpb24oJy0tcHJlZmVyLXNvdXJjZSBjYW4gbm90IGJlIHVzZWQgdG9nZXRoZXIgd2l0aCAtLXByZWZlci1pbnN0YWxsJyk7Cn0KaWYgKCRpbnB1dC0+Z2V0T3B0aW9uKCdwcmVmZXItZGlzdCcpKSB7CnRocm93IG5ldyBcSW52YWxpZEFyZ3VtZW50RXhjZXB0aW9uKCctLXByZWZlci1kaXN0IGNhbiBub3QgYmUgdXNlZCB0b2dldGhlciB3aXRoIC0tcHJlZmVyLWluc3RhbGwnKTsKfQpzd2l0Y2ggKCRpbnB1dC0+Z2V0T3B0aW9uKCdwcmVmZXItaW5zdGFsbCcpKSB7CmNhc2UgJ2Rpc3QnOgokaW5wdXQtPnNldE9wdGlvbigncHJlZmVyLWRpc3QnLCB0cnVlKTsKYnJlYWs7CmNhc2UgJ3NvdXJjZSc6CiRpbnB1dC0+c2V0T3B0aW9uKCdwcmVmZXItc291cmNlJywgdHJ1ZSk7CmJyZWFrOwpjYXNlICdhdXRvJzoKJHByZWZlckRpc3QgPSBmYWxzZTsKJHByZWZlclNvdXJjZSA9IGZhbHNlOwpicmVhazsKZGVmYXVsdDoKdGhyb3cgbmV3IFxVbmV4cGVjdGVkVmFsdWVFeGNlcHRpb24oJy0tcHJlZmVyLWluc3RhbGwgYWNjZXB0cyBvbmUgb2YgImRpc3QiLCAic291cmNlIiBvciAiYXV0byIsIGdvdCAnLiRpbnB1dC0+Z2V0T3B0aW9uKCdwcmVmZXItaW5zdGFsbCcpKTsKfQp9CgppZiAoJGlucHV0LT5nZXRPcHRpb24oJ3ByZWZlci1zb3VyY2UnKSB8fCAkaW5wdXQtPmdldE9wdGlvbigncHJlZmVyLWRpc3QnKSB8fCAoJGtlZXBWY3NSZXF1aXJlc1ByZWZlclNvdXJjZSAmJiAkaW5wdXQtPmhhc09wdGlvbigna2VlcC12Y3MnKSAmJiAkaW5wdXQtPmdldE9wdGlvbigna2VlcC12Y3MnKSkpIHsKJHByZWZlclNvdXJjZSA9ICRpbnB1dC0+Z2V0T3B0aW9uKCdwcmVmZXItc291cmNlJykgfHwgKCRrZWVwVmNzUmVxdWlyZXNQcmVmZXJTb3VyY2UgJiYgJGlucHV0LT5oYXNPcHRpb24oJ2tlZXAtdmNzJykgJiYgJGlucHV0LT5nZXRPcHRpb24oJ2tlZXAtdmNzJykpOwokcHJlZmVyRGlzdCA9IChib29sKSAkaW5wdXQtPmdldE9wdGlvbigncHJlZmVyLWRpc3QnKTsKfQoKcmV0dXJuIGFycmF5KCRwcmVmZXJTb3VyY2UsICRwcmVmZXJEaXN0KTsKfQoKcHJvdGVjdGVkIGZ1bmN0aW9uIGZvcm1hdFJlcXVpcmVtZW50cyhhcnJheSAkcmVxdWlyZW1lbnRzKQp7CiRyZXF1aXJlcyA9IGFycmF5KCk7CiRyZXF1aXJlbWVudHMgPSAkdGhpcy0+bm9ybWFsaXplUmVxdWlyZW1lbnRzKCRyZXF1aXJlbWVudHMpOwpmb3JlYWNoICgkcmVxdWlyZW1lbnRzIGFzICRyZXF1aXJlbWVudCkgewppZiAoIWlzc2V0KCRyZXF1aXJlbWVudFsndmVyc2lvbiddKSkgewp0aHJvdyBuZXcgXFVuZXhwZWN0ZWRWYWx1ZUV4Y2VwdGlvbignT3B0aW9uICcuJHJlcXVpcmVtZW50WyduYW1lJ10gLicgaXMgbWlzc2luZyBhIHZlcnNpb24gY29uc3RyYWludCwgdXNlIGUuZy4gJy4kcmVxdWlyZW1lbnRbJ25hbWUnXS4nOl4xLjAnKTsKfQokcmVxdWlyZXNbJHJlcXVpcmVtZW50WyduYW1lJ11dID0gJHJlcXVpcmVtZW50Wyd2ZXJzaW9uJ107Cn0KCnJldHVybiAkcmVxdWlyZXM7Cn0KCnByb3RlY3RlZCBmdW5jdGlvbiBub3JtYWxpemVSZXF1aXJlbWVudHMoYXJyYXkgJHJlcXVpcmVtZW50cykKewokcGFyc2VyID0gbmV3IFZlcnNpb25QYXJzZXIoKTsKCnJldHVybiAkcGFyc2VyLT5wYXJzZU5hbWVWZXJzaW9uUGFpcnMoJHJlcXVpcmVtZW50cyk7Cn0KCnByb3RlY3RlZCBmdW5jdGlvbiByZW5kZXJUYWJsZShhcnJheSAkdGFibGUsIE91dHB1dEludGVyZmFjZSAkb3V0cHV0KQp7CiRyZW5kZXJlciA9IG5ldyBUYWJsZSgkb3V0cHV0KTsKJHJlbmRlcmVyLT5zZXRTdHlsZSgnY29tcGFjdCcpOwokcmVuZGVyZXJTdHlsZSA9ICRyZW5kZXJlci0+Z2V0U3R5bGUoKTsKaWYgKG1ldGhvZF9leGlzdHMoJHJlbmRlcmVyU3R5bGUsICdzZXRWZXJ0aWNhbEJvcmRlckNoYXJzJykpIHsKJHJlbmRlcmVyU3R5bGUtPnNldFZlcnRpY2FsQm9yZGVyQ2hhcnMoJycpOwp9IGVsc2UgewoKCiRyZW5kZXJlclN0eWxlLT5zZXRWZXJ0aWNhbEJvcmRlckNoYXIoJycpOwp9CiRyZW5kZXJlclN0eWxlLT5zZXRDZWxsUm93Q29udGVudEZvcm1hdCgnJXMgICcpOwokcmVuZGVyZXItPnNldFJvd3MoJHRhYmxlKS0+cmVuZGVyKCk7Cn0KCnByb3RlY3RlZCBmdW5jdGlvbiBnZXRUZXJtaW5hbFdpZHRoKCkKewppZiAoY2xhc3NfZXhpc3RzKCdTeW1mb255XENvbXBvbmVudFxDb25zb2xlXFRlcm1pbmFsJykpIHsKJHRlcm1pbmFsID0gbmV3IFRlcm1pbmFsKCk7CiR3aWR0aCA9ICR0ZXJtaW5hbC0+Z2V0V2lkdGgoKTsKfSBlbHNlIHsKCgoKbGlzdCgkd2lkdGgpID0gJHRoaXMtPmdldEFwcGxpY2F0aW9uKCktPmdldFRlcm1pbmFsRGltZW5zaW9ucygpOwp9CmlmIChudWxsID09PSAkd2lkdGgpIHsKCgokd2lkdGggPSBQSFBfSU5UX01BWDsKfQppZiAoUGxhdGZvcm06OmlzV2luZG93cygpKSB7CiR3aWR0aC0tOwp9IGVsc2Ugewokd2lkdGggPSBtYXgoODAsICR3aWR0aCk7Cn0KCnJldHVybiAkd2lkdGg7Cn0KfQo8P3BocAoKCgoKCgoKCgoKCm5hbWVzcGFjZSBDb21wb3NlclxDb21tYW5kOwoKdXNlIENvbXBvc2VyXFBhY2thZ2VcTGluazsKdXNlIENvbXBvc2VyXFBhY2thZ2VcUGFja2FnZUludGVyZmFjZTsKdXNlIENvbXBvc2VyXFBhY2thZ2VcUm9vdFBhY2thZ2U7CnVzZSBDb21wb3NlclxSZXBvc2l0b3J5XEluc3RhbGxlZEFycmF5UmVwb3NpdG9yeTsKdXNlIENvbXBvc2VyXFJlcG9zaXRvcnlcQ29tcG9zaXRlUmVwb3NpdG9yeTsKdXNlIENvbXBvc2VyXFJlcG9zaXRvcnlcUm9vdFBhY2thZ2VSZXBvc2l0b3J5Owp1c2UgQ29tcG9zZXJcUmVwb3NpdG9yeVxJbnN0YWxsZWRSZXBvc2l0b3J5Owp1c2UgQ29tcG9zZXJcUmVwb3NpdG9yeVxQbGF0Zm9ybVJlcG9zaXRvcnk7CnVzZSBDb21wb3NlclxSZXBvc2l0b3J5XFJlcG9zaXRvcnlGYWN0b3J5Owp1c2UgQ29tcG9zZXJcUGx1Z2luXENvbW1hbmRFdmVudDsKdXNlIENvbXBvc2VyXFBsdWdpblxQbHVnaW5FdmVudHM7CnVzZSBTeW1mb255XENvbXBvbmVudFxDb25zb2xlXEZvcm1hdHRlclxPdXRwdXRGb3JtYXR0ZXJTdHlsZTsKdXNlIENvbXBvc2VyXFBhY2thZ2VcVmVyc2lvblxWZXJzaW9uUGFyc2VyOwp1c2UgU3ltZm9ueVxDb21wb25lbnRcQ29uc29sZVxJbnB1dFxJbnB1dEludGVyZmFjZTsKdXNlIFN5bWZvbnlcQ29tcG9uZW50XENvbnNvbGVcT3V0cHV0XE91dHB1dEludGVyZmFjZTsKCgoKCgoKY2xhc3MgQmFzZURlcGVuZGVuY3lDb21tYW5kIGV4dGVuZHMgQmFzZUNvbW1hbmQKewpjb25zdCBBUkdVTUVOVF9QQUNLQUdFID0gJ3BhY2thZ2UnOwpjb25zdCBBUkdVTUVOVF9DT05TVFJBSU5UID0gJ3ZlcnNpb24nOwpjb25zdCBPUFRJT05fUkVDVVJTSVZFID0gJ3JlY3Vyc2l2ZSc7CmNvbnN0IE9QVElPTl9UUkVFID0gJ3RyZWUnOwoKcHJvdGVjdGVkICRjb2xvcnM7CgoKCgoKCgoKCnByb3RlY3RlZCBmdW5jdGlvbiBkb0V4ZWN1dGUoSW5wdXRJbnRlcmZhY2UgJGlucHV0LCBPdXRwdXRJbnRlcmZhY2UgJG91dHB1dCwgJGludmVydGVkID0gZmFsc2UpCnsKCiRjb21wb3NlciA9ICR0aGlzLT5nZXRDb21wb3NlcigpOwokY29tbWFuZEV2ZW50ID0gbmV3IENvbW1hbmRFdmVudChQbHVnaW5FdmVudHM6OkNPTU1BTkQsICR0aGlzLT5nZXROYW1lKCksICRpbnB1dCwgJG91dHB1dCk7CiRjb21wb3Nlci0+Z2V0RXZlbnREaXNwYXRjaGVyKCktPmRpc3BhdGNoKCRjb21tYW5kRXZlbnQtPmdldE5hbWUoKSwgJGNvbW1hbmRFdmVudCk7CgokcGxhdGZvcm1PdmVycmlkZXMgPSAkY29tcG9zZXItPmdldENvbmZpZygpLT5nZXQoJ3BsYXRmb3JtJykgPzogYXJyYXkoKTsKJGluc3RhbGxlZFJlcG8gPSBuZXcgSW5zdGFsbGVkUmVwb3NpdG9yeShhcnJheSgKbmV3IFJvb3RQYWNrYWdlUmVwb3NpdG9yeSgkY29tcG9zZXItPmdldFBhY2thZ2UoKSksCiRjb21wb3Nlci0+Z2V0UmVwb3NpdG9yeU1hbmFnZXIoKS0+Z2V0TG9jYWxSZXBvc2l0b3J5KCksCm5ldyBQbGF0Zm9ybVJlcG9zaXRvcnkoYXJyYXkoKSwgJHBsYXRmb3JtT3ZlcnJpZGVzKSwKKSk7CgoKbGlzdCgkbmVlZGxlLCAkdGV4dENvbnN0cmFpbnQpID0gYXJyYXlfcGFkKApleHBsb2RlKCc6JywgJGlucHV0LT5nZXRBcmd1bWVudChzZWxmOjpBUkdVTUVOVF9QQUNLQUdFKSksCjIsCiRpbnB1dC0+aGFzQXJndW1lbnQoc2VsZjo6QVJHVU1FTlRfQ09OU1RSQUlOVCkgPyAkaW5wdXQtPmdldEFyZ3VtZW50KHNlbGY6OkFSR1VNRU5UX0NPTlNUUkFJTlQpIDogJyonCik7CgoKJHBhY2thZ2VzID0gJGluc3RhbGxlZFJlcG8tPmZpbmRQYWNrYWdlc1dpdGhSZXBsYWNlcnNBbmRQcm92aWRlcnMoJG5lZWRsZSk7CmlmIChlbXB0eSgkcGFja2FnZXMpKSB7CnRocm93IG5ldyBcSW52YWxpZEFyZ3VtZW50RXhjZXB0aW9uKHNwcmludGYoJ0NvdWxkIG5vdCBmaW5kIHBhY2thZ2UgIiVzIiBpbiB5b3VyIHByb2plY3QnLCAkbmVlZGxlKSk7Cn0KCgoKaWYgKCEkaW5zdGFsbGVkUmVwby0+ZmluZFBhY2thZ2UoJG5lZWRsZSwgJHRleHRDb25zdHJhaW50KSkgewokZGVmYXVsdFJlcG9zID0gbmV3IENvbXBvc2l0ZVJlcG9zaXRvcnkoUmVwb3NpdG9yeUZhY3Rvcnk6OmRlZmF1bHRSZXBvcygkdGhpcy0+Z2V0SU8oKSkpOwppZiAoJG1hdGNoID0gJGRlZmF1bHRSZXBvcy0+ZmluZFBhY2thZ2UoJG5lZWRsZSwgJHRleHRDb25zdHJhaW50KSkgewokaW5zdGFsbGVkUmVwby0+YWRkUmVwb3NpdG9yeShuZXcgSW5zdGFsbGVkQXJyYXlSZXBvc2l0b3J5KGFycmF5KGNsb25lICRtYXRjaCkpKTsKfQp9CgoKJG5lZWRsZXMgPSBhcnJheSgkbmVlZGxlKTsKaWYgKCRpbnZlcnRlZCkgewpmb3JlYWNoICgkcGFja2FnZXMgYXMgJHBhY2thZ2UpIHsKJG5lZWRsZXMgPSBhcnJheV9tZXJnZSgkbmVlZGxlcywgYXJyYXlfbWFwKGZ1bmN0aW9uIChMaW5rICRsaW5rKSB7CnJldHVybiAkbGluay0+Z2V0VGFyZ2V0KCk7Cn0sICRwYWNrYWdlLT5nZXRSZXBsYWNlcygpKSk7Cn0KfQoKCmlmICgnKicgIT09ICR0ZXh0Q29uc3RyYWludCkgewokdmVyc2lvblBhcnNlciA9IG5ldyBWZXJzaW9uUGFyc2VyKCk7CiRjb25zdHJhaW50ID0gJHZlcnNpb25QYXJzZXItPnBhcnNlQ29uc3RyYWludHMoJHRleHRDb25zdHJhaW50KTsKfSBlbHNlIHsKJGNvbnN0cmFpbnQgPSBudWxsOwp9CgoKJHJlbmRlclRyZWUgPSAkaW5wdXQtPmdldE9wdGlvbihzZWxmOjpPUFRJT05fVFJFRSk7CiRyZWN1cnNpdmUgPSAkcmVuZGVyVHJlZSB8fCAkaW5wdXQtPmdldE9wdGlvbihzZWxmOjpPUFRJT05fUkVDVVJTSVZFKTsKCgokcmVzdWx0cyA9ICRpbnN0YWxsZWRSZXBvLT5nZXREZXBlbmRlbnRzKCRuZWVkbGVzLCAkY29uc3RyYWludCwgJGludmVydGVkLCAkcmVjdXJzaXZlKTsKaWYgKGVtcHR5KCRyZXN1bHRzKSkgewokZXh0cmEgPSAobnVsbCAhPT0gJGNvbnN0cmFpbnQpID8gc3ByaW50ZignIGluIHZlcnNpb25zICVzbWF0Y2hpbmcgJXMnLCAkaW52ZXJ0ZWQgPyAnbm90ICcgOiAnJywgJHRleHRDb25zdHJhaW50KSA6ICcnOwokdGhpcy0+Z2V0SU8oKS0+d3JpdGVFcnJvcihzcHJpbnRmKAonPGluZm8+VGhlcmUgaXMgbm8gaW5zdGFsbGVkIHBhY2thZ2UgZGVwZW5kaW5nIG9uICIlcyIlczwvaW5mbz4nLAokbmVlZGxlLAokZXh0cmEKKSk7Cn0gZWxzZWlmICgkcmVuZGVyVHJlZSkgewokdGhpcy0+aW5pdFN0eWxlcygkb3V0cHV0KTsKJHJvb3QgPSAkcGFja2FnZXNbMF07CiR0aGlzLT5nZXRJTygpLT53cml0ZShzcHJpbnRmKCc8aW5mbz4lczwvaW5mbz4gJXMgJXMnLCAkcm9vdC0+Z2V0UHJldHR5TmFtZSgpLCAkcm9vdC0+Z2V0UHJldHR5VmVyc2lvbigpLCAkcm9vdC0+Z2V0RGVzY3JpcHRpb24oKSkpOwokdGhpcy0+cHJpbnRUcmVlKCRyZXN1bHRzKTsKfSBlbHNlIHsKJHRoaXMtPnByaW50VGFibGUoJG91dHB1dCwgJHJlc3VsdHMpOwp9CgpyZXR1cm4gMDsKfQoKCgoKCgoKcHJvdGVjdGVkIGZ1bmN0aW9uIHByaW50VGFibGUoT3V0cHV0SW50ZXJmYWNlICRvdXRwdXQsICRyZXN1bHRzKQp7CiR0YWJsZSA9IGFycmF5KCk7CiRkb3VibGVzID0gYXJyYXkoKTsKZG8gewokcXVldWUgPSBhcnJheSgpOwokcm93cyA9IGFycmF5KCk7CmZvcmVhY2ggKCRyZXN1bHRzIGFzICRyZXN1bHQpIHsKCgoKCmxpc3QoJHBhY2thZ2UsICRsaW5rLCAkY2hpbGRyZW4pID0gJHJlc3VsdDsKJHVuaXF1ZSA9IChzdHJpbmcpICRsaW5rOwppZiAoaXNzZXQoJGRvdWJsZXNbJHVuaXF1ZV0pKSB7CmNvbnRpbnVlOwp9CiRkb3VibGVzWyR1bmlxdWVdID0gdHJ1ZTsKJHZlcnNpb24gPSAkcGFja2FnZS0+Z2V0UHJldHR5VmVyc2lvbigpID09PSBSb290UGFja2FnZTo6REVGQVVMVF9QUkVUVFlfVkVSU0lPTiA/ICctJyA6ICRwYWNrYWdlLT5nZXRQcmV0dHlWZXJzaW9uKCk7CiRyb3dzW10gPSBhcnJheSgkcGFja2FnZS0+Z2V0UHJldHR5TmFtZSgpLCAkdmVyc2lvbiwgJGxpbmstPmdldERlc2NyaXB0aW9uKCksIHNwcmludGYoJyVzICglcyknLCAkbGluay0+Z2V0VGFyZ2V0KCksICRsaW5rLT5nZXRQcmV0dHlDb25zdHJhaW50KCkpKTsKaWYgKCRjaGlsZHJlbikgewokcXVldWUgPSBhcnJheV9tZXJnZSgkcXVldWUsICRjaGlsZHJlbik7Cn0KfQokcmVzdWx0cyA9ICRxdWV1ZTsKJHRhYmxlID0gYXJyYXlfbWVyZ2UoJHJvd3MsICR0YWJsZSk7Cn0gd2hpbGUgKCFlbXB0eSgkcmVzdWx0cykpOwoKJHRoaXMtPnJlbmRlclRhYmxlKCR0YWJsZSwgJG91dHB1dCk7Cn0KCgoKCgoKcHJvdGVjdGVkIGZ1bmN0aW9uIGluaXRTdHlsZXMoT3V0cHV0SW50ZXJmYWNlICRvdXRwdXQpCnsKJHRoaXMtPmNvbG9ycyA9IGFycmF5KAonZ3JlZW4nLAoneWVsbG93JywKJ2N5YW4nLAonbWFnZW50YScsCidibHVlJywKKTsKCmZvcmVhY2ggKCR0aGlzLT5jb2xvcnMgYXMgJGNvbG9yKSB7CiRzdHlsZSA9IG5ldyBPdXRwdXRGb3JtYXR0ZXJTdHlsZSgkY29sb3IpOwokb3V0cHV0LT5nZXRGb3JtYXR0ZXIoKS0+c2V0U3R5bGUoJGNvbG9yLCAkc3R5bGUpOwp9Cn0KCgoKCgoKCgpwcm90ZWN0ZWQgZnVuY3Rpb24gcHJpbnRUcmVlKCRyZXN1bHRzLCAkcHJlZml4ID0gJycsICRsZXZlbCA9IDEpCnsKJGNvdW50ID0gY291bnQoJHJlc3VsdHMpOwokaWR4ID0gMDsKZm9yZWFjaCAoJHJlc3VsdHMgYXMgJHJlc3VsdCkgewoKCgoKCmxpc3QoJHBhY2thZ2UsICRsaW5rLCAkY2hpbGRyZW4pID0gJHJlc3VsdDsKCiRjb2xvciA9ICR0aGlzLT5jb2xvcnNbJGxldmVsICUgY291bnQoJHRoaXMtPmNvbG9ycyldOwokcHJldkNvbG9yID0gJHRoaXMtPmNvbG9yc1soJGxldmVsIC0gMSkgJSBjb3VudCgkdGhpcy0+Y29sb3JzKV07CiRpc0xhc3QgPSAoKyskaWR4ID09ICRjb3VudCk7CiR2ZXJzaW9uVGV4dCA9ICRwYWNrYWdlLT5nZXRQcmV0dHlWZXJzaW9uKCkgPT09IFJvb3RQYWNrYWdlOjpERUZBVUxUX1BSRVRUWV9WRVJTSU9OID8gJycgOiAkcGFja2FnZS0+Z2V0UHJldHR5VmVyc2lvbigpOwokcGFja2FnZVRleHQgPSBydHJpbShzcHJpbnRmKCc8JXM+JXM8LyUxJHM+ICVzJywgJGNvbG9yLCAkcGFja2FnZS0+Z2V0UHJldHR5TmFtZSgpLCAkdmVyc2lvblRleHQpKTsKJGxpbmtUZXh0ID0gc3ByaW50ZignJXMgPCVzPiVzPC8lMiRzPiAlcycsICRsaW5rLT5nZXREZXNjcmlwdGlvbigpLCAkcHJldkNvbG9yLCAkbGluay0+Z2V0VGFyZ2V0KCksICRsaW5rLT5nZXRQcmV0dHlDb25zdHJhaW50KCkpOwokY2lyY3VsYXJXYXJuID0gJGNoaWxkcmVuID09PSBmYWxzZSA/ICcoY2lyY3VsYXIgZGVwZW5kZW5jeSBhYm9ydGVkIGhlcmUpJyA6ICcnOwokdGhpcy0+d3JpdGVUcmVlTGluZShydHJpbShzcHJpbnRmKCIlcyVzJXMgKCVzKSAlcyIsICRwcmVmaXgsICRpc0xhc3QgPyAn4pSU4pSA4pSAJyA6ICfilJzilIDilIAnLCAkcGFja2FnZVRleHQsICRsaW5rVGV4dCwgJGNpcmN1bGFyV2FybikpKTsKaWYgKCRjaGlsZHJlbikgewokdGhpcy0+cHJpbnRUcmVlKCRjaGlsZHJlbiwgJHByZWZpeCAuICgkaXNMYXN0ID8gJyAgICcgOiAn4pSCICAnKSwgJGxldmVsICsgMSk7Cn0KfQp9Cgpwcml2YXRlIGZ1bmN0aW9uIHdyaXRlVHJlZUxpbmUoJGxpbmUpCnsKJGlvID0gJHRoaXMtPmdldElPKCk7CmlmICghJGlvLT5pc0RlY29yYXRlZCgpKSB7CiRsaW5lID0gc3RyX3JlcGxhY2UoYXJyYXkoJ+KUlCcsICfilJwnLCAn4pSA4pSAJywgJ+KUgicpLCBhcnJheSgnYC0nLCAnfC0nLCAnLScsICd8JyksICRsaW5lKTsKfQoKJGlvLT53cml0ZSgkbGluZSk7Cn0KfQo8P3BocAoKCgoKCgoKCgoKCm5hbWVzcGFjZSBDb21wb3NlclxDb21tYW5kOwoKdXNlIENvbXBvc2VyXFBhY2thZ2VcTGluazsKdXNlIENvbXBvc2VyXFNlbXZlclxDb25zdHJhaW50XENvbnN0cmFpbnQ7CnVzZSBTeW1mb255XENvbXBvbmVudFxDb25zb2xlXElucHV0XElucHV0SW50ZXJmYWNlOwp1c2UgU3ltZm9ueVxDb21wb25lbnRcQ29uc29sZVxJbnB1dFxJbnB1dE9wdGlvbjsKdXNlIFN5bWZvbnlcQ29tcG9uZW50XENvbnNvbGVcT3V0cHV0XE91dHB1dEludGVyZmFjZTsKdXNlIENvbXBvc2VyXFJlcG9zaXRvcnlcUGxhdGZvcm1SZXBvc2l0b3J5Owp1c2UgQ29tcG9zZXJcUmVwb3NpdG9yeVxSb290UGFja2FnZVJlcG9zaXRvcnk7CnVzZSBDb21wb3NlclxSZXBvc2l0b3J5XEluc3RhbGxlZFJlcG9zaXRvcnk7CgpjbGFzcyBDaGVja1BsYXRmb3JtUmVxc0NvbW1hbmQgZXh0ZW5kcyBCYXNlQ29tbWFuZAp7CnByb3RlY3RlZCBmdW5jdGlvbiBjb25maWd1cmUoKQp7CiR0aGlzLT5zZXROYW1lKCdjaGVjay1wbGF0Zm9ybS1yZXFzJykKLT5zZXREZXNjcmlwdGlvbignQ2hlY2sgdGhhdCBwbGF0Zm9ybSByZXF1aXJlbWVudHMgYXJlIHNhdGlzZmllZC4nKQotPnNldERlZmluaXRpb24oYXJyYXkoCm5ldyBJbnB1dE9wdGlvbignbm8tZGV2JywgbnVsbCwgSW5wdXRPcHRpb246OlZBTFVFX05PTkUsICdEaXNhYmxlcyBjaGVja2luZyBvZiByZXF1aXJlLWRldiBwYWNrYWdlcyByZXF1aXJlbWVudHMuJyksCm5ldyBJbnB1dE9wdGlvbignbG9jaycsIG51bGwsIElucHV0T3B0aW9uOjpWQUxVRV9OT05FLCAnQ2hlY2tzIHJlcXVpcmVtZW50cyBvbmx5IGZyb20gdGhlIGxvY2sgZmlsZSwgbm90IGZyb20gaW5zdGFsbGVkIHBhY2thZ2VzLicpLAopKQotPnNldEhlbHAoCjw8PEVPVApDaGVja3MgdGhhdCB5b3VyIFBIUCBhbmQgZXh0ZW5zaW9ucyB2ZXJzaW9ucyBtYXRjaCB0aGUgcGxhdGZvcm0gcmVxdWlyZW1lbnRzIG9mIHRoZSBpbnN0YWxsZWQgcGFja2FnZXMuCgpVbmxpa2UgdXBkYXRlL2luc3RhbGwsIHRoaXMgY29tbWFuZCB3aWxsIGlnbm9yZSBjb25maWcucGxhdGZvcm0gc2V0dGluZ3MgYW5kIGNoZWNrIHRoZSByZWFsIHBsYXRmb3JtIHBhY2thZ2VzIHNvIHlvdSBjYW4gYmUgY2VydGFpbiB5b3UgaGF2ZSB0aGUgcmVxdWlyZWQgcGxhdGZvcm0gZGVwZW5kZW5jaWVzLgoKPGluZm8+cGhwIGNvbXBvc2VyLnBoYXIgY2hlY2stcGxhdGZvcm0tcmVxczwvaW5mbz4KCkVPVAopOwp9Cgpwcm90ZWN0ZWQgZnVuY3Rpb24gZXhlY3V0ZShJbnB1dEludGVyZmFjZSAkaW5wdXQsIE91dHB1dEludGVyZmFjZSAkb3V0cHV0KQp7CiRjb21wb3NlciA9ICR0aGlzLT5nZXRDb21wb3NlcigpOwoKJHJlcXVpcmVzID0gYXJyYXkoKTsKJHJlbW92ZVBhY2thZ2VzID0gYXJyYXkoKTsKaWYgKCRpbnB1dC0+Z2V0T3B0aW9uKCdsb2NrJykpIHsKJHRoaXMtPmdldElPKCktPndyaXRlRXJyb3IoJzxpbmZvPkNoZWNraW5nICcuKCRpbnB1dC0+Z2V0T3B0aW9uKCduby1kZXYnKSA/ICdub24tZGV2ICcgOiAnJykuJ3BsYXRmb3JtIHJlcXVpcmVtZW50cyB1c2luZyB0aGUgbG9jayBmaWxlPC9pbmZvPicpOwokaW5zdGFsbGVkUmVwbyA9ICRjb21wb3Nlci0+Z2V0TG9ja2VyKCktPmdldExvY2tlZFJlcG9zaXRvcnkoISRpbnB1dC0+Z2V0T3B0aW9uKCduby1kZXYnKSk7Cn0gZWxzZSB7CiRpbnN0YWxsZWRSZXBvID0gJGNvbXBvc2VyLT5nZXRSZXBvc2l0b3J5TWFuYWdlcigpLT5nZXRMb2NhbFJlcG9zaXRvcnkoKTsKCmlmICghJGluc3RhbGxlZFJlcG8tPmdldFBhY2thZ2VzKCkpIHsKJHRoaXMtPmdldElPKCktPndyaXRlRXJyb3IoJzx3YXJuaW5nPk5vIHZlbmRvciBkaXIgcHJlc2VudCwgY2hlY2tpbmcgJy4oJGlucHV0LT5nZXRPcHRpb24oJ25vLWRldicpID8gJ25vbi1kZXYgJyA6ICcnKS4ncGxhdGZvcm0gcmVxdWlyZW1lbnRzIGZyb20gdGhlIGxvY2sgZmlsZTwvd2FybmluZz4nKTsKJGluc3RhbGxlZFJlcG8gPSAkY29tcG9zZXItPmdldExvY2tlcigpLT5nZXRMb2NrZWRSZXBvc2l0b3J5KCEkaW5wdXQtPmdldE9wdGlvbignbm8tZGV2JykpOwp9IGVsc2UgewppZiAoJGlucHV0LT5nZXRPcHRpb24oJ25vLWRldicpKSB7CiRyZW1vdmVQYWNrYWdlcyA9ICRpbnN0YWxsZWRSZXBvLT5nZXREZXZQYWNrYWdlTmFtZXMoKTsKfQoKJHRoaXMtPmdldElPKCktPndyaXRlRXJyb3IoJzxpbmZvPkNoZWNraW5nICcuKCRpbnB1dC0+Z2V0T3B0aW9uKCduby1kZXYnKSA/ICdub24tZGV2ICcgOiAnJykuJ3BsYXRmb3JtIHJlcXVpcmVtZW50cyBmb3IgcGFja2FnZXMgaW4gdGhlIHZlbmRvciBkaXI8L2luZm8+Jyk7Cn0KfQppZiAoISRpbnB1dC0+Z2V0T3B0aW9uKCduby1kZXYnKSkgewokcmVxdWlyZXMgKz0gJGNvbXBvc2VyLT5nZXRQYWNrYWdlKCktPmdldERldlJlcXVpcmVzKCk7Cn0KCmZvcmVhY2ggKCRyZXF1aXJlcyBhcyAkcmVxdWlyZSA9PiAkbGluaykgewokcmVxdWlyZXNbJHJlcXVpcmVdID0gYXJyYXkoJGxpbmspOwp9CgokaW5zdGFsbGVkUmVwbyA9IG5ldyBJbnN0YWxsZWRSZXBvc2l0b3J5KGFycmF5KCRpbnN0YWxsZWRSZXBvLCBuZXcgUm9vdFBhY2thZ2VSZXBvc2l0b3J5KCRjb21wb3Nlci0+Z2V0UGFja2FnZSgpKSkpOwpmb3JlYWNoICgkaW5zdGFsbGVkUmVwby0+Z2V0UGFja2FnZXMoKSBhcyAkcGFja2FnZSkgewppZiAoaW5fYXJyYXkoJHBhY2thZ2UtPmdldE5hbWUoKSwgJHJlbW92ZVBhY2thZ2VzLCB0cnVlKSkgewpjb250aW51ZTsKfQpmb3JlYWNoICgkcGFja2FnZS0+Z2V0UmVxdWlyZXMoKSBhcyAkcmVxdWlyZSA9PiAkbGluaykgewokcmVxdWlyZXNbJHJlcXVpcmVdW10gPSAkbGluazsKfQp9Cgprc29ydCgkcmVxdWlyZXMpOwoKJGluc3RhbGxlZFJlcG8tPmFkZFJlcG9zaXRvcnkobmV3IFBsYXRmb3JtUmVwb3NpdG9yeShhcnJheSgpLCBhcnJheSgpKSk7CgokcmVzdWx0cyA9IGFycmF5KCk7CiRleGl0Q29kZSA9IDA7CgoKCgpmb3JlYWNoICgkcmVxdWlyZXMgYXMgJHJlcXVpcmUgPT4gJGxpbmtzKSB7CmlmIChQbGF0Zm9ybVJlcG9zaXRvcnk6OmlzUGxhdGZvcm1QYWNrYWdlKCRyZXF1aXJlKSkgewokY2FuZGlkYXRlcyA9ICRpbnN0YWxsZWRSZXBvLT5maW5kUGFja2FnZXNXaXRoUmVwbGFjZXJzQW5kUHJvdmlkZXJzKCRyZXF1aXJlKTsKaWYgKCRjYW5kaWRhdGVzKSB7CiRyZXFSZXN1bHRzID0gYXJyYXkoKTsKZm9yZWFjaCAoJGNhbmRpZGF0ZXMgYXMgJGNhbmRpZGF0ZSkgewokY2FuZGlkYXRlQ29uc3RyYWludCA9IG51bGw7CmlmICgkY2FuZGlkYXRlLT5nZXROYW1lKCkgPT09ICRyZXF1aXJlKSB7CiRjYW5kaWRhdGVDb25zdHJhaW50ID0gbmV3IENvbnN0cmFpbnQoJz0nLCAkY2FuZGlkYXRlLT5nZXRWZXJzaW9uKCkpOwokY2FuZGlkYXRlQ29uc3RyYWludC0+c2V0UHJldHR5U3RyaW5nKCRjYW5kaWRhdGUtPmdldFByZXR0eVZlcnNpb24oKSk7Cn0gZWxzZSB7CmZvcmVhY2ggKGFycmF5X21lcmdlKCRjYW5kaWRhdGUtPmdldFByb3ZpZGVzKCksICRjYW5kaWRhdGUtPmdldFJlcGxhY2VzKCkpIGFzICRsaW5rKSB7CmlmICgkbGluay0+Z2V0VGFyZ2V0KCkgPT09ICRyZXF1aXJlKSB7CiRjYW5kaWRhdGVDb25zdHJhaW50ID0gJGxpbmstPmdldENvbnN0cmFpbnQoKTsKYnJlYWs7Cn0KfQp9CgoKaWYgKCEkY2FuZGlkYXRlQ29uc3RyYWludCkgewpjb250aW51ZTsKfQoKZm9yZWFjaCAoJGxpbmtzIGFzICRsaW5rKSB7CmlmICghJGxpbmstPmdldENvbnN0cmFpbnQoKS0+bWF0Y2hlcygkY2FuZGlkYXRlQ29uc3RyYWludCkpIHsKJHJlcVJlc3VsdHNbXSA9IGFycmF5KAokY2FuZGlkYXRlLT5nZXROYW1lKCkgPT09ICRyZXF1aXJlID8gJGNhbmRpZGF0ZS0+Z2V0UHJldHR5TmFtZSgpIDogJHJlcXVpcmUsCiRjYW5kaWRhdGVDb25zdHJhaW50LT5nZXRQcmV0dHlTdHJpbmcoKSwKJGxpbmssCic8ZXJyb3I+ZmFpbGVkPC9lcnJvcj4nLigkY2FuZGlkYXRlLT5nZXROYW1lKCkgPT09ICRyZXF1aXJlID8gJycgOiAnIDxjb21tZW50PnByb3ZpZGVkIGJ5ICcuJGNhbmRpZGF0ZS0+Z2V0UHJldHR5TmFtZSgpLic8L2NvbW1lbnQ+JyksCik7CgoKY29udGludWUgMjsKfQp9CgokcmVzdWx0c1tdID0gYXJyYXkoCiRjYW5kaWRhdGUtPmdldE5hbWUoKSA9PT0gJHJlcXVpcmUgPyAkY2FuZGlkYXRlLT5nZXRQcmV0dHlOYW1lKCkgOiAkcmVxdWlyZSwKJGNhbmRpZGF0ZUNvbnN0cmFpbnQtPmdldFByZXR0eVN0cmluZygpLApudWxsLAonPGluZm8+c3VjY2VzczwvaW5mbz4nLigkY2FuZGlkYXRlLT5nZXROYW1lKCkgPT09ICRyZXF1aXJlID8gJycgOiAnIDxjb21tZW50PnByb3ZpZGVkIGJ5ICcuJGNhbmRpZGF0ZS0+Z2V0UHJldHR5TmFtZSgpLic8L2NvbW1lbnQ+JyksCik7CgoKY29udGludWUgMjsKfQoKCiRyZXN1bHRzID0gYXJyYXlfbWVyZ2UoJHJlc3VsdHMsICRyZXFSZXN1bHRzKTsKJGV4aXRDb2RlID0gbWF4KCRleGl0Q29kZSwgMSk7Cgpjb250aW51ZTsKfQoKJHJlc3VsdHNbXSA9IGFycmF5KAokcmVxdWlyZSwKJ24vYScsCiRsaW5rc1swXSwKJzxlcnJvcj5taXNzaW5nPC9lcnJvcj4nLAopOwoKJGV4aXRDb2RlID0gbWF4KCRleGl0Q29kZSwgMik7Cn0KfQoKJHRoaXMtPnByaW50VGFibGUoJG91dHB1dCwgJHJlc3VsdHMpOwoKcmV0dXJuICRleGl0Q29kZTsKfQoKcHJvdGVjdGVkIGZ1bmN0aW9uIHByaW50VGFibGUoT3V0cHV0SW50ZXJmYWNlICRvdXRwdXQsICRyZXN1bHRzKQp7CiRyb3dzID0gYXJyYXkoKTsKZm9yZWFjaCAoJHJlc3VsdHMgYXMgJHJlc3VsdCkgewoKCgpsaXN0KCRwbGF0Zm9ybVBhY2thZ2UsICR2ZXJzaW9uLCAkbGluaywgJHN0YXR1cykgPSAkcmVzdWx0Owokcm93c1tdID0gYXJyYXkoCiRwbGF0Zm9ybVBhY2thZ2UsCiR2ZXJzaW9uLAokbGluayA/IHNwcmludGYoJyVzICVzICVzICglcyknLCAkbGluay0+Z2V0U291cmNlKCksICRsaW5rLT5nZXREZXNjcmlwdGlvbigpLCAkbGluay0+Z2V0VGFyZ2V0KCksICRsaW5rLT5nZXRQcmV0dHlDb25zdHJhaW50KCkpIDogJycsCiRzdGF0dXMsCik7Cn0KCiR0aGlzLT5yZW5kZXJUYWJsZSgkcm93cywgJG91dHB1dCk7Cn0KfQo8P3BocAoKCgoKCgoKCgoKCm5hbWVzcGFjZSBDb21wb3NlclxDb21tYW5kOwoKdXNlIENvbXBvc2VyXENhY2hlOwp1c2UgQ29tcG9zZXJcRmFjdG9yeTsKdXNlIFN5bWZvbnlcQ29tcG9uZW50XENvbnNvbGVcSW5wdXRcSW5wdXRJbnRlcmZhY2U7CnVzZSBTeW1mb255XENvbXBvbmVudFxDb25zb2xlXE91dHB1dFxPdXRwdXRJbnRlcmZhY2U7CgoKCgpjbGFzcyBDbGVhckNhY2hlQ29tbWFuZCBleHRlbmRzIEJhc2VDb21tYW5kCnsKcHJvdGVjdGVkIGZ1bmN0aW9uIGNvbmZpZ3VyZSgpCnsKJHRoaXMKLT5zZXROYW1lKCdjbGVhci1jYWNoZScpCi0+c2V0QWxpYXNlcyhhcnJheSgnY2xlYXJjYWNoZScsICdjYycpKQotPnNldERlc2NyaXB0aW9uKCdDbGVhcnMgY29tcG9zZXJcJ3MgaW50ZXJuYWwgcGFja2FnZSBjYWNoZS4nKQotPnNldEhlbHAoCjw8PEVPVApUaGUgPGluZm8+Y2xlYXItY2FjaGU8L2luZm8+IGRlbGV0ZXMgYWxsIGNhY2hlZCBwYWNrYWdlcyBmcm9tIGNvbXBvc2VyJ3MKY2FjaGUgZGlyZWN0b3J5LgoKUmVhZCBtb3JlIGF0IGh0dHBzOi8vZ2V0Y29tcG9zZXIub3JnL2RvYy8wMy1jbGkubWQjY2xlYXItY2FjaGUtY2xlYXJjYWNoZS1jYwpFT1QKKQo7Cn0KCnByb3RlY3RlZCBmdW5jdGlvbiBleGVjdXRlKElucHV0SW50ZXJmYWNlICRpbnB1dCwgT3V0cHV0SW50ZXJmYWNlICRvdXRwdXQpCnsKJGNvbmZpZyA9IEZhY3Rvcnk6OmNyZWF0ZUNvbmZpZygpOwokaW8gPSAkdGhpcy0+Z2V0SU8oKTsKCiRjYWNoZVBhdGhzID0gYXJyYXkoCidjYWNoZS12Y3MtZGlyJyA9PiAkY29uZmlnLT5nZXQoJ2NhY2hlLXZjcy1kaXInKSwKJ2NhY2hlLXJlcG8tZGlyJyA9PiAkY29uZmlnLT5nZXQoJ2NhY2hlLXJlcG8tZGlyJyksCidjYWNoZS1maWxlcy1kaXInID0+ICRjb25maWctPmdldCgnY2FjaGUtZmlsZXMtZGlyJyksCidjYWNoZS1kaXInID0+ICRjb25maWctPmdldCgnY2FjaGUtZGlyJyksCik7Cgpmb3JlYWNoICgkY2FjaGVQYXRocyBhcyAka2V5ID0+ICRjYWNoZVBhdGgpIHsKJGNhY2hlUGF0aCA9IHJlYWxwYXRoKCRjYWNoZVBhdGgpOwppZiAoISRjYWNoZVBhdGgpIHsKJGlvLT53cml0ZUVycm9yKCI8aW5mbz5DYWNoZSBkaXJlY3RvcnkgZG9lcyBub3QgZXhpc3QgKCRrZXkpOiAkY2FjaGVQYXRoPC9pbmZvPiIpOwoKY29udGludWU7Cn0KJGNhY2hlID0gbmV3IENhY2hlKCRpbywgJGNhY2hlUGF0aCk7CiRjYWNoZS0+c2V0UmVhZE9ubHkoJGNvbmZpZy0+Z2V0KCdjYWNoZS1yZWFkLW9ubHknKSk7CmlmICghJGNhY2hlLT5pc0VuYWJsZWQoKSkgewokaW8tPndyaXRlRXJyb3IoIjxpbmZvPkNhY2hlIGlzIG5vdCBlbmFibGVkICgka2V5KTogJGNhY2hlUGF0aDwvaW5mbz4iKTsKCmNvbnRpbnVlOwp9CgokaW8tPndyaXRlRXJyb3IoIjxpbmZvPkNsZWFyaW5nIGNhY2hlICgka2V5KTogJGNhY2hlUGF0aDwvaW5mbz4iKTsKJGNhY2hlLT5jbGVhcigpOwp9CgokaW8tPndyaXRlRXJyb3IoJzxpbmZvPkFsbCBjYWNoZXMgY2xlYXJlZC48L2luZm8+Jyk7CgpyZXR1cm4gMDsKfQp9Cjw/cGhwCgoKCgoKCgoKCgoKbmFtZXNwYWNlIENvbXBvc2VyXENvbW1hbmQ7Cgp1c2UgQ29tcG9zZXJcVXRpbFxGaWxlc3lzdGVtOwp1c2UgQ29tcG9zZXJcVXRpbFxQbGF0Zm9ybTsKdXNlIENvbXBvc2VyXFV0aWxcU2lsZW5jZXI7CnVzZSBTeW1mb255XENvbXBvbmVudFxDb25zb2xlXElucHV0XElucHV0SW50ZXJmYWNlOwp1c2UgU3ltZm9ueVxDb21wb25lbnRcQ29uc29sZVxJbnB1dFxJbnB1dEFyZ3VtZW50Owp1c2UgU3ltZm9ueVxDb21wb25lbnRcQ29uc29sZVxJbnB1dFxJbnB1dE9wdGlvbjsKdXNlIFN5bWZvbnlcQ29tcG9uZW50XENvbnNvbGVcT3V0cHV0XE91dHB1dEludGVyZmFjZTsKdXNlIENvbXBvc2VyXENvbmZpZzsKdXNlIENvbXBvc2VyXENvbmZpZ1xKc29uQ29uZmlnU291cmNlOwp1c2UgQ29tcG9zZXJcRmFjdG9yeTsKdXNlIENvbXBvc2VyXElPXElPSW50ZXJmYWNlOwp1c2UgQ29tcG9zZXJcSnNvblxKc29uRmlsZTsKdXNlIENvbXBvc2VyXFNlbXZlclxWZXJzaW9uUGFyc2VyOwp1c2UgQ29tcG9zZXJcUGFja2FnZVxCYXNlUGFja2FnZTsKCgoKCgpjbGFzcyBDb25maWdDb21tYW5kIGV4dGVuZHMgQmFzZUNvbW1hbmQKewoKCgpwcm90ZWN0ZWQgJGNvbmZpZzsKCgoKCnByb3RlY3RlZCAkY29uZmlnRmlsZTsKCgoKCnByb3RlY3RlZCAkY29uZmlnU291cmNlOwoKCgoKcHJvdGVjdGVkICRhdXRoQ29uZmlnRmlsZTsKCgoKCnByb3RlY3RlZCAkYXV0aENvbmZpZ1NvdXJjZTsKCgoKCnByb3RlY3RlZCBmdW5jdGlvbiBjb25maWd1cmUoKQp7CiR0aGlzCi0+c2V0TmFtZSgnY29uZmlnJykKLT5zZXREZXNjcmlwdGlvbignU2V0cyBjb25maWcgb3B0aW9ucy4nKQotPnNldERlZmluaXRpb24oYXJyYXkoCm5ldyBJbnB1dE9wdGlvbignZ2xvYmFsJywgJ2cnLCBJbnB1dE9wdGlvbjo6VkFMVUVfTk9ORSwgJ0FwcGx5IGNvbW1hbmQgdG8gdGhlIGdsb2JhbCBjb25maWcgZmlsZScpLApuZXcgSW5wdXRPcHRpb24oJ2VkaXRvcicsICdlJywgSW5wdXRPcHRpb246OlZBTFVFX05PTkUsICdPcGVuIGVkaXRvcicpLApuZXcgSW5wdXRPcHRpb24oJ2F1dGgnLCAnYScsIElucHV0T3B0aW9uOjpWQUxVRV9OT05FLCAnQWZmZWN0IGF1dGggY29uZmlnIGZpbGUgKG9ubHkgdXNlZCBmb3IgLS1lZGl0b3IpJyksCm5ldyBJbnB1dE9wdGlvbigndW5zZXQnLCBudWxsLCBJbnB1dE9wdGlvbjo6VkFMVUVfTk9ORSwgJ1Vuc2V0IHRoZSBnaXZlbiBzZXR0aW5nLWtleScpLApuZXcgSW5wdXRPcHRpb24oJ2xpc3QnLCAnbCcsIElucHV0T3B0aW9uOjpWQUxVRV9OT05FLCAnTGlzdCBjb25maWd1cmF0aW9uIHNldHRpbmdzJyksCm5ldyBJbnB1dE9wdGlvbignZmlsZScsICdmJywgSW5wdXRPcHRpb246OlZBTFVFX1JFUVVJUkVELCAnSWYgeW91IHdhbnQgdG8gY2hvb3NlIGEgZGlmZmVyZW50IGNvbXBvc2VyLmpzb24gb3IgY29uZmlnLmpzb24nKSwKbmV3IElucHV0T3B0aW9uKCdhYnNvbHV0ZScsIG51bGwsIElucHV0T3B0aW9uOjpWQUxVRV9OT05FLCAnUmV0dXJucyBhYnNvbHV0ZSBwYXRocyB3aGVuIGZldGNoaW5nICotZGlyIGNvbmZpZyB2YWx1ZXMgaW5zdGVhZCBvZiByZWxhdGl2ZScpLApuZXcgSW5wdXRPcHRpb24oJ2pzb24nLCAnaicsIElucHV0T3B0aW9uOjpWQUxVRV9OT05FLCAnSlNPTiBkZWNvZGUgdGhlIHNldHRpbmcgdmFsdWUsIHRvIGJlIHVzZWQgd2l0aCBleHRyYS4qIGtleXMnKSwKbmV3IElucHV0T3B0aW9uKCdtZXJnZScsICdtJywgSW5wdXRPcHRpb246OlZBTFVFX05PTkUsICdNZXJnZSB0aGUgc2V0dGluZyB2YWx1ZSB3aXRoIHRoZSBjdXJyZW50IHZhbHVlLCB0byBiZSB1c2VkIHdpdGggZXh0cmEuKiBrZXlzIGluIGNvbWJpbmF0aW9uIHdpdGggLS1qc29uJyksCm5ldyBJbnB1dE9wdGlvbignYXBwZW5kJywgbnVsbCwgSW5wdXRPcHRpb246OlZBTFVFX05PTkUsICdXaGVuIGFkZGluZyBhIHJlcG9zaXRvcnksIGFwcGVuZCBpdCAobG93ZXN0IHByaW9yaXR5KSB0byB0aGUgZXhpc3Rpbmcgb25lcyBpbnN0ZWFkIG9mIHByZXBlbmRpbmcgaXQgKGhpZ2hlc3QgcHJpb3JpdHkpJyksCm5ldyBJbnB1dEFyZ3VtZW50KCdzZXR0aW5nLWtleScsIG51bGwsICdTZXR0aW5nIGtleScpLApuZXcgSW5wdXRBcmd1bWVudCgnc2V0dGluZy12YWx1ZScsIElucHV0QXJndW1lbnQ6OklTX0FSUkFZLCAnU2V0dGluZyB2YWx1ZScpLAopKQotPnNldEhlbHAoCjw8PEVPVApUaGlzIGNvbW1hbmQgYWxsb3dzIHlvdSB0byBlZGl0IGNvbXBvc2VyIGNvbmZpZyBzZXR0aW5ncyBhbmQgcmVwb3NpdG9yaWVzCmluIGVpdGhlciB0aGUgbG9jYWwgY29tcG9zZXIuanNvbiBmaWxlIG9yIHRoZSBnbG9iYWwgY29uZmlnLmpzb24gZmlsZS4KCkFkZGl0aW9uYWxseSBpdCBsZXRzIHlvdSBlZGl0IG1vc3QgcHJvcGVydGllcyBpbiB0aGUgbG9jYWwgY29tcG9zZXIuanNvbi4KClRvIHNldCBhIGNvbmZpZyBzZXR0aW5nOgoKICAgIDxjb21tZW50PiVjb21tYW5kLmZ1bGxfbmFtZSUgYmluLWRpciBiaW4vPC9jb21tZW50PgoKVG8gcmVhZCBhIGNvbmZpZyBzZXR0aW5nOgoKICAgIDxjb21tZW50PiVjb21tYW5kLmZ1bGxfbmFtZSUgYmluLWRpcjwvY29tbWVudD4KICAgIE91dHB1dHM6IDxpbmZvPmJpbjwvaW5mbz4KClRvIGVkaXQgdGhlIGdsb2JhbCBjb25maWcuanNvbiBmaWxlOgoKICAgIDxjb21tZW50PiVjb21tYW5kLmZ1bGxfbmFtZSUgLS1nbG9iYWw8L2NvbW1lbnQ+CgpUbyBhZGQgYSByZXBvc2l0b3J5OgoKICAgIDxjb21tZW50PiVjb21tYW5kLmZ1bGxfbmFtZSUgcmVwb3NpdG9yaWVzLmZvbyB2Y3MgaHR0cHM6Ly9iYXIuY29tPC9jb21tZW50PgoKVG8gcmVtb3ZlIGEgcmVwb3NpdG9yeSAocmVwbyBpcyBhIHNob3J0IGFsaWFzIGZvciByZXBvc2l0b3JpZXMpOgoKICAgIDxjb21tZW50PiVjb21tYW5kLmZ1bGxfbmFtZSUgLS11bnNldCByZXBvLmZvbzwvY29tbWVudD4KClRvIGRpc2FibGUgcGFja2FnaXN0OgoKICAgIDxjb21tZW50PiVjb21tYW5kLmZ1bGxfbmFtZSUgcmVwby5wYWNrYWdpc3QgZmFsc2U8L2NvbW1lbnQ+CgpZb3UgY2FuIGFsdGVyIHJlcG9zaXRvcmllcyBpbiB0aGUgZ2xvYmFsIGNvbmZpZy5qc29uIGZpbGUgYnkgcGFzc2luZyBpbiB0aGUKPGluZm8+LS1nbG9iYWw8L2luZm8+IG9wdGlvbi4KClRvIGFkZCBvciBlZGl0IHN1Z2dlc3RlZCBwYWNrYWdlcyB5b3UgY2FuIHVzZToKCiAgICA8Y29tbWVudD4lY29tbWFuZC5mdWxsX25hbWUlIHN1Z2dlc3QucGFja2FnZSByZWFzb24gZm9yIHRoZSBzdWdnZXN0aW9uPC9jb21tZW50PgoKVG8gYWRkIG9yIGVkaXQgZXh0cmEgcHJvcGVydGllcyB5b3UgY2FuIHVzZToKCiAgICA8Y29tbWVudD4lY29tbWFuZC5mdWxsX25hbWUlIGV4dHJhLnByb3BlcnR5IHZhbHVlPC9jb21tZW50PgoKT3IgdG8gYWRkIGEgY29tcGxleCB2YWx1ZSB5b3UgY2FuIHVzZSBqc29uIHdpdGg6CgogICAgPGNvbW1lbnQ+JWNvbW1hbmQuZnVsbF9uYW1lJSBleHRyYS5wcm9wZXJ0eSAtLWpzb24gJ3siZm9vIjp0cnVlLCAiYmFyIjogW119JzwvY29tbWVudD4KClRvIGVkaXQgdGhlIGZpbGUgaW4gYW4gZXh0ZXJuYWwgZWRpdG9yOgoKICAgIDxjb21tZW50PiVjb21tYW5kLmZ1bGxfbmFtZSUgLS1lZGl0b3I8L2NvbW1lbnQ+CgpUbyBjaG9vc2UgeW91ciBlZGl0b3IgeW91IGNhbiBzZXQgdGhlICJFRElUT1IiIGVudiB2YXJpYWJsZS4KClRvIGdldCBhIGxpc3Qgb2YgY29uZmlndXJhdGlvbiB2YWx1ZXMgaW4gdGhlIGZpbGU6CgogICAgPGNvbW1lbnQ+JWNvbW1hbmQuZnVsbF9uYW1lJSAtLWxpc3Q8L2NvbW1lbnQ+CgpZb3UgY2FuIGFsd2F5cyBwYXNzIG1vcmUgdGhhbiBvbmUgb3B0aW9uLiBBcyBhbiBleGFtcGxlLCBpZiB5b3Ugd2FudCB0byBlZGl0IHRoZQpnbG9iYWwgY29uZmlnLmpzb24gZmlsZS4KCiAgICA8Y29tbWVudD4lY29tbWFuZC5mdWxsX25hbWUlIC0tZWRpdG9yIC0tZ2xvYmFsPC9jb21tZW50PgoKUmVhZCBtb3JlIGF0IGh0dHBzOi8vZ2V0Y29tcG9zZXIub3JnL2RvYy8wMy1jbGkubWQjY29uZmlnCkVPVAopCjsKfQoKCgoKcHJvdGVjdGVkIGZ1bmN0aW9uIGluaXRpYWxpemUoSW5wdXRJbnRlcmZhY2UgJGlucHV0LCBPdXRwdXRJbnRlcmZhY2UgJG91dHB1dCkKewpwYXJlbnQ6OmluaXRpYWxpemUoJGlucHV0LCAkb3V0cHV0KTsKCmlmICgkaW5wdXQtPmdldE9wdGlvbignZ2xvYmFsJykgJiYgbnVsbCAhPT0gJGlucHV0LT5nZXRPcHRpb24oJ2ZpbGUnKSkgewp0aHJvdyBuZXcgXFJ1bnRpbWVFeGNlcHRpb24oJy0tZmlsZSBhbmQgLS1nbG9iYWwgY2FuIG5vdCBiZSBjb21iaW5lZCcpOwp9CgokaW8gPSAkdGhpcy0+Z2V0SU8oKTsKJHRoaXMtPmNvbmZpZyA9IEZhY3Rvcnk6OmNyZWF0ZUNvbmZpZygkaW8pOwoKCgokY29uZmlnRmlsZSA9ICRpbnB1dC0+Z2V0T3B0aW9uKCdnbG9iYWwnKQo/ICgkdGhpcy0+Y29uZmlnLT5nZXQoJ2hvbWUnKSAuICcvY29uZmlnLmpzb24nKQo6ICgkaW5wdXQtPmdldE9wdGlvbignZmlsZScpID86IEZhY3Rvcnk6OmdldENvbXBvc2VyRmlsZSgpKTsKCgppZiAoCigkY29uZmlnRmlsZSA9PT0gJ2NvbXBvc2VyLmpzb24nIHx8ICRjb25maWdGaWxlID09PSAnLi9jb21wb3Nlci5qc29uJykKJiYgIWZpbGVfZXhpc3RzKCRjb25maWdGaWxlKQomJiByZWFscGF0aChnZXRjd2QoKSkgPT09IHJlYWxwYXRoKCR0aGlzLT5jb25maWctPmdldCgnaG9tZScpKQopIHsKZmlsZV9wdXRfY29udGVudHMoJGNvbmZpZ0ZpbGUsICJ7XG59XG4iKTsKfQoKJHRoaXMtPmNvbmZpZ0ZpbGUgPSBuZXcgSnNvbkZpbGUoJGNvbmZpZ0ZpbGUsIG51bGwsICRpbyk7CiR0aGlzLT5jb25maWdTb3VyY2UgPSBuZXcgSnNvbkNvbmZpZ1NvdXJjZSgkdGhpcy0+Y29uZmlnRmlsZSk7CgokYXV0aENvbmZpZ0ZpbGUgPSAkaW5wdXQtPmdldE9wdGlvbignZ2xvYmFsJykKPyAoJHRoaXMtPmNvbmZpZy0+Z2V0KCdob21lJykgLiAnL2F1dGguanNvbicpCjogZGlybmFtZShyZWFscGF0aCgkY29uZmlnRmlsZSkpIC4gJy9hdXRoLmpzb24nOwoKJHRoaXMtPmF1dGhDb25maWdGaWxlID0gbmV3IEpzb25GaWxlKCRhdXRoQ29uZmlnRmlsZSwgbnVsbCwgJGlvKTsKJHRoaXMtPmF1dGhDb25maWdTb3VyY2UgPSBuZXcgSnNvbkNvbmZpZ1NvdXJjZSgkdGhpcy0+YXV0aENvbmZpZ0ZpbGUsIHRydWUpOwoKCmlmICgkaW5wdXQtPmdldE9wdGlvbignZ2xvYmFsJykgJiYgISR0aGlzLT5jb25maWdGaWxlLT5leGlzdHMoKSkgewp0b3VjaCgkdGhpcy0+Y29uZmlnRmlsZS0+Z2V0UGF0aCgpKTsKJHRoaXMtPmNvbmZpZ0ZpbGUtPndyaXRlKGFycmF5KCdjb25maWcnID0+IG5ldyBcQXJyYXlPYmplY3QpKTsKU2lsZW5jZXI6OmNhbGwoJ2NobW9kJywgJHRoaXMtPmNvbmZpZ0ZpbGUtPmdldFBhdGgoKSwgMDYwMCk7Cn0KaWYgKCRpbnB1dC0+Z2V0T3B0aW9uKCdnbG9iYWwnKSAmJiAhJHRoaXMtPmF1dGhDb25maWdGaWxlLT5leGlzdHMoKSkgewp0b3VjaCgkdGhpcy0+YXV0aENvbmZpZ0ZpbGUtPmdldFBhdGgoKSk7CiR0aGlzLT5hdXRoQ29uZmlnRmlsZS0+d3JpdGUoYXJyYXkoJ2JpdGJ1Y2tldC1vYXV0aCcgPT4gbmV3IFxBcnJheU9iamVjdCwgJ2dpdGh1Yi1vYXV0aCcgPT4gbmV3IFxBcnJheU9iamVjdCwgJ2dpdGxhYi1vYXV0aCcgPT4gbmV3IFxBcnJheU9iamVjdCwgJ2dpdGxhYi10b2tlbicgPT4gbmV3IFxBcnJheU9iamVjdCwgJ2h0dHAtYmFzaWMnID0+IG5ldyBcQXJyYXlPYmplY3QsICdiZWFyZXInID0+IG5ldyBcQXJyYXlPYmplY3QpKTsKU2lsZW5jZXI6OmNhbGwoJ2NobW9kJywgJHRoaXMtPmF1dGhDb25maWdGaWxlLT5nZXRQYXRoKCksIDA2MDApOwp9CgppZiAoISR0aGlzLT5jb25maWdGaWxlLT5leGlzdHMoKSkgewp0aHJvdyBuZXcgXFJ1bnRpbWVFeGNlcHRpb24oc3ByaW50ZignRmlsZSAiJXMiIGNhbm5vdCBiZSBmb3VuZCBpbiB0aGUgY3VycmVudCBkaXJlY3RvcnknLCAkY29uZmlnRmlsZSkpOwp9Cn0KCgoKCnByb3RlY3RlZCBmdW5jdGlvbiBleGVjdXRlKElucHV0SW50ZXJmYWNlICRpbnB1dCwgT3V0cHV0SW50ZXJmYWNlICRvdXRwdXQpCnsKCmlmICgkaW5wdXQtPmdldE9wdGlvbignZWRpdG9yJykpIHsKJGVkaXRvciA9IGVzY2FwZXNoZWxsY21kKGdldGVudignRURJVE9SJykpOwppZiAoISRlZGl0b3IpIHsKaWYgKFBsYXRmb3JtOjppc1dpbmRvd3MoKSkgewokZWRpdG9yID0gJ25vdGVwYWQnOwp9IGVsc2Ugewpmb3JlYWNoIChhcnJheSgnZWRpdG9yJywgJ3ZpbScsICd2aScsICduYW5vJywgJ3BpY28nLCAnZWQnKSBhcyAkY2FuZGlkYXRlKSB7CmlmIChleGVjKCd3aGljaCAnLiRjYW5kaWRhdGUpKSB7CiRlZGl0b3IgPSAkY2FuZGlkYXRlOwpicmVhazsKfQp9Cn0KfQoKJGZpbGUgPSAkaW5wdXQtPmdldE9wdGlvbignYXV0aCcpID8gJHRoaXMtPmF1dGhDb25maWdGaWxlLT5nZXRQYXRoKCkgOiAkdGhpcy0+Y29uZmlnRmlsZS0+Z2V0UGF0aCgpOwpzeXN0ZW0oJGVkaXRvciAuICcgJyAuICRmaWxlIC4gKFBsYXRmb3JtOjppc1dpbmRvd3MoKSA/ICcnIDogJyA+IGB0dHlgJykpOwoKcmV0dXJuIDA7Cn0KCmlmICghJGlucHV0LT5nZXRPcHRpb24oJ2dsb2JhbCcpKSB7CiR0aGlzLT5jb25maWctPm1lcmdlKCR0aGlzLT5jb25maWdGaWxlLT5yZWFkKCkpOwokdGhpcy0+Y29uZmlnLT5tZXJnZShhcnJheSgnY29uZmlnJyA9PiAkdGhpcy0+YXV0aENvbmZpZ0ZpbGUtPmV4aXN0cygpID8gJHRoaXMtPmF1dGhDb25maWdGaWxlLT5yZWFkKCkgOiBhcnJheSgpKSk7Cn0KCgppZiAoJGlucHV0LT5nZXRPcHRpb24oJ2xpc3QnKSkgewokdGhpcy0+bGlzdENvbmZpZ3VyYXRpb24oJHRoaXMtPmNvbmZpZy0+YWxsKCksICR0aGlzLT5jb25maWctPnJhdygpLCAkb3V0cHV0KTsKCnJldHVybiAwOwp9Cgokc2V0dGluZ0tleSA9ICRpbnB1dC0+Z2V0QXJndW1lbnQoJ3NldHRpbmcta2V5Jyk7CmlmICghJHNldHRpbmdLZXkgfHwgIWlzX3N0cmluZygkc2V0dGluZ0tleSkpIHsKcmV0dXJuIDA7Cn0KCgppZiAoYXJyYXkoKSAhPT0gJGlucHV0LT5nZXRBcmd1bWVudCgnc2V0dGluZy12YWx1ZScpICYmICRpbnB1dC0+Z2V0T3B0aW9uKCd1bnNldCcpKSB7CnRocm93IG5ldyBcUnVudGltZUV4Y2VwdGlvbignWW91IGNhbiBub3QgY29tYmluZSBhIHNldHRpbmcgdmFsdWUgd2l0aCAtLXVuc2V0Jyk7Cn0KCgppZiAoYXJyYXkoKSA9PT0gJGlucHV0LT5nZXRBcmd1bWVudCgnc2V0dGluZy12YWx1ZScpICYmICEkaW5wdXQtPmdldE9wdGlvbigndW5zZXQnKSkgewokcHJvcGVydGllcyA9IGFycmF5KCduYW1lJywgJ3R5cGUnLCAnZGVzY3JpcHRpb24nLCAnaG9tZXBhZ2UnLCAndmVyc2lvbicsICdtaW5pbXVtLXN0YWJpbGl0eScsICdwcmVmZXItc3RhYmxlJywgJ2tleXdvcmRzJywgJ2xpY2Vuc2UnLCAnZXh0cmEnKTsKJHJhd0RhdGEgPSAkdGhpcy0+Y29uZmlnRmlsZS0+cmVhZCgpOwokZGF0YSA9ICR0aGlzLT5jb25maWctPmFsbCgpOwppZiAocHJlZ19tYXRjaCgnL15yZXBvcz8oPzppdG9yaWVzKT8oPzpcLiguKykpPy8nLCAkc2V0dGluZ0tleSwgJG1hdGNoZXMpKSB7CmlmICghaXNzZXQoJG1hdGNoZXNbMV0pIHx8ICRtYXRjaGVzWzFdID09PSAnJykgewokdmFsdWUgPSBpc3NldCgkZGF0YVsncmVwb3NpdG9yaWVzJ10pID8gJGRhdGFbJ3JlcG9zaXRvcmllcyddIDogYXJyYXkoKTsKfSBlbHNlIHsKaWYgKCFpc3NldCgkZGF0YVsncmVwb3NpdG9yaWVzJ11bJG1hdGNoZXNbMV1dKSkgewp0aHJvdyBuZXcgXEludmFsaWRBcmd1bWVudEV4Y2VwdGlvbignVGhlcmUgaXMgbm8gJy4kbWF0Y2hlc1sxXS4nIHJlcG9zaXRvcnkgZGVmaW5lZCcpOwp9CgokdmFsdWUgPSAkZGF0YVsncmVwb3NpdG9yaWVzJ11bJG1hdGNoZXNbMV1dOwp9Cn0gZWxzZWlmIChzdHJwb3MoJHNldHRpbmdLZXksICcuJykpIHsKJGJpdHMgPSBleHBsb2RlKCcuJywgJHNldHRpbmdLZXkpOwppZiAoJGJpdHNbMF0gPT09ICdleHRyYScpIHsKJGRhdGEgPSAkcmF3RGF0YTsKfSBlbHNlIHsKJGRhdGEgPSAkZGF0YVsnY29uZmlnJ107Cn0KJG1hdGNoID0gZmFsc2U7CmZvcmVhY2ggKCRiaXRzIGFzICRiaXQpIHsKJGtleSA9IGlzc2V0KCRrZXkpID8gJGtleS4nLicuJGJpdCA6ICRiaXQ7CiRtYXRjaCA9IGZhbHNlOwppZiAoaXNzZXQoJGRhdGFbJGtleV0pKSB7CiRtYXRjaCA9IHRydWU7CiRkYXRhID0gJGRhdGFbJGtleV07CnVuc2V0KCRrZXkpOwp9Cn0KCmlmICghJG1hdGNoKSB7CnRocm93IG5ldyBcUnVudGltZUV4Y2VwdGlvbigkc2V0dGluZ0tleS4nIGlzIG5vdCBkZWZpbmVkLicpOwp9CgokdmFsdWUgPSAkZGF0YTsKfSBlbHNlaWYgKGlzc2V0KCRkYXRhWydjb25maWcnXVskc2V0dGluZ0tleV0pKSB7CiR2YWx1ZSA9ICR0aGlzLT5jb25maWctPmdldCgkc2V0dGluZ0tleSwgJGlucHV0LT5nZXRPcHRpb24oJ2Fic29sdXRlJykgPyAwIDogQ29uZmlnOjpSRUxBVElWRV9QQVRIUyk7Cn0gZWxzZWlmIChpc3NldCgkcmF3RGF0YVskc2V0dGluZ0tleV0pICYmIGluX2FycmF5KCRzZXR0aW5nS2V5LCAkcHJvcGVydGllcywgdHJ1ZSkpIHsKJHZhbHVlID0gJHJhd0RhdGFbJHNldHRpbmdLZXldOwp9IGVsc2Ugewp0aHJvdyBuZXcgXFJ1bnRpbWVFeGNlcHRpb24oJHNldHRpbmdLZXkuJyBpcyBub3QgZGVmaW5lZCcpOwp9CgppZiAoaXNfYXJyYXkoJHZhbHVlKSkgewokdmFsdWUgPSBqc29uX2VuY29kZSgkdmFsdWUpOwp9CgokdGhpcy0+Z2V0SU8oKS0+d3JpdGUoJHZhbHVlLCB0cnVlLCBJT0ludGVyZmFjZTo6UVVJRVQpOwoKcmV0dXJuIDA7Cn0KCiR2YWx1ZXMgPSAkaW5wdXQtPmdldEFyZ3VtZW50KCdzZXR0aW5nLXZhbHVlJyk7IAoKJGJvb2xlYW5WYWxpZGF0b3IgPSBmdW5jdGlvbiAoJHZhbCkgewpyZXR1cm4gaW5fYXJyYXkoJHZhbCwgYXJyYXkoJ3RydWUnLCAnZmFsc2UnLCAnMScsICcwJyksIHRydWUpOwp9OwokYm9vbGVhbk5vcm1hbGl6ZXIgPSBmdW5jdGlvbiAoJHZhbCkgewpyZXR1cm4gJHZhbCAhPT0gJ2ZhbHNlJyAmJiAoYm9vbCkgJHZhbDsKfTsKCgokdW5pcXVlQ29uZmlnVmFsdWVzID0gYXJyYXkoCidwcm9jZXNzLXRpbWVvdXQnID0+IGFycmF5KCdpc19udW1lcmljJywgJ2ludHZhbCcpLAondXNlLWluY2x1ZGUtcGF0aCcgPT4gYXJyYXkoJGJvb2xlYW5WYWxpZGF0b3IsICRib29sZWFuTm9ybWFsaXplciksCid1c2UtZ2l0aHViLWFwaScgPT4gYXJyYXkoJGJvb2xlYW5WYWxpZGF0b3IsICRib29sZWFuTm9ybWFsaXplciksCidwcmVmZXJyZWQtaW5zdGFsbCcgPT4gYXJyYXkoCmZ1bmN0aW9uICgkdmFsKSB7CnJldHVybiBpbl9hcnJheSgkdmFsLCBhcnJheSgnYXV0bycsICdzb3VyY2UnLCAnZGlzdCcpLCB0cnVlKTsKfSwKZnVuY3Rpb24gKCR2YWwpIHsKcmV0dXJuICR2YWw7Cn0sCiksCidnaXRsYWItcHJvdG9jb2wnID0+IGFycmF5KApmdW5jdGlvbiAoJHZhbCkgewpyZXR1cm4gaW5fYXJyYXkoJHZhbCwgYXJyYXkoJ2dpdCcsICdodHRwJywgJ2h0dHBzJyksIHRydWUpOwp9LApmdW5jdGlvbiAoJHZhbCkgewpyZXR1cm4gJHZhbDsKfSwKKSwKJ3N0b3JlLWF1dGhzJyA9PiBhcnJheSgKZnVuY3Rpb24gKCR2YWwpIHsKcmV0dXJuIGluX2FycmF5KCR2YWwsIGFycmF5KCd0cnVlJywgJ2ZhbHNlJywgJ3Byb21wdCcpLCB0cnVlKTsKfSwKZnVuY3Rpb24gKCR2YWwpIHsKaWYgKCdwcm9tcHQnID09PSAkdmFsKSB7CnJldHVybiAncHJvbXB0JzsKfQoKcmV0dXJuICR2YWwgIT09ICdmYWxzZScgJiYgKGJvb2wpICR2YWw7Cn0sCiksCidub3RpZnktb24taW5zdGFsbCcgPT4gYXJyYXkoJGJvb2xlYW5WYWxpZGF0b3IsICRib29sZWFuTm9ybWFsaXplciksCid2ZW5kb3ItZGlyJyA9PiBhcnJheSgnaXNfc3RyaW5nJywgZnVuY3Rpb24gKCR2YWwpIHsKcmV0dXJuICR2YWw7Cn0pLAonYmluLWRpcicgPT4gYXJyYXkoJ2lzX3N0cmluZycsIGZ1bmN0aW9uICgkdmFsKSB7CnJldHVybiAkdmFsOwp9KSwKJ2FyY2hpdmUtZGlyJyA9PiBhcnJheSgnaXNfc3RyaW5nJywgZnVuY3Rpb24gKCR2YWwpIHsKcmV0dXJuICR2YWw7Cn0pLAonYXJjaGl2ZS1mb3JtYXQnID0+IGFycmF5KCdpc19zdHJpbmcnLCBmdW5jdGlvbiAoJHZhbCkgewpyZXR1cm4gJHZhbDsKfSksCidkYXRhLWRpcicgPT4gYXJyYXkoJ2lzX3N0cmluZycsIGZ1bmN0aW9uICgkdmFsKSB7CnJldHVybiAkdmFsOwp9KSwKJ2NhY2hlLWRpcicgPT4gYXJyYXkoJ2lzX3N0cmluZycsIGZ1bmN0aW9uICgkdmFsKSB7CnJldHVybiAkdmFsOwp9KSwKJ2NhY2hlLWZpbGVzLWRpcicgPT4gYXJyYXkoJ2lzX3N0cmluZycsIGZ1bmN0aW9uICgkdmFsKSB7CnJldHVybiAkdmFsOwp9KSwKJ2NhY2hlLXJlcG8tZGlyJyA9PiBhcnJheSgnaXNfc3RyaW5nJywgZnVuY3Rpb24gKCR2YWwpIHsKcmV0dXJuICR2YWw7Cn0pLAonY2FjaGUtdmNzLWRpcicgPT4gYXJyYXkoJ2lzX3N0cmluZycsIGZ1bmN0aW9uICgkdmFsKSB7CnJldHVybiAkdmFsOwp9KSwKJ2NhY2hlLXR0bCcgPT4gYXJyYXkoJ2lzX251bWVyaWMnLCAnaW50dmFsJyksCidjYWNoZS1maWxlcy10dGwnID0+IGFycmF5KCdpc19udW1lcmljJywgJ2ludHZhbCcpLAonY2FjaGUtZmlsZXMtbWF4c2l6ZScgPT4gYXJyYXkoCmZ1bmN0aW9uICgkdmFsKSB7CnJldHVybiBwcmVnX21hdGNoKCcvXlxzKihbMC05Ll0rKVxzKig/Oihba21nXSkoPzppP2IpPyk/XHMqJC9pJywgJHZhbCkgPiAwOwp9LApmdW5jdGlvbiAoJHZhbCkgewpyZXR1cm4gJHZhbDsKfSwKKSwKJ2Jpbi1jb21wYXQnID0+IGFycmF5KApmdW5jdGlvbiAoJHZhbCkgewpyZXR1cm4gaW5fYXJyYXkoJHZhbCwgYXJyYXkoJ2F1dG8nLCAnZnVsbCcsICdzeW1saW5rJykpOwp9LApmdW5jdGlvbiAoJHZhbCkgewpyZXR1cm4gJHZhbDsKfSwKKSwKJ2Rpc2NhcmQtY2hhbmdlcycgPT4gYXJyYXkoCmZ1bmN0aW9uICgkdmFsKSB7CnJldHVybiBpbl9hcnJheSgkdmFsLCBhcnJheSgnc3Rhc2gnLCAndHJ1ZScsICdmYWxzZScsICcxJywgJzAnKSwgdHJ1ZSk7Cn0sCmZ1bmN0aW9uICgkdmFsKSB7CmlmICgnc3Rhc2gnID09PSAkdmFsKSB7CnJldHVybiAnc3Rhc2gnOwp9CgpyZXR1cm4gJHZhbCAhPT0gJ2ZhbHNlJyAmJiAoYm9vbCkgJHZhbDsKfSwKKSwKJ2F1dG9sb2FkZXItc3VmZml4JyA9PiBhcnJheSgnaXNfc3RyaW5nJywgZnVuY3Rpb24gKCR2YWwpIHsKcmV0dXJuICR2YWwgPT09ICdudWxsJyA/IG51bGwgOiAkdmFsOwp9KSwKJ3NvcnQtcGFja2FnZXMnID0+IGFycmF5KCRib29sZWFuVmFsaWRhdG9yLCAkYm9vbGVhbk5vcm1hbGl6ZXIpLAonb3B0aW1pemUtYXV0b2xvYWRlcicgPT4gYXJyYXkoJGJvb2xlYW5WYWxpZGF0b3IsICRib29sZWFuTm9ybWFsaXplciksCidjbGFzc21hcC1hdXRob3JpdGF0aXZlJyA9PiBhcnJheSgkYm9vbGVhblZhbGlkYXRvciwgJGJvb2xlYW5Ob3JtYWxpemVyKSwKJ2FwY3UtYXV0b2xvYWRlcicgPT4gYXJyYXkoJGJvb2xlYW5WYWxpZGF0b3IsICRib29sZWFuTm9ybWFsaXplciksCidwcmVwZW5kLWF1dG9sb2FkZXInID0+IGFycmF5KCRib29sZWFuVmFsaWRhdG9yLCAkYm9vbGVhbk5vcm1hbGl6ZXIpLAonZGlzYWJsZS10bHMnID0+IGFycmF5KCRib29sZWFuVmFsaWRhdG9yLCAkYm9vbGVhbk5vcm1hbGl6ZXIpLAonc2VjdXJlLWh0dHAnID0+IGFycmF5KCRib29sZWFuVmFsaWRhdG9yLCAkYm9vbGVhbk5vcm1hbGl6ZXIpLAonY2FmaWxlJyA9PiBhcnJheSgKZnVuY3Rpb24gKCR2YWwpIHsKcmV0dXJuIGZpbGVfZXhpc3RzKCR2YWwpICYmIEZpbGVzeXN0ZW06OmlzUmVhZGFibGUoJHZhbCk7Cn0sCmZ1bmN0aW9uICgkdmFsKSB7CnJldHVybiAkdmFsID09PSAnbnVsbCcgPyBudWxsIDogJHZhbDsKfSwKKSwKJ2NhcGF0aCcgPT4gYXJyYXkoCmZ1bmN0aW9uICgkdmFsKSB7CnJldHVybiBpc19kaXIoJHZhbCkgJiYgRmlsZXN5c3RlbTo6aXNSZWFkYWJsZSgkdmFsKTsKfSwKZnVuY3Rpb24gKCR2YWwpIHsKcmV0dXJuICR2YWwgPT09ICdudWxsJyA/IG51bGwgOiAkdmFsOwp9LAopLAonZ2l0aHViLWV4cG9zZS1ob3N0bmFtZScgPT4gYXJyYXkoJGJvb2xlYW5WYWxpZGF0b3IsICRib29sZWFuTm9ybWFsaXplciksCidodGFjY2Vzcy1wcm90ZWN0JyA9PiBhcnJheSgkYm9vbGVhblZhbGlkYXRvciwgJGJvb2xlYW5Ob3JtYWxpemVyKSwKJ2xvY2snID0+IGFycmF5KCRib29sZWFuVmFsaWRhdG9yLCAkYm9vbGVhbk5vcm1hbGl6ZXIpLAoncGxhdGZvcm0tY2hlY2snID0+IGFycmF5KApmdW5jdGlvbiAoJHZhbCkgewpyZXR1cm4gaW5fYXJyYXkoJHZhbCwgYXJyYXkoJ3BocC1vbmx5JywgJ3RydWUnLCAnZmFsc2UnLCAnMScsICcwJyksIHRydWUpOwp9LApmdW5jdGlvbiAoJHZhbCkgewppZiAoJ3BocC1vbmx5JyA9PT0gJHZhbCkgewpyZXR1cm4gJ3BocC1vbmx5JzsKfQoKcmV0dXJuICR2YWwgIT09ICdmYWxzZScgJiYgKGJvb2wpICR2YWw7Cn0sCiksCik7CiRtdWx0aUNvbmZpZ1ZhbHVlcyA9IGFycmF5KAonZ2l0aHViLXByb3RvY29scycgPT4gYXJyYXkoCmZ1bmN0aW9uICgkdmFscykgewppZiAoIWlzX2FycmF5KCR2YWxzKSkgewpyZXR1cm4gJ2FycmF5IGV4cGVjdGVkJzsKfQoKZm9yZWFjaCAoJHZhbHMgYXMgJHZhbCkgewppZiAoIWluX2FycmF5KCR2YWwsIGFycmF5KCdnaXQnLCAnaHR0cHMnLCAnc3NoJykpKSB7CnJldHVybiAndmFsaWQgcHJvdG9jb2xzIGluY2x1ZGU6IGdpdCwgaHR0cHMsIHNzaCc7Cn0KfQoKcmV0dXJuIHRydWU7Cn0sCmZ1bmN0aW9uICgkdmFscykgewpyZXR1cm4gJHZhbHM7Cn0sCiksCidnaXRodWItZG9tYWlucycgPT4gYXJyYXkoCmZ1bmN0aW9uICgkdmFscykgewppZiAoIWlzX2FycmF5KCR2YWxzKSkgewpyZXR1cm4gJ2FycmF5IGV4cGVjdGVkJzsKfQoKcmV0dXJuIHRydWU7Cn0sCmZ1bmN0aW9uICgkdmFscykgewpyZXR1cm4gJHZhbHM7Cn0sCiksCidnaXRsYWItZG9tYWlucycgPT4gYXJyYXkoCmZ1bmN0aW9uICgkdmFscykgewppZiAoIWlzX2FycmF5KCR2YWxzKSkgewpyZXR1cm4gJ2FycmF5IGV4cGVjdGVkJzsKfQoKcmV0dXJuIHRydWU7Cn0sCmZ1bmN0aW9uICgkdmFscykgewpyZXR1cm4gJHZhbHM7Cn0sCiksCik7CgppZiAoJGlucHV0LT5nZXRPcHRpb24oJ3Vuc2V0JykgJiYgKGlzc2V0KCR1bmlxdWVDb25maWdWYWx1ZXNbJHNldHRpbmdLZXldKSB8fCBpc3NldCgkbXVsdGlDb25maWdWYWx1ZXNbJHNldHRpbmdLZXldKSkpIHsKaWYgKCRzZXR0aW5nS2V5ID09PSAnZGlzYWJsZS10bHMnICYmICR0aGlzLT5jb25maWctPmdldCgnZGlzYWJsZS10bHMnKSkgewokdGhpcy0+Z2V0SU8oKS0+d3JpdGVFcnJvcignPGluZm8+WW91IGFyZSBub3cgcnVubmluZyBDb21wb3NlciB3aXRoIFNTTC9UTFMgcHJvdGVjdGlvbiBlbmFibGVkLjwvaW5mbz4nKTsKfQoKJHRoaXMtPmNvbmZpZ1NvdXJjZS0+cmVtb3ZlQ29uZmlnU2V0dGluZygkc2V0dGluZ0tleSk7CgpyZXR1cm4gMDsKfQppZiAoaXNzZXQoJHVuaXF1ZUNvbmZpZ1ZhbHVlc1skc2V0dGluZ0tleV0pKSB7CiR0aGlzLT5oYW5kbGVTaW5nbGVWYWx1ZSgkc2V0dGluZ0tleSwgJHVuaXF1ZUNvbmZpZ1ZhbHVlc1skc2V0dGluZ0tleV0sICR2YWx1ZXMsICdhZGRDb25maWdTZXR0aW5nJyk7CgpyZXR1cm4gMDsKfQppZiAoaXNzZXQoJG11bHRpQ29uZmlnVmFsdWVzWyRzZXR0aW5nS2V5XSkpIHsKJHRoaXMtPmhhbmRsZU11bHRpVmFsdWUoJHNldHRpbmdLZXksICRtdWx0aUNvbmZpZ1ZhbHVlc1skc2V0dGluZ0tleV0sICR2YWx1ZXMsICdhZGRDb25maWdTZXR0aW5nJyk7CgpyZXR1cm4gMDsKfQoKaWYgKHByZWdfbWF0Y2goJy9ecHJlZmVycmVkLWluc3RhbGxcLiguKykvJywgJHNldHRpbmdLZXksICRtYXRjaGVzKSkgewppZiAoJGlucHV0LT5nZXRPcHRpb24oJ3Vuc2V0JykpIHsKJHRoaXMtPmNvbmZpZ1NvdXJjZS0+cmVtb3ZlQ29uZmlnU2V0dGluZygkc2V0dGluZ0tleSk7CgpyZXR1cm4gMDsKfQoKbGlzdCgkdmFsaWRhdG9yKSA9ICR1bmlxdWVDb25maWdWYWx1ZXNbJ3ByZWZlcnJlZC1pbnN0YWxsJ107CmlmICghJHZhbGlkYXRvcigkdmFsdWVzWzBdKSkgewp0aHJvdyBuZXcgXFJ1bnRpbWVFeGNlcHRpb24oJ0ludmFsaWQgdmFsdWUgZm9yICcuJHNldHRpbmdLZXkuJy4gU2hvdWxkIGJlIG9uZSBvZjogYXV0bywgc291cmNlLCBvciBkaXN0Jyk7Cn0KCiR0aGlzLT5jb25maWdTb3VyY2UtPmFkZENvbmZpZ1NldHRpbmcoJHNldHRpbmdLZXksICR2YWx1ZXNbMF0pOwoKcmV0dXJuIDA7Cn0KCgokdW5pcXVlUHJvcHMgPSBhcnJheSgKJ25hbWUnID0+IGFycmF5KCdpc19zdHJpbmcnLCBmdW5jdGlvbiAoJHZhbCkgewpyZXR1cm4gJHZhbDsKfSksCid0eXBlJyA9PiBhcnJheSgnaXNfc3RyaW5nJywgZnVuY3Rpb24gKCR2YWwpIHsKcmV0dXJuICR2YWw7Cn0pLAonZGVzY3JpcHRpb24nID0+IGFycmF5KCdpc19zdHJpbmcnLCBmdW5jdGlvbiAoJHZhbCkgewpyZXR1cm4gJHZhbDsKfSksCidob21lcGFnZScgPT4gYXJyYXkoJ2lzX3N0cmluZycsIGZ1bmN0aW9uICgkdmFsKSB7CnJldHVybiAkdmFsOwp9KSwKJ3ZlcnNpb24nID0+IGFycmF5KCdpc19zdHJpbmcnLCBmdW5jdGlvbiAoJHZhbCkgewpyZXR1cm4gJHZhbDsKfSksCidtaW5pbXVtLXN0YWJpbGl0eScgPT4gYXJyYXkoCmZ1bmN0aW9uICgkdmFsKSB7CnJldHVybiBpc3NldChCYXNlUGFja2FnZTo6JHN0YWJpbGl0aWVzW1ZlcnNpb25QYXJzZXI6Om5vcm1hbGl6ZVN0YWJpbGl0eSgkdmFsKV0pOwp9LApmdW5jdGlvbiAoJHZhbCkgewpyZXR1cm4gVmVyc2lvblBhcnNlcjo6bm9ybWFsaXplU3RhYmlsaXR5KCR2YWwpOwp9LAopLAoncHJlZmVyLXN0YWJsZScgPT4gYXJyYXkoJGJvb2xlYW5WYWxpZGF0b3IsICRib29sZWFuTm9ybWFsaXplciksCik7CiRtdWx0aVByb3BzID0gYXJyYXkoCidrZXl3b3JkcycgPT4gYXJyYXkoCmZ1bmN0aW9uICgkdmFscykgewppZiAoIWlzX2FycmF5KCR2YWxzKSkgewpyZXR1cm4gJ2FycmF5IGV4cGVjdGVkJzsKfQoKcmV0dXJuIHRydWU7Cn0sCmZ1bmN0aW9uICgkdmFscykgewpyZXR1cm4gJHZhbHM7Cn0sCiksCidsaWNlbnNlJyA9PiBhcnJheSgKZnVuY3Rpb24gKCR2YWxzKSB7CmlmICghaXNfYXJyYXkoJHZhbHMpKSB7CnJldHVybiAnYXJyYXkgZXhwZWN0ZWQnOwp9CgpyZXR1cm4gdHJ1ZTsKfSwKZnVuY3Rpb24gKCR2YWxzKSB7CnJldHVybiAkdmFsczsKfSwKKSwKKTsKCmlmICgkaW5wdXQtPmdldE9wdGlvbignZ2xvYmFsJykgJiYgKGlzc2V0KCR1bmlxdWVQcm9wc1skc2V0dGluZ0tleV0pIHx8IGlzc2V0KCRtdWx0aVByb3BzWyRzZXR0aW5nS2V5XSkgfHwgc3RycG9zKCRzZXR0aW5nS2V5LCAnZXh0cmEuJykgPT09IDApKSB7CnRocm93IG5ldyBcSW52YWxpZEFyZ3VtZW50RXhjZXB0aW9uKCdUaGUgJy4kc2V0dGluZ0tleS4nIHByb3BlcnR5IGNhbiBub3QgYmUgc2V0IGluIHRoZSBnbG9iYWwgY29uZmlnLmpzb24gZmlsZS4gVXNlIGBjb21wb3NlciBnbG9iYWwgY29uZmlnYCB0byBhcHBseSBjaGFuZ2VzIHRvIHRoZSBnbG9iYWwgY29tcG9zZXIuanNvbicpOwp9CmlmICgkaW5wdXQtPmdldE9wdGlvbigndW5zZXQnKSAmJiAoaXNzZXQoJHVuaXF1ZVByb3BzWyRzZXR0aW5nS2V5XSkgfHwgaXNzZXQoJG11bHRpUHJvcHNbJHNldHRpbmdLZXldKSkpIHsKJHRoaXMtPmNvbmZpZ1NvdXJjZS0+cmVtb3ZlUHJvcGVydHkoJHNldHRpbmdLZXkpOwoKcmV0dXJuIDA7Cn0KaWYgKGlzc2V0KCR1bmlxdWVQcm9wc1skc2V0dGluZ0tleV0pKSB7CiR0aGlzLT5oYW5kbGVTaW5nbGVWYWx1ZSgkc2V0dGluZ0tleSwgJHVuaXF1ZVByb3BzWyRzZXR0aW5nS2V5XSwgJHZhbHVlcywgJ2FkZFByb3BlcnR5Jyk7CgpyZXR1cm4gMDsKfQppZiAoaXNzZXQoJG11bHRpUHJvcHNbJHNldHRpbmdLZXldKSkgewokdGhpcy0+aGFuZGxlTXVsdGlWYWx1ZSgkc2V0dGluZ0tleSwgJG11bHRpUHJvcHNbJHNldHRpbmdLZXldLCAkdmFsdWVzLCAnYWRkUHJvcGVydHknKTsKCnJldHVybiAwOwp9CgoKaWYgKHByZWdfbWF0Y2goJy9ecmVwb3M/KD86aXRvcmllcyk/XC4oLispLycsICRzZXR0aW5nS2V5LCAkbWF0Y2hlcykpIHsKaWYgKCRpbnB1dC0+Z2V0T3B0aW9uKCd1bnNldCcpKSB7CiR0aGlzLT5jb25maWdTb3VyY2UtPnJlbW92ZVJlcG9zaXRvcnkoJG1hdGNoZXNbMV0pOwoKcmV0dXJuIDA7Cn0KCmlmICgyID09PSBjb3VudCgkdmFsdWVzKSkgewokdGhpcy0+Y29uZmlnU291cmNlLT5hZGRSZXBvc2l0b3J5KCRtYXRjaGVzWzFdLCBhcnJheSgKJ3R5cGUnID0+ICR2YWx1ZXNbMF0sCid1cmwnID0+ICR2YWx1ZXNbMV0sCiksICRpbnB1dC0+Z2V0T3B0aW9uKCdhcHBlbmQnKSk7CgpyZXR1cm4gMDsKfQoKaWYgKDEgPT09IGNvdW50KCR2YWx1ZXMpKSB7CiR2YWx1ZSA9IHN0cnRvbG93ZXIoJHZhbHVlc1swXSk7CmlmICh0cnVlID09PSAkYm9vbGVhblZhbGlkYXRvcigkdmFsdWUpKSB7CmlmIChmYWxzZSA9PT0gJGJvb2xlYW5Ob3JtYWxpemVyKCR2YWx1ZSkpIHsKJHRoaXMtPmNvbmZpZ1NvdXJjZS0+YWRkUmVwb3NpdG9yeSgkbWF0Y2hlc1sxXSwgZmFsc2UsICRpbnB1dC0+Z2V0T3B0aW9uKCdhcHBlbmQnKSk7CgpyZXR1cm4gMDsKfQp9IGVsc2UgewokdmFsdWUgPSBKc29uRmlsZTo6cGFyc2VKc29uKCR2YWx1ZXNbMF0pOwokdGhpcy0+Y29uZmlnU291cmNlLT5hZGRSZXBvc2l0b3J5KCRtYXRjaGVzWzFdLCAkdmFsdWUsICRpbnB1dC0+Z2V0T3B0aW9uKCdhcHBlbmQnKSk7CgpyZXR1cm4gMDsKfQp9Cgp0aHJvdyBuZXcgXFJ1bnRpbWVFeGNlcHRpb24oJ1lvdSBtdXN0IHBhc3MgdGhlIHR5cGUgYW5kIGEgdXJsLiBFeGFtcGxlOiBwaHAgY29tcG9zZXIucGhhciBjb25maWcgcmVwb3NpdG9yaWVzLmZvbyB2Y3MgaHR0cHM6Ly9iYXIuY29tJyk7Cn0KCgppZiAocHJlZ19tYXRjaCgnL15leHRyYVwuKC4rKS8nLCAkc2V0dGluZ0tleSwgJG1hdGNoZXMpKSB7CmlmICgkaW5wdXQtPmdldE9wdGlvbigndW5zZXQnKSkgewokdGhpcy0+Y29uZmlnU291cmNlLT5yZW1vdmVQcm9wZXJ0eSgkc2V0dGluZ0tleSk7CgpyZXR1cm4gMDsKfQoKJHZhbHVlID0gJHZhbHVlc1swXTsKaWYgKCRpbnB1dC0+Z2V0T3B0aW9uKCdqc29uJykpIHsKJHZhbHVlID0gSnNvbkZpbGU6OnBhcnNlSnNvbigkdmFsdWUpOwppZiAoJGlucHV0LT5nZXRPcHRpb24oJ21lcmdlJykpIHsKJGN1cnJlbnRWYWx1ZSA9ICR0aGlzLT5jb25maWdGaWxlLT5yZWFkKCk7CiRiaXRzID0gZXhwbG9kZSgnLicsICRzZXR0aW5nS2V5KTsKZm9yZWFjaCAoJGJpdHMgYXMgJGJpdCkgewokY3VycmVudFZhbHVlID0gaXNzZXQoJGN1cnJlbnRWYWx1ZVskYml0XSkgPyAkY3VycmVudFZhbHVlWyRiaXRdIDogbnVsbDsKfQppZiAoaXNfYXJyYXkoJGN1cnJlbnRWYWx1ZSkpIHsKJHZhbHVlID0gYXJyYXlfbWVyZ2UoJGN1cnJlbnRWYWx1ZSwgJHZhbHVlKTsKfQp9Cn0KJHRoaXMtPmNvbmZpZ1NvdXJjZS0+YWRkUHJvcGVydHkoJHNldHRpbmdLZXksICR2YWx1ZSk7CgpyZXR1cm4gMDsKfQoKCmlmIChwcmVnX21hdGNoKCcvXnN1Z2dlc3RcLiguKykvJywgJHNldHRpbmdLZXksICRtYXRjaGVzKSkgewppZiAoJGlucHV0LT5nZXRPcHRpb24oJ3Vuc2V0JykpIHsKJHRoaXMtPmNvbmZpZ1NvdXJjZS0+cmVtb3ZlUHJvcGVydHkoJHNldHRpbmdLZXkpOwoKcmV0dXJuIDA7Cn0KCiR0aGlzLT5jb25maWdTb3VyY2UtPmFkZFByb3BlcnR5KCRzZXR0aW5nS2V5LCBpbXBsb2RlKCcgJywgJHZhbHVlcykpOwoKcmV0dXJuIDA7Cn0KCgppZiAoaW5fYXJyYXkoJHNldHRpbmdLZXksIGFycmF5KCdzdWdnZXN0JywgJ2V4dHJhJyksIHRydWUpICYmICRpbnB1dC0+Z2V0T3B0aW9uKCd1bnNldCcpKSB7CiR0aGlzLT5jb25maWdTb3VyY2UtPnJlbW92ZVByb3BlcnR5KCRzZXR0aW5nS2V5KTsKCnJldHVybiAwOwp9CgoKaWYgKHByZWdfbWF0Y2goJy9ecGxhdGZvcm1cLiguKykvJywgJHNldHRpbmdLZXksICRtYXRjaGVzKSkgewppZiAoJGlucHV0LT5nZXRPcHRpb24oJ3Vuc2V0JykpIHsKJHRoaXMtPmNvbmZpZ1NvdXJjZS0+cmVtb3ZlQ29uZmlnU2V0dGluZygkc2V0dGluZ0tleSk7CgpyZXR1cm4gMDsKfQoKJHRoaXMtPmNvbmZpZ1NvdXJjZS0+YWRkQ29uZmlnU2V0dGluZygkc2V0dGluZ0tleSwgJHZhbHVlc1swXSk7CgpyZXR1cm4gMDsKfQoKCmlmICgkc2V0dGluZ0tleSA9PT0gJ3BsYXRmb3JtJyAmJiAkaW5wdXQtPmdldE9wdGlvbigndW5zZXQnKSkgewokdGhpcy0+Y29uZmlnU291cmNlLT5yZW1vdmVDb25maWdTZXR0aW5nKCRzZXR0aW5nS2V5KTsKCnJldHVybiAwOwp9CgoKaWYgKHByZWdfbWF0Y2goJy9eKGJpdGJ1Y2tldC1vYXV0aHxnaXRodWItb2F1dGh8Z2l0bGFiLW9hdXRofGdpdGxhYi10b2tlbnxodHRwLWJhc2ljfGJlYXJlcilcLiguKykvJywgJHNldHRpbmdLZXksICRtYXRjaGVzKSkgewppZiAoJGlucHV0LT5nZXRPcHRpb24oJ3Vuc2V0JykpIHsKJHRoaXMtPmF1dGhDb25maWdTb3VyY2UtPnJlbW92ZUNvbmZpZ1NldHRpbmcoJG1hdGNoZXNbMV0uJy4nLiRtYXRjaGVzWzJdKTsKJHRoaXMtPmNvbmZpZ1NvdXJjZS0+cmVtb3ZlQ29uZmlnU2V0dGluZygkbWF0Y2hlc1sxXS4nLicuJG1hdGNoZXNbMl0pOwoKcmV0dXJuIDA7Cn0KCmlmICgkbWF0Y2hlc1sxXSA9PT0gJ2JpdGJ1Y2tldC1vYXV0aCcpIHsKaWYgKDIgIT09IGNvdW50KCR2YWx1ZXMpKSB7CnRocm93IG5ldyBcUnVudGltZUV4Y2VwdGlvbignRXhwZWN0ZWQgdHdvIGFyZ3VtZW50cyAoY29uc3VtZXIta2V5LCBjb25zdW1lci1zZWNyZXQpLCBnb3QgJy5jb3VudCgkdmFsdWVzKSk7Cn0KJHRoaXMtPmNvbmZpZ1NvdXJjZS0+cmVtb3ZlQ29uZmlnU2V0dGluZygkbWF0Y2hlc1sxXS4nLicuJG1hdGNoZXNbMl0pOwokdGhpcy0+YXV0aENvbmZpZ1NvdXJjZS0+YWRkQ29uZmlnU2V0dGluZygkbWF0Y2hlc1sxXS4nLicuJG1hdGNoZXNbMl0sIGFycmF5KCdjb25zdW1lci1rZXknID0+ICR2YWx1ZXNbMF0sICdjb25zdW1lci1zZWNyZXQnID0+ICR2YWx1ZXNbMV0pKTsKfSBlbHNlaWYgKCRtYXRjaGVzWzFdID09PSAnZ2l0bGFiLXRva2VuJyAmJiAyID09PSBjb3VudCgkdmFsdWVzKSkgewokdGhpcy0+Y29uZmlnU291cmNlLT5yZW1vdmVDb25maWdTZXR0aW5nKCRtYXRjaGVzWzFdLicuJy4kbWF0Y2hlc1syXSk7CiR0aGlzLT5hdXRoQ29uZmlnU291cmNlLT5hZGRDb25maWdTZXR0aW5nKCRtYXRjaGVzWzFdLicuJy4kbWF0Y2hlc1syXSwgYXJyYXkoJ3VzZXJuYW1lJyA9PiAkdmFsdWVzWzBdLCAndG9rZW4nID0+ICR2YWx1ZXNbMV0pKTsKfSBlbHNlaWYgKGluX2FycmF5KCRtYXRjaGVzWzFdLCBhcnJheSgnZ2l0aHViLW9hdXRoJywgJ2dpdGxhYi1vYXV0aCcsICdnaXRsYWItdG9rZW4nLCAnYmVhcmVyJyksIHRydWUpKSB7CmlmICgxICE9PSBjb3VudCgkdmFsdWVzKSkgewp0aHJvdyBuZXcgXFJ1bnRpbWVFeGNlcHRpb24oJ1RvbyBtYW55IGFyZ3VtZW50cywgZXhwZWN0ZWQgb25seSBvbmUgdG9rZW4nKTsKfQokdGhpcy0+Y29uZmlnU291cmNlLT5yZW1vdmVDb25maWdTZXR0aW5nKCRtYXRjaGVzWzFdLicuJy4kbWF0Y2hlc1syXSk7CiR0aGlzLT5hdXRoQ29uZmlnU291cmNlLT5hZGRDb25maWdTZXR0aW5nKCRtYXRjaGVzWzFdLicuJy4kbWF0Y2hlc1syXSwgJHZhbHVlc1swXSk7Cn0gZWxzZWlmICgkbWF0Y2hlc1sxXSA9PT0gJ2h0dHAtYmFzaWMnKSB7CmlmICgyICE9PSBjb3VudCgkdmFsdWVzKSkgewp0aHJvdyBuZXcgXFJ1bnRpbWVFeGNlcHRpb24oJ0V4cGVjdGVkIHR3byBhcmd1bWVudHMgKHVzZXJuYW1lLCBwYXNzd29yZCksIGdvdCAnLmNvdW50KCR2YWx1ZXMpKTsKfQokdGhpcy0+Y29uZmlnU291cmNlLT5yZW1vdmVDb25maWdTZXR0aW5nKCRtYXRjaGVzWzFdLicuJy4kbWF0Y2hlc1syXSk7CiR0aGlzLT5hdXRoQ29uZmlnU291cmNlLT5hZGRDb25maWdTZXR0aW5nKCRtYXRjaGVzWzFdLicuJy4kbWF0Y2hlc1syXSwgYXJyYXkoJ3VzZXJuYW1lJyA9PiAkdmFsdWVzWzBdLCAncGFzc3dvcmQnID0+ICR2YWx1ZXNbMV0pKTsKfQoKcmV0dXJuIDA7Cn0KCgppZiAocHJlZ19tYXRjaCgnL15zY3JpcHRzXC4oLispLycsICRzZXR0aW5nS2V5LCAkbWF0Y2hlcykpIHsKaWYgKCRpbnB1dC0+Z2V0T3B0aW9uKCd1bnNldCcpKSB7CiR0aGlzLT5jb25maWdTb3VyY2UtPnJlbW92ZVByb3BlcnR5KCRzZXR0aW5nS2V5KTsKCnJldHVybiAwOwp9CgokdGhpcy0+Y29uZmlnU291cmNlLT5hZGRQcm9wZXJ0eSgkc2V0dGluZ0tleSwgY291bnQoJHZhbHVlcykgPiAxID8gJHZhbHVlcyA6ICR2YWx1ZXNbMF0pOwoKcmV0dXJuIDA7Cn0KCnRocm93IG5ldyBcSW52YWxpZEFyZ3VtZW50RXhjZXB0aW9uKCdTZXR0aW5nICcuJHNldHRpbmdLZXkuJyBkb2VzIG5vdCBleGlzdCBvciBpcyBub3Qgc3VwcG9ydGVkIGJ5IHRoaXMgY29tbWFuZCcpOwp9Cgpwcm90ZWN0ZWQgZnVuY3Rpb24gaGFuZGxlU2luZ2xlVmFsdWUoJGtleSwgYXJyYXkgJGNhbGxiYWNrcywgYXJyYXkgJHZhbHVlcywgJG1ldGhvZCkKewpsaXN0KCR2YWxpZGF0b3IsICRub3JtYWxpemVyKSA9ICRjYWxsYmFja3M7CmlmICgxICE9PSBjb3VudCgkdmFsdWVzKSkgewp0aHJvdyBuZXcgXFJ1bnRpbWVFeGNlcHRpb24oJ1lvdSBjYW4gb25seSBwYXNzIG9uZSB2YWx1ZS4gRXhhbXBsZTogcGhwIGNvbXBvc2VyLnBoYXIgY29uZmlnIHByb2Nlc3MtdGltZW91dCAzMDAnKTsKfQoKaWYgKHRydWUgIT09ICR2YWxpZGF0aW9uID0gJHZhbGlkYXRvcigkdmFsdWVzWzBdKSkgewp0aHJvdyBuZXcgXFJ1bnRpbWVFeGNlcHRpb24oc3ByaW50ZigKJyIlcyIgaXMgYW4gaW52YWxpZCB2YWx1ZScuKCR2YWxpZGF0aW9uID8gJyAoJy4kdmFsaWRhdGlvbi4nKScgOiAnJyksCiR2YWx1ZXNbMF0KKSk7Cn0KCiRub3JtYWxpemVkVmFsdWUgPSAkbm9ybWFsaXplcigkdmFsdWVzWzBdKTsKCmlmICgka2V5ID09PSAnZGlzYWJsZS10bHMnKSB7CmlmICghJG5vcm1hbGl6ZWRWYWx1ZSAmJiAkdGhpcy0+Y29uZmlnLT5nZXQoJ2Rpc2FibGUtdGxzJykpIHsKJHRoaXMtPmdldElPKCktPndyaXRlRXJyb3IoJzxpbmZvPllvdSBhcmUgbm93IHJ1bm5pbmcgQ29tcG9zZXIgd2l0aCBTU0wvVExTIHByb3RlY3Rpb24gZW5hYmxlZC48L2luZm8+Jyk7Cn0gZWxzZWlmICgkbm9ybWFsaXplZFZhbHVlICYmICEkdGhpcy0+Y29uZmlnLT5nZXQoJ2Rpc2FibGUtdGxzJykpIHsKJHRoaXMtPmdldElPKCktPndyaXRlRXJyb3IoJzx3YXJuaW5nPllvdSBhcmUgbm93IHJ1bm5pbmcgQ29tcG9zZXIgd2l0aCBTU0wvVExTIHByb3RlY3Rpb24gZGlzYWJsZWQuPC93YXJuaW5nPicpOwp9Cn0KCnJldHVybiBjYWxsX3VzZXJfZnVuYyhhcnJheSgkdGhpcy0+Y29uZmlnU291cmNlLCAkbWV0aG9kKSwgJGtleSwgJG5vcm1hbGl6ZWRWYWx1ZSk7Cn0KCnByb3RlY3RlZCBmdW5jdGlvbiBoYW5kbGVNdWx0aVZhbHVlKCRrZXksIGFycmF5ICRjYWxsYmFja3MsIGFycmF5ICR2YWx1ZXMsICRtZXRob2QpCnsKbGlzdCgkdmFsaWRhdG9yLCAkbm9ybWFsaXplcikgPSAkY2FsbGJhY2tzOwppZiAodHJ1ZSAhPT0gJHZhbGlkYXRpb24gPSAkdmFsaWRhdG9yKCR2YWx1ZXMpKSB7CnRocm93IG5ldyBcUnVudGltZUV4Y2VwdGlvbihzcHJpbnRmKAonJXMgaXMgYW4gaW52YWxpZCB2YWx1ZScuKCR2YWxpZGF0aW9uID8gJyAoJy4kdmFsaWRhdGlvbi4nKScgOiAnJyksCmpzb25fZW5jb2RlKCR2YWx1ZXMpCikpOwp9CgpyZXR1cm4gY2FsbF91c2VyX2Z1bmMoYXJyYXkoJHRoaXMtPmNvbmZpZ1NvdXJjZSwgJG1ldGhvZCksICRrZXksICRub3JtYWxpemVyKCR2YWx1ZXMpKTsKfQoKCgoKCgoKCgpwcm90ZWN0ZWQgZnVuY3Rpb24gbGlzdENvbmZpZ3VyYXRpb24oYXJyYXkgJGNvbnRlbnRzLCBhcnJheSAkcmF3Q29udGVudHMsIE91dHB1dEludGVyZmFjZSAkb3V0cHV0LCAkayA9IG51bGwpCnsKJG9yaWdLID0gJGs7CiRpbyA9ICR0aGlzLT5nZXRJTygpOwpmb3JlYWNoICgkY29udGVudHMgYXMgJGtleSA9PiAkdmFsdWUpIHsKaWYgKCRrID09PSBudWxsICYmICFpbl9hcnJheSgka2V5LCBhcnJheSgnY29uZmlnJywgJ3JlcG9zaXRvcmllcycpKSkgewpjb250aW51ZTsKfQoKJHJhd1ZhbCA9IGlzc2V0KCRyYXdDb250ZW50c1ska2V5XSkgPyAkcmF3Q29udGVudHNbJGtleV0gOiBudWxsOwoKaWYgKGlzX2FycmF5KCR2YWx1ZSkgJiYgKCFpc19udW1lcmljKGtleSgkdmFsdWUpKSB8fCAoJGtleSA9PT0gJ3JlcG9zaXRvcmllcycgJiYgbnVsbCA9PT0gJGspKSkgewokayAuPSBwcmVnX3JlcGxhY2UoJ3teY29uZmlnXC59JywgJycsICRrZXkgLiAnLicpOwokdGhpcy0+bGlzdENvbmZpZ3VyYXRpb24oJHZhbHVlLCAkcmF3VmFsLCAkb3V0cHV0LCAkayk7CiRrID0gJG9yaWdLOwoKY29udGludWU7Cn0KCmlmIChpc19hcnJheSgkdmFsdWUpKSB7CiR2YWx1ZSA9IGFycmF5X21hcChmdW5jdGlvbiAoJHZhbCkgewpyZXR1cm4gaXNfYXJyYXkoJHZhbCkgPyBqc29uX2VuY29kZSgkdmFsKSA6ICR2YWw7Cn0sICR2YWx1ZSk7CgokdmFsdWUgPSAnWycuaW1wbG9kZSgnLCAnLCAkdmFsdWUpLiddJzsKfQoKaWYgKGlzX2Jvb2woJHZhbHVlKSkgewokdmFsdWUgPSB2YXJfZXhwb3J0KCR2YWx1ZSwgdHJ1ZSk7Cn0KCmlmIChpc19zdHJpbmcoJHJhd1ZhbCkgJiYgJHJhd1ZhbCAhPSAkdmFsdWUpIHsKJGlvLT53cml0ZSgnWzxjb21tZW50PicgLiAkayAuICRrZXkgLiAnPC9jb21tZW50Pl0gPGluZm8+JyAuICRyYXdWYWwgLiAnICgnIC4gJHZhbHVlIC4gJyk8L2luZm8+JywgdHJ1ZSwgSU9JbnRlcmZhY2U6OlFVSUVUKTsKfSBlbHNlIHsKJGlvLT53cml0ZSgnWzxjb21tZW50PicgLiAkayAuICRrZXkgLiAnPC9jb21tZW50Pl0gPGluZm8+JyAuICR2YWx1ZSAuICc8L2luZm8+JywgdHJ1ZSwgSU9JbnRlcmZhY2U6OlFVSUVUKTsKfQp9Cn0KfQo8P3BocAoKCgoKCgoKCgoKCm5hbWVzcGFjZSBDb21wb3NlclxDb21tYW5kOwoKdXNlIENvbXBvc2VyXENvbmZpZzsKdXNlIENvbXBvc2VyXEZhY3Rvcnk7CnVzZSBDb21wb3NlclxJbnN0YWxsZXI7CnVzZSBDb21wb3NlclxJbnN0YWxsZXJcUHJvamVjdEluc3RhbGxlcjsKdXNlIENvbXBvc2VyXEluc3RhbGxlclxTdWdnZXN0ZWRQYWNrYWdlc1JlcG9ydGVyOwp1c2UgQ29tcG9zZXJcSU9cSU9JbnRlcmZhY2U7CnVzZSBDb21wb3NlclxQYWNrYWdlXEJhc2VQYWNrYWdlOwp1c2UgQ29tcG9zZXJcRGVwZW5kZW5jeVJlc29sdmVyXE9wZXJhdGlvblxJbnN0YWxsT3BlcmF0aW9uOwp1c2UgQ29tcG9zZXJcUGFja2FnZVxWZXJzaW9uXFZlcnNpb25TZWxlY3RvcjsKdXNlIENvbXBvc2VyXFBhY2thZ2VcQWxpYXNQYWNrYWdlOwp1c2UgQ29tcG9zZXJcUmVwb3NpdG9yeVxSZXBvc2l0b3J5RmFjdG9yeTsKdXNlIENvbXBvc2VyXFJlcG9zaXRvcnlcQ29tcG9zaXRlUmVwb3NpdG9yeTsKdXNlIENvbXBvc2VyXFJlcG9zaXRvcnlcUGxhdGZvcm1SZXBvc2l0b3J5Owp1c2UgQ29tcG9zZXJcUmVwb3NpdG9yeVxJbnN0YWxsZWRGaWxlc3lzdGVtUmVwb3NpdG9yeTsKdXNlIENvbXBvc2VyXFJlcG9zaXRvcnlcUmVwb3NpdG9yeVNldDsKdXNlIENvbXBvc2VyXFNjcmlwdFxTY3JpcHRFdmVudHM7CnVzZSBDb21wb3NlclxVdGlsXFNpbGVuY2VyOwp1c2UgU3ltZm9ueVxDb21wb25lbnRcQ29uc29sZVxJbnB1dFxJbnB1dEFyZ3VtZW50Owp1c2UgU3ltZm9ueVxDb21wb25lbnRcQ29uc29sZVxJbnB1dFxJbnB1dEludGVyZmFjZTsKdXNlIFN5bWZvbnlcQ29tcG9uZW50XENvbnNvbGVcSW5wdXRcSW5wdXRPcHRpb247CnVzZSBTeW1mb255XENvbXBvbmVudFxDb25zb2xlXE91dHB1dFxPdXRwdXRJbnRlcmZhY2U7CnVzZSBTeW1mb255XENvbXBvbmVudFxGaW5kZXJcRmluZGVyOwp1c2UgQ29tcG9zZXJcSnNvblxKc29uRmlsZTsKdXNlIENvbXBvc2VyXENvbmZpZ1xKc29uQ29uZmlnU291cmNlOwp1c2UgQ29tcG9zZXJcVXRpbFxGaWxlc3lzdGVtOwp1c2UgQ29tcG9zZXJcVXRpbFxQbGF0Zm9ybTsKdXNlIENvbXBvc2VyXFV0aWxcUHJvY2Vzc0V4ZWN1dG9yOwp1c2UgQ29tcG9zZXJcUGFja2FnZVxWZXJzaW9uXFZlcnNpb25QYXJzZXI7CgoKCgoKCgoKCmNsYXNzIENyZWF0ZVByb2plY3RDb21tYW5kIGV4dGVuZHMgQmFzZUNvbW1hbmQKewoKCgpwcm90ZWN0ZWQgJHN1Z2dlc3RlZFBhY2thZ2VzUmVwb3J0ZXI7Cgpwcm90ZWN0ZWQgZnVuY3Rpb24gY29uZmlndXJlKCkKewokdGhpcwotPnNldE5hbWUoJ2NyZWF0ZS1wcm9qZWN0JykKLT5zZXREZXNjcmlwdGlvbignQ3JlYXRlcyBuZXcgcHJvamVjdCBmcm9tIGEgcGFja2FnZSBpbnRvIGdpdmVuIGRpcmVjdG9yeS4nKQotPnNldERlZmluaXRpb24oYXJyYXkoCm5ldyBJbnB1dEFyZ3VtZW50KCdwYWNrYWdlJywgSW5wdXRBcmd1bWVudDo6T1BUSU9OQUwsICdQYWNrYWdlIG5hbWUgdG8gYmUgaW5zdGFsbGVkJyksCm5ldyBJbnB1dEFyZ3VtZW50KCdkaXJlY3RvcnknLCBJbnB1dEFyZ3VtZW50OjpPUFRJT05BTCwgJ0RpcmVjdG9yeSB3aGVyZSB0aGUgZmlsZXMgc2hvdWxkIGJlIGNyZWF0ZWQnKSwKbmV3IElucHV0QXJndW1lbnQoJ3ZlcnNpb24nLCBJbnB1dEFyZ3VtZW50OjpPUFRJT05BTCwgJ1ZlcnNpb24sIHdpbGwgZGVmYXVsdCB0byBsYXRlc3QnKSwKbmV3IElucHV0T3B0aW9uKCdzdGFiaWxpdHknLCAncycsIElucHV0T3B0aW9uOjpWQUxVRV9SRVFVSVJFRCwgJ01pbmltdW0tc3RhYmlsaXR5IGFsbG93ZWQgKHVubGVzcyBhIHZlcnNpb24gaXMgc3BlY2lmaWVkKS4nKSwKbmV3IElucHV0T3B0aW9uKCdwcmVmZXItc291cmNlJywgbnVsbCwgSW5wdXRPcHRpb246OlZBTFVFX05PTkUsICdGb3JjZXMgaW5zdGFsbGF0aW9uIGZyb20gcGFja2FnZSBzb3VyY2VzIHdoZW4gcG9zc2libGUsIGluY2x1ZGluZyBWQ1MgaW5mb3JtYXRpb24uJyksCm5ldyBJbnB1dE9wdGlvbigncHJlZmVyLWRpc3QnLCBudWxsLCBJbnB1dE9wdGlvbjo6VkFMVUVfTk9ORSwgJ0ZvcmNlcyBpbnN0YWxsYXRpb24gZnJvbSBwYWNrYWdlIGRpc3QgKGRlZmF1bHQgYmVoYXZpb3IpLicpLApuZXcgSW5wdXRPcHRpb24oJ3ByZWZlci1pbnN0YWxsJywgbnVsbCwgSW5wdXRPcHRpb246OlZBTFVFX1JFUVVJUkVELCAnRm9yY2VzIGluc3RhbGxhdGlvbiBmcm9tIHBhY2thZ2UgZGlzdHxzb3VyY2V8YXV0byAoYXV0byBjaG9vc2VzIHNvdXJjZSBmb3IgZGV2IHZlcnNpb25zLCBkaXN0IGZvciB0aGUgcmVzdCkuJyksCm5ldyBJbnB1dE9wdGlvbigncmVwb3NpdG9yeScsIG51bGwsIElucHV0T3B0aW9uOjpWQUxVRV9SRVFVSVJFRCB8IElucHV0T3B0aW9uOjpWQUxVRV9JU19BUlJBWSwgJ0FkZCBjdXN0b20gcmVwb3NpdG9yaWVzIHRvIGxvb2sgdGhlIHBhY2thZ2UgdXAsIGVpdGhlciBieSBVUkwgb3IgdXNpbmcgSlNPTiBhcnJheXMnKSwKbmV3IElucHV0T3B0aW9uKCdyZXBvc2l0b3J5LXVybCcsIG51bGwsIElucHV0T3B0aW9uOjpWQUxVRV9SRVFVSVJFRCwgJ0RFUFJFQ0FURUQ6IFVzZSAtLXJlcG9zaXRvcnkgaW5zdGVhZC4nKSwKbmV3IElucHV0T3B0aW9uKCdhZGQtcmVwb3NpdG9yeScsIG51bGwsIElucHV0T3B0aW9uOjpWQUxVRV9OT05FLCAnQWRkIHRoZSBjdXN0b20gcmVwb3NpdG9yeSBpbiB0aGUgY29tcG9zZXIuanNvbi4gSWYgYSBsb2NrIGZpbGUgaXMgcHJlc2VudCBpdCB3aWxsIGJlIGRlbGV0ZWQgYW5kIGFuIHVwZGF0ZSB3aWxsIGJlIHJ1biBpbnN0ZWFkIG9mIGluc3RhbGwuJyksCm5ldyBJbnB1dE9wdGlvbignZGV2JywgbnVsbCwgSW5wdXRPcHRpb246OlZBTFVFX05PTkUsICdFbmFibGVzIGluc3RhbGxhdGlvbiBvZiByZXF1aXJlLWRldiBwYWNrYWdlcyAoZW5hYmxlZCBieSBkZWZhdWx0LCBvbmx5IHByZXNlbnQgZm9yIEJDKS4nKSwKbmV3IElucHV0T3B0aW9uKCduby1kZXYnLCBudWxsLCBJbnB1dE9wdGlvbjo6VkFMVUVfTk9ORSwgJ0Rpc2FibGVzIGluc3RhbGxhdGlvbiBvZiByZXF1aXJlLWRldiBwYWNrYWdlcy4nKSwKbmV3IElucHV0T3B0aW9uKCduby1jdXN0b20taW5zdGFsbGVycycsIG51bGwsIElucHV0T3B0aW9uOjpWQUxVRV9OT05FLCAnREVQUkVDQVRFRDogVXNlIG5vLXBsdWdpbnMgaW5zdGVhZC4nKSwKbmV3IElucHV0T3B0aW9uKCduby1zY3JpcHRzJywgbnVsbCwgSW5wdXRPcHRpb246OlZBTFVFX05PTkUsICdXaGV0aGVyIHRvIHByZXZlbnQgZXhlY3V0aW9uIG9mIGFsbCBkZWZpbmVkIHNjcmlwdHMgaW4gdGhlIHJvb3QgcGFja2FnZS4nKSwKbmV3IElucHV0T3B0aW9uKCduby1wcm9ncmVzcycsIG51bGwsIElucHV0T3B0aW9uOjpWQUxVRV9OT05FLCAnRG8gbm90IG91dHB1dCBkb3dubG9hZCBwcm9ncmVzcy4nKSwKbmV3IElucHV0T3B0aW9uKCduby1zZWN1cmUtaHR0cCcsIG51bGwsIElucHV0T3B0aW9uOjpWQUxVRV9OT05FLCAnRGlzYWJsZSB0aGUgc2VjdXJlLWh0dHAgY29uZmlnIG9wdGlvbiB0ZW1wb3JhcmlseSB3aGlsZSBpbnN0YWxsaW5nIHRoZSByb290IHBhY2thZ2UuIFVzZSBhdCB5b3VyIG93biByaXNrLiBVc2luZyB0aGlzIGZsYWcgaXMgYSBiYWQgaWRlYS4nKSwKbmV3IElucHV0T3B0aW9uKCdrZWVwLXZjcycsIG51bGwsIElucHV0T3B0aW9uOjpWQUxVRV9OT05FLCAnV2hldGhlciB0byBwcmV2ZW50IGRlbGV0aW5nIHRoZSB2Y3MgZm9sZGVyLicpLApuZXcgSW5wdXRPcHRpb24oJ3JlbW92ZS12Y3MnLCBudWxsLCBJbnB1dE9wdGlvbjo6VkFMVUVfTk9ORSwgJ1doZXRoZXIgdG8gZm9yY2UgZGVsZXRpb24gb2YgdGhlIHZjcyBmb2xkZXIgd2l0aG91dCBwcm9tcHRpbmcuJyksCm5ldyBJbnB1dE9wdGlvbignbm8taW5zdGFsbCcsIG51bGwsIElucHV0T3B0aW9uOjpWQUxVRV9OT05FLCAnV2hldGhlciB0byBza2lwIGluc3RhbGxhdGlvbiBvZiB0aGUgcGFja2FnZSBkZXBlbmRlbmNpZXMuJyksCm5ldyBJbnB1dE9wdGlvbignaWdub3JlLXBsYXRmb3JtLXJlcScsIG51bGwsIElucHV0T3B0aW9uOjpWQUxVRV9SRVFVSVJFRCB8IElucHV0T3B0aW9uOjpWQUxVRV9JU19BUlJBWSwgJ0lnbm9yZSBhIHNwZWNpZmljIHBsYXRmb3JtIHJlcXVpcmVtZW50IChwaHAgJiBleHQtIHBhY2thZ2VzKS4nKSwKbmV3IElucHV0T3B0aW9uKCdpZ25vcmUtcGxhdGZvcm0tcmVxcycsIG51bGwsIElucHV0T3B0aW9uOjpWQUxVRV9OT05FLCAnSWdub3JlIGFsbCBwbGF0Zm9ybSByZXF1aXJlbWVudHMgKHBocCAmIGV4dC0gcGFja2FnZXMpLicpLApuZXcgSW5wdXRPcHRpb24oJ2FzaycsIG51bGwsIElucHV0T3B0aW9uOjpWQUxVRV9OT05FLCAnV2hldGhlciB0byBhc2sgZm9yIHByb2plY3QgZGlyZWN0b3J5LicpLAopKQotPnNldEhlbHAoCjw8PEVPVApUaGUgPGluZm8+Y3JlYXRlLXByb2plY3Q8L2luZm8+IGNvbW1hbmQgY3JlYXRlcyBhIG5ldyBwcm9qZWN0IGZyb20gYSBnaXZlbgpwYWNrYWdlIGludG8gYSBuZXcgZGlyZWN0b3J5LiBJZiBleGVjdXRlZCB3aXRob3V0IHBhcmFtcyBhbmQgaW4gYSBkaXJlY3RvcnkKd2l0aCBhIGNvbXBvc2VyLmpzb24gZmlsZSBpdCBpbnN0YWxscyB0aGUgcGFja2FnZXMgZm9yIHRoZSBjdXJyZW50IHByb2plY3QuCgpZb3UgY2FuIHVzZSB0aGlzIGNvbW1hbmQgdG8gYm9vdHN0cmFwIG5ldyBwcm9qZWN0cyBvciBzZXR1cCBhIGNsZWFuCnZlcnNpb24tY29udHJvbGxlZCBpbnN0YWxsYXRpb24gZm9yIGRldmVsb3BlcnMgb2YgeW91ciBwcm9qZWN0LgoKPGluZm8+cGhwIGNvbXBvc2VyLnBoYXIgY3JlYXRlLXByb2plY3QgdmVuZG9yL3Byb2plY3QgdGFyZ2V0LWRpcmVjdG9yeSBbdmVyc2lvbl08L2luZm8+CgpZb3UgY2FuIGFsc28gc3BlY2lmeSB0aGUgdmVyc2lvbiB3aXRoIHRoZSBwYWNrYWdlIG5hbWUgdXNpbmcgPSBvciA6IGFzIHNlcGFyYXRvci4KCjxpbmZvPnBocCBjb21wb3Nlci5waGFyIGNyZWF0ZS1wcm9qZWN0IHZlbmRvci9wcm9qZWN0OnZlcnNpb24gdGFyZ2V0LWRpcmVjdG9yeTwvaW5mbz4KClRvIGluc3RhbGwgdW5zdGFibGUgcGFja2FnZXMsIGVpdGhlciBzcGVjaWZ5IHRoZSB2ZXJzaW9uIHlvdSB3YW50LCBvciB1c2UgdGhlCi0tc3RhYmlsaXR5PWRldiAod2hlcmUgZGV2IGNhbiBiZSBvbmUgb2YgUkMsIGJldGEsIGFscGhhIG9yIGRldikuCgpUbyBzZXR1cCBhIGRldmVsb3BlciB3b3JrYWJsZSB2ZXJzaW9uIHlvdSBzaG91bGQgY3JlYXRlIHRoZSBwcm9qZWN0IHVzaW5nIHRoZSBzb3VyY2UKY29udHJvbGxlZCBjb2RlIGJ5IGFwcGVuZGluZyB0aGUgPGluZm8+Jy0tcHJlZmVyLXNvdXJjZSc8L2luZm8+IGZsYWcuCgpUbyBpbnN0YWxsIGEgcGFja2FnZSBmcm9tIGFub3RoZXIgcmVwb3NpdG9yeSB0aGFuIHRoZSBkZWZhdWx0IG9uZSB5b3UKY2FuIHBhc3MgdGhlIDxpbmZvPictLXJlcG9zaXRvcnk9aHR0cHM6Ly9teXJlcG9zaXRvcnkub3JnJzwvaW5mbz4gZmxhZy4KClJlYWQgbW9yZSBhdCBodHRwczovL2dldGNvbXBvc2VyLm9yZy9kb2MvMDMtY2xpLm1kI2NyZWF0ZS1wcm9qZWN0CkVPVAopCjsKfQoKcHJvdGVjdGVkIGZ1bmN0aW9uIGV4ZWN1dGUoSW5wdXRJbnRlcmZhY2UgJGlucHV0LCBPdXRwdXRJbnRlcmZhY2UgJG91dHB1dCkKewokY29uZmlnID0gRmFjdG9yeTo6Y3JlYXRlQ29uZmlnKCk7CiRpbyA9ICR0aGlzLT5nZXRJTygpOwoKbGlzdCgkcHJlZmVyU291cmNlLCAkcHJlZmVyRGlzdCkgPSAkdGhpcy0+Z2V0UHJlZmVycmVkSW5zdGFsbE9wdGlvbnMoJGNvbmZpZywgJGlucHV0LCB0cnVlKTsKCmlmICgkaW5wdXQtPmdldE9wdGlvbignZGV2JykpIHsKJGlvLT53cml0ZUVycm9yKCc8d2FybmluZz5Zb3UgYXJlIHVzaW5nIHRoZSBkZXByZWNhdGVkIG9wdGlvbiAiZGV2Ii4gRGV2IHBhY2thZ2VzIGFyZSBpbnN0YWxsZWQgYnkgZGVmYXVsdCBub3cuPC93YXJuaW5nPicpOwp9CmlmICgkaW5wdXQtPmdldE9wdGlvbignbm8tY3VzdG9tLWluc3RhbGxlcnMnKSkgewokaW8tPndyaXRlRXJyb3IoJzx3YXJuaW5nPllvdSBhcmUgdXNpbmcgdGhlIGRlcHJlY2F0ZWQgb3B0aW9uICJuby1jdXN0b20taW5zdGFsbGVycyIuIFVzZSAibm8tcGx1Z2lucyIgaW5zdGVhZC48L3dhcm5pbmc+Jyk7CiRpbnB1dC0+c2V0T3B0aW9uKCduby1wbHVnaW5zJywgdHJ1ZSk7Cn0KCmlmICgkaW5wdXQtPmlzSW50ZXJhY3RpdmUoKSAmJiAkaW5wdXQtPmdldE9wdGlvbignYXNrJykpIHsKJHBhcnRzID0gZXhwbG9kZSgiLyIsIHN0cnRvbG93ZXIoJGlucHV0LT5nZXRBcmd1bWVudCgncGFja2FnZScpKSwgMik7CiRpbnB1dC0+c2V0QXJndW1lbnQoJ2RpcmVjdG9yeScsICRpby0+YXNrKCdOZXcgcHJvamVjdCBkaXJlY3RvcnkgWzxjb21tZW50PicuYXJyYXlfcG9wKCRwYXJ0cykuJzwvY29tbWVudD5dOiAnKSk7Cn0KCiRpZ25vcmVQbGF0Zm9ybVJlcXMgPSAkaW5wdXQtPmdldE9wdGlvbignaWdub3JlLXBsYXRmb3JtLXJlcXMnKSA/OiAoJGlucHV0LT5nZXRPcHRpb24oJ2lnbm9yZS1wbGF0Zm9ybS1yZXEnKSA/OiBmYWxzZSk7CgpyZXR1cm4gJHRoaXMtPmluc3RhbGxQcm9qZWN0KAokaW8sCiRjb25maWcsCiRpbnB1dCwKJGlucHV0LT5nZXRBcmd1bWVudCgncGFja2FnZScpLAokaW5wdXQtPmdldEFyZ3VtZW50KCdkaXJlY3RvcnknKSwKJGlucHV0LT5nZXRBcmd1bWVudCgndmVyc2lvbicpLAokaW5wdXQtPmdldE9wdGlvbignc3RhYmlsaXR5JyksCiRwcmVmZXJTb3VyY2UsCiRwcmVmZXJEaXN0LAohJGlucHV0LT5nZXRPcHRpb24oJ25vLWRldicpLAokaW5wdXQtPmdldE9wdGlvbigncmVwb3NpdG9yeScpID86ICRpbnB1dC0+Z2V0T3B0aW9uKCdyZXBvc2l0b3J5LXVybCcpLAokaW5wdXQtPmdldE9wdGlvbignbm8tcGx1Z2lucycpLAokaW5wdXQtPmdldE9wdGlvbignbm8tc2NyaXB0cycpLAokaW5wdXQtPmdldE9wdGlvbignbm8tcHJvZ3Jlc3MnKSwKJGlucHV0LT5nZXRPcHRpb24oJ25vLWluc3RhbGwnKSwKJGlnbm9yZVBsYXRmb3JtUmVxcywKISRpbnB1dC0+Z2V0T3B0aW9uKCduby1zZWN1cmUtaHR0cCcpLAokaW5wdXQtPmdldE9wdGlvbignYWRkLXJlcG9zaXRvcnknKQopOwp9CgpwdWJsaWMgZnVuY3Rpb24gaW5zdGFsbFByb2plY3QoSU9JbnRlcmZhY2UgJGlvLCBDb25maWcgJGNvbmZpZywgSW5wdXRJbnRlcmZhY2UgJGlucHV0LCAkcGFja2FnZU5hbWUsICRkaXJlY3RvcnkgPSBudWxsLCAkcGFja2FnZVZlcnNpb24gPSBudWxsLCAkc3RhYmlsaXR5ID0gJ3N0YWJsZScsICRwcmVmZXJTb3VyY2UgPSBmYWxzZSwgJHByZWZlckRpc3QgPSBmYWxzZSwgJGluc3RhbGxEZXZQYWNrYWdlcyA9IGZhbHNlLCAkcmVwb3NpdG9yaWVzID0gbnVsbCwgJGRpc2FibGVQbHVnaW5zID0gZmFsc2UsICRub1NjcmlwdHMgPSBmYWxzZSwgJG5vUHJvZ3Jlc3MgPSBmYWxzZSwgJG5vSW5zdGFsbCA9IGZhbHNlLCAkaWdub3JlUGxhdGZvcm1SZXFzID0gZmFsc2UsICRzZWN1cmVIdHRwID0gdHJ1ZSwgJGFkZFJlcG9zaXRvcnkgPSBmYWxzZSkKewokb2xkQ3dkID0gZ2V0Y3dkKCk7CgppZiAoJHJlcG9zaXRvcmllcyAhPT0gbnVsbCAmJiAhaXNfYXJyYXkoJHJlcG9zaXRvcmllcykpIHsKJHJlcG9zaXRvcmllcyA9IChhcnJheSkgJHJlcG9zaXRvcmllczsKfQoKCiRpby0+bG9hZENvbmZpZ3VyYXRpb24oJGNvbmZpZyk7CgokdGhpcy0+c3VnZ2VzdGVkUGFja2FnZXNSZXBvcnRlciA9IG5ldyBTdWdnZXN0ZWRQYWNrYWdlc1JlcG9ydGVyKCRpbyk7CgppZiAoJHBhY2thZ2VOYW1lICE9PSBudWxsKSB7CiRpbnN0YWxsZWRGcm9tVmNzID0gJHRoaXMtPmluc3RhbGxSb290UGFja2FnZSgkaW8sICRjb25maWcsICRwYWNrYWdlTmFtZSwgJGRpcmVjdG9yeSwgJHBhY2thZ2VWZXJzaW9uLCAkc3RhYmlsaXR5LCAkcHJlZmVyU291cmNlLCAkcHJlZmVyRGlzdCwgJGluc3RhbGxEZXZQYWNrYWdlcywgJHJlcG9zaXRvcmllcywgJGRpc2FibGVQbHVnaW5zLCAkbm9TY3JpcHRzLCAkbm9Qcm9ncmVzcywgJGlnbm9yZVBsYXRmb3JtUmVxcywgJHNlY3VyZUh0dHApOwp9IGVsc2UgewokaW5zdGFsbGVkRnJvbVZjcyA9IGZhbHNlOwp9CgppZiAoJHJlcG9zaXRvcmllcyAhPT0gbnVsbCAmJiAkYWRkUmVwb3NpdG9yeSAmJiBpc19maWxlKCdjb21wb3Nlci5sb2NrJykpIHsKdW5saW5rKCdjb21wb3Nlci5sb2NrJyk7Cn0KCiRjb21wb3NlciA9IEZhY3Rvcnk6OmNyZWF0ZSgkaW8sIG51bGwsICRkaXNhYmxlUGx1Z2lucyk7CiRjb21wb3Nlci0+Z2V0RXZlbnREaXNwYXRjaGVyKCktPnNldFJ1blNjcmlwdHMoISRub1NjcmlwdHMpOwoKCmlmICgkcmVwb3NpdG9yaWVzICE9PSBudWxsICYmICRhZGRSZXBvc2l0b3J5KSB7CmZvcmVhY2ggKCRyZXBvc2l0b3JpZXMgYXMgJGluZGV4ID0+ICRyZXBvKSB7CiRyZXBvQ29uZmlnID0gUmVwb3NpdG9yeUZhY3Rvcnk6OmNvbmZpZ0Zyb21TdHJpbmcoJGlvLCAkY29tcG9zZXItPmdldENvbmZpZygpLCAkcmVwbywgdHJ1ZSk7CiRjb21wb3Nlckpzb25SZXBvc2l0b3JpZXNDb25maWcgPSAkY29tcG9zZXItPmdldENvbmZpZygpLT5nZXRSZXBvc2l0b3JpZXMoKTsKJG5hbWUgPSBSZXBvc2l0b3J5RmFjdG9yeTo6Z2VuZXJhdGVSZXBvc2l0b3J5TmFtZSgkaW5kZXgsICRyZXBvQ29uZmlnLCAkY29tcG9zZXJKc29uUmVwb3NpdG9yaWVzQ29uZmlnKTsKJGNvbmZpZ1NvdXJjZSA9IG5ldyBKc29uQ29uZmlnU291cmNlKG5ldyBKc29uRmlsZSgnY29tcG9zZXIuanNvbicpKTsKCmlmICgKKGlzc2V0KCRyZXBvQ29uZmlnWydwYWNrYWdpc3QnXSkgJiYgJHJlcG9Db25maWcgPT09IGFycmF5KCdwYWNrYWdpc3QnID0+IGZhbHNlKSkKfHwgKGlzc2V0KCRyZXBvQ29uZmlnWydwYWNrYWdpc3Qub3JnJ10pICYmICRyZXBvQ29uZmlnID09PSBhcnJheSgncGFja2FnaXN0Lm9yZycgPT4gZmFsc2UpKQopIHsKJGNvbmZpZ1NvdXJjZS0+YWRkUmVwb3NpdG9yeSgncGFja2FnaXN0Lm9yZycsIGZhbHNlKTsKfSBlbHNlIHsKJGNvbmZpZ1NvdXJjZS0+YWRkUmVwb3NpdG9yeSgkbmFtZSwgJHJlcG9Db25maWcsIGZhbHNlKTsKfQoKJGNvbXBvc2VyID0gRmFjdG9yeTo6Y3JlYXRlKCRpbywgbnVsbCwgJGRpc2FibGVQbHVnaW5zKTsKfQp9CgokcHJvY2VzcyA9IG5ldyBQcm9jZXNzRXhlY3V0b3IoJGlvKTsKJGZzID0gbmV3IEZpbGVzeXN0ZW0oJHByb2Nlc3MpOwoKCiRjb21wb3Nlci0+Z2V0RXZlbnREaXNwYXRjaGVyKCktPmRpc3BhdGNoU2NyaXB0KFNjcmlwdEV2ZW50czo6UE9TVF9ST09UX1BBQ0tBR0VfSU5TVEFMTCwgJGluc3RhbGxEZXZQYWNrYWdlcyk7CgoKJGNvbmZpZyA9ICRjb21wb3Nlci0+Z2V0Q29uZmlnKCk7Cmxpc3QoJHByZWZlclNvdXJjZSwgJHByZWZlckRpc3QpID0gJHRoaXMtPmdldFByZWZlcnJlZEluc3RhbGxPcHRpb25zKCRjb25maWcsICRpbnB1dCk7CgoKaWYgKCRub0luc3RhbGwgPT09IGZhbHNlKSB7CiRjb21wb3Nlci0+Z2V0SW5zdGFsbGF0aW9uTWFuYWdlcigpLT5zZXRPdXRwdXRQcm9ncmVzcyghJG5vUHJvZ3Jlc3MpOwoKJGluc3RhbGxlciA9IEluc3RhbGxlcjo6Y3JlYXRlKCRpbywgJGNvbXBvc2VyKTsKJGluc3RhbGxlci0+c2V0UHJlZmVyU291cmNlKCRwcmVmZXJTb3VyY2UpCi0+c2V0UHJlZmVyRGlzdCgkcHJlZmVyRGlzdCkKLT5zZXREZXZNb2RlKCRpbnN0YWxsRGV2UGFja2FnZXMpCi0+c2V0SWdub3JlUGxhdGZvcm1SZXF1aXJlbWVudHMoJGlnbm9yZVBsYXRmb3JtUmVxcykKLT5zZXRTdWdnZXN0ZWRQYWNrYWdlc1JlcG9ydGVyKCR0aGlzLT5zdWdnZXN0ZWRQYWNrYWdlc1JlcG9ydGVyKQotPnNldE9wdGltaXplQXV0b2xvYWRlcigkY29uZmlnLT5nZXQoJ29wdGltaXplLWF1dG9sb2FkZXInKSkKLT5zZXRDbGFzc01hcEF1dGhvcml0YXRpdmUoJGNvbmZpZy0+Z2V0KCdjbGFzc21hcC1hdXRob3JpdGF0aXZlJykpCi0+c2V0QXBjdUF1dG9sb2FkZXIoJGNvbmZpZy0+Z2V0KCdhcGN1LWF1dG9sb2FkZXInKSk7CgppZiAoISRjb21wb3Nlci0+Z2V0TG9ja2VyKCktPmlzTG9ja2VkKCkpIHsKJGluc3RhbGxlci0+c2V0VXBkYXRlKHRydWUpOwp9CgppZiAoJGRpc2FibGVQbHVnaW5zKSB7CiRpbnN0YWxsZXItPmRpc2FibGVQbHVnaW5zKCk7Cn0KCiRzdGF0dXMgPSAkaW5zdGFsbGVyLT5ydW4oKTsKaWYgKDAgIT09ICRzdGF0dXMpIHsKcmV0dXJuICRzdGF0dXM7Cn0KfQoKJGhhc1ZjcyA9ICRpbnN0YWxsZWRGcm9tVmNzOwppZiAoCiEkaW5wdXQtPmdldE9wdGlvbigna2VlcC12Y3MnKQomJiAkaW5zdGFsbGVkRnJvbVZjcwomJiAoCiRpbnB1dC0+Z2V0T3B0aW9uKCdyZW1vdmUtdmNzJykKfHwgISRpby0+aXNJbnRlcmFjdGl2ZSgpCnx8ICRpby0+YXNrQ29uZmlybWF0aW9uKCc8aW5mbz5EbyB5b3Ugd2FudCB0byByZW1vdmUgdGhlIGV4aXN0aW5nIFZDUyAoLmdpdCwgLnN2bi4uKSBoaXN0b3J5PzwvaW5mbz4gWzxjb21tZW50PlksbjwvY29tbWVudD5dPyAnKQopCikgewokZmluZGVyID0gbmV3IEZpbmRlcigpOwokZmluZGVyLT5kZXB0aCgwKS0+ZGlyZWN0b3JpZXMoKS0+aW4oZ2V0Y3dkKCkpLT5pZ25vcmVWQ1MoZmFsc2UpLT5pZ25vcmVEb3RGaWxlcyhmYWxzZSk7CmZvcmVhY2ggKGFycmF5KCcuc3ZuJywgJ19zdm4nLCAnQ1ZTJywgJ19kYXJjcycsICcuYXJjaC1wYXJhbXMnLCAnLm1vbm90b25lJywgJy5ienInLCAnLmdpdCcsICcuaGcnLCAnLmZzbGNrb3V0JywgJ19GT1NTSUxfJykgYXMgJHZjc05hbWUpIHsKJGZpbmRlci0+bmFtZSgkdmNzTmFtZSk7Cn0KCnRyeSB7CiRkaXJzID0gaXRlcmF0b3JfdG9fYXJyYXkoJGZpbmRlcik7CnVuc2V0KCRmaW5kZXIpOwpmb3JlYWNoICgkZGlycyBhcyAkZGlyKSB7CmlmICghJGZzLT5yZW1vdmVEaXJlY3RvcnkoJGRpcikpIHsKdGhyb3cgbmV3IFxSdW50aW1lRXhjZXB0aW9uKCdDb3VsZCBub3QgcmVtb3ZlICcuJGRpcik7Cn0KfQp9IGNhdGNoIChcRXhjZXB0aW9uICRlKSB7CiRpby0+d3JpdGVFcnJvcignPGVycm9yPkFuIGVycm9yIG9jY3VycmVkIHdoaWxlIHJlbW92aW5nIHRoZSBWQ1MgbWV0YWRhdGE6ICcuJGUtPmdldE1lc3NhZ2UoKS4nPC9lcnJvcj4nKTsKfQoKJGhhc1ZjcyA9IGZhbHNlOwp9CgoKaWYgKCEkaGFzVmNzKSB7CiRwYWNrYWdlID0gJGNvbXBvc2VyLT5nZXRQYWNrYWdlKCk7CiRjb25maWdTb3VyY2UgPSBuZXcgSnNvbkNvbmZpZ1NvdXJjZShuZXcgSnNvbkZpbGUoJ2NvbXBvc2VyLmpzb24nKSk7CmZvcmVhY2ggKEJhc2VQYWNrYWdlOjokc3VwcG9ydGVkTGlua1R5cGVzIGFzICR0eXBlID0+ICRtZXRhKSB7CmZvcmVhY2ggKCRwYWNrYWdlLT57J2dldCcuJG1ldGFbJ21ldGhvZCddfSgpIGFzICRsaW5rKSB7CmlmICgkbGluay0+Z2V0UHJldHR5Q29uc3RyYWludCgpID09PSAnc2VsZi52ZXJzaW9uJykgewokY29uZmlnU291cmNlLT5hZGRMaW5rKCR0eXBlLCAkbGluay0+Z2V0VGFyZ2V0KCksICRwYWNrYWdlLT5nZXRQcmV0dHlWZXJzaW9uKCkpOwp9Cn0KfQp9CgoKJGNvbXBvc2VyLT5nZXRFdmVudERpc3BhdGNoZXIoKS0+ZGlzcGF0Y2hTY3JpcHQoU2NyaXB0RXZlbnRzOjpQT1NUX0NSRUFURV9QUk9KRUNUX0NNRCwgJGluc3RhbGxEZXZQYWNrYWdlcyk7CgpjaGRpcigkb2xkQ3dkKTsKJHZlbmRvckNvbXBvc2VyRGlyID0gJGNvbmZpZy0+Z2V0KCd2ZW5kb3ItZGlyJykuJy9jb21wb3Nlcic7CmlmIChpc19kaXIoJHZlbmRvckNvbXBvc2VyRGlyKSAmJiAkZnMtPmlzRGlyRW1wdHkoJHZlbmRvckNvbXBvc2VyRGlyKSkgewpTaWxlbmNlcjo6Y2FsbCgncm1kaXInLCAkdmVuZG9yQ29tcG9zZXJEaXIpOwokdmVuZG9yRGlyID0gJGNvbmZpZy0+Z2V0KCd2ZW5kb3ItZGlyJyk7CmlmIChpc19kaXIoJHZlbmRvckRpcikgJiYgJGZzLT5pc0RpckVtcHR5KCR2ZW5kb3JEaXIpKSB7ClNpbGVuY2VyOjpjYWxsKCdybWRpcicsICR2ZW5kb3JEaXIpOwp9Cn0KCnJldHVybiAwOwp9Cgpwcm90ZWN0ZWQgZnVuY3Rpb24gaW5zdGFsbFJvb3RQYWNrYWdlKElPSW50ZXJmYWNlICRpbywgQ29uZmlnICRjb25maWcsICRwYWNrYWdlTmFtZSwgJGRpcmVjdG9yeSA9IG51bGwsICRwYWNrYWdlVmVyc2lvbiA9IG51bGwsICRzdGFiaWxpdHkgPSAnc3RhYmxlJywgJHByZWZlclNvdXJjZSA9IGZhbHNlLCAkcHJlZmVyRGlzdCA9IGZhbHNlLCAkaW5zdGFsbERldlBhY2thZ2VzID0gZmFsc2UsIGFycmF5ICRyZXBvc2l0b3JpZXMgPSBudWxsLCAkZGlzYWJsZVBsdWdpbnMgPSBmYWxzZSwgJG5vU2NyaXB0cyA9IGZhbHNlLCAkbm9Qcm9ncmVzcyA9IGZhbHNlLCAkaWdub3JlUGxhdGZvcm1SZXFzID0gZmFsc2UsICRzZWN1cmVIdHRwID0gdHJ1ZSkKewppZiAoISRzZWN1cmVIdHRwKSB7CiRjb25maWctPm1lcmdlKGFycmF5KCdjb25maWcnID0+IGFycmF5KCdzZWN1cmUtaHR0cCcgPT4gZmFsc2UpKSk7Cn0KCiRwYXJzZXIgPSBuZXcgVmVyc2lvblBhcnNlcigpOwokcmVxdWlyZW1lbnRzID0gJHBhcnNlci0+cGFyc2VOYW1lVmVyc2lvblBhaXJzKGFycmF5KCRwYWNrYWdlTmFtZSkpOwokbmFtZSA9IHN0cnRvbG93ZXIoJHJlcXVpcmVtZW50c1swXVsnbmFtZSddKTsKaWYgKCEkcGFja2FnZVZlcnNpb24gJiYgaXNzZXQoJHJlcXVpcmVtZW50c1swXVsndmVyc2lvbiddKSkgewokcGFja2FnZVZlcnNpb24gPSAkcmVxdWlyZW1lbnRzWzBdWyd2ZXJzaW9uJ107Cn0KCgppZiAobnVsbCA9PT0gJGRpcmVjdG9yeSkgewokcGFydHMgPSBleHBsb2RlKCIvIiwgJG5hbWUsIDIpOwokZGlyZWN0b3J5ID0gZ2V0Y3dkKCkgLiBESVJFQ1RPUllfU0VQQVJBVE9SIC4gYXJyYXlfcG9wKCRwYXJ0cyk7Cn0KCiRwcm9jZXNzID0gbmV3IFByb2Nlc3NFeGVjdXRvcigkaW8pOwokZnMgPSBuZXcgRmlsZXN5c3RlbSgkcHJvY2Vzcyk7CmlmICghJGZzLT5pc0Fic29sdXRlUGF0aCgkZGlyZWN0b3J5KSkgewokZGlyZWN0b3J5ID0gZ2V0Y3dkKCkgLiBESVJFQ1RPUllfU0VQQVJBVE9SIC4gJGRpcmVjdG9yeTsKfQoKJGlvLT53cml0ZUVycm9yKCc8aW5mbz5DcmVhdGluZyBhICInIC4gJHBhY2thZ2VOYW1lIC4gJyIgcHJvamVjdCBhdCAiJyAuICRmcy0+ZmluZFNob3J0ZXN0UGF0aChnZXRjd2QoKSwgJGRpcmVjdG9yeSwgdHJ1ZSkgLiAnIjwvaW5mbz4nKTsKCmlmIChmaWxlX2V4aXN0cygkZGlyZWN0b3J5KSkgewppZiAoIWlzX2RpcigkZGlyZWN0b3J5KSkgewp0aHJvdyBuZXcgXEludmFsaWRBcmd1bWVudEV4Y2VwdGlvbignQ2Fubm90IGNyZWF0ZSBwcm9qZWN0IGRpcmVjdG9yeSBhdCAiJy4kZGlyZWN0b3J5LiciLCBpdCBleGlzdHMgYXMgYSBmaWxlLicpOwp9CmlmICghJGZzLT5pc0RpckVtcHR5KCRkaXJlY3RvcnkpKSB7CnRocm93IG5ldyBcSW52YWxpZEFyZ3VtZW50RXhjZXB0aW9uKCdQcm9qZWN0IGRpcmVjdG9yeSAiJy4kZGlyZWN0b3J5LiciIGlzIG5vdCBlbXB0eS4nKTsKfQp9CgppZiAobnVsbCA9PT0gJHN0YWJpbGl0eSkgewppZiAobnVsbCA9PT0gJHBhY2thZ2VWZXJzaW9uKSB7CiRzdGFiaWxpdHkgPSAnc3RhYmxlJzsKfSBlbHNlaWYgKHByZWdfbWF0Y2goJ3teW14sXHNdKj9AKCcuaW1wbG9kZSgnfCcsIGFycmF5X2tleXMoQmFzZVBhY2thZ2U6OiRzdGFiaWxpdGllcykpLicpJH1pJywgJHBhY2thZ2VWZXJzaW9uLCAkbWF0Y2gpKSB7CiRzdGFiaWxpdHkgPSAkbWF0Y2hbMV07Cn0gZWxzZSB7CiRzdGFiaWxpdHkgPSBWZXJzaW9uUGFyc2VyOjpwYXJzZVN0YWJpbGl0eSgkcGFja2FnZVZlcnNpb24pOwp9Cn0KCiRzdGFiaWxpdHkgPSBWZXJzaW9uUGFyc2VyOjpub3JtYWxpemVTdGFiaWxpdHkoJHN0YWJpbGl0eSk7CgppZiAoIWlzc2V0KEJhc2VQYWNrYWdlOjokc3RhYmlsaXRpZXNbJHN0YWJpbGl0eV0pKSB7CnRocm93IG5ldyBcSW52YWxpZEFyZ3VtZW50RXhjZXB0aW9uKCdJbnZhbGlkIHN0YWJpbGl0eSBwcm92aWRlZCAoJy4kc3RhYmlsaXR5LicpLCBtdXN0IGJlIG9uZSBvZjogJy5pbXBsb2RlKCcsICcsIGFycmF5X2tleXMoQmFzZVBhY2thZ2U6OiRzdGFiaWxpdGllcykpKTsKfQoKJGNvbXBvc2VyID0gRmFjdG9yeTo6Y3JlYXRlKCRpbywgJGNvbmZpZy0+YWxsKCksICRkaXNhYmxlUGx1Z2lucyk7CiRjb25maWcgPSAkY29tcG9zZXItPmdldENvbmZpZygpOwokcm0gPSAkY29tcG9zZXItPmdldFJlcG9zaXRvcnlNYW5hZ2VyKCk7CgokcmVwb3NpdG9yeVNldCA9IG5ldyBSZXBvc2l0b3J5U2V0KCRzdGFiaWxpdHkpOwppZiAobnVsbCA9PT0gJHJlcG9zaXRvcmllcykgewokcmVwb3NpdG9yeVNldC0+YWRkUmVwb3NpdG9yeShuZXcgQ29tcG9zaXRlUmVwb3NpdG9yeShSZXBvc2l0b3J5RmFjdG9yeTo6ZGVmYXVsdFJlcG9zKCRpbywgJGNvbmZpZywgJHJtKSkpOwp9IGVsc2Ugewpmb3JlYWNoICgkcmVwb3NpdG9yaWVzIGFzICRyZXBvKSB7CiRyZXBvQ29uZmlnID0gUmVwb3NpdG9yeUZhY3Rvcnk6OmNvbmZpZ0Zyb21TdHJpbmcoJGlvLCAkY29uZmlnLCAkcmVwbywgdHJ1ZSk7CmlmICgKKGlzc2V0KCRyZXBvQ29uZmlnWydwYWNrYWdpc3QnXSkgJiYgJHJlcG9Db25maWcgPT09IGFycmF5KCdwYWNrYWdpc3QnID0+IGZhbHNlKSkKfHwgKGlzc2V0KCRyZXBvQ29uZmlnWydwYWNrYWdpc3Qub3JnJ10pICYmICRyZXBvQ29uZmlnID09PSBhcnJheSgncGFja2FnaXN0Lm9yZycgPT4gZmFsc2UpKQopIHsKY29udGludWU7Cn0KJHJlcG9zaXRvcnlTZXQtPmFkZFJlcG9zaXRvcnkoUmVwb3NpdG9yeUZhY3Rvcnk6OmNyZWF0ZVJlcG8oJGlvLCAkY29uZmlnLCAkcmVwb0NvbmZpZywgJHJtKSk7Cn0KfQoKJHBsYXRmb3JtT3ZlcnJpZGVzID0gJGNvbmZpZy0+Z2V0KCdwbGF0Zm9ybScpID86IGFycmF5KCk7CiRwbGF0Zm9ybVJlcG8gPSBuZXcgUGxhdGZvcm1SZXBvc2l0b3J5KGFycmF5KCksICRwbGF0Zm9ybU92ZXJyaWRlcyk7CgoKJHZlcnNpb25TZWxlY3RvciA9IG5ldyBWZXJzaW9uU2VsZWN0b3IoJHJlcG9zaXRvcnlTZXQsICRwbGF0Zm9ybVJlcG8pOwokcGFja2FnZSA9ICR2ZXJzaW9uU2VsZWN0b3ItPmZpbmRCZXN0Q2FuZGlkYXRlKCRuYW1lLCAkcGFja2FnZVZlcnNpb24sICRzdGFiaWxpdHksICRpZ25vcmVQbGF0Zm9ybVJlcXMpOwoKaWYgKCEkcGFja2FnZSkgewokZXJyb3JNZXNzYWdlID0gIkNvdWxkIG5vdCBmaW5kIHBhY2thZ2UgJG5hbWUgd2l0aCAiIC4gKCRwYWNrYWdlVmVyc2lvbiA/ICJ2ZXJzaW9uICRwYWNrYWdlVmVyc2lvbiIgOiAic3RhYmlsaXR5ICRzdGFiaWxpdHkiKTsKaWYgKHRydWUgIT09ICRpZ25vcmVQbGF0Zm9ybVJlcXMgJiYgJHZlcnNpb25TZWxlY3Rvci0+ZmluZEJlc3RDYW5kaWRhdGUoJG5hbWUsICRwYWNrYWdlVmVyc2lvbiwgJHN0YWJpbGl0eSwgdHJ1ZSkpIHsKdGhyb3cgbmV3IFxJbnZhbGlkQXJndW1lbnRFeGNlcHRpb24oJGVycm9yTWVzc2FnZSAuJyBpbiBhIHZlcnNpb24gaW5zdGFsbGFibGUgdXNpbmcgeW91ciBQSFAgdmVyc2lvbiwgUEhQIGV4dGVuc2lvbnMgYW5kIENvbXBvc2VyIHZlcnNpb24uJyk7Cn0KCnRocm93IG5ldyBcSW52YWxpZEFyZ3VtZW50RXhjZXB0aW9uKCRlcnJvck1lc3NhZ2UgLicuJyk7Cn0KCgppZiAoZnVuY3Rpb25fZXhpc3RzKCdwY250bF9hc3luY19zaWduYWxzJykgJiYgZnVuY3Rpb25fZXhpc3RzKCdwY250bF9zaWduYWwnKSkgewpAbWtkaXIoJGRpcmVjdG9yeSwgMDc3NywgdHJ1ZSk7CmlmICgkcmVhbERpciA9IHJlYWxwYXRoKCRkaXJlY3RvcnkpKSB7CnBjbnRsX2FzeW5jX3NpZ25hbHModHJ1ZSk7CnBjbnRsX3NpZ25hbChTSUdJTlQsIGZ1bmN0aW9uICgpIHVzZSAoJHJlYWxEaXIpIHsKJGZzID0gbmV3IEZpbGVzeXN0ZW0oKTsKJGZzLT5yZW1vdmVEaXJlY3RvcnkoJHJlYWxEaXIpOwpleGl0KDEzMCk7Cn0pOwp9Cn0KCmlmIChmdW5jdGlvbl9leGlzdHMoJ3NhcGlfd2luZG93c19zZXRfY3RybF9oYW5kbGVyJykgJiYgUEhQX1NBUEkgPT09ICdjbGknKSB7CkBta2RpcigkZGlyZWN0b3J5LCAwNzc3LCB0cnVlKTsKaWYgKCRyZWFsRGlyID0gcmVhbHBhdGgoJGRpcmVjdG9yeSkpIHsKc2FwaV93aW5kb3dzX3NldF9jdHJsX2hhbmRsZXIoZnVuY3Rpb24gKCkgdXNlICgkcmVhbERpcikgewokZnMgPSBuZXcgRmlsZXN5c3RlbSgpOwokZnMtPnJlbW92ZURpcmVjdG9yeSgkcmVhbERpcik7CmV4aXQoMTMwKTsKfSk7Cn0KfQoKCmlmICgkcGFja2FnZSBpbnN0YW5jZW9mIEFsaWFzUGFja2FnZSAmJiAkcGFja2FnZS0+Z2V0UHJldHR5VmVyc2lvbigpID09PSBWZXJzaW9uUGFyc2VyOjpERUZBVUxUX0JSQU5DSF9BTElBUykgewokcGFja2FnZSA9ICRwYWNrYWdlLT5nZXRBbGlhc09mKCk7Cn0KCiRpby0+d3JpdGVFcnJvcignPGluZm8+SW5zdGFsbGluZyAnIC4gJHBhY2thZ2UtPmdldE5hbWUoKSAuICcgKCcgLiAkcGFja2FnZS0+Z2V0RnVsbFByZXR0eVZlcnNpb24oZmFsc2UpIC4gJyk8L2luZm8+Jyk7CgppZiAoJGRpc2FibGVQbHVnaW5zKSB7CiRpby0+d3JpdGVFcnJvcignPGluZm8+UGx1Z2lucyBoYXZlIGJlZW4gZGlzYWJsZWQuPC9pbmZvPicpOwp9CgppZiAoJHBhY2thZ2UgaW5zdGFuY2VvZiBBbGlhc1BhY2thZ2UpIHsKJHBhY2thZ2UgPSAkcGFja2FnZS0+Z2V0QWxpYXNPZigpOwp9CgokZG0gPSAkY29tcG9zZXItPmdldERvd25sb2FkTWFuYWdlcigpOwokZG0tPnNldFByZWZlclNvdXJjZSgkcHJlZmVyU291cmNlKQotPnNldFByZWZlckRpc3QoJHByZWZlckRpc3QpOwoKJHByb2plY3RJbnN0YWxsZXIgPSBuZXcgUHJvamVjdEluc3RhbGxlcigkZGlyZWN0b3J5LCAkZG0sICRmcyk7CiRpbSA9ICRjb21wb3Nlci0+Z2V0SW5zdGFsbGF0aW9uTWFuYWdlcigpOwokaW0tPnNldE91dHB1dFByb2dyZXNzKCEkbm9Qcm9ncmVzcyk7CiRpbS0+YWRkSW5zdGFsbGVyKCRwcm9qZWN0SW5zdGFsbGVyKTsKJGltLT5leGVjdXRlKG5ldyBJbnN0YWxsZWRGaWxlc3lzdGVtUmVwb3NpdG9yeShuZXcgSnNvbkZpbGUoJ3BocDovL21lbW9yeScpKSwgYXJyYXkobmV3IEluc3RhbGxPcGVyYXRpb24oJHBhY2thZ2UpKSk7CiRpbS0+bm90aWZ5SW5zdGFsbHMoJGlvKTsKCgokdGhpcy0+c3VnZ2VzdGVkUGFja2FnZXNSZXBvcnRlci0+YWRkU3VnZ2VzdGlvbnNGcm9tUGFja2FnZSgkcGFja2FnZSk7CgokaW5zdGFsbGVkRnJvbVZjcyA9ICdzb3VyY2UnID09PSAkcGFja2FnZS0+Z2V0SW5zdGFsbGF0aW9uU291cmNlKCk7CgokaW8tPndyaXRlRXJyb3IoJzxpbmZvPkNyZWF0ZWQgcHJvamVjdCBpbiAnIC4gJGRpcmVjdG9yeSAuICc8L2luZm8+Jyk7CmNoZGlyKCRkaXJlY3RvcnkpOwoKUGxhdGZvcm06OnB1dEVudignQ09NUE9TRVJfUk9PVF9WRVJTSU9OJywgJHBhY2thZ2UtPmdldFByZXR0eVZlcnNpb24oKSk7CgpyZXR1cm4gJGluc3RhbGxlZEZyb21WY3M7Cn0KfQo8P3BocAoKCgoKCgoKCgoKCm5hbWVzcGFjZSBDb21wb3NlclxDb21tYW5kOwoKdXNlIFN5bWZvbnlcQ29tcG9uZW50XENvbnNvbGVcSW5wdXRcSW5wdXRJbnRlcmZhY2U7CnVzZSBTeW1mb255XENvbXBvbmVudFxDb25zb2xlXE91dHB1dFxPdXRwdXRJbnRlcmZhY2U7CnVzZSBTeW1mb255XENvbXBvbmVudFxDb25zb2xlXElucHV0XElucHV0QXJndW1lbnQ7CnVzZSBTeW1mb255XENvbXBvbmVudFxDb25zb2xlXElucHV0XElucHV0T3B0aW9uOwoKCgoKY2xhc3MgRGVwZW5kc0NvbW1hbmQgZXh0ZW5kcyBCYXNlRGVwZW5kZW5jeUNvbW1hbmQKewoKCgpwcm90ZWN0ZWQgZnVuY3Rpb24gY29uZmlndXJlKCkKewokdGhpcwotPnNldE5hbWUoJ2RlcGVuZHMnKQotPnNldEFsaWFzZXMoYXJyYXkoJ3doeScpKQotPnNldERlc2NyaXB0aW9uKCdTaG93cyB3aGljaCBwYWNrYWdlcyBjYXVzZSB0aGUgZ2l2ZW4gcGFja2FnZSB0byBiZSBpbnN0YWxsZWQuJykKLT5zZXREZWZpbml0aW9uKGFycmF5KApuZXcgSW5wdXRBcmd1bWVudChzZWxmOjpBUkdVTUVOVF9QQUNLQUdFLCBJbnB1dEFyZ3VtZW50OjpSRVFVSVJFRCwgJ1BhY2thZ2UgdG8gaW5zcGVjdCcpLApuZXcgSW5wdXRPcHRpb24oc2VsZjo6T1BUSU9OX1JFQ1VSU0lWRSwgJ3InLCBJbnB1dE9wdGlvbjo6VkFMVUVfTk9ORSwgJ1JlY3Vyc2l2ZWx5IHJlc29sdmVzIHVwIHRvIHRoZSByb290IHBhY2thZ2UnKSwKbmV3IElucHV0T3B0aW9uKHNlbGY6Ok9QVElPTl9UUkVFLCAndCcsIElucHV0T3B0aW9uOjpWQUxVRV9OT05FLCAnUHJpbnRzIHRoZSByZXN1bHRzIGFzIGEgbmVzdGVkIHRyZWUnKSwKKSkKLT5zZXRIZWxwKAo8PDxFT1QKRGlzcGxheXMgZGV0YWlsZWQgaW5mb3JtYXRpb24gYWJvdXQgd2hlcmUgYSBwYWNrYWdlIGlzIHJlZmVyZW5jZWQuCgo8aW5mbz5waHAgY29tcG9zZXIucGhhciBkZXBlbmRzIGNvbXBvc2VyL2NvbXBvc2VyPC9pbmZvPgoKUmVhZCBtb3JlIGF0IGh0dHBzOi8vZ2V0Y29tcG9zZXIub3JnL2RvYy8wMy1jbGkubWQjZGVwZW5kcy13aHktCkVPVAopCjsKfQoKCgoKCgoKCnByb3RlY3RlZCBmdW5jdGlvbiBleGVjdXRlKElucHV0SW50ZXJmYWNlICRpbnB1dCwgT3V0cHV0SW50ZXJmYWNlICRvdXRwdXQpCnsKcmV0dXJuIHBhcmVudDo6ZG9FeGVjdXRlKCRpbnB1dCwgJG91dHB1dCk7Cn0KfQo8P3BocAoKCgoKCgoKCgoKCm5hbWVzcGFjZSBDb21wb3NlclxDb21tYW5kOwoKdXNlIENvbXBvc2VyXENvbXBvc2VyOwp1c2UgQ29tcG9zZXJcRmFjdG9yeTsKdXNlIENvbXBvc2VyXENvbmZpZzsKdXNlIENvbXBvc2VyXERvd25sb2FkZXJcVHJhbnNwb3J0RXhjZXB0aW9uOwp1c2UgQ29tcG9zZXJcUmVwb3NpdG9yeVxQbGF0Zm9ybVJlcG9zaXRvcnk7CnVzZSBDb21wb3NlclxQbHVnaW5cQ29tbWFuZEV2ZW50Owp1c2UgQ29tcG9zZXJcUGx1Z2luXFBsdWdpbkV2ZW50czsKdXNlIENvbXBvc2VyXFV0aWxcQ29uZmlnVmFsaWRhdG9yOwp1c2UgQ29tcG9zZXJcVXRpbFxJbmlIZWxwZXI7CnVzZSBDb21wb3NlclxVdGlsXFByb2Nlc3NFeGVjdXRvcjsKdXNlIENvbXBvc2VyXFV0aWxcSHR0cERvd25sb2FkZXI7CnVzZSBDb21wb3NlclxVdGlsXFN0cmVhbUNvbnRleHRGYWN0b3J5Owp1c2UgQ29tcG9zZXJcVXRpbFxQbGF0Zm9ybTsKdXNlIENvbXBvc2VyXFNlbGZVcGRhdGVcS2V5czsKdXNlIENvbXBvc2VyXFNlbGZVcGRhdGVcVmVyc2lvbnM7CnVzZSBDb21wb3NlclxJT1xOdWxsSU87CnVzZSBDb21wb3NlclxQYWNrYWdlXENvbXBsZXRlUGFja2FnZUludGVyZmFjZTsKdXNlIENvbXBvc2VyXFhkZWJ1Z0hhbmRsZXJcWGRlYnVnSGFuZGxlcjsKdXNlIFN5bWZvbnlcQ29tcG9uZW50XENvbnNvbGVcSW5wdXRcSW5wdXRJbnRlcmZhY2U7CnVzZSBTeW1mb255XENvbXBvbmVudFxDb25zb2xlXE91dHB1dFxPdXRwdXRJbnRlcmZhY2U7CnVzZSBTeW1mb255XENvbXBvbmVudFxQcm9jZXNzXEV4ZWN1dGFibGVGaW5kZXI7CgoKCgpjbGFzcyBEaWFnbm9zZUNvbW1hbmQgZXh0ZW5kcyBCYXNlQ29tbWFuZAp7Cgpwcm90ZWN0ZWQgJGh0dHBEb3dubG9hZGVyOwoKCnByb3RlY3RlZCAkcHJvY2VzczsKCgpwcm90ZWN0ZWQgJGV4aXRDb2RlID0gMDsKCnByb3RlY3RlZCBmdW5jdGlvbiBjb25maWd1cmUoKQp7CiR0aGlzCi0+c2V0TmFtZSgnZGlhZ25vc2UnKQotPnNldERlc2NyaXB0aW9uKCdEaWFnbm9zZXMgdGhlIHN5c3RlbSB0byBpZGVudGlmeSBjb21tb24gZXJyb3JzLicpCi0+c2V0SGVscCgKPDw8RU9UClRoZSA8aW5mbz5kaWFnbm9zZTwvaW5mbz4gY29tbWFuZCBjaGVja3MgY29tbW9uIGVycm9ycyB0byBoZWxwIGRlYnVnZ2luZyBwcm9ibGVtcy4KClRoZSBwcm9jZXNzIGV4aXQgY29kZSB3aWxsIGJlIDEgaW4gY2FzZSBvZiB3YXJuaW5ncyBhbmQgMiBmb3IgZXJyb3JzLgoKUmVhZCBtb3JlIGF0IGh0dHBzOi8vZ2V0Y29tcG9zZXIub3JnL2RvYy8wMy1jbGkubWQjZGlhZ25vc2UKRU9UCikKOwp9CgoKCgpwcm90ZWN0ZWQgZnVuY3Rpb24gZXhlY3V0ZShJbnB1dEludGVyZmFjZSAkaW5wdXQsIE91dHB1dEludGVyZmFjZSAkb3V0cHV0KQp7CiRjb21wb3NlciA9ICR0aGlzLT5nZXRDb21wb3NlcihmYWxzZSk7CiRpbyA9ICR0aGlzLT5nZXRJTygpOwoKaWYgKCRjb21wb3NlcikgewokY29tbWFuZEV2ZW50ID0gbmV3IENvbW1hbmRFdmVudChQbHVnaW5FdmVudHM6OkNPTU1BTkQsICdkaWFnbm9zZScsICRpbnB1dCwgJG91dHB1dCk7CiRjb21wb3Nlci0+Z2V0RXZlbnREaXNwYXRjaGVyKCktPmRpc3BhdGNoKCRjb21tYW5kRXZlbnQtPmdldE5hbWUoKSwgJGNvbW1hbmRFdmVudCk7CgokaW8tPndyaXRlKCdDaGVja2luZyBjb21wb3Nlci5qc29uOiAnLCBmYWxzZSk7CiR0aGlzLT5vdXRwdXRSZXN1bHQoJHRoaXMtPmNoZWNrQ29tcG9zZXJTY2hlbWEoKSk7Cn0KCmlmICgkY29tcG9zZXIpIHsKJGNvbmZpZyA9ICRjb21wb3Nlci0+Z2V0Q29uZmlnKCk7Cn0gZWxzZSB7CiRjb25maWcgPSBGYWN0b3J5OjpjcmVhdGVDb25maWcoKTsKfQoKJGNvbmZpZy0+bWVyZ2UoYXJyYXkoJ2NvbmZpZycgPT4gYXJyYXkoJ3NlY3VyZS1odHRwJyA9PiBmYWxzZSkpKTsKJGNvbmZpZy0+cHJvaGliaXRVcmxCeUNvbmZpZygnaHR0cDovL3JlcG8ucGFja2FnaXN0Lm9yZycsIG5ldyBOdWxsSU8pOwoKJHRoaXMtPmh0dHBEb3dubG9hZGVyID0gRmFjdG9yeTo6Y3JlYXRlSHR0cERvd25sb2FkZXIoJGlvLCAkY29uZmlnKTsKJHRoaXMtPnByb2Nlc3MgPSBuZXcgUHJvY2Vzc0V4ZWN1dG9yKCRpbyk7CgokaW8tPndyaXRlKCdDaGVja2luZyBwbGF0Zm9ybSBzZXR0aW5nczogJywgZmFsc2UpOwokdGhpcy0+b3V0cHV0UmVzdWx0KCR0aGlzLT5jaGVja1BsYXRmb3JtKCkpOwoKJGlvLT53cml0ZSgnQ2hlY2tpbmcgZ2l0IHNldHRpbmdzOiAnLCBmYWxzZSk7CiR0aGlzLT5vdXRwdXRSZXN1bHQoJHRoaXMtPmNoZWNrR2l0KCkpOwoKJGlvLT53cml0ZSgnQ2hlY2tpbmcgaHR0cCBjb25uZWN0aXZpdHkgdG8gcGFja2FnaXN0OiAnLCBmYWxzZSk7CiR0aGlzLT5vdXRwdXRSZXN1bHQoJHRoaXMtPmNoZWNrSHR0cCgnaHR0cCcsICRjb25maWcpKTsKCiRpby0+d3JpdGUoJ0NoZWNraW5nIGh0dHBzIGNvbm5lY3Rpdml0eSB0byBwYWNrYWdpc3Q6ICcsIGZhbHNlKTsKJHRoaXMtPm91dHB1dFJlc3VsdCgkdGhpcy0+Y2hlY2tIdHRwKCdodHRwcycsICRjb25maWcpKTsKCiRvcHRzID0gc3RyZWFtX2NvbnRleHRfZ2V0X29wdGlvbnMoU3RyZWFtQ29udGV4dEZhY3Rvcnk6OmdldENvbnRleHQoJ2h0dHA6Ly9leGFtcGxlLm9yZycpKTsKaWYgKCFlbXB0eSgkb3B0c1snaHR0cCddWydwcm94eSddKSkgewokaW8tPndyaXRlKCdDaGVja2luZyBIVFRQIHByb3h5OiAnLCBmYWxzZSk7CiR0aGlzLT5vdXRwdXRSZXN1bHQoJHRoaXMtPmNoZWNrSHR0cFByb3h5KCkpOwp9CgppZiAoJG9hdXRoID0gJGNvbmZpZy0+Z2V0KCdnaXRodWItb2F1dGgnKSkgewpmb3JlYWNoICgkb2F1dGggYXMgJGRvbWFpbiA9PiAkdG9rZW4pIHsKJGlvLT53cml0ZSgnQ2hlY2tpbmcgJy4kZG9tYWluLicgb2F1dGggYWNjZXNzOiAnLCBmYWxzZSk7CiR0aGlzLT5vdXRwdXRSZXN1bHQoJHRoaXMtPmNoZWNrR2l0aHViT2F1dGgoJGRvbWFpbiwgJHRva2VuKSk7Cn0KfSBlbHNlIHsKJGlvLT53cml0ZSgnQ2hlY2tpbmcgZ2l0aHViLmNvbSByYXRlIGxpbWl0OiAnLCBmYWxzZSk7CnRyeSB7CiRyYXRlID0gJHRoaXMtPmdldEdpdGh1YlJhdGVMaW1pdCgnZ2l0aHViLmNvbScpOwppZiAoIWlzX2FycmF5KCRyYXRlKSkgewokdGhpcy0+b3V0cHV0UmVzdWx0KCRyYXRlKTsKfSBlbHNlaWYgKDEwID4gJHJhdGVbJ3JlbWFpbmluZyddKSB7CiRpby0+d3JpdGUoJzx3YXJuaW5nPldBUk5JTkc8L3dhcm5pbmc+Jyk7CiRpby0+d3JpdGUoc3ByaW50ZigKJzxjb21tZW50PkdpdGh1YiBoYXMgYSByYXRlIGxpbWl0IG9uIHRoZWlyIEFQSS4gJwouICdZb3UgY3VycmVudGx5IGhhdmUgPG9wdGlvbnM9Ym9sZD4ldTwvb3B0aW9ucz1ib2xkPiAnCi4gJ291dCBvZiA8b3B0aW9ucz1ib2xkPiV1PC9vcHRpb25zPWJvbGQ+IHJlcXVlc3RzIGxlZnQuJyAuIFBIUF9FT0wKLiAnU2VlIGh0dHBzOi8vZGV2ZWxvcGVyLmdpdGh1Yi5jb20vdjMvI3JhdGUtbGltaXRpbmcgYW5kIGFsc28nIC4gUEhQX0VPTAouICcgICAgaHR0cHM6Ly9nZXRjb21wb3Nlci5vcmcvZG9jL2FydGljbGVzL3Ryb3VibGVzaG9vdGluZy5tZCNhcGktcmF0ZS1saW1pdC1hbmQtb2F1dGgtdG9rZW5zPC9jb21tZW50PicsCiRyYXRlWydyZW1haW5pbmcnXSwKJHJhdGVbJ2xpbWl0J10KKSk7Cn0gZWxzZSB7CiR0aGlzLT5vdXRwdXRSZXN1bHQodHJ1ZSk7Cn0KfSBjYXRjaCAoXEV4Y2VwdGlvbiAkZSkgewppZiAoJGUgaW5zdGFuY2VvZiBUcmFuc3BvcnRFeGNlcHRpb24gJiYgJGUtPmdldENvZGUoKSA9PT0gNDAxKSB7CiR0aGlzLT5vdXRwdXRSZXN1bHQoJzxjb21tZW50PlRoZSBvYXV0aCB0b2tlbiBmb3IgZ2l0aHViLmNvbSBzZWVtcyBpbnZhbGlkLCBydW4gImNvbXBvc2VyIGNvbmZpZyAtLWdsb2JhbCAtLXVuc2V0IGdpdGh1Yi1vYXV0aC5naXRodWIuY29tIiB0byByZW1vdmUgaXQ8L2NvbW1lbnQ+Jyk7Cn0gZWxzZSB7CiR0aGlzLT5vdXRwdXRSZXN1bHQoJGUpOwp9Cn0KfQoKJGlvLT53cml0ZSgnQ2hlY2tpbmcgZGlzayBmcmVlIHNwYWNlOiAnLCBmYWxzZSk7CiR0aGlzLT5vdXRwdXRSZXN1bHQoJHRoaXMtPmNoZWNrRGlza1NwYWNlKCRjb25maWcpKTsKCmlmIChzdHJwb3MoX19GSUxFX18sICdwaGFyOicpID09PSAwKSB7CiRpby0+d3JpdGUoJ0NoZWNraW5nIHB1YmtleXM6ICcsIGZhbHNlKTsKJHRoaXMtPm91dHB1dFJlc3VsdCgkdGhpcy0+Y2hlY2tQdWJLZXlzKCRjb25maWcpKTsKCiRpby0+d3JpdGUoJ0NoZWNraW5nIGNvbXBvc2VyIHZlcnNpb246ICcsIGZhbHNlKTsKJHRoaXMtPm91dHB1dFJlc3VsdCgkdGhpcy0+Y2hlY2tWZXJzaW9uKCRjb25maWcpKTsKfQoKJGlvLT53cml0ZShzcHJpbnRmKCdDb21wb3NlciB2ZXJzaW9uOiA8Y29tbWVudD4lczwvY29tbWVudD4nLCBDb21wb3Nlcjo6Z2V0VmVyc2lvbigpKSk7CgokcGxhdGZvcm1PdmVycmlkZXMgPSAkY29uZmlnLT5nZXQoJ3BsYXRmb3JtJykgPzogYXJyYXkoKTsKJHBsYXRmb3JtUmVwbyA9IG5ldyBQbGF0Zm9ybVJlcG9zaXRvcnkoYXJyYXkoKSwgJHBsYXRmb3JtT3ZlcnJpZGVzKTsKJHBocFBrZyA9ICRwbGF0Zm9ybVJlcG8tPmZpbmRQYWNrYWdlKCdwaHAnLCAnKicpOwokcGhwVmVyc2lvbiA9ICRwaHBQa2ctPmdldFByZXR0eVZlcnNpb24oKTsKaWYgKCRwaHBQa2cgaW5zdGFuY2VvZiBDb21wbGV0ZVBhY2thZ2VJbnRlcmZhY2UgJiYgZmFsc2UgIT09IHN0cnBvcygkcGhwUGtnLT5nZXREZXNjcmlwdGlvbigpLCAnb3ZlcnJpZGRlbicpKSB7CiRwaHBWZXJzaW9uIC49ICcgLSAnIC4gJHBocFBrZy0+Z2V0RGVzY3JpcHRpb24oKTsKfQoKJGlvLT53cml0ZShzcHJpbnRmKCdQSFAgdmVyc2lvbjogPGNvbW1lbnQ+JXM8L2NvbW1lbnQ+JywgJHBocFZlcnNpb24pKTsKCmlmIChkZWZpbmVkKCdQSFBfQklOQVJZJykpIHsKJGlvLT53cml0ZShzcHJpbnRmKCdQSFAgYmluYXJ5IHBhdGg6IDxjb21tZW50PiVzPC9jb21tZW50PicsIFBIUF9CSU5BUlkpKTsKfQoKJGlvLT53cml0ZSgnT3BlblNTTCB2ZXJzaW9uOiAnIC4gKGRlZmluZWQoJ09QRU5TU0xfVkVSU0lPTl9URVhUJykgPyAnPGNvbW1lbnQ+Jy5PUEVOU1NMX1ZFUlNJT05fVEVYVC4nPC9jb21tZW50PicgOiAnPGVycm9yPm1pc3Npbmc8L2Vycm9yPicpKTsKJGlvLT53cml0ZSgnY1VSTCB2ZXJzaW9uOiAnIC4gJHRoaXMtPmdldEN1cmxWZXJzaW9uKCkpOwoKJGZpbmRlciA9IG5ldyBFeGVjdXRhYmxlRmluZGVyOwokaGFzU3lzdGVtVW56aXAgPSAoYm9vbCkgJGZpbmRlci0+ZmluZCgndW56aXAnKTsKaWYgKFBsYXRmb3JtOjppc1dpbmRvd3MoKSkgewokaGFzU3lzdGVtN3ppcCA9IChib29sKSAkZmluZGVyLT5maW5kKCc3eicsIG51bGwsIGFycmF5KCdDOlxQcm9ncmFtIEZpbGVzXDctWmlwJykpOwokd2luZG93czd6ID0gJywgJyAuICgkaGFzU3lzdGVtN3ppcCA/ICc8Y29tbWVudD43LVppcCBwcmVzZW50PC9jb21tZW50PicgOiAnPGNvbW1lbnQ+Ny1aaXAgbm90IGF2YWlsYWJsZTwvY29tbWVudD4nKTsKfSBlbHNlIHsKJHdpbmRvd3M3eiA9ICcnOwp9CgokaW8tPndyaXRlKAonemlwOiAnIC4gKGV4dGVuc2lvbl9sb2FkZWQoJ3ppcCcpID8gJzxjb21tZW50PmV4dGVuc2lvbiBwcmVzZW50PC9jb21tZW50PicgOiAnPGNvbW1lbnQ+ZXh0ZW5zaW9uIG5vdCBsb2FkZWQ8L2NvbW1lbnQ+JykKLiAnLCAnIC4gKCRoYXNTeXN0ZW1VbnppcCA/ICc8Y29tbWVudD51bnppcCBwcmVzZW50PC9jb21tZW50PicgOiAnPGNvbW1lbnQ+dW56aXAgbm90IGF2YWlsYWJsZTwvY29tbWVudD4nKQouICR3aW5kb3dzN3oKKTsKCnJldHVybiAkdGhpcy0+ZXhpdENvZGU7Cn0KCnByaXZhdGUgZnVuY3Rpb24gY2hlY2tDb21wb3NlclNjaGVtYSgpCnsKJHZhbGlkYXRvciA9IG5ldyBDb25maWdWYWxpZGF0b3IoJHRoaXMtPmdldElPKCkpOwpsaXN0KCRlcnJvcnMsICwgJHdhcm5pbmdzKSA9ICR2YWxpZGF0b3ItPnZhbGlkYXRlKEZhY3Rvcnk6OmdldENvbXBvc2VyRmlsZSgpKTsKCmlmICgkZXJyb3JzIHx8ICR3YXJuaW5ncykgewokbWVzc2FnZXMgPSBhcnJheSgKJ2Vycm9yJyA9PiAkZXJyb3JzLAond2FybmluZycgPT4gJHdhcm5pbmdzLAopOwoKJG91dHB1dCA9ICcnOwpmb3JlYWNoICgkbWVzc2FnZXMgYXMgJHN0eWxlID0+ICRtc2dzKSB7CmZvcmVhY2ggKCRtc2dzIGFzICRtc2cpIHsKJG91dHB1dCAuPSAnPCcgLiAkc3R5bGUgLiAnPicgLiAkbXNnIC4gJzwvJyAuICRzdHlsZSAuICc+JyAuIFBIUF9FT0w7Cn0KfQoKcmV0dXJuIHJ0cmltKCRvdXRwdXQpOwp9CgpyZXR1cm4gdHJ1ZTsKfQoKcHJpdmF0ZSBmdW5jdGlvbiBjaGVja0dpdCgpCnsKJHRoaXMtPnByb2Nlc3MtPmV4ZWN1dGUoJ2dpdCBjb25maWcgY29sb3IudWknLCAkb3V0cHV0KTsKaWYgKHN0cnRvbG93ZXIodHJpbSgkb3V0cHV0KSkgPT09ICdhbHdheXMnKSB7CnJldHVybiAnPGNvbW1lbnQ+WW91ciBnaXQgY29sb3IudWkgc2V0dGluZyBpcyBzZXQgdG8gYWx3YXlzLCB0aGlzIGlzIGtub3duIHRvIGNyZWF0ZSBpc3N1ZXMuIFVzZSAiZ2l0IGNvbmZpZyAtLWdsb2JhbCBjb2xvci51aSB0cnVlIiB0byBzZXQgaXQgY29ycmVjdGx5LjwvY29tbWVudD4nOwp9CgpyZXR1cm4gdHJ1ZTsKfQoKcHJpdmF0ZSBmdW5jdGlvbiBjaGVja0h0dHAoJHByb3RvLCBDb25maWcgJGNvbmZpZykKewokcmVzdWx0ID0gJHRoaXMtPmNoZWNrQ29ubmVjdGl2aXR5KCk7CmlmICgkcmVzdWx0ICE9PSB0cnVlKSB7CnJldHVybiAkcmVzdWx0Owp9CgokcmVzdWx0ID0gYXJyYXkoKTsKaWYgKCRwcm90byA9PT0gJ2h0dHBzJyAmJiAkY29uZmlnLT5nZXQoJ2Rpc2FibGUtdGxzJykgPT09IHRydWUpIHsKJHRsc1dhcm5pbmcgPSAnPHdhcm5pbmc+Q29tcG9zZXIgaXMgY29uZmlndXJlZCB0byBkaXNhYmxlIFNTTC9UTFMgcHJvdGVjdGlvbi4gVGhpcyB3aWxsIGxlYXZlIHJlbW90ZSBIVFRQUyByZXF1ZXN0cyB2dWxuZXJhYmxlIHRvIE1hbi1Jbi1UaGUtTWlkZGxlIGF0dGFja3MuPC93YXJuaW5nPic7Cn0KCnRyeSB7CiR0aGlzLT5odHRwRG93bmxvYWRlci0+Z2V0KCRwcm90byAuICc6Ly9yZXBvLnBhY2thZ2lzdC5vcmcvcGFja2FnZXMuanNvbicpOwp9IGNhdGNoIChUcmFuc3BvcnRFeGNlcHRpb24gJGUpIHsKaWYgKCRoaW50cyA9IEh0dHBEb3dubG9hZGVyOjpnZXRFeGNlcHRpb25IaW50cygkZSkpIHsKZm9yZWFjaCAoJGhpbnRzIGFzICRoaW50KSB7CiRyZXN1bHRbXSA9ICRoaW50Owp9Cn0KCiRyZXN1bHRbXSA9ICc8ZXJyb3I+WycgLiBnZXRfY2xhc3MoJGUpIC4gJ10gJyAuICRlLT5nZXRNZXNzYWdlKCkgLiAnPC9lcnJvcj4nOwp9CgppZiAoaXNzZXQoJHRsc1dhcm5pbmcpKSB7CiRyZXN1bHRbXSA9ICR0bHNXYXJuaW5nOwp9CgppZiAoY291bnQoJHJlc3VsdCkgPiAwKSB7CnJldHVybiAkcmVzdWx0Owp9CgpyZXR1cm4gdHJ1ZTsKfQoKcHJpdmF0ZSBmdW5jdGlvbiBjaGVja0h0dHBQcm94eSgpCnsKJHJlc3VsdCA9ICR0aGlzLT5jaGVja0Nvbm5lY3Rpdml0eSgpOwppZiAoJHJlc3VsdCAhPT0gdHJ1ZSkgewpyZXR1cm4gJHJlc3VsdDsKfQoKJHByb3RvY29sID0gZXh0ZW5zaW9uX2xvYWRlZCgnb3BlbnNzbCcpID8gJ2h0dHBzJyA6ICdodHRwJzsKdHJ5IHsKJGpzb24gPSAkdGhpcy0+aHR0cERvd25sb2FkZXItPmdldCgkcHJvdG9jb2wgLiAnOi8vcmVwby5wYWNrYWdpc3Qub3JnL3BhY2thZ2VzLmpzb24nKS0+ZGVjb2RlSnNvbigpOwokaGFzaCA9IHJlc2V0KCRqc29uWydwcm92aWRlci1pbmNsdWRlcyddKTsKJGhhc2ggPSAkaGFzaFsnc2hhMjU2J107CiRwYXRoID0gc3RyX3JlcGxhY2UoJyVoYXNoJScsICRoYXNoLCBrZXkoJGpzb25bJ3Byb3ZpZGVyLWluY2x1ZGVzJ10pKTsKJHByb3ZpZGVyID0gJHRoaXMtPmh0dHBEb3dubG9hZGVyLT5nZXQoJHByb3RvY29sIC4gJzovL3JlcG8ucGFja2FnaXN0Lm9yZy8nLiRwYXRoKS0+Z2V0Qm9keSgpOwoKaWYgKGhhc2goJ3NoYTI1NicsICRwcm92aWRlcikgIT09ICRoYXNoKSB7CnJldHVybiAnSXQgc2VlbXMgdGhhdCB5b3VyIHByb3h5IGlzIG1vZGlmeWluZyBodHRwIHRyYWZmaWMgb24gdGhlIGZseSc7Cn0KfSBjYXRjaCAoXEV4Y2VwdGlvbiAkZSkgewpyZXR1cm4gJGU7Cn0KCnJldHVybiB0cnVlOwp9Cgpwcml2YXRlIGZ1bmN0aW9uIGNoZWNrR2l0aHViT2F1dGgoJGRvbWFpbiwgJHRva2VuKQp7CiRyZXN1bHQgPSAkdGhpcy0+Y2hlY2tDb25uZWN0aXZpdHkoKTsKaWYgKCRyZXN1bHQgIT09IHRydWUpIHsKcmV0dXJuICRyZXN1bHQ7Cn0KCiR0aGlzLT5nZXRJTygpLT5zZXRBdXRoZW50aWNhdGlvbigkZG9tYWluLCAkdG9rZW4sICd4LW9hdXRoLWJhc2ljJyk7CnRyeSB7CiR1cmwgPSAkZG9tYWluID09PSAnZ2l0aHViLmNvbScgPyAnaHR0cHM6Ly9hcGkuJy4kZG9tYWluLicvJyA6ICdodHRwczovLycuJGRvbWFpbi4nL2FwaS92My8nOwoKcmV0dXJuICR0aGlzLT5odHRwRG93bmxvYWRlci0+Z2V0KCR1cmwsIGFycmF5KAoncmV0cnktYXV0aC1mYWlsdXJlJyA9PiBmYWxzZSwKKSkgPyB0cnVlIDogJ1VuZXhwZWN0ZWQgZXJyb3InOwp9IGNhdGNoIChcRXhjZXB0aW9uICRlKSB7CmlmICgkZSBpbnN0YW5jZW9mIFRyYW5zcG9ydEV4Y2VwdGlvbiAmJiAkZS0+Z2V0Q29kZSgpID09PSA0MDEpIHsKcmV0dXJuICc8Y29tbWVudD5UaGUgb2F1dGggdG9rZW4gZm9yICcuJGRvbWFpbi4nIHNlZW1zIGludmFsaWQsIHJ1biAiY29tcG9zZXIgY29uZmlnIC0tZ2xvYmFsIC0tdW5zZXQgZ2l0aHViLW9hdXRoLicuJGRvbWFpbi4nIiB0byByZW1vdmUgaXQ8L2NvbW1lbnQ+JzsKfQoKcmV0dXJuICRlOwp9Cn0KCgoKCgoKCnByaXZhdGUgZnVuY3Rpb24gZ2V0R2l0aHViUmF0ZUxpbWl0KCRkb21haW4sICR0b2tlbiA9IG51bGwpCnsKJHJlc3VsdCA9ICR0aGlzLT5jaGVja0Nvbm5lY3Rpdml0eSgpOwppZiAoJHJlc3VsdCAhPT0gdHJ1ZSkgewpyZXR1cm4gJHJlc3VsdDsKfQoKaWYgKCR0b2tlbikgewokdGhpcy0+Z2V0SU8oKS0+c2V0QXV0aGVudGljYXRpb24oJGRvbWFpbiwgJHRva2VuLCAneC1vYXV0aC1iYXNpYycpOwp9CgokdXJsID0gJGRvbWFpbiA9PT0gJ2dpdGh1Yi5jb20nID8gJ2h0dHBzOi8vYXBpLicuJGRvbWFpbi4nL3JhdGVfbGltaXQnIDogJ2h0dHBzOi8vJy4kZG9tYWluLicvYXBpL3JhdGVfbGltaXQnOwokZGF0YSA9ICR0aGlzLT5odHRwRG93bmxvYWRlci0+Z2V0KCR1cmwsIGFycmF5KCdyZXRyeS1hdXRoLWZhaWx1cmUnID0+IGZhbHNlKSktPmRlY29kZUpzb24oKTsKCnJldHVybiAkZGF0YVsncmVzb3VyY2VzJ11bJ2NvcmUnXTsKfQoKcHJpdmF0ZSBmdW5jdGlvbiBjaGVja0Rpc2tTcGFjZSgkY29uZmlnKQp7CiRtaW5TcGFjZUZyZWUgPSAxMDI0ICogMTAyNDsKaWYgKCgoJGRmID0gQGRpc2tfZnJlZV9zcGFjZSgkZGlyID0gJGNvbmZpZy0+Z2V0KCdob21lJykpKSAhPT0gZmFsc2UgJiYgJGRmIDwgJG1pblNwYWNlRnJlZSkKfHwgKCgkZGYgPSBAZGlza19mcmVlX3NwYWNlKCRkaXIgPSAkY29uZmlnLT5nZXQoJ3ZlbmRvci1kaXInKSkpICE9PSBmYWxzZSAmJiAkZGYgPCAkbWluU3BhY2VGcmVlKQopIHsKcmV0dXJuICc8ZXJyb3I+VGhlIGRpc2sgaG9zdGluZyAnLiRkaXIuJyBpcyBmdWxsPC9lcnJvcj4nOwp9CgpyZXR1cm4gdHJ1ZTsKfQoKcHJpdmF0ZSBmdW5jdGlvbiBjaGVja1B1YktleXMoJGNvbmZpZykKewokaG9tZSA9ICRjb25maWctPmdldCgnaG9tZScpOwokZXJyb3JzID0gYXJyYXkoKTsKJGlvID0gJHRoaXMtPmdldElPKCk7CgppZiAoZmlsZV9leGlzdHMoJGhvbWUuJy9rZXlzLnRhZ3MucHViJykgJiYgZmlsZV9leGlzdHMoJGhvbWUuJy9rZXlzLmRldi5wdWInKSkgewokaW8tPndyaXRlKCcnKTsKfQoKaWYgKGZpbGVfZXhpc3RzKCRob21lLicva2V5cy50YWdzLnB1YicpKSB7CiRpby0+d3JpdGUoJ1RhZ3MgUHVibGljIEtleSBGaW5nZXJwcmludDogJyAuIEtleXM6OmZpbmdlcnByaW50KCRob21lLicva2V5cy50YWdzLnB1YicpKTsKfSBlbHNlIHsKJGVycm9yc1tdID0gJzxlcnJvcj5NaXNzaW5nIHB1YmtleSBmb3IgdGFncyB2ZXJpZmljYXRpb248L2Vycm9yPic7Cn0KCmlmIChmaWxlX2V4aXN0cygkaG9tZS4nL2tleXMuZGV2LnB1YicpKSB7CiRpby0+d3JpdGUoJ0RldiBQdWJsaWMgS2V5IEZpbmdlcnByaW50OiAnIC4gS2V5czo6ZmluZ2VycHJpbnQoJGhvbWUuJy9rZXlzLmRldi5wdWInKSk7Cn0gZWxzZSB7CiRlcnJvcnNbXSA9ICc8ZXJyb3I+TWlzc2luZyBwdWJrZXkgZm9yIGRldiB2ZXJpZmljYXRpb248L2Vycm9yPic7Cn0KCmlmICgkZXJyb3JzKSB7CiRlcnJvcnNbXSA9ICc8ZXJyb3I+UnVuIGNvbXBvc2VyIHNlbGYtdXBkYXRlIC0tdXBkYXRlLWtleXMgdG8gc2V0IHRoZW0gdXA8L2Vycm9yPic7Cn0KCnJldHVybiAkZXJyb3JzID86IHRydWU7Cn0KCnByaXZhdGUgZnVuY3Rpb24gY2hlY2tWZXJzaW9uKCRjb25maWcpCnsKJHJlc3VsdCA9ICR0aGlzLT5jaGVja0Nvbm5lY3Rpdml0eSgpOwppZiAoJHJlc3VsdCAhPT0gdHJ1ZSkgewpyZXR1cm4gJHJlc3VsdDsKfQoKJHZlcnNpb25zVXRpbCA9IG5ldyBWZXJzaW9ucygkY29uZmlnLCAkdGhpcy0+aHR0cERvd25sb2FkZXIpOwp0cnkgewokbGF0ZXN0ID0gJHZlcnNpb25zVXRpbC0+Z2V0TGF0ZXN0KCk7Cn0gY2F0Y2ggKFxFeGNlcHRpb24gJGUpIHsKcmV0dXJuICRlOwp9CgppZiAoQ29tcG9zZXI6OlZFUlNJT04gIT09ICRsYXRlc3RbJ3ZlcnNpb24nXSAmJiBDb21wb3Nlcjo6VkVSU0lPTiAhPT0gJ0BwYWNrYWdlX3ZlcnNpb25AJykgewpyZXR1cm4gJzxjb21tZW50PllvdSBhcmUgbm90IHJ1bm5pbmcgdGhlIGxhdGVzdCAnLiR2ZXJzaW9uc1V0aWwtPmdldENoYW5uZWwoKS4nIHZlcnNpb24sIHJ1biBgY29tcG9zZXIgc2VsZi11cGRhdGVgIHRvIHVwZGF0ZSAoJy5Db21wb3Nlcjo6VkVSU0lPTi4nID0+ICcuJGxhdGVzdFsndmVyc2lvbiddLicpPC9jb21tZW50Pic7Cn0KCnJldHVybiB0cnVlOwp9Cgpwcml2YXRlIGZ1bmN0aW9uIGdldEN1cmxWZXJzaW9uKCkKewppZiAoZXh0ZW5zaW9uX2xvYWRlZCgnY3VybCcpKSB7CmlmICghSHR0cERvd25sb2FkZXI6OmlzQ3VybEVuYWJsZWQoKSkgewpyZXR1cm4gJzxlcnJvcj5kaXNhYmxlZCB2aWEgZGlzYWJsZV9mdW5jdGlvbnMsIHVzaW5nIHBocCBzdHJlYW1zIGZhbGxiYWNrLCB3aGljaCByZWR1Y2VzIHBlcmZvcm1hbmNlPC9lcnJvcj4nOwp9CgokdmVyc2lvbiA9IGN1cmxfdmVyc2lvbigpOwoKcmV0dXJuICc8Y29tbWVudD4nLiR2ZXJzaW9uWyd2ZXJzaW9uJ10uJzwvY29tbWVudD4gJy4KJ2xpYnogPGNvbW1lbnQ+Jy4oaXNzZXQoJHZlcnNpb25bJ2xpYnpfdmVyc2lvbiddKSA/ICR2ZXJzaW9uWydsaWJ6X3ZlcnNpb24nXSA6ICdtaXNzaW5nJykuJzwvY29tbWVudD4gJy4KJ3NzbCA8Y29tbWVudD4nLihpc3NldCgkdmVyc2lvblsnc3NsX3ZlcnNpb24nXSkgPyAkdmVyc2lvblsnc3NsX3ZlcnNpb24nXSA6ICdtaXNzaW5nJykuJzwvY29tbWVudD4nOwp9CgpyZXR1cm4gJzxlcnJvcj5taXNzaW5nLCB1c2luZyBwaHAgc3RyZWFtcyBmYWxsYmFjaywgd2hpY2ggcmVkdWNlcyBwZXJmb3JtYW5jZTwvZXJyb3I+JzsKfQoKCgoKcHJpdmF0ZSBmdW5jdGlvbiBvdXRwdXRSZXN1bHQoJHJlc3VsdCkKewokaW8gPSAkdGhpcy0+Z2V0SU8oKTsKaWYgKHRydWUgPT09ICRyZXN1bHQpIHsKJGlvLT53cml0ZSgnPGluZm8+T0s8L2luZm8+Jyk7CgpyZXR1cm47Cn0KCiRoYWRFcnJvciA9IGZhbHNlOwokaGFkV2FybmluZyA9IGZhbHNlOwppZiAoJHJlc3VsdCBpbnN0YW5jZW9mIFxFeGNlcHRpb24pIHsKJHJlc3VsdCA9ICc8ZXJyb3I+WycuZ2V0X2NsYXNzKCRyZXN1bHQpLiddICcuJHJlc3VsdC0+Z2V0TWVzc2FnZSgpLic8L2Vycm9yPic7Cn0KCmlmICghJHJlc3VsdCkgewoKJGhhZEVycm9yID0gdHJ1ZTsKfSBlbHNlIHsKaWYgKCFpc19hcnJheSgkcmVzdWx0KSkgewokcmVzdWx0ID0gYXJyYXkoJHJlc3VsdCk7Cn0KZm9yZWFjaCAoJHJlc3VsdCBhcyAkbWVzc2FnZSkgewppZiAoZmFsc2UgIT09IHN0cnBvcygkbWVzc2FnZSwgJzxlcnJvcj4nKSkgewokaGFkRXJyb3IgPSB0cnVlOwp9IGVsc2VpZiAoZmFsc2UgIT09IHN0cnBvcygkbWVzc2FnZSwgJzx3YXJuaW5nPicpKSB7CiRoYWRXYXJuaW5nID0gdHJ1ZTsKfQp9Cn0KCmlmICgkaGFkRXJyb3IpIHsKJGlvLT53cml0ZSgnPGVycm9yPkZBSUw8L2Vycm9yPicpOwokdGhpcy0+ZXhpdENvZGUgPSBtYXgoJHRoaXMtPmV4aXRDb2RlLCAyKTsKfSBlbHNlaWYgKCRoYWRXYXJuaW5nKSB7CiRpby0+d3JpdGUoJzx3YXJuaW5nPldBUk5JTkc8L3dhcm5pbmc+Jyk7CiR0aGlzLT5leGl0Q29kZSA9IG1heCgkdGhpcy0+ZXhpdENvZGUsIDEpOwp9CgppZiAoJHJlc3VsdCkgewpmb3JlYWNoICgkcmVzdWx0IGFzICRtZXNzYWdlKSB7CiRpby0+d3JpdGUoJG1lc3NhZ2UpOwp9Cn0KfQoKcHJpdmF0ZSBmdW5jdGlvbiBjaGVja1BsYXRmb3JtKCkKewokb3V0cHV0ID0gJyc7CiRvdXQgPSBmdW5jdGlvbiAoJG1zZywgJHN0eWxlKSB1c2UgKCYkb3V0cHV0KSB7CiRvdXRwdXQgLj0gJzwnLiRzdHlsZS4nPicuJG1zZy4nPC8nLiRzdHlsZS4nPicuUEhQX0VPTDsKfTsKCgokZXJyb3JzID0gYXJyYXkoKTsKJHdhcm5pbmdzID0gYXJyYXkoKTsKJGRpc3BsYXlJbmlNZXNzYWdlID0gZmFsc2U7CgokaW5pTWVzc2FnZSA9IFBIUF9FT0wuUEhQX0VPTC5JbmlIZWxwZXI6OmdldE1lc3NhZ2UoKTsKJGluaU1lc3NhZ2UgLj0gUEhQX0VPTC4nSWYgeW91IGNhbiBub3QgbW9kaWZ5IHRoZSBpbmkgZmlsZSwgeW91IGNhbiBhbHNvIHJ1biBgcGhwIC1kIG9wdGlvbj12YWx1ZWAgdG8gbW9kaWZ5IGluaSB2YWx1ZXMgb24gdGhlIGZseS4gWW91IGNhbiB1c2UgLWQgbXVsdGlwbGUgdGltZXMuJzsKCmlmICghZnVuY3Rpb25fZXhpc3RzKCdqc29uX2RlY29kZScpKSB7CiRlcnJvcnNbJ2pzb24nXSA9IHRydWU7Cn0KCmlmICghZXh0ZW5zaW9uX2xvYWRlZCgnUGhhcicpKSB7CiRlcnJvcnNbJ3BoYXInXSA9IHRydWU7Cn0KCmlmICghZXh0ZW5zaW9uX2xvYWRlZCgnZmlsdGVyJykpIHsKJGVycm9yc1snZmlsdGVyJ10gPSB0cnVlOwp9CgppZiAoIWV4dGVuc2lvbl9sb2FkZWQoJ2hhc2gnKSkgewokZXJyb3JzWydoYXNoJ10gPSB0cnVlOwp9CgppZiAoIWV4dGVuc2lvbl9sb2FkZWQoJ2ljb252JykgJiYgIWV4dGVuc2lvbl9sb2FkZWQoJ21ic3RyaW5nJykpIHsKJGVycm9yc1snaWNvbnZfbWJzdHJpbmcnXSA9IHRydWU7Cn0KCmlmICghZmlsdGVyX3ZhcihpbmlfZ2V0KCdhbGxvd191cmxfZm9wZW4nKSwgRklMVEVSX1ZBTElEQVRFX0JPT0xFQU4pKSB7CiRlcnJvcnNbJ2FsbG93X3VybF9mb3BlbiddID0gdHJ1ZTsKfQoKaWYgKGV4dGVuc2lvbl9sb2FkZWQoJ2lvbkN1YmUgTG9hZGVyJykgJiYgaW9uY3ViZV9sb2FkZXJfaXZlcnNpb24oKSA8IDQwMDA5KSB7CiRlcnJvcnNbJ2lvbmN1YmUnXSA9IGlvbmN1YmVfbG9hZGVyX3ZlcnNpb24oKTsKfQoKaWYgKFBIUF9WRVJTSU9OX0lEIDwgNTAzMDIpIHsKJGVycm9yc1sncGhwJ10gPSBQSFBfVkVSU0lPTjsKfQoKaWYgKCFpc3NldCgkZXJyb3JzWydwaHAnXSkgJiYgUEhQX1ZFUlNJT05fSUQgPCA1MDMwNCkgewokd2FybmluZ3NbJ3BocCddID0gUEhQX1ZFUlNJT047Cn0KCmlmICghZXh0ZW5zaW9uX2xvYWRlZCgnb3BlbnNzbCcpKSB7CiRlcnJvcnNbJ29wZW5zc2wnXSA9IHRydWU7Cn0KCmlmIChleHRlbnNpb25fbG9hZGVkKCdvcGVuc3NsJykgJiYgT1BFTlNTTF9WRVJTSU9OX05VTUJFUiA8IDB4MTAwMDEwMGYpIHsKJHdhcm5pbmdzWydvcGVuc3NsX3ZlcnNpb24nXSA9IHRydWU7Cn0KCmlmICghZGVmaW5lZCgnSEhWTV9WRVJTSU9OJykgJiYgIWV4dGVuc2lvbl9sb2FkZWQoJ2FwY3UnKSAmJiBmaWx0ZXJfdmFyKGluaV9nZXQoJ2FwYy5lbmFibGVfY2xpJyksIEZJTFRFUl9WQUxJREFURV9CT09MRUFOKSkgewokd2FybmluZ3NbJ2FwY19jbGknXSA9IHRydWU7Cn0KCmlmICghZXh0ZW5zaW9uX2xvYWRlZCgnemxpYicpKSB7CiR3YXJuaW5nc1snemxpYiddID0gdHJ1ZTsKfQoKb2Jfc3RhcnQoKTsKcGhwaW5mbyhJTkZPX0dFTkVSQUwpOwokcGhwaW5mbyA9IG9iX2dldF9jbGVhbigpOwppZiAocHJlZ19tYXRjaCgne0NvbmZpZ3VyZSBDb21tYW5kKD86ICo8L3RkPjx0ZCBjbGFzcz0idiI+fCAqPT4gKikoLio/KSg/OjwvdGQ+fCQpfW0nLCAkcGhwaW5mbywgJG1hdGNoKSkgewokY29uZmlndXJlID0gJG1hdGNoWzFdOwoKaWYgKGZhbHNlICE9PSBzdHJwb3MoJGNvbmZpZ3VyZSwgJy0tZW5hYmxlLXNpZ2NoaWxkJykpIHsKJHdhcm5pbmdzWydzaWdjaGlsZCddID0gdHJ1ZTsKfQoKaWYgKGZhbHNlICE9PSBzdHJwb3MoJGNvbmZpZ3VyZSwgJy0td2l0aC1jdXJsd3JhcHBlcnMnKSkgewokd2FybmluZ3NbJ2N1cmx3cmFwcGVycyddID0gdHJ1ZTsKfQp9CgppZiAoZmlsdGVyX3ZhcihpbmlfZ2V0KCd4ZGVidWcucHJvZmlsZXJfZW5hYmxlZCcpLCBGSUxURVJfVkFMSURBVEVfQk9PTEVBTikpIHsKJHdhcm5pbmdzWyd4ZGVidWdfcHJvZmlsZSddID0gdHJ1ZTsKfSBlbHNlaWYgKFhkZWJ1Z0hhbmRsZXI6OmlzWGRlYnVnQWN0aXZlKCkpIHsKJHdhcm5pbmdzWyd4ZGVidWdfbG9hZGVkJ10gPSB0cnVlOwp9CgppZiAoZGVmaW5lZCgnUEhQX1dJTkRPV1NfVkVSU0lPTl9CVUlMRCcpCiYmICh2ZXJzaW9uX2NvbXBhcmUoUEhQX1ZFUlNJT04sICc3LjIuMjMnLCAnPCcpCnx8ICh2ZXJzaW9uX2NvbXBhcmUoUEhQX1ZFUlNJT04sICc3LjMuMCcsICc+PScpCiYmIHZlcnNpb25fY29tcGFyZShQSFBfVkVSU0lPTiwgJzcuMy4xMCcsICc8JykpKSkgewokd2FybmluZ3NbJ29uZWRyaXZlJ10gPSBQSFBfVkVSU0lPTjsKfQoKaWYgKCFlbXB0eSgkZXJyb3JzKSkgewpmb3JlYWNoICgkZXJyb3JzIGFzICRlcnJvciA9PiAkY3VycmVudCkgewpzd2l0Y2ggKCRlcnJvcikgewpjYXNlICdqc29uJzoKJHRleHQgPSBQSFBfRU9MLiJUaGUganNvbiBleHRlbnNpb24gaXMgbWlzc2luZy4iLlBIUF9FT0w7CiR0ZXh0IC49ICJJbnN0YWxsIGl0IG9yIHJlY29tcGlsZSBwaHAgd2l0aG91dCAtLWRpc2FibGUtanNvbiI7CmJyZWFrOwoKY2FzZSAncGhhcic6CiR0ZXh0ID0gUEhQX0VPTC4iVGhlIHBoYXIgZXh0ZW5zaW9uIGlzIG1pc3NpbmcuIi5QSFBfRU9MOwokdGV4dCAuPSAiSW5zdGFsbCBpdCBvciByZWNvbXBpbGUgcGhwIHdpdGhvdXQgLS1kaXNhYmxlLXBoYXIiOwpicmVhazsKCmNhc2UgJ2ZpbHRlcic6CiR0ZXh0ID0gUEhQX0VPTC4iVGhlIGZpbHRlciBleHRlbnNpb24gaXMgbWlzc2luZy4iLlBIUF9FT0w7CiR0ZXh0IC49ICJJbnN0YWxsIGl0IG9yIHJlY29tcGlsZSBwaHAgd2l0aG91dCAtLWRpc2FibGUtZmlsdGVyIjsKYnJlYWs7CgpjYXNlICdoYXNoJzoKJHRleHQgPSBQSFBfRU9MLiJUaGUgaGFzaCBleHRlbnNpb24gaXMgbWlzc2luZy4iLlBIUF9FT0w7CiR0ZXh0IC49ICJJbnN0YWxsIGl0IG9yIHJlY29tcGlsZSBwaHAgd2l0aG91dCAtLWRpc2FibGUtaGFzaCI7CmJyZWFrOwoKY2FzZSAnaWNvbnZfbWJzdHJpbmcnOgokdGV4dCA9IFBIUF9FT0wuIlRoZSBpY29udiBPUiBtYnN0cmluZyBleHRlbnNpb24gaXMgcmVxdWlyZWQgYW5kIGJvdGggYXJlIG1pc3NpbmcuIi5QSFBfRU9MOwokdGV4dCAuPSAiSW5zdGFsbCBlaXRoZXIgb2YgdGhlbSBvciByZWNvbXBpbGUgcGhwIHdpdGhvdXQgLS1kaXNhYmxlLWljb252IjsKYnJlYWs7CgpjYXNlICdwaHAnOgokdGV4dCA9IFBIUF9FT0wuIllvdXIgUEhQICh7JGN1cnJlbnR9KSBpcyB0b28gb2xkLCB5b3UgbXVzdCB1cGdyYWRlIHRvIFBIUCA1LjMuMiBvciBoaWdoZXIuIjsKYnJlYWs7CgpjYXNlICdhbGxvd191cmxfZm9wZW4nOgokdGV4dCA9IFBIUF9FT0wuIlRoZSBhbGxvd191cmxfZm9wZW4gc2V0dGluZyBpcyBpbmNvcnJlY3QuIi5QSFBfRU9MOwokdGV4dCAuPSAiQWRkIHRoZSBmb2xsb3dpbmcgdG8gdGhlIGVuZCBvZiB5b3VyIGBwaHAuaW5pYDoiLlBIUF9FT0w7CiR0ZXh0IC49ICIgICAgYWxsb3dfdXJsX2ZvcGVuID0gT24iOwokZGlzcGxheUluaU1lc3NhZ2UgPSB0cnVlOwpicmVhazsKCmNhc2UgJ2lvbmN1YmUnOgokdGV4dCA9IFBIUF9FT0wuIllvdXIgaW9uQ3ViZSBMb2FkZXIgZXh0ZW5zaW9uICgkY3VycmVudCkgaXMgaW5jb21wYXRpYmxlIHdpdGggUGhhciBmaWxlcy4iLlBIUF9FT0w7CiR0ZXh0IC49ICJVcGdyYWRlIHRvIGlvbkN1YmUgNC4wLjkgb3IgaGlnaGVyIG9yIHJlbW92ZSB0aGlzIGxpbmUgKHBhdGggbWF5IGJlIGRpZmZlcmVudCkgZnJvbSB5b3VyIGBwaHAuaW5pYCB0byBkaXNhYmxlIGl0OiIuUEhQX0VPTDsKJHRleHQgLj0gIiAgICB6ZW5kX2V4dGVuc2lvbiA9IC91c3IvbGliL3BocDUvMjAwOTA2MjYrbGZzL2lvbmN1YmVfbG9hZGVyX2xpbl81LjMuc28iOwokZGlzcGxheUluaU1lc3NhZ2UgPSB0cnVlOwpicmVhazsKCmNhc2UgJ29wZW5zc2wnOgokdGV4dCA9IFBIUF9FT0wuIlRoZSBvcGVuc3NsIGV4dGVuc2lvbiBpcyBtaXNzaW5nLCB3aGljaCBtZWFucyB0aGF0IHNlY3VyZSBIVFRQUyB0cmFuc2ZlcnMgYXJlIGltcG9zc2libGUuIi5QSFBfRU9MOwokdGV4dCAuPSAiSWYgcG9zc2libGUgeW91IHNob3VsZCBlbmFibGUgaXQgb3IgcmVjb21waWxlIHBocCB3aXRoIC0td2l0aC1vcGVuc3NsIjsKYnJlYWs7CgpkZWZhdWx0Ogp0aHJvdyBuZXcgXEludmFsaWRBcmd1bWVudEV4Y2VwdGlvbihzcHJpbnRmKCJEaWFnbm9zZUNvbW1hbmQ6IFVua25vd24gZXJyb3IgdHlwZSBcIiVzXCIuIFBsZWFzZSByZXBvcnQgYXQgaHR0cHM6Ly9naXRodWIuY29tL2NvbXBvc2VyL2NvbXBvc2VyL2lzc3Vlcy9uZXcuIiwgJGVycm9yKSk7Cn0KJG91dCgkdGV4dCwgJ2Vycm9yJyk7Cn0KCiRvdXRwdXQgLj0gUEhQX0VPTDsKfQoKaWYgKCFlbXB0eSgkd2FybmluZ3MpKSB7CmZvcmVhY2ggKCR3YXJuaW5ncyBhcyAkd2FybmluZyA9PiAkY3VycmVudCkgewpzd2l0Y2ggKCR3YXJuaW5nKSB7CmNhc2UgJ2FwY19jbGknOgokdGV4dCA9ICJUaGUgYXBjLmVuYWJsZV9jbGkgc2V0dGluZyBpcyBpbmNvcnJlY3QuIi5QSFBfRU9MOwokdGV4dCAuPSAiQWRkIHRoZSBmb2xsb3dpbmcgdG8gdGhlIGVuZCBvZiB5b3VyIGBwaHAuaW5pYDoiLlBIUF9FT0w7CiR0ZXh0IC49ICIgIGFwYy5lbmFibGVfY2xpID0gT2ZmIjsKJGRpc3BsYXlJbmlNZXNzYWdlID0gdHJ1ZTsKYnJlYWs7CgpjYXNlICd6bGliJzoKJHRleHQgPSAnVGhlIHpsaWIgZXh0ZW5zaW9uIGlzIG5vdCBsb2FkZWQsIHRoaXMgY2FuIHNsb3cgZG93biBDb21wb3NlciBhIGxvdC4nLlBIUF9FT0w7CiR0ZXh0IC49ICdJZiBwb3NzaWJsZSwgZW5hYmxlIGl0IG9yIHJlY29tcGlsZSBwaHAgd2l0aCAtLXdpdGgtemxpYicuUEhQX0VPTDsKJGRpc3BsYXlJbmlNZXNzYWdlID0gdHJ1ZTsKYnJlYWs7CgpjYXNlICdzaWdjaGlsZCc6CiR0ZXh0ID0gIlBIUCB3YXMgY29tcGlsZWQgd2l0aCAtLWVuYWJsZS1zaWdjaGlsZCB3aGljaCBjYW4gY2F1c2UgaXNzdWVzIG9uIHNvbWUgcGxhdGZvcm1zLiIuUEhQX0VPTDsKJHRleHQgLj0gIlJlY29tcGlsZSBpdCB3aXRob3V0IHRoaXMgZmxhZyBpZiBwb3NzaWJsZSwgc2VlIGFsc286Ii5QSFBfRU9MOwokdGV4dCAuPSAiICBodHRwczovL2J1Z3MucGhwLm5ldC9idWcucGhwP2lkPTIyOTk5IjsKYnJlYWs7CgpjYXNlICdjdXJsd3JhcHBlcnMnOgokdGV4dCA9ICJQSFAgd2FzIGNvbXBpbGVkIHdpdGggLS13aXRoLWN1cmx3cmFwcGVycyB3aGljaCB3aWxsIGNhdXNlIGlzc3VlcyB3aXRoIEhUVFAgYXV0aGVudGljYXRpb24gYW5kIEdpdEh1Yi4iLlBIUF9FT0w7CiR0ZXh0IC49ICIgUmVjb21waWxlIGl0IHdpdGhvdXQgdGhpcyBmbGFnIGlmIHBvc3NpYmxlIjsKYnJlYWs7CgpjYXNlICdwaHAnOgokdGV4dCA9ICJZb3VyIFBIUCAoeyRjdXJyZW50fSkgaXMgcXVpdGUgb2xkLCB1cGdyYWRpbmcgdG8gUEhQIDUuMy40IG9yIGhpZ2hlciBpcyByZWNvbW1lbmRlZC4iLlBIUF9FT0w7CiR0ZXh0IC49ICIgQ29tcG9zZXIgd29ya3Mgd2l0aCA1LjMuMisgZm9yIG1vc3QgcGVvcGxlLCBidXQgdGhlcmUgbWlnaHQgYmUgZWRnZSBjYXNlIGlzc3Vlcy4iOwpicmVhazsKCmNhc2UgJ29wZW5zc2xfdmVyc2lvbic6Cgokb3BlbnNzbFZlcnNpb24gPSBzdHJzdHIodHJpbShzdHJzdHIoT1BFTlNTTF9WRVJTSU9OX1RFWFQsICcgJykpLCAnICcsIHRydWUpOwokb3BlbnNzbFZlcnNpb24gPSAkb3BlbnNzbFZlcnNpb24gPzogT1BFTlNTTF9WRVJTSU9OX1RFWFQ7CgokdGV4dCA9ICJUaGUgT3BlblNTTCBsaWJyYXJ5ICh7JG9wZW5zc2xWZXJzaW9ufSkgdXNlZCBieSBQSFAgZG9lcyBub3Qgc3VwcG9ydCBUTFN2MS4yIG9yIFRMU3YxLjEuIi5QSFBfRU9MOwokdGV4dCAuPSAiSWYgcG9zc2libGUgeW91IHNob3VsZCB1cGdyYWRlIE9wZW5TU0wgdG8gdmVyc2lvbiAxLjAuMSBvciBhYm92ZS4iOwpicmVhazsKCmNhc2UgJ3hkZWJ1Z19sb2FkZWQnOgokdGV4dCA9ICJUaGUgeGRlYnVnIGV4dGVuc2lvbiBpcyBsb2FkZWQsIHRoaXMgY2FuIHNsb3cgZG93biBDb21wb3NlciBhIGxpdHRsZS4iLlBIUF9FT0w7CiR0ZXh0IC49ICIgRGlzYWJsaW5nIGl0IHdoZW4gdXNpbmcgQ29tcG9zZXIgaXMgcmVjb21tZW5kZWQuIjsKYnJlYWs7CgpjYXNlICd4ZGVidWdfcHJvZmlsZSc6CiR0ZXh0ID0gIlRoZSB4ZGVidWcucHJvZmlsZXJfZW5hYmxlZCBzZXR0aW5nIGlzIGVuYWJsZWQsIHRoaXMgY2FuIHNsb3cgZG93biBDb21wb3NlciBhIGxvdC4iLlBIUF9FT0w7CiR0ZXh0IC49ICJBZGQgdGhlIGZvbGxvd2luZyB0byB0aGUgZW5kIG9mIHlvdXIgYHBocC5pbmlgIHRvIGRpc2FibGUgaXQ6Ii5QSFBfRU9MOwokdGV4dCAuPSAiICB4ZGVidWcucHJvZmlsZXJfZW5hYmxlZCA9IDAiOwokZGlzcGxheUluaU1lc3NhZ2UgPSB0cnVlOwpicmVhazsKCmNhc2UgJ29uZWRyaXZlJzoKJHRleHQgPSAiVGhlIFdpbmRvd3MgT25lRHJpdmUgZm9sZGVyIGlzIG5vdCBzdXBwb3J0ZWQgb24gUEhQIHZlcnNpb25zIGJlbG93IDcuMi4yMyBhbmQgNy4zLjEwLiIuUEhQX0VPTDsKJHRleHQgLj0gIlVwZ3JhZGUgeW91ciBQSFAgKHskY3VycmVudH0pIHRvIHVzZSB0aGlzIGxvY2F0aW9uIHdpdGggQ29tcG9zZXIuIi5QSFBfRU9MOwpicmVhazsKCmRlZmF1bHQ6CnRocm93IG5ldyBcSW52YWxpZEFyZ3VtZW50RXhjZXB0aW9uKHNwcmludGYoIkRpYWdub3NlQ29tbWFuZDogVW5rbm93biB3YXJuaW5nIHR5cGUgXCIlc1wiLiBQbGVhc2UgcmVwb3J0IGF0IGh0dHBzOi8vZ2l0aHViLmNvbS9jb21wb3Nlci9jb21wb3Nlci9pc3N1ZXMvbmV3LiIsICR3YXJuaW5nKSk7Cn0KJG91dCgkdGV4dCwgJ2NvbW1lbnQnKTsKfQp9CgppZiAoJGRpc3BsYXlJbmlNZXNzYWdlKSB7CiRvdXQoJGluaU1lc3NhZ2UsICdjb21tZW50Jyk7Cn0KCnJldHVybiAhJHdhcm5pbmdzICYmICEkZXJyb3JzID8gdHJ1ZSA6ICRvdXRwdXQ7Cn0KCgoKCgoKcHJpdmF0ZSBmdW5jdGlvbiBjaGVja0Nvbm5lY3Rpdml0eSgpCnsKaWYgKCFpbmlfZ2V0KCdhbGxvd191cmxfZm9wZW4nKSkgewpyZXR1cm4gJzxpbmZvPlNraXBwZWQgYmVjYXVzZSBhbGxvd191cmxfZm9wZW4gaXMgbWlzc2luZy48L2luZm8+JzsKfQoKcmV0dXJuIHRydWU7Cn0KfQo8P3BocAoKCgoKCgoKCgoKCm5hbWVzcGFjZSBDb21wb3NlclxDb21tYW5kOwoKdXNlIENvbXBvc2VyXFBsdWdpblxDb21tYW5kRXZlbnQ7CnVzZSBDb21wb3NlclxQbHVnaW5cUGx1Z2luRXZlbnRzOwp1c2UgU3ltZm9ueVxDb21wb25lbnRcQ29uc29sZVxJbnB1dFxJbnB1dEludGVyZmFjZTsKdXNlIFN5bWZvbnlcQ29tcG9uZW50XENvbnNvbGVcSW5wdXRcSW5wdXRPcHRpb247CnVzZSBTeW1mb255XENvbXBvbmVudFxDb25zb2xlXE91dHB1dFxPdXRwdXRJbnRlcmZhY2U7CgoKCgpjbGFzcyBEdW1wQXV0b2xvYWRDb21tYW5kIGV4dGVuZHMgQmFzZUNvbW1hbmQKewpwcm90ZWN0ZWQgZnVuY3Rpb24gY29uZmlndXJlKCkKewokdGhpcwotPnNldE5hbWUoJ2R1bXAtYXV0b2xvYWQnKQotPnNldEFsaWFzZXMoYXJyYXkoJ2R1bXBhdXRvbG9hZCcpKQotPnNldERlc2NyaXB0aW9uKCdEdW1wcyB0aGUgYXV0b2xvYWRlci4nKQotPnNldERlZmluaXRpb24oYXJyYXkoCm5ldyBJbnB1dE9wdGlvbignbm8tc2NyaXB0cycsIG51bGwsIElucHV0T3B0aW9uOjpWQUxVRV9OT05FLCAnU2tpcHMgdGhlIGV4ZWN1dGlvbiBvZiBhbGwgc2NyaXB0cyBkZWZpbmVkIGluIGNvbXBvc2VyLmpzb24gZmlsZS4nKSwKbmV3IElucHV0T3B0aW9uKCdvcHRpbWl6ZScsICdvJywgSW5wdXRPcHRpb246OlZBTFVFX05PTkUsICdPcHRpbWl6ZXMgUFNSMCBhbmQgUFNSNCBwYWNrYWdlcyB0byBiZSBsb2FkZWQgd2l0aCBjbGFzc21hcHMgdG9vLCBnb29kIGZvciBwcm9kdWN0aW9uLicpLApuZXcgSW5wdXRPcHRpb24oJ2NsYXNzbWFwLWF1dGhvcml0YXRpdmUnLCAnYScsIElucHV0T3B0aW9uOjpWQUxVRV9OT05FLCAnQXV0b2xvYWQgY2xhc3NlcyBmcm9tIHRoZSBjbGFzc21hcCBvbmx5LiBJbXBsaWNpdGx5IGVuYWJsZXMgYC0tb3B0aW1pemVgLicpLApuZXcgSW5wdXRPcHRpb24oJ2FwY3UnLCBudWxsLCBJbnB1dE9wdGlvbjo6VkFMVUVfTk9ORSwgJ1VzZSBBUEN1IHRvIGNhY2hlIGZvdW5kL25vdC1mb3VuZCBjbGFzc2VzLicpLApuZXcgSW5wdXRPcHRpb24oJ2FwY3UtcHJlZml4JywgbnVsbCwgSW5wdXRPcHRpb246OlZBTFVFX1JFUVVJUkVELCAnVXNlIGEgY3VzdG9tIHByZWZpeCBmb3IgdGhlIEFQQ3UgYXV0b2xvYWRlciBjYWNoZS4gSW1wbGljaXRseSBlbmFibGVzIC0tYXBjdScpLApuZXcgSW5wdXRPcHRpb24oJ2RldicsIG51bGwsIElucHV0T3B0aW9uOjpWQUxVRV9OT05FLCAnRW5hYmxlcyBhdXRvbG9hZC1kZXYgcnVsZXMuIENvbXBvc2VyIHdpbGwgYnkgZGVmYXVsdCBpbmZlciB0aGlzIGF1dG9tYXRpY2FsbHkgYWNjb3JkaW5nIHRvIHRoZSBsYXN0IGluc3RhbGwgb3IgdXBkYXRlIC0tbm8tZGV2IHN0YXRlLicpLApuZXcgSW5wdXRPcHRpb24oJ25vLWRldicsIG51bGwsIElucHV0T3B0aW9uOjpWQUxVRV9OT05FLCAnRGlzYWJsZXMgYXV0b2xvYWQtZGV2IHJ1bGVzLiBDb21wb3NlciB3aWxsIGJ5IGRlZmF1bHQgaW5mZXIgdGhpcyBhdXRvbWF0aWNhbGx5IGFjY29yZGluZyB0byB0aGUgbGFzdCBpbnN0YWxsIG9yIHVwZGF0ZSAtLW5vLWRldiBzdGF0ZS4nKSwKbmV3IElucHV0T3B0aW9uKCdpZ25vcmUtcGxhdGZvcm0tcmVxJywgbnVsbCwgSW5wdXRPcHRpb246OlZBTFVFX1JFUVVJUkVEIHwgSW5wdXRPcHRpb246OlZBTFVFX0lTX0FSUkFZLCAnSWdub3JlIGEgc3BlY2lmaWMgcGxhdGZvcm0gcmVxdWlyZW1lbnQgKHBocCAmIGV4dC0gcGFja2FnZXMpLicpLApuZXcgSW5wdXRPcHRpb24oJ2lnbm9yZS1wbGF0Zm9ybS1yZXFzJywgbnVsbCwgSW5wdXRPcHRpb246OlZBTFVFX05PTkUsICdJZ25vcmUgYWxsIHBsYXRmb3JtIHJlcXVpcmVtZW50cyAocGhwICYgZXh0LSBwYWNrYWdlcykuJyksCikpCi0+c2V0SGVscCgKPDw8RU9UCjxpbmZvPnBocCBjb21wb3Nlci5waGFyIGR1bXAtYXV0b2xvYWQ8L2luZm8+CgpSZWFkIG1vcmUgYXQgaHR0cHM6Ly9nZXRjb21wb3Nlci5vcmcvZG9jLzAzLWNsaS5tZCNkdW1wLWF1dG9sb2FkLWR1bXBhdXRvbG9hZC0KRU9UCikKOwp9Cgpwcm90ZWN0ZWQgZnVuY3Rpb24gZXhlY3V0ZShJbnB1dEludGVyZmFjZSAkaW5wdXQsIE91dHB1dEludGVyZmFjZSAkb3V0cHV0KQp7CiRjb21wb3NlciA9ICR0aGlzLT5nZXRDb21wb3NlcigpOwokY29tcG9zZXItPmdldEV2ZW50RGlzcGF0Y2hlcigpLT5zZXRSdW5TY3JpcHRzKCEkaW5wdXQtPmdldE9wdGlvbignbm8tc2NyaXB0cycpKTsKCiRjb21tYW5kRXZlbnQgPSBuZXcgQ29tbWFuZEV2ZW50KFBsdWdpbkV2ZW50czo6Q09NTUFORCwgJ2R1bXAtYXV0b2xvYWQnLCAkaW5wdXQsICRvdXRwdXQpOwokY29tcG9zZXItPmdldEV2ZW50RGlzcGF0Y2hlcigpLT5kaXNwYXRjaCgkY29tbWFuZEV2ZW50LT5nZXROYW1lKCksICRjb21tYW5kRXZlbnQpOwoKJGluc3RhbGxhdGlvbk1hbmFnZXIgPSAkY29tcG9zZXItPmdldEluc3RhbGxhdGlvbk1hbmFnZXIoKTsKJGxvY2FsUmVwbyA9ICRjb21wb3Nlci0+Z2V0UmVwb3NpdG9yeU1hbmFnZXIoKS0+Z2V0TG9jYWxSZXBvc2l0b3J5KCk7CiRwYWNrYWdlID0gJGNvbXBvc2VyLT5nZXRQYWNrYWdlKCk7CiRjb25maWcgPSAkY29tcG9zZXItPmdldENvbmZpZygpOwoKJG9wdGltaXplID0gJGlucHV0LT5nZXRPcHRpb24oJ29wdGltaXplJykgfHwgJGNvbmZpZy0+Z2V0KCdvcHRpbWl6ZS1hdXRvbG9hZGVyJyk7CiRhdXRob3JpdGF0aXZlID0gJGlucHV0LT5nZXRPcHRpb24oJ2NsYXNzbWFwLWF1dGhvcml0YXRpdmUnKSB8fCAkY29uZmlnLT5nZXQoJ2NsYXNzbWFwLWF1dGhvcml0YXRpdmUnKTsKJGFwY3VQcmVmaXggPSAkaW5wdXQtPmdldE9wdGlvbignYXBjdS1wcmVmaXgnKTsKJGFwY3UgPSAkYXBjdVByZWZpeCAhPT0gbnVsbCB8fCAkaW5wdXQtPmdldE9wdGlvbignYXBjdScpIHx8ICRjb25maWctPmdldCgnYXBjdS1hdXRvbG9hZGVyJyk7CgppZiAoJGF1dGhvcml0YXRpdmUpIHsKJHRoaXMtPmdldElPKCktPndyaXRlKCc8aW5mbz5HZW5lcmF0aW5nIG9wdGltaXplZCBhdXRvbG9hZCBmaWxlcyAoYXV0aG9yaXRhdGl2ZSk8L2luZm8+Jyk7Cn0gZWxzZWlmICgkb3B0aW1pemUpIHsKJHRoaXMtPmdldElPKCktPndyaXRlKCc8aW5mbz5HZW5lcmF0aW5nIG9wdGltaXplZCBhdXRvbG9hZCBmaWxlczwvaW5mbz4nKTsKfSBlbHNlIHsKJHRoaXMtPmdldElPKCktPndyaXRlKCc8aW5mbz5HZW5lcmF0aW5nIGF1dG9sb2FkIGZpbGVzPC9pbmZvPicpOwp9CgokaWdub3JlUGxhdGZvcm1SZXFzID0gJGlucHV0LT5nZXRPcHRpb24oJ2lnbm9yZS1wbGF0Zm9ybS1yZXFzJykgPzogKCRpbnB1dC0+Z2V0T3B0aW9uKCdpZ25vcmUtcGxhdGZvcm0tcmVxJykgPzogZmFsc2UpOwoKJGdlbmVyYXRvciA9ICRjb21wb3Nlci0+Z2V0QXV0b2xvYWRHZW5lcmF0b3IoKTsKaWYgKCRpbnB1dC0+Z2V0T3B0aW9uKCduby1kZXYnKSkgewokZ2VuZXJhdG9yLT5zZXREZXZNb2RlKGZhbHNlKTsKfQppZiAoJGlucHV0LT5nZXRPcHRpb24oJ2RldicpKSB7CmlmICgkaW5wdXQtPmdldE9wdGlvbignbm8tZGV2JykpIHsKdGhyb3cgbmV3IFxJbnZhbGlkQXJndW1lbnRFeGNlcHRpb24oJ1lvdSBjYW4gbm90IHVzZSBib3RoIC0tbm8tZGV2IGFuZCAtLWRldiBhcyB0aGV5IGNvbmZsaWN0IHdpdGggZWFjaCBvdGhlci4nKTsKfQokZ2VuZXJhdG9yLT5zZXREZXZNb2RlKHRydWUpOwp9CiRnZW5lcmF0b3ItPnNldENsYXNzTWFwQXV0aG9yaXRhdGl2ZSgkYXV0aG9yaXRhdGl2ZSk7CiRnZW5lcmF0b3ItPnNldFJ1blNjcmlwdHModHJ1ZSk7CiRnZW5lcmF0b3ItPnNldEFwY3UoJGFwY3UsICRhcGN1UHJlZml4KTsKJGdlbmVyYXRvci0+c2V0SWdub3JlUGxhdGZvcm1SZXF1aXJlbWVudHMoJGlnbm9yZVBsYXRmb3JtUmVxcyk7CiRudW1iZXJPZkNsYXNzZXMgPSAkZ2VuZXJhdG9yLT5kdW1wKCRjb25maWcsICRsb2NhbFJlcG8sICRwYWNrYWdlLCAkaW5zdGFsbGF0aW9uTWFuYWdlciwgJ2NvbXBvc2VyJywgJG9wdGltaXplKTsKCmlmICgkYXV0aG9yaXRhdGl2ZSkgewokdGhpcy0+Z2V0SU8oKS0+d3JpdGUoJzxpbmZvPkdlbmVyYXRlZCBvcHRpbWl6ZWQgYXV0b2xvYWQgZmlsZXMgKGF1dGhvcml0YXRpdmUpIGNvbnRhaW5pbmcgJy4gJG51bWJlck9mQ2xhc3NlcyAuJyBjbGFzc2VzPC9pbmZvPicpOwp9IGVsc2VpZiAoJG9wdGltaXplKSB7CiR0aGlzLT5nZXRJTygpLT53cml0ZSgnPGluZm8+R2VuZXJhdGVkIG9wdGltaXplZCBhdXRvbG9hZCBmaWxlcyBjb250YWluaW5nICcuICRudW1iZXJPZkNsYXNzZXMgLicgY2xhc3NlczwvaW5mbz4nKTsKfSBlbHNlIHsKJHRoaXMtPmdldElPKCktPndyaXRlKCc8aW5mbz5HZW5lcmF0ZWQgYXV0b2xvYWQgZmlsZXM8L2luZm8+Jyk7Cn0KCnJldHVybiAwOwp9Cn0KPD9waHAKCgoKCgoKCgoKCgpuYW1lc3BhY2UgQ29tcG9zZXJcQ29tbWFuZDsKCnVzZSBTeW1mb255XENvbXBvbmVudFxDb25zb2xlXElucHV0XElucHV0SW50ZXJmYWNlOwp1c2UgU3ltZm9ueVxDb21wb25lbnRcQ29uc29sZVxJbnB1dFxJbnB1dE9wdGlvbjsKdXNlIFN5bWZvbnlcQ29tcG9uZW50XENvbnNvbGVcT3V0cHV0XE91dHB1dEludGVyZmFjZTsKdXNlIFN5bWZvbnlcQ29tcG9uZW50XENvbnNvbGVcSW5wdXRcSW5wdXRBcmd1bWVudDsKCgoKCmNsYXNzIEV4ZWNDb21tYW5kIGV4dGVuZHMgQmFzZUNvbW1hbmQKewpwcm90ZWN0ZWQgZnVuY3Rpb24gY29uZmlndXJlKCkKewokdGhpcwotPnNldE5hbWUoJ2V4ZWMnKQotPnNldERlc2NyaXB0aW9uKCdFeGVjdXRlcyBhIHZlbmRvcmVkIGJpbmFyeS9zY3JpcHQuJykKLT5zZXREZWZpbml0aW9uKGFycmF5KApuZXcgSW5wdXRPcHRpb24oJ2xpc3QnLCAnbCcsIElucHV0T3B0aW9uOjpWQUxVRV9OT05FKSwKbmV3IElucHV0QXJndW1lbnQoJ2JpbmFyeScsIElucHV0QXJndW1lbnQ6Ok9QVElPTkFMLCAnVGhlIGJpbmFyeSB0byBydW4sIGUuZy4gcGhwdW5pdCcpLApuZXcgSW5wdXRBcmd1bWVudCgKJ2FyZ3MnLApJbnB1dEFyZ3VtZW50OjpJU19BUlJBWSB8IElucHV0QXJndW1lbnQ6Ok9QVElPTkFMLAonQXJndW1lbnRzIHRvIHBhc3MgdG8gdGhlIGJpbmFyeS4gVXNlIDxpbmZvPi0tPC9pbmZvPiB0byBzZXBhcmF0ZSBmcm9tIGNvbXBvc2VyIGFyZ3VtZW50cycKKSwKKSkKLT5zZXRIZWxwKAo8PDxFT1QKRXhlY3V0ZXMgYSB2ZW5kb3JlZCBiaW5hcnkvc2NyaXB0LgoKUmVhZCBtb3JlIGF0IGh0dHBzOi8vZ2V0Y29tcG9zZXIub3JnL2RvYy8wMy1jbGkubWQjZXhlYwpFT1QKKQo7Cn0KCnByb3RlY3RlZCBmdW5jdGlvbiBleGVjdXRlKElucHV0SW50ZXJmYWNlICRpbnB1dCwgT3V0cHV0SW50ZXJmYWNlICRvdXRwdXQpCnsKJGNvbXBvc2VyID0gJHRoaXMtPmdldENvbXBvc2VyKCk7CiRiaW5EaXIgPSAkY29tcG9zZXItPmdldENvbmZpZygpLT5nZXQoJ2Jpbi1kaXInKTsKaWYgKCRpbnB1dC0+Z2V0T3B0aW9uKCdsaXN0JykgfHwgISRpbnB1dC0+Z2V0QXJndW1lbnQoJ2JpbmFyeScpKSB7CiRiaW5zID0gZ2xvYigkYmluRGlyIC4gJy8qJyk7CiRiaW5zID0gYXJyYXlfbWVyZ2UoJGJpbnMsIGFycmF5X21hcChmdW5jdGlvbiAoJGUpIHsKcmV0dXJuICIkZSAobG9jYWwpIjsKfSwgJGNvbXBvc2VyLT5nZXRQYWNrYWdlKCktPmdldEJpbmFyaWVzKCkpKTsKCmlmICghJGJpbnMpIHsKdGhyb3cgbmV3IFxSdW50aW1lRXhjZXB0aW9uKCJObyBiaW5hcmllcyBmb3VuZCBpbiBjb21wb3Nlci5qc29uIG9yIGluIGJpbi1kaXIgKCRiaW5EaXIpIik7Cn0KCiR0aGlzLT5nZXRJTygpLT53cml0ZSgKPDw8RU9UCjxjb21tZW50PkF2YWlsYWJsZSBiaW5hcmllczo8L2NvbW1lbnQ+CkVPVAopOwoKZm9yZWFjaCAoJGJpbnMgYXMgJGJpbikgewoKaWYgKGlzc2V0KCRwcmV2aW91c0JpbikgJiYgJGJpbiA9PT0gJHByZXZpb3VzQmluLicuYmF0Jykgewpjb250aW51ZTsKfQoKJHByZXZpb3VzQmluID0gJGJpbjsKJGJpbiA9IGJhc2VuYW1lKCRiaW4pOwokdGhpcy0+Z2V0SU8oKS0+d3JpdGUoCjw8PEVPVAo8aW5mbz4tICRiaW48L2luZm8+CkVPVAopOwp9CgpyZXR1cm4gMDsKfQoKJGJpbmFyeSA9ICRpbnB1dC0+Z2V0QXJndW1lbnQoJ2JpbmFyeScpOwoKJGRpc3BhdGNoZXIgPSAkY29tcG9zZXItPmdldEV2ZW50RGlzcGF0Y2hlcigpOwokZGlzcGF0Y2hlci0+YWRkTGlzdGVuZXIoJ19fZXhlY19jb21tYW5kJywgJGJpbmFyeSk7CgoKCgppZiAoZ2V0Y3dkKCkgIT09ICR0aGlzLT5nZXRBcHBsaWNhdGlvbigpLT5nZXRJbml0aWFsV29ya2luZ0RpcmVjdG9yeSgpKSB7CnRyeSB7CmNoZGlyKCR0aGlzLT5nZXRBcHBsaWNhdGlvbigpLT5nZXRJbml0aWFsV29ya2luZ0RpcmVjdG9yeSgpKTsKfSBjYXRjaCAoXEV4Y2VwdGlvbiAkZSkgewp0aHJvdyBuZXcgXFJ1bnRpbWVFeGNlcHRpb24oJ0NvdWxkIG5vdCBzd2l0Y2ggYmFjayB0byB3b3JraW5nIGRpcmVjdG9yeSAiJy4kdGhpcy0+Z2V0QXBwbGljYXRpb24oKS0+Z2V0SW5pdGlhbFdvcmtpbmdEaXJlY3RvcnkoKS4nIicsIDAsICRlKTsKfQp9CgpyZXR1cm4gJGRpc3BhdGNoZXItPmRpc3BhdGNoU2NyaXB0KCdfX2V4ZWNfY29tbWFuZCcsIHRydWUsICRpbnB1dC0+Z2V0QXJndW1lbnQoJ2FyZ3MnKSk7Cn0KfQo8P3BocAoKCgoKCgoKCgoKCm5hbWVzcGFjZSBDb21wb3NlclxDb21tYW5kOwoKdXNlIENvbXBvc2VyXEpzb25cSnNvbkZpbGU7CnVzZSBDb21wb3NlclxQYWNrYWdlXEFsaWFzUGFja2FnZTsKdXNlIENvbXBvc2VyXFBhY2thZ2VcQmFzZVBhY2thZ2U7CnVzZSBDb21wb3NlclxQYWNrYWdlXENvbXBsZXRlUGFja2FnZUludGVyZmFjZTsKdXNlIENvbXBvc2VyXFJlcG9zaXRvcnlcQ29tcG9zaXRlUmVwb3NpdG9yeTsKdXNlIENvbXBvc2VyXFNlbXZlclxDb25zdHJhaW50XE1hdGNoQWxsQ29uc3RyYWludDsKdXNlIFN5bWZvbnlcQ29tcG9uZW50XENvbnNvbGVcSW5wdXRcSW5wdXRJbnRlcmZhY2U7CnVzZSBTeW1mb255XENvbXBvbmVudFxDb25zb2xlXElucHV0XElucHV0T3B0aW9uOwp1c2UgU3ltZm9ueVxDb21wb25lbnRcQ29uc29sZVxPdXRwdXRcT3V0cHV0SW50ZXJmYWNlOwoKCgoKCmNsYXNzIEZ1bmRDb21tYW5kIGV4dGVuZHMgQmFzZUNvbW1hbmQKewpwcm90ZWN0ZWQgZnVuY3Rpb24gY29uZmlndXJlKCkKewokdGhpcy0+c2V0TmFtZSgnZnVuZCcpCi0+c2V0RGVzY3JpcHRpb24oJ0Rpc2NvdmVyIGhvdyB0byBoZWxwIGZ1bmQgdGhlIG1haW50ZW5hbmNlIG9mIHlvdXIgZGVwZW5kZW5jaWVzLicpCi0+c2V0RGVmaW5pdGlvbihhcnJheSgKbmV3IElucHV0T3B0aW9uKCdmb3JtYXQnLCAnZicsIElucHV0T3B0aW9uOjpWQUxVRV9SRVFVSVJFRCwgJ0Zvcm1hdCBvZiB0aGUgb3V0cHV0OiB0ZXh0IG9yIGpzb24nLCAndGV4dCcpLAopKQo7Cn0KCnByb3RlY3RlZCBmdW5jdGlvbiBleGVjdXRlKElucHV0SW50ZXJmYWNlICRpbnB1dCwgT3V0cHV0SW50ZXJmYWNlICRvdXRwdXQpCnsKJGNvbXBvc2VyID0gJHRoaXMtPmdldENvbXBvc2VyKCk7CgokcmVwbyA9ICRjb21wb3Nlci0+Z2V0UmVwb3NpdG9yeU1hbmFnZXIoKS0+Z2V0TG9jYWxSZXBvc2l0b3J5KCk7CiRyZW1vdGVSZXBvcyA9IG5ldyBDb21wb3NpdGVSZXBvc2l0b3J5KCRjb21wb3Nlci0+Z2V0UmVwb3NpdG9yeU1hbmFnZXIoKS0+Z2V0UmVwb3NpdG9yaWVzKCkpOwokZnVuZGluZ3MgPSBhcnJheSgpOwoKJHBhY2thZ2VzVG9Mb2FkID0gYXJyYXkoKTsKZm9yZWFjaCAoJHJlcG8tPmdldFBhY2thZ2VzKCkgYXMgJHBhY2thZ2UpIHsKaWYgKCRwYWNrYWdlIGluc3RhbmNlb2YgQWxpYXNQYWNrYWdlKSB7CmNvbnRpbnVlOwp9CiRwYWNrYWdlc1RvTG9hZFskcGFja2FnZS0+Z2V0TmFtZSgpXSA9IG5ldyBNYXRjaEFsbENvbnN0cmFpbnQoKTsKfQoKCiRyZXN1bHQgPSAkcmVtb3RlUmVwb3MtPmxvYWRQYWNrYWdlcygkcGFja2FnZXNUb0xvYWQsIGFycmF5KCdkZXYnID0+IEJhc2VQYWNrYWdlOjpTVEFCSUxJVFlfREVWKSwgYXJyYXkoKSk7CgoKZm9yZWFjaCAoJHJlc3VsdFsncGFja2FnZXMnXSBhcyAkcGFja2FnZSkgewppZiAoCiEkcGFja2FnZSBpbnN0YW5jZW9mIEFsaWFzUGFja2FnZQomJiAkcGFja2FnZSBpbnN0YW5jZW9mIENvbXBsZXRlUGFja2FnZUludGVyZmFjZQomJiAkcGFja2FnZS0+aXNEZWZhdWx0QnJhbmNoKCkKJiYgJHBhY2thZ2UtPmdldEZ1bmRpbmcoKQomJiBpc3NldCgkcGFja2FnZXNUb0xvYWRbJHBhY2thZ2UtPmdldE5hbWUoKV0pCikgewokZnVuZGluZ3MgPSAkdGhpcy0+aW5zZXJ0RnVuZGluZ0RhdGEoJGZ1bmRpbmdzLCAkcGFja2FnZSk7CnVuc2V0KCRwYWNrYWdlc1RvTG9hZFskcGFja2FnZS0+Z2V0TmFtZSgpXSk7Cn0KfQoKCmZvcmVhY2ggKCRyZXBvLT5nZXRQYWNrYWdlcygpIGFzICRwYWNrYWdlKSB7CmlmICgkcGFja2FnZSBpbnN0YW5jZW9mIEFsaWFzUGFja2FnZSB8fCAhaXNzZXQoJHBhY2thZ2VzVG9Mb2FkWyRwYWNrYWdlLT5nZXROYW1lKCldKSkgewpjb250aW51ZTsKfQoKaWYgKCRwYWNrYWdlIGluc3RhbmNlb2YgQ29tcGxldGVQYWNrYWdlSW50ZXJmYWNlICYmICRwYWNrYWdlLT5nZXRGdW5kaW5nKCkpIHsKJGZ1bmRpbmdzID0gJHRoaXMtPmluc2VydEZ1bmRpbmdEYXRhKCRmdW5kaW5ncywgJHBhY2thZ2UpOwp9Cn0KCmtzb3J0KCRmdW5kaW5ncyk7CgokaW8gPSAkdGhpcy0+Z2V0SU8oKTsKCiRmb3JtYXQgPSAkaW5wdXQtPmdldE9wdGlvbignZm9ybWF0Jyk7CmlmICghaW5fYXJyYXkoJGZvcm1hdCwgYXJyYXkoJ3RleHQnLCAnanNvbicpKSkgewokaW8tPndyaXRlRXJyb3Ioc3ByaW50ZignVW5zdXBwb3J0ZWQgZm9ybWF0ICIlcyIuIFNlZSBoZWxwIGZvciBzdXBwb3J0ZWQgZm9ybWF0cy4nLCAkZm9ybWF0KSk7CgpyZXR1cm4gMTsKfQoKaWYgKCRmdW5kaW5ncyAmJiAkZm9ybWF0ID09PSAndGV4dCcpIHsKJHByZXYgPSBudWxsOwoKJGlvLT53cml0ZSgnVGhlIGZvbGxvd2luZyBwYWNrYWdlcyB3ZXJlIGZvdW5kIGluIHlvdXIgZGVwZW5kZW5jaWVzIHdoaWNoIHB1Ymxpc2ggZnVuZGluZyBpbmZvcm1hdGlvbjonKTsKCmZvcmVhY2ggKCRmdW5kaW5ncyBhcyAkdmVuZG9yID0+ICRsaW5rcykgewokaW8tPndyaXRlKCcnKTsKJGlvLT53cml0ZShzcHJpbnRmKCI8Y29tbWVudD4lczwvY29tbWVudD4iLCAkdmVuZG9yKSk7CmZvcmVhY2ggKCRsaW5rcyBhcyAkdXJsID0+ICRwYWNrYWdlcykgewokbGluZSA9IHNwcmludGYoJyAgPGluZm8+JXM8L2luZm8+JywgaW1wbG9kZSgnLCAnLCAkcGFja2FnZXMpKTsKCmlmICgkcHJldiAhPT0gJGxpbmUpIHsKJGlvLT53cml0ZSgkbGluZSk7CiRwcmV2ID0gJGxpbmU7Cn0KCiRpby0+d3JpdGUoc3ByaW50ZignICAgICVzJywgJHVybCkpOwp9Cn0KCiRpby0+d3JpdGUoIiIpOwokaW8tPndyaXRlKCJQbGVhc2UgY29uc2lkZXIgZm9sbG93aW5nIHRoZXNlIGxpbmtzIGFuZCBzcG9uc29yaW5nIHRoZSB3b3JrIG9mIHBhY2thZ2UgYXV0aG9ycyEiKTsKJGlvLT53cml0ZSgiVGhhbmsgeW91ISIpOwp9IGVsc2VpZiAoJGZvcm1hdCA9PT0gJ2pzb24nKSB7CiRpby0+d3JpdGUoSnNvbkZpbGU6OmVuY29kZSgkZnVuZGluZ3MpKTsKfSBlbHNlIHsKJGlvLT53cml0ZSgiTm8gZnVuZGluZyBsaW5rcyB3ZXJlIGZvdW5kIGluIHlvdXIgcGFja2FnZSBkZXBlbmRlbmNpZXMuIFRoaXMgZG9lc24ndCBtZWFuIHRoZXkgZG9uJ3QgbmVlZCB5b3VyIHN1cHBvcnQhIik7Cn0KCnJldHVybiAwOwp9Cgpwcml2YXRlIGZ1bmN0aW9uIGluc2VydEZ1bmRpbmdEYXRhKGFycmF5ICRmdW5kaW5ncywgQ29tcGxldGVQYWNrYWdlSW50ZXJmYWNlICRwYWNrYWdlKQp7CmZvcmVhY2ggKCRwYWNrYWdlLT5nZXRGdW5kaW5nKCkgYXMgJGZ1bmRpbmdPcHRpb24pIHsKbGlzdCgkdmVuZG9yLCAkcGFja2FnZU5hbWUpID0gZXhwbG9kZSgnLycsICRwYWNrYWdlLT5nZXRQcmV0dHlOYW1lKCkpOwoKaWYgKGVtcHR5KCRmdW5kaW5nT3B0aW9uWyd1cmwnXSkpIHsKY29udGludWU7Cn0KJHVybCA9ICRmdW5kaW5nT3B0aW9uWyd1cmwnXTsKaWYgKCFlbXB0eSgkZnVuZGluZ09wdGlvblsndHlwZSddKSAmJiAkZnVuZGluZ09wdGlvblsndHlwZSddID09PSAnZ2l0aHViJyAmJiBwcmVnX21hdGNoKCd7Xmh0dHBzOi8vZ2l0aHViLmNvbS8oW14vXSspJH0nLCAkdXJsLCAkbWF0Y2gpKSB7CiR1cmwgPSAnaHR0cHM6Ly9naXRodWIuY29tL3Nwb25zb3JzLycuJG1hdGNoWzFdOwp9CiRmdW5kaW5nc1skdmVuZG9yXVskdXJsXVtdID0gJHBhY2thZ2VOYW1lOwp9CgpyZXR1cm4gJGZ1bmRpbmdzOwp9Cn0KPD9waHAKCgoKCgoKCgoKCgpuYW1lc3BhY2UgQ29tcG9zZXJcQ29tbWFuZDsKCnVzZSBDb21wb3NlclxGYWN0b3J5Owp1c2UgQ29tcG9zZXJcVXRpbFxGaWxlc3lzdGVtOwp1c2UgQ29tcG9zZXJcVXRpbFxQbGF0Zm9ybTsKdXNlIFN5bWZvbnlcQ29tcG9uZW50XENvbnNvbGVcSW5wdXRcSW5wdXRJbnRlcmZhY2U7CnVzZSBTeW1mb255XENvbXBvbmVudFxDb25zb2xlXElucHV0XElucHV0QXJndW1lbnQ7CnVzZSBTeW1mb255XENvbXBvbmVudFxDb25zb2xlXElucHV0XFN0cmluZ0lucHV0Owp1c2UgU3ltZm9ueVxDb21wb25lbnRcQ29uc29sZVxPdXRwdXRcT3V0cHV0SW50ZXJmYWNlOwoKCgoKY2xhc3MgR2xvYmFsQ29tbWFuZCBleHRlbmRzIEJhc2VDb21tYW5kCnsKcHJvdGVjdGVkIGZ1bmN0aW9uIGNvbmZpZ3VyZSgpCnsKJHRoaXMKLT5zZXROYW1lKCdnbG9iYWwnKQotPnNldERlc2NyaXB0aW9uKCdBbGxvd3MgcnVubmluZyBjb21tYW5kcyBpbiB0aGUgZ2xvYmFsIGNvbXBvc2VyIGRpciAoJENPTVBPU0VSX0hPTUUpLicpCi0+c2V0RGVmaW5pdGlvbihhcnJheSgKbmV3IElucHV0QXJndW1lbnQoJ2NvbW1hbmQtbmFtZScsIElucHV0QXJndW1lbnQ6OlJFUVVJUkVELCAnJyksCm5ldyBJbnB1dEFyZ3VtZW50KCdhcmdzJywgSW5wdXRBcmd1bWVudDo6SVNfQVJSQVkgfCBJbnB1dEFyZ3VtZW50OjpPUFRJT05BTCwgJycpLAopKQotPnNldEhlbHAoCjw8PEVPVApVc2UgdGhpcyBjb21tYW5kIGFzIGEgd3JhcHBlciB0byBydW4gb3RoZXIgQ29tcG9zZXIgY29tbWFuZHMKd2l0aGluIHRoZSBnbG9iYWwgY29udGV4dCBvZiBDT01QT1NFUl9IT01FLgoKWW91IGNhbiB1c2UgdGhpcyB0byBpbnN0YWxsIENMSSB1dGlsaXRpZXMgZ2xvYmFsbHksIGFsbCB5b3UgbmVlZAppcyB0byBhZGQgdGhlIENPTVBPU0VSX0hPTUUvdmVuZG9yL2JpbiBkaXIgdG8geW91ciBQQVRIIGVudiB2YXIuCgpDT01QT1NFUl9IT01FIGlzIGM6XFVzZXJzXDx1c2VyPlxBcHBEYXRhXFJvYW1pbmdcQ29tcG9zZXIgb24gV2luZG93cwphbmQgL2hvbWUvPHVzZXI+Ly5jb21wb3NlciBvbiB1bml4IHN5c3RlbXMuCgpJZiB5b3VyIHN5c3RlbSB1c2VzIGZyZWVkZXNrdG9wLm9yZyBzdGFuZGFyZHMsIHRoZW4gaXQgd2lsbCBmaXJzdCBjaGVjawpYREdfQ09ORklHX0hPTUUgb3IgZGVmYXVsdCB0byAvaG9tZS88dXNlcj4vLmNvbmZpZy9jb21wb3NlcgoKTm90ZTogVGhpcyBwYXRoIG1heSB2YXJ5IGRlcGVuZGluZyBvbiBjdXN0b21pemF0aW9ucyB0byBiaW4tZGlyIGluCmNvbXBvc2VyLmpzb24gb3IgdGhlIGVudmlyb25tZW50YWwgdmFyaWFibGUgQ09NUE9TRVJfQklOX0RJUi4KClJlYWQgbW9yZSBhdCBodHRwczovL2dldGNvbXBvc2VyLm9yZy9kb2MvMDMtY2xpLm1kI2dsb2JhbApFT1QKKQo7Cn0KCnB1YmxpYyBmdW5jdGlvbiBydW4oSW5wdXRJbnRlcmZhY2UgJGlucHV0LCBPdXRwdXRJbnRlcmZhY2UgJG91dHB1dCkKewppZiAoIW1ldGhvZF9leGlzdHMoJGlucHV0LCAnX190b1N0cmluZycpKSB7CnRocm93IG5ldyBcTG9naWNFeGNlcHRpb24oJ0V4cGVjdGVkIGFuIElucHV0IGluc3RhbmNlIHRoYXQgaXMgc3RyaW5nYWJsZSwgZ290ICcuZ2V0X2NsYXNzKCRpbnB1dCkpOwp9CgoKJHRva2VucyA9IHByZWdfc3BsaXQoJ3tccyt9JywgJGlucHV0LT5fX3RvU3RyaW5nKCkpOwokYXJncyA9IGFycmF5KCk7CmZvcmVhY2ggKCR0b2tlbnMgYXMgJHRva2VuKSB7CmlmICgkdG9rZW4gJiYgJHRva2VuWzBdICE9PSAnLScpIHsKJGFyZ3NbXSA9ICR0b2tlbjsKaWYgKGNvdW50KCRhcmdzKSA+PSAyKSB7CmJyZWFrOwp9Cn0KfQoKCmlmIChjb3VudCgkYXJncykgPCAyKSB7CnJldHVybiBwYXJlbnQ6OnJ1bigkaW5wdXQsICRvdXRwdXQpOwp9CgoKaWYgKGdldGVudignQ09NUE9TRVInKSkgewpQbGF0Zm9ybTo6Y2xlYXJFbnYoJ0NPTVBPU0VSJyk7Cn0KCgokY29uZmlnID0gRmFjdG9yeTo6Y3JlYXRlQ29uZmlnKCk7CiRob21lID0gJGNvbmZpZy0+Z2V0KCdob21lJyk7CgppZiAoIWlzX2RpcigkaG9tZSkpIHsKJGZzID0gbmV3IEZpbGVzeXN0ZW0oKTsKJGZzLT5lbnN1cmVEaXJlY3RvcnlFeGlzdHMoJGhvbWUpOwppZiAoIWlzX2RpcigkaG9tZSkpIHsKdGhyb3cgbmV3IFxSdW50aW1lRXhjZXB0aW9uKCdDb3VsZCBub3QgY3JlYXRlIGhvbWUgZGlyZWN0b3J5Jyk7Cn0KfQoKdHJ5IHsKY2hkaXIoJGhvbWUpOwp9IGNhdGNoIChcRXhjZXB0aW9uICRlKSB7CnRocm93IG5ldyBcUnVudGltZUV4Y2VwdGlvbignQ291bGQgbm90IHN3aXRjaCB0byBob21lIGRpcmVjdG9yeSAiJy4kaG9tZS4nIicsIDAsICRlKTsKfQokdGhpcy0+Z2V0SU8oKS0+d3JpdGVFcnJvcignPGluZm8+Q2hhbmdlZCBjdXJyZW50IGRpcmVjdG9yeSB0byAnLiRob21lLic8L2luZm8+Jyk7CgoKJGlucHV0ID0gbmV3IFN0cmluZ0lucHV0KHByZWdfcmVwbGFjZSgne1xiZyg/OmwoPzpvKD86Yig/OmEoPzpsKT8pPyk/KT8pP1xifScsICcnLCAkaW5wdXQtPl9fdG9TdHJpbmcoKSwgMSkpOwokdGhpcy0+Z2V0QXBwbGljYXRpb24oKS0+cmVzZXRDb21wb3NlcigpOwoKcmV0dXJuICR0aGlzLT5nZXRBcHBsaWNhdGlvbigpLT5ydW4oJGlucHV0LCAkb3V0cHV0KTsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIGlzUHJveHlDb21tYW5kKCkKewpyZXR1cm4gdHJ1ZTsKfQp9Cjw/cGhwCgoKCgoKCgoKCgoKbmFtZXNwYWNlIENvbXBvc2VyXENvbW1hbmQ7Cgp1c2UgQ29tcG9zZXJcUGFja2FnZVxDb21wbGV0ZVBhY2thZ2VJbnRlcmZhY2U7CnVzZSBDb21wb3NlclxSZXBvc2l0b3J5XFJlcG9zaXRvcnlJbnRlcmZhY2U7CnVzZSBDb21wb3NlclxSZXBvc2l0b3J5XFJvb3RQYWNrYWdlUmVwb3NpdG9yeTsKdXNlIENvbXBvc2VyXFJlcG9zaXRvcnlcUmVwb3NpdG9yeUZhY3Rvcnk7CnVzZSBDb21wb3NlclxVdGlsXFBsYXRmb3JtOwp1c2UgQ29tcG9zZXJcVXRpbFxQcm9jZXNzRXhlY3V0b3I7CnVzZSBTeW1mb255XENvbXBvbmVudFxDb25zb2xlXElucHV0XElucHV0QXJndW1lbnQ7CnVzZSBTeW1mb255XENvbXBvbmVudFxDb25zb2xlXElucHV0XElucHV0T3B0aW9uOwp1c2UgU3ltZm9ueVxDb21wb25lbnRcQ29uc29sZVxJbnB1dFxJbnB1dEludGVyZmFjZTsKdXNlIFN5bWZvbnlcQ29tcG9uZW50XENvbnNvbGVcT3V0cHV0XE91dHB1dEludGVyZmFjZTsKCgoKCmNsYXNzIEhvbWVDb21tYW5kIGV4dGVuZHMgQmFzZUNvbW1hbmQKewoKCgpwcm90ZWN0ZWQgZnVuY3Rpb24gY29uZmlndXJlKCkKewokdGhpcwotPnNldE5hbWUoJ2Jyb3dzZScpCi0+c2V0QWxpYXNlcyhhcnJheSgnaG9tZScpKQotPnNldERlc2NyaXB0aW9uKCdPcGVucyB0aGUgcGFja2FnZVwncyByZXBvc2l0b3J5IFVSTCBvciBob21lcGFnZSBpbiB5b3VyIGJyb3dzZXIuJykKLT5zZXREZWZpbml0aW9uKGFycmF5KApuZXcgSW5wdXRBcmd1bWVudCgncGFja2FnZXMnLCBJbnB1dEFyZ3VtZW50OjpJU19BUlJBWSwgJ1BhY2thZ2UocykgdG8gYnJvd3NlIHRvLicpLApuZXcgSW5wdXRPcHRpb24oJ2hvbWVwYWdlJywgJ0gnLCBJbnB1dE9wdGlvbjo6VkFMVUVfTk9ORSwgJ09wZW4gdGhlIGhvbWVwYWdlIGluc3RlYWQgb2YgdGhlIHJlcG9zaXRvcnkgVVJMLicpLApuZXcgSW5wdXRPcHRpb24oJ3Nob3cnLCAncycsIElucHV0T3B0aW9uOjpWQUxVRV9OT05FLCAnT25seSBzaG93IHRoZSBob21lcGFnZSBvciByZXBvc2l0b3J5IFVSTC4nKSwKKSkKLT5zZXRIZWxwKAo8PDxFT1QKVGhlIGhvbWUgY29tbWFuZCBvcGVucyBvciBzaG93cyBhIHBhY2thZ2UncyByZXBvc2l0b3J5IFVSTCBvcgpob21lcGFnZSBpbiB5b3VyIGRlZmF1bHQgYnJvd3Nlci4KClRvIG9wZW4gdGhlIGhvbWVwYWdlIGJ5IGRlZmF1bHQsIHVzZSAtSCBvciAtLWhvbWVwYWdlLgpUbyBzaG93IGluc3RlYWQgb2Ygb3BlbiB0aGUgcmVwb3NpdG9yeSBvciBob21lcGFnZSBVUkwsIHVzZSAtcyBvciAtLXNob3cuCgpSZWFkIG1vcmUgYXQgaHR0cHM6Ly9nZXRjb21wb3Nlci5vcmcvZG9jLzAzLWNsaS5tZCNicm93c2UtaG9tZQpFT1QKKTsKfQoKCgoKcHJvdGVjdGVkIGZ1bmN0aW9uIGV4ZWN1dGUoSW5wdXRJbnRlcmZhY2UgJGlucHV0LCBPdXRwdXRJbnRlcmZhY2UgJG91dHB1dCkKewokcmVwb3MgPSAkdGhpcy0+aW5pdGlhbGl6ZVJlcG9zKCk7CiRpbyA9ICR0aGlzLT5nZXRJTygpOwokcmV0dXJuID0gMDsKCiRwYWNrYWdlcyA9ICRpbnB1dC0+Z2V0QXJndW1lbnQoJ3BhY2thZ2VzJyk7CmlmICghJHBhY2thZ2VzKSB7CiRpby0+d3JpdGVFcnJvcignTm8gcGFja2FnZSBzcGVjaWZpZWQsIG9wZW5pbmcgaG9tZXBhZ2UgZm9yIHRoZSByb290IHBhY2thZ2UnKTsKJHBhY2thZ2VzID0gYXJyYXkoJHRoaXMtPmdldENvbXBvc2VyKCktPmdldFBhY2thZ2UoKS0+Z2V0TmFtZSgpKTsKfQoKZm9yZWFjaCAoJHBhY2thZ2VzIGFzICRwYWNrYWdlTmFtZSkgewokaGFuZGxlZCA9IGZhbHNlOwokcGFja2FnZUV4aXN0cyA9IGZhbHNlOwpmb3JlYWNoICgkcmVwb3MgYXMgJHJlcG8pIHsKZm9yZWFjaCAoJHJlcG8tPmZpbmRQYWNrYWdlcygkcGFja2FnZU5hbWUpIGFzICRwYWNrYWdlKSB7CiRwYWNrYWdlRXhpc3RzID0gdHJ1ZTsKaWYgKCRwYWNrYWdlIGluc3RhbmNlb2YgQ29tcGxldGVQYWNrYWdlSW50ZXJmYWNlICYmICR0aGlzLT5oYW5kbGVQYWNrYWdlKCRwYWNrYWdlLCAkaW5wdXQtPmdldE9wdGlvbignaG9tZXBhZ2UnKSwgJGlucHV0LT5nZXRPcHRpb24oJ3Nob3cnKSkpIHsKJGhhbmRsZWQgPSB0cnVlOwpicmVhayAyOwp9Cn0KfQoKaWYgKCEkcGFja2FnZUV4aXN0cykgewokcmV0dXJuID0gMTsKJGlvLT53cml0ZUVycm9yKCc8d2FybmluZz5QYWNrYWdlICcuJHBhY2thZ2VOYW1lLicgbm90IGZvdW5kPC93YXJuaW5nPicpOwp9CgppZiAoISRoYW5kbGVkKSB7CiRyZXR1cm4gPSAxOwokaW8tPndyaXRlRXJyb3IoJzx3YXJuaW5nPicuKCRpbnB1dC0+Z2V0T3B0aW9uKCdob21lcGFnZScpID8gJ0ludmFsaWQgb3IgbWlzc2luZyBob21lcGFnZScgOiAnSW52YWxpZCBvciBtaXNzaW5nIHJlcG9zaXRvcnkgVVJMJykuJyBmb3IgJy4kcGFja2FnZU5hbWUuJzwvd2FybmluZz4nKTsKfQp9CgpyZXR1cm4gJHJldHVybjsKfQoKcHJpdmF0ZSBmdW5jdGlvbiBoYW5kbGVQYWNrYWdlKENvbXBsZXRlUGFja2FnZUludGVyZmFjZSAkcGFja2FnZSwgJHNob3dIb21lcGFnZSwgJHNob3dPbmx5KQp7CiRzdXBwb3J0ID0gJHBhY2thZ2UtPmdldFN1cHBvcnQoKTsKJHVybCA9IGlzc2V0KCRzdXBwb3J0Wydzb3VyY2UnXSkgPyAkc3VwcG9ydFsnc291cmNlJ10gOiAkcGFja2FnZS0+Z2V0U291cmNlVXJsKCk7CmlmICghJHVybCB8fCAkc2hvd0hvbWVwYWdlKSB7CiR1cmwgPSAkcGFja2FnZS0+Z2V0SG9tZXBhZ2UoKTsKfQoKaWYgKCEkdXJsIHx8ICFmaWx0ZXJfdmFyKCR1cmwsIEZJTFRFUl9WQUxJREFURV9VUkwpKSB7CnJldHVybiBmYWxzZTsKfQoKaWYgKCRzaG93T25seSkgewokdGhpcy0+Z2V0SU8oKS0+d3JpdGUoc3ByaW50ZignPGluZm8+JXM8L2luZm8+JywgJHVybCkpOwp9IGVsc2UgewokdGhpcy0+b3BlbkJyb3dzZXIoJHVybCk7Cn0KCnJldHVybiB0cnVlOwp9CgoKCgoKCnByaXZhdGUgZnVuY3Rpb24gb3BlbkJyb3dzZXIoJHVybCkKewokdXJsID0gUHJvY2Vzc0V4ZWN1dG9yOjplc2NhcGUoJHVybCk7CgokcHJvY2VzcyA9IG5ldyBQcm9jZXNzRXhlY3V0b3IoJHRoaXMtPmdldElPKCkpOwppZiAoUGxhdGZvcm06OmlzV2luZG93cygpKSB7CnJldHVybiAkcHJvY2Vzcy0+ZXhlY3V0ZSgnc3RhcnQgIndlYiIgZXhwbG9yZXIgIicgLiAkdXJsIC4gJyInLCAkb3V0cHV0KTsKfQoKJGxpbnV4ID0gJHByb2Nlc3MtPmV4ZWN1dGUoJ3doaWNoIHhkZy1vcGVuJywgJG91dHB1dCk7CiRvc3ggPSAkcHJvY2Vzcy0+ZXhlY3V0ZSgnd2hpY2ggb3BlbicsICRvdXRwdXQpOwoKaWYgKDAgPT09ICRsaW51eCkgewokcHJvY2Vzcy0+ZXhlY3V0ZSgneGRnLW9wZW4gJyAuICR1cmwsICRvdXRwdXQpOwp9IGVsc2VpZiAoMCA9PT0gJG9zeCkgewokcHJvY2Vzcy0+ZXhlY3V0ZSgnb3BlbiAnIC4gJHVybCwgJG91dHB1dCk7Cn0gZWxzZSB7CiR0aGlzLT5nZXRJTygpLT53cml0ZUVycm9yKCdObyBzdWl0YWJsZSBicm93c2VyIG9wZW5pbmcgY29tbWFuZCBmb3VuZCwgb3BlbiB5b3Vyc2VsZjogJyAuICR1cmwpOwp9Cn0KCgoKCgoKCgpwcml2YXRlIGZ1bmN0aW9uIGluaXRpYWxpemVSZXBvcygpCnsKJGNvbXBvc2VyID0gJHRoaXMtPmdldENvbXBvc2VyKGZhbHNlKTsKCmlmICgkY29tcG9zZXIpIHsKcmV0dXJuIGFycmF5X21lcmdlKAphcnJheShuZXcgUm9vdFBhY2thZ2VSZXBvc2l0b3J5KCRjb21wb3Nlci0+Z2V0UGFja2FnZSgpKSksIAphcnJheSgkY29tcG9zZXItPmdldFJlcG9zaXRvcnlNYW5hZ2VyKCktPmdldExvY2FsUmVwb3NpdG9yeSgpKSwgCiRjb21wb3Nlci0+Z2V0UmVwb3NpdG9yeU1hbmFnZXIoKS0+Z2V0UmVwb3NpdG9yaWVzKCkgCik7Cn0KCnJldHVybiBSZXBvc2l0b3J5RmFjdG9yeTo6ZGVmYXVsdFJlcG9zKCR0aGlzLT5nZXRJTygpKTsKfQp9Cjw/cGhwCgoKCgoKCgoKCgoKbmFtZXNwYWNlIENvbXBvc2VyXENvbW1hbmQ7Cgp1c2UgQ29tcG9zZXJcRmFjdG9yeTsKdXNlIENvbXBvc2VyXEpzb25cSnNvbkZpbGU7CnVzZSBDb21wb3NlclxQYWNrYWdlXEJhc2VQYWNrYWdlOwp1c2UgQ29tcG9zZXJcUGFja2FnZVxDb21wbGV0ZVBhY2thZ2VJbnRlcmZhY2U7CnVzZSBDb21wb3NlclxQYWNrYWdlXFBhY2thZ2U7CnVzZSBDb21wb3NlclxQYWNrYWdlXFBhY2thZ2VJbnRlcmZhY2U7CnVzZSBDb21wb3NlclxQYWNrYWdlXFZlcnNpb25cVmVyc2lvblBhcnNlcjsKdXNlIENvbXBvc2VyXFBhY2thZ2VcVmVyc2lvblxWZXJzaW9uU2VsZWN0b3I7CnVzZSBDb21wb3NlclxSZXBvc2l0b3J5XENvbXBvc2l0ZVJlcG9zaXRvcnk7CnVzZSBDb21wb3NlclxSZXBvc2l0b3J5XFBsYXRmb3JtUmVwb3NpdG9yeTsKdXNlIENvbXBvc2VyXFJlcG9zaXRvcnlcUmVwb3NpdG9yeUZhY3Rvcnk7CnVzZSBDb21wb3NlclxSZXBvc2l0b3J5XFJlcG9zaXRvcnlTZXQ7CnVzZSBDb21wb3NlclxVdGlsXEZpbGVzeXN0ZW07CnVzZSBDb21wb3NlclxVdGlsXFByb2Nlc3NFeGVjdXRvcjsKdXNlIENvbXBvc2VyXFNlbXZlclxDb25zdHJhaW50XENvbnN0cmFpbnQ7CnVzZSBTeW1mb255XENvbXBvbmVudFxDb25zb2xlXElucHV0XEFycmF5SW5wdXQ7CnVzZSBTeW1mb255XENvbXBvbmVudFxDb25zb2xlXElucHV0XElucHV0SW50ZXJmYWNlOwp1c2UgU3ltZm9ueVxDb21wb25lbnRcQ29uc29sZVxJbnB1dFxJbnB1dE9wdGlvbjsKdXNlIFN5bWZvbnlcQ29tcG9uZW50XENvbnNvbGVcT3V0cHV0XE91dHB1dEludGVyZmFjZTsKdXNlIFN5bWZvbnlcQ29tcG9uZW50XFByb2Nlc3NcRXhlY3V0YWJsZUZpbmRlcjsKdXNlIFN5bWZvbnlcQ29tcG9uZW50XFByb2Nlc3NcUHJvY2VzczsKdXNlIFN5bWZvbnlcQ29tcG9uZW50XENvbnNvbGVcSGVscGVyXEZvcm1hdHRlckhlbHBlcjsKCgoKCgpjbGFzcyBJbml0Q29tbWFuZCBleHRlbmRzIEJhc2VDb21tYW5kCnsKCnByb3RlY3RlZCAkcmVwb3M7CgoKcHJpdmF0ZSAkZ2l0Q29uZmlnOwoKCnByaXZhdGUgJHJlcG9zaXRvcnlTZXRzOwoKCgoKcHJvdGVjdGVkIGZ1bmN0aW9uIGNvbmZpZ3VyZSgpCnsKJHRoaXMKLT5zZXROYW1lKCdpbml0JykKLT5zZXREZXNjcmlwdGlvbignQ3JlYXRlcyBhIGJhc2ljIGNvbXBvc2VyLmpzb24gZmlsZSBpbiBjdXJyZW50IGRpcmVjdG9yeS4nKQotPnNldERlZmluaXRpb24oYXJyYXkoCm5ldyBJbnB1dE9wdGlvbignbmFtZScsIG51bGwsIElucHV0T3B0aW9uOjpWQUxVRV9SRVFVSVJFRCwgJ05hbWUgb2YgdGhlIHBhY2thZ2UnKSwKbmV3IElucHV0T3B0aW9uKCdkZXNjcmlwdGlvbicsIG51bGwsIElucHV0T3B0aW9uOjpWQUxVRV9SRVFVSVJFRCwgJ0Rlc2NyaXB0aW9uIG9mIHBhY2thZ2UnKSwKbmV3IElucHV0T3B0aW9uKCdhdXRob3InLCBudWxsLCBJbnB1dE9wdGlvbjo6VkFMVUVfUkVRVUlSRUQsICdBdXRob3IgbmFtZSBvZiBwYWNrYWdlJyksCgpuZXcgSW5wdXRPcHRpb24oJ3R5cGUnLCBudWxsLCBJbnB1dE9wdGlvbjo6VkFMVUVfT1BUSU9OQUwsICdUeXBlIG9mIHBhY2thZ2UgKGUuZy4gbGlicmFyeSwgcHJvamVjdCwgbWV0YXBhY2thZ2UsIGNvbXBvc2VyLXBsdWdpbiknKSwKbmV3IElucHV0T3B0aW9uKCdob21lcGFnZScsIG51bGwsIElucHV0T3B0aW9uOjpWQUxVRV9SRVFVSVJFRCwgJ0hvbWVwYWdlIG9mIHBhY2thZ2UnKSwKbmV3IElucHV0T3B0aW9uKCdyZXF1aXJlJywgbnVsbCwgSW5wdXRPcHRpb246OlZBTFVFX0lTX0FSUkFZIHwgSW5wdXRPcHRpb246OlZBTFVFX1JFUVVJUkVELCAnUGFja2FnZSB0byByZXF1aXJlIHdpdGggYSB2ZXJzaW9uIGNvbnN0cmFpbnQsIGUuZy4gZm9vL2JhcjoxLjAuMCBvciBmb28vYmFyPTEuMC4wIG9yICJmb28vYmFyIDEuMC4wIicpLApuZXcgSW5wdXRPcHRpb24oJ3JlcXVpcmUtZGV2JywgbnVsbCwgSW5wdXRPcHRpb246OlZBTFVFX0lTX0FSUkFZIHwgSW5wdXRPcHRpb246OlZBTFVFX1JFUVVJUkVELCAnUGFja2FnZSB0byByZXF1aXJlIGZvciBkZXZlbG9wbWVudCB3aXRoIGEgdmVyc2lvbiBjb25zdHJhaW50LCBlLmcuIGZvby9iYXI6MS4wLjAgb3IgZm9vL2Jhcj0xLjAuMCBvciAiZm9vL2JhciAxLjAuMCInKSwKbmV3IElucHV0T3B0aW9uKCdzdGFiaWxpdHknLCAncycsIElucHV0T3B0aW9uOjpWQUxVRV9SRVFVSVJFRCwgJ01pbmltdW0gc3RhYmlsaXR5IChlbXB0eSBvciBvbmUgb2Y6ICcuaW1wbG9kZSgnLCAnLCBhcnJheV9rZXlzKEJhc2VQYWNrYWdlOjokc3RhYmlsaXRpZXMpKS4nKScpLApuZXcgSW5wdXRPcHRpb24oJ2xpY2Vuc2UnLCAnbCcsIElucHV0T3B0aW9uOjpWQUxVRV9SRVFVSVJFRCwgJ0xpY2Vuc2Ugb2YgcGFja2FnZScpLApuZXcgSW5wdXRPcHRpb24oJ3JlcG9zaXRvcnknLCBudWxsLCBJbnB1dE9wdGlvbjo6VkFMVUVfUkVRVUlSRUQgfCBJbnB1dE9wdGlvbjo6VkFMVUVfSVNfQVJSQVksICdBZGQgY3VzdG9tIHJlcG9zaXRvcmllcywgZWl0aGVyIGJ5IFVSTCBvciB1c2luZyBKU09OIGFycmF5cycpLApuZXcgSW5wdXRPcHRpb24oJ2F1dG9sb2FkJywgJ2EnLCBJbnB1dE9wdGlvbjo6VkFMVUVfUkVRVUlSRUQsICdBZGQgUFNSLTQgYXV0b2xvYWQgbWFwcGluZy4gTWFwcyB5b3VyIHBhY2thZ2VcJ3MgbmFtZXNwYWNlIHRvIHRoZSBwcm92aWRlZCBkaXJlY3RvcnkuIChFeHBlY3RzIGEgcmVsYXRpdmUgcGF0aCwgZS5nLiBzcmMvKScpLAopKQotPnNldEhlbHAoCjw8PEVPVApUaGUgPGluZm8+aW5pdDwvaW5mbz4gY29tbWFuZCBjcmVhdGVzIGEgYmFzaWMgY29tcG9zZXIuanNvbiBmaWxlCmluIHRoZSBjdXJyZW50IGRpcmVjdG9yeS4KCjxpbmZvPnBocCBjb21wb3Nlci5waGFyIGluaXQ8L2luZm8+CgpSZWFkIG1vcmUgYXQgaHR0cHM6Ly9nZXRjb21wb3Nlci5vcmcvZG9jLzAzLWNsaS5tZCNpbml0CkVPVAopCjsKfQoKCgoKcHJvdGVjdGVkIGZ1bmN0aW9uIGV4ZWN1dGUoSW5wdXRJbnRlcmZhY2UgJGlucHV0LCBPdXRwdXRJbnRlcmZhY2UgJG91dHB1dCkKewokaW8gPSAkdGhpcy0+Z2V0SU8oKTsKCiRhbGxvd2xpc3QgPSBhcnJheSgnbmFtZScsICdkZXNjcmlwdGlvbicsICdhdXRob3InLCAndHlwZScsICdob21lcGFnZScsICdyZXF1aXJlJywgJ3JlcXVpcmUtZGV2JywgJ3N0YWJpbGl0eScsICdsaWNlbnNlJywgJ2F1dG9sb2FkJyk7CiRvcHRpb25zID0gYXJyYXlfZmlsdGVyKGFycmF5X2ludGVyc2VjdF9rZXkoJGlucHV0LT5nZXRPcHRpb25zKCksIGFycmF5X2ZsaXAoJGFsbG93bGlzdCkpKTsKCmlmIChpc3NldCgkb3B0aW9uc1snYXV0aG9yJ10pKSB7CiRvcHRpb25zWydhdXRob3JzJ10gPSAkdGhpcy0+Zm9ybWF0QXV0aG9ycygkb3B0aW9uc1snYXV0aG9yJ10pOwp1bnNldCgkb3B0aW9uc1snYXV0aG9yJ10pOwp9CgokcmVwb3NpdG9yaWVzID0gJGlucHV0LT5nZXRPcHRpb24oJ3JlcG9zaXRvcnknKTsKaWYgKCRyZXBvc2l0b3JpZXMpIHsKJGNvbmZpZyA9IEZhY3Rvcnk6OmNyZWF0ZUNvbmZpZygkaW8pOwpmb3JlYWNoICgkcmVwb3NpdG9yaWVzIGFzICRyZXBvKSB7CiRvcHRpb25zWydyZXBvc2l0b3JpZXMnXVtdID0gUmVwb3NpdG9yeUZhY3Rvcnk6OmNvbmZpZ0Zyb21TdHJpbmcoJGlvLCAkY29uZmlnLCAkcmVwbywgdHJ1ZSk7Cn0KfQoKaWYgKGlzc2V0KCRvcHRpb25zWydzdGFiaWxpdHknXSkpIHsKJG9wdGlvbnNbJ21pbmltdW0tc3RhYmlsaXR5J10gPSAkb3B0aW9uc1snc3RhYmlsaXR5J107CnVuc2V0KCRvcHRpb25zWydzdGFiaWxpdHknXSk7Cn0KCiRvcHRpb25zWydyZXF1aXJlJ10gPSBpc3NldCgkb3B0aW9uc1sncmVxdWlyZSddKSA/ICR0aGlzLT5mb3JtYXRSZXF1aXJlbWVudHMoJG9wdGlvbnNbJ3JlcXVpcmUnXSkgOiBuZXcgXHN0ZENsYXNzOwppZiAoYXJyYXkoKSA9PT0gJG9wdGlvbnNbJ3JlcXVpcmUnXSkgewokb3B0aW9uc1sncmVxdWlyZSddID0gbmV3IFxzdGRDbGFzczsKfQoKaWYgKGlzc2V0KCRvcHRpb25zWydyZXF1aXJlLWRldiddKSkgewokb3B0aW9uc1sncmVxdWlyZS1kZXYnXSA9ICR0aGlzLT5mb3JtYXRSZXF1aXJlbWVudHMoJG9wdGlvbnNbJ3JlcXVpcmUtZGV2J10pOwppZiAoYXJyYXkoKSA9PT0gJG9wdGlvbnNbJ3JlcXVpcmUtZGV2J10pIHsKJG9wdGlvbnNbJ3JlcXVpcmUtZGV2J10gPSBuZXcgXHN0ZENsYXNzOwp9Cn0KCgokYXV0b2xvYWRQYXRoID0gbnVsbDsKaWYgKGlzc2V0KCRvcHRpb25zWydhdXRvbG9hZCddKSkgewokYXV0b2xvYWRQYXRoID0gJG9wdGlvbnNbJ2F1dG9sb2FkJ107CiRuYW1lc3BhY2UgPSAkdGhpcy0+bmFtZXNwYWNlRnJvbVBhY2thZ2VOYW1lKCRpbnB1dC0+Z2V0T3B0aW9uKCduYW1lJykpOwokb3B0aW9uc1snYXV0b2xvYWQnXSA9IChvYmplY3QpIGFycmF5KAoncHNyLTQnID0+IGFycmF5KAokbmFtZXNwYWNlIC4gJ1xcJyA9PiAkYXV0b2xvYWRQYXRoLAopLAopOwp9CgokZmlsZSA9IG5ldyBKc29uRmlsZShGYWN0b3J5OjpnZXRDb21wb3NlckZpbGUoKSk7CiRqc29uID0gSnNvbkZpbGU6OmVuY29kZSgkb3B0aW9ucyk7CgppZiAoJGlucHV0LT5pc0ludGVyYWN0aXZlKCkpIHsKJGlvLT53cml0ZUVycm9yKGFycmF5KCcnLCAkanNvbiwgJycpKTsKaWYgKCEkaW8tPmFza0NvbmZpcm1hdGlvbignRG8geW91IGNvbmZpcm0gZ2VuZXJhdGlvbiBbPGNvbW1lbnQ+eWVzPC9jb21tZW50Pl0/ICcpKSB7CiRpby0+d3JpdGVFcnJvcignPGVycm9yPkNvbW1hbmQgYWJvcnRlZDwvZXJyb3I+Jyk7CgpyZXR1cm4gMTsKfQp9IGVsc2UgewppZiAoanNvbl9lbmNvZGUoJG9wdGlvbnMpID09PSAneyJyZXF1aXJlIjp7fX0nKSB7CnRocm93IG5ldyBcUnVudGltZUV4Y2VwdGlvbignWW91IGhhdmUgdG8gcnVuIHRoaXMgY29tbWFuZCBpbiBpbnRlcmFjdGl2ZSBtb2RlLCBvciBzcGVjaWZ5IGF0IGxlYXN0IHNvbWUgZGF0YSB1c2luZyAtLW5hbWUsIC0tcmVxdWlyZSwgZXRjLicpOwp9CgokaW8tPndyaXRlRXJyb3IoJ1dyaXRpbmcgY29tcG9zZXIuanNvbicpOwp9CgokZmlsZS0+d3JpdGUoJG9wdGlvbnMpOwoKCmlmICgkYXV0b2xvYWRQYXRoKSB7CiRmaWxlc3lzdGVtID0gbmV3IEZpbGVzeXN0ZW0oKTsKJGZpbGVzeXN0ZW0tPmVuc3VyZURpcmVjdG9yeUV4aXN0cygkYXV0b2xvYWRQYXRoKTsKCgppZiAoISR0aGlzLT5oYXNEZXBlbmRlbmNpZXMoJG9wdGlvbnMpKSB7CiR0aGlzLT5ydW5EdW1wQXV0b2xvYWRDb21tYW5kKCRvdXRwdXQpOwp9Cn0KCmlmICgkaW5wdXQtPmlzSW50ZXJhY3RpdmUoKSAmJiBpc19kaXIoJy5naXQnKSkgewokaWdub3JlRmlsZSA9IHJlYWxwYXRoKCcuZ2l0aWdub3JlJyk7CgppZiAoZmFsc2UgPT09ICRpZ25vcmVGaWxlKSB7CiRpZ25vcmVGaWxlID0gcmVhbHBhdGgoJy4nKSAuICcvLmdpdGlnbm9yZSc7Cn0KCmlmICghJHRoaXMtPmhhc1ZlbmRvcklnbm9yZSgkaWdub3JlRmlsZSkpIHsKJHF1ZXN0aW9uID0gJ1dvdWxkIHlvdSBsaWtlIHRoZSA8aW5mbz52ZW5kb3I8L2luZm8+IGRpcmVjdG9yeSBhZGRlZCB0byB5b3VyIDxpbmZvPi5naXRpZ25vcmU8L2luZm8+IFs8Y29tbWVudD55ZXM8L2NvbW1lbnQ+XT8gJzsKCmlmICgkaW8tPmFza0NvbmZpcm1hdGlvbigkcXVlc3Rpb24pKSB7CiR0aGlzLT5hZGRWZW5kb3JJZ25vcmUoJGlnbm9yZUZpbGUpOwp9Cn0KfQoKJHF1ZXN0aW9uID0gJ1dvdWxkIHlvdSBsaWtlIHRvIGluc3RhbGwgZGVwZW5kZW5jaWVzIG5vdyBbPGNvbW1lbnQ+eWVzPC9jb21tZW50Pl0/ICc7CmlmICgkaW5wdXQtPmlzSW50ZXJhY3RpdmUoKSAmJiAkdGhpcy0+aGFzRGVwZW5kZW5jaWVzKCRvcHRpb25zKSAmJiAkaW8tPmFza0NvbmZpcm1hdGlvbigkcXVlc3Rpb24pKSB7CiR0aGlzLT51cGRhdGVEZXBlbmRlbmNpZXMoJG91dHB1dCk7Cn0KCgppZiAoJGF1dG9sb2FkUGF0aCkgewokbmFtZXNwYWNlID0gJHRoaXMtPm5hbWVzcGFjZUZyb21QYWNrYWdlTmFtZSgkaW5wdXQtPmdldE9wdGlvbignbmFtZScpKTsKCiRpby0+d3JpdGVFcnJvcignUFNSLTQgYXV0b2xvYWRpbmcgY29uZmlndXJlZC4gVXNlICI8Y29tbWVudD5uYW1lc3BhY2UgJy4kbmFtZXNwYWNlLic7PC9jb21tZW50PiIgaW4gJy4kYXV0b2xvYWRQYXRoKTsKJGlvLT53cml0ZUVycm9yKCdJbmNsdWRlIHRoZSBDb21wb3NlciBhdXRvbG9hZGVyIHdpdGg6IDxjb21tZW50PnJlcXVpcmUgXCd2ZW5kb3IvYXV0b2xvYWQucGhwXCc7PC9jb21tZW50PicpOwp9CgpyZXR1cm4gMDsKfQoKCgoKcHJvdGVjdGVkIGZ1bmN0aW9uIGludGVyYWN0KElucHV0SW50ZXJmYWNlICRpbnB1dCwgT3V0cHV0SW50ZXJmYWNlICRvdXRwdXQpCnsKJGdpdCA9ICR0aGlzLT5nZXRHaXRDb25maWcoKTsKJGlvID0gJHRoaXMtPmdldElPKCk7CgokZm9ybWF0dGVyID0gJHRoaXMtPmdldEhlbHBlclNldCgpLT5nZXQoJ2Zvcm1hdHRlcicpOwoKCiRyZXBvc2l0b3JpZXMgPSAkaW5wdXQtPmdldE9wdGlvbigncmVwb3NpdG9yeScpOwppZiAoJHJlcG9zaXRvcmllcykgewokY29uZmlnID0gRmFjdG9yeTo6Y3JlYXRlQ29uZmlnKCRpbyk7CiRyZXBvcyA9IGFycmF5KG5ldyBQbGF0Zm9ybVJlcG9zaXRvcnkpOwokY3JlYXRlRGVmYXVsdFBhY2thZ2lzdFJlcG8gPSB0cnVlOwpmb3JlYWNoICgkcmVwb3NpdG9yaWVzIGFzICRyZXBvKSB7CiRyZXBvQ29uZmlnID0gUmVwb3NpdG9yeUZhY3Rvcnk6OmNvbmZpZ0Zyb21TdHJpbmcoJGlvLCAkY29uZmlnLCAkcmVwbywgdHJ1ZSk7CmlmICgKKGlzc2V0KCRyZXBvQ29uZmlnWydwYWNrYWdpc3QnXSkgJiYgJHJlcG9Db25maWcgPT09IGFycmF5KCdwYWNrYWdpc3QnID0+IGZhbHNlKSkKfHwgKGlzc2V0KCRyZXBvQ29uZmlnWydwYWNrYWdpc3Qub3JnJ10pICYmICRyZXBvQ29uZmlnID09PSBhcnJheSgncGFja2FnaXN0Lm9yZycgPT4gZmFsc2UpKQopIHsKJGNyZWF0ZURlZmF1bHRQYWNrYWdpc3RSZXBvID0gZmFsc2U7CmNvbnRpbnVlOwp9CiRyZXBvc1tdID0gUmVwb3NpdG9yeUZhY3Rvcnk6OmNyZWF0ZVJlcG8oJGlvLCAkY29uZmlnLCAkcmVwb0NvbmZpZyk7Cn0KCmlmICgkY3JlYXRlRGVmYXVsdFBhY2thZ2lzdFJlcG8pIHsKJHJlcG9zW10gPSBSZXBvc2l0b3J5RmFjdG9yeTo6Y3JlYXRlUmVwbygkaW8sICRjb25maWcsIGFycmF5KAondHlwZScgPT4gJ2NvbXBvc2VyJywKJ3VybCcgPT4gJ2h0dHBzOi8vcmVwby5wYWNrYWdpc3Qub3JnJywKKSk7Cn0KCiR0aGlzLT5yZXBvcyA9IG5ldyBDb21wb3NpdGVSZXBvc2l0b3J5KCRyZXBvcyk7CnVuc2V0KCRyZXBvcywgJGNvbmZpZywgJHJlcG9zaXRvcmllcyk7Cn0KCiRpby0+d3JpdGVFcnJvcihhcnJheSgKJycsCiRmb3JtYXR0ZXItPmZvcm1hdEJsb2NrKCdXZWxjb21lIHRvIHRoZSBDb21wb3NlciBjb25maWcgZ2VuZXJhdG9yJywgJ2JnPWJsdWU7Zmc9d2hpdGUnLCB0cnVlKSwKJycsCikpOwoKCiRpby0+d3JpdGVFcnJvcihhcnJheSgKJycsCidUaGlzIGNvbW1hbmQgd2lsbCBndWlkZSB5b3UgdGhyb3VnaCBjcmVhdGluZyB5b3VyIGNvbXBvc2VyLmpzb24gY29uZmlnLicsCicnLAopKTsKCiRjd2QgPSByZWFscGF0aCgiLiIpOwoKaWYgKCEkbmFtZSA9ICRpbnB1dC0+Z2V0T3B0aW9uKCduYW1lJykpIHsKJG5hbWUgPSBiYXNlbmFtZSgkY3dkKTsKJG5hbWUgPSBwcmVnX3JlcGxhY2UoJ3soPzooW2Etel0pKFtBLVpdKXwoW0EtWl0pKFtBLVpdW2Etel0pKX0nLCAnXFwxXFwzLVxcMlxcNCcsICRuYW1lKTsKJG5hbWUgPSBzdHJ0b2xvd2VyKCRuYW1lKTsKaWYgKCFlbXB0eSgkX1NFUlZFUlsnQ09NUE9TRVJfREVGQVVMVF9WRU5ET1InXSkpIHsKJG5hbWUgPSAkX1NFUlZFUlsnQ09NUE9TRVJfREVGQVVMVF9WRU5ET1InXSAuICcvJyAuICRuYW1lOwp9IGVsc2VpZiAoaXNzZXQoJGdpdFsnZ2l0aHViLnVzZXInXSkpIHsKJG5hbWUgPSAkZ2l0WydnaXRodWIudXNlciddIC4gJy8nIC4gJG5hbWU7Cn0gZWxzZWlmICghZW1wdHkoJF9TRVJWRVJbJ1VTRVJOQU1FJ10pKSB7CiRuYW1lID0gJF9TRVJWRVJbJ1VTRVJOQU1FJ10gLiAnLycgLiAkbmFtZTsKfSBlbHNlaWYgKCFlbXB0eSgkX1NFUlZFUlsnVVNFUiddKSkgewokbmFtZSA9ICRfU0VSVkVSWydVU0VSJ10gLiAnLycgLiAkbmFtZTsKfSBlbHNlaWYgKGdldF9jdXJyZW50X3VzZXIoKSkgewokbmFtZSA9IGdldF9jdXJyZW50X3VzZXIoKSAuICcvJyAuICRuYW1lOwp9IGVsc2UgewoKJG5hbWUgLj0gJy8nIC4gJG5hbWU7Cn0KJG5hbWUgPSBzdHJ0b2xvd2VyKCRuYW1lKTsKfSBlbHNlIHsKaWYgKCFwcmVnX21hdGNoKCd7XlthLXowLTlfLi1dKy9bYS16MC05Xy4tXSskfUQnLCAkbmFtZSkpIHsKdGhyb3cgbmV3IFxJbnZhbGlkQXJndW1lbnRFeGNlcHRpb24oCidUaGUgcGFja2FnZSBuYW1lICcuJG5hbWUuJyBpcyBpbnZhbGlkLCBpdCBzaG91bGQgYmUgbG93ZXJjYXNlIGFuZCBoYXZlIGEgdmVuZG9yIG5hbWUsIGEgZm9yd2FyZCBzbGFzaCwgYW5kIGEgcGFja2FnZSBuYW1lLCBtYXRjaGluZzogW2EtejAtOV8uLV0rL1thLXowLTlfLi1dKycKKTsKfQp9CgokbmFtZSA9ICRpby0+YXNrQW5kVmFsaWRhdGUoCidQYWNrYWdlIG5hbWUgKDx2ZW5kb3I+LzxuYW1lPikgWzxjb21tZW50PicuJG5hbWUuJzwvY29tbWVudD5dOiAnLApmdW5jdGlvbiAoJHZhbHVlKSB1c2UgKCRuYW1lKSB7CmlmIChudWxsID09PSAkdmFsdWUpIHsKcmV0dXJuICRuYW1lOwp9CgppZiAoIXByZWdfbWF0Y2goJ3teW2EtejAtOV8uLV0rL1thLXowLTlfLi1dKyR9RCcsICR2YWx1ZSkpIHsKdGhyb3cgbmV3IFxJbnZhbGlkQXJndW1lbnRFeGNlcHRpb24oCidUaGUgcGFja2FnZSBuYW1lICcuJHZhbHVlLicgaXMgaW52YWxpZCwgaXQgc2hvdWxkIGJlIGxvd2VyY2FzZSBhbmQgaGF2ZSBhIHZlbmRvciBuYW1lLCBhIGZvcndhcmQgc2xhc2gsIGFuZCBhIHBhY2thZ2UgbmFtZSwgbWF0Y2hpbmc6IFthLXowLTlfLi1dKy9bYS16MC05Xy4tXSsnCik7Cn0KCnJldHVybiAkdmFsdWU7Cn0sCm51bGwsCiRuYW1lCik7CiRpbnB1dC0+c2V0T3B0aW9uKCduYW1lJywgJG5hbWUpOwoKJGRlc2NyaXB0aW9uID0gJGlucHV0LT5nZXRPcHRpb24oJ2Rlc2NyaXB0aW9uJykgPzogZmFsc2U7CiRkZXNjcmlwdGlvbiA9ICRpby0+YXNrKAonRGVzY3JpcHRpb24gWzxjb21tZW50PicuJGRlc2NyaXB0aW9uLic8L2NvbW1lbnQ+XTogJywKJGRlc2NyaXB0aW9uCik7CiRpbnB1dC0+c2V0T3B0aW9uKCdkZXNjcmlwdGlvbicsICRkZXNjcmlwdGlvbik7CgppZiAobnVsbCA9PT0gJGF1dGhvciA9ICRpbnB1dC0+Z2V0T3B0aW9uKCdhdXRob3InKSkgewppZiAoIWVtcHR5KCRfU0VSVkVSWydDT01QT1NFUl9ERUZBVUxUX0FVVEhPUiddKSkgewokYXV0aG9yX25hbWUgPSAkX1NFUlZFUlsnQ09NUE9TRVJfREVGQVVMVF9BVVRIT1InXTsKfSBlbHNlaWYgKGlzc2V0KCRnaXRbJ3VzZXIubmFtZSddKSkgewokYXV0aG9yX25hbWUgPSAkZ2l0Wyd1c2VyLm5hbWUnXTsKfQoKaWYgKCFlbXB0eSgkX1NFUlZFUlsnQ09NUE9TRVJfREVGQVVMVF9FTUFJTCddKSkgewokYXV0aG9yX2VtYWlsID0gJF9TRVJWRVJbJ0NPTVBPU0VSX0RFRkFVTFRfRU1BSUwnXTsKfSBlbHNlaWYgKGlzc2V0KCRnaXRbJ3VzZXIuZW1haWwnXSkpIHsKJGF1dGhvcl9lbWFpbCA9ICRnaXRbJ3VzZXIuZW1haWwnXTsKfQoKaWYgKGlzc2V0KCRhdXRob3JfbmFtZSwgJGF1dGhvcl9lbWFpbCkpIHsKJGF1dGhvciA9IHNwcmludGYoJyVzIDwlcz4nLCAkYXV0aG9yX25hbWUsICRhdXRob3JfZW1haWwpOwp9Cn0KCiRzZWxmID0gJHRoaXM7CiRhdXRob3IgPSAkaW8tPmFza0FuZFZhbGlkYXRlKAonQXV0aG9yIFs8Y29tbWVudD4nLiRhdXRob3IuJzwvY29tbWVudD4sIG4gdG8gc2tpcF06ICcsCmZ1bmN0aW9uICgkdmFsdWUpIHVzZSAoJHNlbGYsICRhdXRob3IpIHsKaWYgKCR2YWx1ZSA9PT0gJ24nIHx8ICR2YWx1ZSA9PT0gJ25vJykgewpyZXR1cm47Cn0KJHZhbHVlID0gJHZhbHVlID86ICRhdXRob3I7CiRhdXRob3IgPSAkc2VsZi0+cGFyc2VBdXRob3JTdHJpbmcoJHZhbHVlKTsKCnJldHVybiBzcHJpbnRmKCclcyA8JXM+JywgJGF1dGhvclsnbmFtZSddLCAkYXV0aG9yWydlbWFpbCddKTsKfSwKbnVsbCwKJGF1dGhvcgopOwokaW5wdXQtPnNldE9wdGlvbignYXV0aG9yJywgJGF1dGhvcik7CgokbWluaW11bVN0YWJpbGl0eSA9ICRpbnB1dC0+Z2V0T3B0aW9uKCdzdGFiaWxpdHknKSA/OiBudWxsOwokbWluaW11bVN0YWJpbGl0eSA9ICRpby0+YXNrQW5kVmFsaWRhdGUoCidNaW5pbXVtIFN0YWJpbGl0eSBbPGNvbW1lbnQ+Jy4kbWluaW11bVN0YWJpbGl0eS4nPC9jb21tZW50Pl06ICcsCmZ1bmN0aW9uICgkdmFsdWUpIHVzZSAoJG1pbmltdW1TdGFiaWxpdHkpIHsKaWYgKG51bGwgPT09ICR2YWx1ZSkgewpyZXR1cm4gJG1pbmltdW1TdGFiaWxpdHk7Cn0KCmlmICghaXNzZXQoQmFzZVBhY2thZ2U6OiRzdGFiaWxpdGllc1skdmFsdWVdKSkgewp0aHJvdyBuZXcgXEludmFsaWRBcmd1bWVudEV4Y2VwdGlvbigKJ0ludmFsaWQgbWluaW11bSBzdGFiaWxpdHkgIicuJHZhbHVlLiciLiBNdXN0IGJlIGVtcHR5IG9yIG9uZSBvZjogJy4KaW1wbG9kZSgnLCAnLCBhcnJheV9rZXlzKEJhc2VQYWNrYWdlOjokc3RhYmlsaXRpZXMpKQopOwp9CgpyZXR1cm4gJHZhbHVlOwp9LApudWxsLAokbWluaW11bVN0YWJpbGl0eQopOwokaW5wdXQtPnNldE9wdGlvbignc3RhYmlsaXR5JywgJG1pbmltdW1TdGFiaWxpdHkpOwoKJHR5cGUgPSAkaW5wdXQtPmdldE9wdGlvbigndHlwZScpID86IGZhbHNlOwokdHlwZSA9ICRpby0+YXNrKAonUGFja2FnZSBUeXBlIChlLmcuIGxpYnJhcnksIHByb2plY3QsIG1ldGFwYWNrYWdlLCBjb21wb3Nlci1wbHVnaW4pIFs8Y29tbWVudD4nLiR0eXBlLic8L2NvbW1lbnQ+XTogJywKJHR5cGUKKTsKJGlucHV0LT5zZXRPcHRpb24oJ3R5cGUnLCAkdHlwZSk7CgppZiAobnVsbCA9PT0gJGxpY2Vuc2UgPSAkaW5wdXQtPmdldE9wdGlvbignbGljZW5zZScpKSB7CmlmICghZW1wdHkoJF9TRVJWRVJbJ0NPTVBPU0VSX0RFRkFVTFRfTElDRU5TRSddKSkgewokbGljZW5zZSA9ICRfU0VSVkVSWydDT01QT1NFUl9ERUZBVUxUX0xJQ0VOU0UnXTsKfQp9CgokbGljZW5zZSA9ICRpby0+YXNrKAonTGljZW5zZSBbPGNvbW1lbnQ+Jy4kbGljZW5zZS4nPC9jb21tZW50Pl06ICcsCiRsaWNlbnNlCik7CiRpbnB1dC0+c2V0T3B0aW9uKCdsaWNlbnNlJywgJGxpY2Vuc2UpOwoKJGlvLT53cml0ZUVycm9yKGFycmF5KCcnLCAnRGVmaW5lIHlvdXIgZGVwZW5kZW5jaWVzLicsICcnKSk7CgoKJHJlcG9zID0gJHRoaXMtPmdldFJlcG9zKCk7CiRwcmVmZXJyZWRTdGFiaWxpdHkgPSAkbWluaW11bVN0YWJpbGl0eSA/OiAnc3RhYmxlJzsKJHBsYXRmb3JtUmVwbyA9IG51bGw7CmlmICgkcmVwb3MgaW5zdGFuY2VvZiBDb21wb3NpdGVSZXBvc2l0b3J5KSB7CmZvcmVhY2ggKCRyZXBvcy0+Z2V0UmVwb3NpdG9yaWVzKCkgYXMgJGNhbmRpZGF0ZVJlcG8pIHsKaWYgKCRjYW5kaWRhdGVSZXBvIGluc3RhbmNlb2YgUGxhdGZvcm1SZXBvc2l0b3J5KSB7CiRwbGF0Zm9ybVJlcG8gPSAkY2FuZGlkYXRlUmVwbzsKYnJlYWs7Cn0KfQp9CgokcXVlc3Rpb24gPSAnV291bGQgeW91IGxpa2UgdG8gZGVmaW5lIHlvdXIgZGVwZW5kZW5jaWVzIChyZXF1aXJlKSBpbnRlcmFjdGl2ZWx5IFs8Y29tbWVudD55ZXM8L2NvbW1lbnQ+XT8gJzsKJHJlcXVpcmUgPSAkaW5wdXQtPmdldE9wdGlvbigncmVxdWlyZScpOwokcmVxdWlyZW1lbnRzID0gYXJyYXkoKTsKaWYgKCRyZXF1aXJlIHx8ICRpby0+YXNrQ29uZmlybWF0aW9uKCRxdWVzdGlvbikpIHsKJHJlcXVpcmVtZW50cyA9ICR0aGlzLT5kZXRlcm1pbmVSZXF1aXJlbWVudHMoJGlucHV0LCAkb3V0cHV0LCAkcmVxdWlyZSwgJHBsYXRmb3JtUmVwbywgJHByZWZlcnJlZFN0YWJpbGl0eSk7Cn0KJGlucHV0LT5zZXRPcHRpb24oJ3JlcXVpcmUnLCAkcmVxdWlyZW1lbnRzKTsKCiRxdWVzdGlvbiA9ICdXb3VsZCB5b3UgbGlrZSB0byBkZWZpbmUgeW91ciBkZXYgZGVwZW5kZW5jaWVzIChyZXF1aXJlLWRldikgaW50ZXJhY3RpdmVseSBbPGNvbW1lbnQ+eWVzPC9jb21tZW50Pl0/ICc7CiRyZXF1aXJlRGV2ID0gJGlucHV0LT5nZXRPcHRpb24oJ3JlcXVpcmUtZGV2Jyk7CiRkZXZSZXF1aXJlbWVudHMgPSBhcnJheSgpOwppZiAoJHJlcXVpcmVEZXYgfHwgJGlvLT5hc2tDb25maXJtYXRpb24oJHF1ZXN0aW9uKSkgewokZGV2UmVxdWlyZW1lbnRzID0gJHRoaXMtPmRldGVybWluZVJlcXVpcmVtZW50cygkaW5wdXQsICRvdXRwdXQsICRyZXF1aXJlRGV2LCAkcGxhdGZvcm1SZXBvLCAkcHJlZmVycmVkU3RhYmlsaXR5KTsKfQokaW5wdXQtPnNldE9wdGlvbigncmVxdWlyZS1kZXYnLCAkZGV2UmVxdWlyZW1lbnRzKTsKCgokYXV0b2xvYWQgPSAkaW5wdXQtPmdldE9wdGlvbignYXV0b2xvYWQnKSA/OiAnc3JjLyc7CiRuYW1lc3BhY2UgPSAkdGhpcy0+bmFtZXNwYWNlRnJvbVBhY2thZ2VOYW1lKCRpbnB1dC0+Z2V0T3B0aW9uKCduYW1lJykpOwokYXV0b2xvYWQgPSAkaW8tPmFza0FuZFZhbGlkYXRlKAonQWRkIFBTUi00IGF1dG9sb2FkIG1hcHBpbmc/IE1hcHMgbmFtZXNwYWNlICInLiRuYW1lc3BhY2UuJyIgdG8gdGhlIGVudGVyZWQgcmVsYXRpdmUgcGF0aC4gWzxjb21tZW50PicuJGF1dG9sb2FkLic8L2NvbW1lbnQ+LCBuIHRvIHNraXBdOiAnLApmdW5jdGlvbiAoJHZhbHVlKSB1c2UgKCRhdXRvbG9hZCkgewppZiAobnVsbCA9PT0gJHZhbHVlKSB7CnJldHVybiAkYXV0b2xvYWQ7Cn0KCmlmICgkdmFsdWUgPT09ICduJyB8fCAkdmFsdWUgPT09ICdubycpIHsKcmV0dXJuOwp9CgokdmFsdWUgPSAkdmFsdWUgPzogJGF1dG9sb2FkOwoKaWYgKCFwcmVnX21hdGNoKCd7XlteL11bQS1aYS16MC05XC1fL10rLyR9JywgJHZhbHVlKSkgewp0aHJvdyBuZXcgXEludmFsaWRBcmd1bWVudEV4Y2VwdGlvbihzcHJpbnRmKAonVGhlIHNyYyBmb2xkZXIgbmFtZSAiJXMiIGlzIGludmFsaWQuIFBsZWFzZSBhZGQgYSByZWxhdGl2ZSBwYXRoIHdpdGggdGFpbGluZyBmb3J3YXJkIHNsYXNoLiBbQS1aYS16MC05Xy0vXSsvJywKJHZhbHVlCikpOwp9CgpyZXR1cm4gJHZhbHVlOwp9LApudWxsLAokYXV0b2xvYWQKKTsKJGlucHV0LT5zZXRPcHRpb24oJ2F1dG9sb2FkJywgJGF1dG9sb2FkKTsKfQoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gcGFyc2VBdXRob3JTdHJpbmcoJGF1dGhvcikKewppZiAocHJlZ19tYXRjaCgnL14oP1A8bmFtZT5bLSAuLFxwe0x9XHB7Tn1ccHtNbn1cJ+KAmSIoKV0rKSA8KD9QPGVtYWlsPi4rPyk+JC91JywgJGF1dGhvciwgJG1hdGNoKSkgewppZiAoJHRoaXMtPmlzVmFsaWRFbWFpbCgkbWF0Y2hbJ2VtYWlsJ10pKSB7CnJldHVybiBhcnJheSgKJ25hbWUnID0+IHRyaW0oJG1hdGNoWyduYW1lJ10pLAonZW1haWwnID0+ICRtYXRjaFsnZW1haWwnXSwKKTsKfQp9Cgp0aHJvdyBuZXcgXEludmFsaWRBcmd1bWVudEV4Y2VwdGlvbigKJ0ludmFsaWQgYXV0aG9yIHN0cmluZy4gIE11c3QgYmUgaW4gdGhlIGZvcm1hdDogJy4KJ0pvaG4gU21pdGggPGpvaG5AZXhhbXBsZS5jb20+JwopOwp9Cgpwcm90ZWN0ZWQgZnVuY3Rpb24gZmluZFBhY2thZ2VzKCRuYW1lKQp7CnJldHVybiAkdGhpcy0+Z2V0UmVwb3MoKS0+c2VhcmNoKCRuYW1lKTsKfQoKcHJvdGVjdGVkIGZ1bmN0aW9uIGdldFJlcG9zKCkKewppZiAoISR0aGlzLT5yZXBvcykgewokdGhpcy0+cmVwb3MgPSBuZXcgQ29tcG9zaXRlUmVwb3NpdG9yeShhcnJheV9tZXJnZSgKYXJyYXkobmV3IFBsYXRmb3JtUmVwb3NpdG9yeSksClJlcG9zaXRvcnlGYWN0b3J5OjpkZWZhdWx0UmVwb3MoJHRoaXMtPmdldElPKCkpCikpOwp9CgpyZXR1cm4gJHRoaXMtPnJlcG9zOwp9CgpmaW5hbCBwcm90ZWN0ZWQgZnVuY3Rpb24gZGV0ZXJtaW5lUmVxdWlyZW1lbnRzKElucHV0SW50ZXJmYWNlICRpbnB1dCwgT3V0cHV0SW50ZXJmYWNlICRvdXRwdXQsICRyZXF1aXJlcyA9IGFycmF5KCksIFBsYXRmb3JtUmVwb3NpdG9yeSAkcGxhdGZvcm1SZXBvID0gbnVsbCwgJHByZWZlcnJlZFN0YWJpbGl0eSA9ICdzdGFibGUnLCAkY2hlY2tQcm92aWRlZFZlcnNpb25zID0gdHJ1ZSwgJGZpeGVkID0gZmFsc2UpCnsKaWYgKCRyZXF1aXJlcykgewokcmVxdWlyZXMgPSAkdGhpcy0+bm9ybWFsaXplUmVxdWlyZW1lbnRzKCRyZXF1aXJlcyk7CiRyZXN1bHQgPSBhcnJheSgpOwokaW8gPSAkdGhpcy0+Z2V0SU8oKTsKCmZvcmVhY2ggKCRyZXF1aXJlcyBhcyAkcmVxdWlyZW1lbnQpIHsKaWYgKCFpc3NldCgkcmVxdWlyZW1lbnRbJ3ZlcnNpb24nXSkpIHsKCmxpc3QoJG5hbWUsICR2ZXJzaW9uKSA9ICR0aGlzLT5maW5kQmVzdFZlcnNpb25BbmROYW1lRm9yUGFja2FnZSgkaW5wdXQsICRyZXF1aXJlbWVudFsnbmFtZSddLCAkcGxhdGZvcm1SZXBvLCAkcHJlZmVycmVkU3RhYmlsaXR5LCBudWxsLCBudWxsLCAkZml4ZWQpOwokcmVxdWlyZW1lbnRbJ3ZlcnNpb24nXSA9ICR2ZXJzaW9uOwoKCiRyZXF1aXJlbWVudFsnbmFtZSddID0gJG5hbWU7CgokaW8tPndyaXRlRXJyb3Ioc3ByaW50ZigKJ1VzaW5nIHZlcnNpb24gPGluZm8+JXM8L2luZm8+IGZvciA8aW5mbz4lczwvaW5mbz4nLAokcmVxdWlyZW1lbnRbJ3ZlcnNpb24nXSwKJHJlcXVpcmVtZW50WyduYW1lJ10KKSk7Cn0gZWxzZSB7CgpsaXN0KCRuYW1lKSA9ICR0aGlzLT5maW5kQmVzdFZlcnNpb25BbmROYW1lRm9yUGFja2FnZSgkaW5wdXQsICRyZXF1aXJlbWVudFsnbmFtZSddLCAkcGxhdGZvcm1SZXBvLCAkcHJlZmVycmVkU3RhYmlsaXR5LCAkY2hlY2tQcm92aWRlZFZlcnNpb25zID8gJHJlcXVpcmVtZW50Wyd2ZXJzaW9uJ10gOiBudWxsLCAnZGV2JywgJGZpeGVkKTsKCgokcmVxdWlyZW1lbnRbJ25hbWUnXSA9ICRuYW1lOwp9CgokcmVzdWx0W10gPSAkcmVxdWlyZW1lbnRbJ25hbWUnXSAuICcgJyAuICRyZXF1aXJlbWVudFsndmVyc2lvbiddOwp9CgpyZXR1cm4gJHJlc3VsdDsKfQoKJHZlcnNpb25QYXJzZXIgPSBuZXcgVmVyc2lvblBhcnNlcigpOwoKCiRjb21wb3NlciA9ICR0aGlzLT5nZXRDb21wb3NlcihmYWxzZSk7CiRpbnN0YWxsZWRSZXBvID0gJGNvbXBvc2VyID8gJGNvbXBvc2VyLT5nZXRSZXBvc2l0b3J5TWFuYWdlcigpLT5nZXRMb2NhbFJlcG9zaXRvcnkoKSA6IG51bGw7CiRleGlzdGluZ1BhY2thZ2VzID0gYXJyYXkoKTsKaWYgKCRpbnN0YWxsZWRSZXBvKSB7CmZvcmVhY2ggKCRpbnN0YWxsZWRSZXBvLT5nZXRQYWNrYWdlcygpIGFzICRwYWNrYWdlKSB7CiRleGlzdGluZ1BhY2thZ2VzW10gPSAkcGFja2FnZS0+Z2V0TmFtZSgpOwp9Cn0KdW5zZXQoJGNvbXBvc2VyLCAkaW5zdGFsbGVkUmVwbyk7CgokaW8gPSAkdGhpcy0+Z2V0SU8oKTsKd2hpbGUgKG51bGwgIT09ICRwYWNrYWdlID0gJGlvLT5hc2soJ1NlYXJjaCBmb3IgYSBwYWNrYWdlOiAnKSkgewokbWF0Y2hlcyA9ICR0aGlzLT5maW5kUGFja2FnZXMoJHBhY2thZ2UpOwoKaWYgKGNvdW50KCRtYXRjaGVzKSkgewoKZm9yZWFjaCAoJG1hdGNoZXMgYXMgJHBvc2l0aW9uID0+ICRmb3VuZFBhY2thZ2UpIHsKaWYgKGluX2FycmF5KCRmb3VuZFBhY2thZ2VbJ25hbWUnXSwgJGV4aXN0aW5nUGFja2FnZXMsIHRydWUpKSB7CnVuc2V0KCRtYXRjaGVzWyRwb3NpdGlvbl0pOwp9Cn0KJG1hdGNoZXMgPSBhcnJheV92YWx1ZXMoJG1hdGNoZXMpOwoKJGV4YWN0TWF0Y2ggPSBudWxsOwokY2hvaWNlcyA9IGFycmF5KCk7CmZvcmVhY2ggKCRtYXRjaGVzIGFzICRwb3NpdGlvbiA9PiAkZm91bmRQYWNrYWdlKSB7CiRhYmFuZG9uZWQgPSAnJzsKaWYgKGlzc2V0KCRmb3VuZFBhY2thZ2VbJ2FiYW5kb25lZCddKSkgewppZiAoaXNfc3RyaW5nKCRmb3VuZFBhY2thZ2VbJ2FiYW5kb25lZCddKSkgewokcmVwbGFjZW1lbnQgPSBzcHJpbnRmKCdVc2UgJXMgaW5zdGVhZCcsICRmb3VuZFBhY2thZ2VbJ2FiYW5kb25lZCddKTsKfSBlbHNlIHsKJHJlcGxhY2VtZW50ID0gJ05vIHJlcGxhY2VtZW50IHdhcyBzdWdnZXN0ZWQnOwp9CiRhYmFuZG9uZWQgPSBzcHJpbnRmKCc8d2FybmluZz5BYmFuZG9uZWQuICVzLjwvd2FybmluZz4nLCAkcmVwbGFjZW1lbnQpOwp9CgokY2hvaWNlc1tdID0gc3ByaW50ZignIDxpbmZvPiU1czwvaW5mbz4gJXMgJXMnLCAiWyRwb3NpdGlvbl0iLCAkZm91bmRQYWNrYWdlWyduYW1lJ10sICRhYmFuZG9uZWQpOwppZiAoJGZvdW5kUGFja2FnZVsnbmFtZSddID09PSAkcGFja2FnZSkgewokZXhhY3RNYXRjaCA9IHRydWU7CmJyZWFrOwp9Cn0KCgppZiAoISRleGFjdE1hdGNoKSB7CiRpby0+d3JpdGVFcnJvcihhcnJheSgKJycsCnNwcmludGYoJ0ZvdW5kIDxpbmZvPiVzPC9pbmZvPiBwYWNrYWdlcyBtYXRjaGluZyA8aW5mbz4lczwvaW5mbz4nLCBjb3VudCgkbWF0Y2hlcyksICRwYWNrYWdlKSwKJycsCikpOwoKJGlvLT53cml0ZUVycm9yKCRjaG9pY2VzKTsKJGlvLT53cml0ZUVycm9yKCcnKTsKCiR2YWxpZGF0b3IgPSBmdW5jdGlvbiAoJHNlbGVjdGlvbikgdXNlICgkbWF0Y2hlcywgJHZlcnNpb25QYXJzZXIpIHsKaWYgKCcnID09PSAkc2VsZWN0aW9uKSB7CnJldHVybiBmYWxzZTsKfQoKaWYgKGlzX251bWVyaWMoJHNlbGVjdGlvbikgJiYgaXNzZXQoJG1hdGNoZXNbKGludCkgJHNlbGVjdGlvbl0pKSB7CiRwYWNrYWdlID0gJG1hdGNoZXNbKGludCkgJHNlbGVjdGlvbl07CgpyZXR1cm4gJHBhY2thZ2VbJ25hbWUnXTsKfQoKaWYgKHByZWdfbWF0Y2goJ3teXHMqKD9QPG5hbWU+W1xTL10rKSg/OlxzKyg/UDx2ZXJzaW9uPlxTKykpP1xzKiR9JywgJHNlbGVjdGlvbiwgJHBhY2thZ2VNYXRjaGVzKSkgewppZiAoaXNzZXQoJHBhY2thZ2VNYXRjaGVzWyd2ZXJzaW9uJ10pKSB7CgoKCiR2ZXJzaW9uUGFyc2VyLT5wYXJzZUNvbnN0cmFpbnRzKCRwYWNrYWdlTWF0Y2hlc1sndmVyc2lvbiddKTsKCnJldHVybiAkcGFja2FnZU1hdGNoZXNbJ25hbWUnXS4nICcuJHBhY2thZ2VNYXRjaGVzWyd2ZXJzaW9uJ107Cn0KCgpyZXR1cm4gJHBhY2thZ2VNYXRjaGVzWyduYW1lJ107Cn0KCnRocm93IG5ldyBcRXhjZXB0aW9uKCdOb3QgYSB2YWxpZCBzZWxlY3Rpb24nKTsKfTsKCiRwYWNrYWdlID0gJGlvLT5hc2tBbmRWYWxpZGF0ZSgKJ0VudGVyIHBhY2thZ2UgIyB0byBhZGQsIG9yIHRoZSBjb21wbGV0ZSBwYWNrYWdlIG5hbWUgaWYgaXQgaXMgbm90IGxpc3RlZDogJywKJHZhbGlkYXRvciwKMywKZmFsc2UKKTsKfQoKCmlmIChmYWxzZSAhPT0gJHBhY2thZ2UgJiYgZmFsc2UgPT09IHN0cnBvcygkcGFja2FnZSwgJyAnKSkgewokdmFsaWRhdG9yID0gZnVuY3Rpb24gKCRpbnB1dCkgewokaW5wdXQgPSB0cmltKCRpbnB1dCk7CgpyZXR1cm4gJGlucHV0ID86IGZhbHNlOwp9OwoKJGNvbnN0cmFpbnQgPSAkaW8tPmFza0FuZFZhbGlkYXRlKAonRW50ZXIgdGhlIHZlcnNpb24gY29uc3RyYWludCB0byByZXF1aXJlIChvciBsZWF2ZSBibGFuayB0byB1c2UgdGhlIGxhdGVzdCB2ZXJzaW9uKTogJywKJHZhbGlkYXRvciwKMywKZmFsc2UKKTsKCmlmIChmYWxzZSA9PT0gJGNvbnN0cmFpbnQpIHsKbGlzdCgsICRjb25zdHJhaW50KSA9ICR0aGlzLT5maW5kQmVzdFZlcnNpb25BbmROYW1lRm9yUGFja2FnZSgkaW5wdXQsICRwYWNrYWdlLCAkcGxhdGZvcm1SZXBvLCAkcHJlZmVycmVkU3RhYmlsaXR5KTsKCiRpby0+d3JpdGVFcnJvcihzcHJpbnRmKAonVXNpbmcgdmVyc2lvbiA8aW5mbz4lczwvaW5mbz4gZm9yIDxpbmZvPiVzPC9pbmZvPicsCiRjb25zdHJhaW50LAokcGFja2FnZQopKTsKfQoKJHBhY2thZ2UgLj0gJyAnLiRjb25zdHJhaW50Owp9CgppZiAoZmFsc2UgIT09ICRwYWNrYWdlKSB7CiRyZXF1aXJlc1tdID0gJHBhY2thZ2U7CiRleGlzdGluZ1BhY2thZ2VzW10gPSBzdWJzdHIoJHBhY2thZ2UsIDAsIHN0cnBvcygkcGFja2FnZSwgJyAnKSk7Cn0KfQp9CgpyZXR1cm4gJHJlcXVpcmVzOwp9Cgpwcm90ZWN0ZWQgZnVuY3Rpb24gZm9ybWF0QXV0aG9ycygkYXV0aG9yKQp7CnJldHVybiBhcnJheSgkdGhpcy0+cGFyc2VBdXRob3JTdHJpbmcoJGF1dGhvcikpOwp9CgoKCgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gbmFtZXNwYWNlRnJvbVBhY2thZ2VOYW1lKCRwYWNrYWdlTmFtZSkKewppZiAoISRwYWNrYWdlTmFtZSB8fCBzdHJwb3MoJHBhY2thZ2VOYW1lLCAnLycpID09PSBmYWxzZSkgewpyZXR1cm4gbnVsbDsKfQoKJG5hbWVzcGFjZSA9IGFycmF5X21hcCgKZnVuY3Rpb24gKCRwYXJ0KSB7CiRwYXJ0ID0gcHJlZ19yZXBsYWNlKCcvW15hLXowLTldL2knLCAnICcsICRwYXJ0KTsKJHBhcnQgPSB1Y3dvcmRzKCRwYXJ0KTsKCnJldHVybiBzdHJfcmVwbGFjZSgnICcsICcnLCAkcGFydCk7Cn0sCmV4cGxvZGUoJy8nLCAkcGFja2FnZU5hbWUpCik7CgpyZXR1cm4gam9pbignXFwnLCAkbmFtZXNwYWNlKTsKfQoKcHJvdGVjdGVkIGZ1bmN0aW9uIGdldEdpdENvbmZpZygpCnsKaWYgKG51bGwgIT09ICR0aGlzLT5naXRDb25maWcpIHsKcmV0dXJuICR0aGlzLT5naXRDb25maWc7Cn0KCiRmaW5kZXIgPSBuZXcgRXhlY3V0YWJsZUZpbmRlcigpOwokZ2l0QmluID0gJGZpbmRlci0+ZmluZCgnZ2l0Jyk7CgoKaWYgKG1ldGhvZF9leGlzdHMoJ1N5bWZvbnlcQ29tcG9uZW50XFByb2Nlc3NcUHJvY2VzcycsICdmcm9tU2hlbGxDb21tYW5kbGluZScpKSB7CiRjbWQgPSBuZXcgUHJvY2VzcyhhcnJheSgkZ2l0QmluLCAnY29uZmlnJywgJy1sJykpOwp9IGVsc2UgewokY21kID0gbmV3IFByb2Nlc3Moc3ByaW50ZignJXMgY29uZmlnIC1sJywgUHJvY2Vzc0V4ZWN1dG9yOjplc2NhcGUoJGdpdEJpbikpKTsKfQokY21kLT5ydW4oKTsKCmlmICgkY21kLT5pc1N1Y2Nlc3NmdWwoKSkgewokdGhpcy0+Z2l0Q29uZmlnID0gYXJyYXkoKTsKcHJlZ19tYXRjaF9hbGwoJ3teKFtePV0rKT0oLiopJH1tJywgJGNtZC0+Z2V0T3V0cHV0KCksICRtYXRjaGVzLCBQUkVHX1NFVF9PUkRFUik7CmZvcmVhY2ggKCRtYXRjaGVzIGFzICRtYXRjaCkgewokdGhpcy0+Z2l0Q29uZmlnWyRtYXRjaFsxXV0gPSAkbWF0Y2hbMl07Cn0KCnJldHVybiAkdGhpcy0+Z2l0Q29uZmlnOwp9CgpyZXR1cm4gJHRoaXMtPmdpdENvbmZpZyA9IGFycmF5KCk7Cn0KCgoKCgoKCgoKCgoKCgoKCgpwcm90ZWN0ZWQgZnVuY3Rpb24gaGFzVmVuZG9ySWdub3JlKCRpZ25vcmVGaWxlLCAkdmVuZG9yID0gJ3ZlbmRvcicpCnsKaWYgKCFmaWxlX2V4aXN0cygkaWdub3JlRmlsZSkpIHsKcmV0dXJuIGZhbHNlOwp9CgokcGF0dGVybiA9IHNwcmludGYoJ3teLz8lcygvXCo/KT8kfScsIHByZWdfcXVvdGUoJHZlbmRvcikpOwoKJGxpbmVzID0gZmlsZSgkaWdub3JlRmlsZSwgRklMRV9JR05PUkVfTkVXX0xJTkVTKTsKZm9yZWFjaCAoJGxpbmVzIGFzICRsaW5lKSB7CmlmIChwcmVnX21hdGNoKCRwYXR0ZXJuLCAkbGluZSkpIHsKcmV0dXJuIHRydWU7Cn0KfQoKcmV0dXJuIGZhbHNlOwp9Cgpwcm90ZWN0ZWQgZnVuY3Rpb24gYWRkVmVuZG9ySWdub3JlKCRpZ25vcmVGaWxlLCAkdmVuZG9yID0gJy92ZW5kb3IvJykKewokY29udGVudHMgPSAiIjsKaWYgKGZpbGVfZXhpc3RzKCRpZ25vcmVGaWxlKSkgewokY29udGVudHMgPSBmaWxlX2dldF9jb250ZW50cygkaWdub3JlRmlsZSk7CgppZiAoc3RycG9zKCRjb250ZW50cywgIlxuIikgIT09IDApIHsKJGNvbnRlbnRzIC49ICJcbiI7Cn0KfQoKZmlsZV9wdXRfY29udGVudHMoJGlnbm9yZUZpbGUsICRjb250ZW50cyAuICR2ZW5kb3IuICJcbiIpOwp9Cgpwcm90ZWN0ZWQgZnVuY3Rpb24gaXNWYWxpZEVtYWlsKCRlbWFpbCkKewoKaWYgKCFmdW5jdGlvbl9leGlzdHMoJ2ZpbHRlcl92YXInKSkgewpyZXR1cm4gdHJ1ZTsKfQoKCmlmIChQSFBfVkVSU0lPTl9JRCA8IDUwMzAzKSB7CnJldHVybiB0cnVlOwp9CgpyZXR1cm4gZmFsc2UgIT09IGZpbHRlcl92YXIoJGVtYWlsLCBGSUxURVJfVkFMSURBVEVfRU1BSUwpOwp9Cgpwcml2YXRlIGZ1bmN0aW9uIGdldFJlcG9zaXRvcnlTZXQoSW5wdXRJbnRlcmZhY2UgJGlucHV0LCAkbWluaW11bVN0YWJpbGl0eSA9IG51bGwpCnsKJGtleSA9ICRtaW5pbXVtU3RhYmlsaXR5ID86ICdkZWZhdWx0JzsKCmlmICghaXNzZXQoJHRoaXMtPnJlcG9zaXRvcnlTZXRzWyRrZXldKSkgewokdGhpcy0+cmVwb3NpdG9yeVNldHNbJGtleV0gPSAkcmVwb3NpdG9yeVNldCA9IG5ldyBSZXBvc2l0b3J5U2V0KCRtaW5pbXVtU3RhYmlsaXR5ID86ICR0aGlzLT5nZXRNaW5pbXVtU3RhYmlsaXR5KCRpbnB1dCkpOwokcmVwb3NpdG9yeVNldC0+YWRkUmVwb3NpdG9yeSgkdGhpcy0+Z2V0UmVwb3MoKSk7Cn0KCnJldHVybiAkdGhpcy0+cmVwb3NpdG9yeVNldHNbJGtleV07Cn0KCnByaXZhdGUgZnVuY3Rpb24gZ2V0TWluaW11bVN0YWJpbGl0eShJbnB1dEludGVyZmFjZSAkaW5wdXQpCnsKaWYgKCRpbnB1dC0+aGFzT3B0aW9uKCdzdGFiaWxpdHknKSkgewpyZXR1cm4gVmVyc2lvblBhcnNlcjo6bm9ybWFsaXplU3RhYmlsaXR5KCRpbnB1dC0+Z2V0T3B0aW9uKCdzdGFiaWxpdHknKSA/OiAnc3RhYmxlJyk7Cn0KCiRmaWxlID0gRmFjdG9yeTo6Z2V0Q29tcG9zZXJGaWxlKCk7CmlmIChpc19maWxlKCRmaWxlKSAmJiBGaWxlc3lzdGVtOjppc1JlYWRhYmxlKCRmaWxlKSAmJiBpc19hcnJheSgkY29tcG9zZXIgPSBqc29uX2RlY29kZShmaWxlX2dldF9jb250ZW50cygkZmlsZSksIHRydWUpKSkgewppZiAoIWVtcHR5KCRjb21wb3NlclsnbWluaW11bS1zdGFiaWxpdHknXSkpIHsKcmV0dXJuIFZlcnNpb25QYXJzZXI6Om5vcm1hbGl6ZVN0YWJpbGl0eSgkY29tcG9zZXJbJ21pbmltdW0tc3RhYmlsaXR5J10pOwp9Cn0KCnJldHVybiAnc3RhYmxlJzsKfQoKCgoKCgoKCgoKCgoKCgoKcHJpdmF0ZSBmdW5jdGlvbiBmaW5kQmVzdFZlcnNpb25BbmROYW1lRm9yUGFja2FnZShJbnB1dEludGVyZmFjZSAkaW5wdXQsICRuYW1lLCBQbGF0Zm9ybVJlcG9zaXRvcnkgJHBsYXRmb3JtUmVwbyA9IG51bGwsICRwcmVmZXJyZWRTdGFiaWxpdHkgPSAnc3RhYmxlJywgJHJlcXVpcmVkVmVyc2lvbiA9IG51bGwsICRtaW5pbXVtU3RhYmlsaXR5ID0gbnVsbCwgJGZpeGVkID0gbnVsbCkKewoKJGlnbm9yZVBsYXRmb3JtUmVxcyA9IGZhbHNlOwppZiAoJGlucHV0LT5oYXNPcHRpb24oJ2lnbm9yZS1wbGF0Zm9ybS1yZXFzJykgJiYgJGlucHV0LT5oYXNPcHRpb24oJ2lnbm9yZS1wbGF0Zm9ybS1yZXEnKSkgewokaWdub3JlUGxhdGZvcm1SZXFzID0gJGlucHV0LT5nZXRPcHRpb24oJ2lnbm9yZS1wbGF0Zm9ybS1yZXFzJykgPzogKCRpbnB1dC0+Z2V0T3B0aW9uKCdpZ25vcmUtcGxhdGZvcm0tcmVxJykgPzogZmFsc2UpOwp9CgoKJHZlcnNpb25TZWxlY3RvciA9IG5ldyBWZXJzaW9uU2VsZWN0b3IoJHRoaXMtPmdldFJlcG9zaXRvcnlTZXQoJGlucHV0LCAkbWluaW11bVN0YWJpbGl0eSksICRwbGF0Zm9ybVJlcG8pOwoKJHBhY2thZ2UgPSAkdmVyc2lvblNlbGVjdG9yLT5maW5kQmVzdENhbmRpZGF0ZSgkbmFtZSwgJHJlcXVpcmVkVmVyc2lvbiwgJHByZWZlcnJlZFN0YWJpbGl0eSwgJGlnbm9yZVBsYXRmb3JtUmVxcyk7CgppZiAoISRwYWNrYWdlKSB7CgoKaWYgKCh0cnVlID09PSAkaWdub3JlUGxhdGZvcm1SZXFzIHx8IChpc19hcnJheSgkaWdub3JlUGxhdGZvcm1SZXFzKSAmJiBpbl9hcnJheSgkbmFtZSwgJGlnbm9yZVBsYXRmb3JtUmVxcykpKSAmJiBQbGF0Zm9ybVJlcG9zaXRvcnk6OmlzUGxhdGZvcm1QYWNrYWdlKCRuYW1lKSkgewpyZXR1cm4gYXJyYXkoJG5hbWUsICRyZXF1aXJlZFZlcnNpb24gPzogJyonKTsKfQoKCmlmICh0cnVlICE9PSAkaWdub3JlUGxhdGZvcm1SZXFzICYmICgkY2FuZGlkYXRlID0gJHZlcnNpb25TZWxlY3Rvci0+ZmluZEJlc3RDYW5kaWRhdGUoJG5hbWUsICRyZXF1aXJlZFZlcnNpb24sICRwcmVmZXJyZWRTdGFiaWxpdHksIHRydWUpKSkgewp0aHJvdyBuZXcgXEludmFsaWRBcmd1bWVudEV4Y2VwdGlvbihzcHJpbnRmKAonUGFja2FnZSAlcyVzIGhhcyBhIFBIUCByZXF1aXJlbWVudCBpbmNvbXBhdGlibGUgd2l0aCB5b3VyIFBIUCB2ZXJzaW9uLCBQSFAgZXh0ZW5zaW9ucyBhbmQgQ29tcG9zZXIgdmVyc2lvbicgLiAkdGhpcy0+Z2V0UGxhdGZvcm1FeGNlcHRpb25EZXRhaWxzKCRjYW5kaWRhdGUsICRwbGF0Zm9ybVJlcG8pLAokbmFtZSwKJHJlcXVpcmVkVmVyc2lvbiA/ICcgYXQgdmVyc2lvbiAnLiRyZXF1aXJlZFZlcnNpb24gOiAnJwopKTsKfQoKaWYgKCRwYWNrYWdlID0gJHZlcnNpb25TZWxlY3Rvci0+ZmluZEJlc3RDYW5kaWRhdGUoJG5hbWUsICRyZXF1aXJlZFZlcnNpb24sICRwcmVmZXJyZWRTdGFiaWxpdHksICRpZ25vcmVQbGF0Zm9ybVJlcXMsIFJlcG9zaXRvcnlTZXQ6OkFMTE9XX1VOQUNDRVBUQUJMRV9TVEFCSUxJVElFUykpIHsKCmlmICgkYWxsUmVwb3NQYWNrYWdlID0gJHZlcnNpb25TZWxlY3Rvci0+ZmluZEJlc3RDYW5kaWRhdGUoJG5hbWUsICRyZXF1aXJlZFZlcnNpb24sICRwcmVmZXJyZWRTdGFiaWxpdHksICRpZ25vcmVQbGF0Zm9ybVJlcXMsIFJlcG9zaXRvcnlTZXQ6OkFMTE9XX1NIQURPV0VEX1JFUE9TSVRPUklFUykpIHsKdGhyb3cgbmV3IFxJbnZhbGlkQXJndW1lbnRFeGNlcHRpb24oCidQYWNrYWdlICcuJG5hbWUuJyBleGlzdHMgaW4gJy4kYWxsUmVwb3NQYWNrYWdlLT5nZXRSZXBvc2l0b3J5KCktPmdldFJlcG9OYW1lKCkuJyBhbmQgJy4kcGFja2FnZS0+Z2V0UmVwb3NpdG9yeSgpLT5nZXRSZXBvTmFtZSgpLicgd2hpY2ggaGFzIGEgaGlnaGVyIHJlcG9zaXRvcnkgcHJpb3JpdHkuIFRoZSBwYWNrYWdlcyB3aXRoIGhpZ2hlciBwcmlvcml0eSBkbyBub3QgbWF0Y2ggeW91ciBtaW5pbXVtLXN0YWJpbGl0eSBhbmQgYXJlIHRoZXJlZm9yZSBub3QgaW5zdGFsbGFibGUuIFNlZSBodHRwczovL2dldGNvbXBvc2VyLm9yZy9yZXBvcHJpbyBmb3IgZGV0YWlscyBhbmQgYXNzaXN0YW5jZS4nCik7Cn0KCnRocm93IG5ldyBcSW52YWxpZEFyZ3VtZW50RXhjZXB0aW9uKHNwcmludGYoCidDb3VsZCBub3QgZmluZCBhIHZlcnNpb24gb2YgcGFja2FnZSAlcyBtYXRjaGluZyB5b3VyIG1pbmltdW0tc3RhYmlsaXR5ICglcykuIFJlcXVpcmUgaXQgd2l0aCBhbiBleHBsaWNpdCB2ZXJzaW9uIGNvbnN0cmFpbnQgYWxsb3dpbmcgaXRzIGRlc2lyZWQgc3RhYmlsaXR5LicsCiRuYW1lLAokdGhpcy0+Z2V0TWluaW11bVN0YWJpbGl0eSgkaW5wdXQpCikpOwp9CgppZiAoJHJlcXVpcmVkVmVyc2lvbiAmJiAkcGFja2FnZSA9ICR2ZXJzaW9uU2VsZWN0b3ItPmZpbmRCZXN0Q2FuZGlkYXRlKCRuYW1lLCBudWxsLCAkcHJlZmVycmVkU3RhYmlsaXR5LCAkaWdub3JlUGxhdGZvcm1SZXFzKSkgewoKaWYgKCRhbGxSZXBvc1BhY2thZ2UgPSAkdmVyc2lvblNlbGVjdG9yLT5maW5kQmVzdENhbmRpZGF0ZSgkbmFtZSwgJHJlcXVpcmVkVmVyc2lvbiwgJHByZWZlcnJlZFN0YWJpbGl0eSwgZmFsc2UsIFJlcG9zaXRvcnlTZXQ6OkFMTE9XX1NIQURPV0VEX1JFUE9TSVRPUklFUykpIHsKdGhyb3cgbmV3IFxJbnZhbGlkQXJndW1lbnRFeGNlcHRpb24oCidQYWNrYWdlICcuJG5hbWUuJyBleGlzdHMgaW4gJy4kYWxsUmVwb3NQYWNrYWdlLT5nZXRSZXBvc2l0b3J5KCktPmdldFJlcG9OYW1lKCkuJyBhbmQgJy4kcGFja2FnZS0+Z2V0UmVwb3NpdG9yeSgpLT5nZXRSZXBvTmFtZSgpLicgd2hpY2ggaGFzIGEgaGlnaGVyIHJlcG9zaXRvcnkgcHJpb3JpdHkuIFRoZSBwYWNrYWdlcyB3aXRoIGhpZ2hlciBwcmlvcml0eSBkbyBub3QgbWF0Y2ggeW91ciBjb25zdHJhaW50IGFuZCBhcmUgdGhlcmVmb3JlIG5vdCBpbnN0YWxsYWJsZS4gU2VlIGh0dHBzOi8vZ2V0Y29tcG9zZXIub3JnL3JlcG9wcmlvIGZvciBkZXRhaWxzIGFuZCBhc3Npc3RhbmNlLicKKTsKfQoKdGhyb3cgbmV3IFxJbnZhbGlkQXJndW1lbnRFeGNlcHRpb24oc3ByaW50ZigKJ0NvdWxkIG5vdCBmaW5kIHBhY2thZ2UgJXMgaW4gYSB2ZXJzaW9uIG1hdGNoaW5nICVzJywKJG5hbWUsCiRyZXF1aXJlZFZlcnNpb24KKSk7Cn0KCmlmICh0cnVlICE9PSAkaWdub3JlUGxhdGZvcm1SZXFzICYmICgkY2FuZGlkYXRlID0gJHZlcnNpb25TZWxlY3Rvci0+ZmluZEJlc3RDYW5kaWRhdGUoJG5hbWUsIG51bGwsICRwcmVmZXJyZWRTdGFiaWxpdHksIHRydWUpKSkgewp0aHJvdyBuZXcgXEludmFsaWRBcmd1bWVudEV4Y2VwdGlvbihzcHJpbnRmKAonQ291bGQgbm90IGZpbmQgcGFja2FnZSAlcyBpbiBhbnkgdmVyc2lvbiBtYXRjaGluZyB5b3VyIFBIUCB2ZXJzaW9uLCBQSFAgZXh0ZW5zaW9ucyBhbmQgQ29tcG9zZXIgdmVyc2lvbicgLiAkdGhpcy0+Z2V0UGxhdGZvcm1FeGNlcHRpb25EZXRhaWxzKCRjYW5kaWRhdGUsICRwbGF0Zm9ybVJlcG8pLAokbmFtZQopKTsKfQoKCiRzaW1pbGFyID0gJHRoaXMtPmZpbmRTaW1pbGFyKCRuYW1lKTsKaWYgKCRzaW1pbGFyKSB7CmlmIChpbl9hcnJheSgkbmFtZSwgJHNpbWlsYXIsIHRydWUpKSB7CnRocm93IG5ldyBcSW52YWxpZEFyZ3VtZW50RXhjZXB0aW9uKHNwcmludGYoCiJDb3VsZCBub3QgZmluZCBwYWNrYWdlICVzLiBJdCB3YXMgaG93ZXZlciBmb3VuZCB2aWEgcmVwb3NpdG9yeSBzZWFyY2gsIHdoaWNoIGluZGljYXRlcyBhIGNvbnNpc3RlbmN5IGlzc3VlIHdpdGggdGhlIHJlcG9zaXRvcnkuIiwKJG5hbWUKKSk7Cn0KCnRocm93IG5ldyBcSW52YWxpZEFyZ3VtZW50RXhjZXB0aW9uKHNwcmludGYoCiJDb3VsZCBub3QgZmluZCBwYWNrYWdlICVzLlxuXG5EaWQgeW91IG1lYW4gIiAuIChjb3VudCgkc2ltaWxhcikgPiAxID8gJ29uZSBvZiB0aGVzZScgOiAndGhpcycpIC4gIj9cbiAgICAlcyIsCiRuYW1lLAppbXBsb2RlKCJcbiAgICAiLCAkc2ltaWxhcikKKSk7Cn0KCnRocm93IG5ldyBcSW52YWxpZEFyZ3VtZW50RXhjZXB0aW9uKHNwcmludGYoCidDb3VsZCBub3QgZmluZCBhIG1hdGNoaW5nIHZlcnNpb24gb2YgcGFja2FnZSAlcy4gQ2hlY2sgdGhlIHBhY2thZ2Ugc3BlbGxpbmcsIHlvdXIgdmVyc2lvbiBjb25zdHJhaW50IGFuZCB0aGF0IHRoZSBwYWNrYWdlIGlzIGF2YWlsYWJsZSBpbiBhIHN0YWJpbGl0eSB3aGljaCBtYXRjaGVzIHlvdXIgbWluaW11bS1zdGFiaWxpdHkgKCVzKS4nLAokbmFtZSwKJHRoaXMtPmdldE1pbmltdW1TdGFiaWxpdHkoJGlucHV0KQopKTsKfQoKcmV0dXJuIGFycmF5KAokcGFja2FnZS0+Z2V0UHJldHR5TmFtZSgpLAokZml4ZWQgPyAkcGFja2FnZS0+Z2V0UHJldHR5VmVyc2lvbigpIDogJHZlcnNpb25TZWxlY3Rvci0+ZmluZFJlY29tbWVuZGVkUmVxdWlyZVZlcnNpb24oJHBhY2thZ2UpLAopOwp9Cgpwcml2YXRlIGZ1bmN0aW9uIGdldFBsYXRmb3JtRXhjZXB0aW9uRGV0YWlscyhQYWNrYWdlSW50ZXJmYWNlICRjYW5kaWRhdGUsIFBsYXRmb3JtUmVwb3NpdG9yeSAkcGxhdGZvcm1SZXBvID0gbnVsbCkKewokZGV0YWlscyA9IGFycmF5KCk7CmlmICghJHBsYXRmb3JtUmVwbykgewpyZXR1cm4gJyc7Cn0KCmZvcmVhY2ggKCRjYW5kaWRhdGUtPmdldFJlcXVpcmVzKCkgYXMgJGxpbmspIHsKJHBsYXRmb3JtUGtnID0gJHBsYXRmb3JtUmVwby0+ZmluZFBhY2thZ2UoJGxpbmstPmdldFRhcmdldCgpLCAnKicpOwppZiAoISRwbGF0Zm9ybVBrZykgewokZGV0YWlsc1tdID0gJGNhbmRpZGF0ZS0+Z2V0TmFtZSgpLicgcmVxdWlyZXMgJy4kbGluay0+Z2V0VGFyZ2V0KCkuJyAnLiRsaW5rLT5nZXRQcmV0dHlDb25zdHJhaW50KCkuJyBidXQgaXQgaXMgbm90IHByZXNlbnQuJzsKY29udGludWU7Cn0KaWYgKCEkbGluay0+Z2V0Q29uc3RyYWludCgpLT5tYXRjaGVzKG5ldyBDb25zdHJhaW50KCc9PScsICRwbGF0Zm9ybVBrZy0+Z2V0VmVyc2lvbigpKSkpIHsKJHBsYXRmb3JtUGtnVmVyc2lvbiA9ICRwbGF0Zm9ybVBrZy0+Z2V0UHJldHR5VmVyc2lvbigpOwokcGxhdGZvcm1FeHRyYSA9ICRwbGF0Zm9ybVBrZy0+Z2V0RXh0cmEoKTsKaWYgKGlzc2V0KCRwbGF0Zm9ybUV4dHJhWydjb25maWcucGxhdGZvcm0nXSkgJiYgJHBsYXRmb3JtUGtnIGluc3RhbmNlb2YgQ29tcGxldGVQYWNrYWdlSW50ZXJmYWNlKSB7CiRwbGF0Zm9ybVBrZ1ZlcnNpb24gLj0gJyAoJy4kcGxhdGZvcm1Qa2ctPmdldERlc2NyaXB0aW9uKCkuJyknOwp9CiRkZXRhaWxzW10gPSAkY2FuZGlkYXRlLT5nZXROYW1lKCkuJyByZXF1aXJlcyAnLiRsaW5rLT5nZXRUYXJnZXQoKS4nICcuJGxpbmstPmdldFByZXR0eUNvbnN0cmFpbnQoKS4nIHdoaWNoIGRvZXMgbm90IG1hdGNoIHlvdXIgaW5zdGFsbGVkIHZlcnNpb24gJy4kcGxhdGZvcm1Qa2dWZXJzaW9uLicuJzsKfQp9CgppZiAoISRkZXRhaWxzKSB7CnJldHVybiAnJzsKfQoKcmV0dXJuICc6Jy5QSFBfRU9MLicgIC0gJyAuIGltcGxvZGUoUEhQX0VPTC4nICAtICcsICRkZXRhaWxzKTsKfQoKcHJpdmF0ZSBmdW5jdGlvbiBmaW5kU2ltaWxhcigkcGFja2FnZSkKewp0cnkgewokcmVzdWx0cyA9ICR0aGlzLT5yZXBvcy0+c2VhcmNoKCRwYWNrYWdlKTsKfSBjYXRjaCAoXEV4Y2VwdGlvbiAkZSkgewoKcmV0dXJuIGFycmF5KCk7Cn0KJHNpbWlsYXJQYWNrYWdlcyA9IGFycmF5KCk7CgokaW5zdGFsbGVkUmVwbyA9ICR0aGlzLT5nZXRDb21wb3NlcigpLT5nZXRSZXBvc2l0b3J5TWFuYWdlcigpLT5nZXRMb2NhbFJlcG9zaXRvcnkoKTsKCmZvcmVhY2ggKCRyZXN1bHRzIGFzICRyZXN1bHQpIHsKaWYgKCRpbnN0YWxsZWRSZXBvLT5maW5kUGFja2FnZSgkcmVzdWx0WyduYW1lJ10sICcqJykpIHsKCmNvbnRpbnVlOwp9CiRzaW1pbGFyUGFja2FnZXNbJHJlc3VsdFsnbmFtZSddXSA9IGxldmVuc2h0ZWluKCRwYWNrYWdlLCAkcmVzdWx0WyduYW1lJ10pOwp9CmFzb3J0KCRzaW1pbGFyUGFja2FnZXMpOwoKcmV0dXJuIGFycmF5X2tleXMoYXJyYXlfc2xpY2UoJHNpbWlsYXJQYWNrYWdlcywgMCwgNSkpOwp9Cgpwcml2YXRlIGZ1bmN0aW9uIHVwZGF0ZURlcGVuZGVuY2llcygkb3V0cHV0KQp7CnRyeSB7CiR1cGRhdGVDb21tYW5kID0gJHRoaXMtPmdldEFwcGxpY2F0aW9uKCktPmZpbmQoJ3VwZGF0ZScpOwokdGhpcy0+Z2V0QXBwbGljYXRpb24oKS0+cmVzZXRDb21wb3NlcigpOwokdXBkYXRlQ29tbWFuZC0+cnVuKG5ldyBBcnJheUlucHV0KGFycmF5KCkpLCAkb3V0cHV0KTsKfSBjYXRjaCAoXEV4Y2VwdGlvbiAkZSkgewokdGhpcy0+Z2V0SU8oKS0+d3JpdGVFcnJvcignQ291bGQgbm90IHVwZGF0ZSBkZXBlbmRlbmNpZXMuIFJ1biBgY29tcG9zZXIgdXBkYXRlYCB0byBzZWUgbW9yZSBpbmZvcm1hdGlvbi4nKTsKfQp9Cgpwcml2YXRlIGZ1bmN0aW9uIHJ1bkR1bXBBdXRvbG9hZENvbW1hbmQoJG91dHB1dCkKewp0cnkgewokY29tbWFuZCA9ICR0aGlzLT5nZXRBcHBsaWNhdGlvbigpLT5maW5kKCdkdW1wLWF1dG9sb2FkJyk7CiR0aGlzLT5nZXRBcHBsaWNhdGlvbigpLT5yZXNldENvbXBvc2VyKCk7CiRjb21tYW5kLT5ydW4obmV3IEFycmF5SW5wdXQoYXJyYXkoKSksICRvdXRwdXQpOwp9IGNhdGNoIChcRXhjZXB0aW9uICRlKSB7CiR0aGlzLT5nZXRJTygpLT53cml0ZUVycm9yKCdDb3VsZCBub3QgcnVuIGR1bXAtYXV0b2xvYWQuJyk7Cn0KfQoKcHJpdmF0ZSBmdW5jdGlvbiBoYXNEZXBlbmRlbmNpZXMoJG9wdGlvbnMpCnsKJHJlcXVpcmVzID0gKGFycmF5KSAkb3B0aW9uc1sncmVxdWlyZSddOwokZGV2UmVxdWlyZXMgPSBpc3NldCgkb3B0aW9uc1sncmVxdWlyZS1kZXYnXSkgPyAoYXJyYXkpICRvcHRpb25zWydyZXF1aXJlLWRldiddIDogYXJyYXkoKTsKCnJldHVybiAhZW1wdHkoJHJlcXVpcmVzKSB8fCAhZW1wdHkoJGRldlJlcXVpcmVzKTsKfQp9Cjw/cGhwCgoKCgoKCgoKCgoKbmFtZXNwYWNlIENvbXBvc2VyXENvbW1hbmQ7Cgp1c2UgQ29tcG9zZXJcSW5zdGFsbGVyOwp1c2UgQ29tcG9zZXJcUGx1Z2luXENvbW1hbmRFdmVudDsKdXNlIENvbXBvc2VyXFBsdWdpblxQbHVnaW5FdmVudHM7CnVzZSBDb21wb3NlclxVdGlsXEh0dHBEb3dubG9hZGVyOwp1c2UgU3ltZm9ueVxDb21wb25lbnRcQ29uc29sZVxJbnB1dFxJbnB1dEludGVyZmFjZTsKdXNlIFN5bWZvbnlcQ29tcG9uZW50XENvbnNvbGVcSW5wdXRcSW5wdXRPcHRpb247CnVzZSBTeW1mb255XENvbXBvbmVudFxDb25zb2xlXElucHV0XElucHV0QXJndW1lbnQ7CnVzZSBTeW1mb255XENvbXBvbmVudFxDb25zb2xlXE91dHB1dFxPdXRwdXRJbnRlcmZhY2U7CgoKCgoKCgpjbGFzcyBJbnN0YWxsQ29tbWFuZCBleHRlbmRzIEJhc2VDb21tYW5kCnsKcHJvdGVjdGVkIGZ1bmN0aW9uIGNvbmZpZ3VyZSgpCnsKJHRoaXMKLT5zZXROYW1lKCdpbnN0YWxsJykKLT5zZXRBbGlhc2VzKGFycmF5KCdpJykpCi0+c2V0RGVzY3JpcHRpb24oJ0luc3RhbGxzIHRoZSBwcm9qZWN0IGRlcGVuZGVuY2llcyBmcm9tIHRoZSBjb21wb3Nlci5sb2NrIGZpbGUgaWYgcHJlc2VudCwgb3IgZmFsbHMgYmFjayBvbiB0aGUgY29tcG9zZXIuanNvbi4nKQotPnNldERlZmluaXRpb24oYXJyYXkoCm5ldyBJbnB1dE9wdGlvbigncHJlZmVyLXNvdXJjZScsIG51bGwsIElucHV0T3B0aW9uOjpWQUxVRV9OT05FLCAnRm9yY2VzIGluc3RhbGxhdGlvbiBmcm9tIHBhY2thZ2Ugc291cmNlcyB3aGVuIHBvc3NpYmxlLCBpbmNsdWRpbmcgVkNTIGluZm9ybWF0aW9uLicpLApuZXcgSW5wdXRPcHRpb24oJ3ByZWZlci1kaXN0JywgbnVsbCwgSW5wdXRPcHRpb246OlZBTFVFX05PTkUsICdGb3JjZXMgaW5zdGFsbGF0aW9uIGZyb20gcGFja2FnZSBkaXN0IChkZWZhdWx0IGJlaGF2aW9yKS4nKSwKbmV3IElucHV0T3B0aW9uKCdwcmVmZXItaW5zdGFsbCcsIG51bGwsIElucHV0T3B0aW9uOjpWQUxVRV9SRVFVSVJFRCwgJ0ZvcmNlcyBpbnN0YWxsYXRpb24gZnJvbSBwYWNrYWdlIGRpc3R8c291cmNlfGF1dG8gKGF1dG8gY2hvb3NlcyBzb3VyY2UgZm9yIGRldiB2ZXJzaW9ucywgZGlzdCBmb3IgdGhlIHJlc3QpLicpLApuZXcgSW5wdXRPcHRpb24oJ2RyeS1ydW4nLCBudWxsLCBJbnB1dE9wdGlvbjo6VkFMVUVfTk9ORSwgJ091dHB1dHMgdGhlIG9wZXJhdGlvbnMgYnV0IHdpbGwgbm90IGV4ZWN1dGUgYW55dGhpbmcgKGltcGxpY2l0bHkgZW5hYmxlcyAtLXZlcmJvc2UpLicpLApuZXcgSW5wdXRPcHRpb24oJ2RldicsIG51bGwsIElucHV0T3B0aW9uOjpWQUxVRV9OT05FLCAnREVQUkVDQVRFRDogRW5hYmxlcyBpbnN0YWxsYXRpb24gb2YgcmVxdWlyZS1kZXYgcGFja2FnZXMgKGVuYWJsZWQgYnkgZGVmYXVsdCwgb25seSBwcmVzZW50IGZvciBCQykuJyksCm5ldyBJbnB1dE9wdGlvbignbm8tc3VnZ2VzdCcsIG51bGwsIElucHV0T3B0aW9uOjpWQUxVRV9OT05FLCAnREVQUkVDQVRFRDogVGhpcyBmbGFnIGRvZXMgbm90IGV4aXN0IGFueW1vcmUuJyksCm5ldyBJbnB1dE9wdGlvbignbm8tZGV2JywgbnVsbCwgSW5wdXRPcHRpb246OlZBTFVFX05PTkUsICdEaXNhYmxlcyBpbnN0YWxsYXRpb24gb2YgcmVxdWlyZS1kZXYgcGFja2FnZXMuJyksCm5ldyBJbnB1dE9wdGlvbignbm8tYXV0b2xvYWRlcicsIG51bGwsIElucHV0T3B0aW9uOjpWQUxVRV9OT05FLCAnU2tpcHMgYXV0b2xvYWRlciBnZW5lcmF0aW9uJyksCm5ldyBJbnB1dE9wdGlvbignbm8tc2NyaXB0cycsIG51bGwsIElucHV0T3B0aW9uOjpWQUxVRV9OT05FLCAnU2tpcHMgdGhlIGV4ZWN1dGlvbiBvZiBhbGwgc2NyaXB0cyBkZWZpbmVkIGluIGNvbXBvc2VyLmpzb24gZmlsZS4nKSwKbmV3IElucHV0T3B0aW9uKCduby1wcm9ncmVzcycsIG51bGwsIElucHV0T3B0aW9uOjpWQUxVRV9OT05FLCAnRG8gbm90IG91dHB1dCBkb3dubG9hZCBwcm9ncmVzcy4nKSwKbmV3IElucHV0T3B0aW9uKCduby1pbnN0YWxsJywgbnVsbCwgSW5wdXRPcHRpb246OlZBTFVFX05PTkUsICdEbyBub3QgdXNlLCBvbmx5IGRlZmluZWQgaGVyZSB0byBjYXRjaCBtaXN1c2Ugb2YgdGhlIGluc3RhbGwgY29tbWFuZC4nKSwKbmV3IElucHV0T3B0aW9uKCd2ZXJib3NlJywgJ3Z8dnZ8dnZ2JywgSW5wdXRPcHRpb246OlZBTFVFX05PTkUsICdTaG93cyBtb3JlIGRldGFpbHMgaW5jbHVkaW5nIG5ldyBjb21taXRzIHB1bGxlZCBpbiB3aGVuIHVwZGF0aW5nIHBhY2thZ2VzLicpLApuZXcgSW5wdXRPcHRpb24oJ29wdGltaXplLWF1dG9sb2FkZXInLCAnbycsIElucHV0T3B0aW9uOjpWQUxVRV9OT05FLCAnT3B0aW1pemUgYXV0b2xvYWRlciBkdXJpbmcgYXV0b2xvYWRlciBkdW1wJyksCm5ldyBJbnB1dE9wdGlvbignY2xhc3NtYXAtYXV0aG9yaXRhdGl2ZScsICdhJywgSW5wdXRPcHRpb246OlZBTFVFX05PTkUsICdBdXRvbG9hZCBjbGFzc2VzIGZyb20gdGhlIGNsYXNzbWFwIG9ubHkuIEltcGxpY2l0bHkgZW5hYmxlcyBgLS1vcHRpbWl6ZS1hdXRvbG9hZGVyYC4nKSwKbmV3IElucHV0T3B0aW9uKCdhcGN1LWF1dG9sb2FkZXInLCBudWxsLCBJbnB1dE9wdGlvbjo6VkFMVUVfTk9ORSwgJ1VzZSBBUEN1IHRvIGNhY2hlIGZvdW5kL25vdC1mb3VuZCBjbGFzc2VzLicpLApuZXcgSW5wdXRPcHRpb24oJ2FwY3UtYXV0b2xvYWRlci1wcmVmaXgnLCBudWxsLCBJbnB1dE9wdGlvbjo6VkFMVUVfUkVRVUlSRUQsICdVc2UgYSBjdXN0b20gcHJlZml4IGZvciB0aGUgQVBDdSBhdXRvbG9hZGVyIGNhY2hlLiBJbXBsaWNpdGx5IGVuYWJsZXMgLS1hcGN1LWF1dG9sb2FkZXInKSwKbmV3IElucHV0T3B0aW9uKCdpZ25vcmUtcGxhdGZvcm0tcmVxJywgbnVsbCwgSW5wdXRPcHRpb246OlZBTFVFX1JFUVVJUkVEIHwgSW5wdXRPcHRpb246OlZBTFVFX0lTX0FSUkFZLCAnSWdub3JlIGEgc3BlY2lmaWMgcGxhdGZvcm0gcmVxdWlyZW1lbnQgKHBocCAmIGV4dC0gcGFja2FnZXMpLicpLApuZXcgSW5wdXRPcHRpb24oJ2lnbm9yZS1wbGF0Zm9ybS1yZXFzJywgbnVsbCwgSW5wdXRPcHRpb246OlZBTFVFX05PTkUsICdJZ25vcmUgYWxsIHBsYXRmb3JtIHJlcXVpcmVtZW50cyAocGhwICYgZXh0LSBwYWNrYWdlcykuJyksCm5ldyBJbnB1dEFyZ3VtZW50KCdwYWNrYWdlcycsIElucHV0QXJndW1lbnQ6OklTX0FSUkFZIHwgSW5wdXRBcmd1bWVudDo6T1BUSU9OQUwsICdTaG91bGQgbm90IGJlIHByb3ZpZGVkLCB1c2UgY29tcG9zZXIgcmVxdWlyZSBpbnN0ZWFkIHRvIGFkZCBhIGdpdmVuIHBhY2thZ2UgdG8gY29tcG9zZXIuanNvbi4nKSwKKSkKLT5zZXRIZWxwKAo8PDxFT1QKVGhlIDxpbmZvPmluc3RhbGw8L2luZm8+IGNvbW1hbmQgcmVhZHMgdGhlIGNvbXBvc2VyLmxvY2sgZmlsZSBmcm9tCnRoZSBjdXJyZW50IGRpcmVjdG9yeSwgcHJvY2Vzc2VzIGl0LCBhbmQgZG93bmxvYWRzIGFuZCBpbnN0YWxscyBhbGwgdGhlCmxpYnJhcmllcyBhbmQgZGVwZW5kZW5jaWVzIG91dGxpbmVkIGluIHRoYXQgZmlsZS4gSWYgdGhlIGZpbGUgZG9lcyBub3QKZXhpc3QgaXQgd2lsbCBsb29rIGZvciBjb21wb3Nlci5qc29uIGFuZCBkbyB0aGUgc2FtZS4KCjxpbmZvPnBocCBjb21wb3Nlci5waGFyIGluc3RhbGw8L2luZm8+CgpSZWFkIG1vcmUgYXQgaHR0cHM6Ly9nZXRjb21wb3Nlci5vcmcvZG9jLzAzLWNsaS5tZCNpbnN0YWxsLWkKRU9UCikKOwp9Cgpwcm90ZWN0ZWQgZnVuY3Rpb24gZXhlY3V0ZShJbnB1dEludGVyZmFjZSAkaW5wdXQsIE91dHB1dEludGVyZmFjZSAkb3V0cHV0KQp7CiRpbyA9ICR0aGlzLT5nZXRJTygpOwppZiAoJGlucHV0LT5nZXRPcHRpb24oJ2RldicpKSB7CiRpby0+d3JpdGVFcnJvcignPHdhcm5pbmc+WW91IGFyZSB1c2luZyB0aGUgZGVwcmVjYXRlZCBvcHRpb24gIi0tZGV2Ii4gSXQgaGFzIG5vIGVmZmVjdCBhbmQgd2lsbCBicmVhayBpbiBDb21wb3NlciAzLjwvd2FybmluZz4nKTsKfQppZiAoJGlucHV0LT5nZXRPcHRpb24oJ25vLXN1Z2dlc3QnKSkgewokaW8tPndyaXRlRXJyb3IoJzx3YXJuaW5nPllvdSBhcmUgdXNpbmcgdGhlIGRlcHJlY2F0ZWQgb3B0aW9uICItLW5vLXN1Z2dlc3QiLiBJdCBoYXMgbm8gZWZmZWN0IGFuZCB3aWxsIGJyZWFrIGluIENvbXBvc2VyIDMuPC93YXJuaW5nPicpOwp9CgppZiAoJGFyZ3MgPSAkaW5wdXQtPmdldEFyZ3VtZW50KCdwYWNrYWdlcycpKSB7CiRpby0+d3JpdGVFcnJvcignPGVycm9yPkludmFsaWQgYXJndW1lbnQgJy5pbXBsb2RlKCcgJywgJGFyZ3MpLicuIFVzZSAiY29tcG9zZXIgcmVxdWlyZSAnLmltcGxvZGUoJyAnLCAkYXJncykuJyIgaW5zdGVhZCB0byBhZGQgcGFja2FnZXMgdG8geW91ciBjb21wb3Nlci5qc29uLjwvZXJyb3I+Jyk7CgpyZXR1cm4gMTsKfQoKaWYgKCRpbnB1dC0+Z2V0T3B0aW9uKCduby1pbnN0YWxsJykpIHsKJGlvLT53cml0ZUVycm9yKCc8ZXJyb3I+SW52YWxpZCBvcHRpb24gIi0tbm8taW5zdGFsbCIuIFVzZSAiY29tcG9zZXIgdXBkYXRlIC0tbm8taW5zdGFsbCIgaW5zdGVhZCBpZiB5b3UgYXJlIHRyeWluZyB0byB1cGRhdGUgdGhlIGNvbXBvc2VyLmxvY2sgZmlsZS48L2Vycm9yPicpOwoKcmV0dXJuIDE7Cn0KCiRjb21wb3NlciA9ICR0aGlzLT5nZXRDb21wb3Nlcih0cnVlLCAkaW5wdXQtPmdldE9wdGlvbignbm8tcGx1Z2lucycpKTsKJGNvbXBvc2VyLT5nZXRFdmVudERpc3BhdGNoZXIoKS0+c2V0UnVuU2NyaXB0cyghJGlucHV0LT5nZXRPcHRpb24oJ25vLXNjcmlwdHMnKSk7CgppZiAoKCEkY29tcG9zZXItPmdldExvY2tlcigpIHx8ICEkY29tcG9zZXItPmdldExvY2tlcigpLT5pc0xvY2tlZCgpKSAmJiAhSHR0cERvd25sb2FkZXI6OmlzQ3VybEVuYWJsZWQoKSkgewokaW8tPndyaXRlRXJyb3IoJzx3YXJuaW5nPkNvbXBvc2VyIGlzIG9wZXJhdGluZyBzaWduaWZpY2FudGx5IHNsb3dlciB0aGFuIG5vcm1hbCBiZWNhdXNlIHlvdSBkbyBub3QgaGF2ZSB0aGUgUEhQIGN1cmwgZXh0ZW5zaW9uIGVuYWJsZWQuPC93YXJuaW5nPicpOwp9CgokY29tbWFuZEV2ZW50ID0gbmV3IENvbW1hbmRFdmVudChQbHVnaW5FdmVudHM6OkNPTU1BTkQsICdpbnN0YWxsJywgJGlucHV0LCAkb3V0cHV0KTsKJGNvbXBvc2VyLT5nZXRFdmVudERpc3BhdGNoZXIoKS0+ZGlzcGF0Y2goJGNvbW1hbmRFdmVudC0+Z2V0TmFtZSgpLCAkY29tbWFuZEV2ZW50KTsKCiRpbnN0YWxsID0gSW5zdGFsbGVyOjpjcmVhdGUoJGlvLCAkY29tcG9zZXIpOwoKJGNvbmZpZyA9ICRjb21wb3Nlci0+Z2V0Q29uZmlnKCk7Cmxpc3QoJHByZWZlclNvdXJjZSwgJHByZWZlckRpc3QpID0gJHRoaXMtPmdldFByZWZlcnJlZEluc3RhbGxPcHRpb25zKCRjb25maWcsICRpbnB1dCk7Cgokb3B0aW1pemUgPSAkaW5wdXQtPmdldE9wdGlvbignb3B0aW1pemUtYXV0b2xvYWRlcicpIHx8ICRjb25maWctPmdldCgnb3B0aW1pemUtYXV0b2xvYWRlcicpOwokYXV0aG9yaXRhdGl2ZSA9ICRpbnB1dC0+Z2V0T3B0aW9uKCdjbGFzc21hcC1hdXRob3JpdGF0aXZlJykgfHwgJGNvbmZpZy0+Z2V0KCdjbGFzc21hcC1hdXRob3JpdGF0aXZlJyk7CiRhcGN1UHJlZml4ID0gJGlucHV0LT5nZXRPcHRpb24oJ2FwY3UtYXV0b2xvYWRlci1wcmVmaXgnKTsKJGFwY3UgPSAkYXBjdVByZWZpeCAhPT0gbnVsbCB8fCAkaW5wdXQtPmdldE9wdGlvbignYXBjdS1hdXRvbG9hZGVyJykgfHwgJGNvbmZpZy0+Z2V0KCdhcGN1LWF1dG9sb2FkZXInKTsKCiRpZ25vcmVQbGF0Zm9ybVJlcXMgPSAkaW5wdXQtPmdldE9wdGlvbignaWdub3JlLXBsYXRmb3JtLXJlcXMnKSA/OiAoJGlucHV0LT5nZXRPcHRpb24oJ2lnbm9yZS1wbGF0Zm9ybS1yZXEnKSA/OiBmYWxzZSk7CgokY29tcG9zZXItPmdldEluc3RhbGxhdGlvbk1hbmFnZXIoKS0+c2V0T3V0cHV0UHJvZ3Jlc3MoISRpbnB1dC0+Z2V0T3B0aW9uKCduby1wcm9ncmVzcycpKTsKCiRpbnN0YWxsCi0+c2V0RHJ5UnVuKCRpbnB1dC0+Z2V0T3B0aW9uKCdkcnktcnVuJykpCi0+c2V0VmVyYm9zZSgkaW5wdXQtPmdldE9wdGlvbigndmVyYm9zZScpKQotPnNldFByZWZlclNvdXJjZSgkcHJlZmVyU291cmNlKQotPnNldFByZWZlckRpc3QoJHByZWZlckRpc3QpCi0+c2V0RGV2TW9kZSghJGlucHV0LT5nZXRPcHRpb24oJ25vLWRldicpKQotPnNldER1bXBBdXRvbG9hZGVyKCEkaW5wdXQtPmdldE9wdGlvbignbm8tYXV0b2xvYWRlcicpKQotPnNldE9wdGltaXplQXV0b2xvYWRlcigkb3B0aW1pemUpCi0+c2V0Q2xhc3NNYXBBdXRob3JpdGF0aXZlKCRhdXRob3JpdGF0aXZlKQotPnNldEFwY3VBdXRvbG9hZGVyKCRhcGN1LCAkYXBjdVByZWZpeCkKLT5zZXRJZ25vcmVQbGF0Zm9ybVJlcXVpcmVtZW50cygkaWdub3JlUGxhdGZvcm1SZXFzKQo7CgppZiAoJGlucHV0LT5nZXRPcHRpb24oJ25vLXBsdWdpbnMnKSkgewokaW5zdGFsbC0+ZGlzYWJsZVBsdWdpbnMoKTsKfQoKcmV0dXJuICRpbnN0YWxsLT5ydW4oKTsKfQp9Cjw/cGhwCgoKCgoKCgoKCgoKbmFtZXNwYWNlIENvbXBvc2VyXENvbW1hbmQ7Cgp1c2UgQ29tcG9zZXJcSnNvblxKc29uRmlsZTsKdXNlIENvbXBvc2VyXFBsdWdpblxDb21tYW5kRXZlbnQ7CnVzZSBDb21wb3NlclxQbHVnaW5cUGx1Z2luRXZlbnRzOwp1c2UgQ29tcG9zZXJcUGFja2FnZVxQYWNrYWdlSW50ZXJmYWNlOwp1c2UgQ29tcG9zZXJcUmVwb3NpdG9yeVxSZXBvc2l0b3J5SW50ZXJmYWNlOwp1c2UgU3ltZm9ueVxDb21wb25lbnRcQ29uc29sZVxIZWxwZXJcVGFibGU7CnVzZSBTeW1mb255XENvbXBvbmVudFxDb25zb2xlXElucHV0XElucHV0SW50ZXJmYWNlOwp1c2UgU3ltZm9ueVxDb21wb25lbnRcQ29uc29sZVxJbnB1dFxJbnB1dE9wdGlvbjsKdXNlIFN5bWZvbnlcQ29tcG9uZW50XENvbnNvbGVcT3V0cHV0XE91dHB1dEludGVyZmFjZTsKdXNlIFN5bWZvbnlcQ29tcG9uZW50XENvbnNvbGVcU3R5bGVcU3ltZm9ueVN0eWxlOwoKCgoKY2xhc3MgTGljZW5zZXNDb21tYW5kIGV4dGVuZHMgQmFzZUNvbW1hbmQKewpwcm90ZWN0ZWQgZnVuY3Rpb24gY29uZmlndXJlKCkKewokdGhpcwotPnNldE5hbWUoJ2xpY2Vuc2VzJykKLT5zZXREZXNjcmlwdGlvbignU2hvd3MgaW5mb3JtYXRpb24gYWJvdXQgbGljZW5zZXMgb2YgZGVwZW5kZW5jaWVzLicpCi0+c2V0RGVmaW5pdGlvbihhcnJheSgKbmV3IElucHV0T3B0aW9uKCdmb3JtYXQnLCAnZicsIElucHV0T3B0aW9uOjpWQUxVRV9SRVFVSVJFRCwgJ0Zvcm1hdCBvZiB0aGUgb3V0cHV0OiB0ZXh0LCBqc29uIG9yIHN1bW1hcnknLCAndGV4dCcpLApuZXcgSW5wdXRPcHRpb24oJ25vLWRldicsIG51bGwsIElucHV0T3B0aW9uOjpWQUxVRV9OT05FLCAnRGlzYWJsZXMgc2VhcmNoIGluIHJlcXVpcmUtZGV2IHBhY2thZ2VzLicpLAopKQotPnNldEhlbHAoCjw8PEVPVApUaGUgbGljZW5zZSBjb21tYW5kIGRpc3BsYXlzIGRldGFpbGVkIGluZm9ybWF0aW9uIGFib3V0IHRoZSBsaWNlbnNlcyBvZgp0aGUgaW5zdGFsbGVkIGRlcGVuZGVuY2llcy4KClJlYWQgbW9yZSBhdCBodHRwczovL2dldGNvbXBvc2VyLm9yZy9kb2MvMDMtY2xpLm1kI2xpY2Vuc2VzCkVPVAopCjsKfQoKcHJvdGVjdGVkIGZ1bmN0aW9uIGV4ZWN1dGUoSW5wdXRJbnRlcmZhY2UgJGlucHV0LCBPdXRwdXRJbnRlcmZhY2UgJG91dHB1dCkKewokY29tcG9zZXIgPSAkdGhpcy0+Z2V0Q29tcG9zZXIoKTsKCiRjb21tYW5kRXZlbnQgPSBuZXcgQ29tbWFuZEV2ZW50KFBsdWdpbkV2ZW50czo6Q09NTUFORCwgJ2xpY2Vuc2VzJywgJGlucHV0LCAkb3V0cHV0KTsKJGNvbXBvc2VyLT5nZXRFdmVudERpc3BhdGNoZXIoKS0+ZGlzcGF0Y2goJGNvbW1hbmRFdmVudC0+Z2V0TmFtZSgpLCAkY29tbWFuZEV2ZW50KTsKCiRyb290ID0gJGNvbXBvc2VyLT5nZXRQYWNrYWdlKCk7CiRyZXBvID0gJGNvbXBvc2VyLT5nZXRSZXBvc2l0b3J5TWFuYWdlcigpLT5nZXRMb2NhbFJlcG9zaXRvcnkoKTsKCmlmICgkaW5wdXQtPmdldE9wdGlvbignbm8tZGV2JykpIHsKJHBhY2thZ2VzID0gJHRoaXMtPmZpbHRlclJlcXVpcmVkUGFja2FnZXMoJHJlcG8sICRyb290KTsKfSBlbHNlIHsKJHBhY2thZ2VzID0gJHRoaXMtPmFwcGVuZFBhY2thZ2VzKCRyZXBvLT5nZXRQYWNrYWdlcygpLCBhcnJheSgpKTsKfQoKa3NvcnQoJHBhY2thZ2VzKTsKJGlvID0gJHRoaXMtPmdldElPKCk7Cgpzd2l0Y2ggKCRmb3JtYXQgPSAkaW5wdXQtPmdldE9wdGlvbignZm9ybWF0JykpIHsKY2FzZSAndGV4dCc6CiRpby0+d3JpdGUoJ05hbWU6IDxjb21tZW50PicuJHJvb3QtPmdldFByZXR0eU5hbWUoKS4nPC9jb21tZW50PicpOwokaW8tPndyaXRlKCdWZXJzaW9uOiA8Y29tbWVudD4nLiRyb290LT5nZXRGdWxsUHJldHR5VmVyc2lvbigpLic8L2NvbW1lbnQ+Jyk7CiRpby0+d3JpdGUoJ0xpY2Vuc2VzOiA8Y29tbWVudD4nLihpbXBsb2RlKCcsICcsICRyb290LT5nZXRMaWNlbnNlKCkpID86ICdub25lJykuJzwvY29tbWVudD4nKTsKJGlvLT53cml0ZSgnRGVwZW5kZW5jaWVzOicpOwokaW8tPndyaXRlKCcnKTsKCiR0YWJsZSA9IG5ldyBUYWJsZSgkb3V0cHV0KTsKJHRhYmxlLT5zZXRTdHlsZSgnY29tcGFjdCcpOwokdGFibGVTdHlsZSA9ICR0YWJsZS0+Z2V0U3R5bGUoKTsKaWYgKG1ldGhvZF9leGlzdHMoJHRhYmxlU3R5bGUsICdzZXRWZXJ0aWNhbEJvcmRlckNoYXJzJykpIHsKJHRhYmxlU3R5bGUtPnNldFZlcnRpY2FsQm9yZGVyQ2hhcnMoJycpOwp9IGVsc2UgewoKCiR0YWJsZVN0eWxlLT5zZXRWZXJ0aWNhbEJvcmRlckNoYXIoJycpOwp9CiR0YWJsZVN0eWxlLT5zZXRDZWxsUm93Q29udGVudEZvcm1hdCgnJXMgICcpOwokdGFibGUtPnNldEhlYWRlcnMoYXJyYXkoJ05hbWUnLCAnVmVyc2lvbicsICdMaWNlbnNlJykpOwpmb3JlYWNoICgkcGFja2FnZXMgYXMgJHBhY2thZ2UpIHsKJHRhYmxlLT5hZGRSb3coYXJyYXkoCiRwYWNrYWdlLT5nZXRQcmV0dHlOYW1lKCksCiRwYWNrYWdlLT5nZXRGdWxsUHJldHR5VmVyc2lvbigpLAppbXBsb2RlKCcsICcsICRwYWNrYWdlLT5nZXRMaWNlbnNlKCkpID86ICdub25lJywKKSk7Cn0KJHRhYmxlLT5yZW5kZXIoKTsKYnJlYWs7CgpjYXNlICdqc29uJzoKJGRlcGVuZGVuY2llcyA9IGFycmF5KCk7CmZvcmVhY2ggKCRwYWNrYWdlcyBhcyAkcGFja2FnZSkgewokZGVwZW5kZW5jaWVzWyRwYWNrYWdlLT5nZXRQcmV0dHlOYW1lKCldID0gYXJyYXkoCid2ZXJzaW9uJyA9PiAkcGFja2FnZS0+Z2V0RnVsbFByZXR0eVZlcnNpb24oKSwKJ2xpY2Vuc2UnID0+ICRwYWNrYWdlLT5nZXRMaWNlbnNlKCksCik7Cn0KCiRpby0+d3JpdGUoSnNvbkZpbGU6OmVuY29kZShhcnJheSgKJ25hbWUnID0+ICRyb290LT5nZXRQcmV0dHlOYW1lKCksCid2ZXJzaW9uJyA9PiAkcm9vdC0+Z2V0RnVsbFByZXR0eVZlcnNpb24oKSwKJ2xpY2Vuc2UnID0+ICRyb290LT5nZXRMaWNlbnNlKCksCidkZXBlbmRlbmNpZXMnID0+ICRkZXBlbmRlbmNpZXMsCikpKTsKYnJlYWs7CgpjYXNlICdzdW1tYXJ5JzoKJHVzZWRMaWNlbnNlcyA9IGFycmF5KCk7CmZvcmVhY2ggKCRwYWNrYWdlcyBhcyAkcGFja2FnZSkgewokbGljZW5zZSA9ICRwYWNrYWdlLT5nZXRMaWNlbnNlKCk7CiRsaWNlbnNlTmFtZSA9ICRsaWNlbnNlWzBdOwppZiAoIWlzc2V0KCR1c2VkTGljZW5zZXNbJGxpY2Vuc2VOYW1lXSkpIHsKJHVzZWRMaWNlbnNlc1skbGljZW5zZU5hbWVdID0gMDsKfQokdXNlZExpY2Vuc2VzWyRsaWNlbnNlTmFtZV0rKzsKfQoKCmFyc29ydCgkdXNlZExpY2Vuc2VzLCBTT1JUX05VTUVSSUMpOwoKJHJvd3MgPSBhcnJheSgpOwpmb3JlYWNoICgkdXNlZExpY2Vuc2VzIGFzICR1c2VkTGljZW5zZSA9PiAkbnVtYmVyT2ZEZXBlbmRlbmNpZXMpIHsKJHJvd3NbXSA9IGFycmF5KCR1c2VkTGljZW5zZSwgJG51bWJlck9mRGVwZW5kZW5jaWVzKTsKfQoKJHN5bWZvbnlJbyA9IG5ldyBTeW1mb255U3R5bGUoJGlucHV0LCAkb3V0cHV0KTsKJHN5bWZvbnlJby0+dGFibGUoCmFycmF5KCdMaWNlbnNlJywgJ051bWJlciBvZiBkZXBlbmRlbmNpZXMnKSwKJHJvd3MKKTsKYnJlYWs7CmRlZmF1bHQ6CnRocm93IG5ldyBcUnVudGltZUV4Y2VwdGlvbihzcHJpbnRmKCdVbnN1cHBvcnRlZCBmb3JtYXQgIiVzIi4gIFNlZSBoZWxwIGZvciBzdXBwb3J0ZWQgZm9ybWF0cy4nLCAkZm9ybWF0KSk7Cn0KCnJldHVybiAwOwp9CgoKCgoKCgoKCnByaXZhdGUgZnVuY3Rpb24gZmlsdGVyUmVxdWlyZWRQYWNrYWdlcyhSZXBvc2l0b3J5SW50ZXJmYWNlICRyZXBvLCBQYWNrYWdlSW50ZXJmYWNlICRwYWNrYWdlLCAkYnVja2V0ID0gYXJyYXkoKSkKewokcmVxdWlyZXMgPSBhcnJheV9rZXlzKCRwYWNrYWdlLT5nZXRSZXF1aXJlcygpKTsKCiRwYWNrYWdlTGlzdE5hbWVzID0gYXJyYXlfa2V5cygkYnVja2V0KTsKJHBhY2thZ2VzID0gYXJyYXlfZmlsdGVyKAokcmVwby0+Z2V0UGFja2FnZXMoKSwKZnVuY3Rpb24gKCRwYWNrYWdlKSB1c2UgKCRyZXF1aXJlcywgJHBhY2thZ2VMaXN0TmFtZXMpIHsKcmV0dXJuIGluX2FycmF5KCRwYWNrYWdlLT5nZXROYW1lKCksICRyZXF1aXJlcykgJiYgIWluX2FycmF5KCRwYWNrYWdlLT5nZXROYW1lKCksICRwYWNrYWdlTGlzdE5hbWVzKTsKfQopOwoKJGJ1Y2tldCA9ICR0aGlzLT5hcHBlbmRQYWNrYWdlcygkcGFja2FnZXMsICRidWNrZXQpOwoKZm9yZWFjaCAoJHBhY2thZ2VzIGFzICRwYWNrYWdlKSB7CiRidWNrZXQgPSAkdGhpcy0+ZmlsdGVyUmVxdWlyZWRQYWNrYWdlcygkcmVwbywgJHBhY2thZ2UsICRidWNrZXQpOwp9CgpyZXR1cm4gJGJ1Y2tldDsKfQoKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBhcHBlbmRQYWNrYWdlcyhhcnJheSAkcGFja2FnZXMsIGFycmF5ICRidWNrZXQpCnsKZm9yZWFjaCAoJHBhY2thZ2VzIGFzICRwYWNrYWdlKSB7CiRidWNrZXRbJHBhY2thZ2UtPmdldE5hbWUoKV0gPSAkcGFja2FnZTsKfQoKcmV0dXJuICRidWNrZXQ7Cn0KfQo8P3BocAoKCgoKCgoKCgoKCm5hbWVzcGFjZSBDb21wb3NlclxDb21tYW5kOwoKdXNlIFN5bWZvbnlcQ29tcG9uZW50XENvbnNvbGVcSW5wdXRcSW5wdXRJbnRlcmZhY2U7CnVzZSBTeW1mb255XENvbXBvbmVudFxDb25zb2xlXElucHV0XElucHV0QXJndW1lbnQ7CnVzZSBTeW1mb255XENvbXBvbmVudFxDb25zb2xlXElucHV0XEFycmF5SW5wdXQ7CnVzZSBTeW1mb255XENvbXBvbmVudFxDb25zb2xlXElucHV0XElucHV0T3B0aW9uOwp1c2UgU3ltZm9ueVxDb21wb25lbnRcQ29uc29sZVxPdXRwdXRcT3V0cHV0SW50ZXJmYWNlOwoKCgoKY2xhc3MgT3V0ZGF0ZWRDb21tYW5kIGV4dGVuZHMgU2hvd0NvbW1hbmQKewpwcm90ZWN0ZWQgZnVuY3Rpb24gY29uZmlndXJlKCkKewokdGhpcwotPnNldE5hbWUoJ291dGRhdGVkJykKLT5zZXREZXNjcmlwdGlvbignU2hvd3MgYSBsaXN0IG9mIGluc3RhbGxlZCBwYWNrYWdlcyB0aGF0IGhhdmUgdXBkYXRlcyBhdmFpbGFibGUsIGluY2x1ZGluZyB0aGVpciBsYXRlc3QgdmVyc2lvbi4nKQotPnNldERlZmluaXRpb24oYXJyYXkoCm5ldyBJbnB1dEFyZ3VtZW50KCdwYWNrYWdlJywgSW5wdXRBcmd1bWVudDo6T1BUSU9OQUwsICdQYWNrYWdlIHRvIGluc3BlY3QuIE9yIGEgbmFtZSBpbmNsdWRpbmcgYSB3aWxkY2FyZCAoKikgdG8gZmlsdGVyIGxpc3RzIG9mIHBhY2thZ2VzIGluc3RlYWQuJyksCm5ldyBJbnB1dE9wdGlvbignb3V0ZGF0ZWQnLCAnbycsIElucHV0T3B0aW9uOjpWQUxVRV9OT05FLCAnU2hvdyBvbmx5IHBhY2thZ2VzIHRoYXQgYXJlIG91dGRhdGVkICh0aGlzIGlzIHRoZSBkZWZhdWx0LCBidXQgcHJlc2VudCBoZXJlIGZvciBjb21wYXQgd2l0aCBgc2hvd2AnKSwKbmV3IElucHV0T3B0aW9uKCdhbGwnLCAnYScsIElucHV0T3B0aW9uOjpWQUxVRV9OT05FLCAnU2hvdyBhbGwgaW5zdGFsbGVkIHBhY2thZ2VzIHdpdGggdGhlaXIgbGF0ZXN0IHZlcnNpb25zJyksCm5ldyBJbnB1dE9wdGlvbignbG9ja2VkJywgbnVsbCwgSW5wdXRPcHRpb246OlZBTFVFX05PTkUsICdTaG93cyB1cGRhdGVzIGZvciBwYWNrYWdlcyBmcm9tIHRoZSBsb2NrIGZpbGUsIHJlZ2FyZGxlc3Mgb2Ygd2hhdCBpcyBjdXJyZW50bHkgaW4gdmVuZG9yIGRpcicpLApuZXcgSW5wdXRPcHRpb24oJ2RpcmVjdCcsICdEJywgSW5wdXRPcHRpb246OlZBTFVFX05PTkUsICdTaG93cyBvbmx5IHBhY2thZ2VzIHRoYXQgYXJlIGRpcmVjdGx5IHJlcXVpcmVkIGJ5IHRoZSByb290IHBhY2thZ2UnKSwKbmV3IElucHV0T3B0aW9uKCdzdHJpY3QnLCBudWxsLCBJbnB1dE9wdGlvbjo6VkFMVUVfTk9ORSwgJ1JldHVybiBhIG5vbi16ZXJvIGV4aXQgY29kZSB3aGVuIHRoZXJlIGFyZSBvdXRkYXRlZCBwYWNrYWdlcycpLApuZXcgSW5wdXRPcHRpb24oJ21pbm9yLW9ubHknLCAnbScsIElucHV0T3B0aW9uOjpWQUxVRV9OT05FLCAnU2hvdyBvbmx5IHBhY2thZ2VzIHRoYXQgaGF2ZSBtaW5vciBTZW1WZXItY29tcGF0aWJsZSB1cGRhdGVzLiBVc2Ugd2l0aCB0aGUgLS1vdXRkYXRlZCBvcHRpb24uJyksCm5ldyBJbnB1dE9wdGlvbignZm9ybWF0JywgJ2YnLCBJbnB1dE9wdGlvbjo6VkFMVUVfUkVRVUlSRUQsICdGb3JtYXQgb2YgdGhlIG91dHB1dDogdGV4dCBvciBqc29uJywgJ3RleHQnKSwKbmV3IElucHV0T3B0aW9uKCdpZ25vcmUnLCBudWxsLCBJbnB1dE9wdGlvbjo6VkFMVUVfUkVRVUlSRUQgfCBJbnB1dE9wdGlvbjo6VkFMVUVfSVNfQVJSQVksICdJZ25vcmUgc3BlY2lmaWVkIHBhY2thZ2UocykuIFVzZSBpdCB3aXRoIHRoZSAtLW91dGRhdGVkIG9wdGlvbiBpZiB5b3UgZG9uXCd0IHdhbnQgdG8gYmUgaW5mb3JtZWQgYWJvdXQgbmV3IHZlcnNpb25zIG9mIHNvbWUgcGFja2FnZXMuJyksCm5ldyBJbnB1dE9wdGlvbignbm8tZGV2JywgbnVsbCwgSW5wdXRPcHRpb246OlZBTFVFX05PTkUsICdEaXNhYmxlcyBzZWFyY2ggaW4gcmVxdWlyZS1kZXYgcGFja2FnZXMuJyksCikpCi0+c2V0SGVscCgKPDw8RU9UClRoZSBvdXRkYXRlZCBjb21tYW5kIGlzIGp1c3QgYSBwcm94eSBmb3IgYGNvbXBvc2VyIHNob3cgLWxgCgpUaGUgY29sb3IgY29kaW5nIChvciBzaWduYWdlIGlmIHlvdSBoYXZlIEFOU0kgY29sb3JzIGRpc2FibGVkKSBmb3IgZGVwZW5kZW5jeSB2ZXJzaW9ucyBpcyBhcyBzdWNoOgoKLSA8aW5mbz5ncmVlbjwvaW5mbz4gKD0pOiBEZXBlbmRlbmN5IGlzIGluIHRoZSBsYXRlc3QgdmVyc2lvbiBhbmQgaXMgdXAgdG8gZGF0ZS4KLSA8Y29tbWVudD55ZWxsb3c8L2NvbW1lbnQ+ICh+KTogRGVwZW5kZW5jeSBoYXMgYSBuZXcgdmVyc2lvbiBhdmFpbGFibGUgdGhhdCBpbmNsdWRlcyBiYWNrd2FyZHMKICBjb21wYXRpYmlsaXR5IGJyZWFrcyBhY2NvcmRpbmcgdG8gc2VtdmVyLCBzbyB1cGdyYWRlIHdoZW4geW91IGNhbiBidXQgaXQKICBtYXkgaW52b2x2ZSB3b3JrLgotIDxoaWdobGlnaHQ+cmVkPC9oaWdobGlnaHQ+ICghKTogRGVwZW5kZW5jeSBoYXMgYSBuZXcgdmVyc2lvbiB0aGF0IGlzIHNlbXZlci1jb21wYXRpYmxlIGFuZCB5b3Ugc2hvdWxkIHVwZ3JhZGUgaXQuCgpSZWFkIG1vcmUgYXQgaHR0cHM6Ly9nZXRjb21wb3Nlci5vcmcvZG9jLzAzLWNsaS5tZCNvdXRkYXRlZApFT1QKKQo7Cn0KCnByb3RlY3RlZCBmdW5jdGlvbiBleGVjdXRlKElucHV0SW50ZXJmYWNlICRpbnB1dCwgT3V0cHV0SW50ZXJmYWNlICRvdXRwdXQpCnsKJGFyZ3MgPSBhcnJheSgKJ2NvbW1hbmQnID0+ICdzaG93JywKJy0tbGF0ZXN0JyA9PiB0cnVlLAopOwppZiAoISRpbnB1dC0+Z2V0T3B0aW9uKCdhbGwnKSkgewokYXJnc1snLS1vdXRkYXRlZCddID0gdHJ1ZTsKfQppZiAoJGlucHV0LT5nZXRPcHRpb24oJ2RpcmVjdCcpKSB7CiRhcmdzWyctLWRpcmVjdCddID0gdHJ1ZTsKfQppZiAoJGlucHV0LT5nZXRBcmd1bWVudCgncGFja2FnZScpKSB7CiRhcmdzWydwYWNrYWdlJ10gPSAkaW5wdXQtPmdldEFyZ3VtZW50KCdwYWNrYWdlJyk7Cn0KaWYgKCRpbnB1dC0+Z2V0T3B0aW9uKCdzdHJpY3QnKSkgewokYXJnc1snLS1zdHJpY3QnXSA9IHRydWU7Cn0KaWYgKCRpbnB1dC0+Z2V0T3B0aW9uKCdtaW5vci1vbmx5JykpIHsKJGFyZ3NbJy0tbWlub3Itb25seSddID0gdHJ1ZTsKfQppZiAoJGlucHV0LT5nZXRPcHRpb24oJ2xvY2tlZCcpKSB7CiRhcmdzWyctLWxvY2tlZCddID0gdHJ1ZTsKfQppZiAoJGlucHV0LT5nZXRPcHRpb24oJ25vLWRldicpKSB7CiRhcmdzWyctLW5vLWRldiddID0gdHJ1ZTsKfQokYXJnc1snLS1mb3JtYXQnXSA9ICRpbnB1dC0+Z2V0T3B0aW9uKCdmb3JtYXQnKTsKJGFyZ3NbJy0taWdub3JlJ10gPSAkaW5wdXQtPmdldE9wdGlvbignaWdub3JlJyk7CgokaW5wdXQgPSBuZXcgQXJyYXlJbnB1dCgkYXJncyk7CgpyZXR1cm4gJHRoaXMtPmdldEFwcGxpY2F0aW9uKCktPnJ1bigkaW5wdXQsICRvdXRwdXQpOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gaXNQcm94eUNvbW1hbmQoKQp7CnJldHVybiB0cnVlOwp9Cn0KPD9waHAKCgoKCgoKCgoKCgpuYW1lc3BhY2UgQ29tcG9zZXJcQ29tbWFuZDsKCnVzZSBTeW1mb255XENvbXBvbmVudFxDb25zb2xlXElucHV0XElucHV0SW50ZXJmYWNlOwp1c2UgU3ltZm9ueVxDb21wb25lbnRcQ29uc29sZVxPdXRwdXRcT3V0cHV0SW50ZXJmYWNlOwp1c2UgU3ltZm9ueVxDb21wb25lbnRcQ29uc29sZVxJbnB1dFxJbnB1dEFyZ3VtZW50Owp1c2UgU3ltZm9ueVxDb21wb25lbnRcQ29uc29sZVxJbnB1dFxJbnB1dE9wdGlvbjsKCgoKCmNsYXNzIFByb2hpYml0c0NvbW1hbmQgZXh0ZW5kcyBCYXNlRGVwZW5kZW5jeUNvbW1hbmQKewoKCgpwcm90ZWN0ZWQgZnVuY3Rpb24gY29uZmlndXJlKCkKewokdGhpcwotPnNldE5hbWUoJ3Byb2hpYml0cycpCi0+c2V0QWxpYXNlcyhhcnJheSgnd2h5LW5vdCcpKQotPnNldERlc2NyaXB0aW9uKCdTaG93cyB3aGljaCBwYWNrYWdlcyBwcmV2ZW50IHRoZSBnaXZlbiBwYWNrYWdlIGZyb20gYmVpbmcgaW5zdGFsbGVkLicpCi0+c2V0RGVmaW5pdGlvbihhcnJheSgKbmV3IElucHV0QXJndW1lbnQoc2VsZjo6QVJHVU1FTlRfUEFDS0FHRSwgSW5wdXRBcmd1bWVudDo6UkVRVUlSRUQsICdQYWNrYWdlIHRvIGluc3BlY3QnKSwKbmV3IElucHV0QXJndW1lbnQoc2VsZjo6QVJHVU1FTlRfQ09OU1RSQUlOVCwgSW5wdXRBcmd1bWVudDo6UkVRVUlSRUQsICdWZXJzaW9uIGNvbnN0cmFpbnQsIHdoaWNoIHZlcnNpb24geW91IGV4cGVjdGVkIHRvIGJlIGluc3RhbGxlZCcpLApuZXcgSW5wdXRPcHRpb24oc2VsZjo6T1BUSU9OX1JFQ1VSU0lWRSwgJ3InLCBJbnB1dE9wdGlvbjo6VkFMVUVfTk9ORSwgJ1JlY3Vyc2l2ZWx5IHJlc29sdmVzIHVwIHRvIHRoZSByb290IHBhY2thZ2UnKSwKbmV3IElucHV0T3B0aW9uKHNlbGY6Ok9QVElPTl9UUkVFLCAndCcsIElucHV0T3B0aW9uOjpWQUxVRV9OT05FLCAnUHJpbnRzIHRoZSByZXN1bHRzIGFzIGEgbmVzdGVkIHRyZWUnKSwKKSkKLT5zZXRIZWxwKAo8PDxFT1QKRGlzcGxheXMgZGV0YWlsZWQgaW5mb3JtYXRpb24gYWJvdXQgd2h5IGEgcGFja2FnZSBjYW5ub3QgYmUgaW5zdGFsbGVkLgoKPGluZm8+cGhwIGNvbXBvc2VyLnBoYXIgcHJvaGliaXRzIGNvbXBvc2VyL2NvbXBvc2VyPC9pbmZvPgoKUmVhZCBtb3JlIGF0IGh0dHBzOi8vZ2V0Y29tcG9zZXIub3JnL2RvYy8wMy1jbGkubWQjcHJvaGliaXRzLXdoeS1ub3QtCkVPVAopCjsKfQoKCgoKCgoKCnByb3RlY3RlZCBmdW5jdGlvbiBleGVjdXRlKElucHV0SW50ZXJmYWNlICRpbnB1dCwgT3V0cHV0SW50ZXJmYWNlICRvdXRwdXQpCnsKcmV0dXJuIHBhcmVudDo6ZG9FeGVjdXRlKCRpbnB1dCwgJG91dHB1dCwgdHJ1ZSk7Cn0KfQo8P3BocAoKCgoKCgoKCgoKCm5hbWVzcGFjZSBDb21wb3NlclxDb21tYW5kOwoKdXNlIENvbXBvc2VyXERlcGVuZGVuY3lSZXNvbHZlclxPcGVyYXRpb25cSW5zdGFsbE9wZXJhdGlvbjsKdXNlIENvbXBvc2VyXERlcGVuZGVuY3lSZXNvbHZlclxPcGVyYXRpb25cVW5pbnN0YWxsT3BlcmF0aW9uOwp1c2UgQ29tcG9zZXJcRGVwZW5kZW5jeVJlc29sdmVyXFRyYW5zYWN0aW9uOwp1c2UgQ29tcG9zZXJcUGFja2FnZVxBbGlhc1BhY2thZ2U7CnVzZSBDb21wb3NlclxQYWNrYWdlXEJhc2VQYWNrYWdlOwp1c2UgQ29tcG9zZXJcUGx1Z2luXENvbW1hbmRFdmVudDsKdXNlIENvbXBvc2VyXFBsdWdpblxQbHVnaW5FdmVudHM7CnVzZSBTeW1mb255XENvbXBvbmVudFxDb25zb2xlXElucHV0XElucHV0SW50ZXJmYWNlOwp1c2UgU3ltZm9ueVxDb21wb25lbnRcQ29uc29sZVxJbnB1dFxJbnB1dE9wdGlvbjsKdXNlIFN5bWZvbnlcQ29tcG9uZW50XENvbnNvbGVcSW5wdXRcSW5wdXRBcmd1bWVudDsKdXNlIFN5bWZvbnlcQ29tcG9uZW50XENvbnNvbGVcT3V0cHV0XE91dHB1dEludGVyZmFjZTsKCgoKCmNsYXNzIFJlaW5zdGFsbENvbW1hbmQgZXh0ZW5kcyBCYXNlQ29tbWFuZAp7CnByb3RlY3RlZCBmdW5jdGlvbiBjb25maWd1cmUoKQp7CiR0aGlzCi0+c2V0TmFtZSgncmVpbnN0YWxsJykKLT5zZXREZXNjcmlwdGlvbignVW5pbnN0YWxscyBhbmQgcmVpbnN0YWxscyB0aGUgZ2l2ZW4gcGFja2FnZSBuYW1lcycpCi0+c2V0RGVmaW5pdGlvbihhcnJheSgKbmV3IElucHV0T3B0aW9uKCdwcmVmZXItc291cmNlJywgbnVsbCwgSW5wdXRPcHRpb246OlZBTFVFX05PTkUsICdGb3JjZXMgaW5zdGFsbGF0aW9uIGZyb20gcGFja2FnZSBzb3VyY2VzIHdoZW4gcG9zc2libGUsIGluY2x1ZGluZyBWQ1MgaW5mb3JtYXRpb24uJyksCm5ldyBJbnB1dE9wdGlvbigncHJlZmVyLWRpc3QnLCBudWxsLCBJbnB1dE9wdGlvbjo6VkFMVUVfTk9ORSwgJ0ZvcmNlcyBpbnN0YWxsYXRpb24gZnJvbSBwYWNrYWdlIGRpc3QgKGRlZmF1bHQgYmVoYXZpb3IpLicpLApuZXcgSW5wdXRPcHRpb24oJ3ByZWZlci1pbnN0YWxsJywgbnVsbCwgSW5wdXRPcHRpb246OlZBTFVFX1JFUVVJUkVELCAnRm9yY2VzIGluc3RhbGxhdGlvbiBmcm9tIHBhY2thZ2UgZGlzdHxzb3VyY2V8YXV0byAoYXV0byBjaG9vc2VzIHNvdXJjZSBmb3IgZGV2IHZlcnNpb25zLCBkaXN0IGZvciB0aGUgcmVzdCkuJyksCm5ldyBJbnB1dE9wdGlvbignbm8tYXV0b2xvYWRlcicsIG51bGwsIElucHV0T3B0aW9uOjpWQUxVRV9OT05FLCAnU2tpcHMgYXV0b2xvYWRlciBnZW5lcmF0aW9uJyksCm5ldyBJbnB1dE9wdGlvbignbm8tc2NyaXB0cycsIG51bGwsIElucHV0T3B0aW9uOjpWQUxVRV9OT05FLCAnU2tpcHMgdGhlIGV4ZWN1dGlvbiBvZiBhbGwgc2NyaXB0cyBkZWZpbmVkIGluIGNvbXBvc2VyLmpzb24gZmlsZS4nKSwKbmV3IElucHV0T3B0aW9uKCduby1wcm9ncmVzcycsIG51bGwsIElucHV0T3B0aW9uOjpWQUxVRV9OT05FLCAnRG8gbm90IG91dHB1dCBkb3dubG9hZCBwcm9ncmVzcy4nKSwKbmV3IElucHV0T3B0aW9uKCdvcHRpbWl6ZS1hdXRvbG9hZGVyJywgJ28nLCBJbnB1dE9wdGlvbjo6VkFMVUVfTk9ORSwgJ09wdGltaXplIGF1dG9sb2FkZXIgZHVyaW5nIGF1dG9sb2FkZXIgZHVtcCcpLApuZXcgSW5wdXRPcHRpb24oJ2NsYXNzbWFwLWF1dGhvcml0YXRpdmUnLCAnYScsIElucHV0T3B0aW9uOjpWQUxVRV9OT05FLCAnQXV0b2xvYWQgY2xhc3NlcyBmcm9tIHRoZSBjbGFzc21hcCBvbmx5LiBJbXBsaWNpdGx5IGVuYWJsZXMgYC0tb3B0aW1pemUtYXV0b2xvYWRlcmAuJyksCm5ldyBJbnB1dE9wdGlvbignYXBjdS1hdXRvbG9hZGVyJywgbnVsbCwgSW5wdXRPcHRpb246OlZBTFVFX05PTkUsICdVc2UgQVBDdSB0byBjYWNoZSBmb3VuZC9ub3QtZm91bmQgY2xhc3Nlcy4nKSwKbmV3IElucHV0T3B0aW9uKCdhcGN1LWF1dG9sb2FkZXItcHJlZml4JywgbnVsbCwgSW5wdXRPcHRpb246OlZBTFVFX1JFUVVJUkVELCAnVXNlIGEgY3VzdG9tIHByZWZpeCBmb3IgdGhlIEFQQ3UgYXV0b2xvYWRlciBjYWNoZS4gSW1wbGljaXRseSBlbmFibGVzIC0tYXBjdS1hdXRvbG9hZGVyJyksCm5ldyBJbnB1dE9wdGlvbignaWdub3JlLXBsYXRmb3JtLXJlcScsIG51bGwsIElucHV0T3B0aW9uOjpWQUxVRV9SRVFVSVJFRCB8IElucHV0T3B0aW9uOjpWQUxVRV9JU19BUlJBWSwgJ0lnbm9yZSBhIHNwZWNpZmljIHBsYXRmb3JtIHJlcXVpcmVtZW50IChwaHAgJiBleHQtIHBhY2thZ2VzKS4nKSwKbmV3IElucHV0T3B0aW9uKCdpZ25vcmUtcGxhdGZvcm0tcmVxcycsIG51bGwsIElucHV0T3B0aW9uOjpWQUxVRV9OT05FLCAnSWdub3JlIGFsbCBwbGF0Zm9ybSByZXF1aXJlbWVudHMgKHBocCAmIGV4dC0gcGFja2FnZXMpLicpLApuZXcgSW5wdXRBcmd1bWVudCgncGFja2FnZXMnLCBJbnB1dEFyZ3VtZW50OjpJU19BUlJBWSB8IElucHV0QXJndW1lbnQ6OlJFUVVJUkVELCAnTGlzdCBvZiBwYWNrYWdlIG5hbWVzIHRvIHJlaW5zdGFsbCwgY2FuIGluY2x1ZGUgYSB3aWxkY2FyZCAoKikgdG8gbWF0Y2ggYW55IHN1YnN0cmluZy4nKSwKKSkKLT5zZXRIZWxwKAo8PDxFT1QKVGhlIDxpbmZvPnJlaW5zdGFsbDwvaW5mbz4gY29tbWFuZCBsb29rcyB1cCBpbnN0YWxsZWQgcGFja2FnZXMgYnkgbmFtZSwKdW5pbnN0YWxscyB0aGVtIGFuZCByZWluc3RhbGxzIHRoZW0uIFRoaXMgbGV0cyB5b3UgZG8gYSBjbGVhbiBpbnN0YWxsCm9mIGEgcGFja2FnZSBpZiB5b3UgbWVzc2VkIHdpdGggaXRzIGZpbGVzLCBvciBpZiB5b3Ugd2lzaCB0byBjaGFuZ2UKdGhlIGluc3RhbGxhdGlvbiB0eXBlIHVzaW5nIC0tcHJlZmVyLWluc3RhbGwuCgo8aW5mbz5waHAgY29tcG9zZXIucGhhciByZWluc3RhbGwgYWNtZS9mb28gImFjbWUvYmFyLSoiPC9pbmZvPgoKUmVhZCBtb3JlIGF0IGh0dHBzOi8vZ2V0Y29tcG9zZXIub3JnL2RvYy8wMy1jbGkubWQjcmVpbnN0YWxsCkVPVAopCjsKfQoKcHJvdGVjdGVkIGZ1bmN0aW9uIGV4ZWN1dGUoSW5wdXRJbnRlcmZhY2UgJGlucHV0LCBPdXRwdXRJbnRlcmZhY2UgJG91dHB1dCkKewokaW8gPSAkdGhpcy0+Z2V0SU8oKTsKCiRjb21wb3NlciA9ICR0aGlzLT5nZXRDb21wb3Nlcih0cnVlLCAkaW5wdXQtPmdldE9wdGlvbignbm8tcGx1Z2lucycpKTsKJGNvbXBvc2VyLT5nZXRFdmVudERpc3BhdGNoZXIoKS0+c2V0UnVuU2NyaXB0cyghJGlucHV0LT5nZXRPcHRpb24oJ25vLXNjcmlwdHMnKSk7CgokbG9jYWxSZXBvID0gJGNvbXBvc2VyLT5nZXRSZXBvc2l0b3J5TWFuYWdlcigpLT5nZXRMb2NhbFJlcG9zaXRvcnkoKTsKJHBhY2thZ2VzVG9SZWluc3RhbGwgPSBhcnJheSgpOwokcGFja2FnZU5hbWVzVG9SZWluc3RhbGwgPSBhcnJheSgpOwpmb3JlYWNoICgkaW5wdXQtPmdldEFyZ3VtZW50KCdwYWNrYWdlcycpIGFzICRwYXR0ZXJuKSB7CiRwYXR0ZXJuUmVnZXhwID0gQmFzZVBhY2thZ2U6OnBhY2thZ2VOYW1lVG9SZWdleHAoJHBhdHRlcm4pOwokbWF0Y2hlZCA9IGZhbHNlOwpmb3JlYWNoICgkbG9jYWxSZXBvLT5nZXRDYW5vbmljYWxQYWNrYWdlcygpIGFzICRwYWNrYWdlKSB7CmlmIChwcmVnX21hdGNoKCRwYXR0ZXJuUmVnZXhwLCAkcGFja2FnZS0+Z2V0TmFtZSgpKSkgewokbWF0Y2hlZCA9IHRydWU7CiRwYWNrYWdlc1RvUmVpbnN0YWxsW10gPSAkcGFja2FnZTsKJHBhY2thZ2VOYW1lc1RvUmVpbnN0YWxsW10gPSAkcGFja2FnZS0+Z2V0TmFtZSgpOwp9Cn0KCmlmICghJG1hdGNoZWQpIHsKJGlvLT53cml0ZUVycm9yKCc8d2FybmluZz5QYXR0ZXJuICInIC4gJHBhdHRlcm4gLiAnIiBkb2VzIG5vdCBtYXRjaCBhbnkgY3VycmVudGx5IGluc3RhbGxlZCBwYWNrYWdlcy48L3dhcm5pbmc+Jyk7Cn0KfQoKaWYgKCEkcGFja2FnZXNUb1JlaW5zdGFsbCkgewokaW8tPndyaXRlRXJyb3IoJzx3YXJuaW5nPkZvdW5kIG5vIHBhY2thZ2VzIHRvIHJlaW5zdGFsbCwgYWJvcnRpbmcuPC93YXJuaW5nPicpOwoKcmV0dXJuIDE7Cn0KCiR1bmluc3RhbGxPcGVyYXRpb25zID0gYXJyYXkoKTsKZm9yZWFjaCAoJHBhY2thZ2VzVG9SZWluc3RhbGwgYXMgJHBhY2thZ2UpIHsKJHVuaW5zdGFsbE9wZXJhdGlvbnNbXSA9IG5ldyBVbmluc3RhbGxPcGVyYXRpb24oJHBhY2thZ2UpOwp9CgoKJHByZXNlbnRQYWNrYWdlcyA9ICRsb2NhbFJlcG8tPmdldFBhY2thZ2VzKCk7CiRyZXN1bHRQYWNrYWdlcyA9ICRwcmVzZW50UGFja2FnZXM7CmZvcmVhY2ggKCRwcmVzZW50UGFja2FnZXMgYXMgJGluZGV4ID0+ICRwYWNrYWdlKSB7CmlmIChpbl9hcnJheSgkcGFja2FnZS0+Z2V0TmFtZSgpLCAkcGFja2FnZU5hbWVzVG9SZWluc3RhbGwsIHRydWUpKSB7CnVuc2V0KCRwcmVzZW50UGFja2FnZXNbJGluZGV4XSk7Cn0KfQokdHJhbnNhY3Rpb24gPSBuZXcgVHJhbnNhY3Rpb24oJHByZXNlbnRQYWNrYWdlcywgJHJlc3VsdFBhY2thZ2VzKTsKJGluc3RhbGxPcGVyYXRpb25zID0gJHRyYW5zYWN0aW9uLT5nZXRPcGVyYXRpb25zKCk7CgoKJGluc3RhbGxPcmRlciA9IGFycmF5KCk7CmZvcmVhY2ggKCRpbnN0YWxsT3BlcmF0aW9ucyBhcyAkaW5kZXggPT4gJG9wKSB7CmlmICgkb3AgaW5zdGFuY2VvZiBJbnN0YWxsT3BlcmF0aW9uICYmICEkb3AtPmdldFBhY2thZ2UoKSBpbnN0YW5jZW9mIEFsaWFzUGFja2FnZSkgewokaW5zdGFsbE9yZGVyWyRvcC0+Z2V0UGFja2FnZSgpLT5nZXROYW1lKCldID0gJGluZGV4Owp9Cn0KdXNvcnQoJHVuaW5zdGFsbE9wZXJhdGlvbnMsIGZ1bmN0aW9uICgkYSwgJGIpIHVzZSAoJGluc3RhbGxPcmRlcikgewpyZXR1cm4gJGluc3RhbGxPcmRlclskYi0+Z2V0UGFja2FnZSgpLT5nZXROYW1lKCldIC0gJGluc3RhbGxPcmRlclskYS0+Z2V0UGFja2FnZSgpLT5nZXROYW1lKCldOwp9KTsKCiRjb21tYW5kRXZlbnQgPSBuZXcgQ29tbWFuZEV2ZW50KFBsdWdpbkV2ZW50czo6Q09NTUFORCwgJ3JlaW5zdGFsbCcsICRpbnB1dCwgJG91dHB1dCk7CiRjb21wb3Nlci0+Z2V0RXZlbnREaXNwYXRjaGVyKCktPmRpc3BhdGNoKCRjb21tYW5kRXZlbnQtPmdldE5hbWUoKSwgJGNvbW1hbmRFdmVudCk7CgokY29uZmlnID0gJGNvbXBvc2VyLT5nZXRDb25maWcoKTsKbGlzdCgkcHJlZmVyU291cmNlLCAkcHJlZmVyRGlzdCkgPSAkdGhpcy0+Z2V0UHJlZmVycmVkSW5zdGFsbE9wdGlvbnMoJGNvbmZpZywgJGlucHV0KTsKCiRpbnN0YWxsYXRpb25NYW5hZ2VyID0gJGNvbXBvc2VyLT5nZXRJbnN0YWxsYXRpb25NYW5hZ2VyKCk7CiRkb3dubG9hZE1hbmFnZXIgPSAkY29tcG9zZXItPmdldERvd25sb2FkTWFuYWdlcigpOwokcGFja2FnZSA9ICRjb21wb3Nlci0+Z2V0UGFja2FnZSgpOwoKJGlnbm9yZVBsYXRmb3JtUmVxcyA9ICRpbnB1dC0+Z2V0T3B0aW9uKCdpZ25vcmUtcGxhdGZvcm0tcmVxcycpID86ICgkaW5wdXQtPmdldE9wdGlvbignaWdub3JlLXBsYXRmb3JtLXJlcScpID86IGZhbHNlKTsKCiRpbnN0YWxsYXRpb25NYW5hZ2VyLT5zZXRPdXRwdXRQcm9ncmVzcyghJGlucHV0LT5nZXRPcHRpb24oJ25vLXByb2dyZXNzJykpOwppZiAoJGlucHV0LT5nZXRPcHRpb24oJ25vLXBsdWdpbnMnKSkgewokaW5zdGFsbGF0aW9uTWFuYWdlci0+ZGlzYWJsZVBsdWdpbnMoKTsKfQoKJGRvd25sb2FkTWFuYWdlci0+c2V0UHJlZmVyU291cmNlKCRwcmVmZXJTb3VyY2UpOwokZG93bmxvYWRNYW5hZ2VyLT5zZXRQcmVmZXJEaXN0KCRwcmVmZXJEaXN0KTsKCiRpbnN0YWxsYXRpb25NYW5hZ2VyLT5leGVjdXRlKCRsb2NhbFJlcG8sICR1bmluc3RhbGxPcGVyYXRpb25zLCB0cnVlKTsKJGluc3RhbGxhdGlvbk1hbmFnZXItPmV4ZWN1dGUoJGxvY2FsUmVwbywgJGluc3RhbGxPcGVyYXRpb25zLCB0cnVlKTsKCmlmICghJGlucHV0LT5nZXRPcHRpb24oJ25vLWF1dG9sb2FkZXInKSkgewokb3B0aW1pemUgPSAkaW5wdXQtPmdldE9wdGlvbignb3B0aW1pemUtYXV0b2xvYWRlcicpIHx8ICRjb25maWctPmdldCgnb3B0aW1pemUtYXV0b2xvYWRlcicpOwokYXV0aG9yaXRhdGl2ZSA9ICRpbnB1dC0+Z2V0T3B0aW9uKCdjbGFzc21hcC1hdXRob3JpdGF0aXZlJykgfHwgJGNvbmZpZy0+Z2V0KCdjbGFzc21hcC1hdXRob3JpdGF0aXZlJyk7CiRhcGN1UHJlZml4ID0gJGlucHV0LT5nZXRPcHRpb24oJ2FwY3UtYXV0b2xvYWRlci1wcmVmaXgnKTsKJGFwY3UgPSAkYXBjdVByZWZpeCAhPT0gbnVsbCB8fCAkaW5wdXQtPmdldE9wdGlvbignYXBjdS1hdXRvbG9hZGVyJykgfHwgJGNvbmZpZy0+Z2V0KCdhcGN1LWF1dG9sb2FkZXInKTsKCiRnZW5lcmF0b3IgPSAkY29tcG9zZXItPmdldEF1dG9sb2FkR2VuZXJhdG9yKCk7CiRnZW5lcmF0b3ItPnNldENsYXNzTWFwQXV0aG9yaXRhdGl2ZSgkYXV0aG9yaXRhdGl2ZSk7CiRnZW5lcmF0b3ItPnNldEFwY3UoJGFwY3UsICRhcGN1UHJlZml4KTsKJGdlbmVyYXRvci0+c2V0SWdub3JlUGxhdGZvcm1SZXF1aXJlbWVudHMoJGlnbm9yZVBsYXRmb3JtUmVxcyk7CiRnZW5lcmF0b3ItPmR1bXAoJGNvbmZpZywgJGxvY2FsUmVwbywgJHBhY2thZ2UsICRpbnN0YWxsYXRpb25NYW5hZ2VyLCAnY29tcG9zZXInLCAkb3B0aW1pemUpOwp9CgpyZXR1cm4gMDsKfQp9Cjw/cGhwCgoKCgoKCgoKCgoKbmFtZXNwYWNlIENvbXBvc2VyXENvbW1hbmQ7Cgp1c2UgQ29tcG9zZXJcQ29uZmlnXEpzb25Db25maWdTb3VyY2U7CnVzZSBDb21wb3NlclxEZXBlbmRlbmN5UmVzb2x2ZXJcUmVxdWVzdDsKdXNlIENvbXBvc2VyXEluc3RhbGxlcjsKdXNlIENvbXBvc2VyXFBsdWdpblxDb21tYW5kRXZlbnQ7CnVzZSBDb21wb3NlclxQbHVnaW5cUGx1Z2luRXZlbnRzOwp1c2UgQ29tcG9zZXJcSnNvblxKc29uRmlsZTsKdXNlIENvbXBvc2VyXEZhY3Rvcnk7CnVzZSBTeW1mb255XENvbXBvbmVudFxDb25zb2xlXElucHV0XElucHV0SW50ZXJmYWNlOwp1c2UgU3ltZm9ueVxDb21wb25lbnRcQ29uc29sZVxJbnB1dFxJbnB1dE9wdGlvbjsKdXNlIFN5bWZvbnlcQ29tcG9uZW50XENvbnNvbGVcSW5wdXRcSW5wdXRBcmd1bWVudDsKdXNlIFN5bWZvbnlcQ29tcG9uZW50XENvbnNvbGVcT3V0cHV0XE91dHB1dEludGVyZmFjZTsKdXNlIENvbXBvc2VyXFBhY2thZ2VcQmFzZVBhY2thZ2U7CgoKCgoKY2xhc3MgUmVtb3ZlQ29tbWFuZCBleHRlbmRzIEJhc2VDb21tYW5kCnsKcHJvdGVjdGVkIGZ1bmN0aW9uIGNvbmZpZ3VyZSgpCnsKJHRoaXMKLT5zZXROYW1lKCdyZW1vdmUnKQotPnNldERlc2NyaXB0aW9uKCdSZW1vdmVzIGEgcGFja2FnZSBmcm9tIHRoZSByZXF1aXJlIG9yIHJlcXVpcmUtZGV2LicpCi0+c2V0RGVmaW5pdGlvbihhcnJheSgKbmV3IElucHV0QXJndW1lbnQoJ3BhY2thZ2VzJywgSW5wdXRBcmd1bWVudDo6SVNfQVJSQVkgfCBJbnB1dEFyZ3VtZW50OjpSRVFVSVJFRCwgJ1BhY2thZ2VzIHRoYXQgc2hvdWxkIGJlIHJlbW92ZWQuJyksCm5ldyBJbnB1dE9wdGlvbignZGV2JywgbnVsbCwgSW5wdXRPcHRpb246OlZBTFVFX05PTkUsICdSZW1vdmVzIGEgcGFja2FnZSBmcm9tIHRoZSByZXF1aXJlLWRldiBzZWN0aW9uLicpLApuZXcgSW5wdXRPcHRpb24oJ2RyeS1ydW4nLCBudWxsLCBJbnB1dE9wdGlvbjo6VkFMVUVfTk9ORSwgJ091dHB1dHMgdGhlIG9wZXJhdGlvbnMgYnV0IHdpbGwgbm90IGV4ZWN1dGUgYW55dGhpbmcgKGltcGxpY2l0bHkgZW5hYmxlcyAtLXZlcmJvc2UpLicpLApuZXcgSW5wdXRPcHRpb24oJ25vLXByb2dyZXNzJywgbnVsbCwgSW5wdXRPcHRpb246OlZBTFVFX05PTkUsICdEbyBub3Qgb3V0cHV0IGRvd25sb2FkIHByb2dyZXNzLicpLApuZXcgSW5wdXRPcHRpb24oJ25vLXVwZGF0ZScsIG51bGwsIElucHV0T3B0aW9uOjpWQUxVRV9OT05FLCAnRGlzYWJsZXMgdGhlIGF1dG9tYXRpYyB1cGRhdGUgb2YgdGhlIGRlcGVuZGVuY2llcyAoaW1wbGllcyAtLW5vLWluc3RhbGwpLicpLApuZXcgSW5wdXRPcHRpb24oJ25vLWluc3RhbGwnLCBudWxsLCBJbnB1dE9wdGlvbjo6VkFMVUVfTk9ORSwgJ1NraXAgdGhlIGluc3RhbGwgc3RlcCBhZnRlciB1cGRhdGluZyB0aGUgY29tcG9zZXIubG9jayBmaWxlLicpLApuZXcgSW5wdXRPcHRpb24oJ25vLXNjcmlwdHMnLCBudWxsLCBJbnB1dE9wdGlvbjo6VkFMVUVfTk9ORSwgJ1NraXBzIHRoZSBleGVjdXRpb24gb2YgYWxsIHNjcmlwdHMgZGVmaW5lZCBpbiBjb21wb3Nlci5qc29uIGZpbGUuJyksCm5ldyBJbnB1dE9wdGlvbigndXBkYXRlLW5vLWRldicsIG51bGwsIElucHV0T3B0aW9uOjpWQUxVRV9OT05FLCAnUnVuIHRoZSBkZXBlbmRlbmN5IHVwZGF0ZSB3aXRoIHRoZSAtLW5vLWRldiBvcHRpb24uJyksCm5ldyBJbnB1dE9wdGlvbigndXBkYXRlLXdpdGgtZGVwZW5kZW5jaWVzJywgJ3cnLCBJbnB1dE9wdGlvbjo6VkFMVUVfTk9ORSwgJ0FsbG93cyBpbmhlcml0ZWQgZGVwZW5kZW5jaWVzIHRvIGJlIHVwZGF0ZWQgd2l0aCBleHBsaWNpdCBkZXBlbmRlbmNpZXMuIChEZXByZWNyYXRlZCwgaXMgbm93IGRlZmF1bHQgYmVoYXZpb3IpJyksCm5ldyBJbnB1dE9wdGlvbigndXBkYXRlLXdpdGgtYWxsLWRlcGVuZGVuY2llcycsICdXJywgSW5wdXRPcHRpb246OlZBTFVFX05PTkUsICdBbGxvd3MgYWxsIGluaGVyaXRlZCBkZXBlbmRlbmNpZXMgdG8gYmUgdXBkYXRlZCwgaW5jbHVkaW5nIHRob3NlIHRoYXQgYXJlIHJvb3QgcmVxdWlyZW1lbnRzLicpLApuZXcgSW5wdXRPcHRpb24oJ3dpdGgtYWxsLWRlcGVuZGVuY2llcycsIG51bGwsIElucHV0T3B0aW9uOjpWQUxVRV9OT05FLCAnQWxpYXMgZm9yIC0tdXBkYXRlLXdpdGgtYWxsLWRlcGVuZGVuY2llcycpLApuZXcgSW5wdXRPcHRpb24oJ25vLXVwZGF0ZS13aXRoLWRlcGVuZGVuY2llcycsIG51bGwsIElucHV0T3B0aW9uOjpWQUxVRV9OT05FLCAnRG9lcyBub3QgYWxsb3cgaW5oZXJpdGVkIGRlcGVuZGVuY2llcyB0byBiZSB1cGRhdGVkIHdpdGggZXhwbGljaXQgZGVwZW5kZW5jaWVzLicpLApuZXcgSW5wdXRPcHRpb24oJ3VudXNlZCcsIG51bGwsIElucHV0T3B0aW9uOjpWQUxVRV9OT05FLCAnUmVtb3ZlIGFsbCBwYWNrYWdlcyB3aGljaCBhcmUgbG9ja2VkIGJ1dCBub3QgcmVxdWlyZWQgYnkgYW55IG90aGVyIHBhY2thZ2UuJyksCm5ldyBJbnB1dE9wdGlvbignaWdub3JlLXBsYXRmb3JtLXJlcScsIG51bGwsIElucHV0T3B0aW9uOjpWQUxVRV9SRVFVSVJFRCB8IElucHV0T3B0aW9uOjpWQUxVRV9JU19BUlJBWSwgJ0lnbm9yZSBhIHNwZWNpZmljIHBsYXRmb3JtIHJlcXVpcmVtZW50IChwaHAgJiBleHQtIHBhY2thZ2VzKS4nKSwKbmV3IElucHV0T3B0aW9uKCdpZ25vcmUtcGxhdGZvcm0tcmVxcycsIG51bGwsIElucHV0T3B0aW9uOjpWQUxVRV9OT05FLCAnSWdub3JlIGFsbCBwbGF0Zm9ybSByZXF1aXJlbWVudHMgKHBocCAmIGV4dC0gcGFja2FnZXMpLicpLApuZXcgSW5wdXRPcHRpb24oJ29wdGltaXplLWF1dG9sb2FkZXInLCAnbycsIElucHV0T3B0aW9uOjpWQUxVRV9OT05FLCAnT3B0aW1pemUgYXV0b2xvYWRlciBkdXJpbmcgYXV0b2xvYWRlciBkdW1wJyksCm5ldyBJbnB1dE9wdGlvbignY2xhc3NtYXAtYXV0aG9yaXRhdGl2ZScsICdhJywgSW5wdXRPcHRpb246OlZBTFVFX05PTkUsICdBdXRvbG9hZCBjbGFzc2VzIGZyb20gdGhlIGNsYXNzbWFwIG9ubHkuIEltcGxpY2l0bHkgZW5hYmxlcyBgLS1vcHRpbWl6ZS1hdXRvbG9hZGVyYC4nKSwKbmV3IElucHV0T3B0aW9uKCdhcGN1LWF1dG9sb2FkZXInLCBudWxsLCBJbnB1dE9wdGlvbjo6VkFMVUVfTk9ORSwgJ1VzZSBBUEN1IHRvIGNhY2hlIGZvdW5kL25vdC1mb3VuZCBjbGFzc2VzLicpLApuZXcgSW5wdXRPcHRpb24oJ2FwY3UtYXV0b2xvYWRlci1wcmVmaXgnLCBudWxsLCBJbnB1dE9wdGlvbjo6VkFMVUVfUkVRVUlSRUQsICdVc2UgYSBjdXN0b20gcHJlZml4IGZvciB0aGUgQVBDdSBhdXRvbG9hZGVyIGNhY2hlLiBJbXBsaWNpdGx5IGVuYWJsZXMgLS1hcGN1LWF1dG9sb2FkZXInKSwKKSkKLT5zZXRIZWxwKAo8PDxFT1QKVGhlIDxpbmZvPnJlbW92ZTwvaW5mbz4gY29tbWFuZCByZW1vdmVzIGEgcGFja2FnZSBmcm9tIHRoZSBjdXJyZW50Cmxpc3Qgb2YgaW5zdGFsbGVkIHBhY2thZ2VzCgo8aW5mbz5waHAgY29tcG9zZXIucGhhciByZW1vdmU8L2luZm8+CgpSZWFkIG1vcmUgYXQgaHR0cHM6Ly9nZXRjb21wb3Nlci5vcmcvZG9jLzAzLWNsaS5tZCNyZW1vdmUKRU9UCikKOwp9Cgpwcm90ZWN0ZWQgZnVuY3Rpb24gaW50ZXJhY3QoSW5wdXRJbnRlcmZhY2UgJGlucHV0LCBPdXRwdXRJbnRlcmZhY2UgJG91dHB1dCkKewppZiAoJGlucHV0LT5nZXRPcHRpb24oJ3VudXNlZCcpKSB7CiRjb21wb3NlciA9ICR0aGlzLT5nZXRDb21wb3NlcigpOwokbG9ja2VyID0gJGNvbXBvc2VyLT5nZXRMb2NrZXIoKTsKaWYgKCEkbG9ja2VyLT5pc0xvY2tlZCgpKSB7CnRocm93IG5ldyBcVW5leHBlY3RlZFZhbHVlRXhjZXB0aW9uKCdBIHZhbGlkIGNvbXBvc2VyLmxvY2sgZmlsZSBpcyByZXF1aXJlZCB0byBydW4gdGhpcyBjb21tYW5kIHdpdGggLS11bnVzZWQnKTsKfQoKJGxvY2tlZFBhY2thZ2VzID0gJGxvY2tlci0+Z2V0TG9ja2VkUmVwb3NpdG9yeSgpLT5nZXRQYWNrYWdlcygpOwoKJHJlcXVpcmVkID0gYXJyYXkoKTsKZm9yZWFjaCAoYXJyYXlfbWVyZ2UoJGNvbXBvc2VyLT5nZXRQYWNrYWdlKCktPmdldFJlcXVpcmVzKCksICRjb21wb3Nlci0+Z2V0UGFja2FnZSgpLT5nZXREZXZSZXF1aXJlcygpKSBhcyAkbGluaykgewokcmVxdWlyZWRbJGxpbmstPmdldFRhcmdldCgpXSA9IHRydWU7Cn0KCmRvIHsKJGZvdW5kID0gZmFsc2U7CmZvcmVhY2ggKCRsb2NrZWRQYWNrYWdlcyBhcyAkaW5kZXggPT4gJHBhY2thZ2UpIHsKZm9yZWFjaCAoJHBhY2thZ2UtPmdldE5hbWVzKCkgYXMgJG5hbWUpIHsKaWYgKGlzc2V0KCRyZXF1aXJlZFskbmFtZV0pKSB7CmZvcmVhY2ggKCRwYWNrYWdlLT5nZXRSZXF1aXJlcygpIGFzICRsaW5rKSB7CiRyZXF1aXJlZFskbGluay0+Z2V0VGFyZ2V0KCldID0gdHJ1ZTsKfQokZm91bmQgPSB0cnVlOwp1bnNldCgkbG9ja2VkUGFja2FnZXNbJGluZGV4XSk7CmJyZWFrOwp9Cn0KfQp9IHdoaWxlICgkZm91bmQpOwoKJHVudXNlZCA9IGFycmF5KCk7CmZvcmVhY2ggKCRsb2NrZWRQYWNrYWdlcyBhcyAkcGFja2FnZSkgewokdW51c2VkW10gPSAkcGFja2FnZS0+Z2V0TmFtZSgpOwp9CiRpbnB1dC0+c2V0QXJndW1lbnQoJ3BhY2thZ2VzJywgYXJyYXlfbWVyZ2UoJGlucHV0LT5nZXRBcmd1bWVudCgncGFja2FnZXMnKSwgJHVudXNlZCkpOwoKaWYgKCEkaW5wdXQtPmdldEFyZ3VtZW50KCdwYWNrYWdlcycpKSB7CiR0aGlzLT5nZXRJTygpLT53cml0ZUVycm9yKCc8aW5mbz5ObyB1bnVzZWQgcGFja2FnZXMgdG8gcmVtb3ZlPC9pbmZvPicpOwokdGhpcy0+c2V0Q29kZShmdW5jdGlvbiAoKSB7CnJldHVybiAwOwp9KTsKfQp9Cn0KCnByb3RlY3RlZCBmdW5jdGlvbiBleGVjdXRlKElucHV0SW50ZXJmYWNlICRpbnB1dCwgT3V0cHV0SW50ZXJmYWNlICRvdXRwdXQpCnsKJHBhY2thZ2VzID0gJGlucHV0LT5nZXRBcmd1bWVudCgncGFja2FnZXMnKTsKJHBhY2thZ2VzID0gYXJyYXlfbWFwKCdzdHJ0b2xvd2VyJywgJHBhY2thZ2VzKTsKCiRmaWxlID0gRmFjdG9yeTo6Z2V0Q29tcG9zZXJGaWxlKCk7CgokanNvbkZpbGUgPSBuZXcgSnNvbkZpbGUoJGZpbGUpOwokY29tcG9zZXIgPSAkanNvbkZpbGUtPnJlYWQoKTsKJGNvbXBvc2VyQmFja3VwID0gZmlsZV9nZXRfY29udGVudHMoJGpzb25GaWxlLT5nZXRQYXRoKCkpOwoKJGpzb24gPSBuZXcgSnNvbkNvbmZpZ1NvdXJjZSgkanNvbkZpbGUpOwoKJHR5cGUgPSAkaW5wdXQtPmdldE9wdGlvbignZGV2JykgPyAncmVxdWlyZS1kZXYnIDogJ3JlcXVpcmUnOwokYWx0VHlwZSA9ICEkaW5wdXQtPmdldE9wdGlvbignZGV2JykgPyAncmVxdWlyZS1kZXYnIDogJ3JlcXVpcmUnOwokaW8gPSAkdGhpcy0+Z2V0SU8oKTsKCmlmICgkaW5wdXQtPmdldE9wdGlvbigndXBkYXRlLXdpdGgtZGVwZW5kZW5jaWVzJykpIHsKJGlvLT53cml0ZUVycm9yKCc8d2FybmluZz5Zb3UgYXJlIHVzaW5nIHRoZSBkZXByZWNhdGVkIG9wdGlvbiAidXBkYXRlLXdpdGgtZGVwZW5kZW5jaWVzIi4gVGhpcyBpcyBub3cgZGVmYXVsdCBiZWhhdmlvdXIuIFRoZSAtLW5vLXVwZGF0ZS13aXRoLWRlcGVuZGVuY2llcyBvcHRpb24gY2FuIGJlIHVzZWQgdG8gcmVtb3ZlIGEgcGFja2FnZSB3aXRob3V0IGl0cyBkZXBlbmRlbmNpZXMuPC93YXJuaW5nPicpOwp9CgoKZm9yZWFjaCAoYXJyYXkoJ3JlcXVpcmUnLCAncmVxdWlyZS1kZXYnKSBhcyAkbGlua1R5cGUpIHsKaWYgKGlzc2V0KCRjb21wb3NlclskbGlua1R5cGVdKSkgewpmb3JlYWNoICgkY29tcG9zZXJbJGxpbmtUeXBlXSBhcyAkbmFtZSA9PiAkdmVyc2lvbikgewokY29tcG9zZXJbJGxpbmtUeXBlXVtzdHJ0b2xvd2VyKCRuYW1lKV0gPSAkbmFtZTsKfQp9Cn0KCiRkcnlSdW4gPSAkaW5wdXQtPmdldE9wdGlvbignZHJ5LXJ1bicpOwokdG9SZW1vdmUgPSBhcnJheSgpOwpmb3JlYWNoICgkcGFja2FnZXMgYXMgJHBhY2thZ2UpIHsKaWYgKGlzc2V0KCRjb21wb3NlclskdHlwZV1bJHBhY2thZ2VdKSkgewppZiAoJGRyeVJ1bikgewokdG9SZW1vdmVbJHR5cGVdW10gPSAkY29tcG9zZXJbJHR5cGVdWyRwYWNrYWdlXTsKfSBlbHNlIHsKJGpzb24tPnJlbW92ZUxpbmsoJHR5cGUsICRjb21wb3NlclskdHlwZV1bJHBhY2thZ2VdKTsKfQp9IGVsc2VpZiAoaXNzZXQoJGNvbXBvc2VyWyRhbHRUeXBlXVskcGFja2FnZV0pKSB7CiRpby0+d3JpdGVFcnJvcignPHdhcm5pbmc+JyAuICRjb21wb3NlclskYWx0VHlwZV1bJHBhY2thZ2VdIC4gJyBjb3VsZCBub3QgYmUgZm91bmQgaW4gJyAuICR0eXBlIC4gJyBidXQgaXQgaXMgcHJlc2VudCBpbiAnIC4gJGFsdFR5cGUgLiAnPC93YXJuaW5nPicpOwppZiAoJGlvLT5pc0ludGVyYWN0aXZlKCkpIHsKaWYgKCRpby0+YXNrQ29uZmlybWF0aW9uKCdEbyB5b3Ugd2FudCB0byByZW1vdmUgaXQgZnJvbSAnIC4gJGFsdFR5cGUgLiAnIFs8Y29tbWVudD55ZXM8L2NvbW1lbnQ+XT8gJykpIHsKaWYgKCRkcnlSdW4pIHsKJHRvUmVtb3ZlWyRhbHRUeXBlXVtdID0gJGNvbXBvc2VyWyRhbHRUeXBlXVskcGFja2FnZV07Cn0gZWxzZSB7CiRqc29uLT5yZW1vdmVMaW5rKCRhbHRUeXBlLCAkY29tcG9zZXJbJGFsdFR5cGVdWyRwYWNrYWdlXSk7Cn0KfQp9Cn0gZWxzZWlmIChpc3NldCgkY29tcG9zZXJbJHR5cGVdKSAmJiAkbWF0Y2hlcyA9IHByZWdfZ3JlcChCYXNlUGFja2FnZTo6cGFja2FnZU5hbWVUb1JlZ2V4cCgkcGFja2FnZSksIGFycmF5X2tleXMoJGNvbXBvc2VyWyR0eXBlXSkpKSB7CmZvcmVhY2ggKCRtYXRjaGVzIGFzICRtYXRjaGVkUGFja2FnZSkgewppZiAoJGRyeVJ1bikgewokdG9SZW1vdmVbJHR5cGVdW10gPSAkbWF0Y2hlZFBhY2thZ2U7Cn0gZWxzZSB7CiRqc29uLT5yZW1vdmVMaW5rKCR0eXBlLCAkbWF0Y2hlZFBhY2thZ2UpOwp9Cn0KfSBlbHNlaWYgKGlzc2V0KCRjb21wb3NlclskYWx0VHlwZV0pICYmICRtYXRjaGVzID0gcHJlZ19ncmVwKEJhc2VQYWNrYWdlOjpwYWNrYWdlTmFtZVRvUmVnZXhwKCRwYWNrYWdlKSwgYXJyYXlfa2V5cygkY29tcG9zZXJbJGFsdFR5cGVdKSkpIHsKZm9yZWFjaCAoJG1hdGNoZXMgYXMgJG1hdGNoZWRQYWNrYWdlKSB7CiRpby0+d3JpdGVFcnJvcignPHdhcm5pbmc+JyAuICRtYXRjaGVkUGFja2FnZSAuICcgY291bGQgbm90IGJlIGZvdW5kIGluICcgLiAkdHlwZSAuICcgYnV0IGl0IGlzIHByZXNlbnQgaW4gJyAuICRhbHRUeXBlIC4gJzwvd2FybmluZz4nKTsKaWYgKCRpby0+aXNJbnRlcmFjdGl2ZSgpKSB7CmlmICgkaW8tPmFza0NvbmZpcm1hdGlvbignRG8geW91IHdhbnQgdG8gcmVtb3ZlIGl0IGZyb20gJyAuICRhbHRUeXBlIC4gJyBbPGNvbW1lbnQ+eWVzPC9jb21tZW50Pl0/ICcpKSB7CmlmICgkZHJ5UnVuKSB7CiR0b1JlbW92ZVskYWx0VHlwZV1bXSA9ICRtYXRjaGVkUGFja2FnZTsKfSBlbHNlIHsKJGpzb24tPnJlbW92ZUxpbmsoJGFsdFR5cGUsICRtYXRjaGVkUGFja2FnZSk7Cn0KfQp9Cn0KfSBlbHNlIHsKJGlvLT53cml0ZUVycm9yKCc8d2FybmluZz4nLiRwYWNrYWdlLicgaXMgbm90IHJlcXVpcmVkIGluIHlvdXIgY29tcG9zZXIuanNvbiBhbmQgaGFzIG5vdCBiZWVuIHJlbW92ZWQ8L3dhcm5pbmc+Jyk7Cn0KfQoKJGlvLT53cml0ZUVycm9yKCc8aW5mbz4nLiRmaWxlLicgaGFzIGJlZW4gdXBkYXRlZDwvaW5mbz4nKTsKCmlmICgkaW5wdXQtPmdldE9wdGlvbignbm8tdXBkYXRlJykpIHsKcmV0dXJuIDA7Cn0KCgokdGhpcy0+cmVzZXRDb21wb3NlcigpOwokY29tcG9zZXIgPSAkdGhpcy0+Z2V0Q29tcG9zZXIodHJ1ZSwgJGlucHV0LT5nZXRPcHRpb24oJ25vLXBsdWdpbnMnKSk7CiRjb21wb3Nlci0+Z2V0RXZlbnREaXNwYXRjaGVyKCktPnNldFJ1blNjcmlwdHMoISRpbnB1dC0+Z2V0T3B0aW9uKCduby1zY3JpcHRzJykpOwoKaWYgKCRkcnlSdW4pIHsKJHJvb3RQYWNrYWdlID0gJGNvbXBvc2VyLT5nZXRQYWNrYWdlKCk7CiRsaW5rcyA9IGFycmF5KAoncmVxdWlyZScgPT4gJHJvb3RQYWNrYWdlLT5nZXRSZXF1aXJlcygpLAoncmVxdWlyZS1kZXYnID0+ICRyb290UGFja2FnZS0+Z2V0RGV2UmVxdWlyZXMoKSwKKTsKZm9yZWFjaCAoJHRvUmVtb3ZlIGFzICR0eXBlID0+ICRuYW1lcykgewpmb3JlYWNoICgkbmFtZXMgYXMgJG5hbWUpIHsKdW5zZXQoJGxpbmtzWyR0eXBlXVskbmFtZV0pOwp9Cn0KJHJvb3RQYWNrYWdlLT5zZXRSZXF1aXJlcygkbGlua3NbJ3JlcXVpcmUnXSk7CiRyb290UGFja2FnZS0+c2V0RGV2UmVxdWlyZXMoJGxpbmtzWydyZXF1aXJlLWRldiddKTsKfQoKJGNvbW1hbmRFdmVudCA9IG5ldyBDb21tYW5kRXZlbnQoUGx1Z2luRXZlbnRzOjpDT01NQU5ELCAncmVtb3ZlJywgJGlucHV0LCAkb3V0cHV0KTsKJGNvbXBvc2VyLT5nZXRFdmVudERpc3BhdGNoZXIoKS0+ZGlzcGF0Y2goJGNvbW1hbmRFdmVudC0+Z2V0TmFtZSgpLCAkY29tbWFuZEV2ZW50KTsKCiRjb21wb3Nlci0+Z2V0SW5zdGFsbGF0aW9uTWFuYWdlcigpLT5zZXRPdXRwdXRQcm9ncmVzcyghJGlucHV0LT5nZXRPcHRpb24oJ25vLXByb2dyZXNzJykpOwoKJGluc3RhbGwgPSBJbnN0YWxsZXI6OmNyZWF0ZSgkaW8sICRjb21wb3Nlcik7CgokdXBkYXRlRGV2TW9kZSA9ICEkaW5wdXQtPmdldE9wdGlvbigndXBkYXRlLW5vLWRldicpOwokb3B0aW1pemUgPSAkaW5wdXQtPmdldE9wdGlvbignb3B0aW1pemUtYXV0b2xvYWRlcicpIHx8ICRjb21wb3Nlci0+Z2V0Q29uZmlnKCktPmdldCgnb3B0aW1pemUtYXV0b2xvYWRlcicpOwokYXV0aG9yaXRhdGl2ZSA9ICRpbnB1dC0+Z2V0T3B0aW9uKCdjbGFzc21hcC1hdXRob3JpdGF0aXZlJykgfHwgJGNvbXBvc2VyLT5nZXRDb25maWcoKS0+Z2V0KCdjbGFzc21hcC1hdXRob3JpdGF0aXZlJyk7CiRhcGN1UHJlZml4ID0gJGlucHV0LT5nZXRPcHRpb24oJ2FwY3UtYXV0b2xvYWRlci1wcmVmaXgnKTsKJGFwY3UgPSAkYXBjdVByZWZpeCAhPT0gbnVsbCB8fCAkaW5wdXQtPmdldE9wdGlvbignYXBjdS1hdXRvbG9hZGVyJykgfHwgJGNvbXBvc2VyLT5nZXRDb25maWcoKS0+Z2V0KCdhcGN1LWF1dG9sb2FkZXInKTsKCiR1cGRhdGVBbGxvd1RyYW5zaXRpdmVEZXBlbmRlbmNpZXMgPSBSZXF1ZXN0OjpVUERBVEVfTElTVEVEX1dJVEhfVFJBTlNJVElWRV9ERVBTX05PX1JPT1RfUkVRVUlSRTsKJGZsYWdzID0gJyc7CmlmICgkaW5wdXQtPmdldE9wdGlvbigndXBkYXRlLXdpdGgtYWxsLWRlcGVuZGVuY2llcycpIHx8ICRpbnB1dC0+Z2V0T3B0aW9uKCd3aXRoLWFsbC1kZXBlbmRlbmNpZXMnKSkgewokdXBkYXRlQWxsb3dUcmFuc2l0aXZlRGVwZW5kZW5jaWVzID0gUmVxdWVzdDo6VVBEQVRFX0xJU1RFRF9XSVRIX1RSQU5TSVRJVkVfREVQUzsKJGZsYWdzIC49ICcgLS13aXRoLWFsbC1kZXBlbmRlbmNpZXMnOwp9IGVsc2VpZiAoJGlucHV0LT5nZXRPcHRpb24oJ25vLXVwZGF0ZS13aXRoLWRlcGVuZGVuY2llcycpKSB7CiR1cGRhdGVBbGxvd1RyYW5zaXRpdmVEZXBlbmRlbmNpZXMgPSBSZXF1ZXN0OjpVUERBVEVfT05MWV9MSVNURUQ7CiRmbGFncyAuPSAnIC0td2l0aC1kZXBlbmRlbmNpZXMnOwp9CgokaW8tPndyaXRlRXJyb3IoJzxpbmZvPlJ1bm5pbmcgY29tcG9zZXIgdXBkYXRlICcuaW1wbG9kZSgnICcsICRwYWNrYWdlcykuJGZsYWdzLic8L2luZm8+Jyk7CgokaWdub3JlUGxhdGZvcm1SZXFzID0gJGlucHV0LT5nZXRPcHRpb24oJ2lnbm9yZS1wbGF0Zm9ybS1yZXFzJykgPzogKCRpbnB1dC0+Z2V0T3B0aW9uKCdpZ25vcmUtcGxhdGZvcm0tcmVxJykgPzogZmFsc2UpOwoKJGluc3RhbGwKLT5zZXRWZXJib3NlKCRpbnB1dC0+Z2V0T3B0aW9uKCd2ZXJib3NlJykpCi0+c2V0RGV2TW9kZSgkdXBkYXRlRGV2TW9kZSkKLT5zZXRPcHRpbWl6ZUF1dG9sb2FkZXIoJG9wdGltaXplKQotPnNldENsYXNzTWFwQXV0aG9yaXRhdGl2ZSgkYXV0aG9yaXRhdGl2ZSkKLT5zZXRBcGN1QXV0b2xvYWRlcigkYXBjdSwgJGFwY3VQcmVmaXgpCi0+c2V0VXBkYXRlKHRydWUpCi0+c2V0SW5zdGFsbCghJGlucHV0LT5nZXRPcHRpb24oJ25vLWluc3RhbGwnKSkKLT5zZXRVcGRhdGVBbGxvd1RyYW5zaXRpdmVEZXBlbmRlbmNpZXMoJHVwZGF0ZUFsbG93VHJhbnNpdGl2ZURlcGVuZGVuY2llcykKLT5zZXRJZ25vcmVQbGF0Zm9ybVJlcXVpcmVtZW50cygkaWdub3JlUGxhdGZvcm1SZXFzKQotPnNldERyeVJ1bigkZHJ5UnVuKQo7CgoKCmlmICgkY29tcG9zZXItPmdldExvY2tlcigpLT5pc0xvY2tlZCgpKSB7CiRpbnN0YWxsLT5zZXRVcGRhdGVBbGxvd0xpc3QoJHBhY2thZ2VzKTsKfQoKJHN0YXR1cyA9ICRpbnN0YWxsLT5ydW4oKTsKaWYgKCRzdGF0dXMgIT09IDApIHsKJGlvLT53cml0ZUVycm9yKCJcbiIuJzxlcnJvcj5SZW1vdmFsIGZhaWxlZCwgcmV2ZXJ0aW5nICcuJGZpbGUuJyB0byBpdHMgb3JpZ2luYWwgY29udGVudC48L2Vycm9yPicpOwpmaWxlX3B1dF9jb250ZW50cygkanNvbkZpbGUtPmdldFBhdGgoKSwgJGNvbXBvc2VyQmFja3VwKTsKfQoKaWYgKCEkZHJ5UnVuKSB7CmZvcmVhY2ggKCRwYWNrYWdlcyBhcyAkcGFja2FnZSkgewppZiAoJGNvbXBvc2VyLT5nZXRSZXBvc2l0b3J5TWFuYWdlcigpLT5nZXRMb2NhbFJlcG9zaXRvcnkoKS0+ZmluZFBhY2thZ2VzKCRwYWNrYWdlKSkgewokaW8tPndyaXRlRXJyb3IoJzxlcnJvcj5SZW1vdmFsIGZhaWxlZCwgJy4kcGFja2FnZS4nIGlzIHN0aWxsIHByZXNlbnQsIGl0IG1heSBiZSByZXF1aXJlZCBieSBhbm90aGVyIHBhY2thZ2UuIFNlZSBgY29tcG9zZXIgd2h5ICcuJHBhY2thZ2UuJ2AuPC9lcnJvcj4nKTsKCnJldHVybiAyOwp9Cn0KfQoKcmV0dXJuICRzdGF0dXM7Cn0KfQo8P3BocAoKCgoKCgoKCgoKCm5hbWVzcGFjZSBDb21wb3NlclxDb21tYW5kOwoKdXNlIENvbXBvc2VyXERlcGVuZGVuY3lSZXNvbHZlclxSZXF1ZXN0Owp1c2UgQ29tcG9zZXJcVXRpbFxGaWxlc3lzdGVtOwp1c2UgU3ltZm9ueVxDb21wb25lbnRcQ29uc29sZVxJbnB1dFxJbnB1dEludGVyZmFjZTsKdXNlIFN5bWZvbnlcQ29tcG9uZW50XENvbnNvbGVcSW5wdXRcSW5wdXRBcmd1bWVudDsKdXNlIFN5bWZvbnlcQ29tcG9uZW50XENvbnNvbGVcSW5wdXRcSW5wdXRPcHRpb247CnVzZSBTeW1mb255XENvbXBvbmVudFxDb25zb2xlXE91dHB1dFxPdXRwdXRJbnRlcmZhY2U7CnVzZSBDb21wb3NlclxGYWN0b3J5Owp1c2UgQ29tcG9zZXJcSW5zdGFsbGVyOwp1c2UgQ29tcG9zZXJcSnNvblxKc29uRmlsZTsKdXNlIENvbXBvc2VyXEpzb25cSnNvbk1hbmlwdWxhdG9yOwp1c2UgQ29tcG9zZXJcUGFja2FnZVxWZXJzaW9uXFZlcnNpb25QYXJzZXI7CnVzZSBDb21wb3NlclxQYWNrYWdlXExvYWRlclxBcnJheUxvYWRlcjsKdXNlIENvbXBvc2VyXFBhY2thZ2VcQmFzZVBhY2thZ2U7CnVzZSBDb21wb3NlclxQbHVnaW5cQ29tbWFuZEV2ZW50Owp1c2UgQ29tcG9zZXJcUGx1Z2luXFBsdWdpbkV2ZW50czsKdXNlIENvbXBvc2VyXFJlcG9zaXRvcnlcQ29tcG9zaXRlUmVwb3NpdG9yeTsKdXNlIENvbXBvc2VyXFJlcG9zaXRvcnlcUGxhdGZvcm1SZXBvc2l0b3J5Owp1c2UgQ29tcG9zZXJcSU9cSU9JbnRlcmZhY2U7CnVzZSBDb21wb3NlclxVdGlsXFNpbGVuY2VyOwoKCgoKCmNsYXNzIFJlcXVpcmVDb21tYW5kIGV4dGVuZHMgSW5pdENvbW1hbmQKewpwcml2YXRlICRuZXdseUNyZWF0ZWQ7CnByaXZhdGUgJGZpcnN0UmVxdWlyZTsKcHJpdmF0ZSAkanNvbjsKcHJpdmF0ZSAkZmlsZTsKcHJpdmF0ZSAkY29tcG9zZXJCYWNrdXA7Cgpwcml2YXRlICRsb2NrOwoKcHJpdmF0ZSAkbG9ja0JhY2t1cDsKCnByb3RlY3RlZCBmdW5jdGlvbiBjb25maWd1cmUoKQp7CiR0aGlzCi0+c2V0TmFtZSgncmVxdWlyZScpCi0+c2V0RGVzY3JpcHRpb24oJ0FkZHMgcmVxdWlyZWQgcGFja2FnZXMgdG8geW91ciBjb21wb3Nlci5qc29uIGFuZCBpbnN0YWxscyB0aGVtLicpCi0+c2V0RGVmaW5pdGlvbihhcnJheSgKbmV3IElucHV0QXJndW1lbnQoJ3BhY2thZ2VzJywgSW5wdXRBcmd1bWVudDo6SVNfQVJSQVkgfCBJbnB1dEFyZ3VtZW50OjpPUFRJT05BTCwgJ09wdGlvbmFsIHBhY2thZ2UgbmFtZSBjYW4gYWxzbyBpbmNsdWRlIGEgdmVyc2lvbiBjb25zdHJhaW50LCBlLmcuIGZvby9iYXIgb3IgZm9vL2JhcjoxLjAuMCBvciBmb28vYmFyPTEuMC4wIG9yICJmb28vYmFyIDEuMC4wIicpLApuZXcgSW5wdXRPcHRpb24oJ2RldicsIG51bGwsIElucHV0T3B0aW9uOjpWQUxVRV9OT05FLCAnQWRkIHJlcXVpcmVtZW50IHRvIHJlcXVpcmUtZGV2LicpLApuZXcgSW5wdXRPcHRpb24oJ2RyeS1ydW4nLCBudWxsLCBJbnB1dE9wdGlvbjo6VkFMVUVfTk9ORSwgJ091dHB1dHMgdGhlIG9wZXJhdGlvbnMgYnV0IHdpbGwgbm90IGV4ZWN1dGUgYW55dGhpbmcgKGltcGxpY2l0bHkgZW5hYmxlcyAtLXZlcmJvc2UpLicpLApuZXcgSW5wdXRPcHRpb24oJ3ByZWZlci1zb3VyY2UnLCBudWxsLCBJbnB1dE9wdGlvbjo6VkFMVUVfTk9ORSwgJ0ZvcmNlcyBpbnN0YWxsYXRpb24gZnJvbSBwYWNrYWdlIHNvdXJjZXMgd2hlbiBwb3NzaWJsZSwgaW5jbHVkaW5nIFZDUyBpbmZvcm1hdGlvbi4nKSwKbmV3IElucHV0T3B0aW9uKCdwcmVmZXItZGlzdCcsIG51bGwsIElucHV0T3B0aW9uOjpWQUxVRV9OT05FLCAnRm9yY2VzIGluc3RhbGxhdGlvbiBmcm9tIHBhY2thZ2UgZGlzdCAoZGVmYXVsdCBiZWhhdmlvcikuJyksCm5ldyBJbnB1dE9wdGlvbigncHJlZmVyLWluc3RhbGwnLCBudWxsLCBJbnB1dE9wdGlvbjo6VkFMVUVfUkVRVUlSRUQsICdGb3JjZXMgaW5zdGFsbGF0aW9uIGZyb20gcGFja2FnZSBkaXN0fHNvdXJjZXxhdXRvIChhdXRvIGNob29zZXMgc291cmNlIGZvciBkZXYgdmVyc2lvbnMsIGRpc3QgZm9yIHRoZSByZXN0KS4nKSwKbmV3IElucHV0T3B0aW9uKCdmaXhlZCcsIG51bGwsIElucHV0T3B0aW9uOjpWQUxVRV9OT05FLCAnV3JpdGUgZml4ZWQgdmVyc2lvbiB0byB0aGUgY29tcG9zZXIuanNvbi4nKSwKbmV3IElucHV0T3B0aW9uKCduby1zdWdnZXN0JywgbnVsbCwgSW5wdXRPcHRpb246OlZBTFVFX05PTkUsICdERVBSRUNBVEVEOiBUaGlzIGZsYWcgZG9lcyBub3QgZXhpc3QgYW55bW9yZS4nKSwKbmV3IElucHV0T3B0aW9uKCduby1wcm9ncmVzcycsIG51bGwsIElucHV0T3B0aW9uOjpWQUxVRV9OT05FLCAnRG8gbm90IG91dHB1dCBkb3dubG9hZCBwcm9ncmVzcy4nKSwKbmV3IElucHV0T3B0aW9uKCduby11cGRhdGUnLCBudWxsLCBJbnB1dE9wdGlvbjo6VkFMVUVfTk9ORSwgJ0Rpc2FibGVzIHRoZSBhdXRvbWF0aWMgdXBkYXRlIG9mIHRoZSBkZXBlbmRlbmNpZXMgKGltcGxpZXMgLS1uby1pbnN0YWxsKS4nKSwKbmV3IElucHV0T3B0aW9uKCduby1pbnN0YWxsJywgbnVsbCwgSW5wdXRPcHRpb246OlZBTFVFX05PTkUsICdTa2lwIHRoZSBpbnN0YWxsIHN0ZXAgYWZ0ZXIgdXBkYXRpbmcgdGhlIGNvbXBvc2VyLmxvY2sgZmlsZS4nKSwKbmV3IElucHV0T3B0aW9uKCduby1zY3JpcHRzJywgbnVsbCwgSW5wdXRPcHRpb246OlZBTFVFX05PTkUsICdTa2lwcyB0aGUgZXhlY3V0aW9uIG9mIGFsbCBzY3JpcHRzIGRlZmluZWQgaW4gY29tcG9zZXIuanNvbiBmaWxlLicpLApuZXcgSW5wdXRPcHRpb24oJ3VwZGF0ZS1uby1kZXYnLCBudWxsLCBJbnB1dE9wdGlvbjo6VkFMVUVfTk9ORSwgJ1J1biB0aGUgZGVwZW5kZW5jeSB1cGRhdGUgd2l0aCB0aGUgLS1uby1kZXYgb3B0aW9uLicpLApuZXcgSW5wdXRPcHRpb24oJ3VwZGF0ZS13aXRoLWRlcGVuZGVuY2llcycsICd3JywgSW5wdXRPcHRpb246OlZBTFVFX05PTkUsICdBbGxvd3MgaW5oZXJpdGVkIGRlcGVuZGVuY2llcyB0byBiZSB1cGRhdGVkLCBleGNlcHQgdGhvc2UgdGhhdCBhcmUgcm9vdCByZXF1aXJlbWVudHMuJyksCm5ldyBJbnB1dE9wdGlvbigndXBkYXRlLXdpdGgtYWxsLWRlcGVuZGVuY2llcycsICdXJywgSW5wdXRPcHRpb246OlZBTFVFX05PTkUsICdBbGxvd3MgYWxsIGluaGVyaXRlZCBkZXBlbmRlbmNpZXMgdG8gYmUgdXBkYXRlZCwgaW5jbHVkaW5nIHRob3NlIHRoYXQgYXJlIHJvb3QgcmVxdWlyZW1lbnRzLicpLApuZXcgSW5wdXRPcHRpb24oJ3dpdGgtZGVwZW5kZW5jaWVzJywgbnVsbCwgSW5wdXRPcHRpb246OlZBTFVFX05PTkUsICdBbGlhcyBmb3IgLS11cGRhdGUtd2l0aC1kZXBlbmRlbmNpZXMnKSwKbmV3IElucHV0T3B0aW9uKCd3aXRoLWFsbC1kZXBlbmRlbmNpZXMnLCBudWxsLCBJbnB1dE9wdGlvbjo6VkFMVUVfTk9ORSwgJ0FsaWFzIGZvciAtLXVwZGF0ZS13aXRoLWFsbC1kZXBlbmRlbmNpZXMnKSwKbmV3IElucHV0T3B0aW9uKCdpZ25vcmUtcGxhdGZvcm0tcmVxJywgbnVsbCwgSW5wdXRPcHRpb246OlZBTFVFX1JFUVVJUkVEIHwgSW5wdXRPcHRpb246OlZBTFVFX0lTX0FSUkFZLCAnSWdub3JlIGEgc3BlY2lmaWMgcGxhdGZvcm0gcmVxdWlyZW1lbnQgKHBocCAmIGV4dC0gcGFja2FnZXMpLicpLApuZXcgSW5wdXRPcHRpb24oJ2lnbm9yZS1wbGF0Zm9ybS1yZXFzJywgbnVsbCwgSW5wdXRPcHRpb246OlZBTFVFX05PTkUsICdJZ25vcmUgYWxsIHBsYXRmb3JtIHJlcXVpcmVtZW50cyAocGhwICYgZXh0LSBwYWNrYWdlcykuJyksCm5ldyBJbnB1dE9wdGlvbigncHJlZmVyLXN0YWJsZScsIG51bGwsIElucHV0T3B0aW9uOjpWQUxVRV9OT05FLCAnUHJlZmVyIHN0YWJsZSB2ZXJzaW9ucyBvZiBkZXBlbmRlbmNpZXMuJyksCm5ldyBJbnB1dE9wdGlvbigncHJlZmVyLWxvd2VzdCcsIG51bGwsIElucHV0T3B0aW9uOjpWQUxVRV9OT05FLCAnUHJlZmVyIGxvd2VzdCB2ZXJzaW9ucyBvZiBkZXBlbmRlbmNpZXMuJyksCm5ldyBJbnB1dE9wdGlvbignc29ydC1wYWNrYWdlcycsIG51bGwsIElucHV0T3B0aW9uOjpWQUxVRV9OT05FLCAnU29ydHMgcGFja2FnZXMgd2hlbiBhZGRpbmcvdXBkYXRpbmcgYSBuZXcgZGVwZW5kZW5jeScpLApuZXcgSW5wdXRPcHRpb24oJ29wdGltaXplLWF1dG9sb2FkZXInLCAnbycsIElucHV0T3B0aW9uOjpWQUxVRV9OT05FLCAnT3B0aW1pemUgYXV0b2xvYWRlciBkdXJpbmcgYXV0b2xvYWRlciBkdW1wJyksCm5ldyBJbnB1dE9wdGlvbignY2xhc3NtYXAtYXV0aG9yaXRhdGl2ZScsICdhJywgSW5wdXRPcHRpb246OlZBTFVFX05PTkUsICdBdXRvbG9hZCBjbGFzc2VzIGZyb20gdGhlIGNsYXNzbWFwIG9ubHkuIEltcGxpY2l0bHkgZW5hYmxlcyBgLS1vcHRpbWl6ZS1hdXRvbG9hZGVyYC4nKSwKbmV3IElucHV0T3B0aW9uKCdhcGN1LWF1dG9sb2FkZXInLCBudWxsLCBJbnB1dE9wdGlvbjo6VkFMVUVfTk9ORSwgJ1VzZSBBUEN1IHRvIGNhY2hlIGZvdW5kL25vdC1mb3VuZCBjbGFzc2VzLicpLApuZXcgSW5wdXRPcHRpb24oJ2FwY3UtYXV0b2xvYWRlci1wcmVmaXgnLCBudWxsLCBJbnB1dE9wdGlvbjo6VkFMVUVfUkVRVUlSRUQsICdVc2UgYSBjdXN0b20gcHJlZml4IGZvciB0aGUgQVBDdSBhdXRvbG9hZGVyIGNhY2hlLiBJbXBsaWNpdGx5IGVuYWJsZXMgLS1hcGN1LWF1dG9sb2FkZXInKSwKKSkKLT5zZXRIZWxwKAo8PDxFT1QKVGhlIHJlcXVpcmUgY29tbWFuZCBhZGRzIHJlcXVpcmVkIHBhY2thZ2VzIHRvIHlvdXIgY29tcG9zZXIuanNvbiBhbmQgaW5zdGFsbHMgdGhlbS4KCklmIHlvdSBkbyBub3Qgc3BlY2lmeSBhIHBhY2thZ2UsIGNvbXBvc2VyIHdpbGwgcHJvbXB0IHlvdSB0byBzZWFyY2ggZm9yIGEgcGFja2FnZSwgYW5kIGdpdmVuIHJlc3VsdHMsIHByb3ZpZGUgYSBsaXN0IG9mCm1hdGNoZXMgdG8gcmVxdWlyZS4KCklmIHlvdSBkbyBub3Qgc3BlY2lmeSBhIHZlcnNpb24gY29uc3RyYWludCwgY29tcG9zZXIgd2lsbCBjaG9vc2UgYSBzdWl0YWJsZSBvbmUgYmFzZWQgb24gdGhlIGF2YWlsYWJsZSBwYWNrYWdlIHZlcnNpb25zLgoKSWYgeW91IGRvIG5vdCB3YW50IHRvIGluc3RhbGwgdGhlIG5ldyBkZXBlbmRlbmNpZXMgaW1tZWRpYXRlbHkgeW91IGNhbiBjYWxsIGl0IHdpdGggLS1uby11cGRhdGUKClJlYWQgbW9yZSBhdCBodHRwczovL2dldGNvbXBvc2VyLm9yZy9kb2MvMDMtY2xpLm1kI3JlcXVpcmUKRU9UCikKOwp9Cgpwcm90ZWN0ZWQgZnVuY3Rpb24gZXhlY3V0ZShJbnB1dEludGVyZmFjZSAkaW5wdXQsIE91dHB1dEludGVyZmFjZSAkb3V0cHV0KQp7CmlmIChmdW5jdGlvbl9leGlzdHMoJ3BjbnRsX2FzeW5jX3NpZ25hbHMnKSAmJiBmdW5jdGlvbl9leGlzdHMoJ3BjbnRsX3NpZ25hbCcpKSB7CnBjbnRsX2FzeW5jX3NpZ25hbHModHJ1ZSk7CnBjbnRsX3NpZ25hbChTSUdJTlQsIGFycmF5KCR0aGlzLCAncmV2ZXJ0Q29tcG9zZXJGaWxlJykpOwpwY250bF9zaWduYWwoU0lHVEVSTSwgYXJyYXkoJHRoaXMsICdyZXZlcnRDb21wb3NlckZpbGUnKSk7CnBjbnRsX3NpZ25hbChTSUdIVVAsIGFycmF5KCR0aGlzLCAncmV2ZXJ0Q29tcG9zZXJGaWxlJykpOwp9CgokdGhpcy0+ZmlsZSA9IEZhY3Rvcnk6OmdldENvbXBvc2VyRmlsZSgpOwokaW8gPSAkdGhpcy0+Z2V0SU8oKTsKCmlmICgkaW5wdXQtPmdldE9wdGlvbignbm8tc3VnZ2VzdCcpKSB7CiRpby0+d3JpdGVFcnJvcignPHdhcm5pbmc+WW91IGFyZSB1c2luZyB0aGUgZGVwcmVjYXRlZCBvcHRpb24gIi0tbm8tc3VnZ2VzdCIuIEl0IGhhcyBubyBlZmZlY3QgYW5kIHdpbGwgYnJlYWsgaW4gQ29tcG9zZXIgMy48L3dhcm5pbmc+Jyk7Cn0KCiR0aGlzLT5uZXdseUNyZWF0ZWQgPSAhZmlsZV9leGlzdHMoJHRoaXMtPmZpbGUpOwppZiAoJHRoaXMtPm5ld2x5Q3JlYXRlZCAmJiAhZmlsZV9wdXRfY29udGVudHMoJHRoaXMtPmZpbGUsICJ7XG59XG4iKSkgewokaW8tPndyaXRlRXJyb3IoJzxlcnJvcj4nLiR0aGlzLT5maWxlLicgY291bGQgbm90IGJlIGNyZWF0ZWQuPC9lcnJvcj4nKTsKCnJldHVybiAxOwp9CmlmICghRmlsZXN5c3RlbTo6aXNSZWFkYWJsZSgkdGhpcy0+ZmlsZSkpIHsKJGlvLT53cml0ZUVycm9yKCc8ZXJyb3I+Jy4kdGhpcy0+ZmlsZS4nIGlzIG5vdCByZWFkYWJsZS48L2Vycm9yPicpOwoKcmV0dXJuIDE7Cn0KCmlmIChmaWxlc2l6ZSgkdGhpcy0+ZmlsZSkgPT09IDApIHsKZmlsZV9wdXRfY29udGVudHMoJHRoaXMtPmZpbGUsICJ7XG59XG4iKTsKfQoKJHRoaXMtPmpzb24gPSBuZXcgSnNvbkZpbGUoJHRoaXMtPmZpbGUpOwokdGhpcy0+bG9jayA9IEZhY3Rvcnk6OmdldExvY2tGaWxlKCR0aGlzLT5maWxlKTsKJHRoaXMtPmNvbXBvc2VyQmFja3VwID0gZmlsZV9nZXRfY29udGVudHMoJHRoaXMtPmpzb24tPmdldFBhdGgoKSk7CiR0aGlzLT5sb2NrQmFja3VwID0gZmlsZV9leGlzdHMoJHRoaXMtPmxvY2spID8gZmlsZV9nZXRfY29udGVudHMoJHRoaXMtPmxvY2spIDogbnVsbDsKCgoKaWYgKCFpc193cml0YWJsZSgkdGhpcy0+ZmlsZSkgJiYgIVNpbGVuY2VyOjpjYWxsKCdmaWxlX3B1dF9jb250ZW50cycsICR0aGlzLT5maWxlLCAkdGhpcy0+Y29tcG9zZXJCYWNrdXApKSB7CiRpby0+d3JpdGVFcnJvcignPGVycm9yPicuJHRoaXMtPmZpbGUuJyBpcyBub3Qgd3JpdGFibGUuPC9lcnJvcj4nKTsKCnJldHVybiAxOwp9CgppZiAoJGlucHV0LT5nZXRPcHRpb24oJ2ZpeGVkJykgPT09IHRydWUpIHsKJGNvbmZpZyA9ICR0aGlzLT5qc29uLT5yZWFkKCk7CgokcGFja2FnZVR5cGUgPSBlbXB0eSgkY29uZmlnWyd0eXBlJ10pID8gJ2xpYnJhcnknIDogJGNvbmZpZ1sndHlwZSddOwoKCgoKaWYgKCRwYWNrYWdlVHlwZSAhPT0gJ3Byb2plY3QnKSB7CiRpby0+d3JpdGVFcnJvcignPGVycm9yPiItLWZpeGVkIiBvcHRpb24gaXMgYWxsb3dlZCBmb3IgInByb2plY3QiIHBhY2thZ2UgdHlwZXMgb25seSB0byBwcmV2ZW50IHBvc3NpYmxlIG1pc3VzZXMuPC9lcnJvcj4nKTsKCmlmIChlbXB0eSgkY29uZmlnWyd0eXBlJ10pKSB7CiRpby0+d3JpdGVFcnJvcignPGVycm9yPklmIHlvdXIgcGFja2FnZSBpcyBub3QgbGlicmFyeSwgeW91IHNob3VsZCBleHBsaWNpdGx5IHNwZWNpZnkgInR5cGUiIHBhcmFtZXRlciBpbiBjb21wb3Nlci5qc29uLjwvZXJyb3I+Jyk7Cn0KCnJldHVybiAxOwp9Cn0KCiRjb21wb3NlciA9ICR0aGlzLT5nZXRDb21wb3Nlcih0cnVlLCAkaW5wdXQtPmdldE9wdGlvbignbm8tcGx1Z2lucycpKTsKJHJlcG9zID0gJGNvbXBvc2VyLT5nZXRSZXBvc2l0b3J5TWFuYWdlcigpLT5nZXRSZXBvc2l0b3JpZXMoKTsKCiRwbGF0Zm9ybU92ZXJyaWRlcyA9ICRjb21wb3Nlci0+Z2V0Q29uZmlnKCktPmdldCgncGxhdGZvcm0nKSA/OiBhcnJheSgpOwoKJHRoaXMtPnJlcG9zID0gbmV3IENvbXBvc2l0ZVJlcG9zaXRvcnkoYXJyYXlfbWVyZ2UoCmFycmF5KCRwbGF0Zm9ybVJlcG8gPSBuZXcgUGxhdGZvcm1SZXBvc2l0b3J5KGFycmF5KCksICRwbGF0Zm9ybU92ZXJyaWRlcykpLAokcmVwb3MKKSk7CgppZiAoJGNvbXBvc2VyLT5nZXRQYWNrYWdlKCktPmdldFByZWZlclN0YWJsZSgpKSB7CiRwcmVmZXJyZWRTdGFiaWxpdHkgPSAnc3RhYmxlJzsKfSBlbHNlIHsKJHByZWZlcnJlZFN0YWJpbGl0eSA9ICRjb21wb3Nlci0+Z2V0UGFja2FnZSgpLT5nZXRNaW5pbXVtU3RhYmlsaXR5KCk7Cn0KCnRyeSB7CiRyZXF1aXJlbWVudHMgPSAkdGhpcy0+ZGV0ZXJtaW5lUmVxdWlyZW1lbnRzKAokaW5wdXQsCiRvdXRwdXQsCiRpbnB1dC0+Z2V0QXJndW1lbnQoJ3BhY2thZ2VzJyksCiRwbGF0Zm9ybVJlcG8sCiRwcmVmZXJyZWRTdGFiaWxpdHksCiEkaW5wdXQtPmdldE9wdGlvbignbm8tdXBkYXRlJyksCiRpbnB1dC0+Z2V0T3B0aW9uKCdmaXhlZCcpCik7Cn0gY2F0Y2ggKFxFeGNlcHRpb24gJGUpIHsKaWYgKCR0aGlzLT5uZXdseUNyZWF0ZWQpIHsKdGhyb3cgbmV3IFxSdW50aW1lRXhjZXB0aW9uKCdObyBjb21wb3Nlci5qc29uIHByZXNlbnQgaW4gdGhlIGN1cnJlbnQgZGlyZWN0b3J5ICgnLiR0aGlzLT5maWxlLicpLCB0aGlzIG1heSBiZSB0aGUgY2F1c2Ugb2YgdGhlIGZvbGxvd2luZyBleGNlcHRpb24uJywgMCwgJGUpOwp9Cgp0aHJvdyAkZTsKfQoKJHJlcXVpcmVLZXkgPSAkaW5wdXQtPmdldE9wdGlvbignZGV2JykgPyAncmVxdWlyZS1kZXYnIDogJ3JlcXVpcmUnOwokcmVtb3ZlS2V5ID0gJGlucHV0LT5nZXRPcHRpb24oJ2RldicpID8gJ3JlcXVpcmUnIDogJ3JlcXVpcmUtZGV2JzsKJHJlcXVpcmVtZW50cyA9ICR0aGlzLT5mb3JtYXRSZXF1aXJlbWVudHMoJHJlcXVpcmVtZW50cyk7CgoKJHZlcnNpb25QYXJzZXIgPSBuZXcgVmVyc2lvblBhcnNlcigpOwpmb3JlYWNoICgkcmVxdWlyZW1lbnRzIGFzICRwYWNrYWdlID0+ICRjb25zdHJhaW50KSB7CmlmIChzdHJ0b2xvd2VyKCRwYWNrYWdlKSA9PT0gJGNvbXBvc2VyLT5nZXRQYWNrYWdlKCktPmdldE5hbWUoKSkgewokaW8tPndyaXRlRXJyb3Ioc3ByaW50ZignPGVycm9yPlJvb3QgcGFja2FnZSBcJyVzXCcgY2Fubm90IHJlcXVpcmUgaXRzZWxmIGluIGl0cyBjb21wb3Nlci5qc29uPC9lcnJvcj4nLCAkcGFja2FnZSkpOwoKcmV0dXJuIDE7Cn0KJHZlcnNpb25QYXJzZXItPnBhcnNlQ29uc3RyYWludHMoJGNvbnN0cmFpbnQpOwp9CgokaW5jb25zaXN0ZW50UmVxdWlyZUtleXMgPSAkdGhpcy0+Z2V0SW5jb25zaXN0ZW50UmVxdWlyZUtleXMoJHJlcXVpcmVtZW50cywgJHJlcXVpcmVLZXkpOwppZiAoY291bnQoJGluY29uc2lzdGVudFJlcXVpcmVLZXlzKSA+IDApIHsKZm9yZWFjaCAoJGluY29uc2lzdGVudFJlcXVpcmVLZXlzIGFzICRwYWNrYWdlKSB7CiRpby0+d2FybmluZyhzcHJpbnRmKAonJXMgaXMgY3VycmVudGx5IHByZXNlbnQgaW4gdGhlICVzIGtleSBhbmQgeW91IHJhbiB0aGUgY29tbWFuZCAlcyB0aGUgLS1kZXYgZmxhZywgd2hpY2ggd291bGQgbW92ZSBpdCB0byB0aGUgJXMga2V5LicsCiRwYWNrYWdlLAokcmVtb3ZlS2V5LAokaW5wdXQtPmdldE9wdGlvbignZGV2JykgPyAnd2l0aCcgOiAnd2l0aG91dCcsCiRyZXF1aXJlS2V5CikpOwp9CgppZiAoJGlvLT5pc0ludGVyYWN0aXZlKCkpIHsKaWYgKCEkaW8tPmFza0NvbmZpcm1hdGlvbihzcHJpbnRmKCc8aW5mbz5EbyB5b3Ugd2FudCB0byBtb3ZlICVzPzwvaW5mbz4gWzxjb21tZW50Pm5vPC9jb21tZW50Pl0/ICcsIGNvdW50KCRpbmNvbnNpc3RlbnRSZXF1aXJlS2V5cykgPiAxID8gJ3RoZXNlIHJlcXVpcmVtZW50cycgOiAndGhpcyByZXF1aXJlbWVudCcpLCBmYWxzZSkpIHsKaWYgKCEkaW8tPmFza0NvbmZpcm1hdGlvbihzcHJpbnRmKCc8aW5mbz5EbyB5b3Ugd2FudCB0byByZS1ydW4gdGhlIGNvbW1hbmQgJXMgLS1kZXY/PC9pbmZvPiBbPGNvbW1lbnQ+eWVzPC9jb21tZW50Pl0/ICcsICRpbnB1dC0+Z2V0T3B0aW9uKCdkZXYnKSA/ICd3aXRob3V0JyA6ICd3aXRoJyksIHRydWUpKSB7CnJldHVybiAwOwp9CgpsaXN0KCRyZXF1aXJlS2V5LCAkcmVtb3ZlS2V5KSA9IGFycmF5KCRyZW1vdmVLZXksICRyZXF1aXJlS2V5KTsKfQp9Cn0KCiRzb3J0UGFja2FnZXMgPSAkaW5wdXQtPmdldE9wdGlvbignc29ydC1wYWNrYWdlcycpIHx8ICRjb21wb3Nlci0+Z2V0Q29uZmlnKCktPmdldCgnc29ydC1wYWNrYWdlcycpOwoKJHRoaXMtPmZpcnN0UmVxdWlyZSA9ICR0aGlzLT5uZXdseUNyZWF0ZWQ7CmlmICghJHRoaXMtPmZpcnN0UmVxdWlyZSkgewokY29tcG9zZXJEZWZpbml0aW9uID0gJHRoaXMtPmpzb24tPnJlYWQoKTsKaWYgKGVtcHR5KCRjb21wb3NlckRlZmluaXRpb25bJ3JlcXVpcmUnXSkgJiYgZW1wdHkoJGNvbXBvc2VyRGVmaW5pdGlvblsncmVxdWlyZS1kZXYnXSkpIHsKJHRoaXMtPmZpcnN0UmVxdWlyZSA9IHRydWU7Cn0KfQoKaWYgKCEkaW5wdXQtPmdldE9wdGlvbignZHJ5LXJ1bicpICYmICEkdGhpcy0+dXBkYXRlRmlsZUNsZWFubHkoJHRoaXMtPmpzb24sICRyZXF1aXJlbWVudHMsICRyZXF1aXJlS2V5LCAkcmVtb3ZlS2V5LCAkc29ydFBhY2thZ2VzKSkgewokY29tcG9zZXJEZWZpbml0aW9uID0gJHRoaXMtPmpzb24tPnJlYWQoKTsKZm9yZWFjaCAoJHJlcXVpcmVtZW50cyBhcyAkcGFja2FnZSA9PiAkdmVyc2lvbikgewokY29tcG9zZXJEZWZpbml0aW9uWyRyZXF1aXJlS2V5XVskcGFja2FnZV0gPSAkdmVyc2lvbjsKdW5zZXQoJGNvbXBvc2VyRGVmaW5pdGlvblskcmVtb3ZlS2V5XVskcGFja2FnZV0pOwppZiAoaXNzZXQoJGNvbXBvc2VyRGVmaW5pdGlvblskcmVtb3ZlS2V5XSkgJiYgY291bnQoJGNvbXBvc2VyRGVmaW5pdGlvblskcmVtb3ZlS2V5XSkgPT09IDApIHsKdW5zZXQoJGNvbXBvc2VyRGVmaW5pdGlvblskcmVtb3ZlS2V5XSk7Cn0KfQokdGhpcy0+anNvbi0+d3JpdGUoJGNvbXBvc2VyRGVmaW5pdGlvbik7Cn0KCiRpby0+d3JpdGVFcnJvcignPGluZm8+Jy4kdGhpcy0+ZmlsZS4nIGhhcyBiZWVuICcuKCR0aGlzLT5uZXdseUNyZWF0ZWQgPyAnY3JlYXRlZCcgOiAndXBkYXRlZCcpLic8L2luZm8+Jyk7CgppZiAoJGlucHV0LT5nZXRPcHRpb24oJ25vLXVwZGF0ZScpKSB7CnJldHVybiAwOwp9Cgp0cnkgewpyZXR1cm4gJHRoaXMtPmRvVXBkYXRlKCRpbnB1dCwgJG91dHB1dCwgJGlvLCAkcmVxdWlyZW1lbnRzLCAkcmVxdWlyZUtleSwgJHJlbW92ZUtleSk7Cn0gY2F0Y2ggKFxFeGNlcHRpb24gJGUpIHsKJHRoaXMtPnJldmVydENvbXBvc2VyRmlsZShmYWxzZSk7CnRocm93ICRlOwp9Cn0KCnByaXZhdGUgZnVuY3Rpb24gZ2V0SW5jb25zaXN0ZW50UmVxdWlyZUtleXMoYXJyYXkgJG5ld1JlcXVpcmVtZW50cywgJHJlcXVpcmVLZXkpCnsKJHJlcXVpcmVLZXlzID0gJHRoaXMtPmdldFBhY2thZ2VzQnlSZXF1aXJlS2V5KCk7CiRpbmNvbnNpc3RlbnRSZXF1aXJlbWVudHMgPSBhcnJheSgpOwpmb3JlYWNoICgkcmVxdWlyZUtleXMgYXMgJHBhY2thZ2UgPT4gJHBhY2thZ2VSZXF1aXJlS2V5KSB7CmlmICghaXNzZXQoJG5ld1JlcXVpcmVtZW50c1skcGFja2FnZV0pKSB7CmNvbnRpbnVlOwp9CmlmICgkcmVxdWlyZUtleSAhPT0gJHBhY2thZ2VSZXF1aXJlS2V5KSB7CiRpbmNvbnNpc3RlbnRSZXF1aXJlbWVudHNbXSA9ICRwYWNrYWdlOwp9Cn0KCnJldHVybiAkaW5jb25zaXN0ZW50UmVxdWlyZW1lbnRzOwp9Cgpwcml2YXRlIGZ1bmN0aW9uIGdldFBhY2thZ2VzQnlSZXF1aXJlS2V5KCkKewokY29tcG9zZXJEZWZpbml0aW9uID0gJHRoaXMtPmpzb24tPnJlYWQoKTsKJHJlcXVpcmUgPSBhcnJheSgpOwokcmVxdWlyZURldiA9IGFycmF5KCk7CgppZiAoaXNzZXQoJGNvbXBvc2VyRGVmaW5pdGlvblsncmVxdWlyZSddKSkgewokcmVxdWlyZSA9ICRjb21wb3NlckRlZmluaXRpb25bJ3JlcXVpcmUnXTsKfQoKaWYgKGlzc2V0KCRjb21wb3NlckRlZmluaXRpb25bJ3JlcXVpcmUtZGV2J10pKSB7CiRyZXF1aXJlRGV2ID0gJGNvbXBvc2VyRGVmaW5pdGlvblsncmVxdWlyZS1kZXYnXTsKfQoKcmV0dXJuIGFycmF5X21lcmdlKAphcnJheV9maWxsX2tleXMoYXJyYXlfa2V5cygkcmVxdWlyZSksICdyZXF1aXJlJyksCmFycmF5X2ZpbGxfa2V5cyhhcnJheV9rZXlzKCRyZXF1aXJlRGV2KSwgJ3JlcXVpcmUtZGV2JykKKTsKfQoKcHJpdmF0ZSBmdW5jdGlvbiBkb1VwZGF0ZShJbnB1dEludGVyZmFjZSAkaW5wdXQsIE91dHB1dEludGVyZmFjZSAkb3V0cHV0LCBJT0ludGVyZmFjZSAkaW8sIGFycmF5ICRyZXF1aXJlbWVudHMsICRyZXF1aXJlS2V5LCAkcmVtb3ZlS2V5KQp7CgokdGhpcy0+cmVzZXRDb21wb3NlcigpOwokY29tcG9zZXIgPSAkdGhpcy0+Z2V0Q29tcG9zZXIodHJ1ZSwgJGlucHV0LT5nZXRPcHRpb24oJ25vLXBsdWdpbnMnKSk7CiRjb21wb3Nlci0+Z2V0RXZlbnREaXNwYXRjaGVyKCktPnNldFJ1blNjcmlwdHMoISRpbnB1dC0+Z2V0T3B0aW9uKCduby1zY3JpcHRzJykpOwoKaWYgKCRpbnB1dC0+Z2V0T3B0aW9uKCdkcnktcnVuJykpIHsKJHJvb3RQYWNrYWdlID0gJGNvbXBvc2VyLT5nZXRQYWNrYWdlKCk7CiRsaW5rcyA9IGFycmF5KAoncmVxdWlyZScgPT4gJHJvb3RQYWNrYWdlLT5nZXRSZXF1aXJlcygpLAoncmVxdWlyZS1kZXYnID0+ICRyb290UGFja2FnZS0+Z2V0RGV2UmVxdWlyZXMoKSwKKTsKJGxvYWRlciA9IG5ldyBBcnJheUxvYWRlcigpOwokbmV3TGlua3MgPSAkbG9hZGVyLT5wYXJzZUxpbmtzKCRyb290UGFja2FnZS0+Z2V0TmFtZSgpLCAkcm9vdFBhY2thZ2UtPmdldFByZXR0eVZlcnNpb24oKSwgQmFzZVBhY2thZ2U6OiRzdXBwb3J0ZWRMaW5rVHlwZXNbJHJlcXVpcmVLZXldWydkZXNjcmlwdGlvbiddLCAkcmVxdWlyZW1lbnRzKTsKJGxpbmtzWyRyZXF1aXJlS2V5XSA9IGFycmF5X21lcmdlKCRsaW5rc1skcmVxdWlyZUtleV0sICRuZXdMaW5rcyk7CmZvcmVhY2ggKCRyZXF1aXJlbWVudHMgYXMgJHBhY2thZ2UgPT4gJGNvbnN0cmFpbnQpIHsKdW5zZXQoJGxpbmtzWyRyZW1vdmVLZXldWyRwYWNrYWdlXSk7Cn0KJHJvb3RQYWNrYWdlLT5zZXRSZXF1aXJlcygkbGlua3NbJ3JlcXVpcmUnXSk7CiRyb290UGFja2FnZS0+c2V0RGV2UmVxdWlyZXMoJGxpbmtzWydyZXF1aXJlLWRldiddKTsKfQoKJHVwZGF0ZURldk1vZGUgPSAhJGlucHV0LT5nZXRPcHRpb24oJ3VwZGF0ZS1uby1kZXYnKTsKJG9wdGltaXplID0gJGlucHV0LT5nZXRPcHRpb24oJ29wdGltaXplLWF1dG9sb2FkZXInKSB8fCAkY29tcG9zZXItPmdldENvbmZpZygpLT5nZXQoJ29wdGltaXplLWF1dG9sb2FkZXInKTsKJGF1dGhvcml0YXRpdmUgPSAkaW5wdXQtPmdldE9wdGlvbignY2xhc3NtYXAtYXV0aG9yaXRhdGl2ZScpIHx8ICRjb21wb3Nlci0+Z2V0Q29uZmlnKCktPmdldCgnY2xhc3NtYXAtYXV0aG9yaXRhdGl2ZScpOwokYXBjdVByZWZpeCA9ICRpbnB1dC0+Z2V0T3B0aW9uKCdhcGN1LWF1dG9sb2FkZXItcHJlZml4Jyk7CiRhcGN1ID0gJGFwY3VQcmVmaXggIT09IG51bGwgfHwgJGlucHV0LT5nZXRPcHRpb24oJ2FwY3UtYXV0b2xvYWRlcicpIHx8ICRjb21wb3Nlci0+Z2V0Q29uZmlnKCktPmdldCgnYXBjdS1hdXRvbG9hZGVyJyk7CgokdXBkYXRlQWxsb3dUcmFuc2l0aXZlRGVwZW5kZW5jaWVzID0gUmVxdWVzdDo6VVBEQVRFX09OTFlfTElTVEVEOwokZmxhZ3MgPSAnJzsKaWYgKCRpbnB1dC0+Z2V0T3B0aW9uKCd1cGRhdGUtd2l0aC1hbGwtZGVwZW5kZW5jaWVzJykgfHwgJGlucHV0LT5nZXRPcHRpb24oJ3dpdGgtYWxsLWRlcGVuZGVuY2llcycpKSB7CiR1cGRhdGVBbGxvd1RyYW5zaXRpdmVEZXBlbmRlbmNpZXMgPSBSZXF1ZXN0OjpVUERBVEVfTElTVEVEX1dJVEhfVFJBTlNJVElWRV9ERVBTOwokZmxhZ3MgLj0gJyAtLXdpdGgtYWxsLWRlcGVuZGVuY2llcyc7Cn0gZWxzZWlmICgkaW5wdXQtPmdldE9wdGlvbigndXBkYXRlLXdpdGgtZGVwZW5kZW5jaWVzJykgfHwgJGlucHV0LT5nZXRPcHRpb24oJ3dpdGgtZGVwZW5kZW5jaWVzJykpIHsKJHVwZGF0ZUFsbG93VHJhbnNpdGl2ZURlcGVuZGVuY2llcyA9IFJlcXVlc3Q6OlVQREFURV9MSVNURURfV0lUSF9UUkFOU0lUSVZFX0RFUFNfTk9fUk9PVF9SRVFVSVJFOwokZmxhZ3MgLj0gJyAtLXdpdGgtZGVwZW5kZW5jaWVzJzsKfQoKJGlvLT53cml0ZUVycm9yKCc8aW5mbz5SdW5uaW5nIGNvbXBvc2VyIHVwZGF0ZSAnLmltcGxvZGUoJyAnLCBhcnJheV9rZXlzKCRyZXF1aXJlbWVudHMpKS4kZmxhZ3MuJzwvaW5mbz4nKTsKCiRjb21tYW5kRXZlbnQgPSBuZXcgQ29tbWFuZEV2ZW50KFBsdWdpbkV2ZW50czo6Q09NTUFORCwgJ3JlcXVpcmUnLCAkaW5wdXQsICRvdXRwdXQpOwokY29tcG9zZXItPmdldEV2ZW50RGlzcGF0Y2hlcigpLT5kaXNwYXRjaCgkY29tbWFuZEV2ZW50LT5nZXROYW1lKCksICRjb21tYW5kRXZlbnQpOwoKJGNvbXBvc2VyLT5nZXRJbnN0YWxsYXRpb25NYW5hZ2VyKCktPnNldE91dHB1dFByb2dyZXNzKCEkaW5wdXQtPmdldE9wdGlvbignbm8tcHJvZ3Jlc3MnKSk7CgokaW5zdGFsbCA9IEluc3RhbGxlcjo6Y3JlYXRlKCRpbywgJGNvbXBvc2VyKTsKCiRpZ25vcmVQbGF0Zm9ybVJlcXMgPSAkaW5wdXQtPmdldE9wdGlvbignaWdub3JlLXBsYXRmb3JtLXJlcXMnKSA/OiAoJGlucHV0LT5nZXRPcHRpb24oJ2lnbm9yZS1wbGF0Zm9ybS1yZXEnKSA/OiBmYWxzZSk7Cmxpc3QoJHByZWZlclNvdXJjZSwgJHByZWZlckRpc3QpID0gJHRoaXMtPmdldFByZWZlcnJlZEluc3RhbGxPcHRpb25zKCRjb21wb3Nlci0+Z2V0Q29uZmlnKCksICRpbnB1dCk7CgokaW5zdGFsbAotPnNldERyeVJ1bigkaW5wdXQtPmdldE9wdGlvbignZHJ5LXJ1bicpKQotPnNldFZlcmJvc2UoJGlucHV0LT5nZXRPcHRpb24oJ3ZlcmJvc2UnKSkKLT5zZXRQcmVmZXJTb3VyY2UoJHByZWZlclNvdXJjZSkKLT5zZXRQcmVmZXJEaXN0KCRwcmVmZXJEaXN0KQotPnNldERldk1vZGUoJHVwZGF0ZURldk1vZGUpCi0+c2V0T3B0aW1pemVBdXRvbG9hZGVyKCRvcHRpbWl6ZSkKLT5zZXRDbGFzc01hcEF1dGhvcml0YXRpdmUoJGF1dGhvcml0YXRpdmUpCi0+c2V0QXBjdUF1dG9sb2FkZXIoJGFwY3UsICRhcGN1UHJlZml4KQotPnNldFVwZGF0ZSh0cnVlKQotPnNldEluc3RhbGwoISRpbnB1dC0+Z2V0T3B0aW9uKCduby1pbnN0YWxsJykpCi0+c2V0VXBkYXRlQWxsb3dUcmFuc2l0aXZlRGVwZW5kZW5jaWVzKCR1cGRhdGVBbGxvd1RyYW5zaXRpdmVEZXBlbmRlbmNpZXMpCi0+c2V0SWdub3JlUGxhdGZvcm1SZXF1aXJlbWVudHMoJGlnbm9yZVBsYXRmb3JtUmVxcykKLT5zZXRQcmVmZXJTdGFibGUoJGlucHV0LT5nZXRPcHRpb24oJ3ByZWZlci1zdGFibGUnKSkKLT5zZXRQcmVmZXJMb3dlc3QoJGlucHV0LT5nZXRPcHRpb24oJ3ByZWZlci1sb3dlc3QnKSkKOwoKCgppZiAoISR0aGlzLT5maXJzdFJlcXVpcmUgJiYgJGNvbXBvc2VyLT5nZXRMb2NrZXIoKS0+aXNMb2NrZWQoKSkgewokaW5zdGFsbC0+c2V0VXBkYXRlQWxsb3dMaXN0KGFycmF5X2tleXMoJHJlcXVpcmVtZW50cykpOwp9Cgokc3RhdHVzID0gJGluc3RhbGwtPnJ1bigpOwppZiAoJHN0YXR1cyAhPT0gMCkgewokdGhpcy0+cmV2ZXJ0Q29tcG9zZXJGaWxlKGZhbHNlKTsKfQoKcmV0dXJuICRzdGF0dXM7Cn0KCnByaXZhdGUgZnVuY3Rpb24gdXBkYXRlRmlsZUNsZWFubHkoJGpzb24sIGFycmF5ICRuZXcsICRyZXF1aXJlS2V5LCAkcmVtb3ZlS2V5LCAkc29ydFBhY2thZ2VzKQp7CiRjb250ZW50cyA9IGZpbGVfZ2V0X2NvbnRlbnRzKCRqc29uLT5nZXRQYXRoKCkpOwoKJG1hbmlwdWxhdG9yID0gbmV3IEpzb25NYW5pcHVsYXRvcigkY29udGVudHMpOwoKZm9yZWFjaCAoJG5ldyBhcyAkcGFja2FnZSA9PiAkY29uc3RyYWludCkgewppZiAoISRtYW5pcHVsYXRvci0+YWRkTGluaygkcmVxdWlyZUtleSwgJHBhY2thZ2UsICRjb25zdHJhaW50LCAkc29ydFBhY2thZ2VzKSkgewpyZXR1cm4gZmFsc2U7Cn0KaWYgKCEkbWFuaXB1bGF0b3ItPnJlbW92ZVN1Yk5vZGUoJHJlbW92ZUtleSwgJHBhY2thZ2UpKSB7CnJldHVybiBmYWxzZTsKfQp9CgokbWFuaXB1bGF0b3ItPnJlbW92ZU1haW5LZXlJZkVtcHR5KCRyZW1vdmVLZXkpOwoKZmlsZV9wdXRfY29udGVudHMoJGpzb24tPmdldFBhdGgoKSwgJG1hbmlwdWxhdG9yLT5nZXRDb250ZW50cygpKTsKCnJldHVybiB0cnVlOwp9Cgpwcm90ZWN0ZWQgZnVuY3Rpb24gaW50ZXJhY3QoSW5wdXRJbnRlcmZhY2UgJGlucHV0LCBPdXRwdXRJbnRlcmZhY2UgJG91dHB1dCkKewpyZXR1cm47Cn0KCnB1YmxpYyBmdW5jdGlvbiByZXZlcnRDb21wb3NlckZpbGUoJGhhcmRFeGl0ID0gdHJ1ZSkKewokaW8gPSAkdGhpcy0+Z2V0SU8oKTsKCmlmICgkdGhpcy0+bmV3bHlDcmVhdGVkKSB7CiRpby0+d3JpdGVFcnJvcigiXG4iLic8ZXJyb3I+SW5zdGFsbGF0aW9uIGZhaWxlZCwgZGVsZXRpbmcgJy4kdGhpcy0+ZmlsZS4nLjwvZXJyb3I+Jyk7CnVubGluaygkdGhpcy0+anNvbi0+Z2V0UGF0aCgpKTsKaWYgKGZpbGVfZXhpc3RzKCR0aGlzLT5sb2NrKSkgewp1bmxpbmsoJHRoaXMtPmxvY2spOwp9Cn0gZWxzZSB7CiRtc2cgPSAnIHRvIGl0cyAnOwppZiAoJHRoaXMtPmxvY2tCYWNrdXApIHsKJG1zZyA9ICcgYW5kICcuJHRoaXMtPmxvY2suJyB0byB0aGVpciAnOwp9CiRpby0+d3JpdGVFcnJvcigiXG4iLic8ZXJyb3I+SW5zdGFsbGF0aW9uIGZhaWxlZCwgcmV2ZXJ0aW5nICcuJHRoaXMtPmZpbGUuJG1zZy4nb3JpZ2luYWwgY29udGVudC48L2Vycm9yPicpOwpmaWxlX3B1dF9jb250ZW50cygkdGhpcy0+anNvbi0+Z2V0UGF0aCgpLCAkdGhpcy0+Y29tcG9zZXJCYWNrdXApOwppZiAoJHRoaXMtPmxvY2tCYWNrdXApIHsKZmlsZV9wdXRfY29udGVudHMoJHRoaXMtPmxvY2ssICR0aGlzLT5sb2NrQmFja3VwKTsKfQp9CgppZiAoJGhhcmRFeGl0KSB7CmV4aXQoMSk7Cn0KfQp9Cjw/cGhwCgoKCgoKCgoKCgoKbmFtZXNwYWNlIENvbXBvc2VyXENvbW1hbmQ7Cgp1c2UgQ29tcG9zZXJcU2NyaXB0XEV2ZW50IGFzIFNjcmlwdEV2ZW50Owp1c2UgQ29tcG9zZXJcU2NyaXB0XFNjcmlwdEV2ZW50czsKdXNlIENvbXBvc2VyXFV0aWxcUHJvY2Vzc0V4ZWN1dG9yOwp1c2UgQ29tcG9zZXJcVXRpbFxQbGF0Zm9ybTsKdXNlIFN5bWZvbnlcQ29tcG9uZW50XENvbnNvbGVcSW5wdXRcSW5wdXRJbnRlcmZhY2U7CnVzZSBTeW1mb255XENvbXBvbmVudFxDb25zb2xlXElucHV0XElucHV0T3B0aW9uOwp1c2UgU3ltZm9ueVxDb21wb25lbnRcQ29uc29sZVxJbnB1dFxJbnB1dEFyZ3VtZW50Owp1c2UgU3ltZm9ueVxDb21wb25lbnRcQ29uc29sZVxPdXRwdXRcT3V0cHV0SW50ZXJmYWNlOwoKCgoKY2xhc3MgUnVuU2NyaXB0Q29tbWFuZCBleHRlbmRzIEJhc2VDb21tYW5kCnsKCgoKcHJvdGVjdGVkICRzY3JpcHRFdmVudHMgPSBhcnJheSgKU2NyaXB0RXZlbnRzOjpQUkVfSU5TVEFMTF9DTUQsClNjcmlwdEV2ZW50czo6UE9TVF9JTlNUQUxMX0NNRCwKU2NyaXB0RXZlbnRzOjpQUkVfVVBEQVRFX0NNRCwKU2NyaXB0RXZlbnRzOjpQT1NUX1VQREFURV9DTUQsClNjcmlwdEV2ZW50czo6UFJFX1NUQVRVU19DTUQsClNjcmlwdEV2ZW50czo6UE9TVF9TVEFUVVNfQ01ELApTY3JpcHRFdmVudHM6OlBPU1RfUk9PVF9QQUNLQUdFX0lOU1RBTEwsClNjcmlwdEV2ZW50czo6UE9TVF9DUkVBVEVfUFJPSkVDVF9DTUQsClNjcmlwdEV2ZW50czo6UFJFX0FSQ0hJVkVfQ01ELApTY3JpcHRFdmVudHM6OlBPU1RfQVJDSElWRV9DTUQsClNjcmlwdEV2ZW50czo6UFJFX0FVVE9MT0FEX0RVTVAsClNjcmlwdEV2ZW50czo6UE9TVF9BVVRPTE9BRF9EVU1QLAopOwoKcHJvdGVjdGVkIGZ1bmN0aW9uIGNvbmZpZ3VyZSgpCnsKJHRoaXMKLT5zZXROYW1lKCdydW4tc2NyaXB0JykKLT5zZXRBbGlhc2VzKGFycmF5KCdydW4nKSkKLT5zZXREZXNjcmlwdGlvbignUnVucyB0aGUgc2NyaXB0cyBkZWZpbmVkIGluIGNvbXBvc2VyLmpzb24uJykKLT5zZXREZWZpbml0aW9uKGFycmF5KApuZXcgSW5wdXRBcmd1bWVudCgnc2NyaXB0JywgSW5wdXRBcmd1bWVudDo6T1BUSU9OQUwsICdTY3JpcHQgbmFtZSB0byBydW4uJyksCm5ldyBJbnB1dEFyZ3VtZW50KCdhcmdzJywgSW5wdXRBcmd1bWVudDo6SVNfQVJSQVkgfCBJbnB1dEFyZ3VtZW50OjpPUFRJT05BTCwgJycpLApuZXcgSW5wdXRPcHRpb24oJ3RpbWVvdXQnLCBudWxsLCBJbnB1dE9wdGlvbjo6VkFMVUVfUkVRVUlSRUQsICdTZXRzIHNjcmlwdCB0aW1lb3V0IGluIHNlY29uZHMsIG9yIDAgZm9yIG5ldmVyLicpLApuZXcgSW5wdXRPcHRpb24oJ2RldicsIG51bGwsIElucHV0T3B0aW9uOjpWQUxVRV9OT05FLCAnU2V0cyB0aGUgZGV2IG1vZGUuJyksCm5ldyBJbnB1dE9wdGlvbignbm8tZGV2JywgbnVsbCwgSW5wdXRPcHRpb246OlZBTFVFX05PTkUsICdEaXNhYmxlcyB0aGUgZGV2IG1vZGUuJyksCm5ldyBJbnB1dE9wdGlvbignbGlzdCcsICdsJywgSW5wdXRPcHRpb246OlZBTFVFX05PTkUsICdMaXN0IHNjcmlwdHMuJyksCikpCi0+c2V0SGVscCgKPDw8RU9UClRoZSA8aW5mbz5ydW4tc2NyaXB0PC9pbmZvPiBjb21tYW5kIHJ1bnMgc2NyaXB0cyBkZWZpbmVkIGluIGNvbXBvc2VyLmpzb246Cgo8aW5mbz5waHAgY29tcG9zZXIucGhhciBydW4tc2NyaXB0IHBvc3QtdXBkYXRlLWNtZDwvaW5mbz4KClJlYWQgbW9yZSBhdCBodHRwczovL2dldGNvbXBvc2VyLm9yZy9kb2MvMDMtY2xpLm1kI3J1bi1zY3JpcHQKRU9UCikKOwp9Cgpwcm90ZWN0ZWQgZnVuY3Rpb24gZXhlY3V0ZShJbnB1dEludGVyZmFjZSAkaW5wdXQsIE91dHB1dEludGVyZmFjZSAkb3V0cHV0KQp7CmlmICgkaW5wdXQtPmdldE9wdGlvbignbGlzdCcpKSB7CnJldHVybiAkdGhpcy0+bGlzdFNjcmlwdHMoJG91dHB1dCk7Cn0KaWYgKCEkaW5wdXQtPmdldEFyZ3VtZW50KCdzY3JpcHQnKSkgewp0aHJvdyBuZXcgXFJ1bnRpbWVFeGNlcHRpb24oJ01pc3NpbmcgcmVxdWlyZWQgYXJndW1lbnQgInNjcmlwdCInKTsKfQoKJHNjcmlwdCA9ICRpbnB1dC0+Z2V0QXJndW1lbnQoJ3NjcmlwdCcpOwppZiAoIWluX2FycmF5KCRzY3JpcHQsICR0aGlzLT5zY3JpcHRFdmVudHMpKSB7CmlmIChkZWZpbmVkKCdDb21wb3NlclxTY3JpcHRcU2NyaXB0RXZlbnRzOjonLnN0cl9yZXBsYWNlKCctJywgJ18nLCBzdHJ0b3VwcGVyKCRzY3JpcHQpKSkpIHsKdGhyb3cgbmV3IFxJbnZhbGlkQXJndW1lbnRFeGNlcHRpb24oc3ByaW50ZignU2NyaXB0ICIlcyIgY2Fubm90IGJlIHJ1biB3aXRoIHRoaXMgY29tbWFuZCcsICRzY3JpcHQpKTsKfQp9CgokY29tcG9zZXIgPSAkdGhpcy0+Z2V0Q29tcG9zZXIoKTsKJGRldk1vZGUgPSAkaW5wdXQtPmdldE9wdGlvbignZGV2JykgfHwgISRpbnB1dC0+Z2V0T3B0aW9uKCduby1kZXYnKTsKJGV2ZW50ID0gbmV3IFNjcmlwdEV2ZW50KCRzY3JpcHQsICRjb21wb3NlciwgJHRoaXMtPmdldElPKCksICRkZXZNb2RlKTsKJGhhc0xpc3RlbmVycyA9ICRjb21wb3Nlci0+Z2V0RXZlbnREaXNwYXRjaGVyKCktPmhhc0V2ZW50TGlzdGVuZXJzKCRldmVudCk7CmlmICghJGhhc0xpc3RlbmVycykgewp0aHJvdyBuZXcgXEludmFsaWRBcmd1bWVudEV4Y2VwdGlvbihzcHJpbnRmKCdTY3JpcHQgIiVzIiBpcyBub3QgZGVmaW5lZCBpbiB0aGlzIHBhY2thZ2UnLCAkc2NyaXB0KSk7Cn0KCiRhcmdzID0gJGlucHV0LT5nZXRBcmd1bWVudCgnYXJncycpOwoKaWYgKG51bGwgIT09ICR0aW1lb3V0ID0gJGlucHV0LT5nZXRPcHRpb24oJ3RpbWVvdXQnKSkgewppZiAoIWN0eXBlX2RpZ2l0KCR0aW1lb3V0KSkgewp0aHJvdyBuZXcgXFJ1bnRpbWVFeGNlcHRpb24oJ1RpbWVvdXQgdmFsdWUgbXVzdCBiZSBudW1lcmljIGFuZCBwb3NpdGl2ZSBpZiBkZWZpbmVkLCBvciAwIGZvciBmb3JldmVyJyk7Cn0KClByb2Nlc3NFeGVjdXRvcjo6c2V0VGltZW91dCgoaW50KSAkdGltZW91dCk7Cn0KClBsYXRmb3JtOjpwdXRFbnYoJ0NPTVBPU0VSX0RFVl9NT0RFJywgJGRldk1vZGUgPyAnMScgOiAnMCcpOwoKcmV0dXJuICRjb21wb3Nlci0+Z2V0RXZlbnREaXNwYXRjaGVyKCktPmRpc3BhdGNoU2NyaXB0KCRzY3JpcHQsICRkZXZNb2RlLCAkYXJncyk7Cn0KCnByb3RlY3RlZCBmdW5jdGlvbiBsaXN0U2NyaXB0cyhPdXRwdXRJbnRlcmZhY2UgJG91dHB1dCkKewokc2NyaXB0cyA9ICR0aGlzLT5nZXRDb21wb3NlcigpLT5nZXRQYWNrYWdlKCktPmdldFNjcmlwdHMoKTsKCmlmICghY291bnQoJHNjcmlwdHMpKSB7CnJldHVybiAwOwp9CgokaW8gPSAkdGhpcy0+Z2V0SU8oKTsKJGlvLT53cml0ZUVycm9yKCc8aW5mbz5zY3JpcHRzOjwvaW5mbz4nKTsKJHRhYmxlID0gYXJyYXkoKTsKZm9yZWFjaCAoJHNjcmlwdHMgYXMgJG5hbWUgPT4gJHNjcmlwdCkgewokZGVzY3JpcHRpb24gPSAnJzsKdHJ5IHsKJGNtZCA9ICR0aGlzLT5nZXRBcHBsaWNhdGlvbigpLT5maW5kKCRuYW1lKTsKaWYgKCRjbWQgaW5zdGFuY2VvZiBTY3JpcHRBbGlhc0NvbW1hbmQpIHsKJGRlc2NyaXB0aW9uID0gJGNtZC0+Z2V0RGVzY3JpcHRpb24oKTsKfQp9IGNhdGNoIChcU3ltZm9ueVxDb21wb25lbnRcQ29uc29sZVxFeGNlcHRpb25cQ29tbWFuZE5vdEZvdW5kRXhjZXB0aW9uICRlKSB7Cgp9CiR0YWJsZVtdID0gYXJyYXkoJyAgJy4kbmFtZSwgJGRlc2NyaXB0aW9uKTsKfQoKJHRoaXMtPnJlbmRlclRhYmxlKCR0YWJsZSwgJG91dHB1dCk7CgpyZXR1cm4gMDsKfQp9Cjw/cGhwCgoKCgoKCgoKCgoKbmFtZXNwYWNlIENvbXBvc2VyXENvbW1hbmQ7Cgp1c2UgU3ltZm9ueVxDb21wb25lbnRcQ29uc29sZVxJbnB1dFxJbnB1dEludGVyZmFjZTsKdXNlIFN5bWZvbnlcQ29tcG9uZW50XENvbnNvbGVcSW5wdXRcSW5wdXRPcHRpb247CnVzZSBTeW1mb255XENvbXBvbmVudFxDb25zb2xlXElucHV0XElucHV0QXJndW1lbnQ7CnVzZSBTeW1mb255XENvbXBvbmVudFxDb25zb2xlXE91dHB1dFxPdXRwdXRJbnRlcmZhY2U7CgoKCgpjbGFzcyBTY3JpcHRBbGlhc0NvbW1hbmQgZXh0ZW5kcyBCYXNlQ29tbWFuZAp7CnByaXZhdGUgJHNjcmlwdDsKcHJpdmF0ZSAkZGVzY3JpcHRpb247CgpwdWJsaWMgZnVuY3Rpb24gX19jb25zdHJ1Y3QoJHNjcmlwdCwgJGRlc2NyaXB0aW9uKQp7CiR0aGlzLT5zY3JpcHQgPSAkc2NyaXB0OwokdGhpcy0+ZGVzY3JpcHRpb24gPSBlbXB0eSgkZGVzY3JpcHRpb24pID8gJ1J1bnMgdGhlICcuJHNjcmlwdC4nIHNjcmlwdCBhcyBkZWZpbmVkIGluIGNvbXBvc2VyLmpzb24uJyA6ICRkZXNjcmlwdGlvbjsKCnBhcmVudDo6X19jb25zdHJ1Y3QoKTsKfQoKcHJvdGVjdGVkIGZ1bmN0aW9uIGNvbmZpZ3VyZSgpCnsKJHRoaXMKLT5zZXROYW1lKCR0aGlzLT5zY3JpcHQpCi0+c2V0RGVzY3JpcHRpb24oJHRoaXMtPmRlc2NyaXB0aW9uKQotPnNldERlZmluaXRpb24oYXJyYXkoCm5ldyBJbnB1dE9wdGlvbignZGV2JywgbnVsbCwgSW5wdXRPcHRpb246OlZBTFVFX05PTkUsICdTZXRzIHRoZSBkZXYgbW9kZS4nKSwKbmV3IElucHV0T3B0aW9uKCduby1kZXYnLCBudWxsLCBJbnB1dE9wdGlvbjo6VkFMVUVfTk9ORSwgJ0Rpc2FibGVzIHRoZSBkZXYgbW9kZS4nKSwKbmV3IElucHV0QXJndW1lbnQoJ2FyZ3MnLCBJbnB1dEFyZ3VtZW50OjpJU19BUlJBWSB8IElucHV0QXJndW1lbnQ6Ok9QVElPTkFMLCAnJyksCikpCi0+c2V0SGVscCgKPDw8RU9UClRoZSA8aW5mbz5ydW4tc2NyaXB0PC9pbmZvPiBjb21tYW5kIHJ1bnMgc2NyaXB0cyBkZWZpbmVkIGluIGNvbXBvc2VyLmpzb246Cgo8aW5mbz5waHAgY29tcG9zZXIucGhhciBydW4tc2NyaXB0IHBvc3QtdXBkYXRlLWNtZDwvaW5mbz4KClJlYWQgbW9yZSBhdCBodHRwczovL2dldGNvbXBvc2VyLm9yZy9kb2MvMDMtY2xpLm1kI3J1bi1zY3JpcHQKRU9UCikKOwp9Cgpwcm90ZWN0ZWQgZnVuY3Rpb24gZXhlY3V0ZShJbnB1dEludGVyZmFjZSAkaW5wdXQsIE91dHB1dEludGVyZmFjZSAkb3V0cHV0KQp7CiRjb21wb3NlciA9ICR0aGlzLT5nZXRDb21wb3NlcigpOwoKJGFyZ3MgPSAkaW5wdXQtPmdldEFyZ3VtZW50cygpOwoKcmV0dXJuICRjb21wb3Nlci0+Z2V0RXZlbnREaXNwYXRjaGVyKCktPmRpc3BhdGNoU2NyaXB0KCR0aGlzLT5zY3JpcHQsICRpbnB1dC0+Z2V0T3B0aW9uKCdkZXYnKSB8fCAhJGlucHV0LT5nZXRPcHRpb24oJ25vLWRldicpLCAkYXJnc1snYXJncyddKTsKfQp9Cjw/cGhwCgoKCgoKCgoKCgoKbmFtZXNwYWNlIENvbXBvc2VyXENvbW1hbmQ7Cgp1c2UgQ29tcG9zZXJcRmFjdG9yeTsKdXNlIENvbXBvc2VyXEpzb25cSnNvbkZpbGU7CnVzZSBTeW1mb255XENvbXBvbmVudFxDb25zb2xlXElucHV0XElucHV0SW50ZXJmYWNlOwp1c2UgU3ltZm9ueVxDb21wb25lbnRcQ29uc29sZVxJbnB1dFxJbnB1dEFyZ3VtZW50Owp1c2UgU3ltZm9ueVxDb21wb25lbnRcQ29uc29sZVxJbnB1dFxJbnB1dE9wdGlvbjsKdXNlIFN5bWZvbnlcQ29tcG9uZW50XENvbnNvbGVcT3V0cHV0XE91dHB1dEludGVyZmFjZTsKdXNlIENvbXBvc2VyXFJlcG9zaXRvcnlcQ29tcG9zaXRlUmVwb3NpdG9yeTsKdXNlIENvbXBvc2VyXFJlcG9zaXRvcnlcUGxhdGZvcm1SZXBvc2l0b3J5Owp1c2UgQ29tcG9zZXJcUmVwb3NpdG9yeVxSZXBvc2l0b3J5SW50ZXJmYWNlOwp1c2UgQ29tcG9zZXJcUGx1Z2luXENvbW1hbmRFdmVudDsKdXNlIENvbXBvc2VyXFBsdWdpblxQbHVnaW5FdmVudHM7CgoKCgpjbGFzcyBTZWFyY2hDb21tYW5kIGV4dGVuZHMgQmFzZUNvbW1hbmQKewpwcm90ZWN0ZWQgJG1hdGNoZXM7CnByb3RlY3RlZCAkbG93TWF0Y2hlcyA9IGFycmF5KCk7CnByb3RlY3RlZCAkdG9rZW5zOwpwcm90ZWN0ZWQgJG91dHB1dDsKcHJvdGVjdGVkICRvbmx5TmFtZTsKCnByb3RlY3RlZCBmdW5jdGlvbiBjb25maWd1cmUoKQp7CiR0aGlzCi0+c2V0TmFtZSgnc2VhcmNoJykKLT5zZXREZXNjcmlwdGlvbignU2VhcmNoZXMgZm9yIHBhY2thZ2VzLicpCi0+c2V0RGVmaW5pdGlvbihhcnJheSgKbmV3IElucHV0T3B0aW9uKCdvbmx5LW5hbWUnLCAnTicsIElucHV0T3B0aW9uOjpWQUxVRV9OT05FLCAnU2VhcmNoIG9ubHkgaW4gbmFtZScpLApuZXcgSW5wdXRPcHRpb24oJ3R5cGUnLCAndCcsIElucHV0T3B0aW9uOjpWQUxVRV9SRVFVSVJFRCwgJ1NlYXJjaCBmb3IgYSBzcGVjaWZpYyBwYWNrYWdlIHR5cGUnKSwKbmV3IElucHV0T3B0aW9uKCdmb3JtYXQnLCAnZicsIElucHV0T3B0aW9uOjpWQUxVRV9SRVFVSVJFRCwgJ0Zvcm1hdCBvZiB0aGUgb3V0cHV0OiB0ZXh0IG9yIGpzb24nLCAndGV4dCcpLApuZXcgSW5wdXRBcmd1bWVudCgndG9rZW5zJywgSW5wdXRBcmd1bWVudDo6SVNfQVJSQVkgfCBJbnB1dEFyZ3VtZW50OjpSRVFVSVJFRCwgJ3Rva2VucyB0byBzZWFyY2ggZm9yJyksCikpCi0+c2V0SGVscCgKPDw8RU9UClRoZSBzZWFyY2ggY29tbWFuZCBzZWFyY2hlcyBmb3IgcGFja2FnZXMgYnkgaXRzIG5hbWUKPGluZm8+cGhwIGNvbXBvc2VyLnBoYXIgc2VhcmNoIHN5bWZvbnkgY29tcG9zZXI8L2luZm8+CgpSZWFkIG1vcmUgYXQgaHR0cHM6Ly9nZXRjb21wb3Nlci5vcmcvZG9jLzAzLWNsaS5tZCNzZWFyY2gKRU9UCikKOwp9Cgpwcm90ZWN0ZWQgZnVuY3Rpb24gZXhlY3V0ZShJbnB1dEludGVyZmFjZSAkaW5wdXQsIE91dHB1dEludGVyZmFjZSAkb3V0cHV0KQp7CgokcGxhdGZvcm1SZXBvID0gbmV3IFBsYXRmb3JtUmVwb3NpdG9yeTsKJGlvID0gJHRoaXMtPmdldElPKCk7CgokZm9ybWF0ID0gJGlucHV0LT5nZXRPcHRpb24oJ2Zvcm1hdCcpOwppZiAoIWluX2FycmF5KCRmb3JtYXQsIGFycmF5KCd0ZXh0JywgJ2pzb24nKSkpIHsKJGlvLT53cml0ZUVycm9yKHNwcmludGYoJ1Vuc3VwcG9ydGVkIGZvcm1hdCAiJXMiLiBTZWUgaGVscCBmb3Igc3VwcG9ydGVkIGZvcm1hdHMuJywgJGZvcm1hdCkpOwoKcmV0dXJuIDE7Cn0KCmlmICghKCRjb21wb3NlciA9ICR0aGlzLT5nZXRDb21wb3NlcihmYWxzZSkpKSB7CiRjb21wb3NlciA9IEZhY3Rvcnk6OmNyZWF0ZSgkdGhpcy0+Z2V0SU8oKSwgYXJyYXkoKSwgJGlucHV0LT5oYXNQYXJhbWV0ZXJPcHRpb24oJy0tbm8tcGx1Z2lucycpKTsKfQokbG9jYWxSZXBvID0gJGNvbXBvc2VyLT5nZXRSZXBvc2l0b3J5TWFuYWdlcigpLT5nZXRMb2NhbFJlcG9zaXRvcnkoKTsKJGluc3RhbGxlZFJlcG8gPSBuZXcgQ29tcG9zaXRlUmVwb3NpdG9yeShhcnJheSgkbG9jYWxSZXBvLCAkcGxhdGZvcm1SZXBvKSk7CiRyZXBvcyA9IG5ldyBDb21wb3NpdGVSZXBvc2l0b3J5KGFycmF5X21lcmdlKGFycmF5KCRpbnN0YWxsZWRSZXBvKSwgJGNvbXBvc2VyLT5nZXRSZXBvc2l0b3J5TWFuYWdlcigpLT5nZXRSZXBvc2l0b3JpZXMoKSkpOwoKJGNvbW1hbmRFdmVudCA9IG5ldyBDb21tYW5kRXZlbnQoUGx1Z2luRXZlbnRzOjpDT01NQU5ELCAnc2VhcmNoJywgJGlucHV0LCAkb3V0cHV0KTsKJGNvbXBvc2VyLT5nZXRFdmVudERpc3BhdGNoZXIoKS0+ZGlzcGF0Y2goJGNvbW1hbmRFdmVudC0+Z2V0TmFtZSgpLCAkY29tbWFuZEV2ZW50KTsKCiRvbmx5TmFtZSA9ICRpbnB1dC0+Z2V0T3B0aW9uKCdvbmx5LW5hbWUnKTsKJHR5cGUgPSAkaW5wdXQtPmdldE9wdGlvbigndHlwZScpID86IG51bGw7CgokZmxhZ3MgPSAkb25seU5hbWUgPyBSZXBvc2l0b3J5SW50ZXJmYWNlOjpTRUFSQ0hfTkFNRSA6IFJlcG9zaXRvcnlJbnRlcmZhY2U6OlNFQVJDSF9GVUxMVEVYVDsKJHJlc3VsdHMgPSAkcmVwb3MtPnNlYXJjaChpbXBsb2RlKCcgJywgJGlucHV0LT5nZXRBcmd1bWVudCgndG9rZW5zJykpLCAkZmxhZ3MsICR0eXBlKTsKCmlmICgkcmVzdWx0cyAmJiAkZm9ybWF0ID09PSAndGV4dCcpIHsKJHdpZHRoID0gJHRoaXMtPmdldFRlcm1pbmFsV2lkdGgoKTsKCiRuYW1lTGVuZ3RoID0gMDsKZm9yZWFjaCAoJHJlc3VsdHMgYXMgJHJlc3VsdCkgewokbmFtZUxlbmd0aCA9IG1heChzdHJsZW4oJHJlc3VsdFsnbmFtZSddKSwgJG5hbWVMZW5ndGgpOwp9CiRuYW1lTGVuZ3RoICs9IDE7CmZvcmVhY2ggKCRyZXN1bHRzIGFzICRyZXN1bHQpIHsKJGRlc2NyaXB0aW9uID0gaXNzZXQoJHJlc3VsdFsnZGVzY3JpcHRpb24nXSkgPyAkcmVzdWx0WydkZXNjcmlwdGlvbiddIDogJyc7CiRyZW1haW5pbmcgPSAkd2lkdGggLSAkbmFtZUxlbmd0aCAtIDI7CmlmIChzdHJsZW4oJGRlc2NyaXB0aW9uKSA+ICRyZW1haW5pbmcpIHsKJGRlc2NyaXB0aW9uID0gc3Vic3RyKCRkZXNjcmlwdGlvbiwgMCwgJHJlbWFpbmluZyAtIDMpIC4gJy4uLic7Cn0KCiRpby0+d3JpdGUoc3RyX3BhZCgkcmVzdWx0WyduYW1lJ10sICRuYW1lTGVuZ3RoLCAnICcpIC4gJGRlc2NyaXB0aW9uKTsKfQp9IGVsc2VpZiAoJGZvcm1hdCA9PT0gJ2pzb24nKSB7CiRpby0+d3JpdGUoSnNvbkZpbGU6OmVuY29kZSgkcmVzdWx0cykpOwp9CgpyZXR1cm4gMDsKfQp9Cjw/cGhwCgoKCgoKCgoKCgoKbmFtZXNwYWNlIENvbXBvc2VyXENvbW1hbmQ7Cgp1c2UgQ29tcG9zZXJcQ29tcG9zZXI7CnVzZSBDb21wb3NlclxGYWN0b3J5Owp1c2UgQ29tcG9zZXJcQ29uZmlnOwp1c2UgQ29tcG9zZXJcVXRpbFxGaWxlc3lzdGVtOwp1c2UgQ29tcG9zZXJcVXRpbFxQbGF0Zm9ybTsKdXNlIENvbXBvc2VyXFNlbGZVcGRhdGVcS2V5czsKdXNlIENvbXBvc2VyXFNlbGZVcGRhdGVcVmVyc2lvbnM7CnVzZSBDb21wb3NlclxJT1xJT0ludGVyZmFjZTsKdXNlIENvbXBvc2VyXERvd25sb2FkZXJcRmlsZXN5c3RlbUV4Y2VwdGlvbjsKdXNlIENvbXBvc2VyXERvd25sb2FkZXJcVHJhbnNwb3J0RXhjZXB0aW9uOwp1c2UgU3ltZm9ueVxDb21wb25lbnRcQ29uc29sZVxJbnB1dFxJbnB1dEludGVyZmFjZTsKdXNlIFN5bWZvbnlcQ29tcG9uZW50XENvbnNvbGVcSW5wdXRcSW5wdXRPcHRpb247CnVzZSBTeW1mb255XENvbXBvbmVudFxDb25zb2xlXElucHV0XElucHV0QXJndW1lbnQ7CnVzZSBTeW1mb255XENvbXBvbmVudFxDb25zb2xlXE91dHB1dFxPdXRwdXRJbnRlcmZhY2U7CnVzZSBTeW1mb255XENvbXBvbmVudFxGaW5kZXJcRmluZGVyOwoKCgoKCgpjbGFzcyBTZWxmVXBkYXRlQ29tbWFuZCBleHRlbmRzIEJhc2VDb21tYW5kCnsKY29uc3QgSE9NRVBBR0UgPSAnZ2V0Y29tcG9zZXIub3JnJzsKY29uc3QgT0xEX0lOU1RBTExfRVhUID0gJy1vbGQucGhhcic7Cgpwcm90ZWN0ZWQgZnVuY3Rpb24gY29uZmlndXJlKCkKewokdGhpcwotPnNldE5hbWUoJ3NlbGYtdXBkYXRlJykKLT5zZXRBbGlhc2VzKGFycmF5KCdzZWxmdXBkYXRlJykpCi0+c2V0RGVzY3JpcHRpb24oJ1VwZGF0ZXMgY29tcG9zZXIucGhhciB0byB0aGUgbGF0ZXN0IHZlcnNpb24uJykKLT5zZXREZWZpbml0aW9uKGFycmF5KApuZXcgSW5wdXRPcHRpb24oJ3JvbGxiYWNrJywgJ3InLCBJbnB1dE9wdGlvbjo6VkFMVUVfTk9ORSwgJ1JldmVydCB0byBhbiBvbGRlciBpbnN0YWxsYXRpb24gb2YgY29tcG9zZXInKSwKbmV3IElucHV0T3B0aW9uKCdjbGVhbi1iYWNrdXBzJywgbnVsbCwgSW5wdXRPcHRpb246OlZBTFVFX05PTkUsICdEZWxldGUgb2xkIGJhY2t1cHMgZHVyaW5nIGFuIHVwZGF0ZS4gVGhpcyBtYWtlcyB0aGUgY3VycmVudCB2ZXJzaW9uIG9mIGNvbXBvc2VyIHRoZSBvbmx5IGJhY2t1cCBhdmFpbGFibGUgYWZ0ZXIgdGhlIHVwZGF0ZScpLApuZXcgSW5wdXRBcmd1bWVudCgndmVyc2lvbicsIElucHV0QXJndW1lbnQ6Ok9QVElPTkFMLCAnVGhlIHZlcnNpb24gdG8gdXBkYXRlIHRvJyksCm5ldyBJbnB1dE9wdGlvbignbm8tcHJvZ3Jlc3MnLCBudWxsLCBJbnB1dE9wdGlvbjo6VkFMVUVfTk9ORSwgJ0RvIG5vdCBvdXRwdXQgZG93bmxvYWQgcHJvZ3Jlc3MuJyksCm5ldyBJbnB1dE9wdGlvbigndXBkYXRlLWtleXMnLCBudWxsLCBJbnB1dE9wdGlvbjo6VkFMVUVfTk9ORSwgJ1Byb21wdCB1c2VyIGZvciBhIGtleSB1cGRhdGUnKSwKbmV3IElucHV0T3B0aW9uKCdzdGFibGUnLCBudWxsLCBJbnB1dE9wdGlvbjo6VkFMVUVfTk9ORSwgJ0ZvcmNlIGFuIHVwZGF0ZSB0byB0aGUgc3RhYmxlIGNoYW5uZWwnKSwKbmV3IElucHV0T3B0aW9uKCdwcmV2aWV3JywgbnVsbCwgSW5wdXRPcHRpb246OlZBTFVFX05PTkUsICdGb3JjZSBhbiB1cGRhdGUgdG8gdGhlIHByZXZpZXcgY2hhbm5lbCcpLApuZXcgSW5wdXRPcHRpb24oJ3NuYXBzaG90JywgbnVsbCwgSW5wdXRPcHRpb246OlZBTFVFX05PTkUsICdGb3JjZSBhbiB1cGRhdGUgdG8gdGhlIHNuYXBzaG90IGNoYW5uZWwnKSwKbmV3IElucHV0T3B0aW9uKCcxJywgbnVsbCwgSW5wdXRPcHRpb246OlZBTFVFX05PTkUsICdGb3JjZSBhbiB1cGRhdGUgdG8gdGhlIHN0YWJsZSBjaGFubmVsLCBidXQgb25seSB1c2UgMS54IHZlcnNpb25zJyksCm5ldyBJbnB1dE9wdGlvbignMicsIG51bGwsIElucHV0T3B0aW9uOjpWQUxVRV9OT05FLCAnRm9yY2UgYW4gdXBkYXRlIHRvIHRoZSBzdGFibGUgY2hhbm5lbCwgYnV0IG9ubHkgdXNlIDIueCB2ZXJzaW9ucycpLApuZXcgSW5wdXRPcHRpb24oJ3NldC1jaGFubmVsLW9ubHknLCBudWxsLCBJbnB1dE9wdGlvbjo6VkFMVUVfTk9ORSwgJ09ubHkgc3RvcmUgdGhlIGNoYW5uZWwgYXMgdGhlIGRlZmF1bHQgb25lIGFuZCB0aGVuIGV4aXQnKSwKKSkKLT5zZXRIZWxwKAo8PDxFT1QKVGhlIDxpbmZvPnNlbGYtdXBkYXRlPC9pbmZvPiBjb21tYW5kIGNoZWNrcyBnZXRjb21wb3Nlci5vcmcgZm9yIG5ld2VyCnZlcnNpb25zIG9mIGNvbXBvc2VyIGFuZCBpZiBmb3VuZCwgaW5zdGFsbHMgdGhlIGxhdGVzdC4KCjxpbmZvPnBocCBjb21wb3Nlci5waGFyIHNlbGYtdXBkYXRlPC9pbmZvPgoKUmVhZCBtb3JlIGF0IGh0dHBzOi8vZ2V0Y29tcG9zZXIub3JnL2RvYy8wMy1jbGkubWQjc2VsZi11cGRhdGUtc2VsZnVwZGF0ZS0KRU9UCikKOwp9Cgpwcm90ZWN0ZWQgZnVuY3Rpb24gZXhlY3V0ZShJbnB1dEludGVyZmFjZSAkaW5wdXQsIE91dHB1dEludGVyZmFjZSAkb3V0cHV0KQp7CiRjb25maWcgPSBGYWN0b3J5OjpjcmVhdGVDb25maWcoKTsKCmlmICgkY29uZmlnLT5nZXQoJ2Rpc2FibGUtdGxzJykgPT09IHRydWUpIHsKJGJhc2VVcmwgPSAnaHR0cDovLycgLiBzZWxmOjpIT01FUEFHRTsKfSBlbHNlIHsKJGJhc2VVcmwgPSAnaHR0cHM6Ly8nIC4gc2VsZjo6SE9NRVBBR0U7Cn0KCiRpbyA9ICR0aGlzLT5nZXRJTygpOwokaHR0cERvd25sb2FkZXIgPSBGYWN0b3J5OjpjcmVhdGVIdHRwRG93bmxvYWRlcigkaW8sICRjb25maWcpOwoKJHZlcnNpb25zVXRpbCA9IG5ldyBWZXJzaW9ucygkY29uZmlnLCAkaHR0cERvd25sb2FkZXIpOwoKCiRyZXF1ZXN0ZWRDaGFubmVsID0gbnVsbDsKZm9yZWFjaCAoVmVyc2lvbnM6OiRjaGFubmVscyBhcyAkY2hhbm5lbCkgewppZiAoJGlucHV0LT5nZXRPcHRpb24oJGNoYW5uZWwpKSB7CiRyZXF1ZXN0ZWRDaGFubmVsID0gJGNoYW5uZWw7CiR2ZXJzaW9uc1V0aWwtPnNldENoYW5uZWwoJGNoYW5uZWwpOwpicmVhazsKfQp9CgppZiAoJGlucHV0LT5nZXRPcHRpb24oJ3NldC1jaGFubmVsLW9ubHknKSkgewpyZXR1cm4gMDsKfQoKJGNhY2hlRGlyID0gJGNvbmZpZy0+Z2V0KCdjYWNoZS1kaXInKTsKJHJvbGxiYWNrRGlyID0gJGNvbmZpZy0+Z2V0KCdkYXRhLWRpcicpOwokaG9tZSA9ICRjb25maWctPmdldCgnaG9tZScpOwokbG9jYWxGaWxlbmFtZSA9IHJlYWxwYXRoKCRfU0VSVkVSWydhcmd2J11bMF0pID86ICRfU0VSVkVSWydhcmd2J11bMF07CgppZiAoJGlucHV0LT5nZXRPcHRpb24oJ3VwZGF0ZS1rZXlzJykpIHsKcmV0dXJuICR0aGlzLT5mZXRjaEtleXMoJGlvLCAkY29uZmlnKTsKfQoKCmlmICghZmlsZV9leGlzdHMoJGxvY2FsRmlsZW5hbWUpKSB7CnRocm93IG5ldyBGaWxlc3lzdGVtRXhjZXB0aW9uKCdDb21wb3NlciB1cGRhdGUgZmFpbGVkOiB0aGUgIicuJGxvY2FsRmlsZW5hbWUuJyIgaXMgbm90IGFjY2Vzc2libGUnKTsKfQoKCiR0bXBEaXIgPSBpc193cml0YWJsZShkaXJuYW1lKCRsb2NhbEZpbGVuYW1lKSkgPyBkaXJuYW1lKCRsb2NhbEZpbGVuYW1lKSA6ICRjYWNoZURpcjsKCgppZiAoIWlzX3dyaXRhYmxlKCR0bXBEaXIpKSB7CnRocm93IG5ldyBGaWxlc3lzdGVtRXhjZXB0aW9uKCdDb21wb3NlciB1cGRhdGUgZmFpbGVkOiB0aGUgIicuJHRtcERpci4nIiBkaXJlY3RvcnkgdXNlZCB0byBkb3dubG9hZCB0aGUgdGVtcCBmaWxlIGNvdWxkIG5vdCBiZSB3cml0dGVuJyk7Cn0KCgppZiAoZnVuY3Rpb25fZXhpc3RzKCdwb3NpeF9nZXRwd3VpZCcpICYmIGZ1bmN0aW9uX2V4aXN0cygncG9zaXhfZ2V0ZXVpZCcpKSB7CiRjb21wb3NlVXNlciA9IHBvc2l4X2dldHB3dWlkKHBvc2l4X2dldGV1aWQoKSk7CiRob21lT3duZXIgPSBwb3NpeF9nZXRwd3VpZChmaWxlb3duZXIoJGhvbWUpKTsKaWYgKGlzc2V0KCRjb21wb3NlVXNlclsnbmFtZSddLCAkaG9tZU93bmVyWyduYW1lJ10pICYmICRjb21wb3NlVXNlclsnbmFtZSddICE9PSAkaG9tZU93bmVyWyduYW1lJ10pIHsKJGlvLT53cml0ZUVycm9yKCc8d2FybmluZz5Zb3UgYXJlIHJ1bm5pbmcgQ29tcG9zZXIgYXMgIicuJGNvbXBvc2VVc2VyWyduYW1lJ10uJyIsIHdoaWxlICInLiRob21lLiciIGlzIG93bmVkIGJ5ICInLiRob21lT3duZXJbJ25hbWUnXS4nIjwvd2FybmluZz4nKTsKfQp9CgppZiAoJGlucHV0LT5nZXRPcHRpb24oJ3JvbGxiYWNrJykpIHsKcmV0dXJuICR0aGlzLT5yb2xsYmFjaygkb3V0cHV0LCAkcm9sbGJhY2tEaXIsICRsb2NhbEZpbGVuYW1lKTsKfQoKJGxhdGVzdCA9ICR2ZXJzaW9uc1V0aWwtPmdldExhdGVzdCgpOwokbGF0ZXN0U3RhYmxlID0gJHZlcnNpb25zVXRpbC0+Z2V0TGF0ZXN0KCdzdGFibGUnKTsKdHJ5IHsKJGxhdGVzdFByZXZpZXcgPSAkdmVyc2lvbnNVdGlsLT5nZXRMYXRlc3QoJ3ByZXZpZXcnKTsKfSBjYXRjaCAoXFVuZXhwZWN0ZWRWYWx1ZUV4Y2VwdGlvbiAkZSkgewokbGF0ZXN0UHJldmlldyA9ICRsYXRlc3RTdGFibGU7Cn0KJGxhdGVzdFZlcnNpb24gPSAkbGF0ZXN0Wyd2ZXJzaW9uJ107CiR1cGRhdGVWZXJzaW9uID0gJGlucHV0LT5nZXRBcmd1bWVudCgndmVyc2lvbicpID86ICRsYXRlc3RWZXJzaW9uOwokY3VycmVudE1ham9yVmVyc2lvbiA9IHByZWdfcmVwbGFjZSgne14oXGQrKS4qfScsICckMScsIENvbXBvc2VyOjpnZXRWZXJzaW9uKCkpOwokdXBkYXRlTWFqb3JWZXJzaW9uID0gcHJlZ19yZXBsYWNlKCd7XihcZCspLip9JywgJyQxJywgJHVwZGF0ZVZlcnNpb24pOwokcHJldmlld01ham9yVmVyc2lvbiA9IHByZWdfcmVwbGFjZSgne14oXGQrKS4qfScsICckMScsICRsYXRlc3RQcmV2aWV3Wyd2ZXJzaW9uJ10pOwoKaWYgKCR2ZXJzaW9uc1V0aWwtPmdldENoYW5uZWwoKSA9PT0gJ3N0YWJsZScgJiYgISRpbnB1dC0+Z2V0QXJndW1lbnQoJ3ZlcnNpb24nKSkgewoKCmlmICgkY3VycmVudE1ham9yVmVyc2lvbiA8ICR1cGRhdGVNYWpvclZlcnNpb24pIHsKJHNraXBwZWRWZXJzaW9uID0gJHVwZGF0ZVZlcnNpb247CgokdmVyc2lvbnNVdGlsLT5zZXRDaGFubmVsKCRjdXJyZW50TWFqb3JWZXJzaW9uKTsKCiRsYXRlc3QgPSAkdmVyc2lvbnNVdGlsLT5nZXRMYXRlc3QoKTsKJGxhdGVzdFN0YWJsZSA9ICR2ZXJzaW9uc1V0aWwtPmdldExhdGVzdCgnc3RhYmxlJyk7CiRsYXRlc3RWZXJzaW9uID0gJGxhdGVzdFsndmVyc2lvbiddOwokdXBkYXRlVmVyc2lvbiA9ICRsYXRlc3RWZXJzaW9uOwoKJGlvLT53cml0ZUVycm9yKCc8d2FybmluZz5BIG5ldyBzdGFibGUgbWFqb3IgdmVyc2lvbiBvZiBDb21wb3NlciBpcyBhdmFpbGFibGUgKCcuJHNraXBwZWRWZXJzaW9uLicpLCBydW4gImNvbXBvc2VyIHNlbGYtdXBkYXRlIC0tJy4kdXBkYXRlTWFqb3JWZXJzaW9uLiciIHRvIHVwZGF0ZSB0byBpdC4gU2VlIGFsc28gaHR0cHM6Ly9nZXRjb21wb3Nlci5vcmcvJy4kdXBkYXRlTWFqb3JWZXJzaW9uLic8L3dhcm5pbmc+Jyk7Cn0gZWxzZWlmICgkY3VycmVudE1ham9yVmVyc2lvbiA8ICRwcmV2aWV3TWFqb3JWZXJzaW9uKSB7CgokaW8tPndyaXRlRXJyb3IoJzx3YXJuaW5nPkEgcHJldmlldyByZWxlYXNlIG9mIHRoZSBuZXh0IG1ham9yIHZlcnNpb24gb2YgQ29tcG9zZXIgaXMgYXZhaWxhYmxlICgnLiRsYXRlc3RQcmV2aWV3Wyd2ZXJzaW9uJ10uJyksIHJ1biAiY29tcG9zZXIgc2VsZi11cGRhdGUgLS1wcmV2aWV3IiB0byBnaXZlIGl0IGEgdHJ5LiBTZWUgYWxzbyBodHRwczovL2dpdGh1Yi5jb20vY29tcG9zZXIvY29tcG9zZXIvcmVsZWFzZXMgZm9yIGNoYW5nZWxvZ3MuPC93YXJuaW5nPicpOwp9Cn0KCmlmICgkcmVxdWVzdGVkQ2hhbm5lbCAmJiBpc19udW1lcmljKCRyZXF1ZXN0ZWRDaGFubmVsKSAmJiBzdHJwb3MoJGxhdGVzdFN0YWJsZVsndmVyc2lvbiddLCAkcmVxdWVzdGVkQ2hhbm5lbCkgIT09IDApIHsKJGlvLT53cml0ZUVycm9yKCc8d2FybmluZz5XYXJuaW5nOiBZb3UgZm9yY2VkIHRoZSBpbnN0YWxsIG9mICcuJGxhdGVzdFZlcnNpb24uJyB2aWEgLS0nLiRyZXF1ZXN0ZWRDaGFubmVsLicsIGJ1dCAnLiRsYXRlc3RTdGFibGVbJ3ZlcnNpb24nXS4nIGlzIHRoZSBsYXRlc3Qgc3RhYmxlIHZlcnNpb24uIFVwZGF0aW5nIHRvIGl0IHZpYSBjb21wb3NlciBzZWxmLXVwZGF0ZSAtLXN0YWJsZSBpcyByZWNvbW1lbmRlZC48L3dhcm5pbmc+Jyk7Cn0KCmlmIChwcmVnX21hdGNoKCd7XlswLTlhLWZdezQwfSR9JywgJHVwZGF0ZVZlcnNpb24pICYmICR1cGRhdGVWZXJzaW9uICE9PSAkbGF0ZXN0VmVyc2lvbikgewokaW8tPndyaXRlRXJyb3IoJzxlcnJvcj5Zb3UgY2FuIG5vdCB1cGRhdGUgdG8gYSBzcGVjaWZpYyBTSEEtMSBhcyB0aG9zZSBwaGFycyBhcmUgbm90IGF2YWlsYWJsZSBmb3IgZG93bmxvYWQ8L2Vycm9yPicpOwoKcmV0dXJuIDE7Cn0KCiRjaGFubmVsU3RyaW5nID0gJHZlcnNpb25zVXRpbC0+Z2V0Q2hhbm5lbCgpOwppZiAoaXNfbnVtZXJpYygkY2hhbm5lbFN0cmluZykpIHsKJGNoYW5uZWxTdHJpbmcgLj0gJy54JzsKfQoKaWYgKENvbXBvc2VyOjpWRVJTSU9OID09PSAkdXBkYXRlVmVyc2lvbikgewokaW8tPndyaXRlRXJyb3IoCnNwcmludGYoCic8aW5mbz5Zb3UgYXJlIGFscmVhZHkgdXNpbmcgdGhlIGxhdGVzdCBhdmFpbGFibGUgQ29tcG9zZXIgdmVyc2lvbiAlcyAoJXMgY2hhbm5lbCkuPC9pbmZvPicsCiR1cGRhdGVWZXJzaW9uLAokY2hhbm5lbFN0cmluZwopCik7CgoKaWYgKCRpbnB1dC0+Z2V0T3B0aW9uKCdjbGVhbi1iYWNrdXBzJykpIHsKJHRoaXMtPmNsZWFuQmFja3Vwcygkcm9sbGJhY2tEaXIsICR0aGlzLT5nZXRMYXN0QmFja3VwVmVyc2lvbigkcm9sbGJhY2tEaXIpKTsKfQoKcmV0dXJuIDA7Cn0KCiR0ZW1wRmlsZW5hbWUgPSAkdG1wRGlyIC4gJy8nIC4gYmFzZW5hbWUoJGxvY2FsRmlsZW5hbWUsICcucGhhcicpLictdGVtcC5waGFyJzsKJGJhY2t1cEZpbGUgPSBzcHJpbnRmKAonJXMvJXMtJXMlcycsCiRyb2xsYmFja0RpciwKc3RydHIoQ29tcG9zZXI6OlJFTEVBU0VfREFURSwgJyA6JywgJ18tJyksCnByZWdfcmVwbGFjZSgne14oWzAtOWEtZl17N30pWzAtOWEtZl17MzN9JH0nLCAnJDEnLCBDb21wb3Nlcjo6VkVSU0lPTiksCnNlbGY6Ok9MRF9JTlNUQUxMX0VYVAopOwoKJHVwZGF0aW5nVG9UYWcgPSAhcHJlZ19tYXRjaCgne15bMC05YS1mXXs0MH0kfScsICR1cGRhdGVWZXJzaW9uKTsKCiRpby0+d3JpdGUoc3ByaW50ZigiVXBncmFkaW5nIHRvIHZlcnNpb24gPGluZm8+JXM8L2luZm8+ICglcyBjaGFubmVsKS4iLCAkdXBkYXRlVmVyc2lvbiwgJGNoYW5uZWxTdHJpbmcpKTsKJHJlbW90ZUZpbGVuYW1lID0gJGJhc2VVcmwgLiAoJHVwZGF0aW5nVG9UYWcgPyAiL2Rvd25sb2FkL3skdXBkYXRlVmVyc2lvbn0vY29tcG9zZXIucGhhciIgOiAnL2NvbXBvc2VyLnBoYXInKTsKdHJ5IHsKJHNpZ25hdHVyZSA9ICRodHRwRG93bmxvYWRlci0+Z2V0KCRyZW1vdGVGaWxlbmFtZS4nLnNpZycpLT5nZXRCb2R5KCk7Cn0gY2F0Y2ggKFRyYW5zcG9ydEV4Y2VwdGlvbiAkZSkgewppZiAoJGUtPmdldFN0YXR1c0NvZGUoKSA9PT0gNDA0KSB7CnRocm93IG5ldyBcSW52YWxpZEFyZ3VtZW50RXhjZXB0aW9uKCdWZXJzaW9uICInLiR1cGRhdGVWZXJzaW9uLiciIGNvdWxkIG5vdCBiZSBmb3VuZC4nLCAwLCAkZSk7Cn0KdGhyb3cgJGU7Cn0KJGlvLT53cml0ZUVycm9yKCcgICAnLCBmYWxzZSk7CiRodHRwRG93bmxvYWRlci0+Y29weSgkcmVtb3RlRmlsZW5hbWUsICR0ZW1wRmlsZW5hbWUpOwokaW8tPndyaXRlRXJyb3IoJycpOwoKaWYgKCFmaWxlX2V4aXN0cygkdGVtcEZpbGVuYW1lKSB8fCAhJHNpZ25hdHVyZSkgewokaW8tPndyaXRlRXJyb3IoJzxlcnJvcj5UaGUgZG93bmxvYWQgb2YgdGhlIG5ldyBjb21wb3NlciB2ZXJzaW9uIGZhaWxlZCBmb3IgYW4gdW5leHBlY3RlZCByZWFzb248L2Vycm9yPicpOwoKcmV0dXJuIDE7Cn0KCgppZiAoIWV4dGVuc2lvbl9sb2FkZWQoJ29wZW5zc2wnKSAmJiAkY29uZmlnLT5nZXQoJ2Rpc2FibGUtdGxzJykpIHsKJGlvLT53cml0ZUVycm9yKCc8d2FybmluZz5Ta2lwcGluZyBwaGFyIHNpZ25hdHVyZSB2ZXJpZmljYXRpb24gYXMgeW91IGhhdmUgZGlzYWJsZWQgT3BlblNTTCB2aWEgY29uZmlnLmRpc2FibGUtdGxzPC93YXJuaW5nPicpOwp9IGVsc2UgewppZiAoIWV4dGVuc2lvbl9sb2FkZWQoJ29wZW5zc2wnKSkgewp0aHJvdyBuZXcgXFJ1bnRpbWVFeGNlcHRpb24oJ1RoZSBvcGVuc3NsIGV4dGVuc2lvbiBpcyByZXF1aXJlZCBmb3IgcGhhciBzaWduYXR1cmVzIHRvIGJlIHZlcmlmaWVkIGJ1dCBpdCBpcyBub3QgYXZhaWxhYmxlLiAnCi4gJ0lmIHlvdSBjYW4gbm90IGVuYWJsZSB0aGUgb3BlbnNzbCBleHRlbnNpb24sIHlvdSBjYW4gZGlzYWJsZSB0aGlzIGVycm9yLCBhdCB5b3VyIG93biByaXNrLCBieSBzZXR0aW5nIHRoZSBcJ2Rpc2FibGUtdGxzXCcgb3B0aW9uIHRvIHRydWUuJyk7Cn0KCiRzaWdGaWxlID0gJ2ZpbGU6Ly8nLiRob21lLicvJyAuICgkdXBkYXRpbmdUb1RhZyA/ICdrZXlzLnRhZ3MucHViJyA6ICdrZXlzLmRldi5wdWInKTsKaWYgKCFmaWxlX2V4aXN0cygkc2lnRmlsZSkpIHsKZmlsZV9wdXRfY29udGVudHMoCiRob21lLicva2V5cy5kZXYucHViJywKPDw8REVWUFVCS0VZCi0tLS0tQkVHSU4gUFVCTElDIEtFWS0tLS0tCk1JSUNJakFOQmdrcWhraUc5dzBCQVFFRkFBT0NBZzhBTUlJQ0NnS0NBZ0VBbkJESGpaUzZlMFpNb0szeFREN2YKRk5DemxYalgvQWllMmRpdDhRWEEwM3BTck9UYmFNbnhPTjNoVUw0N0x6M2cxU0M2WUpFTVZIcjB6WXE0ZWxXaQppM2VjRkVnekxjaitwWk01WDZxV3UyT3p6NHZXeDNKWW8xL2EvSFlkT3VXOWUzbHdTOFZ0UzBBVkpBK1U4WDBBCmhabkJtR3BsdEhoTzhoUEtIZ2tKdGtUVXhDaGVUY2JxbjR3R0hsOFoyU2VkaURjUFRMd3FleldLVWZyWXp1MWYKby9qM1dGd0ZzNkd0SzR3ZFl0aVhyK3lzcEJaSE8zeTF1ZGY4ZUZGR2NiMlYzRWFMT3J0ZnVyNlhRVml6ak91awo4bHc1enpzZTFRcC9rbEhxYkRSc2pTeko2aUw2RjRheW5CYzZFdXF0LzhjY05BSXowckxqTGhPcmFleWo0ZU5uCjhpb2t3TUtpWHBjclFMVEtIK1JIMUpDdU9WeFE0MzZiSndiU3NwMVZ3aXFmdFBRaWVOK3R6cXkrRWlISkptR2YKVEJBYldjbmNpY0NrOXEybWQrQW1oTmJ2SE80UFdiYno5VHpDN0hKYjQ2MGp5V2V1TUV2dzNnTklwRW8yallhOQpwTVY2Y1ZxblNhK3dPYzBEN3BDOWE2Ym5lMGJ2TGNtM1MrdzZJNWlEQjNsWnNiM0E5VXRSaVNQN2FHU283RDcyCjh0QzgrY0lnWmNJN2s5dmp2T3FIK2Q3c2RPVTJ5UENuUlk2d0ZoNjIvZzhiRG5VcHI1Nm5aTjFHODlHd000ZDQKci9UVTdCUVFJenNaZ0FpcU9HWHZWa2xJZ0FNaVYwaXVjZ2Yzck5CTGpqZU5Fd05TVFRHOUYwQ3RRKzdKTHdhRQp3U0V1QXVSbStwUnFpOEJSblEvR0tVY0NBd0VBQVE9PQotLS0tLUVORCBQVUJMSUMgS0VZLS0tLS0KREVWUFVCS0VZCik7CgpmaWxlX3B1dF9jb250ZW50cygKJGhvbWUuJy9rZXlzLnRhZ3MucHViJywKPDw8VEFHU1BVQktFWQotLS0tLUJFR0lOIFBVQkxJQyBLRVktLS0tLQpNSUlDSWpBTkJna3Foa2lHOXcwQkFRRUZBQU9DQWc4QU1JSUNDZ0tDQWdFQTBWaS8ySzZhcENWajc2bkNuQ2wyCk1RVVBkSytBOWVxa1lCYWNYbzJ3UUJZbXlWbFhtMi9uL1pzWDZwQ0xZUFFUSHlyNWpYYmtRekJ3OFNLcVBkbGgKdkE3TnBiTWVOQ3o3d1AvQW9idlVYTTh4UXVYS2JNRFRZMnVaNE83c00rUGZHYnB0S1BCR0xlOFo4ZDJzVW5UTwpiWHRYNkxyajEzd2tSdG83c3Qvdy9ZcDMzUkhlOVNscWtpaVM0TXNIMWpCa2NJa0VIc1JhdmVaemVkVWF4WTBNCm1iYTB1UGhHVUlucFB6RUh3cllxQkJFdFd2UDk3dDJ2dGZ4OEk1cXYyOGtoMFk2dCtqbmpMMVVyaWQyaXVRWmYKbm9DTUZJT3U0dmtzSzVIeEp4eHJOMEdPbUdtd1ZRak9PdHhrd2lrTmlvdFpHUFI0S3NWajhObkJyTFg3b0d1TQpuUXZHY2lpdStLb0MycjNIREJycERlQlZkT1d4RHpUNVI0aUkwS29MekZoMnBLcXdiWStvYk5QUzJiaisyZGdKCnJWM1Y1SmpyeTQyUU9DQk4zYzg4d1UxUEtmdE9MajJFQ3Bld1k2dm5FNDc4SWlwaUV1N0VBZEs4WndqMkxtVHIKUktRVVNhOWs3Z2dCa1laV0FlTy8yQWcwZXkzZzJiZzdlcWsrc0hFcTV5bklYZDVsaHY2dEM1UEJkSGxXaXBESwp0bDJJeGlFbmVqbk9tQXpHVml2RTFZR2R1WUJqTittanhEVnk4S0dCcmpuejFKUGdBdmdkd0oyZFl3NFJzYy9lClR6Q0ZXR2svSE02YTRmMEl6QldiSjVvdDBQSWk0YW1rMDdJb3RCWERXd3FEaVFUd3l1R0N5bTVFcVdRMkJEOTUKUkd2ODlCUEQrMkRMbkp5c25nc3ZWYVVDQXdFQUFRPT0KLS0tLS1FTkQgUFVCTElDIEtFWS0tLS0tClRBR1NQVUJLRVkKKTsKfQoKJHB1YmtleWlkID0gb3BlbnNzbF9wa2V5X2dldF9wdWJsaWMoJHNpZ0ZpbGUpOwokYWxnbyA9IGRlZmluZWQoJ09QRU5TU0xfQUxHT19TSEEzODQnKSA/IE9QRU5TU0xfQUxHT19TSEEzODQgOiAnU0hBMzg0JzsKaWYgKCFpbl9hcnJheSgnc2hhMzg0JywgYXJyYXlfbWFwKCdzdHJ0b2xvd2VyJywgb3BlbnNzbF9nZXRfbWRfbWV0aG9kcygpKSkpIHsKdGhyb3cgbmV3IFxSdW50aW1lRXhjZXB0aW9uKCdTSEEzODQgaXMgbm90IHN1cHBvcnRlZCBieSB5b3VyIG9wZW5zc2wgZXh0ZW5zaW9uLCBjb3VsZCBub3QgdmVyaWZ5IHRoZSBwaGFyIGZpbGUgaW50ZWdyaXR5Jyk7Cn0KJHNpZ25hdHVyZSA9IGpzb25fZGVjb2RlKCRzaWduYXR1cmUsIHRydWUpOwokc2lnbmF0dXJlID0gYmFzZTY0X2RlY29kZSgkc2lnbmF0dXJlWydzaGEzODQnXSk7CiR2ZXJpZmllZCA9IDEgPT09IG9wZW5zc2xfdmVyaWZ5KGZpbGVfZ2V0X2NvbnRlbnRzKCR0ZW1wRmlsZW5hbWUpLCAkc2lnbmF0dXJlLCAkcHVia2V5aWQsICRhbGdvKTsKCgppZiAoUEhQX1ZFUlNJT05fSUQgPCA4MDAwMCkgewpvcGVuc3NsX2ZyZWVfa2V5KCRwdWJrZXlpZCk7Cn0KCmlmICghJHZlcmlmaWVkKSB7CnRocm93IG5ldyBcUnVudGltZUV4Y2VwdGlvbignVGhlIHBoYXIgc2lnbmF0dXJlIGRpZCBub3QgbWF0Y2ggdGhlIGZpbGUgeW91IGRvd25sb2FkZWQsIHRoaXMgbWVhbnMgeW91ciBwdWJsaWMga2V5cyBhcmUgb3V0ZGF0ZWQgb3IgdGhhdCB0aGUgcGhhciBmaWxlIGlzIGNvcnJ1cHQvaGFzIGJlZW4gbW9kaWZpZWQnKTsKfQp9CgoKaWYgKCRpbnB1dC0+Z2V0T3B0aW9uKCdjbGVhbi1iYWNrdXBzJykpIHsKJHRoaXMtPmNsZWFuQmFja3Vwcygkcm9sbGJhY2tEaXIpOwp9CgppZiAoISR0aGlzLT5zZXRMb2NhbFBoYXIoJGxvY2FsRmlsZW5hbWUsICR0ZW1wRmlsZW5hbWUsICRiYWNrdXBGaWxlKSkgewpAdW5saW5rKCR0ZW1wRmlsZW5hbWUpOwoKcmV0dXJuIDE7Cn0KCmlmIChmaWxlX2V4aXN0cygkYmFja3VwRmlsZSkpIHsKJGlvLT53cml0ZUVycm9yKHNwcmludGYoCidVc2UgPGluZm8+Y29tcG9zZXIgc2VsZi11cGRhdGUgLS1yb2xsYmFjazwvaW5mbz4gdG8gcmV0dXJuIHRvIHZlcnNpb24gPGNvbW1lbnQ+JXM8L2NvbW1lbnQ+JywKQ29tcG9zZXI6OlZFUlNJT04KKSk7Cn0gZWxzZSB7CiRpby0+d3JpdGVFcnJvcignPHdhcm5pbmc+QSBiYWNrdXAgb2YgdGhlIGN1cnJlbnQgdmVyc2lvbiBjb3VsZCBub3QgYmUgd3JpdHRlbiB0byAnLiRiYWNrdXBGaWxlLicsIG5vIHJvbGxiYWNrIHBvc3NpYmxlPC93YXJuaW5nPicpOwp9CgpyZXR1cm4gMDsKfQoKcHJvdGVjdGVkIGZ1bmN0aW9uIGZldGNoS2V5cyhJT0ludGVyZmFjZSAkaW8sIENvbmZpZyAkY29uZmlnKQp7CmlmICghJGlvLT5pc0ludGVyYWN0aXZlKCkpIHsKdGhyb3cgbmV3IFxSdW50aW1lRXhjZXB0aW9uKCdQdWJsaWMga2V5cyBjYW4gbm90IGJlIGZldGNoZWQgaW4gbm9uLWludGVyYWN0aXZlIG1vZGUsIHBsZWFzZSBydW4gQ29tcG9zZXIgaW50ZXJhY3RpdmVseScpOwp9CgokaW8tPndyaXRlKCdPcGVuIDxpbmZvPmh0dHBzOi8vY29tcG9zZXIuZ2l0aHViLmlvL3B1YmtleXMuaHRtbDwvaW5mbz4gdG8gZmluZCB0aGUgbGF0ZXN0IGtleXMnKTsKCiR2YWxpZGF0b3IgPSBmdW5jdGlvbiAoJHZhbHVlKSB7CmlmICghcHJlZ19tYXRjaCgne14tLS0tLUJFR0lOIFBVQkxJQyBLRVktLS0tLSR9JywgdHJpbSgkdmFsdWUpKSkgewp0aHJvdyBuZXcgXFVuZXhwZWN0ZWRWYWx1ZUV4Y2VwdGlvbignSW52YWxpZCBpbnB1dCcpOwp9CgpyZXR1cm4gdHJpbSgkdmFsdWUpLiJcbiI7Cn07CgokZGV2S2V5ID0gJyc7CndoaWxlICghcHJlZ19tYXRjaCgneygtLS0tLUJFR0lOIFBVQkxJQyBLRVktLS0tLS4rPy0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLSl9cycsICRkZXZLZXksICRtYXRjaCkpIHsKJGRldktleSA9ICRpby0+YXNrQW5kVmFsaWRhdGUoJ0VudGVyIERldiAvIFNuYXBzaG90IFB1YmxpYyBLZXkgKGluY2x1ZGluZyBsaW5lcyB3aXRoIC0tLS0tKTogJywgJHZhbGlkYXRvcik7CndoaWxlICgkbGluZSA9ICRpby0+YXNrKCcnKSkgewokZGV2S2V5IC49IHRyaW0oJGxpbmUpLiJcbiI7CmlmICh0cmltKCRsaW5lKSA9PT0gJy0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLScpIHsKYnJlYWs7Cn0KfQp9CmZpbGVfcHV0X2NvbnRlbnRzKCRrZXlQYXRoID0gJGNvbmZpZy0+Z2V0KCdob21lJykuJy9rZXlzLmRldi5wdWInLCAkbWF0Y2hbMF0pOwokaW8tPndyaXRlKCdTdG9yZWQga2V5IHdpdGggZmluZ2VycHJpbnQ6ICcgLiBLZXlzOjpmaW5nZXJwcmludCgka2V5UGF0aCkpOwoKJHRhZ3NLZXkgPSAnJzsKd2hpbGUgKCFwcmVnX21hdGNoKCd7KC0tLS0tQkVHSU4gUFVCTElDIEtFWS0tLS0tLis/LS0tLS1FTkQgUFVCTElDIEtFWS0tLS0tKX1zJywgJHRhZ3NLZXksICRtYXRjaCkpIHsKJHRhZ3NLZXkgPSAkaW8tPmFza0FuZFZhbGlkYXRlKCdFbnRlciBUYWdzIFB1YmxpYyBLZXkgKGluY2x1ZGluZyBsaW5lcyB3aXRoIC0tLS0tKTogJywgJHZhbGlkYXRvcik7CndoaWxlICgkbGluZSA9ICRpby0+YXNrKCcnKSkgewokdGFnc0tleSAuPSB0cmltKCRsaW5lKS4iXG4iOwppZiAodHJpbSgkbGluZSkgPT09ICctLS0tLUVORCBQVUJMSUMgS0VZLS0tLS0nKSB7CmJyZWFrOwp9Cn0KfQpmaWxlX3B1dF9jb250ZW50cygka2V5UGF0aCA9ICRjb25maWctPmdldCgnaG9tZScpLicva2V5cy50YWdzLnB1YicsICRtYXRjaFswXSk7CiRpby0+d3JpdGUoJ1N0b3JlZCBrZXkgd2l0aCBmaW5nZXJwcmludDogJyAuIEtleXM6OmZpbmdlcnByaW50KCRrZXlQYXRoKSk7CgokaW8tPndyaXRlKCdQdWJsaWMga2V5cyBzdG9yZWQgaW4gJy4kY29uZmlnLT5nZXQoJ2hvbWUnKSk7Cn0KCnByb3RlY3RlZCBmdW5jdGlvbiByb2xsYmFjayhPdXRwdXRJbnRlcmZhY2UgJG91dHB1dCwgJHJvbGxiYWNrRGlyLCAkbG9jYWxGaWxlbmFtZSkKewokcm9sbGJhY2tWZXJzaW9uID0gJHRoaXMtPmdldExhc3RCYWNrdXBWZXJzaW9uKCRyb2xsYmFja0Rpcik7CmlmICghJHJvbGxiYWNrVmVyc2lvbikgewp0aHJvdyBuZXcgXFVuZXhwZWN0ZWRWYWx1ZUV4Y2VwdGlvbignQ29tcG9zZXIgcm9sbGJhY2sgZmFpbGVkOiBubyBpbnN0YWxsYXRpb24gdG8gcm9sbCBiYWNrIHRvIGluICInLiRyb2xsYmFja0Rpci4nIicpOwp9Cgokb2xkRmlsZSA9ICRyb2xsYmFja0RpciAuICcvJyAuICRyb2xsYmFja1ZlcnNpb24gLiBzZWxmOjpPTERfSU5TVEFMTF9FWFQ7CgppZiAoIWlzX2ZpbGUoJG9sZEZpbGUpKSB7CnRocm93IG5ldyBGaWxlc3lzdGVtRXhjZXB0aW9uKCdDb21wb3NlciByb2xsYmFjayBmYWlsZWQ6ICInLiRvbGRGaWxlLiciIGNvdWxkIG5vdCBiZSBmb3VuZCcpOwp9CmlmICghRmlsZXN5c3RlbTo6aXNSZWFkYWJsZSgkb2xkRmlsZSkpIHsKdGhyb3cgbmV3IEZpbGVzeXN0ZW1FeGNlcHRpb24oJ0NvbXBvc2VyIHJvbGxiYWNrIGZhaWxlZDogIicuJG9sZEZpbGUuJyIgY291bGQgbm90IGJlIHJlYWQnKTsKfQoKJGlvID0gJHRoaXMtPmdldElPKCk7CiRpby0+d3JpdGVFcnJvcihzcHJpbnRmKCJSb2xsaW5nIGJhY2sgdG8gdmVyc2lvbiA8aW5mbz4lczwvaW5mbz4uIiwgJHJvbGxiYWNrVmVyc2lvbikpOwppZiAoISR0aGlzLT5zZXRMb2NhbFBoYXIoJGxvY2FsRmlsZW5hbWUsICRvbGRGaWxlKSkgewpyZXR1cm4gMTsKfQoKcmV0dXJuIDA7Cn0KCgoKCgoKCgoKCnByb3RlY3RlZCBmdW5jdGlvbiBzZXRMb2NhbFBoYXIoJGxvY2FsRmlsZW5hbWUsICRuZXdGaWxlbmFtZSwgJGJhY2t1cFRhcmdldCA9IG51bGwpCnsKJGlvID0gJHRoaXMtPmdldElPKCk7CkBjaG1vZCgkbmV3RmlsZW5hbWUsIGZpbGVwZXJtcygkbG9jYWxGaWxlbmFtZSkpOwoKCmlmICghJHRoaXMtPnZhbGlkYXRlUGhhcigkbmV3RmlsZW5hbWUsICRlcnJvcikpIHsKJGlvLT53cml0ZUVycm9yKCc8ZXJyb3I+VGhlICcuKCRiYWNrdXBUYXJnZXQgPyAndXBkYXRlJyA6ICdiYWNrdXAnKS4nIGZpbGUgaXMgY29ycnVwdGVkICgnLiRlcnJvci4nKTwvZXJyb3I+Jyk7CgppZiAoJGJhY2t1cFRhcmdldCkgewokaW8tPndyaXRlRXJyb3IoJzxlcnJvcj5QbGVhc2UgcmUtcnVuIHRoZSBzZWxmLXVwZGF0ZSBjb21tYW5kIHRvIHRyeSBhZ2Fpbi48L2Vycm9yPicpOwp9CgpyZXR1cm4gZmFsc2U7Cn0KCgppZiAoJGJhY2t1cFRhcmdldCkgewpAY29weSgkbG9jYWxGaWxlbmFtZSwgJGJhY2t1cFRhcmdldCk7Cn0KCnRyeSB7CmlmIChQbGF0Zm9ybTo6aXNXaW5kb3dzKCkpIHsKCgpjb3B5KCRuZXdGaWxlbmFtZSwgJGxvY2FsRmlsZW5hbWUpOwpAdW5saW5rKCRuZXdGaWxlbmFtZSk7Cn0gZWxzZSB7CnJlbmFtZSgkbmV3RmlsZW5hbWUsICRsb2NhbEZpbGVuYW1lKTsKfQoKcmV0dXJuIHRydWU7Cn0gY2F0Y2ggKFxFeGNlcHRpb24gJGUpIHsKCmlmICghaXNfd3JpdGFibGUoZGlybmFtZSgkbG9jYWxGaWxlbmFtZSkpCiYmICRpby0+aXNJbnRlcmFjdGl2ZSgpCiYmICR0aGlzLT5pc1dpbmRvd3NOb25BZG1pblVzZXIoKSkgewpyZXR1cm4gJHRoaXMtPnRyeUFzV2luZG93c0FkbWluKCRsb2NhbEZpbGVuYW1lLCAkbmV3RmlsZW5hbWUpOwp9CgokYWN0aW9uID0gJ0NvbXBvc2VyICcuKCRiYWNrdXBUYXJnZXQgPyAndXBkYXRlJyA6ICdyb2xsYmFjaycpOwp0aHJvdyBuZXcgRmlsZXN5c3RlbUV4Y2VwdGlvbigkYWN0aW9uLicgZmFpbGVkOiAiJy4kbG9jYWxGaWxlbmFtZS4nIiBjb3VsZCBub3QgYmUgd3JpdHRlbi4nLlBIUF9FT0wuJGUtPmdldE1lc3NhZ2UoKSk7Cn0KfQoKcHJvdGVjdGVkIGZ1bmN0aW9uIGNsZWFuQmFja3Vwcygkcm9sbGJhY2tEaXIsICRleGNlcHQgPSBudWxsKQp7CiRmaW5kZXIgPSAkdGhpcy0+Z2V0T2xkSW5zdGFsbGF0aW9uRmluZGVyKCRyb2xsYmFja0Rpcik7CiRpbyA9ICR0aGlzLT5nZXRJTygpOwokZnMgPSBuZXcgRmlsZXN5c3RlbTsKCmZvcmVhY2ggKCRmaW5kZXIgYXMgJGZpbGUpIHsKaWYgKCRleGNlcHQgJiYgJGZpbGUtPmdldEJhc2VuYW1lKHNlbGY6Ok9MRF9JTlNUQUxMX0VYVCkgPT09ICRleGNlcHQpIHsKY29udGludWU7Cn0KJGZpbGUgPSAoc3RyaW5nKSAkZmlsZTsKJGlvLT53cml0ZUVycm9yKCc8aW5mbz5SZW1vdmluZzogJy4kZmlsZS4nPC9pbmZvPicpOwokZnMtPnJlbW92ZSgkZmlsZSk7Cn0KfQoKcHJvdGVjdGVkIGZ1bmN0aW9uIGdldExhc3RCYWNrdXBWZXJzaW9uKCRyb2xsYmFja0RpcikKewokZmluZGVyID0gJHRoaXMtPmdldE9sZEluc3RhbGxhdGlvbkZpbmRlcigkcm9sbGJhY2tEaXIpOwokZmluZGVyLT5zb3J0QnlOYW1lKCk7CiRmaWxlcyA9IGl0ZXJhdG9yX3RvX2FycmF5KCRmaW5kZXIpOwoKaWYgKGNvdW50KCRmaWxlcykpIHsKcmV0dXJuIGJhc2VuYW1lKGVuZCgkZmlsZXMpLCBzZWxmOjpPTERfSU5TVEFMTF9FWFQpOwp9CgpyZXR1cm4gZmFsc2U7Cn0KCnByb3RlY3RlZCBmdW5jdGlvbiBnZXRPbGRJbnN0YWxsYXRpb25GaW5kZXIoJHJvbGxiYWNrRGlyKQp7CnJldHVybiBGaW5kZXI6OmNyZWF0ZSgpCi0+ZGVwdGgoMCkKLT5maWxlcygpCi0+bmFtZSgnKicgLiBzZWxmOjpPTERfSU5TVEFMTF9FWFQpCi0+aW4oJHJvbGxiYWNrRGlyKTsKfQoKCgoKCgoKCgoKCgoKcHJvdGVjdGVkIGZ1bmN0aW9uIHZhbGlkYXRlUGhhcigkcGhhckZpbGUsICYkZXJyb3IpCnsKaWYgKGluaV9nZXQoJ3BoYXIucmVhZG9ubHknKSkgewpyZXR1cm4gdHJ1ZTsKfQoKdHJ5IHsKCiRwaGFyID0gbmV3IFxQaGFyKCRwaGFyRmlsZSk7Cgp1bnNldCgkcGhhcik7CiRyZXN1bHQgPSB0cnVlOwp9IGNhdGNoIChcRXhjZXB0aW9uICRlKSB7CmlmICghJGUgaW5zdGFuY2VvZiBcVW5leHBlY3RlZFZhbHVlRXhjZXB0aW9uICYmICEkZSBpbnN0YW5jZW9mIFxQaGFyRXhjZXB0aW9uKSB7CnRocm93ICRlOwp9CiRlcnJvciA9ICRlLT5nZXRNZXNzYWdlKCk7CiRyZXN1bHQgPSBmYWxzZTsKfQoKcmV0dXJuICRyZXN1bHQ7Cn0KCgoKCgoKcHJvdGVjdGVkIGZ1bmN0aW9uIGlzV2luZG93c05vbkFkbWluVXNlcigpCnsKaWYgKCFQbGF0Zm9ybTo6aXNXaW5kb3dzKCkpIHsKcmV0dXJuIGZhbHNlOwp9CgoKZXhlYygnZmx0bWMuZXhlIGZpbHRlcnMnLCAkb3V0cHV0LCAkZXhpdENvZGUpOwoKcmV0dXJuICRleGl0Q29kZSAhPT0gMDsKfQoKCgoKCgoKCgoKcHJvdGVjdGVkIGZ1bmN0aW9uIHRyeUFzV2luZG93c0FkbWluKCRsb2NhbEZpbGVuYW1lLCAkbmV3RmlsZW5hbWUpCnsKJGlvID0gJHRoaXMtPmdldElPKCk7CgokaW8tPndyaXRlRXJyb3IoJzxlcnJvcj5VbmFibGUgdG8gd3JpdGUgIicuJGxvY2FsRmlsZW5hbWUuJyIuIEFjY2VzcyBpcyBkZW5pZWQuPC9lcnJvcj4nKTsKJGhlbHBNZXNzYWdlID0gJ1BsZWFzZSBydW4gdGhlIHNlbGYtdXBkYXRlIGNvbW1hbmQgYXMgYW4gQWRtaW5pc3RyYXRvci4nOwokcXVlc3Rpb24gPSAnQ29tcGxldGUgdGhpcyBvcGVyYXRpb24gd2l0aCBBZG1pbmlzdHJhdG9yIHByaXZpbGVnZXMgWzxjb21tZW50PlksbjwvY29tbWVudD5dPyAnOwoKaWYgKCEkaW8tPmFza0NvbmZpcm1hdGlvbigkcXVlc3Rpb24sIGZhbHNlKSkgewokaW8tPndyaXRlRXJyb3IoJzx3YXJuaW5nPk9wZXJhdGlvbiBjYW5jZWxsZWQuICcuJGhlbHBNZXNzYWdlLic8L3dhcm5pbmc+Jyk7CgpyZXR1cm4gZmFsc2U7Cn0KCiR0bXBGaWxlID0gdGVtcG5hbShzeXNfZ2V0X3RlbXBfZGlyKCksICcnKTsKJHNjcmlwdCA9ICR0bXBGaWxlLicudmJzJzsKcmVuYW1lKCR0bXBGaWxlLCAkc2NyaXB0KTsKCiRjaGVja3N1bSA9IGhhc2hfZmlsZSgnc2hhMjU2JywgJG5ld0ZpbGVuYW1lKTsKCgokc291cmNlID0gc3RyX3JlcGxhY2UoJy8nLCAnXFwnLCAkbmV3RmlsZW5hbWUpOwokZGVzdGluYXRpb24gPSBzdHJfcmVwbGFjZSgnLycsICdcXCcsICRsb2NhbEZpbGVuYW1lKTsKCiR2YnMgPSA8PDxFT1QKU2V0IFVBQyA9IENyZWF0ZU9iamVjdCgiU2hlbGwuQXBwbGljYXRpb24iKQpVQUMuU2hlbGxFeGVjdXRlICJjbWQuZXhlIiwgIi9jIGNvcHkgL2IgL3kgIiIkc291cmNlIiIgIiIkZGVzdGluYXRpb24iIiIsICIiLCAicnVuYXMiLCAwCldzY3JpcHQuU2xlZXAoMzAwKQpFT1Q7CgpmaWxlX3B1dF9jb250ZW50cygkc2NyaXB0LCAkdmJzKTsKZXhlYygnIicuJHNjcmlwdC4nIicpOwpAdW5saW5rKCRzY3JpcHQpOwoKCmlmICgkcmVzdWx0ID0gRmlsZXN5c3RlbTo6aXNSZWFkYWJsZSgkbG9jYWxGaWxlbmFtZSkgJiYgKGhhc2hfZmlsZSgnc2hhMjU2JywgJGxvY2FsRmlsZW5hbWUpID09PSAkY2hlY2tzdW0pKSB7CiRpby0+d3JpdGVFcnJvcignPGluZm8+T3BlcmF0aW9uIHN1Y2NlZWRlZC48L2luZm8+Jyk7CkB1bmxpbmsoJG5ld0ZpbGVuYW1lKTsKfSBlbHNlIHsKJGlvLT53cml0ZUVycm9yKCc8ZXJyb3I+T3BlcmF0aW9uIGZhaWxlZC4nLiRoZWxwTWVzc2FnZS4nPC9lcnJvcj4nKTsKfQoKcmV0dXJuICRyZXN1bHQ7Cn0KfQo8P3BocAoKCgoKCgoKCgoKCm5hbWVzcGFjZSBDb21wb3NlclxDb21tYW5kOwoKdXNlIENvbXBvc2VyXENvbXBvc2VyOwp1c2UgQ29tcG9zZXJcRGVwZW5kZW5jeVJlc29sdmVyXERlZmF1bHRQb2xpY3k7CnVzZSBDb21wb3NlclxKc29uXEpzb25GaWxlOwp1c2UgQ29tcG9zZXJcUGFja2FnZVxCYXNlUGFja2FnZTsKdXNlIENvbXBvc2VyXFBhY2thZ2VcQ29tcGxldGVQYWNrYWdlSW50ZXJmYWNlOwp1c2UgQ29tcG9zZXJcUGFja2FnZVxMaW5rOwp1c2UgQ29tcG9zZXJcUGFja2FnZVxBbGlhc1BhY2thZ2U7CnVzZSBDb21wb3NlclxQYWNrYWdlXFBhY2thZ2VJbnRlcmZhY2U7CnVzZSBDb21wb3NlclxQYWNrYWdlXFZlcnNpb25cVmVyc2lvblBhcnNlcjsKdXNlIENvbXBvc2VyXFBhY2thZ2VcVmVyc2lvblxWZXJzaW9uU2VsZWN0b3I7CnVzZSBDb21wb3NlclxQbHVnaW5cQ29tbWFuZEV2ZW50Owp1c2UgQ29tcG9zZXJcUGx1Z2luXFBsdWdpbkV2ZW50czsKdXNlIENvbXBvc2VyXFJlcG9zaXRvcnlcSW5zdGFsbGVkQXJyYXlSZXBvc2l0b3J5Owp1c2UgQ29tcG9zZXJcUmVwb3NpdG9yeVxDb21wb3NlclJlcG9zaXRvcnk7CnVzZSBDb21wb3NlclxSZXBvc2l0b3J5XENvbXBvc2l0ZVJlcG9zaXRvcnk7CnVzZSBDb21wb3NlclxSZXBvc2l0b3J5XFBsYXRmb3JtUmVwb3NpdG9yeTsKdXNlIENvbXBvc2VyXFJlcG9zaXRvcnlcUmVwb3NpdG9yeUZhY3Rvcnk7CnVzZSBDb21wb3NlclxSZXBvc2l0b3J5XEluc3RhbGxlZFJlcG9zaXRvcnk7CnVzZSBDb21wb3NlclxSZXBvc2l0b3J5XFJlcG9zaXRvcnlJbnRlcmZhY2U7CnVzZSBDb21wb3NlclxSZXBvc2l0b3J5XFJlcG9zaXRvcnlTZXQ7CnVzZSBDb21wb3NlclxSZXBvc2l0b3J5XFJvb3RQYWNrYWdlUmVwb3NpdG9yeTsKdXNlIENvbXBvc2VyXFNlbXZlclxDb25zdHJhaW50XENvbnN0cmFpbnRJbnRlcmZhY2U7CnVzZSBDb21wb3NlclxTZW12ZXJcU2VtdmVyOwp1c2UgQ29tcG9zZXJcU3BkeFxTcGR4TGljZW5zZXM7CnVzZSBTeW1mb255XENvbXBvbmVudFxDb25zb2xlXEZvcm1hdHRlclxPdXRwdXRGb3JtYXR0ZXJTdHlsZTsKdXNlIFN5bWZvbnlcQ29tcG9uZW50XENvbnNvbGVcSW5wdXRcSW5wdXRBcmd1bWVudDsKdXNlIFN5bWZvbnlcQ29tcG9uZW50XENvbnNvbGVcSW5wdXRcSW5wdXRJbnRlcmZhY2U7CnVzZSBTeW1mb255XENvbXBvbmVudFxDb25zb2xlXElucHV0XElucHV0T3B0aW9uOwp1c2UgU3ltZm9ueVxDb21wb25lbnRcQ29uc29sZVxPdXRwdXRcT3V0cHV0SW50ZXJmYWNlOwoKCgoKCgoKY2xhc3MgU2hvd0NvbW1hbmQgZXh0ZW5kcyBCYXNlQ29tbWFuZAp7Cgpwcm90ZWN0ZWQgJHZlcnNpb25QYXJzZXI7CnByb3RlY3RlZCAkY29sb3JzOwoKCnByaXZhdGUgJHJlcG9zaXRvcnlTZXQ7Cgpwcm90ZWN0ZWQgZnVuY3Rpb24gY29uZmlndXJlKCkKewokdGhpcwotPnNldE5hbWUoJ3Nob3cnKQotPnNldEFsaWFzZXMoYXJyYXkoJ2luZm8nKSkKLT5zZXREZXNjcmlwdGlvbignU2hvd3MgaW5mb3JtYXRpb24gYWJvdXQgcGFja2FnZXMuJykKLT5zZXREZWZpbml0aW9uKGFycmF5KApuZXcgSW5wdXRBcmd1bWVudCgncGFja2FnZScsIElucHV0QXJndW1lbnQ6Ok9QVElPTkFMLCAnUGFja2FnZSB0byBpbnNwZWN0LiBPciBhIG5hbWUgaW5jbHVkaW5nIGEgd2lsZGNhcmQgKCopIHRvIGZpbHRlciBsaXN0cyBvZiBwYWNrYWdlcyBpbnN0ZWFkLicpLApuZXcgSW5wdXRBcmd1bWVudCgndmVyc2lvbicsIElucHV0QXJndW1lbnQ6Ok9QVElPTkFMLCAnVmVyc2lvbiBvciB2ZXJzaW9uIGNvbnN0cmFpbnQgdG8gaW5zcGVjdCcpLApuZXcgSW5wdXRPcHRpb24oJ2FsbCcsIG51bGwsIElucHV0T3B0aW9uOjpWQUxVRV9OT05FLCAnTGlzdCBhbGwgcGFja2FnZXMnKSwKbmV3IElucHV0T3B0aW9uKCdsb2NrZWQnLCBudWxsLCBJbnB1dE9wdGlvbjo6VkFMVUVfTk9ORSwgJ0xpc3QgYWxsIGxvY2tlZCBwYWNrYWdlcycpLApuZXcgSW5wdXRPcHRpb24oJ2luc3RhbGxlZCcsICdpJywgSW5wdXRPcHRpb246OlZBTFVFX05PTkUsICdMaXN0IGluc3RhbGxlZCBwYWNrYWdlcyBvbmx5IChlbmFibGVkIGJ5IGRlZmF1bHQsIG9ubHkgcHJlc2VudCBmb3IgQkMpLicpLApuZXcgSW5wdXRPcHRpb24oJ3BsYXRmb3JtJywgJ3AnLCBJbnB1dE9wdGlvbjo6VkFMVUVfTk9ORSwgJ0xpc3QgcGxhdGZvcm0gcGFja2FnZXMgb25seScpLApuZXcgSW5wdXRPcHRpb24oJ2F2YWlsYWJsZScsICdhJywgSW5wdXRPcHRpb246OlZBTFVFX05PTkUsICdMaXN0IGF2YWlsYWJsZSBwYWNrYWdlcyBvbmx5JyksCm5ldyBJbnB1dE9wdGlvbignc2VsZicsICdzJywgSW5wdXRPcHRpb246OlZBTFVFX05PTkUsICdTaG93IHRoZSByb290IHBhY2thZ2UgaW5mb3JtYXRpb24nKSwKbmV3IElucHV0T3B0aW9uKCduYW1lLW9ubHknLCAnTicsIElucHV0T3B0aW9uOjpWQUxVRV9OT05FLCAnTGlzdCBwYWNrYWdlIG5hbWVzIG9ubHknKSwKbmV3IElucHV0T3B0aW9uKCdwYXRoJywgJ1AnLCBJbnB1dE9wdGlvbjo6VkFMVUVfTk9ORSwgJ1Nob3cgcGFja2FnZSBwYXRocycpLApuZXcgSW5wdXRPcHRpb24oJ3RyZWUnLCAndCcsIElucHV0T3B0aW9uOjpWQUxVRV9OT05FLCAnTGlzdCB0aGUgZGVwZW5kZW5jaWVzIGFzIGEgdHJlZScpLApuZXcgSW5wdXRPcHRpb24oJ2xhdGVzdCcsICdsJywgSW5wdXRPcHRpb246OlZBTFVFX05PTkUsICdTaG93IHRoZSBsYXRlc3QgdmVyc2lvbicpLApuZXcgSW5wdXRPcHRpb24oJ291dGRhdGVkJywgJ28nLCBJbnB1dE9wdGlvbjo6VkFMVUVfTk9ORSwgJ1Nob3cgdGhlIGxhdGVzdCB2ZXJzaW9uIGJ1dCBvbmx5IGZvciBwYWNrYWdlcyB0aGF0IGFyZSBvdXRkYXRlZCcpLApuZXcgSW5wdXRPcHRpb24oJ2lnbm9yZScsIG51bGwsIElucHV0T3B0aW9uOjpWQUxVRV9SRVFVSVJFRCB8IElucHV0T3B0aW9uOjpWQUxVRV9JU19BUlJBWSwgJ0lnbm9yZSBzcGVjaWZpZWQgcGFja2FnZShzKS4gVXNlIGl0IHdpdGggdGhlIC0tb3V0ZGF0ZWQgb3B0aW9uIGlmIHlvdSBkb25cJ3Qgd2FudCB0byBiZSBpbmZvcm1lZCBhYm91dCBuZXcgdmVyc2lvbnMgb2Ygc29tZSBwYWNrYWdlcy4nKSwKbmV3IElucHV0T3B0aW9uKCdtaW5vci1vbmx5JywgJ20nLCBJbnB1dE9wdGlvbjo6VkFMVUVfTk9ORSwgJ1Nob3cgb25seSBwYWNrYWdlcyB0aGF0IGhhdmUgbWlub3IgU2VtVmVyLWNvbXBhdGlibGUgdXBkYXRlcy4gVXNlIHdpdGggdGhlIC0tb3V0ZGF0ZWQgb3B0aW9uLicpLApuZXcgSW5wdXRPcHRpb24oJ2RpcmVjdCcsICdEJywgSW5wdXRPcHRpb246OlZBTFVFX05PTkUsICdTaG93cyBvbmx5IHBhY2thZ2VzIHRoYXQgYXJlIGRpcmVjdGx5IHJlcXVpcmVkIGJ5IHRoZSByb290IHBhY2thZ2UnKSwKbmV3IElucHV0T3B0aW9uKCdzdHJpY3QnLCBudWxsLCBJbnB1dE9wdGlvbjo6VkFMVUVfTk9ORSwgJ1JldHVybiBhIG5vbi16ZXJvIGV4aXQgY29kZSB3aGVuIHRoZXJlIGFyZSBvdXRkYXRlZCBwYWNrYWdlcycpLApuZXcgSW5wdXRPcHRpb24oJ2Zvcm1hdCcsICdmJywgSW5wdXRPcHRpb246OlZBTFVFX1JFUVVJUkVELCAnRm9ybWF0IG9mIHRoZSBvdXRwdXQ6IHRleHQgb3IganNvbicsICd0ZXh0JyksCm5ldyBJbnB1dE9wdGlvbignbm8tZGV2JywgbnVsbCwgSW5wdXRPcHRpb246OlZBTFVFX05PTkUsICdEaXNhYmxlcyBzZWFyY2ggaW4gcmVxdWlyZS1kZXYgcGFja2FnZXMuJyksCikpCi0+c2V0SGVscCgKPDw8RU9UClRoZSBzaG93IGNvbW1hbmQgZGlzcGxheXMgZGV0YWlsZWQgaW5mb3JtYXRpb24gYWJvdXQgYSBwYWNrYWdlLCBvcgpsaXN0cyBhbGwgcGFja2FnZXMgYXZhaWxhYmxlLgoKUmVhZCBtb3JlIGF0IGh0dHBzOi8vZ2V0Y29tcG9zZXIub3JnL2RvYy8wMy1jbGkubWQjc2hvdwpFT1QKKQo7Cn0KCnByb3RlY3RlZCBmdW5jdGlvbiBleGVjdXRlKElucHV0SW50ZXJmYWNlICRpbnB1dCwgT3V0cHV0SW50ZXJmYWNlICRvdXRwdXQpCnsKJHRoaXMtPnZlcnNpb25QYXJzZXIgPSBuZXcgVmVyc2lvblBhcnNlcjsKaWYgKCRpbnB1dC0+Z2V0T3B0aW9uKCd0cmVlJykpIHsKJHRoaXMtPmluaXRTdHlsZXMoJG91dHB1dCk7Cn0KCiRjb21wb3NlciA9ICR0aGlzLT5nZXRDb21wb3NlcihmYWxzZSk7CiRpbyA9ICR0aGlzLT5nZXRJTygpOwoKaWYgKCRpbnB1dC0+Z2V0T3B0aW9uKCdpbnN0YWxsZWQnKSkgewokaW8tPndyaXRlRXJyb3IoJzx3YXJuaW5nPllvdSBhcmUgdXNpbmcgdGhlIGRlcHJlY2F0ZWQgb3B0aW9uICJpbnN0YWxsZWQiLiBPbmx5IGluc3RhbGxlZCBwYWNrYWdlcyBhcmUgc2hvd24gYnkgZGVmYXVsdCBub3cuIFRoZSAtLWFsbCBvcHRpb24gY2FuIGJlIHVzZWQgdG8gc2hvdyBhbGwgcGFja2FnZXMuPC93YXJuaW5nPicpOwp9CgppZiAoJGlucHV0LT5nZXRPcHRpb24oJ291dGRhdGVkJykpIHsKJGlucHV0LT5zZXRPcHRpb24oJ2xhdGVzdCcsIHRydWUpOwp9IGVsc2VpZiAoJGlucHV0LT5nZXRPcHRpb24oJ2lnbm9yZScpKSB7CiRpby0+d3JpdGVFcnJvcignPHdhcm5pbmc+WW91IGFyZSB1c2luZyB0aGUgb3B0aW9uICJpZ25vcmUiIGZvciBhY3Rpb24gb3RoZXIgdGhhbiAib3V0ZGF0ZWQiLCBpdCB3aWxsIGJlIGlnbm9yZWQuPC93YXJuaW5nPicpOwp9CgppZiAoJGlucHV0LT5nZXRPcHRpb24oJ2RpcmVjdCcpICYmICgkaW5wdXQtPmdldE9wdGlvbignYWxsJykgfHwgJGlucHV0LT5nZXRPcHRpb24oJ2F2YWlsYWJsZScpIHx8ICRpbnB1dC0+Z2V0T3B0aW9uKCdwbGF0Zm9ybScpKSkgewokaW8tPndyaXRlRXJyb3IoJ1RoZSAtLWRpcmVjdCAoLUQpIG9wdGlvbiBpcyBub3QgdXNhYmxlIGluIGNvbWJpbmF0aW9uIHdpdGggLS1hbGwsIC0tcGxhdGZvcm0gKC1wKSBvciAtLWF2YWlsYWJsZSAoLWEpJyk7CgpyZXR1cm4gMTsKfQoKaWYgKCRpbnB1dC0+Z2V0T3B0aW9uKCd0cmVlJykgJiYgKCRpbnB1dC0+Z2V0T3B0aW9uKCdhbGwnKSB8fCAkaW5wdXQtPmdldE9wdGlvbignYXZhaWxhYmxlJykpKSB7CiRpby0+d3JpdGVFcnJvcignVGhlIC0tdHJlZSAoLXQpIG9wdGlvbiBpcyBub3QgdXNhYmxlIGluIGNvbWJpbmF0aW9uIHdpdGggLS1hbGwgb3IgLS1hdmFpbGFibGUgKC1hKScpOwoKcmV0dXJuIDE7Cn0KCmlmICgkaW5wdXQtPmdldE9wdGlvbigndHJlZScpICYmICRpbnB1dC0+Z2V0T3B0aW9uKCdsYXRlc3QnKSkgewokaW8tPndyaXRlRXJyb3IoJ1RoZSAtLXRyZWUgKC10KSBvcHRpb24gaXMgbm90IHVzYWJsZSBpbiBjb21iaW5hdGlvbiB3aXRoIC0tbGF0ZXN0ICgtbCknKTsKCnJldHVybiAxOwp9CgppZiAoJGlucHV0LT5nZXRPcHRpb24oJ3RyZWUnKSAmJiAkaW5wdXQtPmdldE9wdGlvbigncGF0aCcpKSB7CiRpby0+d3JpdGVFcnJvcignVGhlIC0tdHJlZSAoLXQpIG9wdGlvbiBpcyBub3QgdXNhYmxlIGluIGNvbWJpbmF0aW9uIHdpdGggLS1wYXRoICgtUCknKTsKCnJldHVybiAxOwp9CgokZm9ybWF0ID0gJGlucHV0LT5nZXRPcHRpb24oJ2Zvcm1hdCcpOwppZiAoIWluX2FycmF5KCRmb3JtYXQsIGFycmF5KCd0ZXh0JywgJ2pzb24nKSkpIHsKJGlvLT53cml0ZUVycm9yKHNwcmludGYoJ1Vuc3VwcG9ydGVkIGZvcm1hdCAiJXMiLiBTZWUgaGVscCBmb3Igc3VwcG9ydGVkIGZvcm1hdHMuJywgJGZvcm1hdCkpOwoKcmV0dXJuIDE7Cn0KCgokcGxhdGZvcm1PdmVycmlkZXMgPSBhcnJheSgpOwppZiAoJGNvbXBvc2VyKSB7CiRwbGF0Zm9ybU92ZXJyaWRlcyA9ICRjb21wb3Nlci0+Z2V0Q29uZmlnKCktPmdldCgncGxhdGZvcm0nKSA/OiBhcnJheSgpOwp9CiRwbGF0Zm9ybVJlcG8gPSBuZXcgUGxhdGZvcm1SZXBvc2l0b3J5KGFycmF5KCksICRwbGF0Zm9ybU92ZXJyaWRlcyk7CiRsb2NrZWRSZXBvID0gbnVsbDsKCmlmICgkaW5wdXQtPmdldE9wdGlvbignc2VsZicpKSB7CiRwYWNrYWdlID0gJHRoaXMtPmdldENvbXBvc2VyKCktPmdldFBhY2thZ2UoKTsKaWYgKCRpbnB1dC0+Z2V0T3B0aW9uKCduYW1lLW9ubHknKSkgewokaW8tPndyaXRlKCRwYWNrYWdlLT5nZXROYW1lKCkpOwoKcmV0dXJuIDA7Cn0KJHJlcG9zID0gJGluc3RhbGxlZFJlcG8gPSBuZXcgSW5zdGFsbGVkUmVwb3NpdG9yeShhcnJheShuZXcgUm9vdFBhY2thZ2VSZXBvc2l0b3J5KCRwYWNrYWdlKSkpOwp9IGVsc2VpZiAoJGlucHV0LT5nZXRPcHRpb24oJ3BsYXRmb3JtJykpIHsKJHJlcG9zID0gJGluc3RhbGxlZFJlcG8gPSBuZXcgSW5zdGFsbGVkUmVwb3NpdG9yeShhcnJheSgkcGxhdGZvcm1SZXBvKSk7Cn0gZWxzZWlmICgkaW5wdXQtPmdldE9wdGlvbignYXZhaWxhYmxlJykpIHsKJGluc3RhbGxlZFJlcG8gPSBuZXcgSW5zdGFsbGVkUmVwb3NpdG9yeShhcnJheSgkcGxhdGZvcm1SZXBvKSk7CmlmICgkY29tcG9zZXIpIHsKJHJlcG9zID0gbmV3IENvbXBvc2l0ZVJlcG9zaXRvcnkoJGNvbXBvc2VyLT5nZXRSZXBvc2l0b3J5TWFuYWdlcigpLT5nZXRSZXBvc2l0b3JpZXMoKSk7CiRpbnN0YWxsZWRSZXBvLT5hZGRSZXBvc2l0b3J5KCRjb21wb3Nlci0+Z2V0UmVwb3NpdG9yeU1hbmFnZXIoKS0+Z2V0TG9jYWxSZXBvc2l0b3J5KCkpOwp9IGVsc2UgewokZGVmYXVsdFJlcG9zID0gUmVwb3NpdG9yeUZhY3Rvcnk6OmRlZmF1bHRSZXBvcygkaW8pOwokcmVwb3MgPSBuZXcgQ29tcG9zaXRlUmVwb3NpdG9yeSgkZGVmYXVsdFJlcG9zKTsKJGlvLT53cml0ZUVycm9yKCdObyBjb21wb3Nlci5qc29uIGZvdW5kIGluIHRoZSBjdXJyZW50IGRpcmVjdG9yeSwgc2hvd2luZyBhdmFpbGFibGUgcGFja2FnZXMgZnJvbSAnIC4gaW1wbG9kZSgnLCAnLCBhcnJheV9rZXlzKCRkZWZhdWx0UmVwb3MpKSk7Cn0KfSBlbHNlaWYgKCRpbnB1dC0+Z2V0T3B0aW9uKCdhbGwnKSAmJiAkY29tcG9zZXIpIHsKJGxvY2FsUmVwbyA9ICRjb21wb3Nlci0+Z2V0UmVwb3NpdG9yeU1hbmFnZXIoKS0+Z2V0TG9jYWxSZXBvc2l0b3J5KCk7CiRsb2NrZXIgPSAkY29tcG9zZXItPmdldExvY2tlcigpOwppZiAoJGxvY2tlci0+aXNMb2NrZWQoKSkgewokbG9ja2VkUmVwbyA9ICRsb2NrZXItPmdldExvY2tlZFJlcG9zaXRvcnkodHJ1ZSk7CiRpbnN0YWxsZWRSZXBvID0gbmV3IEluc3RhbGxlZFJlcG9zaXRvcnkoYXJyYXkoJGxvY2tlZFJlcG8sICRsb2NhbFJlcG8sICRwbGF0Zm9ybVJlcG8pKTsKfSBlbHNlIHsKJGluc3RhbGxlZFJlcG8gPSBuZXcgSW5zdGFsbGVkUmVwb3NpdG9yeShhcnJheSgkbG9jYWxSZXBvLCAkcGxhdGZvcm1SZXBvKSk7Cn0KJHJlcG9zID0gbmV3IENvbXBvc2l0ZVJlcG9zaXRvcnkoYXJyYXlfbWVyZ2UoYXJyYXkoJGluc3RhbGxlZFJlcG8pLCAkY29tcG9zZXItPmdldFJlcG9zaXRvcnlNYW5hZ2VyKCktPmdldFJlcG9zaXRvcmllcygpKSk7Cn0gZWxzZWlmICgkaW5wdXQtPmdldE9wdGlvbignYWxsJykpIHsKJGRlZmF1bHRSZXBvcyA9IFJlcG9zaXRvcnlGYWN0b3J5OjpkZWZhdWx0UmVwb3MoJGlvKTsKJGlvLT53cml0ZUVycm9yKCdObyBjb21wb3Nlci5qc29uIGZvdW5kIGluIHRoZSBjdXJyZW50IGRpcmVjdG9yeSwgc2hvd2luZyBhdmFpbGFibGUgcGFja2FnZXMgZnJvbSAnIC4gaW1wbG9kZSgnLCAnLCBhcnJheV9rZXlzKCRkZWZhdWx0UmVwb3MpKSk7CiRpbnN0YWxsZWRSZXBvID0gbmV3IEluc3RhbGxlZFJlcG9zaXRvcnkoYXJyYXkoJHBsYXRmb3JtUmVwbykpOwokcmVwb3MgPSBuZXcgQ29tcG9zaXRlUmVwb3NpdG9yeShhcnJheV9tZXJnZShhcnJheSgkaW5zdGFsbGVkUmVwbyksICRkZWZhdWx0UmVwb3MpKTsKfSBlbHNlaWYgKCRpbnB1dC0+Z2V0T3B0aW9uKCdsb2NrZWQnKSkgewppZiAoISRjb21wb3NlciB8fCAhJGNvbXBvc2VyLT5nZXRMb2NrZXIoKS0+aXNMb2NrZWQoKSkgewp0aHJvdyBuZXcgXFVuZXhwZWN0ZWRWYWx1ZUV4Y2VwdGlvbignQSB2YWxpZCBjb21wb3Nlci5qc29uIGFuZCBjb21wb3Nlci5sb2NrIGZpbGVzIGlzIHJlcXVpcmVkIHRvIHJ1biB0aGlzIGNvbW1hbmQgd2l0aCAtLWxvY2tlZCcpOwp9CiRsb2NrZXIgPSAkY29tcG9zZXItPmdldExvY2tlcigpOwokbG9ja2VkUmVwbyA9ICRsb2NrZXItPmdldExvY2tlZFJlcG9zaXRvcnkoISRpbnB1dC0+Z2V0T3B0aW9uKCduby1kZXYnKSk7CiRyZXBvcyA9ICRpbnN0YWxsZWRSZXBvID0gbmV3IEluc3RhbGxlZFJlcG9zaXRvcnkoYXJyYXkoJGxvY2tlZFJlcG8pKTsKfSBlbHNlIHsKCmlmICghJGNvbXBvc2VyKSB7CiRjb21wb3NlciA9ICR0aGlzLT5nZXRDb21wb3NlcigpOwp9CiRyb290UGtnID0gJGNvbXBvc2VyLT5nZXRQYWNrYWdlKCk7CiRyZXBvcyA9ICRpbnN0YWxsZWRSZXBvID0gbmV3IEluc3RhbGxlZFJlcG9zaXRvcnkoYXJyYXkoJGNvbXBvc2VyLT5nZXRSZXBvc2l0b3J5TWFuYWdlcigpLT5nZXRMb2NhbFJlcG9zaXRvcnkoKSkpOwoKaWYgKCRpbnB1dC0+Z2V0T3B0aW9uKCduby1kZXYnKSkgewokcGFja2FnZXMgPSAkdGhpcy0+ZmlsdGVyUmVxdWlyZWRQYWNrYWdlcygkaW5zdGFsbGVkUmVwbywgJHJvb3RQa2cpOwokcmVwb3MgPSAkaW5zdGFsbGVkUmVwbyA9IG5ldyBJbnN0YWxsZWRSZXBvc2l0b3J5KGFycmF5KG5ldyBJbnN0YWxsZWRBcnJheVJlcG9zaXRvcnkoYXJyYXlfbWFwKGZ1bmN0aW9uICgkcGtnKSB7CnJldHVybiBjbG9uZSAkcGtnOwp9LCAkcGFja2FnZXMpKSkpOwp9CgppZiAoISRpbnN0YWxsZWRSZXBvLT5nZXRQYWNrYWdlcygpICYmICgkcm9vdFBrZy0+Z2V0UmVxdWlyZXMoKSB8fCAkcm9vdFBrZy0+Z2V0RGV2UmVxdWlyZXMoKSkpIHsKJGlvLT53cml0ZUVycm9yKCc8d2FybmluZz5ObyBkZXBlbmRlbmNpZXMgaW5zdGFsbGVkLiBUcnkgcnVubmluZyBjb21wb3NlciBpbnN0YWxsIG9yIHVwZGF0ZS48L3dhcm5pbmc+Jyk7Cn0KfQoKaWYgKCRjb21wb3NlcikgewokY29tbWFuZEV2ZW50ID0gbmV3IENvbW1hbmRFdmVudChQbHVnaW5FdmVudHM6OkNPTU1BTkQsICdzaG93JywgJGlucHV0LCAkb3V0cHV0KTsKJGNvbXBvc2VyLT5nZXRFdmVudERpc3BhdGNoZXIoKS0+ZGlzcGF0Y2goJGNvbW1hbmRFdmVudC0+Z2V0TmFtZSgpLCAkY29tbWFuZEV2ZW50KTsKfQoKaWYgKCRpbnB1dC0+Z2V0T3B0aW9uKCdsYXRlc3QnKSAmJiBudWxsID09PSAkY29tcG9zZXIpIHsKJGlvLT53cml0ZUVycm9yKCdObyBjb21wb3Nlci5qc29uIGZvdW5kIGluIHRoZSBjdXJyZW50IGRpcmVjdG9yeSwgZGlzYWJsaW5nICJsYXRlc3QiIG9wdGlvbicpOwokaW5wdXQtPnNldE9wdGlvbignbGF0ZXN0JywgZmFsc2UpOwp9CgokcGFja2FnZUZpbHRlciA9ICRpbnB1dC0+Z2V0QXJndW1lbnQoJ3BhY2thZ2UnKTsKCgppZiAoKCRwYWNrYWdlRmlsdGVyICYmIGZhbHNlID09PSBzdHJwb3MoJHBhY2thZ2VGaWx0ZXIsICcqJykpIHx8ICFlbXB0eSgkcGFja2FnZSkpIHsKaWYgKGVtcHR5KCRwYWNrYWdlKSkgewpsaXN0KCRwYWNrYWdlLCAkdmVyc2lvbnMpID0gJHRoaXMtPmdldFBhY2thZ2UoJGluc3RhbGxlZFJlcG8sICRyZXBvcywgJGlucHV0LT5nZXRBcmd1bWVudCgncGFja2FnZScpLCAkaW5wdXQtPmdldEFyZ3VtZW50KCd2ZXJzaW9uJykpOwoKaWYgKGVtcHR5KCRwYWNrYWdlKSkgewokb3B0aW9ucyA9ICRpbnB1dC0+Z2V0T3B0aW9ucygpOwppZiAoIWlzc2V0KCRvcHRpb25zWyd3b3JraW5nLWRpciddKSB8fCAhZmlsZV9leGlzdHMoJ2NvbXBvc2VyLmpzb24nKSkgewppZiAoUGxhdGZvcm1SZXBvc2l0b3J5Ojppc1BsYXRmb3JtUGFja2FnZSgkaW5wdXQtPmdldEFyZ3VtZW50KCdwYWNrYWdlJykpICYmICEkaW5wdXQtPmdldE9wdGlvbigncGxhdGZvcm0nKSkgewp0aHJvdyBuZXcgXEludmFsaWRBcmd1bWVudEV4Y2VwdGlvbignUGFja2FnZSAnIC4gJHBhY2thZ2VGaWx0ZXIgLiAnIG5vdCBmb3VuZCwgdHJ5IHVzaW5nIC0tcGxhdGZvcm0gKC1wKSB0byBzaG93IHBsYXRmb3JtIHBhY2thZ2VzLicpOwp9CnRocm93IG5ldyBcSW52YWxpZEFyZ3VtZW50RXhjZXB0aW9uKCdQYWNrYWdlICcgLiAkcGFja2FnZUZpbHRlciAuICcgbm90IGZvdW5kJyk7Cn0KCiRpby0+d3JpdGVFcnJvcignUGFja2FnZSAnIC4gJHBhY2thZ2VGaWx0ZXIgLiAnIG5vdCBmb3VuZCBpbiAnIC4gJG9wdGlvbnNbJ3dvcmtpbmctZGlyJ10gLiAnL2NvbXBvc2VyLmpzb24nKTsKCnJldHVybiAxOwp9Cn0gZWxzZSB7CiR2ZXJzaW9ucyA9IGFycmF5KCRwYWNrYWdlLT5nZXRQcmV0dHlWZXJzaW9uKCkgPT4gJHBhY2thZ2UtPmdldFZlcnNpb24oKSk7Cn0KCiRleGl0Q29kZSA9IDA7CmlmICgkaW5wdXQtPmdldE9wdGlvbigndHJlZScpKSB7CiRhcnJheVRyZWUgPSAkdGhpcy0+Z2VuZXJhdGVQYWNrYWdlVHJlZSgkcGFja2FnZSwgJGluc3RhbGxlZFJlcG8sICRyZXBvcyk7CgppZiAoJ2pzb24nID09PSAkZm9ybWF0KSB7CiRpby0+d3JpdGUoSnNvbkZpbGU6OmVuY29kZShhcnJheSgnaW5zdGFsbGVkJyA9PiBhcnJheSgkYXJyYXlUcmVlKSkpKTsKfSBlbHNlIHsKJHRoaXMtPmRpc3BsYXlQYWNrYWdlVHJlZShhcnJheSgkYXJyYXlUcmVlKSk7Cn0KfSBlbHNlIHsKJGxhdGVzdFBhY2thZ2UgPSBudWxsOwppZiAoJGlucHV0LT5nZXRPcHRpb24oJ2xhdGVzdCcpKSB7CiRsYXRlc3RQYWNrYWdlID0gJHRoaXMtPmZpbmRMYXRlc3RQYWNrYWdlKCRwYWNrYWdlLCAkY29tcG9zZXIsICRwbGF0Zm9ybVJlcG8sICRpbnB1dC0+Z2V0T3B0aW9uKCdtaW5vci1vbmx5JykpOwp9CmlmICgKJGlucHV0LT5nZXRPcHRpb24oJ291dGRhdGVkJykKJiYgJGlucHV0LT5nZXRPcHRpb24oJ3N0cmljdCcpCiYmICRsYXRlc3RQYWNrYWdlCiYmICRsYXRlc3RQYWNrYWdlLT5nZXRGdWxsUHJldHR5VmVyc2lvbigpICE9PSAkcGFja2FnZS0+Z2V0RnVsbFByZXR0eVZlcnNpb24oKQomJiAoISRsYXRlc3RQYWNrYWdlIGluc3RhbmNlb2YgQ29tcGxldGVQYWNrYWdlSW50ZXJmYWNlIHx8ICEkbGF0ZXN0UGFja2FnZS0+aXNBYmFuZG9uZWQoKSkKKSB7CiRleGl0Q29kZSA9IDE7Cn0KaWYgKCRpbnB1dC0+Z2V0T3B0aW9uKCdwYXRoJykpIHsKJGlvLT53cml0ZSgkcGFja2FnZS0+Z2V0TmFtZSgpLCBmYWxzZSk7CiRpby0+d3JpdGUoJyAnIC4gc3RydG9rKHJlYWxwYXRoKCRjb21wb3Nlci0+Z2V0SW5zdGFsbGF0aW9uTWFuYWdlcigpLT5nZXRJbnN0YWxsUGF0aCgkcGFja2FnZSkpLCAiXHJcbiIpKTsKCnJldHVybiAkZXhpdENvZGU7Cn0KCmlmICgnanNvbicgPT09ICRmb3JtYXQpIHsKJHRoaXMtPnByaW50UGFja2FnZUluZm9Bc0pzb24oJHBhY2thZ2UsICR2ZXJzaW9ucywgJGluc3RhbGxlZFJlcG8sICRsYXRlc3RQYWNrYWdlID86IG51bGwpOwp9IGVsc2UgewokdGhpcy0+cHJpbnRQYWNrYWdlSW5mbygkcGFja2FnZSwgJHZlcnNpb25zLCAkaW5zdGFsbGVkUmVwbywgJGxhdGVzdFBhY2thZ2UgPzogbnVsbCk7Cn0KfQoKcmV0dXJuICRleGl0Q29kZTsKfQoKCmlmICgkaW5wdXQtPmdldE9wdGlvbigndHJlZScpKSB7CiRyb290UmVxdWlyZXMgPSAkdGhpcy0+Z2V0Um9vdFJlcXVpcmVzKCk7CiRwYWNrYWdlcyA9ICRpbnN0YWxsZWRSZXBvLT5nZXRQYWNrYWdlcygpOwp1c29ydCgkcGFja2FnZXMsICdzdHJjbXAnKTsKJGFycmF5VHJlZSA9IGFycmF5KCk7CmZvcmVhY2ggKCRwYWNrYWdlcyBhcyAkcGFja2FnZSkgewppZiAoaW5fYXJyYXkoJHBhY2thZ2UtPmdldE5hbWUoKSwgJHJvb3RSZXF1aXJlcywgdHJ1ZSkpIHsKJGFycmF5VHJlZVtdID0gJHRoaXMtPmdlbmVyYXRlUGFja2FnZVRyZWUoJHBhY2thZ2UsICRpbnN0YWxsZWRSZXBvLCAkcmVwb3MpOwp9Cn0KCmlmICgnanNvbicgPT09ICRmb3JtYXQpIHsKJGlvLT53cml0ZShKc29uRmlsZTo6ZW5jb2RlKGFycmF5KCdpbnN0YWxsZWQnID0+ICRhcnJheVRyZWUpKSk7Cn0gZWxzZSB7CiR0aGlzLT5kaXNwbGF5UGFja2FnZVRyZWUoJGFycmF5VHJlZSk7Cn0KCnJldHVybiAwOwp9CgppZiAoJHJlcG9zIGluc3RhbmNlb2YgQ29tcG9zaXRlUmVwb3NpdG9yeSkgewokcmVwb3MgPSAkcmVwb3MtPmdldFJlcG9zaXRvcmllcygpOwp9IGVsc2VpZiAoIWlzX2FycmF5KCRyZXBvcykpIHsKJHJlcG9zID0gYXJyYXkoJHJlcG9zKTsKfQoKCiRwYWNrYWdlcyA9IGFycmF5KCk7CiRwYWNrYWdlRmlsdGVyUmVnZXggPSBudWxsOwppZiAobnVsbCAhPT0gJHBhY2thZ2VGaWx0ZXIpIHsKJHBhY2thZ2VGaWx0ZXJSZWdleCA9ICd7Xicuc3RyX3JlcGxhY2UoJ1xcKicsICcuKj8nLCBwcmVnX3F1b3RlKCRwYWNrYWdlRmlsdGVyKSkuJyR9aSc7Cn0KCiRwYWNrYWdlTGlzdEZpbHRlciA9IGFycmF5KCk7CmlmICgkaW5wdXQtPmdldE9wdGlvbignZGlyZWN0JykpIHsKJHBhY2thZ2VMaXN0RmlsdGVyID0gJHRoaXMtPmdldFJvb3RSZXF1aXJlcygpOwp9CgppZiAoJGlucHV0LT5nZXRPcHRpb24oJ3BhdGgnKSAmJiBudWxsID09PSAkY29tcG9zZXIpIHsKJGlvLT53cml0ZUVycm9yKCdObyBjb21wb3Nlci5qc29uIGZvdW5kIGluIHRoZSBjdXJyZW50IGRpcmVjdG9yeSwgZGlzYWJsaW5nICJwYXRoIiBvcHRpb24nKTsKJGlucHV0LT5zZXRPcHRpb24oJ3BhdGgnLCBmYWxzZSk7Cn0KCmZvcmVhY2ggKCRyZXBvcyBhcyAkcmVwbykgewppZiAoJHJlcG8gPT09ICRwbGF0Zm9ybVJlcG8pIHsKJHR5cGUgPSAncGxhdGZvcm0nOwp9IGVsc2VpZiAoJGxvY2tlZFJlcG8gIT09IG51bGwgJiYgJHJlcG8gPT09ICRsb2NrZWRSZXBvKSB7CiR0eXBlID0gJ2xvY2tlZCc7Cn0gZWxzZWlmICgkcmVwbyA9PT0gJGluc3RhbGxlZFJlcG8gfHwgaW5fYXJyYXkoJHJlcG8sICRpbnN0YWxsZWRSZXBvLT5nZXRSZXBvc2l0b3JpZXMoKSwgdHJ1ZSkpIHsKJHR5cGUgPSAnaW5zdGFsbGVkJzsKfSBlbHNlIHsKJHR5cGUgPSAnYXZhaWxhYmxlJzsKfQppZiAoJHJlcG8gaW5zdGFuY2VvZiBDb21wb3NlclJlcG9zaXRvcnkpIHsKZm9yZWFjaCAoJHJlcG8tPmdldFBhY2thZ2VOYW1lcygkcGFja2FnZUZpbHRlcikgYXMgJG5hbWUpIHsKJHBhY2thZ2VzWyR0eXBlXVskbmFtZV0gPSAkbmFtZTsKfQp9IGVsc2Ugewpmb3JlYWNoICgkcmVwby0+Z2V0UGFja2FnZXMoKSBhcyAkcGFja2FnZSkgewppZiAoIWlzc2V0KCRwYWNrYWdlc1skdHlwZV1bJHBhY2thZ2UtPmdldE5hbWUoKV0pCnx8ICFpc19vYmplY3QoJHBhY2thZ2VzWyR0eXBlXVskcGFja2FnZS0+Z2V0TmFtZSgpXSkKfHwgdmVyc2lvbl9jb21wYXJlKCRwYWNrYWdlc1skdHlwZV1bJHBhY2thZ2UtPmdldE5hbWUoKV0tPmdldFZlcnNpb24oKSwgJHBhY2thZ2UtPmdldFZlcnNpb24oKSwgJzwnKQopIHsKd2hpbGUgKCRwYWNrYWdlIGluc3RhbmNlb2YgQWxpYXNQYWNrYWdlKSB7CiRwYWNrYWdlID0gJHBhY2thZ2UtPmdldEFsaWFzT2YoKTsKfQppZiAoISRwYWNrYWdlRmlsdGVyUmVnZXggfHwgcHJlZ19tYXRjaCgkcGFja2FnZUZpbHRlclJlZ2V4LCAkcGFja2FnZS0+Z2V0TmFtZSgpKSkgewppZiAoISRwYWNrYWdlTGlzdEZpbHRlciB8fCBpbl9hcnJheSgkcGFja2FnZS0+Z2V0TmFtZSgpLCAkcGFja2FnZUxpc3RGaWx0ZXIsIHRydWUpKSB7CiRwYWNrYWdlc1skdHlwZV1bJHBhY2thZ2UtPmdldE5hbWUoKV0gPSAkcGFja2FnZTsKfQp9Cn0KfQp9Cn0KCiRzaG93QWxsVHlwZXMgPSAkaW5wdXQtPmdldE9wdGlvbignYWxsJyk7CiRzaG93TGF0ZXN0ID0gJGlucHV0LT5nZXRPcHRpb24oJ2xhdGVzdCcpOwokc2hvd01pbm9yT25seSA9ICRpbnB1dC0+Z2V0T3B0aW9uKCdtaW5vci1vbmx5Jyk7CiRpZ25vcmVkUGFja2FnZXMgPSBhcnJheV9tYXAoJ3N0cnRvbG93ZXInLCAkaW5wdXQtPmdldE9wdGlvbignaWdub3JlJykpOwokaW5kZW50ID0gJHNob3dBbGxUeXBlcyA/ICcgICcgOiAnJzsKCiRsYXRlc3RQYWNrYWdlcyA9IGFycmF5KCk7CiRleGl0Q29kZSA9IDA7CiR2aWV3RGF0YSA9IGFycmF5KCk7CiR2aWV3TWV0YURhdGEgPSBhcnJheSgpOwpmb3JlYWNoIChhcnJheSgncGxhdGZvcm0nID0+IHRydWUsICdsb2NrZWQnID0+IHRydWUsICdhdmFpbGFibGUnID0+IGZhbHNlLCAnaW5zdGFsbGVkJyA9PiB0cnVlKSBhcyAkdHlwZSA9PiAkc2hvd1ZlcnNpb24pIHsKaWYgKGlzc2V0KCRwYWNrYWdlc1skdHlwZV0pKSB7Cmtzb3J0KCRwYWNrYWdlc1skdHlwZV0pOwoKJG5hbWVMZW5ndGggPSAkdmVyc2lvbkxlbmd0aCA9ICRsYXRlc3RMZW5ndGggPSAwOwoKaWYgKCRzaG93TGF0ZXN0ICYmICRzaG93VmVyc2lvbikgewpmb3JlYWNoICgkcGFja2FnZXNbJHR5cGVdIGFzICRwYWNrYWdlKSB7CmlmIChpc19vYmplY3QoJHBhY2thZ2UpKSB7CiRsYXRlc3RQYWNrYWdlID0gJHRoaXMtPmZpbmRMYXRlc3RQYWNrYWdlKCRwYWNrYWdlLCAkY29tcG9zZXIsICRwbGF0Zm9ybVJlcG8sICRzaG93TWlub3JPbmx5KTsKaWYgKCRsYXRlc3RQYWNrYWdlID09PSBmYWxzZSkgewpjb250aW51ZTsKfQoKJGxhdGVzdFBhY2thZ2VzWyRwYWNrYWdlLT5nZXRQcmV0dHlOYW1lKCldID0gJGxhdGVzdFBhY2thZ2U7Cn0KfQp9Cgokd3JpdGVQYXRoID0gISRpbnB1dC0+Z2V0T3B0aW9uKCduYW1lLW9ubHknKSAmJiAkaW5wdXQtPmdldE9wdGlvbigncGF0aCcpOwokd3JpdGVWZXJzaW9uID0gISRpbnB1dC0+Z2V0T3B0aW9uKCduYW1lLW9ubHknKSAmJiAhJGlucHV0LT5nZXRPcHRpb24oJ3BhdGgnKSAmJiAkc2hvd1ZlcnNpb247CiR3cml0ZUxhdGVzdCA9ICR3cml0ZVZlcnNpb24gJiYgJHNob3dMYXRlc3Q7CiR3cml0ZURlc2NyaXB0aW9uID0gISRpbnB1dC0+Z2V0T3B0aW9uKCduYW1lLW9ubHknKSAmJiAhJGlucHV0LT5nZXRPcHRpb24oJ3BhdGgnKTsKCiRoYXNPdXRkYXRlZFBhY2thZ2VzID0gZmFsc2U7Cgokdmlld0RhdGFbJHR5cGVdID0gYXJyYXkoKTsKZm9yZWFjaCAoJHBhY2thZ2VzWyR0eXBlXSBhcyAkcGFja2FnZSkgewokcGFja2FnZVZpZXdEYXRhID0gYXJyYXkoKTsKaWYgKGlzX29iamVjdCgkcGFja2FnZSkpIHsKJGxhdGVzdFBhY2thZ2UgPSBudWxsOwppZiAoJHNob3dMYXRlc3QgJiYgaXNzZXQoJGxhdGVzdFBhY2thZ2VzWyRwYWNrYWdlLT5nZXRQcmV0dHlOYW1lKCldKSkgewokbGF0ZXN0UGFja2FnZSA9ICRsYXRlc3RQYWNrYWdlc1skcGFja2FnZS0+Z2V0UHJldHR5TmFtZSgpXTsKfQoKCiRwYWNrYWdlSXNVcFRvRGF0ZSA9ICRsYXRlc3RQYWNrYWdlICYmICRsYXRlc3RQYWNrYWdlLT5nZXRGdWxsUHJldHR5VmVyc2lvbigpID09PSAkcGFja2FnZS0+Z2V0RnVsbFByZXR0eVZlcnNpb24oKSAmJiAoISRsYXRlc3RQYWNrYWdlIGluc3RhbmNlb2YgQ29tcGxldGVQYWNrYWdlSW50ZXJmYWNlIHx8ICEkbGF0ZXN0UGFja2FnZS0+aXNBYmFuZG9uZWQoKSk7CiRwYWNrYWdlSXNJZ25vcmVkID0gXGluX2FycmF5KCRwYWNrYWdlLT5nZXRQcmV0dHlOYW1lKCksICRpZ25vcmVkUGFja2FnZXMsIHRydWUpOwppZiAoJGlucHV0LT5nZXRPcHRpb24oJ291dGRhdGVkJykgJiYgKCRwYWNrYWdlSXNVcFRvRGF0ZSB8fCAkcGFja2FnZUlzSWdub3JlZCkpIHsKY29udGludWU7Cn0KCmlmICgkaW5wdXQtPmdldE9wdGlvbignb3V0ZGF0ZWQnKSB8fCAkaW5wdXQtPmdldE9wdGlvbignc3RyaWN0JykpIHsKJGhhc091dGRhdGVkUGFja2FnZXMgPSB0cnVlOwp9CgokcGFja2FnZVZpZXdEYXRhWyduYW1lJ10gPSAkcGFja2FnZS0+Z2V0UHJldHR5TmFtZSgpOwokbmFtZUxlbmd0aCA9IG1heCgkbmFtZUxlbmd0aCwgc3RybGVuKCRwYWNrYWdlLT5nZXRQcmV0dHlOYW1lKCkpKTsKaWYgKCR3cml0ZVZlcnNpb24pIHsKJHBhY2thZ2VWaWV3RGF0YVsndmVyc2lvbiddID0gJHBhY2thZ2UtPmdldEZ1bGxQcmV0dHlWZXJzaW9uKCk7CiR2ZXJzaW9uTGVuZ3RoID0gbWF4KCR2ZXJzaW9uTGVuZ3RoLCBzdHJsZW4oJHBhY2thZ2UtPmdldEZ1bGxQcmV0dHlWZXJzaW9uKCkpKTsKfQppZiAoJHdyaXRlTGF0ZXN0ICYmICRsYXRlc3RQYWNrYWdlKSB7CiRwYWNrYWdlVmlld0RhdGFbJ2xhdGVzdCddID0gJGxhdGVzdFBhY2thZ2UtPmdldEZ1bGxQcmV0dHlWZXJzaW9uKCk7CiRwYWNrYWdlVmlld0RhdGFbJ2xhdGVzdC1zdGF0dXMnXSA9ICR0aGlzLT5nZXRVcGRhdGVTdGF0dXMoJGxhdGVzdFBhY2thZ2UsICRwYWNrYWdlKTsKJGxhdGVzdExlbmd0aCA9IG1heCgkbGF0ZXN0TGVuZ3RoLCBzdHJsZW4oJGxhdGVzdFBhY2thZ2UtPmdldEZ1bGxQcmV0dHlWZXJzaW9uKCkpKTsKfQppZiAoJHdyaXRlRGVzY3JpcHRpb24pIHsKJHBhY2thZ2VWaWV3RGF0YVsnZGVzY3JpcHRpb24nXSA9ICRwYWNrYWdlLT5nZXREZXNjcmlwdGlvbigpOwp9CmlmICgkd3JpdGVQYXRoKSB7CiRwYWNrYWdlVmlld0RhdGFbJ3BhdGgnXSA9IHN0cnRvayhyZWFscGF0aCgkY29tcG9zZXItPmdldEluc3RhbGxhdGlvbk1hbmFnZXIoKS0+Z2V0SW5zdGFsbFBhdGgoJHBhY2thZ2UpKSwgIlxyXG4iKTsKfQoKaWYgKCRsYXRlc3RQYWNrYWdlIGluc3RhbmNlb2YgQ29tcGxldGVQYWNrYWdlSW50ZXJmYWNlICYmICRsYXRlc3RQYWNrYWdlLT5pc0FiYW5kb25lZCgpKSB7CiRyZXBsYWNlbWVudCA9IGlzX3N0cmluZygkbGF0ZXN0UGFja2FnZS0+Z2V0UmVwbGFjZW1lbnRQYWNrYWdlKCkpCj8gJ1VzZSAnIC4gJGxhdGVzdFBhY2thZ2UtPmdldFJlcGxhY2VtZW50UGFja2FnZSgpIC4gJyBpbnN0ZWFkJwo6ICdObyByZXBsYWNlbWVudCB3YXMgc3VnZ2VzdGVkJzsKJHBhY2thZ2VXYXJuaW5nID0gc3ByaW50ZigKJ1BhY2thZ2UgJXMgaXMgYWJhbmRvbmVkLCB5b3Ugc2hvdWxkIGF2b2lkIHVzaW5nIGl0LiAlcy4nLAokcGFja2FnZS0+Z2V0UHJldHR5TmFtZSgpLAokcmVwbGFjZW1lbnQKKTsKJHBhY2thZ2VWaWV3RGF0YVsnd2FybmluZyddID0gJHBhY2thZ2VXYXJuaW5nOwp9Cn0gZWxzZSB7CiRwYWNrYWdlVmlld0RhdGFbJ25hbWUnXSA9ICRwYWNrYWdlOwokbmFtZUxlbmd0aCA9IG1heCgkbmFtZUxlbmd0aCwgc3RybGVuKCRwYWNrYWdlKSk7Cn0KJHZpZXdEYXRhWyR0eXBlXVtdID0gJHBhY2thZ2VWaWV3RGF0YTsKfQokdmlld01ldGFEYXRhWyR0eXBlXSA9IGFycmF5KAonbmFtZUxlbmd0aCcgPT4gJG5hbWVMZW5ndGgsCid2ZXJzaW9uTGVuZ3RoJyA9PiAkdmVyc2lvbkxlbmd0aCwKJ2xhdGVzdExlbmd0aCcgPT4gJGxhdGVzdExlbmd0aCwKKTsKaWYgKCRpbnB1dC0+Z2V0T3B0aW9uKCdzdHJpY3QnKSAmJiAkaGFzT3V0ZGF0ZWRQYWNrYWdlcykgewokZXhpdENvZGUgPSAxOwpicmVhazsKfQp9Cn0KCmlmICgnanNvbicgPT09ICRmb3JtYXQpIHsKJGlvLT53cml0ZShKc29uRmlsZTo6ZW5jb2RlKCR2aWV3RGF0YSkpOwp9IGVsc2UgewppZiAoJGlucHV0LT5nZXRPcHRpb24oJ2xhdGVzdCcpICYmIGFycmF5X2ZpbHRlcigkdmlld0RhdGEpKSB7CmlmICghJGlvLT5pc0RlY29yYXRlZCgpKSB7CiRpby0+d3JpdGVFcnJvcignTGVnZW5kOicpOwokaW8tPndyaXRlRXJyb3IoJyEgcGF0Y2ggb3IgbWlub3IgcmVsZWFzZSBhdmFpbGFibGUgLSB1cGRhdGUgcmVjb21tZW5kZWQnKTsKJGlvLT53cml0ZUVycm9yKCd+IG1ham9yIHJlbGVhc2UgYXZhaWxhYmxlIC0gdXBkYXRlIHBvc3NpYmxlJyk7CmlmICghJGlucHV0LT5nZXRPcHRpb24oJ291dGRhdGVkJykpIHsKJGlvLT53cml0ZUVycm9yKCc9IHVwIHRvIGRhdGUgdmVyc2lvbicpOwp9Cn0gZWxzZSB7CiRpby0+d3JpdGVFcnJvcignPGluZm8+Q29sb3IgbGVnZW5kOjwvaW5mbz4nKTsKJGlvLT53cml0ZUVycm9yKCctIDxoaWdobGlnaHQ+cGF0Y2ggb3IgbWlub3I8L2hpZ2hsaWdodD4gcmVsZWFzZSBhdmFpbGFibGUgLSB1cGRhdGUgcmVjb21tZW5kZWQnKTsKJGlvLT53cml0ZUVycm9yKCctIDxjb21tZW50Pm1ham9yPC9jb21tZW50PiByZWxlYXNlIGF2YWlsYWJsZSAtIHVwZGF0ZSBwb3NzaWJsZScpOwppZiAoISRpbnB1dC0+Z2V0T3B0aW9uKCdvdXRkYXRlZCcpKSB7CiRpby0+d3JpdGVFcnJvcignLSA8aW5mbz51cCB0byBkYXRlPC9pbmZvPiB2ZXJzaW9uJyk7Cn0KfQp9Cgokd2lkdGggPSAkdGhpcy0+Z2V0VGVybWluYWxXaWR0aCgpOwoKZm9yZWFjaCAoJHZpZXdEYXRhIGFzICR0eXBlID0+ICRwYWNrYWdlcykgewokbmFtZUxlbmd0aCA9ICR2aWV3TWV0YURhdGFbJHR5cGVdWyduYW1lTGVuZ3RoJ107CiR2ZXJzaW9uTGVuZ3RoID0gJHZpZXdNZXRhRGF0YVskdHlwZV1bJ3ZlcnNpb25MZW5ndGgnXTsKJGxhdGVzdExlbmd0aCA9ICR2aWV3TWV0YURhdGFbJHR5cGVdWydsYXRlc3RMZW5ndGgnXTsKCiR3cml0ZVZlcnNpb24gPSAkbmFtZUxlbmd0aCArICR2ZXJzaW9uTGVuZ3RoICsgMyA8PSAkd2lkdGg7CiR3cml0ZUxhdGVzdCA9ICRuYW1lTGVuZ3RoICsgJHZlcnNpb25MZW5ndGggKyAkbGF0ZXN0TGVuZ3RoICsgMyA8PSAkd2lkdGg7CiR3cml0ZURlc2NyaXB0aW9uID0gJG5hbWVMZW5ndGggKyAkdmVyc2lvbkxlbmd0aCArICRsYXRlc3RMZW5ndGggKyAyNCA8PSAkd2lkdGg7CgppZiAoJHdyaXRlTGF0ZXN0ICYmICEkaW8tPmlzRGVjb3JhdGVkKCkpIHsKJGxhdGVzdExlbmd0aCArPSAyOwp9CgppZiAoJHNob3dBbGxUeXBlcykgewppZiAoJ2F2YWlsYWJsZScgPT09ICR0eXBlKSB7CiRpby0+d3JpdGUoJzxjb21tZW50PicgLiAkdHlwZSAuICc8L2NvbW1lbnQ+OicpOwp9IGVsc2UgewokaW8tPndyaXRlKCc8aW5mbz4nIC4gJHR5cGUgLiAnPC9pbmZvPjonKTsKfQp9Cgpmb3JlYWNoICgkcGFja2FnZXMgYXMgJHBhY2thZ2UpIHsKJGlvLT53cml0ZSgkaW5kZW50IC4gc3RyX3BhZCgkcGFja2FnZVsnbmFtZSddLCAkbmFtZUxlbmd0aCwgJyAnKSwgZmFsc2UpOwppZiAoaXNzZXQoJHBhY2thZ2VbJ3ZlcnNpb24nXSkgJiYgJHdyaXRlVmVyc2lvbikgewokaW8tPndyaXRlKCcgJyAuIHN0cl9wYWQoJHBhY2thZ2VbJ3ZlcnNpb24nXSwgJHZlcnNpb25MZW5ndGgsICcgJyksIGZhbHNlKTsKfQppZiAoaXNzZXQoJHBhY2thZ2VbJ2xhdGVzdCddKSAmJiAkd3JpdGVMYXRlc3QpIHsKJGxhdGVzdFZlcnNpb24gPSAkcGFja2FnZVsnbGF0ZXN0J107CiR1cGRhdGVTdGF0dXMgPSAkcGFja2FnZVsnbGF0ZXN0LXN0YXR1cyddOwokc3R5bGUgPSAkdGhpcy0+dXBkYXRlU3RhdHVzVG9WZXJzaW9uU3R5bGUoJHVwZGF0ZVN0YXR1cyk7CmlmICghJGlvLT5pc0RlY29yYXRlZCgpKSB7CiRsYXRlc3RWZXJzaW9uID0gc3RyX3JlcGxhY2UoYXJyYXkoJ3VwLXRvLWRhdGUnLCAnc2VtdmVyLXNhZmUtdXBkYXRlJywgJ3VwZGF0ZS1wb3NzaWJsZScpLCBhcnJheSgnPScsICchJywgJ34nKSwgJHVwZGF0ZVN0YXR1cykgLiAnICcgLiAkbGF0ZXN0VmVyc2lvbjsKfQokaW8tPndyaXRlKCcgPCcgLiAkc3R5bGUgLiAnPicgLiBzdHJfcGFkKCRsYXRlc3RWZXJzaW9uLCAkbGF0ZXN0TGVuZ3RoLCAnICcpIC4gJzwvJyAuICRzdHlsZSAuICc+JywgZmFsc2UpOwp9CmlmIChpc3NldCgkcGFja2FnZVsnZGVzY3JpcHRpb24nXSkgJiYgJHdyaXRlRGVzY3JpcHRpb24pIHsKJGRlc2NyaXB0aW9uID0gc3RydG9rKCRwYWNrYWdlWydkZXNjcmlwdGlvbiddLCAiXHJcbiIpOwokcmVtYWluaW5nID0gJHdpZHRoIC0gJG5hbWVMZW5ndGggLSAkdmVyc2lvbkxlbmd0aCAtIDQ7CmlmICgkd3JpdGVMYXRlc3QpIHsKJHJlbWFpbmluZyAtPSAkbGF0ZXN0TGVuZ3RoOwp9CmlmIChzdHJsZW4oJGRlc2NyaXB0aW9uKSA+ICRyZW1haW5pbmcpIHsKJGRlc2NyaXB0aW9uID0gc3Vic3RyKCRkZXNjcmlwdGlvbiwgMCwgJHJlbWFpbmluZyAtIDMpIC4gJy4uLic7Cn0KJGlvLT53cml0ZSgnICcgLiAkZGVzY3JpcHRpb24sIGZhbHNlKTsKfQppZiAoaXNzZXQoJHBhY2thZ2VbJ3BhdGgnXSkpIHsKJGlvLT53cml0ZSgnICcgLiAkcGFja2FnZVsncGF0aCddLCBmYWxzZSk7Cn0KJGlvLT53cml0ZSgnJyk7CmlmIChpc3NldCgkcGFja2FnZVsnd2FybmluZyddKSkgewokaW8tPndyaXRlKCc8d2FybmluZz4nIC4gJHBhY2thZ2VbJ3dhcm5pbmcnXSAuICc8L3dhcm5pbmc+Jyk7Cn0KfQoKaWYgKCRzaG93QWxsVHlwZXMpIHsKJGlvLT53cml0ZSgnJyk7Cn0KfQp9CgpyZXR1cm4gJGV4aXRDb2RlOwp9Cgpwcm90ZWN0ZWQgZnVuY3Rpb24gZ2V0Um9vdFJlcXVpcmVzKCkKewokcm9vdFBhY2thZ2UgPSAkdGhpcy0+Z2V0Q29tcG9zZXIoKS0+Z2V0UGFja2FnZSgpOwoKcmV0dXJuIGFycmF5X21hcCgKJ3N0cnRvbG93ZXInLAphcnJheV9rZXlzKGFycmF5X21lcmdlKCRyb290UGFja2FnZS0+Z2V0UmVxdWlyZXMoKSwgJHJvb3RQYWNrYWdlLT5nZXREZXZSZXF1aXJlcygpKSkKKTsKfQoKcHJvdGVjdGVkIGZ1bmN0aW9uIGdldFZlcnNpb25TdHlsZShQYWNrYWdlSW50ZXJmYWNlICRsYXRlc3RQYWNrYWdlLCBQYWNrYWdlSW50ZXJmYWNlICRwYWNrYWdlKQp7CnJldHVybiAkdGhpcy0+dXBkYXRlU3RhdHVzVG9WZXJzaW9uU3R5bGUoJHRoaXMtPmdldFVwZGF0ZVN0YXR1cygkbGF0ZXN0UGFja2FnZSwgJHBhY2thZ2UpKTsKfQoKCgoKCgoKCgoKCnByb3RlY3RlZCBmdW5jdGlvbiBnZXRQYWNrYWdlKEluc3RhbGxlZFJlcG9zaXRvcnkgJGluc3RhbGxlZFJlcG8sIFJlcG9zaXRvcnlJbnRlcmZhY2UgJHJlcG9zLCAkbmFtZSwgJHZlcnNpb24gPSBudWxsKQp7CiRuYW1lID0gc3RydG9sb3dlcigkbmFtZSk7CiRjb25zdHJhaW50ID0gaXNfc3RyaW5nKCR2ZXJzaW9uKSA/ICR0aGlzLT52ZXJzaW9uUGFyc2VyLT5wYXJzZUNvbnN0cmFpbnRzKCR2ZXJzaW9uKSA6ICR2ZXJzaW9uOwoKJHBvbGljeSA9IG5ldyBEZWZhdWx0UG9saWN5KCk7CiRyZXBvc2l0b3J5U2V0ID0gbmV3IFJlcG9zaXRvcnlTZXQoJ2RldicpOwokcmVwb3NpdG9yeVNldC0+YWxsb3dJbnN0YWxsZWRSZXBvc2l0b3JpZXMoKTsKJHJlcG9zaXRvcnlTZXQtPmFkZFJlcG9zaXRvcnkoJHJlcG9zKTsKCiRtYXRjaGVkUGFja2FnZSA9IG51bGw7CiR2ZXJzaW9ucyA9IGFycmF5KCk7CmlmIChQbGF0Zm9ybVJlcG9zaXRvcnk6OmlzUGxhdGZvcm1QYWNrYWdlKCRuYW1lKSkgewokcG9vbCA9ICRyZXBvc2l0b3J5U2V0LT5jcmVhdGVQb29sV2l0aEFsbFBhY2thZ2VzKCk7Cn0gZWxzZSB7CiRwb29sID0gJHJlcG9zaXRvcnlTZXQtPmNyZWF0ZVBvb2xGb3JQYWNrYWdlKCRuYW1lKTsKfQokbWF0Y2hlcyA9ICRwb29sLT53aGF0UHJvdmlkZXMoJG5hbWUsICRjb25zdHJhaW50KTsKZm9yZWFjaCAoJG1hdGNoZXMgYXMgJGluZGV4ID0+ICRwYWNrYWdlKSB7CgppZiAobnVsbCA9PT0gJHZlcnNpb24gJiYgJGluc3RhbGxlZFJlcG8tPmhhc1BhY2thZ2UoJHBhY2thZ2UpKSB7CiRtYXRjaGVkUGFja2FnZSA9ICRwYWNrYWdlOwp9CgokdmVyc2lvbnNbJHBhY2thZ2UtPmdldFByZXR0eVZlcnNpb24oKV0gPSAkcGFja2FnZS0+Z2V0VmVyc2lvbigpOwokbWF0Y2hlc1skaW5kZXhdID0gJHBhY2thZ2UtPmdldElkKCk7Cn0KCgppZiAoISRtYXRjaGVkUGFja2FnZSAmJiAkbWF0Y2hlcyAmJiAkcHJlZmVycmVkID0gJHBvbGljeS0+c2VsZWN0UHJlZmVycmVkUGFja2FnZXMoJHBvb2wsICRtYXRjaGVzKSkgewokbWF0Y2hlZFBhY2thZ2UgPSAkcG9vbC0+bGl0ZXJhbFRvUGFja2FnZSgkcHJlZmVycmVkWzBdKTsKfQoKcmV0dXJuIGFycmF5KCRtYXRjaGVkUGFja2FnZSwgJHZlcnNpb25zKTsKfQoKCgoKCgoKCgpwcm90ZWN0ZWQgZnVuY3Rpb24gcHJpbnRQYWNrYWdlSW5mbyhDb21wbGV0ZVBhY2thZ2VJbnRlcmZhY2UgJHBhY2thZ2UsIGFycmF5ICR2ZXJzaW9ucywgSW5zdGFsbGVkUmVwb3NpdG9yeSAkaW5zdGFsbGVkUmVwbywgUGFja2FnZUludGVyZmFjZSAkbGF0ZXN0UGFja2FnZSA9IG51bGwpCnsKJGlvID0gJHRoaXMtPmdldElPKCk7CgokdGhpcy0+cHJpbnRNZXRhKCRwYWNrYWdlLCAkdmVyc2lvbnMsICRpbnN0YWxsZWRSZXBvLCAkbGF0ZXN0UGFja2FnZSA/OiBudWxsKTsKJHRoaXMtPnByaW50TGlua3MoJHBhY2thZ2UsIExpbms6OlRZUEVfUkVRVUlSRSk7CiR0aGlzLT5wcmludExpbmtzKCRwYWNrYWdlLCBMaW5rOjpUWVBFX0RFVl9SRVFVSVJFLCAncmVxdWlyZXMgKGRldiknKTsKCmlmICgkcGFja2FnZS0+Z2V0U3VnZ2VzdHMoKSkgewokaW8tPndyaXRlKCJcbjxpbmZvPnN1Z2dlc3RzPC9pbmZvPiIpOwpmb3JlYWNoICgkcGFja2FnZS0+Z2V0U3VnZ2VzdHMoKSBhcyAkc3VnZ2VzdGVkID0+ICRyZWFzb24pIHsKJGlvLT53cml0ZSgkc3VnZ2VzdGVkIC4gJyA8Y29tbWVudD4nIC4gJHJlYXNvbiAuICc8L2NvbW1lbnQ+Jyk7Cn0KfQoKJHRoaXMtPnByaW50TGlua3MoJHBhY2thZ2UsIExpbms6OlRZUEVfUFJPVklERSk7CiR0aGlzLT5wcmludExpbmtzKCRwYWNrYWdlLCBMaW5rOjpUWVBFX0NPTkZMSUNUKTsKJHRoaXMtPnByaW50TGlua3MoJHBhY2thZ2UsIExpbms6OlRZUEVfUkVQTEFDRSk7Cn0KCgoKCgoKCgoKcHJvdGVjdGVkIGZ1bmN0aW9uIHByaW50TWV0YShDb21wbGV0ZVBhY2thZ2VJbnRlcmZhY2UgJHBhY2thZ2UsIGFycmF5ICR2ZXJzaW9ucywgSW5zdGFsbGVkUmVwb3NpdG9yeSAkaW5zdGFsbGVkUmVwbywgUGFja2FnZUludGVyZmFjZSAkbGF0ZXN0UGFja2FnZSA9IG51bGwpCnsKJGlvID0gJHRoaXMtPmdldElPKCk7CiRpby0+d3JpdGUoJzxpbmZvPm5hbWU8L2luZm8+ICAgICA6ICcgLiAkcGFja2FnZS0+Z2V0UHJldHR5TmFtZSgpKTsKJGlvLT53cml0ZSgnPGluZm8+ZGVzY3JpcC48L2luZm8+IDogJyAuICRwYWNrYWdlLT5nZXREZXNjcmlwdGlvbigpKTsKJGlvLT53cml0ZSgnPGluZm8+a2V5d29yZHM8L2luZm8+IDogJyAuIGltcGxvZGUoJywgJywgJHBhY2thZ2UtPmdldEtleXdvcmRzKCkgPzogYXJyYXkoKSkpOwokdGhpcy0+cHJpbnRWZXJzaW9ucygkcGFja2FnZSwgJHZlcnNpb25zLCAkaW5zdGFsbGVkUmVwbyk7CmlmICgkbGF0ZXN0UGFja2FnZSkgewokc3R5bGUgPSAkdGhpcy0+Z2V0VmVyc2lvblN0eWxlKCRsYXRlc3RQYWNrYWdlLCAkcGFja2FnZSk7CiRpby0+d3JpdGUoJzxpbmZvPmxhdGVzdDwvaW5mbz4gICA6IDwnLiRzdHlsZS4nPicgLiAkbGF0ZXN0UGFja2FnZS0+Z2V0UHJldHR5VmVyc2lvbigpIC4gJzwvJy4kc3R5bGUuJz4nKTsKfSBlbHNlIHsKJGxhdGVzdFBhY2thZ2UgPSAkcGFja2FnZTsKfQokaW8tPndyaXRlKCc8aW5mbz50eXBlPC9pbmZvPiAgICAgOiAnIC4gJHBhY2thZ2UtPmdldFR5cGUoKSk7CiR0aGlzLT5wcmludExpY2Vuc2VzKCRwYWNrYWdlKTsKJGlvLT53cml0ZSgnPGluZm8+aG9tZXBhZ2U8L2luZm8+IDogJyAuICRwYWNrYWdlLT5nZXRIb21lcGFnZSgpKTsKJGlvLT53cml0ZSgnPGluZm8+c291cmNlPC9pbmZvPiAgIDogJyAuIHNwcmludGYoJ1slc10gPGNvbW1lbnQ+JXM8L2NvbW1lbnQ+ICVzJywgJHBhY2thZ2UtPmdldFNvdXJjZVR5cGUoKSwgJHBhY2thZ2UtPmdldFNvdXJjZVVybCgpLCAkcGFja2FnZS0+Z2V0U291cmNlUmVmZXJlbmNlKCkpKTsKJGlvLT53cml0ZSgnPGluZm8+ZGlzdDwvaW5mbz4gICAgIDogJyAuIHNwcmludGYoJ1slc10gPGNvbW1lbnQ+JXM8L2NvbW1lbnQ+ICVzJywgJHBhY2thZ2UtPmdldERpc3RUeXBlKCksICRwYWNrYWdlLT5nZXREaXN0VXJsKCksICRwYWNrYWdlLT5nZXREaXN0UmVmZXJlbmNlKCkpKTsKaWYgKCRpbnN0YWxsZWRSZXBvLT5oYXNQYWNrYWdlKCRwYWNrYWdlKSkgewokaW8tPndyaXRlKCc8aW5mbz5wYXRoPC9pbmZvPiAgICAgOiAnIC4gc3ByaW50ZignJXMnLCByZWFscGF0aCgkdGhpcy0+Z2V0Q29tcG9zZXIoKS0+Z2V0SW5zdGFsbGF0aW9uTWFuYWdlcigpLT5nZXRJbnN0YWxsUGF0aCgkcGFja2FnZSkpKSk7Cn0KJGlvLT53cml0ZSgnPGluZm8+bmFtZXM8L2luZm8+ICAgIDogJyAuIGltcGxvZGUoJywgJywgJHBhY2thZ2UtPmdldE5hbWVzKCkpKTsKCmlmICgkbGF0ZXN0UGFja2FnZSBpbnN0YW5jZW9mIENvbXBsZXRlUGFja2FnZUludGVyZmFjZSAmJiAkbGF0ZXN0UGFja2FnZS0+aXNBYmFuZG9uZWQoKSkgewokcmVwbGFjZW1lbnQgPSAoJGxhdGVzdFBhY2thZ2UtPmdldFJlcGxhY2VtZW50UGFja2FnZSgpICE9PSBudWxsKQo/ICcgVGhlIGF1dGhvciBzdWdnZXN0cyB1c2luZyB0aGUgJyAuICRsYXRlc3RQYWNrYWdlLT5nZXRSZXBsYWNlbWVudFBhY2thZ2UoKS4gJyBwYWNrYWdlIGluc3RlYWQuJwo6IG51bGw7CgokaW8tPndyaXRlRXJyb3IoCnNwcmludGYoJzx3YXJuaW5nPkF0dGVudGlvbjogVGhpcyBwYWNrYWdlIGlzIGFiYW5kb25lZCBhbmQgbm8gbG9uZ2VyIG1haW50YWluZWQuJXM8L3dhcm5pbmc+JywgJHJlcGxhY2VtZW50KQopOwp9CgppZiAoJHBhY2thZ2UtPmdldFN1cHBvcnQoKSkgewokaW8tPndyaXRlKCJcbjxpbmZvPnN1cHBvcnQ8L2luZm8+Iik7CmZvcmVhY2ggKCRwYWNrYWdlLT5nZXRTdXBwb3J0KCkgYXMgJHR5cGUgPT4gJHZhbHVlKSB7CiRpby0+d3JpdGUoJzxjb21tZW50PicgLiAkdHlwZSAuICc8L2NvbW1lbnQ+IDogJy4kdmFsdWUpOwp9Cn0KCmlmICgkcGFja2FnZS0+Z2V0QXV0b2xvYWQoKSkgewokaW8tPndyaXRlKCJcbjxpbmZvPmF1dG9sb2FkPC9pbmZvPiIpOwpmb3JlYWNoICgkcGFja2FnZS0+Z2V0QXV0b2xvYWQoKSBhcyAkdHlwZSA9PiAkYXV0b2xvYWRzKSB7CiRpby0+d3JpdGUoJzxjb21tZW50PicgLiAkdHlwZSAuICc8L2NvbW1lbnQ+Jyk7CgppZiAoJHR5cGUgPT09ICdwc3ItMCcgfHwgJHR5cGUgPT09ICdwc3ItNCcpIHsKZm9yZWFjaCAoJGF1dG9sb2FkcyBhcyAkbmFtZSA9PiAkcGF0aCkgewokaW8tPndyaXRlKCgkbmFtZSA/OiAnKicpIC4gJyA9PiAnIC4gKGlzX2FycmF5KCRwYXRoKSA/IGltcGxvZGUoJywgJywgJHBhdGgpIDogKCRwYXRoID86ICcuJykpKTsKfQp9IGVsc2VpZiAoJHR5cGUgPT09ICdjbGFzc21hcCcpIHsKJGlvLT53cml0ZShpbXBsb2RlKCcsICcsICRhdXRvbG9hZHMpKTsKfQp9CmlmICgkcGFja2FnZS0+Z2V0SW5jbHVkZVBhdGhzKCkpIHsKJGlvLT53cml0ZSgnPGNvbW1lbnQ+aW5jbHVkZS1wYXRoPC9jb21tZW50PicpOwokaW8tPndyaXRlKGltcGxvZGUoJywgJywgJHBhY2thZ2UtPmdldEluY2x1ZGVQYXRocygpKSk7Cn0KfQp9CgoKCgoKCgoKcHJvdGVjdGVkIGZ1bmN0aW9uIHByaW50VmVyc2lvbnMoQ29tcGxldGVQYWNrYWdlSW50ZXJmYWNlICRwYWNrYWdlLCBhcnJheSAkdmVyc2lvbnMsIEluc3RhbGxlZFJlcG9zaXRvcnkgJGluc3RhbGxlZFJlcG8pCnsKJHZlcnNpb25zID0gYXJyYXlfa2V5cygkdmVyc2lvbnMpOwokdmVyc2lvbnMgPSBTZW12ZXI6OnJzb3J0KCR2ZXJzaW9ucyk7CgoKaWYgKCRpbnN0YWxsZWRQYWNrYWdlcyA9ICRpbnN0YWxsZWRSZXBvLT5maW5kUGFja2FnZXMoJHBhY2thZ2UtPmdldE5hbWUoKSkpIHsKZm9yZWFjaCAoJGluc3RhbGxlZFBhY2thZ2VzIGFzICRpbnN0YWxsZWRQYWNrYWdlKSB7CiRpbnN0YWxsZWRWZXJzaW9uID0gJGluc3RhbGxlZFBhY2thZ2UtPmdldFByZXR0eVZlcnNpb24oKTsKJGtleSA9IGFycmF5X3NlYXJjaCgkaW5zdGFsbGVkVmVyc2lvbiwgJHZlcnNpb25zKTsKaWYgKGZhbHNlICE9PSAka2V5KSB7CiR2ZXJzaW9uc1ska2V5XSA9ICc8aW5mbz4qICcgLiAkaW5zdGFsbGVkVmVyc2lvbiAuICc8L2luZm8+JzsKfQp9Cn0KCiR2ZXJzaW9ucyA9IGltcGxvZGUoJywgJywgJHZlcnNpb25zKTsKCiR0aGlzLT5nZXRJTygpLT53cml0ZSgnPGluZm8+dmVyc2lvbnM8L2luZm8+IDogJyAuICR2ZXJzaW9ucyk7Cn0KCgoKCgoKCgpwcm90ZWN0ZWQgZnVuY3Rpb24gcHJpbnRMaW5rcyhDb21wbGV0ZVBhY2thZ2VJbnRlcmZhY2UgJHBhY2thZ2UsICRsaW5rVHlwZSwgJHRpdGxlID0gbnVsbCkKewokdGl0bGUgPSAkdGl0bGUgPzogJGxpbmtUeXBlOwokaW8gPSAkdGhpcy0+Z2V0SU8oKTsKaWYgKCRsaW5rcyA9ICRwYWNrYWdlLT57J2dldCcudWNmaXJzdCgkbGlua1R5cGUpfSgpKSB7CiRpby0+d3JpdGUoIlxuPGluZm8+IiAuICR0aXRsZSAuICI8L2luZm8+Iik7Cgpmb3JlYWNoICgkbGlua3MgYXMgJGxpbmspIHsKJGlvLT53cml0ZSgkbGluay0+Z2V0VGFyZ2V0KCkgLiAnIDxjb21tZW50PicgLiAkbGluay0+Z2V0UHJldHR5Q29uc3RyYWludCgpIC4gJzwvY29tbWVudD4nKTsKfQp9Cn0KCgoKCgoKcHJvdGVjdGVkIGZ1bmN0aW9uIHByaW50TGljZW5zZXMoQ29tcGxldGVQYWNrYWdlSW50ZXJmYWNlICRwYWNrYWdlKQp7CiRzcGR4TGljZW5zZXMgPSBuZXcgU3BkeExpY2Vuc2VzKCk7CgokbGljZW5zZXMgPSAkcGFja2FnZS0+Z2V0TGljZW5zZSgpOwokaW8gPSAkdGhpcy0+Z2V0SU8oKTsKCmZvcmVhY2ggKCRsaWNlbnNlcyBhcyAkbGljZW5zZUlkKSB7CiRsaWNlbnNlID0gJHNwZHhMaWNlbnNlcy0+Z2V0TGljZW5zZUJ5SWRlbnRpZmllcigkbGljZW5zZUlkKTsgCgppZiAoISRsaWNlbnNlKSB7CiRvdXQgPSAkbGljZW5zZUlkOwp9IGVsc2UgewoKaWYgKCRsaWNlbnNlWzFdID09PSB0cnVlKSB7CiRvdXQgPSBzcHJpbnRmKCclcyAoJXMpIChPU0kgYXBwcm92ZWQpICVzJywgJGxpY2Vuc2VbMF0sICRsaWNlbnNlSWQsICRsaWNlbnNlWzJdKTsKfSBlbHNlIHsKJG91dCA9IHNwcmludGYoJyVzICglcykgJXMnLCAkbGljZW5zZVswXSwgJGxpY2Vuc2VJZCwgJGxpY2Vuc2VbMl0pOwp9Cn0KCiRpby0+d3JpdGUoJzxpbmZvPmxpY2Vuc2U8L2luZm8+ICA6ICcgLiAkb3V0KTsKfQp9CgoKCgoKCgoKCnByb3RlY3RlZCBmdW5jdGlvbiBwcmludFBhY2thZ2VJbmZvQXNKc29uKENvbXBsZXRlUGFja2FnZUludGVyZmFjZSAkcGFja2FnZSwgYXJyYXkgJHZlcnNpb25zLCBJbnN0YWxsZWRSZXBvc2l0b3J5ICRpbnN0YWxsZWRSZXBvLCBQYWNrYWdlSW50ZXJmYWNlICRsYXRlc3RQYWNrYWdlID0gbnVsbCkKewokanNvbiA9IGFycmF5KAonbmFtZScgPT4gJHBhY2thZ2UtPmdldFByZXR0eU5hbWUoKSwKJ2Rlc2NyaXB0aW9uJyA9PiAkcGFja2FnZS0+Z2V0RGVzY3JpcHRpb24oKSwKJ2tleXdvcmRzJyA9PiAkcGFja2FnZS0+Z2V0S2V5d29yZHMoKSA/OiBhcnJheSgpLAondHlwZScgPT4gJHBhY2thZ2UtPmdldFR5cGUoKSwKJ2hvbWVwYWdlJyA9PiAkcGFja2FnZS0+Z2V0SG9tZXBhZ2UoKSwKJ25hbWVzJyA9PiAkcGFja2FnZS0+Z2V0TmFtZXMoKSwKKTsKCiRqc29uID0gJHRoaXMtPmFwcGVuZFZlcnNpb25zKCRqc29uLCAkdmVyc2lvbnMpOwokanNvbiA9ICR0aGlzLT5hcHBlbmRMaWNlbnNlcygkanNvbiwgJHBhY2thZ2UpOwoKaWYgKCRsYXRlc3RQYWNrYWdlKSB7CiRqc29uWydsYXRlc3QnXSA9ICRsYXRlc3RQYWNrYWdlLT5nZXRQcmV0dHlWZXJzaW9uKCk7Cn0gZWxzZSB7CiRsYXRlc3RQYWNrYWdlID0gJHBhY2thZ2U7Cn0KCmlmICgkcGFja2FnZS0+Z2V0U291cmNlVHlwZSgpKSB7CiRqc29uWydzb3VyY2UnXSA9IGFycmF5KAondHlwZScgPT4gJHBhY2thZ2UtPmdldFNvdXJjZVR5cGUoKSwKJ3VybCcgPT4gJHBhY2thZ2UtPmdldFNvdXJjZVVybCgpLAoncmVmZXJlbmNlJyA9PiAkcGFja2FnZS0+Z2V0U291cmNlUmVmZXJlbmNlKCksCik7Cn0KCmlmICgkcGFja2FnZS0+Z2V0RGlzdFR5cGUoKSkgewokanNvblsnZGlzdCddID0gYXJyYXkoCid0eXBlJyA9PiAkcGFja2FnZS0+Z2V0RGlzdFR5cGUoKSwKJ3VybCcgPT4gJHBhY2thZ2UtPmdldERpc3RVcmwoKSwKJ3JlZmVyZW5jZScgPT4gJHBhY2thZ2UtPmdldERpc3RSZWZlcmVuY2UoKSwKKTsKfQoKaWYgKCRpbnN0YWxsZWRSZXBvLT5oYXNQYWNrYWdlKCRwYWNrYWdlKSkgewokanNvblsncGF0aCddID0gcmVhbHBhdGgoJHRoaXMtPmdldENvbXBvc2VyKCktPmdldEluc3RhbGxhdGlvbk1hbmFnZXIoKS0+Z2V0SW5zdGFsbFBhdGgoJHBhY2thZ2UpKTsKaWYgKCRqc29uWydwYXRoJ10gPT09IGZhbHNlKSB7CnVuc2V0KCRqc29uWydwYXRoJ10pOwp9Cn0KCmlmICgkbGF0ZXN0UGFja2FnZSBpbnN0YW5jZW9mIENvbXBsZXRlUGFja2FnZUludGVyZmFjZSAmJiAkbGF0ZXN0UGFja2FnZS0+aXNBYmFuZG9uZWQoKSkgewokanNvblsncmVwbGFjZW1lbnQnXSA9ICRsYXRlc3RQYWNrYWdlLT5nZXRSZXBsYWNlbWVudFBhY2thZ2UoKTsKfQoKaWYgKCRwYWNrYWdlLT5nZXRTdWdnZXN0cygpKSB7CiRqc29uWydzdWdnZXN0cyddID0gJHBhY2thZ2UtPmdldFN1Z2dlc3RzKCk7Cn0KCmlmICgkcGFja2FnZS0+Z2V0U3VwcG9ydCgpKSB7CiRqc29uWydzdXBwb3J0J10gPSAkcGFja2FnZS0+Z2V0U3VwcG9ydCgpOwp9CgokanNvbiA9ICR0aGlzLT5hcHBlbmRBdXRvbG9hZCgkanNvbiwgJHBhY2thZ2UpOwoKaWYgKCRwYWNrYWdlLT5nZXRJbmNsdWRlUGF0aHMoKSkgewokanNvblsnaW5jbHVkZV9wYXRoJ10gPSAkcGFja2FnZS0+Z2V0SW5jbHVkZVBhdGhzKCk7Cn0KCiRqc29uID0gJHRoaXMtPmFwcGVuZExpbmtzKCRqc29uLCAkcGFja2FnZSk7CgokdGhpcy0+Z2V0SU8oKS0+d3JpdGUoSnNvbkZpbGU6OmVuY29kZSgkanNvbikpOwp9Cgpwcml2YXRlIGZ1bmN0aW9uIGFwcGVuZFZlcnNpb25zKCRqc29uLCBhcnJheSAkdmVyc2lvbnMpCnsKdWFzb3J0KCR2ZXJzaW9ucywgJ3ZlcnNpb25fY29tcGFyZScpOwokdmVyc2lvbnMgPSBhcnJheV9rZXlzKGFycmF5X3JldmVyc2UoJHZlcnNpb25zKSk7CiRqc29uWyd2ZXJzaW9ucyddID0gJHZlcnNpb25zOwoKcmV0dXJuICRqc29uOwp9Cgpwcml2YXRlIGZ1bmN0aW9uIGFwcGVuZExpY2Vuc2VzKCRqc29uLCBDb21wbGV0ZVBhY2thZ2VJbnRlcmZhY2UgJHBhY2thZ2UpCnsKaWYgKCRsaWNlbnNlcyA9ICRwYWNrYWdlLT5nZXRMaWNlbnNlKCkpIHsKJHNwZHhMaWNlbnNlcyA9IG5ldyBTcGR4TGljZW5zZXMoKTsKCiRqc29uWydsaWNlbnNlcyddID0gYXJyYXlfbWFwKGZ1bmN0aW9uICgkbGljZW5zZUlkKSB1c2UgKCRzcGR4TGljZW5zZXMpIHsKJGxpY2Vuc2UgPSAkc3BkeExpY2Vuc2VzLT5nZXRMaWNlbnNlQnlJZGVudGlmaWVyKCRsaWNlbnNlSWQpOyAKCmlmICghJGxpY2Vuc2UpIHsKcmV0dXJuICRsaWNlbnNlSWQ7Cn0KCnJldHVybiBhcnJheSgKJ25hbWUnID0+ICRsaWNlbnNlWzBdLAonb3NpJyA9PiAkbGljZW5zZUlkLAondXJsJyA9PiAkbGljZW5zZVsyXSwKKTsKfSwgJGxpY2Vuc2VzKTsKfQoKcmV0dXJuICRqc29uOwp9Cgpwcml2YXRlIGZ1bmN0aW9uIGFwcGVuZEF1dG9sb2FkKCRqc29uLCBDb21wbGV0ZVBhY2thZ2VJbnRlcmZhY2UgJHBhY2thZ2UpCnsKaWYgKCRwYWNrYWdlLT5nZXRBdXRvbG9hZCgpKSB7CiRhdXRvbG9hZCA9IGFycmF5KCk7Cgpmb3JlYWNoICgkcGFja2FnZS0+Z2V0QXV0b2xvYWQoKSBhcyAkdHlwZSA9PiAkYXV0b2xvYWRzKSB7CmlmICgkdHlwZSA9PT0gJ3Bzci0wJyB8fCAkdHlwZSA9PT0gJ3Bzci00JykgewokcHNyID0gYXJyYXkoKTsKCmZvcmVhY2ggKCRhdXRvbG9hZHMgYXMgJG5hbWUgPT4gJHBhdGgpIHsKaWYgKCEkcGF0aCkgewokcGF0aCA9ICcuJzsKfQoKJHBzclskbmFtZSA/OiAnKiddID0gJHBhdGg7Cn0KCiRhdXRvbG9hZFskdHlwZV0gPSAkcHNyOwp9IGVsc2VpZiAoJHR5cGUgPT09ICdjbGFzc21hcCcpIHsKJGF1dG9sb2FkWydjbGFzc21hcCddID0gJGF1dG9sb2FkczsKfQp9CgokanNvblsnYXV0b2xvYWQnXSA9ICRhdXRvbG9hZDsKfQoKcmV0dXJuICRqc29uOwp9Cgpwcml2YXRlIGZ1bmN0aW9uIGFwcGVuZExpbmtzKCRqc29uLCBDb21wbGV0ZVBhY2thZ2VJbnRlcmZhY2UgJHBhY2thZ2UpCnsKZm9yZWFjaCAoTGluazo6JFRZUEVTIGFzICRsaW5rVHlwZSkgewokanNvbiA9ICR0aGlzLT5hcHBlbmRMaW5rKCRqc29uLCAkcGFja2FnZSwgJGxpbmtUeXBlKTsKfQoKcmV0dXJuICRqc29uOwp9Cgpwcml2YXRlIGZ1bmN0aW9uIGFwcGVuZExpbmsoJGpzb24sIENvbXBsZXRlUGFja2FnZUludGVyZmFjZSAkcGFja2FnZSwgJGxpbmtUeXBlKQp7CiRsaW5rcyA9ICRwYWNrYWdlLT57J2dldCcgLiB1Y2ZpcnN0KCRsaW5rVHlwZSl9KCk7CgppZiAoJGxpbmtzKSB7CiRqc29uWyRsaW5rVHlwZV0gPSBhcnJheSgpOwoKZm9yZWFjaCAoJGxpbmtzIGFzICRsaW5rKSB7CiRqc29uWyRsaW5rVHlwZV1bJGxpbmstPmdldFRhcmdldCgpXSA9ICRsaW5rLT5nZXRQcmV0dHlDb25zdHJhaW50KCk7Cn0KfQoKcmV0dXJuICRqc29uOwp9CgoKCgoKCnByb3RlY3RlZCBmdW5jdGlvbiBpbml0U3R5bGVzKE91dHB1dEludGVyZmFjZSAkb3V0cHV0KQp7CiR0aGlzLT5jb2xvcnMgPSBhcnJheSgKJ2dyZWVuJywKJ3llbGxvdycsCidjeWFuJywKJ21hZ2VudGEnLAonYmx1ZScsCik7Cgpmb3JlYWNoICgkdGhpcy0+Y29sb3JzIGFzICRjb2xvcikgewokc3R5bGUgPSBuZXcgT3V0cHV0Rm9ybWF0dGVyU3R5bGUoJGNvbG9yKTsKJG91dHB1dC0+Z2V0Rm9ybWF0dGVyKCktPnNldFN0eWxlKCRjb2xvciwgJHN0eWxlKTsKfQp9CgoKCgoKCnByb3RlY3RlZCBmdW5jdGlvbiBkaXNwbGF5UGFja2FnZVRyZWUoYXJyYXkgJGFycmF5VHJlZSkKewokaW8gPSAkdGhpcy0+Z2V0SU8oKTsKZm9yZWFjaCAoJGFycmF5VHJlZSBhcyAkcGFja2FnZSkgewokaW8tPndyaXRlKHNwcmludGYoJzxpbmZvPiVzPC9pbmZvPicsICRwYWNrYWdlWyduYW1lJ10pLCBmYWxzZSk7CiRpby0+d3JpdGUoJyAnIC4gJHBhY2thZ2VbJ3ZlcnNpb24nXSwgZmFsc2UpOwokaW8tPndyaXRlKCcgJyAuIHN0cnRvaygkcGFja2FnZVsnZGVzY3JpcHRpb24nXSwgIlxyXG4iKSk7CgppZiAoaXNzZXQoJHBhY2thZ2VbJ3JlcXVpcmVzJ10pKSB7CiRyZXF1aXJlcyA9ICRwYWNrYWdlWydyZXF1aXJlcyddOwokdHJlZUJhciA9ICfilJwnOwokaiA9IDA7CiR0b3RhbCA9IGNvdW50KCRyZXF1aXJlcyk7CmZvcmVhY2ggKCRyZXF1aXJlcyBhcyAkcmVxdWlyZSkgewokcmVxdWlyZU5hbWUgPSAkcmVxdWlyZVsnbmFtZSddOwokaisrOwppZiAoJGogPT09ICR0b3RhbCkgewokdHJlZUJhciA9ICfilJQnOwp9CiRsZXZlbCA9IDE7CiRjb2xvciA9ICR0aGlzLT5jb2xvcnNbJGxldmVsXTsKJGluZm8gPSBzcHJpbnRmKAonJXPilIDilIA8JXM+JXM8LyVzPiAlcycsCiR0cmVlQmFyLAokY29sb3IsCiRyZXF1aXJlTmFtZSwKJGNvbG9yLAokcmVxdWlyZVsndmVyc2lvbiddCik7CiR0aGlzLT53cml0ZVRyZWVMaW5lKCRpbmZvKTsKCiR0cmVlQmFyID0gc3RyX3JlcGxhY2UoJ+KUlCcsICcgJywgJHRyZWVCYXIpOwokcGFja2FnZXNJblRyZWUgPSBhcnJheSgkcGFja2FnZVsnbmFtZSddLCAkcmVxdWlyZU5hbWUpOwoKJHRoaXMtPmRpc3BsYXlUcmVlKCRyZXF1aXJlLCAkcGFja2FnZXNJblRyZWUsICR0cmVlQmFyLCAkbGV2ZWwgKyAxKTsKfQp9Cn0KfQoKCgoKCgoKCgpwcm90ZWN0ZWQgZnVuY3Rpb24gZ2VuZXJhdGVQYWNrYWdlVHJlZSgKUGFja2FnZUludGVyZmFjZSAkcGFja2FnZSwKSW5zdGFsbGVkUmVwb3NpdG9yeSAkaW5zdGFsbGVkUmVwbywKUmVwb3NpdG9yeUludGVyZmFjZSAkcmVtb3RlUmVwb3MKKSB7CiRyZXF1aXJlcyA9ICRwYWNrYWdlLT5nZXRSZXF1aXJlcygpOwprc29ydCgkcmVxdWlyZXMpOwokY2hpbGRyZW4gPSBhcnJheSgpOwpmb3JlYWNoICgkcmVxdWlyZXMgYXMgJHJlcXVpcmVOYW1lID0+ICRyZXF1aXJlKSB7CiRwYWNrYWdlc0luVHJlZSA9IGFycmF5KCRwYWNrYWdlLT5nZXROYW1lKCksICRyZXF1aXJlTmFtZSk7CgokdHJlZUNoaWxkRGVzYyA9IGFycmF5KAonbmFtZScgPT4gJHJlcXVpcmVOYW1lLAondmVyc2lvbicgPT4gJHJlcXVpcmUtPmdldFByZXR0eUNvbnN0cmFpbnQoKSwKKTsKCiRkZWVwQ2hpbGRyZW4gPSAkdGhpcy0+YWRkVHJlZSgkcmVxdWlyZU5hbWUsICRyZXF1aXJlLCAkaW5zdGFsbGVkUmVwbywgJHJlbW90ZVJlcG9zLCAkcGFja2FnZXNJblRyZWUpOwoKaWYgKCRkZWVwQ2hpbGRyZW4pIHsKJHRyZWVDaGlsZERlc2NbJ3JlcXVpcmVzJ10gPSAkZGVlcENoaWxkcmVuOwp9CgokY2hpbGRyZW5bXSA9ICR0cmVlQ2hpbGREZXNjOwp9CiR0cmVlID0gYXJyYXkoCiduYW1lJyA9PiAkcGFja2FnZS0+Z2V0UHJldHR5TmFtZSgpLAondmVyc2lvbicgPT4gJHBhY2thZ2UtPmdldFByZXR0eVZlcnNpb24oKSwKJ2Rlc2NyaXB0aW9uJyA9PiAkcGFja2FnZSBpbnN0YW5jZW9mIENvbXBsZXRlUGFja2FnZUludGVyZmFjZSA/ICRwYWNrYWdlLT5nZXREZXNjcmlwdGlvbigpIDogJycsCik7CgppZiAoJGNoaWxkcmVuKSB7CiR0cmVlWydyZXF1aXJlcyddID0gJGNoaWxkcmVuOwp9CgpyZXR1cm4gJHRyZWU7Cn0KCgoKCgoKCgoKcHJvdGVjdGVkIGZ1bmN0aW9uIGRpc3BsYXlUcmVlKAokcGFja2FnZSwKYXJyYXkgJHBhY2thZ2VzSW5UcmVlLAokcHJldmlvdXNUcmVlQmFyID0gJ+KUnCcsCiRsZXZlbCA9IDEKKSB7CiRwcmV2aW91c1RyZWVCYXIgPSBzdHJfcmVwbGFjZSgn4pScJywgJ+KUgicsICRwcmV2aW91c1RyZWVCYXIpOwppZiAoaXNfYXJyYXkoJHBhY2thZ2UpICYmIGlzc2V0KCRwYWNrYWdlWydyZXF1aXJlcyddKSkgewokcmVxdWlyZXMgPSAkcGFja2FnZVsncmVxdWlyZXMnXTsKJHRyZWVCYXIgPSAkcHJldmlvdXNUcmVlQmFyIC4gJyAg4pScJzsKJGkgPSAwOwokdG90YWwgPSBjb3VudCgkcmVxdWlyZXMpOwpmb3JlYWNoICgkcmVxdWlyZXMgYXMgJHJlcXVpcmUpIHsKJGN1cnJlbnRUcmVlID0gJHBhY2thZ2VzSW5UcmVlOwokaSsrOwppZiAoJGkgPT09ICR0b3RhbCkgewokdHJlZUJhciA9ICRwcmV2aW91c1RyZWVCYXIgLiAnICDilJQnOwp9CiRjb2xvcklkZW50ID0gJGxldmVsICUgY291bnQoJHRoaXMtPmNvbG9ycyk7CiRjb2xvciA9ICR0aGlzLT5jb2xvcnNbJGNvbG9ySWRlbnRdOwoKJGNpcmN1bGFyV2FybiA9IGluX2FycmF5KAokcmVxdWlyZVsnbmFtZSddLAokY3VycmVudFRyZWUsCnRydWUKKSA/ICcoY2lyY3VsYXIgZGVwZW5kZW5jeSBhYm9ydGVkIGhlcmUpJyA6ICcnOwokaW5mbyA9IHJ0cmltKHNwcmludGYoCiclc+KUgOKUgDwlcz4lczwvJXM+ICVzICVzJywKJHRyZWVCYXIsCiRjb2xvciwKJHJlcXVpcmVbJ25hbWUnXSwKJGNvbG9yLAokcmVxdWlyZVsndmVyc2lvbiddLAokY2lyY3VsYXJXYXJuCikpOwokdGhpcy0+d3JpdGVUcmVlTGluZSgkaW5mbyk7CgokdHJlZUJhciA9IHN0cl9yZXBsYWNlKCfilJQnLCAnICcsICR0cmVlQmFyKTsKCiRjdXJyZW50VHJlZVtdID0gJHJlcXVpcmVbJ25hbWUnXTsKJHRoaXMtPmRpc3BsYXlUcmVlKCRyZXF1aXJlLCAkY3VycmVudFRyZWUsICR0cmVlQmFyLCAkbGV2ZWwgKyAxKTsKfQp9Cn0KCgoKCgoKCgoKCgpwcm90ZWN0ZWQgZnVuY3Rpb24gYWRkVHJlZSgKJG5hbWUsCkxpbmsgJGxpbmssCkluc3RhbGxlZFJlcG9zaXRvcnkgJGluc3RhbGxlZFJlcG8sClJlcG9zaXRvcnlJbnRlcmZhY2UgJHJlbW90ZVJlcG9zLAphcnJheSAkcGFja2FnZXNJblRyZWUKKSB7CiRjaGlsZHJlbiA9IGFycmF5KCk7Cmxpc3QoJHBhY2thZ2UpID0gJHRoaXMtPmdldFBhY2thZ2UoCiRpbnN0YWxsZWRSZXBvLAokcmVtb3RlUmVwb3MsCiRuYW1lLAokbGluay0+Z2V0UHJldHR5Q29uc3RyYWludCgpID09PSAnc2VsZi52ZXJzaW9uJyA/ICRsaW5rLT5nZXRDb25zdHJhaW50KCkgOiAkbGluay0+Z2V0UHJldHR5Q29uc3RyYWludCgpCik7CmlmIChpc19vYmplY3QoJHBhY2thZ2UpKSB7CiRyZXF1aXJlcyA9ICRwYWNrYWdlLT5nZXRSZXF1aXJlcygpOwprc29ydCgkcmVxdWlyZXMpOwpmb3JlYWNoICgkcmVxdWlyZXMgYXMgJHJlcXVpcmVOYW1lID0+ICRyZXF1aXJlKSB7CiRjdXJyZW50VHJlZSA9ICRwYWNrYWdlc0luVHJlZTsKCiR0cmVlQ2hpbGREZXNjID0gYXJyYXkoCiduYW1lJyA9PiAkcmVxdWlyZU5hbWUsCid2ZXJzaW9uJyA9PiAkcmVxdWlyZS0+Z2V0UHJldHR5Q29uc3RyYWludCgpLAopOwoKaWYgKCFpbl9hcnJheSgkcmVxdWlyZU5hbWUsICRjdXJyZW50VHJlZSwgdHJ1ZSkpIHsKJGN1cnJlbnRUcmVlW10gPSAkcmVxdWlyZU5hbWU7CiRkZWVwQ2hpbGRyZW4gPSAkdGhpcy0+YWRkVHJlZSgkcmVxdWlyZU5hbWUsICRyZXF1aXJlLCAkaW5zdGFsbGVkUmVwbywgJHJlbW90ZVJlcG9zLCAkY3VycmVudFRyZWUpOwppZiAoJGRlZXBDaGlsZHJlbikgewokdHJlZUNoaWxkRGVzY1sncmVxdWlyZXMnXSA9ICRkZWVwQ2hpbGRyZW47Cn0KfQoKJGNoaWxkcmVuW10gPSAkdHJlZUNoaWxkRGVzYzsKfQp9CgpyZXR1cm4gJGNoaWxkcmVuOwp9Cgpwcml2YXRlIGZ1bmN0aW9uIHVwZGF0ZVN0YXR1c1RvVmVyc2lvblN0eWxlKCR1cGRhdGVTdGF0dXMpCnsKCgoKcmV0dXJuIHN0cl9yZXBsYWNlKGFycmF5KCd1cC10by1kYXRlJywgJ3NlbXZlci1zYWZlLXVwZGF0ZScsICd1cGRhdGUtcG9zc2libGUnKSwgYXJyYXkoJ2luZm8nLCAnaGlnaGxpZ2h0JywgJ2NvbW1lbnQnKSwgJHVwZGF0ZVN0YXR1cyk7Cn0KCnByaXZhdGUgZnVuY3Rpb24gZ2V0VXBkYXRlU3RhdHVzKFBhY2thZ2VJbnRlcmZhY2UgJGxhdGVzdFBhY2thZ2UsIFBhY2thZ2VJbnRlcmZhY2UgJHBhY2thZ2UpCnsKaWYgKCRsYXRlc3RQYWNrYWdlLT5nZXRGdWxsUHJldHR5VmVyc2lvbigpID09PSAkcGFja2FnZS0+Z2V0RnVsbFByZXR0eVZlcnNpb24oKSkgewpyZXR1cm4gJ3VwLXRvLWRhdGUnOwp9CgokY29uc3RyYWludCA9ICRwYWNrYWdlLT5nZXRWZXJzaW9uKCk7CmlmICgwICE9PSBzdHJwb3MoJGNvbnN0cmFpbnQsICdkZXYtJykpIHsKJGNvbnN0cmFpbnQgPSAnXicuJGNvbnN0cmFpbnQ7Cn0KaWYgKCRsYXRlc3RQYWNrYWdlLT5nZXRWZXJzaW9uKCkgJiYgU2VtdmVyOjpzYXRpc2ZpZXMoJGxhdGVzdFBhY2thZ2UtPmdldFZlcnNpb24oKSwgJGNvbnN0cmFpbnQpKSB7CgpyZXR1cm4gJ3NlbXZlci1zYWZlLXVwZGF0ZSc7Cn0KCgpyZXR1cm4gJ3VwZGF0ZS1wb3NzaWJsZSc7Cn0KCnByaXZhdGUgZnVuY3Rpb24gd3JpdGVUcmVlTGluZSgkbGluZSkKewokaW8gPSAkdGhpcy0+Z2V0SU8oKTsKaWYgKCEkaW8tPmlzRGVjb3JhdGVkKCkpIHsKJGxpbmUgPSBzdHJfcmVwbGFjZShhcnJheSgn4pSUJywgJ+KUnCcsICfilIDilIAnLCAn4pSCJyksIGFycmF5KCdgLScsICd8LScsICctJywgJ3wnKSwgJGxpbmUpOwp9CgokaW8tPndyaXRlKCRsaW5lKTsKfQoKCgoKCgoKCgoKCnByaXZhdGUgZnVuY3Rpb24gZmluZExhdGVzdFBhY2thZ2UoUGFja2FnZUludGVyZmFjZSAkcGFja2FnZSwgQ29tcG9zZXIgJGNvbXBvc2VyLCBQbGF0Zm9ybVJlcG9zaXRvcnkgJHBsYXRmb3JtUmVwbywgJG1pbm9yT25seSA9IGZhbHNlKQp7CgokbmFtZSA9ICRwYWNrYWdlLT5nZXROYW1lKCk7CiR2ZXJzaW9uU2VsZWN0b3IgPSBuZXcgVmVyc2lvblNlbGVjdG9yKCR0aGlzLT5nZXRSZXBvc2l0b3J5U2V0KCRjb21wb3NlciksICRwbGF0Zm9ybVJlcG8pOwokc3RhYmlsaXR5ID0gJGNvbXBvc2VyLT5nZXRQYWNrYWdlKCktPmdldE1pbmltdW1TdGFiaWxpdHkoKTsKJGZsYWdzID0gJGNvbXBvc2VyLT5nZXRQYWNrYWdlKCktPmdldFN0YWJpbGl0eUZsYWdzKCk7CmlmIChpc3NldCgkZmxhZ3NbJG5hbWVdKSkgewokc3RhYmlsaXR5ID0gYXJyYXlfc2VhcmNoKCRmbGFnc1skbmFtZV0sIEJhc2VQYWNrYWdlOjokc3RhYmlsaXRpZXMsIHRydWUpOwp9CgokYmVzdFN0YWJpbGl0eSA9ICRzdGFiaWxpdHk7CmlmICgkY29tcG9zZXItPmdldFBhY2thZ2UoKS0+Z2V0UHJlZmVyU3RhYmxlKCkpIHsKJGJlc3RTdGFiaWxpdHkgPSAkcGFja2FnZS0+Z2V0U3RhYmlsaXR5KCk7Cn0KCiR0YXJnZXRWZXJzaW9uID0gbnVsbDsKaWYgKDAgPT09IHN0cnBvcygkcGFja2FnZS0+Z2V0VmVyc2lvbigpLCAnZGV2LScpKSB7CiR0YXJnZXRWZXJzaW9uID0gJHBhY2thZ2UtPmdldFZlcnNpb24oKTsKfQoKaWYgKCR0YXJnZXRWZXJzaW9uID09PSBudWxsICYmICRtaW5vck9ubHkpIHsKJHRhcmdldFZlcnNpb24gPSAnXicgLiAkcGFja2FnZS0+Z2V0VmVyc2lvbigpOwp9CgokY2FuZGlkYXRlID0gJHZlcnNpb25TZWxlY3Rvci0+ZmluZEJlc3RDYW5kaWRhdGUoJG5hbWUsICR0YXJnZXRWZXJzaW9uLCAkYmVzdFN0YWJpbGl0eSk7CndoaWxlICgkY2FuZGlkYXRlIGluc3RhbmNlb2YgQWxpYXNQYWNrYWdlKSB7CiRjYW5kaWRhdGUgPSAkY2FuZGlkYXRlLT5nZXRBbGlhc09mKCk7Cn0KCnJldHVybiAkY2FuZGlkYXRlOwp9Cgpwcml2YXRlIGZ1bmN0aW9uIGdldFJlcG9zaXRvcnlTZXQoQ29tcG9zZXIgJGNvbXBvc2VyKQp7CmlmICghJHRoaXMtPnJlcG9zaXRvcnlTZXQpIHsKJHRoaXMtPnJlcG9zaXRvcnlTZXQgPSBuZXcgUmVwb3NpdG9yeVNldCgkY29tcG9zZXItPmdldFBhY2thZ2UoKS0+Z2V0TWluaW11bVN0YWJpbGl0eSgpLCAkY29tcG9zZXItPmdldFBhY2thZ2UoKS0+Z2V0U3RhYmlsaXR5RmxhZ3MoKSk7CiR0aGlzLT5yZXBvc2l0b3J5U2V0LT5hZGRSZXBvc2l0b3J5KG5ldyBDb21wb3NpdGVSZXBvc2l0b3J5KCRjb21wb3Nlci0+Z2V0UmVwb3NpdG9yeU1hbmFnZXIoKS0+Z2V0UmVwb3NpdG9yaWVzKCkpKTsKfQoKcmV0dXJuICR0aGlzLT5yZXBvc2l0b3J5U2V0Owp9CgoKCgoKCgoKCnByaXZhdGUgZnVuY3Rpb24gZmlsdGVyUmVxdWlyZWRQYWNrYWdlcyhSZXBvc2l0b3J5SW50ZXJmYWNlICRyZXBvLCBQYWNrYWdlSW50ZXJmYWNlICRwYWNrYWdlLCAkYnVja2V0ID0gYXJyYXkoKSkKewokcmVxdWlyZXMgPSAkcGFja2FnZS0+Z2V0UmVxdWlyZXMoKTsKCmZvcmVhY2ggKCRyZXBvLT5nZXRQYWNrYWdlcygpIGFzICRjYW5kaWRhdGUpIHsKZm9yZWFjaCAoJGNhbmRpZGF0ZS0+Z2V0TmFtZXMoKSBhcyAkbmFtZSkgewppZiAoaXNzZXQoJHJlcXVpcmVzWyRuYW1lXSkpIHsKaWYgKCFpbl9hcnJheSgkY2FuZGlkYXRlLCAkYnVja2V0LCB0cnVlKSkgewokYnVja2V0W10gPSAkY2FuZGlkYXRlOwokYnVja2V0ID0gJHRoaXMtPmZpbHRlclJlcXVpcmVkUGFja2FnZXMoJHJlcG8sICRjYW5kaWRhdGUsICRidWNrZXQpOwp9CmJyZWFrOwp9Cn0KfQoKcmV0dXJuICRidWNrZXQ7Cn0KfQo8P3BocAoKCgoKCgoKCgoKCm5hbWVzcGFjZSBDb21wb3NlclxDb21tYW5kOwoKdXNlIFN5bWZvbnlcQ29tcG9uZW50XENvbnNvbGVcSW5wdXRcSW5wdXRJbnRlcmZhY2U7CnVzZSBTeW1mb255XENvbXBvbmVudFxDb25zb2xlXElucHV0XElucHV0T3B0aW9uOwp1c2UgU3ltZm9ueVxDb21wb25lbnRcQ29uc29sZVxPdXRwdXRcT3V0cHV0SW50ZXJmYWNlOwp1c2UgQ29tcG9zZXJcRG93bmxvYWRlclxDaGFuZ2VSZXBvcnRJbnRlcmZhY2U7CnVzZSBDb21wb3NlclxEb3dubG9hZGVyXER2Y3NEb3dubG9hZGVySW50ZXJmYWNlOwp1c2UgQ29tcG9zZXJcRG93bmxvYWRlclxWY3NDYXBhYmxlRG93bmxvYWRlckludGVyZmFjZTsKdXNlIENvbXBvc2VyXFBhY2thZ2VcRHVtcGVyXEFycmF5RHVtcGVyOwp1c2UgQ29tcG9zZXJcUGFja2FnZVxWZXJzaW9uXFZlcnNpb25HdWVzc2VyOwp1c2UgQ29tcG9zZXJcUGFja2FnZVxWZXJzaW9uXFZlcnNpb25QYXJzZXI7CnVzZSBDb21wb3NlclxQbHVnaW5cQ29tbWFuZEV2ZW50Owp1c2UgQ29tcG9zZXJcUGx1Z2luXFBsdWdpbkV2ZW50czsKdXNlIENvbXBvc2VyXFNjcmlwdFxTY3JpcHRFdmVudHM7CnVzZSBDb21wb3NlclxVdGlsXFByb2Nlc3NFeGVjdXRvcjsKCgoKCgpjbGFzcyBTdGF0dXNDb21tYW5kIGV4dGVuZHMgQmFzZUNvbW1hbmQKewpjb25zdCBFWElUX0NPREVfRVJST1JTID0gMTsKY29uc3QgRVhJVF9DT0RFX1VOUFVTSEVEX0NIQU5HRVMgPSAyOwpjb25zdCBFWElUX0NPREVfVkVSU0lPTl9DSEFOR0VTID0gNDsKCgoKCnByb3RlY3RlZCBmdW5jdGlvbiBjb25maWd1cmUoKQp7CiR0aGlzCi0+c2V0TmFtZSgnc3RhdHVzJykKLT5zZXREZXNjcmlwdGlvbignU2hvd3MgYSBsaXN0IG9mIGxvY2FsbHkgbW9kaWZpZWQgcGFja2FnZXMuJykKLT5zZXREZWZpbml0aW9uKGFycmF5KApuZXcgSW5wdXRPcHRpb24oJ3ZlcmJvc2UnLCAndnx2dnx2dnYnLCBJbnB1dE9wdGlvbjo6VkFMVUVfTk9ORSwgJ1Nob3cgbW9kaWZpZWQgZmlsZXMgZm9yIGVhY2ggZGlyZWN0b3J5IHRoYXQgY29udGFpbnMgY2hhbmdlcy4nKSwKKSkKLT5zZXRIZWxwKAo8PDxFT1QKVGhlIHN0YXR1cyBjb21tYW5kIGRpc3BsYXlzIGEgbGlzdCBvZiBkZXBlbmRlbmNpZXMgdGhhdCBoYXZlCmJlZW4gbW9kaWZpZWQgbG9jYWxseS4KClJlYWQgbW9yZSBhdCBodHRwczovL2dldGNvbXBvc2VyLm9yZy9kb2MvMDMtY2xpLm1kI3N0YXR1cwpFT1QKKQo7Cn0KCgoKCgoKcHJvdGVjdGVkIGZ1bmN0aW9uIGV4ZWN1dGUoSW5wdXRJbnRlcmZhY2UgJGlucHV0LCBPdXRwdXRJbnRlcmZhY2UgJG91dHB1dCkKewokY29tcG9zZXIgPSAkdGhpcy0+Z2V0Q29tcG9zZXIoKTsKCiRjb21tYW5kRXZlbnQgPSBuZXcgQ29tbWFuZEV2ZW50KFBsdWdpbkV2ZW50czo6Q09NTUFORCwgJ3N0YXR1cycsICRpbnB1dCwgJG91dHB1dCk7CiRjb21wb3Nlci0+Z2V0RXZlbnREaXNwYXRjaGVyKCktPmRpc3BhdGNoKCRjb21tYW5kRXZlbnQtPmdldE5hbWUoKSwgJGNvbW1hbmRFdmVudCk7CgoKJGNvbXBvc2VyLT5nZXRFdmVudERpc3BhdGNoZXIoKS0+ZGlzcGF0Y2hTY3JpcHQoU2NyaXB0RXZlbnRzOjpQUkVfU1RBVFVTX0NNRCwgdHJ1ZSk7CgokZXhpdENvZGUgPSAkdGhpcy0+ZG9FeGVjdXRlKCRpbnB1dCk7CgoKJGNvbXBvc2VyLT5nZXRFdmVudERpc3BhdGNoZXIoKS0+ZGlzcGF0Y2hTY3JpcHQoU2NyaXB0RXZlbnRzOjpQT1NUX1NUQVRVU19DTUQsIHRydWUpOwoKcmV0dXJuICRleGl0Q29kZTsKfQoKCgoKCnByaXZhdGUgZnVuY3Rpb24gZG9FeGVjdXRlKElucHV0SW50ZXJmYWNlICRpbnB1dCkKewoKJGNvbXBvc2VyID0gJHRoaXMtPmdldENvbXBvc2VyKCk7CgokaW5zdGFsbGVkUmVwbyA9ICRjb21wb3Nlci0+Z2V0UmVwb3NpdG9yeU1hbmFnZXIoKS0+Z2V0TG9jYWxSZXBvc2l0b3J5KCk7CgokZG0gPSAkY29tcG9zZXItPmdldERvd25sb2FkTWFuYWdlcigpOwokaW0gPSAkY29tcG9zZXItPmdldEluc3RhbGxhdGlvbk1hbmFnZXIoKTsKCiRlcnJvcnMgPSBhcnJheSgpOwokaW8gPSAkdGhpcy0+Z2V0SU8oKTsKJHVucHVzaGVkQ2hhbmdlcyA9IGFycmF5KCk7CiR2Y3NWZXJzaW9uQ2hhbmdlcyA9IGFycmF5KCk7CgokcGFyc2VyID0gbmV3IFZlcnNpb25QYXJzZXI7CiRndWVzc2VyID0gbmV3IFZlcnNpb25HdWVzc2VyKCRjb21wb3Nlci0+Z2V0Q29uZmlnKCksIG5ldyBQcm9jZXNzRXhlY3V0b3IoJGlvKSwgJHBhcnNlcik7CiRkdW1wZXIgPSBuZXcgQXJyYXlEdW1wZXI7CgoKZm9yZWFjaCAoJGluc3RhbGxlZFJlcG8tPmdldENhbm9uaWNhbFBhY2thZ2VzKCkgYXMgJHBhY2thZ2UpIHsKJGRvd25sb2FkZXIgPSAkZG0tPmdldERvd25sb2FkZXJGb3JQYWNrYWdlKCRwYWNrYWdlKTsKJHRhcmdldERpciA9ICRpbS0+Z2V0SW5zdGFsbFBhdGgoJHBhY2thZ2UpOwoKaWYgKCRkb3dubG9hZGVyIGluc3RhbmNlb2YgQ2hhbmdlUmVwb3J0SW50ZXJmYWNlKSB7CmlmIChpc19saW5rKCR0YXJnZXREaXIpKSB7CiRlcnJvcnNbJHRhcmdldERpcl0gPSAkdGFyZ2V0RGlyIC4gJyBpcyBhIHN5bWJvbGljIGxpbmsuJzsKfQoKaWYgKCRjaGFuZ2VzID0gJGRvd25sb2FkZXItPmdldExvY2FsQ2hhbmdlcygkcGFja2FnZSwgJHRhcmdldERpcikpIHsKJGVycm9yc1skdGFyZ2V0RGlyXSA9ICRjaGFuZ2VzOwp9Cn0KCmlmICgkZG93bmxvYWRlciBpbnN0YW5jZW9mIFZjc0NhcGFibGVEb3dubG9hZGVySW50ZXJmYWNlKSB7CmlmICgkZG93bmxvYWRlci0+Z2V0VmNzUmVmZXJlbmNlKCRwYWNrYWdlLCAkdGFyZ2V0RGlyKSkgewpzd2l0Y2ggKCRwYWNrYWdlLT5nZXRJbnN0YWxsYXRpb25Tb3VyY2UoKSkgewpjYXNlICdzb3VyY2UnOgokcHJldmlvdXNSZWYgPSAkcGFja2FnZS0+Z2V0U291cmNlUmVmZXJlbmNlKCk7CmJyZWFrOwpjYXNlICdkaXN0JzoKJHByZXZpb3VzUmVmID0gJHBhY2thZ2UtPmdldERpc3RSZWZlcmVuY2UoKTsKYnJlYWs7CmRlZmF1bHQ6CiRwcmV2aW91c1JlZiA9IG51bGw7Cn0KCiRjdXJyZW50VmVyc2lvbiA9ICRndWVzc2VyLT5ndWVzc1ZlcnNpb24oJGR1bXBlci0+ZHVtcCgkcGFja2FnZSksICR0YXJnZXREaXIpOwoKaWYgKCRwcmV2aW91c1JlZiAmJiAkY3VycmVudFZlcnNpb24gJiYgJGN1cnJlbnRWZXJzaW9uWydjb21taXQnXSAhPT0gJHByZXZpb3VzUmVmKSB7CiR2Y3NWZXJzaW9uQ2hhbmdlc1skdGFyZ2V0RGlyXSA9IGFycmF5KAoncHJldmlvdXMnID0+IGFycmF5KAondmVyc2lvbicgPT4gJHBhY2thZ2UtPmdldFByZXR0eVZlcnNpb24oKSwKJ3JlZicgPT4gJHByZXZpb3VzUmVmLAopLAonY3VycmVudCcgPT4gYXJyYXkoCid2ZXJzaW9uJyA9PiAkY3VycmVudFZlcnNpb25bJ3ByZXR0eV92ZXJzaW9uJ10sCidyZWYnID0+ICRjdXJyZW50VmVyc2lvblsnY29tbWl0J10sCiksCik7Cn0KfQp9CgppZiAoJGRvd25sb2FkZXIgaW5zdGFuY2VvZiBEdmNzRG93bmxvYWRlckludGVyZmFjZSkgewppZiAoJHVucHVzaGVkID0gJGRvd25sb2FkZXItPmdldFVucHVzaGVkQ2hhbmdlcygkcGFja2FnZSwgJHRhcmdldERpcikpIHsKJHVucHVzaGVkQ2hhbmdlc1skdGFyZ2V0RGlyXSA9ICR1bnB1c2hlZDsKfQp9Cn0KCgppZiAoISRlcnJvcnMgJiYgISR1bnB1c2hlZENoYW5nZXMgJiYgISR2Y3NWZXJzaW9uQ2hhbmdlcykgewokaW8tPndyaXRlRXJyb3IoJzxpbmZvPk5vIGxvY2FsIGNoYW5nZXM8L2luZm8+Jyk7CgpyZXR1cm4gMDsKfQoKaWYgKCRlcnJvcnMpIHsKJGlvLT53cml0ZUVycm9yKCc8ZXJyb3I+WW91IGhhdmUgY2hhbmdlcyBpbiB0aGUgZm9sbG93aW5nIGRlcGVuZGVuY2llczo8L2Vycm9yPicpOwoKZm9yZWFjaCAoJGVycm9ycyBhcyAkcGF0aCA9PiAkY2hhbmdlcykgewppZiAoJGlucHV0LT5nZXRPcHRpb24oJ3ZlcmJvc2UnKSkgewokaW5kZW50ZWRDaGFuZ2VzID0gaW1wbG9kZSgiXG4iLCBhcnJheV9tYXAoZnVuY3Rpb24gKCRsaW5lKSB7CnJldHVybiAnICAgICcgLiBsdHJpbSgkbGluZSk7Cn0sIGV4cGxvZGUoIlxuIiwgJGNoYW5nZXMpKSk7CiRpby0+d3JpdGUoJzxpbmZvPicuJHBhdGguJzwvaW5mbz46Jyk7CiRpby0+d3JpdGUoJGluZGVudGVkQ2hhbmdlcyk7Cn0gZWxzZSB7CiRpby0+d3JpdGUoJHBhdGgpOwp9Cn0KfQoKaWYgKCR1bnB1c2hlZENoYW5nZXMpIHsKJGlvLT53cml0ZUVycm9yKCc8d2FybmluZz5Zb3UgaGF2ZSB1bnB1c2hlZCBjaGFuZ2VzIG9uIHRoZSBjdXJyZW50IGJyYW5jaCBpbiB0aGUgZm9sbG93aW5nIGRlcGVuZGVuY2llczo8L3dhcm5pbmc+Jyk7Cgpmb3JlYWNoICgkdW5wdXNoZWRDaGFuZ2VzIGFzICRwYXRoID0+ICRjaGFuZ2VzKSB7CmlmICgkaW5wdXQtPmdldE9wdGlvbigndmVyYm9zZScpKSB7CiRpbmRlbnRlZENoYW5nZXMgPSBpbXBsb2RlKCJcbiIsIGFycmF5X21hcChmdW5jdGlvbiAoJGxpbmUpIHsKcmV0dXJuICcgICAgJyAuIGx0cmltKCRsaW5lKTsKfSwgZXhwbG9kZSgiXG4iLCAkY2hhbmdlcykpKTsKJGlvLT53cml0ZSgnPGluZm8+Jy4kcGF0aC4nPC9pbmZvPjonKTsKJGlvLT53cml0ZSgkaW5kZW50ZWRDaGFuZ2VzKTsKfSBlbHNlIHsKJGlvLT53cml0ZSgkcGF0aCk7Cn0KfQp9CgppZiAoJHZjc1ZlcnNpb25DaGFuZ2VzKSB7CiRpby0+d3JpdGVFcnJvcignPHdhcm5pbmc+WW91IGhhdmUgdmVyc2lvbiB2YXJpYXRpb25zIGluIHRoZSBmb2xsb3dpbmcgZGVwZW5kZW5jaWVzOjwvd2FybmluZz4nKTsKCmZvcmVhY2ggKCR2Y3NWZXJzaW9uQ2hhbmdlcyBhcyAkcGF0aCA9PiAkY2hhbmdlcykgewppZiAoJGlucHV0LT5nZXRPcHRpb24oJ3ZlcmJvc2UnKSkgewoKJGN1cnJlbnRWZXJzaW9uID0gJGNoYW5nZXNbJ2N1cnJlbnQnXVsndmVyc2lvbiddID86ICRjaGFuZ2VzWydjdXJyZW50J11bJ3JlZiddOwokcHJldmlvdXNWZXJzaW9uID0gJGNoYW5nZXNbJ3ByZXZpb3VzJ11bJ3ZlcnNpb24nXSA/OiAkY2hhbmdlc1sncHJldmlvdXMnXVsncmVmJ107CgppZiAoJGlvLT5pc1ZlcnlWZXJib3NlKCkpIHsKCiRjdXJyZW50VmVyc2lvbiAuPSBzcHJpbnRmKCcgKCVzKScsICRjaGFuZ2VzWydjdXJyZW50J11bJ3JlZiddKTsKJHByZXZpb3VzVmVyc2lvbiAuPSBzcHJpbnRmKCcgKCVzKScsICRjaGFuZ2VzWydwcmV2aW91cyddWydyZWYnXSk7Cn0KCiRpby0+d3JpdGUoJzxpbmZvPicuJHBhdGguJzwvaW5mbz46Jyk7CiRpby0+d3JpdGUoc3ByaW50ZignICAgIEZyb20gPGNvbW1lbnQ+JXM8L2NvbW1lbnQ+IHRvIDxjb21tZW50PiVzPC9jb21tZW50PicsICRwcmV2aW91c1ZlcnNpb24sICRjdXJyZW50VmVyc2lvbikpOwp9IGVsc2UgewokaW8tPndyaXRlKCRwYXRoKTsKfQp9Cn0KCmlmICgoJGVycm9ycyB8fCAkdW5wdXNoZWRDaGFuZ2VzIHx8ICR2Y3NWZXJzaW9uQ2hhbmdlcykgJiYgISRpbnB1dC0+Z2V0T3B0aW9uKCd2ZXJib3NlJykpIHsKJGlvLT53cml0ZUVycm9yKCdVc2UgLS12ZXJib3NlICgtdikgdG8gc2VlIGEgbGlzdCBvZiBmaWxlcycpOwp9CgpyZXR1cm4gKCRlcnJvcnMgPyBzZWxmOjpFWElUX0NPREVfRVJST1JTIDogMCkgKyAoJHVucHVzaGVkQ2hhbmdlcyA/IHNlbGY6OkVYSVRfQ09ERV9VTlBVU0hFRF9DSEFOR0VTIDogMCkgKyAoJHZjc1ZlcnNpb25DaGFuZ2VzID8gc2VsZjo6RVhJVF9DT0RFX1ZFUlNJT05fQ0hBTkdFUyA6IDApOwp9Cn0KPD9waHAKCgoKCgoKCgoKCgpuYW1lc3BhY2UgQ29tcG9zZXJcQ29tbWFuZDsKCnVzZSBDb21wb3NlclxSZXBvc2l0b3J5XFBsYXRmb3JtUmVwb3NpdG9yeTsKdXNlIENvbXBvc2VyXFJlcG9zaXRvcnlcUm9vdFBhY2thZ2VSZXBvc2l0b3J5Owp1c2UgQ29tcG9zZXJcUmVwb3NpdG9yeVxJbnN0YWxsZWRSZXBvc2l0b3J5Owp1c2UgQ29tcG9zZXJcSW5zdGFsbGVyXFN1Z2dlc3RlZFBhY2thZ2VzUmVwb3J0ZXI7CnVzZSBTeW1mb255XENvbXBvbmVudFxDb25zb2xlXElucHV0XElucHV0QXJndW1lbnQ7CnVzZSBTeW1mb255XENvbXBvbmVudFxDb25zb2xlXElucHV0XElucHV0SW50ZXJmYWNlOwp1c2UgU3ltZm9ueVxDb21wb25lbnRcQ29uc29sZVxJbnB1dFxJbnB1dE9wdGlvbjsKdXNlIFN5bWZvbnlcQ29tcG9uZW50XENvbnNvbGVcT3V0cHV0XE91dHB1dEludGVyZmFjZTsKCmNsYXNzIFN1Z2dlc3RzQ29tbWFuZCBleHRlbmRzIEJhc2VDb21tYW5kCnsKcHJvdGVjdGVkIGZ1bmN0aW9uIGNvbmZpZ3VyZSgpCnsKJHRoaXMKLT5zZXROYW1lKCdzdWdnZXN0cycpCi0+c2V0RGVzY3JpcHRpb24oJ1Nob3dzIHBhY2thZ2Ugc3VnZ2VzdGlvbnMuJykKLT5zZXREZWZpbml0aW9uKGFycmF5KApuZXcgSW5wdXRPcHRpb24oJ2J5LXBhY2thZ2UnLCBudWxsLCBJbnB1dE9wdGlvbjo6VkFMVUVfTk9ORSwgJ0dyb3VwcyBvdXRwdXQgYnkgc3VnZ2VzdGluZyBwYWNrYWdlIChkZWZhdWx0KScpLApuZXcgSW5wdXRPcHRpb24oJ2J5LXN1Z2dlc3Rpb24nLCBudWxsLCBJbnB1dE9wdGlvbjo6VkFMVUVfTk9ORSwgJ0dyb3VwcyBvdXRwdXQgYnkgc3VnZ2VzdGVkIHBhY2thZ2UnKSwKbmV3IElucHV0T3B0aW9uKCdhbGwnLCAnYScsIElucHV0T3B0aW9uOjpWQUxVRV9OT05FLCAnU2hvdyBzdWdnZXN0aW9ucyBmcm9tIGFsbCBkZXBlbmRlbmNpZXMsIGluY2x1ZGluZyB0cmFuc2l0aXZlIG9uZXMnKSwKbmV3IElucHV0T3B0aW9uKCdsaXN0JywgbnVsbCwgSW5wdXRPcHRpb246OlZBTFVFX05PTkUsICdTaG93IG9ubHkgbGlzdCBvZiBzdWdnZXN0ZWQgcGFja2FnZSBuYW1lcycpLApuZXcgSW5wdXRPcHRpb24oJ25vLWRldicsIG51bGwsIElucHV0T3B0aW9uOjpWQUxVRV9OT05FLCAnRXhjbHVkZSBzdWdnZXN0aW9ucyBmcm9tIHJlcXVpcmUtZGV2IHBhY2thZ2VzJyksCm5ldyBJbnB1dEFyZ3VtZW50KCdwYWNrYWdlcycsIElucHV0QXJndW1lbnQ6OklTX0FSUkFZIHwgSW5wdXRBcmd1bWVudDo6T1BUSU9OQUwsICdQYWNrYWdlcyB0aGF0IHlvdSB3YW50IHRvIGxpc3Qgc3VnZ2VzdGlvbnMgZnJvbS4nKSwKKSkKLT5zZXRIZWxwKAo8PDxFT1QKClRoZSA8aW5mbz4lY29tbWFuZC5uYW1lJTwvaW5mbz4gY29tbWFuZCBzaG93cyBhIHNvcnRlZCBsaXN0IG9mIHN1Z2dlc3RlZCBwYWNrYWdlcy4KClJlYWQgbW9yZSBhdCBodHRwczovL2dldGNvbXBvc2VyLm9yZy9kb2MvMDMtY2xpLm1kI3N1Z2dlc3RzCkVPVAopCjsKfQoKCgoKcHJvdGVjdGVkIGZ1bmN0aW9uIGV4ZWN1dGUoSW5wdXRJbnRlcmZhY2UgJGlucHV0LCBPdXRwdXRJbnRlcmZhY2UgJG91dHB1dCkKewokY29tcG9zZXIgPSAkdGhpcy0+Z2V0Q29tcG9zZXIoKTsKCiRpbnN0YWxsZWRSZXBvcyA9IGFycmF5KApuZXcgUm9vdFBhY2thZ2VSZXBvc2l0b3J5KGNsb25lICRjb21wb3Nlci0+Z2V0UGFja2FnZSgpKSwKKTsKCiRsb2NrZXIgPSAkY29tcG9zZXItPmdldExvY2tlcigpOwppZiAoJGxvY2tlci0+aXNMb2NrZWQoKSkgewokaW5zdGFsbGVkUmVwb3NbXSA9IG5ldyBQbGF0Zm9ybVJlcG9zaXRvcnkoYXJyYXkoKSwgJGxvY2tlci0+Z2V0UGxhdGZvcm1PdmVycmlkZXMoKSk7CiRpbnN0YWxsZWRSZXBvc1tdID0gJGxvY2tlci0+Z2V0TG9ja2VkUmVwb3NpdG9yeSghJGlucHV0LT5nZXRPcHRpb24oJ25vLWRldicpKTsKfSBlbHNlIHsKJGluc3RhbGxlZFJlcG9zW10gPSBuZXcgUGxhdGZvcm1SZXBvc2l0b3J5KGFycmF5KCksICRjb21wb3Nlci0+Z2V0Q29uZmlnKCktPmdldCgncGxhdGZvcm0nKSA/OiBhcnJheSgpKTsKJGluc3RhbGxlZFJlcG9zW10gPSAkY29tcG9zZXItPmdldFJlcG9zaXRvcnlNYW5hZ2VyKCktPmdldExvY2FsUmVwb3NpdG9yeSgpOwp9CgokaW5zdGFsbGVkUmVwbyA9IG5ldyBJbnN0YWxsZWRSZXBvc2l0b3J5KCRpbnN0YWxsZWRSZXBvcyk7CiRyZXBvcnRlciA9IG5ldyBTdWdnZXN0ZWRQYWNrYWdlc1JlcG9ydGVyKCR0aGlzLT5nZXRJTygpKTsKCiRmaWx0ZXIgPSAkaW5wdXQtPmdldEFyZ3VtZW50KCdwYWNrYWdlcycpOwokcGFja2FnZXMgPSAkaW5zdGFsbGVkUmVwby0+Z2V0UGFja2FnZXMoKTsKJHBhY2thZ2VzW10gPSAkY29tcG9zZXItPmdldFBhY2thZ2UoKTsKZm9yZWFjaCAoJHBhY2thZ2VzIGFzICRwYWNrYWdlKSB7CmlmICghZW1wdHkoJGZpbHRlcikgJiYgIWluX2FycmF5KCRwYWNrYWdlLT5nZXROYW1lKCksICRmaWx0ZXIpKSB7CmNvbnRpbnVlOwp9CgokcmVwb3J0ZXItPmFkZFN1Z2dlc3Rpb25zRnJvbVBhY2thZ2UoJHBhY2thZ2UpOwp9CgoKJG1vZGUgPSBTdWdnZXN0ZWRQYWNrYWdlc1JlcG9ydGVyOjpNT0RFX0JZX1BBQ0tBR0U7CgoKaWYgKCRpbnB1dC0+Z2V0T3B0aW9uKCdieS1zdWdnZXN0aW9uJykpIHsKJG1vZGUgPSBTdWdnZXN0ZWRQYWNrYWdlc1JlcG9ydGVyOjpNT0RFX0JZX1NVR0dFU1RJT047Cn0KCmlmICgkaW5wdXQtPmdldE9wdGlvbignYnktcGFja2FnZScpKSB7CiRtb2RlIHw9IFN1Z2dlc3RlZFBhY2thZ2VzUmVwb3J0ZXI6Ok1PREVfQllfUEFDS0FHRTsKfQoKaWYgKCRpbnB1dC0+Z2V0T3B0aW9uKCdsaXN0JykpIHsKJG1vZGUgPSBTdWdnZXN0ZWRQYWNrYWdlc1JlcG9ydGVyOjpNT0RFX0xJU1Q7Cn0KCiRyZXBvcnRlci0+b3V0cHV0KCRtb2RlLCAkaW5zdGFsbGVkUmVwbywgZW1wdHkoJGZpbHRlcikgJiYgISRpbnB1dC0+Z2V0T3B0aW9uKCdhbGwnKSA/ICRjb21wb3Nlci0+Z2V0UGFja2FnZSgpIDogbnVsbCk7CgpyZXR1cm4gMDsKfQp9Cjw/cGhwCgoKCgoKCgoKCgoKbmFtZXNwYWNlIENvbXBvc2VyXENvbW1hbmQ7Cgp1c2UgQ29tcG9zZXJcQ29tcG9zZXI7CnVzZSBDb21wb3NlclxEZXBlbmRlbmN5UmVzb2x2ZXJcUmVxdWVzdDsKdXNlIENvbXBvc2VyXEluc3RhbGxlcjsKdXNlIENvbXBvc2VyXElPXElPSW50ZXJmYWNlOwp1c2UgQ29tcG9zZXJcUGFja2FnZVxMb2FkZXJcUm9vdFBhY2thZ2VMb2FkZXI7CnVzZSBDb21wb3NlclxQbHVnaW5cQ29tbWFuZEV2ZW50Owp1c2UgQ29tcG9zZXJcUGx1Z2luXFBsdWdpbkV2ZW50czsKdXNlIENvbXBvc2VyXFBhY2thZ2VcVmVyc2lvblxWZXJzaW9uUGFyc2VyOwp1c2UgQ29tcG9zZXJcVXRpbFxIdHRwRG93bmxvYWRlcjsKdXNlIENvbXBvc2VyXFNlbXZlclxDb25zdHJhaW50XE11bHRpQ29uc3RyYWludDsKdXNlIENvbXBvc2VyXFBhY2thZ2VcTGluazsKdXNlIFN5bWZvbnlcQ29tcG9uZW50XENvbnNvbGVcSGVscGVyXFRhYmxlOwp1c2UgU3ltZm9ueVxDb21wb25lbnRcQ29uc29sZVxJbnB1dFxJbnB1dEludGVyZmFjZTsKdXNlIFN5bWZvbnlcQ29tcG9uZW50XENvbnNvbGVcSW5wdXRcSW5wdXRPcHRpb247CnVzZSBTeW1mb255XENvbXBvbmVudFxDb25zb2xlXElucHV0XElucHV0QXJndW1lbnQ7CnVzZSBTeW1mb255XENvbXBvbmVudFxDb25zb2xlXE91dHB1dFxPdXRwdXRJbnRlcmZhY2U7CnVzZSBTeW1mb255XENvbXBvbmVudFxDb25zb2xlXFF1ZXN0aW9uXFF1ZXN0aW9uOwoKCgoKCmNsYXNzIFVwZGF0ZUNvbW1hbmQgZXh0ZW5kcyBCYXNlQ29tbWFuZAp7CnByb3RlY3RlZCBmdW5jdGlvbiBjb25maWd1cmUoKQp7CiR0aGlzCi0+c2V0TmFtZSgndXBkYXRlJykKLT5zZXRBbGlhc2VzKGFycmF5KCd1JywgJ3VwZ3JhZGUnKSkKLT5zZXREZXNjcmlwdGlvbignVXBncmFkZXMgeW91ciBkZXBlbmRlbmNpZXMgdG8gdGhlIGxhdGVzdCB2ZXJzaW9uIGFjY29yZGluZyB0byBjb21wb3Nlci5qc29uLCBhbmQgdXBkYXRlcyB0aGUgY29tcG9zZXIubG9jayBmaWxlLicpCi0+c2V0RGVmaW5pdGlvbihhcnJheSgKbmV3IElucHV0QXJndW1lbnQoJ3BhY2thZ2VzJywgSW5wdXRBcmd1bWVudDo6SVNfQVJSQVkgfCBJbnB1dEFyZ3VtZW50OjpPUFRJT05BTCwgJ1BhY2thZ2VzIHRoYXQgc2hvdWxkIGJlIHVwZGF0ZWQsIGlmIG5vdCBwcm92aWRlZCBhbGwgcGFja2FnZXMgYXJlLicpLApuZXcgSW5wdXRPcHRpb24oJ3dpdGgnLCBudWxsLCBJbnB1dE9wdGlvbjo6VkFMVUVfSVNfQVJSQVkgfCBJbnB1dE9wdGlvbjo6VkFMVUVfUkVRVUlSRUQsICdUZW1wb3JhcnkgdmVyc2lvbiBjb25zdHJhaW50IHRvIGFkZCwgZS5nLiBmb28vYmFyOjEuMC4wIG9yIGZvby9iYXI9MS4wLjAnKSwKbmV3IElucHV0T3B0aW9uKCdwcmVmZXItc291cmNlJywgbnVsbCwgSW5wdXRPcHRpb246OlZBTFVFX05PTkUsICdGb3JjZXMgaW5zdGFsbGF0aW9uIGZyb20gcGFja2FnZSBzb3VyY2VzIHdoZW4gcG9zc2libGUsIGluY2x1ZGluZyBWQ1MgaW5mb3JtYXRpb24uJyksCm5ldyBJbnB1dE9wdGlvbigncHJlZmVyLWRpc3QnLCBudWxsLCBJbnB1dE9wdGlvbjo6VkFMVUVfTk9ORSwgJ0ZvcmNlcyBpbnN0YWxsYXRpb24gZnJvbSBwYWNrYWdlIGRpc3QgKGRlZmF1bHQgYmVoYXZpb3IpLicpLApuZXcgSW5wdXRPcHRpb24oJ3ByZWZlci1pbnN0YWxsJywgbnVsbCwgSW5wdXRPcHRpb246OlZBTFVFX1JFUVVJUkVELCAnRm9yY2VzIGluc3RhbGxhdGlvbiBmcm9tIHBhY2thZ2UgZGlzdHxzb3VyY2V8YXV0byAoYXV0byBjaG9vc2VzIHNvdXJjZSBmb3IgZGV2IHZlcnNpb25zLCBkaXN0IGZvciB0aGUgcmVzdCkuJyksCm5ldyBJbnB1dE9wdGlvbignZHJ5LXJ1bicsIG51bGwsIElucHV0T3B0aW9uOjpWQUxVRV9OT05FLCAnT3V0cHV0cyB0aGUgb3BlcmF0aW9ucyBidXQgd2lsbCBub3QgZXhlY3V0ZSBhbnl0aGluZyAoaW1wbGljaXRseSBlbmFibGVzIC0tdmVyYm9zZSkuJyksCm5ldyBJbnB1dE9wdGlvbignZGV2JywgbnVsbCwgSW5wdXRPcHRpb246OlZBTFVFX05PTkUsICdERVBSRUNBVEVEOiBFbmFibGVzIGluc3RhbGxhdGlvbiBvZiByZXF1aXJlLWRldiBwYWNrYWdlcyAoZW5hYmxlZCBieSBkZWZhdWx0LCBvbmx5IHByZXNlbnQgZm9yIEJDKS4nKSwKbmV3IElucHV0T3B0aW9uKCduby1kZXYnLCBudWxsLCBJbnB1dE9wdGlvbjo6VkFMVUVfTk9ORSwgJ0Rpc2FibGVzIGluc3RhbGxhdGlvbiBvZiByZXF1aXJlLWRldiBwYWNrYWdlcy4nKSwKbmV3IElucHV0T3B0aW9uKCdsb2NrJywgbnVsbCwgSW5wdXRPcHRpb246OlZBTFVFX05PTkUsICdPdmVyd3JpdGVzIHRoZSBsb2NrIGZpbGUgaGFzaCB0byBzdXBwcmVzcyB3YXJuaW5nIGFib3V0IHRoZSBsb2NrIGZpbGUgYmVpbmcgb3V0IG9mIGRhdGUgd2l0aG91dCB1cGRhdGluZyBwYWNrYWdlIHZlcnNpb25zLiBQYWNrYWdlIG1ldGFkYXRhIGxpa2UgbWlycm9ycyBhbmQgVVJMcyBhcmUgdXBkYXRlZCBpZiB0aGV5IGNoYW5nZWQuJyksCm5ldyBJbnB1dE9wdGlvbignbm8taW5zdGFsbCcsIG51bGwsIElucHV0T3B0aW9uOjpWQUxVRV9OT05FLCAnU2tpcCB0aGUgaW5zdGFsbCBzdGVwIGFmdGVyIHVwZGF0aW5nIHRoZSBjb21wb3Nlci5sb2NrIGZpbGUuJyksCm5ldyBJbnB1dE9wdGlvbignbm8tYXV0b2xvYWRlcicsIG51bGwsIElucHV0T3B0aW9uOjpWQUxVRV9OT05FLCAnU2tpcHMgYXV0b2xvYWRlciBnZW5lcmF0aW9uJyksCm5ldyBJbnB1dE9wdGlvbignbm8tc2NyaXB0cycsIG51bGwsIElucHV0T3B0aW9uOjpWQUxVRV9OT05FLCAnU2tpcHMgdGhlIGV4ZWN1dGlvbiBvZiBhbGwgc2NyaXB0cyBkZWZpbmVkIGluIGNvbXBvc2VyLmpzb24gZmlsZS4nKSwKbmV3IElucHV0T3B0aW9uKCduby1zdWdnZXN0JywgbnVsbCwgSW5wdXRPcHRpb246OlZBTFVFX05PTkUsICdERVBSRUNBVEVEOiBUaGlzIGZsYWcgZG9lcyBub3QgZXhpc3QgYW55bW9yZS4nKSwKbmV3IElucHV0T3B0aW9uKCduby1wcm9ncmVzcycsIG51bGwsIElucHV0T3B0aW9uOjpWQUxVRV9OT05FLCAnRG8gbm90IG91dHB1dCBkb3dubG9hZCBwcm9ncmVzcy4nKSwKbmV3IElucHV0T3B0aW9uKCd3aXRoLWRlcGVuZGVuY2llcycsICd3JywgSW5wdXRPcHRpb246OlZBTFVFX05PTkUsICdVcGRhdGUgYWxzbyBkZXBlbmRlbmNpZXMgb2YgcGFja2FnZXMgaW4gdGhlIGFyZ3VtZW50IGxpc3QsIGV4Y2VwdCB0aG9zZSB3aGljaCBhcmUgcm9vdCByZXF1aXJlbWVudHMuJyksCm5ldyBJbnB1dE9wdGlvbignd2l0aC1hbGwtZGVwZW5kZW5jaWVzJywgJ1cnLCBJbnB1dE9wdGlvbjo6VkFMVUVfTk9ORSwgJ1VwZGF0ZSBhbHNvIGRlcGVuZGVuY2llcyBvZiBwYWNrYWdlcyBpbiB0aGUgYXJndW1lbnQgbGlzdCwgaW5jbHVkaW5nIHRob3NlIHdoaWNoIGFyZSByb290IHJlcXVpcmVtZW50cy4nKSwKbmV3IElucHV0T3B0aW9uKCd2ZXJib3NlJywgJ3Z8dnZ8dnZ2JywgSW5wdXRPcHRpb246OlZBTFVFX05PTkUsICdTaG93cyBtb3JlIGRldGFpbHMgaW5jbHVkaW5nIG5ldyBjb21taXRzIHB1bGxlZCBpbiB3aGVuIHVwZGF0aW5nIHBhY2thZ2VzLicpLApuZXcgSW5wdXRPcHRpb24oJ29wdGltaXplLWF1dG9sb2FkZXInLCAnbycsIElucHV0T3B0aW9uOjpWQUxVRV9OT05FLCAnT3B0aW1pemUgYXV0b2xvYWRlciBkdXJpbmcgYXV0b2xvYWRlciBkdW1wLicpLApuZXcgSW5wdXRPcHRpb24oJ2NsYXNzbWFwLWF1dGhvcml0YXRpdmUnLCAnYScsIElucHV0T3B0aW9uOjpWQUxVRV9OT05FLCAnQXV0b2xvYWQgY2xhc3NlcyBmcm9tIHRoZSBjbGFzc21hcCBvbmx5LiBJbXBsaWNpdGx5IGVuYWJsZXMgYC0tb3B0aW1pemUtYXV0b2xvYWRlcmAuJyksCm5ldyBJbnB1dE9wdGlvbignYXBjdS1hdXRvbG9hZGVyJywgbnVsbCwgSW5wdXRPcHRpb246OlZBTFVFX05PTkUsICdVc2UgQVBDdSB0byBjYWNoZSBmb3VuZC9ub3QtZm91bmQgY2xhc3Nlcy4nKSwKbmV3IElucHV0T3B0aW9uKCdhcGN1LWF1dG9sb2FkZXItcHJlZml4JywgbnVsbCwgSW5wdXRPcHRpb246OlZBTFVFX1JFUVVJUkVELCAnVXNlIGEgY3VzdG9tIHByZWZpeCBmb3IgdGhlIEFQQ3UgYXV0b2xvYWRlciBjYWNoZS4gSW1wbGljaXRseSBlbmFibGVzIC0tYXBjdS1hdXRvbG9hZGVyJyksCm5ldyBJbnB1dE9wdGlvbignaWdub3JlLXBsYXRmb3JtLXJlcScsIG51bGwsIElucHV0T3B0aW9uOjpWQUxVRV9SRVFVSVJFRCB8IElucHV0T3B0aW9uOjpWQUxVRV9JU19BUlJBWSwgJ0lnbm9yZSBhIHNwZWNpZmljIHBsYXRmb3JtIHJlcXVpcmVtZW50IChwaHAgJiBleHQtIHBhY2thZ2VzKS4nKSwKbmV3IElucHV0T3B0aW9uKCdpZ25vcmUtcGxhdGZvcm0tcmVxcycsIG51bGwsIElucHV0T3B0aW9uOjpWQUxVRV9OT05FLCAnSWdub3JlIGFsbCBwbGF0Zm9ybSByZXF1aXJlbWVudHMgKHBocCAmIGV4dC0gcGFja2FnZXMpLicpLApuZXcgSW5wdXRPcHRpb24oJ3ByZWZlci1zdGFibGUnLCBudWxsLCBJbnB1dE9wdGlvbjo6VkFMVUVfTk9ORSwgJ1ByZWZlciBzdGFibGUgdmVyc2lvbnMgb2YgZGVwZW5kZW5jaWVzLicpLApuZXcgSW5wdXRPcHRpb24oJ3ByZWZlci1sb3dlc3QnLCBudWxsLCBJbnB1dE9wdGlvbjo6VkFMVUVfTk9ORSwgJ1ByZWZlciBsb3dlc3QgdmVyc2lvbnMgb2YgZGVwZW5kZW5jaWVzLicpLApuZXcgSW5wdXRPcHRpb24oJ2ludGVyYWN0aXZlJywgJ2knLCBJbnB1dE9wdGlvbjo6VkFMVUVfTk9ORSwgJ0ludGVyYWN0aXZlIGludGVyZmFjZSB3aXRoIGF1dG9jb21wbGV0aW9uIHRvIHNlbGVjdCB0aGUgcGFja2FnZXMgdG8gdXBkYXRlLicpLApuZXcgSW5wdXRPcHRpb24oJ3Jvb3QtcmVxcycsIG51bGwsIElucHV0T3B0aW9uOjpWQUxVRV9OT05FLCAnUmVzdHJpY3RzIHRoZSB1cGRhdGUgdG8geW91ciBmaXJzdCBkZWdyZWUgZGVwZW5kZW5jaWVzLicpLAopKQotPnNldEhlbHAoCjw8PEVPVApUaGUgPGluZm8+dXBkYXRlPC9pbmZvPiBjb21tYW5kIHJlYWRzIHRoZSBjb21wb3Nlci5qc29uIGZpbGUgZnJvbSB0aGUKY3VycmVudCBkaXJlY3RvcnksIHByb2Nlc3NlcyBpdCwgYW5kIHVwZGF0ZXMsIHJlbW92ZXMgb3IgaW5zdGFsbHMgYWxsIHRoZQpkZXBlbmRlbmNpZXMuCgo8aW5mbz5waHAgY29tcG9zZXIucGhhciB1cGRhdGU8L2luZm8+CgpUbyBsaW1pdCB0aGUgdXBkYXRlIG9wZXJhdGlvbiB0byBhIGZldyBwYWNrYWdlcywgeW91IGNhbiBsaXN0IHRoZSBwYWNrYWdlKHMpCnlvdSB3YW50IHRvIHVwZGF0ZSBhcyBzdWNoOgoKPGluZm8+cGhwIGNvbXBvc2VyLnBoYXIgdXBkYXRlIHZlbmRvci9wYWNrYWdlMSBmb28vbXlwYWNrYWdlIFsuLi5dPC9pbmZvPgoKWW91IG1heSBhbHNvIHVzZSBhbiBhc3RlcmlzayAoKikgcGF0dGVybiB0byBsaW1pdCB0aGUgdXBkYXRlIG9wZXJhdGlvbiB0byBwYWNrYWdlKHMpCmZyb20gYSBzcGVjaWZpYyB2ZW5kb3I6Cgo8aW5mbz5waHAgY29tcG9zZXIucGhhciB1cGRhdGUgdmVuZG9yL3BhY2thZ2UxIGZvby8qIFsuLi5dPC9pbmZvPgoKVG8gcnVuIGFuIHVwZGF0ZSB3aXRoIG1vcmUgcmVzdHJpY3RpdmUgY29uc3RyYWludHMgeW91IGNhbiB1c2U6Cgo8aW5mbz5waHAgY29tcG9zZXIucGhhciB1cGRhdGUgLS13aXRoIHZlbmRvci9wYWNrYWdlOjEuMC4qPC9pbmZvPgoKVG8gcnVuIGEgcGFydGlhbCB1cGRhdGUgd2l0aCBtb3JlIHJlc3RyaWN0aXZlIGNvbnN0cmFpbnRzIHlvdSBjYW4gdXNlIHRoZSBzaG9ydGhhbmQ6Cgo8aW5mbz5waHAgY29tcG9zZXIucGhhciB1cGRhdGUgdmVuZG9yL3BhY2thZ2U6MS4wLio8L2luZm8+CgpUbyBzZWxlY3QgcGFja2FnZXMgbmFtZXMgaW50ZXJhY3RpdmVseSB3aXRoIGF1dG8tY29tcGxldGlvbiB1c2UgPGluZm8+LWk8L2luZm8+LgoKUmVhZCBtb3JlIGF0IGh0dHBzOi8vZ2V0Y29tcG9zZXIub3JnL2RvYy8wMy1jbGkubWQjdXBkYXRlLXUKRU9UCikKOwp9Cgpwcm90ZWN0ZWQgZnVuY3Rpb24gZXhlY3V0ZShJbnB1dEludGVyZmFjZSAkaW5wdXQsIE91dHB1dEludGVyZmFjZSAkb3V0cHV0KQp7CiRpbyA9ICR0aGlzLT5nZXRJTygpOwppZiAoJGlucHV0LT5nZXRPcHRpb24oJ2RldicpKSB7CiRpby0+d3JpdGVFcnJvcignPHdhcm5pbmc+WW91IGFyZSB1c2luZyB0aGUgZGVwcmVjYXRlZCBvcHRpb24gIi0tZGV2Ii4gSXQgaGFzIG5vIGVmZmVjdCBhbmQgd2lsbCBicmVhayBpbiBDb21wb3NlciAzLjwvd2FybmluZz4nKTsKfQppZiAoJGlucHV0LT5nZXRPcHRpb24oJ25vLXN1Z2dlc3QnKSkgewokaW8tPndyaXRlRXJyb3IoJzx3YXJuaW5nPllvdSBhcmUgdXNpbmcgdGhlIGRlcHJlY2F0ZWQgb3B0aW9uICItLW5vLXN1Z2dlc3QiLiBJdCBoYXMgbm8gZWZmZWN0IGFuZCB3aWxsIGJyZWFrIGluIENvbXBvc2VyIDMuPC93YXJuaW5nPicpOwp9CgokY29tcG9zZXIgPSAkdGhpcy0+Z2V0Q29tcG9zZXIodHJ1ZSwgJGlucHV0LT5nZXRPcHRpb24oJ25vLXBsdWdpbnMnKSk7CiRjb21wb3Nlci0+Z2V0RXZlbnREaXNwYXRjaGVyKCktPnNldFJ1blNjcmlwdHMoISRpbnB1dC0+Z2V0T3B0aW9uKCduby1zY3JpcHRzJykpOwoKaWYgKCFIdHRwRG93bmxvYWRlcjo6aXNDdXJsRW5hYmxlZCgpKSB7CiRpby0+d3JpdGVFcnJvcignPHdhcm5pbmc+Q29tcG9zZXIgaXMgb3BlcmF0aW5nIHNpZ25pZmljYW50bHkgc2xvd2VyIHRoYW4gbm9ybWFsIGJlY2F1c2UgeW91IGRvIG5vdCBoYXZlIHRoZSBQSFAgY3VybCBleHRlbnNpb24gZW5hYmxlZC48L3dhcm5pbmc+Jyk7Cn0KCiRwYWNrYWdlcyA9ICRpbnB1dC0+Z2V0QXJndW1lbnQoJ3BhY2thZ2VzJyk7CiRyZXFzID0gJHRoaXMtPmZvcm1hdFJlcXVpcmVtZW50cygkaW5wdXQtPmdldE9wdGlvbignd2l0aCcpKTsKCgppZiAoJHBhY2thZ2VzKSB7CiRhbGxvd2xpc3RQYWNrYWdlc1dpdGhSZXF1aXJlbWVudHMgPSBhcnJheV9maWx0ZXIoJHBhY2thZ2VzLCBmdW5jdGlvbiAoJHBrZykgewpyZXR1cm4gcHJlZ19tYXRjaCgne1xTK1sgPTpdXFMrfScsICRwa2cpID4gMDsKfSk7CmZvcmVhY2ggKCR0aGlzLT5mb3JtYXRSZXF1aXJlbWVudHMoJGFsbG93bGlzdFBhY2thZ2VzV2l0aFJlcXVpcmVtZW50cykgYXMgJHBhY2thZ2UgPT4gJGNvbnN0cmFpbnQpIHsKJHJlcXNbJHBhY2thZ2VdID0gJGNvbnN0cmFpbnQ7Cn0KCgpmb3JlYWNoICgkYWxsb3dsaXN0UGFja2FnZXNXaXRoUmVxdWlyZW1lbnRzIGFzICRwYWNrYWdlKSB7CiRwYWNrYWdlTmFtZSA9IHByZWdfcmVwbGFjZSgne14oW14gPTpdKylbID06XS4qJH0nLCAnJDEnLCAkcGFja2FnZSk7CiRpbmRleCA9IGFycmF5X3NlYXJjaCgkcGFja2FnZSwgJHBhY2thZ2VzKTsKJHBhY2thZ2VzWyRpbmRleF0gPSAkcGFja2FnZU5hbWU7Cn0KfQoKJHJvb3RQYWNrYWdlID0gJGNvbXBvc2VyLT5nZXRQYWNrYWdlKCk7CiRyb290UmVxdWlyZXMgPSAkcm9vdFBhY2thZ2UtPmdldFJlcXVpcmVzKCk7CiRyb290RGV2UmVxdWlyZXMgPSAkcm9vdFBhY2thZ2UtPmdldERldlJlcXVpcmVzKCk7CmZvcmVhY2ggKCRyZXFzIGFzICRwYWNrYWdlID0+ICRjb25zdHJhaW50KSB7CmlmIChpc3NldCgkcm9vdFJlcXVpcmVzWyRwYWNrYWdlXSkpIHsKJHJvb3RSZXF1aXJlc1skcGFja2FnZV0gPSAkdGhpcy0+YXBwZW5kQ29uc3RyYWludFRvTGluaygkcm9vdFJlcXVpcmVzWyRwYWNrYWdlXSwgJGNvbnN0cmFpbnQpOwp9IGVsc2VpZiAoaXNzZXQoJHJvb3REZXZSZXF1aXJlc1skcGFja2FnZV0pKSB7CiRyb290RGV2UmVxdWlyZXNbJHBhY2thZ2VdID0gJHRoaXMtPmFwcGVuZENvbnN0cmFpbnRUb0xpbmsoJHJvb3REZXZSZXF1aXJlc1skcGFja2FnZV0sICRjb25zdHJhaW50KTsKfSBlbHNlIHsKdGhyb3cgbmV3IFxVbmV4cGVjdGVkVmFsdWVFeGNlcHRpb24oJ09ubHkgcm9vdCBwYWNrYWdlIHJlcXVpcmVtZW50cyBjYW4gcmVjZWl2ZSB0ZW1wb3JhcnkgY29uc3RyYWludHMgYW5kICcuJHBhY2thZ2UuJyBpcyBub3Qgb25lJyk7Cn0KfQokcm9vdFBhY2thZ2UtPnNldFJlcXVpcmVzKCRyb290UmVxdWlyZXMpOwokcm9vdFBhY2thZ2UtPnNldERldlJlcXVpcmVzKCRyb290RGV2UmVxdWlyZXMpOwokcm9vdFBhY2thZ2UtPnNldFJlZmVyZW5jZXMoUm9vdFBhY2thZ2VMb2FkZXI6OmV4dHJhY3RSZWZlcmVuY2VzKCRyZXFzLCAkcm9vdFBhY2thZ2UtPmdldFJlZmVyZW5jZXMoKSkpOwokcm9vdFBhY2thZ2UtPnNldFN0YWJpbGl0eUZsYWdzKFJvb3RQYWNrYWdlTG9hZGVyOjpleHRyYWN0U3RhYmlsaXR5RmxhZ3MoJHJlcXMsICRyb290UGFja2FnZS0+Z2V0TWluaW11bVN0YWJpbGl0eSgpLCAkcm9vdFBhY2thZ2UtPmdldFN0YWJpbGl0eUZsYWdzKCkpKTsKCmlmICgkaW5wdXQtPmdldE9wdGlvbignaW50ZXJhY3RpdmUnKSkgewokcGFja2FnZXMgPSAkdGhpcy0+Z2V0UGFja2FnZXNJbnRlcmFjdGl2ZWx5KCRpbywgJGlucHV0LCAkb3V0cHV0LCAkY29tcG9zZXIsICRwYWNrYWdlcyk7Cn0KCmlmICgkaW5wdXQtPmdldE9wdGlvbigncm9vdC1yZXFzJykpIHsKJHJlcXVpcmVzID0gYXJyYXlfa2V5cygkcm9vdFJlcXVpcmVzKTsKaWYgKCEkaW5wdXQtPmdldE9wdGlvbignbm8tZGV2JykpIHsKJHJlcXVpcmVzID0gYXJyYXlfbWVyZ2UoJHJlcXVpcmVzLCBhcnJheV9rZXlzKCRyb290RGV2UmVxdWlyZXMpKTsKfQoKaWYgKCFlbXB0eSgkcGFja2FnZXMpKSB7CiRwYWNrYWdlcyA9IGFycmF5X2ludGVyc2VjdCgkcGFja2FnZXMsICRyZXF1aXJlcyk7Cn0gZWxzZSB7CiRwYWNrYWdlcyA9ICRyZXF1aXJlczsKfQp9CgoKCiRmaWx0ZXJlZFBhY2thZ2VzID0gYXJyYXlfZmlsdGVyKCRwYWNrYWdlcywgZnVuY3Rpb24gKCRwYWNrYWdlKSB7CnJldHVybiAhaW5fYXJyYXkoJHBhY2thZ2UsIGFycmF5KCdsb2NrJywgJ25vdGhpbmcnLCAnbWlycm9ycycpLCB0cnVlKTsKfSk7CiR1cGRhdGVNaXJyb3JzID0gJGlucHV0LT5nZXRPcHRpb24oJ2xvY2snKSB8fCBjb3VudCgkZmlsdGVyZWRQYWNrYWdlcykgIT0gY291bnQoJHBhY2thZ2VzKTsKJHBhY2thZ2VzID0gJGZpbHRlcmVkUGFja2FnZXM7CgppZiAoJHVwZGF0ZU1pcnJvcnMgJiYgIWVtcHR5KCRwYWNrYWdlcykpIHsKJGlvLT53cml0ZUVycm9yKCc8ZXJyb3I+WW91IGNhbm5vdCBzaW11bHRhbmVvdXNseSB1cGRhdGUgb25seSBhIHNlbGVjdGlvbiBvZiBwYWNrYWdlcyBhbmQgcmVnZW5lcmF0ZSB0aGUgbG9jayBmaWxlIG1ldGFkYXRhLjwvZXJyb3I+Jyk7CgpyZXR1cm4gLTE7Cn0KCiRjb21tYW5kRXZlbnQgPSBuZXcgQ29tbWFuZEV2ZW50KFBsdWdpbkV2ZW50czo6Q09NTUFORCwgJ3VwZGF0ZScsICRpbnB1dCwgJG91dHB1dCk7CiRjb21wb3Nlci0+Z2V0RXZlbnREaXNwYXRjaGVyKCktPmRpc3BhdGNoKCRjb21tYW5kRXZlbnQtPmdldE5hbWUoKSwgJGNvbW1hbmRFdmVudCk7CgokY29tcG9zZXItPmdldEluc3RhbGxhdGlvbk1hbmFnZXIoKS0+c2V0T3V0cHV0UHJvZ3Jlc3MoISRpbnB1dC0+Z2V0T3B0aW9uKCduby1wcm9ncmVzcycpKTsKCiRpbnN0YWxsID0gSW5zdGFsbGVyOjpjcmVhdGUoJGlvLCAkY29tcG9zZXIpOwoKJGNvbmZpZyA9ICRjb21wb3Nlci0+Z2V0Q29uZmlnKCk7Cmxpc3QoJHByZWZlclNvdXJjZSwgJHByZWZlckRpc3QpID0gJHRoaXMtPmdldFByZWZlcnJlZEluc3RhbGxPcHRpb25zKCRjb25maWcsICRpbnB1dCk7Cgokb3B0aW1pemUgPSAkaW5wdXQtPmdldE9wdGlvbignb3B0aW1pemUtYXV0b2xvYWRlcicpIHx8ICRjb25maWctPmdldCgnb3B0aW1pemUtYXV0b2xvYWRlcicpOwokYXV0aG9yaXRhdGl2ZSA9ICRpbnB1dC0+Z2V0T3B0aW9uKCdjbGFzc21hcC1hdXRob3JpdGF0aXZlJykgfHwgJGNvbmZpZy0+Z2V0KCdjbGFzc21hcC1hdXRob3JpdGF0aXZlJyk7CiRhcGN1UHJlZml4ID0gJGlucHV0LT5nZXRPcHRpb24oJ2FwY3UtYXV0b2xvYWRlci1wcmVmaXgnKTsKJGFwY3UgPSAkYXBjdVByZWZpeCAhPT0gbnVsbCB8fCAkaW5wdXQtPmdldE9wdGlvbignYXBjdS1hdXRvbG9hZGVyJykgfHwgJGNvbmZpZy0+Z2V0KCdhcGN1LWF1dG9sb2FkZXInKTsKCiR1cGRhdGVBbGxvd1RyYW5zaXRpdmVEZXBlbmRlbmNpZXMgPSBSZXF1ZXN0OjpVUERBVEVfT05MWV9MSVNURUQ7CmlmICgkaW5wdXQtPmdldE9wdGlvbignd2l0aC1hbGwtZGVwZW5kZW5jaWVzJykpIHsKJHVwZGF0ZUFsbG93VHJhbnNpdGl2ZURlcGVuZGVuY2llcyA9IFJlcXVlc3Q6OlVQREFURV9MSVNURURfV0lUSF9UUkFOU0lUSVZFX0RFUFM7Cn0gZWxzZWlmICgkaW5wdXQtPmdldE9wdGlvbignd2l0aC1kZXBlbmRlbmNpZXMnKSkgewokdXBkYXRlQWxsb3dUcmFuc2l0aXZlRGVwZW5kZW5jaWVzID0gUmVxdWVzdDo6VVBEQVRFX0xJU1RFRF9XSVRIX1RSQU5TSVRJVkVfREVQU19OT19ST09UX1JFUVVJUkU7Cn0KCiRpZ25vcmVQbGF0Zm9ybVJlcXMgPSAkaW5wdXQtPmdldE9wdGlvbignaWdub3JlLXBsYXRmb3JtLXJlcXMnKSA/OiAoJGlucHV0LT5nZXRPcHRpb24oJ2lnbm9yZS1wbGF0Zm9ybS1yZXEnKSA/OiBmYWxzZSk7CgokaW5zdGFsbAotPnNldERyeVJ1bigkaW5wdXQtPmdldE9wdGlvbignZHJ5LXJ1bicpKQotPnNldFZlcmJvc2UoJGlucHV0LT5nZXRPcHRpb24oJ3ZlcmJvc2UnKSkKLT5zZXRQcmVmZXJTb3VyY2UoJHByZWZlclNvdXJjZSkKLT5zZXRQcmVmZXJEaXN0KCRwcmVmZXJEaXN0KQotPnNldERldk1vZGUoISRpbnB1dC0+Z2V0T3B0aW9uKCduby1kZXYnKSkKLT5zZXREdW1wQXV0b2xvYWRlcighJGlucHV0LT5nZXRPcHRpb24oJ25vLWF1dG9sb2FkZXInKSkKLT5zZXRPcHRpbWl6ZUF1dG9sb2FkZXIoJG9wdGltaXplKQotPnNldENsYXNzTWFwQXV0aG9yaXRhdGl2ZSgkYXV0aG9yaXRhdGl2ZSkKLT5zZXRBcGN1QXV0b2xvYWRlcigkYXBjdSwgJGFwY3VQcmVmaXgpCi0+c2V0VXBkYXRlKHRydWUpCi0+c2V0SW5zdGFsbCghJGlucHV0LT5nZXRPcHRpb24oJ25vLWluc3RhbGwnKSkKLT5zZXRVcGRhdGVNaXJyb3JzKCR1cGRhdGVNaXJyb3JzKQotPnNldFVwZGF0ZUFsbG93TGlzdCgkcGFja2FnZXMpCi0+c2V0VXBkYXRlQWxsb3dUcmFuc2l0aXZlRGVwZW5kZW5jaWVzKCR1cGRhdGVBbGxvd1RyYW5zaXRpdmVEZXBlbmRlbmNpZXMpCi0+c2V0SWdub3JlUGxhdGZvcm1SZXF1aXJlbWVudHMoJGlnbm9yZVBsYXRmb3JtUmVxcykKLT5zZXRQcmVmZXJTdGFibGUoJGlucHV0LT5nZXRPcHRpb24oJ3ByZWZlci1zdGFibGUnKSkKLT5zZXRQcmVmZXJMb3dlc3QoJGlucHV0LT5nZXRPcHRpb24oJ3ByZWZlci1sb3dlc3QnKSkKOwoKaWYgKCRpbnB1dC0+Z2V0T3B0aW9uKCduby1wbHVnaW5zJykpIHsKJGluc3RhbGwtPmRpc2FibGVQbHVnaW5zKCk7Cn0KCnJldHVybiAkaW5zdGFsbC0+cnVuKCk7Cn0KCnByaXZhdGUgZnVuY3Rpb24gZ2V0UGFja2FnZXNJbnRlcmFjdGl2ZWx5KElPSW50ZXJmYWNlICRpbywgSW5wdXRJbnRlcmZhY2UgJGlucHV0LCBPdXRwdXRJbnRlcmZhY2UgJG91dHB1dCwgQ29tcG9zZXIgJGNvbXBvc2VyLCBhcnJheSAkcGFja2FnZXMpCnsKaWYgKCEkaW5wdXQtPmlzSW50ZXJhY3RpdmUoKSkgewp0aHJvdyBuZXcgXEludmFsaWRBcmd1bWVudEV4Y2VwdGlvbignLS1pbnRlcmFjdGl2ZSBjYW5ub3QgYmUgdXNlZCBpbiBub24taW50ZXJhY3RpdmUgdGVybWluYWxzLicpOwp9CgokcmVxdWlyZXMgPSBhcnJheV9tZXJnZSgKJGNvbXBvc2VyLT5nZXRQYWNrYWdlKCktPmdldFJlcXVpcmVzKCksCiRjb21wb3Nlci0+Z2V0UGFja2FnZSgpLT5nZXREZXZSZXF1aXJlcygpCik7CiRhdXRvY29tcGxldGVyVmFsdWVzID0gYXJyYXkoKTsKZm9yZWFjaCAoJHJlcXVpcmVzIGFzICRyZXF1aXJlKSB7CiR0YXJnZXQgPSAkcmVxdWlyZS0+Z2V0VGFyZ2V0KCk7CiRhdXRvY29tcGxldGVyVmFsdWVzW3N0cnRvbG93ZXIoJHRhcmdldCldID0gJHRhcmdldDsKfQoKJGluc3RhbGxlZFBhY2thZ2VzID0gJGNvbXBvc2VyLT5nZXRSZXBvc2l0b3J5TWFuYWdlcigpLT5nZXRMb2NhbFJlcG9zaXRvcnkoKS0+Z2V0UGFja2FnZXMoKTsKZm9yZWFjaCAoJGluc3RhbGxlZFBhY2thZ2VzIGFzICRwYWNrYWdlKSB7CiRhdXRvY29tcGxldGVyVmFsdWVzWyRwYWNrYWdlLT5nZXROYW1lKCldID0gJHBhY2thZ2UtPmdldFByZXR0eU5hbWUoKTsKfQoKJGhlbHBlciA9ICR0aGlzLT5nZXRIZWxwZXIoJ3F1ZXN0aW9uJyk7CiRxdWVzdGlvbiA9IG5ldyBRdWVzdGlvbignPGNvbW1lbnQ+RW50ZXIgcGFja2FnZSBuYW1lOiA8L2NvbW1lbnQ+JywgbnVsbCk7CgokaW8tPndyaXRlRXJyb3IoJzxpbmZvPlByZXNzIGVudGVyIHdpdGhvdXQgdmFsdWUgdG8gZW5kIHN1Ym1pc3Npb248L2luZm8+Jyk7CgpkbyB7CiRhdXRvY29tcGxldGVyVmFsdWVzID0gYXJyYXlfZGlmZigkYXV0b2NvbXBsZXRlclZhbHVlcywgJHBhY2thZ2VzKTsKJHF1ZXN0aW9uLT5zZXRBdXRvY29tcGxldGVyVmFsdWVzKCRhdXRvY29tcGxldGVyVmFsdWVzKTsKJGFkZGVkUGFja2FnZSA9ICRoZWxwZXItPmFzaygkaW5wdXQsICRvdXRwdXQsICRxdWVzdGlvbik7CgppZiAoIWlzX3N0cmluZygkYWRkZWRQYWNrYWdlKSB8fCBlbXB0eSgkYWRkZWRQYWNrYWdlKSkgewpicmVhazsKfQoKJGFkZGVkUGFja2FnZSA9IHN0cnRvbG93ZXIoJGFkZGVkUGFja2FnZSk7CmlmICghaW5fYXJyYXkoJGFkZGVkUGFja2FnZSwgJHBhY2thZ2VzKSkgewokcGFja2FnZXNbXSA9ICRhZGRlZFBhY2thZ2U7Cn0KfSB3aGlsZSAodHJ1ZSk7CgokcGFja2FnZXMgPSBhcnJheV9maWx0ZXIoJHBhY2thZ2VzKTsKaWYgKCEkcGFja2FnZXMpIHsKdGhyb3cgbmV3IFxJbnZhbGlkQXJndW1lbnRFeGNlcHRpb24oJ1lvdSBtdXN0IGVudGVyIG1pbmltdW0gb25lIHBhY2thZ2UuJyk7Cn0KCiR0YWJsZSA9IG5ldyBUYWJsZSgkb3V0cHV0KTsKJHRhYmxlLT5zZXRIZWFkZXJzKGFycmF5KCdTZWxlY3RlZCBwYWNrYWdlcycpKTsKZm9yZWFjaCAoJHBhY2thZ2VzIGFzICRwYWNrYWdlKSB7CiR0YWJsZS0+YWRkUm93KGFycmF5KCRwYWNrYWdlKSk7Cn0KJHRhYmxlLT5yZW5kZXIoKTsKCmlmICgkaW8tPmFza0NvbmZpcm1hdGlvbihzcHJpbnRmKAonV291bGQgeW91IGxpa2UgdG8gY29udGludWUgYW5kIHVwZGF0ZSB0aGUgYWJvdmUgcGFja2FnZSVzIFs8Y29tbWVudD55ZXM8L2NvbW1lbnQ+XT8gJywKMSA9PT0gY291bnQoJHBhY2thZ2VzKSA/ICcnIDogJ3MnCikpKSB7CnJldHVybiAkcGFja2FnZXM7Cn0KCnRocm93IG5ldyBcUnVudGltZUV4Y2VwdGlvbignSW5zdGFsbGF0aW9uIGFib3J0ZWQuJyk7Cn0KCnByaXZhdGUgZnVuY3Rpb24gYXBwZW5kQ29uc3RyYWludFRvTGluayhMaW5rICRsaW5rLCAkY29uc3RyYWludCkKewokcGFyc2VyID0gbmV3IFZlcnNpb25QYXJzZXI7CiRvbGRQcmV0dHlTdHJpbmcgPSAkbGluay0+Z2V0Q29uc3RyYWludCgpLT5nZXRQcmV0dHlTdHJpbmcoKTsKJG5ld0NvbnN0cmFpbnQgPSBNdWx0aUNvbnN0cmFpbnQ6OmNyZWF0ZShhcnJheSgkbGluay0+Z2V0Q29uc3RyYWludCgpLCAkcGFyc2VyLT5wYXJzZUNvbnN0cmFpbnRzKCRjb25zdHJhaW50KSkpOwokbmV3Q29uc3RyYWludC0+c2V0UHJldHR5U3RyaW5nKCRvbGRQcmV0dHlTdHJpbmcuJywgJy4kY29uc3RyYWludCk7CgpyZXR1cm4gbmV3IExpbmsoCiRsaW5rLT5nZXRTb3VyY2UoKSwKJGxpbmstPmdldFRhcmdldCgpLAokbmV3Q29uc3RyYWludCwKJGxpbmstPmdldERlc2NyaXB0aW9uKCksCiRsaW5rLT5nZXRQcmV0dHlDb25zdHJhaW50KCkgLiAnLCAnIC4gJGNvbnN0cmFpbnQKKTsKfQp9Cjw/cGhwCgoKCgoKCgoKCgoKbmFtZXNwYWNlIENvbXBvc2VyXENvbW1hbmQ7Cgp1c2UgQ29tcG9zZXJcRmFjdG9yeTsKdXNlIENvbXBvc2VyXFBhY2thZ2VcTG9hZGVyXFZhbGlkYXRpbmdBcnJheUxvYWRlcjsKdXNlIENvbXBvc2VyXFBsdWdpblxDb21tYW5kRXZlbnQ7CnVzZSBDb21wb3NlclxQbHVnaW5cUGx1Z2luRXZlbnRzOwp1c2UgQ29tcG9zZXJcUmVwb3NpdG9yeVxJbnN0YWxsZWRSZXBvc2l0b3J5Owp1c2UgQ29tcG9zZXJcUmVwb3NpdG9yeVxQbGF0Zm9ybVJlcG9zaXRvcnk7CnVzZSBDb21wb3NlclxVdGlsXENvbmZpZ1ZhbGlkYXRvcjsKdXNlIENvbXBvc2VyXFV0aWxcRmlsZXN5c3RlbTsKdXNlIFN5bWZvbnlcQ29tcG9uZW50XENvbnNvbGVcSW5wdXRcSW5wdXRBcmd1bWVudDsKdXNlIFN5bWZvbnlcQ29tcG9uZW50XENvbnNvbGVcSW5wdXRcSW5wdXRJbnRlcmZhY2U7CnVzZSBTeW1mb255XENvbXBvbmVudFxDb25zb2xlXElucHV0XElucHV0T3B0aW9uOwp1c2UgU3ltZm9ueVxDb21wb25lbnRcQ29uc29sZVxPdXRwdXRcT3V0cHV0SW50ZXJmYWNlOwoKCgoKCgoKY2xhc3MgVmFsaWRhdGVDb21tYW5kIGV4dGVuZHMgQmFzZUNvbW1hbmQKewoKCgpwcm90ZWN0ZWQgZnVuY3Rpb24gY29uZmlndXJlKCkKewokdGhpcwotPnNldE5hbWUoJ3ZhbGlkYXRlJykKLT5zZXREZXNjcmlwdGlvbignVmFsaWRhdGVzIGEgY29tcG9zZXIuanNvbiBhbmQgY29tcG9zZXIubG9jay4nKQotPnNldERlZmluaXRpb24oYXJyYXkoCm5ldyBJbnB1dE9wdGlvbignbm8tY2hlY2stYWxsJywgbnVsbCwgSW5wdXRPcHRpb246OlZBTFVFX05PTkUsICdEbyBub3QgdmFsaWRhdGUgcmVxdWlyZXMgZm9yIG92ZXJseSBzdHJpY3QvbG9vc2UgY29uc3RyYWludHMnKSwKbmV3IElucHV0T3B0aW9uKCduby1jaGVjay1sb2NrJywgbnVsbCwgSW5wdXRPcHRpb246OlZBTFVFX05PTkUsICdEbyBub3QgY2hlY2sgaWYgbG9jayBmaWxlIGlzIHVwIHRvIGRhdGUnKSwKbmV3IElucHV0T3B0aW9uKCduby1jaGVjay1wdWJsaXNoJywgbnVsbCwgSW5wdXRPcHRpb246OlZBTFVFX05PTkUsICdEbyBub3QgY2hlY2sgZm9yIHB1Ymxpc2ggZXJyb3JzJyksCm5ldyBJbnB1dE9wdGlvbignbm8tY2hlY2stdmVyc2lvbicsIG51bGwsIElucHV0T3B0aW9uOjpWQUxVRV9OT05FLCAnRG8gbm90IHJlcG9ydCBhIHdhcm5pbmcgaWYgdGhlIHZlcnNpb24gZmllbGQgaXMgcHJlc2VudCcpLApuZXcgSW5wdXRPcHRpb24oJ3dpdGgtZGVwZW5kZW5jaWVzJywgJ0EnLCBJbnB1dE9wdGlvbjo6VkFMVUVfTk9ORSwgJ0Fsc28gdmFsaWRhdGUgdGhlIGNvbXBvc2VyLmpzb24gb2YgYWxsIGluc3RhbGxlZCBkZXBlbmRlbmNpZXMnKSwKbmV3IElucHV0T3B0aW9uKCdzdHJpY3QnLCBudWxsLCBJbnB1dE9wdGlvbjo6VkFMVUVfTk9ORSwgJ1JldHVybiBhIG5vbi16ZXJvIGV4aXQgY29kZSBmb3Igd2FybmluZ3MgYXMgd2VsbCBhcyBlcnJvcnMnKSwKbmV3IElucHV0QXJndW1lbnQoJ2ZpbGUnLCBJbnB1dEFyZ3VtZW50OjpPUFRJT05BTCwgJ3BhdGggdG8gY29tcG9zZXIuanNvbiBmaWxlJyksCikpCi0+c2V0SGVscCgKPDw8RU9UClRoZSB2YWxpZGF0ZSBjb21tYW5kIHZhbGlkYXRlcyBhIGdpdmVuIGNvbXBvc2VyLmpzb24gYW5kIGNvbXBvc2VyLmxvY2sKCkV4aXQgY29kZXMgaW4gY2FzZSBvZiBlcnJvcnMgYXJlOgoxIHZhbGlkYXRpb24gd2FybmluZyhzKSwgb25seSB3aGVuIC0tc3RyaWN0IGlzIGdpdmVuCjIgdmFsaWRhdGlvbiBlcnJvcihzKQozIGZpbGUgdW5yZWFkYWJsZSBvciBtaXNzaW5nCgpSZWFkIG1vcmUgYXQgaHR0cHM6Ly9nZXRjb21wb3Nlci5vcmcvZG9jLzAzLWNsaS5tZCN2YWxpZGF0ZQpFT1QKKTsKfQoKCgoKCgoKcHJvdGVjdGVkIGZ1bmN0aW9uIGV4ZWN1dGUoSW5wdXRJbnRlcmZhY2UgJGlucHV0LCBPdXRwdXRJbnRlcmZhY2UgJG91dHB1dCkKewokZmlsZSA9ICRpbnB1dC0+Z2V0QXJndW1lbnQoJ2ZpbGUnKSA/OiBGYWN0b3J5OjpnZXRDb21wb3NlckZpbGUoKTsKJGlvID0gJHRoaXMtPmdldElPKCk7CgppZiAoIWZpbGVfZXhpc3RzKCRmaWxlKSkgewokaW8tPndyaXRlRXJyb3IoJzxlcnJvcj4nIC4gJGZpbGUgLiAnIG5vdCBmb3VuZC48L2Vycm9yPicpOwoKcmV0dXJuIDM7Cn0KaWYgKCFGaWxlc3lzdGVtOjppc1JlYWRhYmxlKCRmaWxlKSkgewokaW8tPndyaXRlRXJyb3IoJzxlcnJvcj4nIC4gJGZpbGUgLiAnIGlzIG5vdCByZWFkYWJsZS48L2Vycm9yPicpOwoKcmV0dXJuIDM7Cn0KCiR2YWxpZGF0b3IgPSBuZXcgQ29uZmlnVmFsaWRhdG9yKCRpbyk7CiRjaGVja0FsbCA9ICRpbnB1dC0+Z2V0T3B0aW9uKCduby1jaGVjay1hbGwnKSA/IDAgOiBWYWxpZGF0aW5nQXJyYXlMb2FkZXI6OkNIRUNLX0FMTDsKJGNoZWNrUHVibGlzaCA9ICEkaW5wdXQtPmdldE9wdGlvbignbm8tY2hlY2stcHVibGlzaCcpOwokY2hlY2tMb2NrID0gISRpbnB1dC0+Z2V0T3B0aW9uKCduby1jaGVjay1sb2NrJyk7CiRjaGVja1ZlcnNpb24gPSAkaW5wdXQtPmdldE9wdGlvbignbm8tY2hlY2stdmVyc2lvbicpID8gMCA6IENvbmZpZ1ZhbGlkYXRvcjo6Q0hFQ0tfVkVSU0lPTjsKJGlzU3RyaWN0ID0gJGlucHV0LT5nZXRPcHRpb24oJ3N0cmljdCcpOwpsaXN0KCRlcnJvcnMsICRwdWJsaXNoRXJyb3JzLCAkd2FybmluZ3MpID0gJHZhbGlkYXRvci0+dmFsaWRhdGUoJGZpbGUsICRjaGVja0FsbCwgJGNoZWNrVmVyc2lvbik7CgokbG9ja0Vycm9ycyA9IGFycmF5KCk7CiRjb21wb3NlciA9IEZhY3Rvcnk6OmNyZWF0ZSgkaW8sICRmaWxlLCAkaW5wdXQtPmhhc1BhcmFtZXRlck9wdGlvbignLS1uby1wbHVnaW5zJykpOwokbG9ja2VyID0gJGNvbXBvc2VyLT5nZXRMb2NrZXIoKTsKaWYgKCRsb2NrZXItPmlzTG9ja2VkKCkgJiYgISRsb2NrZXItPmlzRnJlc2goKSkgewokbG9ja0Vycm9yc1tdID0gJy0gVGhlIGxvY2sgZmlsZSBpcyBub3QgdXAgdG8gZGF0ZSB3aXRoIHRoZSBsYXRlc3QgY2hhbmdlcyBpbiBjb21wb3Nlci5qc29uLCBpdCBpcyByZWNvbW1lbmRlZCB0aGF0IHlvdSBydW4gYGNvbXBvc2VyIHVwZGF0ZWAgb3IgYGNvbXBvc2VyIHVwZGF0ZSA8cGFja2FnZSBuYW1lPmAuJzsKfQoKaWYgKCRsb2NrZXItPmlzTG9ja2VkKCkpIHsKJG1pc3NpbmdSZXF1aXJlbWVudHMgPSBmYWxzZTsKJHNldHMgPSBhcnJheSgKYXJyYXkoJ3JlcG8nID0+ICRsb2NrZXItPmdldExvY2tlZFJlcG9zaXRvcnkoZmFsc2UpLCAnbWV0aG9kJyA9PiAnZ2V0UmVxdWlyZXMnLCAnZGVzY3JpcHRpb24nID0+ICdSZXF1aXJlZCcpLAphcnJheSgncmVwbycgPT4gJGxvY2tlci0+Z2V0TG9ja2VkUmVwb3NpdG9yeSh0cnVlKSwgJ21ldGhvZCcgPT4gJ2dldERldlJlcXVpcmVzJywgJ2Rlc2NyaXB0aW9uJyA9PiAnUmVxdWlyZWQgKGluIHJlcXVpcmUtZGV2KScpLAopOwpmb3JlYWNoICgkc2V0cyBhcyAkc2V0KSB7CiRpbnN0YWxsZWRSZXBvID0gbmV3IEluc3RhbGxlZFJlcG9zaXRvcnkoYXJyYXkoJHNldFsncmVwbyddKSk7Cgpmb3JlYWNoIChjYWxsX3VzZXJfZnVuYyhhcnJheSgkY29tcG9zZXItPmdldFBhY2thZ2UoKSwgJHNldFsnbWV0aG9kJ10pKSBhcyAkbGluaykgewppZiAoUGxhdGZvcm1SZXBvc2l0b3J5Ojppc1BsYXRmb3JtUGFja2FnZSgkbGluay0+Z2V0VGFyZ2V0KCkpKSB7CmNvbnRpbnVlOwp9CmlmICghJGluc3RhbGxlZFJlcG8tPmZpbmRQYWNrYWdlc1dpdGhSZXBsYWNlcnNBbmRQcm92aWRlcnMoJGxpbmstPmdldFRhcmdldCgpLCAkbGluay0+Z2V0Q29uc3RyYWludCgpKSkgewppZiAoJHJlc3VsdHMgPSAkaW5zdGFsbGVkUmVwby0+ZmluZFBhY2thZ2VzV2l0aFJlcGxhY2Vyc0FuZFByb3ZpZGVycygkbGluay0+Z2V0VGFyZ2V0KCkpKSB7CiRwcm92aWRlciA9IHJlc2V0KCRyZXN1bHRzKTsKJGxvY2tFcnJvcnNbXSA9ICctICcgLiAkc2V0WydkZXNjcmlwdGlvbiddLicgcGFja2FnZSAiJyAuICRsaW5rLT5nZXRUYXJnZXQoKSAuICciIGlzIGluIHRoZSBsb2NrIGZpbGUgYXMgIicuJHByb3ZpZGVyLT5nZXRQcmV0dHlWZXJzaW9uKCkuJyIgYnV0IHRoYXQgZG9lcyBub3Qgc2F0aXNmeSB5b3VyIGNvbnN0cmFpbnQgIicuJGxpbmstPmdldFByZXR0eUNvbnN0cmFpbnQoKS4nIi4nOwp9IGVsc2UgewokbG9ja0Vycm9yc1tdID0gJy0gJyAuICRzZXRbJ2Rlc2NyaXB0aW9uJ10uJyBwYWNrYWdlICInIC4gJGxpbmstPmdldFRhcmdldCgpIC4gJyIgaXMgbm90IHByZXNlbnQgaW4gdGhlIGxvY2sgZmlsZS4nOwp9CiRtaXNzaW5nUmVxdWlyZW1lbnRzID0gdHJ1ZTsKfQp9Cn0KCmlmICgkbWlzc2luZ1JlcXVpcmVtZW50cykgewokbG9ja0Vycm9yc1tdID0gJ1RoaXMgdXN1YWxseSBoYXBwZW5zIHdoZW4gY29tcG9zZXIgZmlsZXMgYXJlIGluY29ycmVjdGx5IG1lcmdlZCBvciB0aGUgY29tcG9zZXIuanNvbiBmaWxlIGlzIG1hbnVhbGx5IGVkaXRlZC4nOwokbG9ja0Vycm9yc1tdID0gJ1JlYWQgbW9yZSBhYm91dCBjb3JyZWN0bHkgcmVzb2x2aW5nIG1lcmdlIGNvbmZsaWN0cyBodHRwczovL2dldGNvbXBvc2VyLm9yZy9kb2MvYXJ0aWNsZXMvcmVzb2x2aW5nLW1lcmdlLWNvbmZsaWN0cy5tZCc7CiRsb2NrRXJyb3JzW10gPSAnYW5kIHByZWZlciB1c2luZyB0aGUgInJlcXVpcmUiIGNvbW1hbmQgb3ZlciBlZGl0aW5nIHRoZSBjb21wb3Nlci5qc29uIGZpbGUgZGlyZWN0bHkgaHR0cHM6Ly9nZXRjb21wb3Nlci5vcmcvZG9jLzAzLWNsaS5tZCNyZXF1aXJlJzsKfQp9CgokdGhpcy0+b3V0cHV0UmVzdWx0KCRpbywgJGZpbGUsICRlcnJvcnMsICR3YXJuaW5ncywgJGNoZWNrUHVibGlzaCwgJHB1Ymxpc2hFcnJvcnMsICRjaGVja0xvY2ssICRsb2NrRXJyb3JzLCB0cnVlKTsKCgokZXhpdENvZGUgPSAkZXJyb3JzID8gMiA6ICgkaXNTdHJpY3QgJiYgJHdhcm5pbmdzID8gMSA6IDApOwoKaWYgKCRpbnB1dC0+Z2V0T3B0aW9uKCd3aXRoLWRlcGVuZGVuY2llcycpKSB7CiRsb2NhbFJlcG8gPSAkY29tcG9zZXItPmdldFJlcG9zaXRvcnlNYW5hZ2VyKCktPmdldExvY2FsUmVwb3NpdG9yeSgpOwpmb3JlYWNoICgkbG9jYWxSZXBvLT5nZXRQYWNrYWdlcygpIGFzICRwYWNrYWdlKSB7CiRwYXRoID0gJGNvbXBvc2VyLT5nZXRJbnN0YWxsYXRpb25NYW5hZ2VyKCktPmdldEluc3RhbGxQYXRoKCRwYWNrYWdlKTsKJGZpbGUgPSAkcGF0aCAuICcvY29tcG9zZXIuanNvbic7CmlmIChpc19kaXIoJHBhdGgpICYmIGZpbGVfZXhpc3RzKCRmaWxlKSkgewpsaXN0KCRlcnJvcnMsICRwdWJsaXNoRXJyb3JzLCAkd2FybmluZ3MpID0gJHZhbGlkYXRvci0+dmFsaWRhdGUoJGZpbGUsICRjaGVja0FsbCwgJGNoZWNrVmVyc2lvbik7CgokdGhpcy0+b3V0cHV0UmVzdWx0KCRpbywgJHBhY2thZ2UtPmdldFByZXR0eU5hbWUoKSwgJGVycm9ycywgJHdhcm5pbmdzLCAkY2hlY2tQdWJsaXNoLCAkcHVibGlzaEVycm9ycyk7CgoKJGRlcENvZGUgPSAkZXJyb3JzID8gMiA6ICgkaXNTdHJpY3QgJiYgJHdhcm5pbmdzID8gMSA6IDApOwokZXhpdENvZGUgPSBtYXgoJGRlcENvZGUsICRleGl0Q29kZSk7Cn0KfQp9CgokY29tbWFuZEV2ZW50ID0gbmV3IENvbW1hbmRFdmVudChQbHVnaW5FdmVudHM6OkNPTU1BTkQsICd2YWxpZGF0ZScsICRpbnB1dCwgJG91dHB1dCk7CiRldmVudENvZGUgPSAkY29tcG9zZXItPmdldEV2ZW50RGlzcGF0Y2hlcigpLT5kaXNwYXRjaCgkY29tbWFuZEV2ZW50LT5nZXROYW1lKCksICRjb21tYW5kRXZlbnQpOwoKcmV0dXJuIG1heCgkZXZlbnRDb2RlLCAkZXhpdENvZGUpOwp9Cgpwcml2YXRlIGZ1bmN0aW9uIG91dHB1dFJlc3VsdCgkaW8sICRuYW1lLCAmJGVycm9ycywgJiR3YXJuaW5ncywgJGNoZWNrUHVibGlzaCA9IGZhbHNlLCAkcHVibGlzaEVycm9ycyA9IGFycmF5KCksICRjaGVja0xvY2sgPSBmYWxzZSwgJGxvY2tFcnJvcnMgPSBhcnJheSgpLCAkcHJpbnRTY2hlbWFVcmwgPSBmYWxzZSkKewokZG9QcmludFNjaGVtYVVybCA9IGZhbHNlOwoKaWYgKCRlcnJvcnMpIHsKJGlvLT53cml0ZUVycm9yKCc8ZXJyb3I+JyAuICRuYW1lIC4gJyBpcyBpbnZhbGlkLCB0aGUgZm9sbG93aW5nIGVycm9ycy93YXJuaW5ncyB3ZXJlIGZvdW5kOjwvZXJyb3I+Jyk7Cn0gZWxzZWlmICgkcHVibGlzaEVycm9ycykgewokaW8tPndyaXRlRXJyb3IoJzxpbmZvPicgLiAkbmFtZSAuICcgaXMgdmFsaWQgZm9yIHNpbXBsZSB1c2FnZSB3aXRoIENvbXBvc2VyIGJ1dCBoYXM8L2luZm8+Jyk7CiRpby0+d3JpdGVFcnJvcignPGluZm8+c3RyaWN0IGVycm9ycyB0aGF0IG1ha2UgaXQgdW5hYmxlIHRvIGJlIHB1Ymxpc2hlZCBhcyBhIHBhY2thZ2U8L2luZm8+Jyk7CiRkb1ByaW50U2NoZW1hVXJsID0gJHByaW50U2NoZW1hVXJsOwp9IGVsc2VpZiAoJHdhcm5pbmdzKSB7CiRpby0+d3JpdGVFcnJvcignPGluZm8+JyAuICRuYW1lIC4gJyBpcyB2YWxpZCwgYnV0IHdpdGggYSBmZXcgd2FybmluZ3M8L2luZm8+Jyk7CiRkb1ByaW50U2NoZW1hVXJsID0gJHByaW50U2NoZW1hVXJsOwp9IGVsc2VpZiAoJGxvY2tFcnJvcnMpIHsKJGlvLT53cml0ZSgnPGluZm8+JyAuICRuYW1lIC4gJyBpcyB2YWxpZCBidXQgeW91ciBjb21wb3Nlci5sb2NrIGhhcyBzb21lICcuKCRjaGVja0xvY2sgPyAnZXJyb3JzJyA6ICd3YXJuaW5ncycpLic8L2luZm8+Jyk7Cn0gZWxzZSB7CiRpby0+d3JpdGUoJzxpbmZvPicgLiAkbmFtZSAuICcgaXMgdmFsaWQ8L2luZm8+Jyk7Cn0KCmlmICgkZG9QcmludFNjaGVtYVVybCkgewokaW8tPndyaXRlRXJyb3IoJzx3YXJuaW5nPlNlZSBodHRwczovL2dldGNvbXBvc2VyLm9yZy9kb2MvMDQtc2NoZW1hLm1kIGZvciBkZXRhaWxzIG9uIHRoZSBzY2hlbWE8L3dhcm5pbmc+Jyk7Cn0KCmlmICgkZXJyb3JzKSB7CiRlcnJvcnMgPSBhcnJheV9tYXAoZnVuY3Rpb24gKCRlcnIpIHsKcmV0dXJuICctICcgLiAkZXJyOwp9LCAkZXJyb3JzKTsKYXJyYXlfdW5zaGlmdCgkZXJyb3JzLCAnIyBHZW5lcmFsIGVycm9ycycpOwp9CmlmICgkd2FybmluZ3MpIHsKJHdhcm5pbmdzID0gYXJyYXlfbWFwKGZ1bmN0aW9uICgkZXJyKSB7CnJldHVybiAnLSAnIC4gJGVycjsKfSwgJHdhcm5pbmdzKTsKYXJyYXlfdW5zaGlmdCgkd2FybmluZ3MsICcjIEdlbmVyYWwgd2FybmluZ3MnKTsKfQoKCiRleHRyYVdhcm5pbmdzID0gYXJyYXkoKTsKCgppZiAoJHB1Ymxpc2hFcnJvcnMpIHsKJHB1Ymxpc2hFcnJvcnMgPSBhcnJheV9tYXAoZnVuY3Rpb24gKCRlcnIpIHsKcmV0dXJuICctICcgLiAkZXJyOwp9LCAkcHVibGlzaEVycm9ycyk7CgppZiAoJGNoZWNrUHVibGlzaCkgewphcnJheV91bnNoaWZ0KCRwdWJsaXNoRXJyb3JzLCAnIyBQdWJsaXNoIGVycm9ycycpOwokZXJyb3JzID0gYXJyYXlfbWVyZ2UoJGVycm9ycywgJHB1Ymxpc2hFcnJvcnMpOwp9IGVsc2UgewphcnJheV91bnNoaWZ0KCRwdWJsaXNoRXJyb3JzLCAnIyBQdWJsaXNoIHdhcm5pbmdzJyk7CiRleHRyYVdhcm5pbmdzID0gYXJyYXlfbWVyZ2UoJGV4dHJhV2FybmluZ3MsICRwdWJsaXNoRXJyb3JzKTsKfQp9CgoKaWYgKCRsb2NrRXJyb3JzKSB7CmlmICgkY2hlY2tMb2NrKSB7CmFycmF5X3Vuc2hpZnQoJGxvY2tFcnJvcnMsICcjIExvY2sgZmlsZSBlcnJvcnMnKTsKJGVycm9ycyA9IGFycmF5X21lcmdlKCRlcnJvcnMsICRsb2NrRXJyb3JzKTsKfSBlbHNlIHsKYXJyYXlfdW5zaGlmdCgkbG9ja0Vycm9ycywgJyMgTG9jayBmaWxlIHdhcm5pbmdzJyk7CiRleHRyYVdhcm5pbmdzID0gYXJyYXlfbWVyZ2UoJGV4dHJhV2FybmluZ3MsICRsb2NrRXJyb3JzKTsKfQp9CgokbWVzc2FnZXMgPSBhcnJheSgKJ2Vycm9yJyA9PiAkZXJyb3JzLAond2FybmluZycgPT4gYXJyYXlfbWVyZ2UoJHdhcm5pbmdzLCAkZXh0cmFXYXJuaW5ncyksCik7Cgpmb3JlYWNoICgkbWVzc2FnZXMgYXMgJHN0eWxlID0+ICRtc2dzKSB7CmZvcmVhY2ggKCRtc2dzIGFzICRtc2cpIHsKaWYgKHN0cnBvcygkbXNnLCAnIycpID09PSAwKSB7CiRpby0+d3JpdGVFcnJvcignPCcgLiAkc3R5bGUgLiAnPicgLiAkbXNnIC4gJzwvJyAuICRzdHlsZSAuICc+Jyk7Cn0gZWxzZSB7CiRpby0+d3JpdGVFcnJvcigkbXNnKTsKfQp9Cn0KfQp9Cjw/cGhwCgoKCgoKCgoKCgoKbmFtZXNwYWNlIENvbXBvc2VyOwoKdXNlIENvbXBvc2VyXFBhY2thZ2VcUm9vdFBhY2thZ2VJbnRlcmZhY2U7CnVzZSBDb21wb3NlclxQYWNrYWdlXExvY2tlcjsKdXNlIENvbXBvc2VyXFV0aWxcTG9vcDsKdXNlIENvbXBvc2VyXFJlcG9zaXRvcnlcUmVwb3NpdG9yeU1hbmFnZXI7CnVzZSBDb21wb3NlclxJbnN0YWxsZXJcSW5zdGFsbGF0aW9uTWFuYWdlcjsKdXNlIENvbXBvc2VyXFBsdWdpblxQbHVnaW5NYW5hZ2VyOwp1c2UgQ29tcG9zZXJcRG93bmxvYWRlclxEb3dubG9hZE1hbmFnZXI7CnVzZSBDb21wb3NlclxFdmVudERpc3BhdGNoZXJcRXZlbnREaXNwYXRjaGVyOwp1c2UgQ29tcG9zZXJcQXV0b2xvYWRcQXV0b2xvYWRHZW5lcmF0b3I7CnVzZSBDb21wb3NlclxQYWNrYWdlXEFyY2hpdmVyXEFyY2hpdmVNYW5hZ2VyOwoKCgoKCgpjbGFzcyBDb21wb3Nlcgp7CgoKCgoKCgoKCgoKCgoKCgoKCgoKCmNvbnN0IFZFUlNJT04gPSAnMi4xLjMnOwpjb25zdCBCUkFOQ0hfQUxJQVNfVkVSU0lPTiA9ICcnOwpjb25zdCBSRUxFQVNFX0RBVEUgPSAnMjAyMS0wNi0wOSAxNjozMToyMCc7CmNvbnN0IFNPVVJDRV9WRVJTSU9OID0gJyc7CgoKCgoKCgoKCgpjb25zdCBSVU5USU1FX0FQSV9WRVJTSU9OID0gJzIuMS4wJzsKCnB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gZ2V0VmVyc2lvbigpCnsKCmlmIChzZWxmOjpWRVJTSU9OID09PSAnQHBhY2thZ2VfdmVyc2lvbicuJ0AnKSB7CnJldHVybiBzZWxmOjpTT1VSQ0VfVkVSU0lPTjsKfQoKCmlmIChzZWxmOjpCUkFOQ0hfQUxJQVNfVkVSU0lPTiAhPT0gJycgJiYgcHJlZ19tYXRjaCgne15bYS1mMC05XXs0MH0kfScsIHNlbGY6OlZFUlNJT04pKSB7CnJldHVybiBzZWxmOjpCUkFOQ0hfQUxJQVNfVkVSU0lPTi4nKycuc2VsZjo6VkVSU0lPTjsKfQoKcmV0dXJuIHNlbGY6OlZFUlNJT047Cn0KCgoKCnByaXZhdGUgJHBhY2thZ2U7CgoKCgpwcml2YXRlICRsb2NrZXI7CgoKCgpwcml2YXRlICRsb29wOwoKCgoKcHJpdmF0ZSAkcmVwb3NpdG9yeU1hbmFnZXI7CgoKCgpwcml2YXRlICRkb3dubG9hZE1hbmFnZXI7CgoKCgpwcml2YXRlICRpbnN0YWxsYXRpb25NYW5hZ2VyOwoKCgoKcHJpdmF0ZSAkcGx1Z2luTWFuYWdlcjsKCgoKCnByaXZhdGUgJGNvbmZpZzsKCgoKCnByaXZhdGUgJGV2ZW50RGlzcGF0Y2hlcjsKCgoKCnByaXZhdGUgJGF1dG9sb2FkR2VuZXJhdG9yOwoKCgoKcHJpdmF0ZSAkYXJjaGl2ZU1hbmFnZXI7CgoKCgoKcHVibGljIGZ1bmN0aW9uIHNldFBhY2thZ2UoUm9vdFBhY2thZ2VJbnRlcmZhY2UgJHBhY2thZ2UpCnsKJHRoaXMtPnBhY2thZ2UgPSAkcGFja2FnZTsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIGdldFBhY2thZ2UoKQp7CnJldHVybiAkdGhpcy0+cGFja2FnZTsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIHNldENvbmZpZyhDb25maWcgJGNvbmZpZykKewokdGhpcy0+Y29uZmlnID0gJGNvbmZpZzsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIGdldENvbmZpZygpCnsKcmV0dXJuICR0aGlzLT5jb25maWc7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBzZXRMb2NrZXIoTG9ja2VyICRsb2NrZXIpCnsKJHRoaXMtPmxvY2tlciA9ICRsb2NrZXI7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBnZXRMb2NrZXIoKQp7CnJldHVybiAkdGhpcy0+bG9ja2VyOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gc2V0TG9vcChMb29wICRsb29wKQp7CiR0aGlzLT5sb29wID0gJGxvb3A7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBnZXRMb29wKCkKewpyZXR1cm4gJHRoaXMtPmxvb3A7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBzZXRSZXBvc2l0b3J5TWFuYWdlcihSZXBvc2l0b3J5TWFuYWdlciAkbWFuYWdlcikKewokdGhpcy0+cmVwb3NpdG9yeU1hbmFnZXIgPSAkbWFuYWdlcjsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIGdldFJlcG9zaXRvcnlNYW5hZ2VyKCkKewpyZXR1cm4gJHRoaXMtPnJlcG9zaXRvcnlNYW5hZ2VyOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gc2V0RG93bmxvYWRNYW5hZ2VyKERvd25sb2FkTWFuYWdlciAkbWFuYWdlcikKewokdGhpcy0+ZG93bmxvYWRNYW5hZ2VyID0gJG1hbmFnZXI7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBnZXREb3dubG9hZE1hbmFnZXIoKQp7CnJldHVybiAkdGhpcy0+ZG93bmxvYWRNYW5hZ2VyOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gc2V0QXJjaGl2ZU1hbmFnZXIoQXJjaGl2ZU1hbmFnZXIgJG1hbmFnZXIpCnsKJHRoaXMtPmFyY2hpdmVNYW5hZ2VyID0gJG1hbmFnZXI7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBnZXRBcmNoaXZlTWFuYWdlcigpCnsKcmV0dXJuICR0aGlzLT5hcmNoaXZlTWFuYWdlcjsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIHNldEluc3RhbGxhdGlvbk1hbmFnZXIoSW5zdGFsbGF0aW9uTWFuYWdlciAkbWFuYWdlcikKewokdGhpcy0+aW5zdGFsbGF0aW9uTWFuYWdlciA9ICRtYW5hZ2VyOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0SW5zdGFsbGF0aW9uTWFuYWdlcigpCnsKcmV0dXJuICR0aGlzLT5pbnN0YWxsYXRpb25NYW5hZ2VyOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gc2V0UGx1Z2luTWFuYWdlcihQbHVnaW5NYW5hZ2VyICRtYW5hZ2VyKQp7CiR0aGlzLT5wbHVnaW5NYW5hZ2VyID0gJG1hbmFnZXI7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBnZXRQbHVnaW5NYW5hZ2VyKCkKewpyZXR1cm4gJHRoaXMtPnBsdWdpbk1hbmFnZXI7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBzZXRFdmVudERpc3BhdGNoZXIoRXZlbnREaXNwYXRjaGVyICRldmVudERpc3BhdGNoZXIpCnsKJHRoaXMtPmV2ZW50RGlzcGF0Y2hlciA9ICRldmVudERpc3BhdGNoZXI7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBnZXRFdmVudERpc3BhdGNoZXIoKQp7CnJldHVybiAkdGhpcy0+ZXZlbnREaXNwYXRjaGVyOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gc2V0QXV0b2xvYWRHZW5lcmF0b3IoQXV0b2xvYWRHZW5lcmF0b3IgJGF1dG9sb2FkR2VuZXJhdG9yKQp7CiR0aGlzLT5hdXRvbG9hZEdlbmVyYXRvciA9ICRhdXRvbG9hZEdlbmVyYXRvcjsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIGdldEF1dG9sb2FkR2VuZXJhdG9yKCkKewpyZXR1cm4gJHRoaXMtPmF1dG9sb2FkR2VuZXJhdG9yOwp9Cn0KPD9waHAKCgoKCgoKCgoKCgpuYW1lc3BhY2UgQ29tcG9zZXI7Cgp1c2UgQ29tcG9zZXJcQ29uZmlnXENvbmZpZ1NvdXJjZUludGVyZmFjZTsKdXNlIENvbXBvc2VyXERvd25sb2FkZXJcVHJhbnNwb3J0RXhjZXB0aW9uOwp1c2UgQ29tcG9zZXJcSU9cSU9JbnRlcmZhY2U7CnVzZSBDb21wb3NlclxVdGlsXFBsYXRmb3JtOwp1c2UgQ29tcG9zZXJcVXRpbFxQcm9jZXNzRXhlY3V0b3I7CgoKCgpjbGFzcyBDb25maWcKewpjb25zdCBSRUxBVElWRV9QQVRIUyA9IDE7CgpwdWJsaWMgc3RhdGljICRkZWZhdWx0Q29uZmlnID0gYXJyYXkoCidwcm9jZXNzLXRpbWVvdXQnID0+IDMwMCwKJ3VzZS1pbmNsdWRlLXBhdGgnID0+IGZhbHNlLAoncHJlZmVycmVkLWluc3RhbGwnID0+ICdkaXN0JywKJ25vdGlmeS1vbi1pbnN0YWxsJyA9PiB0cnVlLAonZ2l0aHViLXByb3RvY29scycgPT4gYXJyYXkoJ2h0dHBzJywgJ3NzaCcsICdnaXQnKSwKJ2dpdGxhYi1wcm90b2NvbCcgPT4gbnVsbCwKJ3ZlbmRvci1kaXInID0+ICd2ZW5kb3InLAonYmluLWRpcicgPT4gJ3skdmVuZG9yLWRpcn0vYmluJywKJ2NhY2hlLWRpcicgPT4gJ3skaG9tZX0vY2FjaGUnLAonZGF0YS1kaXInID0+ICd7JGhvbWV9JywKJ2NhY2hlLWZpbGVzLWRpcicgPT4gJ3skY2FjaGUtZGlyfS9maWxlcycsCidjYWNoZS1yZXBvLWRpcicgPT4gJ3skY2FjaGUtZGlyfS9yZXBvJywKJ2NhY2hlLXZjcy1kaXInID0+ICd7JGNhY2hlLWRpcn0vdmNzJywKJ2NhY2hlLXR0bCcgPT4gMTU1NTIwMDAsIAonY2FjaGUtZmlsZXMtdHRsJyA9PiBudWxsLCAKJ2NhY2hlLWZpbGVzLW1heHNpemUnID0+ICczMDBNaUInLAonY2FjaGUtcmVhZC1vbmx5JyA9PiBmYWxzZSwKJ2Jpbi1jb21wYXQnID0+ICdhdXRvJywKJ2Rpc2NhcmQtY2hhbmdlcycgPT4gZmFsc2UsCidhdXRvbG9hZGVyLXN1ZmZpeCcgPT4gbnVsbCwKJ3NvcnQtcGFja2FnZXMnID0+IGZhbHNlLAonb3B0aW1pemUtYXV0b2xvYWRlcicgPT4gZmFsc2UsCidjbGFzc21hcC1hdXRob3JpdGF0aXZlJyA9PiBmYWxzZSwKJ2FwY3UtYXV0b2xvYWRlcicgPT4gZmFsc2UsCidwcmVwZW5kLWF1dG9sb2FkZXInID0+IHRydWUsCidnaXRodWItZG9tYWlucycgPT4gYXJyYXkoJ2dpdGh1Yi5jb20nKSwKJ2JpdGJ1Y2tldC1leHBvc2UtaG9zdG5hbWUnID0+IHRydWUsCidkaXNhYmxlLXRscycgPT4gZmFsc2UsCidzZWN1cmUtaHR0cCcgPT4gdHJ1ZSwKJ3NlY3VyZS1zdm4tZG9tYWlucycgPT4gYXJyYXkoKSwKJ2NhZmlsZScgPT4gbnVsbCwKJ2NhcGF0aCcgPT4gbnVsbCwKJ2dpdGh1Yi1leHBvc2UtaG9zdG5hbWUnID0+IHRydWUsCidnaXRsYWItZG9tYWlucycgPT4gYXJyYXkoJ2dpdGxhYi5jb20nKSwKJ3N0b3JlLWF1dGhzJyA9PiAncHJvbXB0JywKJ3BsYXRmb3JtJyA9PiBhcnJheSgpLAonYXJjaGl2ZS1mb3JtYXQnID0+ICd0YXInLAonYXJjaGl2ZS1kaXInID0+ICcuJywKJ2h0YWNjZXNzLXByb3RlY3QnID0+IHRydWUsCid1c2UtZ2l0aHViLWFwaScgPT4gdHJ1ZSwKJ2xvY2snID0+IHRydWUsCidwbGF0Zm9ybS1jaGVjaycgPT4gJ3BocC1vbmx5JywKCgoKCgoKCik7CgpwdWJsaWMgc3RhdGljICRkZWZhdWx0UmVwb3NpdG9yaWVzID0gYXJyYXkoCidwYWNrYWdpc3Qub3JnJyA9PiBhcnJheSgKJ3R5cGUnID0+ICdjb21wb3NlcicsCid1cmwnID0+ICdodHRwczovL3JlcG8ucGFja2FnaXN0Lm9yZycsCiksCik7Cgpwcml2YXRlICRjb25maWc7CnByaXZhdGUgJGJhc2VEaXI7CnByaXZhdGUgJHJlcG9zaXRvcmllczsKCnByaXZhdGUgJGNvbmZpZ1NvdXJjZTsKCnByaXZhdGUgJGF1dGhDb25maWdTb3VyY2U7CnByaXZhdGUgJHVzZUVudmlyb25tZW50Owpwcml2YXRlICR3YXJuZWRIb3N0cyA9IGFycmF5KCk7CgoKCgoKcHVibGljIGZ1bmN0aW9uIF9fY29uc3RydWN0KCR1c2VFbnZpcm9ubWVudCA9IHRydWUsICRiYXNlRGlyID0gbnVsbCkKewoKJHRoaXMtPmNvbmZpZyA9IHN0YXRpYzo6JGRlZmF1bHRDb25maWc7CiR0aGlzLT5yZXBvc2l0b3JpZXMgPSBzdGF0aWM6OiRkZWZhdWx0UmVwb3NpdG9yaWVzOwokdGhpcy0+dXNlRW52aXJvbm1lbnQgPSAoYm9vbCkgJHVzZUVudmlyb25tZW50OwokdGhpcy0+YmFzZURpciA9ICRiYXNlRGlyOwp9CgpwdWJsaWMgZnVuY3Rpb24gc2V0Q29uZmlnU291cmNlKENvbmZpZ1NvdXJjZUludGVyZmFjZSAkc291cmNlKQp7CiR0aGlzLT5jb25maWdTb3VyY2UgPSAkc291cmNlOwp9CgpwdWJsaWMgZnVuY3Rpb24gZ2V0Q29uZmlnU291cmNlKCkKewpyZXR1cm4gJHRoaXMtPmNvbmZpZ1NvdXJjZTsKfQoKcHVibGljIGZ1bmN0aW9uIHNldEF1dGhDb25maWdTb3VyY2UoQ29uZmlnU291cmNlSW50ZXJmYWNlICRzb3VyY2UpCnsKJHRoaXMtPmF1dGhDb25maWdTb3VyY2UgPSAkc291cmNlOwp9CgpwdWJsaWMgZnVuY3Rpb24gZ2V0QXV0aENvbmZpZ1NvdXJjZSgpCnsKcmV0dXJuICR0aGlzLT5hdXRoQ29uZmlnU291cmNlOwp9CgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBtZXJnZSgkY29uZmlnKQp7CgppZiAoIWVtcHR5KCRjb25maWdbJ2NvbmZpZyddKSAmJiBpc19hcnJheSgkY29uZmlnWydjb25maWcnXSkpIHsKZm9yZWFjaCAoJGNvbmZpZ1snY29uZmlnJ10gYXMgJGtleSA9PiAkdmFsKSB7CmlmIChpbl9hcnJheSgka2V5LCBhcnJheSgnYml0YnVja2V0LW9hdXRoJywgJ2dpdGh1Yi1vYXV0aCcsICdnaXRsYWItb2F1dGgnLCAnZ2l0bGFiLXRva2VuJywgJ2h0dHAtYmFzaWMnLCAnYmVhcmVyJykpICYmIGlzc2V0KCR0aGlzLT5jb25maWdbJGtleV0pKSB7CiR0aGlzLT5jb25maWdbJGtleV0gPSBhcnJheV9tZXJnZSgkdGhpcy0+Y29uZmlnWyRrZXldLCAkdmFsKTsKfSBlbHNlaWYgKGluX2FycmF5KCRrZXksIGFycmF5KCdnaXRsYWItZG9tYWlucycsICdnaXRodWItZG9tYWlucycpKSAmJiBpc3NldCgkdGhpcy0+Y29uZmlnWyRrZXldKSkgewokdGhpcy0+Y29uZmlnWyRrZXldID0gYXJyYXlfdW5pcXVlKGFycmF5X21lcmdlKCR0aGlzLT5jb25maWdbJGtleV0sICR2YWwpKTsKfSBlbHNlaWYgKCdwcmVmZXJyZWQtaW5zdGFsbCcgPT09ICRrZXkgJiYgaXNzZXQoJHRoaXMtPmNvbmZpZ1ska2V5XSkpIHsKaWYgKGlzX2FycmF5KCR2YWwpIHx8IGlzX2FycmF5KCR0aGlzLT5jb25maWdbJGtleV0pKSB7CmlmIChpc19zdHJpbmcoJHZhbCkpIHsKJHZhbCA9IGFycmF5KCcqJyA9PiAkdmFsKTsKfQppZiAoaXNfc3RyaW5nKCR0aGlzLT5jb25maWdbJGtleV0pKSB7CiR0aGlzLT5jb25maWdbJGtleV0gPSBhcnJheSgnKicgPT4gJHRoaXMtPmNvbmZpZ1ska2V5XSk7Cn0KJHRoaXMtPmNvbmZpZ1ska2V5XSA9IGFycmF5X21lcmdlKCR0aGlzLT5jb25maWdbJGtleV0sICR2YWwpOwoKaWYgKGlzc2V0KCR0aGlzLT5jb25maWdbJGtleV1bJyonXSkpIHsKJHdpbGRjYXJkID0gJHRoaXMtPmNvbmZpZ1ska2V5XVsnKiddOwp1bnNldCgkdGhpcy0+Y29uZmlnWyRrZXldWycqJ10pOwokdGhpcy0+Y29uZmlnWyRrZXldWycqJ10gPSAkd2lsZGNhcmQ7Cn0KfSBlbHNlIHsKJHRoaXMtPmNvbmZpZ1ska2V5XSA9ICR2YWw7Cn0KfSBlbHNlIHsKJHRoaXMtPmNvbmZpZ1ska2V5XSA9ICR2YWw7Cn0KfQp9CgppZiAoIWVtcHR5KCRjb25maWdbJ3JlcG9zaXRvcmllcyddKSAmJiBpc19hcnJheSgkY29uZmlnWydyZXBvc2l0b3JpZXMnXSkpIHsKJHRoaXMtPnJlcG9zaXRvcmllcyA9IGFycmF5X3JldmVyc2UoJHRoaXMtPnJlcG9zaXRvcmllcywgdHJ1ZSk7CiRuZXdSZXBvcyA9IGFycmF5X3JldmVyc2UoJGNvbmZpZ1sncmVwb3NpdG9yaWVzJ10sIHRydWUpOwpmb3JlYWNoICgkbmV3UmVwb3MgYXMgJG5hbWUgPT4gJHJlcG9zaXRvcnkpIHsKCmlmIChmYWxzZSA9PT0gJHJlcG9zaXRvcnkpIHsKJHRoaXMtPmRpc2FibGVSZXBvQnlOYW1lKCRuYW1lKTsKY29udGludWU7Cn0KCgppZiAoaXNfYXJyYXkoJHJlcG9zaXRvcnkpICYmIDEgPT09IGNvdW50KCRyZXBvc2l0b3J5KSAmJiBmYWxzZSA9PT0gY3VycmVudCgkcmVwb3NpdG9yeSkpIHsKJHRoaXMtPmRpc2FibGVSZXBvQnlOYW1lKGtleSgkcmVwb3NpdG9yeSkpOwpjb250aW51ZTsKfQoKCmlmIChpc3NldCgkcmVwb3NpdG9yeVsndHlwZSddLCAkcmVwb3NpdG9yeVsndXJsJ10pICYmICRyZXBvc2l0b3J5Wyd0eXBlJ10gPT09ICdjb21wb3NlcicgJiYgcHJlZ19tYXRjaCgne15odHRwcz86Ly8oPzpbYS16MC05LS5dK1wuKT9wYWNrYWdpc3Qub3JnKC98JCl9JywgJHJlcG9zaXRvcnlbJ3VybCddKSkgewokdGhpcy0+ZGlzYWJsZVJlcG9CeU5hbWUoJ3BhY2thZ2lzdC5vcmcnKTsKfQoKCmlmIChpc19pbnQoJG5hbWUpKSB7CiR0aGlzLT5yZXBvc2l0b3JpZXNbXSA9ICRyZXBvc2l0b3J5Owp9IGVsc2UgewppZiAoJG5hbWUgPT09ICdwYWNrYWdpc3QnKSB7IAokdGhpcy0+cmVwb3NpdG9yaWVzWyRuYW1lIC4gJy5vcmcnXSA9ICRyZXBvc2l0b3J5Owp9IGVsc2UgewokdGhpcy0+cmVwb3NpdG9yaWVzWyRuYW1lXSA9ICRyZXBvc2l0b3J5Owp9Cn0KfQokdGhpcy0+cmVwb3NpdG9yaWVzID0gYXJyYXlfcmV2ZXJzZSgkdGhpcy0+cmVwb3NpdG9yaWVzLCB0cnVlKTsKfQp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0UmVwb3NpdG9yaWVzKCkKewpyZXR1cm4gJHRoaXMtPnJlcG9zaXRvcmllczsKfQoKCgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0KCRrZXksICRmbGFncyA9IDApCnsKc3dpdGNoICgka2V5KSB7CgpjYXNlICd2ZW5kb3ItZGlyJzoKY2FzZSAnYmluLWRpcic6CmNhc2UgJ3Byb2Nlc3MtdGltZW91dCc6CmNhc2UgJ2RhdGEtZGlyJzoKY2FzZSAnY2FjaGUtZGlyJzoKY2FzZSAnY2FjaGUtZmlsZXMtZGlyJzoKY2FzZSAnY2FjaGUtcmVwby1kaXInOgpjYXNlICdjYWNoZS12Y3MtZGlyJzoKY2FzZSAnY2FmaWxlJzoKY2FzZSAnY2FwYXRoJzoKCiRlbnYgPSAnQ09NUE9TRVJfJyAuIHN0cnRvdXBwZXIoc3RydHIoJGtleSwgJy0nLCAnXycpKTsKCiR2YWwgPSAkdGhpcy0+Z2V0Q29tcG9zZXJFbnYoJGVudik7CiR2YWwgPSBydHJpbSgoc3RyaW5nKSAkdGhpcy0+cHJvY2VzcyhmYWxzZSAhPT0gJHZhbCA/ICR2YWwgOiAkdGhpcy0+Y29uZmlnWyRrZXldLCAkZmxhZ3MpLCAnL1xcJyk7CiR2YWwgPSBQbGF0Zm9ybTo6ZXhwYW5kUGF0aCgkdmFsKTsKCmlmIChzdWJzdHIoJGtleSwgLTQpICE9PSAnLWRpcicpIHsKcmV0dXJuICR2YWw7Cn0KCnJldHVybiAoKCRmbGFncyAmIHNlbGY6OlJFTEFUSVZFX1BBVEhTKSA9PSBzZWxmOjpSRUxBVElWRV9QQVRIUykgPyAkdmFsIDogJHRoaXMtPnJlYWxwYXRoKCR2YWwpOwoKCmNhc2UgJ2NhY2hlLXJlYWQtb25seSc6CmNhc2UgJ2h0YWNjZXNzLXByb3RlY3QnOgoKJGVudiA9ICdDT01QT1NFUl8nIC4gc3RydG91cHBlcihzdHJ0cigka2V5LCAnLScsICdfJykpOwoKJHZhbCA9ICR0aGlzLT5nZXRDb21wb3NlckVudigkZW52KTsKaWYgKGZhbHNlID09PSAkdmFsKSB7CiR2YWwgPSAkdGhpcy0+Y29uZmlnWyRrZXldOwp9CgpyZXR1cm4gJHZhbCAhPT0gJ2ZhbHNlJyAmJiAoYm9vbCkgJHZhbDsKCgpjYXNlICdkaXNhYmxlLXRscyc6CmNhc2UgJ3NlY3VyZS1odHRwJzoKY2FzZSAndXNlLWdpdGh1Yi1hcGknOgpjYXNlICdsb2NrJzoKCmlmICgka2V5ID09PSAnc2VjdXJlLWh0dHAnICYmICR0aGlzLT5nZXQoJ2Rpc2FibGUtdGxzJykgPT09IHRydWUpIHsKcmV0dXJuIGZhbHNlOwp9CgpyZXR1cm4gJHRoaXMtPmNvbmZpZ1ska2V5XSAhPT0gJ2ZhbHNlJyAmJiAoYm9vbCkgJHRoaXMtPmNvbmZpZ1ska2V5XTsKCgpjYXNlICdjYWNoZS10dGwnOgpyZXR1cm4gKGludCkgJHRoaXMtPmNvbmZpZ1ska2V5XTsKCgpjYXNlICdjYWNoZS1maWxlcy1tYXhzaXplJzoKaWYgKCFwcmVnX21hdGNoKCcvXlxzKihbMC05Ll0rKVxzKig/Oihba21nXSkoPzppP2IpPyk/XHMqJC9pJywgJHRoaXMtPmNvbmZpZ1ska2V5XSwgJG1hdGNoZXMpKSB7CnRocm93IG5ldyBcUnVudGltZUV4Y2VwdGlvbigKIkNvdWxkIG5vdCBwYXJzZSB0aGUgdmFsdWUgb2YgJyRrZXknOiB7JHRoaXMtPmNvbmZpZ1ska2V5XX0iCik7Cn0KJHNpemUgPSAkbWF0Y2hlc1sxXTsKaWYgKGlzc2V0KCRtYXRjaGVzWzJdKSkgewpzd2l0Y2ggKHN0cnRvbG93ZXIoJG1hdGNoZXNbMl0pKSB7CmNhc2UgJ2cnOgokc2l6ZSAqPSAxMDI0OwoKCmNhc2UgJ20nOgokc2l6ZSAqPSAxMDI0OwoKCmNhc2UgJ2snOgokc2l6ZSAqPSAxMDI0OwpicmVhazsKfQp9CgpyZXR1cm4gJHNpemU7CgoKY2FzZSAnY2FjaGUtZmlsZXMtdHRsJzoKaWYgKGlzc2V0KCR0aGlzLT5jb25maWdbJGtleV0pKSB7CnJldHVybiAoaW50KSAkdGhpcy0+Y29uZmlnWyRrZXldOwp9CgpyZXR1cm4gKGludCkgJHRoaXMtPmNvbmZpZ1snY2FjaGUtdHRsJ107CgpjYXNlICdob21lJzoKJHZhbCA9IHByZWdfcmVwbGFjZSgnI14oXCRIT01FfH4pKC98JCkjJywgcnRyaW0oZ2V0ZW52KCdIT01FJykgPzogZ2V0ZW52KCdVU0VSUFJPRklMRScpLCAnL1xcJykgLiAnLycsICR0aGlzLT5jb25maWdbJGtleV0pOwoKcmV0dXJuIHJ0cmltKCR0aGlzLT5wcm9jZXNzKCR2YWwsICRmbGFncyksICcvXFwnKTsKCmNhc2UgJ2Jpbi1jb21wYXQnOgokdmFsdWUgPSAkdGhpcy0+Z2V0Q29tcG9zZXJFbnYoJ0NPTVBPU0VSX0JJTl9DT01QQVQnKSA/OiAkdGhpcy0+Y29uZmlnWyRrZXldOwoKaWYgKCFpbl9hcnJheSgkdmFsdWUsIGFycmF5KCdhdXRvJywgJ2Z1bGwnLCAnc3ltbGluaycpKSkgewp0aHJvdyBuZXcgXFJ1bnRpbWVFeGNlcHRpb24oCiJJbnZhbGlkIHZhbHVlIGZvciAnYmluLWNvbXBhdCc6IHskdmFsdWV9LiBFeHBlY3RlZCBhdXRvLCBmdWxsIG9yIHN5bWxpbmsiCik7Cn0KCnJldHVybiAkdmFsdWU7CgpjYXNlICdkaXNjYXJkLWNoYW5nZXMnOgppZiAoJGVudiA9ICR0aGlzLT5nZXRDb21wb3NlckVudignQ09NUE9TRVJfRElTQ0FSRF9DSEFOR0VTJykpIHsKaWYgKCFpbl9hcnJheSgkZW52LCBhcnJheSgnc3Rhc2gnLCAndHJ1ZScsICdmYWxzZScsICcxJywgJzAnKSwgdHJ1ZSkpIHsKdGhyb3cgbmV3IFxSdW50aW1lRXhjZXB0aW9uKAoiSW52YWxpZCB2YWx1ZSBmb3IgQ09NUE9TRVJfRElTQ0FSRF9DSEFOR0VTOiB7JGVudn0uIEV4cGVjdGVkIDEsIDAsIHRydWUsIGZhbHNlIG9yIHN0YXNoIgopOwp9CmlmICgnc3Rhc2gnID09PSAkZW52KSB7CnJldHVybiAnc3Rhc2gnOwp9CgoKcmV0dXJuICRlbnYgIT09ICdmYWxzZScgJiYgKGJvb2wpICRlbnY7Cn0KCmlmICghaW5fYXJyYXkoJHRoaXMtPmNvbmZpZ1ska2V5XSwgYXJyYXkodHJ1ZSwgZmFsc2UsICdzdGFzaCcpLCB0cnVlKSkgewp0aHJvdyBuZXcgXFJ1bnRpbWVFeGNlcHRpb24oCiJJbnZhbGlkIHZhbHVlIGZvciAnZGlzY2FyZC1jaGFuZ2VzJzogeyR0aGlzLT5jb25maWdbJGtleV19LiBFeHBlY3RlZCB0cnVlLCBmYWxzZSBvciBzdGFzaCIKKTsKfQoKcmV0dXJuICR0aGlzLT5jb25maWdbJGtleV07CgpjYXNlICdnaXRodWItcHJvdG9jb2xzJzoKJHByb3RvcyA9ICR0aGlzLT5jb25maWdbJ2dpdGh1Yi1wcm90b2NvbHMnXTsKaWYgKCR0aGlzLT5jb25maWdbJ3NlY3VyZS1odHRwJ10gJiYgZmFsc2UgIT09ICgkaW5kZXggPSBhcnJheV9zZWFyY2goJ2dpdCcsICRwcm90b3MpKSkgewp1bnNldCgkcHJvdG9zWyRpbmRleF0pOwp9CmlmIChyZXNldCgkcHJvdG9zKSA9PT0gJ2h0dHAnKSB7CnRocm93IG5ldyBcUnVudGltZUV4Y2VwdGlvbignVGhlIGh0dHAgcHJvdG9jb2wgZm9yIGdpdGh1YiBpcyBub3QgYXZhaWxhYmxlIGFueW1vcmUsIHVwZGF0ZSB5b3VyIGNvbmZpZ1wncyBnaXRodWItcHJvdG9jb2xzIHRvIHVzZSAiaHR0cHMiLCAiZ2l0IiBvciAic3NoIicpOwp9CgpyZXR1cm4gJHByb3RvczsKCmRlZmF1bHQ6CmlmICghaXNzZXQoJHRoaXMtPmNvbmZpZ1ska2V5XSkpIHsKcmV0dXJuIG51bGw7Cn0KCnJldHVybiAkdGhpcy0+cHJvY2VzcygkdGhpcy0+Y29uZmlnWyRrZXldLCAkZmxhZ3MpOwp9Cn0KCnB1YmxpYyBmdW5jdGlvbiBhbGwoJGZsYWdzID0gMCkKewokYWxsID0gYXJyYXkoCidyZXBvc2l0b3JpZXMnID0+ICR0aGlzLT5nZXRSZXBvc2l0b3JpZXMoKSwKKTsKZm9yZWFjaCAoYXJyYXlfa2V5cygkdGhpcy0+Y29uZmlnKSBhcyAka2V5KSB7CiRhbGxbJ2NvbmZpZyddWyRrZXldID0gJHRoaXMtPmdldCgka2V5LCAkZmxhZ3MpOwp9CgpyZXR1cm4gJGFsbDsKfQoKcHVibGljIGZ1bmN0aW9uIHJhdygpCnsKcmV0dXJuIGFycmF5KAoncmVwb3NpdG9yaWVzJyA9PiAkdGhpcy0+Z2V0UmVwb3NpdG9yaWVzKCksCidjb25maWcnID0+ICR0aGlzLT5jb25maWcsCik7Cn0KCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBoYXMoJGtleSkKewpyZXR1cm4gYXJyYXlfa2V5X2V4aXN0cygka2V5LCAkdGhpcy0+Y29uZmlnKTsKfQoKCgoKCgoKCnByaXZhdGUgZnVuY3Rpb24gcHJvY2VzcygkdmFsdWUsICRmbGFncykKewokY29uZmlnID0gJHRoaXM7CgppZiAoIWlzX3N0cmluZygkdmFsdWUpKSB7CnJldHVybiAkdmFsdWU7Cn0KCnJldHVybiBwcmVnX3JlcGxhY2VfY2FsbGJhY2soJyNce1wkKC4rKVx9IycsIGZ1bmN0aW9uICgkbWF0Y2gpIHVzZSAoJGNvbmZpZywgJGZsYWdzKSB7CnJldHVybiAkY29uZmlnLT5nZXQoJG1hdGNoWzFdLCAkZmxhZ3MpOwp9LCAkdmFsdWUpOwp9CgoKCgoKCgoKCnByaXZhdGUgZnVuY3Rpb24gcmVhbHBhdGgoJHBhdGgpCnsKaWYgKHByZWdfbWF0Y2goJ3teKD86L3xbYS16XTp8W2EtejAtOS5dKzovLyl9aScsICRwYXRoKSkgewpyZXR1cm4gJHBhdGg7Cn0KCnJldHVybiAkdGhpcy0+YmFzZURpciAuICcvJyAuICRwYXRoOwp9CgoKCgoKCgoKCgpwcml2YXRlIGZ1bmN0aW9uIGdldENvbXBvc2VyRW52KCR2YXIpCnsKaWYgKCR0aGlzLT51c2VFbnZpcm9ubWVudCkgewpyZXR1cm4gZ2V0ZW52KCR2YXIpOwp9CgpyZXR1cm4gZmFsc2U7Cn0KCnByaXZhdGUgZnVuY3Rpb24gZGlzYWJsZVJlcG9CeU5hbWUoJG5hbWUpCnsKaWYgKGlzc2V0KCR0aGlzLT5yZXBvc2l0b3JpZXNbJG5hbWVdKSkgewp1bnNldCgkdGhpcy0+cmVwb3NpdG9yaWVzWyRuYW1lXSk7Cn0gZWxzZWlmICgkbmFtZSA9PT0gJ3BhY2thZ2lzdCcpIHsgCnVuc2V0KCR0aGlzLT5yZXBvc2l0b3JpZXNbJ3BhY2thZ2lzdC5vcmcnXSk7Cn0KfQoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIHByb2hpYml0VXJsQnlDb25maWcoJHVybCwgSU9JbnRlcmZhY2UgJGlvID0gbnVsbCkKewoKaWYgKGZhbHNlID09PSBmaWx0ZXJfdmFyKCR1cmwsIEZJTFRFUl9WQUxJREFURV9VUkwpKSB7CnJldHVybjsKfQoKCiRzY2hlbWUgPSBwYXJzZV91cmwoJHVybCwgUEhQX1VSTF9TQ0hFTUUpOwokaG9zdG5hbWUgPSBwYXJzZV91cmwoJHVybCwgUEhQX1VSTF9IT1NUKTsKaWYgKGluX2FycmF5KCRzY2hlbWUsIGFycmF5KCdodHRwJywgJ2dpdCcsICdmdHAnLCAnc3ZuJykpKSB7CmlmICgkdGhpcy0+Z2V0KCdzZWN1cmUtaHR0cCcpKSB7CmlmICgkc2NoZW1lID09PSAnc3ZuJykgewppZiAoaW5fYXJyYXkoJGhvc3RuYW1lLCAkdGhpcy0+Z2V0KCdzZWN1cmUtc3ZuLWRvbWFpbnMnKSwgdHJ1ZSkpIHsKcmV0dXJuOwp9Cgp0aHJvdyBuZXcgVHJhbnNwb3J0RXhjZXB0aW9uKCJZb3VyIGNvbmZpZ3VyYXRpb24gZG9lcyBub3QgYWxsb3cgY29ubmVjdGlvbnMgdG8gJHVybC4gU2VlIGh0dHBzOi8vZ2V0Y29tcG9zZXIub3JnL2RvYy8wNi1jb25maWcubWQjc2VjdXJlLXN2bi1kb21haW5zIGZvciBkZXRhaWxzLiIpOwp9Cgp0aHJvdyBuZXcgVHJhbnNwb3J0RXhjZXB0aW9uKCJZb3VyIGNvbmZpZ3VyYXRpb24gZG9lcyBub3QgYWxsb3cgY29ubmVjdGlvbnMgdG8gJHVybC4gU2VlIGh0dHBzOi8vZ2V0Y29tcG9zZXIub3JnL2RvYy8wNi1jb25maWcubWQjc2VjdXJlLWh0dHAgZm9yIGRldGFpbHMuIik7Cn0KaWYgKCRpbykgewokaG9zdCA9IHBhcnNlX3VybCgkdXJsLCBQSFBfVVJMX0hPU1QpOwppZiAoIWlzc2V0KCR0aGlzLT53YXJuZWRIb3N0c1skaG9zdF0pKSB7CiRpby0+d3JpdGVFcnJvcigiPHdhcm5pbmc+V2FybmluZzogQWNjZXNzaW5nICRob3N0IG92ZXIgJHNjaGVtZSB3aGljaCBpcyBhbiBpbnNlY3VyZSBwcm90b2NvbC48L3dhcm5pbmc+Iik7Cn0KJHRoaXMtPndhcm5lZEhvc3RzWyRob3N0XSA9IHRydWU7Cn0KfQp9CgoKCgoKCgoKCgoKcHVibGljIHN0YXRpYyBmdW5jdGlvbiBkaXNhYmxlUHJvY2Vzc1RpbWVvdXQoKQp7CgpQcm9jZXNzRXhlY3V0b3I6OnNldFRpbWVvdXQoMCk7Cn0KfQo8P3BocAoKCgoKCgoKCgoKCm5hbWVzcGFjZSBDb21wb3NlclxDb25maWc7CgoKCgoKCgppbnRlcmZhY2UgQ29uZmlnU291cmNlSW50ZXJmYWNlCnsKCgoKCgoKcHVibGljIGZ1bmN0aW9uIGFkZFJlcG9zaXRvcnkoJG5hbWUsICRjb25maWcsICRhcHBlbmQgPSB0cnVlKTsKCgoKCgoKcHVibGljIGZ1bmN0aW9uIHJlbW92ZVJlcG9zaXRvcnkoJG5hbWUpOwoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIGFkZENvbmZpZ1NldHRpbmcoJG5hbWUsICR2YWx1ZSk7CgoKCgoKCnB1YmxpYyBmdW5jdGlvbiByZW1vdmVDb25maWdTZXR0aW5nKCRuYW1lKTsKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBhZGRQcm9wZXJ0eSgkbmFtZSwgJHZhbHVlKTsKCgoKCgoKcHVibGljIGZ1bmN0aW9uIHJlbW92ZVByb3BlcnR5KCRuYW1lKTsKCgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gYWRkTGluaygkdHlwZSwgJG5hbWUsICR2YWx1ZSk7CgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gcmVtb3ZlTGluaygkdHlwZSwgJG5hbWUpOwoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0TmFtZSgpOwp9Cjw/cGhwCgoKCgoKCgoKCgoKbmFtZXNwYWNlIENvbXBvc2VyXENvbmZpZzsKCnVzZSBDb21wb3NlclxKc29uXEpzb25GaWxlOwp1c2UgQ29tcG9zZXJcSnNvblxKc29uTWFuaXB1bGF0b3I7CnVzZSBDb21wb3NlclxKc29uXEpzb25WYWxpZGF0aW9uRXhjZXB0aW9uOwp1c2UgQ29tcG9zZXJcVXRpbFxGaWxlc3lzdGVtOwp1c2UgQ29tcG9zZXJcVXRpbFxTaWxlbmNlcjsKCgoKCgoKCmNsYXNzIEpzb25Db25maWdTb3VyY2UgaW1wbGVtZW50cyBDb25maWdTb3VyY2VJbnRlcmZhY2UKewoKCgpwcml2YXRlICRmaWxlOwoKCgoKcHJpdmF0ZSAkYXV0aENvbmZpZzsKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBfX2NvbnN0cnVjdChKc29uRmlsZSAkZmlsZSwgJGF1dGhDb25maWcgPSBmYWxzZSkKewokdGhpcy0+ZmlsZSA9ICRmaWxlOwokdGhpcy0+YXV0aENvbmZpZyA9ICRhdXRoQ29uZmlnOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0TmFtZSgpCnsKcmV0dXJuICR0aGlzLT5maWxlLT5nZXRQYXRoKCk7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBhZGRSZXBvc2l0b3J5KCRuYW1lLCAkY29uZmlnLCAkYXBwZW5kID0gdHJ1ZSkKewokdGhpcy0+bWFuaXB1bGF0ZUpzb24oJ2FkZFJlcG9zaXRvcnknLCAkbmFtZSwgJGNvbmZpZywgJGFwcGVuZCwgZnVuY3Rpb24gKCYkY29uZmlnLCAkcmVwbywgJHJlcG9Db25maWcpIHVzZSAoJGFwcGVuZCkgewoKCmlmIChpc3NldCgkY29uZmlnWydyZXBvc2l0b3JpZXMnXSkpIHsKZm9yZWFjaCAoJGNvbmZpZ1sncmVwb3NpdG9yaWVzJ10gYXMgJGluZGV4ID0+ICR2YWwpIHsKaWYgKCRpbmRleCA9PT0gJHJlcG8pIHsKY29udGludWU7Cn0KaWYgKGlzX251bWVyaWMoJGluZGV4KSAmJiAoJHZhbCA9PT0gYXJyYXkoJ3BhY2thZ2lzdCcgPT4gZmFsc2UpIHx8ICR2YWwgPT09IGFycmF5KCdwYWNrYWdpc3Qub3JnJyA9PiBmYWxzZSkpKSB7CnVuc2V0KCRjb25maWdbJ3JlcG9zaXRvcmllcyddWyRpbmRleF0pOwokY29uZmlnWydyZXBvc2l0b3JpZXMnXVsncGFja2FnaXN0Lm9yZyddID0gZmFsc2U7CmJyZWFrOwp9Cn0KfQoKaWYgKCRhcHBlbmQpIHsKJGNvbmZpZ1sncmVwb3NpdG9yaWVzJ11bJHJlcG9dID0gJHJlcG9Db25maWc7Cn0gZWxzZSB7CiRjb25maWdbJ3JlcG9zaXRvcmllcyddID0gYXJyYXkoJHJlcG8gPT4gJHJlcG9Db25maWcpICsgJGNvbmZpZ1sncmVwb3NpdG9yaWVzJ107Cn0KfSk7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiByZW1vdmVSZXBvc2l0b3J5KCRuYW1lKQp7CiR0aGlzLT5tYW5pcHVsYXRlSnNvbigncmVtb3ZlUmVwb3NpdG9yeScsICRuYW1lLCBmdW5jdGlvbiAoJiRjb25maWcsICRyZXBvKSB7CnVuc2V0KCRjb25maWdbJ3JlcG9zaXRvcmllcyddWyRyZXBvXSk7Cn0pOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gYWRkQ29uZmlnU2V0dGluZygkbmFtZSwgJHZhbHVlKQp7CiRhdXRoQ29uZmlnID0gJHRoaXMtPmF1dGhDb25maWc7CiR0aGlzLT5tYW5pcHVsYXRlSnNvbignYWRkQ29uZmlnU2V0dGluZycsICRuYW1lLCAkdmFsdWUsIGZ1bmN0aW9uICgmJGNvbmZpZywgJGtleSwgJHZhbCkgdXNlICgkYXV0aENvbmZpZykgewppZiAocHJlZ19tYXRjaCgne14oYml0YnVja2V0LW9hdXRofGdpdGh1Yi1vYXV0aHxnaXRsYWItb2F1dGh8Z2l0bGFiLXRva2VufGJlYXJlcnxodHRwLWJhc2ljfHBsYXRmb3JtKVwufScsICRrZXkpKSB7Cmxpc3QoJGtleSwgJGhvc3QpID0gZXhwbG9kZSgnLicsICRrZXksIDIpOwppZiAoJGF1dGhDb25maWcpIHsKJGNvbmZpZ1ska2V5XVskaG9zdF0gPSAkdmFsOwp9IGVsc2UgewokY29uZmlnWydjb25maWcnXVska2V5XVskaG9zdF0gPSAkdmFsOwp9Cn0gZWxzZSB7CiRjb25maWdbJ2NvbmZpZyddWyRrZXldID0gJHZhbDsKfQp9KTsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIHJlbW92ZUNvbmZpZ1NldHRpbmcoJG5hbWUpCnsKJGF1dGhDb25maWcgPSAkdGhpcy0+YXV0aENvbmZpZzsKJHRoaXMtPm1hbmlwdWxhdGVKc29uKCdyZW1vdmVDb25maWdTZXR0aW5nJywgJG5hbWUsIGZ1bmN0aW9uICgmJGNvbmZpZywgJGtleSkgdXNlICgkYXV0aENvbmZpZykgewppZiAocHJlZ19tYXRjaCgne14oYml0YnVja2V0LW9hdXRofGdpdGh1Yi1vYXV0aHxnaXRsYWItb2F1dGh8Z2l0bGFiLXRva2VufGJlYXJlcnxodHRwLWJhc2ljfHBsYXRmb3JtKVwufScsICRrZXkpKSB7Cmxpc3QoJGtleSwgJGhvc3QpID0gZXhwbG9kZSgnLicsICRrZXksIDIpOwppZiAoJGF1dGhDb25maWcpIHsKdW5zZXQoJGNvbmZpZ1ska2V5XVskaG9zdF0pOwp9IGVsc2Ugewp1bnNldCgkY29uZmlnWydjb25maWcnXVska2V5XVskaG9zdF0pOwp9Cn0gZWxzZSB7CnVuc2V0KCRjb25maWdbJ2NvbmZpZyddWyRrZXldKTsKfQp9KTsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIGFkZFByb3BlcnR5KCRuYW1lLCAkdmFsdWUpCnsKJHRoaXMtPm1hbmlwdWxhdGVKc29uKCdhZGRQcm9wZXJ0eScsICRuYW1lLCAkdmFsdWUsIGZ1bmN0aW9uICgmJGNvbmZpZywgJGtleSwgJHZhbCkgewppZiAoc3RycG9zKCRrZXksICdleHRyYS4nKSA9PT0gMCB8fCBzdHJwb3MoJGtleSwgJ3NjcmlwdHMuJykgPT09IDApIHsKJGJpdHMgPSBleHBsb2RlKCcuJywgJGtleSk7CiRsYXN0ID0gYXJyYXlfcG9wKCRiaXRzKTsKJGFyciA9ICYkY29uZmlnW3Jlc2V0KCRiaXRzKV07CmZvcmVhY2ggKCRiaXRzIGFzICRiaXQpIHsKaWYgKCFpc3NldCgkYXJyWyRiaXRdKSkgewokYXJyWyRiaXRdID0gYXJyYXkoKTsKfQokYXJyID0gJiRhcnJbJGJpdF07Cn0KJGFyclskbGFzdF0gPSAkdmFsOwp9IGVsc2UgewokY29uZmlnWyRrZXldID0gJHZhbDsKfQp9KTsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIHJlbW92ZVByb3BlcnR5KCRuYW1lKQp7CiR0aGlzLT5tYW5pcHVsYXRlSnNvbigncmVtb3ZlUHJvcGVydHknLCAkbmFtZSwgZnVuY3Rpb24gKCYkY29uZmlnLCAka2V5KSB7CmlmIChzdHJwb3MoJGtleSwgJ2V4dHJhLicpID09PSAwIHx8IHN0cnBvcygka2V5LCAnc2NyaXB0cy4nKSA9PT0gMCkgewokYml0cyA9IGV4cGxvZGUoJy4nLCAka2V5KTsKJGxhc3QgPSBhcnJheV9wb3AoJGJpdHMpOwokYXJyID0gJiRjb25maWdbcmVzZXQoJGJpdHMpXTsKZm9yZWFjaCAoJGJpdHMgYXMgJGJpdCkgewppZiAoIWlzc2V0KCRhcnJbJGJpdF0pKSB7CnJldHVybjsKfQokYXJyID0gJiRhcnJbJGJpdF07Cn0KdW5zZXQoJGFyclskbGFzdF0pOwp9IGVsc2Ugewp1bnNldCgkY29uZmlnWyRrZXldKTsKfQp9KTsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIGFkZExpbmsoJHR5cGUsICRuYW1lLCAkdmFsdWUpCnsKJHRoaXMtPm1hbmlwdWxhdGVKc29uKCdhZGRMaW5rJywgJHR5cGUsICRuYW1lLCAkdmFsdWUsIGZ1bmN0aW9uICgmJGNvbmZpZywgJHR5cGUsICRuYW1lLCAkdmFsdWUpIHsKJGNvbmZpZ1skdHlwZV1bJG5hbWVdID0gJHZhbHVlOwp9KTsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIHJlbW92ZUxpbmsoJHR5cGUsICRuYW1lKQp7CiR0aGlzLT5tYW5pcHVsYXRlSnNvbigncmVtb3ZlU3ViTm9kZScsICR0eXBlLCAkbmFtZSwgZnVuY3Rpb24gKCYkY29uZmlnLCAkdHlwZSwgJG5hbWUpIHsKdW5zZXQoJGNvbmZpZ1skdHlwZV1bJG5hbWVdKTsKfSk7CiR0aGlzLT5tYW5pcHVsYXRlSnNvbigncmVtb3ZlTWFpbktleUlmRW1wdHknLCAkdHlwZSwgZnVuY3Rpb24gKCYkY29uZmlnLCAkdHlwZSkgewppZiAoMCA9PT0gY291bnQoJGNvbmZpZ1skdHlwZV0pKSB7CnVuc2V0KCRjb25maWdbJHR5cGVdKTsKfQp9KTsKfQoKcHJvdGVjdGVkIGZ1bmN0aW9uIG1hbmlwdWxhdGVKc29uKCRtZXRob2QsICRhcmdzLCAkZmFsbGJhY2spCnsKJGFyZ3MgPSBmdW5jX2dldF9hcmdzKCk7CgphcnJheV9zaGlmdCgkYXJncyk7CiRmYWxsYmFjayA9IGFycmF5X3BvcCgkYXJncyk7CgppZiAoJHRoaXMtPmZpbGUtPmV4aXN0cygpKSB7CmlmICghaXNfd3JpdGFibGUoJHRoaXMtPmZpbGUtPmdldFBhdGgoKSkpIHsKdGhyb3cgbmV3IFxSdW50aW1lRXhjZXB0aW9uKHNwcmludGYoJ1RoZSBmaWxlICIlcyIgaXMgbm90IHdyaXRhYmxlLicsICR0aGlzLT5maWxlLT5nZXRQYXRoKCkpKTsKfQoKaWYgKCFGaWxlc3lzdGVtOjppc1JlYWRhYmxlKCR0aGlzLT5maWxlLT5nZXRQYXRoKCkpKSB7CnRocm93IG5ldyBcUnVudGltZUV4Y2VwdGlvbihzcHJpbnRmKCdUaGUgZmlsZSAiJXMiIGlzIG5vdCByZWFkYWJsZS4nLCAkdGhpcy0+ZmlsZS0+Z2V0UGF0aCgpKSk7Cn0KCiRjb250ZW50cyA9IGZpbGVfZ2V0X2NvbnRlbnRzKCR0aGlzLT5maWxlLT5nZXRQYXRoKCkpOwp9IGVsc2VpZiAoJHRoaXMtPmF1dGhDb25maWcpIHsKJGNvbnRlbnRzID0gIntcbn1cbiI7Cn0gZWxzZSB7CiRjb250ZW50cyA9ICJ7XG4gICAgXCJjb25maWdcIjoge1xuICAgIH1cbn1cbiI7Cn0KCiRtYW5pcHVsYXRvciA9IG5ldyBKc29uTWFuaXB1bGF0b3IoJGNvbnRlbnRzKTsKCiRuZXdGaWxlID0gISR0aGlzLT5maWxlLT5leGlzdHMoKTsKCgppZiAoJHRoaXMtPmF1dGhDb25maWcgJiYgJG1ldGhvZCA9PT0gJ2FkZENvbmZpZ1NldHRpbmcnKSB7CiRtZXRob2QgPSAnYWRkU3ViTm9kZSc7Cmxpc3QoJG1haW5Ob2RlLCAkbmFtZSkgPSBleHBsb2RlKCcuJywgJGFyZ3NbMF0sIDIpOwokYXJncyA9IGFycmF5KCRtYWluTm9kZSwgJG5hbWUsICRhcmdzWzFdKTsKfSBlbHNlaWYgKCR0aGlzLT5hdXRoQ29uZmlnICYmICRtZXRob2QgPT09ICdyZW1vdmVDb25maWdTZXR0aW5nJykgewokbWV0aG9kID0gJ3JlbW92ZVN1Yk5vZGUnOwpsaXN0KCRtYWluTm9kZSwgJG5hbWUpID0gZXhwbG9kZSgnLicsICRhcmdzWzBdLCAyKTsKJGFyZ3MgPSBhcnJheSgkbWFpbk5vZGUsICRuYW1lKTsKfQoKCmlmIChjYWxsX3VzZXJfZnVuY19hcnJheShhcnJheSgkbWFuaXB1bGF0b3IsICRtZXRob2QpLCAkYXJncykpIHsKZmlsZV9wdXRfY29udGVudHMoJHRoaXMtPmZpbGUtPmdldFBhdGgoKSwgJG1hbmlwdWxhdG9yLT5nZXRDb250ZW50cygpKTsKfSBlbHNlIHsKCiRjb25maWcgPSAkdGhpcy0+ZmlsZS0+cmVhZCgpOwokdGhpcy0+YXJyYXlVbnNoaWZ0UmVmKCRhcmdzLCAkY29uZmlnKTsKY2FsbF91c2VyX2Z1bmNfYXJyYXkoJGZhbGxiYWNrLCAkYXJncyk7Cgpmb3JlYWNoIChhcnJheSgncmVxdWlyZScsICdyZXF1aXJlLWRldicsICdjb25mbGljdCcsICdwcm92aWRlJywgJ3JlcGxhY2UnLCAnc3VnZ2VzdCcsICdjb25maWcnLCAnYXV0b2xvYWQnLCAnYXV0b2xvYWQtZGV2JywgJ3NjcmlwdHMnLCAnc2NyaXB0cy1kZXNjcmlwdGlvbnMnLCAnc3VwcG9ydCcpIGFzICRwcm9wKSB7CmlmIChpc3NldCgkY29uZmlnWyRwcm9wXSkgJiYgJGNvbmZpZ1skcHJvcF0gPT09IGFycmF5KCkpIHsKJGNvbmZpZ1skcHJvcF0gPSBuZXcgXHN0ZENsYXNzOwp9Cn0KZm9yZWFjaCAoYXJyYXkoJ3Bzci0wJywgJ3Bzci00JykgYXMgJHByb3ApIHsKaWYgKGlzc2V0KCRjb25maWdbJ2F1dG9sb2FkJ11bJHByb3BdKSAmJiAkY29uZmlnWydhdXRvbG9hZCddWyRwcm9wXSA9PT0gYXJyYXkoKSkgewokY29uZmlnWydhdXRvbG9hZCddWyRwcm9wXSA9IG5ldyBcc3RkQ2xhc3M7Cn0KaWYgKGlzc2V0KCRjb25maWdbJ2F1dG9sb2FkLWRldiddWyRwcm9wXSkgJiYgJGNvbmZpZ1snYXV0b2xvYWQtZGV2J11bJHByb3BdID09PSBhcnJheSgpKSB7CiRjb25maWdbJ2F1dG9sb2FkLWRldiddWyRwcm9wXSA9IG5ldyBcc3RkQ2xhc3M7Cn0KfQpmb3JlYWNoIChhcnJheSgncGxhdGZvcm0nLCAnaHR0cC1iYXNpYycsICdiZWFyZXInLCAnZ2l0bGFiLXRva2VuJywgJ2dpdGxhYi1vYXV0aCcsICdnaXRodWItb2F1dGgnLCAncHJlZmVycmVkLWluc3RhbGwnKSBhcyAkcHJvcCkgewppZiAoaXNzZXQoJGNvbmZpZ1snY29uZmlnJ11bJHByb3BdKSAmJiAkY29uZmlnWydjb25maWcnXVskcHJvcF0gPT09IGFycmF5KCkpIHsKJGNvbmZpZ1snY29uZmlnJ11bJHByb3BdID0gbmV3IFxzdGRDbGFzczsKfQp9CiR0aGlzLT5maWxlLT53cml0ZSgkY29uZmlnKTsKfQoKdHJ5IHsKJHRoaXMtPmZpbGUtPnZhbGlkYXRlU2NoZW1hKEpzb25GaWxlOjpMQVhfU0NIRU1BKTsKfSBjYXRjaCAoSnNvblZhbGlkYXRpb25FeGNlcHRpb24gJGUpIHsKCmZpbGVfcHV0X2NvbnRlbnRzKCR0aGlzLT5maWxlLT5nZXRQYXRoKCksICRjb250ZW50cyk7CnRocm93IG5ldyBcUnVudGltZUV4Y2VwdGlvbignRmFpbGVkIHRvIHVwZGF0ZSBjb21wb3Nlci5qc29uIHdpdGggYSB2YWxpZCBmb3JtYXQsIHJldmVydGluZyB0byB0aGUgb3JpZ2luYWwgY29udGVudC4gUGxlYXNlIHJlcG9ydCBhbiBpc3N1ZSB0byB1cyB3aXRoIGRldGFpbHMgKGNvbW1hbmQgeW91IHJ1biBhbmQgYSBjb3B5IG9mIHlvdXIgY29tcG9zZXIuanNvbikuJywgMCwgJGUpOwp9CgppZiAoJG5ld0ZpbGUpIHsKU2lsZW5jZXI6OmNhbGwoJ2NobW9kJywgJHRoaXMtPmZpbGUtPmdldFBhdGgoKSwgMDYwMCk7Cn0KfQoKCgoKCgoKCnByaXZhdGUgZnVuY3Rpb24gYXJyYXlVbnNoaWZ0UmVmKCYkYXJyYXksICYkdmFsdWUpCnsKJHJldHVybiA9IGFycmF5X3Vuc2hpZnQoJGFycmF5LCAnJyk7CiRhcnJheVswXSA9ICYkdmFsdWU7CgpyZXR1cm4gJHJldHVybjsKfQp9Cjw/cGhwCgoKCgoKCgoKCgoKbmFtZXNwYWNlIENvbXBvc2VyXENvbnNvbGU7Cgp1c2UgQ29tcG9zZXJcSU9cTnVsbElPOwp1c2UgQ29tcG9zZXJcVXRpbFxGaWxlc3lzdGVtOwp1c2UgQ29tcG9zZXJcVXRpbFxQbGF0Zm9ybTsKdXNlIENvbXBvc2VyXFV0aWxcU2lsZW5jZXI7CnVzZSBTeW1mb255XENvbXBvbmVudFxDb25zb2xlXEFwcGxpY2F0aW9uIGFzIEJhc2VBcHBsaWNhdGlvbjsKdXNlIFN5bWZvbnlcQ29tcG9uZW50XENvbnNvbGVcRXhjZXB0aW9uXENvbW1hbmROb3RGb3VuZEV4Y2VwdGlvbjsKdXNlIFN5bWZvbnlcQ29tcG9uZW50XENvbnNvbGVcSGVscGVyXEhlbHBlclNldDsKdXNlIFN5bWZvbnlcQ29tcG9uZW50XENvbnNvbGVcSGVscGVyXFF1ZXN0aW9uSGVscGVyOwp1c2UgU3ltZm9ueVxDb21wb25lbnRcQ29uc29sZVxJbnB1dFxJbnB1dEludGVyZmFjZTsKdXNlIFN5bWZvbnlcQ29tcG9uZW50XENvbnNvbGVcSW5wdXRcSW5wdXRPcHRpb247CnVzZSBTeW1mb255XENvbXBvbmVudFxDb25zb2xlXE91dHB1dFxPdXRwdXRJbnRlcmZhY2U7CnVzZSBTZWxkXEpzb25MaW50XFBhcnNpbmdFeGNlcHRpb247CnVzZSBDb21wb3NlclxDb21tYW5kOwp1c2UgQ29tcG9zZXJcQ29tcG9zZXI7CnVzZSBDb21wb3NlclxGYWN0b3J5Owp1c2UgQ29tcG9zZXJcSU9cSU9JbnRlcmZhY2U7CnVzZSBDb21wb3NlclxJT1xDb25zb2xlSU87CnVzZSBDb21wb3NlclxKc29uXEpzb25WYWxpZGF0aW9uRXhjZXB0aW9uOwp1c2UgQ29tcG9zZXJcVXRpbFxFcnJvckhhbmRsZXI7CnVzZSBDb21wb3NlclxVdGlsXEh0dHBEb3dubG9hZGVyOwp1c2UgQ29tcG9zZXJcRXZlbnREaXNwYXRjaGVyXFNjcmlwdEV4ZWN1dGlvbkV4Y2VwdGlvbjsKdXNlIENvbXBvc2VyXEV4Y2VwdGlvblxOb1NzbEV4Y2VwdGlvbjsKdXNlIENvbXBvc2VyXFhkZWJ1Z0hhbmRsZXJcWGRlYnVnSGFuZGxlcjsKdXNlIFN5bWZvbnlcQ29tcG9uZW50XFByb2Nlc3NcRXhjZXB0aW9uXFByb2Nlc3NUaW1lZE91dEV4Y2VwdGlvbjsKCgoKCgoKCgpjbGFzcyBBcHBsaWNhdGlvbiBleHRlbmRzIEJhc2VBcHBsaWNhdGlvbgp7CgoKCnByb3RlY3RlZCAkY29tcG9zZXI7CgoKCgpwcm90ZWN0ZWQgJGlvOwoKcHJpdmF0ZSBzdGF0aWMgJGxvZ28gPSAnICAgX19fX19fCiAgLyBfX19fL19fXyAgX19fXyBfX18gIF9fX18gIF9fX18gIF9fX19fX19fICBfX19fXwogLyAvICAgLyBfXyBcLyBfXyBgX18gXC8gX18gXC8gX18gXC8gX19fLyBfIFwvIF9fXy8KLyAvX19fLyAvXy8gLyAvIC8gLyAvIC8gL18vIC8gL18vIChfXyAgKSAgX18vIC8KXF9fX18vXF9fX18vXy8gL18vIC9fLyAuX19fL1xfX19fL19fX18vXF9fXy9fLwogICAgICAgICAgICAgICAgICAgIC9fLwonOwoKcHJpdmF0ZSAkaGFzUGx1Z2luQ29tbWFuZHMgPSBmYWxzZTsKcHJpdmF0ZSAkZGlzYWJsZVBsdWdpbnNCeURlZmF1bHQgPSBmYWxzZTsKCgoKCnByaXZhdGUgJGluaXRpYWxXb3JraW5nRGlyZWN0b3J5OwoKcHVibGljIGZ1bmN0aW9uIF9fY29uc3RydWN0KCkKewpzdGF0aWMgJHNodXRkb3duUmVnaXN0ZXJlZCA9IGZhbHNlOwoKaWYgKGZ1bmN0aW9uX2V4aXN0cygnaW5pX3NldCcpICYmIGV4dGVuc2lvbl9sb2FkZWQoJ3hkZWJ1ZycpKSB7CmluaV9zZXQoJ3hkZWJ1Zy5zaG93X2V4Y2VwdGlvbl90cmFjZScsIGZhbHNlKTsKaW5pX3NldCgneGRlYnVnLnNjcmVhbScsIGZhbHNlKTsKfQoKaWYgKGZ1bmN0aW9uX2V4aXN0cygnZGF0ZV9kZWZhdWx0X3RpbWV6b25lX3NldCcpICYmIGZ1bmN0aW9uX2V4aXN0cygnZGF0ZV9kZWZhdWx0X3RpbWV6b25lX2dldCcpKSB7CmRhdGVfZGVmYXVsdF90aW1lem9uZV9zZXQoU2lsZW5jZXI6OmNhbGwoJ2RhdGVfZGVmYXVsdF90aW1lem9uZV9nZXQnKSk7Cn0KCmlmICghJHNodXRkb3duUmVnaXN0ZXJlZCkgewppZiAoZnVuY3Rpb25fZXhpc3RzKCdwY250bF9hc3luY19zaWduYWxzJykgJiYgZnVuY3Rpb25fZXhpc3RzKCdwY250bF9zaWduYWwnKSkgewpwY250bF9hc3luY19zaWduYWxzKHRydWUpOwpwY250bF9zaWduYWwoU0lHSU5ULCBmdW5jdGlvbiAoJHNpZykgewpleGl0KDEzMCk7Cn0pOwp9Cgokc2h1dGRvd25SZWdpc3RlcmVkID0gdHJ1ZTsKCnJlZ2lzdGVyX3NodXRkb3duX2Z1bmN0aW9uKGZ1bmN0aW9uICgpIHsKJGxhc3RFcnJvciA9IGVycm9yX2dldF9sYXN0KCk7CgppZiAoJGxhc3RFcnJvciAmJiAkbGFzdEVycm9yWydtZXNzYWdlJ10gJiYKKHN0cnBvcygkbGFzdEVycm9yWydtZXNzYWdlJ10sICdBbGxvd2VkIG1lbW9yeScpICE9PSBmYWxzZSAgfHwKc3RycG9zKCRsYXN0RXJyb3JbJ21lc3NhZ2UnXSwgJ2V4Y2VlZGVkIG1lbW9yeScpICE9PSBmYWxzZSApKSB7CmVjaG8gIlxuIi4gJ0NoZWNrIGh0dHBzOi8vZ2V0Y29tcG9zZXIub3JnL2RvYy9hcnRpY2xlcy90cm91Ymxlc2hvb3RpbmcubWQjbWVtb3J5LWxpbWl0LWVycm9ycyBmb3IgbW9yZSBpbmZvIG9uIGhvdyB0byBoYW5kbGUgb3V0IG9mIG1lbW9yeSBlcnJvcnMuJzsKfQp9KTsKfQoKJHRoaXMtPmlvID0gbmV3IE51bGxJTygpOwoKJHRoaXMtPmluaXRpYWxXb3JraW5nRGlyZWN0b3J5ID0gZ2V0Y3dkKCk7CgpwYXJlbnQ6Ol9fY29uc3RydWN0KCdDb21wb3NlcicsIENvbXBvc2VyOjpnZXRWZXJzaW9uKCkpOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gcnVuKElucHV0SW50ZXJmYWNlICRpbnB1dCA9IG51bGwsIE91dHB1dEludGVyZmFjZSAkb3V0cHV0ID0gbnVsbCkKewppZiAobnVsbCA9PT0gJG91dHB1dCkgewokb3V0cHV0ID0gRmFjdG9yeTo6Y3JlYXRlT3V0cHV0KCk7Cn0KCnJldHVybiBwYXJlbnQ6OnJ1bigkaW5wdXQsICRvdXRwdXQpOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gZG9SdW4oSW5wdXRJbnRlcmZhY2UgJGlucHV0LCBPdXRwdXRJbnRlcmZhY2UgJG91dHB1dCkKewokdGhpcy0+ZGlzYWJsZVBsdWdpbnNCeURlZmF1bHQgPSAkaW5wdXQtPmhhc1BhcmFtZXRlck9wdGlvbignLS1uby1wbHVnaW5zJyk7CgppZiAoZ2V0ZW52KCdDT01QT1NFUl9OT19JTlRFUkFDVElPTicpIHx8ICFQbGF0Zm9ybTo6aXNUdHkoZGVmaW5lZCgnU1RESU4nKSA/IFNURElOIDogZm9wZW4oJ3BocDovL3N0ZGluJywgJ3InKSkpIHsKJGlucHV0LT5zZXRJbnRlcmFjdGl2ZShmYWxzZSk7Cn0KCiRpbyA9ICR0aGlzLT5pbyA9IG5ldyBDb25zb2xlSU8oJGlucHV0LCAkb3V0cHV0LCBuZXcgSGVscGVyU2V0KGFycmF5KApuZXcgUXVlc3Rpb25IZWxwZXIoKSwKKSkpOwpFcnJvckhhbmRsZXI6OnJlZ2lzdGVyKCRpbyk7CgppZiAoJGlucHV0LT5oYXNQYXJhbWV0ZXJPcHRpb24oJy0tbm8tY2FjaGUnKSkgewokaW8tPndyaXRlRXJyb3IoJ0Rpc2FibGluZyBjYWNoZSB1c2FnZScsIHRydWUsIElPSW50ZXJmYWNlOjpERUJVRyk7ClBsYXRmb3JtOjpwdXRFbnYoJ0NPTVBPU0VSX0NBQ0hFX0RJUicsIFBsYXRmb3JtOjppc1dpbmRvd3MoKSA/ICdudWwnIDogJy9kZXYvbnVsbCcpOwp9CgoKaWYgKCRuZXdXb3JrRGlyID0gJHRoaXMtPmdldE5ld1dvcmtpbmdEaXIoJGlucHV0KSkgewokb2xkV29ya2luZ0RpciA9IGdldGN3ZCgpOwpjaGRpcigkbmV3V29ya0Rpcik7CiR0aGlzLT5pbml0aWFsV29ya2luZ0RpcmVjdG9yeSA9ICRuZXdXb3JrRGlyOwokaW8tPndyaXRlRXJyb3IoJ0NoYW5nZWQgQ1dEIHRvICcgLiBnZXRjd2QoKSwgdHJ1ZSwgSU9JbnRlcmZhY2U6OkRFQlVHKTsKfQoKCiRjb21tYW5kTmFtZSA9ICcnOwppZiAoJG5hbWUgPSAkdGhpcy0+Z2V0Q29tbWFuZE5hbWUoJGlucHV0KSkgewp0cnkgewokY29tbWFuZE5hbWUgPSAkdGhpcy0+ZmluZCgkbmFtZSktPmdldE5hbWUoKTsKfSBjYXRjaCAoQ29tbWFuZE5vdEZvdW5kRXhjZXB0aW9uICRlKSB7CgokY29tbWFuZE5hbWUgPSBmYWxzZTsKfSBjYXRjaCAoXEludmFsaWRBcmd1bWVudEV4Y2VwdGlvbiAkZSkgewp9Cn0KCgppZiAoJGlvLT5pc0ludGVyYWN0aXZlKCkgJiYgISRuZXdXb3JrRGlyICYmICFpbl9hcnJheSgkY29tbWFuZE5hbWUsIGFycmF5KCcnLCAnbGlzdCcsICdpbml0JywgJ2Fib3V0JywgJ2hlbHAnLCAnZGlhZ25vc2UnLCAnc2VsZi11cGRhdGUnLCAnZ2xvYmFsJywgJ2NyZWF0ZS1wcm9qZWN0JywgJ291dGRhdGVkJyksIHRydWUpICYmICFmaWxlX2V4aXN0cyhGYWN0b3J5OjpnZXRDb21wb3NlckZpbGUoKSkpIHsKJGRpciA9IGRpcm5hbWUoZ2V0Y3dkKCkpOwokaG9tZSA9IHJlYWxwYXRoKGdldGVudignSE9NRScpID86IGdldGVudignVVNFUlBST0ZJTEUnKSA/OiAnLycpOwoKCndoaWxlIChkaXJuYW1lKCRkaXIpICE9PSAkZGlyICYmICRkaXIgIT09ICRob21lKSB7CmlmIChmaWxlX2V4aXN0cygkZGlyLicvJy5GYWN0b3J5OjpnZXRDb21wb3NlckZpbGUoKSkpIHsKaWYgKCRpby0+YXNrQ29uZmlybWF0aW9uKCc8aW5mbz5ObyBjb21wb3Nlci5qc29uIGluIGN1cnJlbnQgZGlyZWN0b3J5LCBkbyB5b3Ugd2FudCB0byB1c2UgdGhlIG9uZSBhdCAnLiRkaXIuJz88L2luZm8+IFs8Y29tbWVudD5ZLG48L2NvbW1lbnQ+XT8gJykpIHsKJG9sZFdvcmtpbmdEaXIgPSBnZXRjd2QoKTsKY2hkaXIoJGRpcik7Cn0KYnJlYWs7Cn0KJGRpciA9IGRpcm5hbWUoJGRpcik7Cn0KfQoKaWYgKCEkdGhpcy0+ZGlzYWJsZVBsdWdpbnNCeURlZmF1bHQgJiYgISR0aGlzLT5oYXNQbHVnaW5Db21tYW5kcyAmJiAnZ2xvYmFsJyAhPT0gJGNvbW1hbmROYW1lKSB7CnRyeSB7CmZvcmVhY2ggKCR0aGlzLT5nZXRQbHVnaW5Db21tYW5kcygpIGFzICRjb21tYW5kKSB7CmlmICgkdGhpcy0+aGFzKCRjb21tYW5kLT5nZXROYW1lKCkpKSB7CiRpby0+d3JpdGVFcnJvcignPHdhcm5pbmc+UGx1Z2luIGNvbW1hbmQgJy4kY29tbWFuZC0+Z2V0TmFtZSgpLicgKCcuZ2V0X2NsYXNzKCRjb21tYW5kKS4nKSB3b3VsZCBvdmVycmlkZSBhIENvbXBvc2VyIGNvbW1hbmQgYW5kIGhhcyBiZWVuIHNraXBwZWQ8L3dhcm5pbmc+Jyk7Cn0gZWxzZSB7CiR0aGlzLT5hZGQoJGNvbW1hbmQpOwp9Cn0KfSBjYXRjaCAoTm9Tc2xFeGNlcHRpb24gJGUpIHsKCn0gY2F0Y2ggKFBhcnNpbmdFeGNlcHRpb24gJGUpIHsKJGRldGFpbHMgPSAkZS0+Z2V0RGV0YWlscygpOwoKJGZpbGUgPSByZWFscGF0aChGYWN0b3J5OjpnZXRDb21wb3NlckZpbGUoKSk7CgokbGluZSA9IG51bGw7CmlmICgkZGV0YWlscyAmJiBpc3NldCgkZGV0YWlsc1snbGluZSddKSkgewokbGluZSA9ICRkZXRhaWxzWydsaW5lJ107Cn0KCiRnaGUgPSBuZXcgR2l0aHViQWN0aW9uRXJyb3IoJHRoaXMtPmlvKTsKJGdoZS0+ZW1pdCgkZS0+Z2V0TWVzc2FnZSgpLCAkZmlsZSwgJGxpbmUpOwoKdGhyb3cgJGU7Cn0KCiR0aGlzLT5oYXNQbHVnaW5Db21tYW5kcyA9IHRydWU7Cn0KCgokaXNQcm94eUNvbW1hbmQgPSBmYWxzZTsKaWYgKCRuYW1lID0gJHRoaXMtPmdldENvbW1hbmROYW1lKCRpbnB1dCkpIHsKdHJ5IHsKJGNvbW1hbmQgPSAkdGhpcy0+ZmluZCgkbmFtZSk7CiRjb21tYW5kTmFtZSA9ICRjb21tYW5kLT5nZXROYW1lKCk7CiRpc1Byb3h5Q29tbWFuZCA9ICgkY29tbWFuZCBpbnN0YW5jZW9mIENvbW1hbmRcQmFzZUNvbW1hbmQgJiYgJGNvbW1hbmQtPmlzUHJveHlDb21tYW5kKCkpOwp9IGNhdGNoIChcSW52YWxpZEFyZ3VtZW50RXhjZXB0aW9uICRlKSB7Cn0KfQoKaWYgKCEkaXNQcm94eUNvbW1hbmQpIHsKJGlvLT53cml0ZUVycm9yKHNwcmludGYoCidSdW5uaW5nICVzICglcykgd2l0aCAlcyBvbiAlcycsCkNvbXBvc2VyOjpnZXRWZXJzaW9uKCksCkNvbXBvc2VyOjpSRUxFQVNFX0RBVEUsCmRlZmluZWQoJ0hIVk1fVkVSU0lPTicpID8gJ0hIVk0gJy5ISFZNX1ZFUlNJT04gOiAnUEhQICcuUEhQX1ZFUlNJT04sCmZ1bmN0aW9uX2V4aXN0cygncGhwX3VuYW1lJykgPyBwaHBfdW5hbWUoJ3MnKSAuICcgLyAnIC4gcGhwX3VuYW1lKCdyJykgOiAnVW5rbm93biBPUycKKSwgdHJ1ZSwgSU9JbnRlcmZhY2U6OkRFQlVHKTsKCmlmIChQSFBfVkVSU0lPTl9JRCA8IDUwMzAyKSB7CiRpby0+d3JpdGVFcnJvcignPHdhcm5pbmc+Q29tcG9zZXIgb25seSBvZmZpY2lhbGx5IHN1cHBvcnRzIFBIUCA1LjMuMiBhbmQgYWJvdmUsIHlvdSB3aWxsIG1vc3QgbGlrZWx5IGVuY291bnRlciBwcm9ibGVtcyB3aXRoIHlvdXIgUEhQICcuUEhQX1ZFUlNJT04uJywgdXBncmFkaW5nIGlzIHN0cm9uZ2x5IHJlY29tbWVuZGVkLjwvd2FybmluZz4nKTsKfQoKaWYgKFhkZWJ1Z0hhbmRsZXI6OmlzWGRlYnVnQWN0aXZlKCkgJiYgIWdldGVudignQ09NUE9TRVJfRElTQUJMRV9YREVCVUdfV0FSTicpKSB7CiRpby0+d3JpdGVFcnJvcignPHdhcm5pbmc+Q29tcG9zZXIgaXMgb3BlcmF0aW5nIHNsb3dlciB0aGFuIG5vcm1hbCBiZWNhdXNlIHlvdSBoYXZlIFhkZWJ1ZyBlbmFibGVkLiBTZWUgaHR0cHM6Ly9nZXRjb21wb3Nlci5vcmcveGRlYnVnPC93YXJuaW5nPicpOwp9CgppZiAoZGVmaW5lZCgnQ09NUE9TRVJfREVWX1dBUk5JTkdfVElNRScpICYmICRjb21tYW5kTmFtZSAhPT0gJ3NlbGYtdXBkYXRlJyAmJiAkY29tbWFuZE5hbWUgIT09ICdzZWxmdXBkYXRlJyAmJiB0aW1lKCkgPiBDT01QT1NFUl9ERVZfV0FSTklOR19USU1FKSB7CiRpby0+d3JpdGVFcnJvcihzcHJpbnRmKCc8d2FybmluZz5XYXJuaW5nOiBUaGlzIGRldmVsb3BtZW50IGJ1aWxkIG9mIENvbXBvc2VyIGlzIG92ZXIgNjAgZGF5cyBvbGQuIEl0IGlzIHJlY29tbWVuZGVkIHRvIHVwZGF0ZSBpdCBieSBydW5uaW5nICIlcyBzZWxmLXVwZGF0ZSIgdG8gZ2V0IHRoZSBsYXRlc3QgdmVyc2lvbi48L3dhcm5pbmc+JywgJF9TRVJWRVJbJ1BIUF9TRUxGJ10pKTsKfQoKaWYgKAohUGxhdGZvcm06OmlzV2luZG93cygpCiYmIGZ1bmN0aW9uX2V4aXN0cygnZXhlYycpCiYmICFnZXRlbnYoJ0NPTVBPU0VSX0FMTE9XX1NVUEVSVVNFUicpCiYmIChpbmlfZ2V0KCdvcGVuX2Jhc2VkaXInKSB8fCAhZmlsZV9leGlzdHMoJy8uZG9ja2VyZW52JykpCikgewppZiAoZnVuY3Rpb25fZXhpc3RzKCdwb3NpeF9nZXR1aWQnKSAmJiBwb3NpeF9nZXR1aWQoKSA9PT0gMCkgewppZiAoJGNvbW1hbmROYW1lICE9PSAnc2VsZi11cGRhdGUnICYmICRjb21tYW5kTmFtZSAhPT0gJ3NlbGZ1cGRhdGUnKSB7CiRpby0+d3JpdGVFcnJvcignPHdhcm5pbmc+RG8gbm90IHJ1biBDb21wb3NlciBhcyByb290L3N1cGVyIHVzZXIhIFNlZSBodHRwczovL2dldGNvbXBvc2VyLm9yZy9yb290IGZvciBkZXRhaWxzPC93YXJuaW5nPicpOwoKaWYgKCRpby0+aXNJbnRlcmFjdGl2ZSgpKSB7CmlmICghJGlvLT5hc2tDb25maXJtYXRpb24oJzxpbmZvPkNvbnRpbnVlIGFzIHJvb3Qvc3VwZXIgdXNlcjwvaW5mbz4gWzxjb21tZW50PnllczwvY29tbWVudD5dPyAnKSkgewpyZXR1cm4gMTsKfQp9Cn0KaWYgKCR1aWQgPSAoaW50KSBnZXRlbnYoJ1NVRE9fVUlEJykpIHsKCgpTaWxlbmNlcjo6Y2FsbCgnZXhlYycsICJzdWRvIC11IFxcI3skdWlkfSBzdWRvIC1LID4gL2Rldi9udWxsIDI+JjEiKTsKfQp9CgpTaWxlbmNlcjo6Y2FsbCgnZXhlYycsICdzdWRvIC1LID4gL2Rldi9udWxsIDI+JjEnKTsKfQoKClNpbGVuY2VyOjpjYWxsKGZ1bmN0aW9uICgpIHVzZSAoJGlvKSB7CiR0ZW1wZmlsZSA9IHN5c19nZXRfdGVtcF9kaXIoKSAuICcvdGVtcC0nIC4gbWQ1KG1pY3JvdGltZSgpKTsKaWYgKCEoZmlsZV9wdXRfY29udGVudHMoJHRlbXBmaWxlLCBfX0ZJTEVfXykgJiYgKGZpbGVfZ2V0X2NvbnRlbnRzKCR0ZW1wZmlsZSkgPT0gX19GSUxFX18pICYmIHVubGluaygkdGVtcGZpbGUpICYmICFmaWxlX2V4aXN0cygkdGVtcGZpbGUpKSkgewokaW8tPndyaXRlRXJyb3Ioc3ByaW50ZignPGVycm9yPlBIUCB0ZW1wIGRpcmVjdG9yeSAoJXMpIGRvZXMgbm90IGV4aXN0IG9yIGlzIG5vdCB3cml0YWJsZSB0byBDb21wb3Nlci4gU2V0IHN5c190ZW1wX2RpciBpbiB5b3VyIHBocC5pbmk8L2Vycm9yPicsIHN5c19nZXRfdGVtcF9kaXIoKSkpOwp9Cn0pOwoKCiRmaWxlID0gRmFjdG9yeTo6Z2V0Q29tcG9zZXJGaWxlKCk7CmlmIChpc19maWxlKCRmaWxlKSAmJiBGaWxlc3lzdGVtOjppc1JlYWRhYmxlKCRmaWxlKSAmJiBpc19hcnJheSgkY29tcG9zZXIgPSBqc29uX2RlY29kZShmaWxlX2dldF9jb250ZW50cygkZmlsZSksIHRydWUpKSkgewppZiAoaXNzZXQoJGNvbXBvc2VyWydzY3JpcHRzJ10pICYmIGlzX2FycmF5KCRjb21wb3Nlclsnc2NyaXB0cyddKSkgewpmb3JlYWNoICgkY29tcG9zZXJbJ3NjcmlwdHMnXSBhcyAkc2NyaXB0ID0+ICRkdW1teSkgewppZiAoIWRlZmluZWQoJ0NvbXBvc2VyXFNjcmlwdFxTY3JpcHRFdmVudHM6Oicuc3RyX3JlcGxhY2UoJy0nLCAnXycsIHN0cnRvdXBwZXIoJHNjcmlwdCkpKSkgewppZiAoJHRoaXMtPmhhcygkc2NyaXB0KSkgewokaW8tPndyaXRlRXJyb3IoJzx3YXJuaW5nPkEgc2NyaXB0IG5hbWVkICcuJHNjcmlwdC4nIHdvdWxkIG92ZXJyaWRlIGEgQ29tcG9zZXIgY29tbWFuZCBhbmQgaGFzIGJlZW4gc2tpcHBlZDwvd2FybmluZz4nKTsKfSBlbHNlIHsKJGRlc2NyaXB0aW9uID0gbnVsbDsKCmlmIChpc3NldCgkY29tcG9zZXJbJ3NjcmlwdHMtZGVzY3JpcHRpb25zJ11bJHNjcmlwdF0pKSB7CiRkZXNjcmlwdGlvbiA9ICRjb21wb3Nlclsnc2NyaXB0cy1kZXNjcmlwdGlvbnMnXVskc2NyaXB0XTsKfQoKJHRoaXMtPmFkZChuZXcgQ29tbWFuZFxTY3JpcHRBbGlhc0NvbW1hbmQoJHNjcmlwdCwgJGRlc2NyaXB0aW9uKSk7Cn0KfQp9Cn0KfQp9Cgp0cnkgewppZiAoJGlucHV0LT5oYXNQYXJhbWV0ZXJPcHRpb24oJy0tcHJvZmlsZScpKSB7CiRzdGFydFRpbWUgPSBtaWNyb3RpbWUodHJ1ZSk7CiR0aGlzLT5pby0+ZW5hYmxlRGVidWdnaW5nKCRzdGFydFRpbWUpOwp9CgokcmVzdWx0ID0gcGFyZW50Ojpkb1J1bigkaW5wdXQsICRvdXRwdXQpOwoKCmlmIChpc3NldCgkb2xkV29ya2luZ0RpcikpIHsKU2lsZW5jZXI6OmNhbGwoJ2NoZGlyJywgJG9sZFdvcmtpbmdEaXIpOwp9CgppZiAoaXNzZXQoJHN0YXJ0VGltZSkpIHsKJGlvLT53cml0ZUVycm9yKCc8aW5mbz5NZW1vcnkgdXNhZ2U6ICcucm91bmQobWVtb3J5X2dldF91c2FnZSgpIC8gMTAyNCAvIDEwMjQsIDIpLidNaUIgKHBlYWs6ICcucm91bmQobWVtb3J5X2dldF9wZWFrX3VzYWdlKCkgLyAxMDI0IC8gMTAyNCwgMikuJ01pQiksIHRpbWU6ICcucm91bmQobWljcm90aW1lKHRydWUpIC0gJHN0YXJ0VGltZSwgMikuJ3MnKTsKfQoKcmVzdG9yZV9lcnJvcl9oYW5kbGVyKCk7CgpyZXR1cm4gJHJlc3VsdDsKfSBjYXRjaCAoU2NyaXB0RXhlY3V0aW9uRXhjZXB0aW9uICRlKSB7CnJldHVybiAoaW50KSAkZS0+Z2V0Q29kZSgpOwp9IGNhdGNoIChcRXhjZXB0aW9uICRlKSB7CiRnaGUgPSBuZXcgR2l0aHViQWN0aW9uRXJyb3IoJHRoaXMtPmlvKTsKJGdoZS0+ZW1pdCgkZS0+Z2V0TWVzc2FnZSgpKTsKCiR0aGlzLT5oaW50Q29tbW9uRXJyb3JzKCRlKTsKCnJlc3RvcmVfZXJyb3JfaGFuZGxlcigpOwoKdGhyb3cgJGU7Cn0KfQoKCgoKCgpwcml2YXRlIGZ1bmN0aW9uIGdldE5ld1dvcmtpbmdEaXIoSW5wdXRJbnRlcmZhY2UgJGlucHV0KQp7CiR3b3JraW5nRGlyID0gJGlucHV0LT5nZXRQYXJhbWV0ZXJPcHRpb24oYXJyYXkoJy0td29ya2luZy1kaXInLCAnLWQnKSk7CmlmIChmYWxzZSAhPT0gJHdvcmtpbmdEaXIgJiYgIWlzX2Rpcigkd29ya2luZ0RpcikpIHsKdGhyb3cgbmV3IFxSdW50aW1lRXhjZXB0aW9uKCdJbnZhbGlkIHdvcmtpbmcgZGlyZWN0b3J5IHNwZWNpZmllZCwgJy4kd29ya2luZ0Rpci4nIGRvZXMgbm90IGV4aXN0LicpOwp9CgpyZXR1cm4gJHdvcmtpbmdEaXI7Cn0KCgoKCnByaXZhdGUgZnVuY3Rpb24gaGludENvbW1vbkVycm9ycygkZXhjZXB0aW9uKQp7CiRpbyA9ICR0aGlzLT5nZXRJTygpOwoKU2lsZW5jZXI6OnN1cHByZXNzKCk7CnRyeSB7CiRjb21wb3NlciA9ICR0aGlzLT5nZXRDb21wb3NlcihmYWxzZSwgdHJ1ZSk7CmlmICgkY29tcG9zZXIpIHsKJGNvbmZpZyA9ICRjb21wb3Nlci0+Z2V0Q29uZmlnKCk7CgokbWluU3BhY2VGcmVlID0gMTAyNCAqIDEwMjQ7CmlmICgoKCRkZiA9IGRpc2tfZnJlZV9zcGFjZSgkZGlyID0gJGNvbmZpZy0+Z2V0KCdob21lJykpKSAhPT0gZmFsc2UgJiYgJGRmIDwgJG1pblNwYWNlRnJlZSkKfHwgKCgkZGYgPSBkaXNrX2ZyZWVfc3BhY2UoJGRpciA9ICRjb25maWctPmdldCgndmVuZG9yLWRpcicpKSkgIT09IGZhbHNlICYmICRkZiA8ICRtaW5TcGFjZUZyZWUpCnx8ICgoJGRmID0gZGlza19mcmVlX3NwYWNlKCRkaXIgPSBzeXNfZ2V0X3RlbXBfZGlyKCkpKSAhPT0gZmFsc2UgJiYgJGRmIDwgJG1pblNwYWNlRnJlZSkKKSB7CiRpby0+d3JpdGVFcnJvcignPGVycm9yPlRoZSBkaXNrIGhvc3RpbmcgJy4kZGlyLicgaXMgZnVsbCwgdGhpcyBtYXkgYmUgdGhlIGNhdXNlIG9mIHRoZSBmb2xsb3dpbmcgZXhjZXB0aW9uPC9lcnJvcj4nLCB0cnVlLCBJT0ludGVyZmFjZTo6UVVJRVQpOwp9Cn0KfSBjYXRjaCAoXEV4Y2VwdGlvbiAkZSkgewp9ClNpbGVuY2VyOjpyZXN0b3JlKCk7CgppZiAoUGxhdGZvcm06OmlzV2luZG93cygpICYmIGZhbHNlICE9PSBzdHJwb3MoJGV4Y2VwdGlvbi0+Z2V0TWVzc2FnZSgpLCAnVGhlIHN5c3RlbSBjYW5ub3QgZmluZCB0aGUgcGF0aCBzcGVjaWZpZWQnKSkgewokaW8tPndyaXRlRXJyb3IoJzxlcnJvcj5UaGUgZm9sbG93aW5nIGV4Y2VwdGlvbiBtYXkgYmUgY2F1c2VkIGJ5IGEgc3RhbGUgZW50cnkgaW4geW91ciBjbWQuZXhlIEF1dG9SdW48L2Vycm9yPicsIHRydWUsIElPSW50ZXJmYWNlOjpRVUlFVCk7CiRpby0+d3JpdGVFcnJvcignPGVycm9yPkNoZWNrIGh0dHBzOi8vZ2V0Y29tcG9zZXIub3JnL2RvYy9hcnRpY2xlcy90cm91Ymxlc2hvb3RpbmcubWQjLXRoZS1zeXN0ZW0tY2Fubm90LWZpbmQtdGhlLXBhdGgtc3BlY2lmaWVkLXdpbmRvd3MtIGZvciBkZXRhaWxzPC9lcnJvcj4nLCB0cnVlLCBJT0ludGVyZmFjZTo6UVVJRVQpOwp9CgppZiAoZmFsc2UgIT09IHN0cnBvcygkZXhjZXB0aW9uLT5nZXRNZXNzYWdlKCksICdmb3JrIGZhaWxlZCAtIENhbm5vdCBhbGxvY2F0ZSBtZW1vcnknKSkgewokaW8tPndyaXRlRXJyb3IoJzxlcnJvcj5UaGUgZm9sbG93aW5nIGV4Y2VwdGlvbiBpcyBjYXVzZWQgYnkgYSBsYWNrIG9mIG1lbW9yeSBvciBzd2FwLCBvciBub3QgaGF2aW5nIHN3YXAgY29uZmlndXJlZDwvZXJyb3I+JywgdHJ1ZSwgSU9JbnRlcmZhY2U6OlFVSUVUKTsKJGlvLT53cml0ZUVycm9yKCc8ZXJyb3I+Q2hlY2sgaHR0cHM6Ly9nZXRjb21wb3Nlci5vcmcvZG9jL2FydGljbGVzL3Ryb3VibGVzaG9vdGluZy5tZCNwcm9jLW9wZW4tZm9yay1mYWlsZWQtZXJyb3JzIGZvciBkZXRhaWxzPC9lcnJvcj4nLCB0cnVlLCBJT0ludGVyZmFjZTo6UVVJRVQpOwp9CgppZiAoJGV4Y2VwdGlvbiBpbnN0YW5jZW9mIFByb2Nlc3NUaW1lZE91dEV4Y2VwdGlvbikgewokaW8tPndyaXRlRXJyb3IoJzxlcnJvcj5UaGUgZm9sbG93aW5nIGV4Y2VwdGlvbiBpcyBjYXVzZWQgYnkgYSBwcm9jZXNzIHRpbWVvdXQ8L2Vycm9yPicsIHRydWUsIElPSW50ZXJmYWNlOjpRVUlFVCk7CiRpby0+d3JpdGVFcnJvcignPGVycm9yPkNoZWNrIGh0dHBzOi8vZ2V0Y29tcG9zZXIub3JnL2RvYy8wNi1jb25maWcubWQjcHJvY2Vzcy10aW1lb3V0IGZvciBkZXRhaWxzPC9lcnJvcj4nLCB0cnVlLCBJT0ludGVyZmFjZTo6UVVJRVQpOwp9CgppZiAoJGhpbnRzID0gSHR0cERvd25sb2FkZXI6OmdldEV4Y2VwdGlvbkhpbnRzKCRleGNlcHRpb24pKSB7CmZvcmVhY2ggKCRoaW50cyBhcyAkaGludCkgewokaW8tPndyaXRlRXJyb3IoJGhpbnQsIHRydWUsIElPSW50ZXJmYWNlOjpRVUlFVCk7Cn0KfQp9CgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0Q29tcG9zZXIoJHJlcXVpcmVkID0gdHJ1ZSwgJGRpc2FibGVQbHVnaW5zID0gbnVsbCkKewppZiAobnVsbCA9PT0gJGRpc2FibGVQbHVnaW5zKSB7CiRkaXNhYmxlUGx1Z2lucyA9ICR0aGlzLT5kaXNhYmxlUGx1Z2luc0J5RGVmYXVsdDsKfQoKaWYgKG51bGwgPT09ICR0aGlzLT5jb21wb3Nlcikgewp0cnkgewokdGhpcy0+Y29tcG9zZXIgPSBGYWN0b3J5OjpjcmVhdGUoJHRoaXMtPmlvLCBudWxsLCAkZGlzYWJsZVBsdWdpbnMpOwp9IGNhdGNoIChcSW52YWxpZEFyZ3VtZW50RXhjZXB0aW9uICRlKSB7CmlmICgkcmVxdWlyZWQpIHsKJHRoaXMtPmlvLT53cml0ZUVycm9yKCRlLT5nZXRNZXNzYWdlKCkpOwpleGl0KDEpOwp9Cn0gY2F0Y2ggKEpzb25WYWxpZGF0aW9uRXhjZXB0aW9uICRlKSB7CiRlcnJvcnMgPSAnIC0gJyAuIGltcGxvZGUoUEhQX0VPTCAuICcgLSAnLCAkZS0+Z2V0RXJyb3JzKCkpOwokbWVzc2FnZSA9ICRlLT5nZXRNZXNzYWdlKCkgLiAnOicgLiBQSFBfRU9MIC4gJGVycm9yczsKdGhyb3cgbmV3IEpzb25WYWxpZGF0aW9uRXhjZXB0aW9uKCRtZXNzYWdlKTsKfQp9CgpyZXR1cm4gJHRoaXMtPmNvbXBvc2VyOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gcmVzZXRDb21wb3NlcigpCnsKJHRoaXMtPmNvbXBvc2VyID0gbnVsbDsKaWYgKCR0aGlzLT5nZXRJTygpICYmIG1ldGhvZF9leGlzdHMoJHRoaXMtPmdldElPKCksICdyZXNldEF1dGhlbnRpY2F0aW9ucycpKSB7CiR0aGlzLT5nZXRJTygpLT5yZXNldEF1dGhlbnRpY2F0aW9ucygpOwp9Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBnZXRJTygpCnsKcmV0dXJuICR0aGlzLT5pbzsKfQoKcHVibGljIGZ1bmN0aW9uIGdldEhlbHAoKQp7CnJldHVybiBzZWxmOjokbG9nbyAuIHBhcmVudDo6Z2V0SGVscCgpOwp9CgoKCgpwcm90ZWN0ZWQgZnVuY3Rpb24gZ2V0RGVmYXVsdENvbW1hbmRzKCkKewokY29tbWFuZHMgPSBhcnJheV9tZXJnZShwYXJlbnQ6OmdldERlZmF1bHRDb21tYW5kcygpLCBhcnJheSgKbmV3IENvbW1hbmRcQWJvdXRDb21tYW5kKCksCm5ldyBDb21tYW5kXENvbmZpZ0NvbW1hbmQoKSwKbmV3IENvbW1hbmRcRGVwZW5kc0NvbW1hbmQoKSwKbmV3IENvbW1hbmRcUHJvaGliaXRzQ29tbWFuZCgpLApuZXcgQ29tbWFuZFxJbml0Q29tbWFuZCgpLApuZXcgQ29tbWFuZFxJbnN0YWxsQ29tbWFuZCgpLApuZXcgQ29tbWFuZFxDcmVhdGVQcm9qZWN0Q29tbWFuZCgpLApuZXcgQ29tbWFuZFxVcGRhdGVDb21tYW5kKCksCm5ldyBDb21tYW5kXFNlYXJjaENvbW1hbmQoKSwKbmV3IENvbW1hbmRcVmFsaWRhdGVDb21tYW5kKCksCm5ldyBDb21tYW5kXFNob3dDb21tYW5kKCksCm5ldyBDb21tYW5kXFN1Z2dlc3RzQ29tbWFuZCgpLApuZXcgQ29tbWFuZFxSZXF1aXJlQ29tbWFuZCgpLApuZXcgQ29tbWFuZFxEdW1wQXV0b2xvYWRDb21tYW5kKCksCm5ldyBDb21tYW5kXFN0YXR1c0NvbW1hbmQoKSwKbmV3IENvbW1hbmRcQXJjaGl2ZUNvbW1hbmQoKSwKbmV3IENvbW1hbmRcRGlhZ25vc2VDb21tYW5kKCksCm5ldyBDb21tYW5kXFJ1blNjcmlwdENvbW1hbmQoKSwKbmV3IENvbW1hbmRcTGljZW5zZXNDb21tYW5kKCksCm5ldyBDb21tYW5kXEdsb2JhbENvbW1hbmQoKSwKbmV3IENvbW1hbmRcQ2xlYXJDYWNoZUNvbW1hbmQoKSwKbmV3IENvbW1hbmRcUmVtb3ZlQ29tbWFuZCgpLApuZXcgQ29tbWFuZFxIb21lQ29tbWFuZCgpLApuZXcgQ29tbWFuZFxFeGVjQ29tbWFuZCgpLApuZXcgQ29tbWFuZFxPdXRkYXRlZENvbW1hbmQoKSwKbmV3IENvbW1hbmRcQ2hlY2tQbGF0Zm9ybVJlcXNDb21tYW5kKCksCm5ldyBDb21tYW5kXEZ1bmRDb21tYW5kKCksCm5ldyBDb21tYW5kXFJlaW5zdGFsbENvbW1hbmQoKSwKKSk7CgppZiAoc3RycG9zKF9fRklMRV9fLCAncGhhcjonKSA9PT0gMCkgewokY29tbWFuZHNbXSA9IG5ldyBDb21tYW5kXFNlbGZVcGRhdGVDb21tYW5kKCk7Cn0KCnJldHVybiAkY29tbWFuZHM7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBnZXRMb25nVmVyc2lvbigpCnsKaWYgKENvbXBvc2VyOjpCUkFOQ0hfQUxJQVNfVkVSU0lPTiAmJiBDb21wb3Nlcjo6QlJBTkNIX0FMSUFTX1ZFUlNJT04gIT09ICdAcGFja2FnZV9icmFuY2hfYWxpYXNfdmVyc2lvbicuJ0AnKSB7CnJldHVybiBzcHJpbnRmKAonPGluZm8+JXM8L2luZm8+IHZlcnNpb24gPGNvbW1lbnQ+JXMgKCVzKTwvY29tbWVudD4gJXMnLAokdGhpcy0+Z2V0TmFtZSgpLApDb21wb3Nlcjo6QlJBTkNIX0FMSUFTX1ZFUlNJT04sCiR0aGlzLT5nZXRWZXJzaW9uKCksCkNvbXBvc2VyOjpSRUxFQVNFX0RBVEUKKTsKfQoKcmV0dXJuIHBhcmVudDo6Z2V0TG9uZ1ZlcnNpb24oKSAuICcgJyAuIENvbXBvc2VyOjpSRUxFQVNFX0RBVEU7Cn0KCgoKCnByb3RlY3RlZCBmdW5jdGlvbiBnZXREZWZhdWx0SW5wdXREZWZpbml0aW9uKCkKewokZGVmaW5pdGlvbiA9IHBhcmVudDo6Z2V0RGVmYXVsdElucHV0RGVmaW5pdGlvbigpOwokZGVmaW5pdGlvbi0+YWRkT3B0aW9uKG5ldyBJbnB1dE9wdGlvbignLS1wcm9maWxlJywgbnVsbCwgSW5wdXRPcHRpb246OlZBTFVFX05PTkUsICdEaXNwbGF5IHRpbWluZyBhbmQgbWVtb3J5IHVzYWdlIGluZm9ybWF0aW9uJykpOwokZGVmaW5pdGlvbi0+YWRkT3B0aW9uKG5ldyBJbnB1dE9wdGlvbignLS1uby1wbHVnaW5zJywgbnVsbCwgSW5wdXRPcHRpb246OlZBTFVFX05PTkUsICdXaGV0aGVyIHRvIGRpc2FibGUgcGx1Z2lucy4nKSk7CiRkZWZpbml0aW9uLT5hZGRPcHRpb24obmV3IElucHV0T3B0aW9uKCctLXdvcmtpbmctZGlyJywgJy1kJywgSW5wdXRPcHRpb246OlZBTFVFX1JFUVVJUkVELCAnSWYgc3BlY2lmaWVkLCB1c2UgdGhlIGdpdmVuIGRpcmVjdG9yeSBhcyB3b3JraW5nIGRpcmVjdG9yeS4nKSk7CiRkZWZpbml0aW9uLT5hZGRPcHRpb24obmV3IElucHV0T3B0aW9uKCctLW5vLWNhY2hlJywgbnVsbCwgSW5wdXRPcHRpb246OlZBTFVFX05PTkUsICdQcmV2ZW50IHVzZSBvZiB0aGUgY2FjaGUnKSk7CgpyZXR1cm4gJGRlZmluaXRpb247Cn0KCnByaXZhdGUgZnVuY3Rpb24gZ2V0UGx1Z2luQ29tbWFuZHMoKQp7CiRjb21tYW5kcyA9IGFycmF5KCk7CgokY29tcG9zZXIgPSAkdGhpcy0+Z2V0Q29tcG9zZXIoZmFsc2UsIGZhbHNlKTsKaWYgKG51bGwgPT09ICRjb21wb3NlcikgewokY29tcG9zZXIgPSBGYWN0b3J5OjpjcmVhdGVHbG9iYWwoJHRoaXMtPmlvKTsKfQoKaWYgKG51bGwgIT09ICRjb21wb3NlcikgewokcG0gPSAkY29tcG9zZXItPmdldFBsdWdpbk1hbmFnZXIoKTsKZm9yZWFjaCAoJHBtLT5nZXRQbHVnaW5DYXBhYmlsaXRpZXMoJ0NvbXBvc2VyXFBsdWdpblxDYXBhYmlsaXR5XENvbW1hbmRQcm92aWRlcicsIGFycmF5KCdjb21wb3NlcicgPT4gJGNvbXBvc2VyLCAnaW8nID0+ICR0aGlzLT5pbykpIGFzICRjYXBhYmlsaXR5KSB7CiRuZXdDb21tYW5kcyA9ICRjYXBhYmlsaXR5LT5nZXRDb21tYW5kcygpOwppZiAoIWlzX2FycmF5KCRuZXdDb21tYW5kcykpIHsKdGhyb3cgbmV3IFxVbmV4cGVjdGVkVmFsdWVFeGNlcHRpb24oJ1BsdWdpbiBjYXBhYmlsaXR5ICcuZ2V0X2NsYXNzKCRjYXBhYmlsaXR5KS4nIGZhaWxlZCB0byByZXR1cm4gYW4gYXJyYXkgZnJvbSBnZXRDb21tYW5kcycpOwp9CmZvcmVhY2ggKCRuZXdDb21tYW5kcyBhcyAkY29tbWFuZCkgewppZiAoISRjb21tYW5kIGluc3RhbmNlb2YgQ29tbWFuZFxCYXNlQ29tbWFuZCkgewp0aHJvdyBuZXcgXFVuZXhwZWN0ZWRWYWx1ZUV4Y2VwdGlvbignUGx1Z2luIGNhcGFiaWxpdHkgJy5nZXRfY2xhc3MoJGNhcGFiaWxpdHkpLicgcmV0dXJuZWQgYW4gaW52YWxpZCB2YWx1ZSwgd2UgZXhwZWN0ZWQgYW4gYXJyYXkgb2YgQ29tcG9zZXJcQ29tbWFuZFxCYXNlQ29tbWFuZCBvYmplY3RzJyk7Cn0KfQokY29tbWFuZHMgPSBhcnJheV9tZXJnZSgkY29tbWFuZHMsICRuZXdDb21tYW5kcyk7Cn0KfQoKcmV0dXJuICRjb21tYW5kczsKfQoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0SW5pdGlhbFdvcmtpbmdEaXJlY3RvcnkoKQp7CnJldHVybiAkdGhpcy0+aW5pdGlhbFdvcmtpbmdEaXJlY3Rvcnk7Cn0KfQo8P3BocAoKCgoKCgoKCgoKCm5hbWVzcGFjZSBDb21wb3NlclxDb25zb2xlOwoKdXNlIENvbXBvc2VyXElPXElPSW50ZXJmYWNlOwoKZmluYWwgY2xhc3MgR2l0aHViQWN0aW9uRXJyb3IKewoKCgpwcm90ZWN0ZWQgJGlvOwoKcHVibGljIGZ1bmN0aW9uIF9fY29uc3RydWN0KElPSW50ZXJmYWNlICRpbykKewokdGhpcy0+aW8gPSAkaW87Cn0KCgoKCgoKcHVibGljIGZ1bmN0aW9uIGVtaXQoJG1lc3NhZ2UsICRmaWxlID0gbnVsbCwgJGxpbmUgPSBudWxsKQp7CmlmIChnZXRlbnYoJ0dJVEhVQl9BQ1RJT05TJykgJiYgIWdldGVudignQ09NUE9TRVJfVEVTVFNfQVJFX1JVTk5JTkcnKSkgewoKCiRtZXNzYWdlID0gc3RyX3JlcGxhY2UoIlxuIiwgJyUwQScsICRtZXNzYWdlKTsKCmlmICgkZmlsZSAmJiAkbGluZSkgewokdGhpcy0+aW8tPndyaXRlKCI6OmVycm9yIGZpbGU9Ii4gJGZpbGUgLiIsbGluZT0iLiAkbGluZSAuIjo6Ii4gJG1lc3NhZ2UpOwp9IGVsc2VpZiAoJGZpbGUpIHsKJHRoaXMtPmlvLT53cml0ZSgiOjplcnJvciBmaWxlPSIuICRmaWxlIC4iOjoiLiAkbWVzc2FnZSk7Cn0gZWxzZSB7CiR0aGlzLT5pby0+d3JpdGUoIjo6ZXJyb3IgOjoiLiAkbWVzc2FnZSk7Cn0KfQp9Cn0KPD9waHAKCgoKCgoKCgoKCgpuYW1lc3BhY2UgQ29tcG9zZXJcQ29uc29sZTsKCnVzZSBTeW1mb255XENvbXBvbmVudFxDb25zb2xlXEZvcm1hdHRlclxPdXRwdXRGb3JtYXR0ZXI7CgoKCgpjbGFzcyBIdG1sT3V0cHV0Rm9ybWF0dGVyIGV4dGVuZHMgT3V0cHV0Rm9ybWF0dGVyCnsKcHJpdmF0ZSBzdGF0aWMgJGF2YWlsYWJsZUZvcmVncm91bmRDb2xvcnMgPSBhcnJheSgKMzAgPT4gJ2JsYWNrJywKMzEgPT4gJ3JlZCcsCjMyID0+ICdncmVlbicsCjMzID0+ICd5ZWxsb3cnLAozNCA9PiAnYmx1ZScsCjM1ID0+ICdtYWdlbnRhJywKMzYgPT4gJ2N5YW4nLAozNyA9PiAnd2hpdGUnLAopOwpwcml2YXRlIHN0YXRpYyAkYXZhaWxhYmxlQmFja2dyb3VuZENvbG9ycyA9IGFycmF5KAo0MCA9PiAnYmxhY2snLAo0MSA9PiAncmVkJywKNDIgPT4gJ2dyZWVuJywKNDMgPT4gJ3llbGxvdycsCjQ0ID0+ICdibHVlJywKNDUgPT4gJ21hZ2VudGEnLAo0NiA9PiAnY3lhbicsCjQ3ID0+ICd3aGl0ZScsCik7CnByaXZhdGUgc3RhdGljICRhdmFpbGFibGVPcHRpb25zID0gYXJyYXkoCjEgPT4gJ2JvbGQnLAo0ID0+ICd1bmRlcnNjb3JlJywKCgoKKTsKCgoKCnB1YmxpYyBmdW5jdGlvbiBfX2NvbnN0cnVjdChhcnJheSAkc3R5bGVzID0gYXJyYXkoKSkKewpwYXJlbnQ6Ol9fY29uc3RydWN0KHRydWUsICRzdHlsZXMpOwp9CgpwdWJsaWMgZnVuY3Rpb24gZm9ybWF0KCRtZXNzYWdlKQp7CiRmb3JtYXR0ZWQgPSBwYXJlbnQ6OmZvcm1hdCgkbWVzc2FnZSk7CgokY2xlYXJFc2NhcGVDb2RlcyA9ICcoPzozOXw0OXwwfDIyfDI0fDI1fDI3fDI4KSc7CgpyZXR1cm4gcHJlZ19yZXBsYWNlX2NhbGxiYWNrKCJ7XDAzM1xbKFswLTk7XSspbSguKj8pXDAzM1xbKD86Ii4kY2xlYXJFc2NhcGVDb2Rlcy4iOykqPyIuJGNsZWFyRXNjYXBlQ29kZXMuIm19cyIsIGFycmF5KCR0aGlzLCAnZm9ybWF0SHRtbCcpLCAkZm9ybWF0dGVkKTsKfQoKcHJpdmF0ZSBmdW5jdGlvbiBmb3JtYXRIdG1sKCRtYXRjaGVzKQp7CiRvdXQgPSAnPHNwYW4gc3R5bGU9Iic7CmZvcmVhY2ggKGV4cGxvZGUoJzsnLCAkbWF0Y2hlc1sxXSkgYXMgJGNvZGUpIHsKaWYgKGlzc2V0KHNlbGY6OiRhdmFpbGFibGVGb3JlZ3JvdW5kQ29sb3JzWyRjb2RlXSkpIHsKJG91dCAuPSAnY29sb3I6Jy5zZWxmOjokYXZhaWxhYmxlRm9yZWdyb3VuZENvbG9yc1skY29kZV0uJzsnOwp9IGVsc2VpZiAoaXNzZXQoc2VsZjo6JGF2YWlsYWJsZUJhY2tncm91bmRDb2xvcnNbJGNvZGVdKSkgewokb3V0IC49ICdiYWNrZ3JvdW5kLWNvbG9yOicuc2VsZjo6JGF2YWlsYWJsZUJhY2tncm91bmRDb2xvcnNbJGNvZGVdLic7JzsKfSBlbHNlaWYgKGlzc2V0KHNlbGY6OiRhdmFpbGFibGVPcHRpb25zWyRjb2RlXSkpIHsKc3dpdGNoIChzZWxmOjokYXZhaWxhYmxlT3B0aW9uc1skY29kZV0pIHsKY2FzZSAnYm9sZCc6CiRvdXQgLj0gJ2ZvbnQtd2VpZ2h0OmJvbGQ7JzsKYnJlYWs7CgpjYXNlICd1bmRlcnNjb3JlJzoKJG91dCAuPSAndGV4dC1kZWNvcmF0aW9uOnVuZGVybGluZTsnOwpicmVhazsKfQp9Cn0KCnJldHVybiAkb3V0LiciPicuJG1hdGNoZXNbMl0uJzwvc3Bhbj4nOwp9Cn0KPD9waHAKCgoKCgoKCgoKCgpuYW1lc3BhY2UgQ29tcG9zZXJcRGVwZW5kZW5jeVJlc29sdmVyOwoKCgoKCgpjbGFzcyBEZWNpc2lvbnMgaW1wbGVtZW50cyBcSXRlcmF0b3IsIFxDb3VudGFibGUKewpjb25zdCBERUNJU0lPTl9MSVRFUkFMID0gMDsKY29uc3QgREVDSVNJT05fUkVBU09OID0gMTsKCnByb3RlY3RlZCAkcG9vbDsKcHJvdGVjdGVkICRkZWNpc2lvbk1hcDsKcHJvdGVjdGVkICRkZWNpc2lvblF1ZXVlID0gYXJyYXkoKTsKCnB1YmxpYyBmdW5jdGlvbiBfX2NvbnN0cnVjdCgkcG9vbCkKewokdGhpcy0+cG9vbCA9ICRwb29sOwokdGhpcy0+ZGVjaXNpb25NYXAgPSBhcnJheSgpOwp9CgpwdWJsaWMgZnVuY3Rpb24gZGVjaWRlKCRsaXRlcmFsLCAkbGV2ZWwsICR3aHkpCnsKJHRoaXMtPmFkZERlY2lzaW9uKCRsaXRlcmFsLCAkbGV2ZWwpOwokdGhpcy0+ZGVjaXNpb25RdWV1ZVtdID0gYXJyYXkoCnNlbGY6OkRFQ0lTSU9OX0xJVEVSQUwgPT4gJGxpdGVyYWwsCnNlbGY6OkRFQ0lTSU9OX1JFQVNPTiA9PiAkd2h5LAopOwp9CgpwdWJsaWMgZnVuY3Rpb24gc2F0aXNmeSgkbGl0ZXJhbCkKewokcGFja2FnZUlkID0gYWJzKCRsaXRlcmFsKTsKCnJldHVybiAoCiRsaXRlcmFsID4gMCAmJiBpc3NldCgkdGhpcy0+ZGVjaXNpb25NYXBbJHBhY2thZ2VJZF0pICYmICR0aGlzLT5kZWNpc2lvbk1hcFskcGFja2FnZUlkXSA+IDAgfHwKJGxpdGVyYWwgPCAwICYmIGlzc2V0KCR0aGlzLT5kZWNpc2lvbk1hcFskcGFja2FnZUlkXSkgJiYgJHRoaXMtPmRlY2lzaW9uTWFwWyRwYWNrYWdlSWRdIDwgMAopOwp9CgpwdWJsaWMgZnVuY3Rpb24gY29uZmxpY3QoJGxpdGVyYWwpCnsKJHBhY2thZ2VJZCA9IGFicygkbGl0ZXJhbCk7CgpyZXR1cm4gKAooaXNzZXQoJHRoaXMtPmRlY2lzaW9uTWFwWyRwYWNrYWdlSWRdKSAmJiAkdGhpcy0+ZGVjaXNpb25NYXBbJHBhY2thZ2VJZF0gPiAwICYmICRsaXRlcmFsIDwgMCkgfHwKKGlzc2V0KCR0aGlzLT5kZWNpc2lvbk1hcFskcGFja2FnZUlkXSkgJiYgJHRoaXMtPmRlY2lzaW9uTWFwWyRwYWNrYWdlSWRdIDwgMCAmJiAkbGl0ZXJhbCA+IDApCik7Cn0KCnB1YmxpYyBmdW5jdGlvbiBkZWNpZGVkKCRsaXRlcmFsT3JQYWNrYWdlSWQpCnsKcmV0dXJuICFlbXB0eSgkdGhpcy0+ZGVjaXNpb25NYXBbYWJzKCRsaXRlcmFsT3JQYWNrYWdlSWQpXSk7Cn0KCnB1YmxpYyBmdW5jdGlvbiB1bmRlY2lkZWQoJGxpdGVyYWxPclBhY2thZ2VJZCkKewpyZXR1cm4gZW1wdHkoJHRoaXMtPmRlY2lzaW9uTWFwW2FicygkbGl0ZXJhbE9yUGFja2FnZUlkKV0pOwp9CgpwdWJsaWMgZnVuY3Rpb24gZGVjaWRlZEluc3RhbGwoJGxpdGVyYWxPclBhY2thZ2VJZCkKewokcGFja2FnZUlkID0gYWJzKCRsaXRlcmFsT3JQYWNrYWdlSWQpOwoKcmV0dXJuIGlzc2V0KCR0aGlzLT5kZWNpc2lvbk1hcFskcGFja2FnZUlkXSkgJiYgJHRoaXMtPmRlY2lzaW9uTWFwWyRwYWNrYWdlSWRdID4gMDsKfQoKcHVibGljIGZ1bmN0aW9uIGRlY2lzaW9uTGV2ZWwoJGxpdGVyYWxPclBhY2thZ2VJZCkKewokcGFja2FnZUlkID0gYWJzKCRsaXRlcmFsT3JQYWNrYWdlSWQpOwppZiAoaXNzZXQoJHRoaXMtPmRlY2lzaW9uTWFwWyRwYWNrYWdlSWRdKSkgewpyZXR1cm4gYWJzKCR0aGlzLT5kZWNpc2lvbk1hcFskcGFja2FnZUlkXSk7Cn0KCnJldHVybiAwOwp9CgpwdWJsaWMgZnVuY3Rpb24gZGVjaXNpb25SdWxlKCRsaXRlcmFsT3JQYWNrYWdlSWQpCnsKJHBhY2thZ2VJZCA9IGFicygkbGl0ZXJhbE9yUGFja2FnZUlkKTsKCmZvcmVhY2ggKCR0aGlzLT5kZWNpc2lvblF1ZXVlIGFzICRpID0+ICRkZWNpc2lvbikgewppZiAoJHBhY2thZ2VJZCA9PT0gYWJzKCRkZWNpc2lvbltzZWxmOjpERUNJU0lPTl9MSVRFUkFMXSkpIHsKcmV0dXJuICRkZWNpc2lvbltzZWxmOjpERUNJU0lPTl9SRUFTT05dOwp9Cn0KCnJldHVybiBudWxsOwp9CgpwdWJsaWMgZnVuY3Rpb24gYXRPZmZzZXQoJHF1ZXVlT2Zmc2V0KQp7CnJldHVybiAkdGhpcy0+ZGVjaXNpb25RdWV1ZVskcXVldWVPZmZzZXRdOwp9CgpwdWJsaWMgZnVuY3Rpb24gdmFsaWRPZmZzZXQoJHF1ZXVlT2Zmc2V0KQp7CnJldHVybiAkcXVldWVPZmZzZXQgPj0gMCAmJiAkcXVldWVPZmZzZXQgPCBcY291bnQoJHRoaXMtPmRlY2lzaW9uUXVldWUpOwp9CgpwdWJsaWMgZnVuY3Rpb24gbGFzdFJlYXNvbigpCnsKcmV0dXJuICR0aGlzLT5kZWNpc2lvblF1ZXVlW1xjb3VudCgkdGhpcy0+ZGVjaXNpb25RdWV1ZSkgLSAxXVtzZWxmOjpERUNJU0lPTl9SRUFTT05dOwp9CgpwdWJsaWMgZnVuY3Rpb24gbGFzdExpdGVyYWwoKQp7CnJldHVybiAkdGhpcy0+ZGVjaXNpb25RdWV1ZVtcY291bnQoJHRoaXMtPmRlY2lzaW9uUXVldWUpIC0gMV1bc2VsZjo6REVDSVNJT05fTElURVJBTF07Cn0KCnB1YmxpYyBmdW5jdGlvbiByZXNldCgpCnsKd2hpbGUgKCRkZWNpc2lvbiA9IGFycmF5X3BvcCgkdGhpcy0+ZGVjaXNpb25RdWV1ZSkpIHsKJHRoaXMtPmRlY2lzaW9uTWFwW2FicygkZGVjaXNpb25bc2VsZjo6REVDSVNJT05fTElURVJBTF0pXSA9IDA7Cn0KfQoKcHVibGljIGZ1bmN0aW9uIHJlc2V0VG9PZmZzZXQoJG9mZnNldCkKewp3aGlsZSAoXGNvdW50KCR0aGlzLT5kZWNpc2lvblF1ZXVlKSA+ICRvZmZzZXQgKyAxKSB7CiRkZWNpc2lvbiA9IGFycmF5X3BvcCgkdGhpcy0+ZGVjaXNpb25RdWV1ZSk7CiR0aGlzLT5kZWNpc2lvbk1hcFthYnMoJGRlY2lzaW9uW3NlbGY6OkRFQ0lTSU9OX0xJVEVSQUxdKV0gPSAwOwp9Cn0KCnB1YmxpYyBmdW5jdGlvbiByZXZlcnRMYXN0KCkKewokdGhpcy0+ZGVjaXNpb25NYXBbYWJzKCR0aGlzLT5sYXN0TGl0ZXJhbCgpKV0gPSAwOwphcnJheV9wb3AoJHRoaXMtPmRlY2lzaW9uUXVldWUpOwp9CgpwdWJsaWMgZnVuY3Rpb24gY291bnQoKQp7CnJldHVybiBcY291bnQoJHRoaXMtPmRlY2lzaW9uUXVldWUpOwp9CgpwdWJsaWMgZnVuY3Rpb24gcmV3aW5kKCkKewplbmQoJHRoaXMtPmRlY2lzaW9uUXVldWUpOwp9CgpwdWJsaWMgZnVuY3Rpb24gY3VycmVudCgpCnsKcmV0dXJuIGN1cnJlbnQoJHRoaXMtPmRlY2lzaW9uUXVldWUpOwp9CgpwdWJsaWMgZnVuY3Rpb24ga2V5KCkKewpyZXR1cm4ga2V5KCR0aGlzLT5kZWNpc2lvblF1ZXVlKTsKfQoKcHVibGljIGZ1bmN0aW9uIG5leHQoKQp7CnByZXYoJHRoaXMtPmRlY2lzaW9uUXVldWUpOwp9CgpwdWJsaWMgZnVuY3Rpb24gdmFsaWQoKQp7CnJldHVybiBmYWxzZSAhPT0gY3VycmVudCgkdGhpcy0+ZGVjaXNpb25RdWV1ZSk7Cn0KCnB1YmxpYyBmdW5jdGlvbiBpc0VtcHR5KCkKewpyZXR1cm4gXGNvdW50KCR0aGlzLT5kZWNpc2lvblF1ZXVlKSA9PT0gMDsKfQoKcHJvdGVjdGVkIGZ1bmN0aW9uIGFkZERlY2lzaW9uKCRsaXRlcmFsLCAkbGV2ZWwpCnsKJHBhY2thZ2VJZCA9IGFicygkbGl0ZXJhbCk7CgokcHJldmlvdXNEZWNpc2lvbiA9IGlzc2V0KCR0aGlzLT5kZWNpc2lvbk1hcFskcGFja2FnZUlkXSkgPyAkdGhpcy0+ZGVjaXNpb25NYXBbJHBhY2thZ2VJZF0gOiBudWxsOwppZiAoJHByZXZpb3VzRGVjaXNpb24gIT0gMCkgewokbGl0ZXJhbFN0cmluZyA9ICR0aGlzLT5wb29sLT5saXRlcmFsVG9QcmV0dHlTdHJpbmcoJGxpdGVyYWwsIGFycmF5KCkpOwokcGFja2FnZSA9ICR0aGlzLT5wb29sLT5saXRlcmFsVG9QYWNrYWdlKCRsaXRlcmFsKTsKdGhyb3cgbmV3IFNvbHZlckJ1Z0V4Y2VwdGlvbigKIlRyeWluZyB0byBkZWNpZGUgJGxpdGVyYWxTdHJpbmcgb24gbGV2ZWwgJGxldmVsLCBldmVuIHRob3VnaCAkcGFja2FnZSB3YXMgcHJldmlvdXNseSBkZWNpZGVkIGFzICIuKGludCkgJHByZXZpb3VzRGVjaXNpb24uIi4iCik7Cn0KCmlmICgkbGl0ZXJhbCA+IDApIHsKJHRoaXMtPmRlY2lzaW9uTWFwWyRwYWNrYWdlSWRdID0gJGxldmVsOwp9IGVsc2UgewokdGhpcy0+ZGVjaXNpb25NYXBbJHBhY2thZ2VJZF0gPSAtJGxldmVsOwp9Cn0KCnB1YmxpYyBmdW5jdGlvbiB0b1N0cmluZyhQb29sICRwb29sID0gbnVsbCkKewokZGVjaXNpb25NYXAgPSAkdGhpcy0+ZGVjaXNpb25NYXA7Cmtzb3J0KCRkZWNpc2lvbk1hcCk7CiRzdHIgPSAnWyc7CmZvcmVhY2ggKCRkZWNpc2lvbk1hcCBhcyAkcGFja2FnZUlkID0+ICRsZXZlbCkgewokc3RyIC49ICgoJHBvb2wpID8gJHBvb2wtPmxpdGVyYWxUb1BhY2thZ2UoJHBhY2thZ2VJZCkgOiAkcGFja2FnZUlkKS4nOicuJGxldmVsLicsJzsKfQokc3RyIC49ICddJzsKCnJldHVybiAkc3RyOwp9CgpwdWJsaWMgZnVuY3Rpb24gX190b1N0cmluZygpCnsKcmV0dXJuICR0aGlzLT50b1N0cmluZygpOwp9Cn0KPD9waHAKCgoKCgoKCgoKCgpuYW1lc3BhY2UgQ29tcG9zZXJcRGVwZW5kZW5jeVJlc29sdmVyOwoKdXNlIENvbXBvc2VyXFBhY2thZ2VcQWxpYXNQYWNrYWdlOwp1c2UgQ29tcG9zZXJcUGFja2FnZVxCYXNlUGFja2FnZTsKdXNlIENvbXBvc2VyXFBhY2thZ2VcUGFja2FnZUludGVyZmFjZTsKdXNlIENvbXBvc2VyXFNlbXZlclxDb25zdHJhaW50XENvbnN0cmFpbnQ7CgoKCgoKY2xhc3MgRGVmYXVsdFBvbGljeSBpbXBsZW1lbnRzIFBvbGljeUludGVyZmFjZQp7CnByaXZhdGUgJHByZWZlclN0YWJsZTsKcHJpdmF0ZSAkcHJlZmVyTG93ZXN0OwoKcHVibGljIGZ1bmN0aW9uIF9fY29uc3RydWN0KCRwcmVmZXJTdGFibGUgPSBmYWxzZSwgJHByZWZlckxvd2VzdCA9IGZhbHNlKQp7CiR0aGlzLT5wcmVmZXJTdGFibGUgPSAkcHJlZmVyU3RhYmxlOwokdGhpcy0+cHJlZmVyTG93ZXN0ID0gJHByZWZlckxvd2VzdDsKfQoKcHVibGljIGZ1bmN0aW9uIHZlcnNpb25Db21wYXJlKFBhY2thZ2VJbnRlcmZhY2UgJGEsIFBhY2thZ2VJbnRlcmZhY2UgJGIsICRvcGVyYXRvcikKewppZiAoJHRoaXMtPnByZWZlclN0YWJsZSAmJiAoJHN0YWJBID0gJGEtPmdldFN0YWJpbGl0eSgpKSAhPT0gKCRzdGFiQiA9ICRiLT5nZXRTdGFiaWxpdHkoKSkpIHsKcmV0dXJuIEJhc2VQYWNrYWdlOjokc3RhYmlsaXRpZXNbJHN0YWJBXSA8IEJhc2VQYWNrYWdlOjokc3RhYmlsaXRpZXNbJHN0YWJCXTsKfQoKJGNvbnN0cmFpbnQgPSBuZXcgQ29uc3RyYWludCgkb3BlcmF0b3IsICRiLT5nZXRWZXJzaW9uKCkpOwokdmVyc2lvbiA9IG5ldyBDb25zdHJhaW50KCc9PScsICRhLT5nZXRWZXJzaW9uKCkpOwoKcmV0dXJuICRjb25zdHJhaW50LT5tYXRjaFNwZWNpZmljKCR2ZXJzaW9uLCB0cnVlKTsKfQoKcHVibGljIGZ1bmN0aW9uIHNlbGVjdFByZWZlcnJlZFBhY2thZ2VzKFBvb2wgJHBvb2wsIGFycmF5ICRsaXRlcmFscywgJHJlcXVpcmVkUGFja2FnZSA9IG51bGwpCnsKJHBhY2thZ2VzID0gJHRoaXMtPmdyb3VwTGl0ZXJhbHNCeU5hbWUoJHBvb2wsICRsaXRlcmFscyk7CiRwb2xpY3kgPSAkdGhpczsKCmZvcmVhY2ggKCRwYWNrYWdlcyBhcyAmJG5hbWVMaXRlcmFscykgewp1c29ydCgkbmFtZUxpdGVyYWxzLCBmdW5jdGlvbiAoJGEsICRiKSB1c2UgKCRwb2xpY3ksICRwb29sLCAkcmVxdWlyZWRQYWNrYWdlKSB7CnJldHVybiAkcG9saWN5LT5jb21wYXJlQnlQcmlvcml0eSgkcG9vbCwgJHBvb2wtPmxpdGVyYWxUb1BhY2thZ2UoJGEpLCAkcG9vbC0+bGl0ZXJhbFRvUGFja2FnZSgkYiksICRyZXF1aXJlZFBhY2thZ2UsIHRydWUpOwp9KTsKfQoKZm9yZWFjaCAoJHBhY2thZ2VzIGFzICYkc29ydGVkTGl0ZXJhbHMpIHsKJHNvcnRlZExpdGVyYWxzID0gJHRoaXMtPnBydW5lVG9CZXN0VmVyc2lvbigkcG9vbCwgJHNvcnRlZExpdGVyYWxzKTsKJHNvcnRlZExpdGVyYWxzID0gJHRoaXMtPnBydW5lUmVtb3RlQWxpYXNlcygkcG9vbCwgJHNvcnRlZExpdGVyYWxzKTsKfQoKJHNlbGVjdGVkID0gXGNhbGxfdXNlcl9mdW5jX2FycmF5KCdhcnJheV9tZXJnZScsIGFycmF5X3ZhbHVlcygkcGFja2FnZXMpKTsKCgp1c29ydCgkc2VsZWN0ZWQsIGZ1bmN0aW9uICgkYSwgJGIpIHVzZSAoJHBvbGljeSwgJHBvb2wsICRyZXF1aXJlZFBhY2thZ2UpIHsKcmV0dXJuICRwb2xpY3ktPmNvbXBhcmVCeVByaW9yaXR5KCRwb29sLCAkcG9vbC0+bGl0ZXJhbFRvUGFja2FnZSgkYSksICRwb29sLT5saXRlcmFsVG9QYWNrYWdlKCRiKSwgJHJlcXVpcmVkUGFja2FnZSk7Cn0pOwoKcmV0dXJuICRzZWxlY3RlZDsKfQoKcHJvdGVjdGVkIGZ1bmN0aW9uIGdyb3VwTGl0ZXJhbHNCeU5hbWUoUG9vbCAkcG9vbCwgJGxpdGVyYWxzKQp7CiRwYWNrYWdlcyA9IGFycmF5KCk7CmZvcmVhY2ggKCRsaXRlcmFscyBhcyAkbGl0ZXJhbCkgewokcGFja2FnZU5hbWUgPSAkcG9vbC0+bGl0ZXJhbFRvUGFja2FnZSgkbGl0ZXJhbCktPmdldE5hbWUoKTsKCmlmICghaXNzZXQoJHBhY2thZ2VzWyRwYWNrYWdlTmFtZV0pKSB7CiRwYWNrYWdlc1skcGFja2FnZU5hbWVdID0gYXJyYXkoKTsKfQokcGFja2FnZXNbJHBhY2thZ2VOYW1lXVtdID0gJGxpdGVyYWw7Cn0KCnJldHVybiAkcGFja2FnZXM7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBjb21wYXJlQnlQcmlvcml0eShQb29sICRwb29sLCBCYXNlUGFja2FnZSAkYSwgQmFzZVBhY2thZ2UgJGIsICRyZXF1aXJlZFBhY2thZ2UgPSBudWxsLCAkaWdub3JlUmVwbGFjZSA9IGZhbHNlKQp7CgppZiAoJGEtPmdldE5hbWUoKSA9PT0gJGItPmdldE5hbWUoKSkgewokYUFsaWFzZWQgPSAkYSBpbnN0YW5jZW9mIEFsaWFzUGFja2FnZTsKJGJBbGlhc2VkID0gJGIgaW5zdGFuY2VvZiBBbGlhc1BhY2thZ2U7CmlmICgkYUFsaWFzZWQgJiYgISRiQWxpYXNlZCkgewpyZXR1cm4gLTE7IAp9CmlmICghJGFBbGlhc2VkICYmICRiQWxpYXNlZCkgewpyZXR1cm4gMTsgCn0KfQoKaWYgKCEkaWdub3JlUmVwbGFjZSkgewoKaWYgKCR0aGlzLT5yZXBsYWNlcygkYSwgJGIpKSB7CnJldHVybiAxOyAKfQppZiAoJHRoaXMtPnJlcGxhY2VzKCRiLCAkYSkpIHsKcmV0dXJuIC0xOyAKfQoKCgppZiAoJHJlcXVpcmVkUGFja2FnZSAmJiBmYWxzZSAhPT0gKCRwb3MgPSBzdHJwb3MoJHJlcXVpcmVkUGFja2FnZSwgJy8nKSkpIHsKJHJlcXVpcmVkVmVuZG9yID0gc3Vic3RyKCRyZXF1aXJlZFBhY2thZ2UsIDAsICRwb3MpOwoKJGFJc1NhbWVWZW5kb3IgPSBzdHJwb3MoJGEtPmdldE5hbWUoKSwgJHJlcXVpcmVkVmVuZG9yKSA9PT0gMDsKJGJJc1NhbWVWZW5kb3IgPSBzdHJwb3MoJGItPmdldE5hbWUoKSwgJHJlcXVpcmVkVmVuZG9yKSA9PT0gMDsKCmlmICgkYklzU2FtZVZlbmRvciAhPT0gJGFJc1NhbWVWZW5kb3IpIHsKcmV0dXJuICRhSXNTYW1lVmVuZG9yID8gLTEgOiAxOwp9Cn0KfQoKCmlmICgkYS0+aWQgPT09ICRiLT5pZCkgewpyZXR1cm4gMDsKfQoKcmV0dXJuICgkYS0+aWQgPCAkYi0+aWQpID8gLTEgOiAxOwp9CgoKCgoKCgoKCgoKcHJvdGVjdGVkIGZ1bmN0aW9uIHJlcGxhY2VzKEJhc2VQYWNrYWdlICRzb3VyY2UsIEJhc2VQYWNrYWdlICR0YXJnZXQpCnsKZm9yZWFjaCAoJHNvdXJjZS0+Z2V0UmVwbGFjZXMoKSBhcyAkbGluaykgewppZiAoJGxpbmstPmdldFRhcmdldCgpID09PSAkdGFyZ2V0LT5nZXROYW1lKCkKCgopIHsKcmV0dXJuIHRydWU7Cn0KfQoKcmV0dXJuIGZhbHNlOwp9Cgpwcm90ZWN0ZWQgZnVuY3Rpb24gcHJ1bmVUb0Jlc3RWZXJzaW9uKFBvb2wgJHBvb2wsICRsaXRlcmFscykKewokb3BlcmF0b3IgPSAkdGhpcy0+cHJlZmVyTG93ZXN0ID8gJzwnIDogJz4nOwokYmVzdExpdGVyYWxzID0gYXJyYXkoJGxpdGVyYWxzWzBdKTsKJGJlc3RQYWNrYWdlID0gJHBvb2wtPmxpdGVyYWxUb1BhY2thZ2UoJGxpdGVyYWxzWzBdKTsKZm9yZWFjaCAoJGxpdGVyYWxzIGFzICRpID0+ICRsaXRlcmFsKSB7CmlmICgwID09PSAkaSkgewpjb250aW51ZTsKfQoKJHBhY2thZ2UgPSAkcG9vbC0+bGl0ZXJhbFRvUGFja2FnZSgkbGl0ZXJhbCk7CgppZiAoJHRoaXMtPnZlcnNpb25Db21wYXJlKCRwYWNrYWdlLCAkYmVzdFBhY2thZ2UsICRvcGVyYXRvcikpIHsKJGJlc3RQYWNrYWdlID0gJHBhY2thZ2U7CiRiZXN0TGl0ZXJhbHMgPSBhcnJheSgkbGl0ZXJhbCk7Cn0gZWxzZWlmICgkdGhpcy0+dmVyc2lvbkNvbXBhcmUoJHBhY2thZ2UsICRiZXN0UGFja2FnZSwgJz09JykpIHsKJGJlc3RMaXRlcmFsc1tdID0gJGxpdGVyYWw7Cn0KfQoKcmV0dXJuICRiZXN0TGl0ZXJhbHM7Cn0KCgoKCgoKcHJvdGVjdGVkIGZ1bmN0aW9uIHBydW5lUmVtb3RlQWxpYXNlcyhQb29sICRwb29sLCBhcnJheSAkbGl0ZXJhbHMpCnsKJGhhc0xvY2FsQWxpYXMgPSBmYWxzZTsKCmZvcmVhY2ggKCRsaXRlcmFscyBhcyAkbGl0ZXJhbCkgewokcGFja2FnZSA9ICRwb29sLT5saXRlcmFsVG9QYWNrYWdlKCRsaXRlcmFsKTsKCmlmICgkcGFja2FnZSBpbnN0YW5jZW9mIEFsaWFzUGFja2FnZSAmJiAkcGFja2FnZS0+aXNSb290UGFja2FnZUFsaWFzKCkpIHsKJGhhc0xvY2FsQWxpYXMgPSB0cnVlOwpicmVhazsKfQp9CgppZiAoISRoYXNMb2NhbEFsaWFzKSB7CnJldHVybiAkbGl0ZXJhbHM7Cn0KCiRzZWxlY3RlZCA9IGFycmF5KCk7CmZvcmVhY2ggKCRsaXRlcmFscyBhcyAkbGl0ZXJhbCkgewokcGFja2FnZSA9ICRwb29sLT5saXRlcmFsVG9QYWNrYWdlKCRsaXRlcmFsKTsKCmlmICgkcGFja2FnZSBpbnN0YW5jZW9mIEFsaWFzUGFja2FnZSAmJiAkcGFja2FnZS0+aXNSb290UGFja2FnZUFsaWFzKCkpIHsKJHNlbGVjdGVkW10gPSAkbGl0ZXJhbDsKfQp9CgpyZXR1cm4gJHNlbGVjdGVkOwp9Cn0KPD9waHAKCgoKCgoKCgoKCgpuYW1lc3BhY2UgQ29tcG9zZXJcRGVwZW5kZW5jeVJlc29sdmVyOwoKdXNlIENvbXBvc2VyXFBhY2thZ2VcQmFzZVBhY2thZ2U7CnVzZSBDb21wb3NlclxQYWNrYWdlXExpbms7CgoKCgpjbGFzcyBHZW5lcmljUnVsZSBleHRlbmRzIFJ1bGUKewpwcm90ZWN0ZWQgJGxpdGVyYWxzOwoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gX19jb25zdHJ1Y3QoYXJyYXkgJGxpdGVyYWxzLCAkcmVhc29uLCAkcmVhc29uRGF0YSkKewpwYXJlbnQ6Ol9fY29uc3RydWN0KCRyZWFzb24sICRyZWFzb25EYXRhKTsKCgpzb3J0KCRsaXRlcmFscyk7CgokdGhpcy0+bGl0ZXJhbHMgPSAkbGl0ZXJhbHM7Cn0KCnB1YmxpYyBmdW5jdGlvbiBnZXRMaXRlcmFscygpCnsKcmV0dXJuICR0aGlzLT5saXRlcmFsczsKfQoKcHVibGljIGZ1bmN0aW9uIGdldEhhc2goKQp7CiRkYXRhID0gdW5wYWNrKCdpaGFzaCcsIG1kNShpbXBsb2RlKCcsJywgJHRoaXMtPmxpdGVyYWxzKSwgdHJ1ZSkpOwoKcmV0dXJuICRkYXRhWydoYXNoJ107Cn0KCgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIGVxdWFscyhSdWxlICRydWxlKQp7CnJldHVybiAkdGhpcy0+bGl0ZXJhbHMgPT09ICRydWxlLT5nZXRMaXRlcmFscygpOwp9CgpwdWJsaWMgZnVuY3Rpb24gaXNBc3NlcnRpb24oKQp7CnJldHVybiAxID09PSBcY291bnQoJHRoaXMtPmxpdGVyYWxzKTsKfQoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gX190b1N0cmluZygpCnsKJHJlc3VsdCA9ICR0aGlzLT5pc0Rpc2FibGVkKCkgPyAnZGlzYWJsZWQoJyA6ICcoJzsKCmZvcmVhY2ggKCR0aGlzLT5saXRlcmFscyBhcyAkaSA9PiAkbGl0ZXJhbCkgewppZiAoJGkgIT0gMCkgewokcmVzdWx0IC49ICd8JzsKfQokcmVzdWx0IC49ICRsaXRlcmFsOwp9CgokcmVzdWx0IC49ICcpJzsKCnJldHVybiAkcmVzdWx0Owp9Cn0KPD9waHAKCgoKCgoKCgoKCgpuYW1lc3BhY2UgQ29tcG9zZXJcRGVwZW5kZW5jeVJlc29sdmVyOwoKdXNlIENvbXBvc2VyXFJlcG9zaXRvcnlcUmVwb3NpdG9yeUludGVyZmFjZTsKCgoKCgpjbGFzcyBMb2NhbFJlcG9UcmFuc2FjdGlvbiBleHRlbmRzIFRyYW5zYWN0aW9uCnsKcHVibGljIGZ1bmN0aW9uIF9fY29uc3RydWN0KFJlcG9zaXRvcnlJbnRlcmZhY2UgJGxvY2tlZFJlcG9zaXRvcnksICRsb2NhbFJlcG9zaXRvcnkpCnsKcGFyZW50OjpfX2NvbnN0cnVjdCgKJGxvY2FsUmVwb3NpdG9yeS0+Z2V0UGFja2FnZXMoKSwKJGxvY2tlZFJlcG9zaXRvcnktPmdldFBhY2thZ2VzKCkKKTsKfQp9Cjw/cGhwCgoKCgoKCgoKCgoKbmFtZXNwYWNlIENvbXBvc2VyXERlcGVuZGVuY3lSZXNvbHZlcjsKCnVzZSBDb21wb3NlclxQYWNrYWdlXEFsaWFzUGFja2FnZTsKdXNlIENvbXBvc2VyXFBhY2thZ2VcUm9vdEFsaWFzUGFja2FnZTsKCgoKCgpjbGFzcyBMb2NrVHJhbnNhY3Rpb24gZXh0ZW5kcyBUcmFuc2FjdGlvbgp7CgoKCgpwcm90ZWN0ZWQgJHByZXNlbnRNYXA7CgoKCgoKcHJvdGVjdGVkICR1bmxvY2thYmxlTWFwOwoKCgoKcHJvdGVjdGVkICRyZXN1bHRQYWNrYWdlczsKCnB1YmxpYyBmdW5jdGlvbiBfX2NvbnN0cnVjdChQb29sICRwb29sLCAkcHJlc2VudE1hcCwgJHVubG9ja2FibGVNYXAsICRkZWNpc2lvbnMpCnsKJHRoaXMtPnByZXNlbnRNYXAgPSAkcHJlc2VudE1hcDsKJHRoaXMtPnVubG9ja2FibGVNYXAgPSAkdW5sb2NrYWJsZU1hcDsKCiR0aGlzLT5zZXRSZXN1bHRQYWNrYWdlcygkcG9vbCwgJGRlY2lzaW9ucyk7CnBhcmVudDo6X19jb25zdHJ1Y3QoJHRoaXMtPnByZXNlbnRNYXAsICR0aGlzLT5yZXN1bHRQYWNrYWdlc1snYWxsJ10pOwp9CgoKcHVibGljIGZ1bmN0aW9uIHNldFJlc3VsdFBhY2thZ2VzKFBvb2wgJHBvb2wsIERlY2lzaW9ucyAkZGVjaXNpb25zKQp7CiR0aGlzLT5yZXN1bHRQYWNrYWdlcyA9IGFycmF5KCdhbGwnID0+IGFycmF5KCksICdub24tZGV2JyA9PiBhcnJheSgpLCAnZGV2JyA9PiBhcnJheSgpKTsKZm9yZWFjaCAoJGRlY2lzaW9ucyBhcyAkaSA9PiAkZGVjaXNpb24pIHsKJGxpdGVyYWwgPSAkZGVjaXNpb25bRGVjaXNpb25zOjpERUNJU0lPTl9MSVRFUkFMXTsKCmlmICgkbGl0ZXJhbCA+IDApIHsKJHBhY2thZ2UgPSAkcG9vbC0+bGl0ZXJhbFRvUGFja2FnZSgkbGl0ZXJhbCk7CgokdGhpcy0+cmVzdWx0UGFja2FnZXNbJ2FsbCddW10gPSAkcGFja2FnZTsKaWYgKCFpc3NldCgkdGhpcy0+dW5sb2NrYWJsZU1hcFskcGFja2FnZS0+aWRdKSkgewokdGhpcy0+cmVzdWx0UGFja2FnZXNbJ25vbi1kZXYnXVtdID0gJHBhY2thZ2U7Cn0KfQp9Cn0KCnB1YmxpYyBmdW5jdGlvbiBzZXROb25EZXZQYWNrYWdlcyhMb2NrVHJhbnNhY3Rpb24gJGV4dHJhY3Rpb25SZXN1bHQpCnsKJHBhY2thZ2VzID0gJGV4dHJhY3Rpb25SZXN1bHQtPmdldE5ld0xvY2tQYWNrYWdlcyhmYWxzZSk7CgokdGhpcy0+cmVzdWx0UGFja2FnZXNbJ2RldiddID0gJHRoaXMtPnJlc3VsdFBhY2thZ2VzWydub24tZGV2J107CiR0aGlzLT5yZXN1bHRQYWNrYWdlc1snbm9uLWRldiddID0gYXJyYXkoKTsKCmZvcmVhY2ggKCRwYWNrYWdlcyBhcyAkcGFja2FnZSkgewpmb3JlYWNoICgkdGhpcy0+cmVzdWx0UGFja2FnZXNbJ2RldiddIGFzICRpID0+ICRyZXN1bHRQYWNrYWdlKSB7CgppZiAoJHBhY2thZ2UtPmdldE5hbWUoKSA9PSAkcmVzdWx0UGFja2FnZS0+Z2V0TmFtZSgpKSB7CiR0aGlzLT5yZXN1bHRQYWNrYWdlc1snbm9uLWRldiddW10gPSAkcmVzdWx0UGFja2FnZTsKdW5zZXQoJHRoaXMtPnJlc3VsdFBhY2thZ2VzWydkZXYnXVskaV0pOwp9Cn0KfQp9CgoKcHVibGljIGZ1bmN0aW9uIGdldE5ld0xvY2tQYWNrYWdlcygkZGV2TW9kZSwgJHVwZGF0ZU1pcnJvcnMgPSBmYWxzZSkKewokcGFja2FnZXMgPSBhcnJheSgpOwpmb3JlYWNoICgkdGhpcy0+cmVzdWx0UGFja2FnZXNbJGRldk1vZGUgPyAnZGV2JyA6ICdub24tZGV2J10gYXMgJHBhY2thZ2UpIHsKaWYgKCEoJHBhY2thZ2UgaW5zdGFuY2VvZiBBbGlhc1BhY2thZ2UpICYmICEoJHBhY2thZ2UgaW5zdGFuY2VvZiBSb290QWxpYXNQYWNrYWdlKSkgewoKCmlmICgkdXBkYXRlTWlycm9ycyAmJiAhaXNzZXQoJHRoaXMtPnByZXNlbnRNYXBbc3BsX29iamVjdF9oYXNoKCRwYWNrYWdlKV0pKSB7CmZvcmVhY2ggKCR0aGlzLT5wcmVzZW50TWFwIGFzICRwcmVzZW50UGFja2FnZSkgewppZiAoJHBhY2thZ2UtPmdldE5hbWUoKSA9PSAkcHJlc2VudFBhY2thZ2UtPmdldE5hbWUoKSAmJiAkcGFja2FnZS0+Z2V0VmVyc2lvbigpID09ICRwcmVzZW50UGFja2FnZS0+Z2V0VmVyc2lvbigpKSB7CmlmICgkcHJlc2VudFBhY2thZ2UtPmdldFNvdXJjZVJlZmVyZW5jZSgpICYmICRwcmVzZW50UGFja2FnZS0+Z2V0U291cmNlVHlwZSgpID09PSAkcGFja2FnZS0+Z2V0U291cmNlVHlwZSgpKSB7CiRwYWNrYWdlLT5zZXRTb3VyY2VEaXN0UmVmZXJlbmNlcygkcHJlc2VudFBhY2thZ2UtPmdldFNvdXJjZVJlZmVyZW5jZSgpKTsKfQppZiAoJHByZXNlbnRQYWNrYWdlLT5nZXRSZWxlYXNlRGF0ZSgpKSB7CiRwYWNrYWdlLT5zZXRSZWxlYXNlRGF0ZSgkcHJlc2VudFBhY2thZ2UtPmdldFJlbGVhc2VEYXRlKCkpOwp9Cn0KfQp9CiRwYWNrYWdlc1tdID0gJHBhY2thZ2U7Cn0KfQoKcmV0dXJuICRwYWNrYWdlczsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIGdldEFsaWFzZXMoJGFsaWFzZXMpCnsKJHVzZWRBbGlhc2VzID0gYXJyYXkoKTsKCmZvcmVhY2ggKCR0aGlzLT5yZXN1bHRQYWNrYWdlc1snYWxsJ10gYXMgJHBhY2thZ2UpIHsKaWYgKCRwYWNrYWdlIGluc3RhbmNlb2YgQWxpYXNQYWNrYWdlKSB7CmZvcmVhY2ggKCRhbGlhc2VzIGFzICRpbmRleCA9PiAkYWxpYXMpIHsKaWYgKCRhbGlhc1sncGFja2FnZSddID09PSAkcGFja2FnZS0+Z2V0TmFtZSgpKSB7CiR1c2VkQWxpYXNlc1tdID0gJGFsaWFzOwp1bnNldCgkYWxpYXNlc1skaW5kZXhdKTsKfQp9Cn0KfQoKdXNvcnQoJHVzZWRBbGlhc2VzLCBmdW5jdGlvbiAoJGEsICRiKSB7CnJldHVybiBzdHJjbXAoJGFbJ3BhY2thZ2UnXSwgJGJbJ3BhY2thZ2UnXSk7Cn0pOwoKcmV0dXJuICR1c2VkQWxpYXNlczsKfQp9Cjw/cGhwCgoKCgoKCgoKCgoKbmFtZXNwYWNlIENvbXBvc2VyXERlcGVuZGVuY3lSZXNvbHZlcjsKCnVzZSBDb21wb3NlclxQYWNrYWdlXEJhc2VQYWNrYWdlOwp1c2UgQ29tcG9zZXJcUGFja2FnZVxMaW5rOwoKCgoKCgpjbGFzcyBNdWx0aUNvbmZsaWN0UnVsZSBleHRlbmRzIFJ1bGUKewpwcm90ZWN0ZWQgJGxpdGVyYWxzOwoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gX19jb25zdHJ1Y3QoYXJyYXkgJGxpdGVyYWxzLCAkcmVhc29uLCAkcmVhc29uRGF0YSkKewpwYXJlbnQ6Ol9fY29uc3RydWN0KCRyZWFzb24sICRyZWFzb25EYXRhKTsKCmlmIChcY291bnQoJGxpdGVyYWxzKSA8IDMpIHsKdGhyb3cgbmV3IFxSdW50aW1lRXhjZXB0aW9uKCJtdWx0aSBjb25mbGljdCBydWxlIHJlcXVpcmVzIGF0IGxlYXN0IDMgbGl0ZXJhbHMiKTsKfQoKCnNvcnQoJGxpdGVyYWxzKTsKCiR0aGlzLT5saXRlcmFscyA9ICRsaXRlcmFsczsKfQoKcHVibGljIGZ1bmN0aW9uIGdldExpdGVyYWxzKCkKewpyZXR1cm4gJHRoaXMtPmxpdGVyYWxzOwp9CgpwdWJsaWMgZnVuY3Rpb24gZ2V0SGFzaCgpCnsKJGRhdGEgPSB1bnBhY2soJ2loYXNoJywgbWQ1KCdjOicuaW1wbG9kZSgnLCcsICR0aGlzLT5saXRlcmFscyksIHRydWUpKTsKCnJldHVybiAkZGF0YVsnaGFzaCddOwp9CgoKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBlcXVhbHMoUnVsZSAkcnVsZSkKewppZiAoJHJ1bGUgaW5zdGFuY2VvZiBNdWx0aUNvbmZsaWN0UnVsZSkgewpyZXR1cm4gJHRoaXMtPmxpdGVyYWxzID09PSAkcnVsZS0+Z2V0TGl0ZXJhbHMoKTsKfQoKcmV0dXJuIGZhbHNlOwp9CgpwdWJsaWMgZnVuY3Rpb24gaXNBc3NlcnRpb24oKQp7CnJldHVybiBmYWxzZTsKfQoKcHVibGljIGZ1bmN0aW9uIGRpc2FibGUoKQp7CnRocm93IG5ldyBcUnVudGltZUV4Y2VwdGlvbigiRGlzYWJsaW5nIG11bHRpIGNvbmZsaWN0IHJ1bGVzIGlzIG5vdCBwb3NzaWJsZS4gUGxlYXNlIGNvbnRhY3QgY29tcG9zZXIgYXQgaHR0cHM6Ly9naXRodWIuY29tL2NvbXBvc2VyL2NvbXBvc2VyIHRvIGxldCB1cyBkZWJ1ZyB3aGF0IGxlYWQgdG8gdGhpcyBzaXR1YXRpb24uIik7Cn0KCgoKCgoKcHVibGljIGZ1bmN0aW9uIF9fdG9TdHJpbmcoKQp7CgokcmVzdWx0ID0gJHRoaXMtPmlzRGlzYWJsZWQoKSA/ICdkaXNhYmxlZChtdWx0aSgnIDogJyhtdWx0aSgnOwoKZm9yZWFjaCAoJHRoaXMtPmxpdGVyYWxzIGFzICRpID0+ICRsaXRlcmFsKSB7CmlmICgkaSAhPSAwKSB7CiRyZXN1bHQgLj0gJ3wnOwp9CiRyZXN1bHQgLj0gJGxpdGVyYWw7Cn0KCiRyZXN1bHQgLj0gJykpJzsKCnJldHVybiAkcmVzdWx0Owp9Cn0KPD9waHAKCgoKCgoKCgoKCgpuYW1lc3BhY2UgQ29tcG9zZXJcRGVwZW5kZW5jeVJlc29sdmVyXE9wZXJhdGlvbjsKCnVzZSBDb21wb3NlclxQYWNrYWdlXFBhY2thZ2VJbnRlcmZhY2U7CgoKCgoKCmNsYXNzIEluc3RhbGxPcGVyYXRpb24gZXh0ZW5kcyBTb2x2ZXJPcGVyYXRpb24gaW1wbGVtZW50cyBPcGVyYXRpb25JbnRlcmZhY2UKewpjb25zdCBUWVBFID0gJ2luc3RhbGwnOwoKCgoKcHJvdGVjdGVkICRwYWNrYWdlOwoKcHVibGljIGZ1bmN0aW9uIF9fY29uc3RydWN0KFBhY2thZ2VJbnRlcmZhY2UgJHBhY2thZ2UpCnsKJHRoaXMtPnBhY2thZ2UgPSAkcGFja2FnZTsKfQoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0UGFja2FnZSgpCnsKcmV0dXJuICR0aGlzLT5wYWNrYWdlOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gc2hvdygkbG9jaykKewpyZXR1cm4gc2VsZjo6Zm9ybWF0KCR0aGlzLT5wYWNrYWdlLCAkbG9jayk7Cn0KCnB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gZm9ybWF0KFBhY2thZ2VJbnRlcmZhY2UgJHBhY2thZ2UsICRsb2NrID0gZmFsc2UpCnsKcmV0dXJuICgkbG9jayA/ICdMb2NraW5nICcgOiAnSW5zdGFsbGluZyAnKS4nPGluZm8+Jy4kcGFja2FnZS0+Z2V0UHJldHR5TmFtZSgpLic8L2luZm8+ICg8Y29tbWVudD4nLiRwYWNrYWdlLT5nZXRGdWxsUHJldHR5VmVyc2lvbigpLic8L2NvbW1lbnQ+KSc7Cn0KfQo8P3BocAoKCgoKCgoKCgoKCm5hbWVzcGFjZSBDb21wb3NlclxEZXBlbmRlbmN5UmVzb2x2ZXJcT3BlcmF0aW9uOwoKdXNlIENvbXBvc2VyXFBhY2thZ2VcQWxpYXNQYWNrYWdlOwoKCgoKCgpjbGFzcyBNYXJrQWxpYXNJbnN0YWxsZWRPcGVyYXRpb24gZXh0ZW5kcyBTb2x2ZXJPcGVyYXRpb24gaW1wbGVtZW50cyBPcGVyYXRpb25JbnRlcmZhY2UKewpjb25zdCBUWVBFID0gJ21hcmtBbGlhc0luc3RhbGxlZCc7CgoKCgpwcm90ZWN0ZWQgJHBhY2thZ2U7CgpwdWJsaWMgZnVuY3Rpb24gX19jb25zdHJ1Y3QoQWxpYXNQYWNrYWdlICRwYWNrYWdlKQp7CiR0aGlzLT5wYWNrYWdlID0gJHBhY2thZ2U7Cn0KCgoKCgoKcHVibGljIGZ1bmN0aW9uIGdldFBhY2thZ2UoKQp7CnJldHVybiAkdGhpcy0+cGFja2FnZTsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIHNob3coJGxvY2spCnsKcmV0dXJuICdNYXJraW5nIDxpbmZvPicuJHRoaXMtPnBhY2thZ2UtPmdldFByZXR0eU5hbWUoKS4nPC9pbmZvPiAoPGNvbW1lbnQ+Jy4kdGhpcy0+cGFja2FnZS0+Z2V0RnVsbFByZXR0eVZlcnNpb24oKS4nPC9jb21tZW50PikgYXMgaW5zdGFsbGVkLCBhbGlhcyBvZiA8aW5mbz4nLiR0aGlzLT5wYWNrYWdlLT5nZXRBbGlhc09mKCktPmdldFByZXR0eU5hbWUoKS4nPC9pbmZvPiAoPGNvbW1lbnQ+Jy4kdGhpcy0+cGFja2FnZS0+Z2V0QWxpYXNPZigpLT5nZXRGdWxsUHJldHR5VmVyc2lvbigpLic8L2NvbW1lbnQ+KSc7Cn0KfQo8P3BocAoKCgoKCgoKCgoKCm5hbWVzcGFjZSBDb21wb3NlclxEZXBlbmRlbmN5UmVzb2x2ZXJcT3BlcmF0aW9uOwoKdXNlIENvbXBvc2VyXFBhY2thZ2VcQWxpYXNQYWNrYWdlOwoKCgoKCgpjbGFzcyBNYXJrQWxpYXNVbmluc3RhbGxlZE9wZXJhdGlvbiBleHRlbmRzIFNvbHZlck9wZXJhdGlvbiBpbXBsZW1lbnRzIE9wZXJhdGlvbkludGVyZmFjZQp7CmNvbnN0IFRZUEUgPSAnbWFya0FsaWFzVW5pbnN0YWxsZWQnOwoKCgoKcHJvdGVjdGVkICRwYWNrYWdlOwoKcHVibGljIGZ1bmN0aW9uIF9fY29uc3RydWN0KEFsaWFzUGFja2FnZSAkcGFja2FnZSkKewokdGhpcy0+cGFja2FnZSA9ICRwYWNrYWdlOwp9CgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBnZXRQYWNrYWdlKCkKewpyZXR1cm4gJHRoaXMtPnBhY2thZ2U7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBzaG93KCRsb2NrKQp7CnJldHVybiAnTWFya2luZyA8aW5mbz4nLiR0aGlzLT5wYWNrYWdlLT5nZXRQcmV0dHlOYW1lKCkuJzwvaW5mbz4gKDxjb21tZW50PicuJHRoaXMtPnBhY2thZ2UtPmdldEZ1bGxQcmV0dHlWZXJzaW9uKCkuJzwvY29tbWVudD4pIGFzIHVuaW5zdGFsbGVkLCBhbGlhcyBvZiA8aW5mbz4nLiR0aGlzLT5wYWNrYWdlLT5nZXRBbGlhc09mKCktPmdldFByZXR0eU5hbWUoKS4nPC9pbmZvPiAoPGNvbW1lbnQ+Jy4kdGhpcy0+cGFja2FnZS0+Z2V0QWxpYXNPZigpLT5nZXRGdWxsUHJldHR5VmVyc2lvbigpLic8L2NvbW1lbnQ+KSc7Cn0KfQo8P3BocAoKCgoKCgoKCgoKCm5hbWVzcGFjZSBDb21wb3NlclxEZXBlbmRlbmN5UmVzb2x2ZXJcT3BlcmF0aW9uOwoKCgoKCgppbnRlcmZhY2UgT3BlcmF0aW9uSW50ZXJmYWNlCnsKCgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0T3BlcmF0aW9uVHlwZSgpOwoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIHNob3coJGxvY2spOwoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gX190b1N0cmluZygpOwp9Cjw/cGhwCgoKCgoKCgoKCgoKbmFtZXNwYWNlIENvbXBvc2VyXERlcGVuZGVuY3lSZXNvbHZlclxPcGVyYXRpb247CgoKCgoKCmFic3RyYWN0IGNsYXNzIFNvbHZlck9wZXJhdGlvbiBpbXBsZW1lbnRzIE9wZXJhdGlvbkludGVyZmFjZQp7CmNvbnN0IFRZUEUgPSBudWxsOwoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0T3BlcmF0aW9uVHlwZSgpCnsKcmV0dXJuIHN0YXRpYzo6VFlQRTsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIF9fdG9TdHJpbmcoKQp7CnJldHVybiAkdGhpcy0+c2hvdyhmYWxzZSk7Cn0KfQo8P3BocAoKCgoKCgoKCgoKCm5hbWVzcGFjZSBDb21wb3NlclxEZXBlbmRlbmN5UmVzb2x2ZXJcT3BlcmF0aW9uOwoKdXNlIENvbXBvc2VyXFBhY2thZ2VcUGFja2FnZUludGVyZmFjZTsKCgoKCgoKY2xhc3MgVW5pbnN0YWxsT3BlcmF0aW9uIGV4dGVuZHMgU29sdmVyT3BlcmF0aW9uIGltcGxlbWVudHMgT3BlcmF0aW9uSW50ZXJmYWNlCnsKY29uc3QgVFlQRSA9ICd1bmluc3RhbGwnOwoKCgoKcHJvdGVjdGVkICRwYWNrYWdlOwoKcHVibGljIGZ1bmN0aW9uIF9fY29uc3RydWN0KFBhY2thZ2VJbnRlcmZhY2UgJHBhY2thZ2UpCnsKJHRoaXMtPnBhY2thZ2UgPSAkcGFja2FnZTsKfQoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0UGFja2FnZSgpCnsKcmV0dXJuICR0aGlzLT5wYWNrYWdlOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gc2hvdygkbG9jaykKewpyZXR1cm4gc2VsZjo6Zm9ybWF0KCR0aGlzLT5wYWNrYWdlLCAkbG9jayk7Cn0KCnB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gZm9ybWF0KFBhY2thZ2VJbnRlcmZhY2UgJHBhY2thZ2UsICRsb2NrID0gZmFsc2UpCnsKcmV0dXJuICdSZW1vdmluZyA8aW5mbz4nLiRwYWNrYWdlLT5nZXRQcmV0dHlOYW1lKCkuJzwvaW5mbz4gKDxjb21tZW50PicuJHBhY2thZ2UtPmdldEZ1bGxQcmV0dHlWZXJzaW9uKCkuJzwvY29tbWVudD4pJzsKfQp9Cjw/cGhwCgoKCgoKCgoKCgoKbmFtZXNwYWNlIENvbXBvc2VyXERlcGVuZGVuY3lSZXNvbHZlclxPcGVyYXRpb247Cgp1c2UgQ29tcG9zZXJcUGFja2FnZVxQYWNrYWdlSW50ZXJmYWNlOwp1c2UgQ29tcG9zZXJcUGFja2FnZVxWZXJzaW9uXFZlcnNpb25QYXJzZXI7CgoKCgoKCmNsYXNzIFVwZGF0ZU9wZXJhdGlvbiBleHRlbmRzIFNvbHZlck9wZXJhdGlvbiBpbXBsZW1lbnRzIE9wZXJhdGlvbkludGVyZmFjZQp7CmNvbnN0IFRZUEUgPSAndXBkYXRlJzsKCgoKCnByb3RlY3RlZCAkaW5pdGlhbFBhY2thZ2U7CgoKCgpwcm90ZWN0ZWQgJHRhcmdldFBhY2thZ2U7CgoKCgoKcHVibGljIGZ1bmN0aW9uIF9fY29uc3RydWN0KFBhY2thZ2VJbnRlcmZhY2UgJGluaXRpYWwsIFBhY2thZ2VJbnRlcmZhY2UgJHRhcmdldCkKewokdGhpcy0+aW5pdGlhbFBhY2thZ2UgPSAkaW5pdGlhbDsKJHRoaXMtPnRhcmdldFBhY2thZ2UgPSAkdGFyZ2V0Owp9CgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBnZXRJbml0aWFsUGFja2FnZSgpCnsKcmV0dXJuICR0aGlzLT5pbml0aWFsUGFja2FnZTsKfQoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0VGFyZ2V0UGFja2FnZSgpCnsKcmV0dXJuICR0aGlzLT50YXJnZXRQYWNrYWdlOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gc2hvdygkbG9jaykKewpyZXR1cm4gc2VsZjo6Zm9ybWF0KCR0aGlzLT5pbml0aWFsUGFja2FnZSwgJHRoaXMtPnRhcmdldFBhY2thZ2UsICRsb2NrKTsKfQoKcHVibGljIHN0YXRpYyBmdW5jdGlvbiBmb3JtYXQoUGFja2FnZUludGVyZmFjZSAkaW5pdGlhbFBhY2thZ2UsIFBhY2thZ2VJbnRlcmZhY2UgJHRhcmdldFBhY2thZ2UsICRsb2NrID0gZmFsc2UpCnsKJGZyb21WZXJzaW9uID0gJGluaXRpYWxQYWNrYWdlLT5nZXRGdWxsUHJldHR5VmVyc2lvbigpOwokdG9WZXJzaW9uID0gJHRhcmdldFBhY2thZ2UtPmdldEZ1bGxQcmV0dHlWZXJzaW9uKCk7CgppZiAoJGZyb21WZXJzaW9uID09PSAkdG9WZXJzaW9uICYmICRpbml0aWFsUGFja2FnZS0+Z2V0U291cmNlUmVmZXJlbmNlKCkgIT09ICR0YXJnZXRQYWNrYWdlLT5nZXRTb3VyY2VSZWZlcmVuY2UoKSkgewokZnJvbVZlcnNpb24gPSAkaW5pdGlhbFBhY2thZ2UtPmdldEZ1bGxQcmV0dHlWZXJzaW9uKHRydWUsIFBhY2thZ2VJbnRlcmZhY2U6OkRJU1BMQVlfU09VUkNFX1JFRik7CiR0b1ZlcnNpb24gPSAkdGFyZ2V0UGFja2FnZS0+Z2V0RnVsbFByZXR0eVZlcnNpb24odHJ1ZSwgUGFja2FnZUludGVyZmFjZTo6RElTUExBWV9TT1VSQ0VfUkVGKTsKfSBlbHNlaWYgKCRmcm9tVmVyc2lvbiA9PT0gJHRvVmVyc2lvbiAmJiAkaW5pdGlhbFBhY2thZ2UtPmdldERpc3RSZWZlcmVuY2UoKSAhPT0gJHRhcmdldFBhY2thZ2UtPmdldERpc3RSZWZlcmVuY2UoKSkgewokZnJvbVZlcnNpb24gPSAkaW5pdGlhbFBhY2thZ2UtPmdldEZ1bGxQcmV0dHlWZXJzaW9uKHRydWUsIFBhY2thZ2VJbnRlcmZhY2U6OkRJU1BMQVlfRElTVF9SRUYpOwokdG9WZXJzaW9uID0gJHRhcmdldFBhY2thZ2UtPmdldEZ1bGxQcmV0dHlWZXJzaW9uKHRydWUsIFBhY2thZ2VJbnRlcmZhY2U6OkRJU1BMQVlfRElTVF9SRUYpOwp9CgokYWN0aW9uTmFtZSA9IFZlcnNpb25QYXJzZXI6OmlzVXBncmFkZSgkaW5pdGlhbFBhY2thZ2UtPmdldFZlcnNpb24oKSwgJHRhcmdldFBhY2thZ2UtPmdldFZlcnNpb24oKSkgPyAnVXBncmFkaW5nJyA6ICdEb3duZ3JhZGluZyc7CgpyZXR1cm4gJGFjdGlvbk5hbWUuJyA8aW5mbz4nLiRpbml0aWFsUGFja2FnZS0+Z2V0UHJldHR5TmFtZSgpLic8L2luZm8+ICg8Y29tbWVudD4nLiRmcm9tVmVyc2lvbi4nPC9jb21tZW50PiA9PiA8Y29tbWVudD4nLiR0b1ZlcnNpb24uJzwvY29tbWVudD4pJzsKfQp9Cjw/cGhwCgoKCgoKCgoKCgoKbmFtZXNwYWNlIENvbXBvc2VyXERlcGVuZGVuY3lSZXNvbHZlcjsKCnVzZSBDb21wb3NlclxQYWNrYWdlXFBhY2thZ2VJbnRlcmZhY2U7CgoKCgppbnRlcmZhY2UgUG9saWN5SW50ZXJmYWNlCnsKcHVibGljIGZ1bmN0aW9uIHZlcnNpb25Db21wYXJlKFBhY2thZ2VJbnRlcmZhY2UgJGEsIFBhY2thZ2VJbnRlcmZhY2UgJGIsICRvcGVyYXRvcik7CgpwdWJsaWMgZnVuY3Rpb24gc2VsZWN0UHJlZmVycmVkUGFja2FnZXMoUG9vbCAkcG9vbCwgYXJyYXkgJGxpdGVyYWxzLCAkcmVxdWlyZWRQYWNrYWdlID0gbnVsbCk7Cn0KPD9waHAKCgoKCgoKCgoKCgpuYW1lc3BhY2UgQ29tcG9zZXJcRGVwZW5kZW5jeVJlc29sdmVyOwoKdXNlIENvbXBvc2VyXFBhY2thZ2VcVmVyc2lvblxWZXJzaW9uUGFyc2VyOwp1c2UgQ29tcG9zZXJcU2VtdmVyXENvbXBpbGluZ01hdGNoZXI7CnVzZSBDb21wb3NlclxTZW12ZXJcQ29uc3RyYWludFxDb25zdHJhaW50SW50ZXJmYWNlOwp1c2UgQ29tcG9zZXJcU2VtdmVyXENvbnN0cmFpbnRcQ29uc3RyYWludDsKdXNlIENvbXBvc2VyXFBhY2thZ2VcQmFzZVBhY2thZ2U7CgoKCgoKCgpjbGFzcyBQb29sIGltcGxlbWVudHMgXENvdW50YWJsZQp7Cgpwcm90ZWN0ZWQgJHBhY2thZ2VzID0gYXJyYXkoKTsKCnByb3RlY3RlZCAkcGFja2FnZUJ5TmFtZSA9IGFycmF5KCk7CnByb3RlY3RlZCAkdmVyc2lvblBhcnNlcjsKcHJvdGVjdGVkICRwcm92aWRlckNhY2hlID0gYXJyYXkoKTsKCnByb3RlY3RlZCAkdW5hY2NlcHRhYmxlRml4ZWRPckxvY2tlZFBhY2thZ2VzOwoKcHVibGljIGZ1bmN0aW9uIF9fY29uc3RydWN0KGFycmF5ICRwYWNrYWdlcyA9IGFycmF5KCksIGFycmF5ICR1bmFjY2VwdGFibGVGaXhlZE9yTG9ja2VkUGFja2FnZXMgPSBhcnJheSgpKQp7CiR0aGlzLT52ZXJzaW9uUGFyc2VyID0gbmV3IFZlcnNpb25QYXJzZXI7CiR0aGlzLT5zZXRQYWNrYWdlcygkcGFja2FnZXMpOwokdGhpcy0+dW5hY2NlcHRhYmxlRml4ZWRPckxvY2tlZFBhY2thZ2VzID0gJHVuYWNjZXB0YWJsZUZpeGVkT3JMb2NrZWRQYWNrYWdlczsKfQoKcHJpdmF0ZSBmdW5jdGlvbiBzZXRQYWNrYWdlcyhhcnJheSAkcGFja2FnZXMpCnsKJGlkID0gMTsKCmZvcmVhY2ggKCRwYWNrYWdlcyBhcyAkcGFja2FnZSkgewokdGhpcy0+cGFja2FnZXNbXSA9ICRwYWNrYWdlOwoKJHBhY2thZ2UtPmlkID0gJGlkKys7Cgpmb3JlYWNoICgkcGFja2FnZS0+Z2V0TmFtZXMoKSBhcyAkcHJvdmlkZWQpIHsKJHRoaXMtPnBhY2thZ2VCeU5hbWVbJHByb3ZpZGVkXVtdID0gJHBhY2thZ2U7Cn0KfQp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0UGFja2FnZXMoKQp7CnJldHVybiAkdGhpcy0+cGFja2FnZXM7Cn0KCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBwYWNrYWdlQnlJZCgkaWQpCnsKcmV0dXJuICR0aGlzLT5wYWNrYWdlc1skaWQgLSAxXTsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIGNvdW50KCkKewpyZXR1cm4gXGNvdW50KCR0aGlzLT5wYWNrYWdlcyk7Cn0KCgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIHdoYXRQcm92aWRlcygkbmFtZSwgQ29uc3RyYWludEludGVyZmFjZSAkY29uc3RyYWludCA9IG51bGwpCnsKJGtleSA9IChzdHJpbmcpICRjb25zdHJhaW50OwppZiAoaXNzZXQoJHRoaXMtPnByb3ZpZGVyQ2FjaGVbJG5hbWVdWyRrZXldKSkgewpyZXR1cm4gJHRoaXMtPnByb3ZpZGVyQ2FjaGVbJG5hbWVdWyRrZXldOwp9CgpyZXR1cm4gJHRoaXMtPnByb3ZpZGVyQ2FjaGVbJG5hbWVdWyRrZXldID0gJHRoaXMtPmNvbXB1dGVXaGF0UHJvdmlkZXMoJG5hbWUsICRjb25zdHJhaW50KTsKfQoKCgoKcHJpdmF0ZSBmdW5jdGlvbiBjb21wdXRlV2hhdFByb3ZpZGVzKCRuYW1lLCAkY29uc3RyYWludCkKewppZiAoIWlzc2V0KCR0aGlzLT5wYWNrYWdlQnlOYW1lWyRuYW1lXSkpIHsKcmV0dXJuIGFycmF5KCk7Cn0KCiRtYXRjaGVzID0gYXJyYXkoKTsKCmZvcmVhY2ggKCR0aGlzLT5wYWNrYWdlQnlOYW1lWyRuYW1lXSBhcyAkY2FuZGlkYXRlKSB7CmlmICgkdGhpcy0+bWF0Y2goJGNhbmRpZGF0ZSwgJG5hbWUsICRjb25zdHJhaW50KSkgewokbWF0Y2hlc1tdID0gJGNhbmRpZGF0ZTsKfQp9CgpyZXR1cm4gJG1hdGNoZXM7Cn0KCnB1YmxpYyBmdW5jdGlvbiBsaXRlcmFsVG9QYWNrYWdlKCRsaXRlcmFsKQp7CiRwYWNrYWdlSWQgPSBhYnMoJGxpdGVyYWwpOwoKcmV0dXJuICR0aGlzLT5wYWNrYWdlQnlJZCgkcGFja2FnZUlkKTsKfQoKcHVibGljIGZ1bmN0aW9uIGxpdGVyYWxUb1ByZXR0eVN0cmluZygkbGl0ZXJhbCwgJGluc3RhbGxlZE1hcCkKewokcGFja2FnZSA9ICR0aGlzLT5saXRlcmFsVG9QYWNrYWdlKCRsaXRlcmFsKTsKCmlmIChpc3NldCgkaW5zdGFsbGVkTWFwWyRwYWNrYWdlLT5pZF0pKSB7CiRwcmVmaXggPSAoJGxpdGVyYWwgPiAwID8gJ2tlZXAnIDogJ3JlbW92ZScpOwp9IGVsc2UgewokcHJlZml4ID0gKCRsaXRlcmFsID4gMCA/ICdpbnN0YWxsJyA6ICdkb25cJ3QgaW5zdGFsbCcpOwp9CgpyZXR1cm4gJHByZWZpeC4nICcuJHBhY2thZ2UtPmdldFByZXR0eVN0cmluZygpOwp9CgoKCgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gbWF0Y2goQmFzZVBhY2thZ2UgJGNhbmRpZGF0ZSwgJG5hbWUsIENvbnN0cmFpbnRJbnRlcmZhY2UgJGNvbnN0cmFpbnQgPSBudWxsKQp7CiRjYW5kaWRhdGVOYW1lID0gJGNhbmRpZGF0ZS0+Z2V0TmFtZSgpOwokY2FuZGlkYXRlVmVyc2lvbiA9ICRjYW5kaWRhdGUtPmdldFZlcnNpb24oKTsKCmlmICgkY2FuZGlkYXRlTmFtZSA9PT0gJG5hbWUpIHsKcmV0dXJuICRjb25zdHJhaW50ID09PSBudWxsIHx8IENvbXBpbGluZ01hdGNoZXI6Om1hdGNoKCRjb25zdHJhaW50LCBDb25zdHJhaW50OjpPUF9FUSwgJGNhbmRpZGF0ZVZlcnNpb24pOwp9CgokcHJvdmlkZXMgPSAkY2FuZGlkYXRlLT5nZXRQcm92aWRlcygpOwokcmVwbGFjZXMgPSAkY2FuZGlkYXRlLT5nZXRSZXBsYWNlcygpOwoKCmlmIChpc3NldCgkcmVwbGFjZXNbMF0pIHx8IGlzc2V0KCRwcm92aWRlc1swXSkpIHsKZm9yZWFjaCAoJHByb3ZpZGVzIGFzICRsaW5rKSB7CmlmICgkbGluay0+Z2V0VGFyZ2V0KCkgPT09ICRuYW1lICYmICgkY29uc3RyYWludCA9PT0gbnVsbCB8fCAkY29uc3RyYWludC0+bWF0Y2hlcygkbGluay0+Z2V0Q29uc3RyYWludCgpKSkpIHsKcmV0dXJuIHRydWU7Cn0KfQoKZm9yZWFjaCAoJHJlcGxhY2VzIGFzICRsaW5rKSB7CmlmICgkbGluay0+Z2V0VGFyZ2V0KCkgPT09ICRuYW1lICYmICgkY29uc3RyYWludCA9PT0gbnVsbCB8fCAkY29uc3RyYWludC0+bWF0Y2hlcygkbGluay0+Z2V0Q29uc3RyYWludCgpKSkpIHsKcmV0dXJuIHRydWU7Cn0KfQoKcmV0dXJuIGZhbHNlOwp9CgppZiAoaXNzZXQoJHByb3ZpZGVzWyRuYW1lXSkgJiYgKCRjb25zdHJhaW50ID09PSBudWxsIHx8ICRjb25zdHJhaW50LT5tYXRjaGVzKCRwcm92aWRlc1skbmFtZV0tPmdldENvbnN0cmFpbnQoKSkpKSB7CnJldHVybiB0cnVlOwp9CgppZiAoaXNzZXQoJHJlcGxhY2VzWyRuYW1lXSkgJiYgKCRjb25zdHJhaW50ID09PSBudWxsIHx8ICRjb25zdHJhaW50LT5tYXRjaGVzKCRyZXBsYWNlc1skbmFtZV0tPmdldENvbnN0cmFpbnQoKSkpKSB7CnJldHVybiB0cnVlOwp9CgpyZXR1cm4gZmFsc2U7Cn0KCnB1YmxpYyBmdW5jdGlvbiBpc1VuYWNjZXB0YWJsZUZpeGVkT3JMb2NrZWRQYWNrYWdlKEJhc2VQYWNrYWdlICRwYWNrYWdlKQp7CnJldHVybiBcaW5fYXJyYXkoJHBhY2thZ2UsICR0aGlzLT51bmFjY2VwdGFibGVGaXhlZE9yTG9ja2VkUGFja2FnZXMsIHRydWUpOwp9CgpwdWJsaWMgZnVuY3Rpb24gX190b1N0cmluZygpCnsKJHN0ciA9ICJQb29sOlxuIjsKCmZvcmVhY2ggKCR0aGlzLT5wYWNrYWdlcyBhcyAkcGFja2FnZSkgewokc3RyIC49ICctICcuc3RyX3BhZCgkcGFja2FnZS0+aWQsIDYsICcgJywgU1RSX1BBRF9MRUZUKS4nOiAnLiRwYWNrYWdlLT5nZXROYW1lKCkuIlxuIjsKfQoKcmV0dXJuICRzdHI7Cn0KfQo8P3BocAoKCgoKCgoKCgoKCm5hbWVzcGFjZSBDb21wb3NlclxEZXBlbmRlbmN5UmVzb2x2ZXI7Cgp1c2UgQ29tcG9zZXJcRXZlbnREaXNwYXRjaGVyXEV2ZW50RGlzcGF0Y2hlcjsKdXNlIENvbXBvc2VyXElPXElPSW50ZXJmYWNlOwp1c2UgQ29tcG9zZXJcUGFja2FnZVxBbGlhc1BhY2thZ2U7CnVzZSBDb21wb3NlclxQYWNrYWdlXEJhc2VQYWNrYWdlOwp1c2UgQ29tcG9zZXJcUGFja2FnZVxDb21wbGV0ZUFsaWFzUGFja2FnZTsKdXNlIENvbXBvc2VyXFBhY2thZ2VcQ29tcGxldGVQYWNrYWdlSW50ZXJmYWNlOwp1c2UgQ29tcG9zZXJcUGFja2FnZVxQYWNrYWdlSW50ZXJmYWNlOwp1c2UgQ29tcG9zZXJcUGFja2FnZVxWZXJzaW9uXFN0YWJpbGl0eUZpbHRlcjsKdXNlIENvbXBvc2VyXFBsdWdpblxQbHVnaW5FdmVudHM7CnVzZSBDb21wb3NlclxQbHVnaW5cUHJlUG9vbENyZWF0ZUV2ZW50Owp1c2UgQ29tcG9zZXJcUmVwb3NpdG9yeVxQbGF0Zm9ybVJlcG9zaXRvcnk7CnVzZSBDb21wb3NlclxSZXBvc2l0b3J5XFJvb3RQYWNrYWdlUmVwb3NpdG9yeTsKdXNlIENvbXBvc2VyXFNlbXZlclxDb21waWxpbmdNYXRjaGVyOwp1c2UgQ29tcG9zZXJcU2VtdmVyXENvbnN0cmFpbnRcQ29uc3RyYWludDsKdXNlIENvbXBvc2VyXFNlbXZlclxDb25zdHJhaW50XENvbnN0cmFpbnRJbnRlcmZhY2U7CnVzZSBDb21wb3NlclxTZW12ZXJcQ29uc3RyYWludFxNYXRjaEFsbENvbnN0cmFpbnQ7CnVzZSBDb21wb3NlclxTZW12ZXJcQ29uc3RyYWludFxNdWx0aUNvbnN0cmFpbnQ7CnVzZSBDb21wb3NlclxTZW12ZXJcSW50ZXJ2YWxzOwoKCgoKY2xhc3MgUG9vbEJ1aWxkZXIKewoKCgpwcml2YXRlICRhY2NlcHRhYmxlU3RhYmlsaXRpZXM7CgoKCnByaXZhdGUgJHN0YWJpbGl0eUZsYWdzOwoKCgoKcHJpdmF0ZSAkcm9vdEFsaWFzZXM7CgoKCgpwcml2YXRlICRyb290UmVmZXJlbmNlczsKCgoKcHJpdmF0ZSAkZXZlbnREaXNwYXRjaGVyOwoKCgpwcml2YXRlICRpbzsKCgoKCnByaXZhdGUgJGFsaWFzTWFwID0gYXJyYXkoKTsKCgoKCnByaXZhdGUgJHBhY2thZ2VzVG9Mb2FkID0gYXJyYXkoKTsKCgoKCnByaXZhdGUgJGxvYWRlZFBhY2thZ2VzID0gYXJyYXkoKTsKCgoKCnByaXZhdGUgJGxvYWRlZFBlclJlcG8gPSBhcnJheSgpOwoKCgpwcml2YXRlICRwYWNrYWdlcyA9IGFycmF5KCk7CgoKCgpwcml2YXRlICR1bmFjY2VwdGFibGVGaXhlZE9yTG9ja2VkUGFja2FnZXMgPSBhcnJheSgpOwpwcml2YXRlICR1cGRhdGVBbGxvd0xpc3QgPSBhcnJheSgpOwpwcml2YXRlICRza2lwcGVkTG9hZCA9IGFycmF5KCk7CgoKCgoKCgoKCnByaXZhdGUgJG1heEV4dGVuZGVkUmVxcyA9IGFycmF5KCk7CgoKCgpwcml2YXRlICR1cGRhdGVBbGxvd1dhcm5lZCA9IGFycmF5KCk7Cgpwcml2YXRlICRpbmRleENvdW50ZXIgPSAwOwoKCgoKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBfX2NvbnN0cnVjdChhcnJheSAkYWNjZXB0YWJsZVN0YWJpbGl0aWVzLCBhcnJheSAkc3RhYmlsaXR5RmxhZ3MsIGFycmF5ICRyb290QWxpYXNlcywgYXJyYXkgJHJvb3RSZWZlcmVuY2VzLCBJT0ludGVyZmFjZSAkaW8sIEV2ZW50RGlzcGF0Y2hlciAkZXZlbnREaXNwYXRjaGVyID0gbnVsbCkKewokdGhpcy0+YWNjZXB0YWJsZVN0YWJpbGl0aWVzID0gJGFjY2VwdGFibGVTdGFiaWxpdGllczsKJHRoaXMtPnN0YWJpbGl0eUZsYWdzID0gJHN0YWJpbGl0eUZsYWdzOwokdGhpcy0+cm9vdEFsaWFzZXMgPSAkcm9vdEFsaWFzZXM7CiR0aGlzLT5yb290UmVmZXJlbmNlcyA9ICRyb290UmVmZXJlbmNlczsKJHRoaXMtPmV2ZW50RGlzcGF0Y2hlciA9ICRldmVudERpc3BhdGNoZXI7CiR0aGlzLT5pbyA9ICRpbzsKfQoKcHVibGljIGZ1bmN0aW9uIGJ1aWxkUG9vbChhcnJheSAkcmVwb3NpdG9yaWVzLCBSZXF1ZXN0ICRyZXF1ZXN0KQp7CmlmICgkcmVxdWVzdC0+Z2V0VXBkYXRlQWxsb3dMaXN0KCkpIHsKJHRoaXMtPnVwZGF0ZUFsbG93TGlzdCA9ICRyZXF1ZXN0LT5nZXRVcGRhdGVBbGxvd0xpc3QoKTsKJHRoaXMtPndhcm5BYm91dE5vbk1hdGNoaW5nVXBkYXRlQWxsb3dMaXN0KCRyZXF1ZXN0KTsKCmZvcmVhY2ggKCRyZXF1ZXN0LT5nZXRMb2NrZWRSZXBvc2l0b3J5KCktPmdldFBhY2thZ2VzKCkgYXMgJGxvY2tlZFBhY2thZ2UpIHsKaWYgKCEkdGhpcy0+aXNVcGRhdGVBbGxvd2VkKCRsb2NrZWRQYWNrYWdlKSkgewokcmVxdWVzdC0+bG9ja1BhY2thZ2UoJGxvY2tlZFBhY2thZ2UpOwokbG9ja2VkTmFtZSA9ICRsb2NrZWRQYWNrYWdlLT5nZXROYW1lKCk7CgokdGhpcy0+c2tpcHBlZExvYWRbJGxvY2tlZE5hbWVdID0gJGxvY2tlZE5hbWU7CmZvcmVhY2ggKCRsb2NrZWRQYWNrYWdlLT5nZXRSZXBsYWNlcygpIGFzICRsaW5rKSB7CiR0aGlzLT5za2lwcGVkTG9hZFskbGluay0+Z2V0VGFyZ2V0KCldID0gJGxvY2tlZE5hbWU7Cn0KfQp9Cn0KCmZvcmVhY2ggKCRyZXF1ZXN0LT5nZXRGaXhlZE9yTG9ja2VkUGFja2FnZXMoKSBhcyAkcGFja2FnZSkgewoKCiR0aGlzLT5sb2FkZWRQYWNrYWdlc1skcGFja2FnZS0+Z2V0TmFtZSgpXSA9IG5ldyBNYXRjaEFsbENvbnN0cmFpbnQoKTsKCgpmb3JlYWNoICgkcGFja2FnZS0+Z2V0UmVwbGFjZXMoKSBhcyAkbGluaykgewokdGhpcy0+bG9hZGVkUGFja2FnZXNbJGxpbmstPmdldFRhcmdldCgpXSA9IG5ldyBNYXRjaEFsbENvbnN0cmFpbnQoKTsKfQoKCgoKaWYgKAokcGFja2FnZS0+Z2V0UmVwb3NpdG9yeSgpIGluc3RhbmNlb2YgUm9vdFBhY2thZ2VSZXBvc2l0b3J5Cnx8ICRwYWNrYWdlLT5nZXRSZXBvc2l0b3J5KCkgaW5zdGFuY2VvZiBQbGF0Zm9ybVJlcG9zaXRvcnkKfHwgU3RhYmlsaXR5RmlsdGVyOjppc1BhY2thZ2VBY2NlcHRhYmxlKCR0aGlzLT5hY2NlcHRhYmxlU3RhYmlsaXRpZXMsICR0aGlzLT5zdGFiaWxpdHlGbGFncywgJHBhY2thZ2UtPmdldE5hbWVzKCksICRwYWNrYWdlLT5nZXRTdGFiaWxpdHkoKSkKKSB7CiR0aGlzLT5sb2FkUGFja2FnZSgkcmVxdWVzdCwgJHBhY2thZ2UsIGZhbHNlKTsKfSBlbHNlIHsKJHRoaXMtPnVuYWNjZXB0YWJsZUZpeGVkT3JMb2NrZWRQYWNrYWdlc1tdID0gJHBhY2thZ2U7Cn0KfQoKZm9yZWFjaCAoJHJlcXVlc3QtPmdldFJlcXVpcmVzKCkgYXMgJHBhY2thZ2VOYW1lID0+ICRjb25zdHJhaW50KSB7CgppZiAoaXNzZXQoJHRoaXMtPmxvYWRlZFBhY2thZ2VzWyRwYWNrYWdlTmFtZV0pKSB7CmNvbnRpbnVlOwp9CgokdGhpcy0+cGFja2FnZXNUb0xvYWRbJHBhY2thZ2VOYW1lXSA9ICRjb25zdHJhaW50OwokdGhpcy0+bWF4RXh0ZW5kZWRSZXFzWyRwYWNrYWdlTmFtZV0gPSB0cnVlOwp9CgoKZm9yZWFjaCAoJHRoaXMtPnBhY2thZ2VzVG9Mb2FkIGFzICRuYW1lID0+ICRjb25zdHJhaW50KSB7CmlmIChpc3NldCgkdGhpcy0+bG9hZGVkUGFja2FnZXNbJG5hbWVdKSkgewp1bnNldCgkdGhpcy0+cGFja2FnZXNUb0xvYWRbJG5hbWVdKTsKfQp9Cgp3aGlsZSAoIWVtcHR5KCR0aGlzLT5wYWNrYWdlc1RvTG9hZCkpIHsKJHRoaXMtPmxvYWRQYWNrYWdlc01hcmtlZEZvckxvYWRpbmcoJHJlcXVlc3QsICRyZXBvc2l0b3JpZXMpOwp9Cgpmb3JlYWNoICgkdGhpcy0+cGFja2FnZXMgYXMgJGkgPT4gJHBhY2thZ2UpIHsKCgppZiAoISRwYWNrYWdlIGluc3RhbmNlb2YgQWxpYXNQYWNrYWdlKSB7CiRjb25zdHJhaW50ID0gbmV3IENvbnN0cmFpbnQoJz09JywgJHBhY2thZ2UtPmdldFZlcnNpb24oKSk7CiRhbGlhc2VkUGFja2FnZXMgPSBhcnJheSgkaSA9PiAkcGFja2FnZSk7CmlmIChpc3NldCgkdGhpcy0+YWxpYXNNYXBbc3BsX29iamVjdF9oYXNoKCRwYWNrYWdlKV0pKSB7CiRhbGlhc2VkUGFja2FnZXMgKz0gJHRoaXMtPmFsaWFzTWFwW3NwbF9vYmplY3RfaGFzaCgkcGFja2FnZSldOwp9CgokZm91bmQgPSBmYWxzZTsKZm9yZWFjaCAoJGFsaWFzZWRQYWNrYWdlcyBhcyAkcGFja2FnZU9yQWxpYXMpIHsKaWYgKENvbXBpbGluZ01hdGNoZXI6Om1hdGNoKCRjb25zdHJhaW50LCBDb25zdHJhaW50OjpPUF9FUSwgJHBhY2thZ2VPckFsaWFzLT5nZXRWZXJzaW9uKCkpKSB7CiRmb3VuZCA9IHRydWU7Cn0KfQppZiAoISRmb3VuZCkgewpmb3JlYWNoICgkYWxpYXNlZFBhY2thZ2VzIGFzICRpbmRleCA9PiAkcGFja2FnZU9yQWxpYXMpIHsKdW5zZXQoJHRoaXMtPnBhY2thZ2VzWyRpbmRleF0pOwp9Cn0KfQp9CgppZiAoJHRoaXMtPmV2ZW50RGlzcGF0Y2hlcikgewokcHJlUG9vbENyZWF0ZUV2ZW50ID0gbmV3IFByZVBvb2xDcmVhdGVFdmVudCgKUGx1Z2luRXZlbnRzOjpQUkVfUE9PTF9DUkVBVEUsCiRyZXBvc2l0b3JpZXMsCiRyZXF1ZXN0LAokdGhpcy0+YWNjZXB0YWJsZVN0YWJpbGl0aWVzLAokdGhpcy0+c3RhYmlsaXR5RmxhZ3MsCiR0aGlzLT5yb290QWxpYXNlcywKJHRoaXMtPnJvb3RSZWZlcmVuY2VzLAokdGhpcy0+cGFja2FnZXMsCiR0aGlzLT51bmFjY2VwdGFibGVGaXhlZE9yTG9ja2VkUGFja2FnZXMKKTsKJHRoaXMtPmV2ZW50RGlzcGF0Y2hlci0+ZGlzcGF0Y2goJHByZVBvb2xDcmVhdGVFdmVudC0+Z2V0TmFtZSgpLCAkcHJlUG9vbENyZWF0ZUV2ZW50KTsKJHRoaXMtPnBhY2thZ2VzID0gJHByZVBvb2xDcmVhdGVFdmVudC0+Z2V0UGFja2FnZXMoKTsKJHRoaXMtPnVuYWNjZXB0YWJsZUZpeGVkT3JMb2NrZWRQYWNrYWdlcyA9ICRwcmVQb29sQ3JlYXRlRXZlbnQtPmdldFVuYWNjZXB0YWJsZUZpeGVkUGFja2FnZXMoKTsKfQoKJHBvb2wgPSBuZXcgUG9vbCgkdGhpcy0+cGFja2FnZXMsICR0aGlzLT51bmFjY2VwdGFibGVGaXhlZE9yTG9ja2VkUGFja2FnZXMpOwoKJHRoaXMtPmFsaWFzTWFwID0gYXJyYXkoKTsKJHRoaXMtPnBhY2thZ2VzVG9Mb2FkID0gYXJyYXkoKTsKJHRoaXMtPmxvYWRlZFBhY2thZ2VzID0gYXJyYXkoKTsKJHRoaXMtPmxvYWRlZFBlclJlcG8gPSBhcnJheSgpOwokdGhpcy0+cGFja2FnZXMgPSBhcnJheSgpOwokdGhpcy0+dW5hY2NlcHRhYmxlRml4ZWRPckxvY2tlZFBhY2thZ2VzID0gYXJyYXkoKTsKJHRoaXMtPm1heEV4dGVuZGVkUmVxcyA9IGFycmF5KCk7CiR0aGlzLT5za2lwcGVkTG9hZCA9IGFycmF5KCk7CiR0aGlzLT5pbmRleENvdW50ZXIgPSAwOwoKSW50ZXJ2YWxzOjpjbGVhcigpOwoKcmV0dXJuICRwb29sOwp9Cgpwcml2YXRlIGZ1bmN0aW9uIG1hcmtQYWNrYWdlTmFtZUZvckxvYWRpbmcoUmVxdWVzdCAkcmVxdWVzdCwgJG5hbWUsIENvbnN0cmFpbnRJbnRlcmZhY2UgJGNvbnN0cmFpbnQpCnsKCmlmIChQbGF0Zm9ybVJlcG9zaXRvcnk6OmlzUGxhdGZvcm1QYWNrYWdlKCRuYW1lKSkgewpyZXR1cm47Cn0KCgoKaWYgKGlzc2V0KCR0aGlzLT5tYXhFeHRlbmRlZFJlcXNbJG5hbWVdKSkgewpyZXR1cm47Cn0KCgoKCgokcm9vdFJlcXVpcmVzID0gJHJlcXVlc3QtPmdldFJlcXVpcmVzKCk7CmlmIChpc3NldCgkcm9vdFJlcXVpcmVzWyRuYW1lXSkgJiYgIUludGVydmFsczo6aXNTdWJzZXRPZigkY29uc3RyYWludCwgJHJvb3RSZXF1aXJlc1skbmFtZV0pKSB7CiRjb25zdHJhaW50ID0gJHJvb3RSZXF1aXJlc1skbmFtZV07Cn0KCgppZiAoIWlzc2V0KCR0aGlzLT5sb2FkZWRQYWNrYWdlc1skbmFtZV0pKSB7CgoKCmlmIChpc3NldCgkdGhpcy0+cGFja2FnZXNUb0xvYWRbJG5hbWVdKSkgewoKaWYgKEludGVydmFsczo6aXNTdWJzZXRPZigkY29uc3RyYWludCwgJHRoaXMtPnBhY2thZ2VzVG9Mb2FkWyRuYW1lXSkpIHsKcmV0dXJuOwp9CgoKJGNvbnN0cmFpbnQgPSBJbnRlcnZhbHM6OmNvbXBhY3RDb25zdHJhaW50KE11bHRpQ29uc3RyYWludDo6Y3JlYXRlKGFycmF5KCR0aGlzLT5wYWNrYWdlc1RvTG9hZFskbmFtZV0sICRjb25zdHJhaW50KSwgZmFsc2UpKTsKfQoKJHRoaXMtPnBhY2thZ2VzVG9Mb2FkWyRuYW1lXSA9ICRjb25zdHJhaW50OwoKcmV0dXJuOwp9CgoKCmlmIChJbnRlcnZhbHM6OmlzU3Vic2V0T2YoJGNvbnN0cmFpbnQsICR0aGlzLT5sb2FkZWRQYWNrYWdlc1skbmFtZV0pKSB7CnJldHVybjsKfQoKCgoKJHRoaXMtPnBhY2thZ2VzVG9Mb2FkWyRuYW1lXSA9IEludGVydmFsczo6Y29tcGFjdENvbnN0cmFpbnQoTXVsdGlDb25zdHJhaW50OjpjcmVhdGUoYXJyYXkoJHRoaXMtPmxvYWRlZFBhY2thZ2VzWyRuYW1lXSwgJGNvbnN0cmFpbnQpLCBmYWxzZSkpOwp1bnNldCgkdGhpcy0+bG9hZGVkUGFja2FnZXNbJG5hbWVdKTsKfQoKcHJpdmF0ZSBmdW5jdGlvbiBsb2FkUGFja2FnZXNNYXJrZWRGb3JMb2FkaW5nKFJlcXVlc3QgJHJlcXVlc3QsICRyZXBvc2l0b3JpZXMpCnsKZm9yZWFjaCAoJHRoaXMtPnBhY2thZ2VzVG9Mb2FkIGFzICRuYW1lID0+ICRjb25zdHJhaW50KSB7CiR0aGlzLT5sb2FkZWRQYWNrYWdlc1skbmFtZV0gPSAkY29uc3RyYWludDsKfQoKJHBhY2thZ2VCYXRjaCA9ICR0aGlzLT5wYWNrYWdlc1RvTG9hZDsKJHRoaXMtPnBhY2thZ2VzVG9Mb2FkID0gYXJyYXkoKTsKCmZvcmVhY2ggKCRyZXBvc2l0b3JpZXMgYXMgJHJlcG9JbmRleCA9PiAkcmVwb3NpdG9yeSkgewppZiAoZW1wdHkoJHBhY2thZ2VCYXRjaCkpIHsKYnJlYWs7Cn0KCgoKaWYgKCRyZXBvc2l0b3J5IGluc3RhbmNlb2YgUGxhdGZvcm1SZXBvc2l0b3J5IHx8ICRyZXBvc2l0b3J5ID09PSAkcmVxdWVzdC0+Z2V0TG9ja2VkUmVwb3NpdG9yeSgpKSB7CmNvbnRpbnVlOwp9CiRyZXN1bHQgPSAkcmVwb3NpdG9yeS0+bG9hZFBhY2thZ2VzKCRwYWNrYWdlQmF0Y2gsICR0aGlzLT5hY2NlcHRhYmxlU3RhYmlsaXRpZXMsICR0aGlzLT5zdGFiaWxpdHlGbGFncywgaXNzZXQoJHRoaXMtPmxvYWRlZFBlclJlcG9bJHJlcG9JbmRleF0pID8gJHRoaXMtPmxvYWRlZFBlclJlcG9bJHJlcG9JbmRleF0gOiBhcnJheSgpKTsKCmZvcmVhY2ggKCRyZXN1bHRbJ25hbWVzRm91bmQnXSBhcyAkbmFtZSkgewoKdW5zZXQoJHBhY2thZ2VCYXRjaFskbmFtZV0pOwp9CmZvcmVhY2ggKCRyZXN1bHRbJ3BhY2thZ2VzJ10gYXMgJHBhY2thZ2UpIHsKJHRoaXMtPmxvYWRlZFBlclJlcG9bJHJlcG9JbmRleF1bJHBhY2thZ2UtPmdldE5hbWUoKV1bJHBhY2thZ2UtPmdldFZlcnNpb24oKV0gPSAkcGFja2FnZTsKJHRoaXMtPmxvYWRQYWNrYWdlKCRyZXF1ZXN0LCAkcGFja2FnZSk7Cn0KfQp9Cgpwcml2YXRlIGZ1bmN0aW9uIGxvYWRQYWNrYWdlKFJlcXVlc3QgJHJlcXVlc3QsIFBhY2thZ2VJbnRlcmZhY2UgJHBhY2thZ2UsICRwcm9wYWdhdGVVcGRhdGUgPSB0cnVlKQp7CiRpbmRleCA9ICR0aGlzLT5pbmRleENvdW50ZXIrKzsKJHRoaXMtPnBhY2thZ2VzWyRpbmRleF0gPSAkcGFja2FnZTsKCmlmICgkcGFja2FnZSBpbnN0YW5jZW9mIEFsaWFzUGFja2FnZSkgewokdGhpcy0+YWxpYXNNYXBbc3BsX29iamVjdF9oYXNoKCRwYWNrYWdlLT5nZXRBbGlhc09mKCkpXVskaW5kZXhdID0gJHBhY2thZ2U7Cn0KCiRuYW1lID0gJHBhY2thZ2UtPmdldE5hbWUoKTsKCgoKCmlmIChpc3NldCgkdGhpcy0+cm9vdFJlZmVyZW5jZXNbJG5hbWVdKSkgewoKaWYgKCEkcmVxdWVzdC0+aXNMb2NrZWRQYWNrYWdlKCRwYWNrYWdlKSAmJiAhJHJlcXVlc3QtPmlzRml4ZWRQYWNrYWdlKCRwYWNrYWdlKSkgewokcGFja2FnZS0+c2V0U291cmNlRGlzdFJlZmVyZW5jZXMoJHRoaXMtPnJvb3RSZWZlcmVuY2VzWyRuYW1lXSk7Cn0KfQoKCgppZiAoJHByb3BhZ2F0ZVVwZGF0ZSAmJiBpc3NldCgkdGhpcy0+cm9vdEFsaWFzZXNbJG5hbWVdWyRwYWNrYWdlLT5nZXRWZXJzaW9uKCldKSkgewokYWxpYXMgPSAkdGhpcy0+cm9vdEFsaWFzZXNbJG5hbWVdWyRwYWNrYWdlLT5nZXRWZXJzaW9uKCldOwppZiAoJHBhY2thZ2UgaW5zdGFuY2VvZiBBbGlhc1BhY2thZ2UpIHsKJGJhc2VQYWNrYWdlID0gJHBhY2thZ2UtPmdldEFsaWFzT2YoKTsKfSBlbHNlIHsKJGJhc2VQYWNrYWdlID0gJHBhY2thZ2U7Cn0KaWYgKCRiYXNlUGFja2FnZSBpbnN0YW5jZW9mIENvbXBsZXRlUGFja2FnZUludGVyZmFjZSkgewokYWxpYXNQYWNrYWdlID0gbmV3IENvbXBsZXRlQWxpYXNQYWNrYWdlKCRiYXNlUGFja2FnZSwgJGFsaWFzWydhbGlhc19ub3JtYWxpemVkJ10sICRhbGlhc1snYWxpYXMnXSk7Cn0gZWxzZSB7CiRhbGlhc1BhY2thZ2UgPSBuZXcgQWxpYXNQYWNrYWdlKCRiYXNlUGFja2FnZSwgJGFsaWFzWydhbGlhc19ub3JtYWxpemVkJ10sICRhbGlhc1snYWxpYXMnXSk7Cn0KJGFsaWFzUGFja2FnZS0+c2V0Um9vdFBhY2thZ2VBbGlhcyh0cnVlKTsKCiRuZXdJbmRleCA9ICR0aGlzLT5pbmRleENvdW50ZXIrKzsKJHRoaXMtPnBhY2thZ2VzWyRuZXdJbmRleF0gPSAkYWxpYXNQYWNrYWdlOwokdGhpcy0+YWxpYXNNYXBbc3BsX29iamVjdF9oYXNoKCRhbGlhc1BhY2thZ2UtPmdldEFsaWFzT2YoKSldWyRuZXdJbmRleF0gPSAkYWxpYXNQYWNrYWdlOwp9Cgpmb3JlYWNoICgkcGFja2FnZS0+Z2V0UmVxdWlyZXMoKSBhcyAkbGluaykgewokcmVxdWlyZSA9ICRsaW5rLT5nZXRUYXJnZXQoKTsKJGxpbmtDb25zdHJhaW50ID0gJGxpbmstPmdldENvbnN0cmFpbnQoKTsKCgppZiAoaXNzZXQoJHRoaXMtPnNraXBwZWRMb2FkWyRyZXF1aXJlXSkpIHsKCgoKaWYgKCRwcm9wYWdhdGVVcGRhdGUgJiYgJHJlcXVlc3QtPmdldFVwZGF0ZUFsbG93VHJhbnNpdGl2ZURlcGVuZGVuY2llcygpKSB7CmlmICgkcmVxdWVzdC0+Z2V0VXBkYXRlQWxsb3dUcmFuc2l0aXZlUm9vdERlcGVuZGVuY2llcygpIHx8ICEkdGhpcy0+aXNSb290UmVxdWlyZSgkcmVxdWVzdCwgJHRoaXMtPnNraXBwZWRMb2FkWyRyZXF1aXJlXSkpIHsKJHRoaXMtPnVubG9ja1BhY2thZ2UoJHJlcXVlc3QsICRyZXF1aXJlKTsKJHRoaXMtPm1hcmtQYWNrYWdlTmFtZUZvckxvYWRpbmcoJHJlcXVlc3QsICRyZXF1aXJlLCAkbGlua0NvbnN0cmFpbnQpOwp9IGVsc2VpZiAoIWlzc2V0KCR0aGlzLT51cGRhdGVBbGxvd1dhcm5lZFskdGhpcy0+c2tpcHBlZExvYWRbJHJlcXVpcmVdXSkpIHsKJHRoaXMtPnVwZGF0ZUFsbG93V2FybmVkWyR0aGlzLT5za2lwcGVkTG9hZFskcmVxdWlyZV1dID0gdHJ1ZTsKJHRoaXMtPmlvLT53cml0ZUVycm9yKCc8d2FybmluZz5EZXBlbmRlbmN5ICInLiR0aGlzLT5za2lwcGVkTG9hZFskcmVxdWlyZV0uJyIgaXMgYWxzbyBhIHJvb3QgcmVxdWlyZW1lbnQuIFBhY2thZ2UgaGFzIG5vdCBiZWVuIGxpc3RlZCBhcyBhbiB1cGRhdGUgYXJndW1lbnQsIHNvIGtlZXBpbmcgbG9ja2VkIGF0IG9sZCB2ZXJzaW9uLiBVc2UgLS13aXRoLWFsbC1kZXBlbmRlbmNpZXMgKC1XKSB0byBpbmNsdWRlIHJvb3QgZGVwZW5kZW5jaWVzLjwvd2FybmluZz4nKTsKfQp9Cn0gZWxzZSB7CiR0aGlzLT5tYXJrUGFja2FnZU5hbWVGb3JMb2FkaW5nKCRyZXF1ZXN0LCAkcmVxdWlyZSwgJGxpbmtDb25zdHJhaW50KTsKfQp9CgoKCmlmICgkcHJvcGFnYXRlVXBkYXRlICYmICRyZXF1ZXN0LT5nZXRVcGRhdGVBbGxvd1RyYW5zaXRpdmVEZXBlbmRlbmNpZXMoKSkgewpmb3JlYWNoICgkcGFja2FnZS0+Z2V0UmVwbGFjZXMoKSBhcyAkbGluaykgewokcmVwbGFjZSA9ICRsaW5rLT5nZXRUYXJnZXQoKTsKaWYgKGlzc2V0KCR0aGlzLT5sb2FkZWRQYWNrYWdlc1skcmVwbGFjZV0sICR0aGlzLT5za2lwcGVkTG9hZFskcmVwbGFjZV0pKSB7CmlmICgkcmVxdWVzdC0+Z2V0VXBkYXRlQWxsb3dUcmFuc2l0aXZlUm9vdERlcGVuZGVuY2llcygpIHx8ICEkdGhpcy0+aXNSb290UmVxdWlyZSgkcmVxdWVzdCwgJHRoaXMtPnNraXBwZWRMb2FkWyRyZXBsYWNlXSkpIHsKJHRoaXMtPnVubG9ja1BhY2thZ2UoJHJlcXVlc3QsICRyZXBsYWNlKTsKJHRoaXMtPm1hcmtQYWNrYWdlTmFtZUZvckxvYWRpbmcoJHJlcXVlc3QsICRyZXBsYWNlLCAkbGluay0+Z2V0Q29uc3RyYWludCgpKTsKfSBlbHNlaWYgKCEkcmVxdWVzdC0+Z2V0VXBkYXRlQWxsb3dUcmFuc2l0aXZlUm9vdERlcGVuZGVuY2llcygpICYmICR0aGlzLT5pc1Jvb3RSZXF1aXJlKCRyZXF1ZXN0LCAkcmVwbGFjZSkgJiYgIWlzc2V0KCR0aGlzLT51cGRhdGVBbGxvd1dhcm5lZFskcmVwbGFjZV0pKSB7CiR0aGlzLT51cGRhdGVBbGxvd1dhcm5lZFskcmVwbGFjZV0gPSB0cnVlOwokdGhpcy0+aW8tPndyaXRlRXJyb3IoJzx3YXJuaW5nPkRlcGVuZGVuY3kgIicuJHJlcGxhY2UuJyIgaXMgYWxzbyBhIHJvb3QgcmVxdWlyZW1lbnQuIFBhY2thZ2UgaGFzIG5vdCBiZWVuIGxpc3RlZCBhcyBhbiB1cGRhdGUgYXJndW1lbnQsIHNvIGtlZXBpbmcgbG9ja2VkIGF0IG9sZCB2ZXJzaW9uLiBVc2UgLS13aXRoLWFsbC1kZXBlbmRlbmNpZXMgKC1XKSB0byBpbmNsdWRlIHJvb3QgZGVwZW5kZW5jaWVzLjwvd2FybmluZz4nKTsKfQp9Cn0KfQp9CgoKCgoKCnByaXZhdGUgZnVuY3Rpb24gaXNSb290UmVxdWlyZShSZXF1ZXN0ICRyZXF1ZXN0LCAkbmFtZSkKewokcm9vdFJlcXVpcmVzID0gJHJlcXVlc3QtPmdldFJlcXVpcmVzKCk7CgpyZXR1cm4gaXNzZXQoJHJvb3RSZXF1aXJlc1skbmFtZV0pOwp9CgoKCgoKcHJpdmF0ZSBmdW5jdGlvbiBpc1VwZGF0ZUFsbG93ZWQoUGFja2FnZUludGVyZmFjZSAkcGFja2FnZSkKewoKCgppZiAoJHBhY2thZ2UtPmdldERpc3RUeXBlKCkgPT09ICdwYXRoJykgewokdHJhbnNwb3J0T3B0aW9ucyA9ICRwYWNrYWdlLT5nZXRUcmFuc3BvcnRPcHRpb25zKCk7CmlmICghaXNzZXQoJHRyYW5zcG9ydE9wdGlvbnNbJ3N5bWxpbmsnXSkgfHwgJHRyYW5zcG9ydE9wdGlvbnNbJ3N5bWxpbmsnXSAhPT0gZmFsc2UpIHsKcmV0dXJuIHRydWU7Cn0KfQoKZm9yZWFjaCAoJHRoaXMtPnVwZGF0ZUFsbG93TGlzdCBhcyAkcGF0dGVybiA9PiAkdm9pZCkgewokcGF0dGVyblJlZ2V4cCA9IEJhc2VQYWNrYWdlOjpwYWNrYWdlTmFtZVRvUmVnZXhwKCRwYXR0ZXJuKTsKaWYgKHByZWdfbWF0Y2goJHBhdHRlcm5SZWdleHAsICRwYWNrYWdlLT5nZXROYW1lKCkpKSB7CnJldHVybiB0cnVlOwp9Cn0KCnJldHVybiBmYWxzZTsKfQoKcHJpdmF0ZSBmdW5jdGlvbiB3YXJuQWJvdXROb25NYXRjaGluZ1VwZGF0ZUFsbG93TGlzdChSZXF1ZXN0ICRyZXF1ZXN0KQp7CmZvcmVhY2ggKCR0aGlzLT51cGRhdGVBbGxvd0xpc3QgYXMgJHBhdHRlcm4gPT4gJHZvaWQpIHsKJHBhdHRlcm5SZWdleHAgPSBCYXNlUGFja2FnZTo6cGFja2FnZU5hbWVUb1JlZ2V4cCgkcGF0dGVybik7Cgpmb3JlYWNoICgkcmVxdWVzdC0+Z2V0TG9ja2VkUmVwb3NpdG9yeSgpLT5nZXRQYWNrYWdlcygpIGFzICRwYWNrYWdlKSB7CmlmIChwcmVnX21hdGNoKCRwYXR0ZXJuUmVnZXhwLCAkcGFja2FnZS0+Z2V0TmFtZSgpKSkgewpjb250aW51ZSAyOwp9Cn0KCmZvcmVhY2ggKCRyZXF1ZXN0LT5nZXRSZXF1aXJlcygpIGFzICRwYWNrYWdlTmFtZSA9PiAkY29uc3RyYWludCkgewppZiAocHJlZ19tYXRjaCgkcGF0dGVyblJlZ2V4cCwgJHBhY2thZ2VOYW1lKSkgewpjb250aW51ZSAyOwp9Cn0KaWYgKHN0cnBvcygkcGF0dGVybiwgJyonKSAhPT0gZmFsc2UpIHsKJHRoaXMtPmlvLT53cml0ZUVycm9yKCc8d2FybmluZz5QYXR0ZXJuICInIC4gJHBhdHRlcm4gLiAnIiBsaXN0ZWQgZm9yIHVwZGF0ZSBkb2VzIG5vdCBtYXRjaCBhbnkgbG9ja2VkIHBhY2thZ2VzLjwvd2FybmluZz4nKTsKfSBlbHNlIHsKJHRoaXMtPmlvLT53cml0ZUVycm9yKCc8d2FybmluZz5QYWNrYWdlICInIC4gJHBhdHRlcm4gLiAnIiBsaXN0ZWQgZm9yIHVwZGF0ZSBpcyBub3QgbG9ja2VkLjwvd2FybmluZz4nKTsKfQp9Cn0KCgoKCgpwcml2YXRlIGZ1bmN0aW9uIHVubG9ja1BhY2thZ2UoUmVxdWVzdCAkcmVxdWVzdCwgJG5hbWUpCnsKaWYgKAoKJHRoaXMtPnNraXBwZWRMb2FkWyRuYW1lXSAhPT0gJG5hbWUKCiYmIGlzc2V0KCR0aGlzLT5za2lwcGVkTG9hZFskdGhpcy0+c2tpcHBlZExvYWRbJG5hbWVdXSkKKSB7CiR0aGlzLT51bmxvY2tQYWNrYWdlKCRyZXF1ZXN0LCAkdGhpcy0+c2tpcHBlZExvYWRbJG5hbWVdKTsKfQoKdW5zZXQoJHRoaXMtPnNraXBwZWRMb2FkWyRuYW1lXSwgJHRoaXMtPmxvYWRlZFBhY2thZ2VzWyRuYW1lXSwgJHRoaXMtPm1heEV4dGVuZGVkUmVxc1skbmFtZV0pOwoKCmZvcmVhY2ggKCRyZXF1ZXN0LT5nZXRMb2NrZWRQYWNrYWdlcygpIGFzICRsb2NrZWRQYWNrYWdlKSB7CmlmICghKCRsb2NrZWRQYWNrYWdlIGluc3RhbmNlb2YgQWxpYXNQYWNrYWdlKSAmJiAkbG9ja2VkUGFja2FnZS0+Z2V0TmFtZSgpID09PSAkbmFtZSkgewppZiAoZmFsc2UgIT09ICRpbmRleCA9IGFycmF5X3NlYXJjaCgkbG9ja2VkUGFja2FnZSwgJHRoaXMtPnBhY2thZ2VzLCB0cnVlKSkgewokcmVxdWVzdC0+dW5sb2NrUGFja2FnZSgkbG9ja2VkUGFja2FnZSk7CiR0aGlzLT5yZW1vdmVMb2FkZWRQYWNrYWdlKCRyZXF1ZXN0LCAkbG9ja2VkUGFja2FnZSwgJGluZGV4KTsKCgoKCmZvcmVhY2ggKCRyZXF1ZXN0LT5nZXRGaXhlZE9yTG9ja2VkUGFja2FnZXMoKSBhcyAkZml4ZWRPckxvY2tlZFBhY2thZ2UpIHsKaWYgKCRmaXhlZE9yTG9ja2VkUGFja2FnZSAhPT0gJGxvY2tlZFBhY2thZ2UgJiYgaXNzZXQoJHRoaXMtPnNraXBwZWRMb2FkWyRmaXhlZE9yTG9ja2VkUGFja2FnZS0+Z2V0TmFtZSgpXSkpIHsKZm9yZWFjaCAoJGZpeGVkT3JMb2NrZWRQYWNrYWdlLT5nZXRSZXF1aXJlcygpIGFzICRyZXF1aXJlTGluaykgewppZiAoJHJlcXVpcmVMaW5rLT5nZXRUYXJnZXQoKSA9PT0gJGxvY2tlZFBhY2thZ2UtPmdldE5hbWUoKSkgewokdGhpcy0+bWFya1BhY2thZ2VOYW1lRm9yTG9hZGluZygkcmVxdWVzdCwgJGxvY2tlZFBhY2thZ2UtPmdldE5hbWUoKSwgJHJlcXVpcmVMaW5rLT5nZXRDb25zdHJhaW50KCkpOwp9Cn0KfQp9Cn0KfQp9Cn0KCnByaXZhdGUgZnVuY3Rpb24gcmVtb3ZlTG9hZGVkUGFja2FnZShSZXF1ZXN0ICRyZXF1ZXN0LCBQYWNrYWdlSW50ZXJmYWNlICRwYWNrYWdlLCAkaW5kZXgpCnsKdW5zZXQoJHRoaXMtPnBhY2thZ2VzWyRpbmRleF0pOwppZiAoaXNzZXQoJHRoaXMtPmFsaWFzTWFwW3NwbF9vYmplY3RfaGFzaCgkcGFja2FnZSldKSkgewpmb3JlYWNoICgkdGhpcy0+YWxpYXNNYXBbc3BsX29iamVjdF9oYXNoKCRwYWNrYWdlKV0gYXMgJGFsaWFzSW5kZXggPT4gJGFsaWFzUGFja2FnZSkgewokcmVxdWVzdC0+dW5sb2NrUGFja2FnZSgkYWxpYXNQYWNrYWdlKTsKdW5zZXQoJHRoaXMtPnBhY2thZ2VzWyRhbGlhc0luZGV4XSk7Cn0KdW5zZXQoJHRoaXMtPmFsaWFzTWFwW3NwbF9vYmplY3RfaGFzaCgkcGFja2FnZSldKTsKfQp9Cn0KPD9waHAKCgoKCgoKCgoKCgpuYW1lc3BhY2UgQ29tcG9zZXJcRGVwZW5kZW5jeVJlc29sdmVyOwoKdXNlIENvbXBvc2VyXFBhY2thZ2VcQ29tcGxldGVQYWNrYWdlSW50ZXJmYWNlOwp1c2UgQ29tcG9zZXJcUGFja2FnZVxBbGlhc1BhY2thZ2U7CnVzZSBDb21wb3NlclxQYWNrYWdlXFJvb3RQYWNrYWdlSW50ZXJmYWNlOwp1c2UgQ29tcG9zZXJcUmVwb3NpdG9yeVxSZXBvc2l0b3J5U2V0Owp1c2UgQ29tcG9zZXJcUmVwb3NpdG9yeVxMb2NrQXJyYXlSZXBvc2l0b3J5Owp1c2UgQ29tcG9zZXJcU2VtdmVyXENvbnN0cmFpbnRcQ29uc3RyYWludDsKdXNlIENvbXBvc2VyXFBhY2thZ2VcVmVyc2lvblxWZXJzaW9uUGFyc2VyOwoKCgoKCgpjbGFzcyBQcm9ibGVtCnsKCgoKCnByb3RlY3RlZCAkcmVhc29uU2VlbjsKCgoKCgpwcm90ZWN0ZWQgJHJlYXNvbnMgPSBhcnJheSgpOwoKcHJvdGVjdGVkICRzZWN0aW9uID0gMDsKCgoKCgoKcHVibGljIGZ1bmN0aW9uIGFkZFJ1bGUoUnVsZSAkcnVsZSkKewokdGhpcy0+YWRkUmVhc29uKHNwbF9vYmplY3RfaGFzaCgkcnVsZSksICRydWxlKTsKfQoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0UmVhc29ucygpCnsKcmV0dXJuICR0aGlzLT5yZWFzb25zOwp9CgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0UHJldHR5U3RyaW5nKFJlcG9zaXRvcnlTZXQgJHJlcG9zaXRvcnlTZXQsIFJlcXVlc3QgJHJlcXVlc3QsIFBvb2wgJHBvb2wsICRpc1ZlcmJvc2UsIGFycmF5ICRpbnN0YWxsZWRNYXAgPSBhcnJheSgpLCBhcnJheSAkbGVhcm5lZFBvb2wgPSBhcnJheSgpKQp7CgokcmVhc29ucyA9IGNhbGxfdXNlcl9mdW5jX2FycmF5KCdhcnJheV9tZXJnZScsIGFycmF5X3JldmVyc2UoJHRoaXMtPnJlYXNvbnMpKTsKCmlmIChjb3VudCgkcmVhc29ucykgPT09IDEpIHsKcmVzZXQoJHJlYXNvbnMpOwokcnVsZSA9IGN1cnJlbnQoJHJlYXNvbnMpOwoKaWYgKCFpbl9hcnJheSgkcnVsZS0+Z2V0UmVhc29uKCksIGFycmF5KFJ1bGU6OlJVTEVfUk9PVF9SRVFVSVJFLCBSdWxlOjpSVUxFX0ZJWEVEKSwgdHJ1ZSkpIHsKdGhyb3cgbmV3IFxMb2dpY0V4Y2VwdGlvbigiU2luZ2xlIHJlYXNvbiBwcm9ibGVtcyBtdXN0IGNvbnRhaW4gYSByZXF1ZXN0IHJ1bGUuIik7Cn0KCiRyZWFzb25EYXRhID0gJHJ1bGUtPmdldFJlYXNvbkRhdGEoKTsKJHBhY2thZ2VOYW1lID0gJHJlYXNvbkRhdGFbJ3BhY2thZ2VOYW1lJ107CiRjb25zdHJhaW50ID0gJHJlYXNvbkRhdGFbJ2NvbnN0cmFpbnQnXTsKCmlmIChpc3NldCgkY29uc3RyYWludCkpIHsKJHBhY2thZ2VzID0gJHBvb2wtPndoYXRQcm92aWRlcygkcGFja2FnZU5hbWUsICRjb25zdHJhaW50KTsKfSBlbHNlIHsKJHBhY2thZ2VzID0gYXJyYXkoKTsKfQoKaWYgKGVtcHR5KCRwYWNrYWdlcykpIHsKcmV0dXJuICJcbiAgICAiLmltcGxvZGUoc2VsZjo6Z2V0TWlzc2luZ1BhY2thZ2VSZWFzb24oJHJlcG9zaXRvcnlTZXQsICRyZXF1ZXN0LCAkcG9vbCwgJGlzVmVyYm9zZSwgJHBhY2thZ2VOYW1lLCAkY29uc3RyYWludCkpOwp9Cn0KCnJldHVybiBzZWxmOjpmb3JtYXREZWR1cGxpY2F0ZWRSdWxlcygkcmVhc29ucywgJyAgICAnLCAkcmVwb3NpdG9yeVNldCwgJHJlcXVlc3QsICRwb29sLCAkaXNWZXJib3NlLCAkaW5zdGFsbGVkTWFwLCAkbGVhcm5lZFBvb2wpOwp9CgoKCgpwdWJsaWMgc3RhdGljIGZ1bmN0aW9uIGZvcm1hdERlZHVwbGljYXRlZFJ1bGVzKCRydWxlcywgJGluZGVudCwgUmVwb3NpdG9yeVNldCAkcmVwb3NpdG9yeVNldCwgUmVxdWVzdCAkcmVxdWVzdCwgUG9vbCAkcG9vbCwgJGlzVmVyYm9zZSwgYXJyYXkgJGluc3RhbGxlZE1hcCA9IGFycmF5KCksIGFycmF5ICRsZWFybmVkUG9vbCA9IGFycmF5KCkpCnsKJG1lc3NhZ2VzID0gYXJyYXkoKTsKJHRlbXBsYXRlcyA9IGFycmF5KCk7CiRwYXJzZXIgPSBuZXcgVmVyc2lvblBhcnNlcjsKJGRlZHVwbGljYXRhYmxlUnVsZVR5cGVzID0gYXJyYXkoUnVsZTo6UlVMRV9QQUNLQUdFX1JFUVVJUkVTLCBSdWxlOjpSVUxFX1BBQ0tBR0VfQ09ORkxJQ1QpOwpmb3JlYWNoICgkcnVsZXMgYXMgJHJ1bGUpIHsKJG1lc3NhZ2UgPSAkcnVsZS0+Z2V0UHJldHR5U3RyaW5nKCRyZXBvc2l0b3J5U2V0LCAkcmVxdWVzdCwgJHBvb2wsICRpc1ZlcmJvc2UsICRpbnN0YWxsZWRNYXAsICRsZWFybmVkUG9vbCk7CmlmIChpbl9hcnJheSgkcnVsZS0+Z2V0UmVhc29uKCksICRkZWR1cGxpY2F0YWJsZVJ1bGVUeXBlcywgdHJ1ZSkgJiYgcHJlZ19tYXRjaCgne14oP1A8cGFja2FnZT5cUyspICg/UDx2ZXJzaW9uPlxTKykgKD9QPHR5cGU+cmVxdWlyZXN8Y29uZmxpY3RzKX0nLCAkbWVzc2FnZSwgJG0pKSB7CiR0ZW1wbGF0ZSA9IHByZWdfcmVwbGFjZSgne15cUysgXFMrIH0nLCAnJXMlcyAnLCAkbWVzc2FnZSk7CiRtZXNzYWdlc1tdID0gJHRlbXBsYXRlOwokdGVtcGxhdGVzWyR0ZW1wbGF0ZV1bJG1bMV1dWyRwYXJzZXItPm5vcm1hbGl6ZSgkbVsyXSldID0gJG1bMl07Cn0gZWxzZWlmICgkbWVzc2FnZSAhPT0gJycpIHsKJG1lc3NhZ2VzW10gPSAkbWVzc2FnZTsKfQp9CgokcmVzdWx0ID0gYXJyYXkoKTsKZm9yZWFjaCAoYXJyYXlfdW5pcXVlKCRtZXNzYWdlcykgYXMgJG1lc3NhZ2UpIHsKaWYgKGlzc2V0KCR0ZW1wbGF0ZXNbJG1lc3NhZ2VdKSkgewpmb3JlYWNoICgkdGVtcGxhdGVzWyRtZXNzYWdlXSBhcyAkcGFja2FnZSA9PiAkdmVyc2lvbnMpIHsKdWtzb3J0KCR2ZXJzaW9ucywgJ3ZlcnNpb25fY29tcGFyZScpOwppZiAoISRpc1ZlcmJvc2UpIHsKJHZlcnNpb25zID0gc2VsZjo6Y29uZGVuc2VWZXJzaW9uTGlzdCgkdmVyc2lvbnMsIDEpOwp9CmlmIChjb3VudCgkdmVyc2lvbnMpID4gMSkgewoKJG1lc3NhZ2UgPSBwcmVnX3JlcGxhY2UoJ3teKCVzJXMgKD86cmVxdWlyZXxjb25mbGljdCkpc30nLCAnJDEnLCAkbWVzc2FnZSk7CiRyZXN1bHRbXSA9IHNwcmludGYoJG1lc3NhZ2UsICRwYWNrYWdlLCAnWycuaW1wbG9kZSgnLCAnLCAkdmVyc2lvbnMpLiddJyk7Cn0gZWxzZSB7CiRyZXN1bHRbXSA9IHNwcmludGYoJG1lc3NhZ2UsICRwYWNrYWdlLCAnICcucmVzZXQoJHZlcnNpb25zKSk7Cn0KfQp9IGVsc2UgewokcmVzdWx0W10gPSAkbWVzc2FnZTsKfQp9CgpyZXR1cm4gIlxuJGluZGVudC0gIi5pbXBsb2RlKCJcbiRpbmRlbnQtICIsICRyZXN1bHQpOwp9CgpwdWJsaWMgZnVuY3Rpb24gaXNDYXVzZWRCeUxvY2soUmVwb3NpdG9yeVNldCAkcmVwb3NpdG9yeVNldCwgUmVxdWVzdCAkcmVxdWVzdCwgUG9vbCAkcG9vbCkKewpmb3JlYWNoICgkdGhpcy0+cmVhc29ucyBhcyAkc2VjdGlvblJ1bGVzKSB7CmZvcmVhY2ggKCRzZWN0aW9uUnVsZXMgYXMgJHJ1bGUpIHsKaWYgKCRydWxlLT5pc0NhdXNlZEJ5TG9jaygkcmVwb3NpdG9yeVNldCwgJHJlcXVlc3QsICRwb29sKSkgewpyZXR1cm4gdHJ1ZTsKfQp9Cn0KfQoKCgoKCgoKcHJvdGVjdGVkIGZ1bmN0aW9uIGFkZFJlYXNvbigkaWQsIFJ1bGUgJHJlYXNvbikKewoKCgppZiAoIWlzc2V0KCR0aGlzLT5yZWFzb25TZWVuWyRpZF0pKSB7CiR0aGlzLT5yZWFzb25TZWVuWyRpZF0gPSB0cnVlOwokdGhpcy0+cmVhc29uc1skdGhpcy0+c2VjdGlvbl1bXSA9ICRyZWFzb247Cn0KfQoKcHVibGljIGZ1bmN0aW9uIG5leHRTZWN0aW9uKCkKewokdGhpcy0+c2VjdGlvbisrOwp9CgoKCgpwdWJsaWMgc3RhdGljIGZ1bmN0aW9uIGdldE1pc3NpbmdQYWNrYWdlUmVhc29uKFJlcG9zaXRvcnlTZXQgJHJlcG9zaXRvcnlTZXQsIFJlcXVlc3QgJHJlcXVlc3QsIFBvb2wgJHBvb2wsICRpc1ZlcmJvc2UsICRwYWNrYWdlTmFtZSwgJGNvbnN0cmFpbnQgPSBudWxsKQp7CgppZiAoJHBhY2thZ2VOYW1lID09PSAncGhwJyB8fCAkcGFja2FnZU5hbWUgPT09ICdwaHAtNjRiaXQnIHx8ICRwYWNrYWdlTmFtZSA9PT0gJ2hodm0nKSB7CiR2ZXJzaW9uID0gc2VsZjo6Z2V0UGxhdGZvcm1QYWNrYWdlVmVyc2lvbigkcG9vbCwgJHBhY2thZ2VOYW1lLCBwaHB2ZXJzaW9uKCkpOwoKJG1zZyA9ICItIFJvb3QgY29tcG9zZXIuanNvbiByZXF1aXJlcyAiLiRwYWNrYWdlTmFtZS5zZWxmOjpjb25zdHJhaW50VG9UZXh0KCRjb25zdHJhaW50KS4nIGJ1dCAnOwoKaWYgKGRlZmluZWQoJ0hIVk1fVkVSU0lPTicpIHx8ICgkcGFja2FnZU5hbWUgPT09ICdoaHZtJyAmJiBjb3VudCgkcG9vbC0+d2hhdFByb3ZpZGVzKCRwYWNrYWdlTmFtZSkpID4gMCkpIHsKcmV0dXJuIGFycmF5KCRtc2csICd5b3VyIEhIVk0gdmVyc2lvbiBkb2VzIG5vdCBzYXRpc2Z5IHRoYXQgcmVxdWlyZW1lbnQuJyk7Cn0KCmlmICgkcGFja2FnZU5hbWUgPT09ICdoaHZtJykgewpyZXR1cm4gYXJyYXkoJG1zZywgJ0hIVk0gd2FzIG5vdCBkZXRlY3RlZCBvbiB0aGlzIG1hY2hpbmUsIG1ha2Ugc3VyZSBpdCBpcyBpbiB5b3VyIFBBVEguJyk7Cn0KCnJldHVybiBhcnJheSgkbXNnLCAneW91ciAnLiRwYWNrYWdlTmFtZS4nIHZlcnNpb24gKCcuICR2ZXJzaW9uIC4nKSBkb2VzIG5vdCBzYXRpc2Z5IHRoYXQgcmVxdWlyZW1lbnQuJyk7Cn0KCgppZiAoMCA9PT0gc3RyaXBvcygkcGFja2FnZU5hbWUsICdleHQtJykpIHsKaWYgKGZhbHNlICE9PSBzdHJwb3MoJHBhY2thZ2VOYW1lLCAnICcpKSB7CnJldHVybiBhcnJheSgnLSAnLCAiUEhQIGV4dGVuc2lvbiAiLiRwYWNrYWdlTmFtZS4nIHNob3VsZCBiZSByZXF1aXJlZCBhcyAnLnN0cl9yZXBsYWNlKCcgJywgJy0nLCAkcGFja2FnZU5hbWUpLicuJyk7Cn0KCiRleHQgPSBzdWJzdHIoJHBhY2thZ2VOYW1lLCA0KTsKJHZlcnNpb24gPSBzZWxmOjpnZXRQbGF0Zm9ybVBhY2thZ2VWZXJzaW9uKCRwb29sLCAkcGFja2FnZU5hbWUsIHBocHZlcnNpb24oJGV4dCkgPzogJzAnKTsKCiRlcnJvciA9IGV4dGVuc2lvbl9sb2FkZWQoJGV4dCkgPyAnaXQgaGFzIHRoZSB3cm9uZyB2ZXJzaW9uICgnLiR2ZXJzaW9uLicpIGluc3RhbGxlZCcgOiAnaXQgaXMgbWlzc2luZyBmcm9tIHlvdXIgc3lzdGVtJzsKCnJldHVybiBhcnJheSgiLSBSb290IGNvbXBvc2VyLmpzb24gcmVxdWlyZXMgUEhQIGV4dGVuc2lvbiAiLiRwYWNrYWdlTmFtZS5zZWxmOjpjb25zdHJhaW50VG9UZXh0KCRjb25zdHJhaW50KS4nIGJ1dCAnLCAkZXJyb3IuJy4gSW5zdGFsbCBvciBlbmFibGUgUEhQXCdzICcuJGV4dC4nIGV4dGVuc2lvbi4nKTsKfQoKCmlmICgwID09PSBzdHJpcG9zKCRwYWNrYWdlTmFtZSwgJ2xpYi0nKSkgewppZiAoc3RydG9sb3dlcigkcGFja2FnZU5hbWUpID09PSAnbGliLWljdScpIHsKJGVycm9yID0gZXh0ZW5zaW9uX2xvYWRlZCgnaW50bCcpID8gJ2l0IGhhcyB0aGUgd3JvbmcgdmVyc2lvbiBpbnN0YWxsZWQsIHRyeSB1cGdyYWRpbmcgdGhlIGludGwgZXh0ZW5zaW9uLicgOiAnaXQgaXMgbWlzc2luZyBmcm9tIHlvdXIgc3lzdGVtLCBtYWtlIHN1cmUgdGhlIGludGwgZXh0ZW5zaW9uIGlzIGxvYWRlZC4nOwoKcmV0dXJuIGFycmF5KCItIFJvb3QgY29tcG9zZXIuanNvbiByZXF1aXJlcyBsaW5rZWQgbGlicmFyeSAiLiRwYWNrYWdlTmFtZS5zZWxmOjpjb25zdHJhaW50VG9UZXh0KCRjb25zdHJhaW50KS4nIGJ1dCAnLCAkZXJyb3IpOwp9CgpyZXR1cm4gYXJyYXkoIi0gUm9vdCBjb21wb3Nlci5qc29uIHJlcXVpcmVzIGxpbmtlZCBsaWJyYXJ5ICIuJHBhY2thZ2VOYW1lLnNlbGY6OmNvbnN0cmFpbnRUb1RleHQoJGNvbnN0cmFpbnQpLicgYnV0ICcsICdpdCBoYXMgdGhlIHdyb25nIHZlcnNpb24gaW5zdGFsbGVkIG9yIGlzIG1pc3NpbmcgZnJvbSB5b3VyIHN5c3RlbSwgbWFrZSBzdXJlIHRvIGxvYWQgdGhlIGV4dGVuc2lvbiBwcm92aWRpbmcgaXQuJyk7Cn0KCiRsb2NrZWRQYWNrYWdlID0gbnVsbDsKZm9yZWFjaCAoJHJlcXVlc3QtPmdldExvY2tlZFBhY2thZ2VzKCkgYXMgJHBhY2thZ2UpIHsKaWYgKCRwYWNrYWdlLT5nZXROYW1lKCkgPT09ICRwYWNrYWdlTmFtZSkgewokbG9ja2VkUGFja2FnZSA9ICRwYWNrYWdlOwppZiAoJHBvb2wtPmlzVW5hY2NlcHRhYmxlRml4ZWRPckxvY2tlZFBhY2thZ2UoJHBhY2thZ2UpKSB7CnJldHVybiBhcnJheSgiLSAiLCAkcGFja2FnZS0+Z2V0UHJldHR5TmFtZSgpLicgaXMgZml4ZWQgdG8gJy4kcGFja2FnZS0+Z2V0UHJldHR5VmVyc2lvbigpLicgKGxvY2sgZmlsZSB2ZXJzaW9uKSBieSBhIHBhcnRpYWwgdXBkYXRlIGJ1dCB0aGF0IHZlcnNpb24gaXMgcmVqZWN0ZWQgYnkgeW91ciBtaW5pbXVtLXN0YWJpbGl0eS4gTWFrZSBzdXJlIHlvdSBsaXN0IGl0IGFzIGFuIGFyZ3VtZW50IGZvciB0aGUgdXBkYXRlIGNvbW1hbmQuJyk7Cn0KYnJlYWs7Cn0KfQoKCgppZiAoJHBhY2thZ2VzID0gJHJlcG9zaXRvcnlTZXQtPmZpbmRQYWNrYWdlcygkcGFja2FnZU5hbWUsICRjb25zdHJhaW50KSkgewokcm9vdFJlcXMgPSAkcmVwb3NpdG9yeVNldC0+Z2V0Um9vdFJlcXVpcmVzKCk7CmlmIChpc3NldCgkcm9vdFJlcXNbJHBhY2thZ2VOYW1lXSkpIHsKJGZpbHRlcmVkID0gYXJyYXlfZmlsdGVyKCRwYWNrYWdlcywgZnVuY3Rpb24gKCRwKSB1c2UgKCRyb290UmVxcywgJHBhY2thZ2VOYW1lKSB7CnJldHVybiAkcm9vdFJlcXNbJHBhY2thZ2VOYW1lXS0+bWF0Y2hlcyhuZXcgQ29uc3RyYWludCgnPT0nLCAkcC0+Z2V0VmVyc2lvbigpKSk7Cn0pOwppZiAoMCA9PT0gY291bnQoJGZpbHRlcmVkKSkgewpyZXR1cm4gYXJyYXkoIi0gUm9vdCBjb21wb3Nlci5qc29uIHJlcXVpcmVzICRwYWNrYWdlTmFtZSIuc2VsZjo6Y29uc3RyYWludFRvVGV4dCgkY29uc3RyYWludCkgLiAnLCAnLCAnZm91bmQgJy5zZWxmOjpnZXRQYWNrYWdlTGlzdCgkcGFja2FnZXMsICRpc1ZlcmJvc2UpLicgYnV0ICcuKHNlbGY6Omhhc011bHRpcGxlTmFtZXMoJHBhY2thZ2VzKSA/ICd0aGVzZSBjb25mbGljdCcgOiAnaXQgY29uZmxpY3RzJykuJyB3aXRoIHlvdXIgcm9vdCBjb21wb3Nlci5qc29uIHJlcXVpcmUgKCcuJHJvb3RSZXFzWyRwYWNrYWdlTmFtZV0tPmdldFByZXR0eVN0cmluZygpLicpLicpOwp9Cn0KCmlmICgkbG9ja2VkUGFja2FnZSkgewokZml4ZWRDb25zdHJhaW50ID0gbmV3IENvbnN0cmFpbnQoJz09JywgJGxvY2tlZFBhY2thZ2UtPmdldFZlcnNpb24oKSk7CiRmaWx0ZXJlZCA9IGFycmF5X2ZpbHRlcigkcGFja2FnZXMsIGZ1bmN0aW9uICgkcCkgdXNlICgkZml4ZWRDb25zdHJhaW50KSB7CnJldHVybiAkZml4ZWRDb25zdHJhaW50LT5tYXRjaGVzKG5ldyBDb25zdHJhaW50KCc9PScsICRwLT5nZXRWZXJzaW9uKCkpKTsKfSk7CmlmICgwID09PSBjb3VudCgkZmlsdGVyZWQpKSB7CnJldHVybiBhcnJheSgiLSBSb290IGNvbXBvc2VyLmpzb24gcmVxdWlyZXMgJHBhY2thZ2VOYW1lIi5zZWxmOjpjb25zdHJhaW50VG9UZXh0KCRjb25zdHJhaW50KSAuICcsICcsICdmb3VuZCAnLnNlbGY6OmdldFBhY2thZ2VMaXN0KCRwYWNrYWdlcywgJGlzVmVyYm9zZSkuJyBidXQgdGhlIHBhY2thZ2UgaXMgZml4ZWQgdG8gJy4kbG9ja2VkUGFja2FnZS0+Z2V0UHJldHR5VmVyc2lvbigpLicgKGxvY2sgZmlsZSB2ZXJzaW9uKSBieSBhIHBhcnRpYWwgdXBkYXRlIGFuZCB0aGF0IHZlcnNpb24gZG9lcyBub3QgbWF0Y2guIE1ha2Ugc3VyZSB5b3UgbGlzdCBpdCBhcyBhbiBhcmd1bWVudCBmb3IgdGhlIHVwZGF0ZSBjb21tYW5kLicpOwp9Cn0KCiRub25Mb2NrZWRQYWNrYWdlcyA9IGFycmF5X2ZpbHRlcigkcGFja2FnZXMsIGZ1bmN0aW9uICgkcCkgewpyZXR1cm4gISRwLT5nZXRSZXBvc2l0b3J5KCkgaW5zdGFuY2VvZiBMb2NrQXJyYXlSZXBvc2l0b3J5Owp9KTsKCmlmICghJG5vbkxvY2tlZFBhY2thZ2VzKSB7CnJldHVybiBhcnJheSgiLSBSb290IGNvbXBvc2VyLmpzb24gcmVxdWlyZXMgJHBhY2thZ2VOYW1lIi5zZWxmOjpjb25zdHJhaW50VG9UZXh0KCRjb25zdHJhaW50KSAuICcsICcsICdmb3VuZCAnLnNlbGY6OmdldFBhY2thZ2VMaXN0KCRwYWNrYWdlcywgJGlzVmVyYm9zZSkuJyBpbiB0aGUgbG9jayBmaWxlIGJ1dCBub3QgaW4gcmVtb3RlIHJlcG9zaXRvcmllcywgbWFrZSBzdXJlIHlvdSBhdm9pZCB1cGRhdGluZyB0aGlzIHBhY2thZ2UgdG8ga2VlcCB0aGUgb25lIGZyb20gdGhlIGxvY2sgZmlsZS4nKTsKfQoKcmV0dXJuIGFycmF5KCItIFJvb3QgY29tcG9zZXIuanNvbiByZXF1aXJlcyAkcGFja2FnZU5hbWUiLnNlbGY6OmNvbnN0cmFpbnRUb1RleHQoJGNvbnN0cmFpbnQpIC4gJywgJywgJ2ZvdW5kICcuc2VsZjo6Z2V0UGFja2FnZUxpc3QoJHBhY2thZ2VzLCAkaXNWZXJib3NlKS4nIGJ1dCB0aGVzZSB3ZXJlIG5vdCBsb2FkZWQsIGxpa2VseSBiZWNhdXNlICcuKHNlbGY6Omhhc011bHRpcGxlTmFtZXMoJHBhY2thZ2VzKSA/ICd0aGV5IGNvbmZsaWN0JyA6ICdpdCBjb25mbGljdHMnKS4nIHdpdGggYW5vdGhlciByZXF1aXJlLicpOwp9CgoKaWYgKCRwYWNrYWdlcyA9ICRyZXBvc2l0b3J5U2V0LT5maW5kUGFja2FnZXMoJHBhY2thZ2VOYW1lLCAkY29uc3RyYWludCwgUmVwb3NpdG9yeVNldDo6QUxMT1dfVU5BQ0NFUFRBQkxFX1NUQUJJTElUSUVTKSkgewoKaWYgKCRhbGxSZXBvc1BhY2thZ2VzID0gJHJlcG9zaXRvcnlTZXQtPmZpbmRQYWNrYWdlcygkcGFja2FnZU5hbWUsICRjb25zdHJhaW50LCBSZXBvc2l0b3J5U2V0OjpBTExPV19TSEFET1dFRF9SRVBPU0lUT1JJRVMpKSB7CnJldHVybiBzZWxmOjpjb21wdXRlQ2hlY2tGb3JMb3dlclByaW9SZXBvKCRpc1ZlcmJvc2UsICRwYWNrYWdlTmFtZSwgJGNvbnN0cmFpbnQsICRwYWNrYWdlcywgJGFsbFJlcG9zUGFja2FnZXMsICdtaW5pbXVtLXN0YWJpbGl0eScpOwp9CgpyZXR1cm4gYXJyYXkoIi0gUm9vdCBjb21wb3Nlci5qc29uIHJlcXVpcmVzICRwYWNrYWdlTmFtZSIuc2VsZjo6Y29uc3RyYWludFRvVGV4dCgkY29uc3RyYWludCkgLiAnLCAnLCAnZm91bmQgJy5zZWxmOjpnZXRQYWNrYWdlTGlzdCgkcGFja2FnZXMsICRpc1ZlcmJvc2UpLicgYnV0ICcuKHNlbGY6Omhhc011bHRpcGxlTmFtZXMoJHBhY2thZ2VzKSA/ICd0aGVzZSBkbycgOiAnaXQgZG9lcycpLicgbm90IG1hdGNoIHlvdXIgbWluaW11bS1zdGFiaWxpdHkuJyk7Cn0KCgppZiAoJHBhY2thZ2VzID0gJHJlcG9zaXRvcnlTZXQtPmZpbmRQYWNrYWdlcygkcGFja2FnZU5hbWUsIG51bGwsIFJlcG9zaXRvcnlTZXQ6OkFMTE9XX1VOQUNDRVBUQUJMRV9TVEFCSUxJVElFUykpIHsKCmlmICgkYWxsUmVwb3NQYWNrYWdlcyA9ICRyZXBvc2l0b3J5U2V0LT5maW5kUGFja2FnZXMoJHBhY2thZ2VOYW1lLCAkY29uc3RyYWludCwgUmVwb3NpdG9yeVNldDo6QUxMT1dfU0hBRE9XRURfUkVQT1NJVE9SSUVTKSkgewpyZXR1cm4gc2VsZjo6Y29tcHV0ZUNoZWNrRm9yTG93ZXJQcmlvUmVwbygkaXNWZXJib3NlLCAkcGFja2FnZU5hbWUsICRjb25zdHJhaW50LCAkcGFja2FnZXMsICRhbGxSZXBvc1BhY2thZ2VzLCAnY29uc3RyYWludCcpOwp9Cgokc3VmZml4ID0gJyc7CmlmICgkY29uc3RyYWludCBpbnN0YW5jZW9mIENvbnN0cmFpbnQgJiYgJGNvbnN0cmFpbnQtPmdldFZlcnNpb24oKSA9PT0gJ2Rldi1tYXN0ZXInKSB7CmZvcmVhY2ggKCRwYWNrYWdlcyBhcyAkY2FuZGlkYXRlKSB7CmlmIChpbl9hcnJheSgkY2FuZGlkYXRlLT5nZXRWZXJzaW9uKCksIGFycmF5KCdkZXYtZGVmYXVsdCcsICdkZXYtbWFpbicpLCB0cnVlKSkgewokc3VmZml4ID0gJyBQZXJoYXBzIGRldi1tYXN0ZXIgd2FzIHJlbmFtZWQgdG8gJy4kY2FuZGlkYXRlLT5nZXRQcmV0dHlWZXJzaW9uKCkuJz8nOwpicmVhazsKfQp9Cn0KCgokYWxsUmVwb3NQYWNrYWdlcyA9ICRwYWNrYWdlczsKJHRvcFBhY2thZ2UgPSByZXNldCgkYWxsUmVwb3NQYWNrYWdlcyk7CmlmICgkdG9wUGFja2FnZSBpbnN0YW5jZW9mIFJvb3RQYWNrYWdlSW50ZXJmYWNlKSB7CiRzdWZmaXggPSAnIFNlZSBodHRwczovL2dldGNvbXBvc2VyLm9yZy9kZXAtb24tcm9vdCBmb3IgZGV0YWlscyBhbmQgYXNzaXN0YW5jZS4nOwp9CgpyZXR1cm4gYXJyYXkoIi0gUm9vdCBjb21wb3Nlci5qc29uIHJlcXVpcmVzICRwYWNrYWdlTmFtZSIuc2VsZjo6Y29uc3RyYWludFRvVGV4dCgkY29uc3RyYWludCkgLiAnLCAnLCAnZm91bmQgJy5zZWxmOjpnZXRQYWNrYWdlTGlzdCgkcGFja2FnZXMsICRpc1ZlcmJvc2UpLicgYnV0ICcuKHNlbGY6Omhhc011bHRpcGxlTmFtZXMoJHBhY2thZ2VzKSA/ICd0aGVzZSBkbycgOiAnaXQgZG9lcycpLicgbm90IG1hdGNoIHRoZSBjb25zdHJhaW50LicgLiAkc3VmZml4KTsKfQoKaWYgKCFwcmVnX21hdGNoKCd7XltBLVphLXowLTlfLi8tXSskfScsICRwYWNrYWdlTmFtZSkpIHsKJGlsbGVnYWxDaGFycyA9IHByZWdfcmVwbGFjZSgne1tBLVphLXowLTlfLi8tXSt9JywgJycsICRwYWNrYWdlTmFtZSk7CgpyZXR1cm4gYXJyYXkoIi0gUm9vdCBjb21wb3Nlci5qc29uIHJlcXVpcmVzICRwYWNrYWdlTmFtZSwgaXQgIiwgJ2NvdWxkIG5vdCBiZSBmb3VuZCwgaXQgbG9va3MgbGlrZSBpdHMgbmFtZSBpcyBpbnZhbGlkLCAiJy4kaWxsZWdhbENoYXJzLiciIGlzIG5vdCBhbGxvd2VkIGluIHBhY2thZ2UgbmFtZXMuJyk7Cn0KCmlmICgkcHJvdmlkZXJzID0gJHJlcG9zaXRvcnlTZXQtPmdldFByb3ZpZGVycygkcGFja2FnZU5hbWUpKSB7CiRtYXhQcm92aWRlcnMgPSAyMDsKJHByb3ZpZGVyc1N0ciA9IGltcGxvZGUoYXJyYXlfbWFwKGZ1bmN0aW9uICgkcCkgewokZGVzY3JpcHRpb24gPSAkcFsnZGVzY3JpcHRpb24nXSA/ICcgJy5zdWJzdHIoJHBbJ2Rlc2NyaXB0aW9uJ10sIDAsIDEwMCkgOiAnJzsKCnJldHVybiAiICAgICAgLSAke3BbJ25hbWUnXX0iLiRkZXNjcmlwdGlvbi4iXG4iOwp9LCBjb3VudCgkcHJvdmlkZXJzKSA+ICRtYXhQcm92aWRlcnMgKyAxID8gYXJyYXlfc2xpY2UoJHByb3ZpZGVycywgMCwgJG1heFByb3ZpZGVycykgOiAkcHJvdmlkZXJzKSk7CmlmIChjb3VudCgkcHJvdmlkZXJzKSA+ICRtYXhQcm92aWRlcnMgKyAxKSB7CiRwcm92aWRlcnNTdHIgLj0gJyAgICAgIC4uLiBhbmQgJy4oY291bnQoJHByb3ZpZGVycykgLSAkbWF4UHJvdmlkZXJzKS4nIG1vcmUuJy4iXG4iOwp9CgpyZXR1cm4gYXJyYXkoIi0gUm9vdCBjb21wb3Nlci5qc29uIHJlcXVpcmVzICRwYWNrYWdlTmFtZSIuc2VsZjo6Y29uc3RyYWludFRvVGV4dCgkY29uc3RyYWludCkuIiwgaXQgIiwgImNvdWxkIG5vdCBiZSBmb3VuZCBpbiBhbnkgdmVyc2lvbiwgYnV0IHRoZSBmb2xsb3dpbmcgcGFja2FnZXMgcHJvdmlkZSBpdDpcbiIuJHByb3ZpZGVyc1N0ci4iICAgICAgQ29uc2lkZXIgcmVxdWlyaW5nIG9uZSBvZiB0aGVzZSB0byBzYXRpc2Z5IHRoZSAkcGFja2FnZU5hbWUgcmVxdWlyZW1lbnQuIik7Cn0KCnJldHVybiBhcnJheSgiLSBSb290IGNvbXBvc2VyLmpzb24gcmVxdWlyZXMgJHBhY2thZ2VOYW1lLCBpdCAiLCAiY291bGQgbm90IGJlIGZvdW5kIGluIGFueSB2ZXJzaW9uLCB0aGVyZSBtYXkgYmUgYSB0eXBvIGluIHRoZSBwYWNrYWdlIG5hbWUuIik7Cn0KCgoKCnB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gZ2V0UGFja2FnZUxpc3QoYXJyYXkgJHBhY2thZ2VzLCAkaXNWZXJib3NlKQp7CiRwcmVwYXJlZCA9IGFycmF5KCk7CiRoYXNEZWZhdWx0QnJhbmNoID0gYXJyYXkoKTsKZm9yZWFjaCAoJHBhY2thZ2VzIGFzICRwYWNrYWdlKSB7CiRwcmVwYXJlZFskcGFja2FnZS0+Z2V0TmFtZSgpXVsnbmFtZSddID0gJHBhY2thZ2UtPmdldFByZXR0eU5hbWUoKTsKJHByZXBhcmVkWyRwYWNrYWdlLT5nZXROYW1lKCldWyd2ZXJzaW9ucyddWyRwYWNrYWdlLT5nZXRWZXJzaW9uKCldID0gJHBhY2thZ2UtPmdldFByZXR0eVZlcnNpb24oKS4oJHBhY2thZ2UgaW5zdGFuY2VvZiBBbGlhc1BhY2thZ2UgPyAnIChhbGlhcyBvZiAnLiRwYWNrYWdlLT5nZXRBbGlhc09mKCktPmdldFByZXR0eVZlcnNpb24oKS4nKScgOiAnJyk7CmlmICgkcGFja2FnZS0+aXNEZWZhdWx0QnJhbmNoKCkpIHsKJGhhc0RlZmF1bHRCcmFuY2hbJHBhY2thZ2UtPmdldE5hbWUoKV0gPSB0cnVlOwp9Cn0KZm9yZWFjaCAoJHByZXBhcmVkIGFzICRuYW1lID0+ICRwYWNrYWdlKSB7CgppZiAoaXNzZXQoJHBhY2thZ2VbJ3ZlcnNpb25zJ11bVmVyc2lvblBhcnNlcjo6REVGQVVMVF9CUkFOQ0hfQUxJQVNdLCAkaGFzRGVmYXVsdEJyYW5jaFskbmFtZV0pKSB7CnVuc2V0KCRwYWNrYWdlWyd2ZXJzaW9ucyddW1ZlcnNpb25QYXJzZXI6OkRFRkFVTFRfQlJBTkNIX0FMSUFTXSk7Cn0KCnVrc29ydCgkcGFja2FnZVsndmVyc2lvbnMnXSwgJ3ZlcnNpb25fY29tcGFyZScpOwoKaWYgKCEkaXNWZXJib3NlKSB7CiRwYWNrYWdlWyd2ZXJzaW9ucyddID0gc2VsZjo6Y29uZGVuc2VWZXJzaW9uTGlzdCgkcGFja2FnZVsndmVyc2lvbnMnXSwgNCk7Cn0KJHByZXBhcmVkWyRuYW1lXSA9ICRwYWNrYWdlWyduYW1lJ10uJ1snLmltcGxvZGUoJywgJywgJHBhY2thZ2VbJ3ZlcnNpb25zJ10pLiddJzsKfQoKcmV0dXJuIGltcGxvZGUoJywgJywgJHByZXBhcmVkKTsKfQoKcHJpdmF0ZSBzdGF0aWMgZnVuY3Rpb24gZ2V0UGxhdGZvcm1QYWNrYWdlVmVyc2lvbihQb29sICRwb29sLCAkcGFja2FnZU5hbWUsICR2ZXJzaW9uKQp7CiRhdmFpbGFibGUgPSAkcG9vbC0+d2hhdFByb3ZpZGVzKCRwYWNrYWdlTmFtZSk7CgppZiAoY291bnQoJGF2YWlsYWJsZSkpIHsKJGZpcnN0QXZhaWxhYmxlID0gcmVzZXQoJGF2YWlsYWJsZSk7CiR2ZXJzaW9uID0gJGZpcnN0QXZhaWxhYmxlLT5nZXRQcmV0dHlWZXJzaW9uKCk7CiRleHRyYSA9ICRmaXJzdEF2YWlsYWJsZS0+Z2V0RXh0cmEoKTsKaWYgKCRmaXJzdEF2YWlsYWJsZSBpbnN0YW5jZW9mIENvbXBsZXRlUGFja2FnZUludGVyZmFjZSAmJiBpc3NldCgkZXh0cmFbJ2NvbmZpZy5wbGF0Zm9ybSddKSAmJiAkZXh0cmFbJ2NvbmZpZy5wbGF0Zm9ybSddID09PSB0cnVlKSB7CiR2ZXJzaW9uIC49ICc7ICcgLiBzdHJfcmVwbGFjZSgnUGFja2FnZSAnLCAnJywgJGZpcnN0QXZhaWxhYmxlLT5nZXREZXNjcmlwdGlvbigpKTsKfQp9CgpyZXR1cm4gJHZlcnNpb247Cn0KCgoKCgpwcml2YXRlIHN0YXRpYyBmdW5jdGlvbiBjb25kZW5zZVZlcnNpb25MaXN0KGFycmF5ICR2ZXJzaW9ucywgJG1heCwgJG1heERldiA9IDE2KQp7CmlmIChjb3VudCgkdmVyc2lvbnMpIDw9ICRtYXgpIHsKcmV0dXJuICR2ZXJzaW9uczsKfQoKJGZpbHRlcmVkID0gYXJyYXkoKTsKJGJ5TWFqb3IgPSBhcnJheSgpOwpmb3JlYWNoICgkdmVyc2lvbnMgYXMgJHZlcnNpb24gPT4gJHByZXR0eSkgewppZiAoMCA9PT0gc3RyaXBvcygkdmVyc2lvbiwgJ2Rldi0nKSkgewokYnlNYWpvclsnZGV2J11bXSA9ICRwcmV0dHk7Cn0gZWxzZSB7CiRieU1ham9yW3ByZWdfcmVwbGFjZSgne14oXGQrKVwuLip9JywgJyQxJywgJHZlcnNpb24pXVtdID0gJHByZXR0eTsKfQp9CmZvcmVhY2ggKCRieU1ham9yIGFzICRtYWpvclZlcnNpb24gPT4gJHZlcnNpb25zRm9yTWFqb3IpIHsKJG1heFZlcnNpb25zID0gJG1ham9yVmVyc2lvbiA9PT0gJ2RldicgPyAkbWF4RGV2IDogJG1heDsKaWYgKGNvdW50KCR2ZXJzaW9uc0Zvck1ham9yKSA+ICRtYXhWZXJzaW9ucykgewoKJGZpbHRlcmVkW10gPSAkdmVyc2lvbnNGb3JNYWpvclswXTsKJGZpbHRlcmVkW10gPSAnLi4uJzsKJGZpbHRlcmVkW10gPSAkdmVyc2lvbnNGb3JNYWpvcltjb3VudCgkdmVyc2lvbnNGb3JNYWpvcikgLSAxXTsKfSBlbHNlIHsKJGZpbHRlcmVkID0gYXJyYXlfbWVyZ2UoJGZpbHRlcmVkLCAkdmVyc2lvbnNGb3JNYWpvcik7Cn0KfQoKcmV0dXJuICRmaWx0ZXJlZDsKfQoKcHJpdmF0ZSBzdGF0aWMgZnVuY3Rpb24gaGFzTXVsdGlwbGVOYW1lcyhhcnJheSAkcGFja2FnZXMpCnsKJG5hbWUgPSBudWxsOwpmb3JlYWNoICgkcGFja2FnZXMgYXMgJHBhY2thZ2UpIHsKaWYgKCRuYW1lID09PSBudWxsIHx8ICRuYW1lID09PSAkcGFja2FnZS0+Z2V0TmFtZSgpKSB7CiRuYW1lID0gJHBhY2thZ2UtPmdldE5hbWUoKTsKfSBlbHNlIHsKcmV0dXJuIHRydWU7Cn0KfQoKcmV0dXJuIGZhbHNlOwp9Cgpwcml2YXRlIHN0YXRpYyBmdW5jdGlvbiBjb21wdXRlQ2hlY2tGb3JMb3dlclByaW9SZXBvKCRpc1ZlcmJvc2UsICRwYWNrYWdlTmFtZSwgJGNvbnN0cmFpbnQsIGFycmF5ICRoaWdoZXJSZXBvUGFja2FnZXMsIGFycmF5ICRhbGxSZXBvc1BhY2thZ2VzLCAkcmVhc29uKQp7CiRuZXh0UmVwb1BhY2thZ2VzID0gYXJyYXkoKTsKJG5leHRSZXBvID0gbnVsbDsKCmZvcmVhY2ggKCRhbGxSZXBvc1BhY2thZ2VzIGFzICRwYWNrYWdlKSB7CmlmICgkbmV4dFJlcG8gPT09IG51bGwgfHwgJG5leHRSZXBvID09PSAkcGFja2FnZS0+Z2V0UmVwb3NpdG9yeSgpKSB7CiRuZXh0UmVwb1BhY2thZ2VzW10gPSAkcGFja2FnZTsKJG5leHRSZXBvID0gJHBhY2thZ2UtPmdldFJlcG9zaXRvcnkoKTsKfSBlbHNlIHsKYnJlYWs7Cn0KfQoKaWYgKCRoaWdoZXJSZXBvUGFja2FnZXMpIHsKJHRvcFBhY2thZ2UgPSByZXNldCgkaGlnaGVyUmVwb1BhY2thZ2VzKTsKaWYgKCR0b3BQYWNrYWdlIGluc3RhbmNlb2YgUm9vdFBhY2thZ2VJbnRlcmZhY2UpIHsKcmV0dXJuIGFycmF5KAoiLSBSb290IGNvbXBvc2VyLmpzb24gcmVxdWlyZXMgJHBhY2thZ2VOYW1lIi5zZWxmOjpjb25zdHJhaW50VG9UZXh0KCRjb25zdHJhaW50KS4nLCBpdCBpcyAnLAonc2F0aXNmaWFibGUgYnkgJy5zZWxmOjpnZXRQYWNrYWdlTGlzdCgkbmV4dFJlcG9QYWNrYWdlcywgJGlzVmVyYm9zZSkuJyBmcm9tICcuJG5leHRSZXBvLT5nZXRSZXBvTmFtZSgpLicgYnV0ICcuJHRvcFBhY2thZ2UtPmdldFByZXR0eU5hbWUoKS4nIGlzIHRoZSByb290IHBhY2thZ2UgYW5kIGNhbm5vdCBiZSBtb2RpZmllZC4gU2VlIGh0dHBzOi8vZ2V0Y29tcG9zZXIub3JnL2RlcC1vbi1yb290IGZvciBkZXRhaWxzIGFuZCBhc3Npc3RhbmNlLicsCik7Cn0KfQoKaWYgKCRuZXh0UmVwbyBpbnN0YW5jZW9mIExvY2tBcnJheVJlcG9zaXRvcnkpIHsKJHNpbmd1bGFyID0gY291bnQoJGhpZ2hlclJlcG9QYWNrYWdlcykgPT09IDE7CgpyZXR1cm4gYXJyYXkoIi0gUm9vdCBjb21wb3Nlci5qc29uIHJlcXVpcmVzICRwYWNrYWdlTmFtZSIuc2VsZjo6Y29uc3RyYWludFRvVGV4dCgkY29uc3RyYWludCkgLiAnLCBpdCBpcyAnLAonZm91bmQgJy5zZWxmOjpnZXRQYWNrYWdlTGlzdCgkbmV4dFJlcG9QYWNrYWdlcywgJGlzVmVyYm9zZSkuJyBpbiB0aGUgbG9jayBmaWxlIGFuZCAnLnNlbGY6OmdldFBhY2thZ2VMaXN0KCRoaWdoZXJSZXBvUGFja2FnZXMsICRpc1ZlcmJvc2UpLicgZnJvbSAnLnJlc2V0KCRoaWdoZXJSZXBvUGFja2FnZXMpLT5nZXRSZXBvc2l0b3J5KCktPmdldFJlcG9OYW1lKCkuJyBidXQgJyAuICgkc2luZ3VsYXIgPyAnaXQgZG9lcycgOiAndGhlc2UgZG8nKSAuICcgbm90IG1hdGNoIHlvdXIgJy4kcmVhc29uLicgYW5kICcgLiAoJHNpbmd1bGFyID8gJ2lzJyA6ICdhcmUnKSAuICcgdGhlcmVmb3JlIG5vdCBpbnN0YWxsYWJsZS4gTWFrZSBzdXJlIHlvdSBlaXRoZXIgZml4IHRoZSAnLiRyZWFzb24uJyBvciBhdm9pZCB1cGRhdGluZyB0aGlzIHBhY2thZ2UgdG8ga2VlcCB0aGUgb25lIGZyb20gdGhlIGxvY2sgZmlsZS4nLCApOwp9CgpyZXR1cm4gYXJyYXkoIi0gUm9vdCBjb21wb3Nlci5qc29uIHJlcXVpcmVzICRwYWNrYWdlTmFtZSIuc2VsZjo6Y29uc3RyYWludFRvVGV4dCgkY29uc3RyYWludCkgLiAnLCBpdCBpcyAnLCAnc2F0aXNmaWFibGUgYnkgJy5zZWxmOjpnZXRQYWNrYWdlTGlzdCgkbmV4dFJlcG9QYWNrYWdlcywgJGlzVmVyYm9zZSkuJyBmcm9tICcuJG5leHRSZXBvLT5nZXRSZXBvTmFtZSgpLicgYnV0ICcuc2VsZjo6Z2V0UGFja2FnZUxpc3QoJGhpZ2hlclJlcG9QYWNrYWdlcywgJGlzVmVyYm9zZSkuJyBmcm9tICcucmVzZXQoJGhpZ2hlclJlcG9QYWNrYWdlcyktPmdldFJlcG9zaXRvcnkoKS0+Z2V0UmVwb05hbWUoKS4nIGhhcyBoaWdoZXIgcmVwb3NpdG9yeSBwcmlvcml0eS4gVGhlIHBhY2thZ2VzIHdpdGggaGlnaGVyIHByaW9yaXR5IGRvIG5vdCBtYXRjaCB5b3VyICcuJHJlYXNvbi4nIGFuZCBhcmUgdGhlcmVmb3JlIG5vdCBpbnN0YWxsYWJsZS4gU2VlIGh0dHBzOi8vZ2V0Y29tcG9zZXIub3JnL3JlcG9wcmlvIGZvciBkZXRhaWxzIGFuZCBhc3Npc3RhbmNlLicpOwp9CgoKCgoKCgpwcm90ZWN0ZWQgc3RhdGljIGZ1bmN0aW9uIGNvbnN0cmFpbnRUb1RleHQoJGNvbnN0cmFpbnQpCnsKcmV0dXJuICRjb25zdHJhaW50ID8gJyAnLiRjb25zdHJhaW50LT5nZXRQcmV0dHlTdHJpbmcoKSA6ICcnOwp9Cn0KPD9waHAKCgoKCgoKCgoKCgpuYW1lc3BhY2UgQ29tcG9zZXJcRGVwZW5kZW5jeVJlc29sdmVyOwoKdXNlIENvbXBvc2VyXFBhY2thZ2VcUGFja2FnZTsKdXNlIENvbXBvc2VyXFBhY2thZ2VcUGFja2FnZUludGVyZmFjZTsKdXNlIENvbXBvc2VyXFJlcG9zaXRvcnlcTG9ja0FycmF5UmVwb3NpdG9yeTsKdXNlIENvbXBvc2VyXFNlbXZlclxDb25zdHJhaW50XENvbnN0cmFpbnRJbnRlcmZhY2U7CnVzZSBDb21wb3NlclxTZW12ZXJcQ29uc3RyYWludFxNYXRjaEFsbENvbnN0cmFpbnQ7CgoKCgpjbGFzcyBSZXF1ZXN0CnsKCgoKY29uc3QgVVBEQVRFX09OTFlfTElTVEVEID0gMDsKCgoKCgpjb25zdCBVUERBVEVfTElTVEVEX1dJVEhfVFJBTlNJVElWRV9ERVBTX05PX1JPT1RfUkVRVUlSRSA9IDE7CgoKCgoKY29uc3QgVVBEQVRFX0xJU1RFRF9XSVRIX1RSQU5TSVRJVkVfREVQUyA9IDI7Cgpwcm90ZWN0ZWQgJGxvY2tlZFJlcG9zaXRvcnk7CnByb3RlY3RlZCAkcmVxdWlyZXMgPSBhcnJheSgpOwpwcm90ZWN0ZWQgJGZpeGVkUGFja2FnZXMgPSBhcnJheSgpOwpwcm90ZWN0ZWQgJGxvY2tlZFBhY2thZ2VzID0gYXJyYXkoKTsKcHJvdGVjdGVkICRmaXhlZExvY2tlZFBhY2thZ2VzID0gYXJyYXkoKTsKcHJvdGVjdGVkICR1cGRhdGVBbGxvd0xpc3QgPSBhcnJheSgpOwpwcm90ZWN0ZWQgJHVwZGF0ZUFsbG93VHJhbnNpdGl2ZURlcGVuZGVuY2llcyA9IGZhbHNlOwoKcHVibGljIGZ1bmN0aW9uIF9fY29uc3RydWN0KExvY2tBcnJheVJlcG9zaXRvcnkgJGxvY2tlZFJlcG9zaXRvcnkgPSBudWxsKQp7CiR0aGlzLT5sb2NrZWRSZXBvc2l0b3J5ID0gJGxvY2tlZFJlcG9zaXRvcnk7Cn0KCnB1YmxpYyBmdW5jdGlvbiByZXF1aXJlTmFtZSgkcGFja2FnZU5hbWUsIENvbnN0cmFpbnRJbnRlcmZhY2UgJGNvbnN0cmFpbnQgPSBudWxsKQp7CiRwYWNrYWdlTmFtZSA9IHN0cnRvbG93ZXIoJHBhY2thZ2VOYW1lKTsKCmlmICgkY29uc3RyYWludCA9PT0gbnVsbCkgewokY29uc3RyYWludCA9IG5ldyBNYXRjaEFsbENvbnN0cmFpbnQoKTsKfQppZiAoaXNzZXQoJHRoaXMtPnJlcXVpcmVzWyRwYWNrYWdlTmFtZV0pKSB7CnRocm93IG5ldyBcTG9naWNFeGNlcHRpb24oJ092ZXJ3cml0aW5nIHJlcXVpcmVzIHNlZW1zIGxpa2UgYSBidWcgKCcuJHBhY2thZ2VOYW1lLicgJy4kdGhpcy0+cmVxdWlyZXNbJHBhY2thZ2VOYW1lXS0+Z2V0UHJldHR5U3RyaW5nKCkuJyA9PiAnLiRjb25zdHJhaW50LT5nZXRQcmV0dHlTdHJpbmcoKS4nLCBjaGVjayB3aHkgaXQgaXMgaGFwcGVuaW5nLCBtaWdodCBiZSBhIHJvb3QgYWxpYXMnKTsKfQokdGhpcy0+cmVxdWlyZXNbJHBhY2thZ2VOYW1lXSA9ICRjb25zdHJhaW50Owp9CgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gZml4UGFja2FnZShQYWNrYWdlSW50ZXJmYWNlICRwYWNrYWdlKQp7CiR0aGlzLT5maXhlZFBhY2thZ2VzW3NwbF9vYmplY3RfaGFzaCgkcGFja2FnZSldID0gJHBhY2thZ2U7Cn0KCgoKCgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gbG9ja1BhY2thZ2UoUGFja2FnZUludGVyZmFjZSAkcGFja2FnZSkKewokdGhpcy0+bG9ja2VkUGFja2FnZXNbc3BsX29iamVjdF9oYXNoKCRwYWNrYWdlKV0gPSAkcGFja2FnZTsKfQoKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBmaXhMb2NrZWRQYWNrYWdlKFBhY2thZ2VJbnRlcmZhY2UgJHBhY2thZ2UpCnsKJHRoaXMtPmZpeGVkUGFja2FnZXNbc3BsX29iamVjdF9oYXNoKCRwYWNrYWdlKV0gPSAkcGFja2FnZTsKJHRoaXMtPmZpeGVkTG9ja2VkUGFja2FnZXNbc3BsX29iamVjdF9oYXNoKCRwYWNrYWdlKV0gPSAkcGFja2FnZTsKfQoKcHVibGljIGZ1bmN0aW9uIHVubG9ja1BhY2thZ2UoUGFja2FnZUludGVyZmFjZSAkcGFja2FnZSkKewp1bnNldCgkdGhpcy0+bG9ja2VkUGFja2FnZXNbc3BsX29iamVjdF9oYXNoKCRwYWNrYWdlKV0pOwp9CgpwdWJsaWMgZnVuY3Rpb24gc2V0VXBkYXRlQWxsb3dMaXN0KCR1cGRhdGVBbGxvd0xpc3QsICR1cGRhdGVBbGxvd1RyYW5zaXRpdmVEZXBlbmRlbmNpZXMpCnsKJHRoaXMtPnVwZGF0ZUFsbG93TGlzdCA9ICR1cGRhdGVBbGxvd0xpc3Q7CiR0aGlzLT51cGRhdGVBbGxvd1RyYW5zaXRpdmVEZXBlbmRlbmNpZXMgPSAkdXBkYXRlQWxsb3dUcmFuc2l0aXZlRGVwZW5kZW5jaWVzOwp9CgpwdWJsaWMgZnVuY3Rpb24gZ2V0VXBkYXRlQWxsb3dMaXN0KCkKewpyZXR1cm4gJHRoaXMtPnVwZGF0ZUFsbG93TGlzdDsKfQoKcHVibGljIGZ1bmN0aW9uIGdldFVwZGF0ZUFsbG93VHJhbnNpdGl2ZURlcGVuZGVuY2llcygpCnsKcmV0dXJuICR0aGlzLT51cGRhdGVBbGxvd1RyYW5zaXRpdmVEZXBlbmRlbmNpZXMgIT09IHNlbGY6OlVQREFURV9PTkxZX0xJU1RFRDsKfQoKcHVibGljIGZ1bmN0aW9uIGdldFVwZGF0ZUFsbG93VHJhbnNpdGl2ZVJvb3REZXBlbmRlbmNpZXMoKQp7CnJldHVybiAkdGhpcy0+dXBkYXRlQWxsb3dUcmFuc2l0aXZlRGVwZW5kZW5jaWVzID09PSBzZWxmOjpVUERBVEVfTElTVEVEX1dJVEhfVFJBTlNJVElWRV9ERVBTOwp9CgpwdWJsaWMgZnVuY3Rpb24gZ2V0UmVxdWlyZXMoKQp7CnJldHVybiAkdGhpcy0+cmVxdWlyZXM7Cn0KCnB1YmxpYyBmdW5jdGlvbiBnZXRGaXhlZFBhY2thZ2VzKCkKewpyZXR1cm4gJHRoaXMtPmZpeGVkUGFja2FnZXM7Cn0KCnB1YmxpYyBmdW5jdGlvbiBpc0ZpeGVkUGFja2FnZShQYWNrYWdlSW50ZXJmYWNlICRwYWNrYWdlKQp7CnJldHVybiBpc3NldCgkdGhpcy0+Zml4ZWRQYWNrYWdlc1tzcGxfb2JqZWN0X2hhc2goJHBhY2thZ2UpXSk7Cn0KCnB1YmxpYyBmdW5jdGlvbiBnZXRMb2NrZWRQYWNrYWdlcygpCnsKcmV0dXJuICR0aGlzLT5sb2NrZWRQYWNrYWdlczsKfQoKcHVibGljIGZ1bmN0aW9uIGlzTG9ja2VkUGFja2FnZShQYWNrYWdlSW50ZXJmYWNlICRwYWNrYWdlKQp7CnJldHVybiBpc3NldCgkdGhpcy0+bG9ja2VkUGFja2FnZXNbc3BsX29iamVjdF9oYXNoKCRwYWNrYWdlKV0pIHx8IGlzc2V0KCR0aGlzLT5maXhlZExvY2tlZFBhY2thZ2VzW3NwbF9vYmplY3RfaGFzaCgkcGFja2FnZSldKTsKfQoKcHVibGljIGZ1bmN0aW9uIGdldEZpeGVkT3JMb2NrZWRQYWNrYWdlcygpCnsKcmV0dXJuIGFycmF5X21lcmdlKCR0aGlzLT5maXhlZFBhY2thZ2VzLCAkdGhpcy0+bG9ja2VkUGFja2FnZXMpOwp9CgoKCnB1YmxpYyBmdW5jdGlvbiBnZXRQcmVzZW50TWFwKCRwYWNrYWdlSWRzID0gZmFsc2UpCnsKJHByZXNlbnRNYXAgPSBhcnJheSgpOwoKaWYgKCR0aGlzLT5sb2NrZWRSZXBvc2l0b3J5KSB7CmZvcmVhY2ggKCR0aGlzLT5sb2NrZWRSZXBvc2l0b3J5LT5nZXRQYWNrYWdlcygpIGFzICRwYWNrYWdlKSB7CiRwcmVzZW50TWFwWyRwYWNrYWdlSWRzID8gJHBhY2thZ2UtPmlkIDogc3BsX29iamVjdF9oYXNoKCRwYWNrYWdlKV0gPSAkcGFja2FnZTsKfQp9Cgpmb3JlYWNoICgkdGhpcy0+Zml4ZWRQYWNrYWdlcyBhcyAkcGFja2FnZSkgewokcHJlc2VudE1hcFskcGFja2FnZUlkcyA/ICRwYWNrYWdlLT5pZCA6IHNwbF9vYmplY3RfaGFzaCgkcGFja2FnZSldID0gJHBhY2thZ2U7Cn0KCnJldHVybiAkcHJlc2VudE1hcDsKfQoKcHVibGljIGZ1bmN0aW9uIGdldEZpeGVkUGFja2FnZXNNYXAoKQp7CiRmaXhlZFBhY2thZ2VzTWFwID0gYXJyYXkoKTsKCmZvcmVhY2ggKCR0aGlzLT5maXhlZFBhY2thZ2VzIGFzICRwYWNrYWdlKSB7CiRmaXhlZFBhY2thZ2VzTWFwWyRwYWNrYWdlLT5pZF0gPSAkcGFja2FnZTsKfQoKcmV0dXJuICRmaXhlZFBhY2thZ2VzTWFwOwp9CgpwdWJsaWMgZnVuY3Rpb24gZ2V0TG9ja2VkUmVwb3NpdG9yeSgpCnsKcmV0dXJuICR0aGlzLT5sb2NrZWRSZXBvc2l0b3J5Owp9Cn0KPD9waHAKCgoKCgoKCgoKCgpuYW1lc3BhY2UgQ29tcG9zZXJcRGVwZW5kZW5jeVJlc29sdmVyOwoKdXNlIENvbXBvc2VyXFBhY2thZ2VcTGluazsKdXNlIENvbXBvc2VyXFBhY2thZ2VcQmFzZVBhY2thZ2U7CnVzZSBDb21wb3NlclxQYWNrYWdlXEFsaWFzUGFja2FnZTsKdXNlIENvbXBvc2VyXFJlcG9zaXRvcnlcUmVwb3NpdG9yeVNldDsKdXNlIENvbXBvc2VyXFJlcG9zaXRvcnlcUGxhdGZvcm1SZXBvc2l0b3J5Owp1c2UgQ29tcG9zZXJcUGFja2FnZVxWZXJzaW9uXFZlcnNpb25QYXJzZXI7CnVzZSBDb21wb3NlclxTZW12ZXJcQ29uc3RyYWludFxDb25zdHJhaW50OwoKCgoKCmFic3RyYWN0IGNsYXNzIFJ1bGUKewoKY29uc3QgUlVMRV9ST09UX1JFUVVJUkUgPSAyOwpjb25zdCBSVUxFX0ZJWEVEID0gMzsKY29uc3QgUlVMRV9QQUNLQUdFX0NPTkZMSUNUID0gNjsKY29uc3QgUlVMRV9QQUNLQUdFX1JFUVVJUkVTID0gNzsKY29uc3QgUlVMRV9QQUNLQUdFX1NBTUVfTkFNRSA9IDEwOwpjb25zdCBSVUxFX0xFQVJORUQgPSAxMjsKY29uc3QgUlVMRV9QQUNLQUdFX0FMSUFTID0gMTM7CmNvbnN0IFJVTEVfUEFDS0FHRV9JTlZFUlNFX0FMSUFTID0gMTQ7CgoKY29uc3QgQklURklFTERfVFlQRSA9IDA7CmNvbnN0IEJJVEZJRUxEX1JFQVNPTiA9IDg7CmNvbnN0IEJJVEZJRUxEX0RJU0FCTEVEID0gMTY7Cgpwcm90ZWN0ZWQgJGJpdGZpZWxkOwpwcm90ZWN0ZWQgJHJlcXVlc3Q7CnByb3RlY3RlZCAkcmVhc29uRGF0YTsKCgoKCgpwdWJsaWMgZnVuY3Rpb24gX19jb25zdHJ1Y3QoJHJlYXNvbiwgJHJlYXNvbkRhdGEpCnsKJHRoaXMtPnJlYXNvbkRhdGEgPSAkcmVhc29uRGF0YTsKCiR0aGlzLT5iaXRmaWVsZCA9ICgwIDw8IHNlbGY6OkJJVEZJRUxEX0RJU0FCTEVEKSB8CigkcmVhc29uIDw8IHNlbGY6OkJJVEZJRUxEX1JFQVNPTikgfAooMjU1IDw8IHNlbGY6OkJJVEZJRUxEX1RZUEUpOwp9CgphYnN0cmFjdCBwdWJsaWMgZnVuY3Rpb24gZ2V0TGl0ZXJhbHMoKTsKCmFic3RyYWN0IHB1YmxpYyBmdW5jdGlvbiBnZXRIYXNoKCk7CgphYnN0cmFjdCBwdWJsaWMgZnVuY3Rpb24gX190b1N0cmluZygpOwoKYWJzdHJhY3QgcHVibGljIGZ1bmN0aW9uIGVxdWFscyhSdWxlICRydWxlKTsKCnB1YmxpYyBmdW5jdGlvbiBnZXRSZWFzb24oKQp7CnJldHVybiAoJHRoaXMtPmJpdGZpZWxkICYgKDI1NSA8PCBzZWxmOjpCSVRGSUVMRF9SRUFTT04pKSA+PiBzZWxmOjpCSVRGSUVMRF9SRUFTT047Cn0KCnB1YmxpYyBmdW5jdGlvbiBnZXRSZWFzb25EYXRhKCkKewpyZXR1cm4gJHRoaXMtPnJlYXNvbkRhdGE7Cn0KCnB1YmxpYyBmdW5jdGlvbiBnZXRSZXF1aXJlZFBhY2thZ2UoKQp7CiRyZWFzb24gPSAkdGhpcy0+Z2V0UmVhc29uKCk7CgppZiAoJHJlYXNvbiA9PT0gc2VsZjo6UlVMRV9ST09UX1JFUVVJUkUpIHsKcmV0dXJuICR0aGlzLT5yZWFzb25EYXRhWydwYWNrYWdlTmFtZSddOwp9CgppZiAoJHJlYXNvbiA9PT0gc2VsZjo6UlVMRV9GSVhFRCkgewpyZXR1cm4gJHRoaXMtPnJlYXNvbkRhdGFbJ3BhY2thZ2UnXS0+Z2V0TmFtZSgpOwp9CgppZiAoJHJlYXNvbiA9PT0gc2VsZjo6UlVMRV9QQUNLQUdFX1JFUVVJUkVTKSB7CnJldHVybiAkdGhpcy0+cmVhc29uRGF0YS0+Z2V0VGFyZ2V0KCk7Cn0KfQoKcHVibGljIGZ1bmN0aW9uIHNldFR5cGUoJHR5cGUpCnsKJHRoaXMtPmJpdGZpZWxkID0gKCR0aGlzLT5iaXRmaWVsZCAmIH4oMjU1IDw8IHNlbGY6OkJJVEZJRUxEX1RZUEUpKSB8ICgoMjU1ICYgJHR5cGUpIDw8IHNlbGY6OkJJVEZJRUxEX1RZUEUpOwp9CgpwdWJsaWMgZnVuY3Rpb24gZ2V0VHlwZSgpCnsKcmV0dXJuICgkdGhpcy0+Yml0ZmllbGQgJiAoMjU1IDw8IHNlbGY6OkJJVEZJRUxEX1RZUEUpKSA+PiBzZWxmOjpCSVRGSUVMRF9UWVBFOwp9CgpwdWJsaWMgZnVuY3Rpb24gZGlzYWJsZSgpCnsKJHRoaXMtPmJpdGZpZWxkID0gKCR0aGlzLT5iaXRmaWVsZCAmIH4oMjU1IDw8IHNlbGY6OkJJVEZJRUxEX0RJU0FCTEVEKSkgfCAoMSA8PCBzZWxmOjpCSVRGSUVMRF9ESVNBQkxFRCk7Cn0KCnB1YmxpYyBmdW5jdGlvbiBlbmFibGUoKQp7CiR0aGlzLT5iaXRmaWVsZCAmPSB+KDI1NSA8PCBzZWxmOjpCSVRGSUVMRF9ESVNBQkxFRCk7Cn0KCnB1YmxpYyBmdW5jdGlvbiBpc0Rpc2FibGVkKCkKewpyZXR1cm4gKGJvb2wpICgoJHRoaXMtPmJpdGZpZWxkICYgKDI1NSA8PCBzZWxmOjpCSVRGSUVMRF9ESVNBQkxFRCkpID4+IHNlbGY6OkJJVEZJRUxEX0RJU0FCTEVEKTsKfQoKcHVibGljIGZ1bmN0aW9uIGlzRW5hYmxlZCgpCnsKcmV0dXJuICEoKCR0aGlzLT5iaXRmaWVsZCAmICgyNTUgPDwgc2VsZjo6QklURklFTERfRElTQUJMRUQpKSA+PiBzZWxmOjpCSVRGSUVMRF9ESVNBQkxFRCk7Cn0KCmFic3RyYWN0IHB1YmxpYyBmdW5jdGlvbiBpc0Fzc2VydGlvbigpOwoKcHVibGljIGZ1bmN0aW9uIGlzQ2F1c2VkQnlMb2NrKFJlcG9zaXRvcnlTZXQgJHJlcG9zaXRvcnlTZXQsIFJlcXVlc3QgJHJlcXVlc3QsIFBvb2wgJHBvb2wpCnsKaWYgKCR0aGlzLT5nZXRSZWFzb24oKSA9PT0gc2VsZjo6UlVMRV9QQUNLQUdFX1JFUVVJUkVTKSB7CmlmIChQbGF0Zm9ybVJlcG9zaXRvcnk6OmlzUGxhdGZvcm1QYWNrYWdlKCR0aGlzLT5yZWFzb25EYXRhLT5nZXRUYXJnZXQoKSkpIHsKcmV0dXJuIGZhbHNlOwp9CmlmICgkcmVxdWVzdC0+Z2V0TG9ja2VkUmVwb3NpdG9yeSgpKSB7CmZvcmVhY2ggKCRyZXF1ZXN0LT5nZXRMb2NrZWRSZXBvc2l0b3J5KCktPmdldFBhY2thZ2VzKCkgYXMgJHBhY2thZ2UpIHsKaWYgKCRwYWNrYWdlLT5nZXROYW1lKCkgPT09ICR0aGlzLT5yZWFzb25EYXRhLT5nZXRUYXJnZXQoKSkgewppZiAoJHBvb2wtPmlzVW5hY2NlcHRhYmxlRml4ZWRPckxvY2tlZFBhY2thZ2UoJHBhY2thZ2UpKSB7CnJldHVybiB0cnVlOwp9CmlmICghJHRoaXMtPnJlYXNvbkRhdGEtPmdldENvbnN0cmFpbnQoKS0+bWF0Y2hlcyhuZXcgQ29uc3RyYWludCgnPScsICRwYWNrYWdlLT5nZXRWZXJzaW9uKCkpKSkgewpyZXR1cm4gdHJ1ZTsKfQoKaWYgKCEkcmVxdWVzdC0+aXNMb2NrZWRQYWNrYWdlKCRwYWNrYWdlKSkgewpyZXR1cm4gdHJ1ZTsKfQpicmVhazsKfQp9Cn0KfQoKaWYgKCR0aGlzLT5nZXRSZWFzb24oKSA9PT0gc2VsZjo6UlVMRV9ST09UX1JFUVVJUkUpIHsKaWYgKFBsYXRmb3JtUmVwb3NpdG9yeTo6aXNQbGF0Zm9ybVBhY2thZ2UoJHRoaXMtPnJlYXNvbkRhdGFbJ3BhY2thZ2VOYW1lJ10pKSB7CnJldHVybiBmYWxzZTsKfQppZiAoJHJlcXVlc3QtPmdldExvY2tlZFJlcG9zaXRvcnkoKSkgewpmb3JlYWNoICgkcmVxdWVzdC0+Z2V0TG9ja2VkUmVwb3NpdG9yeSgpLT5nZXRQYWNrYWdlcygpIGFzICRwYWNrYWdlKSB7CmlmICgkcGFja2FnZS0+Z2V0TmFtZSgpID09PSAkdGhpcy0+cmVhc29uRGF0YVsncGFja2FnZU5hbWUnXSkgewppZiAoJHBvb2wtPmlzVW5hY2NlcHRhYmxlRml4ZWRPckxvY2tlZFBhY2thZ2UoJHBhY2thZ2UpKSB7CnJldHVybiB0cnVlOwp9CmlmICghJHRoaXMtPnJlYXNvbkRhdGFbJ2NvbnN0cmFpbnQnXS0+bWF0Y2hlcyhuZXcgQ29uc3RyYWludCgnPScsICRwYWNrYWdlLT5nZXRWZXJzaW9uKCkpKSkgewpyZXR1cm4gdHJ1ZTsKfQpicmVhazsKfQp9Cn0KfQoKcmV0dXJuIGZhbHNlOwp9CgpwdWJsaWMgZnVuY3Rpb24gZ2V0UHJldHR5U3RyaW5nKFJlcG9zaXRvcnlTZXQgJHJlcG9zaXRvcnlTZXQsIFJlcXVlc3QgJHJlcXVlc3QsIFBvb2wgJHBvb2wsICRpc1ZlcmJvc2UsIGFycmF5ICRpbnN0YWxsZWRNYXAgPSBhcnJheSgpLCBhcnJheSAkbGVhcm5lZFBvb2wgPSBhcnJheSgpKQp7CiRsaXRlcmFscyA9ICR0aGlzLT5nZXRMaXRlcmFscygpOwoKc3dpdGNoICgkdGhpcy0+Z2V0UmVhc29uKCkpIHsKY2FzZSBzZWxmOjpSVUxFX1JPT1RfUkVRVUlSRToKJHBhY2thZ2VOYW1lID0gJHRoaXMtPnJlYXNvbkRhdGFbJ3BhY2thZ2VOYW1lJ107CiRjb25zdHJhaW50ID0gJHRoaXMtPnJlYXNvbkRhdGFbJ2NvbnN0cmFpbnQnXTsKCiRwYWNrYWdlcyA9ICRwb29sLT53aGF0UHJvdmlkZXMoJHBhY2thZ2VOYW1lLCAkY29uc3RyYWludCk7CmlmICghJHBhY2thZ2VzKSB7CnJldHVybiAnTm8gcGFja2FnZSBmb3VuZCB0byBzYXRpc2Z5IHJvb3QgY29tcG9zZXIuanNvbiByZXF1aXJlICcuJHBhY2thZ2VOYW1lLigkY29uc3RyYWludCA/ICcgJy4kY29uc3RyYWludC0+Z2V0UHJldHR5U3RyaW5nKCkgOiAnJyk7Cn0KCiRwYWNrYWdlc05vbkFsaWFzID0gYXJyYXlfdmFsdWVzKGFycmF5X2ZpbHRlcigkcGFja2FnZXMsIGZ1bmN0aW9uICgkcCkgewpyZXR1cm4gISgkcCBpbnN0YW5jZW9mIEFsaWFzUGFja2FnZSk7Cn0pKTsKaWYgKGNvdW50KCRwYWNrYWdlc05vbkFsaWFzKSA9PT0gMSkgewokcGFja2FnZSA9ICRwYWNrYWdlc05vbkFsaWFzWzBdOwppZiAoJHJlcXVlc3QtPmlzTG9ja2VkUGFja2FnZSgkcGFja2FnZSkpIHsKcmV0dXJuICRwYWNrYWdlLT5nZXRQcmV0dHlOYW1lKCkuJyBpcyBsb2NrZWQgdG8gdmVyc2lvbiAnLiRwYWNrYWdlLT5nZXRQcmV0dHlWZXJzaW9uKCkuIiBhbmQgYW4gdXBkYXRlIG9mIHRoaXMgcGFja2FnZSB3YXMgbm90IHJlcXVlc3RlZC4iOwp9Cn0KCnJldHVybiAnUm9vdCBjb21wb3Nlci5qc29uIHJlcXVpcmVzICcuJHBhY2thZ2VOYW1lLigkY29uc3RyYWludCA/ICcgJy4kY29uc3RyYWludC0+Z2V0UHJldHR5U3RyaW5nKCkgOiAnJykuJyAtPiBzYXRpc2ZpYWJsZSBieSAnLiR0aGlzLT5mb3JtYXRQYWNrYWdlc1VuaXF1ZSgkcG9vbCwgJHBhY2thZ2VzLCAkaXNWZXJib3NlKS4nLic7CgpjYXNlIHNlbGY6OlJVTEVfRklYRUQ6CiRwYWNrYWdlID0gJHRoaXMtPmRlZHVwbGljYXRlRGVmYXVsdEJyYW5jaEFsaWFzKCR0aGlzLT5yZWFzb25EYXRhWydwYWNrYWdlJ10pOwoKaWYgKCRyZXF1ZXN0LT5pc0xvY2tlZFBhY2thZ2UoJHBhY2thZ2UpKSB7CnJldHVybiAkcGFja2FnZS0+Z2V0UHJldHR5TmFtZSgpLicgaXMgbG9ja2VkIHRvIHZlcnNpb24gJy4kcGFja2FnZS0+Z2V0UHJldHR5VmVyc2lvbigpLicgYW5kIGFuIHVwZGF0ZSBvZiB0aGlzIHBhY2thZ2Ugd2FzIG5vdCByZXF1ZXN0ZWQuJzsKfQoKcmV0dXJuICRwYWNrYWdlLT5nZXRQcmV0dHlOYW1lKCkuJyBpcyBwcmVzZW50IGF0IHZlcnNpb24gJy4kcGFja2FnZS0+Z2V0UHJldHR5VmVyc2lvbigpIC4gJyBhbmQgY2Fubm90IGJlIG1vZGlmaWVkIGJ5IENvbXBvc2VyJzsKCmNhc2Ugc2VsZjo6UlVMRV9QQUNLQUdFX0NPTkZMSUNUOgokcGFja2FnZTEgPSAkdGhpcy0+ZGVkdXBsaWNhdGVEZWZhdWx0QnJhbmNoQWxpYXMoJHBvb2wtPmxpdGVyYWxUb1BhY2thZ2UoJGxpdGVyYWxzWzBdKSk7CiRwYWNrYWdlMiA9ICR0aGlzLT5kZWR1cGxpY2F0ZURlZmF1bHRCcmFuY2hBbGlhcygkcG9vbC0+bGl0ZXJhbFRvUGFja2FnZSgkbGl0ZXJhbHNbMV0pKTsKCiRjb25mbGljdFRhcmdldCA9ICRwYWNrYWdlMS0+Z2V0UHJldHR5U3RyaW5nKCk7CmlmICgkcmVhc29uRGF0YSA9ICR0aGlzLT5nZXRSZWFzb25EYXRhKCkpIHsKCmlmICgkcmVhc29uRGF0YS0+Z2V0U291cmNlKCkgPT09ICRwYWNrYWdlMS0+Z2V0TmFtZSgpKSB7Cmxpc3QoJHBhY2thZ2UyLCAkcGFja2FnZTEpID0gYXJyYXkoJHBhY2thZ2UxLCAkcGFja2FnZTIpOwp9CgoKCmlmICgkcmVhc29uRGF0YS0+Z2V0VGFyZ2V0KCkgIT09ICRwYWNrYWdlMS0+Z2V0TmFtZSgpKSB7CiRwcm92aWRlVHlwZSA9IG51bGw7CiRwcm92aWRlZCA9IG51bGw7CmZvcmVhY2ggKCRwYWNrYWdlMS0+Z2V0UHJvdmlkZXMoKSBhcyAkcHJvdmlkZSkgewppZiAoJHByb3ZpZGUtPmdldFRhcmdldCgpID09PSAkcmVhc29uRGF0YS0+Z2V0VGFyZ2V0KCkpIHsKJHByb3ZpZGVUeXBlID0gJ3Byb3ZpZGVzJzsKJHByb3ZpZGVkID0gJHByb3ZpZGUtPmdldFByZXR0eUNvbnN0cmFpbnQoKTsKYnJlYWs7Cn0KfQpmb3JlYWNoICgkcGFja2FnZTEtPmdldFJlcGxhY2VzKCkgYXMgJHJlcGxhY2UpIHsKaWYgKCRyZXBsYWNlLT5nZXRUYXJnZXQoKSA9PT0gJHJlYXNvbkRhdGEtPmdldFRhcmdldCgpKSB7CiRwcm92aWRlVHlwZSA9ICdyZXBsYWNlcyc7CiRwcm92aWRlZCA9ICRyZXBsYWNlLT5nZXRQcmV0dHlDb25zdHJhaW50KCk7CmJyZWFrOwp9Cn0KaWYgKG51bGwgIT09ICRwcm92aWRlVHlwZSkgewokY29uZmxpY3RUYXJnZXQgPSAkcmVhc29uRGF0YS0+Z2V0VGFyZ2V0KCkuJyAnLiRyZWFzb25EYXRhLT5nZXRQcmV0dHlDb25zdHJhaW50KCkuJyAoJy4kcGFja2FnZTEtPmdldFByZXR0eVN0cmluZygpLicgJy4kcHJvdmlkZVR5cGUuJyAnLiRyZWFzb25EYXRhLT5nZXRUYXJnZXQoKS4nICcuJHByb3ZpZGVkLicpJzsKfQp9Cn0KCnJldHVybiAkcGFja2FnZTItPmdldFByZXR0eVN0cmluZygpLicgY29uZmxpY3RzIHdpdGggJy4kY29uZmxpY3RUYXJnZXQuJy4nOwoKY2FzZSBzZWxmOjpSVUxFX1BBQ0tBR0VfUkVRVUlSRVM6CiRzb3VyY2VMaXRlcmFsID0gYXJyYXlfc2hpZnQoJGxpdGVyYWxzKTsKJHNvdXJjZVBhY2thZ2UgPSAkdGhpcy0+ZGVkdXBsaWNhdGVEZWZhdWx0QnJhbmNoQWxpYXMoJHBvb2wtPmxpdGVyYWxUb1BhY2thZ2UoJHNvdXJjZUxpdGVyYWwpKTsKCiRyZXF1aXJlcyA9IGFycmF5KCk7CmZvcmVhY2ggKCRsaXRlcmFscyBhcyAkbGl0ZXJhbCkgewokcmVxdWlyZXNbXSA9ICRwb29sLT5saXRlcmFsVG9QYWNrYWdlKCRsaXRlcmFsKTsKfQoKJHRleHQgPSAkdGhpcy0+cmVhc29uRGF0YS0+Z2V0UHJldHR5U3RyaW5nKCRzb3VyY2VQYWNrYWdlKTsKaWYgKCRyZXF1aXJlcykgewokdGV4dCAuPSAnIC0+IHNhdGlzZmlhYmxlIGJ5ICcgLiAkdGhpcy0+Zm9ybWF0UGFja2FnZXNVbmlxdWUoJHBvb2wsICRyZXF1aXJlcywgJGlzVmVyYm9zZSkgLiAnLic7Cn0gZWxzZSB7CiR0YXJnZXROYW1lID0gJHRoaXMtPnJlYXNvbkRhdGEtPmdldFRhcmdldCgpOwoKJHJlYXNvbiA9IFByb2JsZW06OmdldE1pc3NpbmdQYWNrYWdlUmVhc29uKCRyZXBvc2l0b3J5U2V0LCAkcmVxdWVzdCwgJHBvb2wsICRpc1ZlcmJvc2UsICR0YXJnZXROYW1lLCAkdGhpcy0+cmVhc29uRGF0YS0+Z2V0Q29uc3RyYWludCgpKTsKCnJldHVybiAkdGV4dCAuICcgLT4gJyAuICRyZWFzb25bMV07Cn0KCnJldHVybiAkdGV4dDsKCmNhc2Ugc2VsZjo6UlVMRV9QQUNLQUdFX1NBTUVfTkFNRToKJHBhY2thZ2VOYW1lcyA9IGFycmF5KCk7CmZvcmVhY2ggKCRsaXRlcmFscyBhcyAkbGl0ZXJhbCkgewokcGFja2FnZSA9ICRwb29sLT5saXRlcmFsVG9QYWNrYWdlKCRsaXRlcmFsKTsKJHBhY2thZ2VOYW1lc1skcGFja2FnZS0+Z2V0TmFtZSgpXSA9IHRydWU7Cn0KJHJlcGxhY2VkTmFtZSA9ICR0aGlzLT5yZWFzb25EYXRhOwoKaWYgKGNvdW50KCRwYWNrYWdlTmFtZXMpID4gMSkgewokcmVhc29uID0gbnVsbDsKCmlmICghaXNzZXQoJHBhY2thZ2VOYW1lc1skcmVwbGFjZWROYW1lXSkpIHsKJHJlYXNvbiA9ICdUaGV5ICcuKGNvdW50KCRsaXRlcmFscykgPT0gMiA/ICdib3RoJyA6ICdhbGwnKS4nIHJlcGxhY2UgJy4kcmVwbGFjZWROYW1lLicgYW5kIHRodXMgY2Fubm90IGNvZXhpc3QuJzsKfSBlbHNlIHsKJHJlcGxhY2VyTmFtZXMgPSAkcGFja2FnZU5hbWVzOwp1bnNldCgkcmVwbGFjZXJOYW1lc1skcmVwbGFjZWROYW1lXSk7CiRyZXBsYWNlck5hbWVzID0gYXJyYXlfa2V5cygkcmVwbGFjZXJOYW1lcyk7CgppZiAoY291bnQoJHJlcGxhY2VyTmFtZXMpID09IDEpIHsKJHJlYXNvbiA9ICRyZXBsYWNlck5hbWVzWzBdIC4gJyByZXBsYWNlcyAnOwp9IGVsc2UgewokcmVhc29uID0gJ1snLmltcGxvZGUoJywgJywgJHJlcGxhY2VyTmFtZXMpLiddIHJlcGxhY2UgJzsKfQokcmVhc29uIC49ICRyZXBsYWNlZE5hbWUuJyBhbmQgdGh1cyBjYW5ub3QgY29leGlzdCB3aXRoIGl0Lic7Cn0KCiRpbnN0YWxsZWRQYWNrYWdlcyA9IGFycmF5KCk7CiRyZW1vdmFibGVQYWNrYWdlcyA9IGFycmF5KCk7CmZvcmVhY2ggKCRsaXRlcmFscyBhcyAkbGl0ZXJhbCkgewppZiAoaXNzZXQoJGluc3RhbGxlZE1hcFthYnMoJGxpdGVyYWwpXSkpIHsKJGluc3RhbGxlZFBhY2thZ2VzW10gPSAkcG9vbC0+bGl0ZXJhbFRvUGFja2FnZSgkbGl0ZXJhbCk7Cn0gZWxzZSB7CiRyZW1vdmFibGVQYWNrYWdlc1tdID0gJHBvb2wtPmxpdGVyYWxUb1BhY2thZ2UoJGxpdGVyYWwpOwp9Cn0KCmlmICgkaW5zdGFsbGVkUGFja2FnZXMgJiYgJHJlbW92YWJsZVBhY2thZ2VzKSB7CnJldHVybiAkdGhpcy0+Zm9ybWF0UGFja2FnZXNVbmlxdWUoJHBvb2wsICRyZW1vdmFibGVQYWNrYWdlcywgJGlzVmVyYm9zZSkuJyBjYW5ub3QgYmUgaW5zdGFsbGVkIGFzIHRoYXQgd291bGQgcmVxdWlyZSByZW1vdmluZyAnLiR0aGlzLT5mb3JtYXRQYWNrYWdlc1VuaXF1ZSgkcG9vbCwgJGluc3RhbGxlZFBhY2thZ2VzLCAkaXNWZXJib3NlKS4nLiAnLiRyZWFzb247Cn0KCnJldHVybiAnT25seSBvbmUgb2YgdGhlc2UgY2FuIGJlIGluc3RhbGxlZDogJy4kdGhpcy0+Zm9ybWF0UGFja2FnZXNVbmlxdWUoJHBvb2wsICRsaXRlcmFscywgJGlzVmVyYm9zZSkuJy4gJy4kcmVhc29uOwp9CgpyZXR1cm4gJ1lvdSBjYW4gb25seSBpbnN0YWxsIG9uZSB2ZXJzaW9uIG9mIGEgcGFja2FnZSwgc28gb25seSBvbmUgb2YgdGhlc2UgY2FuIGJlIGluc3RhbGxlZDogJyAuICR0aGlzLT5mb3JtYXRQYWNrYWdlc1VuaXF1ZSgkcG9vbCwgJGxpdGVyYWxzLCAkaXNWZXJib3NlKSAuICcuJzsKY2FzZSBzZWxmOjpSVUxFX0xFQVJORUQ6CgoKCgoKCgokbGVhcm5lZFN0cmluZyA9ICcgKGNvbmZsaWN0IGFuYWx5c2lzIHJlc3VsdCknOwoKaWYgKGNvdW50KCRsaXRlcmFscykgPT09IDEpIHsKJHJ1bGVUZXh0ID0gJHBvb2wtPmxpdGVyYWxUb1ByZXR0eVN0cmluZygkbGl0ZXJhbHNbMF0sICRpbnN0YWxsZWRNYXApOwp9IGVsc2UgewokZ3JvdXBzID0gYXJyYXkoKTsKZm9yZWFjaCAoJGxpdGVyYWxzIGFzICRsaXRlcmFsKSB7CiRwYWNrYWdlID0gJHBvb2wtPmxpdGVyYWxUb1BhY2thZ2UoJGxpdGVyYWwpOwppZiAoaXNzZXQoJGluc3RhbGxlZE1hcFskcGFja2FnZS0+aWRdKSkgewokZ3JvdXAgPSAkbGl0ZXJhbCA+IDAgPyAna2VlcCcgOiAncmVtb3ZlJzsKfSBlbHNlIHsKJGdyb3VwID0gJGxpdGVyYWwgPiAwID8gJ2luc3RhbGwnIDogJ2RvblwndCBpbnN0YWxsJzsKfQoKJGdyb3Vwc1skZ3JvdXBdW10gPSAkdGhpcy0+ZGVkdXBsaWNhdGVEZWZhdWx0QnJhbmNoQWxpYXMoJHBhY2thZ2UpOwp9CiRydWxlVGV4dHMgPSBhcnJheSgpOwpmb3JlYWNoICgkZ3JvdXBzIGFzICRncm91cCA9PiAkcGFja2FnZXMpIHsKJHJ1bGVUZXh0c1tdID0gJGdyb3VwIC4gKGNvdW50KCRwYWNrYWdlcykgPiAxID8gJyBvbmUgb2YnIDogJycpLicgJyAuICR0aGlzLT5mb3JtYXRQYWNrYWdlc1VuaXF1ZSgkcG9vbCwgJHBhY2thZ2VzLCAkaXNWZXJib3NlKTsKfQoKJHJ1bGVUZXh0ID0gaW1wbG9kZSgnIHwgJywgJHJ1bGVUZXh0cyk7Cn0KCnJldHVybiAnQ29uY2x1c2lvbjogJy4kcnVsZVRleHQuJGxlYXJuZWRTdHJpbmc7CmNhc2Ugc2VsZjo6UlVMRV9QQUNLQUdFX0FMSUFTOgokYWxpYXNQYWNrYWdlID0gJHBvb2wtPmxpdGVyYWxUb1BhY2thZ2UoJGxpdGVyYWxzWzBdKTsKCgppZiAoJGFsaWFzUGFja2FnZS0+Z2V0VmVyc2lvbigpID09PSBWZXJzaW9uUGFyc2VyOjpERUZBVUxUX0JSQU5DSF9BTElBUykgewpyZXR1cm4gJyc7Cn0KJHBhY2thZ2UgPSAkdGhpcy0+ZGVkdXBsaWNhdGVEZWZhdWx0QnJhbmNoQWxpYXMoJHBvb2wtPmxpdGVyYWxUb1BhY2thZ2UoJGxpdGVyYWxzWzFdKSk7CgpyZXR1cm4gJGFsaWFzUGFja2FnZS0+Z2V0UHJldHR5U3RyaW5nKCkgLicgaXMgYW4gYWxpYXMgb2YgJy4kcGFja2FnZS0+Z2V0UHJldHR5U3RyaW5nKCkuJyBhbmQgdGh1cyByZXF1aXJlcyBpdCB0byBiZSBpbnN0YWxsZWQgdG9vLic7CmNhc2Ugc2VsZjo6UlVMRV9QQUNLQUdFX0lOVkVSU0VfQUxJQVM6CgokYWxpYXNQYWNrYWdlID0gJHBvb2wtPmxpdGVyYWxUb1BhY2thZ2UoJGxpdGVyYWxzWzFdKTsKCgppZiAoJGFsaWFzUGFja2FnZS0+Z2V0VmVyc2lvbigpID09PSBWZXJzaW9uUGFyc2VyOjpERUZBVUxUX0JSQU5DSF9BTElBUykgewpyZXR1cm4gJyc7Cn0KJHBhY2thZ2UgPSAkdGhpcy0+ZGVkdXBsaWNhdGVEZWZhdWx0QnJhbmNoQWxpYXMoJHBvb2wtPmxpdGVyYWxUb1BhY2thZ2UoJGxpdGVyYWxzWzBdKSk7CgpyZXR1cm4gJGFsaWFzUGFja2FnZS0+Z2V0UHJldHR5U3RyaW5nKCkgLicgaXMgYW4gYWxpYXMgb2YgJy4kcGFja2FnZS0+Z2V0UHJldHR5U3RyaW5nKCkuJyBhbmQgbXVzdCBiZSBpbnN0YWxsZWQgd2l0aCBpdC4nOwpkZWZhdWx0OgokcnVsZVRleHQgPSAnJzsKZm9yZWFjaCAoJGxpdGVyYWxzIGFzICRpID0+ICRsaXRlcmFsKSB7CmlmICgkaSAhPSAwKSB7CiRydWxlVGV4dCAuPSAnfCc7Cn0KJHJ1bGVUZXh0IC49ICRwb29sLT5saXRlcmFsVG9QcmV0dHlTdHJpbmcoJGxpdGVyYWwsICRpbnN0YWxsZWRNYXApOwp9CgpyZXR1cm4gJygnLiRydWxlVGV4dC4nKSc7Cn0KfQoKCgoKCgoKcHJvdGVjdGVkIGZ1bmN0aW9uIGZvcm1hdFBhY2thZ2VzVW5pcXVlKCRwb29sLCBhcnJheSAkcGFja2FnZXMsICRpc1ZlcmJvc2UpCnsKZm9yZWFjaCAoJHBhY2thZ2VzIGFzICRpbmRleCA9PiAkcGFja2FnZSkgewppZiAoIVxpc19vYmplY3QoJHBhY2thZ2UpKSB7CiRwYWNrYWdlc1skaW5kZXhdID0gJHBvb2wtPmxpdGVyYWxUb1BhY2thZ2UoJHBhY2thZ2UpOwp9Cn0KCnJldHVybiBQcm9ibGVtOjpnZXRQYWNrYWdlTGlzdCgkcGFja2FnZXMsICRpc1ZlcmJvc2UpOwp9Cgpwcml2YXRlIGZ1bmN0aW9uIGRlZHVwbGljYXRlRGVmYXVsdEJyYW5jaEFsaWFzKEJhc2VQYWNrYWdlICRwYWNrYWdlKQp7CmlmICgkcGFja2FnZSBpbnN0YW5jZW9mIEFsaWFzUGFja2FnZSAmJiAkcGFja2FnZS0+Z2V0UHJldHR5VmVyc2lvbigpID09PSBWZXJzaW9uUGFyc2VyOjpERUZBVUxUX0JSQU5DSF9BTElBUykgewokcGFja2FnZSA9ICRwYWNrYWdlLT5nZXRBbGlhc09mKCk7Cn0KCnJldHVybiAkcGFja2FnZTsKfQp9Cjw/cGhwCgoKCgoKCgoKCgoKbmFtZXNwYWNlIENvbXBvc2VyXERlcGVuZGVuY3lSZXNvbHZlcjsKCnVzZSBDb21wb3NlclxQYWNrYWdlXEJhc2VQYWNrYWdlOwp1c2UgQ29tcG9zZXJcUGFja2FnZVxMaW5rOwoKCgoKY2xhc3MgUnVsZTJMaXRlcmFscyBleHRlbmRzIFJ1bGUKewpwcm90ZWN0ZWQgJGxpdGVyYWwxOwpwcm90ZWN0ZWQgJGxpdGVyYWwyOwoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIF9fY29uc3RydWN0KCRsaXRlcmFsMSwgJGxpdGVyYWwyLCAkcmVhc29uLCAkcmVhc29uRGF0YSkKewpwYXJlbnQ6Ol9fY29uc3RydWN0KCRyZWFzb24sICRyZWFzb25EYXRhKTsKCmlmICgkbGl0ZXJhbDEgPCAkbGl0ZXJhbDIpIHsKJHRoaXMtPmxpdGVyYWwxID0gJGxpdGVyYWwxOwokdGhpcy0+bGl0ZXJhbDIgPSAkbGl0ZXJhbDI7Cn0gZWxzZSB7CiR0aGlzLT5saXRlcmFsMSA9ICRsaXRlcmFsMjsKJHRoaXMtPmxpdGVyYWwyID0gJGxpdGVyYWwxOwp9Cn0KCnB1YmxpYyBmdW5jdGlvbiBnZXRMaXRlcmFscygpCnsKcmV0dXJuIGFycmF5KCR0aGlzLT5saXRlcmFsMSwgJHRoaXMtPmxpdGVyYWwyKTsKfQoKcHVibGljIGZ1bmN0aW9uIGdldEhhc2goKQp7CnJldHVybiAkdGhpcy0+bGl0ZXJhbDEuJywnLiR0aGlzLT5saXRlcmFsMjsKfQoKCgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gZXF1YWxzKFJ1bGUgJHJ1bGUpCnsKCmlmICgkcnVsZSBpbnN0YW5jZW9mIHNlbGYpIHsKaWYgKCR0aGlzLT5saXRlcmFsMSAhPT0gJHJ1bGUtPmxpdGVyYWwxKSB7CnJldHVybiBmYWxzZTsKfQoKaWYgKCR0aGlzLT5saXRlcmFsMiAhPT0gJHJ1bGUtPmxpdGVyYWwyKSB7CnJldHVybiBmYWxzZTsKfQoKcmV0dXJuIHRydWU7Cn0KCiRsaXRlcmFscyA9ICRydWxlLT5nZXRMaXRlcmFscygpOwppZiAoMiAhPSBcY291bnQoJGxpdGVyYWxzKSkgewpyZXR1cm4gZmFsc2U7Cn0KCmlmICgkdGhpcy0+bGl0ZXJhbDEgIT09ICRsaXRlcmFsc1swXSkgewpyZXR1cm4gZmFsc2U7Cn0KCmlmICgkdGhpcy0+bGl0ZXJhbDIgIT09ICRsaXRlcmFsc1sxXSkgewpyZXR1cm4gZmFsc2U7Cn0KCnJldHVybiB0cnVlOwp9CgpwdWJsaWMgZnVuY3Rpb24gaXNBc3NlcnRpb24oKQp7CnJldHVybiBmYWxzZTsKfQoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gX190b1N0cmluZygpCnsKJHJlc3VsdCA9ICR0aGlzLT5pc0Rpc2FibGVkKCkgPyAnZGlzYWJsZWQoJyA6ICcoJzsKCiRyZXN1bHQgLj0gJHRoaXMtPmxpdGVyYWwxIC4gJ3wnIC4gJHRoaXMtPmxpdGVyYWwyIC4gJyknOwoKcmV0dXJuICRyZXN1bHQ7Cn0KfQo8P3BocAoKCgoKCgoKCgoKCm5hbWVzcGFjZSBDb21wb3NlclxEZXBlbmRlbmN5UmVzb2x2ZXI7Cgp1c2UgQ29tcG9zZXJcUmVwb3NpdG9yeVxSZXBvc2l0b3J5U2V0OwoKCgoKY2xhc3MgUnVsZVNldCBpbXBsZW1lbnRzIFxJdGVyYXRvckFnZ3JlZ2F0ZSwgXENvdW50YWJsZQp7Cgpjb25zdCBUWVBFX1BBQ0tBR0UgPSAwOwpjb25zdCBUWVBFX1JFUVVFU1QgPSAxOwpjb25zdCBUWVBFX0xFQVJORUQgPSA0OwoKCgoKCgpwdWJsaWMgJHJ1bGVCeUlkOwoKcHJvdGVjdGVkIHN0YXRpYyAkdHlwZXMgPSBhcnJheSgKMjU1ID0+ICdVTktOT1dOJywKc2VsZjo6VFlQRV9QQUNLQUdFID0+ICdQQUNLQUdFJywKc2VsZjo6VFlQRV9SRVFVRVNUID0+ICdSRVFVRVNUJywKc2VsZjo6VFlQRV9MRUFSTkVEID0+ICdMRUFSTkVEJywKKTsKCnByb3RlY3RlZCAkcnVsZXM7CnByb3RlY3RlZCAkbmV4dFJ1bGVJZDsKCnByb3RlY3RlZCAkcnVsZXNCeUhhc2g7CgpwdWJsaWMgZnVuY3Rpb24gX19jb25zdHJ1Y3QoKQp7CiR0aGlzLT5uZXh0UnVsZUlkID0gMDsKCmZvcmVhY2ggKCR0aGlzLT5nZXRUeXBlcygpIGFzICR0eXBlKSB7CiR0aGlzLT5ydWxlc1skdHlwZV0gPSBhcnJheSgpOwp9CgokdGhpcy0+cnVsZXNCeUhhc2ggPSBhcnJheSgpOwp9CgpwdWJsaWMgZnVuY3Rpb24gYWRkKFJ1bGUgJHJ1bGUsICR0eXBlKQp7CmlmICghaXNzZXQoc2VsZjo6JHR5cGVzWyR0eXBlXSkpIHsKdGhyb3cgbmV3IFxPdXRPZkJvdW5kc0V4Y2VwdGlvbignVW5rbm93biBydWxlIHR5cGU6ICcgLiAkdHlwZSk7Cn0KCiRoYXNoID0gJHJ1bGUtPmdldEhhc2goKTsKCgppZiAoaXNzZXQoJHRoaXMtPnJ1bGVzQnlIYXNoWyRoYXNoXSkpIHsKJHBvdGVudGlhbER1cGxpY2F0ZXMgPSAkdGhpcy0+cnVsZXNCeUhhc2hbJGhhc2hdOwppZiAoXGlzX2FycmF5KCRwb3RlbnRpYWxEdXBsaWNhdGVzKSkgewpmb3JlYWNoICgkcG90ZW50aWFsRHVwbGljYXRlcyBhcyAkcG90ZW50aWFsRHVwbGljYXRlKSB7CmlmICgkcnVsZS0+ZXF1YWxzKCRwb3RlbnRpYWxEdXBsaWNhdGUpKSB7CnJldHVybjsKfQp9Cn0gZWxzZSB7CmlmICgkcnVsZS0+ZXF1YWxzKCRwb3RlbnRpYWxEdXBsaWNhdGVzKSkgewpyZXR1cm47Cn0KfQp9CgppZiAoIWlzc2V0KCR0aGlzLT5ydWxlc1skdHlwZV0pKSB7CiR0aGlzLT5ydWxlc1skdHlwZV0gPSBhcnJheSgpOwp9CgokdGhpcy0+cnVsZXNbJHR5cGVdW10gPSAkcnVsZTsKJHRoaXMtPnJ1bGVCeUlkWyR0aGlzLT5uZXh0UnVsZUlkXSA9ICRydWxlOwokcnVsZS0+c2V0VHlwZSgkdHlwZSk7CgokdGhpcy0+bmV4dFJ1bGVJZCsrOwoKaWYgKCFpc3NldCgkdGhpcy0+cnVsZXNCeUhhc2hbJGhhc2hdKSkgewokdGhpcy0+cnVsZXNCeUhhc2hbJGhhc2hdID0gJHJ1bGU7Cn0gZWxzZWlmIChcaXNfYXJyYXkoJHRoaXMtPnJ1bGVzQnlIYXNoWyRoYXNoXSkpIHsKJHRoaXMtPnJ1bGVzQnlIYXNoWyRoYXNoXVtdID0gJHJ1bGU7Cn0gZWxzZSB7CiRvcmlnaW5hbFJ1bGUgPSAkdGhpcy0+cnVsZXNCeUhhc2hbJGhhc2hdOwokdGhpcy0+cnVsZXNCeUhhc2hbJGhhc2hdID0gYXJyYXkoJG9yaWdpbmFsUnVsZSwgJHJ1bGUpOwp9Cn0KCnB1YmxpYyBmdW5jdGlvbiBjb3VudCgpCnsKcmV0dXJuICR0aGlzLT5uZXh0UnVsZUlkOwp9CgpwdWJsaWMgZnVuY3Rpb24gcnVsZUJ5SWQoJGlkKQp7CnJldHVybiAkdGhpcy0+cnVsZUJ5SWRbJGlkXTsKfQoKcHVibGljIGZ1bmN0aW9uIGdldFJ1bGVzKCkKewpyZXR1cm4gJHRoaXMtPnJ1bGVzOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0SXRlcmF0b3IoKQp7CnJldHVybiBuZXcgUnVsZVNldEl0ZXJhdG9yKCR0aGlzLT5nZXRSdWxlcygpKTsKfQoKcHVibGljIGZ1bmN0aW9uIGdldEl0ZXJhdG9yRm9yKCR0eXBlcykKewppZiAoIVxpc19hcnJheSgkdHlwZXMpKSB7CiR0eXBlcyA9IGFycmF5KCR0eXBlcyk7Cn0KCiRhbGxSdWxlcyA9ICR0aGlzLT5nZXRSdWxlcygpOwokcnVsZXMgPSBhcnJheSgpOwoKZm9yZWFjaCAoJHR5cGVzIGFzICR0eXBlKSB7CiRydWxlc1skdHlwZV0gPSAkYWxsUnVsZXNbJHR5cGVdOwp9CgpyZXR1cm4gbmV3IFJ1bGVTZXRJdGVyYXRvcigkcnVsZXMpOwp9CgpwdWJsaWMgZnVuY3Rpb24gZ2V0SXRlcmF0b3JXaXRob3V0KCR0eXBlcykKewppZiAoIVxpc19hcnJheSgkdHlwZXMpKSB7CiR0eXBlcyA9IGFycmF5KCR0eXBlcyk7Cn0KCiRydWxlcyA9ICR0aGlzLT5nZXRSdWxlcygpOwoKZm9yZWFjaCAoJHR5cGVzIGFzICR0eXBlKSB7CnVuc2V0KCRydWxlc1skdHlwZV0pOwp9CgpyZXR1cm4gbmV3IFJ1bGVTZXRJdGVyYXRvcigkcnVsZXMpOwp9CgpwdWJsaWMgZnVuY3Rpb24gZ2V0VHlwZXMoKQp7CiR0eXBlcyA9IHNlbGY6OiR0eXBlczsKdW5zZXQoJHR5cGVzWzI1NV0pOwoKcmV0dXJuIGFycmF5X2tleXMoJHR5cGVzKTsKfQoKcHVibGljIGZ1bmN0aW9uIGdldFByZXR0eVN0cmluZyhSZXBvc2l0b3J5U2V0ICRyZXBvc2l0b3J5U2V0ID0gbnVsbCwgUmVxdWVzdCAkcmVxdWVzdCA9IG51bGwsIFBvb2wgJHBvb2wgPSBudWxsLCAkaXNWZXJib3NlID0gZmFsc2UpCnsKJHN0cmluZyA9ICJcbiI7CmZvcmVhY2ggKCR0aGlzLT5ydWxlcyBhcyAkdHlwZSA9PiAkcnVsZXMpIHsKJHN0cmluZyAuPSBzdHJfcGFkKHNlbGY6OiR0eXBlc1skdHlwZV0sIDgsICcgJykgLiAiOiAiOwpmb3JlYWNoICgkcnVsZXMgYXMgJHJ1bGUpIHsKJHN0cmluZyAuPSAoJHJlcG9zaXRvcnlTZXQgJiYgJHJlcXVlc3QgJiYgJHBvb2wgPyAkcnVsZS0+Z2V0UHJldHR5U3RyaW5nKCRyZXBvc2l0b3J5U2V0LCAkcmVxdWVzdCwgJHBvb2wsICRpc1ZlcmJvc2UpIDogJHJ1bGUpLiJcbiI7Cn0KJHN0cmluZyAuPSAiXG5cbiI7Cn0KCnJldHVybiAkc3RyaW5nOwp9CgpwdWJsaWMgZnVuY3Rpb24gX190b1N0cmluZygpCnsKcmV0dXJuICR0aGlzLT5nZXRQcmV0dHlTdHJpbmcoKTsKfQp9Cjw/cGhwCgoKCgoKCgoKCgoKbmFtZXNwYWNlIENvbXBvc2VyXERlcGVuZGVuY3lSZXNvbHZlcjsKCnVzZSBDb21wb3NlclxQYWNrYWdlXEJhc2VQYWNrYWdlOwp1c2UgQ29tcG9zZXJcUGFja2FnZVxBbGlhc1BhY2thZ2U7CnVzZSBDb21wb3NlclxSZXBvc2l0b3J5XFBsYXRmb3JtUmVwb3NpdG9yeTsKCgoKCmNsYXNzIFJ1bGVTZXRHZW5lcmF0b3IKewpwcm90ZWN0ZWQgJHBvbGljeTsKcHJvdGVjdGVkICRwb29sOwpwcm90ZWN0ZWQgJHJ1bGVzOwpwcm90ZWN0ZWQgJGFkZGVkTWFwOwpwcm90ZWN0ZWQgJGNvbmZsaWN0QWRkZWRNYXA7CnByb3RlY3RlZCAkYWRkZWRQYWNrYWdlc0J5TmFtZXM7CnByb3RlY3RlZCAkY29uZmxpY3RzRm9yTmFtZTsKCnB1YmxpYyBmdW5jdGlvbiBfX2NvbnN0cnVjdChQb2xpY3lJbnRlcmZhY2UgJHBvbGljeSwgUG9vbCAkcG9vbCkKewokdGhpcy0+cG9saWN5ID0gJHBvbGljeTsKJHRoaXMtPnBvb2wgPSAkcG9vbDsKfQoKCgoKCgoKCgoKCgoKCgpwcm90ZWN0ZWQgZnVuY3Rpb24gY3JlYXRlUmVxdWlyZVJ1bGUoQmFzZVBhY2thZ2UgJHBhY2thZ2UsIGFycmF5ICRwcm92aWRlcnMsICRyZWFzb24sICRyZWFzb25EYXRhID0gbnVsbCkKewokbGl0ZXJhbHMgPSBhcnJheSgtJHBhY2thZ2UtPmlkKTsKCmZvcmVhY2ggKCRwcm92aWRlcnMgYXMgJHByb3ZpZGVyKSB7CgppZiAoJHByb3ZpZGVyID09PSAkcGFja2FnZSkgewpyZXR1cm4gbnVsbDsKfQokbGl0ZXJhbHNbXSA9ICRwcm92aWRlci0+aWQ7Cn0KCnJldHVybiBuZXcgR2VuZXJpY1J1bGUoJGxpdGVyYWxzLCAkcmVhc29uLCAkcmVhc29uRGF0YSk7Cn0KCgoKCgoKCgoKCgoKCnByb3RlY3RlZCBmdW5jdGlvbiBjcmVhdGVJbnN0YWxsT25lT2ZSdWxlKGFycmF5ICRwYWNrYWdlcywgJHJlYXNvbiwgJHJlYXNvbkRhdGEpCnsKJGxpdGVyYWxzID0gYXJyYXkoKTsKZm9yZWFjaCAoJHBhY2thZ2VzIGFzICRwYWNrYWdlKSB7CiRsaXRlcmFsc1tdID0gJHBhY2thZ2UtPmlkOwp9CgpyZXR1cm4gbmV3IEdlbmVyaWNSdWxlKCRsaXRlcmFscywgJHJlYXNvbiwgJHJlYXNvbkRhdGEpOwp9CgoKCgoKCgoKCgoKCgoKCnByb3RlY3RlZCBmdW5jdGlvbiBjcmVhdGVSdWxlMkxpdGVyYWxzKEJhc2VQYWNrYWdlICRpc3N1ZXIsIEJhc2VQYWNrYWdlICRwcm92aWRlciwgJHJlYXNvbiwgJHJlYXNvbkRhdGEgPSBudWxsKQp7CgppZiAoJGlzc3VlciA9PT0gJHByb3ZpZGVyKSB7CnJldHVybiBudWxsOwp9CgpyZXR1cm4gbmV3IFJ1bGUyTGl0ZXJhbHMoLSRpc3N1ZXItPmlkLCAtJHByb3ZpZGVyLT5pZCwgJHJlYXNvbiwgJHJlYXNvbkRhdGEpOwp9Cgpwcm90ZWN0ZWQgZnVuY3Rpb24gY3JlYXRlTXVsdGlDb25mbGljdFJ1bGUoYXJyYXkgJHBhY2thZ2VzLCAkcmVhc29uLCAkcmVhc29uRGF0YSA9IG51bGwpCnsKJGxpdGVyYWxzID0gYXJyYXkoKTsKZm9yZWFjaCAoJHBhY2thZ2VzIGFzICRwYWNrYWdlKSB7CiRsaXRlcmFsc1tdID0gLSRwYWNrYWdlLT5pZDsKfQoKaWYgKFxjb3VudCgkbGl0ZXJhbHMpID09IDIpIHsKcmV0dXJuIG5ldyBSdWxlMkxpdGVyYWxzKCRsaXRlcmFsc1swXSwgJGxpdGVyYWxzWzFdLCAkcmVhc29uLCAkcmVhc29uRGF0YSk7Cn0KCnJldHVybiBuZXcgTXVsdGlDb25mbGljdFJ1bGUoJGxpdGVyYWxzLCAkcmVhc29uLCAkcmVhc29uRGF0YSk7Cn0KCgoKCgoKCgoKCnByaXZhdGUgZnVuY3Rpb24gYWRkUnVsZSgkdHlwZSwgUnVsZSAkbmV3UnVsZSA9IG51bGwpCnsKaWYgKCEkbmV3UnVsZSkgewpyZXR1cm47Cn0KCiR0aGlzLT5ydWxlcy0+YWRkKCRuZXdSdWxlLCAkdHlwZSk7Cn0KCnByb3RlY3RlZCBmdW5jdGlvbiBhZGRSdWxlc0ZvclBhY2thZ2UoQmFzZVBhY2thZ2UgJHBhY2thZ2UsICRpZ25vcmVQbGF0Zm9ybVJlcXMpCnsKJHdvcmtRdWV1ZSA9IG5ldyBcU3BsUXVldWU7CiR3b3JrUXVldWUtPmVucXVldWUoJHBhY2thZ2UpOwoKd2hpbGUgKCEkd29ya1F1ZXVlLT5pc0VtcHR5KCkpIHsKCiRwYWNrYWdlID0gJHdvcmtRdWV1ZS0+ZGVxdWV1ZSgpOwppZiAoaXNzZXQoJHRoaXMtPmFkZGVkTWFwWyRwYWNrYWdlLT5pZF0pKSB7CmNvbnRpbnVlOwp9CgokdGhpcy0+YWRkZWRNYXBbJHBhY2thZ2UtPmlkXSA9ICRwYWNrYWdlOwoKaWYgKCEkcGFja2FnZSBpbnN0YW5jZW9mIEFsaWFzUGFja2FnZSkgewpmb3JlYWNoICgkcGFja2FnZS0+Z2V0TmFtZXMoZmFsc2UpIGFzICRuYW1lKSB7CiR0aGlzLT5hZGRlZFBhY2thZ2VzQnlOYW1lc1skbmFtZV1bXSA9ICRwYWNrYWdlOwp9Cn0gZWxzZSB7CiR3b3JrUXVldWUtPmVucXVldWUoJHBhY2thZ2UtPmdldEFsaWFzT2YoKSk7CiR0aGlzLT5hZGRSdWxlKFJ1bGVTZXQ6OlRZUEVfUEFDS0FHRSwgJHRoaXMtPmNyZWF0ZVJlcXVpcmVSdWxlKCRwYWNrYWdlLCBhcnJheSgkcGFja2FnZS0+Z2V0QWxpYXNPZigpKSwgUnVsZTo6UlVMRV9QQUNLQUdFX0FMSUFTLCAkcGFja2FnZSkpOwoKCiR0aGlzLT5hZGRSdWxlKFJ1bGVTZXQ6OlRZUEVfUEFDS0FHRSwgJHRoaXMtPmNyZWF0ZVJlcXVpcmVSdWxlKCRwYWNrYWdlLT5nZXRBbGlhc09mKCksIGFycmF5KCRwYWNrYWdlKSwgUnVsZTo6UlVMRV9QQUNLQUdFX0lOVkVSU0VfQUxJQVMsICRwYWNrYWdlLT5nZXRBbGlhc09mKCkpKTsKCgoKaWYgKCEkcGFja2FnZS0+aGFzU2VsZlZlcnNpb25SZXF1aXJlcygpKSB7CmNvbnRpbnVlOwp9Cn0KCmZvcmVhY2ggKCRwYWNrYWdlLT5nZXRSZXF1aXJlcygpIGFzICRsaW5rKSB7CmlmICgodHJ1ZSA9PT0gJGlnbm9yZVBsYXRmb3JtUmVxcyB8fCAoaXNfYXJyYXkoJGlnbm9yZVBsYXRmb3JtUmVxcykgJiYgaW5fYXJyYXkoJGxpbmstPmdldFRhcmdldCgpLCAkaWdub3JlUGxhdGZvcm1SZXFzLCB0cnVlKSkpICYmIFBsYXRmb3JtUmVwb3NpdG9yeTo6aXNQbGF0Zm9ybVBhY2thZ2UoJGxpbmstPmdldFRhcmdldCgpKSkgewpjb250aW51ZTsKfQoKJHBvc3NpYmxlUmVxdWlyZXMgPSAkdGhpcy0+cG9vbC0+d2hhdFByb3ZpZGVzKCRsaW5rLT5nZXRUYXJnZXQoKSwgJGxpbmstPmdldENvbnN0cmFpbnQoKSk7CgokdGhpcy0+YWRkUnVsZShSdWxlU2V0OjpUWVBFX1BBQ0tBR0UsICR0aGlzLT5jcmVhdGVSZXF1aXJlUnVsZSgkcGFja2FnZSwgJHBvc3NpYmxlUmVxdWlyZXMsIFJ1bGU6OlJVTEVfUEFDS0FHRV9SRVFVSVJFUywgJGxpbmspKTsKCmZvcmVhY2ggKCRwb3NzaWJsZVJlcXVpcmVzIGFzICRyZXF1aXJlKSB7CiR3b3JrUXVldWUtPmVucXVldWUoJHJlcXVpcmUpOwp9Cn0KfQp9Cgpwcm90ZWN0ZWQgZnVuY3Rpb24gYWRkQ29uZmxpY3RSdWxlcygkaWdub3JlUGxhdGZvcm1SZXFzID0gZmFsc2UpCnsKCmZvcmVhY2ggKCR0aGlzLT5hZGRlZE1hcCBhcyAkcGFja2FnZSkgewpmb3JlYWNoICgkcGFja2FnZS0+Z2V0Q29uZmxpY3RzKCkgYXMgJGxpbmspIHsKCmlmICghaXNzZXQoJHRoaXMtPmFkZGVkUGFja2FnZXNCeU5hbWVzWyRsaW5rLT5nZXRUYXJnZXQoKV0pKSB7CmNvbnRpbnVlOwp9CgppZiAoKHRydWUgPT09ICRpZ25vcmVQbGF0Zm9ybVJlcXMgfHwgKGlzX2FycmF5KCRpZ25vcmVQbGF0Zm9ybVJlcXMpICYmIGluX2FycmF5KCRsaW5rLT5nZXRUYXJnZXQoKSwgJGlnbm9yZVBsYXRmb3JtUmVxcywgdHJ1ZSkpKSAmJiBQbGF0Zm9ybVJlcG9zaXRvcnk6OmlzUGxhdGZvcm1QYWNrYWdlKCRsaW5rLT5nZXRUYXJnZXQoKSkpIHsKY29udGludWU7Cn0KCiRjb25mbGljdHMgPSAkdGhpcy0+cG9vbC0+d2hhdFByb3ZpZGVzKCRsaW5rLT5nZXRUYXJnZXQoKSwgJGxpbmstPmdldENvbnN0cmFpbnQoKSk7Cgpmb3JlYWNoICgkY29uZmxpY3RzIGFzICRjb25mbGljdCkgewoKCgppZiAoISRjb25mbGljdCBpbnN0YW5jZW9mIEFsaWFzUGFja2FnZSB8fCAkY29uZmxpY3QtPmdldE5hbWUoKSA9PT0gJGxpbmstPmdldFRhcmdldCgpKSB7CiR0aGlzLT5hZGRSdWxlKFJ1bGVTZXQ6OlRZUEVfUEFDS0FHRSwgJHRoaXMtPmNyZWF0ZVJ1bGUyTGl0ZXJhbHMoJHBhY2thZ2UsICRjb25mbGljdCwgUnVsZTo6UlVMRV9QQUNLQUdFX0NPTkZMSUNULCAkbGluaykpOwp9Cn0KfQp9Cgpmb3JlYWNoICgkdGhpcy0+YWRkZWRQYWNrYWdlc0J5TmFtZXMgYXMgJG5hbWUgPT4gJHBhY2thZ2VzKSB7CmlmIChcY291bnQoJHBhY2thZ2VzKSA+IDEpIHsKJHJlYXNvbiA9IFJ1bGU6OlJVTEVfUEFDS0FHRV9TQU1FX05BTUU7CiR0aGlzLT5hZGRSdWxlKFJ1bGVTZXQ6OlRZUEVfUEFDS0FHRSwgJHRoaXMtPmNyZWF0ZU11bHRpQ29uZmxpY3RSdWxlKCRwYWNrYWdlcywgJHJlYXNvbiwgJG5hbWUpKTsKfQp9Cn0KCnByb3RlY3RlZCBmdW5jdGlvbiBhZGRSdWxlc0ZvclJlcXVlc3QoUmVxdWVzdCAkcmVxdWVzdCwgJGlnbm9yZVBsYXRmb3JtUmVxcykKewpmb3JlYWNoICgkcmVxdWVzdC0+Z2V0Rml4ZWRQYWNrYWdlcygpIGFzICRwYWNrYWdlKSB7CmlmICgkcGFja2FnZS0+aWQgPT0gLTEpIHsKCmlmICgkdGhpcy0+cG9vbC0+aXNVbmFjY2VwdGFibGVGaXhlZE9yTG9ja2VkUGFja2FnZSgkcGFja2FnZSkpIHsKY29udGludWU7Cn0KCgp0aHJvdyBuZXcgXExvZ2ljRXhjZXB0aW9uKCJGaXhlZCBwYWNrYWdlICIuJHBhY2thZ2UtPmdldFByZXR0eVN0cmluZygpLiIgd2FzIG5vdCBhZGRlZCB0byBzb2x2ZXIgcG9vbC4iKTsKfQoKJHRoaXMtPmFkZFJ1bGVzRm9yUGFja2FnZSgkcGFja2FnZSwgJGlnbm9yZVBsYXRmb3JtUmVxcyk7CgokcnVsZSA9ICR0aGlzLT5jcmVhdGVJbnN0YWxsT25lT2ZSdWxlKGFycmF5KCRwYWNrYWdlKSwgUnVsZTo6UlVMRV9GSVhFRCwgYXJyYXkoCidwYWNrYWdlJyA9PiAkcGFja2FnZSwKKSk7CiR0aGlzLT5hZGRSdWxlKFJ1bGVTZXQ6OlRZUEVfUkVRVUVTVCwgJHJ1bGUpOwp9Cgpmb3JlYWNoICgkcmVxdWVzdC0+Z2V0UmVxdWlyZXMoKSBhcyAkcGFja2FnZU5hbWUgPT4gJGNvbnN0cmFpbnQpIHsKaWYgKCh0cnVlID09PSAkaWdub3JlUGxhdGZvcm1SZXFzIHx8IChpc19hcnJheSgkaWdub3JlUGxhdGZvcm1SZXFzKSAmJiBpbl9hcnJheSgkcGFja2FnZU5hbWUsICRpZ25vcmVQbGF0Zm9ybVJlcXMsIHRydWUpKSkgJiYgUGxhdGZvcm1SZXBvc2l0b3J5Ojppc1BsYXRmb3JtUGFja2FnZSgkcGFja2FnZU5hbWUpKSB7CmNvbnRpbnVlOwp9CgokcGFja2FnZXMgPSAkdGhpcy0+cG9vbC0+d2hhdFByb3ZpZGVzKCRwYWNrYWdlTmFtZSwgJGNvbnN0cmFpbnQpOwppZiAoJHBhY2thZ2VzKSB7CmZvcmVhY2ggKCRwYWNrYWdlcyBhcyAkcGFja2FnZSkgewokdGhpcy0+YWRkUnVsZXNGb3JQYWNrYWdlKCRwYWNrYWdlLCAkaWdub3JlUGxhdGZvcm1SZXFzKTsKfQoKJHJ1bGUgPSAkdGhpcy0+Y3JlYXRlSW5zdGFsbE9uZU9mUnVsZSgkcGFja2FnZXMsIFJ1bGU6OlJVTEVfUk9PVF9SRVFVSVJFLCBhcnJheSgKJ3BhY2thZ2VOYW1lJyA9PiAkcGFja2FnZU5hbWUsCidjb25zdHJhaW50JyA9PiAkY29uc3RyYWludCwKKSk7CiR0aGlzLT5hZGRSdWxlKFJ1bGVTZXQ6OlRZUEVfUkVRVUVTVCwgJHJ1bGUpOwp9Cn0KfQoKcHJvdGVjdGVkIGZ1bmN0aW9uIGFkZFJ1bGVzRm9yUm9vdEFsaWFzZXMoJGlnbm9yZVBsYXRmb3JtUmVxcykKewpmb3JlYWNoICgkdGhpcy0+cG9vbC0+Z2V0UGFja2FnZXMoKSBhcyAkcGFja2FnZSkgewoKCgppZiAoIWlzc2V0KCR0aGlzLT5hZGRlZE1hcFskcGFja2FnZS0+aWRdKSAmJgokcGFja2FnZSBpbnN0YW5jZW9mIEFsaWFzUGFja2FnZSAmJgooJHBhY2thZ2UtPmlzUm9vdFBhY2thZ2VBbGlhcygpIHx8IGlzc2V0KCR0aGlzLT5hZGRlZE1hcFskcGFja2FnZS0+Z2V0QWxpYXNPZigpLT5pZF0pKQopIHsKJHRoaXMtPmFkZFJ1bGVzRm9yUGFja2FnZSgkcGFja2FnZSwgJGlnbm9yZVBsYXRmb3JtUmVxcyk7Cn0KfQp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0UnVsZXNGb3IoUmVxdWVzdCAkcmVxdWVzdCwgJGlnbm9yZVBsYXRmb3JtUmVxcyA9IGZhbHNlKQp7CiR0aGlzLT5ydWxlcyA9IG5ldyBSdWxlU2V0OwoKJHRoaXMtPmFkZGVkTWFwID0gYXJyYXkoKTsKJHRoaXMtPmNvbmZsaWN0QWRkZWRNYXAgPSBhcnJheSgpOwokdGhpcy0+YWRkZWRQYWNrYWdlc0J5TmFtZXMgPSBhcnJheSgpOwokdGhpcy0+Y29uZmxpY3RzRm9yTmFtZSA9IGFycmF5KCk7CgokdGhpcy0+YWRkUnVsZXNGb3JSZXF1ZXN0KCRyZXF1ZXN0LCAkaWdub3JlUGxhdGZvcm1SZXFzKTsKCiR0aGlzLT5hZGRSdWxlc0ZvclJvb3RBbGlhc2VzKCRpZ25vcmVQbGF0Zm9ybVJlcXMpOwoKJHRoaXMtPmFkZENvbmZsaWN0UnVsZXMoJGlnbm9yZVBsYXRmb3JtUmVxcyk7CgoKJHRoaXMtPmFkZGVkTWFwID0gJHRoaXMtPmFkZGVkUGFja2FnZXNCeU5hbWVzID0gbnVsbDsKCnJldHVybiAkdGhpcy0+cnVsZXM7Cn0KfQo8P3BocAoKCgoKCgoKCgoKCm5hbWVzcGFjZSBDb21wb3NlclxEZXBlbmRlbmN5UmVzb2x2ZXI7CgoKCgpjbGFzcyBSdWxlU2V0SXRlcmF0b3IgaW1wbGVtZW50cyBcSXRlcmF0b3IKewpwcm90ZWN0ZWQgJHJ1bGVzOwpwcm90ZWN0ZWQgJHR5cGVzOwoKcHJvdGVjdGVkICRjdXJyZW50T2Zmc2V0Owpwcm90ZWN0ZWQgJGN1cnJlbnRUeXBlOwpwcm90ZWN0ZWQgJGN1cnJlbnRUeXBlT2Zmc2V0OwoKcHVibGljIGZ1bmN0aW9uIF9fY29uc3RydWN0KGFycmF5ICRydWxlcykKewokdGhpcy0+cnVsZXMgPSAkcnVsZXM7CiR0aGlzLT50eXBlcyA9IGFycmF5X2tleXMoJHJ1bGVzKTsKc29ydCgkdGhpcy0+dHlwZXMpOwoKJHRoaXMtPnJld2luZCgpOwp9CgpwdWJsaWMgZnVuY3Rpb24gY3VycmVudCgpCnsKcmV0dXJuICR0aGlzLT5ydWxlc1skdGhpcy0+Y3VycmVudFR5cGVdWyR0aGlzLT5jdXJyZW50T2Zmc2V0XTsKfQoKcHVibGljIGZ1bmN0aW9uIGtleSgpCnsKcmV0dXJuICR0aGlzLT5jdXJyZW50VHlwZTsKfQoKcHVibGljIGZ1bmN0aW9uIG5leHQoKQp7CiR0aGlzLT5jdXJyZW50T2Zmc2V0Kys7CgppZiAoIWlzc2V0KCR0aGlzLT5ydWxlc1skdGhpcy0+Y3VycmVudFR5cGVdKSkgewpyZXR1cm47Cn0KCmlmICgkdGhpcy0+Y3VycmVudE9mZnNldCA+PSBcY291bnQoJHRoaXMtPnJ1bGVzWyR0aGlzLT5jdXJyZW50VHlwZV0pKSB7CiR0aGlzLT5jdXJyZW50T2Zmc2V0ID0gMDsKCmRvIHsKJHRoaXMtPmN1cnJlbnRUeXBlT2Zmc2V0Kys7CgppZiAoIWlzc2V0KCR0aGlzLT50eXBlc1skdGhpcy0+Y3VycmVudFR5cGVPZmZzZXRdKSkgewokdGhpcy0+Y3VycmVudFR5cGUgPSAtMTsKYnJlYWs7Cn0KCiR0aGlzLT5jdXJyZW50VHlwZSA9ICR0aGlzLT50eXBlc1skdGhpcy0+Y3VycmVudFR5cGVPZmZzZXRdOwp9IHdoaWxlIChpc3NldCgkdGhpcy0+dHlwZXNbJHRoaXMtPmN1cnJlbnRUeXBlT2Zmc2V0XSkgJiYgIVxjb3VudCgkdGhpcy0+cnVsZXNbJHRoaXMtPmN1cnJlbnRUeXBlXSkpOwp9Cn0KCnB1YmxpYyBmdW5jdGlvbiByZXdpbmQoKQp7CiR0aGlzLT5jdXJyZW50T2Zmc2V0ID0gMDsKCiR0aGlzLT5jdXJyZW50VHlwZU9mZnNldCA9IC0xOwokdGhpcy0+Y3VycmVudFR5cGUgPSAtMTsKCmRvIHsKJHRoaXMtPmN1cnJlbnRUeXBlT2Zmc2V0Kys7CgppZiAoIWlzc2V0KCR0aGlzLT50eXBlc1skdGhpcy0+Y3VycmVudFR5cGVPZmZzZXRdKSkgewokdGhpcy0+Y3VycmVudFR5cGUgPSAtMTsKYnJlYWs7Cn0KCiR0aGlzLT5jdXJyZW50VHlwZSA9ICR0aGlzLT50eXBlc1skdGhpcy0+Y3VycmVudFR5cGVPZmZzZXRdOwp9IHdoaWxlIChpc3NldCgkdGhpcy0+dHlwZXNbJHRoaXMtPmN1cnJlbnRUeXBlT2Zmc2V0XSkgJiYgIVxjb3VudCgkdGhpcy0+cnVsZXNbJHRoaXMtPmN1cnJlbnRUeXBlXSkpOwp9CgpwdWJsaWMgZnVuY3Rpb24gdmFsaWQoKQp7CnJldHVybiBpc3NldCgkdGhpcy0+cnVsZXNbJHRoaXMtPmN1cnJlbnRUeXBlXSwgJHRoaXMtPnJ1bGVzWyR0aGlzLT5jdXJyZW50VHlwZV1bJHRoaXMtPmN1cnJlbnRPZmZzZXRdKTsKfQp9Cjw/cGhwCgoKCgoKCgoKCgoKbmFtZXNwYWNlIENvbXBvc2VyXERlcGVuZGVuY3lSZXNvbHZlcjsKCgoKCgoKCgoKY2xhc3MgUnVsZVdhdGNoQ2hhaW4gZXh0ZW5kcyBcU3BsRG91Ymx5TGlua2VkTGlzdAp7CnByb3RlY3RlZCAkb2Zmc2V0ID0gMDsKCgoKCgoKcHVibGljIGZ1bmN0aW9uIHNlZWsoJG9mZnNldCkKewokdGhpcy0+cmV3aW5kKCk7CmZvciAoJGkgPSAwOyAkaSA8ICRvZmZzZXQ7ICRpKyssICR0aGlzLT5uZXh0KCkpOwp9CgoKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiByZW1vdmUoKQp7CiRvZmZzZXQgPSAkdGhpcy0+a2V5KCk7CiR0aGlzLT5vZmZzZXRVbnNldCgkb2Zmc2V0KTsKJHRoaXMtPnNlZWsoJG9mZnNldCk7Cn0KfQo8P3BocAoKCgoKCgoKCgoKCm5hbWVzcGFjZSBDb21wb3NlclxEZXBlbmRlbmN5UmVzb2x2ZXI7CgoKCgoKCgoKCgoKY2xhc3MgUnVsZVdhdGNoR3JhcGgKewpwcm90ZWN0ZWQgJHdhdGNoQ2hhaW5zID0gYXJyYXkoKTsKCgoKCgoKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBpbnNlcnQoUnVsZVdhdGNoTm9kZSAkbm9kZSkKewppZiAoJG5vZGUtPmdldFJ1bGUoKS0+aXNBc3NlcnRpb24oKSkgewpyZXR1cm47Cn0KCmlmICghJG5vZGUtPmdldFJ1bGUoKSBpbnN0YW5jZW9mIE11bHRpQ29uZmxpY3RSdWxlKSB7CmZvcmVhY2ggKGFycmF5KCRub2RlLT53YXRjaDEsICRub2RlLT53YXRjaDIpIGFzICRsaXRlcmFsKSB7CmlmICghaXNzZXQoJHRoaXMtPndhdGNoQ2hhaW5zWyRsaXRlcmFsXSkpIHsKJHRoaXMtPndhdGNoQ2hhaW5zWyRsaXRlcmFsXSA9IG5ldyBSdWxlV2F0Y2hDaGFpbjsKfQoKJHRoaXMtPndhdGNoQ2hhaW5zWyRsaXRlcmFsXS0+dW5zaGlmdCgkbm9kZSk7Cn0KfSBlbHNlIHsKZm9yZWFjaCAoJG5vZGUtPmdldFJ1bGUoKS0+Z2V0TGl0ZXJhbHMoKSBhcyAkbGl0ZXJhbCkgewppZiAoIWlzc2V0KCR0aGlzLT53YXRjaENoYWluc1skbGl0ZXJhbF0pKSB7CiR0aGlzLT53YXRjaENoYWluc1skbGl0ZXJhbF0gPSBuZXcgUnVsZVdhdGNoQ2hhaW47Cn0KCiR0aGlzLT53YXRjaENoYWluc1skbGl0ZXJhbF0tPnVuc2hpZnQoJG5vZGUpOwp9Cn0KfQoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gcHJvcGFnYXRlTGl0ZXJhbCgkZGVjaWRlZExpdGVyYWwsICRsZXZlbCwgJGRlY2lzaW9ucykKewoKCgokbGl0ZXJhbCA9IC0kZGVjaWRlZExpdGVyYWw7CgppZiAoIWlzc2V0KCR0aGlzLT53YXRjaENoYWluc1skbGl0ZXJhbF0pKSB7CnJldHVybiBudWxsOwp9CgokY2hhaW4gPSAkdGhpcy0+d2F0Y2hDaGFpbnNbJGxpdGVyYWxdOwoKJGNoYWluLT5yZXdpbmQoKTsKd2hpbGUgKCRjaGFpbi0+dmFsaWQoKSkgewokbm9kZSA9ICRjaGFpbi0+Y3VycmVudCgpOwppZiAoISRub2RlLT5nZXRSdWxlKCkgaW5zdGFuY2VvZiBNdWx0aUNvbmZsaWN0UnVsZSkgewokb3RoZXJXYXRjaCA9ICRub2RlLT5nZXRPdGhlcldhdGNoKCRsaXRlcmFsKTsKCmlmICghJG5vZGUtPmdldFJ1bGUoKS0+aXNEaXNhYmxlZCgpICYmICEkZGVjaXNpb25zLT5zYXRpc2Z5KCRvdGhlcldhdGNoKSkgewokcnVsZUxpdGVyYWxzID0gJG5vZGUtPmdldFJ1bGUoKS0+Z2V0TGl0ZXJhbHMoKTsKCiRhbHRlcm5hdGl2ZUxpdGVyYWxzID0gYXJyYXlfZmlsdGVyKCRydWxlTGl0ZXJhbHMsIGZ1bmN0aW9uICgkcnVsZUxpdGVyYWwpIHVzZSAoJGxpdGVyYWwsICRvdGhlcldhdGNoLCAkZGVjaXNpb25zKSB7CnJldHVybiAkbGl0ZXJhbCAhPT0gJHJ1bGVMaXRlcmFsICYmCiRvdGhlcldhdGNoICE9PSAkcnVsZUxpdGVyYWwgJiYKISRkZWNpc2lvbnMtPmNvbmZsaWN0KCRydWxlTGl0ZXJhbCk7Cn0pOwoKaWYgKCRhbHRlcm5hdGl2ZUxpdGVyYWxzKSB7CnJlc2V0KCRhbHRlcm5hdGl2ZUxpdGVyYWxzKTsKJHRoaXMtPm1vdmVXYXRjaCgkbGl0ZXJhbCwgY3VycmVudCgkYWx0ZXJuYXRpdmVMaXRlcmFscyksICRub2RlKTsKY29udGludWU7Cn0KCmlmICgkZGVjaXNpb25zLT5jb25mbGljdCgkb3RoZXJXYXRjaCkpIHsKcmV0dXJuICRub2RlLT5nZXRSdWxlKCk7Cn0KCiRkZWNpc2lvbnMtPmRlY2lkZSgkb3RoZXJXYXRjaCwgJGxldmVsLCAkbm9kZS0+Z2V0UnVsZSgpKTsKfQp9IGVsc2Ugewpmb3JlYWNoICgkbm9kZS0+Z2V0UnVsZSgpLT5nZXRMaXRlcmFscygpIGFzICRvdGhlckxpdGVyYWwpIHsKaWYgKCRsaXRlcmFsICE9PSAkb3RoZXJMaXRlcmFsICYmICEkZGVjaXNpb25zLT5zYXRpc2Z5KCRvdGhlckxpdGVyYWwpKSB7CmlmICgkZGVjaXNpb25zLT5jb25mbGljdCgkb3RoZXJMaXRlcmFsKSkgewpyZXR1cm4gJG5vZGUtPmdldFJ1bGUoKTsKfQoKJGRlY2lzaW9ucy0+ZGVjaWRlKCRvdGhlckxpdGVyYWwsICRsZXZlbCwgJG5vZGUtPmdldFJ1bGUoKSk7Cn0KfQp9CgokY2hhaW4tPm5leHQoKTsKfQoKcmV0dXJuIG51bGw7Cn0KCgoKCgoKCgoKCnByb3RlY3RlZCBmdW5jdGlvbiBtb3ZlV2F0Y2goJGZyb21MaXRlcmFsLCAkdG9MaXRlcmFsLCAkbm9kZSkKewppZiAoIWlzc2V0KCR0aGlzLT53YXRjaENoYWluc1skdG9MaXRlcmFsXSkpIHsKJHRoaXMtPndhdGNoQ2hhaW5zWyR0b0xpdGVyYWxdID0gbmV3IFJ1bGVXYXRjaENoYWluOwp9Cgokbm9kZS0+bW92ZVdhdGNoKCRmcm9tTGl0ZXJhbCwgJHRvTGl0ZXJhbCk7CiR0aGlzLT53YXRjaENoYWluc1skZnJvbUxpdGVyYWxdLT5yZW1vdmUoKTsKJHRoaXMtPndhdGNoQ2hhaW5zWyR0b0xpdGVyYWxdLT51bnNoaWZ0KCRub2RlKTsKfQp9Cjw/cGhwCgoKCgoKCgoKCgoKbmFtZXNwYWNlIENvbXBvc2VyXERlcGVuZGVuY3lSZXNvbHZlcjsKCgoKCgoKCgpjbGFzcyBSdWxlV2F0Y2hOb2RlCnsKcHVibGljICR3YXRjaDE7CnB1YmxpYyAkd2F0Y2gyOwoKcHJvdGVjdGVkICRydWxlOwoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gX19jb25zdHJ1Y3QoJHJ1bGUpCnsKJHRoaXMtPnJ1bGUgPSAkcnVsZTsKCiRsaXRlcmFscyA9ICRydWxlLT5nZXRMaXRlcmFscygpOwoKJGxpdGVyYWxDb3VudCA9IFxjb3VudCgkbGl0ZXJhbHMpOwokdGhpcy0+d2F0Y2gxID0gJGxpdGVyYWxDb3VudCA+IDAgPyAkbGl0ZXJhbHNbMF0gOiAwOwokdGhpcy0+d2F0Y2gyID0gJGxpdGVyYWxDb3VudCA+IDEgPyAkbGl0ZXJhbHNbMV0gOiAwOwp9CgoKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiB3YXRjaDJPbkhpZ2hlc3QoRGVjaXNpb25zICRkZWNpc2lvbnMpCnsKJGxpdGVyYWxzID0gJHRoaXMtPnJ1bGUtPmdldExpdGVyYWxzKCk7CgoKaWYgKFxjb3VudCgkbGl0ZXJhbHMpIDwgMyB8fCAkdGhpcy0+cnVsZSBpbnN0YW5jZW9mIE11bHRpQ29uZmxpY3RSdWxlKSB7CnJldHVybjsKfQoKJHdhdGNoTGV2ZWwgPSAwOwoKZm9yZWFjaCAoJGxpdGVyYWxzIGFzICRsaXRlcmFsKSB7CiRsZXZlbCA9ICRkZWNpc2lvbnMtPmRlY2lzaW9uTGV2ZWwoJGxpdGVyYWwpOwoKaWYgKCRsZXZlbCA+ICR3YXRjaExldmVsKSB7CiR0aGlzLT53YXRjaDIgPSAkbGl0ZXJhbDsKJHdhdGNoTGV2ZWwgPSAkbGV2ZWw7Cn0KfQp9CgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBnZXRSdWxlKCkKewpyZXR1cm4gJHRoaXMtPnJ1bGU7Cn0KCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBnZXRPdGhlcldhdGNoKCRsaXRlcmFsKQp7CmlmICgkdGhpcy0+d2F0Y2gxID09ICRsaXRlcmFsKSB7CnJldHVybiAkdGhpcy0+d2F0Y2gyOwp9CgpyZXR1cm4gJHRoaXMtPndhdGNoMTsKfQoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIG1vdmVXYXRjaCgkZnJvbSwgJHRvKQp7CmlmICgkdGhpcy0+d2F0Y2gxID09ICRmcm9tKSB7CiR0aGlzLT53YXRjaDEgPSAkdG87Cn0gZWxzZSB7CiR0aGlzLT53YXRjaDIgPSAkdG87Cn0KfQp9Cjw/cGhwCgoKCgoKCgoKCgoKbmFtZXNwYWNlIENvbXBvc2VyXERlcGVuZGVuY3lSZXNvbHZlcjsKCnVzZSBDb21wb3NlclxJT1xJT0ludGVyZmFjZTsKdXNlIENvbXBvc2VyXFBhY2thZ2VcUGFja2FnZUludGVyZmFjZTsKdXNlIENvbXBvc2VyXFJlcG9zaXRvcnlcUGxhdGZvcm1SZXBvc2l0b3J5OwoKCgoKY2xhc3MgU29sdmVyCnsKY29uc3QgQlJBTkNIX0xJVEVSQUxTID0gMDsKY29uc3QgQlJBTkNIX0xFVkVMID0gMTsKCgpwcm90ZWN0ZWQgJHBvbGljeTsKCnByb3RlY3RlZCAkcG9vbDsKCgpwcm90ZWN0ZWQgJHJ1bGVzOwoKCnByb3RlY3RlZCAkd2F0Y2hHcmFwaDsKCnByb3RlY3RlZCAkZGVjaXNpb25zOwoKcHJvdGVjdGVkICRmaXhlZE1hcDsKCgpwcm90ZWN0ZWQgJHByb3BhZ2F0ZUluZGV4OwoKcHJvdGVjdGVkICRicmFuY2hlcyA9IGFycmF5KCk7Cgpwcm90ZWN0ZWQgJHByb2JsZW1zID0gYXJyYXkoKTsKCnByb3RlY3RlZCAkbGVhcm5lZFBvb2wgPSBhcnJheSgpOwoKcHJvdGVjdGVkICRsZWFybmVkV2h5ID0gYXJyYXkoKTsKCgpwdWJsaWMgJHRlc3RGbGFnTGVhcm5lZFBvc2l0aXZlTGl0ZXJhbCA9IGZhbHNlOwoKCnByb3RlY3RlZCAkaW87CgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBfX2NvbnN0cnVjdChQb2xpY3lJbnRlcmZhY2UgJHBvbGljeSwgUG9vbCAkcG9vbCwgSU9JbnRlcmZhY2UgJGlvKQp7CiR0aGlzLT5pbyA9ICRpbzsKJHRoaXMtPnBvbGljeSA9ICRwb2xpY3k7CiR0aGlzLT5wb29sID0gJHBvb2w7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBnZXRSdWxlU2V0U2l6ZSgpCnsKcmV0dXJuIFxjb3VudCgkdGhpcy0+cnVsZXMpOwp9CgpwdWJsaWMgZnVuY3Rpb24gZ2V0UG9vbCgpCnsKcmV0dXJuICR0aGlzLT5wb29sOwp9CgoKCnByaXZhdGUgZnVuY3Rpb24gbWFrZUFzc2VydGlvblJ1bGVEZWNpc2lvbnMoKQp7CiRkZWNpc2lvblN0YXJ0ID0gXGNvdW50KCR0aGlzLT5kZWNpc2lvbnMpIC0gMTsKCiRydWxlc0NvdW50ID0gXGNvdW50KCR0aGlzLT5ydWxlcyk7CmZvciAoJHJ1bGVJbmRleCA9IDA7ICRydWxlSW5kZXggPCAkcnVsZXNDb3VudDsgJHJ1bGVJbmRleCsrKSB7CiRydWxlID0gJHRoaXMtPnJ1bGVzLT5ydWxlQnlJZFskcnVsZUluZGV4XTsKCmlmICghJHJ1bGUtPmlzQXNzZXJ0aW9uKCkgfHwgJHJ1bGUtPmlzRGlzYWJsZWQoKSkgewpjb250aW51ZTsKfQoKJGxpdGVyYWxzID0gJHJ1bGUtPmdldExpdGVyYWxzKCk7CiRsaXRlcmFsID0gJGxpdGVyYWxzWzBdOwoKaWYgKCEkdGhpcy0+ZGVjaXNpb25zLT5kZWNpZGVkKCRsaXRlcmFsKSkgewokdGhpcy0+ZGVjaXNpb25zLT5kZWNpZGUoJGxpdGVyYWwsIDEsICRydWxlKTsKY29udGludWU7Cn0KCmlmICgkdGhpcy0+ZGVjaXNpb25zLT5zYXRpc2Z5KCRsaXRlcmFsKSkgewpjb250aW51ZTsKfQoKCmlmIChSdWxlU2V0OjpUWVBFX0xFQVJORUQgPT09ICRydWxlLT5nZXRUeXBlKCkpIHsKJHJ1bGUtPmRpc2FibGUoKTsKY29udGludWU7Cn0KCiRjb25mbGljdCA9ICR0aGlzLT5kZWNpc2lvbnMtPmRlY2lzaW9uUnVsZSgkbGl0ZXJhbCk7CgppZiAoJGNvbmZsaWN0ICYmIFJ1bGVTZXQ6OlRZUEVfUEFDS0FHRSA9PT0gJGNvbmZsaWN0LT5nZXRUeXBlKCkpIHsKJHByb2JsZW0gPSBuZXcgUHJvYmxlbSgpOwoKJHByb2JsZW0tPmFkZFJ1bGUoJHJ1bGUpOwokcHJvYmxlbS0+YWRkUnVsZSgkY29uZmxpY3QpOwokcnVsZS0+ZGlzYWJsZSgpOwokdGhpcy0+cHJvYmxlbXNbXSA9ICRwcm9ibGVtOwpjb250aW51ZTsKfQoKCiRwcm9ibGVtID0gbmV3IFByb2JsZW0oKTsKJHByb2JsZW0tPmFkZFJ1bGUoJHJ1bGUpOwokcHJvYmxlbS0+YWRkUnVsZSgkY29uZmxpY3QpOwoKCgpmb3JlYWNoICgkdGhpcy0+cnVsZXMtPmdldEl0ZXJhdG9yRm9yKFJ1bGVTZXQ6OlRZUEVfUkVRVUVTVCkgYXMgJGFzc2VydFJ1bGUpIHsKaWYgKCRhc3NlcnRSdWxlLT5pc0Rpc2FibGVkKCkgfHwgISRhc3NlcnRSdWxlLT5pc0Fzc2VydGlvbigpKSB7CmNvbnRpbnVlOwp9CgokYXNzZXJ0UnVsZUxpdGVyYWxzID0gJGFzc2VydFJ1bGUtPmdldExpdGVyYWxzKCk7CiRhc3NlcnRSdWxlTGl0ZXJhbCA9ICRhc3NlcnRSdWxlTGl0ZXJhbHNbMF07CgppZiAoYWJzKCRsaXRlcmFsKSAhPT0gYWJzKCRhc3NlcnRSdWxlTGl0ZXJhbCkpIHsKY29udGludWU7Cn0KJHByb2JsZW0tPmFkZFJ1bGUoJGFzc2VydFJ1bGUpOwokYXNzZXJ0UnVsZS0+ZGlzYWJsZSgpOwp9CiR0aGlzLT5wcm9ibGVtc1tdID0gJHByb2JsZW07CgokdGhpcy0+ZGVjaXNpb25zLT5yZXNldFRvT2Zmc2V0KCRkZWNpc2lvblN0YXJ0KTsKJHJ1bGVJbmRleCA9IC0xOwp9Cn0KCnByb3RlY3RlZCBmdW5jdGlvbiBzZXR1cEZpeGVkTWFwKFJlcXVlc3QgJHJlcXVlc3QpCnsKJHRoaXMtPmZpeGVkTWFwID0gYXJyYXkoKTsKZm9yZWFjaCAoJHJlcXVlc3QtPmdldEZpeGVkUGFja2FnZXMoKSBhcyAkcGFja2FnZSkgewokdGhpcy0+Zml4ZWRNYXBbJHBhY2thZ2UtPmlkXSA9ICRwYWNrYWdlOwp9Cn0KCgoKCgpwcm90ZWN0ZWQgZnVuY3Rpb24gY2hlY2tGb3JSb290UmVxdWlyZVByb2JsZW1zKFJlcXVlc3QgJHJlcXVlc3QsICRpZ25vcmVQbGF0Zm9ybVJlcXMpCnsKZm9yZWFjaCAoJHJlcXVlc3QtPmdldFJlcXVpcmVzKCkgYXMgJHBhY2thZ2VOYW1lID0+ICRjb25zdHJhaW50KSB7CmlmICgodHJ1ZSA9PT0gJGlnbm9yZVBsYXRmb3JtUmVxcyB8fCAoaXNfYXJyYXkoJGlnbm9yZVBsYXRmb3JtUmVxcykgJiYgaW5fYXJyYXkoJHBhY2thZ2VOYW1lLCAkaWdub3JlUGxhdGZvcm1SZXFzLCB0cnVlKSkpICYmIFBsYXRmb3JtUmVwb3NpdG9yeTo6aXNQbGF0Zm9ybVBhY2thZ2UoJHBhY2thZ2VOYW1lKSkgewpjb250aW51ZTsKfQoKaWYgKCEkdGhpcy0+cG9vbC0+d2hhdFByb3ZpZGVzKCRwYWNrYWdlTmFtZSwgJGNvbnN0cmFpbnQpKSB7CiRwcm9ibGVtID0gbmV3IFByb2JsZW0oKTsKJHByb2JsZW0tPmFkZFJ1bGUobmV3IEdlbmVyaWNSdWxlKGFycmF5KCksIFJ1bGU6OlJVTEVfUk9PVF9SRVFVSVJFLCBhcnJheSgncGFja2FnZU5hbWUnID0+ICRwYWNrYWdlTmFtZSwgJ2NvbnN0cmFpbnQnID0+ICRjb25zdHJhaW50KSkpOwokdGhpcy0+cHJvYmxlbXNbXSA9ICRwcm9ibGVtOwp9Cn0KfQoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gc29sdmUoUmVxdWVzdCAkcmVxdWVzdCwgJGlnbm9yZVBsYXRmb3JtUmVxcyA9IGZhbHNlKQp7CiR0aGlzLT5zZXR1cEZpeGVkTWFwKCRyZXF1ZXN0KTsKCiR0aGlzLT5pby0+d3JpdGVFcnJvcignR2VuZXJhdGluZyBydWxlcycsIHRydWUsIElPSW50ZXJmYWNlOjpERUJVRyk7CiRydWxlU2V0R2VuZXJhdG9yID0gbmV3IFJ1bGVTZXRHZW5lcmF0b3IoJHRoaXMtPnBvbGljeSwgJHRoaXMtPnBvb2wpOwokdGhpcy0+cnVsZXMgPSAkcnVsZVNldEdlbmVyYXRvci0+Z2V0UnVsZXNGb3IoJHJlcXVlc3QsICRpZ25vcmVQbGF0Zm9ybVJlcXMpOwp1bnNldCgkcnVsZVNldEdlbmVyYXRvcik7CiR0aGlzLT5jaGVja0ZvclJvb3RSZXF1aXJlUHJvYmxlbXMoJHJlcXVlc3QsICRpZ25vcmVQbGF0Zm9ybVJlcXMpOwokdGhpcy0+ZGVjaXNpb25zID0gbmV3IERlY2lzaW9ucygkdGhpcy0+cG9vbCk7CiR0aGlzLT53YXRjaEdyYXBoID0gbmV3IFJ1bGVXYXRjaEdyYXBoOwoKZm9yZWFjaCAoJHRoaXMtPnJ1bGVzIGFzICRydWxlKSB7CiR0aGlzLT53YXRjaEdyYXBoLT5pbnNlcnQobmV3IFJ1bGVXYXRjaE5vZGUoJHJ1bGUpKTsKfQoKCiR0aGlzLT5tYWtlQXNzZXJ0aW9uUnVsZURlY2lzaW9ucygpOwoKJHRoaXMtPmlvLT53cml0ZUVycm9yKCdSZXNvbHZpbmcgZGVwZW5kZW5jaWVzIHRocm91Z2ggU0FUJywgdHJ1ZSwgSU9JbnRlcmZhY2U6OkRFQlVHKTsKJGJlZm9yZSA9IG1pY3JvdGltZSh0cnVlKTsKJHRoaXMtPnJ1blNhdCgpOwokdGhpcy0+aW8tPndyaXRlRXJyb3IoJycsIHRydWUsIElPSW50ZXJmYWNlOjpERUJVRyk7CiR0aGlzLT5pby0+d3JpdGVFcnJvcihzcHJpbnRmKCdEZXBlbmRlbmN5IHJlc29sdXRpb24gY29tcGxldGVkIGluICUuM2Ygc2Vjb25kcycsIG1pY3JvdGltZSh0cnVlKSAtICRiZWZvcmUpLCB0cnVlLCBJT0ludGVyZmFjZTo6VkVSQk9TRSk7CgppZiAoJHRoaXMtPnByb2JsZW1zKSB7CnRocm93IG5ldyBTb2x2ZXJQcm9ibGVtc0V4Y2VwdGlvbigkdGhpcy0+cHJvYmxlbXMsICR0aGlzLT5sZWFybmVkUG9vbCk7Cn0KCnJldHVybiBuZXcgTG9ja1RyYW5zYWN0aW9uKCR0aGlzLT5wb29sLCAkcmVxdWVzdC0+Z2V0UHJlc2VudE1hcCgpLCAkcmVxdWVzdC0+Z2V0Rml4ZWRQYWNrYWdlc01hcCgpLCAkdGhpcy0+ZGVjaXNpb25zKTsKfQoKCgoKCgoKCgoKcHJvdGVjdGVkIGZ1bmN0aW9uIHByb3BhZ2F0ZSgkbGV2ZWwpCnsKd2hpbGUgKCR0aGlzLT5kZWNpc2lvbnMtPnZhbGlkT2Zmc2V0KCR0aGlzLT5wcm9wYWdhdGVJbmRleCkpIHsKJGRlY2lzaW9uID0gJHRoaXMtPmRlY2lzaW9ucy0+YXRPZmZzZXQoJHRoaXMtPnByb3BhZ2F0ZUluZGV4KTsKCiRjb25mbGljdCA9ICR0aGlzLT53YXRjaEdyYXBoLT5wcm9wYWdhdGVMaXRlcmFsKAokZGVjaXNpb25bRGVjaXNpb25zOjpERUNJU0lPTl9MSVRFUkFMXSwKJGxldmVsLAokdGhpcy0+ZGVjaXNpb25zCik7CgokdGhpcy0+cHJvcGFnYXRlSW5kZXgrKzsKCmlmICgkY29uZmxpY3QpIHsKcmV0dXJuICRjb25mbGljdDsKfQp9CgpyZXR1cm4gbnVsbDsKfQoKCgoKCgpwcml2YXRlIGZ1bmN0aW9uIHJldmVydCgkbGV2ZWwpCnsKd2hpbGUgKCEkdGhpcy0+ZGVjaXNpb25zLT5pc0VtcHR5KCkpIHsKJGxpdGVyYWwgPSAkdGhpcy0+ZGVjaXNpb25zLT5sYXN0TGl0ZXJhbCgpOwoKaWYgKCR0aGlzLT5kZWNpc2lvbnMtPnVuZGVjaWRlZCgkbGl0ZXJhbCkpIHsKYnJlYWs7Cn0KCiRkZWNpc2lvbkxldmVsID0gJHRoaXMtPmRlY2lzaW9ucy0+ZGVjaXNpb25MZXZlbCgkbGl0ZXJhbCk7CgppZiAoJGRlY2lzaW9uTGV2ZWwgPD0gJGxldmVsKSB7CmJyZWFrOwp9CgokdGhpcy0+ZGVjaXNpb25zLT5yZXZlcnRMYXN0KCk7CiR0aGlzLT5wcm9wYWdhdGVJbmRleCA9IFxjb3VudCgkdGhpcy0+ZGVjaXNpb25zKTsKfQoKd2hpbGUgKCFlbXB0eSgkdGhpcy0+YnJhbmNoZXMpICYmICR0aGlzLT5icmFuY2hlc1tcY291bnQoJHRoaXMtPmJyYW5jaGVzKSAtIDFdW3NlbGY6OkJSQU5DSF9MRVZFTF0gPj0gJGxldmVsKSB7CmFycmF5X3BvcCgkdGhpcy0+YnJhbmNoZXMpOwp9Cn0KCgoKCgoKCgoKCgoKCgoKCgoKCnByaXZhdGUgZnVuY3Rpb24gc2V0UHJvcGFnYXRlTGVhcm4oJGxldmVsLCAkbGl0ZXJhbCwgUnVsZSAkcnVsZSkKewokbGV2ZWwrKzsKCiR0aGlzLT5kZWNpc2lvbnMtPmRlY2lkZSgkbGl0ZXJhbCwgJGxldmVsLCAkcnVsZSk7Cgp3aGlsZSAodHJ1ZSkgewokcnVsZSA9ICR0aGlzLT5wcm9wYWdhdGUoJGxldmVsKTsKCmlmICghJHJ1bGUpIHsKYnJlYWs7Cn0KCmlmICgkbGV2ZWwgPT0gMSkgewpyZXR1cm4gJHRoaXMtPmFuYWx5emVVbnNvbHZhYmxlKCRydWxlKTsKfQoKCmxpc3QoJGxlYXJuTGl0ZXJhbCwgJG5ld0xldmVsLCAkbmV3UnVsZSwgJHdoeSkgPSAkdGhpcy0+YW5hbHl6ZSgkbGV2ZWwsICRydWxlKTsKCmlmICgkbmV3TGV2ZWwgPD0gMCB8fCAkbmV3TGV2ZWwgPj0gJGxldmVsKSB7CnRocm93IG5ldyBTb2x2ZXJCdWdFeGNlcHRpb24oCiJUcnlpbmcgdG8gcmV2ZXJ0IHRvIGludmFsaWQgbGV2ZWwgIi4oaW50KSAkbmV3TGV2ZWwuIiBmcm9tIGxldmVsICIuKGludCkgJGxldmVsLiIuIgopOwp9CmlmICghJG5ld1J1bGUpIHsKdGhyb3cgbmV3IFNvbHZlckJ1Z0V4Y2VwdGlvbigKIk5vIHJ1bGUgd2FzIGxlYXJuZWQgZnJvbSBhbmFseXppbmcgJHJ1bGUgYXQgbGV2ZWwgJGxldmVsLiIKKTsKfQoKJGxldmVsID0gJG5ld0xldmVsOwoKJHRoaXMtPnJldmVydCgkbGV2ZWwpOwoKJHRoaXMtPnJ1bGVzLT5hZGQoJG5ld1J1bGUsIFJ1bGVTZXQ6OlRZUEVfTEVBUk5FRCk7CgokdGhpcy0+bGVhcm5lZFdoeVtzcGxfb2JqZWN0X2hhc2goJG5ld1J1bGUpXSA9ICR3aHk7CgokcnVsZU5vZGUgPSBuZXcgUnVsZVdhdGNoTm9kZSgkbmV3UnVsZSk7CiRydWxlTm9kZS0+d2F0Y2gyT25IaWdoZXN0KCR0aGlzLT5kZWNpc2lvbnMpOwokdGhpcy0+d2F0Y2hHcmFwaC0+aW5zZXJ0KCRydWxlTm9kZSk7CgokdGhpcy0+ZGVjaXNpb25zLT5kZWNpZGUoJGxlYXJuTGl0ZXJhbCwgJGxldmVsLCAkbmV3UnVsZSk7Cn0KCnJldHVybiAkbGV2ZWw7Cn0KCgoKCgoKCnByaXZhdGUgZnVuY3Rpb24gc2VsZWN0QW5kSW5zdGFsbCgkbGV2ZWwsIGFycmF5ICRkZWNpc2lvblF1ZXVlLCBSdWxlICRydWxlKQp7CgokbGl0ZXJhbHMgPSAkdGhpcy0+cG9saWN5LT5zZWxlY3RQcmVmZXJyZWRQYWNrYWdlcygkdGhpcy0+cG9vbCwgJGRlY2lzaW9uUXVldWUsICRydWxlLT5nZXRSZXF1aXJlZFBhY2thZ2UoKSk7Cgokc2VsZWN0ZWRMaXRlcmFsID0gYXJyYXlfc2hpZnQoJGxpdGVyYWxzKTsKCgppZiAoXGNvdW50KCRsaXRlcmFscykpIHsKJHRoaXMtPmJyYW5jaGVzW10gPSBhcnJheSgkbGl0ZXJhbHMsICRsZXZlbCk7Cn0KCnJldHVybiAkdGhpcy0+c2V0UHJvcGFnYXRlTGVhcm4oJGxldmVsLCAkc2VsZWN0ZWRMaXRlcmFsLCAkcnVsZSk7Cn0KCgoKCgoKcHJvdGVjdGVkIGZ1bmN0aW9uIGFuYWx5emUoJGxldmVsLCBSdWxlICRydWxlKQp7CiRhbmFseXplZFJ1bGUgPSAkcnVsZTsKJHJ1bGVMZXZlbCA9IDE7CiRudW0gPSAwOwokbDFudW0gPSAwOwokc2VlbiA9IGFycmF5KCk7CiRsZWFybmVkTGl0ZXJhbHMgPSBhcnJheShudWxsKTsKCiRkZWNpc2lvbklkID0gXGNvdW50KCR0aGlzLT5kZWNpc2lvbnMpOwoKJHRoaXMtPmxlYXJuZWRQb29sW10gPSBhcnJheSgpOwoKd2hpbGUgKHRydWUpIHsKJHRoaXMtPmxlYXJuZWRQb29sW1xjb3VudCgkdGhpcy0+bGVhcm5lZFBvb2wpIC0gMV1bXSA9ICRydWxlOwoKZm9yZWFjaCAoJHJ1bGUtPmdldExpdGVyYWxzKCkgYXMgJGxpdGVyYWwpIHsKCmlmICgkcnVsZSBpbnN0YW5jZW9mIE11bHRpQ29uZmxpY3RSdWxlICYmICEkdGhpcy0+ZGVjaXNpb25zLT5kZWNpZGVkKCRsaXRlcmFsKSkgewpjb250aW51ZTsKfQoKCmlmICgkdGhpcy0+ZGVjaXNpb25zLT5zYXRpc2Z5KCRsaXRlcmFsKSkgewpjb250aW51ZTsKfQoKaWYgKGlzc2V0KCRzZWVuW2FicygkbGl0ZXJhbCldKSkgewpjb250aW51ZTsKfQokc2VlblthYnMoJGxpdGVyYWwpXSA9IHRydWU7CgokbCA9ICR0aGlzLT5kZWNpc2lvbnMtPmRlY2lzaW9uTGV2ZWwoJGxpdGVyYWwpOwoKaWYgKDEgPT09ICRsKSB7CiRsMW51bSsrOwp9IGVsc2VpZiAoJGxldmVsID09PSAkbCkgewokbnVtKys7Cn0gZWxzZSB7CgokbGVhcm5lZExpdGVyYWxzW10gPSAkbGl0ZXJhbDsKCmlmICgkbCA+ICRydWxlTGV2ZWwpIHsKJHJ1bGVMZXZlbCA9ICRsOwp9Cn0KfQp1bnNldCgkbGl0ZXJhbCk7CgokbDFyZXRyeSA9IHRydWU7CndoaWxlICgkbDFyZXRyeSkgewokbDFyZXRyeSA9IGZhbHNlOwoKaWYgKCEkbnVtICYmICEtLSRsMW51bSkgewoKYnJlYWsgMjsKfQoKd2hpbGUgKHRydWUpIHsKaWYgKCRkZWNpc2lvbklkIDw9IDApIHsKdGhyb3cgbmV3IFNvbHZlckJ1Z0V4Y2VwdGlvbigKIlJlYWNoZWQgaW52YWxpZCBkZWNpc2lvbiBpZCAkZGVjaXNpb25JZCB3aGlsZSBsb29raW5nIHRocm91Z2ggJHJ1bGUgZm9yIGEgbGl0ZXJhbCBwcmVzZW50IGluIHRoZSBhbmFseXplZCBydWxlICRhbmFseXplZFJ1bGUuIgopOwp9CgokZGVjaXNpb25JZC0tOwoKJGRlY2lzaW9uID0gJHRoaXMtPmRlY2lzaW9ucy0+YXRPZmZzZXQoJGRlY2lzaW9uSWQpOwokbGl0ZXJhbCA9ICRkZWNpc2lvbltEZWNpc2lvbnM6OkRFQ0lTSU9OX0xJVEVSQUxdOwoKaWYgKGlzc2V0KCRzZWVuW2FicygkbGl0ZXJhbCldKSkgewpicmVhazsKfQp9Cgp1bnNldCgkc2VlblthYnMoJGxpdGVyYWwpXSk7CgppZiAoJG51bSAmJiAwID09PSAtLSRudW0pIHsKaWYgKCRsaXRlcmFsIDwgMCkgewokdGhpcy0+dGVzdEZsYWdMZWFybmVkUG9zaXRpdmVMaXRlcmFsID0gdHJ1ZTsKfQokbGVhcm5lZExpdGVyYWxzWzBdID0gLSRsaXRlcmFsOwoKaWYgKCEkbDFudW0pIHsKYnJlYWsgMjsKfQoKZm9yZWFjaCAoJGxlYXJuZWRMaXRlcmFscyBhcyAkaSA9PiAkbGVhcm5lZExpdGVyYWwpIHsKaWYgKCRpICE9PSAwKSB7CnVuc2V0KCRzZWVuW2FicygkbGVhcm5lZExpdGVyYWwpXSk7Cn0KfQoKJGwxbnVtKys7CiRsMXJldHJ5ID0gdHJ1ZTsKfSBlbHNlIHsKJGRlY2lzaW9uID0gJHRoaXMtPmRlY2lzaW9ucy0+YXRPZmZzZXQoJGRlY2lzaW9uSWQpOwokcnVsZSA9ICRkZWNpc2lvbltEZWNpc2lvbnM6OkRFQ0lTSU9OX1JFQVNPTl07CgppZiAoJHJ1bGUgaW5zdGFuY2VvZiBNdWx0aUNvbmZsaWN0UnVsZSkgewoKZm9yZWFjaCAoJHJ1bGUtPmdldExpdGVyYWxzKCkgYXMgJGxpdGVyYWwpIHsKaWYgKCFpc3NldCgkc2VlblthYnMoJGxpdGVyYWwpXSkgJiYgJHRoaXMtPmRlY2lzaW9ucy0+c2F0aXNmeSgtJGxpdGVyYWwpKSB7CiR0aGlzLT5sZWFybmVkUG9vbFtcY291bnQoJHRoaXMtPmxlYXJuZWRQb29sKSAtIDFdW10gPSAkcnVsZTsKJGwgPSAkdGhpcy0+ZGVjaXNpb25zLT5kZWNpc2lvbkxldmVsKCRsaXRlcmFsKTsKaWYgKDEgPT09ICRsKSB7CiRsMW51bSsrOwp9IGVsc2VpZiAoJGxldmVsID09PSAkbCkgewokbnVtKys7Cn0gZWxzZSB7CgokbGVhcm5lZExpdGVyYWxzW10gPSAkbGl0ZXJhbDsKCmlmICgkbCA+ICRydWxlTGV2ZWwpIHsKJHJ1bGVMZXZlbCA9ICRsOwp9Cn0KJHNlZW5bYWJzKCRsaXRlcmFsKV0gPSB0cnVlOwpicmVhazsKfQp9CgokbDFyZXRyeSA9IHRydWU7Cn0KfQp9CgokZGVjaXNpb24gPSAkdGhpcy0+ZGVjaXNpb25zLT5hdE9mZnNldCgkZGVjaXNpb25JZCk7CiRydWxlID0gJGRlY2lzaW9uW0RlY2lzaW9uczo6REVDSVNJT05fUkVBU09OXTsKfQoKJHdoeSA9IFxjb3VudCgkdGhpcy0+bGVhcm5lZFBvb2wpIC0gMTsKCmlmICghJGxlYXJuZWRMaXRlcmFsc1swXSkgewp0aHJvdyBuZXcgU29sdmVyQnVnRXhjZXB0aW9uKAoiRGlkIG5vdCBmaW5kIGEgbGVhcm5hYmxlIGxpdGVyYWwgaW4gYW5hbHl6ZWQgcnVsZSAkYW5hbHl6ZWRSdWxlLiIKKTsKfQoKJG5ld1J1bGUgPSBuZXcgR2VuZXJpY1J1bGUoJGxlYXJuZWRMaXRlcmFscywgUnVsZTo6UlVMRV9MRUFSTkVELCAkd2h5KTsKCnJldHVybiBhcnJheSgkbGVhcm5lZExpdGVyYWxzWzBdLCAkcnVsZUxldmVsLCAkbmV3UnVsZSwgJHdoeSk7Cn0KCnByaXZhdGUgZnVuY3Rpb24gYW5hbHl6ZVVuc29sdmFibGVSdWxlKFByb2JsZW0gJHByb2JsZW0sIFJ1bGUgJGNvbmZsaWN0UnVsZSwgYXJyYXkgJiRydWxlU2VlbikKewokd2h5ID0gc3BsX29iamVjdF9oYXNoKCRjb25mbGljdFJ1bGUpOwokcnVsZVNlZW5bJHdoeV0gPSB0cnVlOwoKaWYgKCRjb25mbGljdFJ1bGUtPmdldFR5cGUoKSA9PSBSdWxlU2V0OjpUWVBFX0xFQVJORUQpIHsKJGxlYXJuZWRXaHkgPSAkdGhpcy0+bGVhcm5lZFdoeVskd2h5XTsKJHByb2JsZW1SdWxlcyA9ICR0aGlzLT5sZWFybmVkUG9vbFskbGVhcm5lZFdoeV07Cgpmb3JlYWNoICgkcHJvYmxlbVJ1bGVzIGFzICRwcm9ibGVtUnVsZSkgewppZiAoIWlzc2V0KCRydWxlU2VlbltzcGxfb2JqZWN0X2hhc2goJHByb2JsZW1SdWxlKV0pKSB7CiR0aGlzLT5hbmFseXplVW5zb2x2YWJsZVJ1bGUoJHByb2JsZW0sICRwcm9ibGVtUnVsZSwgJHJ1bGVTZWVuKTsKfQp9CgpyZXR1cm47Cn0KCmlmICgkY29uZmxpY3RSdWxlLT5nZXRUeXBlKCkgPT0gUnVsZVNldDo6VFlQRV9QQUNLQUdFKSB7CgpyZXR1cm47Cn0KCiRwcm9ibGVtLT5uZXh0U2VjdGlvbigpOwokcHJvYmxlbS0+YWRkUnVsZSgkY29uZmxpY3RSdWxlKTsKfQoKCgoKCnByaXZhdGUgZnVuY3Rpb24gYW5hbHl6ZVVuc29sdmFibGUoUnVsZSAkY29uZmxpY3RSdWxlKQp7CiRwcm9ibGVtID0gbmV3IFByb2JsZW0oKTsKJHByb2JsZW0tPmFkZFJ1bGUoJGNvbmZsaWN0UnVsZSk7CgokcnVsZVNlZW4gPSBhcnJheSgpOwoKJHRoaXMtPmFuYWx5emVVbnNvbHZhYmxlUnVsZSgkcHJvYmxlbSwgJGNvbmZsaWN0UnVsZSwgJHJ1bGVTZWVuKTsKCiR0aGlzLT5wcm9ibGVtc1tdID0gJHByb2JsZW07Cgokc2VlbiA9IGFycmF5KCk7CiRsaXRlcmFscyA9ICRjb25mbGljdFJ1bGUtPmdldExpdGVyYWxzKCk7Cgpmb3JlYWNoICgkbGl0ZXJhbHMgYXMgJGxpdGVyYWwpIHsKCmlmICgkdGhpcy0+ZGVjaXNpb25zLT5zYXRpc2Z5KCRsaXRlcmFsKSkgewpjb250aW51ZTsKfQokc2VlblthYnMoJGxpdGVyYWwpXSA9IHRydWU7Cn0KCmZvcmVhY2ggKCR0aGlzLT5kZWNpc2lvbnMgYXMgJGRlY2lzaW9uKSB7CiRsaXRlcmFsID0gJGRlY2lzaW9uW0RlY2lzaW9uczo6REVDSVNJT05fTElURVJBTF07CgoKaWYgKCFpc3NldCgkc2VlblthYnMoJGxpdGVyYWwpXSkpIHsKY29udGludWU7Cn0KCiR3aHkgPSAkZGVjaXNpb25bRGVjaXNpb25zOjpERUNJU0lPTl9SRUFTT05dOwoKJHByb2JsZW0tPmFkZFJ1bGUoJHdoeSk7CiR0aGlzLT5hbmFseXplVW5zb2x2YWJsZVJ1bGUoJHByb2JsZW0sICR3aHksICRydWxlU2Vlbik7CgokbGl0ZXJhbHMgPSAkd2h5LT5nZXRMaXRlcmFscygpOwoKZm9yZWFjaCAoJGxpdGVyYWxzIGFzICRsaXRlcmFsKSB7CgppZiAoJHRoaXMtPmRlY2lzaW9ucy0+c2F0aXNmeSgkbGl0ZXJhbCkpIHsKY29udGludWU7Cn0KJHNlZW5bYWJzKCRsaXRlcmFsKV0gPSB0cnVlOwp9Cn0KCnJldHVybiAwOwp9CgoKCgoKCgoKcHJpdmF0ZSBmdW5jdGlvbiBlbmFibGVEaXNhYmxlTGVhcm5lZFJ1bGVzKCkKewpmb3JlYWNoICgkdGhpcy0+cnVsZXMtPmdldEl0ZXJhdG9yRm9yKFJ1bGVTZXQ6OlRZUEVfTEVBUk5FRCkgYXMgJHJ1bGUpIHsKJHdoeSA9ICR0aGlzLT5sZWFybmVkV2h5W3NwbF9vYmplY3RfaGFzaCgkcnVsZSldOwokcHJvYmxlbVJ1bGVzID0gJHRoaXMtPmxlYXJuZWRQb29sWyR3aHldOwoKJGZvdW5kRGlzYWJsZWQgPSBmYWxzZTsKZm9yZWFjaCAoJHByb2JsZW1SdWxlcyBhcyAkcHJvYmxlbVJ1bGUpIHsKaWYgKCRwcm9ibGVtUnVsZS0+aXNEaXNhYmxlZCgpKSB7CiRmb3VuZERpc2FibGVkID0gdHJ1ZTsKYnJlYWs7Cn0KfQoKaWYgKCRmb3VuZERpc2FibGVkICYmICRydWxlLT5pc0VuYWJsZWQoKSkgewokcnVsZS0+ZGlzYWJsZSgpOwp9IGVsc2VpZiAoISRmb3VuZERpc2FibGVkICYmICRydWxlLT5pc0Rpc2FibGVkKCkpIHsKJHJ1bGUtPmVuYWJsZSgpOwp9Cn0KfQoKcHJpdmF0ZSBmdW5jdGlvbiBydW5TYXQoKQp7CiR0aGlzLT5wcm9wYWdhdGVJbmRleCA9IDA7CgoKCgoKCgoKCgoKJGxldmVsID0gMTsKJHN5c3RlbUxldmVsID0gJGxldmVsICsgMTsKCndoaWxlICh0cnVlKSB7CmlmICgxID09PSAkbGV2ZWwpIHsKJGNvbmZsaWN0UnVsZSA9ICR0aGlzLT5wcm9wYWdhdGUoJGxldmVsKTsKaWYgKG51bGwgIT09ICRjb25mbGljdFJ1bGUpIHsKaWYgKCR0aGlzLT5hbmFseXplVW5zb2x2YWJsZSgkY29uZmxpY3RSdWxlKSkgewpjb250aW51ZTsKfQoKcmV0dXJuOwp9Cn0KCgppZiAoJGxldmVsIDwgJHN5c3RlbUxldmVsKSB7CiRpdGVyYXRvciA9ICR0aGlzLT5ydWxlcy0+Z2V0SXRlcmF0b3JGb3IoUnVsZVNldDo6VFlQRV9SRVFVRVNUKTsKZm9yZWFjaCAoJGl0ZXJhdG9yIGFzICRydWxlKSB7CmlmICgkcnVsZS0+aXNFbmFibGVkKCkpIHsKJGRlY2lzaW9uUXVldWUgPSBhcnJheSgpOwokbm9uZVNhdGlzZmllZCA9IHRydWU7Cgpmb3JlYWNoICgkcnVsZS0+Z2V0TGl0ZXJhbHMoKSBhcyAkbGl0ZXJhbCkgewppZiAoJHRoaXMtPmRlY2lzaW9ucy0+c2F0aXNmeSgkbGl0ZXJhbCkpIHsKJG5vbmVTYXRpc2ZpZWQgPSBmYWxzZTsKYnJlYWs7Cn0KaWYgKCRsaXRlcmFsID4gMCAmJiAkdGhpcy0+ZGVjaXNpb25zLT51bmRlY2lkZWQoJGxpdGVyYWwpKSB7CiRkZWNpc2lvblF1ZXVlW10gPSAkbGl0ZXJhbDsKfQp9CgppZiAoJG5vbmVTYXRpc2ZpZWQgJiYgXGNvdW50KCRkZWNpc2lvblF1ZXVlKSkgewoKJHBydW5lZFF1ZXVlID0gYXJyYXkoKTsKZm9yZWFjaCAoJGRlY2lzaW9uUXVldWUgYXMgJGxpdGVyYWwpIHsKaWYgKGlzc2V0KCR0aGlzLT5maXhlZE1hcFthYnMoJGxpdGVyYWwpXSkpIHsKJHBydW5lZFF1ZXVlW10gPSAkbGl0ZXJhbDsKfQp9CmlmICghZW1wdHkoJHBydW5lZFF1ZXVlKSkgewokZGVjaXNpb25RdWV1ZSA9ICRwcnVuZWRRdWV1ZTsKfQp9CgppZiAoJG5vbmVTYXRpc2ZpZWQgJiYgXGNvdW50KCRkZWNpc2lvblF1ZXVlKSkgewokb0xldmVsID0gJGxldmVsOwokbGV2ZWwgPSAkdGhpcy0+c2VsZWN0QW5kSW5zdGFsbCgkbGV2ZWwsICRkZWNpc2lvblF1ZXVlLCAkcnVsZSk7CgppZiAoMCA9PT0gJGxldmVsKSB7CnJldHVybjsKfQppZiAoJGxldmVsIDw9ICRvTGV2ZWwpIHsKYnJlYWs7Cn0KfQp9Cn0KCiRzeXN0ZW1MZXZlbCA9ICRsZXZlbCArIDE7CgoKJGl0ZXJhdG9yLT5uZXh0KCk7CmlmICgkaXRlcmF0b3ItPnZhbGlkKCkpIHsKY29udGludWU7Cn0KfQoKaWYgKCRsZXZlbCA8ICRzeXN0ZW1MZXZlbCkgewokc3lzdGVtTGV2ZWwgPSAkbGV2ZWw7Cn0KCiRydWxlc0NvdW50ID0gXGNvdW50KCR0aGlzLT5ydWxlcyk7CiRwYXNzID0gMTsKCiR0aGlzLT5pby0+d3JpdGVFcnJvcignTG9va2luZyBhdCBhbGwgcnVsZXMuJywgdHJ1ZSwgSU9JbnRlcmZhY2U6OkRFQlVHKTsKZm9yICgkaSA9IDAsICRuID0gMDsgJG4gPCAkcnVsZXNDb3VudDsgJGkrKywgJG4rKykgewppZiAoJGkgPT0gJHJ1bGVzQ291bnQpIHsKaWYgKDEgPT09ICRwYXNzKSB7CiR0aGlzLT5pby0+d3JpdGVFcnJvcigiU29tZXRoaW5nJ3MgY2hhbmdlZCwgbG9va2luZyBhdCBhbGwgcnVsZXMgYWdhaW4gKHBhc3MgIyRwYXNzKSIsIGZhbHNlLCBJT0ludGVyZmFjZTo6REVCVUcpOwp9IGVsc2UgewokdGhpcy0+aW8tPm92ZXJ3cml0ZUVycm9yKCJTb21ldGhpbmcncyBjaGFuZ2VkLCBsb29raW5nIGF0IGFsbCBydWxlcyBhZ2FpbiAocGFzcyAjJHBhc3MpIiwgZmFsc2UsIG51bGwsIElPSW50ZXJmYWNlOjpERUJVRyk7Cn0KCiRpID0gMDsKJHBhc3MrKzsKfQoKJHJ1bGUgPSAkdGhpcy0+cnVsZXMtPnJ1bGVCeUlkWyRpXTsKJGxpdGVyYWxzID0gJHJ1bGUtPmdldExpdGVyYWxzKCk7CgppZiAoJHJ1bGUtPmlzRGlzYWJsZWQoKSkgewpjb250aW51ZTsKfQoKJGRlY2lzaW9uUXVldWUgPSBhcnJheSgpOwoKCgoKCgoKZm9yZWFjaCAoJGxpdGVyYWxzIGFzICRsaXRlcmFsKSB7CmlmICgkbGl0ZXJhbCA8PSAwKSB7CmlmICghJHRoaXMtPmRlY2lzaW9ucy0+ZGVjaWRlZEluc3RhbGwoJGxpdGVyYWwpKSB7CmNvbnRpbnVlIDI7IAp9Cn0gZWxzZSB7CmlmICgkdGhpcy0+ZGVjaXNpb25zLT5kZWNpZGVkSW5zdGFsbCgkbGl0ZXJhbCkpIHsKY29udGludWUgMjsgCn0KaWYgKCR0aGlzLT5kZWNpc2lvbnMtPnVuZGVjaWRlZCgkbGl0ZXJhbCkpIHsKJGRlY2lzaW9uUXVldWVbXSA9ICRsaXRlcmFsOwp9Cn0KfQoKCmlmIChcY291bnQoJGRlY2lzaW9uUXVldWUpIDwgMikgewpjb250aW51ZTsKfQoKJGxldmVsID0gJHRoaXMtPnNlbGVjdEFuZEluc3RhbGwoJGxldmVsLCAkZGVjaXNpb25RdWV1ZSwgJHJ1bGUpOwoKaWYgKDAgPT09ICRsZXZlbCkgewpyZXR1cm47Cn0KCgokcnVsZXNDb3VudCA9IFxjb3VudCgkdGhpcy0+cnVsZXMpOwokbiA9IC0xOwp9CgppZiAoJGxldmVsIDwgJHN5c3RlbUxldmVsKSB7CmNvbnRpbnVlOwp9CgoKaWYgKFxjb3VudCgkdGhpcy0+YnJhbmNoZXMpKSB7CiRsYXN0TGl0ZXJhbCA9IG51bGw7CiRsYXN0TGV2ZWwgPSBudWxsOwokbGFzdEJyYW5jaEluZGV4ID0gMDsKJGxhc3RCcmFuY2hPZmZzZXQgPSAwOwoKZm9yICgkaSA9IFxjb3VudCgkdGhpcy0+YnJhbmNoZXMpIC0gMTsgJGkgPj0gMDsgJGktLSkgewpsaXN0KCRsaXRlcmFscywgJGwpID0gJHRoaXMtPmJyYW5jaGVzWyRpXTsKCmZvcmVhY2ggKCRsaXRlcmFscyBhcyAkb2Zmc2V0ID0+ICRsaXRlcmFsKSB7CmlmICgkbGl0ZXJhbCAmJiAkbGl0ZXJhbCA+IDAgJiYgJHRoaXMtPmRlY2lzaW9ucy0+ZGVjaXNpb25MZXZlbCgkbGl0ZXJhbCkgPiAkbCArIDEpIHsKJGxhc3RMaXRlcmFsID0gJGxpdGVyYWw7CiRsYXN0QnJhbmNoSW5kZXggPSAkaTsKJGxhc3RCcmFuY2hPZmZzZXQgPSAkb2Zmc2V0OwokbGFzdExldmVsID0gJGw7Cn0KfQp9CgppZiAoJGxhc3RMaXRlcmFsKSB7CnVuc2V0KCR0aGlzLT5icmFuY2hlc1skbGFzdEJyYW5jaEluZGV4XVtzZWxmOjpCUkFOQ0hfTElURVJBTFNdWyRsYXN0QnJhbmNoT2Zmc2V0XSk7CgokbGV2ZWwgPSAkbGFzdExldmVsOwokdGhpcy0+cmV2ZXJ0KCRsZXZlbCk7Cgokd2h5ID0gJHRoaXMtPmRlY2lzaW9ucy0+bGFzdFJlYXNvbigpOwoKJGxldmVsID0gJHRoaXMtPnNldFByb3BhZ2F0ZUxlYXJuKCRsZXZlbCwgJGxhc3RMaXRlcmFsLCAkd2h5KTsKCmlmICgkbGV2ZWwgPT0gMCkgewpyZXR1cm47Cn0KCmNvbnRpbnVlOwp9Cn0KCmJyZWFrOwp9Cn0KfQo8P3BocAoKCgoKCgoKCgoKCm5hbWVzcGFjZSBDb21wb3NlclxEZXBlbmRlbmN5UmVzb2x2ZXI7CgoKCgpjbGFzcyBTb2x2ZXJCdWdFeGNlcHRpb24gZXh0ZW5kcyBcUnVudGltZUV4Y2VwdGlvbgp7CnB1YmxpYyBmdW5jdGlvbiBfX2NvbnN0cnVjdCgkbWVzc2FnZSkKewpwYXJlbnQ6Ol9fY29uc3RydWN0KAokbWVzc2FnZS4iXG5UaGlzIGV4Y2VwdGlvbiB3YXMgbW9zdCBsaWtlbHkgY2F1c2VkIGJ5IGEgYnVnIGluIENvbXBvc2VyLlxuIi4KIlBsZWFzZSByZXBvcnQgdGhlIGNvbW1hbmQgeW91IHJhbiwgdGhlIGV4YWN0IGVycm9yIHlvdSByZWNlaXZlZCwgYW5kIHlvdXIgY29tcG9zZXIuanNvbiBvbiBodHRwczovL2dpdGh1Yi5jb20vY29tcG9zZXIvY29tcG9zZXIvaXNzdWVzIC0gdGhhbmsgeW91IVxuIgopOwp9Cn0KPD9waHAKCgoKCgoKCgoKCgpuYW1lc3BhY2UgQ29tcG9zZXJcRGVwZW5kZW5jeVJlc29sdmVyOwoKdXNlIENvbXBvc2VyXFV0aWxcSW5pSGVscGVyOwp1c2UgQ29tcG9zZXJcUmVwb3NpdG9yeVxSZXBvc2l0b3J5U2V0OwoKCgoKY2xhc3MgU29sdmVyUHJvYmxlbXNFeGNlcHRpb24gZXh0ZW5kcyBcUnVudGltZUV4Y2VwdGlvbgp7CnByb3RlY3RlZCAkcHJvYmxlbXM7CnByb3RlY3RlZCAkbGVhcm5lZFBvb2w7CgpwdWJsaWMgZnVuY3Rpb24gX19jb25zdHJ1Y3QoYXJyYXkgJHByb2JsZW1zLCBhcnJheSAkbGVhcm5lZFBvb2wpCnsKJHRoaXMtPnByb2JsZW1zID0gJHByb2JsZW1zOwokdGhpcy0+bGVhcm5lZFBvb2wgPSAkbGVhcm5lZFBvb2w7CgpwYXJlbnQ6Ol9fY29uc3RydWN0KCdGYWlsZWQgcmVzb2x2aW5nIGRlcGVuZGVuY2llcyB3aXRoICcuY291bnQoJHByb2JsZW1zKS4nIHByb2JsZW1zLCBjYWxsIGdldFByZXR0eVN0cmluZyB0byBnZXQgZm9ybWF0dGVkIGRldGFpbHMnLCAyKTsKfQoKcHVibGljIGZ1bmN0aW9uIGdldFByZXR0eVN0cmluZyhSZXBvc2l0b3J5U2V0ICRyZXBvc2l0b3J5U2V0LCBSZXF1ZXN0ICRyZXF1ZXN0LCBQb29sICRwb29sLCAkaXNWZXJib3NlLCAkaXNEZXZFeHRyYWN0aW9uID0gZmFsc2UpCnsKJGluc3RhbGxlZE1hcCA9ICRyZXF1ZXN0LT5nZXRQcmVzZW50TWFwKHRydWUpOwokaGFzRXh0ZW5zaW9uUHJvYmxlbXMgPSBmYWxzZTsKJGlzQ2F1c2VkQnlMb2NrID0gZmFsc2U7CgokcHJvYmxlbXMgPSBhcnJheSgpOwpmb3JlYWNoICgkdGhpcy0+cHJvYmxlbXMgYXMgJHByb2JsZW0pIHsKJHByb2JsZW1zW10gPSAkcHJvYmxlbS0+Z2V0UHJldHR5U3RyaW5nKCRyZXBvc2l0b3J5U2V0LCAkcmVxdWVzdCwgJHBvb2wsICRpc1ZlcmJvc2UsICRpbnN0YWxsZWRNYXAsICR0aGlzLT5sZWFybmVkUG9vbCkuIlxuIjsKCmlmICghJGhhc0V4dGVuc2lvblByb2JsZW1zICYmICR0aGlzLT5oYXNFeHRlbnNpb25Qcm9ibGVtcygkcHJvYmxlbS0+Z2V0UmVhc29ucygpKSkgewokaGFzRXh0ZW5zaW9uUHJvYmxlbXMgPSB0cnVlOwp9CgokaXNDYXVzZWRCeUxvY2sgfD0gJHByb2JsZW0tPmlzQ2F1c2VkQnlMb2NrKCRyZXBvc2l0b3J5U2V0LCAkcmVxdWVzdCwgJHBvb2wpOwp9CgokaSA9IDE7CiR0ZXh0ID0gIlxuIjsKZm9yZWFjaCAoYXJyYXlfdW5pcXVlKCRwcm9ibGVtcykgYXMgJHByb2JsZW0pIHsKJHRleHQgLj0gIiAgUHJvYmxlbSAiLigkaSsrKS4kcHJvYmxlbTsKfQoKJGhpbnRzID0gYXJyYXkoKTsKaWYgKCEkaXNEZXZFeHRyYWN0aW9uICYmIChzdHJwb3MoJHRleHQsICdjb3VsZCBub3QgYmUgZm91bmQnKSB8fCBzdHJwb3MoJHRleHQsICdubyBtYXRjaGluZyBwYWNrYWdlIGZvdW5kJykpKSB7CiRoaW50c1tdID0gIlBvdGVudGlhbCBjYXVzZXM6XG4gLSBBIHR5cG8gaW4gdGhlIHBhY2thZ2UgbmFtZVxuIC0gVGhlIHBhY2thZ2UgaXMgbm90IGF2YWlsYWJsZSBpbiBhIHN0YWJsZS1lbm91Z2ggdmVyc2lvbiBhY2NvcmRpbmcgdG8geW91ciBtaW5pbXVtLXN0YWJpbGl0eSBzZXR0aW5nXG4gICBzZWUgPGh0dHBzOi8vZ2V0Y29tcG9zZXIub3JnL2RvYy8wNC1zY2hlbWEubWQjbWluaW11bS1zdGFiaWxpdHk+IGZvciBtb3JlIGRldGFpbHMuXG4gLSBJdCdzIGEgcHJpdmF0ZSBwYWNrYWdlIGFuZCB5b3UgZm9yZ290IHRvIGFkZCBhIGN1c3RvbSByZXBvc2l0b3J5IHRvIGZpbmQgaXRcblxuUmVhZCA8aHR0cHM6Ly9nZXRjb21wb3Nlci5vcmcvZG9jL2FydGljbGVzL3Ryb3VibGVzaG9vdGluZy5tZD4gZm9yIGZ1cnRoZXIgY29tbW9uIHByb2JsZW1zLiI7Cn0KCmlmICgkaGFzRXh0ZW5zaW9uUHJvYmxlbXMpIHsKJGhpbnRzW10gPSAkdGhpcy0+Y3JlYXRlRXh0ZW5zaW9uSGludCgpOwp9CgppZiAoJGlzQ2F1c2VkQnlMb2NrICYmICEkaXNEZXZFeHRyYWN0aW9uICYmICEkcmVxdWVzdC0+Z2V0VXBkYXRlQWxsb3dUcmFuc2l0aXZlUm9vdERlcGVuZGVuY2llcygpKSB7CiRoaW50c1tdID0gIlVzZSB0aGUgb3B0aW9uIC0td2l0aC1hbGwtZGVwZW5kZW5jaWVzICgtVykgdG8gYWxsb3cgdXBncmFkZXMsIGRvd25ncmFkZXMgYW5kIHJlbW92YWxzIGZvciBwYWNrYWdlcyBjdXJyZW50bHkgbG9ja2VkIHRvIHNwZWNpZmljIHZlcnNpb25zLiI7Cn0KCmlmIChzdHJwb3MoJHRleHQsICdmb3VuZCBjb21wb3Nlci1wbHVnaW4tYXBpWzIuMC4wXSBidXQgaXQgZG9lcyBub3QgbWF0Y2gnKSAmJiBzdHJwb3MoJHRleHQsICctIG9jcmFtaXVzL3BhY2thZ2UtdmVyc2lvbnMnKSkgewokaGludHNbXSA9ICI8d2FybmluZz5vY3JhbWl1cy9wYWNrYWdlLXZlcnNpb25zIG9ubHkgcHJvdmlkZXMgc3VwcG9ydCBmb3IgQ29tcG9zZXIgMiBpbiAxLjgrLCB3aGljaCByZXF1aXJlcyBQSFAgNy40Ljwvd2FybmluZz5cbklmIHlvdSBjYW4gbm90IHVwZ3JhZGUgUEhQIHlvdSBjYW4gcmVxdWlyZSA8aW5mbz5jb21wb3Nlci9wYWNrYWdlLXZlcnNpb25zLWRlcHJlY2F0ZWQ8L2luZm8+IHRvIHJlc29sdmUgdGhpcyB3aXRoIFBIUCA3LjArLiI7Cn0KCmlmICghY2xhc3NfZXhpc3RzKCdQSFBVbml0XEZyYW1ld29ya1xUZXN0Q2FzZScsIGZhbHNlKSkgewppZiAoc3RycG9zKCR0ZXh0LCAnZm91bmQgY29tcG9zZXItcGx1Z2luLWFwaVsyLjAuMF0gYnV0IGl0IGRvZXMgbm90IG1hdGNoJykpIHsKJGhpbnRzW10gPSAiWW91IGFyZSB1c2luZyBDb21wb3NlciAyLCB3aGljaCBzb21lIG9mIHlvdXIgcGx1Z2lucyBzZWVtIHRvIGJlIGluY29tcGF0aWJsZSB3aXRoLiBNYWtlIHN1cmUgeW91IHVwZGF0ZSB5b3VyIHBsdWdpbnMgb3IgcmVwb3J0IGEgcGx1Z2luLWlzc3VlIHRvIGFzayB0aGVtIHRvIHN1cHBvcnQgQ29tcG9zZXIgMi4iOwp9Cn0KCmlmICgkaGludHMpIHsKJHRleHQgLj0gIlxuIiAuIGltcGxvZGUoIlxuXG4iLCAkaGludHMpOwp9CgpyZXR1cm4gJHRleHQ7Cn0KCnB1YmxpYyBmdW5jdGlvbiBnZXRQcm9ibGVtcygpCnsKcmV0dXJuICR0aGlzLT5wcm9ibGVtczsKfQoKcHJpdmF0ZSBmdW5jdGlvbiBjcmVhdGVFeHRlbnNpb25IaW50KCkKewokcGF0aHMgPSBJbmlIZWxwZXI6OmdldEFsbCgpOwoKaWYgKGNvdW50KCRwYXRocykgPT09IDEgJiYgZW1wdHkoJHBhdGhzWzBdKSkgewpyZXR1cm4gJyc7Cn0KCiR0ZXh0ID0gIlRvIGVuYWJsZSBleHRlbnNpb25zLCB2ZXJpZnkgdGhhdCB0aGV5IGFyZSBlbmFibGVkIGluIHlvdXIgLmluaSBmaWxlczpcbiAgICAtICI7CiR0ZXh0IC49IGltcGxvZGUoIlxuICAgIC0gIiwgJHBhdGhzKTsKJHRleHQgLj0gIlxuWW91IGNhbiBhbHNvIHJ1biBgcGhwIC0taW5pYCBpbnNpZGUgdGVybWluYWwgdG8gc2VlIHdoaWNoIGZpbGVzIGFyZSB1c2VkIGJ5IFBIUCBpbiBDTEkgbW9kZS4iOwoKcmV0dXJuICR0ZXh0Owp9Cgpwcml2YXRlIGZ1bmN0aW9uIGhhc0V4dGVuc2lvblByb2JsZW1zKGFycmF5ICRyZWFzb25TZXRzKQp7CmZvcmVhY2ggKCRyZWFzb25TZXRzIGFzICRyZWFzb25TZXQpIHsKZm9yZWFjaCAoJHJlYXNvblNldCBhcyAkcnVsZSkgewppZiAoMCA9PT0gc3RycG9zKCRydWxlLT5nZXRSZXF1aXJlZFBhY2thZ2UoKSwgJ2V4dC0nKSkgewpyZXR1cm4gdHJ1ZTsKfQp9Cn0KCnJldHVybiBmYWxzZTsKfQp9Cjw/cGhwCgoKCgoKCgoKCgoKbmFtZXNwYWNlIENvbXBvc2VyXERlcGVuZGVuY3lSZXNvbHZlcjsKCnVzZSBDb21wb3NlclxQYWNrYWdlXEFsaWFzUGFja2FnZTsKdXNlIENvbXBvc2VyXFBhY2thZ2VcTGluazsKdXNlIENvbXBvc2VyXFBhY2thZ2VcUGFja2FnZUludGVyZmFjZTsKdXNlIENvbXBvc2VyXFJlcG9zaXRvcnlcUGxhdGZvcm1SZXBvc2l0b3J5OwoKCgoKCmNsYXNzIFRyYW5zYWN0aW9uCnsKCgoKcHJvdGVjdGVkICRvcGVyYXRpb25zOwoKCgoKCnByb3RlY3RlZCAkcHJlc2VudFBhY2thZ2VzOwoKCgoKCnByb3RlY3RlZCAkcmVzdWx0UGFja2FnZU1hcDsKCgoKCnByb3RlY3RlZCAkcmVzdWx0UGFja2FnZXNCeU5hbWUgPSBhcnJheSgpOwoKcHVibGljIGZ1bmN0aW9uIF9fY29uc3RydWN0KCRwcmVzZW50UGFja2FnZXMsICRyZXN1bHRQYWNrYWdlcykKewokdGhpcy0+cHJlc2VudFBhY2thZ2VzID0gJHByZXNlbnRQYWNrYWdlczsKJHRoaXMtPnNldFJlc3VsdFBhY2thZ2VNYXBzKCRyZXN1bHRQYWNrYWdlcyk7CiR0aGlzLT5vcGVyYXRpb25zID0gJHRoaXMtPmNhbGN1bGF0ZU9wZXJhdGlvbnMoKTsKfQoKcHVibGljIGZ1bmN0aW9uIGdldE9wZXJhdGlvbnMoKQp7CnJldHVybiAkdGhpcy0+b3BlcmF0aW9uczsKfQoKcHJpdmF0ZSBmdW5jdGlvbiBzZXRSZXN1bHRQYWNrYWdlTWFwcygkcmVzdWx0UGFja2FnZXMpCnsKJHBhY2thZ2VTb3J0ID0gZnVuY3Rpb24gKFBhY2thZ2VJbnRlcmZhY2UgJGEsIFBhY2thZ2VJbnRlcmZhY2UgJGIpIHsKCmlmICgkYS0+Z2V0TmFtZSgpID09ICRiLT5nZXROYW1lKCkpIHsKaWYgKCRhIGluc3RhbmNlb2YgQWxpYXNQYWNrYWdlICE9ICRiIGluc3RhbmNlb2YgQWxpYXNQYWNrYWdlKSB7CnJldHVybiAkYSBpbnN0YW5jZW9mIEFsaWFzUGFja2FnZSA/IC0xIDogMTsKfQoKcmV0dXJuIHN0cmNtcCgkYi0+Z2V0VmVyc2lvbigpLCAkYS0+Z2V0VmVyc2lvbigpKTsKfQoKcmV0dXJuIHN0cmNtcCgkYi0+Z2V0TmFtZSgpLCAkYS0+Z2V0TmFtZSgpKTsKfTsKCiR0aGlzLT5yZXN1bHRQYWNrYWdlTWFwID0gYXJyYXkoKTsKZm9yZWFjaCAoJHJlc3VsdFBhY2thZ2VzIGFzICRwYWNrYWdlKSB7CiR0aGlzLT5yZXN1bHRQYWNrYWdlTWFwW3NwbF9vYmplY3RfaGFzaCgkcGFja2FnZSldID0gJHBhY2thZ2U7CmZvcmVhY2ggKCRwYWNrYWdlLT5nZXROYW1lcygpIGFzICRuYW1lKSB7CiR0aGlzLT5yZXN1bHRQYWNrYWdlc0J5TmFtZVskbmFtZV1bXSA9ICRwYWNrYWdlOwp9Cn0KCnVhc29ydCgkdGhpcy0+cmVzdWx0UGFja2FnZU1hcCwgJHBhY2thZ2VTb3J0KTsKZm9yZWFjaCAoJHRoaXMtPnJlc3VsdFBhY2thZ2VzQnlOYW1lIGFzICRuYW1lID0+ICRwYWNrYWdlcykgewp1YXNvcnQoJHRoaXMtPnJlc3VsdFBhY2thZ2VzQnlOYW1lWyRuYW1lXSwgJHBhY2thZ2VTb3J0KTsKfQp9Cgpwcm90ZWN0ZWQgZnVuY3Rpb24gY2FsY3VsYXRlT3BlcmF0aW9ucygpCnsKJG9wZXJhdGlvbnMgPSBhcnJheSgpOwoKJHByZXNlbnRQYWNrYWdlTWFwID0gYXJyYXkoKTsKJHJlbW92ZU1hcCA9IGFycmF5KCk7CiRwcmVzZW50QWxpYXNNYXAgPSBhcnJheSgpOwokcmVtb3ZlQWxpYXNNYXAgPSBhcnJheSgpOwpmb3JlYWNoICgkdGhpcy0+cHJlc2VudFBhY2thZ2VzIGFzICRwYWNrYWdlKSB7CmlmICgkcGFja2FnZSBpbnN0YW5jZW9mIEFsaWFzUGFja2FnZSkgewokcHJlc2VudEFsaWFzTWFwWyRwYWNrYWdlLT5nZXROYW1lKCkuJzo6Jy4kcGFja2FnZS0+Z2V0VmVyc2lvbigpXSA9ICRwYWNrYWdlOwokcmVtb3ZlQWxpYXNNYXBbJHBhY2thZ2UtPmdldE5hbWUoKS4nOjonLiRwYWNrYWdlLT5nZXRWZXJzaW9uKCldID0gJHBhY2thZ2U7Cn0gZWxzZSB7CiRwcmVzZW50UGFja2FnZU1hcFskcGFja2FnZS0+Z2V0TmFtZSgpXSA9ICRwYWNrYWdlOwokcmVtb3ZlTWFwWyRwYWNrYWdlLT5nZXROYW1lKCldID0gJHBhY2thZ2U7Cn0KfQoKJHN0YWNrID0gJHRoaXMtPmdldFJvb3RQYWNrYWdlcygpOwoKJHZpc2l0ZWQgPSBhcnJheSgpOwokcHJvY2Vzc2VkID0gYXJyYXkoKTsKCndoaWxlICghZW1wdHkoJHN0YWNrKSkgewokcGFja2FnZSA9IGFycmF5X3BvcCgkc3RhY2spOwoKaWYgKGlzc2V0KCRwcm9jZXNzZWRbc3BsX29iamVjdF9oYXNoKCRwYWNrYWdlKV0pKSB7CmNvbnRpbnVlOwp9CgppZiAoIWlzc2V0KCR2aXNpdGVkW3NwbF9vYmplY3RfaGFzaCgkcGFja2FnZSldKSkgewokdmlzaXRlZFtzcGxfb2JqZWN0X2hhc2goJHBhY2thZ2UpXSA9IHRydWU7Cgokc3RhY2tbXSA9ICRwYWNrYWdlOwppZiAoJHBhY2thZ2UgaW5zdGFuY2VvZiBBbGlhc1BhY2thZ2UpIHsKJHN0YWNrW10gPSAkcGFja2FnZS0+Z2V0QWxpYXNPZigpOwp9IGVsc2Ugewpmb3JlYWNoICgkcGFja2FnZS0+Z2V0UmVxdWlyZXMoKSBhcyAkbGluaykgewokcG9zc2libGVSZXF1aXJlcyA9ICR0aGlzLT5nZXRQcm92aWRlcnNJblJlc3VsdCgkbGluayk7Cgpmb3JlYWNoICgkcG9zc2libGVSZXF1aXJlcyBhcyAkcmVxdWlyZSkgewokc3RhY2tbXSA9ICRyZXF1aXJlOwp9Cn0KfQp9IGVsc2VpZiAoIWlzc2V0KCRwcm9jZXNzZWRbc3BsX29iamVjdF9oYXNoKCRwYWNrYWdlKV0pKSB7CiRwcm9jZXNzZWRbc3BsX29iamVjdF9oYXNoKCRwYWNrYWdlKV0gPSB0cnVlOwoKaWYgKCRwYWNrYWdlIGluc3RhbmNlb2YgQWxpYXNQYWNrYWdlKSB7CiRhbGlhc0tleSA9ICRwYWNrYWdlLT5nZXROYW1lKCkuJzo6Jy4kcGFja2FnZS0+Z2V0VmVyc2lvbigpOwppZiAoaXNzZXQoJHByZXNlbnRBbGlhc01hcFskYWxpYXNLZXldKSkgewp1bnNldCgkcmVtb3ZlQWxpYXNNYXBbJGFsaWFzS2V5XSk7Cn0gZWxzZSB7CiRvcGVyYXRpb25zW10gPSBuZXcgT3BlcmF0aW9uXE1hcmtBbGlhc0luc3RhbGxlZE9wZXJhdGlvbigkcGFja2FnZSk7Cn0KfSBlbHNlIHsKaWYgKGlzc2V0KCRwcmVzZW50UGFja2FnZU1hcFskcGFja2FnZS0+Z2V0TmFtZSgpXSkpIHsKJHNvdXJjZSA9ICRwcmVzZW50UGFja2FnZU1hcFskcGFja2FnZS0+Z2V0TmFtZSgpXTsKCgoKaWYgKCRwYWNrYWdlLT5nZXRWZXJzaW9uKCkgIT0gJHByZXNlbnRQYWNrYWdlTWFwWyRwYWNrYWdlLT5nZXROYW1lKCldLT5nZXRWZXJzaW9uKCkgfHwKJHBhY2thZ2UtPmdldERpc3RSZWZlcmVuY2UoKSAhPT0gJHByZXNlbnRQYWNrYWdlTWFwWyRwYWNrYWdlLT5nZXROYW1lKCldLT5nZXREaXN0UmVmZXJlbmNlKCkgfHwKJHBhY2thZ2UtPmdldFNvdXJjZVJlZmVyZW5jZSgpICE9PSAkcHJlc2VudFBhY2thZ2VNYXBbJHBhY2thZ2UtPmdldE5hbWUoKV0tPmdldFNvdXJjZVJlZmVyZW5jZSgpCikgewokb3BlcmF0aW9uc1tdID0gbmV3IE9wZXJhdGlvblxVcGRhdGVPcGVyYXRpb24oJHNvdXJjZSwgJHBhY2thZ2UpOwp9CnVuc2V0KCRyZW1vdmVNYXBbJHBhY2thZ2UtPmdldE5hbWUoKV0pOwp9IGVsc2Ugewokb3BlcmF0aW9uc1tdID0gbmV3IE9wZXJhdGlvblxJbnN0YWxsT3BlcmF0aW9uKCRwYWNrYWdlKTsKdW5zZXQoJHJlbW92ZU1hcFskcGFja2FnZS0+Z2V0TmFtZSgpXSk7Cn0KfQp9Cn0KCmZvcmVhY2ggKCRyZW1vdmVNYXAgYXMgJG5hbWUgPT4gJHBhY2thZ2UpIHsKYXJyYXlfdW5zaGlmdCgkb3BlcmF0aW9ucywgbmV3IE9wZXJhdGlvblxVbmluc3RhbGxPcGVyYXRpb24oJHBhY2thZ2UpKTsKfQpmb3JlYWNoICgkcmVtb3ZlQWxpYXNNYXAgYXMgJG5hbWVWZXJzaW9uID0+ICRwYWNrYWdlKSB7CiRvcGVyYXRpb25zW10gPSBuZXcgT3BlcmF0aW9uXE1hcmtBbGlhc1VuaW5zdGFsbGVkT3BlcmF0aW9uKCRwYWNrYWdlKTsKfQoKJG9wZXJhdGlvbnMgPSAkdGhpcy0+bW92ZVBsdWdpbnNUb0Zyb250KCRvcGVyYXRpb25zKTsKCgokb3BlcmF0aW9ucyA9ICR0aGlzLT5tb3ZlVW5pbnN0YWxsc1RvRnJvbnQoJG9wZXJhdGlvbnMpOwoKCgoKCgoKCgoKCgoKCgoKCgoKcmV0dXJuICR0aGlzLT5vcGVyYXRpb25zID0gJG9wZXJhdGlvbnM7Cn0KCgoKCgoKCgoKcHJvdGVjdGVkIGZ1bmN0aW9uIGdldFJvb3RQYWNrYWdlcygpCnsKJHJvb3RzID0gJHRoaXMtPnJlc3VsdFBhY2thZ2VNYXA7Cgpmb3JlYWNoICgkdGhpcy0+cmVzdWx0UGFja2FnZU1hcCBhcyAkcGFja2FnZUhhc2ggPT4gJHBhY2thZ2UpIHsKaWYgKCFpc3NldCgkcm9vdHNbJHBhY2thZ2VIYXNoXSkpIHsKY29udGludWU7Cn0KCmZvcmVhY2ggKCRwYWNrYWdlLT5nZXRSZXF1aXJlcygpIGFzICRsaW5rKSB7CiRwb3NzaWJsZVJlcXVpcmVzID0gJHRoaXMtPmdldFByb3ZpZGVyc0luUmVzdWx0KCRsaW5rKTsKCmZvcmVhY2ggKCRwb3NzaWJsZVJlcXVpcmVzIGFzICRyZXF1aXJlKSB7CmlmICgkcmVxdWlyZSAhPT0gJHBhY2thZ2UpIHsKdW5zZXQoJHJvb3RzW3NwbF9vYmplY3RfaGFzaCgkcmVxdWlyZSldKTsKfQp9Cn0KfQoKcmV0dXJuICRyb290czsKfQoKcHJvdGVjdGVkIGZ1bmN0aW9uIGdldFByb3ZpZGVyc0luUmVzdWx0KExpbmsgJGxpbmspCnsKaWYgKCFpc3NldCgkdGhpcy0+cmVzdWx0UGFja2FnZXNCeU5hbWVbJGxpbmstPmdldFRhcmdldCgpXSkpIHsKcmV0dXJuIGFycmF5KCk7Cn0KCnJldHVybiAkdGhpcy0+cmVzdWx0UGFja2FnZXNCeU5hbWVbJGxpbmstPmdldFRhcmdldCgpXTsKfQoKCgoKCgoKCgoKCgoKCnByaXZhdGUgZnVuY3Rpb24gbW92ZVBsdWdpbnNUb0Zyb250KGFycmF5ICRvcGVyYXRpb25zKQp7CiRkbE1vZGlmeWluZ1BsdWdpbnNOb0RlcHMgPSBhcnJheSgpOwokZGxNb2RpZnlpbmdQbHVnaW5zV2l0aERlcHMgPSBhcnJheSgpOwokZGxNb2RpZnlpbmdQbHVnaW5SZXF1aXJlcyA9IGFycmF5KCk7CiRwbHVnaW5zTm9EZXBzID0gYXJyYXkoKTsKJHBsdWdpbnNXaXRoRGVwcyA9IGFycmF5KCk7CiRwbHVnaW5SZXF1aXJlcyA9IGFycmF5KCk7Cgpmb3JlYWNoIChhcnJheV9yZXZlcnNlKCRvcGVyYXRpb25zLCB0cnVlKSBhcyAkaWR4ID0+ICRvcCkgewppZiAoJG9wIGluc3RhbmNlb2YgT3BlcmF0aW9uXEluc3RhbGxPcGVyYXRpb24pIHsKJHBhY2thZ2UgPSAkb3AtPmdldFBhY2thZ2UoKTsKfSBlbHNlaWYgKCRvcCBpbnN0YW5jZW9mIE9wZXJhdGlvblxVcGRhdGVPcGVyYXRpb24pIHsKJHBhY2thZ2UgPSAkb3AtPmdldFRhcmdldFBhY2thZ2UoKTsKfSBlbHNlIHsKY29udGludWU7Cn0KCiRpc0Rvd25sb2Fkc01vZGlmeWluZ1BsdWdpbiA9ICRwYWNrYWdlLT5nZXRUeXBlKCkgPT09ICdjb21wb3Nlci1wbHVnaW4nICYmICgkZXh0cmEgPSAkcGFja2FnZS0+Z2V0RXh0cmEoKSkgJiYgaXNzZXQoJGV4dHJhWydwbHVnaW4tbW9kaWZpZXMtZG93bmxvYWRzJ10pICYmICRleHRyYVsncGx1Z2luLW1vZGlmaWVzLWRvd25sb2FkcyddID09PSB0cnVlOwoKCmlmICgkaXNEb3dubG9hZHNNb2RpZnlpbmdQbHVnaW4gfHwgY291bnQoYXJyYXlfaW50ZXJzZWN0KCRwYWNrYWdlLT5nZXROYW1lcygpLCAkZGxNb2RpZnlpbmdQbHVnaW5SZXF1aXJlcykpKSB7CgokcmVxdWlyZXMgPSBhcnJheV9maWx0ZXIoYXJyYXlfa2V5cygkcGFja2FnZS0+Z2V0UmVxdWlyZXMoKSksIGZ1bmN0aW9uICgkcmVxKSB7CnJldHVybiAhUGxhdGZvcm1SZXBvc2l0b3J5Ojppc1BsYXRmb3JtUGFja2FnZSgkcmVxKTsKfSk7CgoKaWYgKCRpc0Rvd25sb2Fkc01vZGlmeWluZ1BsdWdpbiAmJiAhY291bnQoJHJlcXVpcmVzKSkgewoKYXJyYXlfdW5zaGlmdCgkZGxNb2RpZnlpbmdQbHVnaW5zTm9EZXBzLCAkb3ApOwp9IGVsc2UgewoKJGRsTW9kaWZ5aW5nUGx1Z2luUmVxdWlyZXMgPSBhcnJheV9tZXJnZSgkZGxNb2RpZnlpbmdQbHVnaW5SZXF1aXJlcywgJHJlcXVpcmVzKTsKCmFycmF5X3Vuc2hpZnQoJGRsTW9kaWZ5aW5nUGx1Z2luc1dpdGhEZXBzLCAkb3ApOwp9Cgp1bnNldCgkb3BlcmF0aW9uc1skaWR4XSk7CmNvbnRpbnVlOwp9CgoKJGlzUGx1Z2luID0gJHBhY2thZ2UtPmdldFR5cGUoKSA9PT0gJ2NvbXBvc2VyLXBsdWdpbicgfHwgJHBhY2thZ2UtPmdldFR5cGUoKSA9PT0gJ2NvbXBvc2VyLWluc3RhbGxlcic7CgoKaWYgKCRpc1BsdWdpbiB8fCBjb3VudChhcnJheV9pbnRlcnNlY3QoJHBhY2thZ2UtPmdldE5hbWVzKCksICRwbHVnaW5SZXF1aXJlcykpKSB7CgokcmVxdWlyZXMgPSBhcnJheV9maWx0ZXIoYXJyYXlfa2V5cygkcGFja2FnZS0+Z2V0UmVxdWlyZXMoKSksIGZ1bmN0aW9uICgkcmVxKSB7CnJldHVybiAhUGxhdGZvcm1SZXBvc2l0b3J5Ojppc1BsYXRmb3JtUGFja2FnZSgkcmVxKTsKfSk7CgoKaWYgKCRpc1BsdWdpbiAmJiAhY291bnQoJHJlcXVpcmVzKSkgewoKYXJyYXlfdW5zaGlmdCgkcGx1Z2luc05vRGVwcywgJG9wKTsKfSBlbHNlIHsKCiRwbHVnaW5SZXF1aXJlcyA9IGFycmF5X21lcmdlKCRwbHVnaW5SZXF1aXJlcywgJHJlcXVpcmVzKTsKCmFycmF5X3Vuc2hpZnQoJHBsdWdpbnNXaXRoRGVwcywgJG9wKTsKfQoKdW5zZXQoJG9wZXJhdGlvbnNbJGlkeF0pOwp9Cn0KCnJldHVybiBhcnJheV9tZXJnZSgkZGxNb2RpZnlpbmdQbHVnaW5zTm9EZXBzLCAkZGxNb2RpZnlpbmdQbHVnaW5zV2l0aERlcHMsICRwbHVnaW5zTm9EZXBzLCAkcGx1Z2luc1dpdGhEZXBzLCAkb3BlcmF0aW9ucyk7Cn0KCgoKCgoKCgpwcml2YXRlIGZ1bmN0aW9uIG1vdmVVbmluc3RhbGxzVG9Gcm9udChhcnJheSAkb3BlcmF0aW9ucykKewokdW5pbnN0T3BzID0gYXJyYXkoKTsKZm9yZWFjaCAoJG9wZXJhdGlvbnMgYXMgJGlkeCA9PiAkb3ApIHsKaWYgKCRvcCBpbnN0YW5jZW9mIE9wZXJhdGlvblxVbmluc3RhbGxPcGVyYXRpb24gfHwgJG9wIGluc3RhbmNlb2YgT3BlcmF0aW9uXE1hcmtBbGlhc1VuaW5zdGFsbGVkT3BlcmF0aW9uKSB7CiR1bmluc3RPcHNbXSA9ICRvcDsKdW5zZXQoJG9wZXJhdGlvbnNbJGlkeF0pOwp9Cn0KCnJldHVybiBhcnJheV9tZXJnZSgkdW5pbnN0T3BzLCAkb3BlcmF0aW9ucyk7Cn0KfQo8P3BocAoKCgoKCgoKCgoKCm5hbWVzcGFjZSBDb21wb3NlclxEb3dubG9hZGVyOwoKdXNlIENvbXBvc2VyXFBhY2thZ2VcUGFja2FnZUludGVyZmFjZTsKdXNlIFN5bWZvbnlcQ29tcG9uZW50XEZpbmRlclxGaW5kZXI7CnVzZSBSZWFjdFxQcm9taXNlXFByb21pc2VJbnRlcmZhY2U7CnVzZSBDb21wb3NlclxEZXBlbmRlbmN5UmVzb2x2ZXJcT3BlcmF0aW9uXEluc3RhbGxPcGVyYXRpb247CgoKCgoKCgoKYWJzdHJhY3QgY2xhc3MgQXJjaGl2ZURvd25sb2FkZXIgZXh0ZW5kcyBGaWxlRG93bmxvYWRlcgp7CgoKCgoKcHVibGljIGZ1bmN0aW9uIGluc3RhbGwoUGFja2FnZUludGVyZmFjZSAkcGFja2FnZSwgJHBhdGgsICRvdXRwdXQgPSB0cnVlKQp7CmlmICgkb3V0cHV0KSB7CiR0aGlzLT5pby0+d3JpdGVFcnJvcigiICAtICIgLiBJbnN0YWxsT3BlcmF0aW9uOjpmb3JtYXQoJHBhY2thZ2UpIC4gJHRoaXMtPmdldEluc3RhbGxPcGVyYXRpb25BcHBlbmRpeCgkcGFja2FnZSwgJHBhdGgpKTsKfQoKJHZlbmRvckRpciA9ICR0aGlzLT5jb25maWctPmdldCgndmVuZG9yLWRpcicpOwoKCgoKaWYgKGZhbHNlID09PSBzdHJwb3MoJHRoaXMtPmZpbGVzeXN0ZW0tPm5vcm1hbGl6ZVBhdGgoJHZlbmRvckRpciksICR0aGlzLT5maWxlc3lzdGVtLT5ub3JtYWxpemVQYXRoKCRwYXRoLkRJUkVDVE9SWV9TRVBBUkFUT1IpKSkgewokdGhpcy0+ZmlsZXN5c3RlbS0+ZW1wdHlEaXJlY3RvcnkoJHBhdGgpOwp9CgpkbyB7CiR0ZW1wb3JhcnlEaXIgPSAkdmVuZG9yRGlyLicvY29tcG9zZXIvJy5zdWJzdHIobWQ1KHVuaXFpZCgnJywgdHJ1ZSkpLCAwLCA4KTsKfSB3aGlsZSAoaXNfZGlyKCR0ZW1wb3JhcnlEaXIpKTsKCiR0aGlzLT5hZGRDbGVhbnVwUGF0aCgkcGFja2FnZSwgJHRlbXBvcmFyeURpcik7CgoKaWYgKCFpc19kaXIoJHBhdGgpIHx8IHJlYWxwYXRoKCRwYXRoKSAhPT0gZ2V0Y3dkKCkpIHsKJHRoaXMtPmFkZENsZWFudXBQYXRoKCRwYWNrYWdlLCAkcGF0aCk7Cn0KCiR0aGlzLT5maWxlc3lzdGVtLT5lbnN1cmVEaXJlY3RvcnlFeGlzdHMoJHRlbXBvcmFyeURpcik7CiRmaWxlTmFtZSA9ICR0aGlzLT5nZXRGaWxlTmFtZSgkcGFja2FnZSwgJHBhdGgpOwoKJGZpbGVzeXN0ZW0gPSAkdGhpcy0+ZmlsZXN5c3RlbTsKJHNlbGYgPSAkdGhpczsKCiRjbGVhbnVwID0gZnVuY3Rpb24gKCkgdXNlICgkcGF0aCwgJGZpbGVzeXN0ZW0sICR0ZW1wb3JhcnlEaXIsICRwYWNrYWdlLCAkc2VsZikgewoKJHNlbGYtPmNsZWFyTGFzdENhY2hlV3JpdGUoJHBhY2thZ2UpOwoKCiRmaWxlc3lzdGVtLT5yZW1vdmVEaXJlY3RvcnkoJHRlbXBvcmFyeURpcik7CmlmIChpc19kaXIoJHBhdGgpICYmIHJlYWxwYXRoKCRwYXRoKSAhPT0gZ2V0Y3dkKCkpIHsKJGZpbGVzeXN0ZW0tPnJlbW92ZURpcmVjdG9yeSgkcGF0aCk7Cn0KJHNlbGYtPnJlbW92ZUNsZWFudXBQYXRoKCRwYWNrYWdlLCAkdGVtcG9yYXJ5RGlyKTsKJHNlbGYtPnJlbW92ZUNsZWFudXBQYXRoKCRwYWNrYWdlLCByZWFscGF0aCgkcGF0aCkpOwp9OwoKJHByb21pc2UgPSBudWxsOwp0cnkgewokcHJvbWlzZSA9ICR0aGlzLT5leHRyYWN0KCRwYWNrYWdlLCAkZmlsZU5hbWUsICR0ZW1wb3JhcnlEaXIpOwp9IGNhdGNoIChcRXhjZXB0aW9uICRlKSB7CiRjbGVhbnVwKCk7CnRocm93ICRlOwp9CgppZiAoISRwcm9taXNlIGluc3RhbmNlb2YgUHJvbWlzZUludGVyZmFjZSkgewokcHJvbWlzZSA9IFxSZWFjdFxQcm9taXNlXHJlc29sdmUoKTsKfQoKcmV0dXJuICRwcm9taXNlLT50aGVuKGZ1bmN0aW9uICgpIHVzZSAoJHNlbGYsICRwYWNrYWdlLCAkZmlsZXN5c3RlbSwgJGZpbGVOYW1lLCAkdGVtcG9yYXJ5RGlyLCAkcGF0aCkgewokZmlsZXN5c3RlbS0+dW5saW5rKCRmaWxlTmFtZSk7CgoKCgoKCgokZ2V0Rm9sZGVyQ29udGVudCA9IGZ1bmN0aW9uICgkZGlyKSB7CiRmaW5kZXIgPSBGaW5kZXI6OmNyZWF0ZSgpCi0+aWdub3JlVkNTKGZhbHNlKQotPmlnbm9yZURvdEZpbGVzKGZhbHNlKQotPm5vdE5hbWUoJy5EU19TdG9yZScpCi0+ZGVwdGgoMCkKLT5pbigkZGlyKTsKCnJldHVybiBpdGVyYXRvcl90b19hcnJheSgkZmluZGVyKTsKfTsKJHJlbmFtZVJlY3Vyc2l2ZWx5ID0gbnVsbDsKCgoKCgoKCgoKCgokcmVuYW1lUmVjdXJzaXZlbHkgPSBmdW5jdGlvbiAoJGZyb20sICR0bykgdXNlICgkZmlsZXN5c3RlbSwgJGdldEZvbGRlckNvbnRlbnQsICRwYWNrYWdlLCAmJHJlbmFtZVJlY3Vyc2l2ZWx5KSB7CiRjb250ZW50RGlyID0gJGdldEZvbGRlckNvbnRlbnQoJGZyb20pOwoKCmZvcmVhY2ggKCRjb250ZW50RGlyIGFzICRmaWxlKSB7CiRmaWxlID0gKHN0cmluZykgJGZpbGU7CmlmIChpc19kaXIoJHRvIC4gJy8nIC4gYmFzZW5hbWUoJGZpbGUpKSkgewppZiAoIWlzX2RpcigkZmlsZSkpIHsKdGhyb3cgbmV3IFxSdW50aW1lRXhjZXB0aW9uKCdJbnN0YWxsaW5nICcuJHBhY2thZ2UuJyB3b3VsZCBsZWFkIHRvIG92ZXJ3cml0aW5nIHRoZSAnLiR0by4nLycuYmFzZW5hbWUoJGZpbGUpLicgZGlyZWN0b3J5IHdpdGggYSBmaWxlIGZyb20gdGhlIHBhY2thZ2UsIGludmFsaWQgb3BlcmF0aW9uLicpOwp9CiRyZW5hbWVSZWN1cnNpdmVseSgkZmlsZSwgJHRvIC4gJy8nIC4gYmFzZW5hbWUoJGZpbGUpKTsKfSBlbHNlIHsKJGZpbGVzeXN0ZW0tPnJlbmFtZSgkZmlsZSwgJHRvIC4gJy8nIC4gYmFzZW5hbWUoJGZpbGUpKTsKfQp9Cn07CgokcmVuYW1lQXNPbmUgPSBmYWxzZTsKaWYgKCFmaWxlX2V4aXN0cygkcGF0aCkpIHsKJHJlbmFtZUFzT25lID0gdHJ1ZTsKfSBlbHNlaWYgKCRmaWxlc3lzdGVtLT5pc0RpckVtcHR5KCRwYXRoKSkgewp0cnkgewppZiAoJGZpbGVzeXN0ZW0tPnJlbW92ZURpcmVjdG9yeVBocCgkcGF0aCkpIHsKJHJlbmFtZUFzT25lID0gdHJ1ZTsKfQp9IGNhdGNoIChcUnVudGltZUV4Y2VwdGlvbiAkZSkgewoKfQp9CgokY29udGVudERpciA9ICRnZXRGb2xkZXJDb250ZW50KCR0ZW1wb3JhcnlEaXIpOwokc2luZ2xlRGlyQXRUb3BMZXZlbCA9IDEgPT09IGNvdW50KCRjb250ZW50RGlyKSAmJiBpc19kaXIocmVzZXQoJGNvbnRlbnREaXIpKTsKCmlmICgkcmVuYW1lQXNPbmUpIHsKCmlmICgkc2luZ2xlRGlyQXRUb3BMZXZlbCkgewokZXh0cmFjdGVkRGlyID0gKHN0cmluZykgcmVzZXQoJGNvbnRlbnREaXIpOwp9IGVsc2UgewokZXh0cmFjdGVkRGlyID0gJHRlbXBvcmFyeURpcjsKfQokZmlsZXN5c3RlbS0+cmVuYW1lKCRleHRyYWN0ZWREaXIsICRwYXRoKTsKfSBlbHNlIHsKCiRmcm9tID0gJHRlbXBvcmFyeURpcjsKaWYgKCRzaW5nbGVEaXJBdFRvcExldmVsKSB7CiRmcm9tID0gKHN0cmluZykgcmVzZXQoJGNvbnRlbnREaXIpOwp9CgokcmVuYW1lUmVjdXJzaXZlbHkoJGZyb20sICRwYXRoKTsKfQoKJHByb21pc2UgPSAkZmlsZXN5c3RlbS0+cmVtb3ZlRGlyZWN0b3J5QXN5bmMoJHRlbXBvcmFyeURpcik7CgpyZXR1cm4gJHByb21pc2UtPnRoZW4oZnVuY3Rpb24gKCkgdXNlICgkc2VsZiwgJHBhY2thZ2UsICRwYXRoLCAkdGVtcG9yYXJ5RGlyKSB7CiRzZWxmLT5yZW1vdmVDbGVhbnVwUGF0aCgkcGFja2FnZSwgJHRlbXBvcmFyeURpcik7CiRzZWxmLT5yZW1vdmVDbGVhbnVwUGF0aCgkcGFja2FnZSwgJHBhdGgpOwp9KTsKfSwgZnVuY3Rpb24gKCRlKSB1c2UgKCRjbGVhbnVwKSB7CiRjbGVhbnVwKCk7Cgp0aHJvdyAkZTsKfSk7Cn0KCgoKCnByb3RlY3RlZCBmdW5jdGlvbiBnZXRJbnN0YWxsT3BlcmF0aW9uQXBwZW5kaXgoUGFja2FnZUludGVyZmFjZSAkcGFja2FnZSwgJHBhdGgpCnsKcmV0dXJuICc6IEV4dHJhY3RpbmcgYXJjaGl2ZSc7Cn0KCgoKCgoKCgoKCmFic3RyYWN0IHByb3RlY3RlZCBmdW5jdGlvbiBleHRyYWN0KFBhY2thZ2VJbnRlcmZhY2UgJHBhY2thZ2UsICRmaWxlLCAkcGF0aCk7Cn0KPD9waHAKCgoKCgoKCgoKCgpuYW1lc3BhY2UgQ29tcG9zZXJcRG93bmxvYWRlcjsKCnVzZSBDb21wb3NlclxQYWNrYWdlXFBhY2thZ2VJbnRlcmZhY2U7CgoKCgoKCmludGVyZmFjZSBDaGFuZ2VSZXBvcnRJbnRlcmZhY2UKewoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIGdldExvY2FsQ2hhbmdlcyhQYWNrYWdlSW50ZXJmYWNlICRwYWNrYWdlLCAkcGF0aCk7Cn0KPD9waHAKCgoKCgoKCgoKCgpuYW1lc3BhY2UgQ29tcG9zZXJcRG93bmxvYWRlcjsKCnVzZSBDb21wb3NlclxQYWNrYWdlXFBhY2thZ2VJbnRlcmZhY2U7CnVzZSBDb21wb3NlclxJT1xJT0ludGVyZmFjZTsKdXNlIENvbXBvc2VyXFV0aWxcRmlsZXN5c3RlbTsKdXNlIENvbXBvc2VyXEV4Y2VwdGlvblxJcnJlY292ZXJhYmxlRG93bmxvYWRFeGNlcHRpb247CnVzZSBSZWFjdFxQcm9taXNlXFByb21pc2VJbnRlcmZhY2U7CgoKCgoKCmNsYXNzIERvd25sb2FkTWFuYWdlcgp7Cgpwcml2YXRlICRpbzsKCnByaXZhdGUgJHByZWZlckRpc3QgPSBmYWxzZTsKCnByaXZhdGUgJHByZWZlclNvdXJjZTsKCnByaXZhdGUgJHBhY2thZ2VQcmVmZXJlbmNlcyA9IGFycmF5KCk7Cgpwcml2YXRlICRmaWxlc3lzdGVtOwoKcHJpdmF0ZSAkZG93bmxvYWRlcnMgPSBhcnJheSgpOwoKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBfX2NvbnN0cnVjdChJT0ludGVyZmFjZSAkaW8sICRwcmVmZXJTb3VyY2UgPSBmYWxzZSwgRmlsZXN5c3RlbSAkZmlsZXN5c3RlbSA9IG51bGwpCnsKJHRoaXMtPmlvID0gJGlvOwokdGhpcy0+cHJlZmVyU291cmNlID0gJHByZWZlclNvdXJjZTsKJHRoaXMtPmZpbGVzeXN0ZW0gPSAkZmlsZXN5c3RlbSA/OiBuZXcgRmlsZXN5c3RlbSgpOwp9CgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gc2V0UHJlZmVyU291cmNlKCRwcmVmZXJTb3VyY2UpCnsKJHRoaXMtPnByZWZlclNvdXJjZSA9ICRwcmVmZXJTb3VyY2U7CgpyZXR1cm4gJHRoaXM7Cn0KCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBzZXRQcmVmZXJEaXN0KCRwcmVmZXJEaXN0KQp7CiR0aGlzLT5wcmVmZXJEaXN0ID0gJHByZWZlckRpc3Q7CgpyZXR1cm4gJHRoaXM7Cn0KCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBzZXRQcmVmZXJlbmNlcyhhcnJheSAkcHJlZmVyZW5jZXMpCnsKJHRoaXMtPnBhY2thZ2VQcmVmZXJlbmNlcyA9ICRwcmVmZXJlbmNlczsKCnJldHVybiAkdGhpczsKfQoKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBzZXREb3dubG9hZGVyKCR0eXBlLCBEb3dubG9hZGVySW50ZXJmYWNlICRkb3dubG9hZGVyKQp7CiR0eXBlID0gc3RydG9sb3dlcigkdHlwZSk7CiR0aGlzLT5kb3dubG9hZGVyc1skdHlwZV0gPSAkZG93bmxvYWRlcjsKCnJldHVybiAkdGhpczsKfQoKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBnZXREb3dubG9hZGVyKCR0eXBlKQp7CiR0eXBlID0gc3RydG9sb3dlcigkdHlwZSk7CmlmICghaXNzZXQoJHRoaXMtPmRvd25sb2FkZXJzWyR0eXBlXSkpIHsKdGhyb3cgbmV3IFxJbnZhbGlkQXJndW1lbnRFeGNlcHRpb24oc3ByaW50ZignVW5rbm93biBkb3dubG9hZGVyIHR5cGU6ICVzLiBBdmFpbGFibGUgdHlwZXM6ICVzLicsICR0eXBlLCBpbXBsb2RlKCcsICcsIGFycmF5X2tleXMoJHRoaXMtPmRvd25sb2FkZXJzKSkpKTsKfQoKcmV0dXJuICR0aGlzLT5kb3dubG9hZGVyc1skdHlwZV07Cn0KCgoKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBnZXREb3dubG9hZGVyRm9yUGFja2FnZShQYWNrYWdlSW50ZXJmYWNlICRwYWNrYWdlKQp7CiRpbnN0YWxsYXRpb25Tb3VyY2UgPSAkcGFja2FnZS0+Z2V0SW5zdGFsbGF0aW9uU291cmNlKCk7CgppZiAoJ21ldGFwYWNrYWdlJyA9PT0gJHBhY2thZ2UtPmdldFR5cGUoKSkgewpyZXR1cm4gbnVsbDsKfQoKaWYgKCdkaXN0JyA9PT0gJGluc3RhbGxhdGlvblNvdXJjZSkgewokZG93bmxvYWRlciA9ICR0aGlzLT5nZXREb3dubG9hZGVyKCRwYWNrYWdlLT5nZXREaXN0VHlwZSgpKTsKfSBlbHNlaWYgKCdzb3VyY2UnID09PSAkaW5zdGFsbGF0aW9uU291cmNlKSB7CiRkb3dubG9hZGVyID0gJHRoaXMtPmdldERvd25sb2FkZXIoJHBhY2thZ2UtPmdldFNvdXJjZVR5cGUoKSk7Cn0gZWxzZSB7CnRocm93IG5ldyBcSW52YWxpZEFyZ3VtZW50RXhjZXB0aW9uKAonUGFja2FnZSAnLiRwYWNrYWdlLicgZG9lcyBub3QgaGF2ZSBhbiBpbnN0YWxsYXRpb24gc291cmNlIHNldCcKKTsKfQoKaWYgKCRpbnN0YWxsYXRpb25Tb3VyY2UgIT09ICRkb3dubG9hZGVyLT5nZXRJbnN0YWxsYXRpb25Tb3VyY2UoKSkgewp0aHJvdyBuZXcgXExvZ2ljRXhjZXB0aW9uKHNwcmludGYoCidEb3dubG9hZGVyICIlcyIgaXMgYSAlcyB0eXBlIGRvd25sb2FkZXIgYW5kIGNhbiBub3QgYmUgdXNlZCB0byBkb3dubG9hZCAlcyBmb3IgcGFja2FnZSAlcycsCmdldF9jbGFzcygkZG93bmxvYWRlciksCiRkb3dubG9hZGVyLT5nZXRJbnN0YWxsYXRpb25Tb3VyY2UoKSwKJGluc3RhbGxhdGlvblNvdXJjZSwKJHBhY2thZ2UKKSk7Cn0KCnJldHVybiAkZG93bmxvYWRlcjsKfQoKcHVibGljIGZ1bmN0aW9uIGdldERvd25sb2FkZXJUeXBlKERvd25sb2FkZXJJbnRlcmZhY2UgJGRvd25sb2FkZXIpCnsKcmV0dXJuIGFycmF5X3NlYXJjaCgkZG93bmxvYWRlciwgJHRoaXMtPmRvd25sb2FkZXJzKTsKfQoKCgoKCgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gZG93bmxvYWQoUGFja2FnZUludGVyZmFjZSAkcGFja2FnZSwgJHRhcmdldERpciwgUGFja2FnZUludGVyZmFjZSAkcHJldlBhY2thZ2UgPSBudWxsKQp7CiR0YXJnZXREaXIgPSAkdGhpcy0+bm9ybWFsaXplVGFyZ2V0RGlyKCR0YXJnZXREaXIpOwokdGhpcy0+ZmlsZXN5c3RlbS0+ZW5zdXJlRGlyZWN0b3J5RXhpc3RzKGRpcm5hbWUoJHRhcmdldERpcikpOwoKJHNvdXJjZXMgPSAkdGhpcy0+Z2V0QXZhaWxhYmxlU291cmNlcygkcGFja2FnZSwgJHByZXZQYWNrYWdlKTsKCiRpbyA9ICR0aGlzLT5pbzsKJHNlbGYgPSAkdGhpczsKCiRkb3dubG9hZCA9IGZ1bmN0aW9uICgkcmV0cnkgPSBmYWxzZSkgdXNlICgmJHNvdXJjZXMsICRpbywgJHBhY2thZ2UsICRzZWxmLCAkdGFyZ2V0RGlyLCAmJGRvd25sb2FkLCAkcHJldlBhY2thZ2UpIHsKJHNvdXJjZSA9IGFycmF5X3NoaWZ0KCRzb3VyY2VzKTsKaWYgKCRyZXRyeSkgewokaW8tPndyaXRlRXJyb3IoJyAgICA8d2FybmluZz5Ob3cgdHJ5aW5nIHRvIGRvd25sb2FkIGZyb20gJyAuICRzb3VyY2UgLiAnPC93YXJuaW5nPicpOwp9CiRwYWNrYWdlLT5zZXRJbnN0YWxsYXRpb25Tb3VyY2UoJHNvdXJjZSk7CgokZG93bmxvYWRlciA9ICRzZWxmLT5nZXREb3dubG9hZGVyRm9yUGFja2FnZSgkcGFja2FnZSk7CmlmICghJGRvd25sb2FkZXIpIHsKcmV0dXJuIFxSZWFjdFxQcm9taXNlXHJlc29sdmUoKTsKfQoKJGhhbmRsZUVycm9yID0gZnVuY3Rpb24gKCRlKSB1c2UgKCRzb3VyY2VzLCAkc291cmNlLCAkcGFja2FnZSwgJGlvLCAkZG93bmxvYWQpIHsKaWYgKCRlIGluc3RhbmNlb2YgXFJ1bnRpbWVFeGNlcHRpb24gJiYgISRlIGluc3RhbmNlb2YgSXJyZWNvdmVyYWJsZURvd25sb2FkRXhjZXB0aW9uKSB7CmlmICghJHNvdXJjZXMpIHsKdGhyb3cgJGU7Cn0KCiRpby0+d3JpdGVFcnJvcigKJyAgICA8d2FybmluZz5GYWlsZWQgdG8gZG93bmxvYWQgJy4KJHBhY2thZ2UtPmdldFByZXR0eU5hbWUoKS4KJyBmcm9tICcgLiAkc291cmNlIC4gJzogJy4KJGUtPmdldE1lc3NhZ2UoKS4nPC93YXJuaW5nPicKKTsKCnJldHVybiAkZG93bmxvYWQodHJ1ZSk7Cn0KCnRocm93ICRlOwp9OwoKdHJ5IHsKJHJlc3VsdCA9ICRkb3dubG9hZGVyLT5kb3dubG9hZCgkcGFja2FnZSwgJHRhcmdldERpciwgJHByZXZQYWNrYWdlKTsKfSBjYXRjaCAoXEV4Y2VwdGlvbiAkZSkgewpyZXR1cm4gJGhhbmRsZUVycm9yKCRlKTsKfQppZiAoISRyZXN1bHQgaW5zdGFuY2VvZiBQcm9taXNlSW50ZXJmYWNlKSB7CnJldHVybiBcUmVhY3RcUHJvbWlzZVxyZXNvbHZlKCRyZXN1bHQpOwp9CgokcmVzID0gJHJlc3VsdC0+dGhlbihmdW5jdGlvbiAoJHJlcykgewpyZXR1cm4gJHJlczsKfSwgJGhhbmRsZUVycm9yKTsKCnJldHVybiAkcmVzOwp9OwoKcmV0dXJuICRkb3dubG9hZCgpOwp9CgoKCgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIHByZXBhcmUoJHR5cGUsIFBhY2thZ2VJbnRlcmZhY2UgJHBhY2thZ2UsICR0YXJnZXREaXIsIFBhY2thZ2VJbnRlcmZhY2UgJHByZXZQYWNrYWdlID0gbnVsbCkKewokdGFyZ2V0RGlyID0gJHRoaXMtPm5vcm1hbGl6ZVRhcmdldERpcigkdGFyZ2V0RGlyKTsKJGRvd25sb2FkZXIgPSAkdGhpcy0+Z2V0RG93bmxvYWRlckZvclBhY2thZ2UoJHBhY2thZ2UpOwppZiAoJGRvd25sb2FkZXIpIHsKcmV0dXJuICRkb3dubG9hZGVyLT5wcmVwYXJlKCR0eXBlLCAkcGFja2FnZSwgJHRhcmdldERpciwgJHByZXZQYWNrYWdlKTsKfQoKcmV0dXJuIFxSZWFjdFxQcm9taXNlXHJlc29sdmUoKTsKfQoKCgoKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBpbnN0YWxsKFBhY2thZ2VJbnRlcmZhY2UgJHBhY2thZ2UsICR0YXJnZXREaXIpCnsKJHRhcmdldERpciA9ICR0aGlzLT5ub3JtYWxpemVUYXJnZXREaXIoJHRhcmdldERpcik7CiRkb3dubG9hZGVyID0gJHRoaXMtPmdldERvd25sb2FkZXJGb3JQYWNrYWdlKCRwYWNrYWdlKTsKaWYgKCRkb3dubG9hZGVyKSB7CnJldHVybiAkZG93bmxvYWRlci0+aW5zdGFsbCgkcGFja2FnZSwgJHRhcmdldERpcik7Cn0KCnJldHVybiBcUmVhY3RcUHJvbWlzZVxyZXNvbHZlKCk7Cn0KCgoKCgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gdXBkYXRlKFBhY2thZ2VJbnRlcmZhY2UgJGluaXRpYWwsIFBhY2thZ2VJbnRlcmZhY2UgJHRhcmdldCwgJHRhcmdldERpcikKewokdGFyZ2V0RGlyID0gJHRoaXMtPm5vcm1hbGl6ZVRhcmdldERpcigkdGFyZ2V0RGlyKTsKJGRvd25sb2FkZXIgPSAkdGhpcy0+Z2V0RG93bmxvYWRlckZvclBhY2thZ2UoJHRhcmdldCk7CiRpbml0aWFsRG93bmxvYWRlciA9ICR0aGlzLT5nZXREb3dubG9hZGVyRm9yUGFja2FnZSgkaW5pdGlhbCk7CgoKaWYgKCEkaW5pdGlhbERvd25sb2FkZXIgJiYgISRkb3dubG9hZGVyKSB7CnJldHVybiBcUmVhY3RcUHJvbWlzZVxyZXNvbHZlKCk7Cn0KCgppZiAoISRkb3dubG9hZGVyKSB7CnJldHVybiAkaW5pdGlhbERvd25sb2FkZXItPnJlbW92ZSgkaW5pdGlhbCwgJHRhcmdldERpcik7Cn0KCiRpbml0aWFsVHlwZSA9ICR0aGlzLT5nZXREb3dubG9hZGVyVHlwZSgkaW5pdGlhbERvd25sb2FkZXIpOwokdGFyZ2V0VHlwZSA9ICR0aGlzLT5nZXREb3dubG9hZGVyVHlwZSgkZG93bmxvYWRlcik7CmlmICgkaW5pdGlhbFR5cGUgPT09ICR0YXJnZXRUeXBlKSB7CnRyeSB7CnJldHVybiAkZG93bmxvYWRlci0+dXBkYXRlKCRpbml0aWFsLCAkdGFyZ2V0LCAkdGFyZ2V0RGlyKTsKfSBjYXRjaCAoXFJ1bnRpbWVFeGNlcHRpb24gJGUpIHsKaWYgKCEkdGhpcy0+aW8tPmlzSW50ZXJhY3RpdmUoKSkgewp0aHJvdyAkZTsKfQokdGhpcy0+aW8tPndyaXRlRXJyb3IoJzxlcnJvcj4gICAgVXBkYXRlIGZhaWxlZCAoJy4kZS0+Z2V0TWVzc2FnZSgpLicpPC9lcnJvcj4nKTsKaWYgKCEkdGhpcy0+aW8tPmFza0NvbmZpcm1hdGlvbignICAgIFdvdWxkIHlvdSBsaWtlIHRvIHRyeSByZWluc3RhbGxpbmcgdGhlIHBhY2thZ2UgaW5zdGVhZCBbPGNvbW1lbnQ+eWVzPC9jb21tZW50Pl0/ICcpKSB7CnRocm93ICRlOwp9Cn0KfQoKCgokcHJvbWlzZSA9ICRpbml0aWFsRG93bmxvYWRlci0+cmVtb3ZlKCRpbml0aWFsLCAkdGFyZ2V0RGlyKTsKaWYgKCRwcm9taXNlKSB7CiRzZWxmID0gJHRoaXM7CgpyZXR1cm4gJHByb21pc2UtPnRoZW4oZnVuY3Rpb24gKCRyZXMpIHVzZSAoJHNlbGYsICR0YXJnZXQsICR0YXJnZXREaXIpIHsKcmV0dXJuICRzZWxmLT5pbnN0YWxsKCR0YXJnZXQsICR0YXJnZXREaXIpOwp9KTsKfQoKcmV0dXJuICR0aGlzLT5pbnN0YWxsKCR0YXJnZXQsICR0YXJnZXREaXIpOwp9CgoKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiByZW1vdmUoUGFja2FnZUludGVyZmFjZSAkcGFja2FnZSwgJHRhcmdldERpcikKewokdGFyZ2V0RGlyID0gJHRoaXMtPm5vcm1hbGl6ZVRhcmdldERpcigkdGFyZ2V0RGlyKTsKJGRvd25sb2FkZXIgPSAkdGhpcy0+Z2V0RG93bmxvYWRlckZvclBhY2thZ2UoJHBhY2thZ2UpOwppZiAoJGRvd25sb2FkZXIpIHsKcmV0dXJuICRkb3dubG9hZGVyLT5yZW1vdmUoJHBhY2thZ2UsICR0YXJnZXREaXIpOwp9CgpyZXR1cm4gXFJlYWN0XFByb21pc2VccmVzb2x2ZSgpOwp9CgoKCgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIGNsZWFudXAoJHR5cGUsIFBhY2thZ2VJbnRlcmZhY2UgJHBhY2thZ2UsICR0YXJnZXREaXIsIFBhY2thZ2VJbnRlcmZhY2UgJHByZXZQYWNrYWdlID0gbnVsbCkKewokdGFyZ2V0RGlyID0gJHRoaXMtPm5vcm1hbGl6ZVRhcmdldERpcigkdGFyZ2V0RGlyKTsKJGRvd25sb2FkZXIgPSAkdGhpcy0+Z2V0RG93bmxvYWRlckZvclBhY2thZ2UoJHBhY2thZ2UpOwppZiAoJGRvd25sb2FkZXIpIHsKcmV0dXJuICRkb3dubG9hZGVyLT5jbGVhbnVwKCR0eXBlLCAkcGFja2FnZSwgJHRhcmdldERpciwgJHByZXZQYWNrYWdlKTsKfQoKcmV0dXJuIFxSZWFjdFxQcm9taXNlXHJlc29sdmUoKTsKfQoKCgoKCgoKCnByb3RlY3RlZCBmdW5jdGlvbiByZXNvbHZlUGFja2FnZUluc3RhbGxQcmVmZXJlbmNlKFBhY2thZ2VJbnRlcmZhY2UgJHBhY2thZ2UpCnsKZm9yZWFjaCAoJHRoaXMtPnBhY2thZ2VQcmVmZXJlbmNlcyBhcyAkcGF0dGVybiA9PiAkcHJlZmVyZW5jZSkgewokcGF0dGVybiA9ICd7Xicuc3RyX3JlcGxhY2UoJ1xcKicsICcuKicsIHByZWdfcXVvdGUoJHBhdHRlcm4pKS4nJH1pJzsKaWYgKHByZWdfbWF0Y2goJHBhdHRlcm4sICRwYWNrYWdlLT5nZXROYW1lKCkpKSB7CmlmICgnZGlzdCcgPT09ICRwcmVmZXJlbmNlIHx8ICghJHBhY2thZ2UtPmlzRGV2KCkgJiYgJ2F1dG8nID09PSAkcHJlZmVyZW5jZSkpIHsKcmV0dXJuICdkaXN0JzsKfQoKcmV0dXJuICdzb3VyY2UnOwp9Cn0KCnJldHVybiAkcGFja2FnZS0+aXNEZXYoKSA/ICdzb3VyY2UnIDogJ2Rpc3QnOwp9CgoKCgpwcml2YXRlIGZ1bmN0aW9uIGdldEF2YWlsYWJsZVNvdXJjZXMoUGFja2FnZUludGVyZmFjZSAkcGFja2FnZSwgUGFja2FnZUludGVyZmFjZSAkcHJldlBhY2thZ2UgPSBudWxsKQp7CiRzb3VyY2VUeXBlID0gJHBhY2thZ2UtPmdldFNvdXJjZVR5cGUoKTsKJGRpc3RUeXBlID0gJHBhY2thZ2UtPmdldERpc3RUeXBlKCk7CgoKJHNvdXJjZXMgPSBhcnJheSgpOwppZiAoJHNvdXJjZVR5cGUpIHsKJHNvdXJjZXNbXSA9ICdzb3VyY2UnOwp9CmlmICgkZGlzdFR5cGUpIHsKJHNvdXJjZXNbXSA9ICdkaXN0JzsKfQoKaWYgKGVtcHR5KCRzb3VyY2VzKSkgewp0aHJvdyBuZXcgXEludmFsaWRBcmd1bWVudEV4Y2VwdGlvbignUGFja2FnZSAnLiRwYWNrYWdlLicgbXVzdCBoYXZlIGEgc291cmNlIG9yIGRpc3Qgc3BlY2lmaWVkJyk7Cn0KCmlmICgKJHByZXZQYWNrYWdlCgomJiBpbl9hcnJheSgkcHJldlBhY2thZ2UtPmdldEluc3RhbGxhdGlvblNvdXJjZSgpLCAkc291cmNlcywgdHJ1ZSkKCiYmICEoISRwcmV2UGFja2FnZS0+aXNEZXYoKSAmJiAkcHJldlBhY2thZ2UtPmdldEluc3RhbGxhdGlvblNvdXJjZSgpID09PSAnZGlzdCcgJiYgJHBhY2thZ2UtPmlzRGV2KCkpCikgewokcHJldlNvdXJjZSA9ICRwcmV2UGFja2FnZS0+Z2V0SW5zdGFsbGF0aW9uU291cmNlKCk7CnVzb3J0KCRzb3VyY2VzLCBmdW5jdGlvbiAoJGEsICRiKSB1c2UgKCRwcmV2U291cmNlKSB7CnJldHVybiAkYSA9PT0gJHByZXZTb3VyY2UgPyAtMSA6IDE7Cn0pOwoKcmV0dXJuICRzb3VyY2VzOwp9CgoKaWYgKCEkdGhpcy0+cHJlZmVyU291cmNlICYmICgkdGhpcy0+cHJlZmVyRGlzdCB8fCAnZGlzdCcgPT09ICR0aGlzLT5yZXNvbHZlUGFja2FnZUluc3RhbGxQcmVmZXJlbmNlKCRwYWNrYWdlKSkpIHsKJHNvdXJjZXMgPSBhcnJheV9yZXZlcnNlKCRzb3VyY2VzKTsKfQoKcmV0dXJuICRzb3VyY2VzOwp9CgoKCgoKCgoKcHJpdmF0ZSBmdW5jdGlvbiBub3JtYWxpemVUYXJnZXREaXIoJGRpcikKewppZiAoJGRpciA9PT0gJ1xcJyB8fCAkZGlyID09PSAnLycpIHsKcmV0dXJuICRkaXI7Cn0KCnJldHVybiBydHJpbSgkZGlyLCAnXFwvJyk7Cn0KfQo8P3BocAoKCgoKCgoKCgoKCm5hbWVzcGFjZSBDb21wb3NlclxEb3dubG9hZGVyOwoKdXNlIENvbXBvc2VyXFBhY2thZ2VcUGFja2FnZUludGVyZmFjZTsKdXNlIFJlYWN0XFByb21pc2VcUHJvbWlzZUludGVyZmFjZTsKCgoKCgoKCmludGVyZmFjZSBEb3dubG9hZGVySW50ZXJmYWNlCnsKCgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0SW5zdGFsbGF0aW9uU291cmNlKCk7CgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBkb3dubG9hZChQYWNrYWdlSW50ZXJmYWNlICRwYWNrYWdlLCAkcGF0aCwgUGFja2FnZUludGVyZmFjZSAkcHJldlBhY2thZ2UgPSBudWxsKTsKCgoKCgoKCgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIHByZXBhcmUoJHR5cGUsIFBhY2thZ2VJbnRlcmZhY2UgJHBhY2thZ2UsICRwYXRoLCBQYWNrYWdlSW50ZXJmYWNlICRwcmV2UGFja2FnZSA9IG51bGwpOwoKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBpbnN0YWxsKFBhY2thZ2VJbnRlcmZhY2UgJHBhY2thZ2UsICRwYXRoKTsKCgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIHVwZGF0ZShQYWNrYWdlSW50ZXJmYWNlICRpbml0aWFsLCBQYWNrYWdlSW50ZXJmYWNlICR0YXJnZXQsICRwYXRoKTsKCgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gcmVtb3ZlKFBhY2thZ2VJbnRlcmZhY2UgJHBhY2thZ2UsICRwYXRoKTsKCgoKCgoKCgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gY2xlYW51cCgkdHlwZSwgUGFja2FnZUludGVyZmFjZSAkcGFja2FnZSwgJHBhdGgsIFBhY2thZ2VJbnRlcmZhY2UgJHByZXZQYWNrYWdlID0gbnVsbCk7Cn0KPD9waHAKCgoKCgoKCgoKCgpuYW1lc3BhY2UgQ29tcG9zZXJcRG93bmxvYWRlcjsKCnVzZSBDb21wb3NlclxQYWNrYWdlXFBhY2thZ2VJbnRlcmZhY2U7CgoKCgoKCmludGVyZmFjZSBEdmNzRG93bmxvYWRlckludGVyZmFjZQp7CgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0VW5wdXNoZWRDaGFuZ2VzKFBhY2thZ2VJbnRlcmZhY2UgJHBhY2thZ2UsICRwYXRoKTsKfQo8P3BocAoKCgoKCgoKCgoKCm5hbWVzcGFjZSBDb21wb3NlclxEb3dubG9hZGVyOwoKdXNlIENvbXBvc2VyXENvbmZpZzsKdXNlIENvbXBvc2VyXENhY2hlOwp1c2UgQ29tcG9zZXJcSU9cSU9JbnRlcmZhY2U7CnVzZSBDb21wb3NlclxJT1xOdWxsSU87CnVzZSBDb21wb3NlclxFeGNlcHRpb25cSXJyZWNvdmVyYWJsZURvd25sb2FkRXhjZXB0aW9uOwp1c2UgQ29tcG9zZXJcUGFja2FnZVxDb21wYXJlclxDb21wYXJlcjsKdXNlIENvbXBvc2VyXERlcGVuZGVuY3lSZXNvbHZlclxPcGVyYXRpb25cVXBkYXRlT3BlcmF0aW9uOwp1c2UgQ29tcG9zZXJcRGVwZW5kZW5jeVJlc29sdmVyXE9wZXJhdGlvblxJbnN0YWxsT3BlcmF0aW9uOwp1c2UgQ29tcG9zZXJcRGVwZW5kZW5jeVJlc29sdmVyXE9wZXJhdGlvblxVbmluc3RhbGxPcGVyYXRpb247CnVzZSBDb21wb3NlclxQYWNrYWdlXFBhY2thZ2VJbnRlcmZhY2U7CnVzZSBDb21wb3NlclxQbHVnaW5cUGx1Z2luRXZlbnRzOwp1c2UgQ29tcG9zZXJcUGx1Z2luXFBvc3RGaWxlRG93bmxvYWRFdmVudDsKdXNlIENvbXBvc2VyXFBsdWdpblxQcmVGaWxlRG93bmxvYWRFdmVudDsKdXNlIENvbXBvc2VyXEV2ZW50RGlzcGF0Y2hlclxFdmVudERpc3BhdGNoZXI7CnVzZSBDb21wb3NlclxVdGlsXEZpbGVzeXN0ZW07CnVzZSBDb21wb3NlclxVdGlsXFNpbGVuY2VyOwp1c2UgQ29tcG9zZXJcVXRpbFxIdHRwRG93bmxvYWRlcjsKdXNlIENvbXBvc2VyXFV0aWxcVXJsIGFzIFVybFV0aWw7CnVzZSBDb21wb3NlclxVdGlsXFByb2Nlc3NFeGVjdXRvcjsKdXNlIFJlYWN0XFByb21pc2VcUHJvbWlzZUludGVyZmFjZTsKCgoKCgoKCgoKY2xhc3MgRmlsZURvd25sb2FkZXIgaW1wbGVtZW50cyBEb3dubG9hZGVySW50ZXJmYWNlLCBDaGFuZ2VSZXBvcnRJbnRlcmZhY2UKewoKcHJvdGVjdGVkICRpbzsKCnByb3RlY3RlZCAkY29uZmlnOwoKcHJvdGVjdGVkICRodHRwRG93bmxvYWRlcjsKCnByb3RlY3RlZCAkZmlsZXN5c3RlbTsKCnByb3RlY3RlZCAkY2FjaGU7Cgpwcm90ZWN0ZWQgJGV2ZW50RGlzcGF0Y2hlcjsKCnByb3RlY3RlZCAkcHJvY2VzczsKCgoKcHVibGljICRsYXN0Q2FjaGVXcml0ZXMgPSBhcnJheSgpOwpwcml2YXRlICRhZGRpdGlvbmFsQ2xlYW51cFBhdGhzID0gYXJyYXkoKTsKCgoKCgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gX19jb25zdHJ1Y3QoSU9JbnRlcmZhY2UgJGlvLCBDb25maWcgJGNvbmZpZywgSHR0cERvd25sb2FkZXIgJGh0dHBEb3dubG9hZGVyLCBFdmVudERpc3BhdGNoZXIgJGV2ZW50RGlzcGF0Y2hlciA9IG51bGwsIENhY2hlICRjYWNoZSA9IG51bGwsIEZpbGVzeXN0ZW0gJGZpbGVzeXN0ZW0gPSBudWxsLCBQcm9jZXNzRXhlY3V0b3IgJHByb2Nlc3MgPSBudWxsKQp7CiR0aGlzLT5pbyA9ICRpbzsKJHRoaXMtPmNvbmZpZyA9ICRjb25maWc7CiR0aGlzLT5ldmVudERpc3BhdGNoZXIgPSAkZXZlbnREaXNwYXRjaGVyOwokdGhpcy0+aHR0cERvd25sb2FkZXIgPSAkaHR0cERvd25sb2FkZXI7CiR0aGlzLT5jYWNoZSA9ICRjYWNoZTsKJHRoaXMtPnByb2Nlc3MgPSAkcHJvY2VzcyA/OiBuZXcgUHJvY2Vzc0V4ZWN1dG9yKCRpbyk7CiR0aGlzLT5maWxlc3lzdGVtID0gJGZpbGVzeXN0ZW0gPzogbmV3IEZpbGVzeXN0ZW0oJHRoaXMtPnByb2Nlc3MpOwoKaWYgKCR0aGlzLT5jYWNoZSAmJiAkdGhpcy0+Y2FjaGUtPmdjSXNOZWNlc3NhcnkoKSkgewokdGhpcy0+aW8tPndyaXRlRXJyb3IoJ1J1bm5pbmcgY2FjaGUgZ2FyYmFnZSBjb2xsZWN0aW9uJywgdHJ1ZSwgSU9JbnRlcmZhY2U6OlZFUllfVkVSQk9TRSk7CiR0aGlzLT5jYWNoZS0+Z2MoJGNvbmZpZy0+Z2V0KCdjYWNoZS1maWxlcy10dGwnKSwgJGNvbmZpZy0+Z2V0KCdjYWNoZS1maWxlcy1tYXhzaXplJykpOwp9Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBnZXRJbnN0YWxsYXRpb25Tb3VyY2UoKQp7CnJldHVybiAnZGlzdCc7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBkb3dubG9hZChQYWNrYWdlSW50ZXJmYWNlICRwYWNrYWdlLCAkcGF0aCwgUGFja2FnZUludGVyZmFjZSAkcHJldlBhY2thZ2UgPSBudWxsLCAkb3V0cHV0ID0gdHJ1ZSkKewppZiAoISRwYWNrYWdlLT5nZXREaXN0VXJsKCkpIHsKdGhyb3cgbmV3IFxJbnZhbGlkQXJndW1lbnRFeGNlcHRpb24oJ1RoZSBnaXZlbiBwYWNrYWdlIGlzIG1pc3NpbmcgdXJsIGluZm9ybWF0aW9uJyk7Cn0KCiRjYWNoZUtleUdlbmVyYXRvciA9IGZ1bmN0aW9uIChQYWNrYWdlSW50ZXJmYWNlICRwYWNrYWdlLCAka2V5KSB7CiRjYWNoZUtleSA9IHNoYTEoJGtleSk7CgpyZXR1cm4gJHBhY2thZ2UtPmdldE5hbWUoKS4nLycuJGNhY2hlS2V5LicuJy4kcGFja2FnZS0+Z2V0RGlzdFR5cGUoKTsKfTsKCiRyZXRyaWVzID0gMzsKJGRpc3RVcmxzID0gJHBhY2thZ2UtPmdldERpc3RVcmxzKCk7CgokdXJscyA9IGFycmF5KCk7CmZvcmVhY2ggKCRkaXN0VXJscyBhcyAkaW5kZXggPT4gJHVybCkgewokcHJvY2Vzc2VkVXJsID0gJHRoaXMtPnByb2Nlc3NVcmwoJHBhY2thZ2UsICR1cmwpOwokdXJsc1skaW5kZXhdID0gYXJyYXkoCidiYXNlJyA9PiAkdXJsLAoncHJvY2Vzc2VkJyA9PiAkcHJvY2Vzc2VkVXJsLAoKCgoKJ2NhY2hlS2V5JyA9PiAkY2FjaGVLZXlHZW5lcmF0b3IoJHBhY2thZ2UsICRwcm9jZXNzZWRVcmwpLAopOwp9CgokZmlsZU5hbWUgPSAkdGhpcy0+Z2V0RmlsZU5hbWUoJHBhY2thZ2UsICRwYXRoKTsKJHRoaXMtPmZpbGVzeXN0ZW0tPmVuc3VyZURpcmVjdG9yeUV4aXN0cygkcGF0aCk7CiR0aGlzLT5maWxlc3lzdGVtLT5lbnN1cmVEaXJlY3RvcnlFeGlzdHMoZGlybmFtZSgkZmlsZU5hbWUpKTsKCiRpbyA9ICR0aGlzLT5pbzsKJGNhY2hlID0gJHRoaXMtPmNhY2hlOwokaHR0cERvd25sb2FkZXIgPSAkdGhpcy0+aHR0cERvd25sb2FkZXI7CiRldmVudERpc3BhdGNoZXIgPSAkdGhpcy0+ZXZlbnREaXNwYXRjaGVyOwokZmlsZXN5c3RlbSA9ICR0aGlzLT5maWxlc3lzdGVtOwokc2VsZiA9ICR0aGlzOwoKJGFjY2VwdCA9IG51bGw7CiRyZWplY3QgPSBudWxsOwokZG93bmxvYWQgPSBmdW5jdGlvbiAoKSB1c2UgKCRpbywgJG91dHB1dCwgJGh0dHBEb3dubG9hZGVyLCAkY2FjaGUsICRjYWNoZUtleUdlbmVyYXRvciwgJGV2ZW50RGlzcGF0Y2hlciwgJHBhY2thZ2UsICRmaWxlTmFtZSwgJiR1cmxzLCAmJGFjY2VwdCwgJiRyZWplY3QpIHsKCiR1cmwgPSByZXNldCgkdXJscyk7CiRpbmRleCA9IGtleSgkdXJscyk7CgppZiAoJGV2ZW50RGlzcGF0Y2hlcikgewokcHJlRmlsZURvd25sb2FkRXZlbnQgPSBuZXcgUHJlRmlsZURvd25sb2FkRXZlbnQoUGx1Z2luRXZlbnRzOjpQUkVfRklMRV9ET1dOTE9BRCwgJGh0dHBEb3dubG9hZGVyLCAkdXJsWydwcm9jZXNzZWQnXSwgJ3BhY2thZ2UnLCAkcGFja2FnZSk7CiRldmVudERpc3BhdGNoZXItPmRpc3BhdGNoKCRwcmVGaWxlRG93bmxvYWRFdmVudC0+Z2V0TmFtZSgpLCAkcHJlRmlsZURvd25sb2FkRXZlbnQpOwppZiAoJHByZUZpbGVEb3dubG9hZEV2ZW50LT5nZXRDdXN0b21DYWNoZUtleSgpICE9PSBudWxsKSB7CiR1cmxbJ2NhY2hlS2V5J10gPSAkY2FjaGVLZXlHZW5lcmF0b3IoJHBhY2thZ2UsICRwcmVGaWxlRG93bmxvYWRFdmVudC0+Z2V0Q3VzdG9tQ2FjaGVLZXkoKSk7Cn0gZWxzZWlmICgkcHJlRmlsZURvd25sb2FkRXZlbnQtPmdldFByb2Nlc3NlZFVybCgpICE9PSAkdXJsWydwcm9jZXNzZWQnXSkgewokdXJsWydjYWNoZUtleSddID0gJGNhY2hlS2V5R2VuZXJhdG9yKCRwYWNrYWdlLCAkcHJlRmlsZURvd25sb2FkRXZlbnQtPmdldFByb2Nlc3NlZFVybCgpKTsKfQokdXJsWydwcm9jZXNzZWQnXSA9ICRwcmVGaWxlRG93bmxvYWRFdmVudC0+Z2V0UHJvY2Vzc2VkVXJsKCk7Cn0KCiR1cmxzWyRpbmRleF0gPSAkdXJsOwoKJGNoZWNrc3VtID0gJHBhY2thZ2UtPmdldERpc3RTaGExQ2hlY2tzdW0oKTsKJGNhY2hlS2V5ID0gJHVybFsnY2FjaGVLZXknXTsKCgppZiAoJGNhY2hlICYmICghJGNoZWNrc3VtIHx8ICRjaGVja3N1bSA9PT0gJGNhY2hlLT5zaGExKCRjYWNoZUtleSkpICYmICRjYWNoZS0+Y29weVRvKCRjYWNoZUtleSwgJGZpbGVOYW1lKSkgewppZiAoJG91dHB1dCkgewokaW8tPndyaXRlRXJyb3IoIiAgLSBMb2FkaW5nIDxpbmZvPiIgLiAkcGFja2FnZS0+Z2V0TmFtZSgpIC4gIjwvaW5mbz4gKDxjb21tZW50PiIgLiAkcGFja2FnZS0+Z2V0RnVsbFByZXR0eVZlcnNpb24oKSAuICI8L2NvbW1lbnQ+KSBmcm9tIGNhY2hlIiwgdHJ1ZSwgSU9JbnRlcmZhY2U6OlZFUllfVkVSQk9TRSk7Cn0KJHJlc3VsdCA9IFxSZWFjdFxQcm9taXNlXHJlc29sdmUoJGZpbGVOYW1lKTsKfSBlbHNlIHsKaWYgKCRvdXRwdXQpIHsKJGlvLT53cml0ZUVycm9yKCIgIC0gRG93bmxvYWRpbmcgPGluZm8+IiAuICRwYWNrYWdlLT5nZXROYW1lKCkgLiAiPC9pbmZvPiAoPGNvbW1lbnQ+IiAuICRwYWNrYWdlLT5nZXRGdWxsUHJldHR5VmVyc2lvbigpIC4gIjwvY29tbWVudD4pIik7Cn0KCiRyZXN1bHQgPSAkaHR0cERvd25sb2FkZXItPmFkZENvcHkoJHVybFsncHJvY2Vzc2VkJ10sICRmaWxlTmFtZSwgJHBhY2thZ2UtPmdldFRyYW5zcG9ydE9wdGlvbnMoKSkKLT50aGVuKCRhY2NlcHQsICRyZWplY3QpOwp9CgpyZXR1cm4gJHJlc3VsdC0+dGhlbihmdW5jdGlvbiAoJHJlc3VsdCkgdXNlICgkZmlsZU5hbWUsICRjaGVja3N1bSwgJHVybCwgJHBhY2thZ2UsICRldmVudERpc3BhdGNoZXIpIHsKCgoKaWYgKG51bGwgPT09ICRyZXN1bHQpIHsKcmV0dXJuICRmaWxlTmFtZTsKfQoKaWYgKCFmaWxlX2V4aXN0cygkZmlsZU5hbWUpKSB7CnRocm93IG5ldyBcVW5leHBlY3RlZFZhbHVlRXhjZXB0aW9uKCR1cmxbJ2Jhc2UnXS4nIGNvdWxkIG5vdCBiZSBzYXZlZCB0byAnLiRmaWxlTmFtZS4nLCBtYWtlIHN1cmUgdGhlJwouJyBkaXJlY3RvcnkgaXMgd3JpdGFibGUgYW5kIHlvdSBoYXZlIGludGVybmV0IGNvbm5lY3Rpdml0eScpOwp9CgppZiAoJGNoZWNrc3VtICYmIGhhc2hfZmlsZSgnc2hhMScsICRmaWxlTmFtZSkgIT09ICRjaGVja3N1bSkgewp0aHJvdyBuZXcgXFVuZXhwZWN0ZWRWYWx1ZUV4Y2VwdGlvbignVGhlIGNoZWNrc3VtIHZlcmlmaWNhdGlvbiBvZiB0aGUgZmlsZSBmYWlsZWQgKGRvd25sb2FkZWQgZnJvbSAnLiR1cmxbJ2Jhc2UnXS4nKScpOwp9CgppZiAoJGV2ZW50RGlzcGF0Y2hlcikgewokcG9zdEZpbGVEb3dubG9hZEV2ZW50ID0gbmV3IFBvc3RGaWxlRG93bmxvYWRFdmVudChQbHVnaW5FdmVudHM6OlBPU1RfRklMRV9ET1dOTE9BRCwgJGZpbGVOYW1lLCAkY2hlY2tzdW0sICR1cmxbJ3Byb2Nlc3NlZCddLCAncGFja2FnZScsICRwYWNrYWdlKTsKJGV2ZW50RGlzcGF0Y2hlci0+ZGlzcGF0Y2goJHBvc3RGaWxlRG93bmxvYWRFdmVudC0+Z2V0TmFtZSgpLCAkcG9zdEZpbGVEb3dubG9hZEV2ZW50KTsKfQoKcmV0dXJuICRmaWxlTmFtZTsKfSk7Cn07CgokYWNjZXB0ID0gZnVuY3Rpb24gKCRyZXNwb25zZSkgdXNlICgkY2FjaGUsICRwYWNrYWdlLCAkZmlsZU5hbWUsICRzZWxmLCAmJHVybHMpIHsKJHVybCA9IHJlc2V0KCR1cmxzKTsKJGNhY2hlS2V5ID0gJHVybFsnY2FjaGVLZXknXTsKCmlmICgkY2FjaGUgJiYgISRjYWNoZS0+aXNSZWFkT25seSgpKSB7CiRzZWxmLT5sYXN0Q2FjaGVXcml0ZXNbJHBhY2thZ2UtPmdldE5hbWUoKV0gPSAkY2FjaGVLZXk7CiRjYWNoZS0+Y29weUZyb20oJGNhY2hlS2V5LCAkZmlsZU5hbWUpOwp9CgokcmVzcG9uc2UtPmNvbGxlY3QoKTsKCnJldHVybiAkZmlsZU5hbWU7Cn07CgokcmVqZWN0ID0gZnVuY3Rpb24gKCRlKSB1c2UgKCRpbywgJiR1cmxzLCAkZG93bmxvYWQsICRmaWxlTmFtZSwgJHBhY2thZ2UsICYkcmV0cmllcywgJGZpbGVzeXN0ZW0sICRzZWxmKSB7CgppZiAoZmlsZV9leGlzdHMoJGZpbGVOYW1lKSkgewokZmlsZXN5c3RlbS0+dW5saW5rKCRmaWxlTmFtZSk7Cn0KJHNlbGYtPmNsZWFyTGFzdENhY2hlV3JpdGUoJHBhY2thZ2UpOwoKaWYgKCRlIGluc3RhbmNlb2YgSXJyZWNvdmVyYWJsZURvd25sb2FkRXhjZXB0aW9uKSB7CnRocm93ICRlOwp9CgppZiAoJGUgaW5zdGFuY2VvZiBNYXhGaWxlU2l6ZUV4Y2VlZGVkRXhjZXB0aW9uKSB7CnRocm93ICRlOwp9CgppZiAoJGUgaW5zdGFuY2VvZiBUcmFuc3BvcnRFeGNlcHRpb24pIHsKCmlmICgoMCAhPT0gJGUtPmdldENvZGUoKSAmJiAhaW5fYXJyYXkoJGUtPmdldENvZGUoKSwgYXJyYXkoNTAwLCA1MDIsIDUwMywgNTA0KSkpIHx8ICEkcmV0cmllcykgewokcmV0cmllcyA9IDA7Cn0KfQoKCmlmICgkZSBpbnN0YW5jZW9mIFRyYW5zcG9ydEV4Y2VwdGlvbiAmJiAkZS0+Z2V0U3RhdHVzQ29kZSgpID09PSA0OTkpIHsKJHJldHJpZXMgPSAwOwokdXJscyA9IGFycmF5KCk7Cn0KCmlmICgkcmV0cmllcykgewp1c2xlZXAoNTAwMDAwKTsKJHJldHJpZXMtLTsKCnJldHVybiAkZG93bmxvYWQoKTsKfQoKYXJyYXlfc2hpZnQoJHVybHMpOwppZiAoJHVybHMpIHsKaWYgKCRpby0+aXNEZWJ1ZygpKSB7CiRpby0+d3JpdGVFcnJvcignICAgIEZhaWxlZCBkb3dubG9hZGluZyAnLiRwYWNrYWdlLT5nZXROYW1lKCkuJzogWycuZ2V0X2NsYXNzKCRlKS4nXSAnLiRlLT5nZXRDb2RlKCkuJzogJy4kZS0+Z2V0TWVzc2FnZSgpKTsKJGlvLT53cml0ZUVycm9yKCcgICAgVHJ5aW5nIHRoZSBuZXh0IFVSTCBmb3IgJy4kcGFja2FnZS0+Z2V0TmFtZSgpKTsKfSBlbHNlIHsKJGlvLT53cml0ZUVycm9yKCcgICAgRmFpbGVkIGRvd25sb2FkaW5nICcuJHBhY2thZ2UtPmdldE5hbWUoKS4nLCB0cnlpbmcgdGhlIG5leHQgVVJMICgnLiRlLT5nZXRDb2RlKCkuJzogJy4kZS0+Z2V0TWVzc2FnZSgpLicpJyk7Cn0KCiRyZXRyaWVzID0gMzsKdXNsZWVwKDEwMDAwMCk7CgpyZXR1cm4gJGRvd25sb2FkKCk7Cn0KCnRocm93ICRlOwp9OwoKcmV0dXJuICRkb3dubG9hZCgpOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gcHJlcGFyZSgkdHlwZSwgUGFja2FnZUludGVyZmFjZSAkcGFja2FnZSwgJHBhdGgsIFBhY2thZ2VJbnRlcmZhY2UgJHByZXZQYWNrYWdlID0gbnVsbCkKewpyZXR1cm4gXFJlYWN0XFByb21pc2VccmVzb2x2ZSgpOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gY2xlYW51cCgkdHlwZSwgUGFja2FnZUludGVyZmFjZSAkcGFja2FnZSwgJHBhdGgsIFBhY2thZ2VJbnRlcmZhY2UgJHByZXZQYWNrYWdlID0gbnVsbCkKewokZmlsZU5hbWUgPSAkdGhpcy0+Z2V0RmlsZU5hbWUoJHBhY2thZ2UsICRwYXRoKTsKaWYgKGZpbGVfZXhpc3RzKCRmaWxlTmFtZSkpIHsKJHRoaXMtPmZpbGVzeXN0ZW0tPnVubGluaygkZmlsZU5hbWUpOwp9CgokZGlyc1RvQ2xlYW5VcCA9IGFycmF5KAokdGhpcy0+Y29uZmlnLT5nZXQoJ3ZlbmRvci1kaXInKS4nL2NvbXBvc2VyLycsCiR0aGlzLT5jb25maWctPmdldCgndmVuZG9yLWRpcicpLAokcGF0aCwKKTsKCmlmIChpc3NldCgkdGhpcy0+YWRkaXRpb25hbENsZWFudXBQYXRoc1skcGFja2FnZS0+Z2V0TmFtZSgpXSkpIHsKZm9yZWFjaCAoJHRoaXMtPmFkZGl0aW9uYWxDbGVhbnVwUGF0aHNbJHBhY2thZ2UtPmdldE5hbWUoKV0gYXMgJHBhdGgpIHsKJHRoaXMtPmZpbGVzeXN0ZW0tPnJlbW92ZSgkcGF0aCk7Cn0KfQoKZm9yZWFjaCAoJGRpcnNUb0NsZWFuVXAgYXMgJGRpcikgewppZiAoaXNfZGlyKCRkaXIpICYmICR0aGlzLT5maWxlc3lzdGVtLT5pc0RpckVtcHR5KCRkaXIpICYmIHJlYWxwYXRoKCRkaXIpICE9PSBnZXRjd2QoKSkgewokdGhpcy0+ZmlsZXN5c3RlbS0+cmVtb3ZlRGlyZWN0b3J5UGhwKCRkaXIpOwp9Cn0KCnJldHVybiBcUmVhY3RcUHJvbWlzZVxyZXNvbHZlKCk7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBpbnN0YWxsKFBhY2thZ2VJbnRlcmZhY2UgJHBhY2thZ2UsICRwYXRoLCAkb3V0cHV0ID0gdHJ1ZSkKewppZiAoJG91dHB1dCkgewokdGhpcy0+aW8tPndyaXRlRXJyb3IoIiAgLSAiIC4gSW5zdGFsbE9wZXJhdGlvbjo6Zm9ybWF0KCRwYWNrYWdlKSk7Cn0KCiR0aGlzLT5maWxlc3lzdGVtLT5lbXB0eURpcmVjdG9yeSgkcGF0aCk7CiR0aGlzLT5maWxlc3lzdGVtLT5lbnN1cmVEaXJlY3RvcnlFeGlzdHMoJHBhdGgpOwokdGhpcy0+ZmlsZXN5c3RlbS0+cmVuYW1lKCR0aGlzLT5nZXRGaWxlTmFtZSgkcGFja2FnZSwgJHBhdGgpLCAkcGF0aCAuICcvJyAuIHBhdGhpbmZvKHBhcnNlX3VybCgkcGFja2FnZS0+Z2V0RGlzdFVybCgpLCBQSFBfVVJMX1BBVEgpLCBQQVRISU5GT19CQVNFTkFNRSkpOwoKaWYgKCRwYWNrYWdlLT5nZXRCaW5hcmllcygpKSB7CgoKZm9yZWFjaCAoJHBhY2thZ2UtPmdldEJpbmFyaWVzKCkgYXMgJGJpbikgewppZiAoZmlsZV9leGlzdHMoJHBhdGggLiAnLycgLiAkYmluKSAmJiAhaXNfZXhlY3V0YWJsZSgkcGF0aCAuICcvJyAuICRiaW4pKSB7ClNpbGVuY2VyOjpjYWxsKCdjaG1vZCcsICRwYXRoIC4gJy8nIC4gJGJpbiwgMDc3NyAmIH51bWFzaygpKTsKfQp9Cn0KCnJldHVybiBcUmVhY3RcUHJvbWlzZVxyZXNvbHZlKCk7Cn0KCgoKCgpwdWJsaWMgZnVuY3Rpb24gY2xlYXJMYXN0Q2FjaGVXcml0ZShQYWNrYWdlSW50ZXJmYWNlICRwYWNrYWdlKQp7CmlmICgkdGhpcy0+Y2FjaGUgJiYgaXNzZXQoJHRoaXMtPmxhc3RDYWNoZVdyaXRlc1skcGFja2FnZS0+Z2V0TmFtZSgpXSkpIHsKJHRoaXMtPmNhY2hlLT5yZW1vdmUoJHRoaXMtPmxhc3RDYWNoZVdyaXRlc1skcGFja2FnZS0+Z2V0TmFtZSgpXSk7CnVuc2V0KCR0aGlzLT5sYXN0Q2FjaGVXcml0ZXNbJHBhY2thZ2UtPmdldE5hbWUoKV0pOwp9Cn0KCgoKCgpwdWJsaWMgZnVuY3Rpb24gYWRkQ2xlYW51cFBhdGgoUGFja2FnZUludGVyZmFjZSAkcGFja2FnZSwgJHBhdGgpCnsKJHRoaXMtPmFkZGl0aW9uYWxDbGVhbnVwUGF0aHNbJHBhY2thZ2UtPmdldE5hbWUoKV1bXSA9ICRwYXRoOwp9CgoKCgoKcHVibGljIGZ1bmN0aW9uIHJlbW92ZUNsZWFudXBQYXRoKFBhY2thZ2VJbnRlcmZhY2UgJHBhY2thZ2UsICRwYXRoKQp7CmlmIChpc3NldCgkdGhpcy0+YWRkaXRpb25hbENsZWFudXBQYXRoc1skcGFja2FnZS0+Z2V0TmFtZSgpXSkpIHsKJGlkeCA9IGFycmF5X3NlYXJjaCgkcGF0aCwgJHRoaXMtPmFkZGl0aW9uYWxDbGVhbnVwUGF0aHNbJHBhY2thZ2UtPmdldE5hbWUoKV0pOwppZiAoZmFsc2UgIT09ICRpZHgpIHsKdW5zZXQoJHRoaXMtPmFkZGl0aW9uYWxDbGVhbnVwUGF0aHNbJHBhY2thZ2UtPmdldE5hbWUoKV1bJGlkeF0pOwp9Cn0KfQoKCgoKcHVibGljIGZ1bmN0aW9uIHVwZGF0ZShQYWNrYWdlSW50ZXJmYWNlICRpbml0aWFsLCBQYWNrYWdlSW50ZXJmYWNlICR0YXJnZXQsICRwYXRoKQp7CiR0aGlzLT5pby0+d3JpdGVFcnJvcigiICAtICIgLiBVcGRhdGVPcGVyYXRpb246OmZvcm1hdCgkaW5pdGlhbCwgJHRhcmdldCkgLiAkdGhpcy0+Z2V0SW5zdGFsbE9wZXJhdGlvbkFwcGVuZGl4KCR0YXJnZXQsICRwYXRoKSk7CgokcHJvbWlzZSA9ICR0aGlzLT5yZW1vdmUoJGluaXRpYWwsICRwYXRoLCBmYWxzZSk7CmlmICghJHByb21pc2UgaW5zdGFuY2VvZiBQcm9taXNlSW50ZXJmYWNlKSB7CiRwcm9taXNlID0gXFJlYWN0XFByb21pc2VccmVzb2x2ZSgpOwp9CiRzZWxmID0gJHRoaXM7CiRpbyA9ICR0aGlzLT5pbzsKCnJldHVybiAkcHJvbWlzZS0+dGhlbihmdW5jdGlvbiAoKSB1c2UgKCRzZWxmLCAkdGFyZ2V0LCAkcGF0aCkgewokcHJvbWlzZSA9ICRzZWxmLT5pbnN0YWxsKCR0YXJnZXQsICRwYXRoLCBmYWxzZSk7CgpyZXR1cm4gJHByb21pc2U7Cn0pOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gcmVtb3ZlKFBhY2thZ2VJbnRlcmZhY2UgJHBhY2thZ2UsICRwYXRoLCAkb3V0cHV0ID0gdHJ1ZSkKewppZiAoJG91dHB1dCkgewokdGhpcy0+aW8tPndyaXRlRXJyb3IoIiAgLSAiIC4gVW5pbnN0YWxsT3BlcmF0aW9uOjpmb3JtYXQoJHBhY2thZ2UpKTsKfQokcHJvbWlzZSA9ICR0aGlzLT5maWxlc3lzdGVtLT5yZW1vdmVEaXJlY3RvcnlBc3luYygkcGF0aCk7CgpyZXR1cm4gJHByb21pc2UtPnRoZW4oZnVuY3Rpb24gKCRyZXN1bHQpIHVzZSAoJHBhdGgpIHsKaWYgKCEkcmVzdWx0KSB7CnRocm93IG5ldyBcUnVudGltZUV4Y2VwdGlvbignQ291bGQgbm90IGNvbXBsZXRlbHkgZGVsZXRlICcuJHBhdGguJywgYWJvcnRpbmcuJyk7Cn0KfSk7Cn0KCgoKCgoKCgpwcm90ZWN0ZWQgZnVuY3Rpb24gZ2V0RmlsZU5hbWUoUGFja2FnZUludGVyZmFjZSAkcGFja2FnZSwgJHBhdGgpCnsKcmV0dXJuIHJ0cmltKCR0aGlzLT5jb25maWctPmdldCgndmVuZG9yLWRpcicpLicvY29tcG9zZXIvdG1wLScubWQ1KCRwYWNrYWdlLnNwbF9vYmplY3RfaGFzaCgkcGFja2FnZSkpLicuJy5wYXRoaW5mbyhwYXJzZV91cmwoJHBhY2thZ2UtPmdldERpc3RVcmwoKSwgUEhQX1VSTF9QQVRIKSwgUEFUSElORk9fRVhURU5TSU9OKSwgJy4nKTsKfQoKCgoKCgoKCnByb3RlY3RlZCBmdW5jdGlvbiBnZXRJbnN0YWxsT3BlcmF0aW9uQXBwZW5kaXgoUGFja2FnZUludGVyZmFjZSAkcGFja2FnZSwgJHBhdGgpCnsKcmV0dXJuICcnOwp9CgoKCgoKCgoKCnByb3RlY3RlZCBmdW5jdGlvbiBwcm9jZXNzVXJsKFBhY2thZ2VJbnRlcmZhY2UgJHBhY2thZ2UsICR1cmwpCnsKaWYgKCFleHRlbnNpb25fbG9hZGVkKCdvcGVuc3NsJykgJiYgMCA9PT0gc3RycG9zKCR1cmwsICdodHRwczonKSkgewp0aHJvdyBuZXcgXFJ1bnRpbWVFeGNlcHRpb24oJ1lvdSBtdXN0IGVuYWJsZSB0aGUgb3BlbnNzbCBleHRlbnNpb24gdG8gZG93bmxvYWQgZmlsZXMgdmlhIGh0dHBzJyk7Cn0KCmlmICgkcGFja2FnZS0+Z2V0RGlzdFJlZmVyZW5jZSgpKSB7CiR1cmwgPSBVcmxVdGlsOjp1cGRhdGVEaXN0UmVmZXJlbmNlKCR0aGlzLT5jb25maWcsICR1cmwsICRwYWNrYWdlLT5nZXREaXN0UmVmZXJlbmNlKCkpOwp9CgpyZXR1cm4gJHVybDsKfQoKCgoKCnB1YmxpYyBmdW5jdGlvbiBnZXRMb2NhbENoYW5nZXMoUGFja2FnZUludGVyZmFjZSAkcGFja2FnZSwgJHRhcmdldERpcikKewokcHJldklPID0gJHRoaXMtPmlvOwoKJHRoaXMtPmlvID0gbmV3IE51bGxJTzsKJHRoaXMtPmlvLT5sb2FkQ29uZmlndXJhdGlvbigkdGhpcy0+Y29uZmlnKTsKJGUgPSBudWxsOwokb3V0cHV0ID0gJyc7CgokdGFyZ2V0RGlyID0gRmlsZXN5c3RlbTo6dHJpbVRyYWlsaW5nU2xhc2goJHRhcmdldERpcik7CnRyeSB7CmlmIChpc19kaXIoJHRhcmdldERpci4nX2NvbXBhcmUnKSkgewokdGhpcy0+ZmlsZXN5c3RlbS0+cmVtb3ZlRGlyZWN0b3J5KCR0YXJnZXREaXIuJ19jb21wYXJlJyk7Cn0KCiR0aGlzLT5kb3dubG9hZCgkcGFja2FnZSwgJHRhcmdldERpci4nX2NvbXBhcmUnLCBudWxsLCBmYWxzZSk7CiR0aGlzLT5odHRwRG93bmxvYWRlci0+d2FpdCgpOwokdGhpcy0+aW5zdGFsbCgkcGFja2FnZSwgJHRhcmdldERpci4nX2NvbXBhcmUnLCBmYWxzZSk7CiR0aGlzLT5wcm9jZXNzLT53YWl0KCk7CgokY29tcGFyZXIgPSBuZXcgQ29tcGFyZXIoKTsKJGNvbXBhcmVyLT5zZXRTb3VyY2UoJHRhcmdldERpci4nX2NvbXBhcmUnKTsKJGNvbXBhcmVyLT5zZXRVcGRhdGUoJHRhcmdldERpcik7CiRjb21wYXJlci0+ZG9Db21wYXJlKCk7CiRvdXRwdXQgPSAkY29tcGFyZXItPmdldENoYW5nZWQodHJ1ZSwgdHJ1ZSk7CiR0aGlzLT5maWxlc3lzdGVtLT5yZW1vdmVEaXJlY3RvcnkoJHRhcmdldERpci4nX2NvbXBhcmUnKTsKfSBjYXRjaCAoXEV4Y2VwdGlvbiAkZSkgewp9CgokdGhpcy0+aW8gPSAkcHJldklPOwoKaWYgKCRlKSB7CnRocm93ICRlOwp9CgpyZXR1cm4gdHJpbSgkb3V0cHV0KTsKfQp9Cjw/cGhwCgoKCgoKCgoKCgoKbmFtZXNwYWNlIENvbXBvc2VyXERvd25sb2FkZXI7CgoKCgoKCmNsYXNzIEZpbGVzeXN0ZW1FeGNlcHRpb24gZXh0ZW5kcyBcRXhjZXB0aW9uCnsKcHVibGljIGZ1bmN0aW9uIF9fY29uc3RydWN0KCRtZXNzYWdlID0gJycsICRjb2RlID0gMCwgXEV4Y2VwdGlvbiAkcHJldmlvdXMgPSBudWxsKQp7CnBhcmVudDo6X19jb25zdHJ1Y3QoIkZpbGVzeXN0ZW0gZXhjZXB0aW9uOiBcbiIuJG1lc3NhZ2UsICRjb2RlLCAkcHJldmlvdXMpOwp9Cn0KPD9waHAKCgoKCgoKCgoKCgpuYW1lc3BhY2UgQ29tcG9zZXJcRG93bmxvYWRlcjsKCnVzZSBDb21wb3NlclxQYWNrYWdlXFBhY2thZ2VJbnRlcmZhY2U7CnVzZSBDb21wb3NlclxVdGlsXFByb2Nlc3NFeGVjdXRvcjsKCgoKCmNsYXNzIEZvc3NpbERvd25sb2FkZXIgZXh0ZW5kcyBWY3NEb3dubG9hZGVyCnsKCgoKcHJvdGVjdGVkIGZ1bmN0aW9uIGRvRG93bmxvYWQoUGFja2FnZUludGVyZmFjZSAkcGFja2FnZSwgJHBhdGgsICR1cmwsIFBhY2thZ2VJbnRlcmZhY2UgJHByZXZQYWNrYWdlID0gbnVsbCkKewpyZXR1cm4gXFJlYWN0XFByb21pc2VccmVzb2x2ZSgpOwp9CgoKCgpwcm90ZWN0ZWQgZnVuY3Rpb24gZG9JbnN0YWxsKFBhY2thZ2VJbnRlcmZhY2UgJHBhY2thZ2UsICRwYXRoLCAkdXJsKQp7CgokdGhpcy0+Y29uZmlnLT5wcm9oaWJpdFVybEJ5Q29uZmlnKCR1cmwsICR0aGlzLT5pbyk7CgokdXJsID0gUHJvY2Vzc0V4ZWN1dG9yOjplc2NhcGUoJHVybCk7CiRyZWYgPSBQcm9jZXNzRXhlY3V0b3I6OmVzY2FwZSgkcGFja2FnZS0+Z2V0U291cmNlUmVmZXJlbmNlKCkpOwokcmVwb0ZpbGUgPSAkcGF0aCAuICcuZm9zc2lsJzsKJHRoaXMtPmlvLT53cml0ZUVycm9yKCJDbG9uaW5nICIuJHBhY2thZ2UtPmdldFNvdXJjZVJlZmVyZW5jZSgpKTsKJGNvbW1hbmQgPSBzcHJpbnRmKCdmb3NzaWwgY2xvbmUgLS0gJXMgJXMnLCAkdXJsLCBQcm9jZXNzRXhlY3V0b3I6OmVzY2FwZSgkcmVwb0ZpbGUpKTsKaWYgKDAgIT09ICR0aGlzLT5wcm9jZXNzLT5leGVjdXRlKCRjb21tYW5kLCAkaWdub3JlZE91dHB1dCkpIHsKdGhyb3cgbmV3IFxSdW50aW1lRXhjZXB0aW9uKCdGYWlsZWQgdG8gZXhlY3V0ZSAnIC4gJGNvbW1hbmQgLiAiXG5cbiIgLiAkdGhpcy0+cHJvY2Vzcy0+Z2V0RXJyb3JPdXRwdXQoKSk7Cn0KJGNvbW1hbmQgPSBzcHJpbnRmKCdmb3NzaWwgb3BlbiAtLW5lc3RlZCAtLSAlcycsIFByb2Nlc3NFeGVjdXRvcjo6ZXNjYXBlKCRyZXBvRmlsZSkpOwppZiAoMCAhPT0gJHRoaXMtPnByb2Nlc3MtPmV4ZWN1dGUoJGNvbW1hbmQsICRpZ25vcmVkT3V0cHV0LCByZWFscGF0aCgkcGF0aCkpKSB7CnRocm93IG5ldyBcUnVudGltZUV4Y2VwdGlvbignRmFpbGVkIHRvIGV4ZWN1dGUgJyAuICRjb21tYW5kIC4gIlxuXG4iIC4gJHRoaXMtPnByb2Nlc3MtPmdldEVycm9yT3V0cHV0KCkpOwp9CiRjb21tYW5kID0gc3ByaW50ZignZm9zc2lsIHVwZGF0ZSAtLSAlcycsICRyZWYpOwppZiAoMCAhPT0gJHRoaXMtPnByb2Nlc3MtPmV4ZWN1dGUoJGNvbW1hbmQsICRpZ25vcmVkT3V0cHV0LCByZWFscGF0aCgkcGF0aCkpKSB7CnRocm93IG5ldyBcUnVudGltZUV4Y2VwdGlvbignRmFpbGVkIHRvIGV4ZWN1dGUgJyAuICRjb21tYW5kIC4gIlxuXG4iIC4gJHRoaXMtPnByb2Nlc3MtPmdldEVycm9yT3V0cHV0KCkpOwp9CgpyZXR1cm4gXFJlYWN0XFByb21pc2VccmVzb2x2ZSgpOwp9CgoKCgpwcm90ZWN0ZWQgZnVuY3Rpb24gZG9VcGRhdGUoUGFja2FnZUludGVyZmFjZSAkaW5pdGlhbCwgUGFja2FnZUludGVyZmFjZSAkdGFyZ2V0LCAkcGF0aCwgJHVybCkKewoKJHRoaXMtPmNvbmZpZy0+cHJvaGliaXRVcmxCeUNvbmZpZygkdXJsLCAkdGhpcy0+aW8pOwoKJHJlZiA9IFByb2Nlc3NFeGVjdXRvcjo6ZXNjYXBlKCR0YXJnZXQtPmdldFNvdXJjZVJlZmVyZW5jZSgpKTsKJHRoaXMtPmlvLT53cml0ZUVycm9yKCIgVXBkYXRpbmcgdG8gIi4kdGFyZ2V0LT5nZXRTb3VyY2VSZWZlcmVuY2UoKSk7CgppZiAoISR0aGlzLT5oYXNNZXRhZGF0YVJlcG9zaXRvcnkoJHBhdGgpKSB7CnRocm93IG5ldyBcUnVudGltZUV4Y2VwdGlvbignVGhlIC5mc2xja291dCBmaWxlIGlzIG1pc3NpbmcgZnJvbSAnLiRwYXRoLicsIHNlZSBodHRwczovL2dldGNvbXBvc2VyLm9yZy9jb21taXQtZGVwcyBmb3IgbW9yZSBpbmZvcm1hdGlvbicpOwp9CgokY29tbWFuZCA9IHNwcmludGYoJ2Zvc3NpbCBwdWxsICYmIGZvc3NpbCB1cCAlcycsICRyZWYpOwppZiAoMCAhPT0gJHRoaXMtPnByb2Nlc3MtPmV4ZWN1dGUoJGNvbW1hbmQsICRpZ25vcmVkT3V0cHV0LCByZWFscGF0aCgkcGF0aCkpKSB7CnRocm93IG5ldyBcUnVudGltZUV4Y2VwdGlvbignRmFpbGVkIHRvIGV4ZWN1dGUgJyAuICRjb21tYW5kIC4gIlxuXG4iIC4gJHRoaXMtPnByb2Nlc3MtPmdldEVycm9yT3V0cHV0KCkpOwp9CgpyZXR1cm4gXFJlYWN0XFByb21pc2VccmVzb2x2ZSgpOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0TG9jYWxDaGFuZ2VzKFBhY2thZ2VJbnRlcmZhY2UgJHBhY2thZ2UsICRwYXRoKQp7CmlmICghJHRoaXMtPmhhc01ldGFkYXRhUmVwb3NpdG9yeSgkcGF0aCkpIHsKcmV0dXJuIG51bGw7Cn0KCiR0aGlzLT5wcm9jZXNzLT5leGVjdXRlKCdmb3NzaWwgY2hhbmdlcycsICRvdXRwdXQsIHJlYWxwYXRoKCRwYXRoKSk7CgpyZXR1cm4gdHJpbSgkb3V0cHV0KSA/OiBudWxsOwp9CgoKCgpwcm90ZWN0ZWQgZnVuY3Rpb24gZ2V0Q29tbWl0TG9ncygkZnJvbVJlZmVyZW5jZSwgJHRvUmVmZXJlbmNlLCAkcGF0aCkKewokY29tbWFuZCA9IHNwcmludGYoJ2Zvc3NpbCB0aW1lbGluZSAtdCBjaSAtVyAwIC1uIDAgYmVmb3JlICVzJywgUHJvY2Vzc0V4ZWN1dG9yOjplc2NhcGUoJHRvUmVmZXJlbmNlKSk7CgppZiAoMCAhPT0gJHRoaXMtPnByb2Nlc3MtPmV4ZWN1dGUoJGNvbW1hbmQsICRvdXRwdXQsIHJlYWxwYXRoKCRwYXRoKSkpIHsKdGhyb3cgbmV3IFxSdW50aW1lRXhjZXB0aW9uKCdGYWlsZWQgdG8gZXhlY3V0ZSAnIC4gJGNvbW1hbmQgLiAiXG5cbiIgLiAkdGhpcy0+cHJvY2Vzcy0+Z2V0RXJyb3JPdXRwdXQoKSk7Cn0KCiRsb2cgPSAnJzsKJG1hdGNoID0gJy9cZFxkOlxkXGQ6XGRcZFxzK1xbJyAuICR0b1JlZmVyZW5jZSAuICdcXS8nOwoKZm9yZWFjaCAoJHRoaXMtPnByb2Nlc3MtPnNwbGl0TGluZXMoJG91dHB1dCkgYXMgJGxpbmUpIHsKaWYgKHByZWdfbWF0Y2goJG1hdGNoLCAkbGluZSkpIHsKYnJlYWs7Cn0KJGxvZyAuPSAkbGluZTsKfQoKcmV0dXJuICRsb2c7Cn0KCgoKCnByb3RlY3RlZCBmdW5jdGlvbiBoYXNNZXRhZGF0YVJlcG9zaXRvcnkoJHBhdGgpCnsKcmV0dXJuIGlzX2ZpbGUoJHBhdGggLiAnLy5mc2xja291dCcpIHx8IGlzX2ZpbGUoJHBhdGggLiAnL19GT1NTSUxfJyk7Cn0KfQo8P3BocAoKCgoKCgoKCgoKCm5hbWVzcGFjZSBDb21wb3NlclxEb3dubG9hZGVyOwoKdXNlIENvbXBvc2VyXENvbmZpZzsKdXNlIENvbXBvc2VyXElPXElPSW50ZXJmYWNlOwp1c2UgQ29tcG9zZXJcUGFja2FnZVxQYWNrYWdlSW50ZXJmYWNlOwp1c2UgQ29tcG9zZXJcVXRpbFxGaWxlc3lzdGVtOwp1c2UgQ29tcG9zZXJcVXRpbFxHaXQgYXMgR2l0VXRpbDsKdXNlIENvbXBvc2VyXFV0aWxcVXJsOwp1c2UgQ29tcG9zZXJcVXRpbFxQbGF0Zm9ybTsKdXNlIENvbXBvc2VyXFV0aWxcUHJvY2Vzc0V4ZWN1dG9yOwp1c2UgQ29tcG9zZXJcQ2FjaGU7CgoKCgpjbGFzcyBHaXREb3dubG9hZGVyIGV4dGVuZHMgVmNzRG93bmxvYWRlciBpbXBsZW1lbnRzIER2Y3NEb3dubG9hZGVySW50ZXJmYWNlCnsKCgoKCnByaXZhdGUgJGhhc1N0YXNoZWRDaGFuZ2VzID0gYXJyYXkoKTsKCgoKCnByaXZhdGUgJGhhc0Rpc2NhcmRlZENoYW5nZXMgPSBhcnJheSgpOwoKCgpwcml2YXRlICRnaXRVdGlsOwoKCgoKcHJpdmF0ZSAkY2FjaGVkUGFja2FnZXMgPSBhcnJheSgpOwoKcHVibGljIGZ1bmN0aW9uIF9fY29uc3RydWN0KElPSW50ZXJmYWNlICRpbywgQ29uZmlnICRjb25maWcsIFByb2Nlc3NFeGVjdXRvciAkcHJvY2VzcyA9IG51bGwsIEZpbGVzeXN0ZW0gJGZzID0gbnVsbCkKewpwYXJlbnQ6Ol9fY29uc3RydWN0KCRpbywgJGNvbmZpZywgJHByb2Nlc3MsICRmcyk7CiR0aGlzLT5naXRVdGlsID0gbmV3IEdpdFV0aWwoJHRoaXMtPmlvLCAkdGhpcy0+Y29uZmlnLCAkdGhpcy0+cHJvY2VzcywgJHRoaXMtPmZpbGVzeXN0ZW0pOwp9CgoKCgpwcm90ZWN0ZWQgZnVuY3Rpb24gZG9Eb3dubG9hZChQYWNrYWdlSW50ZXJmYWNlICRwYWNrYWdlLCAkcGF0aCwgJHVybCwgUGFja2FnZUludGVyZmFjZSAkcHJldlBhY2thZ2UgPSBudWxsKQp7CkdpdFV0aWw6OmNsZWFuRW52KCk7CgokY2FjaGVQYXRoID0gJHRoaXMtPmNvbmZpZy0+Z2V0KCdjYWNoZS12Y3MtZGlyJykuJy8nLnByZWdfcmVwbGFjZSgne1teYS16MC05Ll19aScsICctJywgJHVybCkuJy8nOwokZ2l0VmVyc2lvbiA9IEdpdFV0aWw6OmdldFZlcnNpb24oJHRoaXMtPnByb2Nlc3MpOwoKCmlmICgkZ2l0VmVyc2lvbiAmJiB2ZXJzaW9uX2NvbXBhcmUoJGdpdFZlcnNpb24sICcyLjMuMC1yYzAnLCAnPj0nKSAmJiBDYWNoZTo6aXNVc2FibGUoJGNhY2hlUGF0aCkpIHsKJHRoaXMtPmlvLT53cml0ZUVycm9yKCIgIC0gU3luY2luZyA8aW5mbz4iIC4gJHBhY2thZ2UtPmdldE5hbWUoKSAuICI8L2luZm8+ICg8Y29tbWVudD4iIC4gJHBhY2thZ2UtPmdldEZ1bGxQcmV0dHlWZXJzaW9uKCkgLiAiPC9jb21tZW50PikgaW50byBjYWNoZSIpOwokdGhpcy0+aW8tPndyaXRlRXJyb3Ioc3ByaW50ZignICAgIENsb25pbmcgdG8gY2FjaGUgYXQgJXMnLCBQcm9jZXNzRXhlY3V0b3I6OmVzY2FwZSgkY2FjaGVQYXRoKSksIHRydWUsIElPSW50ZXJmYWNlOjpERUJVRyk7CiRyZWYgPSAkcGFja2FnZS0+Z2V0U291cmNlUmVmZXJlbmNlKCk7CmlmICgkdGhpcy0+Z2l0VXRpbC0+ZmV0Y2hSZWZPclN5bmNNaXJyb3IoJHVybCwgJGNhY2hlUGF0aCwgJHJlZikgJiYgaXNfZGlyKCRjYWNoZVBhdGgpKSB7CiR0aGlzLT5jYWNoZWRQYWNrYWdlc1skcGFja2FnZS0+Z2V0SWQoKV1bJHJlZl0gPSB0cnVlOwp9Cn0gZWxzZWlmIChudWxsID09PSAkZ2l0VmVyc2lvbikgewp0aHJvdyBuZXcgXFJ1bnRpbWVFeGNlcHRpb24oJ2dpdCB3YXMgbm90IGZvdW5kIGluIHlvdXIgUEFUSCwgc2tpcHBpbmcgc291cmNlIGRvd25sb2FkJyk7Cn0KCnJldHVybiBcUmVhY3RcUHJvbWlzZVxyZXNvbHZlKCk7Cn0KCgoKCnByb3RlY3RlZCBmdW5jdGlvbiBkb0luc3RhbGwoUGFja2FnZUludGVyZmFjZSAkcGFja2FnZSwgJHBhdGgsICR1cmwpCnsKR2l0VXRpbDo6Y2xlYW5FbnYoKTsKJHBhdGggPSAkdGhpcy0+bm9ybWFsaXplUGF0aCgkcGF0aCk7CiRjYWNoZVBhdGggPSAkdGhpcy0+Y29uZmlnLT5nZXQoJ2NhY2hlLXZjcy1kaXInKS4nLycucHJlZ19yZXBsYWNlKCd7W15hLXowLTkuXX1pJywgJy0nLCAkdXJsKS4nLyc7CiRyZWYgPSAkcGFja2FnZS0+Z2V0U291cmNlUmVmZXJlbmNlKCk7CiRmbGFnID0gUGxhdGZvcm06OmlzV2luZG93cygpID8gJy9EICcgOiAnJzsKCmlmICghZW1wdHkoJHRoaXMtPmNhY2hlZFBhY2thZ2VzWyRwYWNrYWdlLT5nZXRJZCgpXVskcmVmXSkpIHsKJG1zZyA9ICJDbG9uaW5nICIuJHRoaXMtPmdldFNob3J0SGFzaCgkcmVmKS4nIGZyb20gY2FjaGUnOwokY29tbWFuZCA9CidnaXQgY2xvbmUgLS1uby1jaGVja291dCAlY2FjaGVQYXRoJSAlcGF0aCUgLS1kaXNzb2NpYXRlIC0tcmVmZXJlbmNlICVjYWNoZVBhdGglICcKLiAnJiYgY2QgJy4kZmxhZy4nJXBhdGglICcKLiAnJiYgZ2l0IHJlbW90ZSBzZXQtdXJsIG9yaWdpbiAtLSAlc2FuaXRpemVkVXJsJSAmJiBnaXQgcmVtb3RlIGFkZCBjb21wb3NlciAtLSAlc2FuaXRpemVkVXJsJSc7Cn0gZWxzZSB7CiRtc2cgPSAiQ2xvbmluZyAiLiR0aGlzLT5nZXRTaG9ydEhhc2goJHJlZik7CiRjb21tYW5kID0gJ2dpdCBjbG9uZSAtLW5vLWNoZWNrb3V0IC0tICV1cmwlICVwYXRoJSAmJiBjZCAnLiRmbGFnLiclcGF0aCUgJiYgZ2l0IHJlbW90ZSBhZGQgY29tcG9zZXIgLS0gJXVybCUgJiYgZ2l0IGZldGNoIGNvbXBvc2VyICYmIGdpdCByZW1vdGUgc2V0LXVybCBvcmlnaW4gLS0gJXNhbml0aXplZFVybCUgJiYgZ2l0IHJlbW90ZSBzZXQtdXJsIGNvbXBvc2VyIC0tICVzYW5pdGl6ZWRVcmwlJzsKaWYgKGdldGVudignQ09NUE9TRVJfRElTQUJMRV9ORVRXT1JLJykpIHsKdGhyb3cgbmV3IFxSdW50aW1lRXhjZXB0aW9uKCdUaGUgcmVxdWlyZWQgZ2l0IHJlZmVyZW5jZSBmb3IgJy4kcGFja2FnZS0+Z2V0TmFtZSgpLicgaXMgbm90IGluIGNhY2hlIGFuZCBuZXR3b3JrIGlzIGRpc2FibGVkLCBhYm9ydGluZycpOwp9Cn0KCiR0aGlzLT5pby0+d3JpdGVFcnJvcigkbXNnKTsKCiRjb21tYW5kQ2FsbGFibGUgPSBmdW5jdGlvbiAoJHVybCkgdXNlICgkcGF0aCwgJGNvbW1hbmQsICRjYWNoZVBhdGgpIHsKcmV0dXJuIHN0cl9yZXBsYWNlKAphcnJheSgnJXVybCUnLCAnJXBhdGglJywgJyVjYWNoZVBhdGglJywgJyVzYW5pdGl6ZWRVcmwlJyksCmFycmF5KApQcm9jZXNzRXhlY3V0b3I6OmVzY2FwZSgkdXJsKSwKUHJvY2Vzc0V4ZWN1dG9yOjplc2NhcGUoJHBhdGgpLApQcm9jZXNzRXhlY3V0b3I6OmVzY2FwZSgkY2FjaGVQYXRoKSwKUHJvY2Vzc0V4ZWN1dG9yOjplc2NhcGUocHJlZ19yZXBsYWNlKCd7Oi8vKFteQF0rPyk6KC4rPylAfScsICc6Ly8nLCAkdXJsKSksCiksCiRjb21tYW5kCik7Cn07CgokdGhpcy0+Z2l0VXRpbC0+cnVuQ29tbWFuZCgkY29tbWFuZENhbGxhYmxlLCAkdXJsLCAkcGF0aCwgdHJ1ZSk7CmlmICgkdXJsICE9PSAkcGFja2FnZS0+Z2V0U291cmNlVXJsKCkpIHsKJHRoaXMtPnVwZGF0ZU9yaWdpblVybCgkcGF0aCwgJHBhY2thZ2UtPmdldFNvdXJjZVVybCgpKTsKfSBlbHNlIHsKJHRoaXMtPnNldFB1c2hVcmwoJHBhdGgsICR1cmwpOwp9CgppZiAoJG5ld1JlZiA9ICR0aGlzLT51cGRhdGVUb0NvbW1pdCgkcGF0aCwgJHJlZiwgJHBhY2thZ2UtPmdldFByZXR0eVZlcnNpb24oKSwgJHBhY2thZ2UtPmdldFJlbGVhc2VEYXRlKCkpKSB7CmlmICgkcGFja2FnZS0+Z2V0RGlzdFJlZmVyZW5jZSgpID09PSAkcGFja2FnZS0+Z2V0U291cmNlUmVmZXJlbmNlKCkpIHsKJHBhY2thZ2UtPnNldERpc3RSZWZlcmVuY2UoJG5ld1JlZik7Cn0KJHBhY2thZ2UtPnNldFNvdXJjZVJlZmVyZW5jZSgkbmV3UmVmKTsKfQoKcmV0dXJuIFxSZWFjdFxQcm9taXNlXHJlc29sdmUoKTsKfQoKCgoKcHJvdGVjdGVkIGZ1bmN0aW9uIGRvVXBkYXRlKFBhY2thZ2VJbnRlcmZhY2UgJGluaXRpYWwsIFBhY2thZ2VJbnRlcmZhY2UgJHRhcmdldCwgJHBhdGgsICR1cmwpCnsKR2l0VXRpbDo6Y2xlYW5FbnYoKTsKJHBhdGggPSAkdGhpcy0+bm9ybWFsaXplUGF0aCgkcGF0aCk7CmlmICghJHRoaXMtPmhhc01ldGFkYXRhUmVwb3NpdG9yeSgkcGF0aCkpIHsKdGhyb3cgbmV3IFxSdW50aW1lRXhjZXB0aW9uKCdUaGUgLmdpdCBkaXJlY3RvcnkgaXMgbWlzc2luZyBmcm9tICcuJHBhdGguJywgc2VlIGh0dHBzOi8vZ2V0Y29tcG9zZXIub3JnL2NvbW1pdC1kZXBzIGZvciBtb3JlIGluZm9ybWF0aW9uJyk7Cn0KCiRjYWNoZVBhdGggPSAkdGhpcy0+Y29uZmlnLT5nZXQoJ2NhY2hlLXZjcy1kaXInKS4nLycucHJlZ19yZXBsYWNlKCd7W15hLXowLTkuXX1pJywgJy0nLCAkdXJsKS4nLyc7CiRyZWYgPSAkdGFyZ2V0LT5nZXRTb3VyY2VSZWZlcmVuY2UoKTsKCmlmICghZW1wdHkoJHRoaXMtPmNhY2hlZFBhY2thZ2VzWyR0YXJnZXQtPmdldElkKCldWyRyZWZdKSkgewokbXNnID0gIkNoZWNraW5nIG91dCAiLiR0aGlzLT5nZXRTaG9ydEhhc2goJHJlZikuJyBmcm9tIGNhY2hlJzsKJGNvbW1hbmQgPSAnKGdpdCByZXYtcGFyc2UgLS1xdWlldCAtLXZlcmlmeSAlcmVmJSB8fCAoZ2l0IHJlbW90ZSBzZXQtdXJsIGNvbXBvc2VyIC0tICVjYWNoZVBhdGglICYmIGdpdCBmZXRjaCBjb21wb3NlciAmJiBnaXQgZmV0Y2ggLS10YWdzIGNvbXBvc2VyKSkgJiYgZ2l0IHJlbW90ZSBzZXQtdXJsIGNvbXBvc2VyIC0tICVzYW5pdGl6ZWRVcmwlJzsKfSBlbHNlIHsKJG1zZyA9ICJDaGVja2luZyBvdXQgIi4kdGhpcy0+Z2V0U2hvcnRIYXNoKCRyZWYpOwokY29tbWFuZCA9ICcoZ2l0IHJlbW90ZSBzZXQtdXJsIGNvbXBvc2VyIC0tICV1cmwlICYmIGdpdCByZXYtcGFyc2UgLS1xdWlldCAtLXZlcmlmeSAlcmVmJSB8fCAoZ2l0IGZldGNoIGNvbXBvc2VyICYmIGdpdCBmZXRjaCAtLXRhZ3MgY29tcG9zZXIpKSAmJiBnaXQgcmVtb3RlIHNldC11cmwgY29tcG9zZXIgLS0gJXNhbml0aXplZFVybCUnOwppZiAoZ2V0ZW52KCdDT01QT1NFUl9ESVNBQkxFX05FVFdPUksnKSkgewp0aHJvdyBuZXcgXFJ1bnRpbWVFeGNlcHRpb24oJ1RoZSByZXF1aXJlZCBnaXQgcmVmZXJlbmNlIGZvciAnLiR0YXJnZXQtPmdldE5hbWUoKS4nIGlzIG5vdCBpbiBjYWNoZSBhbmQgbmV0d29yayBpcyBkaXNhYmxlZCwgYWJvcnRpbmcnKTsKfQp9CgokdGhpcy0+aW8tPndyaXRlRXJyb3IoJG1zZyk7CgokY29tbWFuZENhbGxhYmxlID0gZnVuY3Rpb24gKCR1cmwpIHVzZSAoJHJlZiwgJGNvbW1hbmQsICRjYWNoZVBhdGgpIHsKcmV0dXJuIHN0cl9yZXBsYWNlKAphcnJheSgnJXVybCUnLCAnJXJlZiUnLCAnJWNhY2hlUGF0aCUnLCAnJXNhbml0aXplZFVybCUnKSwKYXJyYXkoClByb2Nlc3NFeGVjdXRvcjo6ZXNjYXBlKCR1cmwpLApQcm9jZXNzRXhlY3V0b3I6OmVzY2FwZSgkcmVmLidee2NvbW1pdH0nKSwKUHJvY2Vzc0V4ZWN1dG9yOjplc2NhcGUoJGNhY2hlUGF0aCksClByb2Nlc3NFeGVjdXRvcjo6ZXNjYXBlKHByZWdfcmVwbGFjZSgnezovLyhbXkBdKz8pOiguKz8pQH0nLCAnOi8vJywgJHVybCkpLAopLAokY29tbWFuZAopOwp9OwoKJHRoaXMtPmdpdFV0aWwtPnJ1bkNvbW1hbmQoJGNvbW1hbmRDYWxsYWJsZSwgJHVybCwgJHBhdGgpOwppZiAoJG5ld1JlZiA9ICR0aGlzLT51cGRhdGVUb0NvbW1pdCgkcGF0aCwgJHJlZiwgJHRhcmdldC0+Z2V0UHJldHR5VmVyc2lvbigpLCAkdGFyZ2V0LT5nZXRSZWxlYXNlRGF0ZSgpKSkgewppZiAoJHRhcmdldC0+Z2V0RGlzdFJlZmVyZW5jZSgpID09PSAkdGFyZ2V0LT5nZXRTb3VyY2VSZWZlcmVuY2UoKSkgewokdGFyZ2V0LT5zZXREaXN0UmVmZXJlbmNlKCRuZXdSZWYpOwp9CiR0YXJnZXQtPnNldFNvdXJjZVJlZmVyZW5jZSgkbmV3UmVmKTsKfQoKJHVwZGF0ZU9yaWdpblVybCA9IGZhbHNlOwppZiAoCjAgPT09ICR0aGlzLT5wcm9jZXNzLT5leGVjdXRlKCdnaXQgcmVtb3RlIC12JywgJG91dHB1dCwgJHBhdGgpCiYmIHByZWdfbWF0Y2goJ3teb3JpZ2luXHMrKD9QPHVybD5cUyspfW0nLCAkb3V0cHV0LCAkb3JpZ2luTWF0Y2gpCiYmIHByZWdfbWF0Y2goJ3teY29tcG9zZXJccysoP1A8dXJsPlxTKyl9bScsICRvdXRwdXQsICRjb21wb3Nlck1hdGNoKQopIHsKaWYgKCRvcmlnaW5NYXRjaFsndXJsJ10gPT09ICRjb21wb3Nlck1hdGNoWyd1cmwnXSAmJiAkY29tcG9zZXJNYXRjaFsndXJsJ10gIT09ICR0YXJnZXQtPmdldFNvdXJjZVVybCgpKSB7CiR1cGRhdGVPcmlnaW5VcmwgPSB0cnVlOwp9Cn0KaWYgKCR1cGRhdGVPcmlnaW5VcmwpIHsKJHRoaXMtPnVwZGF0ZU9yaWdpblVybCgkcGF0aCwgJHRhcmdldC0+Z2V0U291cmNlVXJsKCkpOwp9CgpyZXR1cm4gXFJlYWN0XFByb21pc2VccmVzb2x2ZSgpOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0TG9jYWxDaGFuZ2VzKFBhY2thZ2VJbnRlcmZhY2UgJHBhY2thZ2UsICRwYXRoKQp7CkdpdFV0aWw6OmNsZWFuRW52KCk7CmlmICghJHRoaXMtPmhhc01ldGFkYXRhUmVwb3NpdG9yeSgkcGF0aCkpIHsKcmV0dXJuIG51bGw7Cn0KCiRjb21tYW5kID0gJ2dpdCBzdGF0dXMgLS1wb3JjZWxhaW4gLS11bnRyYWNrZWQtZmlsZXM9bm8nOwppZiAoMCAhPT0gJHRoaXMtPnByb2Nlc3MtPmV4ZWN1dGUoJGNvbW1hbmQsICRvdXRwdXQsICRwYXRoKSkgewp0aHJvdyBuZXcgXFJ1bnRpbWVFeGNlcHRpb24oJ0ZhaWxlZCB0byBleGVjdXRlICcgLiAkY29tbWFuZCAuICJcblxuIiAuICR0aGlzLT5wcm9jZXNzLT5nZXRFcnJvck91dHB1dCgpKTsKfQoKcmV0dXJuIHRyaW0oJG91dHB1dCkgPzogbnVsbDsKfQoKcHVibGljIGZ1bmN0aW9uIGdldFVucHVzaGVkQ2hhbmdlcyhQYWNrYWdlSW50ZXJmYWNlICRwYWNrYWdlLCAkcGF0aCkKewpHaXRVdGlsOjpjbGVhbkVudigpOwokcGF0aCA9ICR0aGlzLT5ub3JtYWxpemVQYXRoKCRwYXRoKTsKaWYgKCEkdGhpcy0+aGFzTWV0YWRhdGFSZXBvc2l0b3J5KCRwYXRoKSkgewpyZXR1cm4gbnVsbDsKfQoKJGNvbW1hbmQgPSAnZ2l0IHNob3ctcmVmIC0taGVhZCAtZCc7CmlmICgwICE9PSAkdGhpcy0+cHJvY2Vzcy0+ZXhlY3V0ZSgkY29tbWFuZCwgJG91dHB1dCwgJHBhdGgpKSB7CnRocm93IG5ldyBcUnVudGltZUV4Y2VwdGlvbignRmFpbGVkIHRvIGV4ZWN1dGUgJyAuICRjb21tYW5kIC4gIlxuXG4iIC4gJHRoaXMtPnByb2Nlc3MtPmdldEVycm9yT3V0cHV0KCkpOwp9CgokcmVmcyA9IHRyaW0oJG91dHB1dCk7CmlmICghcHJlZ19tYXRjaCgne14oW2EtZjAtOV0rKSBIRUFEJH1taScsICRyZWZzLCAkbWF0Y2gpKSB7CgpyZXR1cm4gbnVsbDsKfQoKJGhlYWRSZWYgPSAkbWF0Y2hbMV07CmlmICghcHJlZ19tYXRjaF9hbGwoJ3teJy4kaGVhZFJlZi4nIHJlZnMvaGVhZHMvKC4rKSR9bWknLCAkcmVmcywgJG1hdGNoZXMpKSB7CgpyZXR1cm4gbnVsbDsKfQoKJGNhbmRpZGF0ZUJyYW5jaGVzID0gJG1hdGNoZXNbMV07CgokYnJhbmNoID0gJGNhbmRpZGF0ZUJyYW5jaGVzWzBdOwokdW5wdXNoZWRDaGFuZ2VzID0gbnVsbDsKJGJyYW5jaE5vdEZvdW5kRXJyb3IgPSBmYWxzZTsKCgpmb3IgKCRpID0gMDsgJGkgPD0gMTsgJGkrKykgewokcmVtb3RlQnJhbmNoZXMgPSBhcnJheSgpOwoKCmZvcmVhY2ggKCRjYW5kaWRhdGVCcmFuY2hlcyBhcyAkY2FuZGlkYXRlKSB7CmlmIChwcmVnX21hdGNoX2FsbCgne15bYS1mMC05XSsgcmVmcy9yZW1vdGVzLygoPzpbXi9dKykvJy5wcmVnX3F1b3RlKCRjYW5kaWRhdGUpLicpJH1taScsICRyZWZzLCAkbWF0Y2hlcykpIHsKZm9yZWFjaCAoJG1hdGNoZXNbMV0gYXMgJG1hdGNoKSB7CiRicmFuY2ggPSAkY2FuZGlkYXRlOwokcmVtb3RlQnJhbmNoZXNbXSA9ICRtYXRjaDsKfQpicmVhazsKfQp9CgoKCgppZiAoISRyZW1vdGVCcmFuY2hlcykgewokdW5wdXNoZWRDaGFuZ2VzID0gJ0JyYW5jaCAnIC4gJGJyYW5jaCAuICcgY291bGQgbm90IGJlIGZvdW5kIG9uIGFueSByZW1vdGUgYW5kIGFwcGVhcnMgdG8gYmUgdW5wdXNoZWQnOwokYnJhbmNoTm90Rm91bmRFcnJvciA9IHRydWU7Cn0gZWxzZSB7CgoKaWYgKCRicmFuY2hOb3RGb3VuZEVycm9yKSB7CiR1bnB1c2hlZENoYW5nZXMgPSBudWxsOwp9CmZvcmVhY2ggKCRyZW1vdGVCcmFuY2hlcyBhcyAkcmVtb3RlQnJhbmNoKSB7CiRjb21tYW5kID0gc3ByaW50ZignZ2l0IGRpZmYgLS1uYW1lLXN0YXR1cyAlcy4uLiVzIC0tJywgJHJlbW90ZUJyYW5jaCwgJGJyYW5jaCk7CmlmICgwICE9PSAkdGhpcy0+cHJvY2Vzcy0+ZXhlY3V0ZSgkY29tbWFuZCwgJG91dHB1dCwgJHBhdGgpKSB7CnRocm93IG5ldyBcUnVudGltZUV4Y2VwdGlvbignRmFpbGVkIHRvIGV4ZWN1dGUgJyAuICRjb21tYW5kIC4gIlxuXG4iIC4gJHRoaXMtPnByb2Nlc3MtPmdldEVycm9yT3V0cHV0KCkpOwp9Cgokb3V0cHV0ID0gdHJpbSgkb3V0cHV0KTsKCmlmICgkdW5wdXNoZWRDaGFuZ2VzID09PSBudWxsIHx8IHN0cmxlbigkb3V0cHV0KSA8IHN0cmxlbigkdW5wdXNoZWRDaGFuZ2VzKSkgewokdW5wdXNoZWRDaGFuZ2VzID0gJG91dHB1dDsKfQp9Cn0KCgoKaWYgKCR1bnB1c2hlZENoYW5nZXMgJiYgJGkgPT09IDApIHsKJHRoaXMtPnByb2Nlc3MtPmV4ZWN1dGUoJ2dpdCBmZXRjaCAtLWFsbCcsICRvdXRwdXQsICRwYXRoKTsKCgokY29tbWFuZCA9ICdnaXQgc2hvdy1yZWYgLS1oZWFkIC1kJzsKaWYgKDAgIT09ICR0aGlzLT5wcm9jZXNzLT5leGVjdXRlKCRjb21tYW5kLCAkb3V0cHV0LCAkcGF0aCkpIHsKdGhyb3cgbmV3IFxSdW50aW1lRXhjZXB0aW9uKCdGYWlsZWQgdG8gZXhlY3V0ZSAnIC4gJGNvbW1hbmQgLiAiXG5cbiIgLiAkdGhpcy0+cHJvY2Vzcy0+Z2V0RXJyb3JPdXRwdXQoKSk7Cn0KJHJlZnMgPSB0cmltKCRvdXRwdXQpOwp9CgoKaWYgKCEkdW5wdXNoZWRDaGFuZ2VzKSB7CmJyZWFrOwp9Cn0KCnJldHVybiAkdW5wdXNoZWRDaGFuZ2VzOwp9CgoKCgpwcm90ZWN0ZWQgZnVuY3Rpb24gY2xlYW5DaGFuZ2VzKFBhY2thZ2VJbnRlcmZhY2UgJHBhY2thZ2UsICRwYXRoLCAkdXBkYXRlKQp7CkdpdFV0aWw6OmNsZWFuRW52KCk7CiRwYXRoID0gJHRoaXMtPm5vcm1hbGl6ZVBhdGgoJHBhdGgpOwoKJHVucHVzaGVkID0gJHRoaXMtPmdldFVucHVzaGVkQ2hhbmdlcygkcGFja2FnZSwgJHBhdGgpOwppZiAoJHVucHVzaGVkICYmICgkdGhpcy0+aW8tPmlzSW50ZXJhY3RpdmUoKSB8fCAkdGhpcy0+Y29uZmlnLT5nZXQoJ2Rpc2NhcmQtY2hhbmdlcycpICE9PSB0cnVlKSkgewp0aHJvdyBuZXcgXFJ1bnRpbWVFeGNlcHRpb24oJ1NvdXJjZSBkaXJlY3RvcnkgJyAuICRwYXRoIC4gJyBoYXMgdW5wdXNoZWQgY2hhbmdlcyBvbiB0aGUgY3VycmVudCBicmFuY2g6ICcuIlxuIi4kdW5wdXNoZWQpOwp9CgppZiAoISRjaGFuZ2VzID0gJHRoaXMtPmdldExvY2FsQ2hhbmdlcygkcGFja2FnZSwgJHBhdGgpKSB7CnJldHVybjsKfQoKaWYgKCEkdGhpcy0+aW8tPmlzSW50ZXJhY3RpdmUoKSkgewokZGlzY2FyZENoYW5nZXMgPSAkdGhpcy0+Y29uZmlnLT5nZXQoJ2Rpc2NhcmQtY2hhbmdlcycpOwppZiAodHJ1ZSA9PT0gJGRpc2NhcmRDaGFuZ2VzKSB7CnJldHVybiAkdGhpcy0+ZGlzY2FyZENoYW5nZXMoJHBhdGgpOwp9CmlmICgnc3Rhc2gnID09PSAkZGlzY2FyZENoYW5nZXMpIHsKaWYgKCEkdXBkYXRlKSB7CnJldHVybiBwYXJlbnQ6OmNsZWFuQ2hhbmdlcygkcGFja2FnZSwgJHBhdGgsICR1cGRhdGUpOwp9CgpyZXR1cm4gJHRoaXMtPnN0YXNoQ2hhbmdlcygkcGF0aCk7Cn0KCnJldHVybiBwYXJlbnQ6OmNsZWFuQ2hhbmdlcygkcGFja2FnZSwgJHBhdGgsICR1cGRhdGUpOwp9CgokY2hhbmdlcyA9IGFycmF5X21hcChmdW5jdGlvbiAoJGVsZW0pIHsKcmV0dXJuICcgICAgJy4kZWxlbTsKfSwgcHJlZ19zcGxpdCgne1xzKlxyP1xuXHMqfScsICRjaGFuZ2VzKSk7CiR0aGlzLT5pby0+d3JpdGVFcnJvcignICAgIDxlcnJvcj4nLiRwYWNrYWdlLT5nZXRQcmV0dHlOYW1lKCkuJyBoYXMgbW9kaWZpZWQgZmlsZXM6PC9lcnJvcj4nKTsKJHRoaXMtPmlvLT53cml0ZUVycm9yKGFycmF5X3NsaWNlKCRjaGFuZ2VzLCAwLCAxMCkpOwppZiAoY291bnQoJGNoYW5nZXMpID4gMTApIHsKJHRoaXMtPmlvLT53cml0ZUVycm9yKCcgICAgPGluZm8+JyAuIChjb3VudCgkY2hhbmdlcykgLSAxMCkgLiAnIG1vcmUgZmlsZXMgbW9kaWZpZWQsIGNob29zZSAidiIgdG8gdmlldyB0aGUgZnVsbCBsaXN0PC9pbmZvPicpOwp9Cgp3aGlsZSAodHJ1ZSkgewpzd2l0Y2ggKCR0aGlzLT5pby0+YXNrKCcgICAgPGluZm8+RGlzY2FyZCBjaGFuZ2VzIFt5LG4sdixkLCcuKCR1cGRhdGUgPyAncywnIDogJycpLic/XT88L2luZm8+ICcsICc/JykpIHsKY2FzZSAneSc6CiR0aGlzLT5kaXNjYXJkQ2hhbmdlcygkcGF0aCk7CmJyZWFrIDI7CgpjYXNlICdzJzoKaWYgKCEkdXBkYXRlKSB7CmdvdG8gaGVscDsKfQoKJHRoaXMtPnN0YXNoQ2hhbmdlcygkcGF0aCk7CmJyZWFrIDI7CgpjYXNlICduJzoKdGhyb3cgbmV3IFxSdW50aW1lRXhjZXB0aW9uKCdVcGRhdGUgYWJvcnRlZCcpOwoKY2FzZSAndic6CiR0aGlzLT5pby0+d3JpdGVFcnJvcigkY2hhbmdlcyk7CmJyZWFrOwoKY2FzZSAnZCc6CiR0aGlzLT52aWV3RGlmZigkcGF0aCk7CmJyZWFrOwoKY2FzZSAnPyc6CmRlZmF1bHQ6CmhlbHAgOgokdGhpcy0+aW8tPndyaXRlRXJyb3IoYXJyYXkoCicgICAgeSAtIGRpc2NhcmQgY2hhbmdlcyBhbmQgYXBwbHkgdGhlICcuKCR1cGRhdGUgPyAndXBkYXRlJyA6ICd1bmluc3RhbGwnKSwKJyAgICBuIC0gYWJvcnQgdGhlICcuKCR1cGRhdGUgPyAndXBkYXRlJyA6ICd1bmluc3RhbGwnKS4nIGFuZCBsZXQgeW91IG1hbnVhbGx5IGNsZWFuIHRoaW5ncyB1cCcsCicgICAgdiAtIHZpZXcgbW9kaWZpZWQgZmlsZXMnLAonICAgIGQgLSB2aWV3IGxvY2FsIG1vZGlmaWNhdGlvbnMgKGRpZmYpJywKKSk7CmlmICgkdXBkYXRlKSB7CiR0aGlzLT5pby0+d3JpdGVFcnJvcignICAgIHMgLSBzdGFzaCBjaGFuZ2VzIGFuZCB0cnkgdG8gcmVhcHBseSB0aGVtIGFmdGVyIHRoZSB1cGRhdGUnKTsKfQokdGhpcy0+aW8tPndyaXRlRXJyb3IoJyAgICA/IC0gcHJpbnQgaGVscCcpOwpicmVhazsKfQp9Cn0KCgoKCnByb3RlY3RlZCBmdW5jdGlvbiByZWFwcGx5Q2hhbmdlcygkcGF0aCkKewokcGF0aCA9ICR0aGlzLT5ub3JtYWxpemVQYXRoKCRwYXRoKTsKaWYgKCFlbXB0eSgkdGhpcy0+aGFzU3Rhc2hlZENoYW5nZXNbJHBhdGhdKSkgewp1bnNldCgkdGhpcy0+aGFzU3Rhc2hlZENoYW5nZXNbJHBhdGhdKTsKJHRoaXMtPmlvLT53cml0ZUVycm9yKCcgICAgPGluZm8+UmUtYXBwbHlpbmcgc3Rhc2hlZCBjaGFuZ2VzPC9pbmZvPicpOwppZiAoMCAhPT0gJHRoaXMtPnByb2Nlc3MtPmV4ZWN1dGUoJ2dpdCBzdGFzaCBwb3AnLCAkb3V0cHV0LCAkcGF0aCkpIHsKdGhyb3cgbmV3IFxSdW50aW1lRXhjZXB0aW9uKCJGYWlsZWQgdG8gYXBwbHkgc3Rhc2hlZCBjaGFuZ2VzOlxuXG4iLiR0aGlzLT5wcm9jZXNzLT5nZXRFcnJvck91dHB1dCgpKTsKfQp9Cgp1bnNldCgkdGhpcy0+aGFzRGlzY2FyZGVkQ2hhbmdlc1skcGF0aF0pOwp9CgoKCgoKCgoKCgoKcHJvdGVjdGVkIGZ1bmN0aW9uIHVwZGF0ZVRvQ29tbWl0KCRwYXRoLCAkcmVmZXJlbmNlLCAkYnJhbmNoLCAkZGF0ZSkKewokZm9yY2UgPSAhZW1wdHkoJHRoaXMtPmhhc0Rpc2NhcmRlZENoYW5nZXNbJHBhdGhdKSB8fCAhZW1wdHkoJHRoaXMtPmhhc1N0YXNoZWRDaGFuZ2VzWyRwYXRoXSkgPyAnLWYgJyA6ICcnOwoKCgoKCgokdGVtcGxhdGUgPSAnZ2l0IGNoZWNrb3V0ICcuJGZvcmNlLiclcyAtLSAmJiBnaXQgcmVzZXQgLS1oYXJkICUxJHMgLS0nOwokYnJhbmNoID0gcHJlZ19yZXBsYWNlKCd7KD86XmRldi18KD86XC54KT8tZGV2JCl9aScsICcnLCAkYnJhbmNoKTsKCiRicmFuY2hlcyA9IG51bGw7CmlmICgwID09PSAkdGhpcy0+cHJvY2Vzcy0+ZXhlY3V0ZSgnZ2l0IGJyYW5jaCAtcicsICRvdXRwdXQsICRwYXRoKSkgewokYnJhbmNoZXMgPSAkb3V0cHV0Owp9CgoKJGdpdFJlZiA9ICRyZWZlcmVuY2U7CmlmICghcHJlZ19tYXRjaCgne15bYS1mMC05XXs0MH0kfScsICRyZWZlcmVuY2UpCiYmICRicmFuY2hlcwomJiBwcmVnX21hdGNoKCd7XlxzK2NvbXBvc2VyLycucHJlZ19xdW90ZSgkcmVmZXJlbmNlKS4nJH1tJywgJGJyYW5jaGVzKQopIHsKJGNvbW1hbmQgPSBzcHJpbnRmKCdnaXQgY2hlY2tvdXQgJy4kZm9yY2UuJy1CICVzICVzIC0tICYmIGdpdCByZXNldCAtLWhhcmQgJTIkcyAtLScsIFByb2Nlc3NFeGVjdXRvcjo6ZXNjYXBlKCRicmFuY2gpLCBQcm9jZXNzRXhlY3V0b3I6OmVzY2FwZSgnY29tcG9zZXIvJy4kcmVmZXJlbmNlKSk7CmlmICgwID09PSAkdGhpcy0+cHJvY2Vzcy0+ZXhlY3V0ZSgkY29tbWFuZCwgJG91dHB1dCwgJHBhdGgpKSB7CnJldHVybiBudWxsOwp9Cn0KCgppZiAocHJlZ19tYXRjaCgne15bYS1mMC05XXs0MH0kfScsICRyZWZlcmVuY2UpKSB7CgppZiAoIXByZWdfbWF0Y2goJ3teXHMrY29tcG9zZXIvJy5wcmVnX3F1b3RlKCRicmFuY2gpLickfW0nLCAkYnJhbmNoZXMpICYmIHByZWdfbWF0Y2goJ3teXHMrY29tcG9zZXIvdicucHJlZ19xdW90ZSgkYnJhbmNoKS4nJH1tJywgJGJyYW5jaGVzKSkgewokYnJhbmNoID0gJ3YnIC4gJGJyYW5jaDsKfQoKJGNvbW1hbmQgPSBzcHJpbnRmKCdnaXQgY2hlY2tvdXQgJXMgLS0nLCBQcm9jZXNzRXhlY3V0b3I6OmVzY2FwZSgkYnJhbmNoKSk7CiRmYWxsYmFja0NvbW1hbmQgPSBzcHJpbnRmKCdnaXQgY2hlY2tvdXQgJy4kZm9yY2UuJy1CICVzICVzIC0tJywgUHJvY2Vzc0V4ZWN1dG9yOjplc2NhcGUoJGJyYW5jaCksIFByb2Nlc3NFeGVjdXRvcjo6ZXNjYXBlKCdjb21wb3Nlci8nLiRicmFuY2gpKTsKJHJlc2V0Q29tbWFuZCA9IHNwcmludGYoJ2dpdCByZXNldCAtLWhhcmQgJXMgLS0nLCBQcm9jZXNzRXhlY3V0b3I6OmVzY2FwZSgkcmVmZXJlbmNlKSk7CgppZiAoMCA9PT0gJHRoaXMtPnByb2Nlc3MtPmV4ZWN1dGUoIigkY29tbWFuZCB8fCAkZmFsbGJhY2tDb21tYW5kKSAmJiAkcmVzZXRDb21tYW5kIiwgJG91dHB1dCwgJHBhdGgpKSB7CnJldHVybiBudWxsOwp9Cn0KCiRjb21tYW5kID0gc3ByaW50ZigkdGVtcGxhdGUsIFByb2Nlc3NFeGVjdXRvcjo6ZXNjYXBlKCRnaXRSZWYpKTsKaWYgKDAgPT09ICR0aGlzLT5wcm9jZXNzLT5leGVjdXRlKCRjb21tYW5kLCAkb3V0cHV0LCAkcGF0aCkpIHsKcmV0dXJuIG51bGw7Cn0KCgppZiAoZmFsc2UgIT09IHN0cnBvcygkdGhpcy0+cHJvY2Vzcy0+Z2V0RXJyb3JPdXRwdXQoKSwgJHJlZmVyZW5jZSkpIHsKJHRoaXMtPmlvLT53cml0ZUVycm9yKCcgICAgPHdhcm5pbmc+Jy4kcmVmZXJlbmNlLicgaXMgZ29uZSAoaGlzdG9yeSB3YXMgcmV3cml0dGVuPyk8L3dhcm5pbmc+Jyk7Cn0KCnRocm93IG5ldyBcUnVudGltZUV4Y2VwdGlvbihVcmw6OnNhbml0aXplKCdGYWlsZWQgdG8gZXhlY3V0ZSAnIC4gJGNvbW1hbmQgLiAiXG5cbiIgLiAkdGhpcy0+cHJvY2Vzcy0+Z2V0RXJyb3JPdXRwdXQoKSkpOwp9Cgpwcm90ZWN0ZWQgZnVuY3Rpb24gdXBkYXRlT3JpZ2luVXJsKCRwYXRoLCAkdXJsKQp7CiR0aGlzLT5wcm9jZXNzLT5leGVjdXRlKHNwcmludGYoJ2dpdCByZW1vdGUgc2V0LXVybCBvcmlnaW4gLS0gJXMnLCBQcm9jZXNzRXhlY3V0b3I6OmVzY2FwZSgkdXJsKSksICRvdXRwdXQsICRwYXRoKTsKJHRoaXMtPnNldFB1c2hVcmwoJHBhdGgsICR1cmwpOwp9Cgpwcm90ZWN0ZWQgZnVuY3Rpb24gc2V0UHVzaFVybCgkcGF0aCwgJHVybCkKewoKaWYgKHByZWdfbWF0Y2goJ3teKD86aHR0cHM/fGdpdCk6Ly8nLkdpdFV0aWw6OmdldEdpdEh1YkRvbWFpbnNSZWdleCgkdGhpcy0+Y29uZmlnKS4nLyhbXi9dKykvKFteL10rPykoPzpcLmdpdCk/JH0nLCAkdXJsLCAkbWF0Y2gpKSB7CiRwcm90b2NvbHMgPSAkdGhpcy0+Y29uZmlnLT5nZXQoJ2dpdGh1Yi1wcm90b2NvbHMnKTsKJHB1c2hVcmwgPSAnZ2l0QCcuJG1hdGNoWzFdLic6Jy4kbWF0Y2hbMl0uJy8nLiRtYXRjaFszXS4nLmdpdCc7CmlmICghaW5fYXJyYXkoJ3NzaCcsICRwcm90b2NvbHMsIHRydWUpKSB7CiRwdXNoVXJsID0gJ2h0dHBzOi8vJyAuICRtYXRjaFsxXSAuICcvJy4kbWF0Y2hbMl0uJy8nLiRtYXRjaFszXS4nLmdpdCc7Cn0KJGNtZCA9IHNwcmludGYoJ2dpdCByZW1vdGUgc2V0LXVybCAtLXB1c2ggb3JpZ2luIC0tICVzJywgUHJvY2Vzc0V4ZWN1dG9yOjplc2NhcGUoJHB1c2hVcmwpKTsKJHRoaXMtPnByb2Nlc3MtPmV4ZWN1dGUoJGNtZCwgJGlnbm9yZWRPdXRwdXQsICRwYXRoKTsKfQp9CgoKCgpwcm90ZWN0ZWQgZnVuY3Rpb24gZ2V0Q29tbWl0TG9ncygkZnJvbVJlZmVyZW5jZSwgJHRvUmVmZXJlbmNlLCAkcGF0aCkKewokcGF0aCA9ICR0aGlzLT5ub3JtYWxpemVQYXRoKCRwYXRoKTsKJGNvbW1hbmQgPSBzcHJpbnRmKCdnaXQgbG9nICVzLi4lcyAtLXByZXR0eT1mb3JtYXQ6IiUlaCAtICUlYW46ICUlcyInLkdpdFV0aWw6OmdldE5vU2hvd1NpZ25hdHVyZUZsYWcoJHRoaXMtPnByb2Nlc3MpLCBQcm9jZXNzRXhlY3V0b3I6OmVzY2FwZSgkZnJvbVJlZmVyZW5jZSksIFByb2Nlc3NFeGVjdXRvcjo6ZXNjYXBlKCR0b1JlZmVyZW5jZSkpOwoKaWYgKDAgIT09ICR0aGlzLT5wcm9jZXNzLT5leGVjdXRlKCRjb21tYW5kLCAkb3V0cHV0LCAkcGF0aCkpIHsKdGhyb3cgbmV3IFxSdW50aW1lRXhjZXB0aW9uKCdGYWlsZWQgdG8gZXhlY3V0ZSAnIC4gJGNvbW1hbmQgLiAiXG5cbiIgLiAkdGhpcy0+cHJvY2Vzcy0+Z2V0RXJyb3JPdXRwdXQoKSk7Cn0KCnJldHVybiAkb3V0cHV0Owp9CgoKCgoKcHJvdGVjdGVkIGZ1bmN0aW9uIGRpc2NhcmRDaGFuZ2VzKCRwYXRoKQp7CiRwYXRoID0gJHRoaXMtPm5vcm1hbGl6ZVBhdGgoJHBhdGgpOwppZiAoMCAhPT0gJHRoaXMtPnByb2Nlc3MtPmV4ZWN1dGUoJ2dpdCBjbGVhbiAtZGYgJiYgZ2l0IHJlc2V0IC0taGFyZCcsICRvdXRwdXQsICRwYXRoKSkgewp0aHJvdyBuZXcgXFJ1bnRpbWVFeGNlcHRpb24oIkNvdWxkIG5vdCByZXNldCBjaGFuZ2VzXG5cbjoiLiRvdXRwdXQpOwp9CgokdGhpcy0+aGFzRGlzY2FyZGVkQ2hhbmdlc1skcGF0aF0gPSB0cnVlOwp9CgoKCgoKcHJvdGVjdGVkIGZ1bmN0aW9uIHN0YXNoQ2hhbmdlcygkcGF0aCkKewokcGF0aCA9ICR0aGlzLT5ub3JtYWxpemVQYXRoKCRwYXRoKTsKaWYgKDAgIT09ICR0aGlzLT5wcm9jZXNzLT5leGVjdXRlKCdnaXQgc3Rhc2ggLS1pbmNsdWRlLXVudHJhY2tlZCcsICRvdXRwdXQsICRwYXRoKSkgewp0aHJvdyBuZXcgXFJ1bnRpbWVFeGNlcHRpb24oIkNvdWxkIG5vdCBzdGFzaCBjaGFuZ2VzXG5cbjoiLiRvdXRwdXQpOwp9CgokdGhpcy0+aGFzU3Rhc2hlZENoYW5nZXNbJHBhdGhdID0gdHJ1ZTsKfQoKCgoKCnByb3RlY3RlZCBmdW5jdGlvbiB2aWV3RGlmZigkcGF0aCkKewokcGF0aCA9ICR0aGlzLT5ub3JtYWxpemVQYXRoKCRwYXRoKTsKaWYgKDAgIT09ICR0aGlzLT5wcm9jZXNzLT5leGVjdXRlKCdnaXQgZGlmZiBIRUFEJywgJG91dHB1dCwgJHBhdGgpKSB7CnRocm93IG5ldyBcUnVudGltZUV4Y2VwdGlvbigiQ291bGQgbm90IHZpZXcgZGlmZlxuXG46Ii4kb3V0cHV0KTsKfQoKJHRoaXMtPmlvLT53cml0ZUVycm9yKCRvdXRwdXQpOwp9Cgpwcm90ZWN0ZWQgZnVuY3Rpb24gbm9ybWFsaXplUGF0aCgkcGF0aCkKewppZiAoUGxhdGZvcm06OmlzV2luZG93cygpICYmIHN0cmxlbigkcGF0aCkgPiAwKSB7CiRiYXNlUGF0aCA9ICRwYXRoOwokcmVtb3ZlZCA9IGFycmF5KCk7Cgp3aGlsZSAoIWlzX2RpcigkYmFzZVBhdGgpICYmICRiYXNlUGF0aCAhPT0gJ1xcJykgewphcnJheV91bnNoaWZ0KCRyZW1vdmVkLCBiYXNlbmFtZSgkYmFzZVBhdGgpKTsKJGJhc2VQYXRoID0gZGlybmFtZSgkYmFzZVBhdGgpOwp9CgppZiAoJGJhc2VQYXRoID09PSAnXFwnKSB7CnJldHVybiAkcGF0aDsKfQoKJHBhdGggPSBydHJpbShyZWFscGF0aCgkYmFzZVBhdGgpIC4gJy8nIC4gaW1wbG9kZSgnLycsICRyZW1vdmVkKSwgJy8nKTsKfQoKcmV0dXJuICRwYXRoOwp9CgoKCgpwcm90ZWN0ZWQgZnVuY3Rpb24gaGFzTWV0YWRhdGFSZXBvc2l0b3J5KCRwYXRoKQp7CiRwYXRoID0gJHRoaXMtPm5vcm1hbGl6ZVBhdGgoJHBhdGgpOwoKcmV0dXJuIGlzX2RpcigkcGF0aC4nLy5naXQnKTsKfQoKcHJvdGVjdGVkIGZ1bmN0aW9uIGdldFNob3J0SGFzaCgkcmVmZXJlbmNlKQp7CmlmICghJHRoaXMtPmlvLT5pc1ZlcmJvc2UoKSAmJiBwcmVnX21hdGNoKCd7XlswLTlhLWZdezQwfSR9JywgJHJlZmVyZW5jZSkpIHsKcmV0dXJuIHN1YnN0cigkcmVmZXJlbmNlLCAwLCAxMCk7Cn0KCnJldHVybiAkcmVmZXJlbmNlOwp9Cn0KPD9waHAKCgoKCgoKCgoKCgpuYW1lc3BhY2UgQ29tcG9zZXJcRG93bmxvYWRlcjsKCnVzZSBDb21wb3NlclxQYWNrYWdlXFBhY2thZ2VJbnRlcmZhY2U7CnVzZSBDb21wb3NlclxVdGlsXFBsYXRmb3JtOwp1c2UgQ29tcG9zZXJcVXRpbFxQcm9jZXNzRXhlY3V0b3I7CgoKCgoKCmNsYXNzIEd6aXBEb3dubG9hZGVyIGV4dGVuZHMgQXJjaGl2ZURvd25sb2FkZXIKewpwcm90ZWN0ZWQgZnVuY3Rpb24gZXh0cmFjdChQYWNrYWdlSW50ZXJmYWNlICRwYWNrYWdlLCAkZmlsZSwgJHBhdGgpCnsKJGZpbGVuYW1lID0gcGF0aGluZm8ocGFyc2VfdXJsKCRwYWNrYWdlLT5nZXREaXN0VXJsKCksIFBIUF9VUkxfUEFUSCksIFBBVEhJTkZPX0ZJTEVOQU1FKTsKJHRhcmdldEZpbGVwYXRoID0gJHBhdGggLiBESVJFQ1RPUllfU0VQQVJBVE9SIC4gJGZpbGVuYW1lOwoKCmlmICghUGxhdGZvcm06OmlzV2luZG93cygpKSB7CiRjb21tYW5kID0gJ2d6aXAgLWNkIC0tICcgLiBQcm9jZXNzRXhlY3V0b3I6OmVzY2FwZSgkZmlsZSkgLiAnID4gJyAuIFByb2Nlc3NFeGVjdXRvcjo6ZXNjYXBlKCR0YXJnZXRGaWxlcGF0aCk7CgppZiAoMCA9PT0gJHRoaXMtPnByb2Nlc3MtPmV4ZWN1dGUoJGNvbW1hbmQsICRpZ25vcmVkT3V0cHV0KSkgewpyZXR1cm4gXFJlYWN0XFByb21pc2VccmVzb2x2ZSgpOwp9CgppZiAoZXh0ZW5zaW9uX2xvYWRlZCgnemxpYicpKSB7CgokdGhpcy0+ZXh0cmFjdFVzaW5nRXh0KCRmaWxlLCAkdGFyZ2V0RmlsZXBhdGgpOwoKcmV0dXJuIFxSZWFjdFxQcm9taXNlXHJlc29sdmUoKTsKfQoKJHByb2Nlc3NFcnJvciA9ICdGYWlsZWQgdG8gZXhlY3V0ZSAnIC4gJGNvbW1hbmQgLiAiXG5cbiIgLiAkdGhpcy0+cHJvY2Vzcy0+Z2V0RXJyb3JPdXRwdXQoKTsKdGhyb3cgbmV3IFxSdW50aW1lRXhjZXB0aW9uKCRwcm9jZXNzRXJyb3IpOwp9CgoKJHRoaXMtPmV4dHJhY3RVc2luZ0V4dCgkZmlsZSwgJHRhcmdldEZpbGVwYXRoKTsKCnJldHVybiBcUmVhY3RcUHJvbWlzZVxyZXNvbHZlKCk7Cn0KCnByaXZhdGUgZnVuY3Rpb24gZXh0cmFjdFVzaW5nRXh0KCRmaWxlLCAkdGFyZ2V0RmlsZXBhdGgpCnsKJGFyY2hpdmVGaWxlID0gZ3pvcGVuKCRmaWxlLCAncmInKTsKJHRhcmdldEZpbGUgPSBmb3BlbigkdGFyZ2V0RmlsZXBhdGgsICd3YicpOwp3aGlsZSAoJHN0cmluZyA9IGd6cmVhZCgkYXJjaGl2ZUZpbGUsIDQwOTYpKSB7CmZ3cml0ZSgkdGFyZ2V0RmlsZSwgJHN0cmluZywgUGxhdGZvcm06OnN0cmxlbigkc3RyaW5nKSk7Cn0KZ3pjbG9zZSgkYXJjaGl2ZUZpbGUpOwpmY2xvc2UoJHRhcmdldEZpbGUpOwp9Cn0KPD9waHAKCgoKCgoKCgoKCgpuYW1lc3BhY2UgQ29tcG9zZXJcRG93bmxvYWRlcjsKCnVzZSBDb21wb3NlclxQYWNrYWdlXFBhY2thZ2VJbnRlcmZhY2U7CnVzZSBDb21wb3NlclxVdGlsXFByb2Nlc3NFeGVjdXRvcjsKdXNlIENvbXBvc2VyXFV0aWxcSGcgYXMgSGdVdGlsczsKCgoKCmNsYXNzIEhnRG93bmxvYWRlciBleHRlbmRzIFZjc0Rvd25sb2FkZXIKewoKCgpwcm90ZWN0ZWQgZnVuY3Rpb24gZG9Eb3dubG9hZChQYWNrYWdlSW50ZXJmYWNlICRwYWNrYWdlLCAkcGF0aCwgJHVybCwgUGFja2FnZUludGVyZmFjZSAkcHJldlBhY2thZ2UgPSBudWxsKQp7CmlmIChudWxsID09PSBIZ1V0aWxzOjpnZXRWZXJzaW9uKCR0aGlzLT5wcm9jZXNzKSkgewp0aHJvdyBuZXcgXFJ1bnRpbWVFeGNlcHRpb24oJ2hnIHdhcyBub3QgZm91bmQgaW4geW91ciBQQVRILCBza2lwcGluZyBzb3VyY2UgZG93bmxvYWQnKTsKfQoKcmV0dXJuIFxSZWFjdFxQcm9taXNlXHJlc29sdmUoKTsKfQoKCgoKcHJvdGVjdGVkIGZ1bmN0aW9uIGRvSW5zdGFsbChQYWNrYWdlSW50ZXJmYWNlICRwYWNrYWdlLCAkcGF0aCwgJHVybCkKewokaGdVdGlscyA9IG5ldyBIZ1V0aWxzKCR0aGlzLT5pbywgJHRoaXMtPmNvbmZpZywgJHRoaXMtPnByb2Nlc3MpOwoKJGNsb25lQ29tbWFuZCA9IGZ1bmN0aW9uICgkdXJsKSB1c2UgKCRwYXRoKSB7CnJldHVybiBzcHJpbnRmKCdoZyBjbG9uZSAtLSAlcyAlcycsIFByb2Nlc3NFeGVjdXRvcjo6ZXNjYXBlKCR1cmwpLCBQcm9jZXNzRXhlY3V0b3I6OmVzY2FwZSgkcGF0aCkpOwp9OwoKJGhnVXRpbHMtPnJ1bkNvbW1hbmQoJGNsb25lQ29tbWFuZCwgJHVybCwgJHBhdGgpOwoKJHJlZiA9IFByb2Nlc3NFeGVjdXRvcjo6ZXNjYXBlKCRwYWNrYWdlLT5nZXRTb3VyY2VSZWZlcmVuY2UoKSk7CiRjb21tYW5kID0gc3ByaW50ZignaGcgdXAgLS0gJXMnLCAkcmVmKTsKaWYgKDAgIT09ICR0aGlzLT5wcm9jZXNzLT5leGVjdXRlKCRjb21tYW5kLCAkaWdub3JlZE91dHB1dCwgcmVhbHBhdGgoJHBhdGgpKSkgewp0aHJvdyBuZXcgXFJ1bnRpbWVFeGNlcHRpb24oJ0ZhaWxlZCB0byBleGVjdXRlICcgLiAkY29tbWFuZCAuICJcblxuIiAuICR0aGlzLT5wcm9jZXNzLT5nZXRFcnJvck91dHB1dCgpKTsKfQoKcmV0dXJuIFxSZWFjdFxQcm9taXNlXHJlc29sdmUoKTsKfQoKCgoKcHJvdGVjdGVkIGZ1bmN0aW9uIGRvVXBkYXRlKFBhY2thZ2VJbnRlcmZhY2UgJGluaXRpYWwsIFBhY2thZ2VJbnRlcmZhY2UgJHRhcmdldCwgJHBhdGgsICR1cmwpCnsKJGhnVXRpbHMgPSBuZXcgSGdVdGlscygkdGhpcy0+aW8sICR0aGlzLT5jb25maWcsICR0aGlzLT5wcm9jZXNzKTsKCiRyZWYgPSAkdGFyZ2V0LT5nZXRTb3VyY2VSZWZlcmVuY2UoKTsKJHRoaXMtPmlvLT53cml0ZUVycm9yKCIgVXBkYXRpbmcgdG8gIi4kdGFyZ2V0LT5nZXRTb3VyY2VSZWZlcmVuY2UoKSk7CgppZiAoISR0aGlzLT5oYXNNZXRhZGF0YVJlcG9zaXRvcnkoJHBhdGgpKSB7CnRocm93IG5ldyBcUnVudGltZUV4Y2VwdGlvbignVGhlIC5oZyBkaXJlY3RvcnkgaXMgbWlzc2luZyBmcm9tICcuJHBhdGguJywgc2VlIGh0dHBzOi8vZ2V0Y29tcG9zZXIub3JnL2NvbW1pdC1kZXBzIGZvciBtb3JlIGluZm9ybWF0aW9uJyk7Cn0KCiRjb21tYW5kID0gZnVuY3Rpb24gKCR1cmwpIHVzZSAoJHJlZikgewpyZXR1cm4gc3ByaW50ZignaGcgcHVsbCAtLSAlcyAmJiBoZyB1cCAtLSAlcycsIFByb2Nlc3NFeGVjdXRvcjo6ZXNjYXBlKCR1cmwpLCBQcm9jZXNzRXhlY3V0b3I6OmVzY2FwZSgkcmVmKSk7Cn07CgokaGdVdGlscy0+cnVuQ29tbWFuZCgkY29tbWFuZCwgJHVybCwgJHBhdGgpOwoKcmV0dXJuIFxSZWFjdFxQcm9taXNlXHJlc29sdmUoKTsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIGdldExvY2FsQ2hhbmdlcyhQYWNrYWdlSW50ZXJmYWNlICRwYWNrYWdlLCAkcGF0aCkKewppZiAoIWlzX2RpcigkcGF0aC4nLy5oZycpKSB7CnJldHVybiBudWxsOwp9CgokdGhpcy0+cHJvY2Vzcy0+ZXhlY3V0ZSgnaGcgc3QnLCAkb3V0cHV0LCByZWFscGF0aCgkcGF0aCkpOwoKcmV0dXJuIHRyaW0oJG91dHB1dCkgPzogbnVsbDsKfQoKCgoKcHJvdGVjdGVkIGZ1bmN0aW9uIGdldENvbW1pdExvZ3MoJGZyb21SZWZlcmVuY2UsICR0b1JlZmVyZW5jZSwgJHBhdGgpCnsKJGNvbW1hbmQgPSBzcHJpbnRmKCdoZyBsb2cgLXIgJXM6JXMgLS1zdHlsZSBjb21wYWN0JywgUHJvY2Vzc0V4ZWN1dG9yOjplc2NhcGUoJGZyb21SZWZlcmVuY2UpLCBQcm9jZXNzRXhlY3V0b3I6OmVzY2FwZSgkdG9SZWZlcmVuY2UpKTsKCmlmICgwICE9PSAkdGhpcy0+cHJvY2Vzcy0+ZXhlY3V0ZSgkY29tbWFuZCwgJG91dHB1dCwgcmVhbHBhdGgoJHBhdGgpKSkgewp0aHJvdyBuZXcgXFJ1bnRpbWVFeGNlcHRpb24oJ0ZhaWxlZCB0byBleGVjdXRlICcgLiAkY29tbWFuZCAuICJcblxuIiAuICR0aGlzLT5wcm9jZXNzLT5nZXRFcnJvck91dHB1dCgpKTsKfQoKcmV0dXJuICRvdXRwdXQ7Cn0KCgoKCnByb3RlY3RlZCBmdW5jdGlvbiBoYXNNZXRhZGF0YVJlcG9zaXRvcnkoJHBhdGgpCnsKcmV0dXJuIGlzX2RpcigkcGF0aCAuICcvLmhnJyk7Cn0KfQo8P3BocAoKCgoKCgoKCgoKCm5hbWVzcGFjZSBDb21wb3NlclxEb3dubG9hZGVyOwoKY2xhc3MgTWF4RmlsZVNpemVFeGNlZWRlZEV4Y2VwdGlvbiBleHRlbmRzIFRyYW5zcG9ydEV4Y2VwdGlvbgp7Cn0KPD9waHAKCgoKCgoKCgoKCgpuYW1lc3BhY2UgQ29tcG9zZXJcRG93bmxvYWRlcjsKCnVzZSBDb21wb3NlclxQYWNrYWdlXEFyY2hpdmVyXEFyY2hpdmFibGVGaWxlc0ZpbmRlcjsKdXNlIENvbXBvc2VyXFBhY2thZ2VcRHVtcGVyXEFycmF5RHVtcGVyOwp1c2UgQ29tcG9zZXJcUGFja2FnZVxQYWNrYWdlSW50ZXJmYWNlOwp1c2UgQ29tcG9zZXJcUGFja2FnZVxWZXJzaW9uXFZlcnNpb25HdWVzc2VyOwp1c2UgQ29tcG9zZXJcUGFja2FnZVxWZXJzaW9uXFZlcnNpb25QYXJzZXI7CnVzZSBDb21wb3NlclxVdGlsXFBsYXRmb3JtOwp1c2UgQ29tcG9zZXJcVXRpbFxGaWxlc3lzdGVtOwp1c2UgU3ltZm9ueVxDb21wb25lbnRcRmlsZXN5c3RlbVxFeGNlcHRpb25cSU9FeGNlcHRpb247CnVzZSBTeW1mb255XENvbXBvbmVudFxGaWxlc3lzdGVtXEZpbGVzeXN0ZW0gYXMgU3ltZm9ueUZpbGVzeXN0ZW07CnVzZSBDb21wb3NlclxEZXBlbmRlbmN5UmVzb2x2ZXJcT3BlcmF0aW9uXEluc3RhbGxPcGVyYXRpb247CnVzZSBDb21wb3NlclxEZXBlbmRlbmN5UmVzb2x2ZXJcT3BlcmF0aW9uXFVuaW5zdGFsbE9wZXJhdGlvbjsKCgoKCgoKCmNsYXNzIFBhdGhEb3dubG9hZGVyIGV4dGVuZHMgRmlsZURvd25sb2FkZXIgaW1wbGVtZW50cyBWY3NDYXBhYmxlRG93bmxvYWRlckludGVyZmFjZQp7CmNvbnN0IFNUUkFURUdZX1NZTUxJTksgPSAxMDsKY29uc3QgU1RSQVRFR1lfTUlSUk9SID0gMjA7CgoKCgpwdWJsaWMgZnVuY3Rpb24gZG93bmxvYWQoUGFja2FnZUludGVyZmFjZSAkcGFja2FnZSwgJHBhdGgsIFBhY2thZ2VJbnRlcmZhY2UgJHByZXZQYWNrYWdlID0gbnVsbCwgJG91dHB1dCA9IHRydWUpCnsKJHBhdGggPSBGaWxlc3lzdGVtOjp0cmltVHJhaWxpbmdTbGFzaCgkcGF0aCk7CiR1cmwgPSAkcGFja2FnZS0+Z2V0RGlzdFVybCgpOwokcmVhbFVybCA9IHJlYWxwYXRoKCR1cmwpOwppZiAoZmFsc2UgPT09ICRyZWFsVXJsIHx8ICFmaWxlX2V4aXN0cygkcmVhbFVybCkgfHwgIWlzX2RpcigkcmVhbFVybCkpIHsKdGhyb3cgbmV3IFxSdW50aW1lRXhjZXB0aW9uKHNwcmludGYoCidTb3VyY2UgcGF0aCAiJXMiIGlzIG5vdCBmb3VuZCBmb3IgcGFja2FnZSAlcycsCiR1cmwsCiRwYWNrYWdlLT5nZXROYW1lKCkKKSk7Cn0KCmlmIChyZWFscGF0aCgkcGF0aCkgPT09ICRyZWFsVXJsKSB7CnJldHVybiBcUmVhY3RcUHJvbWlzZVxyZXNvbHZlKCk7Cn0KCmlmIChzdHJwb3MocmVhbHBhdGgoJHBhdGgpIC4gRElSRUNUT1JZX1NFUEFSQVRPUiwgJHJlYWxVcmwgLiBESVJFQ1RPUllfU0VQQVJBVE9SKSA9PT0gMCkgewoKCgoKdGhyb3cgbmV3IFxSdW50aW1lRXhjZXB0aW9uKHNwcmludGYoCidQYWNrYWdlICVzIGNhbm5vdCBpbnN0YWxsIHRvICIlcyIgaW5zaWRlIGl0cyBzb3VyY2UgYXQgIiVzIicsCiRwYWNrYWdlLT5nZXROYW1lKCksCnJlYWxwYXRoKCRwYXRoKSwKJHJlYWxVcmwKKSk7Cn0KCnJldHVybiBcUmVhY3RcUHJvbWlzZVxyZXNvbHZlKCk7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBpbnN0YWxsKFBhY2thZ2VJbnRlcmZhY2UgJHBhY2thZ2UsICRwYXRoLCAkb3V0cHV0ID0gdHJ1ZSkKewokcGF0aCA9IEZpbGVzeXN0ZW06OnRyaW1UcmFpbGluZ1NsYXNoKCRwYXRoKTsKJHVybCA9ICRwYWNrYWdlLT5nZXREaXN0VXJsKCk7CiRyZWFsVXJsID0gcmVhbHBhdGgoJHVybCk7CgppZiAocmVhbHBhdGgoJHBhdGgpID09PSAkcmVhbFVybCkgewppZiAoJG91dHB1dCkgewokdGhpcy0+aW8tPndyaXRlRXJyb3IoIiAgLSAiIC4gSW5zdGFsbE9wZXJhdGlvbjo6Zm9ybWF0KCRwYWNrYWdlKSAuICR0aGlzLT5nZXRJbnN0YWxsT3BlcmF0aW9uQXBwZW5kaXgoJHBhY2thZ2UsICRwYXRoKSk7Cn0KCnJldHVybiBcUmVhY3RcUHJvbWlzZVxyZXNvbHZlKCk7Cn0KCgokdHJhbnNwb3J0T3B0aW9ucyA9ICRwYWNrYWdlLT5nZXRUcmFuc3BvcnRPcHRpb25zKCkgKyBhcnJheSgncmVsYXRpdmUnID0+IHRydWUpOwoKbGlzdCgkY3VycmVudFN0cmF0ZWd5LCAkYWxsb3dlZFN0cmF0ZWdpZXMpID0gJHRoaXMtPmNvbXB1dGVBbGxvd2VkU3RyYXRlZ2llcygkdHJhbnNwb3J0T3B0aW9ucyk7Cgokc3ltZm9ueUZpbGVzeXN0ZW0gPSBuZXcgU3ltZm9ueUZpbGVzeXN0ZW0oKTsKJHRoaXMtPmZpbGVzeXN0ZW0tPnJlbW92ZURpcmVjdG9yeSgkcGF0aCk7CgppZiAoJG91dHB1dCkgewokdGhpcy0+aW8tPndyaXRlRXJyb3IoIiAgLSAiIC4gSW5zdGFsbE9wZXJhdGlvbjo6Zm9ybWF0KCRwYWNrYWdlKS4nOiAnLCBmYWxzZSk7Cn0KCiRpc0ZhbGxiYWNrID0gZmFsc2U7CmlmIChzZWxmOjpTVFJBVEVHWV9TWU1MSU5LID09PSAkY3VycmVudFN0cmF0ZWd5KSB7CnRyeSB7CmlmIChQbGF0Zm9ybTo6aXNXaW5kb3dzKCkpIHsKCmlmICgkb3V0cHV0KSB7CiR0aGlzLT5pby0+d3JpdGVFcnJvcihzcHJpbnRmKCdKdW5jdGlvbmluZyBmcm9tICVzJywgJHVybCksIGZhbHNlKTsKfQokdGhpcy0+ZmlsZXN5c3RlbS0+anVuY3Rpb24oJHJlYWxVcmwsICRwYXRoKTsKfSBlbHNlIHsKJGFic29sdXRlUGF0aCA9ICRwYXRoOwppZiAoISR0aGlzLT5maWxlc3lzdGVtLT5pc0Fic29sdXRlUGF0aCgkYWJzb2x1dGVQYXRoKSkgewokYWJzb2x1dGVQYXRoID0gZ2V0Y3dkKCkgLiBESVJFQ1RPUllfU0VQQVJBVE9SIC4gJHBhdGg7Cn0KJHNob3J0ZXN0UGF0aCA9ICR0aGlzLT5maWxlc3lzdGVtLT5maW5kU2hvcnRlc3RQYXRoKCRhYnNvbHV0ZVBhdGgsICRyZWFsVXJsKTsKJHBhdGggPSBydHJpbSgkcGF0aCwgIi8iKTsKaWYgKCRvdXRwdXQpIHsKJHRoaXMtPmlvLT53cml0ZUVycm9yKHNwcmludGYoJ1N5bWxpbmtpbmcgZnJvbSAlcycsICR1cmwpLCBmYWxzZSk7Cn0KaWYgKCR0cmFuc3BvcnRPcHRpb25zWydyZWxhdGl2ZSddKSB7CiRzeW1mb255RmlsZXN5c3RlbS0+c3ltbGluaygkc2hvcnRlc3RQYXRoLCAkcGF0aCk7Cn0gZWxzZSB7CiRzeW1mb255RmlsZXN5c3RlbS0+c3ltbGluaygkcmVhbFVybCwgJHBhdGgpOwp9Cn0KfSBjYXRjaCAoSU9FeGNlcHRpb24gJGUpIHsKaWYgKGluX2FycmF5KHNlbGY6OlNUUkFURUdZX01JUlJPUiwgJGFsbG93ZWRTdHJhdGVnaWVzKSkgewppZiAoJG91dHB1dCkgewokdGhpcy0+aW8tPndyaXRlRXJyb3IoJycpOwokdGhpcy0+aW8tPndyaXRlRXJyb3IoJyAgICA8ZXJyb3I+U3ltbGluayBmYWlsZWQsIGZhbGxiYWNrIHRvIHVzZSBtaXJyb3JpbmchPC9lcnJvcj4nKTsKfQokY3VycmVudFN0cmF0ZWd5ID0gc2VsZjo6U1RSQVRFR1lfTUlSUk9SOwokaXNGYWxsYmFjayA9IHRydWU7Cn0gZWxzZSB7CnRocm93IG5ldyBcUnVudGltZUV4Y2VwdGlvbihzcHJpbnRmKCdTeW1saW5rIGZyb20gIiVzIiB0byAiJXMiIGZhaWxlZCEnLCAkcmVhbFVybCwgJHBhdGgpKTsKfQp9Cn0KCgppZiAoc2VsZjo6U1RSQVRFR1lfTUlSUk9SID09PSAkY3VycmVudFN0cmF0ZWd5KSB7CiRyZWFsVXJsID0gJHRoaXMtPmZpbGVzeXN0ZW0tPm5vcm1hbGl6ZVBhdGgoJHJlYWxVcmwpOwoKaWYgKCRvdXRwdXQpIHsKJHRoaXMtPmlvLT53cml0ZUVycm9yKHNwcmludGYoJyVzTWlycm9yaW5nIGZyb20gJXMnLCAkaXNGYWxsYmFjayA/ICcgICAgJyA6ICcnLCAkdXJsKSwgZmFsc2UpOwp9CiRpdGVyYXRvciA9IG5ldyBBcmNoaXZhYmxlRmlsZXNGaW5kZXIoJHJlYWxVcmwsIGFycmF5KCkpOwokc3ltZm9ueUZpbGVzeXN0ZW0tPm1pcnJvcigkcmVhbFVybCwgJHBhdGgsICRpdGVyYXRvcik7Cn0KCmlmICgkb3V0cHV0KSB7CiR0aGlzLT5pby0+d3JpdGVFcnJvcignJyk7Cn0KCnJldHVybiBcUmVhY3RcUHJvbWlzZVxyZXNvbHZlKCk7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiByZW1vdmUoUGFja2FnZUludGVyZmFjZSAkcGFja2FnZSwgJHBhdGgsICRvdXRwdXQgPSB0cnVlKQp7CiRwYXRoID0gRmlsZXN5c3RlbTo6dHJpbVRyYWlsaW5nU2xhc2goJHBhdGgpOwoKCgoKCgoKCgppZiAoUGxhdGZvcm06OmlzV2luZG93cygpICYmICR0aGlzLT5maWxlc3lzdGVtLT5pc0p1bmN0aW9uKCRwYXRoKSkgewppZiAoJG91dHB1dCkgewokdGhpcy0+aW8tPndyaXRlRXJyb3IoIiAgLSAiIC4gVW5pbnN0YWxsT3BlcmF0aW9uOjpmb3JtYXQoJHBhY2thZ2UpLiIsIHNvdXJjZSBpcyBzdGlsbCBwcmVzZW50IGluICRwYXRoIik7Cn0KaWYgKCEkdGhpcy0+ZmlsZXN5c3RlbS0+cmVtb3ZlSnVuY3Rpb24oJHBhdGgpKSB7CiR0aGlzLT5pby0+d3JpdGVFcnJvcigiICAgIDx3YXJuaW5nPkNvdWxkIG5vdCByZW1vdmUganVuY3Rpb24gYXQgIiAuICRwYXRoIC4gIiAtIGlzIGFub3RoZXIgcHJvY2VzcyBsb2NraW5nIGl0Pzwvd2FybmluZz4iKTsKdGhyb3cgbmV3IFxSdW50aW1lRXhjZXB0aW9uKCdDb3VsZCBub3QgcmVsaWFibHkgcmVtb3ZlIGp1bmN0aW9uIGZvciBwYWNrYWdlICcgLiAkcGFja2FnZS0+Z2V0TmFtZSgpKTsKfQoKcmV0dXJuIFxSZWFjdFxQcm9taXNlXHJlc29sdmUoKTsKfQoKaWYgKHJlYWxwYXRoKCRwYXRoKSA9PT0gcmVhbHBhdGgoJHBhY2thZ2UtPmdldERpc3RVcmwoKSkpIHsKaWYgKCRvdXRwdXQpIHsKJHRoaXMtPmlvLT53cml0ZUVycm9yKCIgIC0gIiAuIFVuaW5zdGFsbE9wZXJhdGlvbjo6Zm9ybWF0KCRwYWNrYWdlKS4iLCBzb3VyY2UgaXMgc3RpbGwgcHJlc2VudCBpbiAkcGF0aCIpOwp9CgpyZXR1cm4gXFJlYWN0XFByb21pc2VccmVzb2x2ZSgpOwp9CgpyZXR1cm4gcGFyZW50OjpyZW1vdmUoJHBhY2thZ2UsICRwYXRoLCAkb3V0cHV0KTsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIGdldFZjc1JlZmVyZW5jZShQYWNrYWdlSW50ZXJmYWNlICRwYWNrYWdlLCAkcGF0aCkKewokcGF0aCA9IEZpbGVzeXN0ZW06OnRyaW1UcmFpbGluZ1NsYXNoKCRwYXRoKTsKJHBhcnNlciA9IG5ldyBWZXJzaW9uUGFyc2VyOwokZ3Vlc3NlciA9IG5ldyBWZXJzaW9uR3Vlc3NlcigkdGhpcy0+Y29uZmlnLCAkdGhpcy0+cHJvY2VzcywgJHBhcnNlcik7CiRkdW1wZXIgPSBuZXcgQXJyYXlEdW1wZXI7CgokcGFja2FnZUNvbmZpZyA9ICRkdW1wZXItPmR1bXAoJHBhY2thZ2UpOwppZiAoJHBhY2thZ2VWZXJzaW9uID0gJGd1ZXNzZXItPmd1ZXNzVmVyc2lvbigkcGFja2FnZUNvbmZpZywgJHBhdGgpKSB7CnJldHVybiAkcGFja2FnZVZlcnNpb25bJ2NvbW1pdCddOwp9CgpyZXR1cm4gbnVsbDsKfQoKCgoKcHJvdGVjdGVkIGZ1bmN0aW9uIGdldEluc3RhbGxPcGVyYXRpb25BcHBlbmRpeChQYWNrYWdlSW50ZXJmYWNlICRwYWNrYWdlLCAkcGF0aCkKewokcmVhbFVybCA9IHJlYWxwYXRoKCRwYWNrYWdlLT5nZXREaXN0VXJsKCkpOwoKaWYgKHJlYWxwYXRoKCRwYXRoKSA9PT0gJHJlYWxVcmwpIHsKcmV0dXJuICc6IFNvdXJjZSBhbHJlYWR5IHByZXNlbnQnOwp9CgpsaXN0KCRjdXJyZW50U3RyYXRlZ3kpID0gJHRoaXMtPmNvbXB1dGVBbGxvd2VkU3RyYXRlZ2llcygkcGFja2FnZS0+Z2V0VHJhbnNwb3J0T3B0aW9ucygpKTsKCmlmICgkY3VycmVudFN0cmF0ZWd5ID09PSBzZWxmOjpTVFJBVEVHWV9TWU1MSU5LKSB7CmlmIChQbGF0Zm9ybTo6aXNXaW5kb3dzKCkpIHsKcmV0dXJuICc6IEp1bmN0aW9uaW5nIGZyb20gJy4kcGFja2FnZS0+Z2V0RGlzdFVybCgpOwp9CgpyZXR1cm4gJzogU3ltbGlua2luZyBmcm9tICcuJHBhY2thZ2UtPmdldERpc3RVcmwoKTsKfQoKcmV0dXJuICc6IE1pcnJvcmluZyBmcm9tICcuJHBhY2thZ2UtPmdldERpc3RVcmwoKTsKfQoKcHJpdmF0ZSBmdW5jdGlvbiBjb21wdXRlQWxsb3dlZFN0cmF0ZWdpZXMoYXJyYXkgJHRyYW5zcG9ydE9wdGlvbnMpCnsKCiRjdXJyZW50U3RyYXRlZ3kgPSBzZWxmOjpTVFJBVEVHWV9TWU1MSU5LOwokYWxsb3dlZFN0cmF0ZWdpZXMgPSBhcnJheShzZWxmOjpTVFJBVEVHWV9TWU1MSU5LLCBzZWxmOjpTVFJBVEVHWV9NSVJST1IpOwoKJG1pcnJvclBhdGhSZXBvcyA9IGdldGVudignQ09NUE9TRVJfTUlSUk9SX1BBVEhfUkVQT1MnKTsKaWYgKCRtaXJyb3JQYXRoUmVwb3MpIHsKJGN1cnJlbnRTdHJhdGVneSA9IHNlbGY6OlNUUkFURUdZX01JUlJPUjsKfQoKJHN5bWxpbmtPcHRpb24gPSBpc3NldCgkdHJhbnNwb3J0T3B0aW9uc1snc3ltbGluayddKSA/ICR0cmFuc3BvcnRPcHRpb25zWydzeW1saW5rJ10gOiBudWxsOwoKaWYgKHRydWUgPT09ICRzeW1saW5rT3B0aW9uKSB7CiRjdXJyZW50U3RyYXRlZ3kgPSBzZWxmOjpTVFJBVEVHWV9TWU1MSU5LOwokYWxsb3dlZFN0cmF0ZWdpZXMgPSBhcnJheShzZWxmOjpTVFJBVEVHWV9TWU1MSU5LKTsKfSBlbHNlaWYgKGZhbHNlID09PSAkc3ltbGlua09wdGlvbikgewokY3VycmVudFN0cmF0ZWd5ID0gc2VsZjo6U1RSQVRFR1lfTUlSUk9SOwokYWxsb3dlZFN0cmF0ZWdpZXMgPSBhcnJheShzZWxmOjpTVFJBVEVHWV9NSVJST1IpOwp9CgoKaWYgKFBsYXRmb3JtOjppc1dpbmRvd3MoKSAmJiBzZWxmOjpTVFJBVEVHWV9TWU1MSU5LID09PSAkY3VycmVudFN0cmF0ZWd5ICYmICEkdGhpcy0+c2FmZUp1bmN0aW9ucygpKSB7CiRjdXJyZW50U3RyYXRlZ3kgPSBzZWxmOjpTVFJBVEVHWV9NSVJST1I7CiRhbGxvd2VkU3RyYXRlZ2llcyA9IGFycmF5KHNlbGY6OlNUUkFURUdZX01JUlJPUik7Cn0KCnJldHVybiBhcnJheSgkY3VycmVudFN0cmF0ZWd5LCAkYWxsb3dlZFN0cmF0ZWdpZXMpOwp9CgoKCgoKCgoKCgoKCgoKcHJpdmF0ZSBmdW5jdGlvbiBzYWZlSnVuY3Rpb25zKCkKewoKcmV0dXJuIGZ1bmN0aW9uX2V4aXN0cygncHJvY19vcGVuJykgJiYKKFBIUF9XSU5ET1dTX1ZFUlNJT05fTUFKT1IgPiA2IHx8CihQSFBfV0lORE9XU19WRVJTSU9OX01BSk9SID09PSA2ICYmIFBIUF9XSU5ET1dTX1ZFUlNJT05fTUlOT1IgPj0gMSkpOwp9Cn0KPD9waHAKCgoKCgoKCgoKCgpuYW1lc3BhY2UgQ29tcG9zZXJcRG93bmxvYWRlcjsKCnVzZSBDb21wb3NlclxQYWNrYWdlXFBhY2thZ2VJbnRlcmZhY2U7CnVzZSBDb21wb3NlclxSZXBvc2l0b3J5XFZjc1JlcG9zaXRvcnk7CnVzZSBDb21wb3NlclxVdGlsXFBlcmZvcmNlOwoKCgoKY2xhc3MgUGVyZm9yY2VEb3dubG9hZGVyIGV4dGVuZHMgVmNzRG93bmxvYWRlcgp7Cgpwcm90ZWN0ZWQgJHBlcmZvcmNlOwoKCgoKcHJvdGVjdGVkIGZ1bmN0aW9uIGRvRG93bmxvYWQoUGFja2FnZUludGVyZmFjZSAkcGFja2FnZSwgJHBhdGgsICR1cmwsIFBhY2thZ2VJbnRlcmZhY2UgJHByZXZQYWNrYWdlID0gbnVsbCkKewpyZXR1cm4gXFJlYWN0XFByb21pc2VccmVzb2x2ZSgpOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gZG9JbnN0YWxsKFBhY2thZ2VJbnRlcmZhY2UgJHBhY2thZ2UsICRwYXRoLCAkdXJsKQp7CiRyZWYgPSAkcGFja2FnZS0+Z2V0U291cmNlUmVmZXJlbmNlKCk7CiRsYWJlbCA9ICR0aGlzLT5nZXRMYWJlbEZyb21Tb3VyY2VSZWZlcmVuY2UoJHJlZik7CgokdGhpcy0+aW8tPndyaXRlRXJyb3IoJ0Nsb25pbmcgJyAuICRyZWYpOwokdGhpcy0+aW5pdFBlcmZvcmNlKCRwYWNrYWdlLCAkcGF0aCwgJHVybCk7CiR0aGlzLT5wZXJmb3JjZS0+c2V0U3RyZWFtKCRyZWYpOwokdGhpcy0+cGVyZm9yY2UtPnA0TG9naW4oKTsKJHRoaXMtPnBlcmZvcmNlLT53cml0ZVA0Q2xpZW50U3BlYygpOwokdGhpcy0+cGVyZm9yY2UtPmNvbm5lY3RDbGllbnQoKTsKJHRoaXMtPnBlcmZvcmNlLT5zeW5jQ29kZUJhc2UoJGxhYmVsKTsKJHRoaXMtPnBlcmZvcmNlLT5jbGVhbnVwQ2xpZW50U3BlYygpOwoKcmV0dXJuIFxSZWFjdFxQcm9taXNlXHJlc29sdmUoKTsKfQoKcHJpdmF0ZSBmdW5jdGlvbiBnZXRMYWJlbEZyb21Tb3VyY2VSZWZlcmVuY2UoJHJlZikKewokcG9zID0gc3RycG9zKCRyZWYsICdAJyk7CmlmIChmYWxzZSAhPT0gJHBvcykgewpyZXR1cm4gc3Vic3RyKCRyZWYsICRwb3MgKyAxKTsKfQoKcmV0dXJuIG51bGw7Cn0KCnB1YmxpYyBmdW5jdGlvbiBpbml0UGVyZm9yY2UoUGFja2FnZUludGVyZmFjZSAkcGFja2FnZSwgJHBhdGgsICR1cmwpCnsKaWYgKCFlbXB0eSgkdGhpcy0+cGVyZm9yY2UpKSB7CiR0aGlzLT5wZXJmb3JjZS0+aW5pdGlhbGl6ZVBhdGgoJHBhdGgpOwoKcmV0dXJuOwp9CgokcmVwb3NpdG9yeSA9ICRwYWNrYWdlLT5nZXRSZXBvc2l0b3J5KCk7CiRyZXBvQ29uZmlnID0gbnVsbDsKaWYgKCRyZXBvc2l0b3J5IGluc3RhbmNlb2YgVmNzUmVwb3NpdG9yeSkgewokcmVwb0NvbmZpZyA9ICR0aGlzLT5nZXRSZXBvQ29uZmlnKCRyZXBvc2l0b3J5KTsKfQokdGhpcy0+cGVyZm9yY2UgPSBQZXJmb3JjZTo6Y3JlYXRlKCRyZXBvQ29uZmlnLCAkdXJsLCAkcGF0aCwgJHRoaXMtPnByb2Nlc3MsICR0aGlzLT5pbyk7Cn0KCnByaXZhdGUgZnVuY3Rpb24gZ2V0UmVwb0NvbmZpZyhWY3NSZXBvc2l0b3J5ICRyZXBvc2l0b3J5KQp7CnJldHVybiAkcmVwb3NpdG9yeS0+Z2V0UmVwb0NvbmZpZygpOwp9CgoKCgpwcm90ZWN0ZWQgZnVuY3Rpb24gZG9VcGRhdGUoUGFja2FnZUludGVyZmFjZSAkaW5pdGlhbCwgUGFja2FnZUludGVyZmFjZSAkdGFyZ2V0LCAkcGF0aCwgJHVybCkKewpyZXR1cm4gJHRoaXMtPmRvSW5zdGFsbCgkdGFyZ2V0LCAkcGF0aCwgJHVybCk7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBnZXRMb2NhbENoYW5nZXMoUGFja2FnZUludGVyZmFjZSAkcGFja2FnZSwgJHBhdGgpCnsKJHRoaXMtPmlvLT53cml0ZUVycm9yKCdQZXJmb3JjZSBkcml2ZXIgZG9lcyBub3QgY2hlY2sgZm9yIGxvY2FsIGNoYW5nZXMgYmVmb3JlIG92ZXJyaWRpbmcnKTsKCnJldHVybiBudWxsOwp9CgoKCgpwcm90ZWN0ZWQgZnVuY3Rpb24gZ2V0Q29tbWl0TG9ncygkZnJvbVJlZmVyZW5jZSwgJHRvUmVmZXJlbmNlLCAkcGF0aCkKewpyZXR1cm4gJHRoaXMtPnBlcmZvcmNlLT5nZXRDb21taXRMb2dzKCRmcm9tUmVmZXJlbmNlLCAkdG9SZWZlcmVuY2UpOwp9CgpwdWJsaWMgZnVuY3Rpb24gc2V0UGVyZm9yY2UoJHBlcmZvcmNlKQp7CiR0aGlzLT5wZXJmb3JjZSA9ICRwZXJmb3JjZTsKfQoKCgoKcHJvdGVjdGVkIGZ1bmN0aW9uIGhhc01ldGFkYXRhUmVwb3NpdG9yeSgkcGF0aCkKewpyZXR1cm4gdHJ1ZTsKfQp9Cjw/cGhwCgoKCgoKCgoKCgoKbmFtZXNwYWNlIENvbXBvc2VyXERvd25sb2FkZXI7Cgp1c2UgQ29tcG9zZXJcUGFja2FnZVxQYWNrYWdlSW50ZXJmYWNlOwoKCgoKCgpjbGFzcyBQaGFyRG93bmxvYWRlciBleHRlbmRzIEFyY2hpdmVEb3dubG9hZGVyCnsKCgoKcHJvdGVjdGVkIGZ1bmN0aW9uIGV4dHJhY3QoUGFja2FnZUludGVyZmFjZSAkcGFja2FnZSwgJGZpbGUsICRwYXRoKQp7CgokYXJjaGl2ZSA9IG5ldyBcUGhhcigkZmlsZSk7CiRhcmNoaXZlLT5leHRyYWN0VG8oJHBhdGgsIG51bGwsIHRydWUpOwoKCgoKCgpyZXR1cm4gXFJlYWN0XFByb21pc2VccmVzb2x2ZSgpOwp9Cn0KPD9waHAKCgoKCgoKCgoKCgpuYW1lc3BhY2UgQ29tcG9zZXJcRG93bmxvYWRlcjsKCnVzZSBDb21wb3NlclxVdGlsXEluaUhlbHBlcjsKdXNlIENvbXBvc2VyXFV0aWxcUGxhdGZvcm07CnVzZSBDb21wb3NlclxVdGlsXFByb2Nlc3NFeGVjdXRvcjsKdXNlIENvbXBvc2VyXFBhY2thZ2VcUGFja2FnZUludGVyZmFjZTsKdXNlIFJhckFyY2hpdmU7CgoKCgoKCgoKY2xhc3MgUmFyRG93bmxvYWRlciBleHRlbmRzIEFyY2hpdmVEb3dubG9hZGVyCnsKcHJvdGVjdGVkIGZ1bmN0aW9uIGV4dHJhY3QoUGFja2FnZUludGVyZmFjZSAkcGFja2FnZSwgJGZpbGUsICRwYXRoKQp7CiRwcm9jZXNzRXJyb3IgPSBudWxsOwoKCmlmICghUGxhdGZvcm06OmlzV2luZG93cygpKSB7CiRjb21tYW5kID0gJ3VucmFyIHggLS0gJyAuIFByb2Nlc3NFeGVjdXRvcjo6ZXNjYXBlKCRmaWxlKSAuICcgJyAuIFByb2Nlc3NFeGVjdXRvcjo6ZXNjYXBlKCRwYXRoKSAuICcgPi9kZXYvbnVsbCAmJiBjaG1vZCAtUiB1K3cgJyAuIFByb2Nlc3NFeGVjdXRvcjo6ZXNjYXBlKCRwYXRoKTsKCmlmICgwID09PSAkdGhpcy0+cHJvY2Vzcy0+ZXhlY3V0ZSgkY29tbWFuZCwgJGlnbm9yZWRPdXRwdXQpKSB7CnJldHVybiBcUmVhY3RcUHJvbWlzZVxyZXNvbHZlKCk7Cn0KCiRwcm9jZXNzRXJyb3IgPSAnRmFpbGVkIHRvIGV4ZWN1dGUgJyAuICRjb21tYW5kIC4gIlxuXG4iIC4gJHRoaXMtPnByb2Nlc3MtPmdldEVycm9yT3V0cHV0KCk7Cn0KCmlmICghY2xhc3NfZXhpc3RzKCdSYXJBcmNoaXZlJykpIHsKCiRpbmlNZXNzYWdlID0gSW5pSGVscGVyOjpnZXRNZXNzYWdlKCk7CgokZXJyb3IgPSAiQ291bGQgbm90IGRlY29tcHJlc3MgdGhlIGFyY2hpdmUsIGVuYWJsZSB0aGUgUEhQIHJhciBleHRlbnNpb24gb3IgaW5zdGFsbCB1bnJhci5cbiIKLiAkaW5pTWVzc2FnZSAuICJcbiIgLiAkcHJvY2Vzc0Vycm9yOwoKaWYgKCFQbGF0Zm9ybTo6aXNXaW5kb3dzKCkpIHsKJGVycm9yID0gIkNvdWxkIG5vdCBkZWNvbXByZXNzIHRoZSBhcmNoaXZlLCBlbmFibGUgdGhlIFBIUCByYXIgZXh0ZW5zaW9uLlxuIiAuICRpbmlNZXNzYWdlOwp9Cgp0aHJvdyBuZXcgXFJ1bnRpbWVFeGNlcHRpb24oJGVycm9yKTsKfQoKJHJhckFyY2hpdmUgPSBSYXJBcmNoaXZlOjpvcGVuKCRmaWxlKTsKCmlmIChmYWxzZSA9PT0gJHJhckFyY2hpdmUpIHsKdGhyb3cgbmV3IFxVbmV4cGVjdGVkVmFsdWVFeGNlcHRpb24oJ0NvdWxkIG5vdCBvcGVuIFJBUiBhcmNoaXZlOiAnIC4gJGZpbGUpOwp9CgokZW50cmllcyA9ICRyYXJBcmNoaXZlLT5nZXRFbnRyaWVzKCk7CgppZiAoZmFsc2UgPT09ICRlbnRyaWVzKSB7CnRocm93IG5ldyBcUnVudGltZUV4Y2VwdGlvbignQ291bGQgbm90IHJldHJpZXZlIFJBUiBhcmNoaXZlIGVudHJpZXMnKTsKfQoKZm9yZWFjaCAoJGVudHJpZXMgYXMgJGVudHJ5KSB7CmlmIChmYWxzZSA9PT0gJGVudHJ5LT5leHRyYWN0KCRwYXRoKSkgewp0aHJvdyBuZXcgXFJ1bnRpbWVFeGNlcHRpb24oJ0NvdWxkIG5vdCBleHRyYWN0IGVudHJ5Jyk7Cn0KfQoKJHJhckFyY2hpdmUtPmNsb3NlKCk7CgpyZXR1cm4gXFJlYWN0XFByb21pc2VccmVzb2x2ZSgpOwp9Cn0KPD9waHAKCgoKCgoKCgoKCgpuYW1lc3BhY2UgQ29tcG9zZXJcRG93bmxvYWRlcjsKCnVzZSBDb21wb3NlclxQYWNrYWdlXFBhY2thZ2VJbnRlcmZhY2U7CnVzZSBDb21wb3NlclxVdGlsXFN2biBhcyBTdm5VdGlsOwp1c2UgQ29tcG9zZXJcUmVwb3NpdG9yeVxWY3NSZXBvc2l0b3J5Owp1c2UgQ29tcG9zZXJcVXRpbFxQcm9jZXNzRXhlY3V0b3I7CgoKCgoKY2xhc3MgU3ZuRG93bmxvYWRlciBleHRlbmRzIFZjc0Rvd25sb2FkZXIKewpwcm90ZWN0ZWQgJGNhY2hlQ3JlZGVudGlhbHMgPSB0cnVlOwoKCgoKcHJvdGVjdGVkIGZ1bmN0aW9uIGRvRG93bmxvYWQoUGFja2FnZUludGVyZmFjZSAkcGFja2FnZSwgJHBhdGgsICR1cmwsIFBhY2thZ2VJbnRlcmZhY2UgJHByZXZQYWNrYWdlID0gbnVsbCkKewpTdm5VdGlsOjpjbGVhbkVudigpOwokdXRpbCA9IG5ldyBTdm5VdGlsKCR1cmwsICR0aGlzLT5pbywgJHRoaXMtPmNvbmZpZywgJHRoaXMtPnByb2Nlc3MpOwppZiAobnVsbCA9PT0gJHV0aWwtPmJpbmFyeVZlcnNpb24oKSkgewp0aHJvdyBuZXcgXFJ1bnRpbWVFeGNlcHRpb24oJ3N2biB3YXMgbm90IGZvdW5kIGluIHlvdXIgUEFUSCwgc2tpcHBpbmcgc291cmNlIGRvd25sb2FkJyk7Cn0KCnJldHVybiBcUmVhY3RcUHJvbWlzZVxyZXNvbHZlKCk7Cn0KCgoKCnByb3RlY3RlZCBmdW5jdGlvbiBkb0luc3RhbGwoUGFja2FnZUludGVyZmFjZSAkcGFja2FnZSwgJHBhdGgsICR1cmwpCnsKU3ZuVXRpbDo6Y2xlYW5FbnYoKTsKJHJlZiA9ICRwYWNrYWdlLT5nZXRTb3VyY2VSZWZlcmVuY2UoKTsKCiRyZXBvID0gJHBhY2thZ2UtPmdldFJlcG9zaXRvcnkoKTsKaWYgKCRyZXBvIGluc3RhbmNlb2YgVmNzUmVwb3NpdG9yeSkgewokcmVwb0NvbmZpZyA9ICRyZXBvLT5nZXRSZXBvQ29uZmlnKCk7CmlmIChhcnJheV9rZXlfZXhpc3RzKCdzdm4tY2FjaGUtY3JlZGVudGlhbHMnLCAkcmVwb0NvbmZpZykpIHsKJHRoaXMtPmNhY2hlQ3JlZGVudGlhbHMgPSAoYm9vbCkgJHJlcG9Db25maWdbJ3N2bi1jYWNoZS1jcmVkZW50aWFscyddOwp9Cn0KCiR0aGlzLT5pby0+d3JpdGVFcnJvcigiIENoZWNraW5nIG91dCAiLiRwYWNrYWdlLT5nZXRTb3VyY2VSZWZlcmVuY2UoKSk7CiR0aGlzLT5leGVjdXRlKCRwYWNrYWdlLCAkdXJsLCAic3ZuIGNvIiwgc3ByaW50ZigiJXMvJXMiLCAkdXJsLCAkcmVmKSwgbnVsbCwgJHBhdGgpOwoKcmV0dXJuIFxSZWFjdFxQcm9taXNlXHJlc29sdmUoKTsKfQoKCgoKcHJvdGVjdGVkIGZ1bmN0aW9uIGRvVXBkYXRlKFBhY2thZ2VJbnRlcmZhY2UgJGluaXRpYWwsIFBhY2thZ2VJbnRlcmZhY2UgJHRhcmdldCwgJHBhdGgsICR1cmwpCnsKU3ZuVXRpbDo6Y2xlYW5FbnYoKTsKJHJlZiA9ICR0YXJnZXQtPmdldFNvdXJjZVJlZmVyZW5jZSgpOwoKaWYgKCEkdGhpcy0+aGFzTWV0YWRhdGFSZXBvc2l0b3J5KCRwYXRoKSkgewp0aHJvdyBuZXcgXFJ1bnRpbWVFeGNlcHRpb24oJ1RoZSAuc3ZuIGRpcmVjdG9yeSBpcyBtaXNzaW5nIGZyb20gJy4kcGF0aC4nLCBzZWUgaHR0cHM6Ly9nZXRjb21wb3Nlci5vcmcvY29tbWl0LWRlcHMgZm9yIG1vcmUgaW5mb3JtYXRpb24nKTsKfQoKJHV0aWwgPSBuZXcgU3ZuVXRpbCgkdXJsLCAkdGhpcy0+aW8sICR0aGlzLT5jb25maWcsICR0aGlzLT5wcm9jZXNzKTsKJGZsYWdzID0gIiI7CmlmICh2ZXJzaW9uX2NvbXBhcmUoJHV0aWwtPmJpbmFyeVZlcnNpb24oKSwgJzEuNy4wJywgJz49JykpIHsKJGZsYWdzIC49ICcgLS1pZ25vcmUtYW5jZXN0cnknOwp9CgokdGhpcy0+aW8tPndyaXRlRXJyb3IoIiBDaGVja2luZyBvdXQgIiAuICRyZWYpOwokdGhpcy0+ZXhlY3V0ZSgkdGFyZ2V0LCAkdXJsLCAic3ZuIHN3aXRjaCIgLiAkZmxhZ3MsIHNwcmludGYoIiVzLyVzIiwgJHVybCwgJHJlZiksICRwYXRoKTsKCnJldHVybiBcUmVhY3RcUHJvbWlzZVxyZXNvbHZlKCk7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBnZXRMb2NhbENoYW5nZXMoUGFja2FnZUludGVyZmFjZSAkcGFja2FnZSwgJHBhdGgpCnsKaWYgKCEkdGhpcy0+aGFzTWV0YWRhdGFSZXBvc2l0b3J5KCRwYXRoKSkgewpyZXR1cm4gbnVsbDsKfQoKJHRoaXMtPnByb2Nlc3MtPmV4ZWN1dGUoJ3N2biBzdGF0dXMgLS1pZ25vcmUtZXh0ZXJuYWxzJywgJG91dHB1dCwgJHBhdGgpOwoKcmV0dXJuIHByZWdfbWF0Y2goJ3teICpbXlggXSArfW0nLCAkb3V0cHV0KSA/ICRvdXRwdXQgOiBudWxsOwp9CgoKCgoKCgoKCgoKCgpwcm90ZWN0ZWQgZnVuY3Rpb24gZXhlY3V0ZShQYWNrYWdlSW50ZXJmYWNlICRwYWNrYWdlLCAkYmFzZVVybCwgJGNvbW1hbmQsICR1cmwsICRjd2QgPSBudWxsLCAkcGF0aCA9IG51bGwpCnsKJHV0aWwgPSBuZXcgU3ZuVXRpbCgkYmFzZVVybCwgJHRoaXMtPmlvLCAkdGhpcy0+Y29uZmlnLCAkdGhpcy0+cHJvY2Vzcyk7CiR1dGlsLT5zZXRDYWNoZUNyZWRlbnRpYWxzKCR0aGlzLT5jYWNoZUNyZWRlbnRpYWxzKTsKdHJ5IHsKcmV0dXJuICR1dGlsLT5leGVjdXRlKCRjb21tYW5kLCAkdXJsLCAkY3dkLCAkcGF0aCwgJHRoaXMtPmlvLT5pc1ZlcmJvc2UoKSk7Cn0gY2F0Y2ggKFxSdW50aW1lRXhjZXB0aW9uICRlKSB7CnRocm93IG5ldyBcUnVudGltZUV4Y2VwdGlvbigKJHBhY2thZ2UtPmdldFByZXR0eU5hbWUoKS4nIGNvdWxkIG5vdCBiZSBkb3dubG9hZGVkLCAnLiRlLT5nZXRNZXNzYWdlKCkKKTsKfQp9CgoKCgpwcm90ZWN0ZWQgZnVuY3Rpb24gY2xlYW5DaGFuZ2VzKFBhY2thZ2VJbnRlcmZhY2UgJHBhY2thZ2UsICRwYXRoLCAkdXBkYXRlKQp7CmlmICghJGNoYW5nZXMgPSAkdGhpcy0+Z2V0TG9jYWxDaGFuZ2VzKCRwYWNrYWdlLCAkcGF0aCkpIHsKcmV0dXJuOwp9CgppZiAoISR0aGlzLT5pby0+aXNJbnRlcmFjdGl2ZSgpKSB7CmlmICh0cnVlID09PSAkdGhpcy0+Y29uZmlnLT5nZXQoJ2Rpc2NhcmQtY2hhbmdlcycpKSB7CnJldHVybiAkdGhpcy0+ZGlzY2FyZENoYW5nZXMoJHBhdGgpOwp9CgpyZXR1cm4gcGFyZW50OjpjbGVhbkNoYW5nZXMoJHBhY2thZ2UsICRwYXRoLCAkdXBkYXRlKTsKfQoKJGNoYW5nZXMgPSBhcnJheV9tYXAoZnVuY3Rpb24gKCRlbGVtKSB7CnJldHVybiAnICAgICcuJGVsZW07Cn0sIHByZWdfc3BsaXQoJ3tccypccj9cblxzKn0nLCAkY2hhbmdlcykpOwokY291bnRDaGFuZ2VzID0gY291bnQoJGNoYW5nZXMpOwokdGhpcy0+aW8tPndyaXRlRXJyb3Ioc3ByaW50ZignICAgIDxlcnJvcj4nLiRwYWNrYWdlLT5nZXRQcmV0dHlOYW1lKCkuJyBoYXMgbW9kaWZpZWQgZmlsZSVzOjwvZXJyb3I+JywgJGNvdW50Q2hhbmdlcyA9PT0gMSA/ICcnIDogJ3MnKSk7CiR0aGlzLT5pby0+d3JpdGVFcnJvcihhcnJheV9zbGljZSgkY2hhbmdlcywgMCwgMTApKTsKaWYgKCRjb3VudENoYW5nZXMgPiAxMCkgewokcmVtYWluaW5nQ2hhbmdlcyA9ICRjb3VudENoYW5nZXMgLSAxMDsKJHRoaXMtPmlvLT53cml0ZUVycm9yKApzcHJpbnRmKAonICAgIDxpbmZvPicuJHJlbWFpbmluZ0NoYW5nZXMuJyBtb3JlIGZpbGUlcyBtb2RpZmllZCwgY2hvb3NlICJ2IiB0byB2aWV3IHRoZSBmdWxsIGxpc3Q8L2luZm8+JywKJHJlbWFpbmluZ0NoYW5nZXMgPT09IDEgPyAnJyA6ICdzJwopCik7Cn0KCndoaWxlICh0cnVlKSB7CnN3aXRjaCAoJHRoaXMtPmlvLT5hc2soJyAgICA8aW5mbz5EaXNjYXJkIGNoYW5nZXMgW3ksbix2LD9dPzwvaW5mbz4gJywgJz8nKSkgewpjYXNlICd5JzoKJHRoaXMtPmRpc2NhcmRDaGFuZ2VzKCRwYXRoKTsKYnJlYWsgMjsKCmNhc2UgJ24nOgp0aHJvdyBuZXcgXFJ1bnRpbWVFeGNlcHRpb24oJ1VwZGF0ZSBhYm9ydGVkJyk7CgpjYXNlICd2JzoKJHRoaXMtPmlvLT53cml0ZUVycm9yKCRjaGFuZ2VzKTsKYnJlYWs7CgpjYXNlICc/JzoKZGVmYXVsdDoKJHRoaXMtPmlvLT53cml0ZUVycm9yKGFycmF5KAonICAgIHkgLSBkaXNjYXJkIGNoYW5nZXMgYW5kIGFwcGx5IHRoZSAnLigkdXBkYXRlID8gJ3VwZGF0ZScgOiAndW5pbnN0YWxsJyksCicgICAgbiAtIGFib3J0IHRoZSAnLigkdXBkYXRlID8gJ3VwZGF0ZScgOiAndW5pbnN0YWxsJykuJyBhbmQgbGV0IHlvdSBtYW51YWxseSBjbGVhbiB0aGluZ3MgdXAnLAonICAgIHYgLSB2aWV3IG1vZGlmaWVkIGZpbGVzJywKJyAgICA/IC0gcHJpbnQgaGVscCcsCikpOwpicmVhazsKfQp9Cn0KCgoKCnByb3RlY3RlZCBmdW5jdGlvbiBnZXRDb21taXRMb2dzKCRmcm9tUmVmZXJlbmNlLCAkdG9SZWZlcmVuY2UsICRwYXRoKQp7CmlmIChwcmVnX21hdGNoKCd7QChcZCspJH0nLCAkZnJvbVJlZmVyZW5jZSkgJiYgcHJlZ19tYXRjaCgne0AoXGQrKSR9JywgJHRvUmVmZXJlbmNlKSkgewoKJGNvbW1hbmQgPSBzcHJpbnRmKCdzdm4gaW5mbyAtLW5vbi1pbnRlcmFjdGl2ZSAtLXhtbCAtLSAlcycsIFByb2Nlc3NFeGVjdXRvcjo6ZXNjYXBlKCRwYXRoKSk7CmlmICgwICE9PSAkdGhpcy0+cHJvY2Vzcy0+ZXhlY3V0ZSgkY29tbWFuZCwgJG91dHB1dCwgJHBhdGgpKSB7CnRocm93IG5ldyBcUnVudGltZUV4Y2VwdGlvbigKJ0ZhaWxlZCB0byBleGVjdXRlICcgLiAkY29tbWFuZCAuICJcblxuIiAuICR0aGlzLT5wcm9jZXNzLT5nZXRFcnJvck91dHB1dCgpCik7Cn0KCiR1cmxQYXR0ZXJuID0gJyM8dXJsPiguKik8L3VybD4jJzsKaWYgKHByZWdfbWF0Y2goJHVybFBhdHRlcm4sICRvdXRwdXQsICRtYXRjaGVzKSkgewokYmFzZVVybCA9ICRtYXRjaGVzWzFdOwp9IGVsc2Ugewp0aHJvdyBuZXcgXFJ1bnRpbWVFeGNlcHRpb24oCidVbmFibGUgdG8gZGV0ZXJtaW5lIHN2biB1cmwgZm9yIHBhdGggJy4gJHBhdGgKKTsKfQoKCiRmcm9tUmV2aXNpb24gPSBwcmVnX3JlcGxhY2UoJ3suKkAoXGQrKSR9JywgJyQxJywgJGZyb21SZWZlcmVuY2UpOwokdG9SZXZpc2lvbiA9IHByZWdfcmVwbGFjZSgney4qQChcZCspJH0nLCAnJDEnLCAkdG9SZWZlcmVuY2UpOwoKJGNvbW1hbmQgPSBzcHJpbnRmKCdzdm4gbG9nIC1yJXM6JXMgLS1pbmNyZW1lbnRhbCcsIFByb2Nlc3NFeGVjdXRvcjo6ZXNjYXBlKCRmcm9tUmV2aXNpb24pLCBQcm9jZXNzRXhlY3V0b3I6OmVzY2FwZSgkdG9SZXZpc2lvbikpOwoKJHV0aWwgPSBuZXcgU3ZuVXRpbCgkYmFzZVVybCwgJHRoaXMtPmlvLCAkdGhpcy0+Y29uZmlnLCAkdGhpcy0+cHJvY2Vzcyk7CiR1dGlsLT5zZXRDYWNoZUNyZWRlbnRpYWxzKCR0aGlzLT5jYWNoZUNyZWRlbnRpYWxzKTsKdHJ5IHsKcmV0dXJuICR1dGlsLT5leGVjdXRlTG9jYWwoJGNvbW1hbmQsICRwYXRoLCBudWxsLCAkdGhpcy0+aW8tPmlzVmVyYm9zZSgpKTsKfSBjYXRjaCAoXFJ1bnRpbWVFeGNlcHRpb24gJGUpIHsKdGhyb3cgbmV3IFxSdW50aW1lRXhjZXB0aW9uKAonRmFpbGVkIHRvIGV4ZWN1dGUgJyAuICRjb21tYW5kIC4gIlxuXG4iLiRlLT5nZXRNZXNzYWdlKCkKKTsKfQp9CgpyZXR1cm4gIkNvdWxkIG5vdCByZXRyaWV2ZSBjaGFuZ2VzIGJldHdlZW4gJGZyb21SZWZlcmVuY2UgYW5kICR0b1JlZmVyZW5jZSBkdWUgdG8gbWlzc2luZyByZXZpc2lvbiBpbmZvcm1hdGlvbiI7Cn0KCnByb3RlY3RlZCBmdW5jdGlvbiBkaXNjYXJkQ2hhbmdlcygkcGF0aCkKewppZiAoMCAhPT0gJHRoaXMtPnByb2Nlc3MtPmV4ZWN1dGUoJ3N2biByZXZlcnQgLVIgLicsICRvdXRwdXQsICRwYXRoKSkgewp0aHJvdyBuZXcgXFJ1bnRpbWVFeGNlcHRpb24oIkNvdWxkIG5vdCByZXNldCBjaGFuZ2VzXG5cbjoiLiR0aGlzLT5wcm9jZXNzLT5nZXRFcnJvck91dHB1dCgpKTsKfQp9CgoKCgpwcm90ZWN0ZWQgZnVuY3Rpb24gaGFzTWV0YWRhdGFSZXBvc2l0b3J5KCRwYXRoKQp7CnJldHVybiBpc19kaXIoJHBhdGguJy8uc3ZuJyk7Cn0KfQo8P3BocAoKCgoKCgoKCgoKCm5hbWVzcGFjZSBDb21wb3NlclxEb3dubG9hZGVyOwoKdXNlIENvbXBvc2VyXFBhY2thZ2VcUGFja2FnZUludGVyZmFjZTsKCgoKCgoKY2xhc3MgVGFyRG93bmxvYWRlciBleHRlbmRzIEFyY2hpdmVEb3dubG9hZGVyCnsKCgoKcHJvdGVjdGVkIGZ1bmN0aW9uIGV4dHJhY3QoUGFja2FnZUludGVyZmFjZSAkcGFja2FnZSwgJGZpbGUsICRwYXRoKQp7CgokYXJjaGl2ZSA9IG5ldyBcUGhhckRhdGEoJGZpbGUpOwokYXJjaGl2ZS0+ZXh0cmFjdFRvKCRwYXRoLCBudWxsLCB0cnVlKTsKCnJldHVybiBcUmVhY3RcUHJvbWlzZVxyZXNvbHZlKCk7Cn0KfQo8P3BocAoKCgoKCgoKCgoKCm5hbWVzcGFjZSBDb21wb3NlclxEb3dubG9hZGVyOwoKCgoKY2xhc3MgVHJhbnNwb3J0RXhjZXB0aW9uIGV4dGVuZHMgXFJ1bnRpbWVFeGNlcHRpb24Kewpwcm90ZWN0ZWQgJGhlYWRlcnM7CnByb3RlY3RlZCAkcmVzcG9uc2U7CnByb3RlY3RlZCAkc3RhdHVzQ29kZTsKcHJvdGVjdGVkICRyZXNwb25zZUluZm8gPSBhcnJheSgpOwoKcHVibGljIGZ1bmN0aW9uIHNldEhlYWRlcnMoJGhlYWRlcnMpCnsKJHRoaXMtPmhlYWRlcnMgPSAkaGVhZGVyczsKfQoKcHVibGljIGZ1bmN0aW9uIGdldEhlYWRlcnMoKQp7CnJldHVybiAkdGhpcy0+aGVhZGVyczsKfQoKcHVibGljIGZ1bmN0aW9uIHNldFJlc3BvbnNlKCRyZXNwb25zZSkKewokdGhpcy0+cmVzcG9uc2UgPSAkcmVzcG9uc2U7Cn0KCnB1YmxpYyBmdW5jdGlvbiBnZXRSZXNwb25zZSgpCnsKcmV0dXJuICR0aGlzLT5yZXNwb25zZTsKfQoKcHVibGljIGZ1bmN0aW9uIHNldFN0YXR1c0NvZGUoJHN0YXR1c0NvZGUpCnsKJHRoaXMtPnN0YXR1c0NvZGUgPSAkc3RhdHVzQ29kZTsKfQoKcHVibGljIGZ1bmN0aW9uIGdldFN0YXR1c0NvZGUoKQp7CnJldHVybiAkdGhpcy0+c3RhdHVzQ29kZTsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIGdldFJlc3BvbnNlSW5mbygpCnsKcmV0dXJuICR0aGlzLT5yZXNwb25zZUluZm87Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBzZXRSZXNwb25zZUluZm8oYXJyYXkgJHJlc3BvbnNlSW5mbykKewokdGhpcy0+cmVzcG9uc2VJbmZvID0gJHJlc3BvbnNlSW5mbzsKfQp9Cjw/cGhwCgoKCgoKCgoKCgoKbmFtZXNwYWNlIENvbXBvc2VyXERvd25sb2FkZXI7Cgp1c2UgQ29tcG9zZXJcUGFja2FnZVxQYWNrYWdlSW50ZXJmYWNlOwoKCgoKCgppbnRlcmZhY2UgVmNzQ2FwYWJsZURvd25sb2FkZXJJbnRlcmZhY2UKewoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIGdldFZjc1JlZmVyZW5jZShQYWNrYWdlSW50ZXJmYWNlICRwYWNrYWdlLCAkcGF0aCk7Cn0KPD9waHAKCgoKCgoKCgoKCgpuYW1lc3BhY2UgQ29tcG9zZXJcRG93bmxvYWRlcjsKCnVzZSBDb21wb3NlclxDb25maWc7CnVzZSBDb21wb3NlclxQYWNrYWdlXER1bXBlclxBcnJheUR1bXBlcjsKdXNlIENvbXBvc2VyXFBhY2thZ2VcUGFja2FnZUludGVyZmFjZTsKdXNlIENvbXBvc2VyXFBhY2thZ2VcVmVyc2lvblxWZXJzaW9uR3Vlc3NlcjsKdXNlIENvbXBvc2VyXFBhY2thZ2VcVmVyc2lvblxWZXJzaW9uUGFyc2VyOwp1c2UgQ29tcG9zZXJcVXRpbFxQcm9jZXNzRXhlY3V0b3I7CnVzZSBDb21wb3NlclxJT1xJT0ludGVyZmFjZTsKdXNlIENvbXBvc2VyXFV0aWxcRmlsZXN5c3RlbTsKdXNlIFJlYWN0XFByb21pc2VcUHJvbWlzZUludGVyZmFjZTsKdXNlIENvbXBvc2VyXERlcGVuZGVuY3lSZXNvbHZlclxPcGVyYXRpb25cVXBkYXRlT3BlcmF0aW9uOwp1c2UgQ29tcG9zZXJcRGVwZW5kZW5jeVJlc29sdmVyXE9wZXJhdGlvblxJbnN0YWxsT3BlcmF0aW9uOwp1c2UgQ29tcG9zZXJcRGVwZW5kZW5jeVJlc29sdmVyXE9wZXJhdGlvblxVbmluc3RhbGxPcGVyYXRpb247CgoKCgphYnN0cmFjdCBjbGFzcyBWY3NEb3dubG9hZGVyIGltcGxlbWVudHMgRG93bmxvYWRlckludGVyZmFjZSwgQ2hhbmdlUmVwb3J0SW50ZXJmYWNlLCBWY3NDYXBhYmxlRG93bmxvYWRlckludGVyZmFjZQp7Cgpwcm90ZWN0ZWQgJGlvOwoKcHJvdGVjdGVkICRjb25maWc7Cgpwcm90ZWN0ZWQgJHByb2Nlc3M7Cgpwcm90ZWN0ZWQgJGZpbGVzeXN0ZW07Cgpwcm90ZWN0ZWQgJGhhc0NsZWFuZWRDaGFuZ2VzID0gYXJyYXkoKTsKCnB1YmxpYyBmdW5jdGlvbiBfX2NvbnN0cnVjdChJT0ludGVyZmFjZSAkaW8sIENvbmZpZyAkY29uZmlnLCBQcm9jZXNzRXhlY3V0b3IgJHByb2Nlc3MgPSBudWxsLCBGaWxlc3lzdGVtICRmcyA9IG51bGwpCnsKJHRoaXMtPmlvID0gJGlvOwokdGhpcy0+Y29uZmlnID0gJGNvbmZpZzsKJHRoaXMtPnByb2Nlc3MgPSAkcHJvY2VzcyA/OiBuZXcgUHJvY2Vzc0V4ZWN1dG9yKCRpbyk7CiR0aGlzLT5maWxlc3lzdGVtID0gJGZzID86IG5ldyBGaWxlc3lzdGVtKCR0aGlzLT5wcm9jZXNzKTsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIGdldEluc3RhbGxhdGlvblNvdXJjZSgpCnsKcmV0dXJuICdzb3VyY2UnOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gZG93bmxvYWQoUGFja2FnZUludGVyZmFjZSAkcGFja2FnZSwgJHBhdGgsIFBhY2thZ2VJbnRlcmZhY2UgJHByZXZQYWNrYWdlID0gbnVsbCkKewppZiAoISRwYWNrYWdlLT5nZXRTb3VyY2VSZWZlcmVuY2UoKSkgewp0aHJvdyBuZXcgXEludmFsaWRBcmd1bWVudEV4Y2VwdGlvbignUGFja2FnZSAnLiRwYWNrYWdlLT5nZXRQcmV0dHlOYW1lKCkuJyBpcyBtaXNzaW5nIHJlZmVyZW5jZSBpbmZvcm1hdGlvbicpOwp9CgokdXJscyA9ICR0aGlzLT5wcmVwYXJlVXJscygkcGFja2FnZS0+Z2V0U291cmNlVXJscygpKTsKCndoaWxlICgkdXJsID0gYXJyYXlfc2hpZnQoJHVybHMpKSB7CnRyeSB7CnJldHVybiAkdGhpcy0+ZG9Eb3dubG9hZCgkcGFja2FnZSwgJHBhdGgsICR1cmwsICRwcmV2UGFja2FnZSk7Cn0gY2F0Y2ggKFxFeGNlcHRpb24gJGUpIHsKCmlmICgkZSBpbnN0YW5jZW9mIFxQSFBVbml0XEZyYW1ld29ya1xFeGNlcHRpb24pIHsKdGhyb3cgJGU7Cn0KaWYgKCR0aGlzLT5pby0+aXNEZWJ1ZygpKSB7CiR0aGlzLT5pby0+d3JpdGVFcnJvcignRmFpbGVkOiBbJy5nZXRfY2xhc3MoJGUpLiddICcuJGUtPmdldE1lc3NhZ2UoKSk7Cn0gZWxzZWlmIChjb3VudCgkdXJscykpIHsKJHRoaXMtPmlvLT53cml0ZUVycm9yKCcgICAgRmFpbGVkLCB0cnlpbmcgdGhlIG5leHQgVVJMJyk7Cn0KaWYgKCFjb3VudCgkdXJscykpIHsKdGhyb3cgJGU7Cn0KfQp9CgpyZXR1cm4gXFJlYWN0XFByb21pc2VccmVzb2x2ZSgpOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gcHJlcGFyZSgkdHlwZSwgUGFja2FnZUludGVyZmFjZSAkcGFja2FnZSwgJHBhdGgsIFBhY2thZ2VJbnRlcmZhY2UgJHByZXZQYWNrYWdlID0gbnVsbCkKewppZiAoJHR5cGUgPT09ICd1cGRhdGUnKSB7CiR0aGlzLT5jbGVhbkNoYW5nZXMoJHByZXZQYWNrYWdlLCAkcGF0aCwgdHJ1ZSk7CiR0aGlzLT5oYXNDbGVhbmVkQ2hhbmdlc1skcHJldlBhY2thZ2UtPmdldFVuaXF1ZU5hbWUoKV0gPSB0cnVlOwp9IGVsc2VpZiAoJHR5cGUgPT09ICdpbnN0YWxsJykgewokdGhpcy0+ZmlsZXN5c3RlbS0+ZW1wdHlEaXJlY3RvcnkoJHBhdGgpOwp9IGVsc2VpZiAoJHR5cGUgPT09ICd1bmluc3RhbGwnKSB7CiR0aGlzLT5jbGVhbkNoYW5nZXMoJHBhY2thZ2UsICRwYXRoLCBmYWxzZSk7Cn0KCnJldHVybiBcUmVhY3RcUHJvbWlzZVxyZXNvbHZlKCk7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBjbGVhbnVwKCR0eXBlLCBQYWNrYWdlSW50ZXJmYWNlICRwYWNrYWdlLCAkcGF0aCwgUGFja2FnZUludGVyZmFjZSAkcHJldlBhY2thZ2UgPSBudWxsKQp7CmlmICgkdHlwZSA9PT0gJ3VwZGF0ZScgJiYgaXNzZXQoJHRoaXMtPmhhc0NsZWFuZWRDaGFuZ2VzWyRwcmV2UGFja2FnZS0+Z2V0VW5pcXVlTmFtZSgpXSkpIHsKJHRoaXMtPnJlYXBwbHlDaGFuZ2VzKCRwYXRoKTsKdW5zZXQoJHRoaXMtPmhhc0NsZWFuZWRDaGFuZ2VzWyRwcmV2UGFja2FnZS0+Z2V0VW5pcXVlTmFtZSgpXSk7Cn0KCnJldHVybiBcUmVhY3RcUHJvbWlzZVxyZXNvbHZlKCk7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBpbnN0YWxsKFBhY2thZ2VJbnRlcmZhY2UgJHBhY2thZ2UsICRwYXRoKQp7CmlmICghJHBhY2thZ2UtPmdldFNvdXJjZVJlZmVyZW5jZSgpKSB7CnRocm93IG5ldyBcSW52YWxpZEFyZ3VtZW50RXhjZXB0aW9uKCdQYWNrYWdlICcuJHBhY2thZ2UtPmdldFByZXR0eU5hbWUoKS4nIGlzIG1pc3NpbmcgcmVmZXJlbmNlIGluZm9ybWF0aW9uJyk7Cn0KCiR0aGlzLT5pby0+d3JpdGVFcnJvcigiICAtICIgLiBJbnN0YWxsT3BlcmF0aW9uOjpmb3JtYXQoJHBhY2thZ2UpLic6ICcsIGZhbHNlKTsKCiR1cmxzID0gJHRoaXMtPnByZXBhcmVVcmxzKCRwYWNrYWdlLT5nZXRTb3VyY2VVcmxzKCkpOwp3aGlsZSAoJHVybCA9IGFycmF5X3NoaWZ0KCR1cmxzKSkgewp0cnkgewokdGhpcy0+ZG9JbnN0YWxsKCRwYWNrYWdlLCAkcGF0aCwgJHVybCk7CmJyZWFrOwp9IGNhdGNoIChcRXhjZXB0aW9uICRlKSB7CgppZiAoJGUgaW5zdGFuY2VvZiBcUEhQVW5pdFxGcmFtZXdvcmtcRXhjZXB0aW9uKSB7CnRocm93ICRlOwp9CmlmICgkdGhpcy0+aW8tPmlzRGVidWcoKSkgewokdGhpcy0+aW8tPndyaXRlRXJyb3IoJ0ZhaWxlZDogWycuZ2V0X2NsYXNzKCRlKS4nXSAnLiRlLT5nZXRNZXNzYWdlKCkpOwp9IGVsc2VpZiAoY291bnQoJHVybHMpKSB7CiR0aGlzLT5pby0+d3JpdGVFcnJvcignICAgIEZhaWxlZCwgdHJ5aW5nIHRoZSBuZXh0IFVSTCcpOwp9CmlmICghY291bnQoJHVybHMpKSB7CnRocm93ICRlOwp9Cn0KfQoKcmV0dXJuIFxSZWFjdFxQcm9taXNlXHJlc29sdmUoKTsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIHVwZGF0ZShQYWNrYWdlSW50ZXJmYWNlICRpbml0aWFsLCBQYWNrYWdlSW50ZXJmYWNlICR0YXJnZXQsICRwYXRoKQp7CmlmICghJHRhcmdldC0+Z2V0U291cmNlUmVmZXJlbmNlKCkpIHsKdGhyb3cgbmV3IFxJbnZhbGlkQXJndW1lbnRFeGNlcHRpb24oJ1BhY2thZ2UgJy4kdGFyZ2V0LT5nZXRQcmV0dHlOYW1lKCkuJyBpcyBtaXNzaW5nIHJlZmVyZW5jZSBpbmZvcm1hdGlvbicpOwp9CgokdGhpcy0+aW8tPndyaXRlRXJyb3IoIiAgLSAiIC4gVXBkYXRlT3BlcmF0aW9uOjpmb3JtYXQoJGluaXRpYWwsICR0YXJnZXQpLic6ICcsIGZhbHNlKTsKCiR1cmxzID0gJHRoaXMtPnByZXBhcmVVcmxzKCR0YXJnZXQtPmdldFNvdXJjZVVybHMoKSk7CgokZXhjZXB0aW9uID0gbnVsbDsKd2hpbGUgKCR1cmwgPSBhcnJheV9zaGlmdCgkdXJscykpIHsKdHJ5IHsKJHRoaXMtPmRvVXBkYXRlKCRpbml0aWFsLCAkdGFyZ2V0LCAkcGF0aCwgJHVybCk7CgokZXhjZXB0aW9uID0gbnVsbDsKYnJlYWs7Cn0gY2F0Y2ggKFxFeGNlcHRpb24gJGV4Y2VwdGlvbikgewoKaWYgKCRleGNlcHRpb24gaW5zdGFuY2VvZiBcUEhQVW5pdFxGcmFtZXdvcmtcRXhjZXB0aW9uKSB7CnRocm93ICRleGNlcHRpb247Cn0KaWYgKCR0aGlzLT5pby0+aXNEZWJ1ZygpKSB7CiR0aGlzLT5pby0+d3JpdGVFcnJvcignRmFpbGVkOiBbJy5nZXRfY2xhc3MoJGV4Y2VwdGlvbikuJ10gJy4kZXhjZXB0aW9uLT5nZXRNZXNzYWdlKCkpOwp9IGVsc2VpZiAoY291bnQoJHVybHMpKSB7CiR0aGlzLT5pby0+d3JpdGVFcnJvcignICAgIEZhaWxlZCwgdHJ5aW5nIHRoZSBuZXh0IFVSTCcpOwp9Cn0KfQoKCgppZiAoISRleGNlcHRpb24gJiYgJHRoaXMtPmlvLT5pc1ZlcmJvc2UoKSAmJiAkdGhpcy0+aGFzTWV0YWRhdGFSZXBvc2l0b3J5KCRwYXRoKSkgewokbWVzc2FnZSA9ICdQdWxsaW5nIGluIGNoYW5nZXM6JzsKJGxvZ3MgPSAkdGhpcy0+Z2V0Q29tbWl0TG9ncygkaW5pdGlhbC0+Z2V0U291cmNlUmVmZXJlbmNlKCksICR0YXJnZXQtPmdldFNvdXJjZVJlZmVyZW5jZSgpLCAkcGF0aCk7CgppZiAoIXRyaW0oJGxvZ3MpKSB7CiRtZXNzYWdlID0gJ1JvbGxpbmcgYmFjayBjaGFuZ2VzOic7CiRsb2dzID0gJHRoaXMtPmdldENvbW1pdExvZ3MoJHRhcmdldC0+Z2V0U291cmNlUmVmZXJlbmNlKCksICRpbml0aWFsLT5nZXRTb3VyY2VSZWZlcmVuY2UoKSwgJHBhdGgpOwp9CgppZiAodHJpbSgkbG9ncykpIHsKJGxvZ3MgPSBpbXBsb2RlKCJcbiIsIGFycmF5X21hcChmdW5jdGlvbiAoJGxpbmUpIHsKcmV0dXJuICcgICAgICAnIC4gJGxpbmU7Cn0sIGV4cGxvZGUoIlxuIiwgJGxvZ3MpKSk7CgoKJGxvZ3MgPSBzdHJfcmVwbGFjZSgnPCcsICdcPCcsICRsb2dzKTsKCiR0aGlzLT5pby0+d3JpdGVFcnJvcignICAgICcuJG1lc3NhZ2UpOwokdGhpcy0+aW8tPndyaXRlRXJyb3IoJGxvZ3MpOwp9Cn0KCmlmICghJHVybHMgJiYgJGV4Y2VwdGlvbikgewp0aHJvdyAkZXhjZXB0aW9uOwp9CgpyZXR1cm4gXFJlYWN0XFByb21pc2VccmVzb2x2ZSgpOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gcmVtb3ZlKFBhY2thZ2VJbnRlcmZhY2UgJHBhY2thZ2UsICRwYXRoKQp7CiR0aGlzLT5pby0+d3JpdGVFcnJvcigiICAtICIgLiBVbmluc3RhbGxPcGVyYXRpb246OmZvcm1hdCgkcGFja2FnZSkpOwoKJHByb21pc2UgPSAkdGhpcy0+ZmlsZXN5c3RlbS0+cmVtb3ZlRGlyZWN0b3J5QXN5bmMoJHBhdGgpOwoKcmV0dXJuICRwcm9taXNlLT50aGVuKGZ1bmN0aW9uICgkcmVzdWx0KSB1c2UgKCRwYXRoKSB7CmlmICghJHJlc3VsdCkgewp0aHJvdyBuZXcgXFJ1bnRpbWVFeGNlcHRpb24oJ0NvdWxkIG5vdCBjb21wbGV0ZWx5IGRlbGV0ZSAnLiRwYXRoLicsIGFib3J0aW5nLicpOwp9Cn0pOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0VmNzUmVmZXJlbmNlKFBhY2thZ2VJbnRlcmZhY2UgJHBhY2thZ2UsICRwYXRoKQp7CiRwYXJzZXIgPSBuZXcgVmVyc2lvblBhcnNlcjsKJGd1ZXNzZXIgPSBuZXcgVmVyc2lvbkd1ZXNzZXIoJHRoaXMtPmNvbmZpZywgJHRoaXMtPnByb2Nlc3MsICRwYXJzZXIpOwokZHVtcGVyID0gbmV3IEFycmF5RHVtcGVyOwoKJHBhY2thZ2VDb25maWcgPSAkZHVtcGVyLT5kdW1wKCRwYWNrYWdlKTsKaWYgKCRwYWNrYWdlVmVyc2lvbiA9ICRndWVzc2VyLT5ndWVzc1ZlcnNpb24oJHBhY2thZ2VDb25maWcsICRwYXRoKSkgewpyZXR1cm4gJHBhY2thZ2VWZXJzaW9uWydjb21taXQnXTsKfQoKcmV0dXJuIG51bGw7Cn0KCgoKCgoKCgoKCnByb3RlY3RlZCBmdW5jdGlvbiBjbGVhbkNoYW5nZXMoUGFja2FnZUludGVyZmFjZSAkcGFja2FnZSwgJHBhdGgsICR1cGRhdGUpCnsKCmlmIChudWxsICE9PSAkdGhpcy0+Z2V0TG9jYWxDaGFuZ2VzKCRwYWNrYWdlLCAkcGF0aCkpIHsKdGhyb3cgbmV3IFxSdW50aW1lRXhjZXB0aW9uKCdTb3VyY2UgZGlyZWN0b3J5ICcgLiAkcGF0aCAuICcgaGFzIHVuY29tbWl0dGVkIGNoYW5nZXMuJyk7Cn0KCnJldHVybiBcUmVhY3RcUHJvbWlzZVxyZXNvbHZlKCk7Cn0KCgoKCgoKCnByb3RlY3RlZCBmdW5jdGlvbiByZWFwcGx5Q2hhbmdlcygkcGF0aCkKewp9CgoKCgoKCgoKCgoKYWJzdHJhY3QgcHJvdGVjdGVkIGZ1bmN0aW9uIGRvRG93bmxvYWQoUGFja2FnZUludGVyZmFjZSAkcGFja2FnZSwgJHBhdGgsICR1cmwsIFBhY2thZ2VJbnRlcmZhY2UgJHByZXZQYWNrYWdlID0gbnVsbCk7CgoKCgoKCgoKCgphYnN0cmFjdCBwcm90ZWN0ZWQgZnVuY3Rpb24gZG9JbnN0YWxsKFBhY2thZ2VJbnRlcmZhY2UgJHBhY2thZ2UsICRwYXRoLCAkdXJsKTsKCgoKCgoKCgoKCgphYnN0cmFjdCBwcm90ZWN0ZWQgZnVuY3Rpb24gZG9VcGRhdGUoUGFja2FnZUludGVyZmFjZSAkaW5pdGlhbCwgUGFja2FnZUludGVyZmFjZSAkdGFyZ2V0LCAkcGF0aCwgJHVybCk7CgoKCgoKCgoKCmFic3RyYWN0IHByb3RlY3RlZCBmdW5jdGlvbiBnZXRDb21taXRMb2dzKCRmcm9tUmVmZXJlbmNlLCAkdG9SZWZlcmVuY2UsICRwYXRoKTsKCgoKCgoKCgphYnN0cmFjdCBwcm90ZWN0ZWQgZnVuY3Rpb24gaGFzTWV0YWRhdGFSZXBvc2l0b3J5KCRwYXRoKTsKCgoKCnByaXZhdGUgZnVuY3Rpb24gcHJlcGFyZVVybHMoYXJyYXkgJHVybHMpCnsKZm9yZWFjaCAoJHVybHMgYXMgJGluZGV4ID0+ICR1cmwpIHsKaWYgKEZpbGVzeXN0ZW06OmlzTG9jYWxQYXRoKCR1cmwpKSB7CgoKJGZpbGVQcm90b2NvbCA9ICdmaWxlOi8vJzsKJGlzRmlsZVByb3RvY29sID0gZmFsc2U7CmlmICgwID09PSBzdHJwb3MoJHVybCwgJGZpbGVQcm90b2NvbCkpIHsKJHVybCA9IHN1YnN0cigkdXJsLCBzdHJsZW4oJGZpbGVQcm90b2NvbCkpOwokaXNGaWxlUHJvdG9jb2wgPSB0cnVlOwp9CgoKaWYgKGZhbHNlICE9PSBzdHJwb3MoJHVybCwgJyUnKSkgewokdXJsID0gcmF3dXJsZGVjb2RlKCR1cmwpOwp9CgokdXJsc1skaW5kZXhdID0gcmVhbHBhdGgoJHVybCk7CgppZiAoJGlzRmlsZVByb3RvY29sKSB7CiR1cmxzWyRpbmRleF0gPSAkZmlsZVByb3RvY29sIC4gJHVybHNbJGluZGV4XTsKfQp9Cn0KCnJldHVybiAkdXJsczsKfQp9Cjw/cGhwCgoKCgoKCgoKCgoKbmFtZXNwYWNlIENvbXBvc2VyXERvd25sb2FkZXI7Cgp1c2UgQ29tcG9zZXJcUGFja2FnZVxQYWNrYWdlSW50ZXJmYWNlOwp1c2UgQ29tcG9zZXJcVXRpbFxQcm9jZXNzRXhlY3V0b3I7CgoKCgoKCgpjbGFzcyBYekRvd25sb2FkZXIgZXh0ZW5kcyBBcmNoaXZlRG93bmxvYWRlcgp7CnByb3RlY3RlZCBmdW5jdGlvbiBleHRyYWN0KFBhY2thZ2VJbnRlcmZhY2UgJHBhY2thZ2UsICRmaWxlLCAkcGF0aCkKewokY29tbWFuZCA9ICd0YXIgLXhKZiAnIC4gUHJvY2Vzc0V4ZWN1dG9yOjplc2NhcGUoJGZpbGUpIC4gJyAtQyAnIC4gUHJvY2Vzc0V4ZWN1dG9yOjplc2NhcGUoJHBhdGgpOwoKaWYgKDAgPT09ICR0aGlzLT5wcm9jZXNzLT5leGVjdXRlKCRjb21tYW5kLCAkaWdub3JlZE91dHB1dCkpIHsKcmV0dXJuIFxSZWFjdFxQcm9taXNlXHJlc29sdmUoKTsKfQoKJHByb2Nlc3NFcnJvciA9ICdGYWlsZWQgdG8gZXhlY3V0ZSAnIC4gJGNvbW1hbmQgLiAiXG5cbiIgLiAkdGhpcy0+cHJvY2Vzcy0+Z2V0RXJyb3JPdXRwdXQoKTsKCnRocm93IG5ldyBcUnVudGltZUV4Y2VwdGlvbigkcHJvY2Vzc0Vycm9yKTsKfQp9Cjw/cGhwCgoKCgoKCgoKCgoKbmFtZXNwYWNlIENvbXBvc2VyXERvd25sb2FkZXI7Cgp1c2UgQ29tcG9zZXJcUGFja2FnZVxQYWNrYWdlSW50ZXJmYWNlOwp1c2UgQ29tcG9zZXJcVXRpbFxJbmlIZWxwZXI7CnVzZSBDb21wb3NlclxVdGlsXFBsYXRmb3JtOwp1c2UgQ29tcG9zZXJcVXRpbFxQcm9jZXNzRXhlY3V0b3I7CnVzZSBTeW1mb255XENvbXBvbmVudFxQcm9jZXNzXEV4ZWN1dGFibGVGaW5kZXI7CnVzZSBSZWFjdFxQcm9taXNlXFByb21pc2VJbnRlcmZhY2U7CnVzZSBaaXBBcmNoaXZlOwoKCgoKY2xhc3MgWmlwRG93bmxvYWRlciBleHRlbmRzIEFyY2hpdmVEb3dubG9hZGVyCnsKcHJpdmF0ZSBzdGF0aWMgJHVuemlwQ29tbWFuZHM7CnByaXZhdGUgc3RhdGljICRoYXNaaXBBcmNoaXZlOwpwcml2YXRlIHN0YXRpYyAkaXNXaW5kb3dzOwoKCnByaXZhdGUgJHppcEFyY2hpdmVPYmplY3Q7CgoKCgpwdWJsaWMgZnVuY3Rpb24gZG93bmxvYWQoUGFja2FnZUludGVyZmFjZSAkcGFja2FnZSwgJHBhdGgsIFBhY2thZ2VJbnRlcmZhY2UgJHByZXZQYWNrYWdlID0gbnVsbCwgJG91dHB1dCA9IHRydWUpCnsKaWYgKG51bGwgPT09IHNlbGY6OiR1bnppcENvbW1hbmRzKSB7CnNlbGY6OiR1bnppcENvbW1hbmRzID0gYXJyYXkoKTsKJGZpbmRlciA9IG5ldyBFeGVjdXRhYmxlRmluZGVyOwppZiAoUGxhdGZvcm06OmlzV2luZG93cygpICYmICgkY21kID0gJGZpbmRlci0+ZmluZCgnN3onLCBudWxsLCBhcnJheSgnQzpcUHJvZ3JhbSBGaWxlc1w3LVppcCcpKSkpIHsKc2VsZjo6JHVuemlwQ29tbWFuZHNbXSA9IGFycmF5KCc3eicsIFByb2Nlc3NFeGVjdXRvcjo6ZXNjYXBlKCRjbWQpLicgeCAtYmIwIC15ICVzIC1vJXMnKTsKfQppZiAoJGNtZCA9ICRmaW5kZXItPmZpbmQoJ3VuemlwJykpIHsKc2VsZjo6JHVuemlwQ29tbWFuZHNbXSA9IGFycmF5KCd1bnppcCcsIFByb2Nlc3NFeGVjdXRvcjo6ZXNjYXBlKCRjbWQpLicgLXFxICVzIC1kICVzJyk7Cn0KfQoKaWYgKG51bGwgPT09IHNlbGY6OiRoYXNaaXBBcmNoaXZlKSB7CnNlbGY6OiRoYXNaaXBBcmNoaXZlID0gY2xhc3NfZXhpc3RzKCdaaXBBcmNoaXZlJyk7Cn0KCmlmICghc2VsZjo6JGhhc1ppcEFyY2hpdmUgJiYgIXNlbGY6OiR1bnppcENvbW1hbmRzKSB7CgokaW5pTWVzc2FnZSA9IEluaUhlbHBlcjo6Z2V0TWVzc2FnZSgpOwokZXJyb3IgPSAiVGhlIHppcCBleHRlbnNpb24gYW5kIHVuemlwLzd6IGNvbW1hbmRzIGFyZSBib3RoIG1pc3NpbmcsIHNraXBwaW5nLlxuIiAuICRpbmlNZXNzYWdlOwoKdGhyb3cgbmV3IFxSdW50aW1lRXhjZXB0aW9uKCRlcnJvcik7Cn0KCmlmIChudWxsID09PSBzZWxmOjokaXNXaW5kb3dzKSB7CnNlbGY6OiRpc1dpbmRvd3MgPSBQbGF0Zm9ybTo6aXNXaW5kb3dzKCk7CgppZiAoIXNlbGY6OiRpc1dpbmRvd3MgJiYgIXNlbGY6OiR1bnppcENvbW1hbmRzKSB7CiR0aGlzLT5pby0+d3JpdGVFcnJvcigiPHdhcm5pbmc+QXMgdGhlcmUgaXMgbm8gJ3VuemlwJyBub3IgJzd6JyBjb21tYW5kIGluc3RhbGxlZCB6aXAgZmlsZXMgYXJlIGJlaW5nIHVucGFja2VkIHVzaW5nIHRoZSBQSFAgemlwIGV4dGVuc2lvbi48L3dhcm5pbmc+Iik7CiR0aGlzLT5pby0+d3JpdGVFcnJvcigiPHdhcm5pbmc+VGhpcyBtYXkgY2F1c2UgaW52YWxpZCByZXBvcnRzIG9mIGNvcnJ1cHRlZCBhcmNoaXZlcy4gQmVzaWRlcywgYW55IFVOSVggcGVybWlzc2lvbnMgKGUuZy4gZXhlY3V0YWJsZSkgZGVmaW5lZCBpbiB0aGUgYXJjaGl2ZXMgd2lsbCBiZSBsb3N0Ljwvd2FybmluZz4iKTsKJHRoaXMtPmlvLT53cml0ZUVycm9yKCI8d2FybmluZz5JbnN0YWxsaW5nICd1bnppcCcgb3IgJzd6JyBtYXkgcmVtZWRpYXRlIHRoZW0uPC93YXJuaW5nPiIpOwp9Cn0KCnJldHVybiBwYXJlbnQ6OmRvd25sb2FkKCRwYWNrYWdlLCAkcGF0aCwgJHByZXZQYWNrYWdlLCAkb3V0cHV0KTsKfQoKCgoKCgoKCnByaXZhdGUgZnVuY3Rpb24gZXh0cmFjdFdpdGhTeXN0ZW1VbnppcChQYWNrYWdlSW50ZXJmYWNlICRwYWNrYWdlLCAkZmlsZSwgJHBhdGgpCnsKCiRpc0xhc3RDaGFuY2UgPSAhc2VsZjo6JGhhc1ppcEFyY2hpdmU7CgppZiAoIXNlbGY6OiR1bnppcENvbW1hbmRzKSB7CgoKcmV0dXJuICR0aGlzLT5leHRyYWN0V2l0aFppcEFyY2hpdmUoJHBhY2thZ2UsICRmaWxlLCAkcGF0aCk7Cn0KCiRjb21tYW5kU3BlYyA9IHJlc2V0KHNlbGY6OiR1bnppcENvbW1hbmRzKTsKJGNvbW1hbmQgPSBzcHJpbnRmKCRjb21tYW5kU3BlY1sxXSwgUHJvY2Vzc0V4ZWN1dG9yOjplc2NhcGUoJGZpbGUpLCBQcm9jZXNzRXhlY3V0b3I6OmVzY2FwZSgkcGF0aCkpOwokZXhlY3V0YWJsZSA9ICRjb21tYW5kU3BlY1swXTsKCiRzZWxmID0gJHRoaXM7CiRpbyA9ICR0aGlzLT5pbzsKJHRyeUZhbGxiYWNrID0gZnVuY3Rpb24gKCRwcm9jZXNzRXJyb3IpIHVzZSAoJGlzTGFzdENoYW5jZSwgJGlvLCAkc2VsZiwgJGZpbGUsICRwYXRoLCAkcGFja2FnZSwgJGV4ZWN1dGFibGUpIHsKaWYgKCRpc0xhc3RDaGFuY2UpIHsKdGhyb3cgJHByb2Nlc3NFcnJvcjsKfQoKaWYgKCFpc19maWxlKCRmaWxlKSkgewokaW8tPndyaXRlRXJyb3IoJyAgICA8d2FybmluZz4nLiRwcm9jZXNzRXJyb3ItPmdldE1lc3NhZ2UoKS4nPC93YXJuaW5nPicpOwokaW8tPndyaXRlRXJyb3IoJyAgICA8d2FybmluZz5UaGlzIG1vc3QgbGlrZWx5IGlzIGR1ZSB0byBhIGN1c3RvbSBpbnN0YWxsZXIgcGx1Z2luIG5vdCBoYW5kbGluZyB0aGUgcmV0dXJuZWQgUHJvbWlzZSBmcm9tIHRoZSBkb3dubG9hZGVyPC93YXJuaW5nPicpOwokaW8tPndyaXRlRXJyb3IoJyAgICA8d2FybmluZz5TZWUgaHR0cHM6Ly9naXRodWIuY29tL2NvbXBvc2VyL2luc3RhbGxlcnMvY29tbWl0LzUwMDZkMGMyODczMGFkZTIzM2E4ZjQyZWMzMWFjNjhmYjFjNWM5YmIgZm9yIGFuIGV4YW1wbGUgZml4PC93YXJuaW5nPicpOwp9IGVsc2UgewokaW8tPndyaXRlRXJyb3IoJyAgICA8d2FybmluZz4nLiRwcm9jZXNzRXJyb3ItPmdldE1lc3NhZ2UoKS4nPC93YXJuaW5nPicpOwokaW8tPndyaXRlRXJyb3IoJyAgICBUaGUgYXJjaGl2ZSBtYXkgY29udGFpbiBpZGVudGljYWwgZmlsZSBuYW1lcyB3aXRoIGRpZmZlcmVudCBjYXBpdGFsaXphdGlvbiAod2hpY2ggZmFpbHMgb24gY2FzZSBpbnNlbnNpdGl2ZSBmaWxlc3lzdGVtcyknKTsKJGlvLT53cml0ZUVycm9yKCcgICAgVW56aXAgd2l0aCAnLiRleGVjdXRhYmxlLicgY29tbWFuZCBmYWlsZWQsIGZhbGxpbmcgYmFjayB0byBaaXBBcmNoaXZlIGNsYXNzJyk7Cn0KCnJldHVybiAkc2VsZi0+ZXh0cmFjdFdpdGhaaXBBcmNoaXZlKCRwYWNrYWdlLCAkZmlsZSwgJHBhdGgpOwp9OwoKdHJ5IHsKJHByb21pc2UgPSAkdGhpcy0+cHJvY2Vzcy0+ZXhlY3V0ZUFzeW5jKCRjb21tYW5kKTsKCnJldHVybiAkcHJvbWlzZS0+dGhlbihmdW5jdGlvbiAoJHByb2Nlc3MpIHVzZSAoJHRyeUZhbGxiYWNrLCAkY29tbWFuZCwgJHBhY2thZ2UsICRmaWxlKSB7CmlmICghJHByb2Nlc3MtPmlzU3VjY2Vzc2Z1bCgpKSB7CiRvdXRwdXQgPSAkcHJvY2Vzcy0+Z2V0RXJyb3JPdXRwdXQoKTsKJG91dHB1dCA9IHN0cl9yZXBsYWNlKCcsICcuJGZpbGUuJy56aXAgb3IgJy4kZmlsZS4nLlpJUCcsICcnLCAkb3V0cHV0KTsKCnJldHVybiAkdHJ5RmFsbGJhY2sobmV3IFxSdW50aW1lRXhjZXB0aW9uKCdGYWlsZWQgdG8gZXh0cmFjdCAnLiRwYWNrYWdlLT5nZXROYW1lKCkuJzogKCcuJHByb2Nlc3MtPmdldEV4aXRDb2RlKCkuJykgJy4kY29tbWFuZC4iXG5cbiIuJG91dHB1dCkpOwp9Cn0pOwp9IGNhdGNoIChcRXhjZXB0aW9uICRlKSB7CnJldHVybiAkdHJ5RmFsbGJhY2soJGUpOwp9IGNhdGNoIChcVGhyb3dhYmxlICRlKSB7CnJldHVybiAkdHJ5RmFsbGJhY2soJGUpOwp9Cn0KCgoKCgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gZXh0cmFjdFdpdGhaaXBBcmNoaXZlKFBhY2thZ2VJbnRlcmZhY2UgJHBhY2thZ2UsICRmaWxlLCAkcGF0aCkKewokcHJvY2Vzc0Vycm9yID0gbnVsbDsKJHppcEFyY2hpdmUgPSAkdGhpcy0+emlwQXJjaGl2ZU9iamVjdCA/OiBuZXcgWmlwQXJjaGl2ZSgpOwoKdHJ5IHsKaWYgKHRydWUgPT09ICgkcmV0dmFsID0gJHppcEFyY2hpdmUtPm9wZW4oJGZpbGUpKSkgewokZXh0cmFjdFJlc3VsdCA9ICR6aXBBcmNoaXZlLT5leHRyYWN0VG8oJHBhdGgpOwoKaWYgKHRydWUgPT09ICRleHRyYWN0UmVzdWx0KSB7CiR6aXBBcmNoaXZlLT5jbG9zZSgpOwoKcmV0dXJuIFxSZWFjdFxQcm9taXNlXHJlc29sdmUoKTsKfQoKJHByb2Nlc3NFcnJvciA9IG5ldyBcUnVudGltZUV4Y2VwdGlvbihydHJpbSgiVGhlcmUgd2FzIGFuIGVycm9yIGV4dHJhY3RpbmcgdGhlIFpJUCBmaWxlLCBpdCBpcyBlaXRoZXIgY29ycnVwdGVkIG9yIHVzaW5nIGFuIGludmFsaWQgZm9ybWF0LlxuIikpOwp9IGVsc2UgewokcHJvY2Vzc0Vycm9yID0gbmV3IFxVbmV4cGVjdGVkVmFsdWVFeGNlcHRpb24ocnRyaW0oJHRoaXMtPmdldEVycm9yTWVzc2FnZSgkcmV0dmFsLCAkZmlsZSkuIlxuIiksICRyZXR2YWwpOwp9Cn0gY2F0Y2ggKFxFcnJvckV4Y2VwdGlvbiAkZSkgewokcHJvY2Vzc0Vycm9yID0gbmV3IFxSdW50aW1lRXhjZXB0aW9uKCdUaGUgYXJjaGl2ZSBtYXkgY29udGFpbiBpZGVudGljYWwgZmlsZSBuYW1lcyB3aXRoIGRpZmZlcmVudCBjYXBpdGFsaXphdGlvbiAod2hpY2ggZmFpbHMgb24gY2FzZSBpbnNlbnNpdGl2ZSBmaWxlc3lzdGVtcyk6ICcuJGUtPmdldE1lc3NhZ2UoKSwgMCwgJGUpOwp9IGNhdGNoIChcRXhjZXB0aW9uICRlKSB7CiRwcm9jZXNzRXJyb3IgPSAkZTsKfSBjYXRjaCAoXFRocm93YWJsZSAkZSkgewokcHJvY2Vzc0Vycm9yID0gJGU7Cn0KCnRocm93ICRwcm9jZXNzRXJyb3I7Cn0KCgoKCgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gZXh0cmFjdChQYWNrYWdlSW50ZXJmYWNlICRwYWNrYWdlLCAkZmlsZSwgJHBhdGgpCnsKcmV0dXJuICR0aGlzLT5leHRyYWN0V2l0aFN5c3RlbVVuemlwKCRwYWNrYWdlLCAkZmlsZSwgJHBhdGgpOwp9CgoKCgoKCgoKcHJvdGVjdGVkIGZ1bmN0aW9uIGdldEVycm9yTWVzc2FnZSgkcmV0dmFsLCAkZmlsZSkKewpzd2l0Y2ggKCRyZXR2YWwpIHsKY2FzZSBaaXBBcmNoaXZlOjpFUl9FWElTVFM6CnJldHVybiBzcHJpbnRmKCJGaWxlICclcycgYWxyZWFkeSBleGlzdHMuIiwgJGZpbGUpOwpjYXNlIFppcEFyY2hpdmU6OkVSX0lOQ09OUzoKcmV0dXJuIHNwcmludGYoIlppcCBhcmNoaXZlICclcycgaXMgaW5jb25zaXN0ZW50LiIsICRmaWxlKTsKY2FzZSBaaXBBcmNoaXZlOjpFUl9JTlZBTDoKcmV0dXJuIHNwcmludGYoIkludmFsaWQgYXJndW1lbnQgKCVzKSIsICRmaWxlKTsKY2FzZSBaaXBBcmNoaXZlOjpFUl9NRU1PUlk6CnJldHVybiBzcHJpbnRmKCJNYWxsb2MgZmFpbHVyZSAoJXMpIiwgJGZpbGUpOwpjYXNlIFppcEFyY2hpdmU6OkVSX05PRU5UOgpyZXR1cm4gc3ByaW50ZigiTm8gc3VjaCB6aXAgZmlsZTogJyVzJyIsICRmaWxlKTsKY2FzZSBaaXBBcmNoaXZlOjpFUl9OT1pJUDoKcmV0dXJuIHNwcmludGYoIiclcycgaXMgbm90IGEgemlwIGFyY2hpdmUuIiwgJGZpbGUpOwpjYXNlIFppcEFyY2hpdmU6OkVSX09QRU46CnJldHVybiBzcHJpbnRmKCJDYW4ndCBvcGVuIHppcCBmaWxlOiAlcyIsICRmaWxlKTsKY2FzZSBaaXBBcmNoaXZlOjpFUl9SRUFEOgpyZXR1cm4gc3ByaW50ZigiWmlwIHJlYWQgZXJyb3IgKCVzKSIsICRmaWxlKTsKY2FzZSBaaXBBcmNoaXZlOjpFUl9TRUVLOgpyZXR1cm4gc3ByaW50ZigiWmlwIHNlZWsgZXJyb3IgKCVzKSIsICRmaWxlKTsKZGVmYXVsdDoKcmV0dXJuIHNwcmludGYoIiclcycgaXMgbm90IGEgdmFsaWQgemlwIGFyY2hpdmUsIGdvdCBlcnJvciBjb2RlOiAlcyIsICRmaWxlLCAkcmV0dmFsKTsKfQp9Cn0KPD9waHAKCgoKCgoKCgoKCgpuYW1lc3BhY2UgQ29tcG9zZXJcRXZlbnREaXNwYXRjaGVyOwoKCgoKCgpjbGFzcyBFdmVudAp7CgoKCnByb3RlY3RlZCAkbmFtZTsKCgoKCnByb3RlY3RlZCAkYXJnczsKCgoKCnByb3RlY3RlZCAkZmxhZ3M7CgoKCgpwcml2YXRlICRwcm9wYWdhdGlvblN0b3BwZWQgPSBmYWxzZTsKCgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gX19jb25zdHJ1Y3QoJG5hbWUsIGFycmF5ICRhcmdzID0gYXJyYXkoKSwgYXJyYXkgJGZsYWdzID0gYXJyYXkoKSkKewokdGhpcy0+bmFtZSA9ICRuYW1lOwokdGhpcy0+YXJncyA9ICRhcmdzOwokdGhpcy0+ZmxhZ3MgPSAkZmxhZ3M7Cn0KCgoKCgoKcHVibGljIGZ1bmN0aW9uIGdldE5hbWUoKQp7CnJldHVybiAkdGhpcy0+bmFtZTsKfQoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0QXJndW1lbnRzKCkKewpyZXR1cm4gJHRoaXMtPmFyZ3M7Cn0KCgoKCgoKcHVibGljIGZ1bmN0aW9uIGdldEZsYWdzKCkKewpyZXR1cm4gJHRoaXMtPmZsYWdzOwp9CgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBpc1Byb3BhZ2F0aW9uU3RvcHBlZCgpCnsKcmV0dXJuICR0aGlzLT5wcm9wYWdhdGlvblN0b3BwZWQ7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBzdG9wUHJvcGFnYXRpb24oKQp7CiR0aGlzLT5wcm9wYWdhdGlvblN0b3BwZWQgPSB0cnVlOwp9Cn0KPD9waHAKCgoKCgoKCgoKCgpuYW1lc3BhY2UgQ29tcG9zZXJcRXZlbnREaXNwYXRjaGVyOwoKdXNlIENvbXBvc2VyXERlcGVuZGVuY3lSZXNvbHZlclxUcmFuc2FjdGlvbjsKdXNlIENvbXBvc2VyXEluc3RhbGxlclxJbnN0YWxsZXJFdmVudDsKdXNlIENvbXBvc2VyXElPXElPSW50ZXJmYWNlOwp1c2UgQ29tcG9zZXJcQ29tcG9zZXI7CnVzZSBDb21wb3NlclxVdGlsXFBsYXRmb3JtOwp1c2UgQ29tcG9zZXJcRGVwZW5kZW5jeVJlc29sdmVyXE9wZXJhdGlvblxPcGVyYXRpb25JbnRlcmZhY2U7CnVzZSBDb21wb3NlclxSZXBvc2l0b3J5XFJlcG9zaXRvcnlJbnRlcmZhY2U7CnVzZSBDb21wb3NlclxTY3JpcHQ7CnVzZSBDb21wb3NlclxJbnN0YWxsZXJcUGFja2FnZUV2ZW50Owp1c2UgQ29tcG9zZXJcSW5zdGFsbGVyXEJpbmFyeUluc3RhbGxlcjsKdXNlIENvbXBvc2VyXFV0aWxcUHJvY2Vzc0V4ZWN1dG9yOwp1c2UgQ29tcG9zZXJcU2NyaXB0XEV2ZW50IGFzIFNjcmlwdEV2ZW50Owp1c2UgQ29tcG9zZXJcQXV0b2xvYWRcQ2xhc3NMb2FkZXI7CnVzZSBTeW1mb255XENvbXBvbmVudFxQcm9jZXNzXFBocEV4ZWN1dGFibGVGaW5kZXI7CnVzZSBTeW1mb255XENvbXBvbmVudFxQcm9jZXNzXEV4ZWN1dGFibGVGaW5kZXI7CgoKCgoKCgoKCgoKCgoKY2xhc3MgRXZlbnREaXNwYXRjaGVyCnsKCnByb3RlY3RlZCAkY29tcG9zZXI7Cgpwcm90ZWN0ZWQgJGlvOwoKcHJvdGVjdGVkICRsb2FkZXI7Cgpwcm90ZWN0ZWQgJHByb2Nlc3M7Cgpwcm90ZWN0ZWQgJGxpc3RlbmVycyA9IGFycmF5KCk7Cgpwcm90ZWN0ZWQgJHJ1blNjcmlwdHMgPSB0cnVlOwoKcHJpdmF0ZSAkZXZlbnRTdGFjazsKCgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gX19jb25zdHJ1Y3QoQ29tcG9zZXIgJGNvbXBvc2VyLCBJT0ludGVyZmFjZSAkaW8sIFByb2Nlc3NFeGVjdXRvciAkcHJvY2VzcyA9IG51bGwpCnsKJHRoaXMtPmNvbXBvc2VyID0gJGNvbXBvc2VyOwokdGhpcy0+aW8gPSAkaW87CiR0aGlzLT5wcm9jZXNzID0gJHByb2Nlc3MgPzogbmV3IFByb2Nlc3NFeGVjdXRvcigkaW8pOwokdGhpcy0+ZXZlbnRTdGFjayA9IGFycmF5KCk7Cn0KCgoKCgoKcHVibGljIGZ1bmN0aW9uIHNldFJ1blNjcmlwdHMoJHJ1blNjcmlwdHMgPSB0cnVlKQp7CiR0aGlzLT5ydW5TY3JpcHRzID0gKGJvb2wpICRydW5TY3JpcHRzOwoKcmV0dXJuICR0aGlzOwp9CgoKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBkaXNwYXRjaCgkZXZlbnROYW1lLCBFdmVudCAkZXZlbnQgPSBudWxsKQp7CmlmIChudWxsID09PSAkZXZlbnQpIHsKJGV2ZW50ID0gbmV3IEV2ZW50KCRldmVudE5hbWUpOwp9CgpyZXR1cm4gJHRoaXMtPmRvRGlzcGF0Y2goJGV2ZW50KTsKfQoKCgoKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBkaXNwYXRjaFNjcmlwdCgkZXZlbnROYW1lLCAkZGV2TW9kZSA9IGZhbHNlLCAkYWRkaXRpb25hbEFyZ3MgPSBhcnJheSgpLCAkZmxhZ3MgPSBhcnJheSgpKQp7CnJldHVybiAkdGhpcy0+ZG9EaXNwYXRjaChuZXcgU2NyaXB0XEV2ZW50KCRldmVudE5hbWUsICR0aGlzLT5jb21wb3NlciwgJHRoaXMtPmlvLCAkZGV2TW9kZSwgJGFkZGl0aW9uYWxBcmdzLCAkZmxhZ3MpKTsKfQoKCgoKCgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIGRpc3BhdGNoUGFja2FnZUV2ZW50KCRldmVudE5hbWUsICRkZXZNb2RlLCBSZXBvc2l0b3J5SW50ZXJmYWNlICRsb2NhbFJlcG8sIGFycmF5ICRvcGVyYXRpb25zLCBPcGVyYXRpb25JbnRlcmZhY2UgJG9wZXJhdGlvbikKewpyZXR1cm4gJHRoaXMtPmRvRGlzcGF0Y2gobmV3IFBhY2thZ2VFdmVudCgkZXZlbnROYW1lLCAkdGhpcy0+Y29tcG9zZXIsICR0aGlzLT5pbywgJGRldk1vZGUsICRsb2NhbFJlcG8sICRvcGVyYXRpb25zLCAkb3BlcmF0aW9uKSk7Cn0KCgoKCgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIGRpc3BhdGNoSW5zdGFsbGVyRXZlbnQoJGV2ZW50TmFtZSwgJGRldk1vZGUsICRleGVjdXRlT3BlcmF0aW9ucywgVHJhbnNhY3Rpb24gJHRyYW5zYWN0aW9uKQp7CnJldHVybiAkdGhpcy0+ZG9EaXNwYXRjaChuZXcgSW5zdGFsbGVyRXZlbnQoJGV2ZW50TmFtZSwgJHRoaXMtPmNvbXBvc2VyLCAkdGhpcy0+aW8sICRkZXZNb2RlLCAkZXhlY3V0ZU9wZXJhdGlvbnMsICR0cmFuc2FjdGlvbikpOwp9CgoKCgoKCgoKCnByb3RlY3RlZCBmdW5jdGlvbiBkb0Rpc3BhdGNoKEV2ZW50ICRldmVudCkKewppZiAoZ2V0ZW52KCdDT01QT1NFUl9ERUJVR19FVkVOVFMnKSkgewokZGV0YWlscyA9IG51bGw7CmlmICgkZXZlbnQgaW5zdGFuY2VvZiBQYWNrYWdlRXZlbnQpIHsKJGRldGFpbHMgPSAoc3RyaW5nKSAkZXZlbnQtPmdldE9wZXJhdGlvbigpOwp9CiR0aGlzLT5pby0+d3JpdGVFcnJvcignRGlzcGF0Y2hpbmcgPGluZm8+Jy4kZXZlbnQtPmdldE5hbWUoKS4nPC9pbmZvPicuKCRkZXRhaWxzID8gJyAoJy4kZGV0YWlscy4nKScgOiAnJykuJyBldmVudCcpOwp9CgokbGlzdGVuZXJzID0gJHRoaXMtPmdldExpc3RlbmVycygkZXZlbnQpOwoKJHRoaXMtPnB1c2hFdmVudCgkZXZlbnQpOwoKdHJ5IHsKJHJldHVybk1heCA9IDA7CmZvcmVhY2ggKCRsaXN0ZW5lcnMgYXMgJGNhbGxhYmxlKSB7CiRyZXR1cm4gPSAwOwokdGhpcy0+ZW5zdXJlQmluRGlySXNJblBhdGgoKTsKCmlmICghaXNfc3RyaW5nKCRjYWxsYWJsZSkpIHsKaWYgKCFpc19jYWxsYWJsZSgkY2FsbGFibGUpKSB7CiRjbGFzc05hbWUgPSBpc19vYmplY3QoJGNhbGxhYmxlWzBdKSA/IGdldF9jbGFzcygkY2FsbGFibGVbMF0pIDogJGNhbGxhYmxlWzBdOwoKdGhyb3cgbmV3IFxSdW50aW1lRXhjZXB0aW9uKCdTdWJzY3JpYmVyICcuJGNsYXNzTmFtZS4nOjonLiRjYWxsYWJsZVsxXS4nIGZvciBldmVudCAnLiRldmVudC0+Z2V0TmFtZSgpLicgaXMgbm90IGNhbGxhYmxlLCBtYWtlIHN1cmUgdGhlIGZ1bmN0aW9uIGlzIGRlZmluZWQgYW5kIHB1YmxpYycpOwp9CmlmIChpc19hcnJheSgkY2FsbGFibGUpICYmIChpc19zdHJpbmcoJGNhbGxhYmxlWzBdKSB8fCBpc19vYmplY3QoJGNhbGxhYmxlWzBdKSkgJiYgaXNfc3RyaW5nKCRjYWxsYWJsZVsxXSkpIHsKJHRoaXMtPmlvLT53cml0ZUVycm9yKHNwcmludGYoJz4gJXM6ICVzJywgJGV2ZW50LT5nZXROYW1lKCksIChpc19vYmplY3QoJGNhbGxhYmxlWzBdKSA/IGdldF9jbGFzcygkY2FsbGFibGVbMF0pIDogJGNhbGxhYmxlWzBdKS4nLT4nLiRjYWxsYWJsZVsxXSksIHRydWUsIElPSW50ZXJmYWNlOjpWRVJCT1NFKTsKfQokcmV0dXJuID0gZmFsc2UgPT09IGNhbGxfdXNlcl9mdW5jKCRjYWxsYWJsZSwgJGV2ZW50KSA/IDEgOiAwOwp9IGVsc2VpZiAoJHRoaXMtPmlzQ29tcG9zZXJTY3JpcHQoJGNhbGxhYmxlKSkgewokdGhpcy0+aW8tPndyaXRlRXJyb3Ioc3ByaW50ZignPiAlczogJXMnLCAkZXZlbnQtPmdldE5hbWUoKSwgJGNhbGxhYmxlKSwgdHJ1ZSwgSU9JbnRlcmZhY2U6OlZFUkJPU0UpOwoKJHNjcmlwdCA9IGV4cGxvZGUoJyAnLCBzdWJzdHIoJGNhbGxhYmxlLCAxKSk7CiRzY3JpcHROYW1lID0gJHNjcmlwdFswXTsKdW5zZXQoJHNjcmlwdFswXSk7CgokYXJncyA9IGFycmF5X21lcmdlKCRzY3JpcHQsICRldmVudC0+Z2V0QXJndW1lbnRzKCkpOwokZmxhZ3MgPSAkZXZlbnQtPmdldEZsYWdzKCk7CmlmIChzdHJwb3MoJGNhbGxhYmxlLCAnQGNvbXBvc2VyICcpID09PSAwKSB7CiRleGVjID0gJHRoaXMtPmdldFBocEV4ZWNDb21tYW5kKCkgLiAnICcgLiBQcm9jZXNzRXhlY3V0b3I6OmVzY2FwZShnZXRlbnYoJ0NPTVBPU0VSX0JJTkFSWScpKSAuICcgJyAuIGltcGxvZGUoJyAnLCAkYXJncyk7CmlmICgwICE9PSAoJGV4aXRDb2RlID0gJHRoaXMtPmV4ZWN1dGVUdHkoJGV4ZWMpKSkgewokdGhpcy0+aW8tPndyaXRlRXJyb3Ioc3ByaW50ZignPGVycm9yPlNjcmlwdCAlcyBoYW5kbGluZyB0aGUgJXMgZXZlbnQgcmV0dXJuZWQgd2l0aCBlcnJvciBjb2RlICcuJGV4aXRDb2RlLic8L2Vycm9yPicsICRjYWxsYWJsZSwgJGV2ZW50LT5nZXROYW1lKCkpLCB0cnVlLCBJT0ludGVyZmFjZTo6UVVJRVQpOwoKdGhyb3cgbmV3IFNjcmlwdEV4ZWN1dGlvbkV4Y2VwdGlvbignRXJyb3IgT3V0cHV0OiAnLiR0aGlzLT5wcm9jZXNzLT5nZXRFcnJvck91dHB1dCgpLCAkZXhpdENvZGUpOwp9Cn0gZWxzZSB7CmlmICghJHRoaXMtPmdldExpc3RlbmVycyhuZXcgRXZlbnQoJHNjcmlwdE5hbWUpKSkgewokdGhpcy0+aW8tPndyaXRlRXJyb3Ioc3ByaW50ZignPHdhcm5pbmc+WW91IG1hZGUgYSByZWZlcmVuY2UgdG8gYSBub24tZXhpc3RlbnQgc2NyaXB0ICVzPC93YXJuaW5nPicsICRjYWxsYWJsZSksIHRydWUsIElPSW50ZXJmYWNlOjpRVUlFVCk7Cn0KCnRyeSB7Cgokc2NyaXB0RXZlbnQgPSBuZXcgU2NyaXB0XEV2ZW50KCRzY3JpcHROYW1lLCAkZXZlbnQtPmdldENvbXBvc2VyKCksICRldmVudC0+Z2V0SU8oKSwgJGV2ZW50LT5pc0Rldk1vZGUoKSwgJGFyZ3MsICRmbGFncyk7CiRzY3JpcHRFdmVudC0+c2V0T3JpZ2luYXRpbmdFdmVudCgkZXZlbnQpOwokcmV0dXJuID0gJHRoaXMtPmRpc3BhdGNoKCRzY3JpcHROYW1lLCAkc2NyaXB0RXZlbnQpOwp9IGNhdGNoIChTY3JpcHRFeGVjdXRpb25FeGNlcHRpb24gJGUpIHsKJHRoaXMtPmlvLT53cml0ZUVycm9yKHNwcmludGYoJzxlcnJvcj5TY3JpcHQgJXMgd2FzIGNhbGxlZCB2aWEgJXM8L2Vycm9yPicsICRjYWxsYWJsZSwgJGV2ZW50LT5nZXROYW1lKCkpLCB0cnVlLCBJT0ludGVyZmFjZTo6UVVJRVQpOwp0aHJvdyAkZTsKfQp9Cn0gZWxzZWlmICgkdGhpcy0+aXNQaHBTY3JpcHQoJGNhbGxhYmxlKSkgewokY2xhc3NOYW1lID0gc3Vic3RyKCRjYWxsYWJsZSwgMCwgc3RycG9zKCRjYWxsYWJsZSwgJzo6JykpOwokbWV0aG9kTmFtZSA9IHN1YnN0cigkY2FsbGFibGUsIHN0cnBvcygkY2FsbGFibGUsICc6OicpICsgMik7CgppZiAoIWNsYXNzX2V4aXN0cygkY2xhc3NOYW1lKSkgewokdGhpcy0+aW8tPndyaXRlRXJyb3IoJzx3YXJuaW5nPkNsYXNzICcuJGNsYXNzTmFtZS4nIGlzIG5vdCBhdXRvbG9hZGFibGUsIGNhbiBub3QgY2FsbCAnLiRldmVudC0+Z2V0TmFtZSgpLicgc2NyaXB0PC93YXJuaW5nPicsIHRydWUsIElPSW50ZXJmYWNlOjpRVUlFVCk7CmNvbnRpbnVlOwp9CmlmICghaXNfY2FsbGFibGUoJGNhbGxhYmxlKSkgewokdGhpcy0+aW8tPndyaXRlRXJyb3IoJzx3YXJuaW5nPk1ldGhvZCAnLiRjYWxsYWJsZS4nIGlzIG5vdCBjYWxsYWJsZSwgY2FuIG5vdCBjYWxsICcuJGV2ZW50LT5nZXROYW1lKCkuJyBzY3JpcHQ8L3dhcm5pbmc+JywgdHJ1ZSwgSU9JbnRlcmZhY2U6OlFVSUVUKTsKY29udGludWU7Cn0KCnRyeSB7CiRyZXR1cm4gPSBmYWxzZSA9PT0gJHRoaXMtPmV4ZWN1dGVFdmVudFBocFNjcmlwdCgkY2xhc3NOYW1lLCAkbWV0aG9kTmFtZSwgJGV2ZW50KSA/IDEgOiAwOwp9IGNhdGNoIChcRXhjZXB0aW9uICRlKSB7CiRtZXNzYWdlID0gIlNjcmlwdCAlcyBoYW5kbGluZyB0aGUgJXMgZXZlbnQgdGVybWluYXRlZCB3aXRoIGFuIGV4Y2VwdGlvbiI7CiR0aGlzLT5pby0+d3JpdGVFcnJvcignPGVycm9yPicuc3ByaW50ZigkbWVzc2FnZSwgJGNhbGxhYmxlLCAkZXZlbnQtPmdldE5hbWUoKSkuJzwvZXJyb3I+JywgdHJ1ZSwgSU9JbnRlcmZhY2U6OlFVSUVUKTsKdGhyb3cgJGU7Cn0KfSBlbHNlIHsKJGFyZ3MgPSBpbXBsb2RlKCcgJywgYXJyYXlfbWFwKGFycmF5KCdDb21wb3NlclxVdGlsXFByb2Nlc3NFeGVjdXRvcicsICdlc2NhcGUnKSwgJGV2ZW50LT5nZXRBcmd1bWVudHMoKSkpOwokZXhlYyA9ICRjYWxsYWJsZSAuICgkYXJncyA9PT0gJycgPyAnJyA6ICcgJy4kYXJncyk7CmlmICgkdGhpcy0+aW8tPmlzVmVyYm9zZSgpKSB7CiR0aGlzLT5pby0+d3JpdGVFcnJvcihzcHJpbnRmKCc+ICVzOiAlcycsICRldmVudC0+Z2V0TmFtZSgpLCAkZXhlYykpOwp9IGVsc2VpZiAoJGV2ZW50LT5nZXROYW1lKCkgIT09ICdfX2V4ZWNfY29tbWFuZCcpIHsKCiR0aGlzLT5pby0+d3JpdGVFcnJvcihzcHJpbnRmKCc+ICVzJywgJGV4ZWMpKTsKfQoKJHBvc3NpYmxlTG9jYWxCaW5hcmllcyA9ICR0aGlzLT5jb21wb3Nlci0+Z2V0UGFja2FnZSgpLT5nZXRCaW5hcmllcygpOwppZiAoJHBvc3NpYmxlTG9jYWxCaW5hcmllcykgewpmb3JlYWNoICgkcG9zc2libGVMb2NhbEJpbmFyaWVzIGFzICRsb2NhbEV4ZWMpIHsKaWYgKHByZWdfbWF0Y2goJ3tcYicucHJlZ19xdW90ZSgkY2FsbGFibGUpLickfScsICRsb2NhbEV4ZWMpKSB7CiRjYWxsZXIgPSBCaW5hcnlJbnN0YWxsZXI6OmRldGVybWluZUJpbmFyeUNhbGxlcigkbG9jYWxFeGVjKTsKJGV4ZWMgPSBwcmVnX3JlcGxhY2UoJ3teJy5wcmVnX3F1b3RlKCRjYWxsYWJsZSkuJ30nLCAkY2FsbGVyIC4gJyAnIC4gJGxvY2FsRXhlYywgJGV4ZWMpOwpicmVhazsKfQp9Cn0KCmlmIChzdHJwb3MoJGV4ZWMsICdAcHV0ZW52ICcpID09PSAwKSB7CmlmIChmYWxzZSA9PT0gc3RycG9zKCRleGVjLCAnPScpKSB7ClBsYXRmb3JtOjpjbGVhckVudihzdWJzdHIoJGV4ZWMsIDgpKTsKfSBlbHNlIHsKbGlzdCgkdmFyLCAkdmFsdWUpID0gZXhwbG9kZSgnPScsIHN1YnN0cigkZXhlYywgOCksIDIpOwpQbGF0Zm9ybTo6cHV0RW52KCR2YXIsICR2YWx1ZSk7Cn0KCmNvbnRpbnVlOwp9CmlmIChzdHJwb3MoJGV4ZWMsICdAcGhwICcpID09PSAwKSB7CiRwYXRoQW5kQXJncyA9IHN1YnN0cigkZXhlYywgNSk7CmlmIChQbGF0Zm9ybTo6aXNXaW5kb3dzKCkpIHsKJHBhdGhBbmRBcmdzID0gcHJlZ19yZXBsYWNlX2NhbGxiYWNrKCd7XlxTK30nLCBmdW5jdGlvbiAoJHBhdGgpIHsKcmV0dXJuIHN0cl9yZXBsYWNlKCcvJywgJ1xcJywgJHBhdGhbMF0pOwp9LCAkcGF0aEFuZEFyZ3MpOwp9CgoKJG1hdGNoZWQgPSBwcmVnX21hdGNoKCd7XlteXCciXHMvXFxcXF0rfScsICRwYXRoQW5kQXJncywgJG1hdGNoKTsKaWYgKCRtYXRjaGVkICYmICFmaWxlX2V4aXN0cygkbWF0Y2hbMF0pKSB7CiRmaW5kZXIgPSBuZXcgRXhlY3V0YWJsZUZpbmRlcjsKaWYgKCRwYXRoVG9FeGVjID0gJGZpbmRlci0+ZmluZCgkbWF0Y2hbMF0pKSB7CiRwYXRoQW5kQXJncyA9ICRwYXRoVG9FeGVjIC4gc3Vic3RyKCRwYXRoQW5kQXJncywgc3RybGVuKCRtYXRjaFswXSkpOwp9Cn0KJGV4ZWMgPSAkdGhpcy0+Z2V0UGhwRXhlY0NvbW1hbmQoKSAuICcgJyAuICRwYXRoQW5kQXJnczsKfSBlbHNlIHsKJGZpbmRlciA9IG5ldyBQaHBFeGVjdXRhYmxlRmluZGVyKCk7CiRwaHBQYXRoID0gJGZpbmRlci0+ZmluZChmYWxzZSk7CmlmICgkcGhwUGF0aCkgewpQbGF0Zm9ybTo6cHV0RW52KCdQSFBfQklOQVJZJywgJHBocFBhdGgpOwp9CgppZiAoUGxhdGZvcm06OmlzV2luZG93cygpKSB7CiRleGVjID0gcHJlZ19yZXBsYWNlX2NhbGxiYWNrKCd7XlxTK30nLCBmdW5jdGlvbiAoJHBhdGgpIHsKcmV0dXJuIHN0cl9yZXBsYWNlKCcvJywgJ1xcJywgJHBhdGhbMF0pOwp9LCAkZXhlYyk7Cn0KfQoKCgoKaWYgKHN0cnBvcygkZXhlYywgJ2NvbXBvc2VyICcpID09PSAwKSB7CiRleGVjID0gJHRoaXMtPmdldFBocEV4ZWNDb21tYW5kKCkgLiAnICcgLiBQcm9jZXNzRXhlY3V0b3I6OmVzY2FwZShnZXRlbnYoJ0NPTVBPU0VSX0JJTkFSWScpKSAuIHN1YnN0cigkZXhlYywgOCk7Cn0KCmlmICgwICE9PSAoJGV4aXRDb2RlID0gJHRoaXMtPmV4ZWN1dGVUdHkoJGV4ZWMpKSkgewokdGhpcy0+aW8tPndyaXRlRXJyb3Ioc3ByaW50ZignPGVycm9yPlNjcmlwdCAlcyBoYW5kbGluZyB0aGUgJXMgZXZlbnQgcmV0dXJuZWQgd2l0aCBlcnJvciBjb2RlICcuJGV4aXRDb2RlLic8L2Vycm9yPicsICRjYWxsYWJsZSwgJGV2ZW50LT5nZXROYW1lKCkpLCB0cnVlLCBJT0ludGVyZmFjZTo6UVVJRVQpOwoKdGhyb3cgbmV3IFNjcmlwdEV4ZWN1dGlvbkV4Y2VwdGlvbignRXJyb3IgT3V0cHV0OiAnLiR0aGlzLT5wcm9jZXNzLT5nZXRFcnJvck91dHB1dCgpLCAkZXhpdENvZGUpOwp9Cn0KCiRyZXR1cm5NYXggPSBtYXgoJHJldHVybk1heCwgJHJldHVybik7CgppZiAoJGV2ZW50LT5pc1Byb3BhZ2F0aW9uU3RvcHBlZCgpKSB7CmJyZWFrOwp9Cn0KfSBjYXRjaCAoXEV4Y2VwdGlvbiAkZSkgeyAKJHRoaXMtPnBvcEV2ZW50KCk7Cgp0aHJvdyAkZTsKfSBjYXRjaCAoXFRocm93YWJsZSAkZSkgewokdGhpcy0+cG9wRXZlbnQoKTsKCnRocm93ICRlOwp9CgokdGhpcy0+cG9wRXZlbnQoKTsKCnJldHVybiAkcmV0dXJuTWF4Owp9Cgpwcm90ZWN0ZWQgZnVuY3Rpb24gZXhlY3V0ZVR0eSgkZXhlYykKewppZiAoJHRoaXMtPmlvLT5pc0ludGVyYWN0aXZlKCkpIHsKcmV0dXJuICR0aGlzLT5wcm9jZXNzLT5leGVjdXRlVHR5KCRleGVjKTsKfQoKcmV0dXJuICR0aGlzLT5wcm9jZXNzLT5leGVjdXRlKCRleGVjKTsKfQoKcHJvdGVjdGVkIGZ1bmN0aW9uIGdldFBocEV4ZWNDb21tYW5kKCkKewokZmluZGVyID0gbmV3IFBocEV4ZWN1dGFibGVGaW5kZXIoKTsKJHBocFBhdGggPSAkZmluZGVyLT5maW5kKGZhbHNlKTsKaWYgKCEkcGhwUGF0aCkgewp0aHJvdyBuZXcgXFJ1bnRpbWVFeGNlcHRpb24oJ0ZhaWxlZCB0byBsb2NhdGUgUEhQIGJpbmFyeSB0byBleGVjdXRlICcuJHBocFBhdGgpOwp9CiRwaHBBcmdzID0gJGZpbmRlci0+ZmluZEFyZ3VtZW50cygpOwokcGhwQXJncyA9ICRwaHBBcmdzID8gJyAnIC4gaW1wbG9kZSgnICcsICRwaHBBcmdzKSA6ICcnOwokYWxsb3dVcmxGT3BlbkZsYWcgPSAnIC1kIGFsbG93X3VybF9mb3Blbj0nIC4gUHJvY2Vzc0V4ZWN1dG9yOjplc2NhcGUoaW5pX2dldCgnYWxsb3dfdXJsX2ZvcGVuJykpOwokZGlzYWJsZUZ1bmN0aW9uc0ZsYWcgPSAnIC1kIGRpc2FibGVfZnVuY3Rpb25zPScgLiBQcm9jZXNzRXhlY3V0b3I6OmVzY2FwZShpbmlfZ2V0KCdkaXNhYmxlX2Z1bmN0aW9ucycpKTsKJG1lbW9yeUxpbWl0RmxhZyA9ICcgLWQgbWVtb3J5X2xpbWl0PScgLiBQcm9jZXNzRXhlY3V0b3I6OmVzY2FwZShpbmlfZ2V0KCdtZW1vcnlfbGltaXQnKSk7CgpyZXR1cm4gUHJvY2Vzc0V4ZWN1dG9yOjplc2NhcGUoJHBocFBhdGgpIC4gJHBocEFyZ3MgLiAkYWxsb3dVcmxGT3BlbkZsYWcgLiAkZGlzYWJsZUZ1bmN0aW9uc0ZsYWcgLiAkbWVtb3J5TGltaXRGbGFnOwp9CgoKCgoKCnByb3RlY3RlZCBmdW5jdGlvbiBleGVjdXRlRXZlbnRQaHBTY3JpcHQoJGNsYXNzTmFtZSwgJG1ldGhvZE5hbWUsIEV2ZW50ICRldmVudCkKewppZiAoJHRoaXMtPmlvLT5pc1ZlcmJvc2UoKSkgewokdGhpcy0+aW8tPndyaXRlRXJyb3Ioc3ByaW50ZignPiAlczogJXM6OiVzJywgJGV2ZW50LT5nZXROYW1lKCksICRjbGFzc05hbWUsICRtZXRob2ROYW1lKSk7Cn0gZWxzZSB7CiR0aGlzLT5pby0+d3JpdGVFcnJvcihzcHJpbnRmKCc+ICVzOjolcycsICRjbGFzc05hbWUsICRtZXRob2ROYW1lKSk7Cn0KCnJldHVybiAkY2xhc3NOYW1lOjokbWV0aG9kTmFtZSgkZXZlbnQpOwp9CgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIGFkZExpc3RlbmVyKCRldmVudE5hbWUsICRsaXN0ZW5lciwgJHByaW9yaXR5ID0gMCkKewokdGhpcy0+bGlzdGVuZXJzWyRldmVudE5hbWVdWyRwcmlvcml0eV1bXSA9ICRsaXN0ZW5lcjsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIHJlbW92ZUxpc3RlbmVyKCRsaXN0ZW5lcikKewpmb3JlYWNoICgkdGhpcy0+bGlzdGVuZXJzIGFzICRldmVudE5hbWUgPT4gJHByaW9yaXRpZXMpIHsKZm9yZWFjaCAoJHByaW9yaXRpZXMgYXMgJHByaW9yaXR5ID0+ICRsaXN0ZW5lcnMpIHsKZm9yZWFjaCAoJGxpc3RlbmVycyBhcyAkaW5kZXggPT4gJGNhbmRpZGF0ZSkgewppZiAoJGxpc3RlbmVyID09PSAkY2FuZGlkYXRlIHx8IChpc19hcnJheSgkY2FuZGlkYXRlKSAmJiBpc19vYmplY3QoJGxpc3RlbmVyKSAmJiAkY2FuZGlkYXRlWzBdID09PSAkbGlzdGVuZXIpKSB7CnVuc2V0KCR0aGlzLT5saXN0ZW5lcnNbJGV2ZW50TmFtZV1bJHByaW9yaXR5XVskaW5kZXhdKTsKfQp9Cn0KfQp9CgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIGFkZFN1YnNjcmliZXIoRXZlbnRTdWJzY3JpYmVySW50ZXJmYWNlICRzdWJzY3JpYmVyKQp7CmZvcmVhY2ggKCRzdWJzY3JpYmVyLT5nZXRTdWJzY3JpYmVkRXZlbnRzKCkgYXMgJGV2ZW50TmFtZSA9PiAkcGFyYW1zKSB7CmlmIChpc19zdHJpbmcoJHBhcmFtcykpIHsKJHRoaXMtPmFkZExpc3RlbmVyKCRldmVudE5hbWUsIGFycmF5KCRzdWJzY3JpYmVyLCAkcGFyYW1zKSk7Cn0gZWxzZWlmIChpc19zdHJpbmcoJHBhcmFtc1swXSkpIHsKJHRoaXMtPmFkZExpc3RlbmVyKCRldmVudE5hbWUsIGFycmF5KCRzdWJzY3JpYmVyLCAkcGFyYW1zWzBdKSwgaXNzZXQoJHBhcmFtc1sxXSkgPyAkcGFyYW1zWzFdIDogMCk7Cn0gZWxzZSB7CmZvcmVhY2ggKCRwYXJhbXMgYXMgJGxpc3RlbmVyKSB7CiR0aGlzLT5hZGRMaXN0ZW5lcigkZXZlbnROYW1lLCBhcnJheSgkc3Vic2NyaWJlciwgJGxpc3RlbmVyWzBdKSwgaXNzZXQoJGxpc3RlbmVyWzFdKSA/ICRsaXN0ZW5lclsxXSA6IDApOwp9Cn0KfQp9CgoKCgoKCgpwcm90ZWN0ZWQgZnVuY3Rpb24gZ2V0TGlzdGVuZXJzKEV2ZW50ICRldmVudCkKewokc2NyaXB0TGlzdGVuZXJzID0gJHRoaXMtPnJ1blNjcmlwdHMgPyAkdGhpcy0+Z2V0U2NyaXB0TGlzdGVuZXJzKCRldmVudCkgOiBhcnJheSgpOwoKaWYgKCFpc3NldCgkdGhpcy0+bGlzdGVuZXJzWyRldmVudC0+Z2V0TmFtZSgpXVswXSkpIHsKJHRoaXMtPmxpc3RlbmVyc1skZXZlbnQtPmdldE5hbWUoKV1bMF0gPSBhcnJheSgpOwp9Cmtyc29ydCgkdGhpcy0+bGlzdGVuZXJzWyRldmVudC0+Z2V0TmFtZSgpXSk7CgokbGlzdGVuZXJzID0gJHRoaXMtPmxpc3RlbmVyczsKJGxpc3RlbmVyc1skZXZlbnQtPmdldE5hbWUoKV1bMF0gPSBhcnJheV9tZXJnZSgkbGlzdGVuZXJzWyRldmVudC0+Z2V0TmFtZSgpXVswXSwgJHNjcmlwdExpc3RlbmVycyk7CgpyZXR1cm4gY2FsbF91c2VyX2Z1bmNfYXJyYXkoJ2FycmF5X21lcmdlJywgJGxpc3RlbmVyc1skZXZlbnQtPmdldE5hbWUoKV0pOwp9CgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gaGFzRXZlbnRMaXN0ZW5lcnMoRXZlbnQgJGV2ZW50KQp7CiRsaXN0ZW5lcnMgPSAkdGhpcy0+Z2V0TGlzdGVuZXJzKCRldmVudCk7CgpyZXR1cm4gY291bnQoJGxpc3RlbmVycykgPiAwOwp9CgoKCgoKCgpwcm90ZWN0ZWQgZnVuY3Rpb24gZ2V0U2NyaXB0TGlzdGVuZXJzKEV2ZW50ICRldmVudCkKewokcGFja2FnZSA9ICR0aGlzLT5jb21wb3Nlci0+Z2V0UGFja2FnZSgpOwokc2NyaXB0cyA9ICRwYWNrYWdlLT5nZXRTY3JpcHRzKCk7CgppZiAoZW1wdHkoJHNjcmlwdHNbJGV2ZW50LT5nZXROYW1lKCldKSkgewpyZXR1cm4gYXJyYXkoKTsKfQoKaWYgKCR0aGlzLT5sb2FkZXIpIHsKJHRoaXMtPmxvYWRlci0+dW5yZWdpc3RlcigpOwp9CgokZ2VuZXJhdG9yID0gJHRoaXMtPmNvbXBvc2VyLT5nZXRBdXRvbG9hZEdlbmVyYXRvcigpOwppZiAoJGV2ZW50IGluc3RhbmNlb2YgU2NyaXB0RXZlbnQpIHsKJGdlbmVyYXRvci0+c2V0RGV2TW9kZSgkZXZlbnQtPmlzRGV2TW9kZSgpKTsKfQoKJHBhY2thZ2VzID0gJHRoaXMtPmNvbXBvc2VyLT5nZXRSZXBvc2l0b3J5TWFuYWdlcigpLT5nZXRMb2NhbFJlcG9zaXRvcnkoKS0+Z2V0Q2Fub25pY2FsUGFja2FnZXMoKTsKJHBhY2thZ2VNYXAgPSAkZ2VuZXJhdG9yLT5idWlsZFBhY2thZ2VNYXAoJHRoaXMtPmNvbXBvc2VyLT5nZXRJbnN0YWxsYXRpb25NYW5hZ2VyKCksICRwYWNrYWdlLCAkcGFja2FnZXMpOwokbWFwID0gJGdlbmVyYXRvci0+cGFyc2VBdXRvbG9hZHMoJHBhY2thZ2VNYXAsICRwYWNrYWdlKTsKJHRoaXMtPmxvYWRlciA9ICRnZW5lcmF0b3ItPmNyZWF0ZUxvYWRlcigkbWFwLCAkdGhpcy0+Y29tcG9zZXItPmdldENvbmZpZygpLT5nZXQoJ3ZlbmRvci1kaXInKSk7CiR0aGlzLT5sb2FkZXItPnJlZ2lzdGVyKGZhbHNlKTsKCnJldHVybiAkc2NyaXB0c1skZXZlbnQtPmdldE5hbWUoKV07Cn0KCgoKCgoKCnByb3RlY3RlZCBmdW5jdGlvbiBpc1BocFNjcmlwdCgkY2FsbGFibGUpCnsKcmV0dXJuIGZhbHNlID09PSBzdHJwb3MoJGNhbGxhYmxlLCAnICcpICYmIGZhbHNlICE9PSBzdHJwb3MoJGNhbGxhYmxlLCAnOjonKTsKfQoKCgoKCgoKcHJvdGVjdGVkIGZ1bmN0aW9uIGlzQ29tcG9zZXJTY3JpcHQoJGNhbGxhYmxlKQp7CnJldHVybiBzdHJwb3MoJGNhbGxhYmxlLCAnQCcpID09PSAwICYmIHN0cnBvcygkY2FsbGFibGUsICdAcGhwICcpICE9PSAwICYmIHN0cnBvcygkY2FsbGFibGUsICdAcHV0ZW52ICcpICE9PSAwOwp9CgoKCgoKCgoKcHJvdGVjdGVkIGZ1bmN0aW9uIHB1c2hFdmVudChFdmVudCAkZXZlbnQpCnsKJGV2ZW50TmFtZSA9ICRldmVudC0+Z2V0TmFtZSgpOwppZiAoaW5fYXJyYXkoJGV2ZW50TmFtZSwgJHRoaXMtPmV2ZW50U3RhY2spKSB7CnRocm93IG5ldyBcUnVudGltZUV4Y2VwdGlvbihzcHJpbnRmKCJDaXJjdWxhciBjYWxsIHRvIHNjcmlwdCBoYW5kbGVyICclcycgZGV0ZWN0ZWQiLCAkZXZlbnROYW1lKSk7Cn0KCnJldHVybiBhcnJheV9wdXNoKCR0aGlzLT5ldmVudFN0YWNrLCAkZXZlbnROYW1lKTsKfQoKCgoKCgpwcm90ZWN0ZWQgZnVuY3Rpb24gcG9wRXZlbnQoKQp7CnJldHVybiBhcnJheV9wb3AoJHRoaXMtPmV2ZW50U3RhY2spOwp9Cgpwcml2YXRlIGZ1bmN0aW9uIGVuc3VyZUJpbkRpcklzSW5QYXRoKCkKewokcGF0aFN0ciA9ICdQQVRIJzsKaWYgKCFpc3NldCgkX1NFUlZFUlskcGF0aFN0cl0pICYmIGlzc2V0KCRfU0VSVkVSWydQYXRoJ10pKSB7CiRwYXRoU3RyID0gJ1BhdGgnOwp9CgoKJGJpbkRpciA9ICR0aGlzLT5jb21wb3Nlci0+Z2V0Q29uZmlnKCktPmdldCgnYmluLWRpcicpOwppZiAoaXNfZGlyKCRiaW5EaXIpKSB7CiRiaW5EaXIgPSByZWFscGF0aCgkYmluRGlyKTsKaWYgKGlzc2V0KCRfU0VSVkVSWyRwYXRoU3RyXSkgJiYgIXByZWdfbWF0Y2goJ3soXnwnLlBBVEhfU0VQQVJBVE9SLicpJy5wcmVnX3F1b3RlKCRiaW5EaXIpLicoJHwnLlBBVEhfU0VQQVJBVE9SLicpfScsICRfU0VSVkVSWyRwYXRoU3RyXSkpIHsKUGxhdGZvcm06OnB1dEVudigkcGF0aFN0ciwgJGJpbkRpci5QQVRIX1NFUEFSQVRPUi5nZXRlbnYoJHBhdGhTdHIpKTsKfQp9Cn0KfQo8P3BocAoKCgoKCgoKCgoKCm5hbWVzcGFjZSBDb21wb3NlclxFdmVudERpc3BhdGNoZXI7CgoKCgoKCgoKCgoKCgppbnRlcmZhY2UgRXZlbnRTdWJzY3JpYmVySW50ZXJmYWNlCnsKCgoKCgoKCgoKCgoKCgoKCgoKcHVibGljIHN0YXRpYyBmdW5jdGlvbiBnZXRTdWJzY3JpYmVkRXZlbnRzKCk7Cn0KPD9waHAKCgoKCgoKCgoKCgpuYW1lc3BhY2UgQ29tcG9zZXJcRXZlbnREaXNwYXRjaGVyOwoKCgoKY2xhc3MgU2NyaXB0RXhlY3V0aW9uRXhjZXB0aW9uIGV4dGVuZHMgXFJ1bnRpbWVFeGNlcHRpb24Kewp9Cjw/cGhwCgoKCgoKCgoKCgoKbmFtZXNwYWNlIENvbXBvc2VyXEV4Y2VwdGlvbjsKCgoKCmNsYXNzIElycmVjb3ZlcmFibGVEb3dubG9hZEV4Y2VwdGlvbiBleHRlbmRzIFxSdW50aW1lRXhjZXB0aW9uCnsKfQo8P3BocAoKCgoKCgoKCgoKCm5hbWVzcGFjZSBDb21wb3NlclxFeGNlcHRpb247CgoKCgoKCmNsYXNzIE5vU3NsRXhjZXB0aW9uIGV4dGVuZHMgXFJ1bnRpbWVFeGNlcHRpb24Kewp9Cjw/cGhwCgoKCgoKCgoKCgoKbmFtZXNwYWNlIENvbXBvc2VyOwoKdXNlIENvbXBvc2VyXENvbmZpZ1xKc29uQ29uZmlnU291cmNlOwp1c2UgQ29tcG9zZXJcSnNvblxKc29uRmlsZTsKdXNlIENvbXBvc2VyXElPXElPSW50ZXJmYWNlOwp1c2UgQ29tcG9zZXJcUGFja2FnZVxBcmNoaXZlcjsKdXNlIENvbXBvc2VyXFBhY2thZ2VcVmVyc2lvblxWZXJzaW9uR3Vlc3NlcjsKdXNlIENvbXBvc2VyXFBhY2thZ2VcUm9vdFBhY2thZ2VJbnRlcmZhY2U7CnVzZSBDb21wb3NlclxSZXBvc2l0b3J5XFJlcG9zaXRvcnlNYW5hZ2VyOwp1c2UgQ29tcG9zZXJcUmVwb3NpdG9yeVxSZXBvc2l0b3J5RmFjdG9yeTsKdXNlIENvbXBvc2VyXFJlcG9zaXRvcnlcV3JpdGFibGVSZXBvc2l0b3J5SW50ZXJmYWNlOwp1c2UgQ29tcG9zZXJcVXRpbFxGaWxlc3lzdGVtOwp1c2UgQ29tcG9zZXJcVXRpbFxQbGF0Zm9ybTsKdXNlIENvbXBvc2VyXFV0aWxcUHJvY2Vzc0V4ZWN1dG9yOwp1c2UgQ29tcG9zZXJcVXRpbFxIdHRwRG93bmxvYWRlcjsKdXNlIENvbXBvc2VyXFV0aWxcTG9vcDsKdXNlIENvbXBvc2VyXFV0aWxcU2lsZW5jZXI7CnVzZSBDb21wb3NlclxQbHVnaW5cUGx1Z2luRXZlbnRzOwp1c2UgQ29tcG9zZXJcRXZlbnREaXNwYXRjaGVyXEV2ZW50Owp1c2UgU2VsZFxKc29uTGludFxEdXBsaWNhdGVLZXlFeGNlcHRpb247CnVzZSBTeW1mb255XENvbXBvbmVudFxDb25zb2xlXEZvcm1hdHRlclxPdXRwdXRGb3JtYXR0ZXI7CnVzZSBTeW1mb255XENvbXBvbmVudFxDb25zb2xlXEZvcm1hdHRlclxPdXRwdXRGb3JtYXR0ZXJTdHlsZTsKdXNlIFN5bWZvbnlcQ29tcG9uZW50XENvbnNvbGVcT3V0cHV0XENvbnNvbGVPdXRwdXQ7CnVzZSBDb21wb3NlclxFdmVudERpc3BhdGNoZXJcRXZlbnREaXNwYXRjaGVyOwp1c2UgQ29tcG9zZXJcQXV0b2xvYWRcQXV0b2xvYWRHZW5lcmF0b3I7CnVzZSBDb21wb3NlclxQYWNrYWdlXFZlcnNpb25cVmVyc2lvblBhcnNlcjsKdXNlIENvbXBvc2VyXERvd25sb2FkZXJcVHJhbnNwb3J0RXhjZXB0aW9uOwp1c2UgU2VsZFxKc29uTGludFxKc29uUGFyc2VyOwoKCgoKCgoKCgpjbGFzcyBGYWN0b3J5CnsKCgoKCnByb3RlY3RlZCBzdGF0aWMgZnVuY3Rpb24gZ2V0SG9tZURpcigpCnsKJGhvbWUgPSBnZXRlbnYoJ0NPTVBPU0VSX0hPTUUnKTsKaWYgKCRob21lKSB7CnJldHVybiAkaG9tZTsKfQoKaWYgKFBsYXRmb3JtOjppc1dpbmRvd3MoKSkgewppZiAoIWdldGVudignQVBQREFUQScpKSB7CnRocm93IG5ldyBcUnVudGltZUV4Y2VwdGlvbignVGhlIEFQUERBVEEgb3IgQ09NUE9TRVJfSE9NRSBlbnZpcm9ubWVudCB2YXJpYWJsZSBtdXN0IGJlIHNldCBmb3IgY29tcG9zZXIgdG8gcnVuIGNvcnJlY3RseScpOwp9CgpyZXR1cm4gcnRyaW0oc3RydHIoZ2V0ZW52KCdBUFBEQVRBJyksICdcXCcsICcvJyksICcvJykgLiAnL0NvbXBvc2VyJzsKfQoKJHVzZXJEaXIgPSBzZWxmOjpnZXRVc2VyRGlyKCk7CiRkaXJzID0gYXJyYXkoKTsKCmlmIChzZWxmOjp1c2VYZGcoKSkgewoKJHhkZ0NvbmZpZyA9IGdldGVudignWERHX0NPTkZJR19IT01FJyk7CmlmICghJHhkZ0NvbmZpZykgewokeGRnQ29uZmlnID0gJHVzZXJEaXIgLiAnLy5jb25maWcnOwp9CgokZGlyc1tdID0gJHhkZ0NvbmZpZyAuICcvY29tcG9zZXInOwp9CgokZGlyc1tdID0gJHVzZXJEaXIgLiAnLy5jb21wb3Nlcic7CgoKZm9yZWFjaCAoJGRpcnMgYXMgJGRpcikgewppZiAoU2lsZW5jZXI6OmNhbGwoJ2lzX2RpcicsICRkaXIpKSB7CnJldHVybiAkZGlyOwp9Cn0KCgpyZXR1cm4gJGRpcnNbMF07Cn0KCgoKCgpwcm90ZWN0ZWQgc3RhdGljIGZ1bmN0aW9uIGdldENhY2hlRGlyKCRob21lKQp7CiRjYWNoZURpciA9IGdldGVudignQ09NUE9TRVJfQ0FDSEVfRElSJyk7CmlmICgkY2FjaGVEaXIpIHsKcmV0dXJuICRjYWNoZURpcjsKfQoKJGhvbWVFbnYgPSBnZXRlbnYoJ0NPTVBPU0VSX0hPTUUnKTsKaWYgKCRob21lRW52KSB7CnJldHVybiAkaG9tZUVudiAuICcvY2FjaGUnOwp9CgppZiAoUGxhdGZvcm06OmlzV2luZG93cygpKSB7CmlmICgkY2FjaGVEaXIgPSBnZXRlbnYoJ0xPQ0FMQVBQREFUQScpKSB7CiRjYWNoZURpciAuPSAnL0NvbXBvc2VyJzsKfSBlbHNlIHsKJGNhY2hlRGlyID0gJGhvbWUgLiAnL2NhY2hlJzsKfQoKcmV0dXJuIHJ0cmltKHN0cnRyKCRjYWNoZURpciwgJ1xcJywgJy8nKSwgJy8nKTsKfQoKJHVzZXJEaXIgPSBzZWxmOjpnZXRVc2VyRGlyKCk7CmlmIChQSFBfT1MgPT09ICdEYXJ3aW4nKSB7CgppZiAoaXNfZGlyKCRob21lIC4gJy9jYWNoZScpICYmICFpc19kaXIoJHVzZXJEaXIgLiAnL0xpYnJhcnkvQ2FjaGVzL2NvbXBvc2VyJykpIHsKU2lsZW5jZXI6OmNhbGwoJ3JlbmFtZScsICRob21lIC4gJy9jYWNoZScsICR1c2VyRGlyIC4gJy9MaWJyYXJ5L0NhY2hlcy9jb21wb3NlcicpOwp9CgpyZXR1cm4gJHVzZXJEaXIgLiAnL0xpYnJhcnkvQ2FjaGVzL2NvbXBvc2VyJzsKfQoKaWYgKCRob21lID09PSAkdXNlckRpciAuICcvLmNvbXBvc2VyJyAmJiBpc19kaXIoJGhvbWUgLiAnL2NhY2hlJykpIHsKcmV0dXJuICRob21lIC4gJy9jYWNoZSc7Cn0KCmlmIChzZWxmOjp1c2VYZGcoKSkgewokeGRnQ2FjaGUgPSBnZXRlbnYoJ1hER19DQUNIRV9IT01FJykgPzogJHVzZXJEaXIgLiAnLy5jYWNoZSc7CgpyZXR1cm4gJHhkZ0NhY2hlIC4gJy9jb21wb3Nlcic7Cn0KCnJldHVybiAkaG9tZSAuICcvY2FjaGUnOwp9CgoKCgoKcHJvdGVjdGVkIHN0YXRpYyBmdW5jdGlvbiBnZXREYXRhRGlyKCRob21lKQp7CiRob21lRW52ID0gZ2V0ZW52KCdDT01QT1NFUl9IT01FJyk7CmlmICgkaG9tZUVudikgewpyZXR1cm4gJGhvbWVFbnY7Cn0KCmlmIChQbGF0Zm9ybTo6aXNXaW5kb3dzKCkpIHsKcmV0dXJuIHN0cnRyKCRob21lLCAnXFwnLCAnLycpOwp9CgokdXNlckRpciA9IHNlbGY6OmdldFVzZXJEaXIoKTsKaWYgKCRob21lICE9PSAkdXNlckRpciAuICcvLmNvbXBvc2VyJyAmJiBzZWxmOjp1c2VYZGcoKSkgewokeGRnRGF0YSA9IGdldGVudignWERHX0RBVEFfSE9NRScpID86ICR1c2VyRGlyIC4gJy8ubG9jYWwvc2hhcmUnOwoKcmV0dXJuICR4ZGdEYXRhIC4gJy9jb21wb3Nlcic7Cn0KCnJldHVybiAkaG9tZTsKfQoKCgoKCnB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gY3JlYXRlQ29uZmlnKElPSW50ZXJmYWNlICRpbyA9IG51bGwsICRjd2QgPSBudWxsKQp7CiRjd2QgPSAkY3dkID86IGdldGN3ZCgpOwoKJGNvbmZpZyA9IG5ldyBDb25maWcodHJ1ZSwgJGN3ZCk7CgoKJGhvbWUgPSBzZWxmOjpnZXRIb21lRGlyKCk7CiRjb25maWctPm1lcmdlKGFycmF5KCdjb25maWcnID0+IGFycmF5KAonaG9tZScgPT4gJGhvbWUsCidjYWNoZS1kaXInID0+IHNlbGY6OmdldENhY2hlRGlyKCRob21lKSwKJ2RhdGEtZGlyJyA9PiBzZWxmOjpnZXREYXRhRGlyKCRob21lKSwKKSkpOwoKCiRmaWxlID0gbmV3IEpzb25GaWxlKCRjb25maWctPmdldCgnaG9tZScpLicvY29uZmlnLmpzb24nKTsKaWYgKCRmaWxlLT5leGlzdHMoKSkgewppZiAoJGlvICYmICRpby0+aXNEZWJ1ZygpKSB7CiRpby0+d3JpdGVFcnJvcignTG9hZGluZyBjb25maWcgZmlsZSAnIC4gJGZpbGUtPmdldFBhdGgoKSk7Cn0KJGNvbmZpZy0+bWVyZ2UoJGZpbGUtPnJlYWQoKSk7Cn0KJGNvbmZpZy0+c2V0Q29uZmlnU291cmNlKG5ldyBKc29uQ29uZmlnU291cmNlKCRmaWxlKSk7CgokaHRhY2Nlc3NQcm90ZWN0ID0gKGJvb2wpICRjb25maWctPmdldCgnaHRhY2Nlc3MtcHJvdGVjdCcpOwppZiAoJGh0YWNjZXNzUHJvdGVjdCkgewoKCgokZGlycyA9IGFycmF5KCRjb25maWctPmdldCgnaG9tZScpLCAkY29uZmlnLT5nZXQoJ2NhY2hlLWRpcicpLCAkY29uZmlnLT5nZXQoJ2RhdGEtZGlyJykpOwpmb3JlYWNoICgkZGlycyBhcyAkZGlyKSB7CmlmICghZmlsZV9leGlzdHMoJGRpciAuICcvLmh0YWNjZXNzJykpIHsKaWYgKCFpc19kaXIoJGRpcikpIHsKU2lsZW5jZXI6OmNhbGwoJ21rZGlyJywgJGRpciwgMDc3NywgdHJ1ZSk7Cn0KU2lsZW5jZXI6OmNhbGwoJ2ZpbGVfcHV0X2NvbnRlbnRzJywgJGRpciAuICcvLmh0YWNjZXNzJywgJ0RlbnkgZnJvbSBhbGwnKTsKfQp9Cn0KCgokZmlsZSA9IG5ldyBKc29uRmlsZSgkY29uZmlnLT5nZXQoJ2hvbWUnKS4nL2F1dGguanNvbicpOwppZiAoJGZpbGUtPmV4aXN0cygpKSB7CmlmICgkaW8gJiYgJGlvLT5pc0RlYnVnKCkpIHsKJGlvLT53cml0ZUVycm9yKCdMb2FkaW5nIGNvbmZpZyBmaWxlICcgLiAkZmlsZS0+Z2V0UGF0aCgpKTsKfQokY29uZmlnLT5tZXJnZShhcnJheSgnY29uZmlnJyA9PiAkZmlsZS0+cmVhZCgpKSk7Cn0KJGNvbmZpZy0+c2V0QXV0aENvbmZpZ1NvdXJjZShuZXcgSnNvbkNvbmZpZ1NvdXJjZSgkZmlsZSwgdHJ1ZSkpOwoKCmlmICgkY29tcG9zZXJBdXRoRW52ID0gZ2V0ZW52KCdDT01QT1NFUl9BVVRIJykpIHsKJGF1dGhEYXRhID0ganNvbl9kZWNvZGUoJGNvbXBvc2VyQXV0aEVudiwgdHJ1ZSk7CgppZiAobnVsbCA9PT0gJGF1dGhEYXRhKSB7CnRocm93IG5ldyBcVW5leHBlY3RlZFZhbHVlRXhjZXB0aW9uKCdDT01QT1NFUl9BVVRIIGVudmlyb25tZW50IHZhcmlhYmxlIGlzIG1hbGZvcm1lZCwgc2hvdWxkIGJlIGEgdmFsaWQgSlNPTiBvYmplY3QnKTsKfQoKaWYgKCRpbyAmJiAkaW8tPmlzRGVidWcoKSkgewokaW8tPndyaXRlRXJyb3IoJ0xvYWRpbmcgYXV0aCBjb25maWcgZnJvbSBDT01QT1NFUl9BVVRIJyk7Cn0KJGNvbmZpZy0+bWVyZ2UoYXJyYXkoJ2NvbmZpZycgPT4gJGF1dGhEYXRhKSk7Cn0KCnJldHVybiAkY29uZmlnOwp9CgpwdWJsaWMgc3RhdGljIGZ1bmN0aW9uIGdldENvbXBvc2VyRmlsZSgpCnsKcmV0dXJuIHRyaW0oZ2V0ZW52KCdDT01QT1NFUicpKSA/OiAnLi9jb21wb3Nlci5qc29uJzsKfQoKcHVibGljIHN0YXRpYyBmdW5jdGlvbiBnZXRMb2NrRmlsZSgkY29tcG9zZXJGaWxlKQp7CnJldHVybiAianNvbiIgPT09IHBhdGhpbmZvKCRjb21wb3NlckZpbGUsIFBBVEhJTkZPX0VYVEVOU0lPTikKPyBzdWJzdHIoJGNvbXBvc2VyRmlsZSwgMCwgLTQpLidsb2NrJwo6ICRjb21wb3NlckZpbGUgLiAnLmxvY2snOwp9CgpwdWJsaWMgc3RhdGljIGZ1bmN0aW9uIGNyZWF0ZUFkZGl0aW9uYWxTdHlsZXMoKQp7CnJldHVybiBhcnJheSgKJ2hpZ2hsaWdodCcgPT4gbmV3IE91dHB1dEZvcm1hdHRlclN0eWxlKCdyZWQnKSwKJ3dhcm5pbmcnID0+IG5ldyBPdXRwdXRGb3JtYXR0ZXJTdHlsZSgnYmxhY2snLCAneWVsbG93JyksCik7Cn0KCgoKCgoKcHVibGljIHN0YXRpYyBmdW5jdGlvbiBjcmVhdGVPdXRwdXQoKQp7CiRzdHlsZXMgPSBzZWxmOjpjcmVhdGVBZGRpdGlvbmFsU3R5bGVzKCk7CiRmb3JtYXR0ZXIgPSBuZXcgT3V0cHV0Rm9ybWF0dGVyKGZhbHNlLCAkc3R5bGVzKTsKCnJldHVybiBuZXcgQ29uc29sZU91dHB1dChDb25zb2xlT3V0cHV0OjpWRVJCT1NJVFlfTk9STUFMLCBudWxsLCAkZm9ybWF0dGVyKTsKfQoKCgoKCgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIGNyZWF0ZUNvbXBvc2VyKElPSW50ZXJmYWNlICRpbywgJGxvY2FsQ29uZmlnID0gbnVsbCwgJGRpc2FibGVQbHVnaW5zID0gZmFsc2UsICRjd2QgPSBudWxsLCAkZnVsbExvYWQgPSB0cnVlKQp7CiRjd2QgPSAkY3dkID86IGdldGN3ZCgpOwoKCmlmIChudWxsID09PSAkbG9jYWxDb25maWcpIHsKJGxvY2FsQ29uZmlnID0gc3RhdGljOjpnZXRDb21wb3NlckZpbGUoKTsKfQoKaWYgKGlzX3N0cmluZygkbG9jYWxDb25maWcpKSB7CiRjb21wb3NlckZpbGUgPSAkbG9jYWxDb25maWc7CgokZmlsZSA9IG5ldyBKc29uRmlsZSgkbG9jYWxDb25maWcsIG51bGwsICRpbyk7CgppZiAoISRmaWxlLT5leGlzdHMoKSkgewppZiAoJGxvY2FsQ29uZmlnID09PSAnLi9jb21wb3Nlci5qc29uJyB8fCAkbG9jYWxDb25maWcgPT09ICdjb21wb3Nlci5qc29uJykgewokbWVzc2FnZSA9ICdDb21wb3NlciBjb3VsZCBub3QgZmluZCBhIGNvbXBvc2VyLmpzb24gZmlsZSBpbiAnLiRjd2Q7Cn0gZWxzZSB7CiRtZXNzYWdlID0gJ0NvbXBvc2VyIGNvdWxkIG5vdCBmaW5kIHRoZSBjb25maWcgZmlsZTogJy4kbG9jYWxDb25maWc7Cn0KJGluc3RydWN0aW9ucyA9ICRmdWxsTG9hZCA/ICdUbyBpbml0aWFsaXplIGEgcHJvamVjdCwgcGxlYXNlIGNyZWF0ZSBhIGNvbXBvc2VyLmpzb24gZmlsZSBhcyBkZXNjcmliZWQgaW4gdGhlIGh0dHBzOi8vZ2V0Y29tcG9zZXIub3JnLyAiR2V0dGluZyBTdGFydGVkIiBzZWN0aW9uJyA6ICcnOwp0aHJvdyBuZXcgXEludmFsaWRBcmd1bWVudEV4Y2VwdGlvbigkbWVzc2FnZS5QSFBfRU9MLiRpbnN0cnVjdGlvbnMpOwp9CgokZmlsZS0+dmFsaWRhdGVTY2hlbWEoSnNvbkZpbGU6OkxBWF9TQ0hFTUEpOwokanNvblBhcnNlciA9IG5ldyBKc29uUGFyc2VyOwp0cnkgewokanNvblBhcnNlci0+cGFyc2UoZmlsZV9nZXRfY29udGVudHMoJGxvY2FsQ29uZmlnKSwgSnNvblBhcnNlcjo6REVURUNUX0tFWV9DT05GTElDVFMpOwp9IGNhdGNoIChEdXBsaWNhdGVLZXlFeGNlcHRpb24gJGUpIHsKJGRldGFpbHMgPSAkZS0+Z2V0RGV0YWlscygpOwokaW8tPndyaXRlRXJyb3IoJzx3YXJuaW5nPktleSAnLiRkZXRhaWxzWydrZXknXS4nIGlzIGEgZHVwbGljYXRlIGluICcuJGxvY2FsQ29uZmlnLicgYXQgbGluZSAnLiRkZXRhaWxzWydsaW5lJ10uJzwvd2FybmluZz4nKTsKfQoKJGxvY2FsQ29uZmlnID0gJGZpbGUtPnJlYWQoKTsKfQoKCiRjb25maWcgPSBzdGF0aWM6OmNyZWF0ZUNvbmZpZygkaW8sICRjd2QpOwokY29uZmlnLT5tZXJnZSgkbG9jYWxDb25maWcpOwppZiAoaXNzZXQoJGNvbXBvc2VyRmlsZSkpIHsKJGlvLT53cml0ZUVycm9yKCdMb2FkaW5nIGNvbmZpZyBmaWxlICcgLiAkY29tcG9zZXJGaWxlIC4nICgnLnJlYWxwYXRoKCRjb21wb3NlckZpbGUpLicpJywgdHJ1ZSwgSU9JbnRlcmZhY2U6OkRFQlVHKTsKJGNvbmZpZy0+c2V0Q29uZmlnU291cmNlKG5ldyBKc29uQ29uZmlnU291cmNlKG5ldyBKc29uRmlsZShyZWFscGF0aCgkY29tcG9zZXJGaWxlKSwgbnVsbCwgJGlvKSkpOwoKJGxvY2FsQXV0aEZpbGUgPSBuZXcgSnNvbkZpbGUoZGlybmFtZShyZWFscGF0aCgkY29tcG9zZXJGaWxlKSkgLiAnL2F1dGguanNvbicsIG51bGwsICRpbyk7CmlmICgkbG9jYWxBdXRoRmlsZS0+ZXhpc3RzKCkpIHsKJGlvLT53cml0ZUVycm9yKCdMb2FkaW5nIGNvbmZpZyBmaWxlICcgLiAkbG9jYWxBdXRoRmlsZS0+Z2V0UGF0aCgpLCB0cnVlLCBJT0ludGVyZmFjZTo6REVCVUcpOwokY29uZmlnLT5tZXJnZShhcnJheSgnY29uZmlnJyA9PiAkbG9jYWxBdXRoRmlsZS0+cmVhZCgpKSk7CiRjb25maWctPnNldEF1dGhDb25maWdTb3VyY2UobmV3IEpzb25Db25maWdTb3VyY2UoJGxvY2FsQXV0aEZpbGUsIHRydWUpKTsKfQp9CgokdmVuZG9yRGlyID0gJGNvbmZpZy0+Z2V0KCd2ZW5kb3ItZGlyJyk7CgoKJGNvbXBvc2VyID0gbmV3IENvbXBvc2VyKCk7CiRjb21wb3Nlci0+c2V0Q29uZmlnKCRjb25maWcpOwoKaWYgKCRmdWxsTG9hZCkgewoKJGlvLT5sb2FkQ29uZmlndXJhdGlvbigkY29uZmlnKTsKCgppZiAoIWNsYXNzX2V4aXN0cygnQ29tcG9zZXJcSW5zdGFsbGVkVmVyc2lvbnMnLCBmYWxzZSkgJiYgZmlsZV9leGlzdHMoJGluc3RhbGxlZFZlcnNpb25zUGF0aCA9ICRjb25maWctPmdldCgndmVuZG9yLWRpcicpLicvY29tcG9zZXIvSW5zdGFsbGVkVmVyc2lvbnMucGhwJykpIHsKaW5jbHVkZSAkaW5zdGFsbGVkVmVyc2lvbnNQYXRoOwp9Cn0KCiRodHRwRG93bmxvYWRlciA9IHNlbGY6OmNyZWF0ZUh0dHBEb3dubG9hZGVyKCRpbywgJGNvbmZpZyk7CiRwcm9jZXNzID0gbmV3IFByb2Nlc3NFeGVjdXRvcigkaW8pOwokbG9vcCA9IG5ldyBMb29wKCRodHRwRG93bmxvYWRlciwgJHByb2Nlc3MpOwokY29tcG9zZXItPnNldExvb3AoJGxvb3ApOwoKCiRkaXNwYXRjaGVyID0gbmV3IEV2ZW50RGlzcGF0Y2hlcigkY29tcG9zZXIsICRpbywgJHByb2Nlc3MpOwokY29tcG9zZXItPnNldEV2ZW50RGlzcGF0Y2hlcigkZGlzcGF0Y2hlcik7CgoKJHJtID0gUmVwb3NpdG9yeUZhY3Rvcnk6Om1hbmFnZXIoJGlvLCAkY29uZmlnLCAkaHR0cERvd25sb2FkZXIsICRkaXNwYXRjaGVyLCAkcHJvY2Vzcyk7CiRjb21wb3Nlci0+c2V0UmVwb3NpdG9yeU1hbmFnZXIoJHJtKTsKCgoKaWYgKCEkZnVsbExvYWQgJiYgIWlzc2V0KCRsb2NhbENvbmZpZ1sndmVyc2lvbiddKSkgewokbG9jYWxDb25maWdbJ3ZlcnNpb24nXSA9ICcxLjAuMCc7Cn0KCgokcGFyc2VyID0gbmV3IFZlcnNpb25QYXJzZXI7CiRndWVzc2VyID0gbmV3IFZlcnNpb25HdWVzc2VyKCRjb25maWcsICRwcm9jZXNzLCAkcGFyc2VyKTsKJGxvYWRlciA9ICR0aGlzLT5sb2FkUm9vdFBhY2thZ2UoJHJtLCAkY29uZmlnLCAkcGFyc2VyLCAkZ3Vlc3NlciwgJGlvKTsKJHBhY2thZ2UgPSAkbG9hZGVyLT5sb2FkKCRsb2NhbENvbmZpZywgJ0NvbXBvc2VyXFBhY2thZ2VcUm9vdFBhY2thZ2UnLCAkY3dkKTsKJGNvbXBvc2VyLT5zZXRQYWNrYWdlKCRwYWNrYWdlKTsKCgokdGhpcy0+YWRkTG9jYWxSZXBvc2l0b3J5KCRpbywgJHJtLCAkdmVuZG9yRGlyLCAkcGFja2FnZSk7CgoKJGltID0gJHRoaXMtPmNyZWF0ZUluc3RhbGxhdGlvbk1hbmFnZXIoJGxvb3AsICRpbywgJGRpc3BhdGNoZXIpOwokY29tcG9zZXItPnNldEluc3RhbGxhdGlvbk1hbmFnZXIoJGltKTsKCmlmICgkZnVsbExvYWQpIHsKCiRkbSA9ICR0aGlzLT5jcmVhdGVEb3dubG9hZE1hbmFnZXIoJGlvLCAkY29uZmlnLCAkaHR0cERvd25sb2FkZXIsICRwcm9jZXNzLCAkZGlzcGF0Y2hlcik7CiRjb21wb3Nlci0+c2V0RG93bmxvYWRNYW5hZ2VyKCRkbSk7CgoKJGdlbmVyYXRvciA9IG5ldyBBdXRvbG9hZEdlbmVyYXRvcigkZGlzcGF0Y2hlciwgJGlvKTsKJGNvbXBvc2VyLT5zZXRBdXRvbG9hZEdlbmVyYXRvcigkZ2VuZXJhdG9yKTsKCgokYW0gPSAkdGhpcy0+Y3JlYXRlQXJjaGl2ZU1hbmFnZXIoJGNvbmZpZywgJGRtLCAkbG9vcCk7CiRjb21wb3Nlci0+c2V0QXJjaGl2ZU1hbmFnZXIoJGFtKTsKfQoKCiR0aGlzLT5jcmVhdGVEZWZhdWx0SW5zdGFsbGVycygkaW0sICRjb21wb3NlciwgJGlvLCAkcHJvY2Vzcyk7CgppZiAoJGZ1bGxMb2FkKSB7CiRnbG9iYWxDb21wb3NlciA9IG51bGw7CmlmIChyZWFscGF0aCgkY29uZmlnLT5nZXQoJ2hvbWUnKSkgIT09ICRjd2QpIHsKJGdsb2JhbENvbXBvc2VyID0gJHRoaXMtPmNyZWF0ZUdsb2JhbENvbXBvc2VyKCRpbywgJGNvbmZpZywgJGRpc2FibGVQbHVnaW5zKTsKfQoKJHBtID0gJHRoaXMtPmNyZWF0ZVBsdWdpbk1hbmFnZXIoJGlvLCAkY29tcG9zZXIsICRnbG9iYWxDb21wb3NlciwgJGRpc2FibGVQbHVnaW5zKTsKJGNvbXBvc2VyLT5zZXRQbHVnaW5NYW5hZ2VyKCRwbSk7CgokcG0tPmxvYWRJbnN0YWxsZWRQbHVnaW5zKCk7Cn0KCgppZiAoJGZ1bGxMb2FkICYmIGlzc2V0KCRjb21wb3NlckZpbGUpKSB7CiRsb2NrRmlsZSA9IHNlbGY6OmdldExvY2tGaWxlKCRjb21wb3NlckZpbGUpOwoKJGxvY2tlciA9IG5ldyBQYWNrYWdlXExvY2tlcigkaW8sIG5ldyBKc29uRmlsZSgkbG9ja0ZpbGUsIG51bGwsICRpbyksICRpbSwgZmlsZV9nZXRfY29udGVudHMoJGNvbXBvc2VyRmlsZSksICRwcm9jZXNzKTsKJGNvbXBvc2VyLT5zZXRMb2NrZXIoJGxvY2tlcik7Cn0KCmlmICgkZnVsbExvYWQpIHsKJGluaXRFdmVudCA9IG5ldyBFdmVudChQbHVnaW5FdmVudHM6OklOSVQpOwokY29tcG9zZXItPmdldEV2ZW50RGlzcGF0Y2hlcigpLT5kaXNwYXRjaCgkaW5pdEV2ZW50LT5nZXROYW1lKCksICRpbml0RXZlbnQpOwoKCgppZiAoJHJtLT5nZXRMb2NhbFJlcG9zaXRvcnkoKSkgewokdGhpcy0+cHVyZ2VQYWNrYWdlcygkcm0tPmdldExvY2FsUmVwb3NpdG9yeSgpLCAkaW0pOwp9Cn0KCnJldHVybiAkY29tcG9zZXI7Cn0KCgoKCgoKcHVibGljIHN0YXRpYyBmdW5jdGlvbiBjcmVhdGVHbG9iYWwoSU9JbnRlcmZhY2UgJGlvLCAkZGlzYWJsZVBsdWdpbnMgPSBmYWxzZSkKewokZmFjdG9yeSA9IG5ldyBzdGF0aWMoKTsKCnJldHVybiAkZmFjdG9yeS0+Y3JlYXRlR2xvYmFsQ29tcG9zZXIoJGlvLCBzdGF0aWM6OmNyZWF0ZUNvbmZpZygkaW8pLCAkZGlzYWJsZVBsdWdpbnMsIHRydWUpOwp9CgoKCgoKcHJvdGVjdGVkIGZ1bmN0aW9uIGFkZExvY2FsUmVwb3NpdG9yeShJT0ludGVyZmFjZSAkaW8sIFJlcG9zaXRvcnlNYW5hZ2VyICRybSwgJHZlbmRvckRpciwgUm9vdFBhY2thZ2VJbnRlcmZhY2UgJHJvb3RQYWNrYWdlKQp7CiRybS0+c2V0TG9jYWxSZXBvc2l0b3J5KG5ldyBSZXBvc2l0b3J5XEluc3RhbGxlZEZpbGVzeXN0ZW1SZXBvc2l0b3J5KG5ldyBKc29uRmlsZSgkdmVuZG9yRGlyLicvY29tcG9zZXIvaW5zdGFsbGVkLmpzb24nLCBudWxsLCAkaW8pLCB0cnVlLCAkcm9vdFBhY2thZ2UpKTsKfQoKCgoKCnByb3RlY3RlZCBmdW5jdGlvbiBjcmVhdGVHbG9iYWxDb21wb3NlcihJT0ludGVyZmFjZSAkaW8sIENvbmZpZyAkY29uZmlnLCAkZGlzYWJsZVBsdWdpbnMsICRmdWxsTG9hZCA9IGZhbHNlKQp7CiRjb21wb3NlciA9IG51bGw7CnRyeSB7CiRjb21wb3NlciA9ICR0aGlzLT5jcmVhdGVDb21wb3NlcigkaW8sICRjb25maWctPmdldCgnaG9tZScpIC4gJy9jb21wb3Nlci5qc29uJywgJGRpc2FibGVQbHVnaW5zLCAkY29uZmlnLT5nZXQoJ2hvbWUnKSwgJGZ1bGxMb2FkKTsKfSBjYXRjaCAoXEV4Y2VwdGlvbiAkZSkgewokaW8tPndyaXRlRXJyb3IoJ0ZhaWxlZCB0byBpbml0aWFsaXplIGdsb2JhbCBjb21wb3NlcjogJy4kZS0+Z2V0TWVzc2FnZSgpLCB0cnVlLCBJT0ludGVyZmFjZTo6REVCVUcpOwp9CgpyZXR1cm4gJGNvbXBvc2VyOwp9CgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gY3JlYXRlRG93bmxvYWRNYW5hZ2VyKElPSW50ZXJmYWNlICRpbywgQ29uZmlnICRjb25maWcsIEh0dHBEb3dubG9hZGVyICRodHRwRG93bmxvYWRlciwgUHJvY2Vzc0V4ZWN1dG9yICRwcm9jZXNzLCBFdmVudERpc3BhdGNoZXIgJGV2ZW50RGlzcGF0Y2hlciA9IG51bGwpCnsKJGNhY2hlID0gbnVsbDsKaWYgKCRjb25maWctPmdldCgnY2FjaGUtZmlsZXMtdHRsJykgPiAwKSB7CiRjYWNoZSA9IG5ldyBDYWNoZSgkaW8sICRjb25maWctPmdldCgnY2FjaGUtZmlsZXMtZGlyJyksICdhLXowLTlfLi8nKTsKJGNhY2hlLT5zZXRSZWFkT25seSgkY29uZmlnLT5nZXQoJ2NhY2hlLXJlYWQtb25seScpKTsKfQoKJGZzID0gbmV3IEZpbGVzeXN0ZW0oJHByb2Nlc3MpOwoKJGRtID0gbmV3IERvd25sb2FkZXJcRG93bmxvYWRNYW5hZ2VyKCRpbywgZmFsc2UsICRmcyk7CnN3aXRjaCAoJHByZWZlcnJlZCA9ICRjb25maWctPmdldCgncHJlZmVycmVkLWluc3RhbGwnKSkgewpjYXNlICdkaXN0JzoKJGRtLT5zZXRQcmVmZXJEaXN0KHRydWUpOwpicmVhazsKY2FzZSAnc291cmNlJzoKJGRtLT5zZXRQcmVmZXJTb3VyY2UodHJ1ZSk7CmJyZWFrOwpjYXNlICdhdXRvJzoKZGVmYXVsdDoKCmJyZWFrOwp9CgppZiAoaXNfYXJyYXkoJHByZWZlcnJlZCkpIHsKJGRtLT5zZXRQcmVmZXJlbmNlcygkcHJlZmVycmVkKTsKfQoKJGRtLT5zZXREb3dubG9hZGVyKCdnaXQnLCBuZXcgRG93bmxvYWRlclxHaXREb3dubG9hZGVyKCRpbywgJGNvbmZpZywgJHByb2Nlc3MsICRmcykpOwokZG0tPnNldERvd25sb2FkZXIoJ3N2bicsIG5ldyBEb3dubG9hZGVyXFN2bkRvd25sb2FkZXIoJGlvLCAkY29uZmlnLCAkcHJvY2VzcywgJGZzKSk7CiRkbS0+c2V0RG93bmxvYWRlcignZm9zc2lsJywgbmV3IERvd25sb2FkZXJcRm9zc2lsRG93bmxvYWRlcigkaW8sICRjb25maWcsICRwcm9jZXNzLCAkZnMpKTsKJGRtLT5zZXREb3dubG9hZGVyKCdoZycsIG5ldyBEb3dubG9hZGVyXEhnRG93bmxvYWRlcigkaW8sICRjb25maWcsICRwcm9jZXNzLCAkZnMpKTsKJGRtLT5zZXREb3dubG9hZGVyKCdwZXJmb3JjZScsIG5ldyBEb3dubG9hZGVyXFBlcmZvcmNlRG93bmxvYWRlcigkaW8sICRjb25maWcsICRwcm9jZXNzLCAkZnMpKTsKJGRtLT5zZXREb3dubG9hZGVyKCd6aXAnLCBuZXcgRG93bmxvYWRlclxaaXBEb3dubG9hZGVyKCRpbywgJGNvbmZpZywgJGh0dHBEb3dubG9hZGVyLCAkZXZlbnREaXNwYXRjaGVyLCAkY2FjaGUsICRmcywgJHByb2Nlc3MpKTsKJGRtLT5zZXREb3dubG9hZGVyKCdyYXInLCBuZXcgRG93bmxvYWRlclxSYXJEb3dubG9hZGVyKCRpbywgJGNvbmZpZywgJGh0dHBEb3dubG9hZGVyLCAkZXZlbnREaXNwYXRjaGVyLCAkY2FjaGUsICRmcywgJHByb2Nlc3MpKTsKJGRtLT5zZXREb3dubG9hZGVyKCd0YXInLCBuZXcgRG93bmxvYWRlclxUYXJEb3dubG9hZGVyKCRpbywgJGNvbmZpZywgJGh0dHBEb3dubG9hZGVyLCAkZXZlbnREaXNwYXRjaGVyLCAkY2FjaGUsICRmcywgJHByb2Nlc3MpKTsKJGRtLT5zZXREb3dubG9hZGVyKCdnemlwJywgbmV3IERvd25sb2FkZXJcR3ppcERvd25sb2FkZXIoJGlvLCAkY29uZmlnLCAkaHR0cERvd25sb2FkZXIsICRldmVudERpc3BhdGNoZXIsICRjYWNoZSwgJGZzLCAkcHJvY2VzcykpOwokZG0tPnNldERvd25sb2FkZXIoJ3h6JywgbmV3IERvd25sb2FkZXJcWHpEb3dubG9hZGVyKCRpbywgJGNvbmZpZywgJGh0dHBEb3dubG9hZGVyLCAkZXZlbnREaXNwYXRjaGVyLCAkY2FjaGUsICRmcywgJHByb2Nlc3MpKTsKJGRtLT5zZXREb3dubG9hZGVyKCdwaGFyJywgbmV3IERvd25sb2FkZXJcUGhhckRvd25sb2FkZXIoJGlvLCAkY29uZmlnLCAkaHR0cERvd25sb2FkZXIsICRldmVudERpc3BhdGNoZXIsICRjYWNoZSwgJGZzLCAkcHJvY2VzcykpOwokZG0tPnNldERvd25sb2FkZXIoJ2ZpbGUnLCBuZXcgRG93bmxvYWRlclxGaWxlRG93bmxvYWRlcigkaW8sICRjb25maWcsICRodHRwRG93bmxvYWRlciwgJGV2ZW50RGlzcGF0Y2hlciwgJGNhY2hlLCAkZnMsICRwcm9jZXNzKSk7CiRkbS0+c2V0RG93bmxvYWRlcigncGF0aCcsIG5ldyBEb3dubG9hZGVyXFBhdGhEb3dubG9hZGVyKCRpbywgJGNvbmZpZywgJGh0dHBEb3dubG9hZGVyLCAkZXZlbnREaXNwYXRjaGVyLCAkY2FjaGUsICRmcywgJHByb2Nlc3MpKTsKCnJldHVybiAkZG07Cn0KCgoKCgoKcHVibGljIGZ1bmN0aW9uIGNyZWF0ZUFyY2hpdmVNYW5hZ2VyKENvbmZpZyAkY29uZmlnLCBEb3dubG9hZGVyXERvd25sb2FkTWFuYWdlciAkZG0sIExvb3AgJGxvb3ApCnsKJGFtID0gbmV3IEFyY2hpdmVyXEFyY2hpdmVNYW5hZ2VyKCRkbSwgJGxvb3ApOwokYW0tPmFkZEFyY2hpdmVyKG5ldyBBcmNoaXZlclxaaXBBcmNoaXZlcik7CiRhbS0+YWRkQXJjaGl2ZXIobmV3IEFyY2hpdmVyXFBoYXJBcmNoaXZlcik7CgpyZXR1cm4gJGFtOwp9CgoKCgoKCgoKcHJvdGVjdGVkIGZ1bmN0aW9uIGNyZWF0ZVBsdWdpbk1hbmFnZXIoSU9JbnRlcmZhY2UgJGlvLCBDb21wb3NlciAkY29tcG9zZXIsIENvbXBvc2VyICRnbG9iYWxDb21wb3NlciA9IG51bGwsICRkaXNhYmxlUGx1Z2lucyA9IGZhbHNlKQp7CnJldHVybiBuZXcgUGx1Z2luXFBsdWdpbk1hbmFnZXIoJGlvLCAkY29tcG9zZXIsICRnbG9iYWxDb21wb3NlciwgJGRpc2FibGVQbHVnaW5zKTsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIGNyZWF0ZUluc3RhbGxhdGlvbk1hbmFnZXIoTG9vcCAkbG9vcCwgSU9JbnRlcmZhY2UgJGlvLCBFdmVudERpc3BhdGNoZXIgJGV2ZW50RGlzcGF0Y2hlciA9IG51bGwpCnsKcmV0dXJuIG5ldyBJbnN0YWxsZXJcSW5zdGFsbGF0aW9uTWFuYWdlcigkbG9vcCwgJGlvLCAkZXZlbnREaXNwYXRjaGVyKTsKfQoKCgoKCgpwcm90ZWN0ZWQgZnVuY3Rpb24gY3JlYXRlRGVmYXVsdEluc3RhbGxlcnMoSW5zdGFsbGVyXEluc3RhbGxhdGlvbk1hbmFnZXIgJGltLCBDb21wb3NlciAkY29tcG9zZXIsIElPSW50ZXJmYWNlICRpbywgUHJvY2Vzc0V4ZWN1dG9yICRwcm9jZXNzID0gbnVsbCkKewokZnMgPSBuZXcgRmlsZXN5c3RlbSgkcHJvY2Vzcyk7CiRiaW5hcnlJbnN0YWxsZXIgPSBuZXcgSW5zdGFsbGVyXEJpbmFyeUluc3RhbGxlcigkaW8sIHJ0cmltKCRjb21wb3Nlci0+Z2V0Q29uZmlnKCktPmdldCgnYmluLWRpcicpLCAnLycpLCAkY29tcG9zZXItPmdldENvbmZpZygpLT5nZXQoJ2Jpbi1jb21wYXQnKSwgJGZzKTsKCiRpbS0+YWRkSW5zdGFsbGVyKG5ldyBJbnN0YWxsZXJcTGlicmFyeUluc3RhbGxlcigkaW8sICRjb21wb3NlciwgbnVsbCwgJGZzLCAkYmluYXJ5SW5zdGFsbGVyKSk7CiRpbS0+YWRkSW5zdGFsbGVyKG5ldyBJbnN0YWxsZXJcUGx1Z2luSW5zdGFsbGVyKCRpbywgJGNvbXBvc2VyLCAkZnMsICRiaW5hcnlJbnN0YWxsZXIpKTsKJGltLT5hZGRJbnN0YWxsZXIobmV3IEluc3RhbGxlclxNZXRhcGFja2FnZUluc3RhbGxlcigkaW8pKTsKfQoKCgoKCnByb3RlY3RlZCBmdW5jdGlvbiBwdXJnZVBhY2thZ2VzKFdyaXRhYmxlUmVwb3NpdG9yeUludGVyZmFjZSAkcmVwbywgSW5zdGFsbGVyXEluc3RhbGxhdGlvbk1hbmFnZXIgJGltKQp7CmZvcmVhY2ggKCRyZXBvLT5nZXRQYWNrYWdlcygpIGFzICRwYWNrYWdlKSB7CmlmICghJGltLT5pc1BhY2thZ2VJbnN0YWxsZWQoJHJlcG8sICRwYWNrYWdlKSkgewokcmVwby0+cmVtb3ZlUGFja2FnZSgkcGFja2FnZSk7Cn0KfQp9Cgpwcm90ZWN0ZWQgZnVuY3Rpb24gbG9hZFJvb3RQYWNrYWdlKFJlcG9zaXRvcnlNYW5hZ2VyICRybSwgQ29uZmlnICRjb25maWcsIFZlcnNpb25QYXJzZXIgJHBhcnNlciwgVmVyc2lvbkd1ZXNzZXIgJGd1ZXNzZXIsIElPSW50ZXJmYWNlICRpbykKewpyZXR1cm4gbmV3IFBhY2thZ2VcTG9hZGVyXFJvb3RQYWNrYWdlTG9hZGVyKCRybSwgJGNvbmZpZywgJHBhcnNlciwgJGd1ZXNzZXIsICRpbyk7Cn0KCgoKCgoKCgpwdWJsaWMgc3RhdGljIGZ1bmN0aW9uIGNyZWF0ZShJT0ludGVyZmFjZSAkaW8sICRjb25maWcgPSBudWxsLCAkZGlzYWJsZVBsdWdpbnMgPSBmYWxzZSkKewokZmFjdG9yeSA9IG5ldyBzdGF0aWMoKTsKCnJldHVybiAkZmFjdG9yeS0+Y3JlYXRlQ29tcG9zZXIoJGlvLCAkY29uZmlnLCAkZGlzYWJsZVBsdWdpbnMpOwp9CgoKCgoKCgoKCnB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gY3JlYXRlSHR0cERvd25sb2FkZXIoSU9JbnRlcmZhY2UgJGlvLCBDb25maWcgJGNvbmZpZywgJG9wdGlvbnMgPSBhcnJheSgpKQp7CnN0YXRpYyAkd2FybmVkID0gZmFsc2U7CiRkaXNhYmxlVGxzID0gZmFsc2U7CgppZiAoaXNzZXQoJF9TRVJWRVJbJ2FyZ3YnXSkgJiYgaW5fYXJyYXkoJ2Rpc2FibGUtdGxzJywgJF9TRVJWRVJbJ2FyZ3YnXSkgJiYgKGluX2FycmF5KCdjb25mJywgJF9TRVJWRVJbJ2FyZ3YnXSkgfHwgaW5fYXJyYXkoJ2NvbmZpZycsICRfU0VSVkVSWydhcmd2J10pKSkgewokd2FybmVkID0gdHJ1ZTsKJGRpc2FibGVUbHMgPSAhZXh0ZW5zaW9uX2xvYWRlZCgnb3BlbnNzbCcpOwp9IGVsc2VpZiAoJGNvbmZpZyAmJiAkY29uZmlnLT5nZXQoJ2Rpc2FibGUtdGxzJykgPT09IHRydWUpIHsKaWYgKCEkd2FybmVkKSB7CiRpby0+d3JpdGVFcnJvcignPHdhcm5pbmc+WW91IGFyZSBydW5uaW5nIENvbXBvc2VyIHdpdGggU1NML1RMUyBwcm90ZWN0aW9uIGRpc2FibGVkLjwvd2FybmluZz4nKTsKfQokd2FybmVkID0gdHJ1ZTsKJGRpc2FibGVUbHMgPSB0cnVlOwp9IGVsc2VpZiAoIWV4dGVuc2lvbl9sb2FkZWQoJ29wZW5zc2wnKSkgewp0aHJvdyBuZXcgRXhjZXB0aW9uXE5vU3NsRXhjZXB0aW9uKCdUaGUgb3BlbnNzbCBleHRlbnNpb24gaXMgcmVxdWlyZWQgZm9yIFNTTC9UTFMgcHJvdGVjdGlvbiBidXQgaXMgbm90IGF2YWlsYWJsZS4gJwouICdJZiB5b3UgY2FuIG5vdCBlbmFibGUgdGhlIG9wZW5zc2wgZXh0ZW5zaW9uLCB5b3UgY2FuIGRpc2FibGUgdGhpcyBlcnJvciwgYXQgeW91ciBvd24gcmlzaywgYnkgc2V0dGluZyB0aGUgXCdkaXNhYmxlLXRsc1wnIG9wdGlvbiB0byB0cnVlLicpOwp9CiRodHRwRG93bmxvYWRlck9wdGlvbnMgPSBhcnJheSgpOwppZiAoJGRpc2FibGVUbHMgPT09IGZhbHNlKSB7CmlmICgkY29uZmlnICYmICRjb25maWctPmdldCgnY2FmaWxlJykpIHsKJGh0dHBEb3dubG9hZGVyT3B0aW9uc1snc3NsJ11bJ2NhZmlsZSddID0gJGNvbmZpZy0+Z2V0KCdjYWZpbGUnKTsKfQppZiAoJGNvbmZpZyAmJiAkY29uZmlnLT5nZXQoJ2NhcGF0aCcpKSB7CiRodHRwRG93bmxvYWRlck9wdGlvbnNbJ3NzbCddWydjYXBhdGgnXSA9ICRjb25maWctPmdldCgnY2FwYXRoJyk7Cn0KJGh0dHBEb3dubG9hZGVyT3B0aW9ucyA9IGFycmF5X3JlcGxhY2VfcmVjdXJzaXZlKCRodHRwRG93bmxvYWRlck9wdGlvbnMsICRvcHRpb25zKTsKfQp0cnkgewokaHR0cERvd25sb2FkZXIgPSBuZXcgSHR0cERvd25sb2FkZXIoJGlvLCAkY29uZmlnLCAkaHR0cERvd25sb2FkZXJPcHRpb25zLCAkZGlzYWJsZVRscyk7Cn0gY2F0Y2ggKFRyYW5zcG9ydEV4Y2VwdGlvbiAkZSkgewppZiAoZmFsc2UgIT09IHN0cnBvcygkZS0+Z2V0TWVzc2FnZSgpLCAnY2FmaWxlJykpIHsKJGlvLT53cml0ZSgnPGVycm9yPlVuYWJsZSB0byBsb2NhdGUgYSB2YWxpZCBDQSBjZXJ0aWZpY2F0ZSBmaWxlLiBZb3UgbXVzdCBzZXQgYSB2YWxpZCBcJ2NhZmlsZVwnIG9wdGlvbi48L2Vycm9yPicpOwokaW8tPndyaXRlKCc8ZXJyb3I+QSB2YWxpZCBDQSBjZXJ0aWZpY2F0ZSBmaWxlIGlzIHJlcXVpcmVkIGZvciBTU0wvVExTIHByb3RlY3Rpb24uPC9lcnJvcj4nKTsKaWYgKFBIUF9WRVJTSU9OX0lEIDwgNTA2MDApIHsKJGlvLT53cml0ZSgnPGVycm9yPkl0IGlzIHJlY29tbWVuZGVkIHlvdSB1cGdyYWRlIHRvIFBIUCA1LjYrIHdoaWNoIGNhbiBkZXRlY3QgeW91ciBzeXN0ZW0gQ0EgZmlsZSBhdXRvbWF0aWNhbGx5LjwvZXJyb3I+Jyk7Cn0KJGlvLT53cml0ZSgnPGVycm9yPllvdSBjYW4gZGlzYWJsZSB0aGlzIGVycm9yLCBhdCB5b3VyIG93biByaXNrLCBieSBzZXR0aW5nIHRoZSBcJ2Rpc2FibGUtdGxzXCcgb3B0aW9uIHRvIHRydWUuPC9lcnJvcj4nKTsKfQp0aHJvdyAkZTsKfQoKcmV0dXJuICRodHRwRG93bmxvYWRlcjsKfQoKCgoKcHJpdmF0ZSBzdGF0aWMgZnVuY3Rpb24gdXNlWGRnKCkKewpmb3JlYWNoIChhcnJheV9rZXlzKCRfU0VSVkVSKSBhcyAka2V5KSB7CmlmIChzdHJwb3MoJGtleSwgJ1hER18nKSA9PT0gMCkgewpyZXR1cm4gdHJ1ZTsKfQp9CgppZiAoU2lsZW5jZXI6OmNhbGwoJ2lzX2RpcicsICcvZXRjL3hkZycpKSB7CnJldHVybiB0cnVlOwp9CgpyZXR1cm4gZmFsc2U7Cn0KCgoKCgpwcml2YXRlIHN0YXRpYyBmdW5jdGlvbiBnZXRVc2VyRGlyKCkKewokaG9tZSA9IGdldGVudignSE9NRScpOwppZiAoISRob21lKSB7CnRocm93IG5ldyBcUnVudGltZUV4Y2VwdGlvbignVGhlIEhPTUUgb3IgQ09NUE9TRVJfSE9NRSBlbnZpcm9ubWVudCB2YXJpYWJsZSBtdXN0IGJlIHNldCBmb3IgY29tcG9zZXIgdG8gcnVuIGNvcnJlY3RseScpOwp9CgpyZXR1cm4gcnRyaW0oc3RydHIoJGhvbWUsICdcXCcsICcvJyksICcvJyk7Cn0KfQo8P3BocAoKCgoKCgoKCgoKCm5hbWVzcGFjZSBDb21wb3NlclxJTzsKCnVzZSBDb21wb3NlclxDb25maWc7CnVzZSBDb21wb3NlclxVdGlsXFByb2Nlc3NFeGVjdXRvcjsKdXNlIFBzclxMb2dcTG9nTGV2ZWw7CgphYnN0cmFjdCBjbGFzcyBCYXNlSU8gaW1wbGVtZW50cyBJT0ludGVyZmFjZQp7CnByb3RlY3RlZCAkYXV0aGVudGljYXRpb25zID0gYXJyYXkoKTsKCgoKCnB1YmxpYyBmdW5jdGlvbiBnZXRBdXRoZW50aWNhdGlvbnMoKQp7CnJldHVybiAkdGhpcy0+YXV0aGVudGljYXRpb25zOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gcmVzZXRBdXRoZW50aWNhdGlvbnMoKQp7CiR0aGlzLT5hdXRoZW50aWNhdGlvbnMgPSBhcnJheSgpOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gaGFzQXV0aGVudGljYXRpb24oJHJlcG9zaXRvcnlOYW1lKQp7CnJldHVybiBpc3NldCgkdGhpcy0+YXV0aGVudGljYXRpb25zWyRyZXBvc2l0b3J5TmFtZV0pOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0QXV0aGVudGljYXRpb24oJHJlcG9zaXRvcnlOYW1lKQp7CmlmIChpc3NldCgkdGhpcy0+YXV0aGVudGljYXRpb25zWyRyZXBvc2l0b3J5TmFtZV0pKSB7CnJldHVybiAkdGhpcy0+YXV0aGVudGljYXRpb25zWyRyZXBvc2l0b3J5TmFtZV07Cn0KCnJldHVybiBhcnJheSgndXNlcm5hbWUnID0+IG51bGwsICdwYXNzd29yZCcgPT4gbnVsbCk7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBzZXRBdXRoZW50aWNhdGlvbigkcmVwb3NpdG9yeU5hbWUsICR1c2VybmFtZSwgJHBhc3N3b3JkID0gbnVsbCkKewokdGhpcy0+YXV0aGVudGljYXRpb25zWyRyZXBvc2l0b3J5TmFtZV0gPSBhcnJheSgndXNlcm5hbWUnID0+ICR1c2VybmFtZSwgJ3Bhc3N3b3JkJyA9PiAkcGFzc3dvcmQpOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gd3JpdGVSYXcoJG1lc3NhZ2VzLCAkbmV3bGluZSA9IHRydWUsICR2ZXJib3NpdHkgPSBzZWxmOjpOT1JNQUwpCnsKJHRoaXMtPndyaXRlKCRtZXNzYWdlcywgJG5ld2xpbmUsICR2ZXJib3NpdHkpOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gd3JpdGVFcnJvclJhdygkbWVzc2FnZXMsICRuZXdsaW5lID0gdHJ1ZSwgJHZlcmJvc2l0eSA9IHNlbGY6Ok5PUk1BTCkKewokdGhpcy0+d3JpdGVFcnJvcigkbWVzc2FnZXMsICRuZXdsaW5lLCAkdmVyYm9zaXR5KTsKfQoKCgoKCgoKCnByb3RlY3RlZCBmdW5jdGlvbiBjaGVja0FuZFNldEF1dGhlbnRpY2F0aW9uKCRyZXBvc2l0b3J5TmFtZSwgJHVzZXJuYW1lLCAkcGFzc3dvcmQgPSBudWxsKQp7CmlmICgkdGhpcy0+aGFzQXV0aGVudGljYXRpb24oJHJlcG9zaXRvcnlOYW1lKSkgewokYXV0aCA9ICR0aGlzLT5nZXRBdXRoZW50aWNhdGlvbigkcmVwb3NpdG9yeU5hbWUpOwppZiAoJGF1dGhbJ3VzZXJuYW1lJ10gPT09ICR1c2VybmFtZSAmJiAkYXV0aFsncGFzc3dvcmQnXSA9PT0gJHBhc3N3b3JkKSB7CnJldHVybjsKfQoKJHRoaXMtPndyaXRlRXJyb3IoCnNwcmludGYoCiI8d2FybmluZz5XYXJuaW5nOiBZb3Ugc2hvdWxkIGF2b2lkIG92ZXJ3cml0aW5nIGFscmVhZHkgZGVmaW5lZCBhdXRoIHNldHRpbmdzIGZvciAlcy48L3dhcm5pbmc+IiwKJHJlcG9zaXRvcnlOYW1lCikKKTsKfQokdGhpcy0+c2V0QXV0aGVudGljYXRpb24oJHJlcG9zaXRvcnlOYW1lLCAkdXNlcm5hbWUsICRwYXNzd29yZCk7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBsb2FkQ29uZmlndXJhdGlvbihDb25maWcgJGNvbmZpZykKewokYml0YnVja2V0T2F1dGggPSAkY29uZmlnLT5nZXQoJ2JpdGJ1Y2tldC1vYXV0aCcpID86IGFycmF5KCk7CiRnaXRodWJPYXV0aCA9ICRjb25maWctPmdldCgnZ2l0aHViLW9hdXRoJykgPzogYXJyYXkoKTsKJGdpdGxhYk9hdXRoID0gJGNvbmZpZy0+Z2V0KCdnaXRsYWItb2F1dGgnKSA/OiBhcnJheSgpOwokZ2l0bGFiVG9rZW4gPSAkY29uZmlnLT5nZXQoJ2dpdGxhYi10b2tlbicpID86IGFycmF5KCk7CiRodHRwQmFzaWMgPSAkY29uZmlnLT5nZXQoJ2h0dHAtYmFzaWMnKSA/OiBhcnJheSgpOwokYmVhcmVyVG9rZW4gPSAkY29uZmlnLT5nZXQoJ2JlYXJlcicpID86IGFycmF5KCk7CgoKCmZvcmVhY2ggKCRiaXRidWNrZXRPYXV0aCBhcyAkZG9tYWluID0+ICRjcmVkKSB7CiR0aGlzLT5jaGVja0FuZFNldEF1dGhlbnRpY2F0aW9uKCRkb21haW4sICRjcmVkWydjb25zdW1lci1rZXknXSwgJGNyZWRbJ2NvbnN1bWVyLXNlY3JldCddKTsKfQoKZm9yZWFjaCAoJGdpdGh1Yk9hdXRoIGFzICRkb21haW4gPT4gJHRva2VuKSB7CgoKaWYgKCFwcmVnX21hdGNoKCd7XlsuQS1aYS16MC05X10rJH0nLCAkdG9rZW4pKSB7CnRocm93IG5ldyBcVW5leHBlY3RlZFZhbHVlRXhjZXB0aW9uKCdZb3VyIGdpdGh1YiBvYXV0aCB0b2tlbiBmb3IgJy4kZG9tYWluLicgY29udGFpbnMgaW52YWxpZCBjaGFyYWN0ZXJzOiAiJy4kdG9rZW4uJyInKTsKfQokdGhpcy0+Y2hlY2tBbmRTZXRBdXRoZW50aWNhdGlvbigkZG9tYWluLCAkdG9rZW4sICd4LW9hdXRoLWJhc2ljJyk7Cn0KCmZvcmVhY2ggKCRnaXRsYWJPYXV0aCBhcyAkZG9tYWluID0+ICR0b2tlbikgewokdGhpcy0+Y2hlY2tBbmRTZXRBdXRoZW50aWNhdGlvbigkZG9tYWluLCAkdG9rZW4sICdvYXV0aDInKTsKfQoKZm9yZWFjaCAoJGdpdGxhYlRva2VuIGFzICRkb21haW4gPT4gJHRva2VuKSB7CiR1c2VybmFtZSA9IGlzX2FycmF5KCR0b2tlbikgJiYgYXJyYXlfa2V5X2V4aXN0cygidXNlcm5hbWUiLCAkdG9rZW4pID8gJHRva2VuWyJ1c2VybmFtZSJdIDogJHRva2VuOwokcGFzc3dvcmQgPSBpc19hcnJheSgkdG9rZW4pICYmIGFycmF5X2tleV9leGlzdHMoInRva2VuIiwgJHRva2VuKSA/ICR0b2tlblsidG9rZW4iXSA6ICdwcml2YXRlLXRva2VuJzsKJHRoaXMtPmNoZWNrQW5kU2V0QXV0aGVudGljYXRpb24oJGRvbWFpbiwgJHVzZXJuYW1lLCAkcGFzc3dvcmQpOwp9CgoKZm9yZWFjaCAoJGh0dHBCYXNpYyBhcyAkZG9tYWluID0+ICRjcmVkKSB7CiR0aGlzLT5jaGVja0FuZFNldEF1dGhlbnRpY2F0aW9uKCRkb21haW4sICRjcmVkWyd1c2VybmFtZSddLCAkY3JlZFsncGFzc3dvcmQnXSk7Cn0KCmZvcmVhY2ggKCRiZWFyZXJUb2tlbiBhcyAkZG9tYWluID0+ICR0b2tlbikgewokdGhpcy0+Y2hlY2tBbmRTZXRBdXRoZW50aWNhdGlvbigkZG9tYWluLCAkdG9rZW4sICdiZWFyZXInKTsKfQoKClByb2Nlc3NFeGVjdXRvcjo6c2V0VGltZW91dCgoaW50KSAkY29uZmlnLT5nZXQoJ3Byb2Nlc3MtdGltZW91dCcpKTsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIGVtZXJnZW5jeSgkbWVzc2FnZSwgYXJyYXkgJGNvbnRleHQgPSBhcnJheSgpKQp7CiR0aGlzLT5sb2coTG9nTGV2ZWw6OkVNRVJHRU5DWSwgJG1lc3NhZ2UsICRjb250ZXh0KTsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIGFsZXJ0KCRtZXNzYWdlLCBhcnJheSAkY29udGV4dCA9IGFycmF5KCkpCnsKJHRoaXMtPmxvZyhMb2dMZXZlbDo6QUxFUlQsICRtZXNzYWdlLCAkY29udGV4dCk7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBjcml0aWNhbCgkbWVzc2FnZSwgYXJyYXkgJGNvbnRleHQgPSBhcnJheSgpKQp7CiR0aGlzLT5sb2coTG9nTGV2ZWw6OkNSSVRJQ0FMLCAkbWVzc2FnZSwgJGNvbnRleHQpOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gZXJyb3IoJG1lc3NhZ2UsIGFycmF5ICRjb250ZXh0ID0gYXJyYXkoKSkKewokdGhpcy0+bG9nKExvZ0xldmVsOjpFUlJPUiwgJG1lc3NhZ2UsICRjb250ZXh0KTsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIHdhcm5pbmcoJG1lc3NhZ2UsIGFycmF5ICRjb250ZXh0ID0gYXJyYXkoKSkKewokdGhpcy0+bG9nKExvZ0xldmVsOjpXQVJOSU5HLCAkbWVzc2FnZSwgJGNvbnRleHQpOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gbm90aWNlKCRtZXNzYWdlLCBhcnJheSAkY29udGV4dCA9IGFycmF5KCkpCnsKJHRoaXMtPmxvZyhMb2dMZXZlbDo6Tk9USUNFLCAkbWVzc2FnZSwgJGNvbnRleHQpOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gaW5mbygkbWVzc2FnZSwgYXJyYXkgJGNvbnRleHQgPSBhcnJheSgpKQp7CiR0aGlzLT5sb2coTG9nTGV2ZWw6OklORk8sICRtZXNzYWdlLCAkY29udGV4dCk7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBkZWJ1ZygkbWVzc2FnZSwgYXJyYXkgJGNvbnRleHQgPSBhcnJheSgpKQp7CiR0aGlzLT5sb2coTG9nTGV2ZWw6OkRFQlVHLCAkbWVzc2FnZSwgJGNvbnRleHQpOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gbG9nKCRsZXZlbCwgJG1lc3NhZ2UsIGFycmF5ICRjb250ZXh0ID0gYXJyYXkoKSkKewppZiAoaW5fYXJyYXkoJGxldmVsLCBhcnJheShMb2dMZXZlbDo6RU1FUkdFTkNZLCBMb2dMZXZlbDo6QUxFUlQsIExvZ0xldmVsOjpDUklUSUNBTCwgTG9nTGV2ZWw6OkVSUk9SKSkpIHsKJHRoaXMtPndyaXRlRXJyb3IoJzxlcnJvcj4nLiRtZXNzYWdlLic8L2Vycm9yPicpOwp9IGVsc2VpZiAoJGxldmVsID09PSBMb2dMZXZlbDo6V0FSTklORykgewokdGhpcy0+d3JpdGVFcnJvcignPHdhcm5pbmc+Jy4kbWVzc2FnZS4nPC93YXJuaW5nPicpOwp9IGVsc2VpZiAoJGxldmVsID09PSBMb2dMZXZlbDo6Tk9USUNFKSB7CiR0aGlzLT53cml0ZUVycm9yKCc8aW5mbz4nLiRtZXNzYWdlLic8L2luZm8+JywgdHJ1ZSwgc2VsZjo6VkVSQk9TRSk7Cn0gZWxzZWlmICgkbGV2ZWwgPT09IExvZ0xldmVsOjpJTkZPKSB7CiR0aGlzLT53cml0ZUVycm9yKCc8aW5mbz4nLiRtZXNzYWdlLic8L2luZm8+JywgdHJ1ZSwgc2VsZjo6VkVSWV9WRVJCT1NFKTsKfSBlbHNlIHsKJHRoaXMtPndyaXRlRXJyb3IoJG1lc3NhZ2UsIHRydWUsIHNlbGY6OkRFQlVHKTsKfQp9Cn0KPD9waHAKCgoKCgoKCgoKCgpuYW1lc3BhY2UgQ29tcG9zZXJcSU87Cgp1c2UgU3ltZm9ueVxDb21wb25lbnRcQ29uc29sZVxIZWxwZXJcUXVlc3Rpb25IZWxwZXI7CnVzZSBTeW1mb255XENvbXBvbmVudFxDb25zb2xlXE91dHB1dFxTdHJlYW1PdXRwdXQ7CnVzZSBTeW1mb255XENvbXBvbmVudFxDb25zb2xlXEZvcm1hdHRlclxPdXRwdXRGb3JtYXR0ZXJJbnRlcmZhY2U7CnVzZSBTeW1mb255XENvbXBvbmVudFxDb25zb2xlXElucHV0XFN0cmVhbWFibGVJbnB1dEludGVyZmFjZTsKdXNlIFN5bWZvbnlcQ29tcG9uZW50XENvbnNvbGVcSW5wdXRcU3RyaW5nSW5wdXQ7CnVzZSBTeW1mb255XENvbXBvbmVudFxDb25zb2xlXEhlbHBlclxIZWxwZXJTZXQ7CgoKCgpjbGFzcyBCdWZmZXJJTyBleHRlbmRzIENvbnNvbGVJTwp7Cgpwcm90ZWN0ZWQgJGlucHV0OwoKcHJvdGVjdGVkICRvdXRwdXQ7CgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBfX2NvbnN0cnVjdCgkaW5wdXQgPSAnJywgJHZlcmJvc2l0eSA9IFN0cmVhbU91dHB1dDo6VkVSQk9TSVRZX05PUk1BTCwgT3V0cHV0Rm9ybWF0dGVySW50ZXJmYWNlICRmb3JtYXR0ZXIgPSBudWxsKQp7CiRpbnB1dCA9IG5ldyBTdHJpbmdJbnB1dCgkaW5wdXQpOwokaW5wdXQtPnNldEludGVyYWN0aXZlKGZhbHNlKTsKCiRvdXRwdXQgPSBuZXcgU3RyZWFtT3V0cHV0KGZvcGVuKCdwaHA6Ly9tZW1vcnknLCAncncnKSwgJHZlcmJvc2l0eSwgJGZvcm1hdHRlciA/ICRmb3JtYXR0ZXItPmlzRGVjb3JhdGVkKCkgOiBmYWxzZSwgJGZvcm1hdHRlcik7CgpwYXJlbnQ6Ol9fY29uc3RydWN0KCRpbnB1dCwgJG91dHB1dCwgbmV3IEhlbHBlclNldChhcnJheSgKbmV3IFF1ZXN0aW9uSGVscGVyKCksCikpKTsKfQoKcHVibGljIGZ1bmN0aW9uIGdldE91dHB1dCgpCnsKZnNlZWsoJHRoaXMtPm91dHB1dC0+Z2V0U3RyZWFtKCksIDApOwoKJG91dHB1dCA9IHN0cmVhbV9nZXRfY29udGVudHMoJHRoaXMtPm91dHB1dC0+Z2V0U3RyZWFtKCkpOwoKJG91dHB1dCA9IHByZWdfcmVwbGFjZV9jYWxsYmFjaygieyg/PD1efFxufFx4MDgpKC4rPykoXHgwOCspfSIsIGZ1bmN0aW9uICgkbWF0Y2hlcykgewokcHJlID0gc3RyaXBfdGFncygkbWF0Y2hlc1sxXSk7CgppZiAoc3RybGVuKCRwcmUpID09PSBzdHJsZW4oJG1hdGNoZXNbMl0pKSB7CnJldHVybiAnJzsKfQoKCnJldHVybiBydHJpbSgkbWF0Y2hlc1sxXSkuIlxuIjsKfSwgJG91dHB1dCk7CgpyZXR1cm4gJG91dHB1dDsKfQoKcHVibGljIGZ1bmN0aW9uIHNldFVzZXJJbnB1dHMoYXJyYXkgJGlucHV0cykKewppZiAoISR0aGlzLT5pbnB1dCBpbnN0YW5jZW9mIFN0cmVhbWFibGVJbnB1dEludGVyZmFjZSkgewp0aHJvdyBuZXcgXFJ1bnRpbWVFeGNlcHRpb24oJ1NldHRpbmcgdGhlIHVzZXIgaW5wdXRzIHJlcXVpcmVzIGF0IGxlYXN0IHRoZSB2ZXJzaW9uIDMuMiBvZiB0aGUgc3ltZm9ueS9jb25zb2xlIGNvbXBvbmVudC4nKTsKfQoKJHRoaXMtPmlucHV0LT5zZXRTdHJlYW0oJHRoaXMtPmNyZWF0ZVN0cmVhbSgkaW5wdXRzKSk7CiR0aGlzLT5pbnB1dC0+c2V0SW50ZXJhY3RpdmUodHJ1ZSk7Cn0KCnByaXZhdGUgZnVuY3Rpb24gY3JlYXRlU3RyZWFtKGFycmF5ICRpbnB1dHMpCnsKJHN0cmVhbSA9IGZvcGVuKCdwaHA6Ly9tZW1vcnknLCAncisnKTsKCmZvcmVhY2ggKCRpbnB1dHMgYXMgJGlucHV0KSB7CmZ3cml0ZSgkc3RyZWFtLCAkaW5wdXQuUEhQX0VPTCk7Cn0KCnJld2luZCgkc3RyZWFtKTsKCnJldHVybiAkc3RyZWFtOwp9Cn0KPD9waHAKCgoKCgoKCgoKCgpuYW1lc3BhY2UgQ29tcG9zZXJcSU87Cgp1c2UgQ29tcG9zZXJcUXVlc3Rpb25cU3RyaWN0Q29uZmlybWF0aW9uUXVlc3Rpb247CnVzZSBTeW1mb255XENvbXBvbmVudFxDb25zb2xlXEhlbHBlclxIZWxwZXJTZXQ7CnVzZSBTeW1mb255XENvbXBvbmVudFxDb25zb2xlXEhlbHBlclxQcm9ncmVzc0JhcjsKdXNlIFN5bWZvbnlcQ29tcG9uZW50XENvbnNvbGVcSW5wdXRcSW5wdXRJbnRlcmZhY2U7CnVzZSBTeW1mb255XENvbXBvbmVudFxDb25zb2xlXE91dHB1dFxDb25zb2xlT3V0cHV0SW50ZXJmYWNlOwp1c2UgU3ltZm9ueVxDb21wb25lbnRcQ29uc29sZVxPdXRwdXRcT3V0cHV0SW50ZXJmYWNlOwp1c2UgU3ltZm9ueVxDb21wb25lbnRcQ29uc29sZVxRdWVzdGlvblxDaG9pY2VRdWVzdGlvbjsKdXNlIFN5bWZvbnlcQ29tcG9uZW50XENvbnNvbGVcUXVlc3Rpb25cUXVlc3Rpb247CgoKCgoKCgpjbGFzcyBDb25zb2xlSU8gZXh0ZW5kcyBCYXNlSU8KewoKcHJvdGVjdGVkICRpbnB1dDsKCnByb3RlY3RlZCAkb3V0cHV0OwoKcHJvdGVjdGVkICRoZWxwZXJTZXQ7Cgpwcm90ZWN0ZWQgJGxhc3RNZXNzYWdlOwoKcHJvdGVjdGVkICRsYXN0TWVzc2FnZUVycjsKCgpwcml2YXRlICRzdGFydFRpbWU7Cgpwcml2YXRlICR2ZXJib3NpdHlNYXA7CgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIF9fY29uc3RydWN0KElucHV0SW50ZXJmYWNlICRpbnB1dCwgT3V0cHV0SW50ZXJmYWNlICRvdXRwdXQsIEhlbHBlclNldCAkaGVscGVyU2V0KQp7CiR0aGlzLT5pbnB1dCA9ICRpbnB1dDsKJHRoaXMtPm91dHB1dCA9ICRvdXRwdXQ7CiR0aGlzLT5oZWxwZXJTZXQgPSAkaGVscGVyU2V0OwokdGhpcy0+dmVyYm9zaXR5TWFwID0gYXJyYXkoCnNlbGY6OlFVSUVUID0+IE91dHB1dEludGVyZmFjZTo6VkVSQk9TSVRZX1FVSUVULApzZWxmOjpOT1JNQUwgPT4gT3V0cHV0SW50ZXJmYWNlOjpWRVJCT1NJVFlfTk9STUFMLApzZWxmOjpWRVJCT1NFID0+IE91dHB1dEludGVyZmFjZTo6VkVSQk9TSVRZX1ZFUkJPU0UsCnNlbGY6OlZFUllfVkVSQk9TRSA9PiBPdXRwdXRJbnRlcmZhY2U6OlZFUkJPU0lUWV9WRVJZX1ZFUkJPU0UsCnNlbGY6OkRFQlVHID0+IE91dHB1dEludGVyZmFjZTo6VkVSQk9TSVRZX0RFQlVHLAopOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gZW5hYmxlRGVidWdnaW5nKCRzdGFydFRpbWUpCnsKJHRoaXMtPnN0YXJ0VGltZSA9ICRzdGFydFRpbWU7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBpc0ludGVyYWN0aXZlKCkKewpyZXR1cm4gJHRoaXMtPmlucHV0LT5pc0ludGVyYWN0aXZlKCk7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBpc0RlY29yYXRlZCgpCnsKcmV0dXJuICR0aGlzLT5vdXRwdXQtPmlzRGVjb3JhdGVkKCk7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBpc1ZlcmJvc2UoKQp7CnJldHVybiAkdGhpcy0+b3V0cHV0LT5nZXRWZXJib3NpdHkoKSA+PSBPdXRwdXRJbnRlcmZhY2U6OlZFUkJPU0lUWV9WRVJCT1NFOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gaXNWZXJ5VmVyYm9zZSgpCnsKcmV0dXJuICR0aGlzLT5vdXRwdXQtPmdldFZlcmJvc2l0eSgpID49IE91dHB1dEludGVyZmFjZTo6VkVSQk9TSVRZX1ZFUllfVkVSQk9TRTsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIGlzRGVidWcoKQp7CnJldHVybiAkdGhpcy0+b3V0cHV0LT5nZXRWZXJib3NpdHkoKSA+PSBPdXRwdXRJbnRlcmZhY2U6OlZFUkJPU0lUWV9ERUJVRzsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIHdyaXRlKCRtZXNzYWdlcywgJG5ld2xpbmUgPSB0cnVlLCAkdmVyYm9zaXR5ID0gc2VsZjo6Tk9STUFMKQp7CiR0aGlzLT5kb1dyaXRlKCRtZXNzYWdlcywgJG5ld2xpbmUsIGZhbHNlLCAkdmVyYm9zaXR5KTsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIHdyaXRlRXJyb3IoJG1lc3NhZ2VzLCAkbmV3bGluZSA9IHRydWUsICR2ZXJib3NpdHkgPSBzZWxmOjpOT1JNQUwpCnsKJHRoaXMtPmRvV3JpdGUoJG1lc3NhZ2VzLCAkbmV3bGluZSwgdHJ1ZSwgJHZlcmJvc2l0eSk7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiB3cml0ZVJhdygkbWVzc2FnZXMsICRuZXdsaW5lID0gdHJ1ZSwgJHZlcmJvc2l0eSA9IHNlbGY6Ok5PUk1BTCkKewokdGhpcy0+ZG9Xcml0ZSgkbWVzc2FnZXMsICRuZXdsaW5lLCBmYWxzZSwgJHZlcmJvc2l0eSwgdHJ1ZSk7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiB3cml0ZUVycm9yUmF3KCRtZXNzYWdlcywgJG5ld2xpbmUgPSB0cnVlLCAkdmVyYm9zaXR5ID0gc2VsZjo6Tk9STUFMKQp7CiR0aGlzLT5kb1dyaXRlKCRtZXNzYWdlcywgJG5ld2xpbmUsIHRydWUsICR2ZXJib3NpdHksIHRydWUpOwp9CgoKCgoKCgpwcml2YXRlIGZ1bmN0aW9uIGRvV3JpdGUoJG1lc3NhZ2VzLCAkbmV3bGluZSwgJHN0ZGVyciwgJHZlcmJvc2l0eSwgJHJhdyA9IGZhbHNlKQp7CiRzZlZlcmJvc2l0eSA9ICR0aGlzLT52ZXJib3NpdHlNYXBbJHZlcmJvc2l0eV07CmlmICgkc2ZWZXJib3NpdHkgPiAkdGhpcy0+b3V0cHV0LT5nZXRWZXJib3NpdHkoKSkgewpyZXR1cm47Cn0KCgoKCmlmIChPdXRwdXRJbnRlcmZhY2U6OlZFUkJPU0lUWV9RVUlFVCA9PT0gMCkgewokc2ZWZXJib3NpdHkgPSBPdXRwdXRJbnRlcmZhY2U6Ok9VVFBVVF9OT1JNQUw7Cn0KCmlmICgkcmF3KSB7CmlmICgkc2ZWZXJib3NpdHkgPT09IE91dHB1dEludGVyZmFjZTo6T1VUUFVUX05PUk1BTCkgewokc2ZWZXJib3NpdHkgPSBPdXRwdXRJbnRlcmZhY2U6Ok9VVFBVVF9SQVc7Cn0gZWxzZSB7CiRzZlZlcmJvc2l0eSB8PSBPdXRwdXRJbnRlcmZhY2U6Ok9VVFBVVF9SQVc7Cn0KfQoKaWYgKG51bGwgIT09ICR0aGlzLT5zdGFydFRpbWUpIHsKJG1lbW9yeVVzYWdlID0gbWVtb3J5X2dldF91c2FnZSgpIC8gMTAyNCAvIDEwMjQ7CiR0aW1lU3BlbnQgPSBtaWNyb3RpbWUodHJ1ZSkgLSAkdGhpcy0+c3RhcnRUaW1lOwokbWVzc2FnZXMgPSBhcnJheV9tYXAoZnVuY3Rpb24gKCRtZXNzYWdlKSB1c2UgKCRtZW1vcnlVc2FnZSwgJHRpbWVTcGVudCkgewpyZXR1cm4gc3ByaW50ZignWyUuMWZNaUIvJS4yZnNdICVzJywgJG1lbW9yeVVzYWdlLCAkdGltZVNwZW50LCAkbWVzc2FnZSk7Cn0sIChhcnJheSkgJG1lc3NhZ2VzKTsKfQoKaWYgKHRydWUgPT09ICRzdGRlcnIgJiYgJHRoaXMtPm91dHB1dCBpbnN0YW5jZW9mIENvbnNvbGVPdXRwdXRJbnRlcmZhY2UpIHsKJHRoaXMtPm91dHB1dC0+Z2V0RXJyb3JPdXRwdXQoKS0+d3JpdGUoJG1lc3NhZ2VzLCAkbmV3bGluZSwgJHNmVmVyYm9zaXR5KTsKJHRoaXMtPmxhc3RNZXNzYWdlRXJyID0gaW1wbG9kZSgkbmV3bGluZSA/ICJcbiIgOiAnJywgKGFycmF5KSAkbWVzc2FnZXMpOwoKcmV0dXJuOwp9CgokdGhpcy0+b3V0cHV0LT53cml0ZSgkbWVzc2FnZXMsICRuZXdsaW5lLCAkc2ZWZXJib3NpdHkpOwokdGhpcy0+bGFzdE1lc3NhZ2UgPSBpbXBsb2RlKCRuZXdsaW5lID8gIlxuIiA6ICcnLCAoYXJyYXkpICRtZXNzYWdlcyk7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBvdmVyd3JpdGUoJG1lc3NhZ2VzLCAkbmV3bGluZSA9IHRydWUsICRzaXplID0gbnVsbCwgJHZlcmJvc2l0eSA9IHNlbGY6Ok5PUk1BTCkKewokdGhpcy0+ZG9PdmVyd3JpdGUoJG1lc3NhZ2VzLCAkbmV3bGluZSwgJHNpemUsIGZhbHNlLCAkdmVyYm9zaXR5KTsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIG92ZXJ3cml0ZUVycm9yKCRtZXNzYWdlcywgJG5ld2xpbmUgPSB0cnVlLCAkc2l6ZSA9IG51bGwsICR2ZXJib3NpdHkgPSBzZWxmOjpOT1JNQUwpCnsKJHRoaXMtPmRvT3ZlcndyaXRlKCRtZXNzYWdlcywgJG5ld2xpbmUsICRzaXplLCB0cnVlLCAkdmVyYm9zaXR5KTsKfQoKCgoKCgoKCnByaXZhdGUgZnVuY3Rpb24gZG9PdmVyd3JpdGUoJG1lc3NhZ2VzLCAkbmV3bGluZSwgJHNpemUsICRzdGRlcnIsICR2ZXJib3NpdHkpCnsKCiRtZXNzYWdlcyA9IGltcGxvZGUoJG5ld2xpbmUgPyAiXG4iIDogJycsIChhcnJheSkgJG1lc3NhZ2VzKTsKCgppZiAoIWlzc2V0KCRzaXplKSkgewoKJHNpemUgPSBzdHJsZW4oc3RyaXBfdGFncygkc3RkZXJyID8gJHRoaXMtPmxhc3RNZXNzYWdlRXJyIDogJHRoaXMtPmxhc3RNZXNzYWdlKSk7Cn0KCiR0aGlzLT5kb1dyaXRlKHN0cl9yZXBlYXQoIlx4MDgiLCAkc2l6ZSksIGZhbHNlLCAkc3RkZXJyLCAkdmVyYm9zaXR5KTsKCgokdGhpcy0+ZG9Xcml0ZSgkbWVzc2FnZXMsIGZhbHNlLCAkc3RkZXJyLCAkdmVyYm9zaXR5KTsKCgoKCiRmaWxsID0gJHNpemUgLSBzdHJsZW4oc3RyaXBfdGFncygkbWVzc2FnZXMpKTsKaWYgKCRmaWxsID4gMCkgewoKJHRoaXMtPmRvV3JpdGUoc3RyX3JlcGVhdCgnICcsICRmaWxsKSwgZmFsc2UsICRzdGRlcnIsICR2ZXJib3NpdHkpOwoKJHRoaXMtPmRvV3JpdGUoc3RyX3JlcGVhdCgiXHgwOCIsICRmaWxsKSwgZmFsc2UsICRzdGRlcnIsICR2ZXJib3NpdHkpOwp9CgppZiAoJG5ld2xpbmUpIHsKJHRoaXMtPmRvV3JpdGUoJycsIHRydWUsICRzdGRlcnIsICR2ZXJib3NpdHkpOwp9CgppZiAoJHN0ZGVycikgewokdGhpcy0+bGFzdE1lc3NhZ2VFcnIgPSAkbWVzc2FnZXM7Cn0gZWxzZSB7CiR0aGlzLT5sYXN0TWVzc2FnZSA9ICRtZXNzYWdlczsKfQp9CgoKCgoKcHVibGljIGZ1bmN0aW9uIGdldFByb2dyZXNzQmFyKCRtYXggPSAwKQp7CnJldHVybiBuZXcgUHJvZ3Jlc3NCYXIoJHRoaXMtPmdldEVycm9yT3V0cHV0KCksICRtYXgpOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gYXNrKCRxdWVzdGlvbiwgJGRlZmF1bHQgPSBudWxsKQp7CgokaGVscGVyID0gJHRoaXMtPmhlbHBlclNldC0+Z2V0KCdxdWVzdGlvbicpOwokcXVlc3Rpb24gPSBuZXcgUXVlc3Rpb24oJHF1ZXN0aW9uLCAkZGVmYXVsdCk7CgpyZXR1cm4gJGhlbHBlci0+YXNrKCR0aGlzLT5pbnB1dCwgJHRoaXMtPmdldEVycm9yT3V0cHV0KCksICRxdWVzdGlvbik7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBhc2tDb25maXJtYXRpb24oJHF1ZXN0aW9uLCAkZGVmYXVsdCA9IHRydWUpCnsKCiRoZWxwZXIgPSAkdGhpcy0+aGVscGVyU2V0LT5nZXQoJ3F1ZXN0aW9uJyk7CiRxdWVzdGlvbiA9IG5ldyBTdHJpY3RDb25maXJtYXRpb25RdWVzdGlvbigkcXVlc3Rpb24sICRkZWZhdWx0KTsKCnJldHVybiAkaGVscGVyLT5hc2soJHRoaXMtPmlucHV0LCAkdGhpcy0+Z2V0RXJyb3JPdXRwdXQoKSwgJHF1ZXN0aW9uKTsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIGFza0FuZFZhbGlkYXRlKCRxdWVzdGlvbiwgJHZhbGlkYXRvciwgJGF0dGVtcHRzID0gbnVsbCwgJGRlZmF1bHQgPSBudWxsKQp7CgokaGVscGVyID0gJHRoaXMtPmhlbHBlclNldC0+Z2V0KCdxdWVzdGlvbicpOwokcXVlc3Rpb24gPSBuZXcgUXVlc3Rpb24oJHF1ZXN0aW9uLCAkZGVmYXVsdCk7CiRxdWVzdGlvbi0+c2V0VmFsaWRhdG9yKCR2YWxpZGF0b3IpOwokcXVlc3Rpb24tPnNldE1heEF0dGVtcHRzKCRhdHRlbXB0cyk7CgpyZXR1cm4gJGhlbHBlci0+YXNrKCR0aGlzLT5pbnB1dCwgJHRoaXMtPmdldEVycm9yT3V0cHV0KCksICRxdWVzdGlvbik7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBhc2tBbmRIaWRlQW5zd2VyKCRxdWVzdGlvbikKewoKJGhlbHBlciA9ICR0aGlzLT5oZWxwZXJTZXQtPmdldCgncXVlc3Rpb24nKTsKJHF1ZXN0aW9uID0gbmV3IFF1ZXN0aW9uKCRxdWVzdGlvbik7CiRxdWVzdGlvbi0+c2V0SGlkZGVuKHRydWUpOwoKcmV0dXJuICRoZWxwZXItPmFzaygkdGhpcy0+aW5wdXQsICR0aGlzLT5nZXRFcnJvck91dHB1dCgpLCAkcXVlc3Rpb24pOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gc2VsZWN0KCRxdWVzdGlvbiwgJGNob2ljZXMsICRkZWZhdWx0LCAkYXR0ZW1wdHMgPSBmYWxzZSwgJGVycm9yTWVzc2FnZSA9ICdWYWx1ZSAiJXMiIGlzIGludmFsaWQnLCAkbXVsdGlzZWxlY3QgPSBmYWxzZSkKewoKJGhlbHBlciA9ICR0aGlzLT5oZWxwZXJTZXQtPmdldCgncXVlc3Rpb24nKTsKJHF1ZXN0aW9uID0gbmV3IENob2ljZVF1ZXN0aW9uKCRxdWVzdGlvbiwgJGNob2ljZXMsICRkZWZhdWx0KTsKJHF1ZXN0aW9uLT5zZXRNYXhBdHRlbXB0cygkYXR0ZW1wdHMgPzogbnVsbCk7IAokcXVlc3Rpb24tPnNldEVycm9yTWVzc2FnZSgkZXJyb3JNZXNzYWdlKTsKJHF1ZXN0aW9uLT5zZXRNdWx0aXNlbGVjdCgkbXVsdGlzZWxlY3QpOwoKJHJlc3VsdCA9ICRoZWxwZXItPmFzaygkdGhpcy0+aW5wdXQsICR0aGlzLT5nZXRFcnJvck91dHB1dCgpLCAkcXVlc3Rpb24pOwoKaWYgKCFpc19hcnJheSgkcmVzdWx0KSkgewpyZXR1cm4gKHN0cmluZykgYXJyYXlfc2VhcmNoKCRyZXN1bHQsICRjaG9pY2VzLCB0cnVlKTsKfQoKJHJlc3VsdHMgPSBhcnJheSgpOwpmb3JlYWNoICgkY2hvaWNlcyBhcyAkaW5kZXggPT4gJGNob2ljZSkgewppZiAoaW5fYXJyYXkoJGNob2ljZSwgJHJlc3VsdCwgdHJ1ZSkpIHsKJHJlc3VsdHNbXSA9IChzdHJpbmcpICRpbmRleDsKfQp9CgpyZXR1cm4gJHJlc3VsdHM7Cn0KCgoKCnByaXZhdGUgZnVuY3Rpb24gZ2V0RXJyb3JPdXRwdXQoKQp7CmlmICgkdGhpcy0+b3V0cHV0IGluc3RhbmNlb2YgQ29uc29sZU91dHB1dEludGVyZmFjZSkgewpyZXR1cm4gJHRoaXMtPm91dHB1dC0+Z2V0RXJyb3JPdXRwdXQoKTsKfQoKcmV0dXJuICR0aGlzLT5vdXRwdXQ7Cn0KfQo8P3BocAoKCgoKCgoKCgoKCm5hbWVzcGFjZSBDb21wb3NlclxJTzsKCnVzZSBDb21wb3NlclxDb25maWc7CnVzZSBQc3JcTG9nXExvZ2dlckludGVyZmFjZTsKCgoKCgoKaW50ZXJmYWNlIElPSW50ZXJmYWNlIGV4dGVuZHMgTG9nZ2VySW50ZXJmYWNlCnsKY29uc3QgUVVJRVQgPSAxOwpjb25zdCBOT1JNQUwgPSAyOwpjb25zdCBWRVJCT1NFID0gNDsKY29uc3QgVkVSWV9WRVJCT1NFID0gODsKY29uc3QgREVCVUcgPSAxNjsKCgoKCgoKcHVibGljIGZ1bmN0aW9uIGlzSW50ZXJhY3RpdmUoKTsKCgoKCgoKcHVibGljIGZ1bmN0aW9uIGlzVmVyYm9zZSgpOwoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gaXNWZXJ5VmVyYm9zZSgpOwoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gaXNEZWJ1ZygpOwoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gaXNEZWNvcmF0ZWQoKTsKCgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gd3JpdGUoJG1lc3NhZ2VzLCAkbmV3bGluZSA9IHRydWUsICR2ZXJib3NpdHkgPSBzZWxmOjpOT1JNQUwpOwoKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiB3cml0ZUVycm9yKCRtZXNzYWdlcywgJG5ld2xpbmUgPSB0cnVlLCAkdmVyYm9zaXR5ID0gc2VsZjo6Tk9STUFMKTsKCgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gd3JpdGVSYXcoJG1lc3NhZ2VzLCAkbmV3bGluZSA9IHRydWUsICR2ZXJib3NpdHkgPSBzZWxmOjpOT1JNQUwpOwoKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiB3cml0ZUVycm9yUmF3KCRtZXNzYWdlcywgJG5ld2xpbmUgPSB0cnVlLCAkdmVyYm9zaXR5ID0gc2VsZjo6Tk9STUFMKTsKCgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIG92ZXJ3cml0ZSgkbWVzc2FnZXMsICRuZXdsaW5lID0gdHJ1ZSwgJHNpemUgPSBudWxsLCAkdmVyYm9zaXR5ID0gc2VsZjo6Tk9STUFMKTsKCgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIG92ZXJ3cml0ZUVycm9yKCRtZXNzYWdlcywgJG5ld2xpbmUgPSB0cnVlLCAkc2l6ZSA9IG51bGwsICR2ZXJib3NpdHkgPSBzZWxmOjpOT1JNQUwpOwoKCgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIGFzaygkcXVlc3Rpb24sICRkZWZhdWx0ID0gbnVsbCk7CgoKCgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIGFza0NvbmZpcm1hdGlvbigkcXVlc3Rpb24sICRkZWZhdWx0ID0gdHJ1ZSk7CgoKCgoKCgoKCgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gYXNrQW5kVmFsaWRhdGUoJHF1ZXN0aW9uLCAkdmFsaWRhdG9yLCAkYXR0ZW1wdHMgPSBudWxsLCAkZGVmYXVsdCA9IG51bGwpOwoKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBhc2tBbmRIaWRlQW5zd2VyKCRxdWVzdGlvbik7CgoKCgoKCgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIHNlbGVjdCgkcXVlc3Rpb24sICRjaG9pY2VzLCAkZGVmYXVsdCwgJGF0dGVtcHRzID0gZmFsc2UsICRlcnJvck1lc3NhZ2UgPSAnVmFsdWUgIiVzIiBpcyBpbnZhbGlkJywgJG11bHRpc2VsZWN0ID0gZmFsc2UpOwoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0QXV0aGVudGljYXRpb25zKCk7CgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIGhhc0F1dGhlbnRpY2F0aW9uKCRyZXBvc2l0b3J5TmFtZSk7CgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIGdldEF1dGhlbnRpY2F0aW9uKCRyZXBvc2l0b3J5TmFtZSk7CgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIHNldEF1dGhlbnRpY2F0aW9uKCRyZXBvc2l0b3J5TmFtZSwgJHVzZXJuYW1lLCAkcGFzc3dvcmQgPSBudWxsKTsKCgoKCgoKcHVibGljIGZ1bmN0aW9uIGxvYWRDb25maWd1cmF0aW9uKENvbmZpZyAkY29uZmlnKTsKfQo8P3BocAoKCgoKCgoKCgoKCm5hbWVzcGFjZSBDb21wb3NlclxJTzsKCgoKCgoKY2xhc3MgTnVsbElPIGV4dGVuZHMgQmFzZUlPCnsKCgoKcHVibGljIGZ1bmN0aW9uIGlzSW50ZXJhY3RpdmUoKQp7CnJldHVybiBmYWxzZTsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIGlzVmVyYm9zZSgpCnsKcmV0dXJuIGZhbHNlOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gaXNWZXJ5VmVyYm9zZSgpCnsKcmV0dXJuIGZhbHNlOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gaXNEZWJ1ZygpCnsKcmV0dXJuIGZhbHNlOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gaXNEZWNvcmF0ZWQoKQp7CnJldHVybiBmYWxzZTsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIHdyaXRlKCRtZXNzYWdlcywgJG5ld2xpbmUgPSB0cnVlLCAkdmVyYm9zaXR5ID0gc2VsZjo6Tk9STUFMKQp7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiB3cml0ZUVycm9yKCRtZXNzYWdlcywgJG5ld2xpbmUgPSB0cnVlLCAkdmVyYm9zaXR5ID0gc2VsZjo6Tk9STUFMKQp7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBvdmVyd3JpdGUoJG1lc3NhZ2VzLCAkbmV3bGluZSA9IHRydWUsICRzaXplID0gODAsICR2ZXJib3NpdHkgPSBzZWxmOjpOT1JNQUwpCnsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIG92ZXJ3cml0ZUVycm9yKCRtZXNzYWdlcywgJG5ld2xpbmUgPSB0cnVlLCAkc2l6ZSA9IDgwLCAkdmVyYm9zaXR5ID0gc2VsZjo6Tk9STUFMKQp7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBhc2soJHF1ZXN0aW9uLCAkZGVmYXVsdCA9IG51bGwpCnsKcmV0dXJuICRkZWZhdWx0Owp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gYXNrQ29uZmlybWF0aW9uKCRxdWVzdGlvbiwgJGRlZmF1bHQgPSB0cnVlKQp7CnJldHVybiAkZGVmYXVsdDsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIGFza0FuZFZhbGlkYXRlKCRxdWVzdGlvbiwgJHZhbGlkYXRvciwgJGF0dGVtcHRzID0gbnVsbCwgJGRlZmF1bHQgPSBudWxsKQp7CnJldHVybiAkZGVmYXVsdDsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIGFza0FuZEhpZGVBbnN3ZXIoJHF1ZXN0aW9uKQp7CnJldHVybiBudWxsOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gc2VsZWN0KCRxdWVzdGlvbiwgJGNob2ljZXMsICRkZWZhdWx0LCAkYXR0ZW1wdHMgPSBmYWxzZSwgJGVycm9yTWVzc2FnZSA9ICdWYWx1ZSAiJXMiIGlzIGludmFsaWQnLCAkbXVsdGlzZWxlY3QgPSBmYWxzZSkKewpyZXR1cm4gJGRlZmF1bHQ7Cn0KfQo8P3BocAoKCgoKCgoKCgoKCm5hbWVzcGFjZSBDb21wb3NlcjsKCnVzZSBDb21wb3NlclxBdXRvbG9hZFxBdXRvbG9hZEdlbmVyYXRvcjsKdXNlIENvbXBvc2VyXENvbnNvbGVcR2l0aHViQWN0aW9uRXJyb3I7CnVzZSBDb21wb3NlclxEZXBlbmRlbmN5UmVzb2x2ZXJcRGVmYXVsdFBvbGljeTsKdXNlIENvbXBvc2VyXERlcGVuZGVuY3lSZXNvbHZlclxMb2NhbFJlcG9UcmFuc2FjdGlvbjsKdXNlIENvbXBvc2VyXERlcGVuZGVuY3lSZXNvbHZlclxMb2NrVHJhbnNhY3Rpb247CnVzZSBDb21wb3NlclxEZXBlbmRlbmN5UmVzb2x2ZXJcT3BlcmF0aW9uXFVwZGF0ZU9wZXJhdGlvbjsKdXNlIENvbXBvc2VyXERlcGVuZGVuY3lSZXNvbHZlclxPcGVyYXRpb25cSW5zdGFsbE9wZXJhdGlvbjsKdXNlIENvbXBvc2VyXERlcGVuZGVuY3lSZXNvbHZlclxPcGVyYXRpb25cVW5pbnN0YWxsT3BlcmF0aW9uOwp1c2UgQ29tcG9zZXJcRGVwZW5kZW5jeVJlc29sdmVyXFBvb2w7CnVzZSBDb21wb3NlclxEZXBlbmRlbmN5UmVzb2x2ZXJcUmVxdWVzdDsKdXNlIENvbXBvc2VyXERlcGVuZGVuY3lSZXNvbHZlclxTb2x2ZXI7CnVzZSBDb21wb3NlclxEZXBlbmRlbmN5UmVzb2x2ZXJcU29sdmVyUHJvYmxlbXNFeGNlcHRpb247CnVzZSBDb21wb3NlclxEZXBlbmRlbmN5UmVzb2x2ZXJcUG9saWN5SW50ZXJmYWNlOwp1c2UgQ29tcG9zZXJcRG93bmxvYWRlclxEb3dubG9hZE1hbmFnZXI7CnVzZSBDb21wb3NlclxFdmVudERpc3BhdGNoZXJcRXZlbnREaXNwYXRjaGVyOwp1c2UgQ29tcG9zZXJcSW5zdGFsbGVyXEluc3RhbGxhdGlvbk1hbmFnZXI7CnVzZSBDb21wb3NlclxJbnN0YWxsZXJcSW5zdGFsbGVyRXZlbnRzOwp1c2UgQ29tcG9zZXJcSW5zdGFsbGVyXFN1Z2dlc3RlZFBhY2thZ2VzUmVwb3J0ZXI7CnVzZSBDb21wb3NlclxJT1xJT0ludGVyZmFjZTsKdXNlIENvbXBvc2VyXFBhY2thZ2VcQWxpYXNQYWNrYWdlOwp1c2UgQ29tcG9zZXJcUGFja2FnZVxSb290QWxpYXNQYWNrYWdlOwp1c2UgQ29tcG9zZXJcUGFja2FnZVxCYXNlUGFja2FnZTsKdXNlIENvbXBvc2VyXFBhY2thZ2VcQ29tcGxldGVQYWNrYWdlOwp1c2UgQ29tcG9zZXJcUGFja2FnZVxDb21wbGV0ZVBhY2thZ2VJbnRlcmZhY2U7CnVzZSBDb21wb3NlclxQYWNrYWdlXExpbms7CnVzZSBDb21wb3NlclxQYWNrYWdlXExvYWRlclxBcnJheUxvYWRlcjsKdXNlIENvbXBvc2VyXFBhY2thZ2VcRHVtcGVyXEFycmF5RHVtcGVyOwp1c2UgQ29tcG9zZXJcUGFja2FnZVxWZXJzaW9uXFZlcnNpb25QYXJzZXI7CnVzZSBDb21wb3NlclxQYWNrYWdlXFBhY2thZ2U7CnVzZSBDb21wb3NlclxSZXBvc2l0b3J5XEFycmF5UmVwb3NpdG9yeTsKdXNlIENvbXBvc2VyXFJlcG9zaXRvcnlcUmVwb3NpdG9yeVNldDsKdXNlIENvbXBvc2VyXFJlcG9zaXRvcnlcQ29tcG9zaXRlUmVwb3NpdG9yeTsKdXNlIENvbXBvc2VyXFNlbXZlclxDb25zdHJhaW50XENvbnN0cmFpbnQ7CnVzZSBDb21wb3NlclxQYWNrYWdlXExvY2tlcjsKdXNlIENvbXBvc2VyXFBhY2thZ2VcUm9vdFBhY2thZ2VJbnRlcmZhY2U7CnVzZSBDb21wb3NlclxSZXBvc2l0b3J5XEluc3RhbGxlZEFycmF5UmVwb3NpdG9yeTsKdXNlIENvbXBvc2VyXFJlcG9zaXRvcnlcSW5zdGFsbGVkUmVwb3NpdG9yeUludGVyZmFjZTsKdXNlIENvbXBvc2VyXFJlcG9zaXRvcnlcSW5zdGFsbGVkUmVwb3NpdG9yeTsKdXNlIENvbXBvc2VyXFJlcG9zaXRvcnlcUm9vdFBhY2thZ2VSZXBvc2l0b3J5Owp1c2UgQ29tcG9zZXJcUmVwb3NpdG9yeVxQbGF0Zm9ybVJlcG9zaXRvcnk7CnVzZSBDb21wb3NlclxSZXBvc2l0b3J5XFJlcG9zaXRvcnlJbnRlcmZhY2U7CnVzZSBDb21wb3NlclxSZXBvc2l0b3J5XFJlcG9zaXRvcnlNYW5hZ2VyOwp1c2UgQ29tcG9zZXJcUmVwb3NpdG9yeVxMb2NrQXJyYXlSZXBvc2l0b3J5Owp1c2UgQ29tcG9zZXJcU2NyaXB0XFNjcmlwdEV2ZW50czsKdXNlIENvbXBvc2VyXFV0aWxcUGxhdGZvcm07CgoKCgoKCgpjbGFzcyBJbnN0YWxsZXIKewoKCgpwcm90ZWN0ZWQgJGlvOwoKCgoKcHJvdGVjdGVkICRjb25maWc7CgoKCgpwcm90ZWN0ZWQgJHBhY2thZ2U7CgoKCgoKcHJvdGVjdGVkICRmaXhlZFJvb3RQYWNrYWdlOwoKCgoKcHJvdGVjdGVkICRkb3dubG9hZE1hbmFnZXI7CgoKCgpwcm90ZWN0ZWQgJHJlcG9zaXRvcnlNYW5hZ2VyOwoKCgoKcHJvdGVjdGVkICRsb2NrZXI7CgoKCgpwcm90ZWN0ZWQgJGluc3RhbGxhdGlvbk1hbmFnZXI7CgoKCgpwcm90ZWN0ZWQgJGV2ZW50RGlzcGF0Y2hlcjsKCgoKCnByb3RlY3RlZCAkYXV0b2xvYWRHZW5lcmF0b3I7Cgpwcm90ZWN0ZWQgJHByZWZlclNvdXJjZSA9IGZhbHNlOwpwcm90ZWN0ZWQgJHByZWZlckRpc3QgPSBmYWxzZTsKcHJvdGVjdGVkICRvcHRpbWl6ZUF1dG9sb2FkZXIgPSBmYWxzZTsKcHJvdGVjdGVkICRjbGFzc01hcEF1dGhvcml0YXRpdmUgPSBmYWxzZTsKcHJvdGVjdGVkICRhcGN1QXV0b2xvYWRlciA9IGZhbHNlOwpwcm90ZWN0ZWQgJGFwY3VBdXRvbG9hZGVyUHJlZml4Owpwcm90ZWN0ZWQgJGRldk1vZGUgPSBmYWxzZTsKcHJvdGVjdGVkICRkcnlSdW4gPSBmYWxzZTsKcHJvdGVjdGVkICR2ZXJib3NlID0gZmFsc2U7CnByb3RlY3RlZCAkdXBkYXRlID0gZmFsc2U7CnByb3RlY3RlZCAkaW5zdGFsbCA9IHRydWU7CnByb3RlY3RlZCAkZHVtcEF1dG9sb2FkZXIgPSB0cnVlOwpwcm90ZWN0ZWQgJHJ1blNjcmlwdHMgPSB0cnVlOwpwcm90ZWN0ZWQgJGlnbm9yZVBsYXRmb3JtUmVxcyA9IGZhbHNlOwpwcm90ZWN0ZWQgJHByZWZlclN0YWJsZSA9IGZhbHNlOwpwcm90ZWN0ZWQgJHByZWZlckxvd2VzdCA9IGZhbHNlOwpwcm90ZWN0ZWQgJHdyaXRlTG9jazsKcHJvdGVjdGVkICRleGVjdXRlT3BlcmF0aW9ucyA9IHRydWU7CgoKcHJvdGVjdGVkICR1cGRhdGVNaXJyb3JzID0gZmFsc2U7CgoKCgoKcHJvdGVjdGVkICR1cGRhdGVBbGxvd0xpc3QgPSBudWxsOwpwcm90ZWN0ZWQgJHVwZGF0ZUFsbG93VHJhbnNpdGl2ZURlcGVuZGVuY2llcyA9IFJlcXVlc3Q6OlVQREFURV9PTkxZX0xJU1RFRDsKCgoKCnByb3RlY3RlZCAkc3VnZ2VzdGVkUGFja2FnZXNSZXBvcnRlcjsKCgoKCnByb3RlY3RlZCAkYWRkaXRpb25hbEZpeGVkUmVwb3NpdG9yeTsKCgoKCgoKCgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gX19jb25zdHJ1Y3QoSU9JbnRlcmZhY2UgJGlvLCBDb25maWcgJGNvbmZpZywgUm9vdFBhY2thZ2VJbnRlcmZhY2UgJHBhY2thZ2UsIERvd25sb2FkTWFuYWdlciAkZG93bmxvYWRNYW5hZ2VyLCBSZXBvc2l0b3J5TWFuYWdlciAkcmVwb3NpdG9yeU1hbmFnZXIsIExvY2tlciAkbG9ja2VyLCBJbnN0YWxsYXRpb25NYW5hZ2VyICRpbnN0YWxsYXRpb25NYW5hZ2VyLCBFdmVudERpc3BhdGNoZXIgJGV2ZW50RGlzcGF0Y2hlciwgQXV0b2xvYWRHZW5lcmF0b3IgJGF1dG9sb2FkR2VuZXJhdG9yKQp7CiR0aGlzLT5pbyA9ICRpbzsKJHRoaXMtPmNvbmZpZyA9ICRjb25maWc7CiR0aGlzLT5wYWNrYWdlID0gJHBhY2thZ2U7CiR0aGlzLT5kb3dubG9hZE1hbmFnZXIgPSAkZG93bmxvYWRNYW5hZ2VyOwokdGhpcy0+cmVwb3NpdG9yeU1hbmFnZXIgPSAkcmVwb3NpdG9yeU1hbmFnZXI7CiR0aGlzLT5sb2NrZXIgPSAkbG9ja2VyOwokdGhpcy0+aW5zdGFsbGF0aW9uTWFuYWdlciA9ICRpbnN0YWxsYXRpb25NYW5hZ2VyOwokdGhpcy0+ZXZlbnREaXNwYXRjaGVyID0gJGV2ZW50RGlzcGF0Y2hlcjsKJHRoaXMtPmF1dG9sb2FkR2VuZXJhdG9yID0gJGF1dG9sb2FkR2VuZXJhdG9yOwoKJHRoaXMtPndyaXRlTG9jayA9ICRjb25maWctPmdldCgnbG9jaycpOwp9CgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gcnVuKCkKewoKCgoKZ2NfY29sbGVjdF9jeWNsZXMoKTsKZ2NfZGlzYWJsZSgpOwoKaWYgKCR0aGlzLT51cGRhdGVBbGxvd0xpc3QgJiYgJHRoaXMtPnVwZGF0ZU1pcnJvcnMpIHsKdGhyb3cgbmV3IFxSdW50aW1lRXhjZXB0aW9uKCJUaGUgaW5zdGFsbGVyIG9wdGlvbnMgdXBkYXRlTWlycm9ycyBhbmQgdXBkYXRlQWxsb3dMaXN0IGFyZSBtdXR1YWxseSBleGNsdXNpdmUuIik7Cn0KCiRpc0ZyZXNoSW5zdGFsbCA9ICR0aGlzLT5yZXBvc2l0b3J5TWFuYWdlci0+Z2V0TG9jYWxSZXBvc2l0b3J5KCktPmlzRnJlc2goKTsKCgppZiAoISR0aGlzLT51cGRhdGUgJiYgISR0aGlzLT5sb2NrZXItPmlzTG9ja2VkKCkpIHsKJHRoaXMtPmlvLT53cml0ZUVycm9yKCc8d2FybmluZz5ObyBjb21wb3Nlci5sb2NrIGZpbGUgcHJlc2VudC4gVXBkYXRpbmcgZGVwZW5kZW5jaWVzIHRvIGxhdGVzdCBpbnN0ZWFkIG9mIGluc3RhbGxpbmcgZnJvbSBsb2NrIGZpbGUuIFNlZSBodHRwczovL2dldGNvbXBvc2VyLm9yZy9pbnN0YWxsIGZvciBtb3JlIGluZm9ybWF0aW9uLjwvd2FybmluZz4nKTsKJHRoaXMtPnVwZGF0ZSA9IHRydWU7Cn0KCmlmICgkdGhpcy0+ZHJ5UnVuKSB7CiR0aGlzLT52ZXJib3NlID0gdHJ1ZTsKJHRoaXMtPnJ1blNjcmlwdHMgPSBmYWxzZTsKJHRoaXMtPmV4ZWN1dGVPcGVyYXRpb25zID0gZmFsc2U7CiR0aGlzLT53cml0ZUxvY2sgPSBmYWxzZTsKJHRoaXMtPmR1bXBBdXRvbG9hZGVyID0gZmFsc2U7CiR0aGlzLT5tb2NrTG9jYWxSZXBvc2l0b3JpZXMoJHRoaXMtPnJlcG9zaXRvcnlNYW5hZ2VyKTsKfQoKaWYgKCR0aGlzLT51cGRhdGUgJiYgISR0aGlzLT5pbnN0YWxsKSB7CiR0aGlzLT5kdW1wQXV0b2xvYWRlciA9IGZhbHNlOwp9CgppZiAoJHRoaXMtPnJ1blNjcmlwdHMpIHsKUGxhdGZvcm06OnB1dEVudignQ09NUE9TRVJfREVWX01PREUnLCAkdGhpcy0+ZGV2TW9kZSA/ICcxJyA6ICcwJyk7CgoKCiRldmVudE5hbWUgPSAkdGhpcy0+dXBkYXRlID8gU2NyaXB0RXZlbnRzOjpQUkVfVVBEQVRFX0NNRCA6IFNjcmlwdEV2ZW50czo6UFJFX0lOU1RBTExfQ01EOwokdGhpcy0+ZXZlbnREaXNwYXRjaGVyLT5kaXNwYXRjaFNjcmlwdCgkZXZlbnROYW1lLCAkdGhpcy0+ZGV2TW9kZSk7Cn0KCiR0aGlzLT5kb3dubG9hZE1hbmFnZXItPnNldFByZWZlclNvdXJjZSgkdGhpcy0+cHJlZmVyU291cmNlKTsKJHRoaXMtPmRvd25sb2FkTWFuYWdlci0+c2V0UHJlZmVyRGlzdCgkdGhpcy0+cHJlZmVyRGlzdCk7CgokbG9jYWxSZXBvID0gJHRoaXMtPnJlcG9zaXRvcnlNYW5hZ2VyLT5nZXRMb2NhbFJlcG9zaXRvcnkoKTsKCmlmICghJHRoaXMtPnN1Z2dlc3RlZFBhY2thZ2VzUmVwb3J0ZXIpIHsKJHRoaXMtPnN1Z2dlc3RlZFBhY2thZ2VzUmVwb3J0ZXIgPSBuZXcgU3VnZ2VzdGVkUGFja2FnZXNSZXBvcnRlcigkdGhpcy0+aW8pOwp9Cgp0cnkgewppZiAoJHRoaXMtPnVwZGF0ZSkgewokcmVzID0gJHRoaXMtPmRvVXBkYXRlKCRsb2NhbFJlcG8sICR0aGlzLT5pbnN0YWxsKTsKfSBlbHNlIHsKJHJlcyA9ICR0aGlzLT5kb0luc3RhbGwoJGxvY2FsUmVwbyk7Cn0KaWYgKCRyZXMgIT09IDApIHsKcmV0dXJuICRyZXM7Cn0KfSBjYXRjaCAoXEV4Y2VwdGlvbiAkZSkgewppZiAoJHRoaXMtPmV4ZWN1dGVPcGVyYXRpb25zICYmICR0aGlzLT5pbnN0YWxsICYmICR0aGlzLT5jb25maWctPmdldCgnbm90aWZ5LW9uLWluc3RhbGwnKSkgewokdGhpcy0+aW5zdGFsbGF0aW9uTWFuYWdlci0+bm90aWZ5SW5zdGFsbHMoJHRoaXMtPmlvKTsKfQoKdGhyb3cgJGU7Cn0KaWYgKCR0aGlzLT5leGVjdXRlT3BlcmF0aW9ucyAmJiAkdGhpcy0+aW5zdGFsbCAmJiAkdGhpcy0+Y29uZmlnLT5nZXQoJ25vdGlmeS1vbi1pbnN0YWxsJykpIHsKJHRoaXMtPmluc3RhbGxhdGlvbk1hbmFnZXItPm5vdGlmeUluc3RhbGxzKCR0aGlzLT5pbyk7Cn0KCmlmICgkdGhpcy0+dXBkYXRlKSB7CiRpbnN0YWxsZWRSZXBvID0gbmV3IEluc3RhbGxlZFJlcG9zaXRvcnkoYXJyYXkoCiR0aGlzLT5sb2NrZXItPmdldExvY2tlZFJlcG9zaXRvcnkoJHRoaXMtPmRldk1vZGUpLAokdGhpcy0+Y3JlYXRlUGxhdGZvcm1SZXBvKGZhbHNlKSwKbmV3IFJvb3RQYWNrYWdlUmVwb3NpdG9yeShjbG9uZSAkdGhpcy0+cGFja2FnZSksCikpOwppZiAoJGlzRnJlc2hJbnN0YWxsKSB7CiR0aGlzLT5zdWdnZXN0ZWRQYWNrYWdlc1JlcG9ydGVyLT5hZGRTdWdnZXN0aW9uc0Zyb21QYWNrYWdlKCR0aGlzLT5wYWNrYWdlKTsKfQokdGhpcy0+c3VnZ2VzdGVkUGFja2FnZXNSZXBvcnRlci0+b3V0cHV0TWluaW1hbGlzdGljKCRpbnN0YWxsZWRSZXBvKTsKfQoKCiRsb2NrZWRSZXBvc2l0b3J5ID0gJHRoaXMtPmxvY2tlci0+Z2V0TG9ja2VkUmVwb3NpdG9yeSh0cnVlKTsKZm9yZWFjaCAoJGxvY2tlZFJlcG9zaXRvcnktPmdldFBhY2thZ2VzKCkgYXMgJHBhY2thZ2UpIHsKaWYgKCEkcGFja2FnZSBpbnN0YW5jZW9mIENvbXBsZXRlUGFja2FnZSB8fCAhJHBhY2thZ2UtPmlzQWJhbmRvbmVkKCkpIHsKY29udGludWU7Cn0KCiRyZXBsYWNlbWVudCA9IGlzX3N0cmluZygkcGFja2FnZS0+Z2V0UmVwbGFjZW1lbnRQYWNrYWdlKCkpCj8gJ1VzZSAnIC4gJHBhY2thZ2UtPmdldFJlcGxhY2VtZW50UGFja2FnZSgpIC4gJyBpbnN0ZWFkJwo6ICdObyByZXBsYWNlbWVudCB3YXMgc3VnZ2VzdGVkJzsKCiR0aGlzLT5pby0+d3JpdGVFcnJvcigKc3ByaW50ZigKIjx3YXJuaW5nPlBhY2thZ2UgJXMgaXMgYWJhbmRvbmVkLCB5b3Ugc2hvdWxkIGF2b2lkIHVzaW5nIGl0LiAlcy48L3dhcm5pbmc+IiwKJHBhY2thZ2UtPmdldFByZXR0eU5hbWUoKSwKJHJlcGxhY2VtZW50CikKKTsKfQoKaWYgKCR0aGlzLT5kdW1wQXV0b2xvYWRlcikgewoKaWYgKCR0aGlzLT5vcHRpbWl6ZUF1dG9sb2FkZXIpIHsKJHRoaXMtPmlvLT53cml0ZUVycm9yKCc8aW5mbz5HZW5lcmF0aW5nIG9wdGltaXplZCBhdXRvbG9hZCBmaWxlczwvaW5mbz4nKTsKfSBlbHNlIHsKJHRoaXMtPmlvLT53cml0ZUVycm9yKCc8aW5mbz5HZW5lcmF0aW5nIGF1dG9sb2FkIGZpbGVzPC9pbmZvPicpOwp9CgokdGhpcy0+YXV0b2xvYWRHZW5lcmF0b3ItPnNldENsYXNzTWFwQXV0aG9yaXRhdGl2ZSgkdGhpcy0+Y2xhc3NNYXBBdXRob3JpdGF0aXZlKTsKJHRoaXMtPmF1dG9sb2FkR2VuZXJhdG9yLT5zZXRBcGN1KCR0aGlzLT5hcGN1QXV0b2xvYWRlciwgJHRoaXMtPmFwY3VBdXRvbG9hZGVyUHJlZml4KTsKJHRoaXMtPmF1dG9sb2FkR2VuZXJhdG9yLT5zZXRSdW5TY3JpcHRzKCR0aGlzLT5ydW5TY3JpcHRzKTsKJHRoaXMtPmF1dG9sb2FkR2VuZXJhdG9yLT5zZXRJZ25vcmVQbGF0Zm9ybVJlcXVpcmVtZW50cygkdGhpcy0+aWdub3JlUGxhdGZvcm1SZXFzKTsKJHRoaXMtPmF1dG9sb2FkR2VuZXJhdG9yLT5kdW1wKCR0aGlzLT5jb25maWcsICRsb2NhbFJlcG8sICR0aGlzLT5wYWNrYWdlLCAkdGhpcy0+aW5zdGFsbGF0aW9uTWFuYWdlciwgJ2NvbXBvc2VyJywgJHRoaXMtPm9wdGltaXplQXV0b2xvYWRlcik7Cn0KCmlmICgkdGhpcy0+aW5zdGFsbCAmJiAkdGhpcy0+ZXhlY3V0ZU9wZXJhdGlvbnMpIHsKCmZvcmVhY2ggKCRsb2NhbFJlcG8tPmdldFBhY2thZ2VzKCkgYXMgJHBhY2thZ2UpIHsKJHRoaXMtPmluc3RhbGxhdGlvbk1hbmFnZXItPmVuc3VyZUJpbmFyaWVzUHJlc2VuY2UoJHBhY2thZ2UpOwp9Cn0KCiRmdW5kaW5nQ291bnQgPSAwOwpmb3JlYWNoICgkbG9jYWxSZXBvLT5nZXRQYWNrYWdlcygpIGFzICRwYWNrYWdlKSB7CmlmICgkcGFja2FnZSBpbnN0YW5jZW9mIENvbXBsZXRlUGFja2FnZUludGVyZmFjZSAmJiAhJHBhY2thZ2UgaW5zdGFuY2VvZiBBbGlhc1BhY2thZ2UgJiYgJHBhY2thZ2UtPmdldEZ1bmRpbmcoKSkgewokZnVuZGluZ0NvdW50Kys7Cn0KfQppZiAoJGZ1bmRpbmdDb3VudCkgewokdGhpcy0+aW8tPndyaXRlRXJyb3IoYXJyYXkoCnNwcmludGYoCiI8aW5mbz4lZCBwYWNrYWdlJXMgeW91IGFyZSB1c2luZyAlcyBsb29raW5nIGZvciBmdW5kaW5nLjwvaW5mbz4iLAokZnVuZGluZ0NvdW50LAoxID09PSAkZnVuZGluZ0NvdW50ID8gJycgOiAncycsCjEgPT09ICRmdW5kaW5nQ291bnQgPyAnaXMnIDogJ2FyZScKKSwKJzxpbmZvPlVzZSB0aGUgYGNvbXBvc2VyIGZ1bmRgIGNvbW1hbmQgdG8gZmluZCBvdXQgbW9yZSE8L2luZm8+JywKKSk7Cn0KCmlmICgkdGhpcy0+cnVuU2NyaXB0cykgewoKJGV2ZW50TmFtZSA9ICR0aGlzLT51cGRhdGUgPyBTY3JpcHRFdmVudHM6OlBPU1RfVVBEQVRFX0NNRCA6IFNjcmlwdEV2ZW50czo6UE9TVF9JTlNUQUxMX0NNRDsKJHRoaXMtPmV2ZW50RGlzcGF0Y2hlci0+ZGlzcGF0Y2hTY3JpcHQoJGV2ZW50TmFtZSwgJHRoaXMtPmRldk1vZGUpOwp9CgoKaWYgKCFkZWZpbmVkKCdISFZNX1ZFUlNJT04nKSkgewpnY19lbmFibGUoKTsKfQoKcmV0dXJuIDA7Cn0KCnByb3RlY3RlZCBmdW5jdGlvbiBkb1VwZGF0ZShJbnN0YWxsZWRSZXBvc2l0b3J5SW50ZXJmYWNlICRsb2NhbFJlcG8sICRkb0luc3RhbGwpCnsKJHBsYXRmb3JtUmVwbyA9ICR0aGlzLT5jcmVhdGVQbGF0Zm9ybVJlcG8odHJ1ZSk7CiRhbGlhc2VzID0gJHRoaXMtPmdldFJvb3RBbGlhc2VzKHRydWUpOwoKJGxvY2tlZFJlcG9zaXRvcnkgPSBudWxsOwoKdHJ5IHsKaWYgKCR0aGlzLT5sb2NrZXItPmlzTG9ja2VkKCkpIHsKJGxvY2tlZFJlcG9zaXRvcnkgPSAkdGhpcy0+bG9ja2VyLT5nZXRMb2NrZWRSZXBvc2l0b3J5KHRydWUpOwp9Cn0gY2F0Y2ggKFxTZWxkXEpzb25MaW50XFBhcnNpbmdFeGNlcHRpb24gJGUpIHsKaWYgKCR0aGlzLT51cGRhdGVBbGxvd0xpc3QgfHwgJHRoaXMtPnVwZGF0ZU1pcnJvcnMpIHsKCnRocm93ICRlOwp9CgoKfQoKaWYgKCgkdGhpcy0+dXBkYXRlQWxsb3dMaXN0IHx8ICR0aGlzLT51cGRhdGVNaXJyb3JzKSAmJiAhJGxvY2tlZFJlcG9zaXRvcnkpIHsKJHRoaXMtPmlvLT53cml0ZUVycm9yKCc8ZXJyb3I+Q2Fubm90IHVwZGF0ZSAnIC4gKCR0aGlzLT51cGRhdGVNaXJyb3JzID8gJ2xvY2sgZmlsZSBpbmZvcm1hdGlvbicgOiAnb25seSBhIHBhcnRpYWwgc2V0IG9mIHBhY2thZ2VzJykgLiAnIHdpdGhvdXQgYSBsb2NrIGZpbGUgcHJlc2VudC4gUnVuIGBjb21wb3NlciB1cGRhdGVgIHRvIGdlbmVyYXRlIGEgbG9jayBmaWxlLjwvZXJyb3I+JywgdHJ1ZSwgSU9JbnRlcmZhY2U6OlFVSUVUKTsKCnJldHVybiAxOwp9CgokdGhpcy0+aW8tPndyaXRlRXJyb3IoJzxpbmZvPkxvYWRpbmcgY29tcG9zZXIgcmVwb3NpdG9yaWVzIHdpdGggcGFja2FnZSBpbmZvcm1hdGlvbjwvaW5mbz4nKTsKCgokcG9saWN5ID0gJHRoaXMtPmNyZWF0ZVBvbGljeSh0cnVlKTsKJHJlcG9zaXRvcnlTZXQgPSAkdGhpcy0+Y3JlYXRlUmVwb3NpdG9yeVNldCh0cnVlLCAkcGxhdGZvcm1SZXBvLCAkYWxpYXNlcyk7CiRyZXBvc2l0b3JpZXMgPSAkdGhpcy0+cmVwb3NpdG9yeU1hbmFnZXItPmdldFJlcG9zaXRvcmllcygpOwpmb3JlYWNoICgkcmVwb3NpdG9yaWVzIGFzICRyZXBvc2l0b3J5KSB7CiRyZXBvc2l0b3J5U2V0LT5hZGRSZXBvc2l0b3J5KCRyZXBvc2l0b3J5KTsKfQppZiAoJGxvY2tlZFJlcG9zaXRvcnkpIHsKJHJlcG9zaXRvcnlTZXQtPmFkZFJlcG9zaXRvcnkoJGxvY2tlZFJlcG9zaXRvcnkpOwp9CgokcmVxdWVzdCA9ICR0aGlzLT5jcmVhdGVSZXF1ZXN0KCR0aGlzLT5maXhlZFJvb3RQYWNrYWdlLCAkcGxhdGZvcm1SZXBvLCAkbG9ja2VkUmVwb3NpdG9yeSk7CiR0aGlzLT5yZXF1aXJlUGFja2FnZXNGb3JVcGRhdGUoJHJlcXVlc3QsICRsb2NrZWRSZXBvc2l0b3J5LCB0cnVlKTsKCgppZiAoJHRoaXMtPnVwZGF0ZUFsbG93TGlzdCkgewokcmVxdWVzdC0+c2V0VXBkYXRlQWxsb3dMaXN0KCR0aGlzLT51cGRhdGVBbGxvd0xpc3QsICR0aGlzLT51cGRhdGVBbGxvd1RyYW5zaXRpdmVEZXBlbmRlbmNpZXMpOwp9CgokcG9vbCA9ICRyZXBvc2l0b3J5U2V0LT5jcmVhdGVQb29sKCRyZXF1ZXN0LCAkdGhpcy0+aW8sICR0aGlzLT5ldmVudERpc3BhdGNoZXIpOwoKJHRoaXMtPmlvLT53cml0ZUVycm9yKCc8aW5mbz5VcGRhdGluZyBkZXBlbmRlbmNpZXM8L2luZm8+Jyk7CgoKJHNvbHZlciA9IG5ldyBTb2x2ZXIoJHBvbGljeSwgJHBvb2wsICR0aGlzLT5pbyk7CnRyeSB7CiRsb2NrVHJhbnNhY3Rpb24gPSAkc29sdmVyLT5zb2x2ZSgkcmVxdWVzdCwgJHRoaXMtPmlnbm9yZVBsYXRmb3JtUmVxcyk7CiRydWxlU2V0U2l6ZSA9ICRzb2x2ZXItPmdldFJ1bGVTZXRTaXplKCk7CiRzb2x2ZXIgPSBudWxsOwp9IGNhdGNoIChTb2x2ZXJQcm9ibGVtc0V4Y2VwdGlvbiAkZSkgewokZXJyID0gJ1lvdXIgcmVxdWlyZW1lbnRzIGNvdWxkIG5vdCBiZSByZXNvbHZlZCB0byBhbiBpbnN0YWxsYWJsZSBzZXQgb2YgcGFja2FnZXMuJzsKJHByZXR0eVByb2JsZW0gPSAkZS0+Z2V0UHJldHR5U3RyaW5nKCRyZXBvc2l0b3J5U2V0LCAkcmVxdWVzdCwgJHBvb2wsICR0aGlzLT5pby0+aXNWZXJib3NlKCkpOwoKJHRoaXMtPmlvLT53cml0ZUVycm9yKCc8ZXJyb3I+Jy4gJGVyciAuJzwvZXJyb3I+JywgdHJ1ZSwgSU9JbnRlcmZhY2U6OlFVSUVUKTsKJHRoaXMtPmlvLT53cml0ZUVycm9yKCRwcmV0dHlQcm9ibGVtKTsKaWYgKCEkdGhpcy0+ZGV2TW9kZSkgewokdGhpcy0+aW8tPndyaXRlRXJyb3IoJzx3YXJuaW5nPlJ1bm5pbmcgdXBkYXRlIHdpdGggLS1uby1kZXYgZG9lcyBub3QgbWVhbiByZXF1aXJlLWRldiBpcyBpZ25vcmVkLCBpdCBqdXN0IG1lYW5zIHRoZSBwYWNrYWdlcyB3aWxsIG5vdCBiZSBpbnN0YWxsZWQuIElmIGRldiByZXF1aXJlbWVudHMgYXJlIGJsb2NraW5nIHRoZSB1cGRhdGUgeW91IGhhdmUgdG8gcmVzb2x2ZSB0aG9zZSBwcm9ibGVtcy48L3dhcm5pbmc+JywgdHJ1ZSwgSU9JbnRlcmZhY2U6OlFVSUVUKTsKfQoKJGdoZSA9IG5ldyBHaXRodWJBY3Rpb25FcnJvcigkdGhpcy0+aW8pOwokZ2hlLT5lbWl0KCRlcnIuIlxuIi4kcHJldHR5UHJvYmxlbSk7CgpyZXR1cm4gbWF4KDEsICRlLT5nZXRDb2RlKCkpOwp9CgokdGhpcy0+aW8tPndyaXRlRXJyb3IoIkFuYWx5emVkICIuY291bnQoJHBvb2wpLiIgcGFja2FnZXMgdG8gcmVzb2x2ZSBkZXBlbmRlbmNpZXMiLCB0cnVlLCBJT0ludGVyZmFjZTo6VkVSQk9TRSk7CiR0aGlzLT5pby0+d3JpdGVFcnJvcigiQW5hbHl6ZWQgIi4kcnVsZVNldFNpemUuIiBydWxlcyB0byByZXNvbHZlIGRlcGVuZGVuY2llcyIsIHRydWUsIElPSW50ZXJmYWNlOjpWRVJCT1NFKTsKCmlmICghJGxvY2tUcmFuc2FjdGlvbi0+Z2V0T3BlcmF0aW9ucygpKSB7CiR0aGlzLT5pby0+d3JpdGVFcnJvcignTm90aGluZyB0byBtb2RpZnkgaW4gbG9jayBmaWxlJyk7Cn0KCiRleGl0Q29kZSA9ICR0aGlzLT5leHRyYWN0RGV2UGFja2FnZXMoJGxvY2tUcmFuc2FjdGlvbiwgJHBsYXRmb3JtUmVwbywgJGFsaWFzZXMsICRwb2xpY3ksICRsb2NrZWRSZXBvc2l0b3J5KTsKaWYgKCRleGl0Q29kZSAhPT0gMCkgewpyZXR1cm4gJGV4aXRDb2RlOwp9CgoKJHBsYXRmb3JtUmVxcyA9ICR0aGlzLT5leHRyYWN0UGxhdGZvcm1SZXF1aXJlbWVudHMoJHRoaXMtPnBhY2thZ2UtPmdldFJlcXVpcmVzKCkpOwokcGxhdGZvcm1EZXZSZXFzID0gJHRoaXMtPmV4dHJhY3RQbGF0Zm9ybVJlcXVpcmVtZW50cygkdGhpcy0+cGFja2FnZS0+Z2V0RGV2UmVxdWlyZXMoKSk7CgokaW5zdGFsbHNVcGRhdGVzID0gJHVuaW5zdGFsbHMgPSBhcnJheSgpOwppZiAoJGxvY2tUcmFuc2FjdGlvbi0+Z2V0T3BlcmF0aW9ucygpKSB7CiRpbnN0YWxsTmFtZXMgPSAkdXBkYXRlTmFtZXMgPSAkdW5pbnN0YWxsTmFtZXMgPSBhcnJheSgpOwpmb3JlYWNoICgkbG9ja1RyYW5zYWN0aW9uLT5nZXRPcGVyYXRpb25zKCkgYXMgJG9wZXJhdGlvbikgewppZiAoJG9wZXJhdGlvbiBpbnN0YW5jZW9mIEluc3RhbGxPcGVyYXRpb24pIHsKJGluc3RhbGxzVXBkYXRlc1tdID0gJG9wZXJhdGlvbjsKJGluc3RhbGxOYW1lc1tdID0gJG9wZXJhdGlvbi0+Z2V0UGFja2FnZSgpLT5nZXRQcmV0dHlOYW1lKCkuJzonLiRvcGVyYXRpb24tPmdldFBhY2thZ2UoKS0+Z2V0RnVsbFByZXR0eVZlcnNpb24oKTsKfSBlbHNlaWYgKCRvcGVyYXRpb24gaW5zdGFuY2VvZiBVcGRhdGVPcGVyYXRpb24pIHsKCgppZiAoJHRoaXMtPnVwZGF0ZU1pcnJvcnMKJiYgJG9wZXJhdGlvbi0+Z2V0SW5pdGlhbFBhY2thZ2UoKS0+Z2V0TmFtZSgpID09ICRvcGVyYXRpb24tPmdldFRhcmdldFBhY2thZ2UoKS0+Z2V0TmFtZSgpCiYmICRvcGVyYXRpb24tPmdldEluaXRpYWxQYWNrYWdlKCktPmdldFZlcnNpb24oKSA9PSAkb3BlcmF0aW9uLT5nZXRUYXJnZXRQYWNrYWdlKCktPmdldFZlcnNpb24oKQopIHsKY29udGludWU7Cn0KCiRpbnN0YWxsc1VwZGF0ZXNbXSA9ICRvcGVyYXRpb247CiR1cGRhdGVOYW1lc1tdID0gJG9wZXJhdGlvbi0+Z2V0VGFyZ2V0UGFja2FnZSgpLT5nZXRQcmV0dHlOYW1lKCkuJzonLiRvcGVyYXRpb24tPmdldFRhcmdldFBhY2thZ2UoKS0+Z2V0RnVsbFByZXR0eVZlcnNpb24oKTsKfSBlbHNlaWYgKCRvcGVyYXRpb24gaW5zdGFuY2VvZiBVbmluc3RhbGxPcGVyYXRpb24pIHsKJHVuaW5zdGFsbHNbXSA9ICRvcGVyYXRpb247CiR1bmluc3RhbGxOYW1lc1tdID0gJG9wZXJhdGlvbi0+Z2V0UGFja2FnZSgpLT5nZXRQcmV0dHlOYW1lKCk7Cn0KfQoKJHRoaXMtPmlvLT53cml0ZUVycm9yKHNwcmludGYoCiI8aW5mbz5Mb2NrIGZpbGUgb3BlcmF0aW9uczogJWQgaW5zdGFsbCVzLCAlZCB1cGRhdGUlcywgJWQgcmVtb3ZhbCVzPC9pbmZvPiIsCmNvdW50KCRpbnN0YWxsTmFtZXMpLAoxID09PSBjb3VudCgkaW5zdGFsbE5hbWVzKSA/ICcnIDogJ3MnLApjb3VudCgkdXBkYXRlTmFtZXMpLAoxID09PSBjb3VudCgkdXBkYXRlTmFtZXMpID8gJycgOiAncycsCmNvdW50KCR1bmluc3RhbGxzKSwKMSA9PT0gY291bnQoJHVuaW5zdGFsbHMpID8gJycgOiAncycKKSk7CmlmICgkaW5zdGFsbE5hbWVzKSB7CiR0aGlzLT5pby0+d3JpdGVFcnJvcigiSW5zdGFsbHM6ICIuaW1wbG9kZSgnLCAnLCAkaW5zdGFsbE5hbWVzKSwgdHJ1ZSwgSU9JbnRlcmZhY2U6OlZFUkJPU0UpOwp9CmlmICgkdXBkYXRlTmFtZXMpIHsKJHRoaXMtPmlvLT53cml0ZUVycm9yKCJVcGRhdGVzOiAiLmltcGxvZGUoJywgJywgJHVwZGF0ZU5hbWVzKSwgdHJ1ZSwgSU9JbnRlcmZhY2U6OlZFUkJPU0UpOwp9CmlmICgkdW5pbnN0YWxscykgewokdGhpcy0+aW8tPndyaXRlRXJyb3IoIlJlbW92YWxzOiAiLmltcGxvZGUoJywgJywgJHVuaW5zdGFsbE5hbWVzKSwgdHJ1ZSwgSU9JbnRlcmZhY2U6OlZFUkJPU0UpOwp9Cn0KCiRzb3J0QnlOYW1lID0gZnVuY3Rpb24gKCRhLCAkYikgewppZiAoJGEgaW5zdGFuY2VvZiBVcGRhdGVPcGVyYXRpb24pIHsKJGEgPSAkYS0+Z2V0VGFyZ2V0UGFja2FnZSgpLT5nZXROYW1lKCk7Cn0gZWxzZSB7CiRhID0gJGEtPmdldFBhY2thZ2UoKS0+Z2V0TmFtZSgpOwp9CmlmICgkYiBpbnN0YW5jZW9mIFVwZGF0ZU9wZXJhdGlvbikgewokYiA9ICRiLT5nZXRUYXJnZXRQYWNrYWdlKCktPmdldE5hbWUoKTsKfSBlbHNlIHsKJGIgPSAkYi0+Z2V0UGFja2FnZSgpLT5nZXROYW1lKCk7Cn0KCnJldHVybiBzdHJjbXAoJGEsICRiKTsKfTsKdXNvcnQoJHVuaW5zdGFsbHMsICRzb3J0QnlOYW1lKTsKdXNvcnQoJGluc3RhbGxzVXBkYXRlcywgJHNvcnRCeU5hbWUpOwoKZm9yZWFjaCAoYXJyYXlfbWVyZ2UoJHVuaW5zdGFsbHMsICRpbnN0YWxsc1VwZGF0ZXMpIGFzICRvcGVyYXRpb24pIHsKCmlmICgkb3BlcmF0aW9uIGluc3RhbmNlb2YgSW5zdGFsbE9wZXJhdGlvbikgewokdGhpcy0+c3VnZ2VzdGVkUGFja2FnZXNSZXBvcnRlci0+YWRkU3VnZ2VzdGlvbnNGcm9tUGFja2FnZSgkb3BlcmF0aW9uLT5nZXRQYWNrYWdlKCkpOwp9CgoKaWYgKGZhbHNlID09PSBzdHJwb3MoJG9wZXJhdGlvbi0+Z2V0T3BlcmF0aW9uVHlwZSgpLCAnQWxpYXMnKSB8fCAkdGhpcy0+aW8tPmlzRGVidWcoKSkgewokdGhpcy0+aW8tPndyaXRlRXJyb3IoJyAgLSAnIC4gJG9wZXJhdGlvbi0+c2hvdyh0cnVlKSk7Cn0KfQoKJHVwZGF0ZWRMb2NrID0gJHRoaXMtPmxvY2tlci0+c2V0TG9ja0RhdGEoCiRsb2NrVHJhbnNhY3Rpb24tPmdldE5ld0xvY2tQYWNrYWdlcyhmYWxzZSwgJHRoaXMtPnVwZGF0ZU1pcnJvcnMpLAokbG9ja1RyYW5zYWN0aW9uLT5nZXROZXdMb2NrUGFja2FnZXModHJ1ZSwgJHRoaXMtPnVwZGF0ZU1pcnJvcnMpLAokcGxhdGZvcm1SZXFzLAokcGxhdGZvcm1EZXZSZXFzLAokbG9ja1RyYW5zYWN0aW9uLT5nZXRBbGlhc2VzKCRhbGlhc2VzKSwKJHRoaXMtPnBhY2thZ2UtPmdldE1pbmltdW1TdGFiaWxpdHkoKSwKJHRoaXMtPnBhY2thZ2UtPmdldFN0YWJpbGl0eUZsYWdzKCksCiR0aGlzLT5wcmVmZXJTdGFibGUgfHwgJHRoaXMtPnBhY2thZ2UtPmdldFByZWZlclN0YWJsZSgpLAokdGhpcy0+cHJlZmVyTG93ZXN0LAokdGhpcy0+Y29uZmlnLT5nZXQoJ3BsYXRmb3JtJykgPzogYXJyYXkoKSwKJHRoaXMtPndyaXRlTG9jayAmJiAkdGhpcy0+ZXhlY3V0ZU9wZXJhdGlvbnMKKTsKaWYgKCR1cGRhdGVkTG9jayAmJiAkdGhpcy0+d3JpdGVMb2NrICYmICR0aGlzLT5leGVjdXRlT3BlcmF0aW9ucykgewokdGhpcy0+aW8tPndyaXRlRXJyb3IoJzxpbmZvPldyaXRpbmcgbG9jayBmaWxlPC9pbmZvPicpOwp9CgoKaWYgKCR0aGlzLT5leGVjdXRlT3BlcmF0aW9ucyAmJiBjb3VudCgkbG9ja1RyYW5zYWN0aW9uLT5nZXRPcGVyYXRpb25zKCkpID4gMCkgewokdmVuZG9yRGlyID0gJHRoaXMtPmNvbmZpZy0+Z2V0KCd2ZW5kb3ItZGlyJyk7CmlmIChpc19kaXIoJHZlbmRvckRpcikpIHsKCgpAdG91Y2goJHZlbmRvckRpcik7Cn0KfQoKaWYgKCRkb0luc3RhbGwpIHsKCnJldHVybiAkdGhpcy0+ZG9JbnN0YWxsKCRsb2NhbFJlcG8sIHRydWUpOwp9CgpyZXR1cm4gMDsKfQoKCgoKCnByb3RlY3RlZCBmdW5jdGlvbiBleHRyYWN0RGV2UGFja2FnZXMoTG9ja1RyYW5zYWN0aW9uICRsb2NrVHJhbnNhY3Rpb24sIFBsYXRmb3JtUmVwb3NpdG9yeSAkcGxhdGZvcm1SZXBvLCBhcnJheSAkYWxpYXNlcywgUG9saWN5SW50ZXJmYWNlICRwb2xpY3ksIExvY2tBcnJheVJlcG9zaXRvcnkgJGxvY2tlZFJlcG9zaXRvcnkgPSBudWxsKQp7CmlmICghJHRoaXMtPnBhY2thZ2UtPmdldERldlJlcXVpcmVzKCkpIHsKcmV0dXJuIDA7Cn0KCiRyZXN1bHRSZXBvID0gbmV3IEFycmF5UmVwb3NpdG9yeShhcnJheSgpKTsKJGxvYWRlciA9IG5ldyBBcnJheUxvYWRlcihudWxsLCB0cnVlKTsKJGR1bXBlciA9IG5ldyBBcnJheUR1bXBlcigpOwpmb3JlYWNoICgkbG9ja1RyYW5zYWN0aW9uLT5nZXROZXdMb2NrUGFja2FnZXMoZmFsc2UpIGFzICRwa2cpIHsKJHJlc3VsdFJlcG8tPmFkZFBhY2thZ2UoJGxvYWRlci0+bG9hZCgkZHVtcGVyLT5kdW1wKCRwa2cpKSk7Cn0KCiRyZXBvc2l0b3J5U2V0ID0gJHRoaXMtPmNyZWF0ZVJlcG9zaXRvcnlTZXQodHJ1ZSwgJHBsYXRmb3JtUmVwbywgJGFsaWFzZXMpOwokcmVwb3NpdG9yeVNldC0+YWRkUmVwb3NpdG9yeSgkcmVzdWx0UmVwbyk7CgokcmVxdWVzdCA9ICR0aGlzLT5jcmVhdGVSZXF1ZXN0KCR0aGlzLT5maXhlZFJvb3RQYWNrYWdlLCAkcGxhdGZvcm1SZXBvKTsKJHRoaXMtPnJlcXVpcmVQYWNrYWdlc0ZvclVwZGF0ZSgkcmVxdWVzdCwgJGxvY2tlZFJlcG9zaXRvcnksIGZhbHNlKTsKCiRwb29sID0gJHJlcG9zaXRvcnlTZXQtPmNyZWF0ZVBvb2xXaXRoQWxsUGFja2FnZXMoKTsKCiRzb2x2ZXIgPSBuZXcgU29sdmVyKCRwb2xpY3ksICRwb29sLCAkdGhpcy0+aW8pOwp0cnkgewokbm9uRGV2TG9ja1RyYW5zYWN0aW9uID0gJHNvbHZlci0+c29sdmUoJHJlcXVlc3QsICR0aGlzLT5pZ25vcmVQbGF0Zm9ybVJlcXMpOwokc29sdmVyID0gbnVsbDsKfSBjYXRjaCAoU29sdmVyUHJvYmxlbXNFeGNlcHRpb24gJGUpIHsKJGVyciA9ICdVbmFibGUgdG8gZmluZCBhIGNvbXBhdGlibGUgc2V0IG9mIHBhY2thZ2VzIGJhc2VkIG9uIHlvdXIgbm9uLWRldiByZXF1aXJlbWVudHMgYWxvbmUuJzsKJHByZXR0eVByb2JsZW0gPSAkZS0+Z2V0UHJldHR5U3RyaW5nKCRyZXBvc2l0b3J5U2V0LCAkcmVxdWVzdCwgJHBvb2wsICR0aGlzLT5pby0+aXNWZXJib3NlKCksIHRydWUpOwoKJHRoaXMtPmlvLT53cml0ZUVycm9yKCc8ZXJyb3I+Jy4gJGVyciAuJzwvZXJyb3I+JywgdHJ1ZSwgSU9JbnRlcmZhY2U6OlFVSUVUKTsKJHRoaXMtPmlvLT53cml0ZUVycm9yKCdZb3VyIHJlcXVpcmVtZW50cyBjYW4gYmUgcmVzb2x2ZWQgc3VjY2Vzc2Z1bGx5IHdoZW4gcmVxdWlyZS1kZXYgcGFja2FnZXMgYXJlIHByZXNlbnQuJyk7CiR0aGlzLT5pby0+d3JpdGVFcnJvcignWW91IG1heSBuZWVkIHRvIG1vdmUgcGFja2FnZXMgZnJvbSByZXF1aXJlLWRldiBvciBzb21lIG9mIHRoZWlyIGRlcGVuZGVuY2llcyB0byByZXF1aXJlLicpOwokdGhpcy0+aW8tPndyaXRlRXJyb3IoJHByZXR0eVByb2JsZW0pOwoKJGdoZSA9IG5ldyBHaXRodWJBY3Rpb25FcnJvcigkdGhpcy0+aW8pOwokZ2hlLT5lbWl0KCRlcnIuIlxuIi4kcHJldHR5UHJvYmxlbSk7CgpyZXR1cm4gbWF4KDEsICRlLT5nZXRDb2RlKCkpOwp9CgokbG9ja1RyYW5zYWN0aW9uLT5zZXROb25EZXZQYWNrYWdlcygkbm9uRGV2TG9ja1RyYW5zYWN0aW9uKTsKCnJldHVybiAwOwp9CgoKCgoKCnByb3RlY3RlZCBmdW5jdGlvbiBkb0luc3RhbGwoSW5zdGFsbGVkUmVwb3NpdG9yeUludGVyZmFjZSAkbG9jYWxSZXBvLCAkYWxyZWFkeVNvbHZlZCA9IGZhbHNlKQp7CiR0aGlzLT5pby0+d3JpdGVFcnJvcignPGluZm8+SW5zdGFsbGluZyBkZXBlbmRlbmNpZXMgZnJvbSBsb2NrIGZpbGUnLigkdGhpcy0+ZGV2TW9kZSA/ICcgKGluY2x1ZGluZyByZXF1aXJlLWRldiknIDogJycpLic8L2luZm8+Jyk7CgokbG9ja2VkUmVwb3NpdG9yeSA9ICR0aGlzLT5sb2NrZXItPmdldExvY2tlZFJlcG9zaXRvcnkoJHRoaXMtPmRldk1vZGUpOwoKCgppZiAoISRhbHJlYWR5U29sdmVkKSB7CiR0aGlzLT5pby0+d3JpdGVFcnJvcignPGluZm8+VmVyaWZ5aW5nIGxvY2sgZmlsZSBjb250ZW50cyBjYW4gYmUgaW5zdGFsbGVkIG9uIGN1cnJlbnQgcGxhdGZvcm0uPC9pbmZvPicpOwoKJHBsYXRmb3JtUmVwbyA9ICR0aGlzLT5jcmVhdGVQbGF0Zm9ybVJlcG8oZmFsc2UpOwoKJHBvbGljeSA9ICR0aGlzLT5jcmVhdGVQb2xpY3koZmFsc2UpOwoKJHJlcG9zaXRvcnlTZXQgPSAkdGhpcy0+Y3JlYXRlUmVwb3NpdG9yeVNldChmYWxzZSwgJHBsYXRmb3JtUmVwbywgYXJyYXkoKSwgJGxvY2tlZFJlcG9zaXRvcnkpOwokcmVwb3NpdG9yeVNldC0+YWRkUmVwb3NpdG9yeSgkbG9ja2VkUmVwb3NpdG9yeSk7CgoKJHJlcXVlc3QgPSAkdGhpcy0+Y3JlYXRlUmVxdWVzdCgkdGhpcy0+Zml4ZWRSb290UGFja2FnZSwgJHBsYXRmb3JtUmVwbywgJGxvY2tlZFJlcG9zaXRvcnkpOwoKaWYgKCEkdGhpcy0+bG9ja2VyLT5pc0ZyZXNoKCkpIHsKJHRoaXMtPmlvLT53cml0ZUVycm9yKCc8d2FybmluZz5XYXJuaW5nOiBUaGUgbG9jayBmaWxlIGlzIG5vdCB1cCB0byBkYXRlIHdpdGggdGhlIGxhdGVzdCBjaGFuZ2VzIGluIGNvbXBvc2VyLmpzb24uIFlvdSBtYXkgYmUgZ2V0dGluZyBvdXRkYXRlZCBkZXBlbmRlbmNpZXMuIEl0IGlzIHJlY29tbWVuZGVkIHRoYXQgeW91IHJ1biBgY29tcG9zZXIgdXBkYXRlYCBvciBgY29tcG9zZXIgdXBkYXRlIDxwYWNrYWdlIG5hbWU+YC48L3dhcm5pbmc+JywgdHJ1ZSwgSU9JbnRlcmZhY2U6OlFVSUVUKTsKfQoKZm9yZWFjaCAoJGxvY2tlZFJlcG9zaXRvcnktPmdldFBhY2thZ2VzKCkgYXMgJHBhY2thZ2UpIHsKJHJlcXVlc3QtPmZpeExvY2tlZFBhY2thZ2UoJHBhY2thZ2UpOwp9Cgpmb3JlYWNoICgkdGhpcy0+bG9ja2VyLT5nZXRQbGF0Zm9ybVJlcXVpcmVtZW50cygkdGhpcy0+ZGV2TW9kZSkgYXMgJGxpbmspIHsKJHJlcXVlc3QtPnJlcXVpcmVOYW1lKCRsaW5rLT5nZXRUYXJnZXQoKSwgJGxpbmstPmdldENvbnN0cmFpbnQoKSk7Cn0KCiRwb29sID0gJHJlcG9zaXRvcnlTZXQtPmNyZWF0ZVBvb2woJHJlcXVlc3QsICR0aGlzLT5pbywgJHRoaXMtPmV2ZW50RGlzcGF0Y2hlcik7CgoKJHNvbHZlciA9IG5ldyBTb2x2ZXIoJHBvbGljeSwgJHBvb2wsICR0aGlzLT5pbyk7CnRyeSB7CiRsb2NrVHJhbnNhY3Rpb24gPSAkc29sdmVyLT5zb2x2ZSgkcmVxdWVzdCwgJHRoaXMtPmlnbm9yZVBsYXRmb3JtUmVxcyk7CiRzb2x2ZXIgPSBudWxsOwoKCmlmICgwICE9PSBjb3VudCgkbG9ja1RyYW5zYWN0aW9uLT5nZXRPcGVyYXRpb25zKCkpKSB7CiR0aGlzLT5pby0+d3JpdGVFcnJvcignPGVycm9yPllvdXIgbG9jayBmaWxlIGNhbm5vdCBiZSBpbnN0YWxsZWQgb24gdGhpcyBzeXN0ZW0gd2l0aG91dCBjaGFuZ2VzLiBQbGVhc2UgcnVuIGNvbXBvc2VyIHVwZGF0ZS48L2Vycm9yPicsIHRydWUsIElPSW50ZXJmYWNlOjpRVUlFVCk7CgpyZXR1cm4gMTsKfQp9IGNhdGNoIChTb2x2ZXJQcm9ibGVtc0V4Y2VwdGlvbiAkZSkgewokZXJyID0gJ1lvdXIgbG9jayBmaWxlIGRvZXMgbm90IGNvbnRhaW4gYSBjb21wYXRpYmxlIHNldCBvZiBwYWNrYWdlcy4gUGxlYXNlIHJ1biBjb21wb3NlciB1cGRhdGUuJzsKJHByZXR0eVByb2JsZW0gPSAkZS0+Z2V0UHJldHR5U3RyaW5nKCRyZXBvc2l0b3J5U2V0LCAkcmVxdWVzdCwgJHBvb2wsICR0aGlzLT5pby0+aXNWZXJib3NlKCkpOwoKJHRoaXMtPmlvLT53cml0ZUVycm9yKCc8ZXJyb3I+Jy4gJGVyciAuJzwvZXJyb3I+JywgdHJ1ZSwgSU9JbnRlcmZhY2U6OlFVSUVUKTsKJHRoaXMtPmlvLT53cml0ZUVycm9yKCRwcmV0dHlQcm9ibGVtKTsKCiRnaGUgPSBuZXcgR2l0aHViQWN0aW9uRXJyb3IoJHRoaXMtPmlvKTsKJGdoZS0+ZW1pdCgkZXJyLiJcbiIuJHByZXR0eVByb2JsZW0pOwoKcmV0dXJuIG1heCgxLCAkZS0+Z2V0Q29kZSgpKTsKfQp9CgoKJGxvY2FsUmVwb1RyYW5zYWN0aW9uID0gbmV3IExvY2FsUmVwb1RyYW5zYWN0aW9uKCRsb2NrZWRSZXBvc2l0b3J5LCAkbG9jYWxSZXBvKTsKJHRoaXMtPmV2ZW50RGlzcGF0Y2hlci0+ZGlzcGF0Y2hJbnN0YWxsZXJFdmVudChJbnN0YWxsZXJFdmVudHM6OlBSRV9PUEVSQVRJT05TX0VYRUMsICR0aGlzLT5kZXZNb2RlLCAkdGhpcy0+ZXhlY3V0ZU9wZXJhdGlvbnMsICRsb2NhbFJlcG9UcmFuc2FjdGlvbik7CgppZiAoISRsb2NhbFJlcG9UcmFuc2FjdGlvbi0+Z2V0T3BlcmF0aW9ucygpKSB7CiR0aGlzLT5pby0+d3JpdGVFcnJvcignTm90aGluZyB0byBpbnN0YWxsLCB1cGRhdGUgb3IgcmVtb3ZlJyk7Cn0KCmlmICgkbG9jYWxSZXBvVHJhbnNhY3Rpb24tPmdldE9wZXJhdGlvbnMoKSkgewokaW5zdGFsbHMgPSAkdXBkYXRlcyA9ICR1bmluc3RhbGxzID0gYXJyYXkoKTsKZm9yZWFjaCAoJGxvY2FsUmVwb1RyYW5zYWN0aW9uLT5nZXRPcGVyYXRpb25zKCkgYXMgJG9wZXJhdGlvbikgewppZiAoJG9wZXJhdGlvbiBpbnN0YW5jZW9mIEluc3RhbGxPcGVyYXRpb24pIHsKJGluc3RhbGxzW10gPSAkb3BlcmF0aW9uLT5nZXRQYWNrYWdlKCktPmdldFByZXR0eU5hbWUoKS4nOicuJG9wZXJhdGlvbi0+Z2V0UGFja2FnZSgpLT5nZXRGdWxsUHJldHR5VmVyc2lvbigpOwp9IGVsc2VpZiAoJG9wZXJhdGlvbiBpbnN0YW5jZW9mIFVwZGF0ZU9wZXJhdGlvbikgewokdXBkYXRlc1tdID0gJG9wZXJhdGlvbi0+Z2V0VGFyZ2V0UGFja2FnZSgpLT5nZXRQcmV0dHlOYW1lKCkuJzonLiRvcGVyYXRpb24tPmdldFRhcmdldFBhY2thZ2UoKS0+Z2V0RnVsbFByZXR0eVZlcnNpb24oKTsKfSBlbHNlaWYgKCRvcGVyYXRpb24gaW5zdGFuY2VvZiBVbmluc3RhbGxPcGVyYXRpb24pIHsKJHVuaW5zdGFsbHNbXSA9ICRvcGVyYXRpb24tPmdldFBhY2thZ2UoKS0+Z2V0UHJldHR5TmFtZSgpOwp9Cn0KCiR0aGlzLT5pby0+d3JpdGVFcnJvcihzcHJpbnRmKAoiPGluZm8+UGFja2FnZSBvcGVyYXRpb25zOiAlZCBpbnN0YWxsJXMsICVkIHVwZGF0ZSVzLCAlZCByZW1vdmFsJXM8L2luZm8+IiwKY291bnQoJGluc3RhbGxzKSwKMSA9PT0gY291bnQoJGluc3RhbGxzKSA/ICcnIDogJ3MnLApjb3VudCgkdXBkYXRlcyksCjEgPT09IGNvdW50KCR1cGRhdGVzKSA/ICcnIDogJ3MnLApjb3VudCgkdW5pbnN0YWxscyksCjEgPT09IGNvdW50KCR1bmluc3RhbGxzKSA/ICcnIDogJ3MnCikpOwppZiAoJGluc3RhbGxzKSB7CiR0aGlzLT5pby0+d3JpdGVFcnJvcigiSW5zdGFsbHM6ICIuaW1wbG9kZSgnLCAnLCAkaW5zdGFsbHMpLCB0cnVlLCBJT0ludGVyZmFjZTo6VkVSQk9TRSk7Cn0KaWYgKCR1cGRhdGVzKSB7CiR0aGlzLT5pby0+d3JpdGVFcnJvcigiVXBkYXRlczogIi5pbXBsb2RlKCcsICcsICR1cGRhdGVzKSwgdHJ1ZSwgSU9JbnRlcmZhY2U6OlZFUkJPU0UpOwp9CmlmICgkdW5pbnN0YWxscykgewokdGhpcy0+aW8tPndyaXRlRXJyb3IoIlJlbW92YWxzOiAiLmltcGxvZGUoJywgJywgJHVuaW5zdGFsbHMpLCB0cnVlLCBJT0ludGVyZmFjZTo6VkVSQk9TRSk7Cn0KfQoKaWYgKCR0aGlzLT5leGVjdXRlT3BlcmF0aW9ucykgewokbG9jYWxSZXBvLT5zZXREZXZQYWNrYWdlTmFtZXMoJHRoaXMtPmxvY2tlci0+Z2V0RGV2UGFja2FnZU5hbWVzKCkpOwokdGhpcy0+aW5zdGFsbGF0aW9uTWFuYWdlci0+ZXhlY3V0ZSgkbG9jYWxSZXBvLCAkbG9jYWxSZXBvVHJhbnNhY3Rpb24tPmdldE9wZXJhdGlvbnMoKSwgJHRoaXMtPmRldk1vZGUsICR0aGlzLT5ydW5TY3JpcHRzKTsKfSBlbHNlIHsKZm9yZWFjaCAoJGxvY2FsUmVwb1RyYW5zYWN0aW9uLT5nZXRPcGVyYXRpb25zKCkgYXMgJG9wZXJhdGlvbikgewoKaWYgKGZhbHNlID09PSBzdHJwb3MoJG9wZXJhdGlvbi0+Z2V0T3BlcmF0aW9uVHlwZSgpLCAnQWxpYXMnKSB8fCAkdGhpcy0+aW8tPmlzRGVidWcoKSkgewokdGhpcy0+aW8tPndyaXRlRXJyb3IoJyAgLSAnIC4gJG9wZXJhdGlvbi0+c2hvdyhmYWxzZSkpOwp9Cn0KfQoKcmV0dXJuIDA7Cn0KCnByb3RlY3RlZCBmdW5jdGlvbiBjcmVhdGVQbGF0Zm9ybVJlcG8oJGZvclVwZGF0ZSkKewppZiAoJGZvclVwZGF0ZSkgewokcGxhdGZvcm1PdmVycmlkZXMgPSAkdGhpcy0+Y29uZmlnLT5nZXQoJ3BsYXRmb3JtJykgPzogYXJyYXkoKTsKfSBlbHNlIHsKJHBsYXRmb3JtT3ZlcnJpZGVzID0gJHRoaXMtPmxvY2tlci0+Z2V0UGxhdGZvcm1PdmVycmlkZXMoKTsKfQoKcmV0dXJuIG5ldyBQbGF0Zm9ybVJlcG9zaXRvcnkoYXJyYXkoKSwgJHBsYXRmb3JtT3ZlcnJpZGVzKTsKfQoKCgoKCgoKCnByaXZhdGUgZnVuY3Rpb24gY3JlYXRlUmVwb3NpdG9yeVNldCgkZm9yVXBkYXRlLCBQbGF0Zm9ybVJlcG9zaXRvcnkgJHBsYXRmb3JtUmVwbywgYXJyYXkgJHJvb3RBbGlhc2VzID0gYXJyYXkoKSwgJGxvY2tlZFJlcG9zaXRvcnkgPSBudWxsKQp7CmlmICgkZm9yVXBkYXRlKSB7CiRtaW5pbXVtU3RhYmlsaXR5ID0gJHRoaXMtPnBhY2thZ2UtPmdldE1pbmltdW1TdGFiaWxpdHkoKTsKJHN0YWJpbGl0eUZsYWdzID0gJHRoaXMtPnBhY2thZ2UtPmdldFN0YWJpbGl0eUZsYWdzKCk7CgokcmVxdWlyZXMgPSBhcnJheV9tZXJnZSgkdGhpcy0+cGFja2FnZS0+Z2V0UmVxdWlyZXMoKSwgJHRoaXMtPnBhY2thZ2UtPmdldERldlJlcXVpcmVzKCkpOwp9IGVsc2UgewokbWluaW11bVN0YWJpbGl0eSA9ICR0aGlzLT5sb2NrZXItPmdldE1pbmltdW1TdGFiaWxpdHkoKTsKJHN0YWJpbGl0eUZsYWdzID0gJHRoaXMtPmxvY2tlci0+Z2V0U3RhYmlsaXR5RmxhZ3MoKTsKCiRyZXF1aXJlcyA9IGFycmF5KCk7CmZvcmVhY2ggKCRsb2NrZWRSZXBvc2l0b3J5LT5nZXRQYWNrYWdlcygpIGFzICRwYWNrYWdlKSB7CiRjb25zdHJhaW50ID0gbmV3IENvbnN0cmFpbnQoJz0nLCAkcGFja2FnZS0+Z2V0VmVyc2lvbigpKTsKJGNvbnN0cmFpbnQtPnNldFByZXR0eVN0cmluZygkcGFja2FnZS0+Z2V0UHJldHR5VmVyc2lvbigpKTsKJHJlcXVpcmVzWyRwYWNrYWdlLT5nZXROYW1lKCldID0gJGNvbnN0cmFpbnQ7Cn0KfQoKJHJvb3RSZXF1aXJlcyA9IGFycmF5KCk7CmZvcmVhY2ggKCRyZXF1aXJlcyBhcyAkcmVxID0+ICRjb25zdHJhaW50KSB7CgppZiAoKHRydWUgPT09ICR0aGlzLT5pZ25vcmVQbGF0Zm9ybVJlcXMgfHwgKGlzX2FycmF5KCR0aGlzLT5pZ25vcmVQbGF0Zm9ybVJlcXMpICYmIGluX2FycmF5KCRyZXEsICR0aGlzLT5pZ25vcmVQbGF0Zm9ybVJlcXMsIHRydWUpKSkgJiYgUGxhdGZvcm1SZXBvc2l0b3J5Ojppc1BsYXRmb3JtUGFja2FnZSgkcmVxKSkgewpjb250aW51ZTsKfQppZiAoJGNvbnN0cmFpbnQgaW5zdGFuY2VvZiBMaW5rKSB7CiRyb290UmVxdWlyZXNbJHJlcV0gPSAkY29uc3RyYWludC0+Z2V0Q29uc3RyYWludCgpOwp9IGVsc2Ugewokcm9vdFJlcXVpcmVzWyRyZXFdID0gJGNvbnN0cmFpbnQ7Cn0KfQoKJHRoaXMtPmZpeGVkUm9vdFBhY2thZ2UgPSBjbG9uZSAkdGhpcy0+cGFja2FnZTsKJHRoaXMtPmZpeGVkUm9vdFBhY2thZ2UtPnNldFJlcXVpcmVzKGFycmF5KCkpOwokdGhpcy0+Zml4ZWRSb290UGFja2FnZS0+c2V0RGV2UmVxdWlyZXMoYXJyYXkoKSk7Cgokc3RhYmlsaXR5RmxhZ3NbJHRoaXMtPnBhY2thZ2UtPmdldE5hbWUoKV0gPSBCYXNlUGFja2FnZTo6JHN0YWJpbGl0aWVzW1ZlcnNpb25QYXJzZXI6OnBhcnNlU3RhYmlsaXR5KCR0aGlzLT5wYWNrYWdlLT5nZXRWZXJzaW9uKCkpXTsKCiRyZXBvc2l0b3J5U2V0ID0gbmV3IFJlcG9zaXRvcnlTZXQoJG1pbmltdW1TdGFiaWxpdHksICRzdGFiaWxpdHlGbGFncywgJHJvb3RBbGlhc2VzLCAkdGhpcy0+cGFja2FnZS0+Z2V0UmVmZXJlbmNlcygpLCAkcm9vdFJlcXVpcmVzKTsKJHJlcG9zaXRvcnlTZXQtPmFkZFJlcG9zaXRvcnkobmV3IFJvb3RQYWNrYWdlUmVwb3NpdG9yeSgkdGhpcy0+Zml4ZWRSb290UGFja2FnZSkpOwokcmVwb3NpdG9yeVNldC0+YWRkUmVwb3NpdG9yeSgkcGxhdGZvcm1SZXBvKTsKaWYgKCR0aGlzLT5hZGRpdGlvbmFsRml4ZWRSZXBvc2l0b3J5KSB7CgoKJGFkZGl0aW9uYWxGaXhlZFJlcG9zaXRvcmllcyA9ICR0aGlzLT5hZGRpdGlvbmFsRml4ZWRSZXBvc2l0b3J5OwppZiAoJGFkZGl0aW9uYWxGaXhlZFJlcG9zaXRvcmllcyBpbnN0YW5jZW9mIENvbXBvc2l0ZVJlcG9zaXRvcnkpIHsKJGFkZGl0aW9uYWxGaXhlZFJlcG9zaXRvcmllcyA9ICRhZGRpdGlvbmFsRml4ZWRSZXBvc2l0b3JpZXMtPmdldFJlcG9zaXRvcmllcygpOwp9IGVsc2UgewokYWRkaXRpb25hbEZpeGVkUmVwb3NpdG9yaWVzID0gYXJyYXkoJGFkZGl0aW9uYWxGaXhlZFJlcG9zaXRvcmllcyk7Cn0KZm9yZWFjaCAoJGFkZGl0aW9uYWxGaXhlZFJlcG9zaXRvcmllcyBhcyAkYWRkaXRpb25hbEZpeGVkUmVwb3NpdG9yeSkgewppZiAoJGFkZGl0aW9uYWxGaXhlZFJlcG9zaXRvcnkgaW5zdGFuY2VvZiBJbnN0YWxsZWRSZXBvc2l0b3J5IHx8ICRhZGRpdGlvbmFsRml4ZWRSZXBvc2l0b3J5IGluc3RhbmNlb2YgSW5zdGFsbGVkUmVwb3NpdG9yeUludGVyZmFjZSkgewokcmVwb3NpdG9yeVNldC0+YWxsb3dJbnN0YWxsZWRSZXBvc2l0b3JpZXMoKTsKYnJlYWs7Cn0KfQoKJHJlcG9zaXRvcnlTZXQtPmFkZFJlcG9zaXRvcnkoJHRoaXMtPmFkZGl0aW9uYWxGaXhlZFJlcG9zaXRvcnkpOwp9CgpyZXR1cm4gJHJlcG9zaXRvcnlTZXQ7Cn0KCgoKCnByaXZhdGUgZnVuY3Rpb24gY3JlYXRlUG9saWN5KCRmb3JVcGRhdGUpCnsKJHByZWZlclN0YWJsZSA9IG51bGw7CiRwcmVmZXJMb3dlc3QgPSBudWxsOwppZiAoISRmb3JVcGRhdGUpIHsKJHByZWZlclN0YWJsZSA9ICR0aGlzLT5sb2NrZXItPmdldFByZWZlclN0YWJsZSgpOwokcHJlZmVyTG93ZXN0ID0gJHRoaXMtPmxvY2tlci0+Z2V0UHJlZmVyTG93ZXN0KCk7Cn0KCgppZiAobnVsbCA9PT0gJHByZWZlclN0YWJsZSkgewokcHJlZmVyU3RhYmxlID0gJHRoaXMtPnByZWZlclN0YWJsZSB8fCAkdGhpcy0+cGFja2FnZS0+Z2V0UHJlZmVyU3RhYmxlKCk7Cn0KaWYgKG51bGwgPT09ICRwcmVmZXJMb3dlc3QpIHsKJHByZWZlckxvd2VzdCA9ICR0aGlzLT5wcmVmZXJMb3dlc3Q7Cn0KCnJldHVybiBuZXcgRGVmYXVsdFBvbGljeSgkcHJlZmVyU3RhYmxlLCAkcHJlZmVyTG93ZXN0KTsKfQoKCgoKcHJpdmF0ZSBmdW5jdGlvbiBjcmVhdGVSZXF1ZXN0KFJvb3RQYWNrYWdlSW50ZXJmYWNlICRyb290UGFja2FnZSwgUGxhdGZvcm1SZXBvc2l0b3J5ICRwbGF0Zm9ybVJlcG8sIExvY2tBcnJheVJlcG9zaXRvcnkgJGxvY2tlZFJlcG9zaXRvcnkgPSBudWxsKQp7CiRyZXF1ZXN0ID0gbmV3IFJlcXVlc3QoJGxvY2tlZFJlcG9zaXRvcnkpOwoKJHJlcXVlc3QtPmZpeFBhY2thZ2UoJHJvb3RQYWNrYWdlKTsKaWYgKCRyb290UGFja2FnZSBpbnN0YW5jZW9mIFJvb3RBbGlhc1BhY2thZ2UpIHsKJHJlcXVlc3QtPmZpeFBhY2thZ2UoJHJvb3RQYWNrYWdlLT5nZXRBbGlhc09mKCkpOwp9CgokZml4ZWRQYWNrYWdlcyA9ICRwbGF0Zm9ybVJlcG8tPmdldFBhY2thZ2VzKCk7CmlmICgkdGhpcy0+YWRkaXRpb25hbEZpeGVkUmVwb3NpdG9yeSkgewokZml4ZWRQYWNrYWdlcyA9IGFycmF5X21lcmdlKCRmaXhlZFBhY2thZ2VzLCAkdGhpcy0+YWRkaXRpb25hbEZpeGVkUmVwb3NpdG9yeS0+Z2V0UGFja2FnZXMoKSk7Cn0KCgoKCiRwcm92aWRlZCA9ICRyb290UGFja2FnZS0+Z2V0UHJvdmlkZXMoKTsKZm9yZWFjaCAoJGZpeGVkUGFja2FnZXMgYXMgJHBhY2thZ2UpIHsKCmlmICgkcGFja2FnZS0+Z2V0UmVwb3NpdG9yeSgpICE9PSAkcGxhdGZvcm1SZXBvCnx8ICFpc3NldCgkcHJvdmlkZWRbJHBhY2thZ2UtPmdldE5hbWUoKV0pCnx8ICEkcHJvdmlkZWRbJHBhY2thZ2UtPmdldE5hbWUoKV0tPmdldENvbnN0cmFpbnQoKS0+bWF0Y2hlcyhuZXcgQ29uc3RyYWludCgnPScsICRwYWNrYWdlLT5nZXRWZXJzaW9uKCkpKQopIHsKJHJlcXVlc3QtPmZpeFBhY2thZ2UoJHBhY2thZ2UpOwp9Cn0KCnJldHVybiAkcmVxdWVzdDsKfQoKcHJpdmF0ZSBmdW5jdGlvbiByZXF1aXJlUGFja2FnZXNGb3JVcGRhdGUoUmVxdWVzdCAkcmVxdWVzdCwgTG9ja0FycmF5UmVwb3NpdG9yeSAkbG9ja2VkUmVwb3NpdG9yeSA9IG51bGwsICRpbmNsdWRlRGV2UmVxdWlyZXMgPSB0cnVlKQp7CgppZiAoJHRoaXMtPnVwZGF0ZU1pcnJvcnMpIHsKJGV4Y2x1ZGVkUGFja2FnZXMgPSBhcnJheSgpOwppZiAoISRpbmNsdWRlRGV2UmVxdWlyZXMpIHsKJGV4Y2x1ZGVkUGFja2FnZXMgPSBhcnJheV9mbGlwKCR0aGlzLT5sb2NrZXItPmdldERldlBhY2thZ2VOYW1lcygpKTsKfQoKZm9yZWFjaCAoJGxvY2tlZFJlcG9zaXRvcnktPmdldFBhY2thZ2VzKCkgYXMgJGxvY2tlZFBhY2thZ2UpIHsKCgppZiAoISRsb2NrZWRQYWNrYWdlIGluc3RhbmNlb2YgQWxpYXNQYWNrYWdlICYmICFpc3NldCgkZXhjbHVkZWRQYWNrYWdlc1skbG9ja2VkUGFja2FnZS0+Z2V0TmFtZSgpXSkpIHsKJHJlcXVlc3QtPnJlcXVpcmVOYW1lKCRsb2NrZWRQYWNrYWdlLT5nZXROYW1lKCksIG5ldyBDb25zdHJhaW50KCc9PScsICRsb2NrZWRQYWNrYWdlLT5nZXRWZXJzaW9uKCkpKTsKfQp9Cn0gZWxzZSB7CiRsaW5rcyA9ICR0aGlzLT5wYWNrYWdlLT5nZXRSZXF1aXJlcygpOwppZiAoJGluY2x1ZGVEZXZSZXF1aXJlcykgewokbGlua3MgPSBhcnJheV9tZXJnZSgkbGlua3MsICR0aGlzLT5wYWNrYWdlLT5nZXREZXZSZXF1aXJlcygpKTsKfQpmb3JlYWNoICgkbGlua3MgYXMgJGxpbmspIHsKJHJlcXVlc3QtPnJlcXVpcmVOYW1lKCRsaW5rLT5nZXRUYXJnZXQoKSwgJGxpbmstPmdldENvbnN0cmFpbnQoKSk7Cn0KfQp9CgoKCgoKcHJpdmF0ZSBmdW5jdGlvbiBnZXRSb290QWxpYXNlcygkZm9yVXBkYXRlKQp7CmlmICgkZm9yVXBkYXRlKSB7CiRhbGlhc2VzID0gJHRoaXMtPnBhY2thZ2UtPmdldEFsaWFzZXMoKTsKfSBlbHNlIHsKJGFsaWFzZXMgPSAkdGhpcy0+bG9ja2VyLT5nZXRBbGlhc2VzKCk7Cn0KCnJldHVybiAkYWxpYXNlczsKfQoKCgoKCnByaXZhdGUgZnVuY3Rpb24gZXh0cmFjdFBsYXRmb3JtUmVxdWlyZW1lbnRzKGFycmF5ICRsaW5rcykKewokcGxhdGZvcm1SZXFzID0gYXJyYXkoKTsKZm9yZWFjaCAoJGxpbmtzIGFzICRsaW5rKSB7CmlmIChQbGF0Zm9ybVJlcG9zaXRvcnk6OmlzUGxhdGZvcm1QYWNrYWdlKCRsaW5rLT5nZXRUYXJnZXQoKSkpIHsKJHBsYXRmb3JtUmVxc1skbGluay0+Z2V0VGFyZ2V0KCldID0gJGxpbmstPmdldFByZXR0eUNvbnN0cmFpbnQoKTsKfQp9CgpyZXR1cm4gJHBsYXRmb3JtUmVxczsKfQoKCgoKCgoKCnByaXZhdGUgZnVuY3Rpb24gbW9ja0xvY2FsUmVwb3NpdG9yaWVzKFJlcG9zaXRvcnlNYW5hZ2VyICRybSkKewokcGFja2FnZXMgPSBhcnJheSgpOwpmb3JlYWNoICgkcm0tPmdldExvY2FsUmVwb3NpdG9yeSgpLT5nZXRQYWNrYWdlcygpIGFzICRwYWNrYWdlKSB7CiRwYWNrYWdlc1soc3RyaW5nKSAkcGFja2FnZV0gPSBjbG9uZSAkcGFja2FnZTsKfQpmb3JlYWNoICgkcGFja2FnZXMgYXMgJGtleSA9PiAkcGFja2FnZSkgewppZiAoJHBhY2thZ2UgaW5zdGFuY2VvZiBBbGlhc1BhY2thZ2UpIHsKJGFsaWFzID0gKHN0cmluZykgJHBhY2thZ2UtPmdldEFsaWFzT2YoKTsKJGNsYXNzTmFtZSA9IGdldF9jbGFzcygkcGFja2FnZSk7CiRwYWNrYWdlc1ska2V5XSA9IG5ldyAkY2xhc3NOYW1lKCRwYWNrYWdlc1skYWxpYXNdLCAkcGFja2FnZS0+Z2V0VmVyc2lvbigpLCAkcGFja2FnZS0+Z2V0UHJldHR5VmVyc2lvbigpKTsKfQp9CiRybS0+c2V0TG9jYWxSZXBvc2l0b3J5KApuZXcgSW5zdGFsbGVkQXJyYXlSZXBvc2l0b3J5KCRwYWNrYWdlcykKKTsKfQoKCgoKCgoKCnB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gY3JlYXRlKElPSW50ZXJmYWNlICRpbywgQ29tcG9zZXIgJGNvbXBvc2VyKQp7CnJldHVybiBuZXcgc3RhdGljKAokaW8sCiRjb21wb3Nlci0+Z2V0Q29uZmlnKCksCiRjb21wb3Nlci0+Z2V0UGFja2FnZSgpLAokY29tcG9zZXItPmdldERvd25sb2FkTWFuYWdlcigpLAokY29tcG9zZXItPmdldFJlcG9zaXRvcnlNYW5hZ2VyKCksCiRjb21wb3Nlci0+Z2V0TG9ja2VyKCksCiRjb21wb3Nlci0+Z2V0SW5zdGFsbGF0aW9uTWFuYWdlcigpLAokY29tcG9zZXItPmdldEV2ZW50RGlzcGF0Y2hlcigpLAokY29tcG9zZXItPmdldEF1dG9sb2FkR2VuZXJhdG9yKCkKKTsKfQoKCgoKCnB1YmxpYyBmdW5jdGlvbiBzZXRBZGRpdGlvbmFsRml4ZWRSZXBvc2l0b3J5KFJlcG9zaXRvcnlJbnRlcmZhY2UgJGFkZGl0aW9uYWxGaXhlZFJlcG9zaXRvcnkpCnsKJHRoaXMtPmFkZGl0aW9uYWxGaXhlZFJlcG9zaXRvcnkgPSAkYWRkaXRpb25hbEZpeGVkUmVwb3NpdG9yeTsKCnJldHVybiAkdGhpczsKfQoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIHNldERyeVJ1bigkZHJ5UnVuID0gdHJ1ZSkKewokdGhpcy0+ZHJ5UnVuID0gKGJvb2wpICRkcnlSdW47CgpyZXR1cm4gJHRoaXM7Cn0KCgoKCgoKcHVibGljIGZ1bmN0aW9uIGlzRHJ5UnVuKCkKewpyZXR1cm4gJHRoaXMtPmRyeVJ1bjsKfQoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIHNldFByZWZlclNvdXJjZSgkcHJlZmVyU291cmNlID0gdHJ1ZSkKewokdGhpcy0+cHJlZmVyU291cmNlID0gKGJvb2wpICRwcmVmZXJTb3VyY2U7CgpyZXR1cm4gJHRoaXM7Cn0KCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBzZXRQcmVmZXJEaXN0KCRwcmVmZXJEaXN0ID0gdHJ1ZSkKewokdGhpcy0+cHJlZmVyRGlzdCA9IChib29sKSAkcHJlZmVyRGlzdDsKCnJldHVybiAkdGhpczsKfQoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIHNldE9wdGltaXplQXV0b2xvYWRlcigkb3B0aW1pemVBdXRvbG9hZGVyKQp7CiR0aGlzLT5vcHRpbWl6ZUF1dG9sb2FkZXIgPSAoYm9vbCkgJG9wdGltaXplQXV0b2xvYWRlcjsKaWYgKCEkdGhpcy0+b3B0aW1pemVBdXRvbG9hZGVyKSB7CgoKJHRoaXMtPnNldENsYXNzTWFwQXV0aG9yaXRhdGl2ZShmYWxzZSk7Cn0KCnJldHVybiAkdGhpczsKfQoKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBzZXRDbGFzc01hcEF1dGhvcml0YXRpdmUoJGNsYXNzTWFwQXV0aG9yaXRhdGl2ZSkKewokdGhpcy0+Y2xhc3NNYXBBdXRob3JpdGF0aXZlID0gKGJvb2wpICRjbGFzc01hcEF1dGhvcml0YXRpdmU7CmlmICgkdGhpcy0+Y2xhc3NNYXBBdXRob3JpdGF0aXZlKSB7CgokdGhpcy0+c2V0T3B0aW1pemVBdXRvbG9hZGVyKHRydWUpOwp9CgpyZXR1cm4gJHRoaXM7Cn0KCgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gc2V0QXBjdUF1dG9sb2FkZXIoJGFwY3VBdXRvbG9hZGVyLCAkYXBjdUF1dG9sb2FkZXJQcmVmaXggPSBudWxsKQp7CiR0aGlzLT5hcGN1QXV0b2xvYWRlciA9ICRhcGN1QXV0b2xvYWRlcjsKJHRoaXMtPmFwY3VBdXRvbG9hZGVyUHJlZml4ID0gJGFwY3VBdXRvbG9hZGVyUHJlZml4OwoKcmV0dXJuICR0aGlzOwp9CgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gc2V0VXBkYXRlKCR1cGRhdGUpCnsKJHRoaXMtPnVwZGF0ZSA9IChib29sKSAkdXBkYXRlOwoKcmV0dXJuICR0aGlzOwp9CgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gc2V0SW5zdGFsbCgkaW5zdGFsbCkKewokdGhpcy0+aW5zdGFsbCA9IChib29sKSAkaW5zdGFsbDsKCnJldHVybiAkdGhpczsKfQoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIHNldERldk1vZGUoJGRldk1vZGUgPSB0cnVlKQp7CiR0aGlzLT5kZXZNb2RlID0gKGJvb2wpICRkZXZNb2RlOwoKcmV0dXJuICR0aGlzOwp9CgoKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBzZXREdW1wQXV0b2xvYWRlcigkZHVtcEF1dG9sb2FkZXIgPSB0cnVlKQp7CiR0aGlzLT5kdW1wQXV0b2xvYWRlciA9IChib29sKSAkZHVtcEF1dG9sb2FkZXI7CgpyZXR1cm4gJHRoaXM7Cn0KCgoKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBzZXRSdW5TY3JpcHRzKCRydW5TY3JpcHRzID0gdHJ1ZSkKewokdGhpcy0+cnVuU2NyaXB0cyA9IChib29sKSAkcnVuU2NyaXB0czsKCnJldHVybiAkdGhpczsKfQoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIHNldENvbmZpZyhDb25maWcgJGNvbmZpZykKewokdGhpcy0+Y29uZmlnID0gJGNvbmZpZzsKCnJldHVybiAkdGhpczsKfQoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIHNldFZlcmJvc2UoJHZlcmJvc2UgPSB0cnVlKQp7CiR0aGlzLT52ZXJib3NlID0gKGJvb2wpICR2ZXJib3NlOwoKcmV0dXJuICR0aGlzOwp9CgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBpc1ZlcmJvc2UoKQp7CnJldHVybiAkdGhpcy0+dmVyYm9zZTsKfQoKCgoKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBzZXRJZ25vcmVQbGF0Zm9ybVJlcXVpcmVtZW50cygkaWdub3JlUGxhdGZvcm1SZXFzKQp7CmlmIChpc19hcnJheSgkaWdub3JlUGxhdGZvcm1SZXFzKSkgewokdGhpcy0+aWdub3JlUGxhdGZvcm1SZXFzID0gYXJyYXlfZmlsdGVyKCRpZ25vcmVQbGF0Zm9ybVJlcXMsIGZ1bmN0aW9uICgkcmVxKSB7CnJldHVybiBQbGF0Zm9ybVJlcG9zaXRvcnk6OmlzUGxhdGZvcm1QYWNrYWdlKCRyZXEpOwp9KTsKfSBlbHNlIHsKJHRoaXMtPmlnbm9yZVBsYXRmb3JtUmVxcyA9IChib29sKSAkaWdub3JlUGxhdGZvcm1SZXFzOwp9CgpyZXR1cm4gJHRoaXM7Cn0KCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBzZXRVcGRhdGVNaXJyb3JzKCR1cGRhdGVNaXJyb3JzKQp7CiR0aGlzLT51cGRhdGVNaXJyb3JzID0gJHVwZGF0ZU1pcnJvcnM7CgpyZXR1cm4gJHRoaXM7Cn0KCgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gc2V0VXBkYXRlQWxsb3dMaXN0KGFycmF5ICRwYWNrYWdlcykKewokdGhpcy0+dXBkYXRlQWxsb3dMaXN0ID0gYXJyYXlfZmxpcChhcnJheV9tYXAoJ3N0cnRvbG93ZXInLCAkcGFja2FnZXMpKTsKCnJldHVybiAkdGhpczsKfQoKCgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIHNldFVwZGF0ZUFsbG93VHJhbnNpdGl2ZURlcGVuZGVuY2llcygkdXBkYXRlQWxsb3dUcmFuc2l0aXZlRGVwZW5kZW5jaWVzKQp7CmlmICghaW5fYXJyYXkoJHVwZGF0ZUFsbG93VHJhbnNpdGl2ZURlcGVuZGVuY2llcywgYXJyYXkoUmVxdWVzdDo6VVBEQVRFX09OTFlfTElTVEVELCBSZXF1ZXN0OjpVUERBVEVfTElTVEVEX1dJVEhfVFJBTlNJVElWRV9ERVBTX05PX1JPT1RfUkVRVUlSRSwgUmVxdWVzdDo6VVBEQVRFX0xJU1RFRF9XSVRIX1RSQU5TSVRJVkVfREVQUyksIHRydWUpKSB7CnRocm93IG5ldyBcUnVudGltZUV4Y2VwdGlvbigiSW52YWxpZCB2YWx1ZSBmb3IgdXBkYXRlQWxsb3dUcmFuc2l0aXZlRGVwZW5kZW5jaWVzIHN1cHBsaWVkIik7Cn0KCiR0aGlzLT51cGRhdGVBbGxvd1RyYW5zaXRpdmVEZXBlbmRlbmNpZXMgPSAkdXBkYXRlQWxsb3dUcmFuc2l0aXZlRGVwZW5kZW5jaWVzOwoKcmV0dXJuICR0aGlzOwp9CgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gc2V0UHJlZmVyU3RhYmxlKCRwcmVmZXJTdGFibGUgPSB0cnVlKQp7CiR0aGlzLT5wcmVmZXJTdGFibGUgPSAoYm9vbCkgJHByZWZlclN0YWJsZTsKCnJldHVybiAkdGhpczsKfQoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIHNldFByZWZlckxvd2VzdCgkcHJlZmVyTG93ZXN0ID0gdHJ1ZSkKewokdGhpcy0+cHJlZmVyTG93ZXN0ID0gKGJvb2wpICRwcmVmZXJMb3dlc3Q7CgpyZXR1cm4gJHRoaXM7Cn0KCgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIHNldFdyaXRlTG9jaygkd3JpdGVMb2NrID0gdHJ1ZSkKewokdGhpcy0+d3JpdGVMb2NrID0gKGJvb2wpICR3cml0ZUxvY2s7CgpyZXR1cm4gJHRoaXM7Cn0KCgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIHNldEV4ZWN1dGVPcGVyYXRpb25zKCRleGVjdXRlT3BlcmF0aW9ucyA9IHRydWUpCnsKJHRoaXMtPmV4ZWN1dGVPcGVyYXRpb25zID0gKGJvb2wpICRleGVjdXRlT3BlcmF0aW9uczsKCnJldHVybiAkdGhpczsKfQoKCgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIGRpc2FibGVQbHVnaW5zKCkKewokdGhpcy0+aW5zdGFsbGF0aW9uTWFuYWdlci0+ZGlzYWJsZVBsdWdpbnMoKTsKCnJldHVybiAkdGhpczsKfQoKCgoKCnB1YmxpYyBmdW5jdGlvbiBzZXRTdWdnZXN0ZWRQYWNrYWdlc1JlcG9ydGVyKFN1Z2dlc3RlZFBhY2thZ2VzUmVwb3J0ZXIgJHN1Z2dlc3RlZFBhY2thZ2VzUmVwb3J0ZXIpCnsKJHRoaXMtPnN1Z2dlc3RlZFBhY2thZ2VzUmVwb3J0ZXIgPSAkc3VnZ2VzdGVkUGFja2FnZXNSZXBvcnRlcjsKCnJldHVybiAkdGhpczsKfQp9Cjw/cGhwCgoKCgoKCgoKCgoKbmFtZXNwYWNlIENvbXBvc2VyXEluc3RhbGxlcjsKCnVzZSBDb21wb3NlclxJT1xJT0ludGVyZmFjZTsKdXNlIENvbXBvc2VyXFBhY2thZ2VcUGFja2FnZUludGVyZmFjZTsKdXNlIENvbXBvc2VyXFV0aWxcRmlsZXN5c3RlbTsKdXNlIENvbXBvc2VyXFV0aWxcUGxhdGZvcm07CnVzZSBDb21wb3NlclxVdGlsXFByb2Nlc3NFeGVjdXRvcjsKdXNlIENvbXBvc2VyXFV0aWxcU2lsZW5jZXI7CgoKCgoKCgoKY2xhc3MgQmluYXJ5SW5zdGFsbGVyCnsKcHJvdGVjdGVkICRiaW5EaXI7CnByb3RlY3RlZCAkYmluQ29tcGF0Owpwcm90ZWN0ZWQgJGlvOwpwcm90ZWN0ZWQgJGZpbGVzeXN0ZW07CgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gX19jb25zdHJ1Y3QoSU9JbnRlcmZhY2UgJGlvLCAkYmluRGlyLCAkYmluQ29tcGF0LCBGaWxlc3lzdGVtICRmaWxlc3lzdGVtID0gbnVsbCkKewokdGhpcy0+YmluRGlyID0gJGJpbkRpcjsKJHRoaXMtPmJpbkNvbXBhdCA9ICRiaW5Db21wYXQ7CiR0aGlzLT5pbyA9ICRpbzsKJHRoaXMtPmZpbGVzeXN0ZW0gPSAkZmlsZXN5c3RlbSA/OiBuZXcgRmlsZXN5c3RlbSgpOwp9CgpwdWJsaWMgZnVuY3Rpb24gaW5zdGFsbEJpbmFyaWVzKFBhY2thZ2VJbnRlcmZhY2UgJHBhY2thZ2UsICRpbnN0YWxsUGF0aCwgJHdhcm5Pbk92ZXJ3cml0ZSA9IHRydWUpCnsKJGJpbmFyaWVzID0gJHRoaXMtPmdldEJpbmFyaWVzKCRwYWNrYWdlKTsKaWYgKCEkYmluYXJpZXMpIHsKcmV0dXJuOwp9CgpQbGF0Zm9ybTo6d29ya2Fyb3VuZEZpbGVzeXN0ZW1Jc3N1ZXMoKTsKCmZvcmVhY2ggKCRiaW5hcmllcyBhcyAkYmluKSB7CiRiaW5QYXRoID0gJGluc3RhbGxQYXRoLicvJy4kYmluOwppZiAoIWZpbGVfZXhpc3RzKCRiaW5QYXRoKSkgewokdGhpcy0+aW8tPndyaXRlRXJyb3IoJyAgICA8d2FybmluZz5Ta2lwcGVkIGluc3RhbGxhdGlvbiBvZiBiaW4gJy4kYmluLicgZm9yIHBhY2thZ2UgJy4kcGFja2FnZS0+Z2V0TmFtZSgpLic6IGZpbGUgbm90IGZvdW5kIGluIHBhY2thZ2U8L3dhcm5pbmc+Jyk7CmNvbnRpbnVlOwp9CgoKCgoKJGJpblBhdGggPSByZWFscGF0aCgkYmluUGF0aCk7CgokdGhpcy0+aW5pdGlhbGl6ZUJpbkRpcigpOwokbGluayA9ICR0aGlzLT5iaW5EaXIuJy8nLmJhc2VuYW1lKCRiaW4pOwppZiAoZmlsZV9leGlzdHMoJGxpbmspKSB7CmlmIChpc19saW5rKCRsaW5rKSkgewoKCgpTaWxlbmNlcjo6Y2FsbCgnY2htb2QnLCAkbGluaywgMDc3NyAmIH51bWFzaygpKTsKfQppZiAoJHdhcm5Pbk92ZXJ3cml0ZSkgewokdGhpcy0+aW8tPndyaXRlRXJyb3IoJyAgICBTa2lwcGVkIGluc3RhbGxhdGlvbiBvZiBiaW4gJy4kYmluLicgZm9yIHBhY2thZ2UgJy4kcGFja2FnZS0+Z2V0TmFtZSgpLic6IG5hbWUgY29uZmxpY3RzIHdpdGggYW4gZXhpc3RpbmcgZmlsZScpOwp9CmNvbnRpbnVlOwp9CgppZiAoJHRoaXMtPmJpbkNvbXBhdCA9PT0gImF1dG8iKSB7CmlmIChQbGF0Zm9ybTo6aXNXaW5kb3dzKCkgfHwgUGxhdGZvcm06OmlzV2luZG93c1N1YnN5c3RlbUZvckxpbnV4KCkpIHsKJHRoaXMtPmluc3RhbGxGdWxsQmluYXJpZXMoJGJpblBhdGgsICRsaW5rLCAkYmluLCAkcGFja2FnZSk7Cn0gZWxzZSB7CiR0aGlzLT5pbnN0YWxsU3ltbGlua0JpbmFyaWVzKCRiaW5QYXRoLCAkbGluayk7Cn0KfSBlbHNlaWYgKCR0aGlzLT5iaW5Db21wYXQgPT09ICJmdWxsIikgewokdGhpcy0+aW5zdGFsbEZ1bGxCaW5hcmllcygkYmluUGF0aCwgJGxpbmssICRiaW4sICRwYWNrYWdlKTsKfSBlbHNlaWYgKCR0aGlzLT5iaW5Db21wYXQgPT09ICJzeW1saW5rIikgewokdGhpcy0+aW5zdGFsbFN5bWxpbmtCaW5hcmllcygkYmluUGF0aCwgJGxpbmspOwp9ClNpbGVuY2VyOjpjYWxsKCdjaG1vZCcsICRiaW5QYXRoLCAwNzc3ICYgfnVtYXNrKCkpOwp9Cn0KCnB1YmxpYyBmdW5jdGlvbiByZW1vdmVCaW5hcmllcyhQYWNrYWdlSW50ZXJmYWNlICRwYWNrYWdlKQp7CiR0aGlzLT5pbml0aWFsaXplQmluRGlyKCk7CgokYmluYXJpZXMgPSAkdGhpcy0+Z2V0QmluYXJpZXMoJHBhY2thZ2UpOwppZiAoISRiaW5hcmllcykgewpyZXR1cm47Cn0KZm9yZWFjaCAoJGJpbmFyaWVzIGFzICRiaW4pIHsKJGxpbmsgPSAkdGhpcy0+YmluRGlyLicvJy5iYXNlbmFtZSgkYmluKTsKaWYgKGlzX2xpbmsoJGxpbmspIHx8IGZpbGVfZXhpc3RzKCRsaW5rKSkgewokdGhpcy0+ZmlsZXN5c3RlbS0+dW5saW5rKCRsaW5rKTsKfQppZiAoZmlsZV9leGlzdHMoJGxpbmsuJy5iYXQnKSkgewokdGhpcy0+ZmlsZXN5c3RlbS0+dW5saW5rKCRsaW5rLicuYmF0Jyk7Cn0KfQoKCmlmIChpc19kaXIoJHRoaXMtPmJpbkRpcikgJiYgJHRoaXMtPmZpbGVzeXN0ZW0tPmlzRGlyRW1wdHkoJHRoaXMtPmJpbkRpcikpIHsKU2lsZW5jZXI6OmNhbGwoJ3JtZGlyJywgJHRoaXMtPmJpbkRpcik7Cn0KfQoKcHVibGljIHN0YXRpYyBmdW5jdGlvbiBkZXRlcm1pbmVCaW5hcnlDYWxsZXIoJGJpbikKewppZiAoJy5iYXQnID09PSBzdWJzdHIoJGJpbiwgLTQpIHx8ICcuZXhlJyA9PT0gc3Vic3RyKCRiaW4sIC00KSkgewpyZXR1cm4gJ2NhbGwnOwp9CgokaGFuZGxlID0gZm9wZW4oJGJpbiwgJ3InKTsKJGxpbmUgPSBmZ2V0cygkaGFuZGxlKTsKZmNsb3NlKCRoYW5kbGUpOwppZiAocHJlZ19tYXRjaCgne14jIS8oPzp1c3IvYmluL2VudiApPyg/OlteL10rLykqKC4rKSR9bScsICRsaW5lLCAkbWF0Y2gpKSB7CnJldHVybiB0cmltKCRtYXRjaFsxXSk7Cn0KCnJldHVybiAncGhwJzsKfQoKcHJvdGVjdGVkIGZ1bmN0aW9uIGdldEJpbmFyaWVzKFBhY2thZ2VJbnRlcmZhY2UgJHBhY2thZ2UpCnsKcmV0dXJuICRwYWNrYWdlLT5nZXRCaW5hcmllcygpOwp9Cgpwcm90ZWN0ZWQgZnVuY3Rpb24gaW5zdGFsbEZ1bGxCaW5hcmllcygkYmluUGF0aCwgJGxpbmssICRiaW4sIFBhY2thZ2VJbnRlcmZhY2UgJHBhY2thZ2UpCnsKCmlmICgnLmJhdCcgIT09IHN1YnN0cigkYmluUGF0aCwgLTQpKSB7CiR0aGlzLT5pbnN0YWxsVW5peHlQcm94eUJpbmFyaWVzKCRiaW5QYXRoLCAkbGluayk7CiRsaW5rIC49ICcuYmF0JzsKaWYgKGZpbGVfZXhpc3RzKCRsaW5rKSkgewokdGhpcy0+aW8tPndyaXRlRXJyb3IoJyAgICBTa2lwcGVkIGluc3RhbGxhdGlvbiBvZiBiaW4gJy4kYmluLicuYmF0IHByb3h5IGZvciBwYWNrYWdlICcuJHBhY2thZ2UtPmdldE5hbWUoKS4nOiBhIC5iYXQgcHJveHkgd2FzIGFscmVhZHkgaW5zdGFsbGVkJyk7Cn0KfQppZiAoIWZpbGVfZXhpc3RzKCRsaW5rKSkgewpmaWxlX3B1dF9jb250ZW50cygkbGluaywgJHRoaXMtPmdlbmVyYXRlV2luZG93c1Byb3h5Q29kZSgkYmluUGF0aCwgJGxpbmspKTsKU2lsZW5jZXI6OmNhbGwoJ2NobW9kJywgJGxpbmssIDA3NzcgJiB+dW1hc2soKSk7Cn0KfQoKcHJvdGVjdGVkIGZ1bmN0aW9uIGluc3RhbGxTeW1saW5rQmluYXJpZXMoJGJpblBhdGgsICRsaW5rKQp7CmlmICghJHRoaXMtPmZpbGVzeXN0ZW0tPnJlbGF0aXZlU3ltbGluaygkYmluUGF0aCwgJGxpbmspKSB7CiR0aGlzLT5pbnN0YWxsVW5peHlQcm94eUJpbmFyaWVzKCRiaW5QYXRoLCAkbGluayk7Cn0KfQoKcHJvdGVjdGVkIGZ1bmN0aW9uIGluc3RhbGxVbml4eVByb3h5QmluYXJpZXMoJGJpblBhdGgsICRsaW5rKQp7CmZpbGVfcHV0X2NvbnRlbnRzKCRsaW5rLCAkdGhpcy0+Z2VuZXJhdGVVbml4eVByb3h5Q29kZSgkYmluUGF0aCwgJGxpbmspKTsKU2lsZW5jZXI6OmNhbGwoJ2NobW9kJywgJGxpbmssIDA3NzcgJiB+dW1hc2soKSk7Cn0KCnByb3RlY3RlZCBmdW5jdGlvbiBpbml0aWFsaXplQmluRGlyKCkKewokdGhpcy0+ZmlsZXN5c3RlbS0+ZW5zdXJlRGlyZWN0b3J5RXhpc3RzKCR0aGlzLT5iaW5EaXIpOwokdGhpcy0+YmluRGlyID0gcmVhbHBhdGgoJHRoaXMtPmJpbkRpcik7Cn0KCnByb3RlY3RlZCBmdW5jdGlvbiBnZW5lcmF0ZVdpbmRvd3NQcm94eUNvZGUoJGJpbiwgJGxpbmspCnsKJGJpblBhdGggPSAkdGhpcy0+ZmlsZXN5c3RlbS0+ZmluZFNob3J0ZXN0UGF0aCgkbGluaywgJGJpbik7CiRjYWxsZXIgPSBzZWxmOjpkZXRlcm1pbmVCaW5hcnlDYWxsZXIoJGJpbik7CgpyZXR1cm4gIkBFQ0hPIE9GRlxyXG4iLgoic2V0bG9jYWwgRElTQUJMRURFTEFZRURFWFBBTlNJT05cclxuIi4KIlNFVCBCSU5fVEFSR0VUPSV+ZHAwLyIudHJpbShQcm9jZXNzRXhlY3V0b3I6OmVzY2FwZSgkYmluUGF0aCksICciXCcnKS4iXHJcbiIuCiJ7JGNhbGxlcn0gXCIlQklOX1RBUkdFVCVcIiAlKlxyXG4iOwp9Cgpwcm90ZWN0ZWQgZnVuY3Rpb24gZ2VuZXJhdGVVbml4eVByb3h5Q29kZSgkYmluLCAkbGluaykKewokYmluUGF0aCA9ICR0aGlzLT5maWxlc3lzdGVtLT5maW5kU2hvcnRlc3RQYXRoKCRsaW5rLCAkYmluKTsKCiRiaW5EaXIgPSBQcm9jZXNzRXhlY3V0b3I6OmVzY2FwZShkaXJuYW1lKCRiaW5QYXRoKSk7CiRiaW5GaWxlID0gYmFzZW5hbWUoJGJpblBhdGgpOwoKJGJpbkNvbnRlbnRzID0gZmlsZV9nZXRfY29udGVudHMoJGJpbik7CgoKaWYgKHByZWdfbWF0Y2goJ3teKD86IyEoPzovdXNyKT8vYmluL2VudiBwaHB8IyEoPzovdXNyKT8vYmluL3BocHw8P3BocClccj9cbn0nLCAkYmluQ29udGVudHMsICRtYXRjaCkpIHsKCmlmIChmYWxzZSA9PT0gKCRwb3MgPSBzdHJwb3MoJGJpbkNvbnRlbnRzLCAnX19IQUxUX0NPTVBJTEVSJykpIHx8IGZhbHNlID09PSBzdHJwb3Moc3Vic3RyKCRiaW5Db250ZW50cywgMCwgJHBvcyksICdQaGFyOjptYXBQaGFyJykpIHsKJHByb3h5Q29kZSA9IHRyaW0oJG1hdGNoWzBdKTsKCmlmICgkcHJveHlDb2RlID09PSAiPD9waHAiKSB7CiRwcm94eUNvZGUgPSAiIyEvdXNyL2Jpbi9lbnYgcGhwIjsKfQokYmluUGF0aEV4cG9ydGVkID0gdmFyX2V4cG9ydCgkYmluUGF0aCwgdHJ1ZSk7CgpyZXR1cm4gJHByb3h5Q29kZSAuICJcbiIgLiA8PDxQUk9YWQo8P3BocAoKLyoqCiAqIFByb3h5IFBIUCBmaWxlIGdlbmVyYXRlZCBieSBDb21wb3NlcgogKgogKiBUaGlzIGZpbGUgaW5jbHVkZXMgdGhlIHJlZmVyZW5jZWQgYmluIHBhdGggKCRiaW5QYXRoKSB1c2luZyBldmFsIHRvIHJlbW92ZSB0aGUgc2hlYmFuZyBpZiBwcmVzZW50CiAqCiAqIEBnZW5lcmF0ZWQKICovCgpcJGJpblBhdGggPSByZWFscGF0aChfX0RJUl9fIC4gIi8iIC4gJGJpblBhdGhFeHBvcnRlZCk7ClwkY29udGVudHMgPSBmaWxlX2dldF9jb250ZW50cyhcJGJpblBhdGgpOwpcJGNvbnRlbnRzID0gcHJlZ19yZXBsYWNlKCd7XiMhLy4rXFxyP1xcbjxcXD8ocGhwKT99JywgJycsIFwkY29udGVudHMsIDEsIFwkcmVwbGFjZWQpOwppZiAoXCRyZXBsYWNlZCkgewogICAgXCRjb250ZW50cyA9IHN0cnRyKFwkY29udGVudHMsIGFycmF5KAogICAgICAgICdfX0ZJTEVfXycgPT4gdmFyX2V4cG9ydChcJGJpblBhdGgsIHRydWUpLAogICAgICAgICdfX0RJUl9fJyA9PiB2YXJfZXhwb3J0KGRpcm5hbWUoXCRiaW5QYXRoKSwgdHJ1ZSksCiAgICApKTsKCiAgICBldmFsKFwkY29udGVudHMpOwogICAgZXhpdCgwKTsKfQppbmNsdWRlIFwkYmluUGF0aDsKClBST1hZOwp9Cn0KCiRwcm94eUNvZGUgPSA8PDxQUk9YWQojIS91c3IvYmluL2VudiBzaAoKZGlyPVwkKGNkICJcJHswJVsvXFxcXF0qfSIgPiAvZGV2L251bGw7IGNkICRiaW5EaXIgJiYgcHdkKQoKaWYgWyAtZCAvcHJvYy9jeWdkcml2ZSBdOyB0aGVuCiAgICBjYXNlIFwkKHdoaWNoIHBocCkgaW4KICAgICAgICBcJChyZWFkbGluayAtbiAvcHJvYy9jeWdkcml2ZSkvKikKICAgICAgICAgICAgIyBXZSBhcmUgaW4gQ3lnd2luIHVzaW5nIFdpbmRvd3MgcGhwLCBzbyB0aGUgcGF0aCBtdXN0IGJlIHRyYW5zbGF0ZWQKICAgICAgICAgICAgZGlyPVwkKGN5Z3BhdGggLW0gIlwkZGlyIik7CiAgICAgICAgICAgIDs7CiAgICBlc2FjCmZpCgoiXCR7ZGlyfS8kYmluRmlsZSIgIlwkQCIKClBST1hZOwoKcmV0dXJuICRwcm94eUNvZGU7Cn0KfQo8P3BocAoKCgoKCgoKCgoKCm5hbWVzcGFjZSBDb21wb3NlclxJbnN0YWxsZXI7Cgp1c2UgQ29tcG9zZXJcUGFja2FnZVxQYWNrYWdlSW50ZXJmYWNlOwoKCgoKCgppbnRlcmZhY2UgQmluYXJ5UHJlc2VuY2VJbnRlcmZhY2UKewoKCgoKCnB1YmxpYyBmdW5jdGlvbiBlbnN1cmVCaW5hcmllc1ByZXNlbmNlKFBhY2thZ2VJbnRlcmZhY2UgJHBhY2thZ2UpOwp9Cjw/cGhwCgoKCgoKCgoKCgoKbmFtZXNwYWNlIENvbXBvc2VyXEluc3RhbGxlcjsKCnVzZSBDb21wb3NlclxJT1xJT0ludGVyZmFjZTsKdXNlIENvbXBvc2VyXElPXENvbnNvbGVJTzsKdXNlIENvbXBvc2VyXFBhY2thZ2VcUGFja2FnZUludGVyZmFjZTsKdXNlIENvbXBvc2VyXFBhY2thZ2VcQWxpYXNQYWNrYWdlOwp1c2UgQ29tcG9zZXJcUmVwb3NpdG9yeVxJbnN0YWxsZWRSZXBvc2l0b3J5SW50ZXJmYWNlOwp1c2UgQ29tcG9zZXJcRGVwZW5kZW5jeVJlc29sdmVyXE9wZXJhdGlvblxPcGVyYXRpb25JbnRlcmZhY2U7CnVzZSBDb21wb3NlclxEZXBlbmRlbmN5UmVzb2x2ZXJcT3BlcmF0aW9uXEluc3RhbGxPcGVyYXRpb247CnVzZSBDb21wb3NlclxEZXBlbmRlbmN5UmVzb2x2ZXJcT3BlcmF0aW9uXFVwZGF0ZU9wZXJhdGlvbjsKdXNlIENvbXBvc2VyXERlcGVuZGVuY3lSZXNvbHZlclxPcGVyYXRpb25cVW5pbnN0YWxsT3BlcmF0aW9uOwp1c2UgQ29tcG9zZXJcRGVwZW5kZW5jeVJlc29sdmVyXE9wZXJhdGlvblxNYXJrQWxpYXNJbnN0YWxsZWRPcGVyYXRpb247CnVzZSBDb21wb3NlclxEZXBlbmRlbmN5UmVzb2x2ZXJcT3BlcmF0aW9uXE1hcmtBbGlhc1VuaW5zdGFsbGVkT3BlcmF0aW9uOwp1c2UgQ29tcG9zZXJcRXZlbnREaXNwYXRjaGVyXEV2ZW50RGlzcGF0Y2hlcjsKdXNlIENvbXBvc2VyXFV0aWxcTG9vcDsKdXNlIENvbXBvc2VyXFV0aWxcUGxhdGZvcm07CnVzZSBSZWFjdFxQcm9taXNlXFByb21pc2VJbnRlcmZhY2U7CgoKCgoKCgoKY2xhc3MgSW5zdGFsbGF0aW9uTWFuYWdlcgp7Cgpwcml2YXRlICRpbnN0YWxsZXJzID0gYXJyYXkoKTsKCnByaXZhdGUgJGNhY2hlID0gYXJyYXkoKTsKCnByaXZhdGUgJG5vdGlmaWFibGVQYWNrYWdlcyA9IGFycmF5KCk7Cgpwcml2YXRlICRsb29wOwoKcHJpdmF0ZSAkaW87Cgpwcml2YXRlICRldmVudERpc3BhdGNoZXI7Cgpwcml2YXRlICRvdXRwdXRQcm9ncmVzczsKCnB1YmxpYyBmdW5jdGlvbiBfX2NvbnN0cnVjdChMb29wICRsb29wLCBJT0ludGVyZmFjZSAkaW8sIEV2ZW50RGlzcGF0Y2hlciAkZXZlbnREaXNwYXRjaGVyID0gbnVsbCkKewokdGhpcy0+bG9vcCA9ICRsb29wOwokdGhpcy0+aW8gPSAkaW87CiR0aGlzLT5ldmVudERpc3BhdGNoZXIgPSAkZXZlbnREaXNwYXRjaGVyOwp9CgpwdWJsaWMgZnVuY3Rpb24gcmVzZXQoKQp7CiR0aGlzLT5ub3RpZmlhYmxlUGFja2FnZXMgPSBhcnJheSgpOwp9CgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBhZGRJbnN0YWxsZXIoSW5zdGFsbGVySW50ZXJmYWNlICRpbnN0YWxsZXIpCnsKYXJyYXlfdW5zaGlmdCgkdGhpcy0+aW5zdGFsbGVycywgJGluc3RhbGxlcik7CiR0aGlzLT5jYWNoZSA9IGFycmF5KCk7Cn0KCgoKCgoKcHVibGljIGZ1bmN0aW9uIHJlbW92ZUluc3RhbGxlcihJbnN0YWxsZXJJbnRlcmZhY2UgJGluc3RhbGxlcikKewppZiAoZmFsc2UgIT09ICgka2V5ID0gYXJyYXlfc2VhcmNoKCRpbnN0YWxsZXIsICR0aGlzLT5pbnN0YWxsZXJzLCB0cnVlKSkpIHsKYXJyYXlfc3BsaWNlKCR0aGlzLT5pbnN0YWxsZXJzLCAka2V5LCAxKTsKJHRoaXMtPmNhY2hlID0gYXJyYXkoKTsKfQp9CgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIGRpc2FibGVQbHVnaW5zKCkKewpmb3JlYWNoICgkdGhpcy0+aW5zdGFsbGVycyBhcyAkaSA9PiAkaW5zdGFsbGVyKSB7CmlmICghJGluc3RhbGxlciBpbnN0YW5jZW9mIFBsdWdpbkluc3RhbGxlcikgewpjb250aW51ZTsKfQoKdW5zZXQoJHRoaXMtPmluc3RhbGxlcnNbJGldKTsKfQp9CgoKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBnZXRJbnN0YWxsZXIoJHR5cGUpCnsKJHR5cGUgPSBzdHJ0b2xvd2VyKCR0eXBlKTsKCmlmIChpc3NldCgkdGhpcy0+Y2FjaGVbJHR5cGVdKSkgewpyZXR1cm4gJHRoaXMtPmNhY2hlWyR0eXBlXTsKfQoKZm9yZWFjaCAoJHRoaXMtPmluc3RhbGxlcnMgYXMgJGluc3RhbGxlcikgewppZiAoJGluc3RhbGxlci0+c3VwcG9ydHMoJHR5cGUpKSB7CnJldHVybiAkdGhpcy0+Y2FjaGVbJHR5cGVdID0gJGluc3RhbGxlcjsKfQp9Cgp0aHJvdyBuZXcgXEludmFsaWRBcmd1bWVudEV4Y2VwdGlvbignVW5rbm93biBpbnN0YWxsZXIgdHlwZTogJy4kdHlwZSk7Cn0KCgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIGlzUGFja2FnZUluc3RhbGxlZChJbnN0YWxsZWRSZXBvc2l0b3J5SW50ZXJmYWNlICRyZXBvLCBQYWNrYWdlSW50ZXJmYWNlICRwYWNrYWdlKQp7CmlmICgkcGFja2FnZSBpbnN0YW5jZW9mIEFsaWFzUGFja2FnZSkgewpyZXR1cm4gJHJlcG8tPmhhc1BhY2thZ2UoJHBhY2thZ2UpICYmICR0aGlzLT5pc1BhY2thZ2VJbnN0YWxsZWQoJHJlcG8sICRwYWNrYWdlLT5nZXRBbGlhc09mKCkpOwp9CgpyZXR1cm4gJHRoaXMtPmdldEluc3RhbGxlcigkcGFja2FnZS0+Z2V0VHlwZSgpKS0+aXNJbnN0YWxsZWQoJHJlcG8sICRwYWNrYWdlKTsKfQoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIGVuc3VyZUJpbmFyaWVzUHJlc2VuY2UoUGFja2FnZUludGVyZmFjZSAkcGFja2FnZSkKewp0cnkgewokaW5zdGFsbGVyID0gJHRoaXMtPmdldEluc3RhbGxlcigkcGFja2FnZS0+Z2V0VHlwZSgpKTsKfSBjYXRjaCAoXEludmFsaWRBcmd1bWVudEV4Y2VwdGlvbiAkZSkgewoKcmV0dXJuOwp9CgoKaWYgKCRpbnN0YWxsZXIgaW5zdGFuY2VvZiBCaW5hcnlQcmVzZW5jZUludGVyZmFjZSkgewokaW5zdGFsbGVyLT5lbnN1cmVCaW5hcmllc1ByZXNlbmNlKCRwYWNrYWdlKTsKfQp9CgoKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBleGVjdXRlKEluc3RhbGxlZFJlcG9zaXRvcnlJbnRlcmZhY2UgJHJlcG8sIGFycmF5ICRvcGVyYXRpb25zLCAkZGV2TW9kZSA9IHRydWUsICRydW5TY3JpcHRzID0gdHJ1ZSkKewokY2xlYW51cFByb21pc2VzID0gYXJyYXkoKTsKCiRsb29wID0gJHRoaXMtPmxvb3A7CiRpbyA9ICR0aGlzLT5pbzsKJHJ1bkNsZWFudXAgPSBmdW5jdGlvbiAoKSB1c2UgKCYkY2xlYW51cFByb21pc2VzLCAkbG9vcCkgewokcHJvbWlzZXMgPSBhcnJheSgpOwoKJGxvb3AtPmFib3J0Sm9icygpOwoKZm9yZWFjaCAoJGNsZWFudXBQcm9taXNlcyBhcyAkY2xlYW51cCkgewokcHJvbWlzZXNbXSA9IG5ldyBcUmVhY3RcUHJvbWlzZVxQcm9taXNlKGZ1bmN0aW9uICgkcmVzb2x2ZSwgJHJlamVjdCkgdXNlICgkY2xlYW51cCkgewokcHJvbWlzZSA9ICRjbGVhbnVwKCk7CmlmICghJHByb21pc2UgaW5zdGFuY2VvZiBQcm9taXNlSW50ZXJmYWNlKSB7CiRyZXNvbHZlKCk7Cn0gZWxzZSB7CiRwcm9taXNlLT50aGVuKGZ1bmN0aW9uICgpIHVzZSAoJHJlc29sdmUpIHsKJHJlc29sdmUoKTsKfSk7Cn0KfSk7Cn0KCmlmICghZW1wdHkoJHByb21pc2VzKSkgewokbG9vcC0+d2FpdCgkcHJvbWlzZXMpOwp9Cn07CgokaGFuZGxlSW50ZXJydXB0c1VuaXggPSBmdW5jdGlvbl9leGlzdHMoJ3BjbnRsX2FzeW5jX3NpZ25hbHMnKSAmJiBmdW5jdGlvbl9leGlzdHMoJ3BjbnRsX3NpZ25hbCcpOwokaGFuZGxlSW50ZXJydXB0c1dpbmRvd3MgPSBmdW5jdGlvbl9leGlzdHMoJ3NhcGlfd2luZG93c19zZXRfY3RybF9oYW5kbGVyJykgJiYgUEhQX1NBUEkgPT09ICdjbGknOwokcHJldkhhbmRsZXIgPSBudWxsOwokd2luZG93c0hhbmRsZXIgPSBudWxsOwppZiAoJGhhbmRsZUludGVycnVwdHNVbml4KSB7CnBjbnRsX2FzeW5jX3NpZ25hbHModHJ1ZSk7CiRwcmV2SGFuZGxlciA9IHBjbnRsX3NpZ25hbF9nZXRfaGFuZGxlcihTSUdJTlQpOwpwY250bF9zaWduYWwoU0lHSU5ULCBmdW5jdGlvbiAoJHNpZykgdXNlICgkcnVuQ2xlYW51cCwgJHByZXZIYW5kbGVyLCAkaW8pIHsKJGlvLT53cml0ZUVycm9yKCdSZWNlaXZlZCBTSUdJTlQsIGFib3J0aW5nJywgdHJ1ZSwgSU9JbnRlcmZhY2U6OkRFQlVHKTsKJHJ1bkNsZWFudXAoKTsKCmlmICghaW5fYXJyYXkoJHByZXZIYW5kbGVyLCBhcnJheShTSUdfREZMLCBTSUdfSUdOKSwgdHJ1ZSkpIHsKY2FsbF91c2VyX2Z1bmMoJHByZXZIYW5kbGVyLCAkc2lnKTsKfQoKZXhpdCgxMzApOwp9KTsKfQppZiAoJGhhbmRsZUludGVycnVwdHNXaW5kb3dzKSB7CiR3aW5kb3dzSGFuZGxlciA9IGZ1bmN0aW9uICgkZXZlbnQpIHVzZSAoJHJ1bkNsZWFudXAsICRpbykgewppZiAoJGV2ZW50ICE9PSBQSFBfV0lORE9XU19FVkVOVF9DVFJMX0MpIHsKcmV0dXJuOwp9CiRpby0+d3JpdGVFcnJvcignUmVjZWl2ZWQgQ1RSTCtDLCBhYm9ydGluZycsIHRydWUsIElPSW50ZXJmYWNlOjpERUJVRyk7CiRydW5DbGVhbnVwKCk7CgpleGl0KDEzMCk7Cn07CnNhcGlfd2luZG93c19zZXRfY3RybF9oYW5kbGVyKCR3aW5kb3dzSGFuZGxlcik7Cn0KCnRyeSB7CgoKJGJhdGNoZXMgPSBhcnJheSgpOwokYmF0Y2ggPSBhcnJheSgpOwpmb3JlYWNoICgkb3BlcmF0aW9ucyBhcyAkaW5kZXggPT4gJG9wZXJhdGlvbikgewppZiAoJG9wZXJhdGlvbiBpbnN0YW5jZW9mIFVwZGF0ZU9wZXJhdGlvbiB8fCAkb3BlcmF0aW9uIGluc3RhbmNlb2YgSW5zdGFsbE9wZXJhdGlvbikgewokcGFja2FnZSA9ICRvcGVyYXRpb24gaW5zdGFuY2VvZiBVcGRhdGVPcGVyYXRpb24gPyAkb3BlcmF0aW9uLT5nZXRUYXJnZXRQYWNrYWdlKCkgOiAkb3BlcmF0aW9uLT5nZXRQYWNrYWdlKCk7CmlmICgkcGFja2FnZS0+Z2V0VHlwZSgpID09PSAnY29tcG9zZXItcGx1Z2luJyAmJiAoJGV4dHJhID0gJHBhY2thZ2UtPmdldEV4dHJhKCkpICYmIGlzc2V0KCRleHRyYVsncGx1Z2luLW1vZGlmaWVzLWRvd25sb2FkcyddKSAmJiAkZXh0cmFbJ3BsdWdpbi1tb2RpZmllcy1kb3dubG9hZHMnXSA9PT0gdHJ1ZSkgewppZiAoJGJhdGNoKSB7CiRiYXRjaGVzW10gPSAkYmF0Y2g7Cn0KJGJhdGNoZXNbXSA9IGFycmF5KCRpbmRleCA9PiAkb3BlcmF0aW9uKTsKJGJhdGNoID0gYXJyYXkoKTsKCmNvbnRpbnVlOwp9Cn0KJGJhdGNoWyRpbmRleF0gPSAkb3BlcmF0aW9uOwp9CgppZiAoJGJhdGNoKSB7CiRiYXRjaGVzW10gPSAkYmF0Y2g7Cn0KCmZvcmVhY2ggKCRiYXRjaGVzIGFzICRiYXRjaCkgewokdGhpcy0+ZG93bmxvYWRBbmRFeGVjdXRlQmF0Y2goJHJlcG8sICRiYXRjaCwgJGNsZWFudXBQcm9taXNlcywgJGRldk1vZGUsICRydW5TY3JpcHRzLCAkb3BlcmF0aW9ucyk7Cn0KfSBjYXRjaCAoXEV4Y2VwdGlvbiAkZSkgewokcnVuQ2xlYW51cCgpOwoKaWYgKCRoYW5kbGVJbnRlcnJ1cHRzVW5peCkgewpwY250bF9zaWduYWwoU0lHSU5ULCAkcHJldkhhbmRsZXIpOwp9CmlmICgkaGFuZGxlSW50ZXJydXB0c1dpbmRvd3MpIHsKc2FwaV93aW5kb3dzX3NldF9jdHJsX2hhbmRsZXIoJHdpbmRvd3NIYW5kbGVyLCBmYWxzZSk7Cn0KCnRocm93ICRlOwp9CgppZiAoJGhhbmRsZUludGVycnVwdHNVbml4KSB7CnBjbnRsX3NpZ25hbChTSUdJTlQsICRwcmV2SGFuZGxlcik7Cn0KaWYgKCRoYW5kbGVJbnRlcnJ1cHRzV2luZG93cykgewpzYXBpX3dpbmRvd3Nfc2V0X2N0cmxfaGFuZGxlcigkd2luZG93c0hhbmRsZXIsIGZhbHNlKTsKfQoKCgoKJHJlcG8tPndyaXRlKCRkZXZNb2RlLCAkdGhpcyk7Cn0KCgoKCgpwcml2YXRlIGZ1bmN0aW9uIGRvd25sb2FkQW5kRXhlY3V0ZUJhdGNoKEluc3RhbGxlZFJlcG9zaXRvcnlJbnRlcmZhY2UgJHJlcG8sIGFycmF5ICRvcGVyYXRpb25zLCBhcnJheSAmJGNsZWFudXBQcm9taXNlcywgJGRldk1vZGUsICRydW5TY3JpcHRzLCBhcnJheSAkYWxsT3BlcmF0aW9ucykKewokcHJvbWlzZXMgPSBhcnJheSgpOwoKZm9yZWFjaCAoJG9wZXJhdGlvbnMgYXMgJGluZGV4ID0+ICRvcGVyYXRpb24pIHsKJG9wVHlwZSA9ICRvcGVyYXRpb24tPmdldE9wZXJhdGlvblR5cGUoKTsKCgppZiAoIWluX2FycmF5KCRvcFR5cGUsIGFycmF5KCd1cGRhdGUnLCAnaW5zdGFsbCcsICd1bmluc3RhbGwnKSkpIHsKY29udGludWU7Cn0KCmlmICgkb3BUeXBlID09PSAndXBkYXRlJykgewokcGFja2FnZSA9ICRvcGVyYXRpb24tPmdldFRhcmdldFBhY2thZ2UoKTsKJGluaXRpYWxQYWNrYWdlID0gJG9wZXJhdGlvbi0+Z2V0SW5pdGlhbFBhY2thZ2UoKTsKfSBlbHNlIHsKJHBhY2thZ2UgPSAkb3BlcmF0aW9uLT5nZXRQYWNrYWdlKCk7CiRpbml0aWFsUGFja2FnZSA9IG51bGw7Cn0KJGluc3RhbGxlciA9ICR0aGlzLT5nZXRJbnN0YWxsZXIoJHBhY2thZ2UtPmdldFR5cGUoKSk7CgokY2xlYW51cFByb21pc2VzWyRpbmRleF0gPSBmdW5jdGlvbiAoKSB1c2UgKCRvcFR5cGUsICRpbnN0YWxsZXIsICRwYWNrYWdlLCAkaW5pdGlhbFBhY2thZ2UpIHsKCgppZiAoISRwYWNrYWdlLT5nZXRJbnN0YWxsYXRpb25Tb3VyY2UoKSkgewpyZXR1cm47Cn0KCnJldHVybiAkaW5zdGFsbGVyLT5jbGVhbnVwKCRvcFR5cGUsICRwYWNrYWdlLCAkaW5pdGlhbFBhY2thZ2UpOwp9OwoKaWYgKCRvcFR5cGUgIT09ICd1bmluc3RhbGwnKSB7CiRwcm9taXNlID0gJGluc3RhbGxlci0+ZG93bmxvYWQoJHBhY2thZ2UsICRpbml0aWFsUGFja2FnZSk7CmlmICgkcHJvbWlzZSkgewokcHJvbWlzZXNbXSA9ICRwcm9taXNlOwp9Cn0KfQoKCmlmIChjb3VudCgkcHJvbWlzZXMpKSB7CiR0aGlzLT53YWl0T25Qcm9taXNlcygkcHJvbWlzZXMpOwp9CgoKCiRiYXRjaGVzID0gYXJyYXkoKTsKJGJhdGNoID0gYXJyYXkoKTsKZm9yZWFjaCAoJG9wZXJhdGlvbnMgYXMgJGluZGV4ID0+ICRvcGVyYXRpb24pIHsKaWYgKGluX2FycmF5KCRvcGVyYXRpb24tPmdldE9wZXJhdGlvblR5cGUoKSwgYXJyYXkoJ3VwZGF0ZScsICdpbnN0YWxsJyksIHRydWUpKSB7CiRwYWNrYWdlID0gJG9wZXJhdGlvbi0+Z2V0T3BlcmF0aW9uVHlwZSgpID09PSAndXBkYXRlJyA/ICRvcGVyYXRpb24tPmdldFRhcmdldFBhY2thZ2UoKSA6ICRvcGVyYXRpb24tPmdldFBhY2thZ2UoKTsKaWYgKCRwYWNrYWdlLT5nZXRUeXBlKCkgPT09ICdjb21wb3Nlci1wbHVnaW4nIHx8ICRwYWNrYWdlLT5nZXRUeXBlKCkgPT09ICdjb21wb3Nlci1pbnN0YWxsZXInKSB7CmlmICgkYmF0Y2gpIHsKJGJhdGNoZXNbXSA9ICRiYXRjaDsKfQokYmF0Y2hlc1tdID0gYXJyYXkoJGluZGV4ID0+ICRvcGVyYXRpb24pOwokYmF0Y2ggPSBhcnJheSgpOwoKY29udGludWU7Cn0KfQokYmF0Y2hbJGluZGV4XSA9ICRvcGVyYXRpb247Cn0KCmlmICgkYmF0Y2gpIHsKJGJhdGNoZXNbXSA9ICRiYXRjaDsKfQoKZm9yZWFjaCAoJGJhdGNoZXMgYXMgJGJhdGNoKSB7CiR0aGlzLT5leGVjdXRlQmF0Y2goJHJlcG8sICRiYXRjaCwgJGNsZWFudXBQcm9taXNlcywgJGRldk1vZGUsICRydW5TY3JpcHRzLCAkYWxsT3BlcmF0aW9ucyk7Cn0KfQoKCgoKCnByaXZhdGUgZnVuY3Rpb24gZXhlY3V0ZUJhdGNoKEluc3RhbGxlZFJlcG9zaXRvcnlJbnRlcmZhY2UgJHJlcG8sIGFycmF5ICRvcGVyYXRpb25zLCBhcnJheSAkY2xlYW51cFByb21pc2VzLCAkZGV2TW9kZSwgJHJ1blNjcmlwdHMsIGFycmF5ICRhbGxPcGVyYXRpb25zKQp7CiRwcm9taXNlcyA9IGFycmF5KCk7CiRwb3N0RXhlY0NhbGxiYWNrcyA9IGFycmF5KCk7Cgpmb3JlYWNoICgkb3BlcmF0aW9ucyBhcyAkaW5kZXggPT4gJG9wZXJhdGlvbikgewokb3BUeXBlID0gJG9wZXJhdGlvbi0+Z2V0T3BlcmF0aW9uVHlwZSgpOwoKCmlmICghaW5fYXJyYXkoJG9wVHlwZSwgYXJyYXkoJ3VwZGF0ZScsICdpbnN0YWxsJywgJ3VuaW5zdGFsbCcpKSkgewoKaWYgKCR0aGlzLT5pby0+aXNEZWJ1ZygpKSB7CiR0aGlzLT5pby0+d3JpdGVFcnJvcignICAtICcgLiAkb3BlcmF0aW9uLT5zaG93KGZhbHNlKSk7Cn0KJHRoaXMtPiRvcFR5cGUoJHJlcG8sICRvcGVyYXRpb24pOwoKY29udGludWU7Cn0KCmlmICgkb3BUeXBlID09PSAndXBkYXRlJykgewokcGFja2FnZSA9ICRvcGVyYXRpb24tPmdldFRhcmdldFBhY2thZ2UoKTsKJGluaXRpYWxQYWNrYWdlID0gJG9wZXJhdGlvbi0+Z2V0SW5pdGlhbFBhY2thZ2UoKTsKfSBlbHNlIHsKJHBhY2thZ2UgPSAkb3BlcmF0aW9uLT5nZXRQYWNrYWdlKCk7CiRpbml0aWFsUGFja2FnZSA9IG51bGw7Cn0KJGluc3RhbGxlciA9ICR0aGlzLT5nZXRJbnN0YWxsZXIoJHBhY2thZ2UtPmdldFR5cGUoKSk7CgokZXZlbnQgPSAnQ29tcG9zZXJcSW5zdGFsbGVyXFBhY2thZ2VFdmVudHM6OlBSRV9QQUNLQUdFXycuc3RydG91cHBlcigkb3BUeXBlKTsKaWYgKGRlZmluZWQoJGV2ZW50KSAmJiAkcnVuU2NyaXB0cyAmJiAkdGhpcy0+ZXZlbnREaXNwYXRjaGVyKSB7CiR0aGlzLT5ldmVudERpc3BhdGNoZXItPmRpc3BhdGNoUGFja2FnZUV2ZW50KGNvbnN0YW50KCRldmVudCksICRkZXZNb2RlLCAkcmVwbywgJGFsbE9wZXJhdGlvbnMsICRvcGVyYXRpb24pOwp9CgokZGlzcGF0Y2hlciA9ICR0aGlzLT5ldmVudERpc3BhdGNoZXI7CiRpbnN0YWxsTWFuYWdlciA9ICR0aGlzOwokaW8gPSAkdGhpcy0+aW87CgokcHJvbWlzZSA9ICRpbnN0YWxsZXItPnByZXBhcmUoJG9wVHlwZSwgJHBhY2thZ2UsICRpbml0aWFsUGFja2FnZSk7CmlmICghJHByb21pc2UgaW5zdGFuY2VvZiBQcm9taXNlSW50ZXJmYWNlKSB7CiRwcm9taXNlID0gXFJlYWN0XFByb21pc2VccmVzb2x2ZSgpOwp9CgokcHJvbWlzZSA9ICRwcm9taXNlLT50aGVuKGZ1bmN0aW9uICgpIHVzZSAoJG9wVHlwZSwgJGluc3RhbGxNYW5hZ2VyLCAkcmVwbywgJG9wZXJhdGlvbikgewpyZXR1cm4gJGluc3RhbGxNYW5hZ2VyLT4kb3BUeXBlKCRyZXBvLCAkb3BlcmF0aW9uKTsKfSktPnRoZW4oJGNsZWFudXBQcm9taXNlc1skaW5kZXhdKQotPnRoZW4oZnVuY3Rpb24gKCkgdXNlICgkaW5zdGFsbE1hbmFnZXIsICRkZXZNb2RlLCAkcmVwbykgewokcmVwby0+d3JpdGUoJGRldk1vZGUsICRpbnN0YWxsTWFuYWdlcik7Cn0sIGZ1bmN0aW9uICgkZSkgdXNlICgkb3BUeXBlLCAkcGFja2FnZSwgJGlvKSB7CiRpby0+d3JpdGVFcnJvcignICAgIDxlcnJvcj4nIC4gdWNmaXJzdCgkb3BUeXBlKSAuJyBvZiAnLiRwYWNrYWdlLT5nZXRQcmV0dHlOYW1lKCkuJyBmYWlsZWQ8L2Vycm9yPicpOwoKdGhyb3cgJGU7Cn0pOwoKJHBvc3RFeGVjQ2FsbGJhY2tzW10gPSBmdW5jdGlvbiAoKSB1c2UgKCRvcFR5cGUsICRydW5TY3JpcHRzLCAkZGlzcGF0Y2hlciwgJGRldk1vZGUsICRyZXBvLCAkYWxsT3BlcmF0aW9ucywgJG9wZXJhdGlvbikgewokZXZlbnQgPSAnQ29tcG9zZXJcSW5zdGFsbGVyXFBhY2thZ2VFdmVudHM6OlBPU1RfUEFDS0FHRV8nLnN0cnRvdXBwZXIoJG9wVHlwZSk7CmlmIChkZWZpbmVkKCRldmVudCkgJiYgJHJ1blNjcmlwdHMgJiYgJGRpc3BhdGNoZXIpIHsKJGRpc3BhdGNoZXItPmRpc3BhdGNoUGFja2FnZUV2ZW50KGNvbnN0YW50KCRldmVudCksICRkZXZNb2RlLCAkcmVwbywgJGFsbE9wZXJhdGlvbnMsICRvcGVyYXRpb24pOwp9Cn07CgokcHJvbWlzZXNbXSA9ICRwcm9taXNlOwp9CgoKaWYgKGNvdW50KCRwcm9taXNlcykpIHsKJHRoaXMtPndhaXRPblByb21pc2VzKCRwcm9taXNlcyk7Cn0KClBsYXRmb3JtOjp3b3JrYXJvdW5kRmlsZXN5c3RlbUlzc3VlcygpOwoKZm9yZWFjaCAoJHBvc3RFeGVjQ2FsbGJhY2tzIGFzICRjYikgewokY2IoKTsKfQp9Cgpwcml2YXRlIGZ1bmN0aW9uIHdhaXRPblByb21pc2VzKGFycmF5ICRwcm9taXNlcykKewokcHJvZ3Jlc3MgPSBudWxsOwppZiAoCiR0aGlzLT5vdXRwdXRQcm9ncmVzcwomJiAkdGhpcy0+aW8gaW5zdGFuY2VvZiBDb25zb2xlSU8KJiYgIWdldGVudignQ0knKQomJiAhJHRoaXMtPmlvLT5pc0RlYnVnKCkKJiYgY291bnQoJHByb21pc2VzKSA+IDEKKSB7CiRwcm9ncmVzcyA9ICR0aGlzLT5pby0+Z2V0UHJvZ3Jlc3NCYXIoKTsKfQokdGhpcy0+bG9vcC0+d2FpdCgkcHJvbWlzZXMsICRwcm9ncmVzcyk7CmlmICgkcHJvZ3Jlc3MpIHsKJHByb2dyZXNzLT5jbGVhcigpOwoKaWYgKCEkdGhpcy0+aW8tPmlzRGVjb3JhdGVkKCkpIHsKJHRoaXMtPmlvLT53cml0ZUVycm9yKCcnKTsKfQp9Cn0KCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBpbnN0YWxsKEluc3RhbGxlZFJlcG9zaXRvcnlJbnRlcmZhY2UgJHJlcG8sIEluc3RhbGxPcGVyYXRpb24gJG9wZXJhdGlvbikKewokcGFja2FnZSA9ICRvcGVyYXRpb24tPmdldFBhY2thZ2UoKTsKJGluc3RhbGxlciA9ICR0aGlzLT5nZXRJbnN0YWxsZXIoJHBhY2thZ2UtPmdldFR5cGUoKSk7CiRwcm9taXNlID0gJGluc3RhbGxlci0+aW5zdGFsbCgkcmVwbywgJHBhY2thZ2UpOwokdGhpcy0+bWFya0Zvck5vdGlmaWNhdGlvbigkcGFja2FnZSk7CgpyZXR1cm4gJHByb21pc2U7Cn0KCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiB1cGRhdGUoSW5zdGFsbGVkUmVwb3NpdG9yeUludGVyZmFjZSAkcmVwbywgVXBkYXRlT3BlcmF0aW9uICRvcGVyYXRpb24pCnsKJGluaXRpYWwgPSAkb3BlcmF0aW9uLT5nZXRJbml0aWFsUGFja2FnZSgpOwokdGFyZ2V0ID0gJG9wZXJhdGlvbi0+Z2V0VGFyZ2V0UGFja2FnZSgpOwoKJGluaXRpYWxUeXBlID0gJGluaXRpYWwtPmdldFR5cGUoKTsKJHRhcmdldFR5cGUgPSAkdGFyZ2V0LT5nZXRUeXBlKCk7CgppZiAoJGluaXRpYWxUeXBlID09PSAkdGFyZ2V0VHlwZSkgewokaW5zdGFsbGVyID0gJHRoaXMtPmdldEluc3RhbGxlcigkaW5pdGlhbFR5cGUpOwokcHJvbWlzZSA9ICRpbnN0YWxsZXItPnVwZGF0ZSgkcmVwbywgJGluaXRpYWwsICR0YXJnZXQpOwokdGhpcy0+bWFya0Zvck5vdGlmaWNhdGlvbigkdGFyZ2V0KTsKfSBlbHNlIHsKJHByb21pc2UgPSAkdGhpcy0+Z2V0SW5zdGFsbGVyKCRpbml0aWFsVHlwZSktPnVuaW5zdGFsbCgkcmVwbywgJGluaXRpYWwpOwppZiAoISRwcm9taXNlIGluc3RhbmNlb2YgUHJvbWlzZUludGVyZmFjZSkgewokcHJvbWlzZSA9IFxSZWFjdFxQcm9taXNlXHJlc29sdmUoKTsKfQoKJGluc3RhbGxlciA9ICR0aGlzLT5nZXRJbnN0YWxsZXIoJHRhcmdldFR5cGUpOwokcHJvbWlzZS0+dGhlbihmdW5jdGlvbiAoKSB1c2UgKCRpbnN0YWxsZXIsICRyZXBvLCAkdGFyZ2V0KSB7CnJldHVybiAkaW5zdGFsbGVyLT5pbnN0YWxsKCRyZXBvLCAkdGFyZ2V0KTsKfSk7Cn0KCnJldHVybiAkcHJvbWlzZTsKfQoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIHVuaW5zdGFsbChJbnN0YWxsZWRSZXBvc2l0b3J5SW50ZXJmYWNlICRyZXBvLCBVbmluc3RhbGxPcGVyYXRpb24gJG9wZXJhdGlvbikKewokcGFja2FnZSA9ICRvcGVyYXRpb24tPmdldFBhY2thZ2UoKTsKJGluc3RhbGxlciA9ICR0aGlzLT5nZXRJbnN0YWxsZXIoJHBhY2thZ2UtPmdldFR5cGUoKSk7CgpyZXR1cm4gJGluc3RhbGxlci0+dW5pbnN0YWxsKCRyZXBvLCAkcGFja2FnZSk7Cn0KCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBtYXJrQWxpYXNJbnN0YWxsZWQoSW5zdGFsbGVkUmVwb3NpdG9yeUludGVyZmFjZSAkcmVwbywgTWFya0FsaWFzSW5zdGFsbGVkT3BlcmF0aW9uICRvcGVyYXRpb24pCnsKJHBhY2thZ2UgPSAkb3BlcmF0aW9uLT5nZXRQYWNrYWdlKCk7CgppZiAoISRyZXBvLT5oYXNQYWNrYWdlKCRwYWNrYWdlKSkgewokcmVwby0+YWRkUGFja2FnZShjbG9uZSAkcGFja2FnZSk7Cn0KfQoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIG1hcmtBbGlhc1VuaW5zdGFsbGVkKEluc3RhbGxlZFJlcG9zaXRvcnlJbnRlcmZhY2UgJHJlcG8sIE1hcmtBbGlhc1VuaW5zdGFsbGVkT3BlcmF0aW9uICRvcGVyYXRpb24pCnsKJHBhY2thZ2UgPSAkb3BlcmF0aW9uLT5nZXRQYWNrYWdlKCk7CgokcmVwby0+cmVtb3ZlUGFja2FnZSgkcGFja2FnZSk7Cn0KCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBnZXRJbnN0YWxsUGF0aChQYWNrYWdlSW50ZXJmYWNlICRwYWNrYWdlKQp7CiRpbnN0YWxsZXIgPSAkdGhpcy0+Z2V0SW5zdGFsbGVyKCRwYWNrYWdlLT5nZXRUeXBlKCkpOwoKcmV0dXJuICRpbnN0YWxsZXItPmdldEluc3RhbGxQYXRoKCRwYWNrYWdlKTsKfQoKcHVibGljIGZ1bmN0aW9uIHNldE91dHB1dFByb2dyZXNzKCRvdXRwdXRQcm9ncmVzcykKewokdGhpcy0+b3V0cHV0UHJvZ3Jlc3MgPSAkb3V0cHV0UHJvZ3Jlc3M7Cn0KCnB1YmxpYyBmdW5jdGlvbiBub3RpZnlJbnN0YWxscyhJT0ludGVyZmFjZSAkaW8pCnsKJHByb21pc2VzID0gYXJyYXkoKTsKCnRyeSB7CmZvcmVhY2ggKCR0aGlzLT5ub3RpZmlhYmxlUGFja2FnZXMgYXMgJHJlcG9VcmwgPT4gJHBhY2thZ2VzKSB7CgppZiAoc3RycG9zKCRyZXBvVXJsLCAnJXBhY2thZ2UlJykpIHsKZm9yZWFjaCAoJHBhY2thZ2VzIGFzICRwYWNrYWdlKSB7CiR1cmwgPSBzdHJfcmVwbGFjZSgnJXBhY2thZ2UlJywgJHBhY2thZ2UtPmdldFByZXR0eU5hbWUoKSwgJHJlcG9VcmwpOwoKJHBhcmFtcyA9IGFycmF5KAondmVyc2lvbicgPT4gJHBhY2thZ2UtPmdldFByZXR0eVZlcnNpb24oKSwKJ3ZlcnNpb25fbm9ybWFsaXplZCcgPT4gJHBhY2thZ2UtPmdldFZlcnNpb24oKSwKKTsKJG9wdHMgPSBhcnJheSgKJ3JldHJ5LWF1dGgtZmFpbHVyZScgPT4gZmFsc2UsCidodHRwJyA9PiBhcnJheSgKJ21ldGhvZCcgPT4gJ1BPU1QnLAonaGVhZGVyJyA9PiBhcnJheSgnQ29udGVudC10eXBlOiBhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnKSwKJ2NvbnRlbnQnID0+IGh0dHBfYnVpbGRfcXVlcnkoJHBhcmFtcywgJycsICcmJyksCid0aW1lb3V0JyA9PiAzLAopLAopOwoKJHByb21pc2VzW10gPSAkdGhpcy0+bG9vcC0+Z2V0SHR0cERvd25sb2FkZXIoKS0+YWRkKCR1cmwsICRvcHRzKTsKfQoKY29udGludWU7Cn0KCiRwb3N0RGF0YSA9IGFycmF5KCdkb3dubG9hZHMnID0+IGFycmF5KCkpOwpmb3JlYWNoICgkcGFja2FnZXMgYXMgJHBhY2thZ2UpIHsKJHBvc3REYXRhWydkb3dubG9hZHMnXVtdID0gYXJyYXkoCiduYW1lJyA9PiAkcGFja2FnZS0+Z2V0UHJldHR5TmFtZSgpLAondmVyc2lvbicgPT4gJHBhY2thZ2UtPmdldFZlcnNpb24oKSwKKTsKfQoKJG9wdHMgPSBhcnJheSgKJ3JldHJ5LWF1dGgtZmFpbHVyZScgPT4gZmFsc2UsCidodHRwJyA9PiBhcnJheSgKJ21ldGhvZCcgPT4gJ1BPU1QnLAonaGVhZGVyJyA9PiBhcnJheSgnQ29udGVudC1UeXBlOiBhcHBsaWNhdGlvbi9qc29uJyksCidjb250ZW50JyA9PiBqc29uX2VuY29kZSgkcG9zdERhdGEpLAondGltZW91dCcgPT4gNiwKKSwKKTsKCiRwcm9taXNlc1tdID0gJHRoaXMtPmxvb3AtPmdldEh0dHBEb3dubG9hZGVyKCktPmFkZCgkcmVwb1VybCwgJG9wdHMpOwp9CgokdGhpcy0+bG9vcC0+d2FpdCgkcHJvbWlzZXMpOwp9IGNhdGNoIChcRXhjZXB0aW9uICRlKSB7Cn0KCiR0aGlzLT5yZXNldCgpOwp9Cgpwcml2YXRlIGZ1bmN0aW9uIG1hcmtGb3JOb3RpZmljYXRpb24oUGFja2FnZUludGVyZmFjZSAkcGFja2FnZSkKewppZiAoJHBhY2thZ2UtPmdldE5vdGlmaWNhdGlvblVybCgpKSB7CiR0aGlzLT5ub3RpZmlhYmxlUGFja2FnZXNbJHBhY2thZ2UtPmdldE5vdGlmaWNhdGlvblVybCgpXVskcGFja2FnZS0+Z2V0TmFtZSgpXSA9ICRwYWNrYWdlOwp9Cn0KfQo8P3BocAoKCgoKCgoKCgoKCm5hbWVzcGFjZSBDb21wb3NlclxJbnN0YWxsZXI7Cgp1c2UgQ29tcG9zZXJcQ29tcG9zZXI7CnVzZSBDb21wb3NlclxEZXBlbmRlbmN5UmVzb2x2ZXJcVHJhbnNhY3Rpb247CnVzZSBDb21wb3NlclxFdmVudERpc3BhdGNoZXJcRXZlbnQ7CnVzZSBDb21wb3NlclxJT1xJT0ludGVyZmFjZTsKCmNsYXNzIEluc3RhbGxlckV2ZW50IGV4dGVuZHMgRXZlbnQKewoKCgpwcml2YXRlICRjb21wb3NlcjsKCgoKCnByaXZhdGUgJGlvOwoKCgoKcHJpdmF0ZSAkZGV2TW9kZTsKCgoKCnByaXZhdGUgJGV4ZWN1dGVPcGVyYXRpb25zOwoKCgoKcHJpdmF0ZSAkdHJhbnNhY3Rpb247CgoKCgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIF9fY29uc3RydWN0KCRldmVudE5hbWUsIENvbXBvc2VyICRjb21wb3NlciwgSU9JbnRlcmZhY2UgJGlvLCAkZGV2TW9kZSwgJGV4ZWN1dGVPcGVyYXRpb25zLCBUcmFuc2FjdGlvbiAkdHJhbnNhY3Rpb24pCnsKcGFyZW50OjpfX2NvbnN0cnVjdCgkZXZlbnROYW1lKTsKCiR0aGlzLT5jb21wb3NlciA9ICRjb21wb3NlcjsKJHRoaXMtPmlvID0gJGlvOwokdGhpcy0+ZGV2TW9kZSA9ICRkZXZNb2RlOwokdGhpcy0+ZXhlY3V0ZU9wZXJhdGlvbnMgPSAkZXhlY3V0ZU9wZXJhdGlvbnM7CiR0aGlzLT50cmFuc2FjdGlvbiA9ICR0cmFuc2FjdGlvbjsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIGdldENvbXBvc2VyKCkKewpyZXR1cm4gJHRoaXMtPmNvbXBvc2VyOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0SU8oKQp7CnJldHVybiAkdGhpcy0+aW87Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBpc0Rldk1vZGUoKQp7CnJldHVybiAkdGhpcy0+ZGV2TW9kZTsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIGlzRXhlY3V0aW5nT3BlcmF0aW9ucygpCnsKcmV0dXJuICR0aGlzLT5leGVjdXRlT3BlcmF0aW9uczsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIGdldFRyYW5zYWN0aW9uKCkKewpyZXR1cm4gJHRoaXMtPnRyYW5zYWN0aW9uOwp9Cn0KPD9waHAKCgoKCgoKCgoKCgpuYW1lc3BhY2UgQ29tcG9zZXJcSW5zdGFsbGVyOwoKY2xhc3MgSW5zdGFsbGVyRXZlbnRzCnsKCgoKCgoKCgpjb25zdCBQUkVfT1BFUkFUSU9OU19FWEVDID0gJ3ByZS1vcGVyYXRpb25zLWV4ZWMnOwp9Cjw/cGhwCgoKCgoKCgoKCgoKbmFtZXNwYWNlIENvbXBvc2VyXEluc3RhbGxlcjsKCnVzZSBDb21wb3NlclxQYWNrYWdlXFBhY2thZ2VJbnRlcmZhY2U7CnVzZSBDb21wb3NlclxSZXBvc2l0b3J5XEluc3RhbGxlZFJlcG9zaXRvcnlJbnRlcmZhY2U7CnVzZSBJbnZhbGlkQXJndW1lbnRFeGNlcHRpb247CnVzZSBSZWFjdFxQcm9taXNlXFByb21pc2VJbnRlcmZhY2U7CgoKCgoKCgppbnRlcmZhY2UgSW5zdGFsbGVySW50ZXJmYWNlCnsKCgoKCgoKcHVibGljIGZ1bmN0aW9uIHN1cHBvcnRzKCRwYWNrYWdlVHlwZSk7CgoKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBpc0luc3RhbGxlZChJbnN0YWxsZWRSZXBvc2l0b3J5SW50ZXJmYWNlICRyZXBvLCBQYWNrYWdlSW50ZXJmYWNlICRwYWNrYWdlKTsKCgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gZG93bmxvYWQoUGFja2FnZUludGVyZmFjZSAkcGFja2FnZSwgUGFja2FnZUludGVyZmFjZSAkcHJldlBhY2thZ2UgPSBudWxsKTsKCgoKCgoKCgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gcHJlcGFyZSgkdHlwZSwgUGFja2FnZUludGVyZmFjZSAkcGFja2FnZSwgUGFja2FnZUludGVyZmFjZSAkcHJldlBhY2thZ2UgPSBudWxsKTsKCgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gaW5zdGFsbChJbnN0YWxsZWRSZXBvc2l0b3J5SW50ZXJmYWNlICRyZXBvLCBQYWNrYWdlSW50ZXJmYWNlICRwYWNrYWdlKTsKCgoKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiB1cGRhdGUoSW5zdGFsbGVkUmVwb3NpdG9yeUludGVyZmFjZSAkcmVwbywgUGFja2FnZUludGVyZmFjZSAkaW5pdGlhbCwgUGFja2FnZUludGVyZmFjZSAkdGFyZ2V0KTsKCgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gdW5pbnN0YWxsKEluc3RhbGxlZFJlcG9zaXRvcnlJbnRlcmZhY2UgJHJlcG8sIFBhY2thZ2VJbnRlcmZhY2UgJHBhY2thZ2UpOwoKCgoKCgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIGNsZWFudXAoJHR5cGUsIFBhY2thZ2VJbnRlcmZhY2UgJHBhY2thZ2UsIFBhY2thZ2VJbnRlcmZhY2UgJHByZXZQYWNrYWdlID0gbnVsbCk7CgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0SW5zdGFsbFBhdGgoUGFja2FnZUludGVyZmFjZSAkcGFja2FnZSk7Cn0KPD9waHAKCgoKCgoKCgoKCgpuYW1lc3BhY2UgQ29tcG9zZXJcSW5zdGFsbGVyOwoKdXNlIENvbXBvc2VyXENvbXBvc2VyOwp1c2UgQ29tcG9zZXJcSU9cSU9JbnRlcmZhY2U7CnVzZSBDb21wb3NlclxSZXBvc2l0b3J5XEluc3RhbGxlZFJlcG9zaXRvcnlJbnRlcmZhY2U7CnVzZSBDb21wb3NlclxQYWNrYWdlXFBhY2thZ2VJbnRlcmZhY2U7CnVzZSBDb21wb3NlclxVdGlsXEZpbGVzeXN0ZW07CnVzZSBDb21wb3NlclxVdGlsXFNpbGVuY2VyOwp1c2UgQ29tcG9zZXJcVXRpbFxQbGF0Zm9ybTsKdXNlIFJlYWN0XFByb21pc2VcUHJvbWlzZUludGVyZmFjZTsKCgoKCgoKCmNsYXNzIExpYnJhcnlJbnN0YWxsZXIgaW1wbGVtZW50cyBJbnN0YWxsZXJJbnRlcmZhY2UsIEJpbmFyeVByZXNlbmNlSW50ZXJmYWNlCnsKcHJvdGVjdGVkICRjb21wb3NlcjsKcHJvdGVjdGVkICR2ZW5kb3JEaXI7CnByb3RlY3RlZCAkYmluRGlyOwpwcm90ZWN0ZWQgJGRvd25sb2FkTWFuYWdlcjsKcHJvdGVjdGVkICRpbzsKcHJvdGVjdGVkICR0eXBlOwpwcm90ZWN0ZWQgJGZpbGVzeXN0ZW07CnByb3RlY3RlZCAkYmluQ29tcGF0Owpwcm90ZWN0ZWQgJGJpbmFyeUluc3RhbGxlcjsKCgoKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBfX2NvbnN0cnVjdChJT0ludGVyZmFjZSAkaW8sIENvbXBvc2VyICRjb21wb3NlciwgJHR5cGUgPSAnbGlicmFyeScsIEZpbGVzeXN0ZW0gJGZpbGVzeXN0ZW0gPSBudWxsLCBCaW5hcnlJbnN0YWxsZXIgJGJpbmFyeUluc3RhbGxlciA9IG51bGwpCnsKJHRoaXMtPmNvbXBvc2VyID0gJGNvbXBvc2VyOwokdGhpcy0+ZG93bmxvYWRNYW5hZ2VyID0gJGNvbXBvc2VyLT5nZXREb3dubG9hZE1hbmFnZXIoKTsKJHRoaXMtPmlvID0gJGlvOwokdGhpcy0+dHlwZSA9ICR0eXBlOwoKJHRoaXMtPmZpbGVzeXN0ZW0gPSAkZmlsZXN5c3RlbSA/OiBuZXcgRmlsZXN5c3RlbSgpOwokdGhpcy0+dmVuZG9yRGlyID0gcnRyaW0oJGNvbXBvc2VyLT5nZXRDb25maWcoKS0+Z2V0KCd2ZW5kb3ItZGlyJyksICcvJyk7CiR0aGlzLT5iaW5hcnlJbnN0YWxsZXIgPSAkYmluYXJ5SW5zdGFsbGVyID86IG5ldyBCaW5hcnlJbnN0YWxsZXIoJHRoaXMtPmlvLCBydHJpbSgkY29tcG9zZXItPmdldENvbmZpZygpLT5nZXQoJ2Jpbi1kaXInKSwgJy8nKSwgJGNvbXBvc2VyLT5nZXRDb25maWcoKS0+Z2V0KCdiaW4tY29tcGF0JyksICR0aGlzLT5maWxlc3lzdGVtKTsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIHN1cHBvcnRzKCRwYWNrYWdlVHlwZSkKewpyZXR1cm4gJHBhY2thZ2VUeXBlID09PSAkdGhpcy0+dHlwZSB8fCBudWxsID09PSAkdGhpcy0+dHlwZTsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIGlzSW5zdGFsbGVkKEluc3RhbGxlZFJlcG9zaXRvcnlJbnRlcmZhY2UgJHJlcG8sIFBhY2thZ2VJbnRlcmZhY2UgJHBhY2thZ2UpCnsKaWYgKCEkcmVwby0+aGFzUGFja2FnZSgkcGFja2FnZSkpIHsKcmV0dXJuIGZhbHNlOwp9CgokaW5zdGFsbFBhdGggPSAkdGhpcy0+Z2V0SW5zdGFsbFBhdGgoJHBhY2thZ2UpOwoKaWYgKEZpbGVzeXN0ZW06OmlzUmVhZGFibGUoJGluc3RhbGxQYXRoKSkgewpyZXR1cm4gdHJ1ZTsKfQoKcmV0dXJuIChQbGF0Zm9ybTo6aXNXaW5kb3dzKCkgJiYgJHRoaXMtPmZpbGVzeXN0ZW0tPmlzSnVuY3Rpb24oJGluc3RhbGxQYXRoKSkgfHwgaXNfbGluaygkaW5zdGFsbFBhdGgpOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gZG93bmxvYWQoUGFja2FnZUludGVyZmFjZSAkcGFja2FnZSwgUGFja2FnZUludGVyZmFjZSAkcHJldlBhY2thZ2UgPSBudWxsKQp7CiR0aGlzLT5pbml0aWFsaXplVmVuZG9yRGlyKCk7CiRkb3dubG9hZFBhdGggPSAkdGhpcy0+Z2V0SW5zdGFsbFBhdGgoJHBhY2thZ2UpOwoKcmV0dXJuICR0aGlzLT5kb3dubG9hZE1hbmFnZXItPmRvd25sb2FkKCRwYWNrYWdlLCAkZG93bmxvYWRQYXRoLCAkcHJldlBhY2thZ2UpOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gcHJlcGFyZSgkdHlwZSwgUGFja2FnZUludGVyZmFjZSAkcGFja2FnZSwgUGFja2FnZUludGVyZmFjZSAkcHJldlBhY2thZ2UgPSBudWxsKQp7CiR0aGlzLT5pbml0aWFsaXplVmVuZG9yRGlyKCk7CiRkb3dubG9hZFBhdGggPSAkdGhpcy0+Z2V0SW5zdGFsbFBhdGgoJHBhY2thZ2UpOwoKcmV0dXJuICR0aGlzLT5kb3dubG9hZE1hbmFnZXItPnByZXBhcmUoJHR5cGUsICRwYWNrYWdlLCAkZG93bmxvYWRQYXRoLCAkcHJldlBhY2thZ2UpOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gY2xlYW51cCgkdHlwZSwgUGFja2FnZUludGVyZmFjZSAkcGFja2FnZSwgUGFja2FnZUludGVyZmFjZSAkcHJldlBhY2thZ2UgPSBudWxsKQp7CiR0aGlzLT5pbml0aWFsaXplVmVuZG9yRGlyKCk7CiRkb3dubG9hZFBhdGggPSAkdGhpcy0+Z2V0SW5zdGFsbFBhdGgoJHBhY2thZ2UpOwoKcmV0dXJuICR0aGlzLT5kb3dubG9hZE1hbmFnZXItPmNsZWFudXAoJHR5cGUsICRwYWNrYWdlLCAkZG93bmxvYWRQYXRoLCAkcHJldlBhY2thZ2UpOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gaW5zdGFsbChJbnN0YWxsZWRSZXBvc2l0b3J5SW50ZXJmYWNlICRyZXBvLCBQYWNrYWdlSW50ZXJmYWNlICRwYWNrYWdlKQp7CiR0aGlzLT5pbml0aWFsaXplVmVuZG9yRGlyKCk7CiRkb3dubG9hZFBhdGggPSAkdGhpcy0+Z2V0SW5zdGFsbFBhdGgoJHBhY2thZ2UpOwoKCmlmICghRmlsZXN5c3RlbTo6aXNSZWFkYWJsZSgkZG93bmxvYWRQYXRoKSAmJiAkcmVwby0+aGFzUGFja2FnZSgkcGFja2FnZSkpIHsKJHRoaXMtPmJpbmFyeUluc3RhbGxlci0+cmVtb3ZlQmluYXJpZXMoJHBhY2thZ2UpOwp9CgokcHJvbWlzZSA9ICR0aGlzLT5pbnN0YWxsQ29kZSgkcGFja2FnZSk7CmlmICghJHByb21pc2UgaW5zdGFuY2VvZiBQcm9taXNlSW50ZXJmYWNlKSB7CiRwcm9taXNlID0gXFJlYWN0XFByb21pc2VccmVzb2x2ZSgpOwp9CgokYmluYXJ5SW5zdGFsbGVyID0gJHRoaXMtPmJpbmFyeUluc3RhbGxlcjsKJGluc3RhbGxQYXRoID0gJHRoaXMtPmdldEluc3RhbGxQYXRoKCRwYWNrYWdlKTsKCnJldHVybiAkcHJvbWlzZS0+dGhlbihmdW5jdGlvbiAoKSB1c2UgKCRiaW5hcnlJbnN0YWxsZXIsICRpbnN0YWxsUGF0aCwgJHBhY2thZ2UsICRyZXBvKSB7CiRiaW5hcnlJbnN0YWxsZXItPmluc3RhbGxCaW5hcmllcygkcGFja2FnZSwgJGluc3RhbGxQYXRoKTsKaWYgKCEkcmVwby0+aGFzUGFja2FnZSgkcGFja2FnZSkpIHsKJHJlcG8tPmFkZFBhY2thZ2UoY2xvbmUgJHBhY2thZ2UpOwp9Cn0pOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gdXBkYXRlKEluc3RhbGxlZFJlcG9zaXRvcnlJbnRlcmZhY2UgJHJlcG8sIFBhY2thZ2VJbnRlcmZhY2UgJGluaXRpYWwsIFBhY2thZ2VJbnRlcmZhY2UgJHRhcmdldCkKewppZiAoISRyZXBvLT5oYXNQYWNrYWdlKCRpbml0aWFsKSkgewp0aHJvdyBuZXcgXEludmFsaWRBcmd1bWVudEV4Y2VwdGlvbignUGFja2FnZSBpcyBub3QgaW5zdGFsbGVkOiAnLiRpbml0aWFsKTsKfQoKJHRoaXMtPmluaXRpYWxpemVWZW5kb3JEaXIoKTsKCiR0aGlzLT5iaW5hcnlJbnN0YWxsZXItPnJlbW92ZUJpbmFyaWVzKCRpbml0aWFsKTsKJHByb21pc2UgPSAkdGhpcy0+dXBkYXRlQ29kZSgkaW5pdGlhbCwgJHRhcmdldCk7CmlmICghJHByb21pc2UgaW5zdGFuY2VvZiBQcm9taXNlSW50ZXJmYWNlKSB7CiRwcm9taXNlID0gXFJlYWN0XFByb21pc2VccmVzb2x2ZSgpOwp9CgokYmluYXJ5SW5zdGFsbGVyID0gJHRoaXMtPmJpbmFyeUluc3RhbGxlcjsKJGluc3RhbGxQYXRoID0gJHRoaXMtPmdldEluc3RhbGxQYXRoKCR0YXJnZXQpOwoKcmV0dXJuICRwcm9taXNlLT50aGVuKGZ1bmN0aW9uICgpIHVzZSAoJGJpbmFyeUluc3RhbGxlciwgJGluc3RhbGxQYXRoLCAkdGFyZ2V0LCAkaW5pdGlhbCwgJHJlcG8pIHsKJGJpbmFyeUluc3RhbGxlci0+aW5zdGFsbEJpbmFyaWVzKCR0YXJnZXQsICRpbnN0YWxsUGF0aCk7CiRyZXBvLT5yZW1vdmVQYWNrYWdlKCRpbml0aWFsKTsKaWYgKCEkcmVwby0+aGFzUGFja2FnZSgkdGFyZ2V0KSkgewokcmVwby0+YWRkUGFja2FnZShjbG9uZSAkdGFyZ2V0KTsKfQp9KTsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIHVuaW5zdGFsbChJbnN0YWxsZWRSZXBvc2l0b3J5SW50ZXJmYWNlICRyZXBvLCBQYWNrYWdlSW50ZXJmYWNlICRwYWNrYWdlKQp7CmlmICghJHJlcG8tPmhhc1BhY2thZ2UoJHBhY2thZ2UpKSB7CnRocm93IG5ldyBcSW52YWxpZEFyZ3VtZW50RXhjZXB0aW9uKCdQYWNrYWdlIGlzIG5vdCBpbnN0YWxsZWQ6ICcuJHBhY2thZ2UpOwp9CgokcHJvbWlzZSA9ICR0aGlzLT5yZW1vdmVDb2RlKCRwYWNrYWdlKTsKaWYgKCEkcHJvbWlzZSBpbnN0YW5jZW9mIFByb21pc2VJbnRlcmZhY2UpIHsKJHByb21pc2UgPSBcUmVhY3RcUHJvbWlzZVxyZXNvbHZlKCk7Cn0KCiRiaW5hcnlJbnN0YWxsZXIgPSAkdGhpcy0+YmluYXJ5SW5zdGFsbGVyOwokZG93bmxvYWRQYXRoID0gJHRoaXMtPmdldFBhY2thZ2VCYXNlUGF0aCgkcGFja2FnZSk7CiRmaWxlc3lzdGVtID0gJHRoaXMtPmZpbGVzeXN0ZW07CgpyZXR1cm4gJHByb21pc2UtPnRoZW4oZnVuY3Rpb24gKCkgdXNlICgkYmluYXJ5SW5zdGFsbGVyLCAkZmlsZXN5c3RlbSwgJGRvd25sb2FkUGF0aCwgJHBhY2thZ2UsICRyZXBvKSB7CiRiaW5hcnlJbnN0YWxsZXItPnJlbW92ZUJpbmFyaWVzKCRwYWNrYWdlKTsKJHJlcG8tPnJlbW92ZVBhY2thZ2UoJHBhY2thZ2UpOwoKaWYgKHN0cnBvcygkcGFja2FnZS0+Z2V0TmFtZSgpLCAnLycpKSB7CiRwYWNrYWdlVmVuZG9yRGlyID0gZGlybmFtZSgkZG93bmxvYWRQYXRoKTsKaWYgKGlzX2RpcigkcGFja2FnZVZlbmRvckRpcikgJiYgJGZpbGVzeXN0ZW0tPmlzRGlyRW1wdHkoJHBhY2thZ2VWZW5kb3JEaXIpKSB7ClNpbGVuY2VyOjpjYWxsKCdybWRpcicsICRwYWNrYWdlVmVuZG9yRGlyKTsKfQp9Cn0pOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0SW5zdGFsbFBhdGgoUGFja2FnZUludGVyZmFjZSAkcGFja2FnZSkKewokdGhpcy0+aW5pdGlhbGl6ZVZlbmRvckRpcigpOwoKJGJhc2VQYXRoID0gKCR0aGlzLT52ZW5kb3JEaXIgPyAkdGhpcy0+dmVuZG9yRGlyLicvJyA6ICcnKSAuICRwYWNrYWdlLT5nZXRQcmV0dHlOYW1lKCk7CiR0YXJnZXREaXIgPSAkcGFja2FnZS0+Z2V0VGFyZ2V0RGlyKCk7CgpyZXR1cm4gJGJhc2VQYXRoIC4gKCR0YXJnZXREaXIgPyAnLycuJHRhcmdldERpciA6ICcnKTsKfQoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gZW5zdXJlQmluYXJpZXNQcmVzZW5jZShQYWNrYWdlSW50ZXJmYWNlICRwYWNrYWdlKQp7CiR0aGlzLT5iaW5hcnlJbnN0YWxsZXItPmluc3RhbGxCaW5hcmllcygkcGFja2FnZSwgJHRoaXMtPmdldEluc3RhbGxQYXRoKCRwYWNrYWdlKSwgZmFsc2UpOwp9CgoKCgoKCgoKCgpwcm90ZWN0ZWQgZnVuY3Rpb24gZ2V0UGFja2FnZUJhc2VQYXRoKFBhY2thZ2VJbnRlcmZhY2UgJHBhY2thZ2UpCnsKJGluc3RhbGxQYXRoID0gJHRoaXMtPmdldEluc3RhbGxQYXRoKCRwYWNrYWdlKTsKJHRhcmdldERpciA9ICRwYWNrYWdlLT5nZXRUYXJnZXREaXIoKTsKCmlmICgkdGFyZ2V0RGlyKSB7CnJldHVybiBwcmVnX3JlcGxhY2UoJ3svKicuc3RyX3JlcGxhY2UoJy8nLCAnLysnLCBwcmVnX3F1b3RlKCR0YXJnZXREaXIpKS4nLz8kfScsICcnLCAkaW5zdGFsbFBhdGgpOwp9CgpyZXR1cm4gJGluc3RhbGxQYXRoOwp9Cgpwcm90ZWN0ZWQgZnVuY3Rpb24gaW5zdGFsbENvZGUoUGFja2FnZUludGVyZmFjZSAkcGFja2FnZSkKewokZG93bmxvYWRQYXRoID0gJHRoaXMtPmdldEluc3RhbGxQYXRoKCRwYWNrYWdlKTsKCnJldHVybiAkdGhpcy0+ZG93bmxvYWRNYW5hZ2VyLT5pbnN0YWxsKCRwYWNrYWdlLCAkZG93bmxvYWRQYXRoKTsKfQoKcHJvdGVjdGVkIGZ1bmN0aW9uIHVwZGF0ZUNvZGUoUGFja2FnZUludGVyZmFjZSAkaW5pdGlhbCwgUGFja2FnZUludGVyZmFjZSAkdGFyZ2V0KQp7CiRpbml0aWFsRG93bmxvYWRQYXRoID0gJHRoaXMtPmdldEluc3RhbGxQYXRoKCRpbml0aWFsKTsKJHRhcmdldERvd25sb2FkUGF0aCA9ICR0aGlzLT5nZXRJbnN0YWxsUGF0aCgkdGFyZ2V0KTsKaWYgKCR0YXJnZXREb3dubG9hZFBhdGggIT09ICRpbml0aWFsRG93bmxvYWRQYXRoKSB7CgoKaWYgKHN0cnBvcygkaW5pdGlhbERvd25sb2FkUGF0aCwgJHRhcmdldERvd25sb2FkUGF0aCkgPT09IDAKfHwgc3RycG9zKCR0YXJnZXREb3dubG9hZFBhdGgsICRpbml0aWFsRG93bmxvYWRQYXRoKSA9PT0gMAopIHsKJHByb21pc2UgPSAkdGhpcy0+cmVtb3ZlQ29kZSgkaW5pdGlhbCk7CmlmICghJHByb21pc2UgaW5zdGFuY2VvZiBQcm9taXNlSW50ZXJmYWNlKSB7CiRwcm9taXNlID0gXFJlYWN0XFByb21pc2VccmVzb2x2ZSgpOwp9Cgokc2VsZiA9ICR0aGlzOwoKcmV0dXJuICRwcm9taXNlLT50aGVuKGZ1bmN0aW9uICgpIHVzZSAoJHNlbGYsICR0YXJnZXQpIHsKJHJlZmxNZXRob2QgPSBuZXcgXFJlZmxlY3Rpb25NZXRob2QoJHNlbGYsICdpbnN0YWxsQ29kZScpOwokcmVmbE1ldGhvZC0+c2V0QWNjZXNzaWJsZSh0cnVlKTsKCgoKcmV0dXJuICRyZWZsTWV0aG9kLT5pbnZva2UoJHNlbGYsICR0YXJnZXQpOwp9KTsKfQoKJHRoaXMtPmZpbGVzeXN0ZW0tPnJlbmFtZSgkaW5pdGlhbERvd25sb2FkUGF0aCwgJHRhcmdldERvd25sb2FkUGF0aCk7Cn0KCnJldHVybiAkdGhpcy0+ZG93bmxvYWRNYW5hZ2VyLT51cGRhdGUoJGluaXRpYWwsICR0YXJnZXQsICR0YXJnZXREb3dubG9hZFBhdGgpOwp9Cgpwcm90ZWN0ZWQgZnVuY3Rpb24gcmVtb3ZlQ29kZShQYWNrYWdlSW50ZXJmYWNlICRwYWNrYWdlKQp7CiRkb3dubG9hZFBhdGggPSAkdGhpcy0+Z2V0UGFja2FnZUJhc2VQYXRoKCRwYWNrYWdlKTsKCnJldHVybiAkdGhpcy0+ZG93bmxvYWRNYW5hZ2VyLT5yZW1vdmUoJHBhY2thZ2UsICRkb3dubG9hZFBhdGgpOwp9Cgpwcm90ZWN0ZWQgZnVuY3Rpb24gaW5pdGlhbGl6ZVZlbmRvckRpcigpCnsKJHRoaXMtPmZpbGVzeXN0ZW0tPmVuc3VyZURpcmVjdG9yeUV4aXN0cygkdGhpcy0+dmVuZG9yRGlyKTsKJHRoaXMtPnZlbmRvckRpciA9IHJlYWxwYXRoKCR0aGlzLT52ZW5kb3JEaXIpOwp9Cn0KPD9waHAKCgoKCgoKCgoKCgpuYW1lc3BhY2UgQ29tcG9zZXJcSW5zdGFsbGVyOwoKdXNlIENvbXBvc2VyXFJlcG9zaXRvcnlcSW5zdGFsbGVkUmVwb3NpdG9yeUludGVyZmFjZTsKdXNlIENvbXBvc2VyXFBhY2thZ2VcUGFja2FnZUludGVyZmFjZTsKdXNlIENvbXBvc2VyXElPXElPSW50ZXJmYWNlOwp1c2UgQ29tcG9zZXJcRGVwZW5kZW5jeVJlc29sdmVyXE9wZXJhdGlvblxVcGRhdGVPcGVyYXRpb247CnVzZSBDb21wb3NlclxEZXBlbmRlbmN5UmVzb2x2ZXJcT3BlcmF0aW9uXEluc3RhbGxPcGVyYXRpb247CnVzZSBDb21wb3NlclxEZXBlbmRlbmN5UmVzb2x2ZXJcT3BlcmF0aW9uXFVuaW5zdGFsbE9wZXJhdGlvbjsKCgoKCgoKY2xhc3MgTWV0YXBhY2thZ2VJbnN0YWxsZXIgaW1wbGVtZW50cyBJbnN0YWxsZXJJbnRlcmZhY2UKewpwcml2YXRlICRpbzsKCnB1YmxpYyBmdW5jdGlvbiBfX2NvbnN0cnVjdChJT0ludGVyZmFjZSAkaW8pCnsKJHRoaXMtPmlvID0gJGlvOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gc3VwcG9ydHMoJHBhY2thZ2VUeXBlKQp7CnJldHVybiAkcGFja2FnZVR5cGUgPT09ICdtZXRhcGFja2FnZSc7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBpc0luc3RhbGxlZChJbnN0YWxsZWRSZXBvc2l0b3J5SW50ZXJmYWNlICRyZXBvLCBQYWNrYWdlSW50ZXJmYWNlICRwYWNrYWdlKQp7CnJldHVybiAkcmVwby0+aGFzUGFja2FnZSgkcGFja2FnZSk7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBkb3dubG9hZChQYWNrYWdlSW50ZXJmYWNlICRwYWNrYWdlLCBQYWNrYWdlSW50ZXJmYWNlICRwcmV2UGFja2FnZSA9IG51bGwpCnsKCnJldHVybiBcUmVhY3RcUHJvbWlzZVxyZXNvbHZlKCk7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBwcmVwYXJlKCR0eXBlLCBQYWNrYWdlSW50ZXJmYWNlICRwYWNrYWdlLCBQYWNrYWdlSW50ZXJmYWNlICRwcmV2UGFja2FnZSA9IG51bGwpCnsKCnJldHVybiBcUmVhY3RcUHJvbWlzZVxyZXNvbHZlKCk7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBjbGVhbnVwKCR0eXBlLCBQYWNrYWdlSW50ZXJmYWNlICRwYWNrYWdlLCBQYWNrYWdlSW50ZXJmYWNlICRwcmV2UGFja2FnZSA9IG51bGwpCnsKCnJldHVybiBcUmVhY3RcUHJvbWlzZVxyZXNvbHZlKCk7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBpbnN0YWxsKEluc3RhbGxlZFJlcG9zaXRvcnlJbnRlcmZhY2UgJHJlcG8sIFBhY2thZ2VJbnRlcmZhY2UgJHBhY2thZ2UpCnsKJHRoaXMtPmlvLT53cml0ZUVycm9yKCIgIC0gIiAuIEluc3RhbGxPcGVyYXRpb246OmZvcm1hdCgkcGFja2FnZSkpOwoKJHJlcG8tPmFkZFBhY2thZ2UoY2xvbmUgJHBhY2thZ2UpOwoKcmV0dXJuIFxSZWFjdFxQcm9taXNlXHJlc29sdmUoKTsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIHVwZGF0ZShJbnN0YWxsZWRSZXBvc2l0b3J5SW50ZXJmYWNlICRyZXBvLCBQYWNrYWdlSW50ZXJmYWNlICRpbml0aWFsLCBQYWNrYWdlSW50ZXJmYWNlICR0YXJnZXQpCnsKaWYgKCEkcmVwby0+aGFzUGFja2FnZSgkaW5pdGlhbCkpIHsKdGhyb3cgbmV3IFxJbnZhbGlkQXJndW1lbnRFeGNlcHRpb24oJ1BhY2thZ2UgaXMgbm90IGluc3RhbGxlZDogJy4kaW5pdGlhbCk7Cn0KCiR0aGlzLT5pby0+d3JpdGVFcnJvcigiICAtICIgLiBVcGRhdGVPcGVyYXRpb246OmZvcm1hdCgkaW5pdGlhbCwgJHRhcmdldCkpOwoKJHJlcG8tPnJlbW92ZVBhY2thZ2UoJGluaXRpYWwpOwokcmVwby0+YWRkUGFja2FnZShjbG9uZSAkdGFyZ2V0KTsKCnJldHVybiBcUmVhY3RcUHJvbWlzZVxyZXNvbHZlKCk7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiB1bmluc3RhbGwoSW5zdGFsbGVkUmVwb3NpdG9yeUludGVyZmFjZSAkcmVwbywgUGFja2FnZUludGVyZmFjZSAkcGFja2FnZSkKewppZiAoISRyZXBvLT5oYXNQYWNrYWdlKCRwYWNrYWdlKSkgewp0aHJvdyBuZXcgXEludmFsaWRBcmd1bWVudEV4Y2VwdGlvbignUGFja2FnZSBpcyBub3QgaW5zdGFsbGVkOiAnLiRwYWNrYWdlKTsKfQoKJHRoaXMtPmlvLT53cml0ZUVycm9yKCIgIC0gIiAuIFVuaW5zdGFsbE9wZXJhdGlvbjo6Zm9ybWF0KCRwYWNrYWdlKSk7CgokcmVwby0+cmVtb3ZlUGFja2FnZSgkcGFja2FnZSk7CgpyZXR1cm4gXFJlYWN0XFByb21pc2VccmVzb2x2ZSgpOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0SW5zdGFsbFBhdGgoUGFja2FnZUludGVyZmFjZSAkcGFja2FnZSkKewpyZXR1cm4gJyc7Cn0KfQo8P3BocAoKCgoKCgoKCgoKCm5hbWVzcGFjZSBDb21wb3NlclxJbnN0YWxsZXI7Cgp1c2UgQ29tcG9zZXJcUmVwb3NpdG9yeVxJbnN0YWxsZWRSZXBvc2l0b3J5SW50ZXJmYWNlOwp1c2UgQ29tcG9zZXJcUGFja2FnZVxQYWNrYWdlSW50ZXJmYWNlOwoKCgoKCgoKCmNsYXNzIE5vb3BJbnN0YWxsZXIgaW1wbGVtZW50cyBJbnN0YWxsZXJJbnRlcmZhY2UKewoKCgpwdWJsaWMgZnVuY3Rpb24gc3VwcG9ydHMoJHBhY2thZ2VUeXBlKQp7CnJldHVybiB0cnVlOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gaXNJbnN0YWxsZWQoSW5zdGFsbGVkUmVwb3NpdG9yeUludGVyZmFjZSAkcmVwbywgUGFja2FnZUludGVyZmFjZSAkcGFja2FnZSkKewpyZXR1cm4gJHJlcG8tPmhhc1BhY2thZ2UoJHBhY2thZ2UpOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gZG93bmxvYWQoUGFja2FnZUludGVyZmFjZSAkcGFja2FnZSwgUGFja2FnZUludGVyZmFjZSAkcHJldlBhY2thZ2UgPSBudWxsKQp7CnJldHVybiBcUmVhY3RcUHJvbWlzZVxyZXNvbHZlKCk7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBwcmVwYXJlKCR0eXBlLCBQYWNrYWdlSW50ZXJmYWNlICRwYWNrYWdlLCBQYWNrYWdlSW50ZXJmYWNlICRwcmV2UGFja2FnZSA9IG51bGwpCnsKcmV0dXJuIFxSZWFjdFxQcm9taXNlXHJlc29sdmUoKTsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIGNsZWFudXAoJHR5cGUsIFBhY2thZ2VJbnRlcmZhY2UgJHBhY2thZ2UsIFBhY2thZ2VJbnRlcmZhY2UgJHByZXZQYWNrYWdlID0gbnVsbCkKewpyZXR1cm4gXFJlYWN0XFByb21pc2VccmVzb2x2ZSgpOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gaW5zdGFsbChJbnN0YWxsZWRSZXBvc2l0b3J5SW50ZXJmYWNlICRyZXBvLCBQYWNrYWdlSW50ZXJmYWNlICRwYWNrYWdlKQp7CmlmICghJHJlcG8tPmhhc1BhY2thZ2UoJHBhY2thZ2UpKSB7CiRyZXBvLT5hZGRQYWNrYWdlKGNsb25lICRwYWNrYWdlKTsKfQoKcmV0dXJuIFxSZWFjdFxQcm9taXNlXHJlc29sdmUoKTsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIHVwZGF0ZShJbnN0YWxsZWRSZXBvc2l0b3J5SW50ZXJmYWNlICRyZXBvLCBQYWNrYWdlSW50ZXJmYWNlICRpbml0aWFsLCBQYWNrYWdlSW50ZXJmYWNlICR0YXJnZXQpCnsKaWYgKCEkcmVwby0+aGFzUGFja2FnZSgkaW5pdGlhbCkpIHsKdGhyb3cgbmV3IFxJbnZhbGlkQXJndW1lbnRFeGNlcHRpb24oJ1BhY2thZ2UgaXMgbm90IGluc3RhbGxlZDogJy4kaW5pdGlhbCk7Cn0KCiRyZXBvLT5yZW1vdmVQYWNrYWdlKCRpbml0aWFsKTsKaWYgKCEkcmVwby0+aGFzUGFja2FnZSgkdGFyZ2V0KSkgewokcmVwby0+YWRkUGFja2FnZShjbG9uZSAkdGFyZ2V0KTsKfQoKcmV0dXJuIFxSZWFjdFxQcm9taXNlXHJlc29sdmUoKTsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIHVuaW5zdGFsbChJbnN0YWxsZWRSZXBvc2l0b3J5SW50ZXJmYWNlICRyZXBvLCBQYWNrYWdlSW50ZXJmYWNlICRwYWNrYWdlKQp7CmlmICghJHJlcG8tPmhhc1BhY2thZ2UoJHBhY2thZ2UpKSB7CnRocm93IG5ldyBcSW52YWxpZEFyZ3VtZW50RXhjZXB0aW9uKCdQYWNrYWdlIGlzIG5vdCBpbnN0YWxsZWQ6ICcuJHBhY2thZ2UpOwp9CiRyZXBvLT5yZW1vdmVQYWNrYWdlKCRwYWNrYWdlKTsKCnJldHVybiBcUmVhY3RcUHJvbWlzZVxyZXNvbHZlKCk7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBnZXRJbnN0YWxsUGF0aChQYWNrYWdlSW50ZXJmYWNlICRwYWNrYWdlKQp7CiR0YXJnZXREaXIgPSAkcGFja2FnZS0+Z2V0VGFyZ2V0RGlyKCk7CgpyZXR1cm4gJHBhY2thZ2UtPmdldFByZXR0eU5hbWUoKSAuICgkdGFyZ2V0RGlyID8gJy8nLiR0YXJnZXREaXIgOiAnJyk7Cn0KfQo8P3BocAoKCgoKCgoKCgoKCm5hbWVzcGFjZSBDb21wb3NlclxJbnN0YWxsZXI7Cgp1c2UgQ29tcG9zZXJcQ29tcG9zZXI7CnVzZSBDb21wb3NlclxJT1xJT0ludGVyZmFjZTsKdXNlIENvbXBvc2VyXERlcGVuZGVuY3lSZXNvbHZlclxPcGVyYXRpb25cT3BlcmF0aW9uSW50ZXJmYWNlOwp1c2UgQ29tcG9zZXJcUmVwb3NpdG9yeVxSZXBvc2l0b3J5SW50ZXJmYWNlOwp1c2UgQ29tcG9zZXJcRXZlbnREaXNwYXRjaGVyXEV2ZW50OwoKCgoKCgpjbGFzcyBQYWNrYWdlRXZlbnQgZXh0ZW5kcyBFdmVudAp7CgoKCnByaXZhdGUgJGNvbXBvc2VyOwoKCgoKcHJpdmF0ZSAkaW87CgoKCgpwcml2YXRlICRkZXZNb2RlOwoKCgoKcHJpdmF0ZSAkbG9jYWxSZXBvOwoKCgoKcHJpdmF0ZSAkb3BlcmF0aW9uczsKCgoKCnByaXZhdGUgJG9wZXJhdGlvbjsKCgoKCgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIF9fY29uc3RydWN0KCRldmVudE5hbWUsIENvbXBvc2VyICRjb21wb3NlciwgSU9JbnRlcmZhY2UgJGlvLCAkZGV2TW9kZSwgUmVwb3NpdG9yeUludGVyZmFjZSAkbG9jYWxSZXBvLCBhcnJheSAkb3BlcmF0aW9ucywgT3BlcmF0aW9uSW50ZXJmYWNlICRvcGVyYXRpb24pCnsKcGFyZW50OjpfX2NvbnN0cnVjdCgkZXZlbnROYW1lKTsKCiR0aGlzLT5jb21wb3NlciA9ICRjb21wb3NlcjsKJHRoaXMtPmlvID0gJGlvOwokdGhpcy0+ZGV2TW9kZSA9ICRkZXZNb2RlOwokdGhpcy0+bG9jYWxSZXBvID0gJGxvY2FsUmVwbzsKJHRoaXMtPm9wZXJhdGlvbnMgPSAkb3BlcmF0aW9uczsKJHRoaXMtPm9wZXJhdGlvbiA9ICRvcGVyYXRpb247Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBnZXRDb21wb3NlcigpCnsKcmV0dXJuICR0aGlzLT5jb21wb3NlcjsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIGdldElPKCkKewpyZXR1cm4gJHRoaXMtPmlvOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gaXNEZXZNb2RlKCkKewpyZXR1cm4gJHRoaXMtPmRldk1vZGU7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBnZXRMb2NhbFJlcG8oKQp7CnJldHVybiAkdGhpcy0+bG9jYWxSZXBvOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0T3BlcmF0aW9ucygpCnsKcmV0dXJuICR0aGlzLT5vcGVyYXRpb25zOwp9CgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBnZXRPcGVyYXRpb24oKQp7CnJldHVybiAkdGhpcy0+b3BlcmF0aW9uOwp9Cn0KPD9waHAKCgoKCgoKCgoKCgpuYW1lc3BhY2UgQ29tcG9zZXJcSW5zdGFsbGVyOwoKCgoKCgpjbGFzcyBQYWNrYWdlRXZlbnRzCnsKCgoKCgoKCmNvbnN0IFBSRV9QQUNLQUdFX0lOU1RBTEwgPSAncHJlLXBhY2thZ2UtaW5zdGFsbCc7CgoKCgoKCgoKY29uc3QgUE9TVF9QQUNLQUdFX0lOU1RBTEwgPSAncG9zdC1wYWNrYWdlLWluc3RhbGwnOwoKCgoKCgoKCmNvbnN0IFBSRV9QQUNLQUdFX1VQREFURSA9ICdwcmUtcGFja2FnZS11cGRhdGUnOwoKCgoKCgoKCmNvbnN0IFBPU1RfUEFDS0FHRV9VUERBVEUgPSAncG9zdC1wYWNrYWdlLXVwZGF0ZSc7CgoKCgoKCgoKY29uc3QgUFJFX1BBQ0tBR0VfVU5JTlNUQUxMID0gJ3ByZS1wYWNrYWdlLXVuaW5zdGFsbCc7CgoKCgoKCgoKY29uc3QgUE9TVF9QQUNLQUdFX1VOSU5TVEFMTCA9ICdwb3N0LXBhY2thZ2UtdW5pbnN0YWxsJzsKfQo8P3BocAoKCgoKCgoKCgoKCm5hbWVzcGFjZSBDb21wb3NlclxJbnN0YWxsZXI7Cgp1c2UgQ29tcG9zZXJcQ29tcG9zZXI7CnVzZSBDb21wb3NlclxJT1xJT0ludGVyZmFjZTsKdXNlIENvbXBvc2VyXFJlcG9zaXRvcnlcSW5zdGFsbGVkUmVwb3NpdG9yeUludGVyZmFjZTsKdXNlIENvbXBvc2VyXFBhY2thZ2VcUGFja2FnZUludGVyZmFjZTsKdXNlIENvbXBvc2VyXFV0aWxcRmlsZXN5c3RlbTsKdXNlIENvbXBvc2VyXFV0aWxcUGxhdGZvcm07CnVzZSBSZWFjdFxQcm9taXNlXFByb21pc2VJbnRlcmZhY2U7CgoKCgoKCgpjbGFzcyBQbHVnaW5JbnN0YWxsZXIgZXh0ZW5kcyBMaWJyYXJ5SW5zdGFsbGVyCnsKCgoKCgoKcHVibGljIGZ1bmN0aW9uIF9fY29uc3RydWN0KElPSW50ZXJmYWNlICRpbywgQ29tcG9zZXIgJGNvbXBvc2VyLCBGaWxlc3lzdGVtICRmcyA9IG51bGwsIEJpbmFyeUluc3RhbGxlciAkYmluYXJ5SW5zdGFsbGVyID0gbnVsbCkKewpwYXJlbnQ6Ol9fY29uc3RydWN0KCRpbywgJGNvbXBvc2VyLCAnY29tcG9zZXItcGx1Z2luJywgJGZzLCAkYmluYXJ5SW5zdGFsbGVyKTsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIHN1cHBvcnRzKCRwYWNrYWdlVHlwZSkKewpyZXR1cm4gJHBhY2thZ2VUeXBlID09PSAnY29tcG9zZXItcGx1Z2luJyB8fCAkcGFja2FnZVR5cGUgPT09ICdjb21wb3Nlci1pbnN0YWxsZXInOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gZG93bmxvYWQoUGFja2FnZUludGVyZmFjZSAkcGFja2FnZSwgUGFja2FnZUludGVyZmFjZSAkcHJldlBhY2thZ2UgPSBudWxsKQp7CiRleHRyYSA9ICRwYWNrYWdlLT5nZXRFeHRyYSgpOwppZiAoZW1wdHkoJGV4dHJhWydjbGFzcyddKSkgewp0aHJvdyBuZXcgXFVuZXhwZWN0ZWRWYWx1ZUV4Y2VwdGlvbignRXJyb3Igd2hpbGUgaW5zdGFsbGluZyAnLiRwYWNrYWdlLT5nZXRQcmV0dHlOYW1lKCkuJywgY29tcG9zZXItcGx1Z2luIHBhY2thZ2VzIHNob3VsZCBoYXZlIGEgY2xhc3MgZGVmaW5lZCBpbiB0aGVpciBleHRyYSBrZXkgdG8gYmUgdXNhYmxlLicpOwp9CgpyZXR1cm4gcGFyZW50Ojpkb3dubG9hZCgkcGFja2FnZSwgJHByZXZQYWNrYWdlKTsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIGluc3RhbGwoSW5zdGFsbGVkUmVwb3NpdG9yeUludGVyZmFjZSAkcmVwbywgUGFja2FnZUludGVyZmFjZSAkcGFja2FnZSkKewokcHJvbWlzZSA9IHBhcmVudDo6aW5zdGFsbCgkcmVwbywgJHBhY2thZ2UpOwppZiAoISRwcm9taXNlIGluc3RhbmNlb2YgUHJvbWlzZUludGVyZmFjZSkgewokcHJvbWlzZSA9IFxSZWFjdFxQcm9taXNlXHJlc29sdmUoKTsKfQoKJHBsdWdpbk1hbmFnZXIgPSAkdGhpcy0+Y29tcG9zZXItPmdldFBsdWdpbk1hbmFnZXIoKTsKJHNlbGYgPSAkdGhpczsKCnJldHVybiAkcHJvbWlzZS0+dGhlbihmdW5jdGlvbiAoKSB1c2UgKCRzZWxmLCAkcGx1Z2luTWFuYWdlciwgJHBhY2thZ2UsICRyZXBvKSB7CnRyeSB7ClBsYXRmb3JtOjp3b3JrYXJvdW5kRmlsZXN5c3RlbUlzc3VlcygpOwokcGx1Z2luTWFuYWdlci0+cmVnaXN0ZXJQYWNrYWdlKCRwYWNrYWdlLCB0cnVlKTsKfSBjYXRjaCAoXEV4Y2VwdGlvbiAkZSkgewokc2VsZi0+cm9sbGJhY2tJbnN0YWxsKCRlLCAkcmVwbywgJHBhY2thZ2UpOwp9Cn0pOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gdXBkYXRlKEluc3RhbGxlZFJlcG9zaXRvcnlJbnRlcmZhY2UgJHJlcG8sIFBhY2thZ2VJbnRlcmZhY2UgJGluaXRpYWwsIFBhY2thZ2VJbnRlcmZhY2UgJHRhcmdldCkKewokcHJvbWlzZSA9IHBhcmVudDo6dXBkYXRlKCRyZXBvLCAkaW5pdGlhbCwgJHRhcmdldCk7CmlmICghJHByb21pc2UgaW5zdGFuY2VvZiBQcm9taXNlSW50ZXJmYWNlKSB7CiRwcm9taXNlID0gXFJlYWN0XFByb21pc2VccmVzb2x2ZSgpOwp9CgokcGx1Z2luTWFuYWdlciA9ICR0aGlzLT5jb21wb3Nlci0+Z2V0UGx1Z2luTWFuYWdlcigpOwokc2VsZiA9ICR0aGlzOwoKcmV0dXJuICRwcm9taXNlLT50aGVuKGZ1bmN0aW9uICgpIHVzZSAoJHNlbGYsICRwbHVnaW5NYW5hZ2VyLCAkaW5pdGlhbCwgJHRhcmdldCwgJHJlcG8pIHsKdHJ5IHsKUGxhdGZvcm06Ondvcmthcm91bmRGaWxlc3lzdGVtSXNzdWVzKCk7CiRwbHVnaW5NYW5hZ2VyLT5kZWFjdGl2YXRlUGFja2FnZSgkaW5pdGlhbCwgdHJ1ZSk7CiRwbHVnaW5NYW5hZ2VyLT5yZWdpc3RlclBhY2thZ2UoJHRhcmdldCwgdHJ1ZSk7Cn0gY2F0Y2ggKFxFeGNlcHRpb24gJGUpIHsKJHNlbGYtPnJvbGxiYWNrSW5zdGFsbCgkZSwgJHJlcG8sICR0YXJnZXQpOwp9Cn0pOwp9CgpwdWJsaWMgZnVuY3Rpb24gdW5pbnN0YWxsKEluc3RhbGxlZFJlcG9zaXRvcnlJbnRlcmZhY2UgJHJlcG8sIFBhY2thZ2VJbnRlcmZhY2UgJHBhY2thZ2UpCnsKJHRoaXMtPmNvbXBvc2VyLT5nZXRQbHVnaW5NYW5hZ2VyKCktPnVuaW5zdGFsbFBhY2thZ2UoJHBhY2thZ2UsIHRydWUpOwoKcmV0dXJuIHBhcmVudDo6dW5pbnN0YWxsKCRyZXBvLCAkcGFja2FnZSk7Cn0KCgoKCgpwdWJsaWMgZnVuY3Rpb24gcm9sbGJhY2tJbnN0YWxsKFxFeGNlcHRpb24gJGUsIEluc3RhbGxlZFJlcG9zaXRvcnlJbnRlcmZhY2UgJHJlcG8sIFBhY2thZ2VJbnRlcmZhY2UgJHBhY2thZ2UpCnsKJHRoaXMtPmlvLT53cml0ZUVycm9yKCdQbHVnaW4gaW5pdGlhbGl6YXRpb24gZmFpbGVkICgnLiRlLT5nZXRNZXNzYWdlKCkuJyksIHVuaW5zdGFsbGluZyBwbHVnaW4nKTsKcGFyZW50Ojp1bmluc3RhbGwoJHJlcG8sICRwYWNrYWdlKTsKdGhyb3cgJGU7Cn0KfQo8P3BocAoKCgoKCgoKCgoKCm5hbWVzcGFjZSBDb21wb3NlclxJbnN0YWxsZXI7Cgp1c2UgQ29tcG9zZXJcUGFja2FnZVxQYWNrYWdlSW50ZXJmYWNlOwp1c2UgQ29tcG9zZXJcRG93bmxvYWRlclxEb3dubG9hZE1hbmFnZXI7CnVzZSBDb21wb3NlclxSZXBvc2l0b3J5XEluc3RhbGxlZFJlcG9zaXRvcnlJbnRlcmZhY2U7CnVzZSBDb21wb3NlclxVdGlsXEZpbGVzeXN0ZW07CgoKCgoKCgpjbGFzcyBQcm9qZWN0SW5zdGFsbGVyIGltcGxlbWVudHMgSW5zdGFsbGVySW50ZXJmYWNlCnsKcHJpdmF0ZSAkaW5zdGFsbFBhdGg7CnByaXZhdGUgJGRvd25sb2FkTWFuYWdlcjsKcHJpdmF0ZSAkZmlsZXN5c3RlbTsKCnB1YmxpYyBmdW5jdGlvbiBfX2NvbnN0cnVjdCgkaW5zdGFsbFBhdGgsIERvd25sb2FkTWFuYWdlciAkZG0sIEZpbGVzeXN0ZW0gJGZzKQp7CiR0aGlzLT5pbnN0YWxsUGF0aCA9IHJ0cmltKHN0cnRyKCRpbnN0YWxsUGF0aCwgJ1xcJywgJy8nKSwgJy8nKS4nLyc7CiR0aGlzLT5kb3dubG9hZE1hbmFnZXIgPSAkZG07CiR0aGlzLT5maWxlc3lzdGVtID0gJGZzOwp9CgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gc3VwcG9ydHMoJHBhY2thZ2VUeXBlKQp7CnJldHVybiB0cnVlOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gaXNJbnN0YWxsZWQoSW5zdGFsbGVkUmVwb3NpdG9yeUludGVyZmFjZSAkcmVwbywgUGFja2FnZUludGVyZmFjZSAkcGFja2FnZSkKewpyZXR1cm4gZmFsc2U7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBkb3dubG9hZChQYWNrYWdlSW50ZXJmYWNlICRwYWNrYWdlLCBQYWNrYWdlSW50ZXJmYWNlICRwcmV2UGFja2FnZSA9IG51bGwpCnsKJGluc3RhbGxQYXRoID0gJHRoaXMtPmluc3RhbGxQYXRoOwppZiAoZmlsZV9leGlzdHMoJGluc3RhbGxQYXRoKSAmJiAhJHRoaXMtPmZpbGVzeXN0ZW0tPmlzRGlyRW1wdHkoJGluc3RhbGxQYXRoKSkgewp0aHJvdyBuZXcgXEludmFsaWRBcmd1bWVudEV4Y2VwdGlvbigiUHJvamVjdCBkaXJlY3RvcnkgJGluc3RhbGxQYXRoIGlzIG5vdCBlbXB0eS4iKTsKfQppZiAoIWlzX2RpcigkaW5zdGFsbFBhdGgpKSB7Cm1rZGlyKCRpbnN0YWxsUGF0aCwgMDc3NywgdHJ1ZSk7Cn0KCnJldHVybiAkdGhpcy0+ZG93bmxvYWRNYW5hZ2VyLT5kb3dubG9hZCgkcGFja2FnZSwgJGluc3RhbGxQYXRoLCAkcHJldlBhY2thZ2UpOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gcHJlcGFyZSgkdHlwZSwgUGFja2FnZUludGVyZmFjZSAkcGFja2FnZSwgUGFja2FnZUludGVyZmFjZSAkcHJldlBhY2thZ2UgPSBudWxsKQp7CnJldHVybiAkdGhpcy0+ZG93bmxvYWRNYW5hZ2VyLT5wcmVwYXJlKCR0eXBlLCAkcGFja2FnZSwgJHRoaXMtPmluc3RhbGxQYXRoLCAkcHJldlBhY2thZ2UpOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gY2xlYW51cCgkdHlwZSwgUGFja2FnZUludGVyZmFjZSAkcGFja2FnZSwgUGFja2FnZUludGVyZmFjZSAkcHJldlBhY2thZ2UgPSBudWxsKQp7CnJldHVybiAkdGhpcy0+ZG93bmxvYWRNYW5hZ2VyLT5jbGVhbnVwKCR0eXBlLCAkcGFja2FnZSwgJHRoaXMtPmluc3RhbGxQYXRoLCAkcHJldlBhY2thZ2UpOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gaW5zdGFsbChJbnN0YWxsZWRSZXBvc2l0b3J5SW50ZXJmYWNlICRyZXBvLCBQYWNrYWdlSW50ZXJmYWNlICRwYWNrYWdlKQp7CnJldHVybiAkdGhpcy0+ZG93bmxvYWRNYW5hZ2VyLT5pbnN0YWxsKCRwYWNrYWdlLCAkdGhpcy0+aW5zdGFsbFBhdGgpOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gdXBkYXRlKEluc3RhbGxlZFJlcG9zaXRvcnlJbnRlcmZhY2UgJHJlcG8sIFBhY2thZ2VJbnRlcmZhY2UgJGluaXRpYWwsIFBhY2thZ2VJbnRlcmZhY2UgJHRhcmdldCkKewp0aHJvdyBuZXcgXEludmFsaWRBcmd1bWVudEV4Y2VwdGlvbigibm90IHN1cHBvcnRlZCIpOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gdW5pbnN0YWxsKEluc3RhbGxlZFJlcG9zaXRvcnlJbnRlcmZhY2UgJHJlcG8sIFBhY2thZ2VJbnRlcmZhY2UgJHBhY2thZ2UpCnsKdGhyb3cgbmV3IFxJbnZhbGlkQXJndW1lbnRFeGNlcHRpb24oIm5vdCBzdXBwb3J0ZWQiKTsKfQoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIGdldEluc3RhbGxQYXRoKFBhY2thZ2VJbnRlcmZhY2UgJHBhY2thZ2UpCnsKcmV0dXJuICR0aGlzLT5pbnN0YWxsUGF0aDsKfQp9Cjw/cGhwCgoKCgoKCgoKCgoKbmFtZXNwYWNlIENvbXBvc2VyXEluc3RhbGxlcjsKCnVzZSBDb21wb3NlclxJT1xJT0ludGVyZmFjZTsKdXNlIENvbXBvc2VyXFBhY2thZ2VcUGFja2FnZUludGVyZmFjZTsKdXNlIENvbXBvc2VyXFJlcG9zaXRvcnlcSW5zdGFsbGVkUmVwb3NpdG9yeTsKdXNlIFN5bWZvbnlcQ29tcG9uZW50XENvbnNvbGVcRm9ybWF0dGVyXE91dHB1dEZvcm1hdHRlcjsKCgoKCgoKY2xhc3MgU3VnZ2VzdGVkUGFja2FnZXNSZXBvcnRlcgp7CmNvbnN0IE1PREVfTElTVCA9IDE7CmNvbnN0IE1PREVfQllfUEFDS0FHRSA9IDI7CmNvbnN0IE1PREVfQllfU1VHR0VTVElPTiA9IDQ7CgoKCgpwcm90ZWN0ZWQgJHN1Z2dlc3RlZFBhY2thZ2VzID0gYXJyYXkoKTsKCgoKCnByaXZhdGUgJGlvOwoKcHVibGljIGZ1bmN0aW9uIF9fY29uc3RydWN0KElPSW50ZXJmYWNlICRpbykKewokdGhpcy0+aW8gPSAkaW87Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBnZXRQYWNrYWdlcygpCnsKcmV0dXJuICR0aGlzLT5zdWdnZXN0ZWRQYWNrYWdlczsKfQoKCgoKCgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gYWRkUGFja2FnZSgkc291cmNlLCAkdGFyZ2V0LCAkcmVhc29uKQp7CiR0aGlzLT5zdWdnZXN0ZWRQYWNrYWdlc1tdID0gYXJyYXkoCidzb3VyY2UnID0+ICRzb3VyY2UsCid0YXJnZXQnID0+ICR0YXJnZXQsCidyZWFzb24nID0+ICRyZWFzb24sCik7CgpyZXR1cm4gJHRoaXM7Cn0KCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBhZGRTdWdnZXN0aW9uc0Zyb21QYWNrYWdlKFBhY2thZ2VJbnRlcmZhY2UgJHBhY2thZ2UpCnsKJHNvdXJjZSA9ICRwYWNrYWdlLT5nZXRQcmV0dHlOYW1lKCk7CmZvcmVhY2ggKCRwYWNrYWdlLT5nZXRTdWdnZXN0cygpIGFzICR0YXJnZXQgPT4gJHJlYXNvbikgewokdGhpcy0+YWRkUGFja2FnZSgKJHNvdXJjZSwKJHRhcmdldCwKJHJlYXNvbgopOwp9CgpyZXR1cm4gJHRoaXM7Cn0KCgoKCgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gb3V0cHV0KCRtb2RlLCBJbnN0YWxsZWRSZXBvc2l0b3J5ICRpbnN0YWxsZWRSZXBvID0gbnVsbCwgUGFja2FnZUludGVyZmFjZSAkb25seURlcGVuZGVudHNPZiA9IG51bGwpCnsKJHN1Z2dlc3RlZFBhY2thZ2VzID0gJHRoaXMtPmdldEZpbHRlcmVkU3VnZ2VzdGlvbnMoJGluc3RhbGxlZFJlcG8sICRvbmx5RGVwZW5kZW50c09mKTsKCiRzdWdnZXN0ZXJzID0gYXJyYXkoKTsKJHN1Z2dlc3RlZCA9IGFycmF5KCk7CmZvcmVhY2ggKCRzdWdnZXN0ZWRQYWNrYWdlcyBhcyAkc3VnZ2VzdGlvbikgewokc3VnZ2VzdGVyc1skc3VnZ2VzdGlvblsnc291cmNlJ11dWyRzdWdnZXN0aW9uWyd0YXJnZXQnXV0gPSAkc3VnZ2VzdGlvblsncmVhc29uJ107CiRzdWdnZXN0ZWRbJHN1Z2dlc3Rpb25bJ3RhcmdldCddXVskc3VnZ2VzdGlvblsnc291cmNlJ11dID0gJHN1Z2dlc3Rpb25bJ3JlYXNvbiddOwp9Cmtzb3J0KCRzdWdnZXN0ZXJzKTsKa3NvcnQoJHN1Z2dlc3RlZCk7CgoKaWYgKCRtb2RlICYgc2VsZjo6TU9ERV9MSVNUKSB7CmZvcmVhY2ggKGFycmF5X2tleXMoJHN1Z2dlc3RlZCkgYXMgJG5hbWUpIHsKJHRoaXMtPmlvLT53cml0ZShzcHJpbnRmKCc8aW5mbz4lczwvaW5mbz4nLCAkbmFtZSkpOwp9CgpyZXR1cm47Cn0KCgppZiAoJG1vZGUgJiBzZWxmOjpNT0RFX0JZX1BBQ0tBR0UpIHsKZm9yZWFjaCAoJHN1Z2dlc3RlcnMgYXMgJHN1Z2dlc3RlciA9PiAkc3VnZ2VzdGlvbnMpIHsKJHRoaXMtPmlvLT53cml0ZShzcHJpbnRmKCc8Y29tbWVudD4lczwvY29tbWVudD4gc3VnZ2VzdHM6JywgJHN1Z2dlc3RlcikpOwoKZm9yZWFjaCAoJHN1Z2dlc3Rpb25zIGFzICRzdWdnZXN0aW9uID0+ICRyZWFzb24pIHsKJHRoaXMtPmlvLT53cml0ZShzcHJpbnRmKCcgLSA8aW5mbz4lczwvaW5mbz4nIC4gKCRyZWFzb24gPyAnOiAlcycgOiAnJyksICRzdWdnZXN0aW9uLCAkdGhpcy0+ZXNjYXBlT3V0cHV0KCRyZWFzb24pKSk7Cn0KJHRoaXMtPmlvLT53cml0ZSgnJyk7Cn0KfQoKCmlmICgkbW9kZSAmIHNlbGY6Ok1PREVfQllfU1VHR0VTVElPTikgewoKaWYgKCRtb2RlICYgc2VsZjo6TU9ERV9CWV9QQUNLQUdFKSB7CiR0aGlzLT5pby0+d3JpdGUoc3RyX3JlcGVhdCgnLScsIDc4KSk7Cn0KZm9yZWFjaCAoJHN1Z2dlc3RlZCBhcyAkc3VnZ2VzdGlvbiA9PiAkc3VnZ2VzdGVycykgewokdGhpcy0+aW8tPndyaXRlKHNwcmludGYoJzxjb21tZW50PiVzPC9jb21tZW50PiBpcyBzdWdnZXN0ZWQgYnk6JywgJHN1Z2dlc3Rpb24pKTsKCmZvcmVhY2ggKCRzdWdnZXN0ZXJzIGFzICRzdWdnZXN0ZXIgPT4gJHJlYXNvbikgewokdGhpcy0+aW8tPndyaXRlKHNwcmludGYoJyAtIDxpbmZvPiVzPC9pbmZvPicgLiAoJHJlYXNvbiA/ICc6ICVzJyA6ICcnKSwgJHN1Z2dlc3RlciwgJHRoaXMtPmVzY2FwZU91dHB1dCgkcmVhc29uKSkpOwp9CiR0aGlzLT5pby0+d3JpdGUoJycpOwp9Cn0KCmlmICgkb25seURlcGVuZGVudHNPZikgewokYWxsU3VnZ2VzdGVkUGFja2FnZXMgPSAkdGhpcy0+Z2V0RmlsdGVyZWRTdWdnZXN0aW9ucygkaW5zdGFsbGVkUmVwbyk7CiRkaWZmID0gY291bnQoJGFsbFN1Z2dlc3RlZFBhY2thZ2VzKSAtIGNvdW50KCRzdWdnZXN0ZWRQYWNrYWdlcyk7CmlmICgkZGlmZikgewokdGhpcy0+aW8tPndyaXRlKCc8aW5mbz4nLiRkaWZmLicgYWRkaXRpb25hbCBzdWdnZXN0aW9uczwvaW5mbz4gYnkgdHJhbnNpdGl2ZSBkZXBlbmRlbmNpZXMgY2FuIGJlIHNob3duIHdpdGggPGluZm8+LS1hbGw8L2luZm8+Jyk7Cn0KfQp9CgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIG91dHB1dE1pbmltYWxpc3RpYyhJbnN0YWxsZWRSZXBvc2l0b3J5ICRpbnN0YWxsZWRSZXBvID0gbnVsbCwgUGFja2FnZUludGVyZmFjZSAkb25seURlcGVuZGVudHNPZiA9IG51bGwpCnsKJHN1Z2dlc3RlZFBhY2thZ2VzID0gJHRoaXMtPmdldEZpbHRlcmVkU3VnZ2VzdGlvbnMoJGluc3RhbGxlZFJlcG8sICRvbmx5RGVwZW5kZW50c09mKTsKaWYgKCRzdWdnZXN0ZWRQYWNrYWdlcykgewokdGhpcy0+aW8tPndyaXRlRXJyb3IoJzxpbmZvPicuY291bnQoJHN1Z2dlc3RlZFBhY2thZ2VzKS4nIHBhY2thZ2Ugc3VnZ2VzdGlvbnMgd2VyZSBhZGRlZCBieSBuZXcgZGVwZW5kZW5jaWVzLCB1c2UgYGNvbXBvc2VyIHN1Z2dlc3RgIHRvIHNlZSBkZXRhaWxzLjwvaW5mbz4nKTsKfQp9CgoKCgoKCnByaXZhdGUgZnVuY3Rpb24gZ2V0RmlsdGVyZWRTdWdnZXN0aW9ucyhJbnN0YWxsZWRSZXBvc2l0b3J5ICRpbnN0YWxsZWRSZXBvID0gbnVsbCwgUGFja2FnZUludGVyZmFjZSAkb25seURlcGVuZGVudHNPZiA9IG51bGwpCnsKJHN1Z2dlc3RlZFBhY2thZ2VzID0gJHRoaXMtPmdldFBhY2thZ2VzKCk7CiRpbnN0YWxsZWROYW1lcyA9IGFycmF5KCk7CmlmIChudWxsICE9PSAkaW5zdGFsbGVkUmVwbyAmJiAhZW1wdHkoJHN1Z2dlc3RlZFBhY2thZ2VzKSkgewpmb3JlYWNoICgkaW5zdGFsbGVkUmVwby0+Z2V0UGFja2FnZXMoKSBhcyAkcGFja2FnZSkgewokaW5zdGFsbGVkTmFtZXMgPSBhcnJheV9tZXJnZSgKJGluc3RhbGxlZE5hbWVzLAokcGFja2FnZS0+Z2V0TmFtZXMoKQopOwp9Cn0KCiRzb3VyY2VGaWx0ZXIgPSBhcnJheSgpOwppZiAoJG9ubHlEZXBlbmRlbnRzT2YpIHsKJHNvdXJjZUZpbHRlciA9IGFycmF5X21hcChmdW5jdGlvbiAoJGxpbmspIHsKcmV0dXJuICRsaW5rLT5nZXRUYXJnZXQoKTsKfSwgYXJyYXlfbWVyZ2UoJG9ubHlEZXBlbmRlbnRzT2YtPmdldFJlcXVpcmVzKCksICRvbmx5RGVwZW5kZW50c09mLT5nZXREZXZSZXF1aXJlcygpKSk7CiRzb3VyY2VGaWx0ZXJbXSA9ICRvbmx5RGVwZW5kZW50c09mLT5nZXROYW1lKCk7Cn0KCiRzdWdnZXN0aW9ucyA9IGFycmF5KCk7CmZvcmVhY2ggKCRzdWdnZXN0ZWRQYWNrYWdlcyBhcyAkc3VnZ2VzdGlvbikgewppZiAoaW5fYXJyYXkoJHN1Z2dlc3Rpb25bJ3RhcmdldCddLCAkaW5zdGFsbGVkTmFtZXMpIHx8ICgkc291cmNlRmlsdGVyICYmICFpbl9hcnJheSgkc3VnZ2VzdGlvblsnc291cmNlJ10sICRzb3VyY2VGaWx0ZXIpKSkgewpjb250aW51ZTsKfQoKJHN1Z2dlc3Rpb25zW10gPSAkc3VnZ2VzdGlvbjsKfQoKcmV0dXJuICRzdWdnZXN0aW9uczsKfQoKCgoKCnByaXZhdGUgZnVuY3Rpb24gZXNjYXBlT3V0cHV0KCRzdHJpbmcpCnsKcmV0dXJuIE91dHB1dEZvcm1hdHRlcjo6ZXNjYXBlKAokdGhpcy0+cmVtb3ZlQ29udHJvbENoYXJhY3RlcnMoJHN0cmluZykKKTsKfQoKCgoKCnByaXZhdGUgZnVuY3Rpb24gcmVtb3ZlQ29udHJvbENoYXJhY3RlcnMoJHN0cmluZykKewpyZXR1cm4gcHJlZ19yZXBsYWNlKAonL1tbOmNudHJsOl1dLycsCicnLApzdHJfcmVwbGFjZSgiXG4iLCAnICcsICRzdHJpbmcpCik7Cn0KfQo8P3BocAoKCgoKCgoKCgoKCm5hbWVzcGFjZSBDb21wb3NlclxKc29uOwoKdXNlIEpzb25TY2hlbWFcVmFsaWRhdG9yOwp1c2UgU2VsZFxKc29uTGludFxKc29uUGFyc2VyOwp1c2UgU2VsZFxKc29uTGludFxQYXJzaW5nRXhjZXB0aW9uOwp1c2UgQ29tcG9zZXJcVXRpbFxIdHRwRG93bmxvYWRlcjsKdXNlIENvbXBvc2VyXElPXElPSW50ZXJmYWNlOwp1c2UgQ29tcG9zZXJcRG93bmxvYWRlclxUcmFuc3BvcnRFeGNlcHRpb247CgoKCgoKCgpjbGFzcyBKc29uRmlsZQp7CmNvbnN0IExBWF9TQ0hFTUEgPSAxOwpjb25zdCBTVFJJQ1RfU0NIRU1BID0gMjsKCmNvbnN0IEpTT05fVU5FU0NBUEVEX1NMQVNIRVMgPSA2NDsKY29uc3QgSlNPTl9QUkVUVFlfUFJJTlQgPSAxMjg7CmNvbnN0IEpTT05fVU5FU0NBUEVEX1VOSUNPREUgPSAyNTY7Cgpjb25zdCBDT01QT1NFUl9TQ0hFTUFfUEFUSCA9ICcvLi4vLi4vLi4vcmVzL2NvbXBvc2VyLXNjaGVtYS5qc29uJzsKCnByaXZhdGUgJHBhdGg7CnByaXZhdGUgJGh0dHBEb3dubG9hZGVyOwpwcml2YXRlICRpbzsKCgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIF9fY29uc3RydWN0KCRwYXRoLCBIdHRwRG93bmxvYWRlciAkaHR0cERvd25sb2FkZXIgPSBudWxsLCBJT0ludGVyZmFjZSAkaW8gPSBudWxsKQp7CiR0aGlzLT5wYXRoID0gJHBhdGg7CgppZiAobnVsbCA9PT0gJGh0dHBEb3dubG9hZGVyICYmIHByZWdfbWF0Y2goJ3teaHR0cHM/Oi8vfWknLCAkcGF0aCkpIHsKdGhyb3cgbmV3IFxJbnZhbGlkQXJndW1lbnRFeGNlcHRpb24oJ2h0dHAgdXJscyByZXF1aXJlIGEgSHR0cERvd25sb2FkZXIgaW5zdGFuY2UgdG8gYmUgcGFzc2VkJyk7Cn0KJHRoaXMtPmh0dHBEb3dubG9hZGVyID0gJGh0dHBEb3dubG9hZGVyOwokdGhpcy0+aW8gPSAkaW87Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBnZXRQYXRoKCkKewpyZXR1cm4gJHRoaXMtPnBhdGg7Cn0KCgoKCgoKcHVibGljIGZ1bmN0aW9uIGV4aXN0cygpCnsKcmV0dXJuIGlzX2ZpbGUoJHRoaXMtPnBhdGgpOwp9CgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIHJlYWQoKQp7CnRyeSB7CmlmICgkdGhpcy0+aHR0cERvd25sb2FkZXIpIHsKJGpzb24gPSAkdGhpcy0+aHR0cERvd25sb2FkZXItPmdldCgkdGhpcy0+cGF0aCktPmdldEJvZHkoKTsKfSBlbHNlIHsKaWYgKCR0aGlzLT5pbyAmJiAkdGhpcy0+aW8tPmlzRGVidWcoKSkgewokcmVhbHBhdGhJbmZvID0gJyc7CiRyZWFscGF0aCA9IHJlYWxwYXRoKCR0aGlzLT5wYXRoKTsKaWYgKGZhbHNlICE9PSAkcmVhbHBhdGggJiYgJHJlYWxwYXRoICE9PSAkdGhpcy0+cGF0aCkgewokcmVhbHBhdGhJbmZvID0gJyAoJyAuICRyZWFscGF0aCAuICcpJzsKfQokdGhpcy0+aW8tPndyaXRlRXJyb3IoJ1JlYWRpbmcgJyAuICR0aGlzLT5wYXRoIC4gJHJlYWxwYXRoSW5mbyk7Cn0KJGpzb24gPSBmaWxlX2dldF9jb250ZW50cygkdGhpcy0+cGF0aCk7Cn0KfSBjYXRjaCAoVHJhbnNwb3J0RXhjZXB0aW9uICRlKSB7CnRocm93IG5ldyBcUnVudGltZUV4Y2VwdGlvbigkZS0+Z2V0TWVzc2FnZSgpLCAwLCAkZSk7Cn0gY2F0Y2ggKFxFeGNlcHRpb24gJGUpIHsKdGhyb3cgbmV3IFxSdW50aW1lRXhjZXB0aW9uKCdDb3VsZCBub3QgcmVhZCAnLiR0aGlzLT5wYXRoLiJcblxuIi4kZS0+Z2V0TWVzc2FnZSgpKTsKfQoKcmV0dXJuIHN0YXRpYzo6cGFyc2VKc29uKCRqc29uLCAkdGhpcy0+cGF0aCk7Cn0KCgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gd3JpdGUoYXJyYXkgJGhhc2gsICRvcHRpb25zID0gNDQ4KQp7CmlmICgkdGhpcy0+cGF0aCA9PT0gJ3BocDovL21lbW9yeScpIHsKZmlsZV9wdXRfY29udGVudHMoJHRoaXMtPnBhdGgsIHN0YXRpYzo6ZW5jb2RlKCRoYXNoLCAkb3B0aW9ucykpOwoKcmV0dXJuOwp9CgokZGlyID0gZGlybmFtZSgkdGhpcy0+cGF0aCk7CmlmICghaXNfZGlyKCRkaXIpKSB7CmlmIChmaWxlX2V4aXN0cygkZGlyKSkgewp0aHJvdyBuZXcgXFVuZXhwZWN0ZWRWYWx1ZUV4Y2VwdGlvbigKcmVhbHBhdGgoJGRpcikuJyBleGlzdHMgYW5kIGlzIG5vdCBhIGRpcmVjdG9yeS4nCik7Cn0KaWYgKCFAbWtkaXIoJGRpciwgMDc3NywgdHJ1ZSkpIHsKdGhyb3cgbmV3IFxVbmV4cGVjdGVkVmFsdWVFeGNlcHRpb24oCiRkaXIuJyBkb2VzIG5vdCBleGlzdCBhbmQgY291bGQgbm90IGJlIGNyZWF0ZWQuJwopOwp9Cn0KCiRyZXRyaWVzID0gMzsKd2hpbGUgKCRyZXRyaWVzLS0pIHsKdHJ5IHsKJHRoaXMtPmZpbGVQdXRDb250ZW50c0lmTW9kaWZpZWQoJHRoaXMtPnBhdGgsIHN0YXRpYzo6ZW5jb2RlKCRoYXNoLCAkb3B0aW9ucykuICgkb3B0aW9ucyAmIHNlbGY6OkpTT05fUFJFVFRZX1BSSU5UID8gIlxuIiA6ICcnKSk7CmJyZWFrOwp9IGNhdGNoIChcRXhjZXB0aW9uICRlKSB7CmlmICgkcmV0cmllcykgewp1c2xlZXAoNTAwMDAwKTsKY29udGludWU7Cn0KCnRocm93ICRlOwp9Cn0KfQoKCgoKcHJpdmF0ZSBmdW5jdGlvbiBmaWxlUHV0Q29udGVudHNJZk1vZGlmaWVkKCRwYXRoLCAkY29udGVudCkKewokY3VycmVudENvbnRlbnQgPSBAZmlsZV9nZXRfY29udGVudHMoJHBhdGgpOwppZiAoISRjdXJyZW50Q29udGVudCB8fCAoJGN1cnJlbnRDb250ZW50ICE9ICRjb250ZW50KSkgewpyZXR1cm4gZmlsZV9wdXRfY29udGVudHMoJHBhdGgsICRjb250ZW50KTsKfQoKcmV0dXJuIDA7Cn0KCgoKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiB2YWxpZGF0ZVNjaGVtYSgkc2NoZW1hID0gc2VsZjo6U1RSSUNUX1NDSEVNQSwgJHNjaGVtYUZpbGUgPSBudWxsKQp7CiRjb250ZW50ID0gZmlsZV9nZXRfY29udGVudHMoJHRoaXMtPnBhdGgpOwokZGF0YSA9IGpzb25fZGVjb2RlKCRjb250ZW50KTsKCmlmIChudWxsID09PSAkZGF0YSAmJiAnbnVsbCcgIT09ICRjb250ZW50KSB7CnNlbGY6OnZhbGlkYXRlU3ludGF4KCRjb250ZW50LCAkdGhpcy0+cGF0aCk7Cn0KCiRpc0NvbXBvc2VyU2NoZW1hRmlsZSA9IGZhbHNlOwppZiAobnVsbCA9PT0gJHNjaGVtYUZpbGUpIHsKJGlzQ29tcG9zZXJTY2hlbWFGaWxlID0gdHJ1ZTsKJHNjaGVtYUZpbGUgPSBfX0RJUl9fIC4gc2VsZjo6Q09NUE9TRVJfU0NIRU1BX1BBVEg7Cn0KCgppZiAoZmFsc2UgPT09IHN0cnBvcygkc2NoZW1hRmlsZSwgJzovLycpKSB7CiRzY2hlbWFGaWxlID0gJ2ZpbGU6Ly8nIC4gJHNjaGVtYUZpbGU7Cn0KCiRzY2hlbWFEYXRhID0gKG9iamVjdCkgYXJyYXkoJyRyZWYnID0+ICRzY2hlbWFGaWxlKTsKCmlmICgkc2NoZW1hID09PSBzZWxmOjpMQVhfU0NIRU1BKSB7CiRzY2hlbWFEYXRhLT5hZGRpdGlvbmFsUHJvcGVydGllcyA9IHRydWU7CiRzY2hlbWFEYXRhLT5yZXF1aXJlZCA9IGFycmF5KCk7Cn0gZWxzZWlmICgkc2NoZW1hID09PSBzZWxmOjpTVFJJQ1RfU0NIRU1BICYmICRpc0NvbXBvc2VyU2NoZW1hRmlsZSkgewokc2NoZW1hRGF0YS0+YWRkaXRpb25hbFByb3BlcnRpZXMgPSBmYWxzZTsKJHNjaGVtYURhdGEtPnJlcXVpcmVkID0gYXJyYXkoJ25hbWUnLCAnZGVzY3JpcHRpb24nKTsKfQoKJHZhbGlkYXRvciA9IG5ldyBWYWxpZGF0b3IoKTsKJHZhbGlkYXRvci0+Y2hlY2soJGRhdGEsICRzY2hlbWFEYXRhKTsKCmlmICghJHZhbGlkYXRvci0+aXNWYWxpZCgpKSB7CiRlcnJvcnMgPSBhcnJheSgpOwpmb3JlYWNoICgoYXJyYXkpICR2YWxpZGF0b3ItPmdldEVycm9ycygpIGFzICRlcnJvcikgewokZXJyb3JzW10gPSAoJGVycm9yWydwcm9wZXJ0eSddID8gJGVycm9yWydwcm9wZXJ0eSddLicgOiAnIDogJycpLiRlcnJvclsnbWVzc2FnZSddOwp9CnRocm93IG5ldyBKc29uVmFsaWRhdGlvbkV4Y2VwdGlvbignIicuJHRoaXMtPnBhdGguJyIgZG9lcyBub3QgbWF0Y2ggdGhlIGV4cGVjdGVkIEpTT04gc2NoZW1hJywgJGVycm9ycyk7Cn0KCnJldHVybiB0cnVlOwp9CgoKCgoKCgoKcHVibGljIHN0YXRpYyBmdW5jdGlvbiBlbmNvZGUoJGRhdGEsICRvcHRpb25zID0gNDQ4KQp7CmlmIChQSFBfVkVSU0lPTl9JRCA+PSA1MDQwMCkgewokanNvbiA9IGpzb25fZW5jb2RlKCRkYXRhLCAkb3B0aW9ucyk7CmlmIChmYWxzZSA9PT0gJGpzb24pIHsKc2VsZjo6dGhyb3dFbmNvZGVFcnJvcihqc29uX2xhc3RfZXJyb3IoKSk7Cn0KCgppZiAoUEhQX1ZFUlNJT05fSUQgPCA1MDQyOCB8fCAoUEhQX1ZFUlNJT05fSUQgPj0gNTA1MDAgJiYgUEhQX1ZFUlNJT05fSUQgPCA1MDUxMikgfHwgKGRlZmluZWQoJ0pTT05fQ19WRVJTSU9OJykgJiYgdmVyc2lvbl9jb21wYXJlKHBocHZlcnNpb24oJ2pzb24nKSwgJzEuMy42JywgJzwnKSkpIHsKJGpzb24gPSBwcmVnX3JlcGxhY2UoJy9cW1xzK1xdLycsICdbXScsICRqc29uKTsKJGpzb24gPSBwcmVnX3JlcGxhY2UoJy9ce1xzK1x9LycsICd7fScsICRqc29uKTsKfQoKcmV0dXJuICRqc29uOwp9CgokanNvbiA9IGpzb25fZW5jb2RlKCRkYXRhKTsKaWYgKGZhbHNlID09PSAkanNvbikgewpzZWxmOjp0aHJvd0VuY29kZUVycm9yKGpzb25fbGFzdF9lcnJvcigpKTsKfQoKJHByZXR0eVByaW50ID0gKGJvb2wpICgkb3B0aW9ucyAmIHNlbGY6OkpTT05fUFJFVFRZX1BSSU5UKTsKJHVuZXNjYXBlVW5pY29kZSA9IChib29sKSAoJG9wdGlvbnMgJiBzZWxmOjpKU09OX1VORVNDQVBFRF9VTklDT0RFKTsKJHVuZXNjYXBlU2xhc2hlcyA9IChib29sKSAoJG9wdGlvbnMgJiBzZWxmOjpKU09OX1VORVNDQVBFRF9TTEFTSEVTKTsKCmlmICghJHByZXR0eVByaW50ICYmICEkdW5lc2NhcGVVbmljb2RlICYmICEkdW5lc2NhcGVTbGFzaGVzKSB7CnJldHVybiAkanNvbjsKfQoKcmV0dXJuIEpzb25Gb3JtYXR0ZXI6OmZvcm1hdCgkanNvbiwgJHVuZXNjYXBlVW5pY29kZSwgJHVuZXNjYXBlU2xhc2hlcyk7Cn0KCgoKCgoKCnByaXZhdGUgc3RhdGljIGZ1bmN0aW9uIHRocm93RW5jb2RlRXJyb3IoJGNvZGUpCnsKc3dpdGNoICgkY29kZSkgewpjYXNlIEpTT05fRVJST1JfREVQVEg6CiRtc2cgPSAnTWF4aW11bSBzdGFjayBkZXB0aCBleGNlZWRlZCc7CmJyZWFrOwpjYXNlIEpTT05fRVJST1JfU1RBVEVfTUlTTUFUQ0g6CiRtc2cgPSAnVW5kZXJmbG93IG9yIHRoZSBtb2RlcyBtaXNtYXRjaCc7CmJyZWFrOwpjYXNlIEpTT05fRVJST1JfQ1RSTF9DSEFSOgokbXNnID0gJ1VuZXhwZWN0ZWQgY29udHJvbCBjaGFyYWN0ZXIgZm91bmQnOwpicmVhazsKY2FzZSBKU09OX0VSUk9SX1VURjg6CiRtc2cgPSAnTWFsZm9ybWVkIFVURi04IGNoYXJhY3RlcnMsIHBvc3NpYmx5IGluY29ycmVjdGx5IGVuY29kZWQnOwpicmVhazsKZGVmYXVsdDoKJG1zZyA9ICdVbmtub3duIGVycm9yJzsKfQoKdGhyb3cgbmV3IFxSdW50aW1lRXhjZXB0aW9uKCdKU09OIGVuY29kaW5nIGZhaWxlZDogJy4kbXNnKTsKfQoKCgoKCgoKCgoKcHVibGljIHN0YXRpYyBmdW5jdGlvbiBwYXJzZUpzb24oJGpzb24sICRmaWxlID0gbnVsbCkKewppZiAobnVsbCA9PT0gJGpzb24pIHsKcmV0dXJuOwp9CiRkYXRhID0ganNvbl9kZWNvZGUoJGpzb24sIHRydWUpOwppZiAobnVsbCA9PT0gJGRhdGEgJiYgSlNPTl9FUlJPUl9OT05FICE9PSBqc29uX2xhc3RfZXJyb3IoKSkgewpzZWxmOjp2YWxpZGF0ZVN5bnRheCgkanNvbiwgJGZpbGUpOwp9CgpyZXR1cm4gJGRhdGE7Cn0KCgoKCgoKCgoKCnByb3RlY3RlZCBzdGF0aWMgZnVuY3Rpb24gdmFsaWRhdGVTeW50YXgoJGpzb24sICRmaWxlID0gbnVsbCkKewokcGFyc2VyID0gbmV3IEpzb25QYXJzZXIoKTsKJHJlc3VsdCA9ICRwYXJzZXItPmxpbnQoJGpzb24pOwppZiAobnVsbCA9PT0gJHJlc3VsdCkgewppZiAoZGVmaW5lZCgnSlNPTl9FUlJPUl9VVEY4JykgJiYgSlNPTl9FUlJPUl9VVEY4ID09PSBqc29uX2xhc3RfZXJyb3IoKSkgewp0aHJvdyBuZXcgXFVuZXhwZWN0ZWRWYWx1ZUV4Y2VwdGlvbignIicuJGZpbGUuJyIgaXMgbm90IFVURi04LCBjb3VsZCBub3QgcGFyc2UgYXMgSlNPTicpOwp9CgpyZXR1cm4gdHJ1ZTsKfQoKdGhyb3cgbmV3IFBhcnNpbmdFeGNlcHRpb24oJyInLiRmaWxlLiciIGRvZXMgbm90IGNvbnRhaW4gdmFsaWQgSlNPTicuIlxuIi4kcmVzdWx0LT5nZXRNZXNzYWdlKCksICRyZXN1bHQtPmdldERldGFpbHMoKSk7Cn0KfQo8P3BocAoKCgoKCgoKCgoKCm5hbWVzcGFjZSBDb21wb3NlclxKc29uOwoKCgoKCgoKCgpjbGFzcyBKc29uRm9ybWF0dGVyCnsKCgoKCgoKCgoKCgoKcHVibGljIHN0YXRpYyBmdW5jdGlvbiBmb3JtYXQoJGpzb24sICR1bmVzY2FwZVVuaWNvZGUsICR1bmVzY2FwZVNsYXNoZXMpCnsKJHJlc3VsdCA9ICcnOwokcG9zID0gMDsKJHN0ckxlbiA9IHN0cmxlbigkanNvbik7CiRpbmRlbnRTdHIgPSAnICAgICc7CiRuZXdMaW5lID0gIlxuIjsKJG91dE9mUXVvdGVzID0gdHJ1ZTsKJGJ1ZmZlciA9ICcnOwokbm9lc2NhcGUgPSB0cnVlOwoKZm9yICgkaSA9IDA7ICRpIDwgJHN0ckxlbjsgJGkrKykgewoKJGNoYXIgPSBzdWJzdHIoJGpzb24sICRpLCAxKTsKCgppZiAoJyInID09PSAkY2hhciAmJiAkbm9lc2NhcGUpIHsKJG91dE9mUXVvdGVzID0gISRvdXRPZlF1b3RlczsKfQoKaWYgKCEkb3V0T2ZRdW90ZXMpIHsKJGJ1ZmZlciAuPSAkY2hhcjsKJG5vZXNjYXBlID0gJ1xcJyA9PT0gJGNoYXIgPyAhJG5vZXNjYXBlIDogdHJ1ZTsKY29udGludWU7Cn0KaWYgKCcnICE9PSAkYnVmZmVyKSB7CmlmICgkdW5lc2NhcGVTbGFzaGVzKSB7CiRidWZmZXIgPSBzdHJfcmVwbGFjZSgnXFwvJywgJy8nLCAkYnVmZmVyKTsKfQoKaWYgKCR1bmVzY2FwZVVuaWNvZGUgJiYgZnVuY3Rpb25fZXhpc3RzKCdtYl9jb252ZXJ0X2VuY29kaW5nJykpIHsKCiRidWZmZXIgPSBwcmVnX3JlcGxhY2VfY2FsbGJhY2soJy8oXFxcXCspdShbMC05YS1mXXs0fSkvaScsIGZ1bmN0aW9uICgkbWF0Y2gpIHsKJGwgPSBzdHJsZW4oJG1hdGNoWzFdKTsKCmlmICgkbCAlIDIpIHsKJGNvZGUgPSBoZXhkZWMoJG1hdGNoWzJdKTsKCgppZiAoMHhEODAwIDw9ICRjb2RlICYmIDB4REZGRiA+PSAkY29kZSkgewpyZXR1cm4gJG1hdGNoWzBdOwp9CgpyZXR1cm4gc3RyX3JlcGVhdCgnXFwnLCAkbCAtIDEpIC4gbWJfY29udmVydF9lbmNvZGluZygKcGFjaygnSConLCAkbWF0Y2hbMl0pLAonVVRGLTgnLAonVUNTLTJCRScKKTsKfQoKcmV0dXJuICRtYXRjaFswXTsKfSwgJGJ1ZmZlcik7Cn0KCiRyZXN1bHQgLj0gJGJ1ZmZlci4kY2hhcjsKJGJ1ZmZlciA9ICcnOwpjb250aW51ZTsKfQoKaWYgKCc6JyA9PT0gJGNoYXIpIHsKCiRjaGFyIC49ICcgJzsKfSBlbHNlaWYgKCd9JyA9PT0gJGNoYXIgfHwgJ10nID09PSAkY2hhcikgewokcG9zLS07CiRwcmV2Q2hhciA9IHN1YnN0cigkanNvbiwgJGkgLSAxLCAxKTsKCmlmICgneycgIT09ICRwcmV2Q2hhciAmJiAnWycgIT09ICRwcmV2Q2hhcikgewoKCiRyZXN1bHQgLj0gJG5ld0xpbmU7CmZvciAoJGogPSAwOyAkaiA8ICRwb3M7ICRqKyspIHsKJHJlc3VsdCAuPSAkaW5kZW50U3RyOwp9Cn0gZWxzZSB7CgokcmVzdWx0ID0gcnRyaW0oJHJlc3VsdCk7Cn0KfQoKJHJlc3VsdCAuPSAkY2hhcjsKCgoKaWYgKCcsJyA9PT0gJGNoYXIgfHwgJ3snID09PSAkY2hhciB8fCAnWycgPT09ICRjaGFyKSB7CiRyZXN1bHQgLj0gJG5ld0xpbmU7CgppZiAoJ3snID09PSAkY2hhciB8fCAnWycgPT09ICRjaGFyKSB7CiRwb3MrKzsKfQoKZm9yICgkaiA9IDA7ICRqIDwgJHBvczsgJGorKykgewokcmVzdWx0IC49ICRpbmRlbnRTdHI7Cn0KfQp9CgpyZXR1cm4gJHJlc3VsdDsKfQp9Cjw/cGhwCgoKCgoKCgoKCgoKbmFtZXNwYWNlIENvbXBvc2VyXEpzb247Cgp1c2UgQ29tcG9zZXJcUmVwb3NpdG9yeVxQbGF0Zm9ybVJlcG9zaXRvcnk7CgoKCgpjbGFzcyBKc29uTWFuaXB1bGF0b3IKewpwcml2YXRlIHN0YXRpYyAkREVGSU5FUyA9ICcoPyhERUZJTkUpCiAgICAgICAoPzxudW1iZXI+ICAgIC0/ICg/PSBbMS05XXwwKD8hXGQpICkgXGQrKyAoXC5cZCsrKT8gKFtlRV0gWystXT8rIFxkKyspPyApCiAgICAgICAoPzxib29sZWFuPiAgIHRydWUgfCBmYWxzZSB8IG51bGwgKQogICAgICAgKD88c3RyaW5nPiAgICAiIChbXiJcXFxcXSorIHwgXFxcXCBbIlxcXFxiZm5ydFwvXSB8IFxcXFwgdSBbMC05QS1GYS1mXXs0fSApKiAiICkKICAgICAgICg/PGFycmF5PiAgICAgXFsgICg/OiAgKD8manNvbikgXHMqKyAoPzogLCAoPyZqc29uKSBccyorICkqKyAgKT8rICBccyorIFxdICkKICAgICAgICg/PHBhaXI+ICAgICAgXHMqKyAoPyZzdHJpbmcpIFxzKisgOiAoPyZqc29uKSBccyorICkKICAgICAgICg/PG9iamVjdD4gICAgXHsgICg/OiAgKD8mcGFpcikgICg/OiAsICg/JnBhaXIpICApKisgICk/KyAgXHMqKyBcfSApCiAgICAgICAoPzxqc29uPiAgICAgIFxzKisgKD86ICg/Jm51bWJlcikgfCAoPyZib29sZWFuKSB8ICg/JnN0cmluZykgfCAoPyZhcnJheSkgfCAoPyZvYmplY3QpICkgKQogICAgKSc7Cgpwcml2YXRlICRjb250ZW50czsKcHJpdmF0ZSAkbmV3bGluZTsKcHJpdmF0ZSAkaW5kZW50OwoKcHVibGljIGZ1bmN0aW9uIF9fY29uc3RydWN0KCRjb250ZW50cykKewokY29udGVudHMgPSB0cmltKCRjb250ZW50cyk7CmlmICgkY29udGVudHMgPT09ICcnKSB7CiRjb250ZW50cyA9ICd7fSc7Cn0KaWYgKCEkdGhpcy0+cHJlZ01hdGNoKCcjXlx7KC4qKVx9JCNzJywgJGNvbnRlbnRzKSkgewp0aHJvdyBuZXcgXEludmFsaWRBcmd1bWVudEV4Y2VwdGlvbignVGhlIGpzb24gZmlsZSBtdXN0IGJlIGFuIG9iamVjdCAoe30pJyk7Cn0KJHRoaXMtPm5ld2xpbmUgPSBmYWxzZSAhPT0gc3RycG9zKCRjb250ZW50cywgIlxyXG4iKSA/ICJcclxuIiA6ICJcbiI7CiR0aGlzLT5jb250ZW50cyA9ICRjb250ZW50cyA9PT0gJ3t9JyA/ICd7JyAuICR0aGlzLT5uZXdsaW5lIC4gJ30nIDogJGNvbnRlbnRzOwokdGhpcy0+ZGV0ZWN0SW5kZW50aW5nKCk7Cn0KCnB1YmxpYyBmdW5jdGlvbiBnZXRDb250ZW50cygpCnsKcmV0dXJuICR0aGlzLT5jb250ZW50cyAuICR0aGlzLT5uZXdsaW5lOwp9CgpwdWJsaWMgZnVuY3Rpb24gYWRkTGluaygkdHlwZSwgJHBhY2thZ2UsICRjb25zdHJhaW50LCAkc29ydFBhY2thZ2VzID0gZmFsc2UpCnsKJGRlY29kZWQgPSBKc29uRmlsZTo6cGFyc2VKc29uKCR0aGlzLT5jb250ZW50cyk7CgoKaWYgKCFpc3NldCgkZGVjb2RlZFskdHlwZV0pKSB7CnJldHVybiAkdGhpcy0+YWRkTWFpbktleSgkdHlwZSwgYXJyYXkoJHBhY2thZ2UgPT4gJGNvbnN0cmFpbnQpKTsKfQoKJHJlZ2V4ID0gJ3snLnNlbGY6OiRERUZJTkVTLideKD9QPHN0YXJ0PlxzKlx7XHMqKD86KD8mc3RyaW5nKVxzKjpccyooPyZqc29uKVxzKixccyopKj8pJy4KJyg/UDxwcm9wZXJ0eT4nLnByZWdfcXVvdGUoSnNvbkZpbGU6OmVuY29kZSgkdHlwZSkpLidccyo6XHMqKSg/UDx2YWx1ZT4oPyZqc29uKSkoP1A8ZW5kPi4qKX1zeCc7CmlmICghJHRoaXMtPnByZWdNYXRjaCgkcmVnZXgsICR0aGlzLT5jb250ZW50cywgJG1hdGNoZXMpKSB7CnJldHVybiBmYWxzZTsKfQoKJGxpbmtzID0gJG1hdGNoZXNbJ3ZhbHVlJ107CgoKJHBhY2thZ2VSZWdleCA9IHN0cl9yZXBsYWNlKCcvJywgJ1xcXFw/LycsIHByZWdfcXVvdGUoJHBhY2thZ2UpKTsKJHJlZ2V4ID0gJ3snLnNlbGY6OiRERUZJTkVTLiciKD9QPHBhY2thZ2U+Jy4kcGFja2FnZVJlZ2V4LicpIihccyo6XHMqKSg/JnN0cmluZyl9aXgnOwppZiAoJHRoaXMtPnByZWdNYXRjaCgkcmVnZXgsICRsaW5rcywgJHBhY2thZ2VNYXRjaGVzKSkgewoKJGV4aXN0aW5nUGFja2FnZSA9ICRwYWNrYWdlTWF0Y2hlc1sncGFja2FnZSddOwokcGFja2FnZVJlZ2V4ID0gc3RyX3JlcGxhY2UoJy8nLCAnXFxcXD8vJywgcHJlZ19xdW90ZSgkZXhpc3RpbmdQYWNrYWdlKSk7CiRsaW5rcyA9IHByZWdfcmVwbGFjZV9jYWxsYmFjaygneycuc2VsZjo6JERFRklORVMuJyInLiRwYWNrYWdlUmVnZXguJyIoP1A8c2VwYXJhdG9yPlxzKjpccyopKD8mc3RyaW5nKX1peCcsIGZ1bmN0aW9uICgkbSkgdXNlICgkZXhpc3RpbmdQYWNrYWdlLCAkY29uc3RyYWludCkgewpyZXR1cm4gSnNvbkZpbGU6OmVuY29kZShzdHJfcmVwbGFjZSgnXFwvJywgJy8nLCAkZXhpc3RpbmdQYWNrYWdlKSkgLiAkbVsnc2VwYXJhdG9yJ10gLiAnIicgLiAkY29uc3RyYWludCAuICciJzsKfSwgJGxpbmtzKTsKfSBlbHNlIHsKaWYgKCR0aGlzLT5wcmVnTWF0Y2goJyNeXHMqXHtccypcUysuKj8oXHMqXH1ccyopJCNzJywgJGxpbmtzLCAkbWF0Y2gpKSB7CgokbGlua3MgPSBwcmVnX3JlcGxhY2UoCid7Jy5wcmVnX3F1b3RlKCRtYXRjaFsxXSkuJyR9JywKCmFkZGNzbGFzaGVzKCcsJyAuICR0aGlzLT5uZXdsaW5lIC4gJHRoaXMtPmluZGVudCAuICR0aGlzLT5pbmRlbnQgLiBKc29uRmlsZTo6ZW5jb2RlKCRwYWNrYWdlKS4nOiAnLkpzb25GaWxlOjplbmNvZGUoJGNvbnN0cmFpbnQpIC4gJG1hdGNoWzFdLCAnXFwkJyksCiRsaW5rcwopOwp9IGVsc2UgewoKJGxpbmtzID0gJ3snIC4gJHRoaXMtPm5ld2xpbmUgLgokdGhpcy0+aW5kZW50IC4gJHRoaXMtPmluZGVudCAuIEpzb25GaWxlOjplbmNvZGUoJHBhY2thZ2UpLic6ICcuSnNvbkZpbGU6OmVuY29kZSgkY29uc3RyYWludCkgLiAkdGhpcy0+bmV3bGluZSAuCiR0aGlzLT5pbmRlbnQgLiAnfSc7Cn0KfQoKaWYgKHRydWUgPT09ICRzb3J0UGFja2FnZXMpIHsKJHJlcXVpcmVtZW50cyA9IGpzb25fZGVjb2RlKCRsaW5rcywgdHJ1ZSk7CiR0aGlzLT5zb3J0UGFja2FnZXMoJHJlcXVpcmVtZW50cyk7CiRsaW5rcyA9ICR0aGlzLT5mb3JtYXQoJHJlcXVpcmVtZW50cyk7Cn0KCiR0aGlzLT5jb250ZW50cyA9ICRtYXRjaGVzWydzdGFydCddIC4gJG1hdGNoZXNbJ3Byb3BlcnR5J10gLiAkbGlua3MgLiAkbWF0Y2hlc1snZW5kJ107CgpyZXR1cm4gdHJ1ZTsKfQoKCgoKCgoKCnByaXZhdGUgZnVuY3Rpb24gc29ydFBhY2thZ2VzKGFycmF5ICYkcGFja2FnZXMgPSBhcnJheSgpKQp7CiRwcmVmaXggPSBmdW5jdGlvbiAoJHJlcXVpcmVtZW50KSB7CmlmIChQbGF0Zm9ybVJlcG9zaXRvcnk6OmlzUGxhdGZvcm1QYWNrYWdlKCRyZXF1aXJlbWVudCkpIHsKcmV0dXJuIHByZWdfcmVwbGFjZSgKYXJyYXkoCicvXnBocC8nLAonL15oaHZtLycsCicvXmV4dC8nLAonL15saWIvJywKJy9eXEQvJywKKSwKYXJyYXkoCicwLSQwJywKJzEtJDAnLAonMi0kMCcsCiczLSQwJywKJzQtJDAnLAopLAokcmVxdWlyZW1lbnQKKTsKfQoKcmV0dXJuICc1LScuJHJlcXVpcmVtZW50Owp9OwoKdWtzb3J0KCRwYWNrYWdlcywgZnVuY3Rpb24gKCRhLCAkYikgdXNlICgkcHJlZml4KSB7CnJldHVybiBzdHJuYXRjbXAoJHByZWZpeCgkYSksICRwcmVmaXgoJGIpKTsKfSk7Cn0KCnB1YmxpYyBmdW5jdGlvbiBhZGRSZXBvc2l0b3J5KCRuYW1lLCAkY29uZmlnLCAkYXBwZW5kID0gdHJ1ZSkKewpyZXR1cm4gJHRoaXMtPmFkZFN1Yk5vZGUoJ3JlcG9zaXRvcmllcycsICRuYW1lLCAkY29uZmlnLCAkYXBwZW5kKTsKfQoKcHVibGljIGZ1bmN0aW9uIHJlbW92ZVJlcG9zaXRvcnkoJG5hbWUpCnsKcmV0dXJuICR0aGlzLT5yZW1vdmVTdWJOb2RlKCdyZXBvc2l0b3JpZXMnLCAkbmFtZSk7Cn0KCnB1YmxpYyBmdW5jdGlvbiBhZGRDb25maWdTZXR0aW5nKCRuYW1lLCAkdmFsdWUpCnsKcmV0dXJuICR0aGlzLT5hZGRTdWJOb2RlKCdjb25maWcnLCAkbmFtZSwgJHZhbHVlKTsKfQoKcHVibGljIGZ1bmN0aW9uIHJlbW92ZUNvbmZpZ1NldHRpbmcoJG5hbWUpCnsKcmV0dXJuICR0aGlzLT5yZW1vdmVTdWJOb2RlKCdjb25maWcnLCAkbmFtZSk7Cn0KCnB1YmxpYyBmdW5jdGlvbiBhZGRQcm9wZXJ0eSgkbmFtZSwgJHZhbHVlKQp7CmlmIChzdHJwb3MoJG5hbWUsICdzdWdnZXN0LicpID09PSAwKSB7CnJldHVybiAkdGhpcy0+YWRkU3ViTm9kZSgnc3VnZ2VzdCcsIHN1YnN0cigkbmFtZSwgOCksICR2YWx1ZSk7Cn0KCmlmIChzdHJwb3MoJG5hbWUsICdleHRyYS4nKSA9PT0gMCkgewpyZXR1cm4gJHRoaXMtPmFkZFN1Yk5vZGUoJ2V4dHJhJywgc3Vic3RyKCRuYW1lLCA2KSwgJHZhbHVlKTsKfQoKaWYgKHN0cnBvcygkbmFtZSwgJ3NjcmlwdHMuJykgPT09IDApIHsKcmV0dXJuICR0aGlzLT5hZGRTdWJOb2RlKCdzY3JpcHRzJywgc3Vic3RyKCRuYW1lLCA4KSwgJHZhbHVlKTsKfQoKcmV0dXJuICR0aGlzLT5hZGRNYWluS2V5KCRuYW1lLCAkdmFsdWUpOwp9CgpwdWJsaWMgZnVuY3Rpb24gcmVtb3ZlUHJvcGVydHkoJG5hbWUpCnsKaWYgKHN0cnBvcygkbmFtZSwgJ3N1Z2dlc3QuJykgPT09IDApIHsKcmV0dXJuICR0aGlzLT5yZW1vdmVTdWJOb2RlKCdzdWdnZXN0Jywgc3Vic3RyKCRuYW1lLCA4KSk7Cn0KCmlmIChzdHJwb3MoJG5hbWUsICdleHRyYS4nKSA9PT0gMCkgewpyZXR1cm4gJHRoaXMtPnJlbW92ZVN1Yk5vZGUoJ2V4dHJhJywgc3Vic3RyKCRuYW1lLCA2KSk7Cn0KCmlmIChzdHJwb3MoJG5hbWUsICdzY3JpcHRzLicpID09PSAwKSB7CnJldHVybiAkdGhpcy0+cmVtb3ZlU3ViTm9kZSgnc2NyaXB0cycsIHN1YnN0cigkbmFtZSwgOCkpOwp9CgpyZXR1cm4gJHRoaXMtPnJlbW92ZU1haW5LZXkoJG5hbWUpOwp9CgpwdWJsaWMgZnVuY3Rpb24gYWRkU3ViTm9kZSgkbWFpbk5vZGUsICRuYW1lLCAkdmFsdWUsICRhcHBlbmQgPSB0cnVlKQp7CiRkZWNvZGVkID0gSnNvbkZpbGU6OnBhcnNlSnNvbigkdGhpcy0+Y29udGVudHMpOwoKJHN1Yk5hbWUgPSBudWxsOwppZiAoaW5fYXJyYXkoJG1haW5Ob2RlLCBhcnJheSgnY29uZmlnJywgJ2V4dHJhJywgJ3NjcmlwdHMnKSkgJiYgZmFsc2UgIT09IHN0cnBvcygkbmFtZSwgJy4nKSkgewpsaXN0KCRuYW1lLCAkc3ViTmFtZSkgPSBleHBsb2RlKCcuJywgJG5hbWUsIDIpOwp9CgoKaWYgKCFpc3NldCgkZGVjb2RlZFskbWFpbk5vZGVdKSkgewppZiAoJHN1Yk5hbWUgIT09IG51bGwpIHsKJHRoaXMtPmFkZE1haW5LZXkoJG1haW5Ob2RlLCBhcnJheSgkbmFtZSA9PiBhcnJheSgkc3ViTmFtZSA9PiAkdmFsdWUpKSk7Cn0gZWxzZSB7CiR0aGlzLT5hZGRNYWluS2V5KCRtYWluTm9kZSwgYXJyYXkoJG5hbWUgPT4gJHZhbHVlKSk7Cn0KCnJldHVybiB0cnVlOwp9CgoKJG5vZGVSZWdleCA9ICd7Jy5zZWxmOjokREVGSU5FUy4nXig/UDxzdGFydD4gXHMqIFx7IFxzKiAoPzogKD8mc3RyaW5nKSBccyogOiAoPyZqc29uKSBccyogLCBccyogKSo/Jy4KcHJlZ19xdW90ZShKc29uRmlsZTo6ZW5jb2RlKCRtYWluTm9kZSkpLidccyo6XHMqKSg/UDxjb250ZW50Pig/Jm9iamVjdCkpKD9QPGVuZD4uKil9c3gnOwoKdHJ5IHsKaWYgKCEkdGhpcy0+cHJlZ01hdGNoKCRub2RlUmVnZXgsICR0aGlzLT5jb250ZW50cywgJG1hdGNoKSkgewpyZXR1cm4gZmFsc2U7Cn0KfSBjYXRjaCAoXFJ1bnRpbWVFeGNlcHRpb24gJGUpIHsKaWYgKCRlLT5nZXRDb2RlKCkgPT09IFBSRUdfQkFDS1RSQUNLX0xJTUlUX0VSUk9SKSB7CnJldHVybiBmYWxzZTsKfQp0aHJvdyAkZTsKfQoKJGNoaWxkcmVuID0gJG1hdGNoWydjb250ZW50J107CgppZiAoIUBqc29uX2RlY29kZSgkY2hpbGRyZW4pKSB7CnJldHVybiBmYWxzZTsKfQoKJHRoYXQgPSAkdGhpczsKCgokY2hpbGRSZWdleCA9ICd7Jy5zZWxmOjokREVGSU5FUy4nKD9QPHN0YXJ0PiInLnByZWdfcXVvdGUoJG5hbWUpLiciXHMqOlxzKikoP1A8Y29udGVudD4oPyZqc29uKSkoP1A8ZW5kPiw/KX14JzsKaWYgKCR0aGlzLT5wcmVnTWF0Y2goJGNoaWxkUmVnZXgsICRjaGlsZHJlbiwgJG1hdGNoZXMpKSB7CiRjaGlsZHJlbiA9IHByZWdfcmVwbGFjZV9jYWxsYmFjaygkY2hpbGRSZWdleCwgZnVuY3Rpb24gKCRtYXRjaGVzKSB1c2UgKCRzdWJOYW1lLCAkdmFsdWUsICR0aGF0KSB7CmlmICgkc3ViTmFtZSAhPT0gbnVsbCkgewokY3VyVmFsID0ganNvbl9kZWNvZGUoJG1hdGNoZXNbJ2NvbnRlbnQnXSwgdHJ1ZSk7CmlmICghaXNfYXJyYXkoJGN1clZhbCkpIHsKJGN1clZhbCA9IGFycmF5KCk7Cn0KJGN1clZhbFskc3ViTmFtZV0gPSAkdmFsdWU7CiR2YWx1ZSA9ICRjdXJWYWw7Cn0KCnJldHVybiAkbWF0Y2hlc1snc3RhcnQnXSAuICR0aGF0LT5mb3JtYXQoJHZhbHVlLCAxKSAuICRtYXRjaGVzWydlbmQnXTsKfSwgJGNoaWxkcmVuKTsKfSBlbHNlIHsKJHRoaXMtPnByZWdNYXRjaCgnI157ICg/UDxsZWFkaW5nc3BhY2U+XHMqPykgKD9QPGNvbnRlbnQ+XFMrLio/KT8gKD9QPHRyYWlsaW5nc3BhY2U+XHMqKSB9JCNzeCcsICRjaGlsZHJlbiwgJG1hdGNoKTsKCiR3aGl0ZXNwYWNlID0gJyc7CmlmICghZW1wdHkoJG1hdGNoWyd0cmFpbGluZ3NwYWNlJ10pKSB7CiR3aGl0ZXNwYWNlID0gJG1hdGNoWyd0cmFpbGluZ3NwYWNlJ107Cn0KCmlmICghZW1wdHkoJG1hdGNoWydjb250ZW50J10pKSB7CmlmICgkc3ViTmFtZSAhPT0gbnVsbCkgewokdmFsdWUgPSBhcnJheSgkc3ViTmFtZSA9PiAkdmFsdWUpOwp9CgoKaWYgKCRhcHBlbmQpIHsKJGNoaWxkcmVuID0gcHJlZ19yZXBsYWNlKAonIycuJHdoaXRlc3BhY2UuJ30kIycsCmFkZGNzbGFzaGVzKCcsJyAuICR0aGlzLT5uZXdsaW5lIC4gJHRoaXMtPmluZGVudCAuICR0aGlzLT5pbmRlbnQgLiBKc29uRmlsZTo6ZW5jb2RlKCRuYW1lKS4nOiAnLiR0aGlzLT5mb3JtYXQoJHZhbHVlLCAxKSAuICR3aGl0ZXNwYWNlIC4gJ30nLCAnXFwkJyksCiRjaGlsZHJlbgopOwp9IGVsc2Ugewokd2hpdGVzcGFjZSA9ICcnOwppZiAoIWVtcHR5KCRtYXRjaFsnbGVhZGluZ3NwYWNlJ10pKSB7CiR3aGl0ZXNwYWNlID0gJG1hdGNoWydsZWFkaW5nc3BhY2UnXTsKfQoKJGNoaWxkcmVuID0gcHJlZ19yZXBsYWNlKAonI157Jy4kd2hpdGVzcGFjZS4nIycsCmFkZGNzbGFzaGVzKCd7JyAuICR3aGl0ZXNwYWNlIC4gSnNvbkZpbGU6OmVuY29kZSgkbmFtZSkuJzogJy4kdGhpcy0+Zm9ybWF0KCR2YWx1ZSwgMSkgLiAnLCcgLiAkdGhpcy0+bmV3bGluZSAuICR0aGlzLT5pbmRlbnQgLiAkdGhpcy0+aW5kZW50LCAnXFwkJyksCiRjaGlsZHJlbgopOwp9Cn0gZWxzZSB7CmlmICgkc3ViTmFtZSAhPT0gbnVsbCkgewokdmFsdWUgPSBhcnJheSgkc3ViTmFtZSA9PiAkdmFsdWUpOwp9CgoKJGNoaWxkcmVuID0gJ3snIC4gJHRoaXMtPm5ld2xpbmUgLiAkdGhpcy0+aW5kZW50IC4gJHRoaXMtPmluZGVudCAuIEpzb25GaWxlOjplbmNvZGUoJG5hbWUpLic6ICcuJHRoaXMtPmZvcm1hdCgkdmFsdWUsIDEpIC4gJHdoaXRlc3BhY2UgLiAnfSc7Cn0KfQoKJHRoaXMtPmNvbnRlbnRzID0gcHJlZ19yZXBsYWNlX2NhbGxiYWNrKCRub2RlUmVnZXgsIGZ1bmN0aW9uICgkbSkgdXNlICgkY2hpbGRyZW4pIHsKcmV0dXJuICRtWydzdGFydCddIC4gJGNoaWxkcmVuIC4gJG1bJ2VuZCddOwp9LCAkdGhpcy0+Y29udGVudHMpOwoKcmV0dXJuIHRydWU7Cn0KCnB1YmxpYyBmdW5jdGlvbiByZW1vdmVTdWJOb2RlKCRtYWluTm9kZSwgJG5hbWUpCnsKJGRlY29kZWQgPSBKc29uRmlsZTo6cGFyc2VKc29uKCR0aGlzLT5jb250ZW50cyk7CgoKaWYgKGVtcHR5KCRkZWNvZGVkWyRtYWluTm9kZV0pKSB7CnJldHVybiB0cnVlOwp9CgoKJG5vZGVSZWdleCA9ICd7Jy5zZWxmOjokREVGSU5FUy4nXig/UDxzdGFydD4gXHMqIFx7IFxzKiAoPzogKD8mc3RyaW5nKSBccyogOiAoPyZqc29uKSBccyogLCBccyogKSo/Jy4KcHJlZ19xdW90ZShKc29uRmlsZTo6ZW5jb2RlKCRtYWluTm9kZSkpLidccyo6XHMqKSg/UDxjb250ZW50Pig/Jm9iamVjdCkpKD9QPGVuZD4uKil9c3gnOwp0cnkgewppZiAoISR0aGlzLT5wcmVnTWF0Y2goJG5vZGVSZWdleCwgJHRoaXMtPmNvbnRlbnRzLCAkbWF0Y2gpKSB7CnJldHVybiBmYWxzZTsKfQp9IGNhdGNoIChcUnVudGltZUV4Y2VwdGlvbiAkZSkgewppZiAoJGUtPmdldENvZGUoKSA9PT0gUFJFR19CQUNLVFJBQ0tfTElNSVRfRVJST1IpIHsKcmV0dXJuIGZhbHNlOwp9CnRocm93ICRlOwp9CgokY2hpbGRyZW4gPSAkbWF0Y2hbJ2NvbnRlbnQnXTsKCgppZiAoIUBqc29uX2RlY29kZSgkY2hpbGRyZW4sIHRydWUpKSB7CnJldHVybiBmYWxzZTsKfQoKJHN1Yk5hbWUgPSBudWxsOwppZiAoaW5fYXJyYXkoJG1haW5Ob2RlLCBhcnJheSgnY29uZmlnJywgJ2V4dHJhJywgJ3NjcmlwdHMnKSkgJiYgZmFsc2UgIT09IHN0cnBvcygkbmFtZSwgJy4nKSkgewpsaXN0KCRuYW1lLCAkc3ViTmFtZSkgPSBleHBsb2RlKCcuJywgJG5hbWUsIDIpOwp9CgoKaWYgKCFpc3NldCgkZGVjb2RlZFskbWFpbk5vZGVdWyRuYW1lXSkgfHwgKCRzdWJOYW1lICYmICFpc3NldCgkZGVjb2RlZFskbWFpbk5vZGVdWyRuYW1lXVskc3ViTmFtZV0pKSkgewpyZXR1cm4gdHJ1ZTsKfQoKCiRrZXlSZWdleCA9IHN0cl9yZXBsYWNlKCcvJywgJ1xcXFw/LycsIHByZWdfcXVvdGUoJG5hbWUpKTsKaWYgKCR0aGlzLT5wcmVnTWF0Y2goJ3siJy4ka2V5UmVnZXguJyJccyo6fWknLCAkY2hpbGRyZW4pKSB7CgppZiAocHJlZ19tYXRjaF9hbGwoJ3snLnNlbGY6OiRERUZJTkVTLiciJy4ka2V5UmVnZXguJyJccyo6XHMqKD86KD8manNvbikpfXgnLCAkY2hpbGRyZW4sICRtYXRjaGVzKSkgewokYmVzdE1hdGNoID0gJyc7CmZvcmVhY2ggKCRtYXRjaGVzWzBdIGFzICRtYXRjaCkgewppZiAoc3RybGVuKCRiZXN0TWF0Y2gpIDwgc3RybGVuKCRtYXRjaCkpIHsKJGJlc3RNYXRjaCA9ICRtYXRjaDsKfQp9CiRjaGlsZHJlbkNsZWFuID0gcHJlZ19yZXBsYWNlKCd7LFxzKicucHJlZ19xdW90ZSgkYmVzdE1hdGNoKS4nfWknLCAnJywgJGNoaWxkcmVuLCAtMSwgJGNvdW50KTsKaWYgKDEgIT09ICRjb3VudCkgewokY2hpbGRyZW5DbGVhbiA9IHByZWdfcmVwbGFjZSgneycucHJlZ19xdW90ZSgkYmVzdE1hdGNoKS4nXHMqLD9ccyp9aScsICcnLCAkY2hpbGRyZW5DbGVhbiwgLTEsICRjb3VudCk7CmlmICgxICE9PSAkY291bnQpIHsKcmV0dXJuIGZhbHNlOwp9Cn0KfQp9IGVsc2UgewokY2hpbGRyZW5DbGVhbiA9ICRjaGlsZHJlbjsKfQoKaWYgKCFpc3NldCgkY2hpbGRyZW5DbGVhbikpIHsKdGhyb3cgbmV3IFxJbnZhbGlkQXJndW1lbnRFeGNlcHRpb24oIkpzb25NYW5pcHVsYXRvcjogXCRjaGlsZHJlbkNsZWFuIGlzIG5vdCBkZWZpbmVkLiBQbGVhc2UgcmVwb3J0IGF0IGh0dHBzOi8vZ2l0aHViLmNvbS9jb21wb3Nlci9jb21wb3Nlci9pc3N1ZXMvbmV3LiIpOwp9CgoKJHRoaXMtPnByZWdNYXRjaCgnI157IFxzKj8gKD9QPGNvbnRlbnQ+XFMrLio/KT8gKD9QPHRyYWlsaW5nc3BhY2U+XHMqKSB9JCNzeCcsICRjaGlsZHJlbkNsZWFuLCAkbWF0Y2gpOwppZiAoZW1wdHkoJG1hdGNoWydjb250ZW50J10pKSB7CiRuZXdsaW5lID0gJHRoaXMtPm5ld2xpbmU7CiRpbmRlbnQgPSAkdGhpcy0+aW5kZW50OwoKJHRoaXMtPmNvbnRlbnRzID0gcHJlZ19yZXBsYWNlX2NhbGxiYWNrKCRub2RlUmVnZXgsIGZ1bmN0aW9uICgkbWF0Y2hlcykgdXNlICgkaW5kZW50LCAkbmV3bGluZSkgewpyZXR1cm4gJG1hdGNoZXNbJ3N0YXJ0J10gLiAneycgLiAkbmV3bGluZSAuICRpbmRlbnQgLiAnfScgLiAkbWF0Y2hlc1snZW5kJ107Cn0sICR0aGlzLT5jb250ZW50cyk7CgoKaWYgKCRzdWJOYW1lICE9PSBudWxsKSB7CiRjdXJWYWwgPSBqc29uX2RlY29kZSgkY2hpbGRyZW4sIHRydWUpOwp1bnNldCgkY3VyVmFsWyRuYW1lXVskc3ViTmFtZV0pOwokdGhpcy0+YWRkU3ViTm9kZSgkbWFpbk5vZGUsICRuYW1lLCAkY3VyVmFsWyRuYW1lXSk7Cn0KCnJldHVybiB0cnVlOwp9CgokdGhhdCA9ICR0aGlzOwokdGhpcy0+Y29udGVudHMgPSBwcmVnX3JlcGxhY2VfY2FsbGJhY2soJG5vZGVSZWdleCwgZnVuY3Rpb24gKCRtYXRjaGVzKSB1c2UgKCR0aGF0LCAkbmFtZSwgJHN1Yk5hbWUsICRjaGlsZHJlbkNsZWFuKSB7CmlmICgkc3ViTmFtZSAhPT0gbnVsbCkgewokY3VyVmFsID0ganNvbl9kZWNvZGUoJG1hdGNoZXNbJ2NvbnRlbnQnXSwgdHJ1ZSk7CnVuc2V0KCRjdXJWYWxbJG5hbWVdWyRzdWJOYW1lXSk7CiRjaGlsZHJlbkNsZWFuID0gJHRoYXQtPmZvcm1hdCgkY3VyVmFsKTsKfQoKcmV0dXJuICRtYXRjaGVzWydzdGFydCddIC4gJGNoaWxkcmVuQ2xlYW4gLiAkbWF0Y2hlc1snZW5kJ107Cn0sICR0aGlzLT5jb250ZW50cyk7CgpyZXR1cm4gdHJ1ZTsKfQoKcHVibGljIGZ1bmN0aW9uIGFkZE1haW5LZXkoJGtleSwgJGNvbnRlbnQpCnsKJGRlY29kZWQgPSBKc29uRmlsZTo6cGFyc2VKc29uKCR0aGlzLT5jb250ZW50cyk7CiRjb250ZW50ID0gJHRoaXMtPmZvcm1hdCgkY29udGVudCk7CgoKJHJlZ2V4ID0gJ3snLnNlbGY6OiRERUZJTkVTLideKD9QPHN0YXJ0PlxzKlx7XHMqKD86KD8mc3RyaW5nKVxzKjpccyooPyZqc29uKVxzKixccyopKj8pJy4KJyg/UDxrZXk+Jy5wcmVnX3F1b3RlKEpzb25GaWxlOjplbmNvZGUoJGtleSkpLidccyo6XHMqKD8manNvbikpKD9QPGVuZD4uKil9c3gnOwppZiAoaXNzZXQoJGRlY29kZWRbJGtleV0pICYmICR0aGlzLT5wcmVnTWF0Y2goJHJlZ2V4LCAkdGhpcy0+Y29udGVudHMsICRtYXRjaGVzKSkgewoKaWYgKCFAanNvbl9kZWNvZGUoJ3snLiRtYXRjaGVzWydrZXknXS4nfScpKSB7CnJldHVybiBmYWxzZTsKfQoKJHRoaXMtPmNvbnRlbnRzID0gJG1hdGNoZXNbJ3N0YXJ0J10gLiBKc29uRmlsZTo6ZW5jb2RlKCRrZXkpLic6ICcuJGNvbnRlbnQgLiAkbWF0Y2hlc1snZW5kJ107CgpyZXR1cm4gdHJ1ZTsKfQoKCmlmICgkdGhpcy0+cHJlZ01hdGNoKCcjW157XHNdKFxzKilcfSQjJywgJHRoaXMtPmNvbnRlbnRzLCAkbWF0Y2gpKSB7CiR0aGlzLT5jb250ZW50cyA9IHByZWdfcmVwbGFjZSgKJyMnLiRtYXRjaFsxXS4nXH0kIycsCmFkZGNzbGFzaGVzKCcsJyAuICR0aGlzLT5uZXdsaW5lIC4gJHRoaXMtPmluZGVudCAuIEpzb25GaWxlOjplbmNvZGUoJGtleSkuICc6ICcuICRjb250ZW50IC4gJHRoaXMtPm5ld2xpbmUgLiAnfScsICdcXCQnKSwKJHRoaXMtPmNvbnRlbnRzCik7CgpyZXR1cm4gdHJ1ZTsKfQoKCiR0aGlzLT5jb250ZW50cyA9IHByZWdfcmVwbGFjZSgKJyNcfSQjJywKYWRkY3NsYXNoZXMoJHRoaXMtPmluZGVudCAuIEpzb25GaWxlOjplbmNvZGUoJGtleSkuICc6ICcuJGNvbnRlbnQgLiAkdGhpcy0+bmV3bGluZSAuICd9JywgJ1xcJCcpLAokdGhpcy0+Y29udGVudHMKKTsKCnJldHVybiB0cnVlOwp9CgpwdWJsaWMgZnVuY3Rpb24gcmVtb3ZlTWFpbktleSgka2V5KQp7CiRkZWNvZGVkID0gSnNvbkZpbGU6OnBhcnNlSnNvbigkdGhpcy0+Y29udGVudHMpOwoKaWYgKCFhcnJheV9rZXlfZXhpc3RzKCRrZXksICRkZWNvZGVkKSkgewpyZXR1cm4gdHJ1ZTsKfQoKCiRyZWdleCA9ICd7Jy5zZWxmOjokREVGSU5FUy4nXig/UDxzdGFydD5ccypce1xzKig/Oig/JnN0cmluZylccyo6XHMqKD8manNvbilccyosXHMqKSo/KScuCicoP1A8cmVtb3ZhbD4nLnByZWdfcXVvdGUoSnNvbkZpbGU6OmVuY29kZSgka2V5KSkuJ1xzKjpccyooPyZqc29uKSlccyosP1xzKig/UDxlbmQ+LiopfXN4JzsKaWYgKCR0aGlzLT5wcmVnTWF0Y2goJHJlZ2V4LCAkdGhpcy0+Y29udGVudHMsICRtYXRjaGVzKSkgewoKaWYgKCFAanNvbl9kZWNvZGUoJ3snLiRtYXRjaGVzWydyZW1vdmFsJ10uJ30nKSkgewpyZXR1cm4gZmFsc2U7Cn0KCgppZiAocHJlZ19tYXRjaCgnIyxccyokIycsICRtYXRjaGVzWydzdGFydCddKSAmJiBwcmVnX21hdGNoKCcjXlx9JCMnLCAkbWF0Y2hlc1snZW5kJ10pKSB7CiRtYXRjaGVzWydzdGFydCddID0gcnRyaW0ocHJlZ19yZXBsYWNlKCcjLChccyopJCMnLCAnJDEnLCAkbWF0Y2hlc1snc3RhcnQnXSksICR0aGlzLT5pbmRlbnQpOwp9CgokdGhpcy0+Y29udGVudHMgPSAkbWF0Y2hlc1snc3RhcnQnXSAuICRtYXRjaGVzWydlbmQnXTsKaWYgKHByZWdfbWF0Y2goJyNeXHtccypcfVxzKiQjJywgJHRoaXMtPmNvbnRlbnRzKSkgewokdGhpcy0+Y29udGVudHMgPSAie1xufSI7Cn0KCnJldHVybiB0cnVlOwp9CgpyZXR1cm4gZmFsc2U7Cn0KCnB1YmxpYyBmdW5jdGlvbiByZW1vdmVNYWluS2V5SWZFbXB0eSgka2V5KQp7CiRkZWNvZGVkID0gSnNvbkZpbGU6OnBhcnNlSnNvbigkdGhpcy0+Y29udGVudHMpOwoKaWYgKCFhcnJheV9rZXlfZXhpc3RzKCRrZXksICRkZWNvZGVkKSkgewpyZXR1cm4gdHJ1ZTsKfQoKaWYgKGlzX2FycmF5KCRkZWNvZGVkWyRrZXldKSAmJiBjb3VudCgkZGVjb2RlZFska2V5XSkgPT09IDApIHsKcmV0dXJuICR0aGlzLT5yZW1vdmVNYWluS2V5KCRrZXkpOwp9CgpyZXR1cm4gdHJ1ZTsKfQoKcHVibGljIGZ1bmN0aW9uIGZvcm1hdCgkZGF0YSwgJGRlcHRoID0gMCkKewppZiAoaXNfYXJyYXkoJGRhdGEpKSB7CnJlc2V0KCRkYXRhKTsKCmlmIChpc19udW1lcmljKGtleSgkZGF0YSkpKSB7CmZvcmVhY2ggKCRkYXRhIGFzICRrZXkgPT4gJHZhbCkgewokZGF0YVska2V5XSA9ICR0aGlzLT5mb3JtYXQoJHZhbCwgJGRlcHRoICsgMSk7Cn0KCnJldHVybiAnWycuaW1wbG9kZSgnLCAnLCAkZGF0YSkuJ10nOwp9Cgokb3V0ID0gJ3snIC4gJHRoaXMtPm5ld2xpbmU7CiRlbGVtcyA9IGFycmF5KCk7CmZvcmVhY2ggKCRkYXRhIGFzICRrZXkgPT4gJHZhbCkgewokZWxlbXNbXSA9IHN0cl9yZXBlYXQoJHRoaXMtPmluZGVudCwgJGRlcHRoICsgMikgLiBKc29uRmlsZTo6ZW5jb2RlKCRrZXkpLiAnOiAnLiR0aGlzLT5mb3JtYXQoJHZhbCwgJGRlcHRoICsgMSk7Cn0KCnJldHVybiAkb3V0IC4gaW1wbG9kZSgnLCcuJHRoaXMtPm5ld2xpbmUsICRlbGVtcykgLiAkdGhpcy0+bmV3bGluZSAuIHN0cl9yZXBlYXQoJHRoaXMtPmluZGVudCwgJGRlcHRoICsgMSkgLiAnfSc7Cn0KCnJldHVybiBKc29uRmlsZTo6ZW5jb2RlKCRkYXRhKTsKfQoKcHJvdGVjdGVkIGZ1bmN0aW9uIGRldGVjdEluZGVudGluZygpCnsKaWYgKCR0aGlzLT5wcmVnTWF0Y2goJ3teKFsgXHRdKykifW0nLCAkdGhpcy0+Y29udGVudHMsICRtYXRjaCkpIHsKJHRoaXMtPmluZGVudCA9ICRtYXRjaFsxXTsKfSBlbHNlIHsKJHRoaXMtPmluZGVudCA9ICcgICAgJzsKfQp9Cgpwcm90ZWN0ZWQgZnVuY3Rpb24gcHJlZ01hdGNoKCRyZSwgJHN0ciwgJiRtYXRjaGVzID0gYXJyYXkoKSkKewokY291bnQgPSBwcmVnX21hdGNoKCRyZSwgJHN0ciwgJG1hdGNoZXMpOwoKaWYgKCRjb3VudCA9PT0gZmFsc2UpIHsKc3dpdGNoIChwcmVnX2xhc3RfZXJyb3IoKSkgewpjYXNlIFBSRUdfTk9fRVJST1I6CnRocm93IG5ldyBcUnVudGltZUV4Y2VwdGlvbignRmFpbGVkIHRvIGV4ZWN1dGUgcmVnZXg6IFBSRUdfTk9fRVJST1InLCBQUkVHX05PX0VSUk9SKTsKY2FzZSBQUkVHX0lOVEVSTkFMX0VSUk9SOgp0aHJvdyBuZXcgXFJ1bnRpbWVFeGNlcHRpb24oJ0ZhaWxlZCB0byBleGVjdXRlIHJlZ2V4OiBQUkVHX0lOVEVSTkFMX0VSUk9SJywgUFJFR19JTlRFUk5BTF9FUlJPUik7CmNhc2UgUFJFR19CQUNLVFJBQ0tfTElNSVRfRVJST1I6CnRocm93IG5ldyBcUnVudGltZUV4Y2VwdGlvbignRmFpbGVkIHRvIGV4ZWN1dGUgcmVnZXg6IFBSRUdfQkFDS1RSQUNLX0xJTUlUX0VSUk9SJywgUFJFR19CQUNLVFJBQ0tfTElNSVRfRVJST1IpOwpjYXNlIFBSRUdfUkVDVVJTSU9OX0xJTUlUX0VSUk9SOgp0aHJvdyBuZXcgXFJ1bnRpbWVFeGNlcHRpb24oJ0ZhaWxlZCB0byBleGVjdXRlIHJlZ2V4OiBQUkVHX1JFQ1VSU0lPTl9MSU1JVF9FUlJPUicsIFBSRUdfUkVDVVJTSU9OX0xJTUlUX0VSUk9SKTsKY2FzZSBQUkVHX0JBRF9VVEY4X0VSUk9SOgp0aHJvdyBuZXcgXFJ1bnRpbWVFeGNlcHRpb24oJ0ZhaWxlZCB0byBleGVjdXRlIHJlZ2V4OiBQUkVHX0JBRF9VVEY4X0VSUk9SJywgUFJFR19CQURfVVRGOF9FUlJPUik7CmNhc2UgUFJFR19CQURfVVRGOF9PRkZTRVRfRVJST1I6CnRocm93IG5ldyBcUnVudGltZUV4Y2VwdGlvbignRmFpbGVkIHRvIGV4ZWN1dGUgcmVnZXg6IFBSRUdfQkFEX1VURjhfT0ZGU0VUX0VSUk9SJywgUFJFR19CQURfVVRGOF9PRkZTRVRfRVJST1IpOwpjYXNlIDY6IAppZiAoUEhQX1ZFUlNJT05fSUQgPiA3MDAwMCkgewp0aHJvdyBuZXcgXFJ1bnRpbWVFeGNlcHRpb24oJ0ZhaWxlZCB0byBleGVjdXRlIHJlZ2V4OiBQUkVHX0pJVF9TVEFDS0xJTUlUX0VSUk9SJywgNik7Cn0KCmRlZmF1bHQ6CnRocm93IG5ldyBcUnVudGltZUV4Y2VwdGlvbignRmFpbGVkIHRvIGV4ZWN1dGUgcmVnZXg6IFVua25vd24gZXJyb3InKTsKfQp9CgpyZXR1cm4gJGNvdW50Owp9Cn0KPD9waHAKCgoKCgoKCgoKCgpuYW1lc3BhY2UgQ29tcG9zZXJcSnNvbjsKCnVzZSBFeGNlcHRpb247CgoKCgpjbGFzcyBKc29uVmFsaWRhdGlvbkV4Y2VwdGlvbiBleHRlbmRzIEV4Y2VwdGlvbgp7CnByb3RlY3RlZCAkZXJyb3JzOwoKcHVibGljIGZ1bmN0aW9uIF9fY29uc3RydWN0KCRtZXNzYWdlLCAkZXJyb3JzID0gYXJyYXkoKSwgRXhjZXB0aW9uICRwcmV2aW91cyA9IG51bGwpCnsKJHRoaXMtPmVycm9ycyA9ICRlcnJvcnM7CnBhcmVudDo6X19jb25zdHJ1Y3QoJG1lc3NhZ2UsIDAsICRwcmV2aW91cyk7Cn0KCnB1YmxpYyBmdW5jdGlvbiBnZXRFcnJvcnMoKQp7CnJldHVybiAkdGhpcy0+ZXJyb3JzOwp9Cn0KPD9waHAKCgoKCgoKCgoKCgpuYW1lc3BhY2UgQ29tcG9zZXJcUGFja2FnZTsKCnVzZSBDb21wb3NlclxTZW12ZXJcQ29uc3RyYWludFxDb25zdHJhaW50Owp1c2UgQ29tcG9zZXJcUGFja2FnZVxWZXJzaW9uXFZlcnNpb25QYXJzZXI7CgoKCgpjbGFzcyBBbGlhc1BhY2thZ2UgZXh0ZW5kcyBCYXNlUGFja2FnZQp7CnByb3RlY3RlZCAkdmVyc2lvbjsKcHJvdGVjdGVkICRwcmV0dHlWZXJzaW9uOwpwcm90ZWN0ZWQgJGRldjsKcHJvdGVjdGVkICRyb290UGFja2FnZUFsaWFzID0gZmFsc2U7CnByb3RlY3RlZCAkc3RhYmlsaXR5Owpwcm90ZWN0ZWQgJGhhc1NlbGZWZXJzaW9uUmVxdWlyZXMgPSBmYWxzZTsKCgpwcm90ZWN0ZWQgJGFsaWFzT2Y7Cgpwcm90ZWN0ZWQgJHJlcXVpcmVzOwoKcHJvdGVjdGVkICRkZXZSZXF1aXJlczsKCnByb3RlY3RlZCAkY29uZmxpY3RzOwoKcHJvdGVjdGVkICRwcm92aWRlczsKCnByb3RlY3RlZCAkcmVwbGFjZXM7CgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIF9fY29uc3RydWN0KEJhc2VQYWNrYWdlICRhbGlhc09mLCAkdmVyc2lvbiwgJHByZXR0eVZlcnNpb24pCnsKcGFyZW50OjpfX2NvbnN0cnVjdCgkYWxpYXNPZi0+Z2V0TmFtZSgpKTsKCiR0aGlzLT52ZXJzaW9uID0gJHZlcnNpb247CiR0aGlzLT5wcmV0dHlWZXJzaW9uID0gJHByZXR0eVZlcnNpb247CiR0aGlzLT5hbGlhc09mID0gJGFsaWFzT2Y7CiR0aGlzLT5zdGFiaWxpdHkgPSBWZXJzaW9uUGFyc2VyOjpwYXJzZVN0YWJpbGl0eSgkdmVyc2lvbik7CiR0aGlzLT5kZXYgPSAkdGhpcy0+c3RhYmlsaXR5ID09PSAnZGV2JzsKCmZvcmVhY2ggKExpbms6OiRUWVBFUyBhcyAkdHlwZSkgewokbGlua3MgPSAkYWxpYXNPZi0+eydnZXQnIC4gdWNmaXJzdCgkdHlwZSl9KCk7CiR0aGlzLT4kdHlwZSA9ICR0aGlzLT5yZXBsYWNlU2VsZlZlcnNpb25EZXBlbmRlbmNpZXMoJGxpbmtzLCAkdHlwZSk7Cn0KfQoKCgoKcHVibGljIGZ1bmN0aW9uIGdldEFsaWFzT2YoKQp7CnJldHVybiAkdGhpcy0+YWxpYXNPZjsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIGdldFZlcnNpb24oKQp7CnJldHVybiAkdGhpcy0+dmVyc2lvbjsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIGdldFN0YWJpbGl0eSgpCnsKcmV0dXJuICR0aGlzLT5zdGFiaWxpdHk7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBnZXRQcmV0dHlWZXJzaW9uKCkKewpyZXR1cm4gJHRoaXMtPnByZXR0eVZlcnNpb247Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBpc0RldigpCnsKcmV0dXJuICR0aGlzLT5kZXY7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBnZXRSZXF1aXJlcygpCnsKcmV0dXJuICR0aGlzLT5yZXF1aXJlczsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIGdldENvbmZsaWN0cygpCnsKcmV0dXJuICR0aGlzLT5jb25mbGljdHM7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBnZXRQcm92aWRlcygpCnsKcmV0dXJuICR0aGlzLT5wcm92aWRlczsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIGdldFJlcGxhY2VzKCkKewpyZXR1cm4gJHRoaXMtPnJlcGxhY2VzOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0RGV2UmVxdWlyZXMoKQp7CnJldHVybiAkdGhpcy0+ZGV2UmVxdWlyZXM7Cn0KCgoKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBzZXRSb290UGFja2FnZUFsaWFzKCR2YWx1ZSkKewpyZXR1cm4gJHRoaXMtPnJvb3RQYWNrYWdlQWxpYXMgPSAkdmFsdWU7Cn0KCgoKCgpwdWJsaWMgZnVuY3Rpb24gaXNSb290UGFja2FnZUFsaWFzKCkKewpyZXR1cm4gJHRoaXMtPnJvb3RQYWNrYWdlQWxpYXM7Cn0KCgoKCgoKCnByb3RlY3RlZCBmdW5jdGlvbiByZXBsYWNlU2VsZlZlcnNpb25EZXBlbmRlbmNpZXMoYXJyYXkgJGxpbmtzLCAkbGlua1R5cGUpCnsKCiRwcmV0dHlWZXJzaW9uID0gJHRoaXMtPnByZXR0eVZlcnNpb247CmlmICgkcHJldHR5VmVyc2lvbiA9PT0gVmVyc2lvblBhcnNlcjo6REVGQVVMVF9CUkFOQ0hfQUxJQVMpIHsKJHByZXR0eVZlcnNpb24gPSAkdGhpcy0+YWxpYXNPZi0+Z2V0UHJldHR5VmVyc2lvbigpOwp9CgppZiAoXGluX2FycmF5KCRsaW5rVHlwZSwgYXJyYXkoTGluazo6VFlQRV9DT05GTElDVCwgTGluazo6VFlQRV9QUk9WSURFLCBMaW5rOjpUWVBFX1JFUExBQ0UpLCB0cnVlKSkgewokbmV3TGlua3MgPSBhcnJheSgpOwpmb3JlYWNoICgkbGlua3MgYXMgJGxpbmspIHsKCmlmICgnc2VsZi52ZXJzaW9uJyA9PT0gJGxpbmstPmdldFByZXR0eUNvbnN0cmFpbnQoKSkgewokbmV3TGlua3NbXSA9IG5ldyBMaW5rKCRsaW5rLT5nZXRTb3VyY2UoKSwgJGxpbmstPmdldFRhcmdldCgpLCAkY29uc3RyYWludCA9IG5ldyBDb25zdHJhaW50KCc9JywgJHRoaXMtPnZlcnNpb24pLCAkbGlua1R5cGUsICRwcmV0dHlWZXJzaW9uKTsKJGNvbnN0cmFpbnQtPnNldFByZXR0eVN0cmluZygkcHJldHR5VmVyc2lvbik7Cn0KfQokbGlua3MgPSBhcnJheV9tZXJnZSgkbGlua3MsICRuZXdMaW5rcyk7Cn0gZWxzZSB7CmZvcmVhY2ggKCRsaW5rcyBhcyAkaW5kZXggPT4gJGxpbmspIHsKaWYgKCdzZWxmLnZlcnNpb24nID09PSAkbGluay0+Z2V0UHJldHR5Q29uc3RyYWludCgpKSB7CmlmICgkbGlua1R5cGUgPT09IExpbms6OlRZUEVfUkVRVUlSRSkgewokdGhpcy0+aGFzU2VsZlZlcnNpb25SZXF1aXJlcyA9IHRydWU7Cn0KJGxpbmtzWyRpbmRleF0gPSBuZXcgTGluaygkbGluay0+Z2V0U291cmNlKCksICRsaW5rLT5nZXRUYXJnZXQoKSwgJGNvbnN0cmFpbnQgPSBuZXcgQ29uc3RyYWludCgnPScsICR0aGlzLT52ZXJzaW9uKSwgJGxpbmtUeXBlLCAkcHJldHR5VmVyc2lvbik7CiRjb25zdHJhaW50LT5zZXRQcmV0dHlTdHJpbmcoJHByZXR0eVZlcnNpb24pOwp9Cn0KfQoKcmV0dXJuICRsaW5rczsKfQoKcHVibGljIGZ1bmN0aW9uIGhhc1NlbGZWZXJzaW9uUmVxdWlyZXMoKQp7CnJldHVybiAkdGhpcy0+aGFzU2VsZlZlcnNpb25SZXF1aXJlczsKfQoKcHVibGljIGZ1bmN0aW9uIF9fdG9TdHJpbmcoKQp7CnJldHVybiBwYXJlbnQ6Ol9fdG9TdHJpbmcoKS4nICgnLigkdGhpcy0+cm9vdFBhY2thZ2VBbGlhcyA/ICdyb290ICcgOiAnJykuICdhbGlhcyBvZiAnLiR0aGlzLT5hbGlhc09mLT5nZXRWZXJzaW9uKCkuJyknOwp9CgoKCgoKcHVibGljIGZ1bmN0aW9uIGdldFR5cGUoKQp7CnJldHVybiAkdGhpcy0+YWxpYXNPZi0+Z2V0VHlwZSgpOwp9CgpwdWJsaWMgZnVuY3Rpb24gZ2V0VGFyZ2V0RGlyKCkKewpyZXR1cm4gJHRoaXMtPmFsaWFzT2YtPmdldFRhcmdldERpcigpOwp9CgpwdWJsaWMgZnVuY3Rpb24gZ2V0RXh0cmEoKQp7CnJldHVybiAkdGhpcy0+YWxpYXNPZi0+Z2V0RXh0cmEoKTsKfQoKcHVibGljIGZ1bmN0aW9uIHNldEluc3RhbGxhdGlvblNvdXJjZSgkdHlwZSkKewokdGhpcy0+YWxpYXNPZi0+c2V0SW5zdGFsbGF0aW9uU291cmNlKCR0eXBlKTsKfQoKcHVibGljIGZ1bmN0aW9uIGdldEluc3RhbGxhdGlvblNvdXJjZSgpCnsKcmV0dXJuICR0aGlzLT5hbGlhc09mLT5nZXRJbnN0YWxsYXRpb25Tb3VyY2UoKTsKfQoKcHVibGljIGZ1bmN0aW9uIGdldFNvdXJjZVR5cGUoKQp7CnJldHVybiAkdGhpcy0+YWxpYXNPZi0+Z2V0U291cmNlVHlwZSgpOwp9CgpwdWJsaWMgZnVuY3Rpb24gZ2V0U291cmNlVXJsKCkKewpyZXR1cm4gJHRoaXMtPmFsaWFzT2YtPmdldFNvdXJjZVVybCgpOwp9CgpwdWJsaWMgZnVuY3Rpb24gZ2V0U291cmNlVXJscygpCnsKcmV0dXJuICR0aGlzLT5hbGlhc09mLT5nZXRTb3VyY2VVcmxzKCk7Cn0KCnB1YmxpYyBmdW5jdGlvbiBnZXRTb3VyY2VSZWZlcmVuY2UoKQp7CnJldHVybiAkdGhpcy0+YWxpYXNPZi0+Z2V0U291cmNlUmVmZXJlbmNlKCk7Cn0KCnB1YmxpYyBmdW5jdGlvbiBzZXRTb3VyY2VSZWZlcmVuY2UoJHJlZmVyZW5jZSkKewokdGhpcy0+YWxpYXNPZi0+c2V0U291cmNlUmVmZXJlbmNlKCRyZWZlcmVuY2UpOwp9CgpwdWJsaWMgZnVuY3Rpb24gc2V0U291cmNlTWlycm9ycygkbWlycm9ycykKewokdGhpcy0+YWxpYXNPZi0+c2V0U291cmNlTWlycm9ycygkbWlycm9ycyk7Cn0KCnB1YmxpYyBmdW5jdGlvbiBnZXRTb3VyY2VNaXJyb3JzKCkKewpyZXR1cm4gJHRoaXMtPmFsaWFzT2YtPmdldFNvdXJjZU1pcnJvcnMoKTsKfQoKcHVibGljIGZ1bmN0aW9uIGdldERpc3RUeXBlKCkKewpyZXR1cm4gJHRoaXMtPmFsaWFzT2YtPmdldERpc3RUeXBlKCk7Cn0KCnB1YmxpYyBmdW5jdGlvbiBnZXREaXN0VXJsKCkKewpyZXR1cm4gJHRoaXMtPmFsaWFzT2YtPmdldERpc3RVcmwoKTsKfQoKcHVibGljIGZ1bmN0aW9uIGdldERpc3RVcmxzKCkKewpyZXR1cm4gJHRoaXMtPmFsaWFzT2YtPmdldERpc3RVcmxzKCk7Cn0KCnB1YmxpYyBmdW5jdGlvbiBnZXREaXN0UmVmZXJlbmNlKCkKewpyZXR1cm4gJHRoaXMtPmFsaWFzT2YtPmdldERpc3RSZWZlcmVuY2UoKTsKfQoKcHVibGljIGZ1bmN0aW9uIHNldERpc3RSZWZlcmVuY2UoJHJlZmVyZW5jZSkKewokdGhpcy0+YWxpYXNPZi0+c2V0RGlzdFJlZmVyZW5jZSgkcmVmZXJlbmNlKTsKfQoKcHVibGljIGZ1bmN0aW9uIGdldERpc3RTaGExQ2hlY2tzdW0oKQp7CnJldHVybiAkdGhpcy0+YWxpYXNPZi0+Z2V0RGlzdFNoYTFDaGVja3N1bSgpOwp9CgpwdWJsaWMgZnVuY3Rpb24gc2V0VHJhbnNwb3J0T3B0aW9ucyhhcnJheSAkb3B0aW9ucykKewokdGhpcy0+YWxpYXNPZi0+c2V0VHJhbnNwb3J0T3B0aW9ucygkb3B0aW9ucyk7Cn0KCnB1YmxpYyBmdW5jdGlvbiBnZXRUcmFuc3BvcnRPcHRpb25zKCkKewpyZXR1cm4gJHRoaXMtPmFsaWFzT2YtPmdldFRyYW5zcG9ydE9wdGlvbnMoKTsKfQoKcHVibGljIGZ1bmN0aW9uIHNldERpc3RNaXJyb3JzKCRtaXJyb3JzKQp7CiR0aGlzLT5hbGlhc09mLT5zZXREaXN0TWlycm9ycygkbWlycm9ycyk7Cn0KCnB1YmxpYyBmdW5jdGlvbiBnZXREaXN0TWlycm9ycygpCnsKcmV0dXJuICR0aGlzLT5hbGlhc09mLT5nZXREaXN0TWlycm9ycygpOwp9CgpwdWJsaWMgZnVuY3Rpb24gZ2V0QXV0b2xvYWQoKQp7CnJldHVybiAkdGhpcy0+YWxpYXNPZi0+Z2V0QXV0b2xvYWQoKTsKfQoKcHVibGljIGZ1bmN0aW9uIGdldERldkF1dG9sb2FkKCkKewpyZXR1cm4gJHRoaXMtPmFsaWFzT2YtPmdldERldkF1dG9sb2FkKCk7Cn0KCnB1YmxpYyBmdW5jdGlvbiBnZXRJbmNsdWRlUGF0aHMoKQp7CnJldHVybiAkdGhpcy0+YWxpYXNPZi0+Z2V0SW5jbHVkZVBhdGhzKCk7Cn0KCnB1YmxpYyBmdW5jdGlvbiBnZXRSZWxlYXNlRGF0ZSgpCnsKcmV0dXJuICR0aGlzLT5hbGlhc09mLT5nZXRSZWxlYXNlRGF0ZSgpOwp9CgpwdWJsaWMgZnVuY3Rpb24gZ2V0QmluYXJpZXMoKQp7CnJldHVybiAkdGhpcy0+YWxpYXNPZi0+Z2V0QmluYXJpZXMoKTsKfQoKcHVibGljIGZ1bmN0aW9uIGdldFN1Z2dlc3RzKCkKewpyZXR1cm4gJHRoaXMtPmFsaWFzT2YtPmdldFN1Z2dlc3RzKCk7Cn0KCnB1YmxpYyBmdW5jdGlvbiBnZXROb3RpZmljYXRpb25VcmwoKQp7CnJldHVybiAkdGhpcy0+YWxpYXNPZi0+Z2V0Tm90aWZpY2F0aW9uVXJsKCk7Cn0KCnB1YmxpYyBmdW5jdGlvbiBpc0RlZmF1bHRCcmFuY2goKQp7CnJldHVybiAkdGhpcy0+YWxpYXNPZi0+aXNEZWZhdWx0QnJhbmNoKCk7Cn0KCnB1YmxpYyBmdW5jdGlvbiBzZXREaXN0VXJsKCR1cmwpCnsKJHRoaXMtPmFsaWFzT2YtPnNldERpc3RVcmwoJHVybCk7Cn0KCnB1YmxpYyBmdW5jdGlvbiBzZXREaXN0VHlwZSgkdHlwZSkKewokdGhpcy0+YWxpYXNPZi0+c2V0RGlzdFR5cGUoJHR5cGUpOwp9CgpwdWJsaWMgZnVuY3Rpb24gc2V0U291cmNlRGlzdFJlZmVyZW5jZXMoJHJlZmVyZW5jZSkKewokdGhpcy0+YWxpYXNPZi0+c2V0U291cmNlRGlzdFJlZmVyZW5jZXMoJHJlZmVyZW5jZSk7Cn0KfQo8P3BocAoKCgoKCgoKCgoKCm5hbWVzcGFjZSBDb21wb3NlclxQYWNrYWdlXEFyY2hpdmVyOwoKdXNlIEZpbHRlckl0ZXJhdG9yOwp1c2UgUGhhckRhdGE7CgpjbGFzcyBBcmNoaXZhYmxlRmlsZXNGaWx0ZXIgZXh0ZW5kcyBGaWx0ZXJJdGVyYXRvcgp7CnByaXZhdGUgJGRpcnMgPSBhcnJheSgpOwoKCgoKcHVibGljIGZ1bmN0aW9uIGFjY2VwdCgpCnsKJGZpbGUgPSAkdGhpcy0+Z2V0SW5uZXJJdGVyYXRvcigpLT5jdXJyZW50KCk7CmlmICgkZmlsZS0+aXNEaXIoKSkgewokdGhpcy0+ZGlyc1tdID0gKHN0cmluZykgJGZpbGU7CgpyZXR1cm4gZmFsc2U7Cn0KCnJldHVybiB0cnVlOwp9CgpwdWJsaWMgZnVuY3Rpb24gYWRkRW1wdHlEaXIoUGhhckRhdGEgJHBoYXIsICRzb3VyY2VzKQp7CmZvcmVhY2ggKCR0aGlzLT5kaXJzIGFzICRmaWxlcGF0aCkgewokbG9jYWxuYW1lID0gc3RyX3JlcGxhY2UoJHNvdXJjZXMgLiAiLyIsICcnLCAkZmlsZXBhdGgpOwokcGhhci0+YWRkRW1wdHlEaXIoJGxvY2FsbmFtZSk7Cn0KfQp9Cjw/cGhwCgoKCgoKCgoKCgoKbmFtZXNwYWNlIENvbXBvc2VyXFBhY2thZ2VcQXJjaGl2ZXI7Cgp1c2UgQ29tcG9zZXJcVXRpbFxGaWxlc3lzdGVtOwp1c2UgRmlsZXN5c3RlbUl0ZXJhdG9yOwp1c2UgU3ltZm9ueVxDb21wb25lbnRcRmluZGVyXEZpbmRlcjsKdXNlIFN5bWZvbnlcQ29tcG9uZW50XEZpbmRlclxTcGxGaWxlSW5mbzsKCgoKCgoKCgoKY2xhc3MgQXJjaGl2YWJsZUZpbGVzRmluZGVyIGV4dGVuZHMgXEZpbHRlckl0ZXJhdG9yCnsKCgoKcHJvdGVjdGVkICRmaW5kZXI7CgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIF9fY29uc3RydWN0KCRzb3VyY2VzLCBhcnJheSAkZXhjbHVkZXMsICRpZ25vcmVGaWx0ZXJzID0gZmFsc2UpCnsKJGZzID0gbmV3IEZpbGVzeXN0ZW0oKTsKCiRzb3VyY2VzID0gJGZzLT5ub3JtYWxpemVQYXRoKHJlYWxwYXRoKCRzb3VyY2VzKSk7CgppZiAoJGlnbm9yZUZpbHRlcnMpIHsKJGZpbHRlcnMgPSBhcnJheSgpOwp9IGVsc2UgewokZmlsdGVycyA9IGFycmF5KApuZXcgSGdFeGNsdWRlRmlsdGVyKCRzb3VyY2VzKSwKbmV3IEdpdEV4Y2x1ZGVGaWx0ZXIoJHNvdXJjZXMpLApuZXcgQ29tcG9zZXJFeGNsdWRlRmlsdGVyKCRzb3VyY2VzLCAkZXhjbHVkZXMpLAopOwp9CgokdGhpcy0+ZmluZGVyID0gbmV3IEZpbmRlcigpOwoKJGZpbHRlciA9IGZ1bmN0aW9uIChcU3BsRmlsZUluZm8gJGZpbGUpIHVzZSAoJHNvdXJjZXMsICRmaWx0ZXJzLCAkZnMpIHsKaWYgKCRmaWxlLT5pc0xpbmsoKSAmJiBzdHJwb3MoJGZpbGUtPmdldFJlYWxQYXRoKCksICRzb3VyY2VzKSAhPT0gMCkgewpyZXR1cm4gZmFsc2U7Cn0KCiRyZWxhdGl2ZVBhdGggPSBwcmVnX3JlcGxhY2UoCicjXicucHJlZ19xdW90ZSgkc291cmNlcywgJyMnKS4nIycsCicnLAokZnMtPm5vcm1hbGl6ZVBhdGgoJGZpbGUtPmdldFJlYWxQYXRoKCkpCik7CgokZXhjbHVkZSA9IGZhbHNlOwpmb3JlYWNoICgkZmlsdGVycyBhcyAkZmlsdGVyKSB7CiRleGNsdWRlID0gJGZpbHRlci0+ZmlsdGVyKCRyZWxhdGl2ZVBhdGgsICRleGNsdWRlKTsKfQoKcmV0dXJuICEkZXhjbHVkZTsKfTsKCmlmIChtZXRob2RfZXhpc3RzKCRmaWx0ZXIsICdiaW5kVG8nKSkgewokZmlsdGVyID0gJGZpbHRlci0+YmluZFRvKG51bGwpOwp9CgokdGhpcy0+ZmluZGVyCi0+aW4oJHNvdXJjZXMpCi0+ZmlsdGVyKCRmaWx0ZXIpCi0+aWdub3JlVkNTKHRydWUpCi0+aWdub3JlRG90RmlsZXMoZmFsc2UpOwoKcGFyZW50OjpfX2NvbnN0cnVjdCgkdGhpcy0+ZmluZGVyLT5nZXRJdGVyYXRvcigpKTsKfQoKcHVibGljIGZ1bmN0aW9uIGFjY2VwdCgpCnsKCiRjdXJyZW50ID0gJHRoaXMtPmdldElubmVySXRlcmF0b3IoKS0+Y3VycmVudCgpOwoKaWYgKCEkY3VycmVudC0+aXNEaXIoKSkgewpyZXR1cm4gdHJ1ZTsKfQoKJGl0ZXJhdG9yID0gbmV3IEZpbGVzeXN0ZW1JdGVyYXRvcigkY3VycmVudCwgRmlsZXN5c3RlbUl0ZXJhdG9yOjpTS0lQX0RPVFMpOwoKcmV0dXJuICEkaXRlcmF0b3ItPnZhbGlkKCk7Cn0KfQo8P3BocAoKCgoKCgoKCgoKCm5hbWVzcGFjZSBDb21wb3NlclxQYWNrYWdlXEFyY2hpdmVyOwoKdXNlIENvbXBvc2VyXERvd25sb2FkZXJcRG93bmxvYWRNYW5hZ2VyOwp1c2UgQ29tcG9zZXJcUGFja2FnZVxSb290UGFja2FnZUludGVyZmFjZTsKdXNlIENvbXBvc2VyXFV0aWxcRmlsZXN5c3RlbTsKdXNlIENvbXBvc2VyXFV0aWxcTG9vcDsKdXNlIENvbXBvc2VyXEpzb25cSnNvbkZpbGU7CnVzZSBDb21wb3NlclxQYWNrYWdlXENvbXBsZXRlUGFja2FnZUludGVyZmFjZTsKCgoKCgpjbGFzcyBBcmNoaXZlTWFuYWdlcgp7Cgpwcm90ZWN0ZWQgJGRvd25sb2FkTWFuYWdlcjsKCnByb3RlY3RlZCAkbG9vcDsKCgoKCnByb3RlY3RlZCAkYXJjaGl2ZXJzID0gYXJyYXkoKTsKCgoKCnByb3RlY3RlZCAkb3ZlcndyaXRlRmlsZXMgPSB0cnVlOwoKCgoKcHVibGljIGZ1bmN0aW9uIF9fY29uc3RydWN0KERvd25sb2FkTWFuYWdlciAkZG93bmxvYWRNYW5hZ2VyLCBMb29wICRsb29wKQp7CiR0aGlzLT5kb3dubG9hZE1hbmFnZXIgPSAkZG93bmxvYWRNYW5hZ2VyOwokdGhpcy0+bG9vcCA9ICRsb29wOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gYWRkQXJjaGl2ZXIoQXJjaGl2ZXJJbnRlcmZhY2UgJGFyY2hpdmVyKQp7CiR0aGlzLT5hcmNoaXZlcnNbXSA9ICRhcmNoaXZlcjsKfQoKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBzZXRPdmVyd3JpdGVGaWxlcygkb3ZlcndyaXRlRmlsZXMpCnsKJHRoaXMtPm92ZXJ3cml0ZUZpbGVzID0gJG92ZXJ3cml0ZUZpbGVzOwoKcmV0dXJuICR0aGlzOwp9CgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIGdldFBhY2thZ2VGaWxlbmFtZShDb21wbGV0ZVBhY2thZ2VJbnRlcmZhY2UgJHBhY2thZ2UpCnsKaWYgKCRwYWNrYWdlLT5nZXRBcmNoaXZlTmFtZSgpKSB7CiRiYXNlTmFtZSA9ICRwYWNrYWdlLT5nZXRBcmNoaXZlTmFtZSgpOwp9IGVsc2UgewokYmFzZU5hbWUgPSBwcmVnX3JlcGxhY2UoJyNbXmEtejAtOS1fXSNpJywgJy0nLCAkcGFja2FnZS0+Z2V0TmFtZSgpKTsKfQokbmFtZVBhcnRzID0gYXJyYXkoJGJhc2VOYW1lKTsKCmlmIChwcmVnX21hdGNoKCd7XlthLWYwLTldezQwfSR9JywgJHBhY2thZ2UtPmdldERpc3RSZWZlcmVuY2UoKSkpIHsKYXJyYXlfcHVzaCgkbmFtZVBhcnRzLCAkcGFja2FnZS0+Z2V0RGlzdFJlZmVyZW5jZSgpLCAkcGFja2FnZS0+Z2V0RGlzdFR5cGUoKSk7Cn0gZWxzZSB7CmFycmF5X3B1c2goJG5hbWVQYXJ0cywgJHBhY2thZ2UtPmdldFByZXR0eVZlcnNpb24oKSwgJHBhY2thZ2UtPmdldERpc3RSZWZlcmVuY2UoKSk7Cn0KCmlmICgkcGFja2FnZS0+Z2V0U291cmNlUmVmZXJlbmNlKCkpIHsKJG5hbWVQYXJ0c1tdID0gc3Vic3RyKHNoYTEoJHBhY2thZ2UtPmdldFNvdXJjZVJlZmVyZW5jZSgpKSwgMCwgNik7Cn0KCiRuYW1lID0gaW1wbG9kZSgnLScsIGFycmF5X2ZpbHRlcigkbmFtZVBhcnRzLCBmdW5jdGlvbiAoJHApIHsKcmV0dXJuICFlbXB0eSgkcCk7Cn0pKTsKCnJldHVybiBzdHJfcmVwbGFjZSgnLycsICctJywgJG5hbWUpOwp9CgoKCgoKCgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIGFyY2hpdmUoQ29tcGxldGVQYWNrYWdlSW50ZXJmYWNlICRwYWNrYWdlLCAkZm9ybWF0LCAkdGFyZ2V0RGlyLCAkZmlsZU5hbWUgPSBudWxsLCAkaWdub3JlRmlsdGVycyA9IGZhbHNlKQp7CmlmIChlbXB0eSgkZm9ybWF0KSkgewp0aHJvdyBuZXcgXEludmFsaWRBcmd1bWVudEV4Y2VwdGlvbignRm9ybWF0IG11c3QgYmUgc3BlY2lmaWVkJyk7Cn0KCgokdXNhYmxlQXJjaGl2ZXIgPSBudWxsOwpmb3JlYWNoICgkdGhpcy0+YXJjaGl2ZXJzIGFzICRhcmNoaXZlcikgewppZiAoJGFyY2hpdmVyLT5zdXBwb3J0cygkZm9ybWF0LCAkcGFja2FnZS0+Z2V0U291cmNlVHlwZSgpKSkgewokdXNhYmxlQXJjaGl2ZXIgPSAkYXJjaGl2ZXI7CmJyZWFrOwp9Cn0KCgppZiAobnVsbCA9PT0gJHVzYWJsZUFyY2hpdmVyKSB7CnRocm93IG5ldyBcUnVudGltZUV4Y2VwdGlvbihzcHJpbnRmKCdObyBhcmNoaXZlciBmb3VuZCB0byBzdXBwb3J0ICVzIGZvcm1hdCcsICRmb3JtYXQpKTsKfQoKJGZpbGVzeXN0ZW0gPSBuZXcgRmlsZXN5c3RlbSgpOwoKaWYgKCRwYWNrYWdlIGluc3RhbmNlb2YgUm9vdFBhY2thZ2VJbnRlcmZhY2UpIHsKJHNvdXJjZVBhdGggPSByZWFscGF0aCgnLicpOwp9IGVsc2UgewoKJHNvdXJjZVBhdGggPSBzeXNfZ2V0X3RlbXBfZGlyKCkuJy9jb21wb3Nlcl9hcmNoaXZlJy51bmlxaWQoKTsKJGZpbGVzeXN0ZW0tPmVuc3VyZURpcmVjdG9yeUV4aXN0cygkc291cmNlUGF0aCk7Cgp0cnkgewoKJHByb21pc2UgPSAkdGhpcy0+ZG93bmxvYWRNYW5hZ2VyLT5kb3dubG9hZCgkcGFja2FnZSwgJHNvdXJjZVBhdGgpOwokdGhpcy0+bG9vcC0+d2FpdChhcnJheSgkcHJvbWlzZSkpOwokdGhpcy0+ZG93bmxvYWRNYW5hZ2VyLT5pbnN0YWxsKCRwYWNrYWdlLCAkc291cmNlUGF0aCk7Cn0gY2F0Y2ggKFxFeGNlcHRpb24gJGUpIHsKJGZpbGVzeXN0ZW0tPnJlbW92ZURpcmVjdG9yeSgkc291cmNlUGF0aCk7CnRocm93ICRlOwp9CgoKaWYgKGZpbGVfZXhpc3RzKCRjb21wb3Nlckpzb25QYXRoID0gJHNvdXJjZVBhdGguJy9jb21wb3Nlci5qc29uJykpIHsKJGpzb25GaWxlID0gbmV3IEpzb25GaWxlKCRjb21wb3Nlckpzb25QYXRoKTsKJGpzb25EYXRhID0gJGpzb25GaWxlLT5yZWFkKCk7CmlmICghZW1wdHkoJGpzb25EYXRhWydhcmNoaXZlJ11bJ25hbWUnXSkpIHsKJHBhY2thZ2UtPnNldEFyY2hpdmVOYW1lKCRqc29uRGF0YVsnYXJjaGl2ZSddWyduYW1lJ10pOwp9CmlmICghZW1wdHkoJGpzb25EYXRhWydhcmNoaXZlJ11bJ2V4Y2x1ZGUnXSkpIHsKJHBhY2thZ2UtPnNldEFyY2hpdmVFeGNsdWRlcygkanNvbkRhdGFbJ2FyY2hpdmUnXVsnZXhjbHVkZSddKTsKfQp9Cn0KCmlmIChudWxsID09PSAkZmlsZU5hbWUpIHsKJHBhY2thZ2VOYW1lID0gJHRoaXMtPmdldFBhY2thZ2VGaWxlbmFtZSgkcGFja2FnZSk7Cn0gZWxzZSB7CiRwYWNrYWdlTmFtZSA9ICRmaWxlTmFtZTsKfQoKCiRmaWxlc3lzdGVtLT5lbnN1cmVEaXJlY3RvcnlFeGlzdHMoJHRhcmdldERpcik7CiR0YXJnZXQgPSByZWFscGF0aCgkdGFyZ2V0RGlyKS4nLycuJHBhY2thZ2VOYW1lLicuJy4kZm9ybWF0OwokZmlsZXN5c3RlbS0+ZW5zdXJlRGlyZWN0b3J5RXhpc3RzKGRpcm5hbWUoJHRhcmdldCkpOwoKaWYgKCEkdGhpcy0+b3ZlcndyaXRlRmlsZXMgJiYgZmlsZV9leGlzdHMoJHRhcmdldCkpIHsKcmV0dXJuICR0YXJnZXQ7Cn0KCgokdGVtcFRhcmdldCA9IHN5c19nZXRfdGVtcF9kaXIoKS4nL2NvbXBvc2VyX2FyY2hpdmUnLnVuaXFpZCgpLicuJy4kZm9ybWF0OwokZmlsZXN5c3RlbS0+ZW5zdXJlRGlyZWN0b3J5RXhpc3RzKGRpcm5hbWUoJHRlbXBUYXJnZXQpKTsKCiRhcmNoaXZlUGF0aCA9ICR1c2FibGVBcmNoaXZlci0+YXJjaGl2ZSgkc291cmNlUGF0aCwgJHRlbXBUYXJnZXQsICRmb3JtYXQsICRwYWNrYWdlLT5nZXRBcmNoaXZlRXhjbHVkZXMoKSwgJGlnbm9yZUZpbHRlcnMpOwokZmlsZXN5c3RlbS0+cmVuYW1lKCRhcmNoaXZlUGF0aCwgJHRhcmdldCk7CgoKaWYgKCEkcGFja2FnZSBpbnN0YW5jZW9mIFJvb3RQYWNrYWdlSW50ZXJmYWNlKSB7CiRmaWxlc3lzdGVtLT5yZW1vdmVEaXJlY3RvcnkoJHNvdXJjZVBhdGgpOwp9CiRmaWxlc3lzdGVtLT5yZW1vdmUoJHRlbXBUYXJnZXQpOwoKcmV0dXJuICR0YXJnZXQ7Cn0KfQo8P3BocAoKCgoKCgoKCgoKCm5hbWVzcGFjZSBDb21wb3NlclxQYWNrYWdlXEFyY2hpdmVyOwoKCgoKCgppbnRlcmZhY2UgQXJjaGl2ZXJJbnRlcmZhY2UKewoKCgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIGFyY2hpdmUoJHNvdXJjZXMsICR0YXJnZXQsICRmb3JtYXQsIGFycmF5ICRleGNsdWRlcyA9IGFycmF5KCksICRpZ25vcmVGaWx0ZXJzID0gZmFsc2UpOwoKCgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gc3VwcG9ydHMoJGZvcm1hdCwgJHNvdXJjZVR5cGUpOwp9Cjw/cGhwCgoKCgoKCgoKCgoKbmFtZXNwYWNlIENvbXBvc2VyXFBhY2thZ2VcQXJjaGl2ZXI7Cgp1c2UgU3ltZm9ueVxDb21wb25lbnRcRmluZGVyOwoKCgoKYWJzdHJhY3QgY2xhc3MgQmFzZUV4Y2x1ZGVGaWx0ZXIKewoKCgpwcm90ZWN0ZWQgJHNvdXJjZVBhdGg7CgoKCgpwcm90ZWN0ZWQgJGV4Y2x1ZGVQYXR0ZXJuczsKCgoKCnB1YmxpYyBmdW5jdGlvbiBfX2NvbnN0cnVjdCgkc291cmNlUGF0aCkKewokdGhpcy0+c291cmNlUGF0aCA9ICRzb3VyY2VQYXRoOwokdGhpcy0+ZXhjbHVkZVBhdHRlcm5zID0gYXJyYXkoKTsKfQoKCgoKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBmaWx0ZXIoJHJlbGF0aXZlUGF0aCwgJGV4Y2x1ZGUpCnsKZm9yZWFjaCAoJHRoaXMtPmV4Y2x1ZGVQYXR0ZXJucyBhcyAkcGF0dGVybkRhdGEpIHsKbGlzdCgkcGF0dGVybiwgJG5lZ2F0ZSwgJHN0cmlwTGVhZGluZ1NsYXNoKSA9ICRwYXR0ZXJuRGF0YTsKCmlmICgkc3RyaXBMZWFkaW5nU2xhc2gpIHsKJHBhdGggPSBzdWJzdHIoJHJlbGF0aXZlUGF0aCwgMSk7Cn0gZWxzZSB7CiRwYXRoID0gJHJlbGF0aXZlUGF0aDsKfQoKaWYgKEBwcmVnX21hdGNoKCRwYXR0ZXJuLCAkcGF0aCkpIHsKJGV4Y2x1ZGUgPSAhJG5lZ2F0ZTsKfQp9CgpyZXR1cm4gJGV4Y2x1ZGU7Cn0KCgoKCgoKCgoKcHJvdGVjdGVkIGZ1bmN0aW9uIHBhcnNlTGluZXMoYXJyYXkgJGxpbmVzLCAkbGluZVBhcnNlcikKewpyZXR1cm4gYXJyYXlfZmlsdGVyKAphcnJheV9tYXAoCmZ1bmN0aW9uICgkbGluZSkgdXNlICgkbGluZVBhcnNlcikgewokbGluZSA9IHRyaW0oJGxpbmUpOwoKaWYgKCEkbGluZSB8fCAwID09PSBzdHJwb3MoJGxpbmUsICcjJykpIHsKcmV0dXJuIG51bGw7Cn0KCnJldHVybiBjYWxsX3VzZXJfZnVuYygkbGluZVBhcnNlciwgJGxpbmUpOwp9LAokbGluZXMKKSwKZnVuY3Rpb24gKCRwYXR0ZXJuKSB7CnJldHVybiAkcGF0dGVybiAhPT0gbnVsbDsKfQopOwp9CgoKCgoKCgoKcHJvdGVjdGVkIGZ1bmN0aW9uIGdlbmVyYXRlUGF0dGVybnMoJHJ1bGVzKQp7CiRwYXR0ZXJucyA9IGFycmF5KCk7CmZvcmVhY2ggKCRydWxlcyBhcyAkcnVsZSkgewokcGF0dGVybnNbXSA9ICR0aGlzLT5nZW5lcmF0ZVBhdHRlcm4oJHJ1bGUpOwp9CgpyZXR1cm4gJHBhdHRlcm5zOwp9CgoKCgoKCgoKcHJvdGVjdGVkIGZ1bmN0aW9uIGdlbmVyYXRlUGF0dGVybigkcnVsZSkKewokbmVnYXRlID0gZmFsc2U7CiRwYXR0ZXJuID0gJyc7CgppZiAoJHJ1bGUgIT09ICcnICYmICRydWxlWzBdID09PSAnIScpIHsKJG5lZ2F0ZSA9IHRydWU7CiRydWxlID0gbHRyaW0oJHJ1bGUsICchJyk7Cn0KCiRmaXJzdFNsYXNoUG9zaXRpb24gPSBzdHJwb3MoJHJ1bGUsICcvJyk7CmlmICgwID09PSAkZmlyc3RTbGFzaFBvc2l0aW9uKSB7CiRwYXR0ZXJuID0gJ14vJzsKfSBlbHNlaWYgKGZhbHNlID09PSAkZmlyc3RTbGFzaFBvc2l0aW9uIHx8IHN0cmxlbigkcnVsZSkgLSAxID09PSAkZmlyc3RTbGFzaFBvc2l0aW9uKSB7CiRwYXR0ZXJuID0gJy8nOwp9CgokcnVsZSA9IHRyaW0oJHJ1bGUsICcvJyk7CgoKJHJ1bGUgPSBzdWJzdHIoRmluZGVyXEdsb2I6OnRvUmVnZXgoJHJ1bGUpLCAyLCAtMik7CgpyZXR1cm4gYXJyYXkoJ3snLiRwYXR0ZXJuLiRydWxlLicoPz0kfC8pfScsICRuZWdhdGUsIGZhbHNlKTsKfQp9Cjw/cGhwCgoKCgoKCgoKCgoKbmFtZXNwYWNlIENvbXBvc2VyXFBhY2thZ2VcQXJjaGl2ZXI7CgoKCgoKCmNsYXNzIENvbXBvc2VyRXhjbHVkZUZpbHRlciBleHRlbmRzIEJhc2VFeGNsdWRlRmlsdGVyCnsKCgoKCnB1YmxpYyBmdW5jdGlvbiBfX2NvbnN0cnVjdCgkc291cmNlUGF0aCwgYXJyYXkgJGV4Y2x1ZGVSdWxlcykKewpwYXJlbnQ6Ol9fY29uc3RydWN0KCRzb3VyY2VQYXRoKTsKJHRoaXMtPmV4Y2x1ZGVQYXR0ZXJucyA9ICR0aGlzLT5nZW5lcmF0ZVBhdHRlcm5zKCRleGNsdWRlUnVsZXMpOwp9Cn0KPD9waHAKCgoKCgoKCgoKCgpuYW1lc3BhY2UgQ29tcG9zZXJcUGFja2FnZVxBcmNoaXZlcjsKCgoKCgoKCgpjbGFzcyBHaXRFeGNsdWRlRmlsdGVyIGV4dGVuZHMgQmFzZUV4Y2x1ZGVGaWx0ZXIKewoKCgoKCnB1YmxpYyBmdW5jdGlvbiBfX2NvbnN0cnVjdCgkc291cmNlUGF0aCkKewpwYXJlbnQ6Ol9fY29uc3RydWN0KCRzb3VyY2VQYXRoKTsKCmlmIChmaWxlX2V4aXN0cygkc291cmNlUGF0aC4nLy5naXRpZ25vcmUnKSkgewokdGhpcy0+ZXhjbHVkZVBhdHRlcm5zID0gJHRoaXMtPnBhcnNlTGluZXMoCmZpbGUoJHNvdXJjZVBhdGguJy8uZ2l0aWdub3JlJyksCmFycmF5KCR0aGlzLCAncGFyc2VHaXRJZ25vcmVMaW5lJykKKTsKfQppZiAoZmlsZV9leGlzdHMoJHNvdXJjZVBhdGguJy8uZ2l0YXR0cmlidXRlcycpKSB7CiR0aGlzLT5leGNsdWRlUGF0dGVybnMgPSBhcnJheV9tZXJnZSgKJHRoaXMtPmV4Y2x1ZGVQYXR0ZXJucywKJHRoaXMtPnBhcnNlTGluZXMoCmZpbGUoJHNvdXJjZVBhdGguJy8uZ2l0YXR0cmlidXRlcycpLAphcnJheSgkdGhpcywgJ3BhcnNlR2l0QXR0cmlidXRlc0xpbmUnKQopCik7Cn0KfQoKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBwYXJzZUdpdElnbm9yZUxpbmUoJGxpbmUpCnsKcmV0dXJuICR0aGlzLT5nZW5lcmF0ZVBhdHRlcm4oJGxpbmUpOwp9CgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIHBhcnNlR2l0QXR0cmlidXRlc0xpbmUoJGxpbmUpCnsKJHBhcnRzID0gcHJlZ19zcGxpdCgnI1xzKyMnLCAkbGluZSk7CgppZiAoY291bnQoJHBhcnRzKSA9PSAyICYmICRwYXJ0c1sxXSA9PT0gJ2V4cG9ydC1pZ25vcmUnKSB7CnJldHVybiAkdGhpcy0+Z2VuZXJhdGVQYXR0ZXJuKCRwYXJ0c1swXSk7Cn0KCnJldHVybiBudWxsOwp9Cn0KPD9waHAKCgoKCgoKCgoKCgpuYW1lc3BhY2UgQ29tcG9zZXJcUGFja2FnZVxBcmNoaXZlcjsKCnVzZSBTeW1mb255XENvbXBvbmVudFxGaW5kZXI7CgoKCgoKCmNsYXNzIEhnRXhjbHVkZUZpbHRlciBleHRlbmRzIEJhc2VFeGNsdWRlRmlsdGVyCnsKY29uc3QgSEdfSUdOT1JFX1JFR0VYID0gMTsKY29uc3QgSEdfSUdOT1JFX0dMT0IgPSAyOwoKCgoKCnByb3RlY3RlZCAkcGF0dGVybk1vZGU7CgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBfX2NvbnN0cnVjdCgkc291cmNlUGF0aCkKewpwYXJlbnQ6Ol9fY29uc3RydWN0KCRzb3VyY2VQYXRoKTsKCiR0aGlzLT5wYXR0ZXJuTW9kZSA9IHNlbGY6OkhHX0lHTk9SRV9SRUdFWDsKCmlmIChmaWxlX2V4aXN0cygkc291cmNlUGF0aC4nLy5oZ2lnbm9yZScpKSB7CiR0aGlzLT5leGNsdWRlUGF0dGVybnMgPSAkdGhpcy0+cGFyc2VMaW5lcygKZmlsZSgkc291cmNlUGF0aC4nLy5oZ2lnbm9yZScpLAphcnJheSgkdGhpcywgJ3BhcnNlSGdJZ25vcmVMaW5lJykKKTsKfQp9CgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIHBhcnNlSGdJZ25vcmVMaW5lKCRsaW5lKQp7CmlmIChwcmVnX21hdGNoKCcjXnN5bnRheFxzKjpccyooZ2xvYnxyZWdleHApJCMnLCAkbGluZSwgJG1hdGNoZXMpKSB7CmlmICgkbWF0Y2hlc1sxXSA9PT0gJ2dsb2InKSB7CiR0aGlzLT5wYXR0ZXJuTW9kZSA9IHNlbGY6OkhHX0lHTk9SRV9HTE9COwp9IGVsc2UgewokdGhpcy0+cGF0dGVybk1vZGUgPSBzZWxmOjpIR19JR05PUkVfUkVHRVg7Cn0KCnJldHVybiBudWxsOwp9CgppZiAoJHRoaXMtPnBhdHRlcm5Nb2RlID09IHNlbGY6OkhHX0lHTk9SRV9HTE9CKSB7CnJldHVybiAkdGhpcy0+cGF0dGVybkZyb21HbG9iKCRsaW5lKTsKfQoKcmV0dXJuICR0aGlzLT5wYXR0ZXJuRnJvbVJlZ2V4KCRsaW5lKTsKfQoKCgoKCgoKCnByb3RlY3RlZCBmdW5jdGlvbiBwYXR0ZXJuRnJvbUdsb2IoJGxpbmUpCnsKJHBhdHRlcm4gPSAnIycuc3Vic3RyKEZpbmRlclxHbG9iOjp0b1JlZ2V4KCRsaW5lKSwgMiwgLTEpLicjJzsKJHBhdHRlcm4gPSBzdHJfcmVwbGFjZSgnW14vXSonLCAnLionLCAkcGF0dGVybik7CgpyZXR1cm4gYXJyYXkoJHBhdHRlcm4sIGZhbHNlLCB0cnVlKTsKfQoKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBwYXR0ZXJuRnJvbVJlZ2V4KCRsaW5lKQp7CgokcGF0dGVybiA9ICcjJy5wcmVnX3JlcGxhY2UoJy8oKD86XFxcXFxcXFwpKikoXFxcXD8pIy8nLCAnXDFcMlwyXFwjJywgJGxpbmUpLicjJzsKCnJldHVybiBhcnJheSgkcGF0dGVybiwgZmFsc2UsIHRydWUpOwp9Cn0KPD9waHAKCgoKCgoKCgoKCgpuYW1lc3BhY2UgQ29tcG9zZXJcUGFja2FnZVxBcmNoaXZlcjsKCgoKCgoKY2xhc3MgUGhhckFyY2hpdmVyIGltcGxlbWVudHMgQXJjaGl2ZXJJbnRlcmZhY2UKewpwcm90ZWN0ZWQgc3RhdGljICRmb3JtYXRzID0gYXJyYXkoCid6aXAnID0+IFxQaGFyOjpaSVAsCid0YXInID0+IFxQaGFyOjpUQVIsCid0YXIuZ3onID0+IFxQaGFyOjpUQVIsCid0YXIuYnoyJyA9PiBcUGhhcjo6VEFSLAopOwoKcHJvdGVjdGVkIHN0YXRpYyAkY29tcHJlc3NGb3JtYXRzID0gYXJyYXkoCid0YXIuZ3onID0+IFxQaGFyOjpHWiwKJ3Rhci5iejInID0+IFxQaGFyOjpCWjIsCik7CgoKCgpwdWJsaWMgZnVuY3Rpb24gYXJjaGl2ZSgkc291cmNlcywgJHRhcmdldCwgJGZvcm1hdCwgYXJyYXkgJGV4Y2x1ZGVzID0gYXJyYXkoKSwgJGlnbm9yZUZpbHRlcnMgPSBmYWxzZSkKewokc291cmNlcyA9IHJlYWxwYXRoKCRzb3VyY2VzKTsKCgppZiAoZmlsZV9leGlzdHMoJHRhcmdldCkpIHsKdW5saW5rKCR0YXJnZXQpOwp9Cgp0cnkgewokZmlsZW5hbWUgPSBzdWJzdHIoJHRhcmdldCwgMCwgc3RycnBvcygkdGFyZ2V0LCAkZm9ybWF0KSAtIDEpOwoKCmlmIChpc3NldChzdGF0aWM6OiRjb21wcmVzc0Zvcm1hdHNbJGZvcm1hdF0pKSB7CgokdGFyZ2V0ID0gJGZpbGVuYW1lIC4gJy50YXInOwp9CgokcGhhciA9IG5ldyBcUGhhckRhdGEoJHRhcmdldCwgbnVsbCwgbnVsbCwgc3RhdGljOjokZm9ybWF0c1skZm9ybWF0XSk7CiRmaWxlcyA9IG5ldyBBcmNoaXZhYmxlRmlsZXNGaW5kZXIoJHNvdXJjZXMsICRleGNsdWRlcywgJGlnbm9yZUZpbHRlcnMpOwokZmlsZXNPbmx5ID0gbmV3IEFyY2hpdmFibGVGaWxlc0ZpbHRlcigkZmlsZXMpOwokcGhhci0+YnVpbGRGcm9tSXRlcmF0b3IoJGZpbGVzT25seSwgJHNvdXJjZXMpOwokZmlsZXNPbmx5LT5hZGRFbXB0eURpcigkcGhhciwgJHNvdXJjZXMpOwoKaWYgKGlzc2V0KHN0YXRpYzo6JGNvbXByZXNzRm9ybWF0c1skZm9ybWF0XSkpIHsKCmlmICghJHBoYXItPmNhbkNvbXByZXNzKHN0YXRpYzo6JGNvbXByZXNzRm9ybWF0c1skZm9ybWF0XSkpIHsKdGhyb3cgbmV3IFxSdW50aW1lRXhjZXB0aW9uKHNwcmludGYoJ0NhbiBub3QgY29tcHJlc3MgdG8gJXMgZm9ybWF0JywgJGZvcm1hdCkpOwp9CgoKdW5saW5rKCR0YXJnZXQpOwoKCiRwaGFyLT5jb21wcmVzcyhzdGF0aWM6OiRjb21wcmVzc0Zvcm1hdHNbJGZvcm1hdF0pOwoKCiR0YXJnZXQgPSAkZmlsZW5hbWUgLiAnLicgLiAkZm9ybWF0Owp9CgpyZXR1cm4gJHRhcmdldDsKfSBjYXRjaCAoXFVuZXhwZWN0ZWRWYWx1ZUV4Y2VwdGlvbiAkZSkgewokbWVzc2FnZSA9IHNwcmludGYoCiJDb3VsZCBub3QgY3JlYXRlIGFyY2hpdmUgJyVzJyBmcm9tICclcyc6ICVzIiwKJHRhcmdldCwKJHNvdXJjZXMsCiRlLT5nZXRNZXNzYWdlKCkKKTsKCnRocm93IG5ldyBcUnVudGltZUV4Y2VwdGlvbigkbWVzc2FnZSwgJGUtPmdldENvZGUoKSwgJGUpOwp9Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBzdXBwb3J0cygkZm9ybWF0LCAkc291cmNlVHlwZSkKewpyZXR1cm4gaXNzZXQoc3RhdGljOjokZm9ybWF0c1skZm9ybWF0XSk7Cn0KfQo8P3BocAoKCgoKCgoKCgoKCm5hbWVzcGFjZSBDb21wb3NlclxQYWNrYWdlXEFyY2hpdmVyOwoKdXNlIFppcEFyY2hpdmU7CnVzZSBDb21wb3NlclxVdGlsXEZpbGVzeXN0ZW07CgoKCgpjbGFzcyBaaXBBcmNoaXZlciBpbXBsZW1lbnRzIEFyY2hpdmVySW50ZXJmYWNlCnsKcHJvdGVjdGVkIHN0YXRpYyAkZm9ybWF0cyA9IGFycmF5KAonemlwJyA9PiAxLAopOwoKCgoKcHVibGljIGZ1bmN0aW9uIGFyY2hpdmUoJHNvdXJjZXMsICR0YXJnZXQsICRmb3JtYXQsIGFycmF5ICRleGNsdWRlcyA9IGFycmF5KCksICRpZ25vcmVGaWx0ZXJzID0gZmFsc2UpCnsKJGZzID0gbmV3IEZpbGVzeXN0ZW0oKTsKJHNvdXJjZXMgPSAkZnMtPm5vcm1hbGl6ZVBhdGgoJHNvdXJjZXMpOwoKJHppcCA9IG5ldyBaaXBBcmNoaXZlKCk7CiRyZXMgPSAkemlwLT5vcGVuKCR0YXJnZXQsIFppcEFyY2hpdmU6OkNSRUFURSk7CmlmICgkcmVzID09PSB0cnVlKSB7CiRmaWxlcyA9IG5ldyBBcmNoaXZhYmxlRmlsZXNGaW5kZXIoJHNvdXJjZXMsICRleGNsdWRlcywgJGlnbm9yZUZpbHRlcnMpOwpmb3JlYWNoICgkZmlsZXMgYXMgJGZpbGUpIHsKCiRmaWxlcGF0aCA9IHN0cnRyKCRmaWxlLT5nZXRQYXRoKCkuIi8iLiRmaWxlLT5nZXRGaWxlbmFtZSgpLCAnXFwnLCAnLycpOwokbG9jYWxuYW1lID0gJGZpbGVwYXRoOwppZiAoc3RycG9zKCRsb2NhbG5hbWUsICRzb3VyY2VzIC4gJy8nKSA9PT0gMCkgewokbG9jYWxuYW1lID0gc3Vic3RyKCRsb2NhbG5hbWUsIHN0cmxlbigkc291cmNlcyAuICcvJykpOwp9CmlmICgkZmlsZS0+aXNEaXIoKSkgewokemlwLT5hZGRFbXB0eURpcigkbG9jYWxuYW1lKTsKfSBlbHNlIHsKJHppcC0+YWRkRmlsZSgkZmlsZXBhdGgsICRsb2NhbG5hbWUpOwp9CgoKCgppZiAoUEhQX1ZFUlNJT05fSUQgPj0gNTA2MDApIHsKJHBlcm1zID0gZmlsZXBlcm1zKCRmaWxlcGF0aCk7CgoKCgokemlwLT5zZXRFeHRlcm5hbEF0dHJpYnV0ZXNOYW1lKCRsb2NhbG5hbWUsIFppcEFyY2hpdmU6Ok9QU1lTX1VOSVgsICRwZXJtcyA8PCAxNik7Cn0KfQppZiAoJHppcC0+Y2xvc2UoKSkgewpyZXR1cm4gJHRhcmdldDsKfQp9CiRtZXNzYWdlID0gc3ByaW50ZigKIkNvdWxkIG5vdCBjcmVhdGUgYXJjaGl2ZSAnJXMnIGZyb20gJyVzJzogJXMiLAokdGFyZ2V0LAokc291cmNlcywKJHppcC0+Z2V0U3RhdHVzU3RyaW5nKCkKKTsKdGhyb3cgbmV3IFxSdW50aW1lRXhjZXB0aW9uKCRtZXNzYWdlKTsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIHN1cHBvcnRzKCRmb3JtYXQsICRzb3VyY2VUeXBlKQp7CnJldHVybiBpc3NldChzdGF0aWM6OiRmb3JtYXRzWyRmb3JtYXRdKSAmJiAkdGhpcy0+Y29tcHJlc3Npb25BdmFpbGFibGUoKTsKfQoKcHJpdmF0ZSBmdW5jdGlvbiBjb21wcmVzc2lvbkF2YWlsYWJsZSgpCnsKcmV0dXJuIGNsYXNzX2V4aXN0cygnWmlwQXJjaGl2ZScpOwp9Cn0KPD9waHAKCgoKCgoKCgoKCgpuYW1lc3BhY2UgQ29tcG9zZXJcUGFja2FnZTsKCnVzZSBDb21wb3NlclxSZXBvc2l0b3J5XFJlcG9zaXRvcnlJbnRlcmZhY2U7CnVzZSBDb21wb3NlclxSZXBvc2l0b3J5XFBsYXRmb3JtUmVwb3NpdG9yeTsKCgoKCgoKYWJzdHJhY3QgY2xhc3MgQmFzZVBhY2thZ2UgaW1wbGVtZW50cyBQYWNrYWdlSW50ZXJmYWNlCnsKCgoKcHVibGljIHN0YXRpYyAkc3VwcG9ydGVkTGlua1R5cGVzID0gYXJyYXkoCidyZXF1aXJlJyA9PiBhcnJheSgnZGVzY3JpcHRpb24nID0+ICdyZXF1aXJlcycsICdtZXRob2QnID0+IExpbms6OlRZUEVfUkVRVUlSRSksCidjb25mbGljdCcgPT4gYXJyYXkoJ2Rlc2NyaXB0aW9uJyA9PiAnY29uZmxpY3RzJywgJ21ldGhvZCcgPT4gTGluazo6VFlQRV9DT05GTElDVCksCidwcm92aWRlJyA9PiBhcnJheSgnZGVzY3JpcHRpb24nID0+ICdwcm92aWRlcycsICdtZXRob2QnID0+IExpbms6OlRZUEVfUFJPVklERSksCidyZXBsYWNlJyA9PiBhcnJheSgnZGVzY3JpcHRpb24nID0+ICdyZXBsYWNlcycsICdtZXRob2QnID0+IExpbms6OlRZUEVfUkVQTEFDRSksCidyZXF1aXJlLWRldicgPT4gYXJyYXkoJ2Rlc2NyaXB0aW9uJyA9PiAncmVxdWlyZXMgKGZvciBkZXZlbG9wbWVudCknLCAnbWV0aG9kJyA9PiBMaW5rOjpUWVBFX0RFVl9SRVFVSVJFKSwKKTsKCmNvbnN0IFNUQUJJTElUWV9TVEFCTEUgPSAwOwpjb25zdCBTVEFCSUxJVFlfUkMgPSA1Owpjb25zdCBTVEFCSUxJVFlfQkVUQSA9IDEwOwpjb25zdCBTVEFCSUxJVFlfQUxQSEEgPSAxNTsKY29uc3QgU1RBQklMSVRZX0RFViA9IDIwOwoKcHVibGljIHN0YXRpYyAkc3RhYmlsaXRpZXMgPSBhcnJheSgKJ3N0YWJsZScgPT4gc2VsZjo6U1RBQklMSVRZX1NUQUJMRSwKJ1JDJyA9PiBzZWxmOjpTVEFCSUxJVFlfUkMsCidiZXRhJyA9PiBzZWxmOjpTVEFCSUxJVFlfQkVUQSwKJ2FscGhhJyA9PiBzZWxmOjpTVEFCSUxJVFlfQUxQSEEsCidkZXYnID0+IHNlbGY6OlNUQUJJTElUWV9ERVYsCik7CgoKCgoKCgpwdWJsaWMgJGlkOwoKcHJvdGVjdGVkICRuYW1lOwoKcHJvdGVjdGVkICRwcmV0dHlOYW1lOwoKcHJvdGVjdGVkICRyZXBvc2l0b3J5ID0gbnVsbDsKCgoKCgoKcHVibGljIGZ1bmN0aW9uIF9fY29uc3RydWN0KCRuYW1lKQp7CiR0aGlzLT5wcmV0dHlOYW1lID0gJG5hbWU7CiR0aGlzLT5uYW1lID0gc3RydG9sb3dlcigkbmFtZSk7CiR0aGlzLT5pZCA9IC0xOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0TmFtZSgpCnsKcmV0dXJuICR0aGlzLT5uYW1lOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0UHJldHR5TmFtZSgpCnsKcmV0dXJuICR0aGlzLT5wcmV0dHlOYW1lOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0TmFtZXMoJHByb3ZpZGVzID0gdHJ1ZSkKewokbmFtZXMgPSBhcnJheSgKJHRoaXMtPmdldE5hbWUoKSA9PiB0cnVlLAopOwoKaWYgKCRwcm92aWRlcykgewpmb3JlYWNoICgkdGhpcy0+Z2V0UHJvdmlkZXMoKSBhcyAkbGluaykgewokbmFtZXNbJGxpbmstPmdldFRhcmdldCgpXSA9IHRydWU7Cn0KfQoKZm9yZWFjaCAoJHRoaXMtPmdldFJlcGxhY2VzKCkgYXMgJGxpbmspIHsKJG5hbWVzWyRsaW5rLT5nZXRUYXJnZXQoKV0gPSB0cnVlOwp9CgpyZXR1cm4gYXJyYXlfa2V5cygkbmFtZXMpOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gc2V0SWQoJGlkKQp7CiR0aGlzLT5pZCA9ICRpZDsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIGdldElkKCkKewpyZXR1cm4gJHRoaXMtPmlkOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gc2V0UmVwb3NpdG9yeShSZXBvc2l0b3J5SW50ZXJmYWNlICRyZXBvc2l0b3J5KQp7CmlmICgkdGhpcy0+cmVwb3NpdG9yeSAmJiAkcmVwb3NpdG9yeSAhPT0gJHRoaXMtPnJlcG9zaXRvcnkpIHsKdGhyb3cgbmV3IFxMb2dpY0V4Y2VwdGlvbignQSBwYWNrYWdlIGNhbiBvbmx5IGJlIGFkZGVkIHRvIG9uZSByZXBvc2l0b3J5Jyk7Cn0KJHRoaXMtPnJlcG9zaXRvcnkgPSAkcmVwb3NpdG9yeTsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIGdldFJlcG9zaXRvcnkoKQp7CnJldHVybiAkdGhpcy0+cmVwb3NpdG9yeTsKfQoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gaXNQbGF0Zm9ybSgpCnsKcmV0dXJuICR0aGlzLT5nZXRSZXBvc2l0b3J5KCkgaW5zdGFuY2VvZiBQbGF0Zm9ybVJlcG9zaXRvcnk7Cn0KCgoKCgoKcHVibGljIGZ1bmN0aW9uIGdldFVuaXF1ZU5hbWUoKQp7CnJldHVybiAkdGhpcy0+Z2V0TmFtZSgpLictJy4kdGhpcy0+Z2V0VmVyc2lvbigpOwp9CgpwdWJsaWMgZnVuY3Rpb24gZXF1YWxzKFBhY2thZ2VJbnRlcmZhY2UgJHBhY2thZ2UpCnsKJHNlbGYgPSAkdGhpczsKaWYgKCR0aGlzIGluc3RhbmNlb2YgQWxpYXNQYWNrYWdlKSB7CiRzZWxmID0gJHRoaXMtPmdldEFsaWFzT2YoKTsKfQppZiAoJHBhY2thZ2UgaW5zdGFuY2VvZiBBbGlhc1BhY2thZ2UpIHsKJHBhY2thZ2UgPSAkcGFja2FnZS0+Z2V0QWxpYXNPZigpOwp9CgpyZXR1cm4gJHBhY2thZ2UgPT09ICRzZWxmOwp9CgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBfX3RvU3RyaW5nKCkKewpyZXR1cm4gJHRoaXMtPmdldFVuaXF1ZU5hbWUoKTsKfQoKcHVibGljIGZ1bmN0aW9uIGdldFByZXR0eVN0cmluZygpCnsKcmV0dXJuICR0aGlzLT5nZXRQcmV0dHlOYW1lKCkuJyAnLiR0aGlzLT5nZXRQcmV0dHlWZXJzaW9uKCk7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBnZXRGdWxsUHJldHR5VmVyc2lvbigkdHJ1bmNhdGUgPSB0cnVlLCAkZGlzcGxheU1vZGUgPSBQYWNrYWdlSW50ZXJmYWNlOjpESVNQTEFZX1NPVVJDRV9SRUZfSUZfREVWKQp7CmlmICgkZGlzcGxheU1vZGUgPT09IFBhY2thZ2VJbnRlcmZhY2U6OkRJU1BMQVlfU09VUkNFX1JFRl9JRl9ERVYgJiYKKCEkdGhpcy0+aXNEZXYoKSB8fCAhXGluX2FycmF5KCR0aGlzLT5nZXRTb3VyY2VUeXBlKCksIGFycmF5KCdoZycsICdnaXQnKSkpCikgewpyZXR1cm4gJHRoaXMtPmdldFByZXR0eVZlcnNpb24oKTsKfQoKc3dpdGNoICgkZGlzcGxheU1vZGUpIHsKY2FzZSBQYWNrYWdlSW50ZXJmYWNlOjpESVNQTEFZX1NPVVJDRV9SRUZfSUZfREVWOgpjYXNlIFBhY2thZ2VJbnRlcmZhY2U6OkRJU1BMQVlfU09VUkNFX1JFRjoKJHJlZmVyZW5jZSA9ICR0aGlzLT5nZXRTb3VyY2VSZWZlcmVuY2UoKTsKYnJlYWs7CmNhc2UgUGFja2FnZUludGVyZmFjZTo6RElTUExBWV9ESVNUX1JFRjoKJHJlZmVyZW5jZSA9ICR0aGlzLT5nZXREaXN0UmVmZXJlbmNlKCk7CmJyZWFrOwpkZWZhdWx0Ogp0aHJvdyBuZXcgXFVuZXhwZWN0ZWRWYWx1ZUV4Y2VwdGlvbignRGlzcGxheSBtb2RlICcuJGRpc3BsYXlNb2RlLicgaXMgbm90IHN1cHBvcnRlZCcpOwp9CgoKaWYgKCR0cnVuY2F0ZSAmJiBcc3RybGVuKCRyZWZlcmVuY2UpID09PSA0MCAmJiAkdGhpcy0+Z2V0U291cmNlVHlwZSgpICE9PSAnc3ZuJykgewpyZXR1cm4gJHRoaXMtPmdldFByZXR0eVZlcnNpb24oKSAuICcgJyAuIHN1YnN0cigkcmVmZXJlbmNlLCAwLCA3KTsKfQoKcmV0dXJuICR0aGlzLT5nZXRQcmV0dHlWZXJzaW9uKCkgLiAnICcgLiAkcmVmZXJlbmNlOwp9CgpwdWJsaWMgZnVuY3Rpb24gZ2V0U3RhYmlsaXR5UHJpb3JpdHkoKQp7CnJldHVybiBzZWxmOjokc3RhYmlsaXRpZXNbJHRoaXMtPmdldFN0YWJpbGl0eSgpXTsKfQoKcHVibGljIGZ1bmN0aW9uIF9fY2xvbmUoKQp7CiR0aGlzLT5yZXBvc2l0b3J5ID0gbnVsbDsKJHRoaXMtPmlkID0gLTE7Cn0KCgoKCgoKCgpwdWJsaWMgc3RhdGljIGZ1bmN0aW9uIHBhY2thZ2VOYW1lVG9SZWdleHAoJGFsbG93UGF0dGVybiwgJHdyYXAgPSAne14lcyR9aScpCnsKJGNsZWFuZWRBbGxvd1BhdHRlcm4gPSBzdHJfcmVwbGFjZSgnXFwqJywgJy4qJywgcHJlZ19xdW90ZSgkYWxsb3dQYXR0ZXJuKSk7CgpyZXR1cm4gc3ByaW50Zigkd3JhcCwgJGNsZWFuZWRBbGxvd1BhdHRlcm4pOwp9Cn0KPD9waHAKCgoKCgoKCgoKCgpuYW1lc3BhY2UgQ29tcG9zZXJcUGFja2FnZVxDb21wYXJlcjsKCgoKCgoKY2xhc3MgQ29tcGFyZXIKewpwcml2YXRlICRzb3VyY2U7CnByaXZhdGUgJHVwZGF0ZTsKcHJpdmF0ZSAkY2hhbmdlZDsKCnB1YmxpYyBmdW5jdGlvbiBzZXRTb3VyY2UoJHNvdXJjZSkKewokdGhpcy0+c291cmNlID0gJHNvdXJjZTsKfQoKcHVibGljIGZ1bmN0aW9uIHNldFVwZGF0ZSgkdXBkYXRlKQp7CiR0aGlzLT51cGRhdGUgPSAkdXBkYXRlOwp9CgpwdWJsaWMgZnVuY3Rpb24gZ2V0Q2hhbmdlZCgkdG9TdHJpbmcgPSBmYWxzZSwgJGV4cGxpY2F0ZWQgPSBmYWxzZSkKewokY2hhbmdlZCA9ICR0aGlzLT5jaGFuZ2VkOwppZiAoIWNvdW50KCRjaGFuZ2VkKSkgewpyZXR1cm4gZmFsc2U7Cn0KaWYgKCRleHBsaWNhdGVkKSB7CmZvcmVhY2ggKCRjaGFuZ2VkIGFzICRzZWN0aW9uS2V5ID0+ICRpdGVtU2VjdGlvbikgewpmb3JlYWNoICgkaXRlbVNlY3Rpb24gYXMgJGl0ZW1LZXkgPT4gJGl0ZW0pIHsKJGNoYW5nZWRbJHNlY3Rpb25LZXldWyRpdGVtS2V5XSA9ICRpdGVtLicgKCcuJHNlY3Rpb25LZXkuJyknOwp9Cn0KfQoKaWYgKCR0b1N0cmluZykgewpmb3JlYWNoICgkY2hhbmdlZCBhcyAkc2VjdGlvbktleSA9PiAkaXRlbVNlY3Rpb24pIHsKZm9yZWFjaCAoJGl0ZW1TZWN0aW9uIGFzICRpdGVtS2V5ID0+ICRpdGVtKSB7CiRjaGFuZ2VkWydzdHJpbmcnXVtdID0gJGl0ZW0uIlxyXG4iOwp9Cn0KJGNoYW5nZWQgPSBpbXBsb2RlKCJcclxuIiwgJGNoYW5nZWRbJ3N0cmluZyddKTsKfQoKcmV0dXJuICRjaGFuZ2VkOwp9CgpwdWJsaWMgZnVuY3Rpb24gZG9Db21wYXJlKCkKewokc291cmNlID0gYXJyYXkoKTsKJGRlc3RpbmF0aW9uID0gYXJyYXkoKTsKJHRoaXMtPmNoYW5nZWQgPSBhcnJheSgpOwokY3VycmVudERpcmVjdG9yeSA9IGdldGN3ZCgpOwpjaGRpcigkdGhpcy0+c291cmNlKTsKJHNvdXJjZSA9ICR0aGlzLT5kb1RyZWUoJy4nLCAkc291cmNlKTsKaWYgKCFpc19hcnJheSgkc291cmNlKSkgewpyZXR1cm47Cn0KY2hkaXIoJGN1cnJlbnREaXJlY3RvcnkpOwpjaGRpcigkdGhpcy0+dXBkYXRlKTsKJGRlc3RpbmF0aW9uID0gJHRoaXMtPmRvVHJlZSgnLicsICRkZXN0aW5hdGlvbik7CmlmICghaXNfYXJyYXkoJGRlc3RpbmF0aW9uKSkgewpleGl0Owp9CmNoZGlyKCRjdXJyZW50RGlyZWN0b3J5KTsKZm9yZWFjaCAoJHNvdXJjZSBhcyAkZGlyID0+ICR2YWx1ZSkgewpmb3JlYWNoICgkdmFsdWUgYXMgJGZpbGUgPT4gJGhhc2gpIHsKaWYgKGlzc2V0KCRkZXN0aW5hdGlvblskZGlyXVskZmlsZV0pKSB7CmlmICgkaGFzaCAhPT0gJGRlc3RpbmF0aW9uWyRkaXJdWyRmaWxlXSkgewokdGhpcy0+Y2hhbmdlZFsnY2hhbmdlZCddW10gPSAkZGlyLicvJy4kZmlsZTsKfQp9IGVsc2UgewokdGhpcy0+Y2hhbmdlZFsncmVtb3ZlZCddW10gPSAkZGlyLicvJy4kZmlsZTsKfQp9Cn0KZm9yZWFjaCAoJGRlc3RpbmF0aW9uIGFzICRkaXIgPT4gJHZhbHVlKSB7CmZvcmVhY2ggKCR2YWx1ZSBhcyAkZmlsZSA9PiAkaGFzaCkgewppZiAoIWlzc2V0KCRzb3VyY2VbJGRpcl1bJGZpbGVdKSkgewokdGhpcy0+Y2hhbmdlZFsnYWRkZWQnXVtdID0gJGRpci4nLycuJGZpbGU7Cn0KfQp9Cn0KCnByaXZhdGUgZnVuY3Rpb24gZG9UcmVlKCRkaXIsICYkYXJyYXkpCnsKaWYgKCRkaCA9IG9wZW5kaXIoJGRpcikpIHsKd2hpbGUgKCRmaWxlID0gcmVhZGRpcigkZGgpKSB7CmlmICgkZmlsZSAhPT0gJy4nICYmICRmaWxlICE9PSAnLi4nKSB7CmlmIChpc19saW5rKCRkaXIuJy8nLiRmaWxlKSkgewokYXJyYXlbJGRpcl1bJGZpbGVdID0gcmVhZGxpbmsoJGRpci4nLycuJGZpbGUpOwp9IGVsc2VpZiAoaXNfZGlyKCRkaXIuJy8nLiRmaWxlKSkgewppZiAoIWNvdW50KCRhcnJheSkpIHsKJGFycmF5WzBdID0gJ1RlbXAnOwp9CmlmICghJHRoaXMtPmRvVHJlZSgkZGlyLicvJy4kZmlsZSwgJGFycmF5KSkgewpyZXR1cm4gZmFsc2U7Cn0KfSBlbHNlaWYgKGlzX2ZpbGUoJGRpci4nLycuJGZpbGUpICYmIGZpbGVzaXplKCRkaXIuJy8nLiRmaWxlKSkgewokYXJyYXlbJGRpcl1bJGZpbGVdID0gbWQ1X2ZpbGUoJGRpci4nLycuJGZpbGUpOwp9Cn0KfQppZiAoY291bnQoJGFycmF5KSA+IDEgJiYgaXNzZXQoJGFycmF5WycwJ10pKSB7CnVuc2V0KCRhcnJheVsnMCddKTsKfQoKcmV0dXJuICRhcnJheTsKfQoKcmV0dXJuIGZhbHNlOwp9Cn0KPD9waHAKCgoKCgoKCgoKCgpuYW1lc3BhY2UgQ29tcG9zZXJcUGFja2FnZTsKCgoKCmNsYXNzIENvbXBsZXRlQWxpYXNQYWNrYWdlIGV4dGVuZHMgQWxpYXNQYWNrYWdlIGltcGxlbWVudHMgQ29tcGxldGVQYWNrYWdlSW50ZXJmYWNlCnsKCnByb3RlY3RlZCAkYWxpYXNPZjsKCgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gX19jb25zdHJ1Y3QoQ29tcGxldGVQYWNrYWdlICRhbGlhc09mLCAkdmVyc2lvbiwgJHByZXR0eVZlcnNpb24pCnsKcGFyZW50OjpfX2NvbnN0cnVjdCgkYWxpYXNPZiwgJHZlcnNpb24sICRwcmV0dHlWZXJzaW9uKTsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIGdldEFsaWFzT2YoKQp7CnJldHVybiAkdGhpcy0+YWxpYXNPZjsKfQoKcHVibGljIGZ1bmN0aW9uIGdldFNjcmlwdHMoKQp7CnJldHVybiAkdGhpcy0+YWxpYXNPZi0+Z2V0U2NyaXB0cygpOwp9CgpwdWJsaWMgZnVuY3Rpb24gc2V0U2NyaXB0cyhhcnJheSAkc2NyaXB0cykKewokdGhpcy0+YWxpYXNPZi0+c2V0U2NyaXB0cygkc2NyaXB0cyk7Cn0KCnB1YmxpYyBmdW5jdGlvbiBnZXRSZXBvc2l0b3JpZXMoKQp7CnJldHVybiAkdGhpcy0+YWxpYXNPZi0+Z2V0UmVwb3NpdG9yaWVzKCk7Cn0KCnB1YmxpYyBmdW5jdGlvbiBzZXRSZXBvc2l0b3JpZXMoYXJyYXkgJHJlcG9zaXRvcmllcykKewokdGhpcy0+YWxpYXNPZi0+c2V0UmVwb3NpdG9yaWVzKCRyZXBvc2l0b3JpZXMpOwp9CgpwdWJsaWMgZnVuY3Rpb24gZ2V0TGljZW5zZSgpCnsKcmV0dXJuICR0aGlzLT5hbGlhc09mLT5nZXRMaWNlbnNlKCk7Cn0KCnB1YmxpYyBmdW5jdGlvbiBzZXRMaWNlbnNlKGFycmF5ICRsaWNlbnNlKQp7CiR0aGlzLT5hbGlhc09mLT5zZXRMaWNlbnNlKCRsaWNlbnNlKTsKfQoKcHVibGljIGZ1bmN0aW9uIGdldEtleXdvcmRzKCkKewpyZXR1cm4gJHRoaXMtPmFsaWFzT2YtPmdldEtleXdvcmRzKCk7Cn0KCnB1YmxpYyBmdW5jdGlvbiBzZXRLZXl3b3JkcyhhcnJheSAka2V5d29yZHMpCnsKJHRoaXMtPmFsaWFzT2YtPnNldEtleXdvcmRzKCRrZXl3b3Jkcyk7Cn0KCnB1YmxpYyBmdW5jdGlvbiBnZXREZXNjcmlwdGlvbigpCnsKcmV0dXJuICR0aGlzLT5hbGlhc09mLT5nZXREZXNjcmlwdGlvbigpOwp9CgpwdWJsaWMgZnVuY3Rpb24gc2V0RGVzY3JpcHRpb24oJGRlc2NyaXB0aW9uKQp7CiR0aGlzLT5hbGlhc09mLT5zZXREZXNjcmlwdGlvbigkZGVzY3JpcHRpb24pOwp9CgpwdWJsaWMgZnVuY3Rpb24gZ2V0SG9tZXBhZ2UoKQp7CnJldHVybiAkdGhpcy0+YWxpYXNPZi0+Z2V0SG9tZXBhZ2UoKTsKfQoKcHVibGljIGZ1bmN0aW9uIHNldEhvbWVwYWdlKCRob21lcGFnZSkKewokdGhpcy0+YWxpYXNPZi0+c2V0SG9tZXBhZ2UoJGhvbWVwYWdlKTsKfQoKcHVibGljIGZ1bmN0aW9uIGdldEF1dGhvcnMoKQp7CnJldHVybiAkdGhpcy0+YWxpYXNPZi0+Z2V0QXV0aG9ycygpOwp9CgpwdWJsaWMgZnVuY3Rpb24gc2V0QXV0aG9ycyhhcnJheSAkYXV0aG9ycykKewokdGhpcy0+YWxpYXNPZi0+c2V0QXV0aG9ycygkYXV0aG9ycyk7Cn0KCnB1YmxpYyBmdW5jdGlvbiBnZXRTdXBwb3J0KCkKewpyZXR1cm4gJHRoaXMtPmFsaWFzT2YtPmdldFN1cHBvcnQoKTsKfQoKcHVibGljIGZ1bmN0aW9uIHNldFN1cHBvcnQoYXJyYXkgJHN1cHBvcnQpCnsKJHRoaXMtPmFsaWFzT2YtPnNldFN1cHBvcnQoJHN1cHBvcnQpOwp9CgpwdWJsaWMgZnVuY3Rpb24gZ2V0RnVuZGluZygpCnsKcmV0dXJuICR0aGlzLT5hbGlhc09mLT5nZXRGdW5kaW5nKCk7Cn0KCnB1YmxpYyBmdW5jdGlvbiBzZXRGdW5kaW5nKGFycmF5ICRmdW5kaW5nKQp7CiR0aGlzLT5hbGlhc09mLT5zZXRGdW5kaW5nKCRmdW5kaW5nKTsKfQoKcHVibGljIGZ1bmN0aW9uIGlzQWJhbmRvbmVkKCkKewpyZXR1cm4gJHRoaXMtPmFsaWFzT2YtPmlzQWJhbmRvbmVkKCk7Cn0KCnB1YmxpYyBmdW5jdGlvbiBnZXRSZXBsYWNlbWVudFBhY2thZ2UoKQp7CnJldHVybiAkdGhpcy0+YWxpYXNPZi0+Z2V0UmVwbGFjZW1lbnRQYWNrYWdlKCk7Cn0KCnB1YmxpYyBmdW5jdGlvbiBzZXRBYmFuZG9uZWQoJGFiYW5kb25lZCkKewokdGhpcy0+YWxpYXNPZi0+c2V0QWJhbmRvbmVkKCRhYmFuZG9uZWQpOwp9CgpwdWJsaWMgZnVuY3Rpb24gZ2V0QXJjaGl2ZU5hbWUoKQp7CnJldHVybiAkdGhpcy0+YWxpYXNPZi0+Z2V0QXJjaGl2ZU5hbWUoKTsKfQoKcHVibGljIGZ1bmN0aW9uIHNldEFyY2hpdmVOYW1lKCRuYW1lKQp7CiR0aGlzLT5hbGlhc09mLT5zZXRBcmNoaXZlTmFtZSgkbmFtZSk7Cn0KCnB1YmxpYyBmdW5jdGlvbiBnZXRBcmNoaXZlRXhjbHVkZXMoKQp7CnJldHVybiAkdGhpcy0+YWxpYXNPZi0+Z2V0QXJjaGl2ZUV4Y2x1ZGVzKCk7Cn0KCnB1YmxpYyBmdW5jdGlvbiBzZXRBcmNoaXZlRXhjbHVkZXMoYXJyYXkgJGV4Y2x1ZGVzKQp7CiR0aGlzLT5hbGlhc09mLT5zZXRBcmNoaXZlRXhjbHVkZXMoJGV4Y2x1ZGVzKTsKfQp9Cjw/cGhwCgoKCgoKCgoKCgoKbmFtZXNwYWNlIENvbXBvc2VyXFBhY2thZ2U7CgoKCgoKCmNsYXNzIENvbXBsZXRlUGFja2FnZSBleHRlbmRzIFBhY2thZ2UgaW1wbGVtZW50cyBDb21wbGV0ZVBhY2thZ2VJbnRlcmZhY2UKewpwcm90ZWN0ZWQgJHJlcG9zaXRvcmllczsKcHJvdGVjdGVkICRsaWNlbnNlID0gYXJyYXkoKTsKcHJvdGVjdGVkICRrZXl3b3JkczsKcHJvdGVjdGVkICRhdXRob3JzOwpwcm90ZWN0ZWQgJGRlc2NyaXB0aW9uOwpwcm90ZWN0ZWQgJGhvbWVwYWdlOwpwcm90ZWN0ZWQgJHNjcmlwdHMgPSBhcnJheSgpOwpwcm90ZWN0ZWQgJHN1cHBvcnQgPSBhcnJheSgpOwpwcm90ZWN0ZWQgJGZ1bmRpbmcgPSBhcnJheSgpOwpwcm90ZWN0ZWQgJGFiYW5kb25lZCA9IGZhbHNlOwpwcm90ZWN0ZWQgJGFyY2hpdmVOYW1lOwpwcm90ZWN0ZWQgJGFyY2hpdmVFeGNsdWRlcyA9IGFycmF5KCk7CgoKCgpwdWJsaWMgZnVuY3Rpb24gc2V0U2NyaXB0cyhhcnJheSAkc2NyaXB0cykKewokdGhpcy0+c2NyaXB0cyA9ICRzY3JpcHRzOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0U2NyaXB0cygpCnsKcmV0dXJuICR0aGlzLT5zY3JpcHRzOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gc2V0UmVwb3NpdG9yaWVzKGFycmF5ICRyZXBvc2l0b3JpZXMpCnsKJHRoaXMtPnJlcG9zaXRvcmllcyA9ICRyZXBvc2l0b3JpZXM7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBnZXRSZXBvc2l0b3JpZXMoKQp7CnJldHVybiAkdGhpcy0+cmVwb3NpdG9yaWVzOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gc2V0TGljZW5zZShhcnJheSAkbGljZW5zZSkKewokdGhpcy0+bGljZW5zZSA9ICRsaWNlbnNlOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0TGljZW5zZSgpCnsKcmV0dXJuICR0aGlzLT5saWNlbnNlOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gc2V0S2V5d29yZHMoYXJyYXkgJGtleXdvcmRzKQp7CiR0aGlzLT5rZXl3b3JkcyA9ICRrZXl3b3JkczsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIGdldEtleXdvcmRzKCkKewpyZXR1cm4gJHRoaXMtPmtleXdvcmRzOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gc2V0QXV0aG9ycyhhcnJheSAkYXV0aG9ycykKewokdGhpcy0+YXV0aG9ycyA9ICRhdXRob3JzOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0QXV0aG9ycygpCnsKcmV0dXJuICR0aGlzLT5hdXRob3JzOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gc2V0RGVzY3JpcHRpb24oJGRlc2NyaXB0aW9uKQp7CiR0aGlzLT5kZXNjcmlwdGlvbiA9ICRkZXNjcmlwdGlvbjsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIGdldERlc2NyaXB0aW9uKCkKewpyZXR1cm4gJHRoaXMtPmRlc2NyaXB0aW9uOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gc2V0SG9tZXBhZ2UoJGhvbWVwYWdlKQp7CiR0aGlzLT5ob21lcGFnZSA9ICRob21lcGFnZTsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIGdldEhvbWVwYWdlKCkKewpyZXR1cm4gJHRoaXMtPmhvbWVwYWdlOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gc2V0U3VwcG9ydChhcnJheSAkc3VwcG9ydCkKewokdGhpcy0+c3VwcG9ydCA9ICRzdXBwb3J0Owp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0U3VwcG9ydCgpCnsKcmV0dXJuICR0aGlzLT5zdXBwb3J0Owp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gc2V0RnVuZGluZyhhcnJheSAkZnVuZGluZykKewokdGhpcy0+ZnVuZGluZyA9ICRmdW5kaW5nOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0RnVuZGluZygpCnsKcmV0dXJuICR0aGlzLT5mdW5kaW5nOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gaXNBYmFuZG9uZWQoKQp7CnJldHVybiAoYm9vbCkgJHRoaXMtPmFiYW5kb25lZDsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIHNldEFiYW5kb25lZCgkYWJhbmRvbmVkKQp7CiR0aGlzLT5hYmFuZG9uZWQgPSAkYWJhbmRvbmVkOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0UmVwbGFjZW1lbnRQYWNrYWdlKCkKewpyZXR1cm4gXGlzX3N0cmluZygkdGhpcy0+YWJhbmRvbmVkKSA/ICR0aGlzLT5hYmFuZG9uZWQgOiBudWxsOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gc2V0QXJjaGl2ZU5hbWUoJG5hbWUpCnsKJHRoaXMtPmFyY2hpdmVOYW1lID0gJG5hbWU7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBnZXRBcmNoaXZlTmFtZSgpCnsKcmV0dXJuICR0aGlzLT5hcmNoaXZlTmFtZTsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIHNldEFyY2hpdmVFeGNsdWRlcyhhcnJheSAkZXhjbHVkZXMpCnsKJHRoaXMtPmFyY2hpdmVFeGNsdWRlcyA9ICRleGNsdWRlczsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIGdldEFyY2hpdmVFeGNsdWRlcygpCnsKcmV0dXJuICR0aGlzLT5hcmNoaXZlRXhjbHVkZXM7Cn0KfQo8P3BocAoKCgoKCgoKCgoKCm5hbWVzcGFjZSBDb21wb3NlclxQYWNrYWdlOwoKCgoKCgppbnRlcmZhY2UgQ29tcGxldGVQYWNrYWdlSW50ZXJmYWNlIGV4dGVuZHMgUGFja2FnZUludGVyZmFjZQp7CgoKCgoKcHVibGljIGZ1bmN0aW9uIGdldFNjcmlwdHMoKTsKCgoKCgpwdWJsaWMgZnVuY3Rpb24gc2V0U2NyaXB0cyhhcnJheSAkc2NyaXB0cyk7CgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBnZXRSZXBvc2l0b3JpZXMoKTsKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBzZXRSZXBvc2l0b3JpZXMoYXJyYXkgJHJlcG9zaXRvcmllcyk7CgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBnZXRMaWNlbnNlKCk7CgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gc2V0TGljZW5zZShhcnJheSAkbGljZW5zZSk7CgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBnZXRLZXl3b3JkcygpOwoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIHNldEtleXdvcmRzKGFycmF5ICRrZXl3b3Jkcyk7CgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBnZXREZXNjcmlwdGlvbigpOwoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIHNldERlc2NyaXB0aW9uKCRkZXNjcmlwdGlvbik7CgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBnZXRIb21lcGFnZSgpOwoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIHNldEhvbWVwYWdlKCRob21lcGFnZSk7CgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIGdldEF1dGhvcnMoKTsKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBzZXRBdXRob3JzKGFycmF5ICRhdXRob3JzKTsKCgoKCgoKcHVibGljIGZ1bmN0aW9uIGdldFN1cHBvcnQoKTsKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBzZXRTdXBwb3J0KGFycmF5ICRzdXBwb3J0KTsKCgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0RnVuZGluZygpOwoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIHNldEZ1bmRpbmcoYXJyYXkgJGZ1bmRpbmcpOwoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gaXNBYmFuZG9uZWQoKTsKCgoKCgoKcHVibGljIGZ1bmN0aW9uIGdldFJlcGxhY2VtZW50UGFja2FnZSgpOwoKCgoKCnB1YmxpYyBmdW5jdGlvbiBzZXRBYmFuZG9uZWQoJGFiYW5kb25lZCk7CgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBnZXRBcmNoaXZlTmFtZSgpOwoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIHNldEFyY2hpdmVOYW1lKCRuYW1lKTsKCgoKCgoKcHVibGljIGZ1bmN0aW9uIGdldEFyY2hpdmVFeGNsdWRlcygpOwoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIHNldEFyY2hpdmVFeGNsdWRlcyhhcnJheSAkZXhjbHVkZXMpOwp9Cjw/cGhwCgoKCgoKCgoKCgoKbmFtZXNwYWNlIENvbXBvc2VyXFBhY2thZ2VcRHVtcGVyOwoKdXNlIENvbXBvc2VyXFBhY2thZ2VcQmFzZVBhY2thZ2U7CnVzZSBDb21wb3NlclxQYWNrYWdlXFBhY2thZ2VJbnRlcmZhY2U7CnVzZSBDb21wb3NlclxQYWNrYWdlXENvbXBsZXRlUGFja2FnZUludGVyZmFjZTsKdXNlIENvbXBvc2VyXFBhY2thZ2VcUm9vdFBhY2thZ2VJbnRlcmZhY2U7CgoKCgoKY2xhc3MgQXJyYXlEdW1wZXIKewpwdWJsaWMgZnVuY3Rpb24gZHVtcChQYWNrYWdlSW50ZXJmYWNlICRwYWNrYWdlKQp7CiRrZXlzID0gYXJyYXkoCidiaW5hcmllcycgPT4gJ2JpbicsCid0eXBlJywKJ2V4dHJhJywKJ2luc3RhbGxhdGlvblNvdXJjZScgPT4gJ2luc3RhbGxhdGlvbi1zb3VyY2UnLAonYXV0b2xvYWQnLAonZGV2QXV0b2xvYWQnID0+ICdhdXRvbG9hZC1kZXYnLAonbm90aWZpY2F0aW9uVXJsJyA9PiAnbm90aWZpY2F0aW9uLXVybCcsCidpbmNsdWRlUGF0aHMnID0+ICdpbmNsdWRlLXBhdGgnLAopOwoKJGRhdGEgPSBhcnJheSgpOwokZGF0YVsnbmFtZSddID0gJHBhY2thZ2UtPmdldFByZXR0eU5hbWUoKTsKJGRhdGFbJ3ZlcnNpb24nXSA9ICRwYWNrYWdlLT5nZXRQcmV0dHlWZXJzaW9uKCk7CiRkYXRhWyd2ZXJzaW9uX25vcm1hbGl6ZWQnXSA9ICRwYWNrYWdlLT5nZXRWZXJzaW9uKCk7CgppZiAoJHBhY2thZ2UtPmdldFRhcmdldERpcigpKSB7CiRkYXRhWyd0YXJnZXQtZGlyJ10gPSAkcGFja2FnZS0+Z2V0VGFyZ2V0RGlyKCk7Cn0KCmlmICgkcGFja2FnZS0+Z2V0U291cmNlVHlwZSgpKSB7CiRkYXRhWydzb3VyY2UnXVsndHlwZSddID0gJHBhY2thZ2UtPmdldFNvdXJjZVR5cGUoKTsKJGRhdGFbJ3NvdXJjZSddWyd1cmwnXSA9ICRwYWNrYWdlLT5nZXRTb3VyY2VVcmwoKTsKaWYgKG51bGwgIT09ICgkdmFsdWUgPSAkcGFja2FnZS0+Z2V0U291cmNlUmVmZXJlbmNlKCkpKSB7CiRkYXRhWydzb3VyY2UnXVsncmVmZXJlbmNlJ10gPSAkdmFsdWU7Cn0KaWYgKCRtaXJyb3JzID0gJHBhY2thZ2UtPmdldFNvdXJjZU1pcnJvcnMoKSkgewokZGF0YVsnc291cmNlJ11bJ21pcnJvcnMnXSA9ICRtaXJyb3JzOwp9Cn0KCmlmICgkcGFja2FnZS0+Z2V0RGlzdFR5cGUoKSkgewokZGF0YVsnZGlzdCddWyd0eXBlJ10gPSAkcGFja2FnZS0+Z2V0RGlzdFR5cGUoKTsKJGRhdGFbJ2Rpc3QnXVsndXJsJ10gPSAkcGFja2FnZS0+Z2V0RGlzdFVybCgpOwppZiAobnVsbCAhPT0gKCR2YWx1ZSA9ICRwYWNrYWdlLT5nZXREaXN0UmVmZXJlbmNlKCkpKSB7CiRkYXRhWydkaXN0J11bJ3JlZmVyZW5jZSddID0gJHZhbHVlOwp9CmlmIChudWxsICE9PSAoJHZhbHVlID0gJHBhY2thZ2UtPmdldERpc3RTaGExQ2hlY2tzdW0oKSkpIHsKJGRhdGFbJ2Rpc3QnXVsnc2hhc3VtJ10gPSAkdmFsdWU7Cn0KaWYgKCRtaXJyb3JzID0gJHBhY2thZ2UtPmdldERpc3RNaXJyb3JzKCkpIHsKJGRhdGFbJ2Rpc3QnXVsnbWlycm9ycyddID0gJG1pcnJvcnM7Cn0KfQoKZm9yZWFjaCAoQmFzZVBhY2thZ2U6OiRzdXBwb3J0ZWRMaW5rVHlwZXMgYXMgJHR5cGUgPT4gJG9wdHMpIHsKaWYgKCRsaW5rcyA9ICRwYWNrYWdlLT57J2dldCcudWNmaXJzdCgkb3B0c1snbWV0aG9kJ10pfSgpKSB7CmZvcmVhY2ggKCRsaW5rcyBhcyAkbGluaykgewokZGF0YVskdHlwZV1bJGxpbmstPmdldFRhcmdldCgpXSA9ICRsaW5rLT5nZXRQcmV0dHlDb25zdHJhaW50KCk7Cn0Ka3NvcnQoJGRhdGFbJHR5cGVdKTsKfQp9CgppZiAoJHBhY2thZ2VzID0gJHBhY2thZ2UtPmdldFN1Z2dlc3RzKCkpIHsKa3NvcnQoJHBhY2thZ2VzKTsKJGRhdGFbJ3N1Z2dlc3QnXSA9ICRwYWNrYWdlczsKfQoKaWYgKCRwYWNrYWdlLT5nZXRSZWxlYXNlRGF0ZSgpKSB7CiRkYXRhWyd0aW1lJ10gPSAkcGFja2FnZS0+Z2V0UmVsZWFzZURhdGUoKS0+Zm9ybWF0KERBVEVfUkZDMzMzOSk7Cn0KCmlmICgkcGFja2FnZS0+aXNEZWZhdWx0QnJhbmNoKCkpIHsKJGRhdGFbJ2RlZmF1bHQtYnJhbmNoJ10gPSB0cnVlOwp9CgokZGF0YSA9ICR0aGlzLT5kdW1wVmFsdWVzKCRwYWNrYWdlLCAka2V5cywgJGRhdGEpOwoKaWYgKCRwYWNrYWdlIGluc3RhbmNlb2YgQ29tcGxldGVQYWNrYWdlSW50ZXJmYWNlKSB7CmlmICgkcGFja2FnZS0+Z2V0QXJjaGl2ZU5hbWUoKSkgewokZGF0YVsnYXJjaGl2ZSddWyduYW1lJ10gPSAkcGFja2FnZS0+Z2V0QXJjaGl2ZU5hbWUoKTsKfQppZiAoJHBhY2thZ2UtPmdldEFyY2hpdmVFeGNsdWRlcygpKSB7CiRkYXRhWydhcmNoaXZlJ11bJ2V4Y2x1ZGUnXSA9ICRwYWNrYWdlLT5nZXRBcmNoaXZlRXhjbHVkZXMoKTsKfQoKJGtleXMgPSBhcnJheSgKJ3NjcmlwdHMnLAonbGljZW5zZScsCidhdXRob3JzJywKJ2Rlc2NyaXB0aW9uJywKJ2hvbWVwYWdlJywKJ2tleXdvcmRzJywKJ3JlcG9zaXRvcmllcycsCidzdXBwb3J0JywKJ2Z1bmRpbmcnLAopOwoKJGRhdGEgPSAkdGhpcy0+ZHVtcFZhbHVlcygkcGFja2FnZSwgJGtleXMsICRkYXRhKTsKCmlmIChpc3NldCgkZGF0YVsna2V5d29yZHMnXSkgJiYgXGlzX2FycmF5KCRkYXRhWydrZXl3b3JkcyddKSkgewpzb3J0KCRkYXRhWydrZXl3b3JkcyddKTsKfQoKaWYgKCRwYWNrYWdlLT5pc0FiYW5kb25lZCgpKSB7CiRkYXRhWydhYmFuZG9uZWQnXSA9ICRwYWNrYWdlLT5nZXRSZXBsYWNlbWVudFBhY2thZ2UoKSA/OiB0cnVlOwp9Cn0KCmlmICgkcGFja2FnZSBpbnN0YW5jZW9mIFJvb3RQYWNrYWdlSW50ZXJmYWNlKSB7CiRtaW5pbXVtU3RhYmlsaXR5ID0gJHBhY2thZ2UtPmdldE1pbmltdW1TdGFiaWxpdHkoKTsKaWYgKCRtaW5pbXVtU3RhYmlsaXR5KSB7CiRkYXRhWydtaW5pbXVtLXN0YWJpbGl0eSddID0gJG1pbmltdW1TdGFiaWxpdHk7Cn0KfQoKaWYgKFxjb3VudCgkcGFja2FnZS0+Z2V0VHJhbnNwb3J0T3B0aW9ucygpKSA+IDApIHsKJGRhdGFbJ3RyYW5zcG9ydC1vcHRpb25zJ10gPSAkcGFja2FnZS0+Z2V0VHJhbnNwb3J0T3B0aW9ucygpOwp9CgpyZXR1cm4gJGRhdGE7Cn0KCnByaXZhdGUgZnVuY3Rpb24gZHVtcFZhbHVlcyhQYWNrYWdlSW50ZXJmYWNlICRwYWNrYWdlLCBhcnJheSAka2V5cywgYXJyYXkgJGRhdGEpCnsKZm9yZWFjaCAoJGtleXMgYXMgJG1ldGhvZCA9PiAka2V5KSB7CmlmIChpc19udW1lcmljKCRtZXRob2QpKSB7CiRtZXRob2QgPSAka2V5Owp9CgokZ2V0dGVyID0gJ2dldCcudWNmaXJzdCgkbWV0aG9kKTsKJHZhbHVlID0gJHBhY2thZ2UtPiRnZXR0ZXIoKTsKCmlmIChudWxsICE9PSAkdmFsdWUgJiYgIShcaXNfYXJyYXkoJHZhbHVlKSAmJiAwID09PSBcY291bnQoJHZhbHVlKSkpIHsKJGRhdGFbJGtleV0gPSAkdmFsdWU7Cn0KfQoKcmV0dXJuICRkYXRhOwp9Cn0KPD9waHAKCgoKCgoKCgoKCgpuYW1lc3BhY2UgQ29tcG9zZXJcUGFja2FnZTsKCnVzZSBDb21wb3NlclxTZW12ZXJcQ29uc3RyYWludFxDb25zdHJhaW50SW50ZXJmYWNlOwoKCgoKCgpjbGFzcyBMaW5rCnsKY29uc3QgVFlQRV9SRVFVSVJFID0gJ3JlcXVpcmVzJzsKY29uc3QgVFlQRV9ERVZfUkVRVUlSRSA9ICdkZXZSZXF1aXJlcyc7CmNvbnN0IFRZUEVfUFJPVklERSA9ICdwcm92aWRlcyc7CmNvbnN0IFRZUEVfQ09ORkxJQ1QgPSAnY29uZmxpY3RzJzsKY29uc3QgVFlQRV9SRVBMQUNFID0gJ3JlcGxhY2VzJzsKCgoKCmNvbnN0IFRZUEVfVU5LTk9XTiA9ICdyZWxhdGVzIHRvJzsKCgoKCgoKCnB1YmxpYyBzdGF0aWMgJFRZUEVTID0gYXJyYXkoCnNlbGY6OlRZUEVfUkVRVUlSRSwKc2VsZjo6VFlQRV9ERVZfUkVRVUlSRSwKc2VsZjo6VFlQRV9QUk9WSURFLApzZWxmOjpUWVBFX0NPTkZMSUNULApzZWxmOjpUWVBFX1JFUExBQ0UsCik7CgoKCgpwcm90ZWN0ZWQgJHNvdXJjZTsKCgoKCnByb3RlY3RlZCAkdGFyZ2V0OwoKCgoKcHJvdGVjdGVkICRjb25zdHJhaW50OwoKCgoKCnByb3RlY3RlZCAkZGVzY3JpcHRpb247CgoKCgpwcm90ZWN0ZWQgJHByZXR0eUNvbnN0cmFpbnQ7CgoKCgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gX19jb25zdHJ1Y3QoCiRzb3VyY2UsCiR0YXJnZXQsCkNvbnN0cmFpbnRJbnRlcmZhY2UgJGNvbnN0cmFpbnQsCiRkZXNjcmlwdGlvbiA9IHNlbGY6OlRZUEVfVU5LTk9XTiwKJHByZXR0eUNvbnN0cmFpbnQgPSBudWxsCikgewokdGhpcy0+c291cmNlID0gc3RydG9sb3dlcigkc291cmNlKTsKJHRoaXMtPnRhcmdldCA9IHN0cnRvbG93ZXIoJHRhcmdldCk7CiR0aGlzLT5jb25zdHJhaW50ID0gJGNvbnN0cmFpbnQ7CiR0aGlzLT5kZXNjcmlwdGlvbiA9ICRkZXNjcmlwdGlvbjsKJHRoaXMtPnByZXR0eUNvbnN0cmFpbnQgPSAkcHJldHR5Q29uc3RyYWludDsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIGdldERlc2NyaXB0aW9uKCkKewpyZXR1cm4gJHRoaXMtPmRlc2NyaXB0aW9uOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0U291cmNlKCkKewpyZXR1cm4gJHRoaXMtPnNvdXJjZTsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIGdldFRhcmdldCgpCnsKcmV0dXJuICR0aGlzLT50YXJnZXQ7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBnZXRDb25zdHJhaW50KCkKewpyZXR1cm4gJHRoaXMtPmNvbnN0cmFpbnQ7Cn0KCgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0UHJldHR5Q29uc3RyYWludCgpCnsKaWYgKG51bGwgPT09ICR0aGlzLT5wcmV0dHlDb25zdHJhaW50KSB7CnRocm93IG5ldyBcVW5leHBlY3RlZFZhbHVlRXhjZXB0aW9uKHNwcmludGYoJ0xpbmsgJXMgaGFzIGJlZW4gbWlzY29uZmlndXJlZCBhbmQgaGFkIG5vIHByZXR0eUNvbnN0cmFpbnQgZ2l2ZW4uJywgJHRoaXMpKTsKfQoKcmV0dXJuICR0aGlzLT5wcmV0dHlDb25zdHJhaW50Owp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gX190b1N0cmluZygpCnsKcmV0dXJuICR0aGlzLT5zb3VyY2UuJyAnLiR0aGlzLT5kZXNjcmlwdGlvbi4nICcuJHRoaXMtPnRhcmdldC4nICgnLiR0aGlzLT5jb25zdHJhaW50LicpJzsKfQoKCgoKCnB1YmxpYyBmdW5jdGlvbiBnZXRQcmV0dHlTdHJpbmcoUGFja2FnZUludGVyZmFjZSAkc291cmNlUGFja2FnZSkKewpyZXR1cm4gJHNvdXJjZVBhY2thZ2UtPmdldFByZXR0eVN0cmluZygpLicgJy4kdGhpcy0+ZGVzY3JpcHRpb24uJyAnLiR0aGlzLT50YXJnZXQuKCR0aGlzLT5jb25zdHJhaW50ID8gJyAnLiR0aGlzLT5jb25zdHJhaW50LT5nZXRQcmV0dHlTdHJpbmcoKSA6ICcnKTsKfQp9Cjw/cGhwCgoKCgoKCgoKCgoKbmFtZXNwYWNlIENvbXBvc2VyXFBhY2thZ2VcTG9hZGVyOwoKdXNlIENvbXBvc2VyXFBhY2thZ2VcQWxpYXNQYWNrYWdlOwp1c2UgQ29tcG9zZXJcUGFja2FnZVxCYXNlUGFja2FnZTsKdXNlIENvbXBvc2VyXFBhY2thZ2VcQ29tcGxldGVBbGlhc1BhY2thZ2U7CnVzZSBDb21wb3NlclxQYWNrYWdlXENvbXBsZXRlUGFja2FnZTsKdXNlIENvbXBvc2VyXFBhY2thZ2VcUm9vdFBhY2thZ2U7CnVzZSBDb21wb3NlclxQYWNrYWdlXFBhY2thZ2VJbnRlcmZhY2U7CnVzZSBDb21wb3NlclxQYWNrYWdlXENvbXBsZXRlUGFja2FnZUludGVyZmFjZTsKdXNlIENvbXBvc2VyXFBhY2thZ2VcTGluazsKdXNlIENvbXBvc2VyXFBhY2thZ2VcUGFja2FnZTsKdXNlIENvbXBvc2VyXFBhY2thZ2VcUm9vdEFsaWFzUGFja2FnZTsKdXNlIENvbXBvc2VyXFBhY2thZ2VcUm9vdFBhY2thZ2VJbnRlcmZhY2U7CnVzZSBDb21wb3NlclxQYWNrYWdlXFZlcnNpb25cVmVyc2lvblBhcnNlcjsKCgoKCgpjbGFzcyBBcnJheUxvYWRlciBpbXBsZW1lbnRzIExvYWRlckludGVyZmFjZQp7CnByb3RlY3RlZCAkdmVyc2lvblBhcnNlcjsKcHJvdGVjdGVkICRsb2FkT3B0aW9uczsKCnB1YmxpYyBmdW5jdGlvbiBfX2NvbnN0cnVjdChWZXJzaW9uUGFyc2VyICRwYXJzZXIgPSBudWxsLCAkbG9hZE9wdGlvbnMgPSBmYWxzZSkKewppZiAoISRwYXJzZXIpIHsKJHBhcnNlciA9IG5ldyBWZXJzaW9uUGFyc2VyOwp9CiR0aGlzLT52ZXJzaW9uUGFyc2VyID0gJHBhcnNlcjsKJHRoaXMtPmxvYWRPcHRpb25zID0gJGxvYWRPcHRpb25zOwp9CgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIGxvYWQoYXJyYXkgJGNvbmZpZywgJGNsYXNzID0gJ0NvbXBvc2VyXFBhY2thZ2VcQ29tcGxldGVQYWNrYWdlJykKewppZiAoJGNsYXNzICE9PSAnQ29tcG9zZXJcUGFja2FnZVxDb21wbGV0ZVBhY2thZ2UnICYmICRjbGFzcyAhPT0gJ0NvbXBvc2VyXFBhY2thZ2VcUm9vdFBhY2thZ2UnKSB7CnRyaWdnZXJfZXJyb3IoJ1RoZSAkY2xhc3MgYXJnIGlzIGRlcHJlY2F0ZWQsIHBsZWFzZSByZWFjaCBvdXQgdG8gQ29tcG9zZXIgbWFpbnRhaW5lcnMgQVNBUCBpZiB5b3Ugc3RpbGwgbmVlZCB0aGlzLicsIEVfVVNFUl9ERVBSRUNBVEVEKTsKfQoKJHBhY2thZ2UgPSAkdGhpcy0+Y3JlYXRlT2JqZWN0KCRjb25maWcsICRjbGFzcyk7Cgpmb3JlYWNoIChCYXNlUGFja2FnZTo6JHN1cHBvcnRlZExpbmtUeXBlcyBhcyAkdHlwZSA9PiAkb3B0cykgewppZiAoaXNzZXQoJGNvbmZpZ1skdHlwZV0pKSB7CiRtZXRob2QgPSAnc2V0Jy51Y2ZpcnN0KCRvcHRzWydtZXRob2QnXSk7CiRwYWNrYWdlLT57JG1ldGhvZH0oCiR0aGlzLT5wYXJzZUxpbmtzKAokcGFja2FnZS0+Z2V0TmFtZSgpLAokcGFja2FnZS0+Z2V0UHJldHR5VmVyc2lvbigpLAokb3B0c1snZGVzY3JpcHRpb24nXSwKJGNvbmZpZ1skdHlwZV0KKQopOwp9Cn0KCiRwYWNrYWdlID0gJHRoaXMtPmNvbmZpZ3VyZU9iamVjdCgkcGFja2FnZSwgJGNvbmZpZyk7CgpyZXR1cm4gJHBhY2thZ2U7Cn0KCgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gbG9hZFBhY2thZ2VzKGFycmF5ICR2ZXJzaW9ucywgJGNsYXNzID0gJ0NvbXBvc2VyXFBhY2thZ2VcQ29tcGxldGVQYWNrYWdlJykKewppZiAoJGNsYXNzICE9PSAnQ29tcG9zZXJcUGFja2FnZVxDb21wbGV0ZVBhY2thZ2UnKSB7CnRyaWdnZXJfZXJyb3IoJ1RoZSAkY2xhc3MgYXJnIGlzIGRlcHJlY2F0ZWQsIHBsZWFzZSByZWFjaCBvdXQgdG8gQ29tcG9zZXIgbWFpbnRhaW5lcnMgQVNBUCBpZiB5b3Ugc3RpbGwgbmVlZCB0aGlzLicsIEVfVVNFUl9ERVBSRUNBVEVEKTsKfQoKJHBhY2thZ2VzID0gYXJyYXkoKTsKJGxpbmtDYWNoZSA9IGFycmF5KCk7Cgpmb3JlYWNoICgkdmVyc2lvbnMgYXMgJHZlcnNpb24pIHsKJHBhY2thZ2UgPSAkdGhpcy0+Y3JlYXRlT2JqZWN0KCR2ZXJzaW9uLCAkY2xhc3MpOwoKJHRoaXMtPmNvbmZpZ3VyZUNhY2hlZExpbmtzKCRsaW5rQ2FjaGUsICRwYWNrYWdlLCAkdmVyc2lvbik7CiRwYWNrYWdlID0gJHRoaXMtPmNvbmZpZ3VyZU9iamVjdCgkcGFja2FnZSwgJHZlcnNpb24pOwoKJHBhY2thZ2VzW10gPSAkcGFja2FnZTsKfQoKcmV0dXJuICRwYWNrYWdlczsKfQoKCgoKCgoKCnByaXZhdGUgZnVuY3Rpb24gY3JlYXRlT2JqZWN0KGFycmF5ICRjb25maWcsICRjbGFzcykKewppZiAoIWlzc2V0KCRjb25maWdbJ25hbWUnXSkpIHsKdGhyb3cgbmV3IFxVbmV4cGVjdGVkVmFsdWVFeGNlcHRpb24oJ1Vua25vd24gcGFja2FnZSBoYXMgbm8gbmFtZSBkZWZpbmVkICgnLmpzb25fZW5jb2RlKCRjb25maWcpLicpLicpOwp9CmlmICghaXNzZXQoJGNvbmZpZ1sndmVyc2lvbiddKSkgewp0aHJvdyBuZXcgXFVuZXhwZWN0ZWRWYWx1ZUV4Y2VwdGlvbignUGFja2FnZSAnLiRjb25maWdbJ25hbWUnXS4nIGhhcyBubyB2ZXJzaW9uIGRlZmluZWQuJyk7Cn0KCgppZiAoaXNzZXQoJGNvbmZpZ1sndmVyc2lvbl9ub3JtYWxpemVkJ10pKSB7CiR2ZXJzaW9uID0gJGNvbmZpZ1sndmVyc2lvbl9ub3JtYWxpemVkJ107CgoKaWYgKCR2ZXJzaW9uID09PSBWZXJzaW9uUGFyc2VyOjpERUZBVUxUX0JSQU5DSF9BTElBUykgewokdmVyc2lvbiA9ICR0aGlzLT52ZXJzaW9uUGFyc2VyLT5ub3JtYWxpemUoJGNvbmZpZ1sndmVyc2lvbiddKTsKfQp9IGVsc2UgewokdmVyc2lvbiA9ICR0aGlzLT52ZXJzaW9uUGFyc2VyLT5ub3JtYWxpemUoJGNvbmZpZ1sndmVyc2lvbiddKTsKfQoKcmV0dXJuIG5ldyAkY2xhc3MoJGNvbmZpZ1snbmFtZSddLCAkdmVyc2lvbiwgJGNvbmZpZ1sndmVyc2lvbiddKTsKfQoKCgoKCgpwcml2YXRlIGZ1bmN0aW9uIGNvbmZpZ3VyZU9iamVjdChQYWNrYWdlSW50ZXJmYWNlICRwYWNrYWdlLCBhcnJheSAkY29uZmlnKQp7CmlmICghJHBhY2thZ2UgaW5zdGFuY2VvZiBQYWNrYWdlKSB7CnRocm93IG5ldyBcTG9naWNFeGNlcHRpb24oJ0FycmF5TG9hZGVyIGV4cGVjdHMgaW5zdGFuY2VzIG9mIHRoZSBDb21wb3NlclxQYWNrYWdlXFBhY2thZ2UgY2xhc3MgdG8gZnVuY3Rpb24gY29ycmVjdGx5Jyk7Cn0KCiRwYWNrYWdlLT5zZXRUeXBlKGlzc2V0KCRjb25maWdbJ3R5cGUnXSkgPyBzdHJ0b2xvd2VyKCRjb25maWdbJ3R5cGUnXSkgOiAnbGlicmFyeScpOwoKaWYgKGlzc2V0KCRjb25maWdbJ3RhcmdldC1kaXInXSkpIHsKJHBhY2thZ2UtPnNldFRhcmdldERpcigkY29uZmlnWyd0YXJnZXQtZGlyJ10pOwp9CgppZiAoaXNzZXQoJGNvbmZpZ1snZXh0cmEnXSkgJiYgXGlzX2FycmF5KCRjb25maWdbJ2V4dHJhJ10pKSB7CiRwYWNrYWdlLT5zZXRFeHRyYSgkY29uZmlnWydleHRyYSddKTsKfQoKaWYgKGlzc2V0KCRjb25maWdbJ2JpbiddKSkgewppZiAoIVxpc19hcnJheSgkY29uZmlnWydiaW4nXSkpIHsKJGNvbmZpZ1snYmluJ10gPSBhcnJheSgkY29uZmlnWydiaW4nXSk7Cn0KZm9yZWFjaCAoJGNvbmZpZ1snYmluJ10gYXMgJGtleSA9PiAkYmluKSB7CiRjb25maWdbJ2JpbiddWyRrZXldID0gbHRyaW0oJGJpbiwgJy8nKTsKfQokcGFja2FnZS0+c2V0QmluYXJpZXMoJGNvbmZpZ1snYmluJ10pOwp9CgppZiAoaXNzZXQoJGNvbmZpZ1snaW5zdGFsbGF0aW9uLXNvdXJjZSddKSkgewokcGFja2FnZS0+c2V0SW5zdGFsbGF0aW9uU291cmNlKCRjb25maWdbJ2luc3RhbGxhdGlvbi1zb3VyY2UnXSk7Cn0KCmlmIChpc3NldCgkY29uZmlnWydkZWZhdWx0LWJyYW5jaCddKSAmJiAkY29uZmlnWydkZWZhdWx0LWJyYW5jaCddID09PSB0cnVlKSB7CiRwYWNrYWdlLT5zZXRJc0RlZmF1bHRCcmFuY2godHJ1ZSk7Cn0KCmlmIChpc3NldCgkY29uZmlnWydzb3VyY2UnXSkpIHsKaWYgKCFpc3NldCgkY29uZmlnWydzb3VyY2UnXVsndHlwZSddLCAkY29uZmlnWydzb3VyY2UnXVsndXJsJ10sICRjb25maWdbJ3NvdXJjZSddWydyZWZlcmVuY2UnXSkpIHsKdGhyb3cgbmV3IFxVbmV4cGVjdGVkVmFsdWVFeGNlcHRpb24oc3ByaW50ZigKIlBhY2thZ2UgJXMncyBzb3VyY2Uga2V5IHNob3VsZCBiZSBzcGVjaWZpZWQgYXMge1widHlwZVwiOiAuLi4sIFwidXJsXCI6IC4uLiwgXCJyZWZlcmVuY2VcIjogLi4ufSxcbiVzIGdpdmVuLiIsCiRjb25maWdbJ25hbWUnXSwKanNvbl9lbmNvZGUoJGNvbmZpZ1snc291cmNlJ10pCikpOwp9CiRwYWNrYWdlLT5zZXRTb3VyY2VUeXBlKCRjb25maWdbJ3NvdXJjZSddWyd0eXBlJ10pOwokcGFja2FnZS0+c2V0U291cmNlVXJsKCRjb25maWdbJ3NvdXJjZSddWyd1cmwnXSk7CiRwYWNrYWdlLT5zZXRTb3VyY2VSZWZlcmVuY2UoaXNzZXQoJGNvbmZpZ1snc291cmNlJ11bJ3JlZmVyZW5jZSddKSA/ICRjb25maWdbJ3NvdXJjZSddWydyZWZlcmVuY2UnXSA6IG51bGwpOwppZiAoaXNzZXQoJGNvbmZpZ1snc291cmNlJ11bJ21pcnJvcnMnXSkpIHsKJHBhY2thZ2UtPnNldFNvdXJjZU1pcnJvcnMoJGNvbmZpZ1snc291cmNlJ11bJ21pcnJvcnMnXSk7Cn0KfQoKaWYgKGlzc2V0KCRjb25maWdbJ2Rpc3QnXSkpIHsKaWYgKCFpc3NldCgkY29uZmlnWydkaXN0J11bJ3R5cGUnXSwgJGNvbmZpZ1snZGlzdCddWyd1cmwnXSkpIHsKdGhyb3cgbmV3IFxVbmV4cGVjdGVkVmFsdWVFeGNlcHRpb24oc3ByaW50ZigKIlBhY2thZ2UgJXMncyBkaXN0IGtleSBzaG91bGQgYmUgc3BlY2lmaWVkIGFzICIuCiJ7XCJ0eXBlXCI6IC4uLiwgXCJ1cmxcIjogLi4uLCBcInJlZmVyZW5jZVwiOiAuLi4sIFwic2hhc3VtXCI6IC4uLn0sXG4lcyBnaXZlbi4iLAokY29uZmlnWyduYW1lJ10sCmpzb25fZW5jb2RlKCRjb25maWdbJ2Rpc3QnXSkKKSk7Cn0KJHBhY2thZ2UtPnNldERpc3RUeXBlKCRjb25maWdbJ2Rpc3QnXVsndHlwZSddKTsKJHBhY2thZ2UtPnNldERpc3RVcmwoJGNvbmZpZ1snZGlzdCddWyd1cmwnXSk7CiRwYWNrYWdlLT5zZXREaXN0UmVmZXJlbmNlKGlzc2V0KCRjb25maWdbJ2Rpc3QnXVsncmVmZXJlbmNlJ10pID8gJGNvbmZpZ1snZGlzdCddWydyZWZlcmVuY2UnXSA6IG51bGwpOwokcGFja2FnZS0+c2V0RGlzdFNoYTFDaGVja3N1bShpc3NldCgkY29uZmlnWydkaXN0J11bJ3NoYXN1bSddKSA/ICRjb25maWdbJ2Rpc3QnXVsnc2hhc3VtJ10gOiBudWxsKTsKaWYgKGlzc2V0KCRjb25maWdbJ2Rpc3QnXVsnbWlycm9ycyddKSkgewokcGFja2FnZS0+c2V0RGlzdE1pcnJvcnMoJGNvbmZpZ1snZGlzdCddWydtaXJyb3JzJ10pOwp9Cn0KCmlmIChpc3NldCgkY29uZmlnWydzdWdnZXN0J10pICYmIFxpc19hcnJheSgkY29uZmlnWydzdWdnZXN0J10pKSB7CmZvcmVhY2ggKCRjb25maWdbJ3N1Z2dlc3QnXSBhcyAkdGFyZ2V0ID0+ICRyZWFzb24pIHsKaWYgKCdzZWxmLnZlcnNpb24nID09PSB0cmltKCRyZWFzb24pKSB7CiRjb25maWdbJ3N1Z2dlc3QnXVskdGFyZ2V0XSA9ICRwYWNrYWdlLT5nZXRQcmV0dHlWZXJzaW9uKCk7Cn0KfQokcGFja2FnZS0+c2V0U3VnZ2VzdHMoJGNvbmZpZ1snc3VnZ2VzdCddKTsKfQoKaWYgKGlzc2V0KCRjb25maWdbJ2F1dG9sb2FkJ10pKSB7CiRwYWNrYWdlLT5zZXRBdXRvbG9hZCgkY29uZmlnWydhdXRvbG9hZCddKTsKfQoKaWYgKGlzc2V0KCRjb25maWdbJ2F1dG9sb2FkLWRldiddKSkgewokcGFja2FnZS0+c2V0RGV2QXV0b2xvYWQoJGNvbmZpZ1snYXV0b2xvYWQtZGV2J10pOwp9CgppZiAoaXNzZXQoJGNvbmZpZ1snaW5jbHVkZS1wYXRoJ10pKSB7CiRwYWNrYWdlLT5zZXRJbmNsdWRlUGF0aHMoJGNvbmZpZ1snaW5jbHVkZS1wYXRoJ10pOwp9CgppZiAoIWVtcHR5KCRjb25maWdbJ3RpbWUnXSkpIHsKJHRpbWUgPSBwcmVnX21hdGNoKCcvXlxkKyskL0QnLCAkY29uZmlnWyd0aW1lJ10pID8gJ0AnLiRjb25maWdbJ3RpbWUnXSA6ICRjb25maWdbJ3RpbWUnXTsKCnRyeSB7CiRkYXRlID0gbmV3IFxEYXRlVGltZSgkdGltZSwgbmV3IFxEYXRlVGltZVpvbmUoJ1VUQycpKTsKJHBhY2thZ2UtPnNldFJlbGVhc2VEYXRlKCRkYXRlKTsKfSBjYXRjaCAoXEV4Y2VwdGlvbiAkZSkgewp9Cn0KCmlmICghZW1wdHkoJGNvbmZpZ1snbm90aWZpY2F0aW9uLXVybCddKSkgewokcGFja2FnZS0+c2V0Tm90aWZpY2F0aW9uVXJsKCRjb25maWdbJ25vdGlmaWNhdGlvbi11cmwnXSk7Cn0KCmlmICgkcGFja2FnZSBpbnN0YW5jZW9mIENvbXBsZXRlUGFja2FnZUludGVyZmFjZSkgewppZiAoIWVtcHR5KCRjb25maWdbJ2FyY2hpdmUnXVsnbmFtZSddKSkgewokcGFja2FnZS0+c2V0QXJjaGl2ZU5hbWUoJGNvbmZpZ1snYXJjaGl2ZSddWyduYW1lJ10pOwp9CmlmICghZW1wdHkoJGNvbmZpZ1snYXJjaGl2ZSddWydleGNsdWRlJ10pKSB7CiRwYWNrYWdlLT5zZXRBcmNoaXZlRXhjbHVkZXMoJGNvbmZpZ1snYXJjaGl2ZSddWydleGNsdWRlJ10pOwp9CgppZiAoaXNzZXQoJGNvbmZpZ1snc2NyaXB0cyddKSAmJiBcaXNfYXJyYXkoJGNvbmZpZ1snc2NyaXB0cyddKSkgewpmb3JlYWNoICgkY29uZmlnWydzY3JpcHRzJ10gYXMgJGV2ZW50ID0+ICRsaXN0ZW5lcnMpIHsKJGNvbmZpZ1snc2NyaXB0cyddWyRldmVudF0gPSAoYXJyYXkpICRsaXN0ZW5lcnM7Cn0KaWYgKGlzc2V0KCRjb25maWdbJ3NjcmlwdHMnXVsnY29tcG9zZXInXSkpIHsKdHJpZ2dlcl9lcnJvcignVGhlIGBjb21wb3NlcmAgc2NyaXB0IG5hbWUgaXMgcmVzZXJ2ZWQgZm9yIGludGVybmFsIHVzZSwgcGxlYXNlIGF2b2lkIGRlZmluaW5nIGl0JywgRV9VU0VSX0RFUFJFQ0FURUQpOwp9CiRwYWNrYWdlLT5zZXRTY3JpcHRzKCRjb25maWdbJ3NjcmlwdHMnXSk7Cn0KCmlmICghZW1wdHkoJGNvbmZpZ1snZGVzY3JpcHRpb24nXSkgJiYgXGlzX3N0cmluZygkY29uZmlnWydkZXNjcmlwdGlvbiddKSkgewokcGFja2FnZS0+c2V0RGVzY3JpcHRpb24oJGNvbmZpZ1snZGVzY3JpcHRpb24nXSk7Cn0KCmlmICghZW1wdHkoJGNvbmZpZ1snaG9tZXBhZ2UnXSkgJiYgXGlzX3N0cmluZygkY29uZmlnWydob21lcGFnZSddKSkgewokcGFja2FnZS0+c2V0SG9tZXBhZ2UoJGNvbmZpZ1snaG9tZXBhZ2UnXSk7Cn0KCmlmICghZW1wdHkoJGNvbmZpZ1sna2V5d29yZHMnXSkgJiYgXGlzX2FycmF5KCRjb25maWdbJ2tleXdvcmRzJ10pKSB7CiRwYWNrYWdlLT5zZXRLZXl3b3JkcygkY29uZmlnWydrZXl3b3JkcyddKTsKfQoKaWYgKCFlbXB0eSgkY29uZmlnWydsaWNlbnNlJ10pKSB7CiRwYWNrYWdlLT5zZXRMaWNlbnNlKFxpc19hcnJheSgkY29uZmlnWydsaWNlbnNlJ10pID8gJGNvbmZpZ1snbGljZW5zZSddIDogYXJyYXkoJGNvbmZpZ1snbGljZW5zZSddKSk7Cn0KCmlmICghZW1wdHkoJGNvbmZpZ1snYXV0aG9ycyddKSAmJiBcaXNfYXJyYXkoJGNvbmZpZ1snYXV0aG9ycyddKSkgewokcGFja2FnZS0+c2V0QXV0aG9ycygkY29uZmlnWydhdXRob3JzJ10pOwp9CgppZiAoaXNzZXQoJGNvbmZpZ1snc3VwcG9ydCddKSkgewokcGFja2FnZS0+c2V0U3VwcG9ydCgkY29uZmlnWydzdXBwb3J0J10pOwp9CgppZiAoIWVtcHR5KCRjb25maWdbJ2Z1bmRpbmcnXSkgJiYgXGlzX2FycmF5KCRjb25maWdbJ2Z1bmRpbmcnXSkpIHsKJHBhY2thZ2UtPnNldEZ1bmRpbmcoJGNvbmZpZ1snZnVuZGluZyddKTsKfQoKaWYgKGlzc2V0KCRjb25maWdbJ2FiYW5kb25lZCddKSkgewokcGFja2FnZS0+c2V0QWJhbmRvbmVkKCRjb25maWdbJ2FiYW5kb25lZCddKTsKfQp9CgppZiAoJHRoaXMtPmxvYWRPcHRpb25zICYmIGlzc2V0KCRjb25maWdbJ3RyYW5zcG9ydC1vcHRpb25zJ10pKSB7CiRwYWNrYWdlLT5zZXRUcmFuc3BvcnRPcHRpb25zKCRjb25maWdbJ3RyYW5zcG9ydC1vcHRpb25zJ10pOwp9CgppZiAoJGFsaWFzTm9ybWFsaXplZCA9ICR0aGlzLT5nZXRCcmFuY2hBbGlhcygkY29uZmlnKSkgewokcHJldHR5QWxpYXMgPSBwcmVnX3JlcGxhY2UoJ3soXC45ezd9KSt9JywgJy54JywgJGFsaWFzTm9ybWFsaXplZCk7CgppZiAoJHBhY2thZ2UgaW5zdGFuY2VvZiBSb290UGFja2FnZUludGVyZmFjZSkgewpyZXR1cm4gbmV3IFJvb3RBbGlhc1BhY2thZ2UoJHBhY2thZ2UsICRhbGlhc05vcm1hbGl6ZWQsICRwcmV0dHlBbGlhcyk7Cn0KCmlmICgkcGFja2FnZSBpbnN0YW5jZW9mIENvbXBsZXRlUGFja2FnZUludGVyZmFjZSkgewpyZXR1cm4gbmV3IENvbXBsZXRlQWxpYXNQYWNrYWdlKCRwYWNrYWdlLCAkYWxpYXNOb3JtYWxpemVkLCAkcHJldHR5QWxpYXMpOwp9CgpyZXR1cm4gbmV3IEFsaWFzUGFja2FnZSgkcGFja2FnZSwgJGFsaWFzTm9ybWFsaXplZCwgJHByZXR0eUFsaWFzKTsKfQoKcmV0dXJuICRwYWNrYWdlOwp9CgoKCgoKCgpwcml2YXRlIGZ1bmN0aW9uIGNvbmZpZ3VyZUNhY2hlZExpbmtzKCYkbGlua0NhY2hlLCAkcGFja2FnZSwgYXJyYXkgJGNvbmZpZykKewokbmFtZSA9ICRwYWNrYWdlLT5nZXROYW1lKCk7CiRwcmV0dHlWZXJzaW9uID0gJHBhY2thZ2UtPmdldFByZXR0eVZlcnNpb24oKTsKCmZvcmVhY2ggKEJhc2VQYWNrYWdlOjokc3VwcG9ydGVkTGlua1R5cGVzIGFzICR0eXBlID0+ICRvcHRzKSB7CmlmIChpc3NldCgkY29uZmlnWyR0eXBlXSkpIHsKJG1ldGhvZCA9ICdzZXQnLnVjZmlyc3QoJG9wdHNbJ21ldGhvZCddKTsKCiRsaW5rcyA9IGFycmF5KCk7CmZvcmVhY2ggKCRjb25maWdbJHR5cGVdIGFzICRwcmV0dHlUYXJnZXQgPT4gJGNvbnN0cmFpbnQpIHsKJHRhcmdldCA9IHN0cnRvbG93ZXIoJHByZXR0eVRhcmdldCk7CmlmICgkY29uc3RyYWludCA9PT0gJ3NlbGYudmVyc2lvbicpIHsKJGxpbmtzWyR0YXJnZXRdID0gJHRoaXMtPmNyZWF0ZUxpbmsoJG5hbWUsICRwcmV0dHlWZXJzaW9uLCAkb3B0c1snZGVzY3JpcHRpb24nXSwgJHRhcmdldCwgJGNvbnN0cmFpbnQpOwp9IGVsc2UgewppZiAoIWlzc2V0KCRsaW5rQ2FjaGVbJG5hbWVdWyR0eXBlXVskdGFyZ2V0XVskY29uc3RyYWludF0pKSB7CiRsaW5rQ2FjaGVbJG5hbWVdWyR0eXBlXVskdGFyZ2V0XVskY29uc3RyYWludF0gPSBhcnJheSgkdGFyZ2V0LCAkdGhpcy0+Y3JlYXRlTGluaygkbmFtZSwgJHByZXR0eVZlcnNpb24sICRvcHRzWydkZXNjcmlwdGlvbiddLCAkdGFyZ2V0LCAkY29uc3RyYWludCkpOwp9CgpsaXN0KCR0YXJnZXQsICRsaW5rKSA9ICRsaW5rQ2FjaGVbJG5hbWVdWyR0eXBlXVskdGFyZ2V0XVskY29uc3RyYWludF07CiRsaW5rc1skdGFyZ2V0XSA9ICRsaW5rOwp9Cn0KCiRwYWNrYWdlLT57JG1ldGhvZH0oJGxpbmtzKTsKfQp9Cn0KCgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gcGFyc2VMaW5rcygkc291cmNlLCAkc291cmNlVmVyc2lvbiwgJGRlc2NyaXB0aW9uLCAkbGlua3MpCnsKJHJlcyA9IGFycmF5KCk7CmZvcmVhY2ggKCRsaW5rcyBhcyAkdGFyZ2V0ID0+ICRjb25zdHJhaW50KSB7CiRyZXNbc3RydG9sb3dlcigkdGFyZ2V0KV0gPSAkdGhpcy0+Y3JlYXRlTGluaygkc291cmNlLCAkc291cmNlVmVyc2lvbiwgJGRlc2NyaXB0aW9uLCAkdGFyZ2V0LCAkY29uc3RyYWludCk7Cn0KCnJldHVybiAkcmVzOwp9CgoKCgoKCgoKCnByaXZhdGUgZnVuY3Rpb24gY3JlYXRlTGluaygkc291cmNlLCAkc291cmNlVmVyc2lvbiwgJGRlc2NyaXB0aW9uLCAkdGFyZ2V0LCAkcHJldHR5Q29uc3RyYWludCkKewppZiAoIVxpc19zdHJpbmcoJHByZXR0eUNvbnN0cmFpbnQpKSB7CnRocm93IG5ldyBcVW5leHBlY3RlZFZhbHVlRXhjZXB0aW9uKCdMaW5rIGNvbnN0cmFpbnQgaW4gJy4kc291cmNlLicgJy4kZGVzY3JpcHRpb24uJyA+ICcuJHRhcmdldC4nIHNob3VsZCBiZSBhIHN0cmluZywgZ290ICcuXGdldHR5cGUoJHByZXR0eUNvbnN0cmFpbnQpIC4gJyAoJyAuIHZhcl9leHBvcnQoJHByZXR0eUNvbnN0cmFpbnQsIHRydWUpIC4gJyknKTsKfQppZiAoJ3NlbGYudmVyc2lvbicgPT09ICRwcmV0dHlDb25zdHJhaW50KSB7CiRwYXJzZWRDb25zdHJhaW50ID0gJHRoaXMtPnZlcnNpb25QYXJzZXItPnBhcnNlQ29uc3RyYWludHMoJHNvdXJjZVZlcnNpb24pOwp9IGVsc2UgewokcGFyc2VkQ29uc3RyYWludCA9ICR0aGlzLT52ZXJzaW9uUGFyc2VyLT5wYXJzZUNvbnN0cmFpbnRzKCRwcmV0dHlDb25zdHJhaW50KTsKfQoKcmV0dXJuIG5ldyBMaW5rKCRzb3VyY2UsICR0YXJnZXQsICRwYXJzZWRDb25zdHJhaW50LCAkZGVzY3JpcHRpb24sICRwcmV0dHlDb25zdHJhaW50KTsKfQoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIGdldEJyYW5jaEFsaWFzKGFycmF5ICRjb25maWcpCnsKaWYgKHN0cnBvcygkY29uZmlnWyd2ZXJzaW9uJ10sICdkZXYtJykgIT09IDAgJiYgJy1kZXYnICE9PSBzdWJzdHIoJGNvbmZpZ1sndmVyc2lvbiddLCAtNCkpIHsKcmV0dXJuIG51bGw7Cn0KCmlmIChpc3NldCgkY29uZmlnWydleHRyYSddWydicmFuY2gtYWxpYXMnXSkgJiYgXGlzX2FycmF5KCRjb25maWdbJ2V4dHJhJ11bJ2JyYW5jaC1hbGlhcyddKSkgewpmb3JlYWNoICgkY29uZmlnWydleHRyYSddWydicmFuY2gtYWxpYXMnXSBhcyAkc291cmNlQnJhbmNoID0+ICR0YXJnZXRCcmFuY2gpIHsKCmlmICgnLWRldicgIT09IHN1YnN0cigkdGFyZ2V0QnJhbmNoLCAtNCkpIHsKY29udGludWU7Cn0KCgppZiAoJHRhcmdldEJyYW5jaCA9PT0gVmVyc2lvblBhcnNlcjo6REVGQVVMVF9CUkFOQ0hfQUxJQVMpIHsKJHZhbGlkYXRlZFRhcmdldEJyYW5jaCA9IFZlcnNpb25QYXJzZXI6OkRFRkFVTFRfQlJBTkNIX0FMSUFTOwp9IGVsc2UgewokdmFsaWRhdGVkVGFyZ2V0QnJhbmNoID0gJHRoaXMtPnZlcnNpb25QYXJzZXItPm5vcm1hbGl6ZUJyYW5jaChzdWJzdHIoJHRhcmdldEJyYW5jaCwgMCwgLTQpKTsKfQppZiAoJy1kZXYnICE9PSBzdWJzdHIoJHZhbGlkYXRlZFRhcmdldEJyYW5jaCwgLTQpKSB7CmNvbnRpbnVlOwp9CgoKaWYgKHN0cnRvbG93ZXIoJGNvbmZpZ1sndmVyc2lvbiddKSAhPT0gc3RydG9sb3dlcigkc291cmNlQnJhbmNoKSkgewpjb250aW51ZTsKfQoKCmlmICgoJHNvdXJjZVByZWZpeCA9ICR0aGlzLT52ZXJzaW9uUGFyc2VyLT5wYXJzZU51bWVyaWNBbGlhc1ByZWZpeCgkc291cmNlQnJhbmNoKSkKJiYgKCR0YXJnZXRQcmVmaXggPSAkdGhpcy0+dmVyc2lvblBhcnNlci0+cGFyc2VOdW1lcmljQWxpYXNQcmVmaXgoJHRhcmdldEJyYW5jaCkpCiYmIChzdHJpcG9zKCR0YXJnZXRQcmVmaXgsICRzb3VyY2VQcmVmaXgpICE9PSAwKQopIHsKY29udGludWU7Cn0KCnJldHVybiAkdmFsaWRhdGVkVGFyZ2V0QnJhbmNoOwp9Cn0KCmlmICgKaXNzZXQoJGNvbmZpZ1snZGVmYXVsdC1icmFuY2gnXSkKJiYgJGNvbmZpZ1snZGVmYXVsdC1icmFuY2gnXSA9PT0gdHJ1ZQomJiBmYWxzZSA9PT0gJHRoaXMtPnZlcnNpb25QYXJzZXItPnBhcnNlTnVtZXJpY0FsaWFzUHJlZml4KCRjb25maWdbJ3ZlcnNpb24nXSkKKSB7CnJldHVybiBWZXJzaW9uUGFyc2VyOjpERUZBVUxUX0JSQU5DSF9BTElBUzsKfQoKcmV0dXJuIG51bGw7Cn0KfQo8P3BocAoKCgoKCgoKCgoKCm5hbWVzcGFjZSBDb21wb3NlclxQYWNrYWdlXExvYWRlcjsKCgoKCmNsYXNzIEludmFsaWRQYWNrYWdlRXhjZXB0aW9uIGV4dGVuZHMgXEV4Y2VwdGlvbgp7CnByaXZhdGUgJGVycm9yczsKcHJpdmF0ZSAkd2FybmluZ3M7CnByaXZhdGUgJGRhdGE7CgpwdWJsaWMgZnVuY3Rpb24gX19jb25zdHJ1Y3QoYXJyYXkgJGVycm9ycywgYXJyYXkgJHdhcm5pbmdzLCBhcnJheSAkZGF0YSkKewokdGhpcy0+ZXJyb3JzID0gJGVycm9yczsKJHRoaXMtPndhcm5pbmdzID0gJHdhcm5pbmdzOwokdGhpcy0+ZGF0YSA9ICRkYXRhOwpwYXJlbnQ6Ol9fY29uc3RydWN0KCJJbnZhbGlkIHBhY2thZ2UgaW5mb3JtYXRpb246IFxuIi5pbXBsb2RlKCJcbiIsIGFycmF5X21lcmdlKCRlcnJvcnMsICR3YXJuaW5ncykpKTsKfQoKcHVibGljIGZ1bmN0aW9uIGdldERhdGEoKQp7CnJldHVybiAkdGhpcy0+ZGF0YTsKfQoKcHVibGljIGZ1bmN0aW9uIGdldEVycm9ycygpCnsKcmV0dXJuICR0aGlzLT5lcnJvcnM7Cn0KCnB1YmxpYyBmdW5jdGlvbiBnZXRXYXJuaW5ncygpCnsKcmV0dXJuICR0aGlzLT53YXJuaW5nczsKfQp9Cjw/cGhwCgoKCgoKCgoKCgoKbmFtZXNwYWNlIENvbXBvc2VyXFBhY2thZ2VcTG9hZGVyOwoKdXNlIENvbXBvc2VyXEpzb25cSnNvbkZpbGU7CnVzZSBDb21wb3NlclxQYWNrYWdlXENvbXBsZXRlUGFja2FnZTsKdXNlIENvbXBvc2VyXFBhY2thZ2VcQ29tcGxldGVBbGlhc1BhY2thZ2U7CgoKCgpjbGFzcyBKc29uTG9hZGVyCnsKcHJpdmF0ZSAkbG9hZGVyOwoKcHVibGljIGZ1bmN0aW9uIF9fY29uc3RydWN0KExvYWRlckludGVyZmFjZSAkbG9hZGVyKQp7CiR0aGlzLT5sb2FkZXIgPSAkbG9hZGVyOwp9CgoKCgoKcHVibGljIGZ1bmN0aW9uIGxvYWQoJGpzb24pCnsKaWYgKCRqc29uIGluc3RhbmNlb2YgSnNvbkZpbGUpIHsKJGNvbmZpZyA9ICRqc29uLT5yZWFkKCk7Cn0gZWxzZWlmIChmaWxlX2V4aXN0cygkanNvbikpIHsKJGNvbmZpZyA9IEpzb25GaWxlOjpwYXJzZUpzb24oZmlsZV9nZXRfY29udGVudHMoJGpzb24pLCAkanNvbik7Cn0gZWxzZWlmIChpc19zdHJpbmcoJGpzb24pKSB7CiRjb25maWcgPSBKc29uRmlsZTo6cGFyc2VKc29uKCRqc29uKTsKfSBlbHNlIHsKdGhyb3cgbmV3IFxJbnZhbGlkQXJndW1lbnRFeGNlcHRpb24oc3ByaW50ZigKIkpzb25Mb2FkZXI6IFVua25vd24gXCRqc29uIHBhcmFtZXRlciAlcy4gUGxlYXNlIHJlcG9ydCBhdCBodHRwczovL2dpdGh1Yi5jb20vY29tcG9zZXIvY29tcG9zZXIvaXNzdWVzL25ldy4iLApnZXR0eXBlKCRqc29uKQopKTsKfQoKcmV0dXJuICR0aGlzLT5sb2FkZXItPmxvYWQoJGNvbmZpZyk7Cn0KfQo8P3BocAoKCgoKCgoKCgoKCm5hbWVzcGFjZSBDb21wb3NlclxQYWNrYWdlXExvYWRlcjsKCgoKCgoKaW50ZXJmYWNlIExvYWRlckludGVyZmFjZQp7CgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gbG9hZChhcnJheSAkcGFja2FnZSwgJGNsYXNzID0gJ0NvbXBvc2VyXFBhY2thZ2VcQ29tcGxldGVQYWNrYWdlJyk7Cn0KPD9waHAKCgoKCgoKCgoKCgpuYW1lc3BhY2UgQ29tcG9zZXJcUGFja2FnZVxMb2FkZXI7Cgp1c2UgQ29tcG9zZXJcUGFja2FnZVxCYXNlUGFja2FnZTsKdXNlIENvbXBvc2VyXENvbmZpZzsKdXNlIENvbXBvc2VyXElPXElPSW50ZXJmYWNlOwp1c2UgQ29tcG9zZXJcUGFja2FnZVxQYWNrYWdlOwp1c2UgQ29tcG9zZXJcUGFja2FnZVxSb290QWxpYXNQYWNrYWdlOwp1c2UgQ29tcG9zZXJcUmVwb3NpdG9yeVxSZXBvc2l0b3J5RmFjdG9yeTsKdXNlIENvbXBvc2VyXFBhY2thZ2VcVmVyc2lvblxWZXJzaW9uR3Vlc3NlcjsKdXNlIENvbXBvc2VyXFBhY2thZ2VcVmVyc2lvblxWZXJzaW9uUGFyc2VyOwp1c2UgQ29tcG9zZXJcUGFja2FnZVxSb290UGFja2FnZTsKdXNlIENvbXBvc2VyXFJlcG9zaXRvcnlcUmVwb3NpdG9yeU1hbmFnZXI7CnVzZSBDb21wb3NlclxVdGlsXFByb2Nlc3NFeGVjdXRvcjsKCgoKCgoKCgpjbGFzcyBSb290UGFja2FnZUxvYWRlciBleHRlbmRzIEFycmF5TG9hZGVyCnsKCgoKcHJpdmF0ZSAkbWFuYWdlcjsKCgoKCnByaXZhdGUgJGNvbmZpZzsKCgoKCnByaXZhdGUgJHZlcnNpb25HdWVzc2VyOwoKcHVibGljIGZ1bmN0aW9uIF9fY29uc3RydWN0KFJlcG9zaXRvcnlNYW5hZ2VyICRtYW5hZ2VyLCBDb25maWcgJGNvbmZpZywgVmVyc2lvblBhcnNlciAkcGFyc2VyID0gbnVsbCwgVmVyc2lvbkd1ZXNzZXIgJHZlcnNpb25HdWVzc2VyID0gbnVsbCwgSU9JbnRlcmZhY2UgJGlvID0gbnVsbCkKewpwYXJlbnQ6Ol9fY29uc3RydWN0KCRwYXJzZXIpOwoKJHRoaXMtPm1hbmFnZXIgPSAkbWFuYWdlcjsKJHRoaXMtPmNvbmZpZyA9ICRjb25maWc7CiR0aGlzLT52ZXJzaW9uR3Vlc3NlciA9ICR2ZXJzaW9uR3Vlc3NlciA/OiBuZXcgVmVyc2lvbkd1ZXNzZXIoJGNvbmZpZywgbmV3IFByb2Nlc3NFeGVjdXRvcigkaW8pLCAkdGhpcy0+dmVyc2lvblBhcnNlcik7Cn0KCgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gbG9hZChhcnJheSAkY29uZmlnLCAkY2xhc3MgPSAnQ29tcG9zZXJcUGFja2FnZVxSb290UGFja2FnZScsICRjd2QgPSBudWxsKQp7CmlmICgkY2xhc3MgIT09ICdDb21wb3NlclxQYWNrYWdlXFJvb3RQYWNrYWdlJykgewp0cmlnZ2VyX2Vycm9yKCdUaGUgJGNsYXNzIGFyZyBpcyBkZXByZWNhdGVkLCBwbGVhc2UgcmVhY2ggb3V0IHRvIENvbXBvc2VyIG1haW50YWluZXJzIEFTQVAgaWYgeW91IHN0aWxsIG5lZWQgdGhpcy4nLCBFX1VTRVJfREVQUkVDQVRFRCk7Cn0KCmlmICghaXNzZXQoJGNvbmZpZ1snbmFtZSddKSkgewokY29uZmlnWyduYW1lJ10gPSAnX19yb290X18nOwp9IGVsc2VpZiAoJGVyciA9IFZhbGlkYXRpbmdBcnJheUxvYWRlcjo6aGFzUGFja2FnZU5hbWluZ0Vycm9yKCRjb25maWdbJ25hbWUnXSkpIHsKdGhyb3cgbmV3IFxSdW50aW1lRXhjZXB0aW9uKCdZb3VyIHBhY2thZ2UgbmFtZSAnLiRlcnIpOwp9CiRhdXRvVmVyc2lvbmVkID0gZmFsc2U7CmlmICghaXNzZXQoJGNvbmZpZ1sndmVyc2lvbiddKSkgewokY29tbWl0ID0gbnVsbDsKCgppZiAoZ2V0ZW52KCdDT01QT1NFUl9ST09UX1ZFUlNJT04nKSkgewokY29uZmlnWyd2ZXJzaW9uJ10gPSBnZXRlbnYoJ0NPTVBPU0VSX1JPT1RfVkVSU0lPTicpOwp9IGVsc2UgewokdmVyc2lvbkRhdGEgPSAkdGhpcy0+dmVyc2lvbkd1ZXNzZXItPmd1ZXNzVmVyc2lvbigkY29uZmlnLCAkY3dkID86IGdldGN3ZCgpKTsKaWYgKCR2ZXJzaW9uRGF0YSkgewokY29uZmlnWyd2ZXJzaW9uJ10gPSAkdmVyc2lvbkRhdGFbJ3ByZXR0eV92ZXJzaW9uJ107CiRjb25maWdbJ3ZlcnNpb25fbm9ybWFsaXplZCddID0gJHZlcnNpb25EYXRhWyd2ZXJzaW9uJ107CiRjb21taXQgPSAkdmVyc2lvbkRhdGFbJ2NvbW1pdCddOwp9Cn0KCmlmICghaXNzZXQoJGNvbmZpZ1sndmVyc2lvbiddKSkgewokY29uZmlnWyd2ZXJzaW9uJ10gPSAnMS4wLjAnOwokYXV0b1ZlcnNpb25lZCA9IHRydWU7Cn0KCmlmICgkY29tbWl0KSB7CiRjb25maWdbJ3NvdXJjZSddID0gYXJyYXkoCid0eXBlJyA9PiAnJywKJ3VybCcgPT4gJycsCidyZWZlcmVuY2UnID0+ICRjb21taXQsCik7CiRjb25maWdbJ2Rpc3QnXSA9IGFycmF5KAondHlwZScgPT4gJycsCid1cmwnID0+ICcnLAoncmVmZXJlbmNlJyA9PiAkY29tbWl0LAopOwp9Cn0KCgokcGFja2FnZSA9IHBhcmVudDo6bG9hZCgkY29uZmlnLCAkY2xhc3MpOwppZiAoJHBhY2thZ2UgaW5zdGFuY2VvZiBSb290QWxpYXNQYWNrYWdlKSB7CiRyZWFsUGFja2FnZSA9ICRwYWNrYWdlLT5nZXRBbGlhc09mKCk7Cn0gZWxzZSB7CiRyZWFsUGFja2FnZSA9ICRwYWNrYWdlOwp9CgppZiAoISRyZWFsUGFja2FnZSBpbnN0YW5jZW9mIFJvb3RQYWNrYWdlKSB7CnRocm93IG5ldyBcTG9naWNFeGNlcHRpb24oJ0V4cGVjdGluZyBhIENvbXBvc2VyXFBhY2thZ2VcUm9vdFBhY2thZ2UgYXQgdGhpcyBwb2ludCcpOwp9CgppZiAoJGF1dG9WZXJzaW9uZWQpIHsKJHJlYWxQYWNrYWdlLT5yZXBsYWNlVmVyc2lvbigkcmVhbFBhY2thZ2UtPmdldFZlcnNpb24oKSwgUm9vdFBhY2thZ2U6OkRFRkFVTFRfUFJFVFRZX1ZFUlNJT04pOwp9CgppZiAoaXNzZXQoJGNvbmZpZ1snbWluaW11bS1zdGFiaWxpdHknXSkpIHsKJHJlYWxQYWNrYWdlLT5zZXRNaW5pbXVtU3RhYmlsaXR5KFZlcnNpb25QYXJzZXI6Om5vcm1hbGl6ZVN0YWJpbGl0eSgkY29uZmlnWydtaW5pbXVtLXN0YWJpbGl0eSddKSk7Cn0KCiRhbGlhc2VzID0gYXJyYXkoKTsKJHN0YWJpbGl0eUZsYWdzID0gYXJyYXkoKTsKJHJlZmVyZW5jZXMgPSBhcnJheSgpOwpmb3JlYWNoIChhcnJheSgncmVxdWlyZScsICdyZXF1aXJlLWRldicpIGFzICRsaW5rVHlwZSkgewppZiAoaXNzZXQoJGNvbmZpZ1skbGlua1R5cGVdKSkgewokbGlua0luZm8gPSBCYXNlUGFja2FnZTo6JHN1cHBvcnRlZExpbmtUeXBlc1skbGlua1R5cGVdOwokbWV0aG9kID0gJ2dldCcudWNmaXJzdCgkbGlua0luZm9bJ21ldGhvZCddKTsKJGxpbmtzID0gYXJyYXkoKTsKZm9yZWFjaCAoJHJlYWxQYWNrYWdlLT4kbWV0aG9kKCkgYXMgJGxpbmspIHsKJGxpbmtzWyRsaW5rLT5nZXRUYXJnZXQoKV0gPSAkbGluay0+Z2V0Q29uc3RyYWludCgpLT5nZXRQcmV0dHlTdHJpbmcoKTsKfQokYWxpYXNlcyA9ICR0aGlzLT5leHRyYWN0QWxpYXNlcygkbGlua3MsICRhbGlhc2VzKTsKJHN0YWJpbGl0eUZsYWdzID0gc2VsZjo6ZXh0cmFjdFN0YWJpbGl0eUZsYWdzKCRsaW5rcywgJHJlYWxQYWNrYWdlLT5nZXRNaW5pbXVtU3RhYmlsaXR5KCksICRzdGFiaWxpdHlGbGFncyk7CiRyZWZlcmVuY2VzID0gc2VsZjo6ZXh0cmFjdFJlZmVyZW5jZXMoJGxpbmtzLCAkcmVmZXJlbmNlcyk7CgppZiAoaXNzZXQoJGxpbmtzWyRjb25maWdbJ25hbWUnXV0pKSB7CnRocm93IG5ldyBcUnVudGltZUV4Y2VwdGlvbihzcHJpbnRmKCdSb290IHBhY2thZ2UgXCclc1wnIGNhbm5vdCByZXF1aXJlIGl0c2VsZiBpbiBpdHMgY29tcG9zZXIuanNvbicgLiBQSFBfRU9MIC4KJ0RpZCB5b3UgYWNjaWRlbnRhbGx5IG5hbWUgeW91ciByb290IHBhY2thZ2UgYWZ0ZXIgYW4gZXh0ZXJuYWwgcGFja2FnZT8nLCAkY29uZmlnWyduYW1lJ10pKTsKfQp9Cn0KCmZvcmVhY2ggKGFycmF5X2tleXMoQmFzZVBhY2thZ2U6OiRzdXBwb3J0ZWRMaW5rVHlwZXMpIGFzICRsaW5rVHlwZSkgewppZiAoaXNzZXQoJGNvbmZpZ1skbGlua1R5cGVdKSkgewpmb3JlYWNoICgkY29uZmlnWyRsaW5rVHlwZV0gYXMgJGxpbmtOYW1lID0+ICRjb25zdHJhaW50KSB7CmlmICgkZXJyID0gVmFsaWRhdGluZ0FycmF5TG9hZGVyOjpoYXNQYWNrYWdlTmFtaW5nRXJyb3IoJGxpbmtOYW1lLCB0cnVlKSkgewp0aHJvdyBuZXcgXFJ1bnRpbWVFeGNlcHRpb24oJGxpbmtUeXBlLicuJy4kZXJyKTsKfQp9Cn0KfQoKJHJlYWxQYWNrYWdlLT5zZXRBbGlhc2VzKCRhbGlhc2VzKTsKJHJlYWxQYWNrYWdlLT5zZXRTdGFiaWxpdHlGbGFncygkc3RhYmlsaXR5RmxhZ3MpOwokcmVhbFBhY2thZ2UtPnNldFJlZmVyZW5jZXMoJHJlZmVyZW5jZXMpOwoKaWYgKGlzc2V0KCRjb25maWdbJ3ByZWZlci1zdGFibGUnXSkpIHsKJHJlYWxQYWNrYWdlLT5zZXRQcmVmZXJTdGFibGUoKGJvb2wpICRjb25maWdbJ3ByZWZlci1zdGFibGUnXSk7Cn0KCmlmIChpc3NldCgkY29uZmlnWydjb25maWcnXSkpIHsKJHJlYWxQYWNrYWdlLT5zZXRDb25maWcoJGNvbmZpZ1snY29uZmlnJ10pOwp9CgokcmVwb3MgPSBSZXBvc2l0b3J5RmFjdG9yeTo6ZGVmYXVsdFJlcG9zKG51bGwsICR0aGlzLT5jb25maWcsICR0aGlzLT5tYW5hZ2VyKTsKZm9yZWFjaCAoJHJlcG9zIGFzICRyZXBvKSB7CiR0aGlzLT5tYW5hZ2VyLT5hZGRSZXBvc2l0b3J5KCRyZXBvKTsKfQokcmVhbFBhY2thZ2UtPnNldFJlcG9zaXRvcmllcygkdGhpcy0+Y29uZmlnLT5nZXRSZXBvc2l0b3JpZXMoKSk7CgpyZXR1cm4gJHBhY2thZ2U7Cn0KCnByaXZhdGUgZnVuY3Rpb24gZXh0cmFjdEFsaWFzZXMoYXJyYXkgJHJlcXVpcmVzLCBhcnJheSAkYWxpYXNlcykKewpmb3JlYWNoICgkcmVxdWlyZXMgYXMgJHJlcU5hbWUgPT4gJHJlcVZlcnNpb24pIHsKaWYgKHByZWdfbWF0Y2goJ3teKFteLFxzI10rKSg/OiNbXiBdKyk/ICthcyArKFteLFxzXSspJH0nLCAkcmVxVmVyc2lvbiwgJG1hdGNoKSkgewokYWxpYXNlc1tdID0gYXJyYXkoCidwYWNrYWdlJyA9PiBzdHJ0b2xvd2VyKCRyZXFOYW1lKSwKJ3ZlcnNpb24nID0+ICR0aGlzLT52ZXJzaW9uUGFyc2VyLT5ub3JtYWxpemUoJG1hdGNoWzFdLCAkcmVxVmVyc2lvbiksCidhbGlhcycgPT4gJG1hdGNoWzJdLAonYWxpYXNfbm9ybWFsaXplZCcgPT4gJHRoaXMtPnZlcnNpb25QYXJzZXItPm5vcm1hbGl6ZSgkbWF0Y2hbMl0sICRyZXFWZXJzaW9uKSwKKTsKfSBlbHNlaWYgKHN0cnBvcygkcmVxVmVyc2lvbiwgJyBhcyAnKSAhPT0gZmFsc2UpIHsKdGhyb3cgbmV3IFxVbmV4cGVjdGVkVmFsdWVFeGNlcHRpb24oJ0ludmFsaWQgYWxpYXMgZGVmaW5pdGlvbiBpbiAiJy4kcmVxTmFtZS4nIjogIicuJHJlcVZlcnNpb24uJyIuIEFsaWFzZXMgc2hvdWxkIGJlIGluIHRoZSBmb3JtICJleGFjdC12ZXJzaW9uIGFzIG90aGVyLWV4YWN0LXZlcnNpb24iLicpOwp9Cn0KCnJldHVybiAkYWxpYXNlczsKfQoKCgoKcHVibGljIHN0YXRpYyBmdW5jdGlvbiBleHRyYWN0U3RhYmlsaXR5RmxhZ3MoYXJyYXkgJHJlcXVpcmVzLCAkbWluaW11bVN0YWJpbGl0eSwgYXJyYXkgJHN0YWJpbGl0eUZsYWdzKQp7CiRzdGFiaWxpdGllcyA9IEJhc2VQYWNrYWdlOjokc3RhYmlsaXRpZXM7CiRtaW5pbXVtU3RhYmlsaXR5ID0gJHN0YWJpbGl0aWVzWyRtaW5pbXVtU3RhYmlsaXR5XTsKZm9yZWFjaCAoJHJlcXVpcmVzIGFzICRyZXFOYW1lID0+ICRyZXFWZXJzaW9uKSB7CiRjb25zdHJhaW50cyA9IGFycmF5KCk7CgoKJG9yU3BsaXQgPSBwcmVnX3NwbGl0KCd7XHMqXHxcfD9ccyp9JywgdHJpbSgkcmVxVmVyc2lvbikpOwpmb3JlYWNoICgkb3JTcGxpdCBhcyAkb3JDb25zdHJhaW50KSB7CiRhbmRTcGxpdCA9IHByZWdfc3BsaXQoJ3soPzwhXnxhc3xbPT48ICxdKSAqKD88IS0pWywgXSg/IS0pICooPyEsfGFzfCQpfScsICRvckNvbnN0cmFpbnQpOwpmb3JlYWNoICgkYW5kU3BsaXQgYXMgJGFuZENvbnN0cmFpbnQpIHsKJGNvbnN0cmFpbnRzW10gPSAkYW5kQ29uc3RyYWludDsKfQp9CgoKJG1hdGNoID0gZmFsc2U7CmZvcmVhY2ggKCRjb25zdHJhaW50cyBhcyAkY29uc3RyYWludCkgewppZiAocHJlZ19tYXRjaCgne15bXkBdKj9AKCcuaW1wbG9kZSgnfCcsIGFycmF5X2tleXMoJHN0YWJpbGl0aWVzKSkuJykkfWknLCAkY29uc3RyYWludCwgJG1hdGNoKSkgewokbmFtZSA9IHN0cnRvbG93ZXIoJHJlcU5hbWUpOwokc3RhYmlsaXR5ID0gJHN0YWJpbGl0aWVzW1ZlcnNpb25QYXJzZXI6Om5vcm1hbGl6ZVN0YWJpbGl0eSgkbWF0Y2hbMV0pXTsKCmlmIChpc3NldCgkc3RhYmlsaXR5RmxhZ3NbJG5hbWVdKSAmJiAkc3RhYmlsaXR5RmxhZ3NbJG5hbWVdID4gJHN0YWJpbGl0eSkgewpjb250aW51ZTsKfQokc3RhYmlsaXR5RmxhZ3NbJG5hbWVdID0gJHN0YWJpbGl0eTsKJG1hdGNoID0gdHJ1ZTsKfQp9CgppZiAoJG1hdGNoKSB7CmNvbnRpbnVlOwp9Cgpmb3JlYWNoICgkY29uc3RyYWludHMgYXMgJGNvbnN0cmFpbnQpIHsKCgokcmVxVmVyc2lvbiA9IHByZWdfcmVwbGFjZSgne14oW14sXHNAXSspIGFzIC4rJH0nLCAnJDEnLCAkY29uc3RyYWludCk7CmlmIChwcmVnX21hdGNoKCd7XlteLFxzQF0rJH0nLCAkcmVxVmVyc2lvbikgJiYgJ3N0YWJsZScgIT09ICgkc3RhYmlsaXR5TmFtZSA9IFZlcnNpb25QYXJzZXI6OnBhcnNlU3RhYmlsaXR5KCRyZXFWZXJzaW9uKSkpIHsKJG5hbWUgPSBzdHJ0b2xvd2VyKCRyZXFOYW1lKTsKJHN0YWJpbGl0eSA9ICRzdGFiaWxpdGllc1skc3RhYmlsaXR5TmFtZV07CmlmICgoaXNzZXQoJHN0YWJpbGl0eUZsYWdzWyRuYW1lXSkgJiYgJHN0YWJpbGl0eUZsYWdzWyRuYW1lXSA+ICRzdGFiaWxpdHkpIHx8ICgkbWluaW11bVN0YWJpbGl0eSA+ICRzdGFiaWxpdHkpKSB7CmNvbnRpbnVlOwp9CiRzdGFiaWxpdHlGbGFnc1skbmFtZV0gPSAkc3RhYmlsaXR5Owp9Cn0KfQoKcmV0dXJuICRzdGFiaWxpdHlGbGFnczsKfQoKCgoKcHVibGljIHN0YXRpYyBmdW5jdGlvbiBleHRyYWN0UmVmZXJlbmNlcyhhcnJheSAkcmVxdWlyZXMsIGFycmF5ICRyZWZlcmVuY2VzKQp7CmZvcmVhY2ggKCRyZXF1aXJlcyBhcyAkcmVxTmFtZSA9PiAkcmVxVmVyc2lvbikgewokcmVxVmVyc2lvbiA9IHByZWdfcmVwbGFjZSgne14oW14sXHNAXSspIGFzIC4rJH0nLCAnJDEnLCAkcmVxVmVyc2lvbik7CmlmIChwcmVnX21hdGNoKCd7XlteLFxzQF0rPyMoW2EtZjAtOV0rKSR9JywgJHJlcVZlcnNpb24sICRtYXRjaCkgJiYgJ2RldicgPT09IFZlcnNpb25QYXJzZXI6OnBhcnNlU3RhYmlsaXR5KCRyZXFWZXJzaW9uKSkgewokbmFtZSA9IHN0cnRvbG93ZXIoJHJlcU5hbWUpOwokcmVmZXJlbmNlc1skbmFtZV0gPSAkbWF0Y2hbMV07Cn0KfQoKcmV0dXJuICRyZWZlcmVuY2VzOwp9Cn0KPD9waHAKCgoKCgoKCgoKCgpuYW1lc3BhY2UgQ29tcG9zZXJcUGFja2FnZVxMb2FkZXI7Cgp1c2UgQ29tcG9zZXJcUGFja2FnZVxCYXNlUGFja2FnZTsKdXNlIENvbXBvc2VyXFNlbXZlclxDb25zdHJhaW50XENvbnN0cmFpbnQ7CnVzZSBDb21wb3NlclxQYWNrYWdlXFZlcnNpb25cVmVyc2lvblBhcnNlcjsKdXNlIENvbXBvc2VyXFJlcG9zaXRvcnlcUGxhdGZvcm1SZXBvc2l0b3J5Owp1c2UgQ29tcG9zZXJcU3BkeFxTcGR4TGljZW5zZXM7CgoKCgpjbGFzcyBWYWxpZGF0aW5nQXJyYXlMb2FkZXIgaW1wbGVtZW50cyBMb2FkZXJJbnRlcmZhY2UKewpjb25zdCBDSEVDS19BTEwgPSAzOwpjb25zdCBDSEVDS19VTkJPVU5EX0NPTlNUUkFJTlRTID0gMTsKY29uc3QgQ0hFQ0tfU1RSSUNUX0NPTlNUUkFJTlRTID0gMjsKCnByaXZhdGUgJGxvYWRlcjsKcHJpdmF0ZSAkdmVyc2lvblBhcnNlcjsKcHJpdmF0ZSAkZXJyb3JzOwpwcml2YXRlICR3YXJuaW5nczsKcHJpdmF0ZSAkY29uZmlnOwpwcml2YXRlICRzdHJpY3ROYW1lOwpwcml2YXRlICRmbGFnczsKCnB1YmxpYyBmdW5jdGlvbiBfX2NvbnN0cnVjdChMb2FkZXJJbnRlcmZhY2UgJGxvYWRlciwgJHN0cmljdE5hbWUgPSB0cnVlLCBWZXJzaW9uUGFyc2VyICRwYXJzZXIgPSBudWxsLCAkZmxhZ3MgPSAwKQp7CiR0aGlzLT5sb2FkZXIgPSAkbG9hZGVyOwokdGhpcy0+dmVyc2lvblBhcnNlciA9ICRwYXJzZXIgPzogbmV3IFZlcnNpb25QYXJzZXIoKTsKJHRoaXMtPnN0cmljdE5hbWUgPSAkc3RyaWN0TmFtZTsKJHRoaXMtPmZsYWdzID0gJGZsYWdzOwp9CgpwdWJsaWMgZnVuY3Rpb24gbG9hZChhcnJheSAkY29uZmlnLCAkY2xhc3MgPSAnQ29tcG9zZXJcUGFja2FnZVxDb21wbGV0ZVBhY2thZ2UnKQp7CiR0aGlzLT5lcnJvcnMgPSBhcnJheSgpOwokdGhpcy0+d2FybmluZ3MgPSBhcnJheSgpOwokdGhpcy0+Y29uZmlnID0gJGNvbmZpZzsKCmlmICgkZXJyID0gc2VsZjo6aGFzUGFja2FnZU5hbWluZ0Vycm9yKCRjb25maWdbJ25hbWUnXSkpIHsKJHRoaXMtPndhcm5pbmdzW10gPSAnRGVwcmVjYXRpb24gd2FybmluZzogWW91ciBwYWNrYWdlIG5hbWUgJy4kZXJyLicgTWFrZSBzdXJlIHlvdSBmaXggdGhpcyBhcyBDb21wb3NlciAyLjAgd2lsbCBlcnJvci4nOwp9CgppZiAoJHRoaXMtPnN0cmljdE5hbWUpIHsKJHRoaXMtPnZhbGlkYXRlUmVnZXgoJ25hbWUnLCAnW0EtWmEtejAtOV1bQS1aYS16MC05Xy4tXSovW0EtWmEtejAtOV1bQS1aYS16MC05Xy4tXSonLCB0cnVlKTsKfSBlbHNlIHsKJHRoaXMtPnZhbGlkYXRlU3RyaW5nKCduYW1lJywgdHJ1ZSk7Cn0KCmlmICghZW1wdHkoJHRoaXMtPmNvbmZpZ1sndmVyc2lvbiddKSkgewp0cnkgewokdGhpcy0+dmVyc2lvblBhcnNlci0+bm9ybWFsaXplKCR0aGlzLT5jb25maWdbJ3ZlcnNpb24nXSk7Cn0gY2F0Y2ggKFxFeGNlcHRpb24gJGUpIHsKJHRoaXMtPmVycm9yc1tdID0gJ3ZlcnNpb24gOiBpbnZhbGlkIHZhbHVlICgnLiR0aGlzLT5jb25maWdbJ3ZlcnNpb24nXS4nKTogJy4kZS0+Z2V0TWVzc2FnZSgpOwp1bnNldCgkdGhpcy0+Y29uZmlnWyd2ZXJzaW9uJ10pOwp9Cn0KCmlmICghZW1wdHkoJHRoaXMtPmNvbmZpZ1snY29uZmlnJ11bJ3BsYXRmb3JtJ10pKSB7CmZvcmVhY2ggKChhcnJheSkgJHRoaXMtPmNvbmZpZ1snY29uZmlnJ11bJ3BsYXRmb3JtJ10gYXMgJGtleSA9PiAkcGxhdGZvcm0pIHsKdHJ5IHsKJHRoaXMtPnZlcnNpb25QYXJzZXItPm5vcm1hbGl6ZSgkcGxhdGZvcm0pOwp9IGNhdGNoIChcRXhjZXB0aW9uICRlKSB7CiR0aGlzLT5lcnJvcnNbXSA9ICdjb25maWcucGxhdGZvcm0uJyAuICRrZXkgLiAnIDogaW52YWxpZCB2YWx1ZSAoJy4kcGxhdGZvcm0uJyk6ICcuJGUtPmdldE1lc3NhZ2UoKTsKfQp9Cn0KCiR0aGlzLT52YWxpZGF0ZVJlZ2V4KCd0eXBlJywgJ1tBLVphLXowLTktXSsnKTsKJHRoaXMtPnZhbGlkYXRlU3RyaW5nKCd0YXJnZXQtZGlyJyk7CiR0aGlzLT52YWxpZGF0ZUFycmF5KCdleHRyYScpOwoKaWYgKGlzc2V0KCR0aGlzLT5jb25maWdbJ2JpbiddKSkgewppZiAoaXNfc3RyaW5nKCR0aGlzLT5jb25maWdbJ2JpbiddKSkgewokdGhpcy0+dmFsaWRhdGVTdHJpbmcoJ2JpbicpOwp9IGVsc2UgewokdGhpcy0+dmFsaWRhdGVGbGF0QXJyYXkoJ2JpbicpOwp9Cn0KCiR0aGlzLT52YWxpZGF0ZUFycmF5KCdzY3JpcHRzJyk7IAokdGhpcy0+dmFsaWRhdGVTdHJpbmcoJ2Rlc2NyaXB0aW9uJyk7CiR0aGlzLT52YWxpZGF0ZVVybCgnaG9tZXBhZ2UnKTsKJHRoaXMtPnZhbGlkYXRlRmxhdEFycmF5KCdrZXl3b3JkcycsICdbXHB7Tn1ccHtMfSAuXy1dKycpOwoKJHJlbGVhc2VEYXRlID0gbnVsbDsKJHRoaXMtPnZhbGlkYXRlU3RyaW5nKCd0aW1lJyk7CmlmICghZW1wdHkoJHRoaXMtPmNvbmZpZ1sndGltZSddKSkgewp0cnkgewokcmVsZWFzZURhdGUgPSBuZXcgXERhdGVUaW1lKCR0aGlzLT5jb25maWdbJ3RpbWUnXSwgbmV3IFxEYXRlVGltZVpvbmUoJ1VUQycpKTsKfSBjYXRjaCAoXEV4Y2VwdGlvbiAkZSkgewokdGhpcy0+ZXJyb3JzW10gPSAndGltZSA6IGludmFsaWQgdmFsdWUgKCcuJHRoaXMtPmNvbmZpZ1sndGltZSddLicpOiAnLiRlLT5nZXRNZXNzYWdlKCk7CnVuc2V0KCR0aGlzLT5jb25maWdbJ3RpbWUnXSk7Cn0KfQoKCmlmIChpc3NldCgkdGhpcy0+Y29uZmlnWydsaWNlbnNlJ10pICYmICghJHJlbGVhc2VEYXRlIHx8ICRyZWxlYXNlRGF0ZS0+Z2V0VGltZXN0YW1wKCkgPj0gc3RydG90aW1lKCctOGRheXMnKSkpIHsKaWYgKGlzX2FycmF5KCR0aGlzLT5jb25maWdbJ2xpY2Vuc2UnXSkgfHwgaXNfc3RyaW5nKCR0aGlzLT5jb25maWdbJ2xpY2Vuc2UnXSkpIHsKJGxpY2Vuc2VzID0gKGFycmF5KSAkdGhpcy0+Y29uZmlnWydsaWNlbnNlJ107CgokbGljZW5zZVZhbGlkYXRvciA9IG5ldyBTcGR4TGljZW5zZXMoKTsKZm9yZWFjaCAoJGxpY2Vuc2VzIGFzICRsaWNlbnNlKSB7CgppZiAoJ3Byb3ByaWV0YXJ5JyA9PT0gJGxpY2Vuc2UpIHsKY29udGludWU7Cn0KJGxpY2Vuc2VUb1ZhbGlkYXRlID0gc3RyX3JlcGxhY2UoJ3Byb3ByaWV0YXJ5JywgJ01JVCcsICRsaWNlbnNlKTsKaWYgKCEkbGljZW5zZVZhbGlkYXRvci0+dmFsaWRhdGUoJGxpY2Vuc2VUb1ZhbGlkYXRlKSkgewppZiAoJGxpY2Vuc2VWYWxpZGF0b3ItPnZhbGlkYXRlKHRyaW0oJGxpY2Vuc2VUb1ZhbGlkYXRlKSkpIHsKJHRoaXMtPndhcm5pbmdzW10gPSBzcHJpbnRmKAonTGljZW5zZSAlcyBtdXN0IG5vdCBjb250YWluIGV4dHJhIHNwYWNlcywgbWFrZSBzdXJlIHRvIHRyaW0gaXQuJywKanNvbl9lbmNvZGUoJGxpY2Vuc2UpCik7Cn0gZWxzZSB7CiR0aGlzLT53YXJuaW5nc1tdID0gc3ByaW50ZigKJ0xpY2Vuc2UgJXMgaXMgbm90IGEgdmFsaWQgU1BEWCBsaWNlbnNlIGlkZW50aWZpZXIsIHNlZSBodHRwczovL3NwZHgub3JnL2xpY2Vuc2VzLyBpZiB5b3UgdXNlIGFuIG9wZW4gbGljZW5zZS4nIC4gUEhQX0VPTCAuCidJZiB0aGUgc29mdHdhcmUgaXMgY2xvc2VkLXNvdXJjZSwgeW91IG1heSB1c2UgInByb3ByaWV0YXJ5IiBhcyBsaWNlbnNlLicsCmpzb25fZW5jb2RlKCRsaWNlbnNlKQopOwp9Cn0KfQp9Cn0KCmlmICgkdGhpcy0+dmFsaWRhdGVBcnJheSgnYXV0aG9ycycpICYmICFlbXB0eSgkdGhpcy0+Y29uZmlnWydhdXRob3JzJ10pKSB7CmZvcmVhY2ggKCR0aGlzLT5jb25maWdbJ2F1dGhvcnMnXSBhcyAka2V5ID0+ICRhdXRob3IpIHsKaWYgKCFpc19hcnJheSgkYXV0aG9yKSkgewokdGhpcy0+ZXJyb3JzW10gPSAnYXV0aG9ycy4nLiRrZXkuJyA6IHNob3VsZCBiZSBhbiBhcnJheSwgJy5nZXR0eXBlKCRhdXRob3IpLicgZ2l2ZW4nOwp1bnNldCgkdGhpcy0+Y29uZmlnWydhdXRob3JzJ11bJGtleV0pOwpjb250aW51ZTsKfQpmb3JlYWNoIChhcnJheSgnaG9tZXBhZ2UnLCAnZW1haWwnLCAnbmFtZScsICdyb2xlJykgYXMgJGF1dGhvckRhdGEpIHsKaWYgKGlzc2V0KCRhdXRob3JbJGF1dGhvckRhdGFdKSAmJiAhaXNfc3RyaW5nKCRhdXRob3JbJGF1dGhvckRhdGFdKSkgewokdGhpcy0+ZXJyb3JzW10gPSAnYXV0aG9ycy4nLiRrZXkuJy4nLiRhdXRob3JEYXRhLicgOiBpbnZhbGlkIHZhbHVlLCBtdXN0IGJlIGEgc3RyaW5nJzsKdW5zZXQoJHRoaXMtPmNvbmZpZ1snYXV0aG9ycyddWyRrZXldWyRhdXRob3JEYXRhXSk7Cn0KfQppZiAoaXNzZXQoJGF1dGhvclsnaG9tZXBhZ2UnXSkgJiYgISR0aGlzLT5maWx0ZXJVcmwoJGF1dGhvclsnaG9tZXBhZ2UnXSkpIHsKJHRoaXMtPndhcm5pbmdzW10gPSAnYXV0aG9ycy4nLiRrZXkuJy5ob21lcGFnZSA6IGludmFsaWQgdmFsdWUgKCcuJGF1dGhvclsnaG9tZXBhZ2UnXS4nKSwgbXVzdCBiZSBhbiBodHRwL2h0dHBzIFVSTCc7CnVuc2V0KCR0aGlzLT5jb25maWdbJ2F1dGhvcnMnXVska2V5XVsnaG9tZXBhZ2UnXSk7Cn0KaWYgKGlzc2V0KCRhdXRob3JbJ2VtYWlsJ10pICYmICFmaWx0ZXJfdmFyKCRhdXRob3JbJ2VtYWlsJ10sIEZJTFRFUl9WQUxJREFURV9FTUFJTCkpIHsKJHRoaXMtPndhcm5pbmdzW10gPSAnYXV0aG9ycy4nLiRrZXkuJy5lbWFpbCA6IGludmFsaWQgdmFsdWUgKCcuJGF1dGhvclsnZW1haWwnXS4nKSwgbXVzdCBiZSBhIHZhbGlkIGVtYWlsIGFkZHJlc3MnOwp1bnNldCgkdGhpcy0+Y29uZmlnWydhdXRob3JzJ11bJGtleV1bJ2VtYWlsJ10pOwp9CmlmIChlbXB0eSgkdGhpcy0+Y29uZmlnWydhdXRob3JzJ11bJGtleV0pKSB7CnVuc2V0KCR0aGlzLT5jb25maWdbJ2F1dGhvcnMnXVska2V5XSk7Cn0KfQppZiAoZW1wdHkoJHRoaXMtPmNvbmZpZ1snYXV0aG9ycyddKSkgewp1bnNldCgkdGhpcy0+Y29uZmlnWydhdXRob3JzJ10pOwp9Cn0KCmlmICgkdGhpcy0+dmFsaWRhdGVBcnJheSgnc3VwcG9ydCcpICYmICFlbXB0eSgkdGhpcy0+Y29uZmlnWydzdXBwb3J0J10pKSB7CmZvcmVhY2ggKGFycmF5KCdpc3N1ZXMnLCAnZm9ydW0nLCAnd2lraScsICdzb3VyY2UnLCAnZW1haWwnLCAnaXJjJywgJ2RvY3MnLCAncnNzJywgJ2NoYXQnKSBhcyAka2V5KSB7CmlmIChpc3NldCgkdGhpcy0+Y29uZmlnWydzdXBwb3J0J11bJGtleV0pICYmICFpc19zdHJpbmcoJHRoaXMtPmNvbmZpZ1snc3VwcG9ydCddWyRrZXldKSkgewokdGhpcy0+ZXJyb3JzW10gPSAnc3VwcG9ydC4nLiRrZXkuJyA6IGludmFsaWQgdmFsdWUsIG11c3QgYmUgYSBzdHJpbmcnOwp1bnNldCgkdGhpcy0+Y29uZmlnWydzdXBwb3J0J11bJGtleV0pOwp9Cn0KCmlmIChpc3NldCgkdGhpcy0+Y29uZmlnWydzdXBwb3J0J11bJ2VtYWlsJ10pICYmICFmaWx0ZXJfdmFyKCR0aGlzLT5jb25maWdbJ3N1cHBvcnQnXVsnZW1haWwnXSwgRklMVEVSX1ZBTElEQVRFX0VNQUlMKSkgewokdGhpcy0+d2FybmluZ3NbXSA9ICdzdXBwb3J0LmVtYWlsIDogaW52YWxpZCB2YWx1ZSAoJy4kdGhpcy0+Y29uZmlnWydzdXBwb3J0J11bJ2VtYWlsJ10uJyksIG11c3QgYmUgYSB2YWxpZCBlbWFpbCBhZGRyZXNzJzsKdW5zZXQoJHRoaXMtPmNvbmZpZ1snc3VwcG9ydCddWydlbWFpbCddKTsKfQoKaWYgKGlzc2V0KCR0aGlzLT5jb25maWdbJ3N1cHBvcnQnXVsnaXJjJ10pICYmICEkdGhpcy0+ZmlsdGVyVXJsKCR0aGlzLT5jb25maWdbJ3N1cHBvcnQnXVsnaXJjJ10sIGFycmF5KCdpcmMnKSkpIHsKJHRoaXMtPndhcm5pbmdzW10gPSAnc3VwcG9ydC5pcmMgOiBpbnZhbGlkIHZhbHVlICgnLiR0aGlzLT5jb25maWdbJ3N1cHBvcnQnXVsnaXJjJ10uJyksIG11c3QgYmUgYSBpcmM6Ly88c2VydmVyPi88Y2hhbm5lbD4gVVJMJzsKdW5zZXQoJHRoaXMtPmNvbmZpZ1snc3VwcG9ydCddWydpcmMnXSk7Cn0KCmZvcmVhY2ggKGFycmF5KCdpc3N1ZXMnLCAnZm9ydW0nLCAnd2lraScsICdzb3VyY2UnLCAnZG9jcycsICdjaGF0JykgYXMgJGtleSkgewppZiAoaXNzZXQoJHRoaXMtPmNvbmZpZ1snc3VwcG9ydCddWyRrZXldKSAmJiAhJHRoaXMtPmZpbHRlclVybCgkdGhpcy0+Y29uZmlnWydzdXBwb3J0J11bJGtleV0pKSB7CiR0aGlzLT53YXJuaW5nc1tdID0gJ3N1cHBvcnQuJy4ka2V5LicgOiBpbnZhbGlkIHZhbHVlICgnLiR0aGlzLT5jb25maWdbJ3N1cHBvcnQnXVska2V5XS4nKSwgbXVzdCBiZSBhbiBodHRwL2h0dHBzIFVSTCc7CnVuc2V0KCR0aGlzLT5jb25maWdbJ3N1cHBvcnQnXVska2V5XSk7Cn0KfQppZiAoZW1wdHkoJHRoaXMtPmNvbmZpZ1snc3VwcG9ydCddKSkgewp1bnNldCgkdGhpcy0+Y29uZmlnWydzdXBwb3J0J10pOwp9Cn0KCmlmICgkdGhpcy0+dmFsaWRhdGVBcnJheSgnZnVuZGluZycpICYmICFlbXB0eSgkdGhpcy0+Y29uZmlnWydmdW5kaW5nJ10pKSB7CmZvcmVhY2ggKCR0aGlzLT5jb25maWdbJ2Z1bmRpbmcnXSBhcyAka2V5ID0+ICRmdW5kaW5nT3B0aW9uKSB7CmlmICghaXNfYXJyYXkoJGZ1bmRpbmdPcHRpb24pKSB7CiR0aGlzLT5lcnJvcnNbXSA9ICdmdW5kaW5nLicuJGtleS4nIDogc2hvdWxkIGJlIGFuIGFycmF5LCAnLmdldHR5cGUoJGZ1bmRpbmdPcHRpb24pLicgZ2l2ZW4nOwp1bnNldCgkdGhpcy0+Y29uZmlnWydmdW5kaW5nJ11bJGtleV0pOwpjb250aW51ZTsKfQpmb3JlYWNoIChhcnJheSgndHlwZScsICd1cmwnKSBhcyAkZnVuZGluZ0RhdGEpIHsKaWYgKGlzc2V0KCRmdW5kaW5nT3B0aW9uWyRmdW5kaW5nRGF0YV0pICYmICFpc19zdHJpbmcoJGZ1bmRpbmdPcHRpb25bJGZ1bmRpbmdEYXRhXSkpIHsKJHRoaXMtPmVycm9yc1tdID0gJ2Z1bmRpbmcuJy4ka2V5LicuJy4kZnVuZGluZ0RhdGEuJyA6IGludmFsaWQgdmFsdWUsIG11c3QgYmUgYSBzdHJpbmcnOwp1bnNldCgkdGhpcy0+Y29uZmlnWydmdW5kaW5nJ11bJGtleV1bJGZ1bmRpbmdEYXRhXSk7Cn0KfQppZiAoaXNzZXQoJGZ1bmRpbmdPcHRpb25bJ3VybCddKSAmJiAhJHRoaXMtPmZpbHRlclVybCgkZnVuZGluZ09wdGlvblsndXJsJ10pKSB7CiR0aGlzLT53YXJuaW5nc1tdID0gJ2Z1bmRpbmcuJy4ka2V5LicudXJsIDogaW52YWxpZCB2YWx1ZSAoJy4kZnVuZGluZ09wdGlvblsndXJsJ10uJyksIG11c3QgYmUgYW4gaHR0cC9odHRwcyBVUkwnOwp1bnNldCgkdGhpcy0+Y29uZmlnWydmdW5kaW5nJ11bJGtleV1bJ3VybCddKTsKfQppZiAoZW1wdHkoJHRoaXMtPmNvbmZpZ1snZnVuZGluZyddWyRrZXldKSkgewp1bnNldCgkdGhpcy0+Y29uZmlnWydmdW5kaW5nJ11bJGtleV0pOwp9Cn0KaWYgKGVtcHR5KCR0aGlzLT5jb25maWdbJ2Z1bmRpbmcnXSkpIHsKdW5zZXQoJHRoaXMtPmNvbmZpZ1snZnVuZGluZyddKTsKfQp9CgokdW5ib3VuZENvbnN0cmFpbnQgPSBuZXcgQ29uc3RyYWludCgnPScsICcxMDAwMDAwMC1kZXYnKTsKJHN0YWJsZUNvbnN0cmFpbnQgPSBuZXcgQ29uc3RyYWludCgnPScsICcxLjAuMCcpOwoKZm9yZWFjaCAoYXJyYXlfa2V5cyhCYXNlUGFja2FnZTo6JHN1cHBvcnRlZExpbmtUeXBlcykgYXMgJGxpbmtUeXBlKSB7CmlmICgkdGhpcy0+dmFsaWRhdGVBcnJheSgkbGlua1R5cGUpICYmIGlzc2V0KCR0aGlzLT5jb25maWdbJGxpbmtUeXBlXSkpIHsKZm9yZWFjaCAoJHRoaXMtPmNvbmZpZ1skbGlua1R5cGVdIGFzICRwYWNrYWdlID0+ICRjb25zdHJhaW50KSB7CmlmICgkZXJyID0gc2VsZjo6aGFzUGFja2FnZU5hbWluZ0Vycm9yKCRwYWNrYWdlLCB0cnVlKSkgewokdGhpcy0+d2FybmluZ3NbXSA9ICdEZXByZWNhdGlvbiB3YXJuaW5nOiAnLiRsaW5rVHlwZS4nLicuJGVyci4nIE1ha2Ugc3VyZSB5b3UgZml4IHRoaXMgYXMgQ29tcG9zZXIgMi4wIHdpbGwgZXJyb3IuJzsKfSBlbHNlaWYgKCFwcmVnX21hdGNoKCd7XltBLVphLXowLTlfLi8tXSskfScsICRwYWNrYWdlKSkgewokdGhpcy0+d2FybmluZ3NbXSA9ICRsaW5rVHlwZS4nLicuJHBhY2thZ2UuJyA6IGludmFsaWQga2V5LCBwYWNrYWdlIG5hbWVzIG11c3QgYmUgc3RyaW5ncyBjb250YWluaW5nIG9ubHkgW0EtWmEtejAtOV8uLy1dJzsKfQppZiAoIWlzX3N0cmluZygkY29uc3RyYWludCkpIHsKJHRoaXMtPmVycm9yc1tdID0gJGxpbmtUeXBlLicuJy4kcGFja2FnZS4nIDogaW52YWxpZCB2YWx1ZSwgbXVzdCBiZSBhIHN0cmluZyBjb250YWluaW5nIGEgdmVyc2lvbiBjb25zdHJhaW50JzsKdW5zZXQoJHRoaXMtPmNvbmZpZ1skbGlua1R5cGVdWyRwYWNrYWdlXSk7Cn0gZWxzZWlmICgnc2VsZi52ZXJzaW9uJyAhPT0gJGNvbnN0cmFpbnQpIHsKdHJ5IHsKJGxpbmtDb25zdHJhaW50ID0gJHRoaXMtPnZlcnNpb25QYXJzZXItPnBhcnNlQ29uc3RyYWludHMoJGNvbnN0cmFpbnQpOwp9IGNhdGNoIChcRXhjZXB0aW9uICRlKSB7CiR0aGlzLT5lcnJvcnNbXSA9ICRsaW5rVHlwZS4nLicuJHBhY2thZ2UuJyA6IGludmFsaWQgdmVyc2lvbiBjb25zdHJhaW50ICgnLiRlLT5nZXRNZXNzYWdlKCkuJyknOwp1bnNldCgkdGhpcy0+Y29uZmlnWyRsaW5rVHlwZV1bJHBhY2thZ2VdKTsKY29udGludWU7Cn0KCgppZiAoCigkdGhpcy0+ZmxhZ3MgJiBzZWxmOjpDSEVDS19VTkJPVU5EX0NPTlNUUkFJTlRTKQomJiAncmVxdWlyZScgPT09ICRsaW5rVHlwZQomJiAkbGlua0NvbnN0cmFpbnQtPm1hdGNoZXMoJHVuYm91bmRDb25zdHJhaW50KQomJiAhUGxhdGZvcm1SZXBvc2l0b3J5Ojppc1BsYXRmb3JtUGFja2FnZSgkcGFja2FnZSkKKSB7CiR0aGlzLT53YXJuaW5nc1tdID0gJGxpbmtUeXBlLicuJy4kcGFja2FnZS4nIDogdW5ib3VuZCB2ZXJzaW9uIGNvbnN0cmFpbnRzICgnLiRjb25zdHJhaW50LicpIHNob3VsZCBiZSBhdm9pZGVkJzsKfSBlbHNlaWYgKAoKKCR0aGlzLT5mbGFncyAmIHNlbGY6OkNIRUNLX1NUUklDVF9DT05TVFJBSU5UUykKJiYgJ3JlcXVpcmUnID09PSAkbGlua1R5cGUKJiYgc3RycG9zKCRsaW5rQ29uc3RyYWludCwgJz0nKSA9PT0gMAomJiAkc3RhYmxlQ29uc3RyYWludC0+dmVyc2lvbkNvbXBhcmUoJHN0YWJsZUNvbnN0cmFpbnQsICRsaW5rQ29uc3RyYWludCwgJzw9JykKKSB7CiR0aGlzLT53YXJuaW5nc1tdID0gJGxpbmtUeXBlLicuJy4kcGFja2FnZS4nIDogZXhhY3QgdmVyc2lvbiBjb25zdHJhaW50cyAoJy4kY29uc3RyYWludC4nKSBzaG91bGQgYmUgYXZvaWRlZCBpZiB0aGUgcGFja2FnZSBmb2xsb3dzIHNlbWFudGljIHZlcnNpb25pbmcnOwp9Cn0KfQp9Cn0KCmlmICgkdGhpcy0+dmFsaWRhdGVBcnJheSgnc3VnZ2VzdCcpICYmICFlbXB0eSgkdGhpcy0+Y29uZmlnWydzdWdnZXN0J10pKSB7CmZvcmVhY2ggKCR0aGlzLT5jb25maWdbJ3N1Z2dlc3QnXSBhcyAkcGFja2FnZSA9PiAkZGVzY3JpcHRpb24pIHsKaWYgKCFpc19zdHJpbmcoJGRlc2NyaXB0aW9uKSkgewokdGhpcy0+ZXJyb3JzW10gPSAnc3VnZ2VzdC4nLiRwYWNrYWdlLicgOiBpbnZhbGlkIHZhbHVlLCBtdXN0IGJlIGEgc3RyaW5nIGRlc2NyaWJpbmcgd2h5IHRoZSBwYWNrYWdlIGlzIHN1Z2dlc3RlZCc7CnVuc2V0KCR0aGlzLT5jb25maWdbJ3N1Z2dlc3QnXVskcGFja2FnZV0pOwp9Cn0KfQoKaWYgKCR0aGlzLT52YWxpZGF0ZVN0cmluZygnbWluaW11bS1zdGFiaWxpdHknKSAmJiAhZW1wdHkoJHRoaXMtPmNvbmZpZ1snbWluaW11bS1zdGFiaWxpdHknXSkpIHsKaWYgKCFpc3NldChCYXNlUGFja2FnZTo6JHN0YWJpbGl0aWVzW3N0cnRvbG93ZXIoJHRoaXMtPmNvbmZpZ1snbWluaW11bS1zdGFiaWxpdHknXSldKSAmJiAkdGhpcy0+Y29uZmlnWydtaW5pbXVtLXN0YWJpbGl0eSddICE9PSAnUkMnKSB7CiR0aGlzLT5lcnJvcnNbXSA9ICdtaW5pbXVtLXN0YWJpbGl0eSA6IGludmFsaWQgdmFsdWUgKCcuJHRoaXMtPmNvbmZpZ1snbWluaW11bS1zdGFiaWxpdHknXS4nKSwgbXVzdCBiZSBvbmUgb2YgJy5pbXBsb2RlKCcsICcsIGFycmF5X2tleXMoQmFzZVBhY2thZ2U6OiRzdGFiaWxpdGllcykpOwp1bnNldCgkdGhpcy0+Y29uZmlnWydtaW5pbXVtLXN0YWJpbGl0eSddKTsKfQp9CgppZiAoJHRoaXMtPnZhbGlkYXRlQXJyYXkoJ2F1dG9sb2FkJykgJiYgIWVtcHR5KCR0aGlzLT5jb25maWdbJ2F1dG9sb2FkJ10pKSB7CiR0eXBlcyA9IGFycmF5KCdwc3ItMCcsICdwc3ItNCcsICdjbGFzc21hcCcsICdmaWxlcycsICdleGNsdWRlLWZyb20tY2xhc3NtYXAnKTsKZm9yZWFjaCAoJHRoaXMtPmNvbmZpZ1snYXV0b2xvYWQnXSBhcyAkdHlwZSA9PiAkdHlwZUNvbmZpZykgewppZiAoIWluX2FycmF5KCR0eXBlLCAkdHlwZXMpKSB7CiR0aGlzLT5lcnJvcnNbXSA9ICdhdXRvbG9hZCA6IGludmFsaWQgdmFsdWUgKCcuJHR5cGUuJyksIG11c3QgYmUgb25lIG9mICcuaW1wbG9kZSgnLCAnLCAkdHlwZXMpOwp1bnNldCgkdGhpcy0+Y29uZmlnWydhdXRvbG9hZCddWyR0eXBlXSk7Cn0KaWYgKCR0eXBlID09PSAncHNyLTQnKSB7CmZvcmVhY2ggKCR0eXBlQ29uZmlnIGFzICRuYW1lc3BhY2UgPT4gJGRpcnMpIHsKaWYgKCRuYW1lc3BhY2UgIT09ICcnICYmICdcXCcgIT09IHN1YnN0cigkbmFtZXNwYWNlLCAtMSkpIHsKJHRoaXMtPmVycm9yc1tdID0gJ2F1dG9sb2FkLnBzci00IDogaW52YWxpZCB2YWx1ZSAoJy4kbmFtZXNwYWNlLicpLCBuYW1lc3BhY2VzIG11c3QgZW5kIHdpdGggYSBuYW1lc3BhY2Ugc2VwYXJhdG9yLCBzaG91bGQgYmUgJy4kbmFtZXNwYWNlLidcXFxcJzsKfQp9Cn0KfQp9CgppZiAoIWVtcHR5KCR0aGlzLT5jb25maWdbJ2F1dG9sb2FkJ11bJ3Bzci00J10pICYmICFlbXB0eSgkdGhpcy0+Y29uZmlnWyd0YXJnZXQtZGlyJ10pKSB7CiR0aGlzLT5lcnJvcnNbXSA9ICd0YXJnZXQtZGlyIDogdGhpcyBjYW4gbm90IGJlIHVzZWQgdG9nZXRoZXIgd2l0aCB0aGUgYXV0b2xvYWQucHNyLTQgc2V0dGluZywgcmVtb3ZlIHRhcmdldC1kaXIgdG8gdXBncmFkZSB0byBwc3ItNCc7CgoKdW5zZXQoJHRoaXMtPmNvbmZpZ1snYXV0b2xvYWQnXVsncHNyLTQnXSk7Cn0KCmZvcmVhY2ggKGFycmF5KCdzb3VyY2UnLCAnZGlzdCcpIGFzICRzcmNUeXBlKSB7CmlmICgkdGhpcy0+dmFsaWRhdGVBcnJheSgkc3JjVHlwZSkgJiYgIWVtcHR5KCR0aGlzLT5jb25maWdbJHNyY1R5cGVdKSkgewppZiAoIWlzc2V0KCR0aGlzLT5jb25maWdbJHNyY1R5cGVdWyd0eXBlJ10pKSB7CiR0aGlzLT5lcnJvcnNbXSA9ICRzcmNUeXBlIC4gJy50eXBlIDogbXVzdCBiZSBwcmVzZW50JzsKfQppZiAoIWlzc2V0KCR0aGlzLT5jb25maWdbJHNyY1R5cGVdWyd1cmwnXSkpIHsKJHRoaXMtPmVycm9yc1tdID0gJHNyY1R5cGUgLiAnLnVybCA6IG11c3QgYmUgcHJlc2VudCc7Cn0KaWYgKCRzcmNUeXBlID09PSAnc291cmNlJyAmJiAhaXNzZXQoJHRoaXMtPmNvbmZpZ1skc3JjVHlwZV1bJ3JlZmVyZW5jZSddKSkgewokdGhpcy0+ZXJyb3JzW10gPSAkc3JjVHlwZSAuICcucmVmZXJlbmNlIDogbXVzdCBiZSBwcmVzZW50JzsKfQppZiAoIWlzX3N0cmluZygkdGhpcy0+Y29uZmlnWyRzcmNUeXBlXVsndHlwZSddKSkgewokdGhpcy0+ZXJyb3JzW10gPSAkc3JjVHlwZSAuICcudHlwZSA6IHNob3VsZCBiZSBhIHN0cmluZywgJy5nZXR0eXBlKCR0aGlzLT5jb25maWdbJHNyY1R5cGVdWyd0eXBlJ10pLicgZ2l2ZW4nOwp9CmlmICghaXNfc3RyaW5nKCR0aGlzLT5jb25maWdbJHNyY1R5cGVdWyd1cmwnXSkpIHsKJHRoaXMtPmVycm9yc1tdID0gJHNyY1R5cGUgLiAnLnVybCA6IHNob3VsZCBiZSBhIHN0cmluZywgJy5nZXR0eXBlKCR0aGlzLT5jb25maWdbJHNyY1R5cGVdWyd1cmwnXSkuJyBnaXZlbic7Cn0KaWYgKGlzc2V0KCR0aGlzLT5jb25maWdbJHNyY1R5cGVdWydyZWZlcmVuY2UnXSkgJiYgIWlzX3N0cmluZygkdGhpcy0+Y29uZmlnWyRzcmNUeXBlXVsncmVmZXJlbmNlJ10pICYmICFpc19pbnQoJHRoaXMtPmNvbmZpZ1skc3JjVHlwZV1bJ3JlZmVyZW5jZSddKSkgewokdGhpcy0+ZXJyb3JzW10gPSAkc3JjVHlwZSAuICcucmVmZXJlbmNlIDogc2hvdWxkIGJlIGEgc3RyaW5nIG9yIGludCwgJy5nZXR0eXBlKCR0aGlzLT5jb25maWdbJHNyY1R5cGVdWydyZWZlcmVuY2UnXSkuJyBnaXZlbic7Cn0KaWYgKGlzc2V0KCR0aGlzLT5jb25maWdbJHNyY1R5cGVdWydyZWZlcmVuY2UnXSkgJiYgcHJlZ19tYXRjaCgne15ccyotfScsIChzdHJpbmcpICR0aGlzLT5jb25maWdbJHNyY1R5cGVdWydyZWZlcmVuY2UnXSkpIHsKJHRoaXMtPmVycm9yc1tdID0gJHNyY1R5cGUgLiAnLnJlZmVyZW5jZSA6IG11c3Qgbm90IHN0YXJ0IHdpdGggYSAiLSIsICInLiR0aGlzLT5jb25maWdbJHNyY1R5cGVdWydyZWZlcmVuY2UnXS4nIiBnaXZlbic7Cn0KaWYgKHByZWdfbWF0Y2goJ3teXHMqLX0nLCAkdGhpcy0+Y29uZmlnWyRzcmNUeXBlXVsndXJsJ10pKSB7CiR0aGlzLT5lcnJvcnNbXSA9ICRzcmNUeXBlIC4gJy51cmwgOiBtdXN0IG5vdCBzdGFydCB3aXRoIGEgIi0iLCAiJy4kdGhpcy0+Y29uZmlnWyRzcmNUeXBlXVsndXJsJ10uJyIgZ2l2ZW4nOwp9Cn0KfQoKCgoKJHRoaXMtPnZhbGlkYXRlRmxhdEFycmF5KCdpbmNsdWRlLXBhdGgnKTsKJHRoaXMtPnZhbGlkYXRlQXJyYXkoJ3RyYW5zcG9ydC1vcHRpb25zJyk7CgoKaWYgKGlzc2V0KCR0aGlzLT5jb25maWdbJ2V4dHJhJ11bJ2JyYW5jaC1hbGlhcyddKSkgewppZiAoIWlzX2FycmF5KCR0aGlzLT5jb25maWdbJ2V4dHJhJ11bJ2JyYW5jaC1hbGlhcyddKSkgewokdGhpcy0+ZXJyb3JzW10gPSAnZXh0cmEuYnJhbmNoLWFsaWFzIDogbXVzdCBiZSBhbiBhcnJheSBvZiB2ZXJzaW9ucyA9PiBhbGlhc2VzJzsKfSBlbHNlIHsKZm9yZWFjaCAoJHRoaXMtPmNvbmZpZ1snZXh0cmEnXVsnYnJhbmNoLWFsaWFzJ10gYXMgJHNvdXJjZUJyYW5jaCA9PiAkdGFyZ2V0QnJhbmNoKSB7CgppZiAoJy1kZXYnICE9PSBzdWJzdHIoJHRhcmdldEJyYW5jaCwgLTQpKSB7CiR0aGlzLT53YXJuaW5nc1tdID0gJ2V4dHJhLmJyYW5jaC1hbGlhcy4nLiRzb3VyY2VCcmFuY2guJyA6IHRoZSB0YXJnZXQgYnJhbmNoICgnLiR0YXJnZXRCcmFuY2guJykgbXVzdCBlbmQgaW4gLWRldic7CnVuc2V0KCR0aGlzLT5jb25maWdbJ2V4dHJhJ11bJ2JyYW5jaC1hbGlhcyddWyRzb3VyY2VCcmFuY2hdKTsKCmNvbnRpbnVlOwp9CgoKJHZhbGlkYXRlZFRhcmdldEJyYW5jaCA9ICR0aGlzLT52ZXJzaW9uUGFyc2VyLT5ub3JtYWxpemVCcmFuY2goc3Vic3RyKCR0YXJnZXRCcmFuY2gsIDAsIC00KSk7CmlmICgnLWRldicgIT09IHN1YnN0cigkdmFsaWRhdGVkVGFyZ2V0QnJhbmNoLCAtNCkpIHsKJHRoaXMtPndhcm5pbmdzW10gPSAnZXh0cmEuYnJhbmNoLWFsaWFzLicuJHNvdXJjZUJyYW5jaC4nIDogdGhlIHRhcmdldCBicmFuY2ggKCcuJHRhcmdldEJyYW5jaC4nKSBtdXN0IGJlIGEgcGFyc2VhYmxlIG51bWJlciBsaWtlIDIuMC1kZXYnOwp1bnNldCgkdGhpcy0+Y29uZmlnWydleHRyYSddWydicmFuY2gtYWxpYXMnXVskc291cmNlQnJhbmNoXSk7Cgpjb250aW51ZTsKfQoKCmlmICgoJHNvdXJjZVByZWZpeCA9ICR0aGlzLT52ZXJzaW9uUGFyc2VyLT5wYXJzZU51bWVyaWNBbGlhc1ByZWZpeCgkc291cmNlQnJhbmNoKSkKJiYgKCR0YXJnZXRQcmVmaXggPSAkdGhpcy0+dmVyc2lvblBhcnNlci0+cGFyc2VOdW1lcmljQWxpYXNQcmVmaXgoJHRhcmdldEJyYW5jaCkpCiYmIChzdHJpcG9zKCR0YXJnZXRQcmVmaXgsICRzb3VyY2VQcmVmaXgpICE9PSAwKQopIHsKJHRoaXMtPndhcm5pbmdzW10gPSAnZXh0cmEuYnJhbmNoLWFsaWFzLicuJHNvdXJjZUJyYW5jaC4nIDogdGhlIHRhcmdldCBicmFuY2ggKCcuJHRhcmdldEJyYW5jaC4nKSBpcyBub3QgYSB2YWxpZCBudW1lcmljIGFsaWFzIGZvciB0aGlzIHZlcnNpb24nOwp1bnNldCgkdGhpcy0+Y29uZmlnWydleHRyYSddWydicmFuY2gtYWxpYXMnXVskc291cmNlQnJhbmNoXSk7Cn0KfQp9Cn0KCmlmICgkdGhpcy0+ZXJyb3JzKSB7CnRocm93IG5ldyBJbnZhbGlkUGFja2FnZUV4Y2VwdGlvbigkdGhpcy0+ZXJyb3JzLCAkdGhpcy0+d2FybmluZ3MsICRjb25maWcpOwp9CgokcGFja2FnZSA9ICR0aGlzLT5sb2FkZXItPmxvYWQoJHRoaXMtPmNvbmZpZywgJGNsYXNzKTsKJHRoaXMtPmNvbmZpZyA9IG51bGw7CgpyZXR1cm4gJHBhY2thZ2U7Cn0KCnB1YmxpYyBmdW5jdGlvbiBnZXRXYXJuaW5ncygpCnsKcmV0dXJuICR0aGlzLT53YXJuaW5nczsKfQoKcHVibGljIGZ1bmN0aW9uIGdldEVycm9ycygpCnsKcmV0dXJuICR0aGlzLT5lcnJvcnM7Cn0KCnB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gaGFzUGFja2FnZU5hbWluZ0Vycm9yKCRuYW1lLCAkaXNMaW5rID0gZmFsc2UpCnsKaWYgKFBsYXRmb3JtUmVwb3NpdG9yeTo6aXNQbGF0Zm9ybVBhY2thZ2UoJG5hbWUpKSB7CnJldHVybjsKfQoKaWYgKCFwcmVnX21hdGNoKCd7XlthLXowLTldKD86W18uLV0/W2EtejAtOV0rKSovW2EtejAtOV0oPzooPzpbXy5dP3wtezAsMn0pW2EtejAtOV0rKSokfWlEJywgJG5hbWUpKSB7CnJldHVybiAkbmFtZS4nIGlzIGludmFsaWQsIGl0IHNob3VsZCBoYXZlIGEgdmVuZG9yIG5hbWUsIGEgZm9yd2FyZCBzbGFzaCwgYW5kIGEgcGFja2FnZSBuYW1lLiBUaGUgdmVuZG9yIGFuZCBwYWNrYWdlIG5hbWUgY2FuIGJlIHdvcmRzIHNlcGFyYXRlZCBieSAtLCAuIG9yIF8uIFRoZSBjb21wbGV0ZSBuYW1lIHNob3VsZCBtYXRjaCAiXlthLXowLTldKFtfLi1dP1thLXowLTldKykqL1thLXowLTldKChbXy5dP3wtezAsMn0pW2EtejAtOV0rKSokIi4nOwp9CgokcmVzZXJ2ZWROYW1lcyA9IGFycmF5KCdudWwnLCAnY29uJywgJ3BybicsICdhdXgnLCAnY29tMScsICdjb20yJywgJ2NvbTMnLCAnY29tNCcsICdjb201JywgJ2NvbTYnLCAnY29tNycsICdjb204JywgJ2NvbTknLCAnbHB0MScsICdscHQyJywgJ2xwdDMnLCAnbHB0NCcsICdscHQ1JywgJ2xwdDYnLCAnbHB0NycsICdscHQ4JywgJ2xwdDknKTsKJGJpdHMgPSBleHBsb2RlKCcvJywgc3RydG9sb3dlcigkbmFtZSkpOwppZiAoaW5fYXJyYXkoJGJpdHNbMF0sICRyZXNlcnZlZE5hbWVzLCB0cnVlKSB8fCBpbl9hcnJheSgkYml0c1sxXSwgJHJlc2VydmVkTmFtZXMsIHRydWUpKSB7CnJldHVybiAkbmFtZS4nIGlzIHJlc2VydmVkLCBwYWNrYWdlIGFuZCB2ZW5kb3IgbmFtZXMgY2FuIG5vdCBtYXRjaCBhbnkgb2Y6ICcuaW1wbG9kZSgnLCAnLCAkcmVzZXJ2ZWROYW1lcykuJy4nOwp9CgppZiAocHJlZ19tYXRjaCgne1wuanNvbiR9JywgJG5hbWUpKSB7CnJldHVybiAkbmFtZS4nIGlzIGludmFsaWQsIHBhY2thZ2UgbmFtZXMgY2FuIG5vdCBlbmQgaW4gLmpzb24sIGNvbnNpZGVyIHJlbmFtaW5nIGl0IG9yIHBlcmhhcHMgdXNpbmcgYSAtanNvbiBzdWZmaXggaW5zdGVhZC4nOwp9CgppZiAocHJlZ19tYXRjaCgne1tBLVpdfScsICRuYW1lKSkgewppZiAoJGlzTGluaykgewpyZXR1cm4gJG5hbWUuJyBpcyBpbnZhbGlkLCBpdCBzaG91bGQgbm90IGNvbnRhaW4gdXBwZXJjYXNlIGNoYXJhY3RlcnMuIFBsZWFzZSB1c2UgJy5zdHJ0b2xvd2VyKCRuYW1lKS4nIGluc3RlYWQuJzsKfQoKJHN1Z2dlc3ROYW1lID0gcHJlZ19yZXBsYWNlKCd7KD86KFthLXpdKShbQS1aXSl8KFtBLVpdKShbQS1aXVthLXpdKSl9JywgJ1xcMVxcMy1cXDJcXDQnLCAkbmFtZSk7CiRzdWdnZXN0TmFtZSA9IHN0cnRvbG93ZXIoJHN1Z2dlc3ROYW1lKTsKCnJldHVybiAkbmFtZS4nIGlzIGludmFsaWQsIGl0IHNob3VsZCBub3QgY29udGFpbiB1cHBlcmNhc2UgY2hhcmFjdGVycy4gV2Ugc3VnZ2VzdCB1c2luZyAnLiRzdWdnZXN0TmFtZS4nIGluc3RlYWQuJzsKfQp9Cgpwcml2YXRlIGZ1bmN0aW9uIHZhbGlkYXRlUmVnZXgoJHByb3BlcnR5LCAkcmVnZXgsICRtYW5kYXRvcnkgPSBmYWxzZSkKewppZiAoISR0aGlzLT52YWxpZGF0ZVN0cmluZygkcHJvcGVydHksICRtYW5kYXRvcnkpKSB7CnJldHVybiBmYWxzZTsKfQoKaWYgKCFwcmVnX21hdGNoKCd7XicuJHJlZ2V4LickfXUnLCAkdGhpcy0+Y29uZmlnWyRwcm9wZXJ0eV0pKSB7CiRtZXNzYWdlID0gJHByb3BlcnR5LicgOiBpbnZhbGlkIHZhbHVlICgnLiR0aGlzLT5jb25maWdbJHByb3BlcnR5XS4nKSwgbXVzdCBtYXRjaCAnLiRyZWdleDsKaWYgKCRtYW5kYXRvcnkpIHsKJHRoaXMtPmVycm9yc1tdID0gJG1lc3NhZ2U7Cn0gZWxzZSB7CiR0aGlzLT53YXJuaW5nc1tdID0gJG1lc3NhZ2U7Cn0KdW5zZXQoJHRoaXMtPmNvbmZpZ1skcHJvcGVydHldKTsKCnJldHVybiBmYWxzZTsKfQoKcmV0dXJuIHRydWU7Cn0KCnByaXZhdGUgZnVuY3Rpb24gdmFsaWRhdGVTdHJpbmcoJHByb3BlcnR5LCAkbWFuZGF0b3J5ID0gZmFsc2UpCnsKaWYgKGlzc2V0KCR0aGlzLT5jb25maWdbJHByb3BlcnR5XSkgJiYgIWlzX3N0cmluZygkdGhpcy0+Y29uZmlnWyRwcm9wZXJ0eV0pKSB7CiR0aGlzLT5lcnJvcnNbXSA9ICRwcm9wZXJ0eS4nIDogc2hvdWxkIGJlIGEgc3RyaW5nLCAnLmdldHR5cGUoJHRoaXMtPmNvbmZpZ1skcHJvcGVydHldKS4nIGdpdmVuJzsKdW5zZXQoJHRoaXMtPmNvbmZpZ1skcHJvcGVydHldKTsKCnJldHVybiBmYWxzZTsKfQoKaWYgKCFpc3NldCgkdGhpcy0+Y29uZmlnWyRwcm9wZXJ0eV0pIHx8IHRyaW0oJHRoaXMtPmNvbmZpZ1skcHJvcGVydHldKSA9PT0gJycpIHsKaWYgKCRtYW5kYXRvcnkpIHsKJHRoaXMtPmVycm9yc1tdID0gJHByb3BlcnR5LicgOiBtdXN0IGJlIHByZXNlbnQnOwp9CnVuc2V0KCR0aGlzLT5jb25maWdbJHByb3BlcnR5XSk7CgpyZXR1cm4gZmFsc2U7Cn0KCnJldHVybiB0cnVlOwp9Cgpwcml2YXRlIGZ1bmN0aW9uIHZhbGlkYXRlQXJyYXkoJHByb3BlcnR5LCAkbWFuZGF0b3J5ID0gZmFsc2UpCnsKaWYgKGlzc2V0KCR0aGlzLT5jb25maWdbJHByb3BlcnR5XSkgJiYgIWlzX2FycmF5KCR0aGlzLT5jb25maWdbJHByb3BlcnR5XSkpIHsKJHRoaXMtPmVycm9yc1tdID0gJHByb3BlcnR5LicgOiBzaG91bGQgYmUgYW4gYXJyYXksICcuZ2V0dHlwZSgkdGhpcy0+Y29uZmlnWyRwcm9wZXJ0eV0pLicgZ2l2ZW4nOwp1bnNldCgkdGhpcy0+Y29uZmlnWyRwcm9wZXJ0eV0pOwoKcmV0dXJuIGZhbHNlOwp9CgppZiAoIWlzc2V0KCR0aGlzLT5jb25maWdbJHByb3BlcnR5XSkgfHwgIWNvdW50KCR0aGlzLT5jb25maWdbJHByb3BlcnR5XSkpIHsKaWYgKCRtYW5kYXRvcnkpIHsKJHRoaXMtPmVycm9yc1tdID0gJHByb3BlcnR5LicgOiBtdXN0IGJlIHByZXNlbnQgYW5kIGNvbnRhaW4gYXQgbGVhc3Qgb25lIGVsZW1lbnQnOwp9CnVuc2V0KCR0aGlzLT5jb25maWdbJHByb3BlcnR5XSk7CgpyZXR1cm4gZmFsc2U7Cn0KCnJldHVybiB0cnVlOwp9Cgpwcml2YXRlIGZ1bmN0aW9uIHZhbGlkYXRlRmxhdEFycmF5KCRwcm9wZXJ0eSwgJHJlZ2V4ID0gbnVsbCwgJG1hbmRhdG9yeSA9IGZhbHNlKQp7CmlmICghJHRoaXMtPnZhbGlkYXRlQXJyYXkoJHByb3BlcnR5LCAkbWFuZGF0b3J5KSkgewpyZXR1cm4gZmFsc2U7Cn0KCiRwYXNzID0gdHJ1ZTsKZm9yZWFjaCAoJHRoaXMtPmNvbmZpZ1skcHJvcGVydHldIGFzICRrZXkgPT4gJHZhbHVlKSB7CmlmICghaXNfc3RyaW5nKCR2YWx1ZSkgJiYgIWlzX251bWVyaWMoJHZhbHVlKSkgewokdGhpcy0+ZXJyb3JzW10gPSAkcHJvcGVydHkuJy4nLiRrZXkuJyA6IG11c3QgYmUgYSBzdHJpbmcgb3IgaW50LCAnLmdldHR5cGUoJHZhbHVlKS4nIGdpdmVuJzsKdW5zZXQoJHRoaXMtPmNvbmZpZ1skcHJvcGVydHldWyRrZXldKTsKJHBhc3MgPSBmYWxzZTsKCmNvbnRpbnVlOwp9CgppZiAoJHJlZ2V4ICYmICFwcmVnX21hdGNoKCd7XicuJHJlZ2V4LickfXUnLCAkdmFsdWUpKSB7CiR0aGlzLT53YXJuaW5nc1tdID0gJHByb3BlcnR5LicuJy4ka2V5LicgOiBpbnZhbGlkIHZhbHVlICgnLiR2YWx1ZS4nKSwgbXVzdCBtYXRjaCAnLiRyZWdleDsKdW5zZXQoJHRoaXMtPmNvbmZpZ1skcHJvcGVydHldWyRrZXldKTsKJHBhc3MgPSBmYWxzZTsKfQp9CgpyZXR1cm4gJHBhc3M7Cn0KCnByaXZhdGUgZnVuY3Rpb24gdmFsaWRhdGVVcmwoJHByb3BlcnR5LCAkbWFuZGF0b3J5ID0gZmFsc2UpCnsKaWYgKCEkdGhpcy0+dmFsaWRhdGVTdHJpbmcoJHByb3BlcnR5LCAkbWFuZGF0b3J5KSkgewpyZXR1cm4gZmFsc2U7Cn0KCmlmICghJHRoaXMtPmZpbHRlclVybCgkdGhpcy0+Y29uZmlnWyRwcm9wZXJ0eV0pKSB7CiR0aGlzLT53YXJuaW5nc1tdID0gJHByb3BlcnR5LicgOiBpbnZhbGlkIHZhbHVlICgnLiR0aGlzLT5jb25maWdbJHByb3BlcnR5XS4nKSwgbXVzdCBiZSBhbiBodHRwL2h0dHBzIFVSTCc7CnVuc2V0KCR0aGlzLT5jb25maWdbJHByb3BlcnR5XSk7CgpyZXR1cm4gZmFsc2U7Cn0KCnJldHVybiB0cnVlOwp9Cgpwcml2YXRlIGZ1bmN0aW9uIGZpbHRlclVybCgkdmFsdWUsIGFycmF5ICRzY2hlbWVzID0gYXJyYXkoJ2h0dHAnLCAnaHR0cHMnKSkKewppZiAoJHZhbHVlID09PSAnJykgewpyZXR1cm4gdHJ1ZTsKfQoKJGJpdHMgPSBwYXJzZV91cmwoJHZhbHVlKTsKaWYgKGVtcHR5KCRiaXRzWydzY2hlbWUnXSkgfHwgZW1wdHkoJGJpdHNbJ2hvc3QnXSkpIHsKcmV0dXJuIGZhbHNlOwp9CgppZiAoIWluX2FycmF5KCRiaXRzWydzY2hlbWUnXSwgJHNjaGVtZXMsIHRydWUpKSB7CnJldHVybiBmYWxzZTsKfQoKcmV0dXJuIHRydWU7Cn0KfQo8P3BocAoKCgoKCgoKCgoKCm5hbWVzcGFjZSBDb21wb3NlclxQYWNrYWdlOwoKdXNlIENvbXBvc2VyXEpzb25cSnNvbkZpbGU7CnVzZSBDb21wb3NlclxJbnN0YWxsZXJcSW5zdGFsbGF0aW9uTWFuYWdlcjsKdXNlIENvbXBvc2VyXFJlcG9zaXRvcnlcTG9ja0FycmF5UmVwb3NpdG9yeTsKdXNlIENvbXBvc2VyXFV0aWxcUHJvY2Vzc0V4ZWN1dG9yOwp1c2UgQ29tcG9zZXJcUGFja2FnZVxEdW1wZXJcQXJyYXlEdW1wZXI7CnVzZSBDb21wb3NlclxQYWNrYWdlXExvYWRlclxBcnJheUxvYWRlcjsKdXNlIENvbXBvc2VyXFBhY2thZ2VcVmVyc2lvblxWZXJzaW9uUGFyc2VyOwp1c2UgQ29tcG9zZXJcUGx1Z2luXFBsdWdpbkludGVyZmFjZTsKdXNlIENvbXBvc2VyXFV0aWxcR2l0IGFzIEdpdFV0aWw7CnVzZSBDb21wb3NlclxJT1xJT0ludGVyZmFjZTsKdXNlIFNlbGRcSnNvbkxpbnRcUGFyc2luZ0V4Y2VwdGlvbjsKCgoKCgoKCmNsYXNzIExvY2tlcgp7Cgpwcml2YXRlICRsb2NrRmlsZTsKCnByaXZhdGUgJGluc3RhbGxhdGlvbk1hbmFnZXI7Cgpwcml2YXRlICRoYXNoOwoKcHJpdmF0ZSAkY29udGVudEhhc2g7Cgpwcml2YXRlICRsb2FkZXI7Cgpwcml2YXRlICRkdW1wZXI7Cgpwcml2YXRlICRwcm9jZXNzOwpwcml2YXRlICRsb2NrRGF0YUNhY2hlOwpwcml2YXRlICR2aXJ0dWFsRmlsZVdyaXR0ZW47CgoKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBfX2NvbnN0cnVjdChJT0ludGVyZmFjZSAkaW8sIEpzb25GaWxlICRsb2NrRmlsZSwgSW5zdGFsbGF0aW9uTWFuYWdlciAkaW5zdGFsbGF0aW9uTWFuYWdlciwgJGNvbXBvc2VyRmlsZUNvbnRlbnRzLCBQcm9jZXNzRXhlY3V0b3IgJHByb2Nlc3MgPSBudWxsKQp7CiR0aGlzLT5sb2NrRmlsZSA9ICRsb2NrRmlsZTsKJHRoaXMtPmluc3RhbGxhdGlvbk1hbmFnZXIgPSAkaW5zdGFsbGF0aW9uTWFuYWdlcjsKJHRoaXMtPmhhc2ggPSBtZDUoJGNvbXBvc2VyRmlsZUNvbnRlbnRzKTsKJHRoaXMtPmNvbnRlbnRIYXNoID0gc2VsZjo6Z2V0Q29udGVudEhhc2goJGNvbXBvc2VyRmlsZUNvbnRlbnRzKTsKJHRoaXMtPmxvYWRlciA9IG5ldyBBcnJheUxvYWRlcihudWxsLCB0cnVlKTsKJHRoaXMtPmR1bXBlciA9IG5ldyBBcnJheUR1bXBlcigpOwokdGhpcy0+cHJvY2VzcyA9ICRwcm9jZXNzID86IG5ldyBQcm9jZXNzRXhlY3V0b3IoJGlvKTsKfQoKCgoKCgoKCnB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gZ2V0Q29udGVudEhhc2goJGNvbXBvc2VyRmlsZUNvbnRlbnRzKQp7CiRjb250ZW50ID0ganNvbl9kZWNvZGUoJGNvbXBvc2VyRmlsZUNvbnRlbnRzLCB0cnVlKTsKCiRyZWxldmFudEtleXMgPSBhcnJheSgKJ25hbWUnLAondmVyc2lvbicsCidyZXF1aXJlJywKJ3JlcXVpcmUtZGV2JywKJ2NvbmZsaWN0JywKJ3JlcGxhY2UnLAoncHJvdmlkZScsCidtaW5pbXVtLXN0YWJpbGl0eScsCidwcmVmZXItc3RhYmxlJywKJ3JlcG9zaXRvcmllcycsCidleHRyYScsCik7CgokcmVsZXZhbnRDb250ZW50ID0gYXJyYXkoKTsKCmZvcmVhY2ggKGFycmF5X2ludGVyc2VjdCgkcmVsZXZhbnRLZXlzLCBhcnJheV9rZXlzKCRjb250ZW50KSkgYXMgJGtleSkgewokcmVsZXZhbnRDb250ZW50WyRrZXldID0gJGNvbnRlbnRbJGtleV07Cn0KaWYgKGlzc2V0KCRjb250ZW50Wydjb25maWcnXVsncGxhdGZvcm0nXSkpIHsKJHJlbGV2YW50Q29udGVudFsnY29uZmlnJ11bJ3BsYXRmb3JtJ10gPSAkY29udGVudFsnY29uZmlnJ11bJ3BsYXRmb3JtJ107Cn0KCmtzb3J0KCRyZWxldmFudENvbnRlbnQpOwoKcmV0dXJuIG1kNShqc29uX2VuY29kZSgkcmVsZXZhbnRDb250ZW50KSk7Cn0KCgoKCgoKcHVibGljIGZ1bmN0aW9uIGlzTG9ja2VkKCkKewppZiAoISR0aGlzLT52aXJ0dWFsRmlsZVdyaXR0ZW4gJiYgISR0aGlzLT5sb2NrRmlsZS0+ZXhpc3RzKCkpIHsKcmV0dXJuIGZhbHNlOwp9CgokZGF0YSA9ICR0aGlzLT5nZXRMb2NrRGF0YSgpOwoKcmV0dXJuIGlzc2V0KCRkYXRhWydwYWNrYWdlcyddKTsKfQoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gaXNGcmVzaCgpCnsKJGxvY2sgPSAkdGhpcy0+bG9ja0ZpbGUtPnJlYWQoKTsKCmlmICghZW1wdHkoJGxvY2tbJ2NvbnRlbnQtaGFzaCddKSkgewoKcmV0dXJuICR0aGlzLT5jb250ZW50SGFzaCA9PT0gJGxvY2tbJ2NvbnRlbnQtaGFzaCddOwp9CgoKaWYgKCFlbXB0eSgkbG9ja1snaGFzaCddKSkgewpyZXR1cm4gJHRoaXMtPmhhc2ggPT09ICRsb2NrWydoYXNoJ107Cn0KCgpyZXR1cm4gZmFsc2U7Cn0KCgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0TG9ja2VkUmVwb3NpdG9yeSgkd2l0aERldlJlcXMgPSBmYWxzZSkKewokbG9ja0RhdGEgPSAkdGhpcy0+Z2V0TG9ja0RhdGEoKTsKJHBhY2thZ2VzID0gbmV3IExvY2tBcnJheVJlcG9zaXRvcnkoKTsKCiRsb2NrZWRQYWNrYWdlcyA9ICRsb2NrRGF0YVsncGFja2FnZXMnXTsKaWYgKCR3aXRoRGV2UmVxcykgewppZiAoaXNzZXQoJGxvY2tEYXRhWydwYWNrYWdlcy1kZXYnXSkpIHsKJGxvY2tlZFBhY2thZ2VzID0gYXJyYXlfbWVyZ2UoJGxvY2tlZFBhY2thZ2VzLCAkbG9ja0RhdGFbJ3BhY2thZ2VzLWRldiddKTsKfSBlbHNlIHsKdGhyb3cgbmV3IFxSdW50aW1lRXhjZXB0aW9uKCdUaGUgbG9jayBmaWxlIGRvZXMgbm90IGNvbnRhaW4gcmVxdWlyZS1kZXYgaW5mb3JtYXRpb24sIHJ1biBpbnN0YWxsIHdpdGggdGhlIC0tbm8tZGV2IG9wdGlvbiBvciBkZWxldGUgaXQgYW5kIHJ1biBjb21wb3NlciB1cGRhdGUgdG8gZ2VuZXJhdGUgYSBuZXcgbG9jayBmaWxlLicpOwp9Cn0KCmlmIChlbXB0eSgkbG9ja2VkUGFja2FnZXMpKSB7CnJldHVybiAkcGFja2FnZXM7Cn0KCmlmIChpc3NldCgkbG9ja2VkUGFja2FnZXNbMF1bJ25hbWUnXSkpIHsKJHBhY2thZ2VCeU5hbWUgPSBhcnJheSgpOwpmb3JlYWNoICgkbG9ja2VkUGFja2FnZXMgYXMgJGluZm8pIHsKJHBhY2thZ2UgPSAkdGhpcy0+bG9hZGVyLT5sb2FkKCRpbmZvKTsKJHBhY2thZ2VzLT5hZGRQYWNrYWdlKCRwYWNrYWdlKTsKJHBhY2thZ2VCeU5hbWVbJHBhY2thZ2UtPmdldE5hbWUoKV0gPSAkcGFja2FnZTsKCmlmICgkcGFja2FnZSBpbnN0YW5jZW9mIEFsaWFzUGFja2FnZSkgewokcGFja2FnZUJ5TmFtZVskcGFja2FnZS0+Z2V0QWxpYXNPZigpLT5nZXROYW1lKCldID0gJHBhY2thZ2UtPmdldEFsaWFzT2YoKTsKfQp9CgppZiAoaXNzZXQoJGxvY2tEYXRhWydhbGlhc2VzJ10pKSB7CmZvcmVhY2ggKCRsb2NrRGF0YVsnYWxpYXNlcyddIGFzICRhbGlhcykgewppZiAoaXNzZXQoJHBhY2thZ2VCeU5hbWVbJGFsaWFzWydwYWNrYWdlJ11dKSkgewppZiAoJHBhY2thZ2VCeU5hbWVbJGFsaWFzWydwYWNrYWdlJ11dIGluc3RhbmNlb2YgQ29tcGxldGVQYWNrYWdlSW50ZXJmYWNlKSB7CiRhbGlhc1BrZyA9IG5ldyBDb21wbGV0ZUFsaWFzUGFja2FnZSgkcGFja2FnZUJ5TmFtZVskYWxpYXNbJ3BhY2thZ2UnXV0sICRhbGlhc1snYWxpYXNfbm9ybWFsaXplZCddLCAkYWxpYXNbJ2FsaWFzJ10pOwp9IGVsc2UgewokYWxpYXNQa2cgPSBuZXcgQWxpYXNQYWNrYWdlKCRwYWNrYWdlQnlOYW1lWyRhbGlhc1sncGFja2FnZSddXSwgJGFsaWFzWydhbGlhc19ub3JtYWxpemVkJ10sICRhbGlhc1snYWxpYXMnXSk7Cn0KJGFsaWFzUGtnLT5zZXRSb290UGFja2FnZUFsaWFzKHRydWUpOwokcGFja2FnZXMtPmFkZFBhY2thZ2UoJGFsaWFzUGtnKTsKfQp9Cn0KCnJldHVybiAkcGFja2FnZXM7Cn0KCnRocm93IG5ldyBcUnVudGltZUV4Y2VwdGlvbignWW91ciBjb21wb3Nlci5sb2NrIGlzIGludmFsaWQuIFJ1biAiY29tcG9zZXIgdXBkYXRlIiB0byBnZW5lcmF0ZSBhIG5ldyBvbmUuJyk7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBnZXREZXZQYWNrYWdlTmFtZXMoKQp7CiRuYW1lcyA9IGFycmF5KCk7CiRsb2NrRGF0YSA9ICR0aGlzLT5nZXRMb2NrRGF0YSgpOwppZiAoaXNzZXQoJGxvY2tEYXRhWydwYWNrYWdlcy1kZXYnXSkpIHsKZm9yZWFjaCAoJGxvY2tEYXRhWydwYWNrYWdlcy1kZXYnXSBhcyAkcGFja2FnZSkgewokbmFtZXNbXSA9IHN0cnRvbG93ZXIoJHBhY2thZ2VbJ25hbWUnXSk7Cn0KfQoKcmV0dXJuICRuYW1lczsKfQoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIGdldFBsYXRmb3JtUmVxdWlyZW1lbnRzKCR3aXRoRGV2UmVxcyA9IGZhbHNlKQp7CiRsb2NrRGF0YSA9ICR0aGlzLT5nZXRMb2NrRGF0YSgpOwokcmVxdWlyZW1lbnRzID0gYXJyYXkoKTsKCmlmICghZW1wdHkoJGxvY2tEYXRhWydwbGF0Zm9ybSddKSkgewokcmVxdWlyZW1lbnRzID0gJHRoaXMtPmxvYWRlci0+cGFyc2VMaW5rcygKJ19fcm9vdF9fJywKJzEuMC4wJywKTGluazo6VFlQRV9SRVFVSVJFLAppc3NldCgkbG9ja0RhdGFbJ3BsYXRmb3JtJ10pID8gJGxvY2tEYXRhWydwbGF0Zm9ybSddIDogYXJyYXkoKQopOwp9CgppZiAoJHdpdGhEZXZSZXFzICYmICFlbXB0eSgkbG9ja0RhdGFbJ3BsYXRmb3JtLWRldiddKSkgewokZGV2UmVxdWlyZW1lbnRzID0gJHRoaXMtPmxvYWRlci0+cGFyc2VMaW5rcygKJ19fcm9vdF9fJywKJzEuMC4wJywKTGluazo6VFlQRV9SRVFVSVJFLAppc3NldCgkbG9ja0RhdGFbJ3BsYXRmb3JtLWRldiddKSA/ICRsb2NrRGF0YVsncGxhdGZvcm0tZGV2J10gOiBhcnJheSgpCik7CgokcmVxdWlyZW1lbnRzID0gYXJyYXlfbWVyZ2UoJHJlcXVpcmVtZW50cywgJGRldlJlcXVpcmVtZW50cyk7Cn0KCnJldHVybiAkcmVxdWlyZW1lbnRzOwp9CgpwdWJsaWMgZnVuY3Rpb24gZ2V0TWluaW11bVN0YWJpbGl0eSgpCnsKJGxvY2tEYXRhID0gJHRoaXMtPmdldExvY2tEYXRhKCk7CgpyZXR1cm4gaXNzZXQoJGxvY2tEYXRhWydtaW5pbXVtLXN0YWJpbGl0eSddKSA/ICRsb2NrRGF0YVsnbWluaW11bS1zdGFiaWxpdHknXSA6ICdzdGFibGUnOwp9CgpwdWJsaWMgZnVuY3Rpb24gZ2V0U3RhYmlsaXR5RmxhZ3MoKQp7CiRsb2NrRGF0YSA9ICR0aGlzLT5nZXRMb2NrRGF0YSgpOwoKcmV0dXJuIGlzc2V0KCRsb2NrRGF0YVsnc3RhYmlsaXR5LWZsYWdzJ10pID8gJGxvY2tEYXRhWydzdGFiaWxpdHktZmxhZ3MnXSA6IGFycmF5KCk7Cn0KCnB1YmxpYyBmdW5jdGlvbiBnZXRQcmVmZXJTdGFibGUoKQp7CiRsb2NrRGF0YSA9ICR0aGlzLT5nZXRMb2NrRGF0YSgpOwoKCgpyZXR1cm4gaXNzZXQoJGxvY2tEYXRhWydwcmVmZXItc3RhYmxlJ10pID8gJGxvY2tEYXRhWydwcmVmZXItc3RhYmxlJ10gOiBudWxsOwp9CgpwdWJsaWMgZnVuY3Rpb24gZ2V0UHJlZmVyTG93ZXN0KCkKewokbG9ja0RhdGEgPSAkdGhpcy0+Z2V0TG9ja0RhdGEoKTsKCgoKcmV0dXJuIGlzc2V0KCRsb2NrRGF0YVsncHJlZmVyLWxvd2VzdCddKSA/ICRsb2NrRGF0YVsncHJlZmVyLWxvd2VzdCddIDogbnVsbDsKfQoKcHVibGljIGZ1bmN0aW9uIGdldFBsYXRmb3JtT3ZlcnJpZGVzKCkKewokbG9ja0RhdGEgPSAkdGhpcy0+Z2V0TG9ja0RhdGEoKTsKCnJldHVybiBpc3NldCgkbG9ja0RhdGFbJ3BsYXRmb3JtLW92ZXJyaWRlcyddKSA/ICRsb2NrRGF0YVsncGxhdGZvcm0tb3ZlcnJpZGVzJ10gOiBhcnJheSgpOwp9CgpwdWJsaWMgZnVuY3Rpb24gZ2V0QWxpYXNlcygpCnsKJGxvY2tEYXRhID0gJHRoaXMtPmdldExvY2tEYXRhKCk7CgpyZXR1cm4gaXNzZXQoJGxvY2tEYXRhWydhbGlhc2VzJ10pID8gJGxvY2tEYXRhWydhbGlhc2VzJ10gOiBhcnJheSgpOwp9CgpwdWJsaWMgZnVuY3Rpb24gZ2V0TG9ja0RhdGEoKQp7CmlmIChudWxsICE9PSAkdGhpcy0+bG9ja0RhdGFDYWNoZSkgewpyZXR1cm4gJHRoaXMtPmxvY2tEYXRhQ2FjaGU7Cn0KCmlmICghJHRoaXMtPmxvY2tGaWxlLT5leGlzdHMoKSkgewp0aHJvdyBuZXcgXExvZ2ljRXhjZXB0aW9uKCdObyBsb2NrZmlsZSBmb3VuZC4gVW5hYmxlIHRvIHJlYWQgbG9ja2VkIHBhY2thZ2VzJyk7Cn0KCnJldHVybiAkdGhpcy0+bG9ja0RhdGFDYWNoZSA9ICR0aGlzLT5sb2NrRmlsZS0+cmVhZCgpOwp9CgoKCgoKCgoKCgoKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBzZXRMb2NrRGF0YShhcnJheSAkcGFja2FnZXMsICRkZXZQYWNrYWdlcywgYXJyYXkgJHBsYXRmb3JtUmVxcywgJHBsYXRmb3JtRGV2UmVxcywgYXJyYXkgJGFsaWFzZXMsICRtaW5pbXVtU3RhYmlsaXR5LCBhcnJheSAkc3RhYmlsaXR5RmxhZ3MsICRwcmVmZXJTdGFibGUsICRwcmVmZXJMb3dlc3QsIGFycmF5ICRwbGF0Zm9ybU92ZXJyaWRlcywgJHdyaXRlID0gdHJ1ZSkKewoKCiRhbGlhc2VzID0gYXJyYXlfbWFwKGZ1bmN0aW9uICgkYWxpYXMpIHsKaWYgKGluX2FycmF5KCRhbGlhc1sndmVyc2lvbiddLCBhcnJheSgnZGV2LW1hc3RlcicsICdkZXYtdHJ1bmsnLCAnZGV2LWRlZmF1bHQnKSwgdHJ1ZSkpIHsKJGFsaWFzWyd2ZXJzaW9uJ10gPSBWZXJzaW9uUGFyc2VyOjpERUZBVUxUX0JSQU5DSF9BTElBUzsKfQoKcmV0dXJuICRhbGlhczsKfSwgJGFsaWFzZXMpOwoKJGxvY2sgPSBhcnJheSgKJ19yZWFkbWUnID0+IGFycmF5KCdUaGlzIGZpbGUgbG9ja3MgdGhlIGRlcGVuZGVuY2llcyBvZiB5b3VyIHByb2plY3QgdG8gYSBrbm93biBzdGF0ZScsCidSZWFkIG1vcmUgYWJvdXQgaXQgYXQgaHR0cHM6Ly9nZXRjb21wb3Nlci5vcmcvZG9jLzAxLWJhc2ljLXVzYWdlLm1kI2luc3RhbGxpbmctZGVwZW5kZW5jaWVzJywKJ1RoaXMgZmlsZSBpcyBAZ2VuZXInLidhdGVkIGF1dG9tYXRpY2FsbHknLCApLAonY29udGVudC1oYXNoJyA9PiAkdGhpcy0+Y29udGVudEhhc2gsCidwYWNrYWdlcycgPT4gbnVsbCwKJ3BhY2thZ2VzLWRldicgPT4gbnVsbCwKJ2FsaWFzZXMnID0+ICRhbGlhc2VzLAonbWluaW11bS1zdGFiaWxpdHknID0+ICRtaW5pbXVtU3RhYmlsaXR5LAonc3RhYmlsaXR5LWZsYWdzJyA9PiAkc3RhYmlsaXR5RmxhZ3MsCidwcmVmZXItc3RhYmxlJyA9PiAkcHJlZmVyU3RhYmxlLAoncHJlZmVyLWxvd2VzdCcgPT4gJHByZWZlckxvd2VzdCwKKTsKCiRsb2NrWydwYWNrYWdlcyddID0gJHRoaXMtPmxvY2tQYWNrYWdlcygkcGFja2FnZXMpOwppZiAobnVsbCAhPT0gJGRldlBhY2thZ2VzKSB7CiRsb2NrWydwYWNrYWdlcy1kZXYnXSA9ICR0aGlzLT5sb2NrUGFja2FnZXMoJGRldlBhY2thZ2VzKTsKfQoKJGxvY2tbJ3BsYXRmb3JtJ10gPSAkcGxhdGZvcm1SZXFzOwokbG9ja1sncGxhdGZvcm0tZGV2J10gPSAkcGxhdGZvcm1EZXZSZXFzOwppZiAoJHBsYXRmb3JtT3ZlcnJpZGVzKSB7CiRsb2NrWydwbGF0Zm9ybS1vdmVycmlkZXMnXSA9ICRwbGF0Zm9ybU92ZXJyaWRlczsKfQokbG9ja1sncGx1Z2luLWFwaS12ZXJzaW9uJ10gPSBQbHVnaW5JbnRlcmZhY2U6OlBMVUdJTl9BUElfVkVSU0lPTjsKCnRyeSB7CiRpc0xvY2tlZCA9ICR0aGlzLT5pc0xvY2tlZCgpOwp9IGNhdGNoIChQYXJzaW5nRXhjZXB0aW9uICRlKSB7CiRpc0xvY2tlZCA9IGZhbHNlOwp9CmlmICghJGlzTG9ja2VkIHx8ICRsb2NrICE9PSAkdGhpcy0+Z2V0TG9ja0RhdGEoKSkgewppZiAoJHdyaXRlKSB7CiR0aGlzLT5sb2NrRmlsZS0+d3JpdGUoJGxvY2spOwokdGhpcy0+bG9ja0RhdGFDYWNoZSA9IG51bGw7CiR0aGlzLT52aXJ0dWFsRmlsZVdyaXR0ZW4gPSBmYWxzZTsKfSBlbHNlIHsKJHRoaXMtPnZpcnR1YWxGaWxlV3JpdHRlbiA9IHRydWU7CiR0aGlzLT5sb2NrRGF0YUNhY2hlID0gSnNvbkZpbGU6OnBhcnNlSnNvbihKc29uRmlsZTo6ZW5jb2RlKCRsb2NrLCA0NDggJiBKc29uRmlsZTo6SlNPTl9QUkVUVFlfUFJJTlQpKTsKfQoKcmV0dXJuIHRydWU7Cn0KCnJldHVybiBmYWxzZTsKfQoKcHJpdmF0ZSBmdW5jdGlvbiBsb2NrUGFja2FnZXMoYXJyYXkgJHBhY2thZ2VzKQp7CiRsb2NrZWQgPSBhcnJheSgpOwoKZm9yZWFjaCAoJHBhY2thZ2VzIGFzICRwYWNrYWdlKSB7CmlmICgkcGFja2FnZSBpbnN0YW5jZW9mIEFsaWFzUGFja2FnZSkgewpjb250aW51ZTsKfQoKJG5hbWUgPSAkcGFja2FnZS0+Z2V0UHJldHR5TmFtZSgpOwokdmVyc2lvbiA9ICRwYWNrYWdlLT5nZXRQcmV0dHlWZXJzaW9uKCk7CgppZiAoISRuYW1lIHx8ICEkdmVyc2lvbikgewp0aHJvdyBuZXcgXExvZ2ljRXhjZXB0aW9uKHNwcmludGYoCidQYWNrYWdlICIlcyIgaGFzIG5vIHZlcnNpb24gb3IgbmFtZSBhbmQgY2FuIG5vdCBiZSBsb2NrZWQnLAokcGFja2FnZQopKTsKfQoKJHNwZWMgPSAkdGhpcy0+ZHVtcGVyLT5kdW1wKCRwYWNrYWdlKTsKdW5zZXQoJHNwZWNbJ3ZlcnNpb25fbm9ybWFsaXplZCddKTsKCgokdGltZSA9IGlzc2V0KCRzcGVjWyd0aW1lJ10pID8gJHNwZWNbJ3RpbWUnXSA6IG51bGw7CnVuc2V0KCRzcGVjWyd0aW1lJ10pOwppZiAoJHBhY2thZ2UtPmlzRGV2KCkgJiYgJHBhY2thZ2UtPmdldEluc3RhbGxhdGlvblNvdXJjZSgpID09PSAnc291cmNlJykgewoKJHRpbWUgPSAkdGhpcy0+Z2V0UGFja2FnZVRpbWUoJHBhY2thZ2UpID86ICR0aW1lOwp9CmlmIChudWxsICE9PSAkdGltZSkgewokc3BlY1sndGltZSddID0gJHRpbWU7Cn0KCnVuc2V0KCRzcGVjWydpbnN0YWxsYXRpb24tc291cmNlJ10pOwoKJGxvY2tlZFtdID0gJHNwZWM7Cn0KCnVzb3J0KCRsb2NrZWQsIGZ1bmN0aW9uICgkYSwgJGIpIHsKJGNvbXBhcmlzb24gPSBzdHJjbXAoJGFbJ25hbWUnXSwgJGJbJ25hbWUnXSk7CgppZiAoMCAhPT0gJGNvbXBhcmlzb24pIHsKcmV0dXJuICRjb21wYXJpc29uOwp9CgoKcmV0dXJuIHN0cmNtcCgkYVsndmVyc2lvbiddLCAkYlsndmVyc2lvbiddKTsKfSk7CgpyZXR1cm4gJGxvY2tlZDsKfQoKCgoKCgoKcHJpdmF0ZSBmdW5jdGlvbiBnZXRQYWNrYWdlVGltZShQYWNrYWdlSW50ZXJmYWNlICRwYWNrYWdlKQp7CmlmICghZnVuY3Rpb25fZXhpc3RzKCdwcm9jX29wZW4nKSkgewpyZXR1cm4gbnVsbDsKfQoKJHBhdGggPSByZWFscGF0aCgkdGhpcy0+aW5zdGFsbGF0aW9uTWFuYWdlci0+Z2V0SW5zdGFsbFBhdGgoJHBhY2thZ2UpKTsKJHNvdXJjZVR5cGUgPSAkcGFja2FnZS0+Z2V0U291cmNlVHlwZSgpOwokZGF0ZXRpbWUgPSBudWxsOwoKaWYgKCRwYXRoICYmIGluX2FycmF5KCRzb3VyY2VUeXBlLCBhcnJheSgnZ2l0JywgJ2hnJykpKSB7CiRzb3VyY2VSZWYgPSAkcGFja2FnZS0+Z2V0U291cmNlUmVmZXJlbmNlKCkgPzogJHBhY2thZ2UtPmdldERpc3RSZWZlcmVuY2UoKTsKc3dpdGNoICgkc291cmNlVHlwZSkgewpjYXNlICdnaXQnOgpHaXRVdGlsOjpjbGVhbkVudigpOwoKaWYgKDAgPT09ICR0aGlzLT5wcm9jZXNzLT5leGVjdXRlKCdnaXQgbG9nIC1uMSAtLXByZXR0eT0lY3QgJy5Qcm9jZXNzRXhlY3V0b3I6OmVzY2FwZSgkc291cmNlUmVmKS5HaXRVdGlsOjpnZXROb1Nob3dTaWduYXR1cmVGbGFnKCR0aGlzLT5wcm9jZXNzKSwgJG91dHB1dCwgJHBhdGgpICYmIHByZWdfbWF0Y2goJ3teXHMqXGQrXHMqJH0nLCAkb3V0cHV0KSkgewokZGF0ZXRpbWUgPSBuZXcgXERhdGVUaW1lKCdAJy50cmltKCRvdXRwdXQpLCBuZXcgXERhdGVUaW1lWm9uZSgnVVRDJykpOwp9CmJyZWFrOwoKY2FzZSAnaGcnOgppZiAoMCA9PT0gJHRoaXMtPnByb2Nlc3MtPmV4ZWN1dGUoJ2hnIGxvZyAtLXRlbXBsYXRlICJ7ZGF0ZXxoZ2RhdGV9IiAtciAnLlByb2Nlc3NFeGVjdXRvcjo6ZXNjYXBlKCRzb3VyY2VSZWYpLCAkb3V0cHV0LCAkcGF0aCkgJiYgcHJlZ19tYXRjaCgne15ccyooXGQrKVxzKn0nLCAkb3V0cHV0LCAkbWF0Y2gpKSB7CiRkYXRldGltZSA9IG5ldyBcRGF0ZVRpbWUoJ0AnLiRtYXRjaFsxXSwgbmV3IFxEYXRlVGltZVpvbmUoJ1VUQycpKTsKfQpicmVhazsKfQp9CgpyZXR1cm4gJGRhdGV0aW1lID8gJGRhdGV0aW1lLT5mb3JtYXQoREFURV9SRkMzMzM5KSA6IG51bGw7Cn0KfQo8P3BocAoKCgoKCgoKCgoKCm5hbWVzcGFjZSBDb21wb3NlclxQYWNrYWdlOwoKdXNlIENvbXBvc2VyXFBhY2thZ2VcVmVyc2lvblxWZXJzaW9uUGFyc2VyOwp1c2UgQ29tcG9zZXJcVXRpbFxDb21wb3Nlck1pcnJvcjsKCgoKCgoKY2xhc3MgUGFja2FnZSBleHRlbmRzIEJhc2VQYWNrYWdlCnsKcHJvdGVjdGVkICR0eXBlOwpwcm90ZWN0ZWQgJHRhcmdldERpcjsKcHJvdGVjdGVkICRpbnN0YWxsYXRpb25Tb3VyY2U7CnByb3RlY3RlZCAkc291cmNlVHlwZTsKcHJvdGVjdGVkICRzb3VyY2VVcmw7CnByb3RlY3RlZCAkc291cmNlUmVmZXJlbmNlOwpwcm90ZWN0ZWQgJHNvdXJjZU1pcnJvcnM7CnByb3RlY3RlZCAkZGlzdFR5cGU7CnByb3RlY3RlZCAkZGlzdFVybDsKcHJvdGVjdGVkICRkaXN0UmVmZXJlbmNlOwpwcm90ZWN0ZWQgJGRpc3RTaGExQ2hlY2tzdW07CnByb3RlY3RlZCAkZGlzdE1pcnJvcnM7CnByb3RlY3RlZCAkdmVyc2lvbjsKcHJvdGVjdGVkICRwcmV0dHlWZXJzaW9uOwpwcm90ZWN0ZWQgJHJlbGVhc2VEYXRlOwpwcm90ZWN0ZWQgJGV4dHJhID0gYXJyYXkoKTsKcHJvdGVjdGVkICRiaW5hcmllcyA9IGFycmF5KCk7CnByb3RlY3RlZCAkZGV2Owpwcm90ZWN0ZWQgJHN0YWJpbGl0eTsKcHJvdGVjdGVkICRub3RpZmljYXRpb25Vcmw7CgoKcHJvdGVjdGVkICRyZXF1aXJlcyA9IGFycmF5KCk7Cgpwcm90ZWN0ZWQgJGNvbmZsaWN0cyA9IGFycmF5KCk7Cgpwcm90ZWN0ZWQgJHByb3ZpZGVzID0gYXJyYXkoKTsKCnByb3RlY3RlZCAkcmVwbGFjZXMgPSBhcnJheSgpOwoKcHJvdGVjdGVkICRkZXZSZXF1aXJlcyA9IGFycmF5KCk7CnByb3RlY3RlZCAkc3VnZ2VzdHMgPSBhcnJheSgpOwpwcm90ZWN0ZWQgJGF1dG9sb2FkID0gYXJyYXkoKTsKcHJvdGVjdGVkICRkZXZBdXRvbG9hZCA9IGFycmF5KCk7CnByb3RlY3RlZCAkaW5jbHVkZVBhdGhzID0gYXJyYXkoKTsKcHJvdGVjdGVkICRpc0RlZmF1bHRCcmFuY2ggPSBmYWxzZTsKCnByb3RlY3RlZCAkdHJhbnNwb3J0T3B0aW9ucyA9IGFycmF5KCk7CgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIF9fY29uc3RydWN0KCRuYW1lLCAkdmVyc2lvbiwgJHByZXR0eVZlcnNpb24pCnsKcGFyZW50OjpfX2NvbnN0cnVjdCgkbmFtZSk7CgokdGhpcy0+dmVyc2lvbiA9ICR2ZXJzaW9uOwokdGhpcy0+cHJldHR5VmVyc2lvbiA9ICRwcmV0dHlWZXJzaW9uOwoKJHRoaXMtPnN0YWJpbGl0eSA9IFZlcnNpb25QYXJzZXI6OnBhcnNlU3RhYmlsaXR5KCR2ZXJzaW9uKTsKJHRoaXMtPmRldiA9ICR0aGlzLT5zdGFiaWxpdHkgPT09ICdkZXYnOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gaXNEZXYoKQp7CnJldHVybiAkdGhpcy0+ZGV2Owp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gc2V0VHlwZSgkdHlwZSkKewokdGhpcy0+dHlwZSA9ICR0eXBlOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0VHlwZSgpCnsKcmV0dXJuICR0aGlzLT50eXBlID86ICdsaWJyYXJ5JzsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIGdldFN0YWJpbGl0eSgpCnsKcmV0dXJuICR0aGlzLT5zdGFiaWxpdHk7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBzZXRUYXJnZXREaXIoJHRhcmdldERpcikKewokdGhpcy0+dGFyZ2V0RGlyID0gJHRhcmdldERpcjsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIGdldFRhcmdldERpcigpCnsKaWYgKG51bGwgPT09ICR0aGlzLT50YXJnZXREaXIpIHsKcmV0dXJuIG51bGw7Cn0KCnJldHVybiBsdHJpbShwcmVnX3JlcGxhY2UoJ3sgKD86XnxbXFxcXC9dKykgXC5cLj8gKD86W1xcXFwvXSt8JCkgKD86XC5cLj8gKD86W1xcXFwvXSt8JCkgKSp9eCcsICcvJywgJHRoaXMtPnRhcmdldERpciksICcvJyk7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBzZXRFeHRyYShhcnJheSAkZXh0cmEpCnsKJHRoaXMtPmV4dHJhID0gJGV4dHJhOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0RXh0cmEoKQp7CnJldHVybiAkdGhpcy0+ZXh0cmE7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBzZXRCaW5hcmllcyhhcnJheSAkYmluYXJpZXMpCnsKJHRoaXMtPmJpbmFyaWVzID0gJGJpbmFyaWVzOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0QmluYXJpZXMoKQp7CnJldHVybiAkdGhpcy0+YmluYXJpZXM7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBzZXRJbnN0YWxsYXRpb25Tb3VyY2UoJHR5cGUpCnsKJHRoaXMtPmluc3RhbGxhdGlvblNvdXJjZSA9ICR0eXBlOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0SW5zdGFsbGF0aW9uU291cmNlKCkKewpyZXR1cm4gJHRoaXMtPmluc3RhbGxhdGlvblNvdXJjZTsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIHNldFNvdXJjZVR5cGUoJHR5cGUpCnsKJHRoaXMtPnNvdXJjZVR5cGUgPSAkdHlwZTsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIGdldFNvdXJjZVR5cGUoKQp7CnJldHVybiAkdGhpcy0+c291cmNlVHlwZTsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIHNldFNvdXJjZVVybCgkdXJsKQp7CiR0aGlzLT5zb3VyY2VVcmwgPSAkdXJsOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0U291cmNlVXJsKCkKewpyZXR1cm4gJHRoaXMtPnNvdXJjZVVybDsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIHNldFNvdXJjZVJlZmVyZW5jZSgkcmVmZXJlbmNlKQp7CiR0aGlzLT5zb3VyY2VSZWZlcmVuY2UgPSAkcmVmZXJlbmNlOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0U291cmNlUmVmZXJlbmNlKCkKewpyZXR1cm4gJHRoaXMtPnNvdXJjZVJlZmVyZW5jZTsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIHNldFNvdXJjZU1pcnJvcnMoJG1pcnJvcnMpCnsKJHRoaXMtPnNvdXJjZU1pcnJvcnMgPSAkbWlycm9yczsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIGdldFNvdXJjZU1pcnJvcnMoKQp7CnJldHVybiAkdGhpcy0+c291cmNlTWlycm9yczsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIGdldFNvdXJjZVVybHMoKQp7CnJldHVybiAkdGhpcy0+Z2V0VXJscygkdGhpcy0+c291cmNlVXJsLCAkdGhpcy0+c291cmNlTWlycm9ycywgJHRoaXMtPnNvdXJjZVJlZmVyZW5jZSwgJHRoaXMtPnNvdXJjZVR5cGUsICdzb3VyY2UnKTsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIHNldERpc3RUeXBlKCR0eXBlKQp7CiR0aGlzLT5kaXN0VHlwZSA9ICR0eXBlOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0RGlzdFR5cGUoKQp7CnJldHVybiAkdGhpcy0+ZGlzdFR5cGU7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBzZXREaXN0VXJsKCR1cmwpCnsKJHRoaXMtPmRpc3RVcmwgPSAkdXJsOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0RGlzdFVybCgpCnsKcmV0dXJuICR0aGlzLT5kaXN0VXJsOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gc2V0RGlzdFJlZmVyZW5jZSgkcmVmZXJlbmNlKQp7CiR0aGlzLT5kaXN0UmVmZXJlbmNlID0gJHJlZmVyZW5jZTsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIGdldERpc3RSZWZlcmVuY2UoKQp7CnJldHVybiAkdGhpcy0+ZGlzdFJlZmVyZW5jZTsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIHNldERpc3RTaGExQ2hlY2tzdW0oJHNoYTFjaGVja3N1bSkKewokdGhpcy0+ZGlzdFNoYTFDaGVja3N1bSA9ICRzaGExY2hlY2tzdW07Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBnZXREaXN0U2hhMUNoZWNrc3VtKCkKewpyZXR1cm4gJHRoaXMtPmRpc3RTaGExQ2hlY2tzdW07Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBzZXREaXN0TWlycm9ycygkbWlycm9ycykKewokdGhpcy0+ZGlzdE1pcnJvcnMgPSAkbWlycm9yczsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIGdldERpc3RNaXJyb3JzKCkKewpyZXR1cm4gJHRoaXMtPmRpc3RNaXJyb3JzOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0RGlzdFVybHMoKQp7CnJldHVybiAkdGhpcy0+Z2V0VXJscygkdGhpcy0+ZGlzdFVybCwgJHRoaXMtPmRpc3RNaXJyb3JzLCAkdGhpcy0+ZGlzdFJlZmVyZW5jZSwgJHRoaXMtPmRpc3RUeXBlLCAnZGlzdCcpOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0VHJhbnNwb3J0T3B0aW9ucygpCnsKcmV0dXJuICR0aGlzLT50cmFuc3BvcnRPcHRpb25zOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gc2V0VHJhbnNwb3J0T3B0aW9ucyhhcnJheSAkb3B0aW9ucykKewokdGhpcy0+dHJhbnNwb3J0T3B0aW9ucyA9ICRvcHRpb25zOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0VmVyc2lvbigpCnsKcmV0dXJuICR0aGlzLT52ZXJzaW9uOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0UHJldHR5VmVyc2lvbigpCnsKcmV0dXJuICR0aGlzLT5wcmV0dHlWZXJzaW9uOwp9CgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBzZXRSZWxlYXNlRGF0ZShcRGF0ZVRpbWUgJHJlbGVhc2VEYXRlKQp7CiR0aGlzLT5yZWxlYXNlRGF0ZSA9ICRyZWxlYXNlRGF0ZTsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIGdldFJlbGVhc2VEYXRlKCkKewpyZXR1cm4gJHRoaXMtPnJlbGVhc2VEYXRlOwp9CgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBzZXRSZXF1aXJlcyhhcnJheSAkcmVxdWlyZXMpCnsKJHRoaXMtPnJlcXVpcmVzID0gJHJlcXVpcmVzOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0UmVxdWlyZXMoKQp7CnJldHVybiAkdGhpcy0+cmVxdWlyZXM7Cn0KCgoKCgoKcHVibGljIGZ1bmN0aW9uIHNldENvbmZsaWN0cyhhcnJheSAkY29uZmxpY3RzKQp7CiR0aGlzLT5jb25mbGljdHMgPSAkY29uZmxpY3RzOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0Q29uZmxpY3RzKCkKewpyZXR1cm4gJHRoaXMtPmNvbmZsaWN0czsKfQoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gc2V0UHJvdmlkZXMoYXJyYXkgJHByb3ZpZGVzKQp7CiR0aGlzLT5wcm92aWRlcyA9ICRwcm92aWRlczsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIGdldFByb3ZpZGVzKCkKewpyZXR1cm4gJHRoaXMtPnByb3ZpZGVzOwp9CgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBzZXRSZXBsYWNlcyhhcnJheSAkcmVwbGFjZXMpCnsKJHRoaXMtPnJlcGxhY2VzID0gJHJlcGxhY2VzOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0UmVwbGFjZXMoKQp7CnJldHVybiAkdGhpcy0+cmVwbGFjZXM7Cn0KCgoKCgoKcHVibGljIGZ1bmN0aW9uIHNldERldlJlcXVpcmVzKGFycmF5ICRkZXZSZXF1aXJlcykKewokdGhpcy0+ZGV2UmVxdWlyZXMgPSAkZGV2UmVxdWlyZXM7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBnZXREZXZSZXF1aXJlcygpCnsKcmV0dXJuICR0aGlzLT5kZXZSZXF1aXJlczsKfQoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gc2V0U3VnZ2VzdHMoYXJyYXkgJHN1Z2dlc3RzKQp7CiR0aGlzLT5zdWdnZXN0cyA9ICRzdWdnZXN0czsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIGdldFN1Z2dlc3RzKCkKewpyZXR1cm4gJHRoaXMtPnN1Z2dlc3RzOwp9CgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBzZXRBdXRvbG9hZChhcnJheSAkYXV0b2xvYWQpCnsKJHRoaXMtPmF1dG9sb2FkID0gJGF1dG9sb2FkOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0QXV0b2xvYWQoKQp7CnJldHVybiAkdGhpcy0+YXV0b2xvYWQ7Cn0KCgoKCgoKcHVibGljIGZ1bmN0aW9uIHNldERldkF1dG9sb2FkKGFycmF5ICRkZXZBdXRvbG9hZCkKewokdGhpcy0+ZGV2QXV0b2xvYWQgPSAkZGV2QXV0b2xvYWQ7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBnZXREZXZBdXRvbG9hZCgpCnsKcmV0dXJuICR0aGlzLT5kZXZBdXRvbG9hZDsKfQoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gc2V0SW5jbHVkZVBhdGhzKGFycmF5ICRpbmNsdWRlUGF0aHMpCnsKJHRoaXMtPmluY2x1ZGVQYXRocyA9ICRpbmNsdWRlUGF0aHM7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBnZXRJbmNsdWRlUGF0aHMoKQp7CnJldHVybiAkdGhpcy0+aW5jbHVkZVBhdGhzOwp9CgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBzZXROb3RpZmljYXRpb25VcmwoJG5vdGlmaWNhdGlvblVybCkKewokdGhpcy0+bm90aWZpY2F0aW9uVXJsID0gJG5vdGlmaWNhdGlvblVybDsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIGdldE5vdGlmaWNhdGlvblVybCgpCnsKcmV0dXJuICR0aGlzLT5ub3RpZmljYXRpb25Vcmw7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBzZXRJc0RlZmF1bHRCcmFuY2goJGRlZmF1bHRCcmFuY2gpCnsKJHRoaXMtPmlzRGVmYXVsdEJyYW5jaCA9ICRkZWZhdWx0QnJhbmNoOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gaXNEZWZhdWx0QnJhbmNoKCkKewpyZXR1cm4gJHRoaXMtPmlzRGVmYXVsdEJyYW5jaDsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIHNldFNvdXJjZURpc3RSZWZlcmVuY2VzKCRyZWZlcmVuY2UpCnsKJHRoaXMtPnNldFNvdXJjZVJlZmVyZW5jZSgkcmVmZXJlbmNlKTsKCgoKaWYgKHByZWdfbWF0Y2goJ3teaHR0cHM/Oi8vKD86KD86d3d3XC4pP2JpdGJ1Y2tldFwub3JnfChhcGlcLik/Z2l0aHViXC5jb218KD86d3d3XC4pP2dpdGxhYlwuY29tKS99aScsICR0aGlzLT5nZXREaXN0VXJsKCkpKSB7CiR0aGlzLT5zZXREaXN0UmVmZXJlbmNlKCRyZWZlcmVuY2UpOwokdGhpcy0+c2V0RGlzdFVybChwcmVnX3JlcGxhY2UoJ3soPzw9L3xzaGE9KVthLWYwLTldezQwfSg/PS98JCl9aScsICRyZWZlcmVuY2UsICR0aGlzLT5nZXREaXN0VXJsKCkpKTsKfSBlbHNlaWYgKCR0aGlzLT5nZXREaXN0UmVmZXJlbmNlKCkpIHsgCiR0aGlzLT5zZXREaXN0UmVmZXJlbmNlKCRyZWZlcmVuY2UpOwp9Cn0KCgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gcmVwbGFjZVZlcnNpb24oJHZlcnNpb24sICRwcmV0dHlWZXJzaW9uKQp7CiR0aGlzLT52ZXJzaW9uID0gJHZlcnNpb247CiR0aGlzLT5wcmV0dHlWZXJzaW9uID0gJHByZXR0eVZlcnNpb247CgokdGhpcy0+c3RhYmlsaXR5ID0gVmVyc2lvblBhcnNlcjo6cGFyc2VTdGFiaWxpdHkoJHZlcnNpb24pOwokdGhpcy0+ZGV2ID0gJHRoaXMtPnN0YWJpbGl0eSA9PT0gJ2Rldic7Cn0KCnByb3RlY3RlZCBmdW5jdGlvbiBnZXRVcmxzKCR1cmwsICRtaXJyb3JzLCAkcmVmLCAkdHlwZSwgJHVybFR5cGUpCnsKaWYgKCEkdXJsKSB7CnJldHVybiBhcnJheSgpOwp9CgppZiAoJHVybFR5cGUgPT09ICdkaXN0JyAmJiBmYWxzZSAhPT0gc3RycG9zKCR1cmwsICclJykpIHsKJHVybCA9IENvbXBvc2VyTWlycm9yOjpwcm9jZXNzVXJsKCR1cmwsICR0aGlzLT5uYW1lLCAkdGhpcy0+dmVyc2lvbiwgJHJlZiwgJHR5cGUsICR0aGlzLT5wcmV0dHlWZXJzaW9uKTsKfQoKJHVybHMgPSBhcnJheSgkdXJsKTsKaWYgKCRtaXJyb3JzKSB7CmZvcmVhY2ggKCRtaXJyb3JzIGFzICRtaXJyb3IpIHsKaWYgKCR1cmxUeXBlID09PSAnZGlzdCcpIHsKJG1pcnJvclVybCA9IENvbXBvc2VyTWlycm9yOjpwcm9jZXNzVXJsKCRtaXJyb3JbJ3VybCddLCAkdGhpcy0+bmFtZSwgJHRoaXMtPnZlcnNpb24sICRyZWYsICR0eXBlLCAkdGhpcy0+cHJldHR5VmVyc2lvbik7Cn0gZWxzZWlmICgkdXJsVHlwZSA9PT0gJ3NvdXJjZScgJiYgJHR5cGUgPT09ICdnaXQnKSB7CiRtaXJyb3JVcmwgPSBDb21wb3Nlck1pcnJvcjo6cHJvY2Vzc0dpdFVybCgkbWlycm9yWyd1cmwnXSwgJHRoaXMtPm5hbWUsICR1cmwsICR0eXBlKTsKfSBlbHNlaWYgKCR1cmxUeXBlID09PSAnc291cmNlJyAmJiAkdHlwZSA9PT0gJ2hnJykgewokbWlycm9yVXJsID0gQ29tcG9zZXJNaXJyb3I6OnByb2Nlc3NIZ1VybCgkbWlycm9yWyd1cmwnXSwgJHRoaXMtPm5hbWUsICR1cmwsICR0eXBlKTsKfSBlbHNlIHsKY29udGludWU7Cn0KaWYgKCFcaW5fYXJyYXkoJG1pcnJvclVybCwgJHVybHMpKSB7CiRmdW5jID0gJG1pcnJvclsncHJlZmVycmVkJ10gPyAnYXJyYXlfdW5zaGlmdCcgOiAnYXJyYXlfcHVzaCc7CiRmdW5jKCR1cmxzLCAkbWlycm9yVXJsKTsKfQp9Cn0KCnJldHVybiAkdXJsczsKfQp9Cjw/cGhwCgoKCgoKCgoKCgoKbmFtZXNwYWNlIENvbXBvc2VyXFBhY2thZ2U7Cgp1c2UgQ29tcG9zZXJcUmVwb3NpdG9yeVxSZXBvc2l0b3J5SW50ZXJmYWNlOwoKCgoKCgppbnRlcmZhY2UgUGFja2FnZUludGVyZmFjZQp7CmNvbnN0IERJU1BMQVlfU09VUkNFX1JFRl9JRl9ERVYgPSAwOwpjb25zdCBESVNQTEFZX1NPVVJDRV9SRUYgPSAxOwpjb25zdCBESVNQTEFZX0RJU1RfUkVGID0gMjsKCgoKCgoKcHVibGljIGZ1bmN0aW9uIGdldE5hbWUoKTsKCgoKCgoKcHVibGljIGZ1bmN0aW9uIGdldFByZXR0eU5hbWUoKTsKCgoKCgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0TmFtZXMoJHByb3ZpZGVzID0gdHJ1ZSk7CgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBzZXRJZCgkaWQpOwoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0SWQoKTsKCgoKCgoKcHVibGljIGZ1bmN0aW9uIGlzRGV2KCk7CgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBnZXRUeXBlKCk7CgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBnZXRUYXJnZXREaXIoKTsKCgoKCgoKcHVibGljIGZ1bmN0aW9uIGdldEV4dHJhKCk7CgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBzZXRJbnN0YWxsYXRpb25Tb3VyY2UoJHR5cGUpOwoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0SW5zdGFsbGF0aW9uU291cmNlKCk7CgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBnZXRTb3VyY2VUeXBlKCk7CgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBnZXRTb3VyY2VVcmwoKTsKCgoKCgoKcHVibGljIGZ1bmN0aW9uIGdldFNvdXJjZVVybHMoKTsKCgoKCgoKcHVibGljIGZ1bmN0aW9uIGdldFNvdXJjZVJlZmVyZW5jZSgpOwoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0U291cmNlTWlycm9ycygpOwoKCgoKCnB1YmxpYyBmdW5jdGlvbiBzZXRTb3VyY2VNaXJyb3JzKCRtaXJyb3JzKTsKCgoKCgoKcHVibGljIGZ1bmN0aW9uIGdldERpc3RUeXBlKCk7CgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBnZXREaXN0VXJsKCk7CgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBnZXREaXN0VXJscygpOwoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0RGlzdFJlZmVyZW5jZSgpOwoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0RGlzdFNoYTFDaGVja3N1bSgpOwoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0RGlzdE1pcnJvcnMoKTsKCgoKCgpwdWJsaWMgZnVuY3Rpb24gc2V0RGlzdE1pcnJvcnMoJG1pcnJvcnMpOwoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0VmVyc2lvbigpOwoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0UHJldHR5VmVyc2lvbigpOwoKCgoKCgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0RnVsbFByZXR0eVZlcnNpb24oJHRydW5jYXRlID0gdHJ1ZSwgJGRpc3BsYXlNb2RlID0gc2VsZjo6RElTUExBWV9TT1VSQ0VfUkVGX0lGX0RFVik7CgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBnZXRSZWxlYXNlRGF0ZSgpOwoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0U3RhYmlsaXR5KCk7CgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0UmVxdWlyZXMoKTsKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBnZXRDb25mbGljdHMoKTsKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBnZXRQcm92aWRlcygpOwoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIGdldFJlcGxhY2VzKCk7CgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0RGV2UmVxdWlyZXMoKTsKCgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0U3VnZ2VzdHMoKTsKCgoKCgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIGdldEF1dG9sb2FkKCk7CgoKCgoKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBnZXREZXZBdXRvbG9hZCgpOwoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIGdldEluY2x1ZGVQYXRocygpOwoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gc2V0UmVwb3NpdG9yeShSZXBvc2l0b3J5SW50ZXJmYWNlICRyZXBvc2l0b3J5KTsKCgoKCgoKcHVibGljIGZ1bmN0aW9uIGdldFJlcG9zaXRvcnkoKTsKCgoKCgoKcHVibGljIGZ1bmN0aW9uIGdldEJpbmFyaWVzKCk7CgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBnZXRVbmlxdWVOYW1lKCk7CgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBnZXROb3RpZmljYXRpb25VcmwoKTsKCgoKCgoKcHVibGljIGZ1bmN0aW9uIF9fdG9TdHJpbmcoKTsKCgoKCgoKcHVibGljIGZ1bmN0aW9uIGdldFByZXR0eVN0cmluZygpOwoKCgoKcHVibGljIGZ1bmN0aW9uIGlzRGVmYXVsdEJyYW5jaCgpOwoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0VHJhbnNwb3J0T3B0aW9ucygpOwoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gc2V0VHJhbnNwb3J0T3B0aW9ucyhhcnJheSAkb3B0aW9ucyk7CgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBzZXRTb3VyY2VSZWZlcmVuY2UoJHJlZmVyZW5jZSk7CgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBzZXREaXN0VXJsKCR1cmwpOwoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gc2V0RGlzdFR5cGUoJHR5cGUpOwoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gc2V0RGlzdFJlZmVyZW5jZSgkcmVmZXJlbmNlKTsKCgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gc2V0U291cmNlRGlzdFJlZmVyZW5jZXMoJHJlZmVyZW5jZSk7Cn0KPD9waHAKCgoKCgoKCgoKCgpuYW1lc3BhY2UgQ29tcG9zZXJcUGFja2FnZTsKCgoKCmNsYXNzIFJvb3RBbGlhc1BhY2thZ2UgZXh0ZW5kcyBDb21wbGV0ZUFsaWFzUGFja2FnZSBpbXBsZW1lbnRzIFJvb3RQYWNrYWdlSW50ZXJmYWNlCnsKCnByb3RlY3RlZCAkYWxpYXNPZjsKCgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gX19jb25zdHJ1Y3QoUm9vdFBhY2thZ2VJbnRlcmZhY2UgJGFsaWFzT2YsICR2ZXJzaW9uLCAkcHJldHR5VmVyc2lvbikKewpwYXJlbnQ6Ol9fY29uc3RydWN0KCRhbGlhc09mLCAkdmVyc2lvbiwgJHByZXR0eVZlcnNpb24pOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0QWxpYXNPZigpCnsKcmV0dXJuICR0aGlzLT5hbGlhc09mOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0QWxpYXNlcygpCnsKcmV0dXJuICR0aGlzLT5hbGlhc09mLT5nZXRBbGlhc2VzKCk7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBnZXRNaW5pbXVtU3RhYmlsaXR5KCkKewpyZXR1cm4gJHRoaXMtPmFsaWFzT2YtPmdldE1pbmltdW1TdGFiaWxpdHkoKTsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIGdldFN0YWJpbGl0eUZsYWdzKCkKewpyZXR1cm4gJHRoaXMtPmFsaWFzT2YtPmdldFN0YWJpbGl0eUZsYWdzKCk7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBnZXRSZWZlcmVuY2VzKCkKewpyZXR1cm4gJHRoaXMtPmFsaWFzT2YtPmdldFJlZmVyZW5jZXMoKTsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIGdldFByZWZlclN0YWJsZSgpCnsKcmV0dXJuICR0aGlzLT5hbGlhc09mLT5nZXRQcmVmZXJTdGFibGUoKTsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIGdldENvbmZpZygpCnsKcmV0dXJuICR0aGlzLT5hbGlhc09mLT5nZXRDb25maWcoKTsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIHNldFJlcXVpcmVzKGFycmF5ICRyZXF1aXJlKQp7CiR0aGlzLT5yZXF1aXJlcyA9ICR0aGlzLT5yZXBsYWNlU2VsZlZlcnNpb25EZXBlbmRlbmNpZXMoJHJlcXVpcmUsIExpbms6OlRZUEVfUkVRVUlSRSk7CgokdGhpcy0+YWxpYXNPZi0+c2V0UmVxdWlyZXMoJHJlcXVpcmUpOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gc2V0RGV2UmVxdWlyZXMoYXJyYXkgJGRldlJlcXVpcmUpCnsKJHRoaXMtPmRldlJlcXVpcmVzID0gJHRoaXMtPnJlcGxhY2VTZWxmVmVyc2lvbkRlcGVuZGVuY2llcygkZGV2UmVxdWlyZSwgTGluazo6VFlQRV9ERVZfUkVRVUlSRSk7CgokdGhpcy0+YWxpYXNPZi0+c2V0RGV2UmVxdWlyZXMoJGRldlJlcXVpcmUpOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gc2V0Q29uZmxpY3RzKGFycmF5ICRjb25mbGljdHMpCnsKJHRoaXMtPmNvbmZsaWN0cyA9ICR0aGlzLT5yZXBsYWNlU2VsZlZlcnNpb25EZXBlbmRlbmNpZXMoJGNvbmZsaWN0cywgTGluazo6VFlQRV9DT05GTElDVCk7CiR0aGlzLT5hbGlhc09mLT5zZXRDb25mbGljdHMoJGNvbmZsaWN0cyk7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBzZXRQcm92aWRlcyhhcnJheSAkcHJvdmlkZXMpCnsKJHRoaXMtPnByb3ZpZGVzID0gJHRoaXMtPnJlcGxhY2VTZWxmVmVyc2lvbkRlcGVuZGVuY2llcygkcHJvdmlkZXMsIExpbms6OlRZUEVfUFJPVklERSk7CiR0aGlzLT5hbGlhc09mLT5zZXRQcm92aWRlcygkcHJvdmlkZXMpOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gc2V0UmVwbGFjZXMoYXJyYXkgJHJlcGxhY2VzKQp7CiR0aGlzLT5yZXBsYWNlcyA9ICR0aGlzLT5yZXBsYWNlU2VsZlZlcnNpb25EZXBlbmRlbmNpZXMoJHJlcGxhY2VzLCBMaW5rOjpUWVBFX1JFUExBQ0UpOwokdGhpcy0+YWxpYXNPZi0+c2V0UmVwbGFjZXMoJHJlcGxhY2VzKTsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIHNldEF1dG9sb2FkKGFycmF5ICRhdXRvbG9hZCkKewokdGhpcy0+YWxpYXNPZi0+c2V0QXV0b2xvYWQoJGF1dG9sb2FkKTsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIHNldERldkF1dG9sb2FkKGFycmF5ICRkZXZBdXRvbG9hZCkKewokdGhpcy0+YWxpYXNPZi0+c2V0RGV2QXV0b2xvYWQoJGRldkF1dG9sb2FkKTsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIHNldFN0YWJpbGl0eUZsYWdzKGFycmF5ICRzdGFiaWxpdHlGbGFncykKewokdGhpcy0+YWxpYXNPZi0+c2V0U3RhYmlsaXR5RmxhZ3MoJHN0YWJpbGl0eUZsYWdzKTsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIHNldE1pbmltdW1TdGFiaWxpdHkoJG1pbmltdW1TdGFiaWxpdHkpCnsKJHRoaXMtPmFsaWFzT2YtPnNldE1pbmltdW1TdGFiaWxpdHkoJG1pbmltdW1TdGFiaWxpdHkpOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gc2V0UHJlZmVyU3RhYmxlKCRwcmVmZXJTdGFibGUpCnsKJHRoaXMtPmFsaWFzT2YtPnNldFByZWZlclN0YWJsZSgkcHJlZmVyU3RhYmxlKTsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIHNldENvbmZpZyhhcnJheSAkY29uZmlnKQp7CiR0aGlzLT5hbGlhc09mLT5zZXRDb25maWcoJGNvbmZpZyk7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBzZXRSZWZlcmVuY2VzKGFycmF5ICRyZWZlcmVuY2VzKQp7CiR0aGlzLT5hbGlhc09mLT5zZXRSZWZlcmVuY2VzKCRyZWZlcmVuY2VzKTsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIHNldEFsaWFzZXMoYXJyYXkgJGFsaWFzZXMpCnsKJHRoaXMtPmFsaWFzT2YtPnNldEFsaWFzZXMoJGFsaWFzZXMpOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gc2V0U3VnZ2VzdHMoYXJyYXkgJHN1Z2dlc3RzKQp7CiR0aGlzLT5hbGlhc09mLT5zZXRTdWdnZXN0cygkc3VnZ2VzdHMpOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gc2V0RXh0cmEoYXJyYXkgJGV4dHJhKQp7CiR0aGlzLT5hbGlhc09mLT5zZXRFeHRyYSgkZXh0cmEpOwp9CgpwdWJsaWMgZnVuY3Rpb24gX19jbG9uZSgpCnsKcGFyZW50OjpfX2Nsb25lKCk7CiR0aGlzLT5hbGlhc09mID0gY2xvbmUgJHRoaXMtPmFsaWFzT2Y7Cn0KfQo8P3BocAoKCgoKCgoKCgoKCm5hbWVzcGFjZSBDb21wb3NlclxQYWNrYWdlOwoKCgoKCgpjbGFzcyBSb290UGFja2FnZSBleHRlbmRzIENvbXBsZXRlUGFja2FnZSBpbXBsZW1lbnRzIFJvb3RQYWNrYWdlSW50ZXJmYWNlCnsKY29uc3QgREVGQVVMVF9QUkVUVFlfVkVSU0lPTiA9ICcxLjAuMCtuby12ZXJzaW9uLXNldCc7Cgpwcm90ZWN0ZWQgJG1pbmltdW1TdGFiaWxpdHkgPSAnc3RhYmxlJzsKcHJvdGVjdGVkICRwcmVmZXJTdGFibGUgPSBmYWxzZTsKcHJvdGVjdGVkICRzdGFiaWxpdHlGbGFncyA9IGFycmF5KCk7CnByb3RlY3RlZCAkY29uZmlnID0gYXJyYXkoKTsKcHJvdGVjdGVkICRyZWZlcmVuY2VzID0gYXJyYXkoKTsKcHJvdGVjdGVkICRhbGlhc2VzID0gYXJyYXkoKTsKCgoKCnB1YmxpYyBmdW5jdGlvbiBzZXRNaW5pbXVtU3RhYmlsaXR5KCRtaW5pbXVtU3RhYmlsaXR5KQp7CiR0aGlzLT5taW5pbXVtU3RhYmlsaXR5ID0gJG1pbmltdW1TdGFiaWxpdHk7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBnZXRNaW5pbXVtU3RhYmlsaXR5KCkKewpyZXR1cm4gJHRoaXMtPm1pbmltdW1TdGFiaWxpdHk7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBzZXRTdGFiaWxpdHlGbGFncyhhcnJheSAkc3RhYmlsaXR5RmxhZ3MpCnsKJHRoaXMtPnN0YWJpbGl0eUZsYWdzID0gJHN0YWJpbGl0eUZsYWdzOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0U3RhYmlsaXR5RmxhZ3MoKQp7CnJldHVybiAkdGhpcy0+c3RhYmlsaXR5RmxhZ3M7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBzZXRQcmVmZXJTdGFibGUoJHByZWZlclN0YWJsZSkKewokdGhpcy0+cHJlZmVyU3RhYmxlID0gJHByZWZlclN0YWJsZTsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIGdldFByZWZlclN0YWJsZSgpCnsKcmV0dXJuICR0aGlzLT5wcmVmZXJTdGFibGU7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBzZXRDb25maWcoYXJyYXkgJGNvbmZpZykKewokdGhpcy0+Y29uZmlnID0gJGNvbmZpZzsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIGdldENvbmZpZygpCnsKcmV0dXJuICR0aGlzLT5jb25maWc7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBzZXRSZWZlcmVuY2VzKGFycmF5ICRyZWZlcmVuY2VzKQp7CiR0aGlzLT5yZWZlcmVuY2VzID0gJHJlZmVyZW5jZXM7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBnZXRSZWZlcmVuY2VzKCkKewpyZXR1cm4gJHRoaXMtPnJlZmVyZW5jZXM7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBzZXRBbGlhc2VzKGFycmF5ICRhbGlhc2VzKQp7CiR0aGlzLT5hbGlhc2VzID0gJGFsaWFzZXM7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBnZXRBbGlhc2VzKCkKewpyZXR1cm4gJHRoaXMtPmFsaWFzZXM7Cn0KfQo8P3BocAoKCgoKCgoKCgoKCm5hbWVzcGFjZSBDb21wb3NlclxQYWNrYWdlOwoKCgoKCgppbnRlcmZhY2UgUm9vdFBhY2thZ2VJbnRlcmZhY2UgZXh0ZW5kcyBDb21wbGV0ZVBhY2thZ2VJbnRlcmZhY2UKewoKCgoKCnB1YmxpYyBmdW5jdGlvbiBnZXRBbGlhc2VzKCk7CgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBnZXRNaW5pbXVtU3RhYmlsaXR5KCk7CgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIGdldFN0YWJpbGl0eUZsYWdzKCk7CgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIGdldFJlZmVyZW5jZXMoKTsKCgoKCgoKcHVibGljIGZ1bmN0aW9uIGdldFByZWZlclN0YWJsZSgpOwoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0Q29uZmlnKCk7CgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBzZXRSZXF1aXJlcyhhcnJheSAkcmVxdWlyZXMpOwoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gc2V0RGV2UmVxdWlyZXMoYXJyYXkgJGRldlJlcXVpcmVzKTsKCgoKCgoKcHVibGljIGZ1bmN0aW9uIHNldENvbmZsaWN0cyhhcnJheSAkY29uZmxpY3RzKTsKCgoKCgoKcHVibGljIGZ1bmN0aW9uIHNldFByb3ZpZGVzKGFycmF5ICRwcm92aWRlcyk7CgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBzZXRSZXBsYWNlcyhhcnJheSAkcmVwbGFjZXMpOwoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gc2V0UmVwb3NpdG9yaWVzKGFycmF5ICRyZXBvc2l0b3JpZXMpOwoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gc2V0QXV0b2xvYWQoYXJyYXkgJGF1dG9sb2FkKTsKCgoKCgoKcHVibGljIGZ1bmN0aW9uIHNldERldkF1dG9sb2FkKGFycmF5ICRkZXZBdXRvbG9hZCk7CgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBzZXRTdGFiaWxpdHlGbGFncyhhcnJheSAkc3RhYmlsaXR5RmxhZ3MpOwoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gc2V0TWluaW11bVN0YWJpbGl0eSgkbWluaW11bVN0YWJpbGl0eSk7CgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBzZXRQcmVmZXJTdGFibGUoJHByZWZlclN0YWJsZSk7CgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBzZXRDb25maWcoYXJyYXkgJGNvbmZpZyk7CgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBzZXRSZWZlcmVuY2VzKGFycmF5ICRyZWZlcmVuY2VzKTsKCgoKCgoKcHVibGljIGZ1bmN0aW9uIHNldEFsaWFzZXMoYXJyYXkgJGFsaWFzZXMpOwoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gc2V0U3VnZ2VzdHMoYXJyYXkgJHN1Z2dlc3RzKTsKCgoKCnB1YmxpYyBmdW5jdGlvbiBzZXRFeHRyYShhcnJheSAkZXh0cmEpOwp9Cjw/cGhwCgoKCgoKCgoKCgoKbmFtZXNwYWNlIENvbXBvc2VyXFBhY2thZ2VcVmVyc2lvbjsKCnVzZSBDb21wb3NlclxQYWNrYWdlXEJhc2VQYWNrYWdlOwoKCgoKY2xhc3MgU3RhYmlsaXR5RmlsdGVyCnsKCgoKCgoKCgoKCgpwdWJsaWMgc3RhdGljIGZ1bmN0aW9uIGlzUGFja2FnZUFjY2VwdGFibGUoYXJyYXkgJGFjY2VwdGFibGVTdGFiaWxpdGllcywgYXJyYXkgJHN0YWJpbGl0eUZsYWdzLCAkbmFtZXMsICRzdGFiaWxpdHkpCnsKZm9yZWFjaCAoJG5hbWVzIGFzICRuYW1lKSB7CgppZiAoaXNzZXQoJHN0YWJpbGl0eUZsYWdzWyRuYW1lXSkpIHsKaWYgKEJhc2VQYWNrYWdlOjokc3RhYmlsaXRpZXNbJHN0YWJpbGl0eV0gPD0gJHN0YWJpbGl0eUZsYWdzWyRuYW1lXSkgewpyZXR1cm4gdHJ1ZTsKfQp9IGVsc2VpZiAoaXNzZXQoJGFjY2VwdGFibGVTdGFiaWxpdGllc1skc3RhYmlsaXR5XSkpIHsKCnJldHVybiB0cnVlOwp9Cn0KCnJldHVybiBmYWxzZTsKfQp9Cjw/cGhwCgoKCgoKCgoKCgoKbmFtZXNwYWNlIENvbXBvc2VyXFBhY2thZ2VcVmVyc2lvbjsKCnVzZSBDb21wb3NlclxDb25maWc7CnVzZSBDb21wb3NlclxSZXBvc2l0b3J5XFZjc1xIZ0RyaXZlcjsKdXNlIENvbXBvc2VyXElPXE51bGxJTzsKdXNlIENvbXBvc2VyXFNlbXZlclxWZXJzaW9uUGFyc2VyIGFzIFNlbXZlclZlcnNpb25QYXJzZXI7CnVzZSBDb21wb3NlclxVdGlsXEdpdCBhcyBHaXRVdGlsOwp1c2UgQ29tcG9zZXJcVXRpbFxIdHRwRG93bmxvYWRlcjsKdXNlIENvbXBvc2VyXFV0aWxcUHJvY2Vzc0V4ZWN1dG9yOwp1c2UgQ29tcG9zZXJcVXRpbFxTdm4gYXMgU3ZuVXRpbDsKCgoKCgoKCmNsYXNzIFZlcnNpb25HdWVzc2VyCnsKCgoKcHJpdmF0ZSAkY29uZmlnOwoKCgoKcHJpdmF0ZSAkcHJvY2VzczsKCgoKCnByaXZhdGUgJHZlcnNpb25QYXJzZXI7CgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBfX2NvbnN0cnVjdChDb25maWcgJGNvbmZpZywgUHJvY2Vzc0V4ZWN1dG9yICRwcm9jZXNzLCBTZW12ZXJWZXJzaW9uUGFyc2VyICR2ZXJzaW9uUGFyc2VyKQp7CiR0aGlzLT5jb25maWcgPSAkY29uZmlnOwokdGhpcy0+cHJvY2VzcyA9ICRwcm9jZXNzOwokdGhpcy0+dmVyc2lvblBhcnNlciA9ICR2ZXJzaW9uUGFyc2VyOwp9CgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gZ3Vlc3NWZXJzaW9uKGFycmF5ICRwYWNrYWdlQ29uZmlnLCAkcGF0aCkKewppZiAoIWZ1bmN0aW9uX2V4aXN0cygncHJvY19vcGVuJykpIHsKcmV0dXJuIG51bGw7Cn0KCiR2ZXJzaW9uRGF0YSA9ICR0aGlzLT5ndWVzc0dpdFZlcnNpb24oJHBhY2thZ2VDb25maWcsICRwYXRoKTsKaWYgKG51bGwgIT09ICR2ZXJzaW9uRGF0YSAmJiBudWxsICE9PSAkdmVyc2lvbkRhdGFbJ3ZlcnNpb24nXSkgewpyZXR1cm4gJHRoaXMtPnBvc3Rwcm9jZXNzKCR2ZXJzaW9uRGF0YSk7Cn0KCiR2ZXJzaW9uRGF0YSA9ICR0aGlzLT5ndWVzc0hnVmVyc2lvbigkcGFja2FnZUNvbmZpZywgJHBhdGgpOwppZiAobnVsbCAhPT0gJHZlcnNpb25EYXRhICYmIG51bGwgIT09ICR2ZXJzaW9uRGF0YVsndmVyc2lvbiddKSB7CnJldHVybiAkdGhpcy0+cG9zdHByb2Nlc3MoJHZlcnNpb25EYXRhKTsKfQoKJHZlcnNpb25EYXRhID0gJHRoaXMtPmd1ZXNzRm9zc2lsVmVyc2lvbigkcGF0aCk7CmlmIChudWxsICE9PSAkdmVyc2lvbkRhdGEgJiYgbnVsbCAhPT0gJHZlcnNpb25EYXRhWyd2ZXJzaW9uJ10pIHsKcmV0dXJuICR0aGlzLT5wb3N0cHJvY2VzcygkdmVyc2lvbkRhdGEpOwp9CgokdmVyc2lvbkRhdGEgPSAkdGhpcy0+Z3Vlc3NTdm5WZXJzaW9uKCRwYWNrYWdlQ29uZmlnLCAkcGF0aCk7CmlmIChudWxsICE9PSAkdmVyc2lvbkRhdGEgJiYgbnVsbCAhPT0gJHZlcnNpb25EYXRhWyd2ZXJzaW9uJ10pIHsKcmV0dXJuICR0aGlzLT5wb3N0cHJvY2VzcygkdmVyc2lvbkRhdGEpOwp9CgpyZXR1cm4gbnVsbDsKfQoKcHJpdmF0ZSBmdW5jdGlvbiBwb3N0cHJvY2VzcyhhcnJheSAkdmVyc2lvbkRhdGEpCnsKaWYgKCFlbXB0eSgkdmVyc2lvbkRhdGFbJ2ZlYXR1cmVfdmVyc2lvbiddKSAmJiAkdmVyc2lvbkRhdGFbJ2ZlYXR1cmVfdmVyc2lvbiddID09PSAkdmVyc2lvbkRhdGFbJ3ZlcnNpb24nXSAmJiAkdmVyc2lvbkRhdGFbJ2ZlYXR1cmVfcHJldHR5X3ZlcnNpb24nXSA9PT0gJHZlcnNpb25EYXRhWydwcmV0dHlfdmVyc2lvbiddKSB7CnVuc2V0KCR2ZXJzaW9uRGF0YVsnZmVhdHVyZV92ZXJzaW9uJ10sICR2ZXJzaW9uRGF0YVsnZmVhdHVyZV9wcmV0dHlfdmVyc2lvbiddKTsKfQoKaWYgKCctZGV2JyA9PT0gc3Vic3RyKCR2ZXJzaW9uRGF0YVsndmVyc2lvbiddLCAtNCkgJiYgcHJlZ19tYXRjaCgne1wuOXs3fX0nLCAkdmVyc2lvbkRhdGFbJ3ZlcnNpb24nXSkpIHsKJHZlcnNpb25EYXRhWydwcmV0dHlfdmVyc2lvbiddID0gcHJlZ19yZXBsYWNlKCd7KFwuOXs3fSkrfScsICcueCcsICR2ZXJzaW9uRGF0YVsndmVyc2lvbiddKTsKfQoKaWYgKCFlbXB0eSgkdmVyc2lvbkRhdGFbJ2ZlYXR1cmVfdmVyc2lvbiddKSAmJiAnLWRldicgPT09IHN1YnN0cigkdmVyc2lvbkRhdGFbJ2ZlYXR1cmVfdmVyc2lvbiddLCAtNCkgJiYgcHJlZ19tYXRjaCgne1wuOXs3fX0nLCAkdmVyc2lvbkRhdGFbJ2ZlYXR1cmVfdmVyc2lvbiddKSkgewokdmVyc2lvbkRhdGFbJ2ZlYXR1cmVfcHJldHR5X3ZlcnNpb24nXSA9IHByZWdfcmVwbGFjZSgneyhcLjl7N30pK30nLCAnLngnLCAkdmVyc2lvbkRhdGFbJ2ZlYXR1cmVfdmVyc2lvbiddKTsKfQoKcmV0dXJuICR2ZXJzaW9uRGF0YTsKfQoKcHJpdmF0ZSBmdW5jdGlvbiBndWVzc0dpdFZlcnNpb24oYXJyYXkgJHBhY2thZ2VDb25maWcsICRwYXRoKQp7CkdpdFV0aWw6OmNsZWFuRW52KCk7CiRjb21taXQgPSBudWxsOwokdmVyc2lvbiA9IG51bGw7CiRwcmV0dHlWZXJzaW9uID0gbnVsbDsKJGZlYXR1cmVWZXJzaW9uID0gbnVsbDsKJGZlYXR1cmVQcmV0dHlWZXJzaW9uID0gbnVsbDsKJGlzRGV0YWNoZWQgPSBmYWxzZTsKCgppZiAoMCA9PT0gJHRoaXMtPnByb2Nlc3MtPmV4ZWN1dGUoJ2dpdCBicmFuY2ggLWEgLS1uby1jb2xvciAtLW5vLWFiYnJldiAtdicsICRvdXRwdXQsICRwYXRoKSkgewokYnJhbmNoZXMgPSBhcnJheSgpOwokaXNGZWF0dXJlQnJhbmNoID0gZmFsc2U7CgoKZm9yZWFjaCAoJHRoaXMtPnByb2Nlc3MtPnNwbGl0TGluZXMoJG91dHB1dCkgYXMgJGJyYW5jaCkgewppZiAoJGJyYW5jaCAmJiBwcmVnX21hdGNoKCd7Xig/OlwqICkgKihcKG5vIGJyYW5jaFwpfFwoZGV0YWNoZWQgZnJvbSBcUytcKXxcKEhFQUQgZGV0YWNoZWQgYXQgXFMrXCl8XFMrKSAqKFthLWYwLTldKykgLiokfScsICRicmFuY2gsICRtYXRjaCkpIHsKaWYgKAokbWF0Y2hbMV0gPT09ICcobm8gYnJhbmNoKScKfHwgc3RycG9zKCRtYXRjaFsxXSwgJyhkZXRhY2hlZCAnKSA9PT0gMAp8fCBzdHJwb3MoJG1hdGNoWzFdLCAnKEhFQUQgZGV0YWNoZWQgYXQnKSA9PT0gMAopIHsKJHZlcnNpb24gPSAnZGV2LScgLiAkbWF0Y2hbMl07CiRwcmV0dHlWZXJzaW9uID0gJHZlcnNpb247CiRpc0ZlYXR1cmVCcmFuY2ggPSB0cnVlOwokaXNEZXRhY2hlZCA9IHRydWU7Cn0gZWxzZSB7CiR2ZXJzaW9uID0gJHRoaXMtPnZlcnNpb25QYXJzZXItPm5vcm1hbGl6ZUJyYW5jaCgkbWF0Y2hbMV0pOwokcHJldHR5VmVyc2lvbiA9ICdkZXYtJyAuICRtYXRjaFsxXTsKJGlzRmVhdHVyZUJyYW5jaCA9ICR0aGlzLT5pc0ZlYXR1cmVCcmFuY2goJHBhY2thZ2VDb25maWcsICRtYXRjaFsxXSk7Cn0KCmlmICgkbWF0Y2hbMl0pIHsKJGNvbW1pdCA9ICRtYXRjaFsyXTsKfQp9CgppZiAoJGJyYW5jaCAmJiAhcHJlZ19tYXRjaCgne14gKi4rL0hFQUQgfScsICRicmFuY2gpKSB7CmlmIChwcmVnX21hdGNoKCd7Xig/OlwqICk/ICooKD86cmVtb3Rlcy8oPzpvcmlnaW58dXBzdHJlYW0pLyk/W15ccy9dKykgKihbYS1mMC05XSspIC4qJH0nLCAkYnJhbmNoLCAkbWF0Y2gpKSB7CiRicmFuY2hlc1tdID0gJG1hdGNoWzFdOwp9Cn0KfQoKaWYgKCRpc0ZlYXR1cmVCcmFuY2gpIHsKJGZlYXR1cmVWZXJzaW9uID0gJHZlcnNpb247CiRmZWF0dXJlUHJldHR5VmVyc2lvbiA9ICRwcmV0dHlWZXJzaW9uOwoKCiRyZXN1bHQgPSAkdGhpcy0+Z3Vlc3NGZWF0dXJlVmVyc2lvbigkcGFja2FnZUNvbmZpZywgJHZlcnNpb24sICRicmFuY2hlcywgJ2dpdCByZXYtbGlzdCAlY2FuZGlkYXRlJS4uJWJyYW5jaCUnLCAkcGF0aCk7CiR2ZXJzaW9uID0gJHJlc3VsdFsndmVyc2lvbiddOwokcHJldHR5VmVyc2lvbiA9ICRyZXN1bHRbJ3ByZXR0eV92ZXJzaW9uJ107Cn0KfQoKaWYgKCEkdmVyc2lvbiB8fCAkaXNEZXRhY2hlZCkgewokcmVzdWx0ID0gJHRoaXMtPnZlcnNpb25Gcm9tR2l0VGFncygkcGF0aCk7CmlmICgkcmVzdWx0KSB7CiR2ZXJzaW9uID0gJHJlc3VsdFsndmVyc2lvbiddOwokcHJldHR5VmVyc2lvbiA9ICRyZXN1bHRbJ3ByZXR0eV92ZXJzaW9uJ107CiRmZWF0dXJlVmVyc2lvbiA9IG51bGw7CiRmZWF0dXJlUHJldHR5VmVyc2lvbiA9IG51bGw7Cn0KfQoKaWYgKCEkY29tbWl0KSB7CiRjb21tYW5kID0gJ2dpdCBsb2cgLS1wcmV0dHk9IiVIIiAtbjEgSEVBRCcuR2l0VXRpbDo6Z2V0Tm9TaG93U2lnbmF0dXJlRmxhZygkdGhpcy0+cHJvY2Vzcyk7CmlmICgwID09PSAkdGhpcy0+cHJvY2Vzcy0+ZXhlY3V0ZSgkY29tbWFuZCwgJG91dHB1dCwgJHBhdGgpKSB7CiRjb21taXQgPSB0cmltKCRvdXRwdXQpID86IG51bGw7Cn0KfQoKaWYgKCRmZWF0dXJlVmVyc2lvbikgewpyZXR1cm4gYXJyYXkoJ3ZlcnNpb24nID0+ICR2ZXJzaW9uLCAnY29tbWl0JyA9PiAkY29tbWl0LCAncHJldHR5X3ZlcnNpb24nID0+ICRwcmV0dHlWZXJzaW9uLCAnZmVhdHVyZV92ZXJzaW9uJyA9PiAkZmVhdHVyZVZlcnNpb24sICdmZWF0dXJlX3ByZXR0eV92ZXJzaW9uJyA9PiAkZmVhdHVyZVByZXR0eVZlcnNpb24pOwp9CgpyZXR1cm4gYXJyYXkoJ3ZlcnNpb24nID0+ICR2ZXJzaW9uLCAnY29tbWl0JyA9PiAkY29tbWl0LCAncHJldHR5X3ZlcnNpb24nID0+ICRwcmV0dHlWZXJzaW9uKTsKfQoKcHJpdmF0ZSBmdW5jdGlvbiB2ZXJzaW9uRnJvbUdpdFRhZ3MoJHBhdGgpCnsKCmlmICgwID09PSAkdGhpcy0+cHJvY2Vzcy0+ZXhlY3V0ZSgnZ2l0IGRlc2NyaWJlIC0tZXhhY3QtbWF0Y2ggLS10YWdzJywgJG91dHB1dCwgJHBhdGgpKSB7CnRyeSB7CiR2ZXJzaW9uID0gJHRoaXMtPnZlcnNpb25QYXJzZXItPm5vcm1hbGl6ZSh0cmltKCRvdXRwdXQpKTsKCnJldHVybiBhcnJheSgndmVyc2lvbicgPT4gJHZlcnNpb24sICdwcmV0dHlfdmVyc2lvbicgPT4gdHJpbSgkb3V0cHV0KSk7Cn0gY2F0Y2ggKFxFeGNlcHRpb24gJGUpIHsKfQp9CgpyZXR1cm4gbnVsbDsKfQoKcHJpdmF0ZSBmdW5jdGlvbiBndWVzc0hnVmVyc2lvbihhcnJheSAkcGFja2FnZUNvbmZpZywgJHBhdGgpCnsKCmlmICgwID09PSAkdGhpcy0+cHJvY2Vzcy0+ZXhlY3V0ZSgnaGcgYnJhbmNoJywgJG91dHB1dCwgJHBhdGgpKSB7CiRicmFuY2ggPSB0cmltKCRvdXRwdXQpOwokdmVyc2lvbiA9ICR0aGlzLT52ZXJzaW9uUGFyc2VyLT5ub3JtYWxpemVCcmFuY2goJGJyYW5jaCk7CiRpc0ZlYXR1cmVCcmFuY2ggPSAwID09PSBzdHJwb3MoJHZlcnNpb24sICdkZXYtJyk7CgppZiAoVmVyc2lvblBhcnNlcjo6REVGQVVMVF9CUkFOQ0hfQUxJQVMgPT09ICR2ZXJzaW9uKSB7CnJldHVybiBhcnJheSgndmVyc2lvbicgPT4gJHZlcnNpb24sICdjb21taXQnID0+IG51bGwsICdwcmV0dHlfdmVyc2lvbicgPT4gJ2Rldi0nLiRicmFuY2gpOwp9CgppZiAoISRpc0ZlYXR1cmVCcmFuY2gpIHsKcmV0dXJuIGFycmF5KCd2ZXJzaW9uJyA9PiAkdmVyc2lvbiwgJ2NvbW1pdCcgPT4gbnVsbCwgJ3ByZXR0eV92ZXJzaW9uJyA9PiAkdmVyc2lvbik7Cn0KCgokaW8gPSBuZXcgTnVsbElPKCk7CiRkcml2ZXIgPSBuZXcgSGdEcml2ZXIoYXJyYXkoJ3VybCcgPT4gJHBhdGgpLCAkaW8sICR0aGlzLT5jb25maWcsIG5ldyBIdHRwRG93bmxvYWRlcigkaW8sICR0aGlzLT5jb25maWcpLCAkdGhpcy0+cHJvY2Vzcyk7CiRicmFuY2hlcyA9IGFycmF5X2tleXMoJGRyaXZlci0+Z2V0QnJhbmNoZXMoKSk7CgoKJHJlc3VsdCA9ICR0aGlzLT5ndWVzc0ZlYXR1cmVWZXJzaW9uKCRwYWNrYWdlQ29uZmlnLCAkdmVyc2lvbiwgJGJyYW5jaGVzLCAnaGcgbG9nIC1yICJub3QgYW5jZXN0b3JzKFwnJWNhbmRpZGF0ZSVcJykgYW5kIGFuY2VzdG9ycyhcJyVicmFuY2glXCcpIiAtLXRlbXBsYXRlICJ7bm9kZX1cXG4iJywgJHBhdGgpOwokcmVzdWx0Wydjb21taXQnXSA9ICcnOwokcmVzdWx0WydmZWF0dXJlX3ZlcnNpb24nXSA9ICR2ZXJzaW9uOwokcmVzdWx0WydmZWF0dXJlX3ByZXR0eV92ZXJzaW9uJ10gPSAkdmVyc2lvbjsKCnJldHVybiAkcmVzdWx0Owp9Cn0KCnByaXZhdGUgZnVuY3Rpb24gZ3Vlc3NGZWF0dXJlVmVyc2lvbihhcnJheSAkcGFja2FnZUNvbmZpZywgJHZlcnNpb24sIGFycmF5ICRicmFuY2hlcywgJHNjbUNtZGxpbmUsICRwYXRoKQp7CiRwcmV0dHlWZXJzaW9uID0gJHZlcnNpb247CgoKCmlmICghaXNzZXQoJHBhY2thZ2VDb25maWdbJ2V4dHJhJ11bJ2JyYW5jaC1hbGlhcyddWyR2ZXJzaW9uXSkKfHwgc3RycG9zKGpzb25fZW5jb2RlKCRwYWNrYWdlQ29uZmlnKSwgJyJzZWxmLnZlcnNpb24iJykKKSB7CiRicmFuY2ggPSBwcmVnX3JlcGxhY2UoJ3teZGV2LX0nLCAnJywgJHZlcnNpb24pOwokbGVuZ3RoID0gUEhQX0lOVF9NQVg7CgoKaWYgKCEkdGhpcy0+aXNGZWF0dXJlQnJhbmNoKCRwYWNrYWdlQ29uZmlnLCAkYnJhbmNoKSkgewpyZXR1cm4gYXJyYXkoJ3ZlcnNpb24nID0+ICR2ZXJzaW9uLCAncHJldHR5X3ZlcnNpb24nID0+ICRwcmV0dHlWZXJzaW9uKTsKfQoKCgoKdXNvcnQoJGJyYW5jaGVzLCBmdW5jdGlvbiAoJGEsICRiKSB7CiRhUmVtb3RlID0gMCA9PT0gc3RycG9zKCRhLCAncmVtb3Rlcy8nKTsKJGJSZW1vdGUgPSAwID09PSBzdHJwb3MoJGIsICdyZW1vdGVzLycpOwoKaWYgKCRhUmVtb3RlICE9PSAkYlJlbW90ZSkgewpyZXR1cm4gJGFSZW1vdGUgPyAxIDogLTE7Cn0KCnJldHVybiBzdHJuYXRjYXNlY21wKCRiLCAkYSk7Cn0pOwoKZm9yZWFjaCAoJGJyYW5jaGVzIGFzICRjYW5kaWRhdGUpIHsKJGNhbmRpZGF0ZVZlcnNpb24gPSBwcmVnX3JlcGxhY2UoJ3tecmVtb3Rlcy9cUysvfScsICcnLCAkY2FuZGlkYXRlKTsKCgppZiAoJGNhbmRpZGF0ZSA9PT0gJGJyYW5jaCB8fCAkdGhpcy0+aXNGZWF0dXJlQnJhbmNoKCRwYWNrYWdlQ29uZmlnLCAkY2FuZGlkYXRlVmVyc2lvbikpIHsKY29udGludWU7Cn0KCiRjbWRMaW5lID0gc3RyX3JlcGxhY2UoYXJyYXkoJyVjYW5kaWRhdGUlJywgJyVicmFuY2glJyksIGFycmF5KCRjYW5kaWRhdGUsICRicmFuY2gpLCAkc2NtQ21kbGluZSk7CmlmICgwICE9PSAkdGhpcy0+cHJvY2Vzcy0+ZXhlY3V0ZSgkY21kTGluZSwgJG91dHB1dCwgJHBhdGgpKSB7CmNvbnRpbnVlOwp9CgppZiAoc3RybGVuKCRvdXRwdXQpIDwgJGxlbmd0aCkgewokbGVuZ3RoID0gc3RybGVuKCRvdXRwdXQpOwokdmVyc2lvbiA9ICR0aGlzLT52ZXJzaW9uUGFyc2VyLT5ub3JtYWxpemVCcmFuY2goJGNhbmRpZGF0ZVZlcnNpb24pOwokcHJldHR5VmVyc2lvbiA9ICdkZXYtJyAuICRjYW5kaWRhdGVWZXJzaW9uOwppZiAoJGxlbmd0aCA9PT0gMCkgewpicmVhazsKfQp9Cn0KfQoKcmV0dXJuIGFycmF5KCd2ZXJzaW9uJyA9PiAkdmVyc2lvbiwgJ3ByZXR0eV92ZXJzaW9uJyA9PiAkcHJldHR5VmVyc2lvbik7Cn0KCnByaXZhdGUgZnVuY3Rpb24gaXNGZWF0dXJlQnJhbmNoKGFycmF5ICRwYWNrYWdlQ29uZmlnLCAkYnJhbmNoTmFtZSkKewokbm9uRmVhdHVyZUJyYW5jaGVzID0gJyc7CmlmICghZW1wdHkoJHBhY2thZ2VDb25maWdbJ25vbi1mZWF0dXJlLWJyYW5jaGVzJ10pKSB7CiRub25GZWF0dXJlQnJhbmNoZXMgPSBpbXBsb2RlKCd8JywgJHBhY2thZ2VDb25maWdbJ25vbi1mZWF0dXJlLWJyYW5jaGVzJ10pOwp9CgpyZXR1cm4gIXByZWdfbWF0Y2goJ3teKCcgLiAkbm9uRmVhdHVyZUJyYW5jaGVzIC4gJ3xtYXN0ZXJ8bWFpbnxsYXRlc3R8bmV4dHxjdXJyZW50fHN1cHBvcnR8dGlwfHRydW5rfGRlZmF1bHR8ZGV2ZWxvcHxcZCtcLi4rKSR9JywgJGJyYW5jaE5hbWUsICRtYXRjaCk7Cn0KCnByaXZhdGUgZnVuY3Rpb24gZ3Vlc3NGb3NzaWxWZXJzaW9uKCRwYXRoKQp7CiR2ZXJzaW9uID0gbnVsbDsKJHByZXR0eVZlcnNpb24gPSBudWxsOwoKCmlmICgwID09PSAkdGhpcy0+cHJvY2Vzcy0+ZXhlY3V0ZSgnZm9zc2lsIGJyYW5jaCBsaXN0JywgJG91dHB1dCwgJHBhdGgpKSB7CiRicmFuY2ggPSB0cmltKCRvdXRwdXQpOwokdmVyc2lvbiA9ICR0aGlzLT52ZXJzaW9uUGFyc2VyLT5ub3JtYWxpemVCcmFuY2goJGJyYW5jaCk7CiRwcmV0dHlWZXJzaW9uID0gJ2Rldi0nIC4gJGJyYW5jaDsKfQoKCmlmICgwID09PSAkdGhpcy0+cHJvY2Vzcy0+ZXhlY3V0ZSgnZm9zc2lsIHRhZyBsaXN0JywgJG91dHB1dCwgJHBhdGgpKSB7CnRyeSB7CiR2ZXJzaW9uID0gJHRoaXMtPnZlcnNpb25QYXJzZXItPm5vcm1hbGl6ZSh0cmltKCRvdXRwdXQpKTsKJHByZXR0eVZlcnNpb24gPSB0cmltKCRvdXRwdXQpOwp9IGNhdGNoIChcRXhjZXB0aW9uICRlKSB7Cn0KfQoKcmV0dXJuIGFycmF5KCd2ZXJzaW9uJyA9PiAkdmVyc2lvbiwgJ2NvbW1pdCcgPT4gJycsICdwcmV0dHlfdmVyc2lvbicgPT4gJHByZXR0eVZlcnNpb24pOwp9Cgpwcml2YXRlIGZ1bmN0aW9uIGd1ZXNzU3ZuVmVyc2lvbihhcnJheSAkcGFja2FnZUNvbmZpZywgJHBhdGgpCnsKU3ZuVXRpbDo6Y2xlYW5FbnYoKTsKCgppZiAoMCA9PT0gJHRoaXMtPnByb2Nlc3MtPmV4ZWN1dGUoJ3N2biBpbmZvIC0teG1sJywgJG91dHB1dCwgJHBhdGgpKSB7CiR0cnVua1BhdGggPSBpc3NldCgkcGFja2FnZUNvbmZpZ1sndHJ1bmstcGF0aCddKSA/IHByZWdfcXVvdGUoJHBhY2thZ2VDb25maWdbJ3RydW5rLXBhdGgnXSwgJyMnKSA6ICd0cnVuayc7CiRicmFuY2hlc1BhdGggPSBpc3NldCgkcGFja2FnZUNvbmZpZ1snYnJhbmNoZXMtcGF0aCddKSA/IHByZWdfcXVvdGUoJHBhY2thZ2VDb25maWdbJ2JyYW5jaGVzLXBhdGgnXSwgJyMnKSA6ICdicmFuY2hlcyc7CiR0YWdzUGF0aCA9IGlzc2V0KCRwYWNrYWdlQ29uZmlnWyd0YWdzLXBhdGgnXSkgPyBwcmVnX3F1b3RlKCRwYWNrYWdlQ29uZmlnWyd0YWdzLXBhdGgnXSwgJyMnKSA6ICd0YWdzJzsKCiR1cmxQYXR0ZXJuID0gJyM8dXJsPi4qLygnIC4gJHRydW5rUGF0aCAuICd8KCcgLiAkYnJhbmNoZXNQYXRoIC4gJ3wnIC4gJHRhZ3NQYXRoIC4gJykvKC4qKSk8L3VybD4jJzsKCmlmIChwcmVnX21hdGNoKCR1cmxQYXR0ZXJuLCAkb3V0cHV0LCAkbWF0Y2hlcykpIHsKaWYgKGlzc2V0KCRtYXRjaGVzWzJdKSAmJiAoJGJyYW5jaGVzUGF0aCA9PT0gJG1hdGNoZXNbMl0gfHwgJHRhZ3NQYXRoID09PSAkbWF0Y2hlc1syXSkpIHsKCiR2ZXJzaW9uID0gJHRoaXMtPnZlcnNpb25QYXJzZXItPm5vcm1hbGl6ZUJyYW5jaCgkbWF0Y2hlc1szXSk7CiRwcmV0dHlWZXJzaW9uID0gJ2Rldi0nIC4gJG1hdGNoZXNbM107CgpyZXR1cm4gYXJyYXkoJ3ZlcnNpb24nID0+ICR2ZXJzaW9uLCAnY29tbWl0JyA9PiAnJywgJ3ByZXR0eV92ZXJzaW9uJyA9PiAkcHJldHR5VmVyc2lvbik7Cn0KCiRwcmV0dHlWZXJzaW9uID0gdHJpbSgkbWF0Y2hlc1sxXSk7CmlmICgkcHJldHR5VmVyc2lvbiA9PT0gJ3RydW5rJykgewokdmVyc2lvbiA9ICdkZXYtdHJ1bmsnOwp9IGVsc2UgewokdmVyc2lvbiA9ICR0aGlzLT52ZXJzaW9uUGFyc2VyLT5ub3JtYWxpemUoJHByZXR0eVZlcnNpb24pOwp9CgpyZXR1cm4gYXJyYXkoJ3ZlcnNpb24nID0+ICR2ZXJzaW9uLCAnY29tbWl0JyA9PiAnJywgJ3ByZXR0eV92ZXJzaW9uJyA9PiAkcHJldHR5VmVyc2lvbik7Cn0KfQp9Cn0KPD9waHAKCgoKCgoKCgoKCgpuYW1lc3BhY2UgQ29tcG9zZXJcUGFja2FnZVxWZXJzaW9uOwoKdXNlIENvbXBvc2VyXFJlcG9zaXRvcnlcUGxhdGZvcm1SZXBvc2l0b3J5Owp1c2UgQ29tcG9zZXJcU2VtdmVyXFZlcnNpb25QYXJzZXIgYXMgU2VtdmVyVmVyc2lvblBhcnNlcjsKdXNlIENvbXBvc2VyXFNlbXZlclxTZW12ZXI7CgpjbGFzcyBWZXJzaW9uUGFyc2VyIGV4dGVuZHMgU2VtdmVyVmVyc2lvblBhcnNlcgp7CmNvbnN0IERFRkFVTFRfQlJBTkNIX0FMSUFTID0gJzk5OTk5OTktZGV2JzsKCnByaXZhdGUgc3RhdGljICRjb25zdHJhaW50cyA9IGFycmF5KCk7CgoKCgpwdWJsaWMgZnVuY3Rpb24gcGFyc2VDb25zdHJhaW50cygkY29uc3RyYWludHMpCnsKaWYgKCFpc3NldChzZWxmOjokY29uc3RyYWludHNbJGNvbnN0cmFpbnRzXSkpIHsKc2VsZjo6JGNvbnN0cmFpbnRzWyRjb25zdHJhaW50c10gPSBwYXJlbnQ6OnBhcnNlQ29uc3RyYWludHMoJGNvbnN0cmFpbnRzKTsKfQoKcmV0dXJuIHNlbGY6OiRjb25zdHJhaW50c1skY29uc3RyYWludHNdOwp9CgoKCgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIHBhcnNlTmFtZVZlcnNpb25QYWlycyhhcnJheSAkcGFpcnMpCnsKJHBhaXJzID0gYXJyYXlfdmFsdWVzKCRwYWlycyk7CiRyZXN1bHQgPSBhcnJheSgpOwoKZm9yICgkaSA9IDAsICRjb3VudCA9IGNvdW50KCRwYWlycyk7ICRpIDwgJGNvdW50OyAkaSsrKSB7CiRwYWlyID0gcHJlZ19yZXBsYWNlKCd7XihbXj06IF0rKVs9OiBdKC4qKSR9JywgJyQxICQyJywgdHJpbSgkcGFpcnNbJGldKSk7CmlmIChmYWxzZSA9PT0gc3RycG9zKCRwYWlyLCAnICcpICYmIGlzc2V0KCRwYWlyc1skaSArIDFdKSAmJiBmYWxzZSA9PT0gc3RycG9zKCRwYWlyc1skaSArIDFdLCAnLycpICYmICFQbGF0Zm9ybVJlcG9zaXRvcnk6OmlzUGxhdGZvcm1QYWNrYWdlKCRwYWlyc1skaSArIDFdKSkgewokcGFpciAuPSAnICcuJHBhaXJzWyRpICsgMV07CiRpKys7Cn0KCmlmIChzdHJwb3MoJHBhaXIsICcgJykpIHsKbGlzdCgkbmFtZSwgJHZlcnNpb24pID0gZXhwbG9kZSgnICcsICRwYWlyLCAyKTsKJHJlc3VsdFtdID0gYXJyYXkoJ25hbWUnID0+ICRuYW1lLCAndmVyc2lvbicgPT4gJHZlcnNpb24pOwp9IGVsc2UgewokcmVzdWx0W10gPSBhcnJheSgnbmFtZScgPT4gJHBhaXIpOwp9Cn0KCnJldHVybiAkcmVzdWx0Owp9CgoKCgpwdWJsaWMgc3RhdGljIGZ1bmN0aW9uIGlzVXBncmFkZSgkbm9ybWFsaXplZEZyb20sICRub3JtYWxpemVkVG8pCnsKaWYgKCRub3JtYWxpemVkRnJvbSA9PT0gJG5vcm1hbGl6ZWRUbykgewpyZXR1cm4gdHJ1ZTsKfQoKaWYgKGluX2FycmF5KCRub3JtYWxpemVkRnJvbSwgYXJyYXkoJ2Rldi1tYXN0ZXInLCAnZGV2LXRydW5rJywgJ2Rldi1kZWZhdWx0JyksIHRydWUpKSB7CiRub3JtYWxpemVkRnJvbSA9IFZlcnNpb25QYXJzZXI6OkRFRkFVTFRfQlJBTkNIX0FMSUFTOwp9CmlmIChpbl9hcnJheSgkbm9ybWFsaXplZFRvLCBhcnJheSgnZGV2LW1hc3RlcicsICdkZXYtdHJ1bmsnLCAnZGV2LWRlZmF1bHQnKSwgdHJ1ZSkpIHsKJG5vcm1hbGl6ZWRUbyA9IFZlcnNpb25QYXJzZXI6OkRFRkFVTFRfQlJBTkNIX0FMSUFTOwp9CgppZiAoc3RycG9zKCRub3JtYWxpemVkRnJvbSwgJ2Rldi0nKSA9PT0gMCB8fCBzdHJwb3MoJG5vcm1hbGl6ZWRUbywgJ2Rldi0nKSA9PT0gMCkgewpyZXR1cm4gdHJ1ZTsKfQoKJHNvcnRlZCA9IFNlbXZlcjo6c29ydChhcnJheSgkbm9ybWFsaXplZFRvLCAkbm9ybWFsaXplZEZyb20pKTsKCnJldHVybiAkc29ydGVkWzBdID09PSAkbm9ybWFsaXplZEZyb207Cn0KfQo8P3BocAoKCgoKCgoKCgoKCm5hbWVzcGFjZSBDb21wb3NlclxQYWNrYWdlXFZlcnNpb247Cgp1c2UgQ29tcG9zZXJcUGFja2FnZVxCYXNlUGFja2FnZTsKdXNlIENvbXBvc2VyXFBhY2thZ2VcQWxpYXNQYWNrYWdlOwp1c2UgQ29tcG9zZXJcUGFja2FnZVxQYWNrYWdlSW50ZXJmYWNlOwp1c2UgQ29tcG9zZXJcQ29tcG9zZXI7CnVzZSBDb21wb3NlclxQYWNrYWdlXExvYWRlclxBcnJheUxvYWRlcjsKdXNlIENvbXBvc2VyXFBhY2thZ2VcRHVtcGVyXEFycmF5RHVtcGVyOwp1c2UgQ29tcG9zZXJcUmVwb3NpdG9yeVxSZXBvc2l0b3J5U2V0Owp1c2UgQ29tcG9zZXJcUmVwb3NpdG9yeVxQbGF0Zm9ybVJlcG9zaXRvcnk7CnVzZSBDb21wb3NlclxTZW12ZXJcQ29uc3RyYWludFxDb25zdHJhaW50OwoKCgoKCgoKY2xhc3MgVmVyc2lvblNlbGVjdG9yCnsKcHJpdmF0ZSAkcmVwb3NpdG9yeVNldDsKCnByaXZhdGUgJHBsYXRmb3JtQ29uc3RyYWludHMgPSBhcnJheSgpOwoKcHJpdmF0ZSAkcGFyc2VyOwoKCgoKcHVibGljIGZ1bmN0aW9uIF9fY29uc3RydWN0KFJlcG9zaXRvcnlTZXQgJHJlcG9zaXRvcnlTZXQsIFBsYXRmb3JtUmVwb3NpdG9yeSAkcGxhdGZvcm1SZXBvID0gbnVsbCkKewokdGhpcy0+cmVwb3NpdG9yeVNldCA9ICRyZXBvc2l0b3J5U2V0OwppZiAoJHBsYXRmb3JtUmVwbykgewpmb3JlYWNoICgkcGxhdGZvcm1SZXBvLT5nZXRQYWNrYWdlcygpIGFzICRwYWNrYWdlKSB7CiR0aGlzLT5wbGF0Zm9ybUNvbnN0cmFpbnRzWyRwYWNrYWdlLT5nZXROYW1lKCldW10gPSBuZXcgQ29uc3RyYWludCgnPT0nLCAkcGFja2FnZS0+Z2V0VmVyc2lvbigpKTsKfQp9Cn0KCgoKCgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gZmluZEJlc3RDYW5kaWRhdGUoJHBhY2thZ2VOYW1lLCAkdGFyZ2V0UGFja2FnZVZlcnNpb24gPSBudWxsLCAkcHJlZmVycmVkU3RhYmlsaXR5ID0gJ3N0YWJsZScsICRpZ25vcmVQbGF0Zm9ybVJlcXMgPSBmYWxzZSwgJHJlcG9TZXRGbGFncyA9IDApCnsKaWYgKCFpc3NldChCYXNlUGFja2FnZTo6JHN0YWJpbGl0aWVzWyRwcmVmZXJyZWRTdGFiaWxpdHldKSkgewoKdGhyb3cgbmV3IFxVbmV4cGVjdGVkVmFsdWVFeGNlcHRpb24oJ0V4cGVjdGVkIGEgdmFsaWQgc3RhYmlsaXR5IG5hbWUgYXMgM3JkIGFyZ3VtZW50LCBnb3QgJy4kcHJlZmVycmVkU3RhYmlsaXR5KTsKfQoKJGNvbnN0cmFpbnQgPSAkdGFyZ2V0UGFja2FnZVZlcnNpb24gPyAkdGhpcy0+Z2V0UGFyc2VyKCktPnBhcnNlQ29uc3RyYWludHMoJHRhcmdldFBhY2thZ2VWZXJzaW9uKSA6IG51bGw7CiRjYW5kaWRhdGVzID0gJHRoaXMtPnJlcG9zaXRvcnlTZXQtPmZpbmRQYWNrYWdlcyhzdHJ0b2xvd2VyKCRwYWNrYWdlTmFtZSksICRjb25zdHJhaW50LCAkcmVwb1NldEZsYWdzKTsKCmlmICgkdGhpcy0+cGxhdGZvcm1Db25zdHJhaW50cyAmJiB0cnVlICE9PSAkaWdub3JlUGxhdGZvcm1SZXFzKSB7CiRwbGF0Zm9ybUNvbnN0cmFpbnRzID0gJHRoaXMtPnBsYXRmb3JtQ29uc3RyYWludHM7CiRpZ25vcmVQbGF0Zm9ybVJlcXMgPSAkaWdub3JlUGxhdGZvcm1SZXFzID86IGFycmF5KCk7CiRjYW5kaWRhdGVzID0gYXJyYXlfZmlsdGVyKCRjYW5kaWRhdGVzLCBmdW5jdGlvbiAoJHBrZykgdXNlICgkcGxhdGZvcm1Db25zdHJhaW50cywgJGlnbm9yZVBsYXRmb3JtUmVxcykgewokcmVxcyA9ICRwa2ctPmdldFJlcXVpcmVzKCk7Cgpmb3JlYWNoICgkcmVxcyBhcyAkbmFtZSA9PiAkbGluaykgewppZiAoIWluX2FycmF5KCRuYW1lLCAkaWdub3JlUGxhdGZvcm1SZXFzLCB0cnVlKSAmJiBpc3NldCgkcGxhdGZvcm1Db25zdHJhaW50c1skbmFtZV0pKSB7CmZvcmVhY2ggKCRwbGF0Zm9ybUNvbnN0cmFpbnRzWyRuYW1lXSBhcyAkY29uc3RyYWludCkgewppZiAoJGxpbmstPmdldENvbnN0cmFpbnQoKS0+bWF0Y2hlcygkY29uc3RyYWludCkpIHsKY29udGludWUgMjsKfQp9CgpyZXR1cm4gZmFsc2U7Cn0KfQoKcmV0dXJuIHRydWU7Cn0pOwp9CgppZiAoISRjYW5kaWRhdGVzKSB7CnJldHVybiBmYWxzZTsKfQoKCiRwYWNrYWdlID0gcmVzZXQoJGNhbmRpZGF0ZXMpOwokbWluUHJpb3JpdHkgPSBCYXNlUGFja2FnZTo6JHN0YWJpbGl0aWVzWyRwcmVmZXJyZWRTdGFiaWxpdHldOwpmb3JlYWNoICgkY2FuZGlkYXRlcyBhcyAkY2FuZGlkYXRlKSB7CiRjYW5kaWRhdGVQcmlvcml0eSA9ICRjYW5kaWRhdGUtPmdldFN0YWJpbGl0eVByaW9yaXR5KCk7CiRjdXJyZW50UHJpb3JpdHkgPSAkcGFja2FnZS0+Z2V0U3RhYmlsaXR5UHJpb3JpdHkoKTsKCgoKaWYgKCRtaW5Qcmlvcml0eSA8ICRjYW5kaWRhdGVQcmlvcml0eSAmJiAkY3VycmVudFByaW9yaXR5IDwgJGNhbmRpZGF0ZVByaW9yaXR5KSB7CmNvbnRpbnVlOwp9CgoKCmlmICgkbWluUHJpb3JpdHkgPCAkY2FuZGlkYXRlUHJpb3JpdHkgJiYgJGNhbmRpZGF0ZVByaW9yaXR5IDwgJGN1cnJlbnRQcmlvcml0eSkgewokcGFja2FnZSA9ICRjYW5kaWRhdGU7CmNvbnRpbnVlOwp9CgoKCmlmICgkbWluUHJpb3JpdHkgPj0gJGNhbmRpZGF0ZVByaW9yaXR5ICYmICRtaW5Qcmlvcml0eSA8ICRjdXJyZW50UHJpb3JpdHkpIHsKJHBhY2thZ2UgPSAkY2FuZGlkYXRlOwpjb250aW51ZTsKfQoKCmlmICh2ZXJzaW9uX2NvbXBhcmUoJHBhY2thZ2UtPmdldFZlcnNpb24oKSwgJGNhbmRpZGF0ZS0+Z2V0VmVyc2lvbigpLCAnPCcpKSB7CiRwYWNrYWdlID0gJGNhbmRpZGF0ZTsKfQp9CgoKaWYgKCRwYWNrYWdlIGluc3RhbmNlb2YgQWxpYXNQYWNrYWdlICYmICRwYWNrYWdlLT5nZXRWZXJzaW9uKCkgPT09IFZlcnNpb25QYXJzZXI6OkRFRkFVTFRfQlJBTkNIX0FMSUFTKSB7CiRwYWNrYWdlID0gJHBhY2thZ2UtPmdldEFsaWFzT2YoKTsKfQoKcmV0dXJuICRwYWNrYWdlOwp9CgoKCgoKCgoKCgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gZmluZFJlY29tbWVuZGVkUmVxdWlyZVZlcnNpb24oUGFja2FnZUludGVyZmFjZSAkcGFja2FnZSkKewoKCmlmICgwID09PSBzdHJwb3MoJHBhY2thZ2UtPmdldE5hbWUoKSwgJ2V4dC0nKSkgewokcGhwVmVyc2lvbiA9IFBIUF9NQUpPUl9WRVJTSU9OIC4gJy4nIC4gUEhQX01JTk9SX1ZFUlNJT04gLiAnLicgLiBQSFBfUkVMRUFTRV9WRVJTSU9OOwokZXh0VmVyc2lvbiA9IGltcGxvZGUoJy4nLCBhcnJheV9zbGljZShleHBsb2RlKCcuJywgJHBhY2thZ2UtPmdldFZlcnNpb24oKSksIDAsIDMpKTsKaWYgKCRwaHBWZXJzaW9uID09PSAkZXh0VmVyc2lvbikgewpyZXR1cm4gJyonOwp9Cn0KCiR2ZXJzaW9uID0gJHBhY2thZ2UtPmdldFZlcnNpb24oKTsKaWYgKCEkcGFja2FnZS0+aXNEZXYoKSkgewpyZXR1cm4gJHRoaXMtPnRyYW5zZm9ybVZlcnNpb24oJHZlcnNpb24sICRwYWNrYWdlLT5nZXRQcmV0dHlWZXJzaW9uKCksICRwYWNrYWdlLT5nZXRTdGFiaWxpdHkoKSk7Cn0KCiRsb2FkZXIgPSBuZXcgQXJyYXlMb2FkZXIoJHRoaXMtPmdldFBhcnNlcigpKTsKJGR1bXBlciA9IG5ldyBBcnJheUR1bXBlcigpOwokZXh0cmEgPSAkbG9hZGVyLT5nZXRCcmFuY2hBbGlhcygkZHVtcGVyLT5kdW1wKCRwYWNrYWdlKSk7CmlmICgkZXh0cmEgJiYgJGV4dHJhICE9PSBWZXJzaW9uUGFyc2VyOjpERUZBVUxUX0JSQU5DSF9BTElBUykgewokZXh0cmEgPSBwcmVnX3JlcGxhY2UoJ3teKFxkK1wuXGQrXC5cZCspKFwuOTk5OTk5OSktZGV2JH0nLCAnJDEuMCcsICRleHRyYSwgLTEsICRjb3VudCk7CmlmICgkY291bnQpIHsKJGV4dHJhID0gc3RyX3JlcGxhY2UoJy45OTk5OTk5JywgJy4wJywgJGV4dHJhKTsKCnJldHVybiAkdGhpcy0+dHJhbnNmb3JtVmVyc2lvbigkZXh0cmEsICRleHRyYSwgJ2RldicpOwp9Cn0KCnJldHVybiAkcGFja2FnZS0+Z2V0UHJldHR5VmVyc2lvbigpOwp9Cgpwcml2YXRlIGZ1bmN0aW9uIHRyYW5zZm9ybVZlcnNpb24oJHZlcnNpb24sICRwcmV0dHlWZXJzaW9uLCAkc3RhYmlsaXR5KQp7CgoKJHNlbWFudGljVmVyc2lvblBhcnRzID0gZXhwbG9kZSgnLicsICR2ZXJzaW9uKTsKCgppZiAoY291bnQoJHNlbWFudGljVmVyc2lvblBhcnRzKSA9PSA0ICYmIHByZWdfbWF0Y2goJ3teMFxEP30nLCAkc2VtYW50aWNWZXJzaW9uUGFydHNbM10pKSB7CgppZiAoJHNlbWFudGljVmVyc2lvblBhcnRzWzBdID09PSAnMCcpIHsKdW5zZXQoJHNlbWFudGljVmVyc2lvblBhcnRzWzNdKTsKfSBlbHNlIHsKdW5zZXQoJHNlbWFudGljVmVyc2lvblBhcnRzWzJdLCAkc2VtYW50aWNWZXJzaW9uUGFydHNbM10pOwp9CiR2ZXJzaW9uID0gaW1wbG9kZSgnLicsICRzZW1hbnRpY1ZlcnNpb25QYXJ0cyk7Cn0gZWxzZSB7CnJldHVybiAkcHJldHR5VmVyc2lvbjsKfQoKCmlmICgkc3RhYmlsaXR5ICE9ICdzdGFibGUnKSB7CiR2ZXJzaW9uIC49ICdAJy4kc3RhYmlsaXR5Owp9CgoKcmV0dXJuICdeJyAuICR2ZXJzaW9uOwp9Cgpwcml2YXRlIGZ1bmN0aW9uIGdldFBhcnNlcigpCnsKaWYgKCR0aGlzLT5wYXJzZXIgPT09IG51bGwpIHsKJHRoaXMtPnBhcnNlciA9IG5ldyBWZXJzaW9uUGFyc2VyKCk7Cn0KCnJldHVybiAkdGhpcy0+cGFyc2VyOwp9Cn0KPD9waHAKCgoKCgoKCgoKCgpuYW1lc3BhY2UgQ29tcG9zZXJcUGxhdGZvcm07Cgp1c2UgQ29tcG9zZXJcVXRpbFxQbGF0Zm9ybTsKdXNlIENvbXBvc2VyXFV0aWxcUHJvY2Vzc0V4ZWN1dG9yOwp1c2UgU3ltZm9ueVxDb21wb25lbnRcUHJvY2Vzc1xFeGVjdXRhYmxlRmluZGVyOwoKY2xhc3MgSGh2bURldGVjdG9yCnsKcHJpdmF0ZSBzdGF0aWMgJGhodm1WZXJzaW9uOwpwcml2YXRlICRleGVjdXRhYmxlRmluZGVyOwpwcml2YXRlICRwcm9jZXNzRXhlY3V0b3I7CgpwdWJsaWMgZnVuY3Rpb24gX19jb25zdHJ1Y3QoRXhlY3V0YWJsZUZpbmRlciAkZXhlY3V0YWJsZUZpbmRlciA9IG51bGwsIFByb2Nlc3NFeGVjdXRvciAkcHJvY2Vzc0V4ZWN1dG9yID0gbnVsbCkKewokdGhpcy0+ZXhlY3V0YWJsZUZpbmRlciA9ICRleGVjdXRhYmxlRmluZGVyOwokdGhpcy0+cHJvY2Vzc0V4ZWN1dG9yID0gJHByb2Nlc3NFeGVjdXRvcjsKfQoKcHVibGljIGZ1bmN0aW9uIHJlc2V0KCkKewpzZWxmOjokaGh2bVZlcnNpb24gPSBudWxsOwp9CgpwdWJsaWMgZnVuY3Rpb24gZ2V0VmVyc2lvbigpCnsKaWYgKG51bGwgIT09IHNlbGY6OiRoaHZtVmVyc2lvbikgewpyZXR1cm4gc2VsZjo6JGhodm1WZXJzaW9uID86IG51bGw7Cn0KCnNlbGY6OiRoaHZtVmVyc2lvbiA9IGRlZmluZWQoJ0hIVk1fVkVSU0lPTicpID8gSEhWTV9WRVJTSU9OIDogbnVsbDsKaWYgKHNlbGY6OiRoaHZtVmVyc2lvbiA9PT0gbnVsbCAmJiAhUGxhdGZvcm06OmlzV2luZG93cygpKSB7CnNlbGY6OiRoaHZtVmVyc2lvbiA9IGZhbHNlOwokdGhpcy0+ZXhlY3V0YWJsZUZpbmRlciA9ICR0aGlzLT5leGVjdXRhYmxlRmluZGVyID86IG5ldyBFeGVjdXRhYmxlRmluZGVyKCk7CiRoaHZtUGF0aCA9ICR0aGlzLT5leGVjdXRhYmxlRmluZGVyLT5maW5kKCdoaHZtJyk7CmlmICgkaGh2bVBhdGggIT09IG51bGwpIHsKJHRoaXMtPnByb2Nlc3NFeGVjdXRvciA9ICR0aGlzLT5wcm9jZXNzRXhlY3V0b3IgPzogbmV3IFByb2Nlc3NFeGVjdXRvcigpOwokZXhpdENvZGUgPSAkdGhpcy0+cHJvY2Vzc0V4ZWN1dG9yLT5leGVjdXRlKApQcm9jZXNzRXhlY3V0b3I6OmVzY2FwZSgkaGh2bVBhdGgpLgonIC0tcGhwIC1kIGhodm0uaml0PTAgLXIgImVjaG8gSEhWTV9WRVJTSU9OOyIgMj4vZGV2L251bGwnLApzZWxmOjokaGh2bVZlcnNpb24KKTsKaWYgKCRleGl0Q29kZSAhPT0gMCkgewpzZWxmOjokaGh2bVZlcnNpb24gPSBmYWxzZTsKfQp9Cn0KCnJldHVybiBzZWxmOjokaGh2bVZlcnNpb247Cn0KfQo8P3BocAoKCgoKCgoKCgoKCm5hbWVzcGFjZSBDb21wb3NlclxQbGF0Zm9ybTsKCmNsYXNzIFJ1bnRpbWUKewoKCgoKCnB1YmxpYyBmdW5jdGlvbiBoYXNDb25zdGFudCgkY29uc3RhbnQsICRjbGFzcyA9IG51bGwpCnsKcmV0dXJuIGRlZmluZWQobHRyaW0oJGNsYXNzLic6OicuJGNvbnN0YW50LCAnOicpKTsKfQoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0Q29uc3RhbnQoJGNvbnN0YW50LCAkY2xhc3MgPSBudWxsKQp7CnJldHVybiBjb25zdGFudChsdHJpbSgkY2xhc3MuJzo6Jy4kY29uc3RhbnQsICc6JykpOwp9CgoKCgoKcHVibGljIGZ1bmN0aW9uIGhhc0Z1bmN0aW9uKCRmbikKewpyZXR1cm4gZnVuY3Rpb25fZXhpc3RzKCRmbik7Cn0KCgoKCgoKcHVibGljIGZ1bmN0aW9uIGludm9rZSgkY2FsbGFibGUsIGFycmF5ICRhcmd1bWVudHMgPSBhcnJheSgpKQp7CnJldHVybiBjYWxsX3VzZXJfZnVuY19hcnJheSgkY2FsbGFibGUsICRhcmd1bWVudHMpOwp9CgoKCgoKcHVibGljIGZ1bmN0aW9uIGhhc0NsYXNzKCRjbGFzcykKewpyZXR1cm4gY2xhc3NfZXhpc3RzKCRjbGFzcywgZmFsc2UpOwp9CgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBjb25zdHJ1Y3QoJGNsYXNzLCBhcnJheSAkYXJndW1lbnRzID0gYXJyYXkoKSkKewppZiAoZW1wdHkoJGFyZ3VtZW50cykpIHsKcmV0dXJuIG5ldyAkY2xhc3M7Cn0KCiRyZWZsID0gbmV3IFxSZWZsZWN0aW9uQ2xhc3MoJGNsYXNzKTsKCnJldHVybiAkcmVmbC0+bmV3SW5zdGFuY2VBcmdzKCRhcmd1bWVudHMpOwp9CgoKcHVibGljIGZ1bmN0aW9uIGdldEV4dGVuc2lvbnMoKQp7CnJldHVybiBnZXRfbG9hZGVkX2V4dGVuc2lvbnMoKTsKfQoKCgoKCnB1YmxpYyBmdW5jdGlvbiBnZXRFeHRlbnNpb25WZXJzaW9uKCRleHRlbnNpb24pCnsKcmV0dXJuIHBocHZlcnNpb24oJGV4dGVuc2lvbik7Cn0KCgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0RXh0ZW5zaW9uSW5mbygkZXh0ZW5zaW9uKQp7CiRyZWZsZWN0b3IgPSBuZXcgXFJlZmxlY3Rpb25FeHRlbnNpb24oJGV4dGVuc2lvbik7CgpvYl9zdGFydCgpOwokcmVmbGVjdG9yLT5pbmZvKCk7CgpyZXR1cm4gb2JfZ2V0X2NsZWFuKCk7Cn0KfQo8P3BocAoKCgoKCgoKCgoKCm5hbWVzcGFjZSBDb21wb3NlclxQbGF0Zm9ybTsKCgoKCmNsYXNzIFZlcnNpb24KewoKCgoKCnB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gcGFyc2VPcGVuc3NsKCRvcGVuc3NsVmVyc2lvbiwgJiRpc0ZpcHMpCnsKJGlzRmlwcyA9IGZhbHNlOwoKaWYgKCFwcmVnX21hdGNoKCcvXig/PHZlcnNpb24+WzAtOS5dKykoPzxwYXRjaD5bYS16XXswLDJ9KT8oPzxzdWZmaXg+KD86LT8oPzpkZXZ8cHJlfGFscGhhfGJldGF8cmN8ZmlwcylbXGRdKikqKT8kLycsICRvcGVuc3NsVmVyc2lvbiwgJG1hdGNoZXMpKSB7CnJldHVybiBudWxsOwp9CgokaXNGaXBzID0gc3RycG9zKCRtYXRjaGVzWydzdWZmaXgnXSwgJ2ZpcHMnKSAhPT0gZmFsc2U7CiRzdWZmaXggPSBzdHJ0cignLScubHRyaW0oJG1hdGNoZXNbJ3N1ZmZpeCddLCAnLScpLCBhcnJheSgnLWZpcHMnID0+ICcnLCAnLXByZScgPT4gJy1hbHBoYScpKTsKJHBhdGNoID0gc2VsZjo6Y29udmVydEFscGhhVmVyc2lvblRvSW50VmVyc2lvbigkbWF0Y2hlc1sncGF0Y2gnXSk7CgpyZXR1cm4gcnRyaW0oJG1hdGNoZXNbJ3ZlcnNpb24nXS4nLicuJHBhdGNoLiRzdWZmaXgsICctJyk7Cn0KCgoKCgpwdWJsaWMgc3RhdGljIGZ1bmN0aW9uIHBhcnNlTGlianBlZygkbGlianBlZ1ZlcnNpb24pCnsKaWYgKCFwcmVnX21hdGNoKCcvXig/PG1ham9yPlxkKykoPzxtaW5vcj5bYS16XSopJC8nLCAkbGlianBlZ1ZlcnNpb24sICRtYXRjaGVzKSkgewpyZXR1cm4gbnVsbDsKfQoKcmV0dXJuICRtYXRjaGVzWydtYWpvciddLicuJy5zZWxmOjpjb252ZXJ0QWxwaGFWZXJzaW9uVG9JbnRWZXJzaW9uKCRtYXRjaGVzWydtaW5vciddKTsKfQoKCgoKCnB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gcGFyc2Vab25laW5mb1ZlcnNpb24oJHpvbmVpbmZvVmVyc2lvbikKewppZiAoIXByZWdfbWF0Y2goJy9eKD88eWVhcj5cZHs0fSkoPzxyZXZpc2lvbj5bYS16XSopJC8nLCAkem9uZWluZm9WZXJzaW9uLCAkbWF0Y2hlcykpIHsKcmV0dXJuIG51bGw7Cn0KCnJldHVybiAkbWF0Y2hlc1sneWVhciddLicuJy5zZWxmOjpjb252ZXJ0QWxwaGFWZXJzaW9uVG9JbnRWZXJzaW9uKCRtYXRjaGVzWydyZXZpc2lvbiddKTsKfQoKCgoKCgoKcHJpdmF0ZSBzdGF0aWMgZnVuY3Rpb24gY29udmVydEFscGhhVmVyc2lvblRvSW50VmVyc2lvbigkYWxwaGEpCnsKcmV0dXJuIHN0cmxlbigkYWxwaGEpICogKC1vcmQoJ2EnKSArIDEpICsgYXJyYXlfc3VtKGFycmF5X21hcCgnb3JkJywgc3RyX3NwbGl0KCRhbHBoYSkpKTsKfQoKCgoKCnB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gY29udmVydExpYnhwbVZlcnNpb25JZCgkdmVyc2lvbklkKQp7CnJldHVybiBzZWxmOjpjb252ZXJ0VmVyc2lvbklkKCR2ZXJzaW9uSWQsIDEwMCk7Cn0KCgoKCgpwdWJsaWMgc3RhdGljIGZ1bmN0aW9uIGNvbnZlcnRPcGVubGRhcFZlcnNpb25JZCgkdmVyc2lvbklkKQp7CnJldHVybiBzZWxmOjpjb252ZXJ0VmVyc2lvbklkKCR2ZXJzaW9uSWQsIDEwMCk7Cn0KCnByaXZhdGUgc3RhdGljIGZ1bmN0aW9uIGNvbnZlcnRWZXJzaW9uSWQoJHZlcnNpb25JZCwgJGJhc2UpCnsKcmV0dXJuIHNwcmludGYoCiclZC4lZC4lZCcsCiR2ZXJzaW9uSWQgLyAoJGJhc2UgKiAkYmFzZSksCihpbnQpICgkdmVyc2lvbklkIC8gJGJhc2UpICUgJGJhc2UsCiR2ZXJzaW9uSWQgJSAkYmFzZQopOwp9Cn0KPD9waHAKCgoKCgoKCgoKCgpuYW1lc3BhY2UgQ29tcG9zZXJcUGx1Z2luXENhcGFiaWxpdHk7CgoKCgoKCgppbnRlcmZhY2UgQ2FwYWJpbGl0eQp7Cn0KPD9waHAKCgoKCgoKCgoKCgpuYW1lc3BhY2UgQ29tcG9zZXJcUGx1Z2luXENhcGFiaWxpdHk7CgoKCgoKCgoKCgoKaW50ZXJmYWNlIENvbW1hbmRQcm92aWRlciBleHRlbmRzIENhcGFiaWxpdHkKewoKCgoKCnB1YmxpYyBmdW5jdGlvbiBnZXRDb21tYW5kcygpOwp9Cjw/cGhwCgoKCgoKCgoKCgoKbmFtZXNwYWNlIENvbXBvc2VyXFBsdWdpbjsKCgoKCgoKCgppbnRlcmZhY2UgQ2FwYWJsZQp7CgoKCgoKCgoKCgoKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBnZXRDYXBhYmlsaXRpZXMoKTsKfQo8P3BocAoKCgoKCgoKCgoKCm5hbWVzcGFjZSBDb21wb3NlclxQbHVnaW47Cgp1c2UgQ29tcG9zZXJcRXZlbnREaXNwYXRjaGVyXEV2ZW50Owp1c2UgU3ltZm9ueVxDb21wb25lbnRcQ29uc29sZVxJbnB1dFxJbnB1dEludGVyZmFjZTsKdXNlIFN5bWZvbnlcQ29tcG9uZW50XENvbnNvbGVcT3V0cHV0XE91dHB1dEludGVyZmFjZTsKCgoKCgoKY2xhc3MgQ29tbWFuZEV2ZW50IGV4dGVuZHMgRXZlbnQKewoKCgpwcml2YXRlICRjb21tYW5kTmFtZTsKCgoKCnByaXZhdGUgJGlucHV0OwoKCgoKcHJpdmF0ZSAkb3V0cHV0OwoKCgoKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBfX2NvbnN0cnVjdCgkbmFtZSwgJGNvbW1hbmROYW1lLCAkaW5wdXQsICRvdXRwdXQsIGFycmF5ICRhcmdzID0gYXJyYXkoKSwgYXJyYXkgJGZsYWdzID0gYXJyYXkoKSkKewpwYXJlbnQ6Ol9fY29uc3RydWN0KCRuYW1lLCAkYXJncywgJGZsYWdzKTsKJHRoaXMtPmNvbW1hbmROYW1lID0gJGNvbW1hbmROYW1lOwokdGhpcy0+aW5wdXQgPSAkaW5wdXQ7CiR0aGlzLT5vdXRwdXQgPSAkb3V0cHV0Owp9CgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBnZXRJbnB1dCgpCnsKcmV0dXJuICR0aGlzLT5pbnB1dDsKfQoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0T3V0cHV0KCkKewpyZXR1cm4gJHRoaXMtPm91dHB1dDsKfQoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0Q29tbWFuZE5hbWUoKQp7CnJldHVybiAkdGhpcy0+Y29tbWFuZE5hbWU7Cn0KfQo8P3BocAoKCgoKCgoKCgoKCm5hbWVzcGFjZSBDb21wb3NlclxQbHVnaW47CgoKCgoKCmNsYXNzIFBsdWdpbkV2ZW50cwp7CgoKCgoKCgoKY29uc3QgSU5JVCA9ICdpbml0JzsKCgoKCgoKCgoKY29uc3QgQ09NTUFORCA9ICdjb21tYW5kJzsKCgoKCgoKCgoKY29uc3QgUFJFX0ZJTEVfRE9XTkxPQUQgPSAncHJlLWZpbGUtZG93bmxvYWQnOwoKCgoKCgoKCgpjb25zdCBQT1NUX0ZJTEVfRE9XTkxPQUQgPSAncG9zdC1maWxlLWRvd25sb2FkJzsKCgoKCgoKCgoKY29uc3QgUFJFX0NPTU1BTkRfUlVOID0gJ3ByZS1jb21tYW5kLXJ1bic7CgoKCgoKCgoKCgpjb25zdCBQUkVfUE9PTF9DUkVBVEUgPSAncHJlLXBvb2wtY3JlYXRlJzsKfQo8P3BocAoKCgoKCgoKCgoKCm5hbWVzcGFjZSBDb21wb3NlclxQbHVnaW47Cgp1c2UgQ29tcG9zZXJcQ29tcG9zZXI7CnVzZSBDb21wb3NlclxJT1xJT0ludGVyZmFjZTsKCgoKCgoKaW50ZXJmYWNlIFBsdWdpbkludGVyZmFjZQp7CgoKCgoKCgoKCgpjb25zdCBQTFVHSU5fQVBJX1ZFUlNJT04gPSAnMi4xLjAnOwoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIGFjdGl2YXRlKENvbXBvc2VyICRjb21wb3NlciwgSU9JbnRlcmZhY2UgJGlvKTsKCgoKCgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gZGVhY3RpdmF0ZShDb21wb3NlciAkY29tcG9zZXIsIElPSW50ZXJmYWNlICRpbyk7CgoKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiB1bmluc3RhbGwoQ29tcG9zZXIgJGNvbXBvc2VyLCBJT0ludGVyZmFjZSAkaW8pOwp9Cjw/cGhwCgoKCgoKCgoKCgoKbmFtZXNwYWNlIENvbXBvc2VyXFBsdWdpbjsKCnVzZSBDb21wb3NlclxDb21wb3NlcjsKdXNlIENvbXBvc2VyXEV2ZW50RGlzcGF0Y2hlclxFdmVudFN1YnNjcmliZXJJbnRlcmZhY2U7CnVzZSBDb21wb3NlclxJT1xJT0ludGVyZmFjZTsKdXNlIENvbXBvc2VyXFBhY2thZ2VcQ29tcGxldGVQYWNrYWdlOwp1c2UgQ29tcG9zZXJcUGFja2FnZVxQYWNrYWdlOwp1c2UgQ29tcG9zZXJcUGFja2FnZVxWZXJzaW9uXFZlcnNpb25QYXJzZXI7CnVzZSBDb21wb3NlclxSZXBvc2l0b3J5XFJlcG9zaXRvcnlJbnRlcmZhY2U7CnVzZSBDb21wb3NlclxSZXBvc2l0b3J5XEluc3RhbGxlZFJlcG9zaXRvcnk7CnVzZSBDb21wb3NlclxSZXBvc2l0b3J5XFJvb3RQYWNrYWdlUmVwb3NpdG9yeTsKdXNlIENvbXBvc2VyXFBhY2thZ2VcUGFja2FnZUludGVyZmFjZTsKdXNlIENvbXBvc2VyXFBhY2thZ2VcTGluazsKdXNlIENvbXBvc2VyXFNlbXZlclxDb25zdHJhaW50XENvbnN0cmFpbnQ7CnVzZSBDb21wb3NlclxQbHVnaW5cQ2FwYWJpbGl0eVxDYXBhYmlsaXR5Owp1c2UgQ29tcG9zZXJcVXRpbFxQYWNrYWdlU29ydGVyOwoKCgoKCgoKY2xhc3MgUGx1Z2luTWFuYWdlcgp7Cgpwcm90ZWN0ZWQgJGNvbXBvc2VyOwoKcHJvdGVjdGVkICRpbzsKCnByb3RlY3RlZCAkZ2xvYmFsQ29tcG9zZXI7Cgpwcm90ZWN0ZWQgJHZlcnNpb25QYXJzZXI7Cgpwcm90ZWN0ZWQgJGRpc2FibGVQbHVnaW5zID0gZmFsc2U7CgoKcHJvdGVjdGVkICRwbHVnaW5zID0gYXJyYXkoKTsKCnByb3RlY3RlZCAkcmVnaXN0ZXJlZFBsdWdpbnMgPSBhcnJheSgpOwoKCnByaXZhdGUgc3RhdGljICRjbGFzc0NvdW50ZXIgPSAwOwoKCgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gX19jb25zdHJ1Y3QoSU9JbnRlcmZhY2UgJGlvLCBDb21wb3NlciAkY29tcG9zZXIsIENvbXBvc2VyICRnbG9iYWxDb21wb3NlciA9IG51bGwsICRkaXNhYmxlUGx1Z2lucyA9IGZhbHNlKQp7CiR0aGlzLT5pbyA9ICRpbzsKJHRoaXMtPmNvbXBvc2VyID0gJGNvbXBvc2VyOwokdGhpcy0+Z2xvYmFsQ29tcG9zZXIgPSAkZ2xvYmFsQ29tcG9zZXI7CiR0aGlzLT52ZXJzaW9uUGFyc2VyID0gbmV3IFZlcnNpb25QYXJzZXIoKTsKJHRoaXMtPmRpc2FibGVQbHVnaW5zID0gJGRpc2FibGVQbHVnaW5zOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gbG9hZEluc3RhbGxlZFBsdWdpbnMoKQp7CmlmICgkdGhpcy0+ZGlzYWJsZVBsdWdpbnMpIHsKcmV0dXJuOwp9CgokcmVwbyA9ICR0aGlzLT5jb21wb3Nlci0+Z2V0UmVwb3NpdG9yeU1hbmFnZXIoKS0+Z2V0TG9jYWxSZXBvc2l0b3J5KCk7CiRnbG9iYWxSZXBvID0gJHRoaXMtPmdsb2JhbENvbXBvc2VyID8gJHRoaXMtPmdsb2JhbENvbXBvc2VyLT5nZXRSZXBvc2l0b3J5TWFuYWdlcigpLT5nZXRMb2NhbFJlcG9zaXRvcnkoKSA6IG51bGw7CmlmICgkcmVwbykgewokdGhpcy0+bG9hZFJlcG9zaXRvcnkoJHJlcG8sIGZhbHNlKTsKfQppZiAoJGdsb2JhbFJlcG8pIHsKJHRoaXMtPmxvYWRSZXBvc2l0b3J5KCRnbG9iYWxSZXBvLCB0cnVlKTsKfQp9CgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBnZXRQbHVnaW5zKCkKewpyZXR1cm4gJHRoaXMtPnBsdWdpbnM7Cn0KCgoKCgoKcHVibGljIGZ1bmN0aW9uIGdldEdsb2JhbENvbXBvc2VyKCkKewpyZXR1cm4gJHRoaXMtPmdsb2JhbENvbXBvc2VyOwp9CgoKCgoKCgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gcmVnaXN0ZXJQYWNrYWdlKFBhY2thZ2VJbnRlcmZhY2UgJHBhY2thZ2UsICRmYWlsT25NaXNzaW5nQ2xhc3NlcyA9IGZhbHNlLCAkaXNHbG9iYWxQbHVnaW4gPSBmYWxzZSkKewppZiAoJHRoaXMtPmRpc2FibGVQbHVnaW5zKSB7CnJldHVybjsKfQoKaWYgKCRwYWNrYWdlLT5nZXRUeXBlKCkgPT09ICdjb21wb3Nlci1wbHVnaW4nKSB7CiRyZXF1aXJlc0NvbXBvc2VyID0gbnVsbDsKZm9yZWFjaCAoJHBhY2thZ2UtPmdldFJlcXVpcmVzKCkgYXMgJGxpbmspIHsgCmlmICgnY29tcG9zZXItcGx1Z2luLWFwaScgPT09ICRsaW5rLT5nZXRUYXJnZXQoKSkgewokcmVxdWlyZXNDb21wb3NlciA9ICRsaW5rLT5nZXRDb25zdHJhaW50KCk7CmJyZWFrOwp9Cn0KCmlmICghJHJlcXVpcmVzQ29tcG9zZXIpIHsKdGhyb3cgbmV3IFxSdW50aW1lRXhjZXB0aW9uKCJQbHVnaW4gIi4kcGFja2FnZS0+Z2V0TmFtZSgpLiIgaXMgbWlzc2luZyBhIHJlcXVpcmUgc3RhdGVtZW50IGZvciBhIHZlcnNpb24gb2YgdGhlIGNvbXBvc2VyLXBsdWdpbi1hcGkgcGFja2FnZS4iKTsKfQoKJGN1cnJlbnRQbHVnaW5BcGlWZXJzaW9uID0gJHRoaXMtPmdldFBsdWdpbkFwaVZlcnNpb24oKTsKJGN1cnJlbnRQbHVnaW5BcGlDb25zdHJhaW50ID0gbmV3IENvbnN0cmFpbnQoJz09JywgJHRoaXMtPnZlcnNpb25QYXJzZXItPm5vcm1hbGl6ZSgkY3VycmVudFBsdWdpbkFwaVZlcnNpb24pKTsKCmlmICgkcmVxdWlyZXNDb21wb3Nlci0+Z2V0UHJldHR5U3RyaW5nKCkgPT09ICR0aGlzLT5nZXRQbHVnaW5BcGlWZXJzaW9uKCkpIHsKJHRoaXMtPmlvLT53cml0ZUVycm9yKCc8d2FybmluZz5UaGUgIicgLiAkcGFja2FnZS0+Z2V0TmFtZSgpIC4gJyIgcGx1Z2luIHJlcXVpcmVzIGNvbXBvc2VyLXBsdWdpbi1hcGkgJy4kdGhpcy0+Z2V0UGx1Z2luQXBpVmVyc2lvbigpLicsIHRoaXMgKldJTEwqIGJyZWFrIGluIHRoZSBmdXR1cmUgYW5kIGl0IHNob3VsZCBiZSBmaXhlZCBBU0FQIChyZXF1aXJlIF4nLiR0aGlzLT5nZXRQbHVnaW5BcGlWZXJzaW9uKCkuJyBpbnN0ZWFkIGZvciBleGFtcGxlKS48L3dhcm5pbmc+Jyk7Cn0gZWxzZWlmICghJHJlcXVpcmVzQ29tcG9zZXItPm1hdGNoZXMoJGN1cnJlbnRQbHVnaW5BcGlDb25zdHJhaW50KSkgewokdGhpcy0+aW8tPndyaXRlRXJyb3IoJzx3YXJuaW5nPlRoZSAiJyAuICRwYWNrYWdlLT5nZXROYW1lKCkgLiAnIiBwbHVnaW4gJy4oJGlzR2xvYmFsUGx1Z2luID8gJyhpbnN0YWxsZWQgZ2xvYmFsbHkpICcgOiAnJykuJ3dhcyBza2lwcGVkIGJlY2F1c2UgaXQgcmVxdWlyZXMgYSBQbHVnaW4gQVBJIHZlcnNpb24gKCInIC4gJHJlcXVpcmVzQ29tcG9zZXItPmdldFByZXR0eVN0cmluZygpIC4gJyIpIHRoYXQgZG9lcyBub3QgbWF0Y2ggeW91ciBDb21wb3NlciBpbnN0YWxsYXRpb24gKCInIC4gJGN1cnJlbnRQbHVnaW5BcGlWZXJzaW9uIC4gJyIpLiBZb3UgbWF5IG5lZWQgdG8gcnVuIGNvbXBvc2VyIHVwZGF0ZSB3aXRoIHRoZSAiLS1uby1wbHVnaW5zIiBvcHRpb24uPC93YXJuaW5nPicpOwoKcmV0dXJuOwp9CgppZiAoJHBhY2thZ2UtPmdldE5hbWUoKSA9PT0gJ3N5bWZvbnkvZmxleCcgJiYgcHJlZ19tYXRjaCgne15bMC05Ll0rJH0nLCAkcGFja2FnZS0+Z2V0VmVyc2lvbigpKSAmJiB2ZXJzaW9uX2NvbXBhcmUoJHBhY2thZ2UtPmdldFZlcnNpb24oKSwgJzEuOS44JywgJzwnKSkgewokdGhpcy0+aW8tPndyaXRlRXJyb3IoJzx3YXJuaW5nPlRoZSAiJyAuICRwYWNrYWdlLT5nZXROYW1lKCkgLiAnIiBwbHVnaW4gJy4oJGlzR2xvYmFsUGx1Z2luID8gJyhpbnN0YWxsZWQgZ2xvYmFsbHkpICcgOiAnJykuJ3dhcyBza2lwcGVkIGJlY2F1c2UgaXQgaXMgbm90IGNvbXBhdGlibGUgd2l0aCBDb21wb3NlciAyKy4gTWFrZSBzdXJlIHRvIHVwZGF0ZSBpdCB0byB2ZXJzaW9uIDEuOS44IG9yIGdyZWF0ZXIuPC93YXJuaW5nPicpOwoKcmV0dXJuOwp9Cn0KCiRvbGRJbnN0YWxsZXJQbHVnaW4gPSAoJHBhY2thZ2UtPmdldFR5cGUoKSA9PT0gJ2NvbXBvc2VyLWluc3RhbGxlcicpOwoKaWYgKGlzc2V0KCR0aGlzLT5yZWdpc3RlcmVkUGx1Z2luc1skcGFja2FnZS0+Z2V0TmFtZSgpXSkpIHsKcmV0dXJuOwp9CgokZXh0cmEgPSAkcGFja2FnZS0+Z2V0RXh0cmEoKTsKaWYgKGVtcHR5KCRleHRyYVsnY2xhc3MnXSkpIHsKdGhyb3cgbmV3IFxVbmV4cGVjdGVkVmFsdWVFeGNlcHRpb24oJ0Vycm9yIHdoaWxlIGluc3RhbGxpbmcgJy4kcGFja2FnZS0+Z2V0UHJldHR5TmFtZSgpLicsIGNvbXBvc2VyLXBsdWdpbiBwYWNrYWdlcyBzaG91bGQgaGF2ZSBhIGNsYXNzIGRlZmluZWQgaW4gdGhlaXIgZXh0cmEga2V5IHRvIGJlIHVzYWJsZS4nKTsKfQokY2xhc3NlcyA9IGlzX2FycmF5KCRleHRyYVsnY2xhc3MnXSkgPyAkZXh0cmFbJ2NsYXNzJ10gOiBhcnJheSgkZXh0cmFbJ2NsYXNzJ10pOwoKJGxvY2FsUmVwbyA9ICR0aGlzLT5jb21wb3Nlci0+Z2V0UmVwb3NpdG9yeU1hbmFnZXIoKS0+Z2V0TG9jYWxSZXBvc2l0b3J5KCk7CiRnbG9iYWxSZXBvID0gJHRoaXMtPmdsb2JhbENvbXBvc2VyID8gJHRoaXMtPmdsb2JhbENvbXBvc2VyLT5nZXRSZXBvc2l0b3J5TWFuYWdlcigpLT5nZXRMb2NhbFJlcG9zaXRvcnkoKSA6IG51bGw7Cgokcm9vdFBhY2thZ2UgPSBjbG9uZSAkdGhpcy0+Y29tcG9zZXItPmdldFBhY2thZ2UoKTsKJHJvb3RQYWNrYWdlUmVwbyA9IG5ldyBSb290UGFja2FnZVJlcG9zaXRvcnkoJHJvb3RQYWNrYWdlKTsKJGluc3RhbGxlZFJlcG8gPSBuZXcgSW5zdGFsbGVkUmVwb3NpdG9yeShhcnJheSgkbG9jYWxSZXBvLCAkcm9vdFBhY2thZ2VSZXBvKSk7CmlmICgkZ2xvYmFsUmVwbykgewokaW5zdGFsbGVkUmVwby0+YWRkUmVwb3NpdG9yeSgkZ2xvYmFsUmVwbyk7Cn0KCiRhdXRvbG9hZFBhY2thZ2VzID0gYXJyYXkoJHBhY2thZ2UtPmdldE5hbWUoKSA9PiAkcGFja2FnZSk7CiRhdXRvbG9hZFBhY2thZ2VzID0gJHRoaXMtPmNvbGxlY3REZXBlbmRlbmNpZXMoJGluc3RhbGxlZFJlcG8sICRhdXRvbG9hZFBhY2thZ2VzLCAkcGFja2FnZSk7CgokZ2VuZXJhdG9yID0gJHRoaXMtPmNvbXBvc2VyLT5nZXRBdXRvbG9hZEdlbmVyYXRvcigpOwokYXV0b2xvYWRzID0gYXJyYXkoYXJyYXkoJHJvb3RQYWNrYWdlLCAnJykpOwpmb3JlYWNoICgkYXV0b2xvYWRQYWNrYWdlcyBhcyAkYXV0b2xvYWRQYWNrYWdlKSB7CmlmICgkYXV0b2xvYWRQYWNrYWdlID09PSAkcm9vdFBhY2thZ2UpIHsKY29udGludWU7Cn0KCiRkb3dubG9hZFBhdGggPSAkdGhpcy0+Z2V0SW5zdGFsbFBhdGgoJGF1dG9sb2FkUGFja2FnZSwgJGdsb2JhbFJlcG8gJiYgJGdsb2JhbFJlcG8tPmhhc1BhY2thZ2UoJGF1dG9sb2FkUGFja2FnZSkpOwokYXV0b2xvYWRzW10gPSBhcnJheSgkYXV0b2xvYWRQYWNrYWdlLCAkZG93bmxvYWRQYXRoKTsKfQoKJG1hcCA9ICRnZW5lcmF0b3ItPnBhcnNlQXV0b2xvYWRzKCRhdXRvbG9hZHMsICRyb290UGFja2FnZSk7CiRjbGFzc0xvYWRlciA9ICRnZW5lcmF0b3ItPmNyZWF0ZUxvYWRlcigkbWFwLCAkdGhpcy0+Y29tcG9zZXItPmdldENvbmZpZygpLT5nZXQoJ3ZlbmRvci1kaXInKSk7CiRjbGFzc0xvYWRlci0+cmVnaXN0ZXIoZmFsc2UpOwoKZm9yZWFjaCAoJGNsYXNzZXMgYXMgJGNsYXNzKSB7CmlmIChjbGFzc19leGlzdHMoJGNsYXNzLCBmYWxzZSkpIHsKJGNsYXNzID0gdHJpbSgkY2xhc3MsICdcXCcpOwokcGF0aCA9ICRjbGFzc0xvYWRlci0+ZmluZEZpbGUoJGNsYXNzKTsKJGNvZGUgPSBmaWxlX2dldF9jb250ZW50cygkcGF0aCk7CiRzZXBhcmF0b3JQb3MgPSBzdHJycG9zKCRjbGFzcywgJ1xcJyk7CiRjbGFzc05hbWUgPSAkY2xhc3M7CmlmICgkc2VwYXJhdG9yUG9zKSB7CiRjbGFzc05hbWUgPSBzdWJzdHIoJGNsYXNzLCAkc2VwYXJhdG9yUG9zICsgMSk7Cn0KJGNvZGUgPSBwcmVnX3JlcGxhY2UoJ3teKCg/OmZpbmFsXHMrKT8oPzpccyopKWNsYXNzXHMrKCcucHJlZ19xdW90ZSgkY2xhc3NOYW1lKS4nKX1taScsICckMWNsYXNzICQyX2NvbXBvc2VyX3RtcCcuc2VsZjo6JGNsYXNzQ291bnRlciwgJGNvZGUsIDEpOwokY29kZSA9IHN0cnRyKCRjb2RlLCBhcnJheSgKJ19fRklMRV9fJyA9PiB2YXJfZXhwb3J0KCRwYXRoLCB0cnVlKSwKJ19fRElSX18nID0+IHZhcl9leHBvcnQoZGlybmFtZSgkcGF0aCksIHRydWUpLAonX19DTEFTU19fJyA9PiB2YXJfZXhwb3J0KCRjbGFzcywgdHJ1ZSksCikpOwokY29kZSA9IHByZWdfcmVwbGFjZSgnL15ccyo8XD8ocGhwKT8vaScsICcnLCAkY29kZSwgMSk7CmV2YWwoJGNvZGUpOwokY2xhc3MgLj0gJ19jb21wb3Nlcl90bXAnLnNlbGY6OiRjbGFzc0NvdW50ZXI7CnNlbGY6OiRjbGFzc0NvdW50ZXIrKzsKfQoKaWYgKCRvbGRJbnN0YWxsZXJQbHVnaW4pIHsKJHRoaXMtPmlvLT53cml0ZUVycm9yKCc8d2FybmluZz5Mb2FkaW5nICInLiRwYWNrYWdlLT5nZXROYW1lKCkgLiAnIiAnLigkaXNHbG9iYWxQbHVnaW4gPyAnKGluc3RhbGxlZCBnbG9iYWxseSkgJyA6ICcnKS4nd2hpY2ggaXMgYSBsZWdhY3kgY29tcG9zZXItaW5zdGFsbGVyIGJ1aWx0IGZvciBDb21wb3NlciAxLngsIGl0IGlzIGxpa2VseSB0byBjYXVzZSBpc3N1ZXMgYXMgeW91IGFyZSBydW5uaW5nIENvbXBvc2VyIDIueC48L3dhcm5pbmc+Jyk7CiRpbnN0YWxsZXIgPSBuZXcgJGNsYXNzKCR0aGlzLT5pbywgJHRoaXMtPmNvbXBvc2VyKTsKJHRoaXMtPmNvbXBvc2VyLT5nZXRJbnN0YWxsYXRpb25NYW5hZ2VyKCktPmFkZEluc3RhbGxlcigkaW5zdGFsbGVyKTsKJHRoaXMtPnJlZ2lzdGVyZWRQbHVnaW5zWyRwYWNrYWdlLT5nZXROYW1lKCldID0gJGluc3RhbGxlcjsKfSBlbHNlaWYgKGNsYXNzX2V4aXN0cygkY2xhc3MpKSB7CiRwbHVnaW4gPSBuZXcgJGNsYXNzKCk7CiR0aGlzLT5hZGRQbHVnaW4oJHBsdWdpbiwgJGlzR2xvYmFsUGx1Z2luLCAkcGFja2FnZSk7CiR0aGlzLT5yZWdpc3RlcmVkUGx1Z2luc1skcGFja2FnZS0+Z2V0TmFtZSgpXSA9ICRwbHVnaW47Cn0gZWxzZWlmICgkZmFpbE9uTWlzc2luZ0NsYXNzZXMpIHsKdGhyb3cgbmV3IFxVbmV4cGVjdGVkVmFsdWVFeGNlcHRpb24oJ1BsdWdpbiAnLiRwYWNrYWdlLT5nZXROYW1lKCkuJyBjb3VsZCBub3QgYmUgaW5pdGlhbGl6ZWQsIGNsYXNzIG5vdCBmb3VuZDogJy4kY2xhc3MpOwp9Cn0KfQoKCgoKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBkZWFjdGl2YXRlUGFja2FnZShQYWNrYWdlSW50ZXJmYWNlICRwYWNrYWdlKQp7CmlmICgkdGhpcy0+ZGlzYWJsZVBsdWdpbnMpIHsKcmV0dXJuOwp9Cgokb2xkSW5zdGFsbGVyUGx1Z2luID0gKCRwYWNrYWdlLT5nZXRUeXBlKCkgPT09ICdjb21wb3Nlci1pbnN0YWxsZXInKTsKCmlmICghaXNzZXQoJHRoaXMtPnJlZ2lzdGVyZWRQbHVnaW5zWyRwYWNrYWdlLT5nZXROYW1lKCldKSkgewpyZXR1cm47Cn0KCmlmICgkb2xkSW5zdGFsbGVyUGx1Z2luKSB7CiRpbnN0YWxsZXIgPSAkdGhpcy0+cmVnaXN0ZXJlZFBsdWdpbnNbJHBhY2thZ2UtPmdldE5hbWUoKV07CnVuc2V0KCR0aGlzLT5yZWdpc3RlcmVkUGx1Z2luc1skcGFja2FnZS0+Z2V0TmFtZSgpXSk7CiR0aGlzLT5jb21wb3Nlci0+Z2V0SW5zdGFsbGF0aW9uTWFuYWdlcigpLT5yZW1vdmVJbnN0YWxsZXIoJGluc3RhbGxlcik7Cn0gZWxzZSB7CiRwbHVnaW4gPSAkdGhpcy0+cmVnaXN0ZXJlZFBsdWdpbnNbJHBhY2thZ2UtPmdldE5hbWUoKV07CnVuc2V0KCR0aGlzLT5yZWdpc3RlcmVkUGx1Z2luc1skcGFja2FnZS0+Z2V0TmFtZSgpXSk7CiR0aGlzLT5yZW1vdmVQbHVnaW4oJHBsdWdpbik7Cn0KfQoKCgoKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiB1bmluc3RhbGxQYWNrYWdlKFBhY2thZ2VJbnRlcmZhY2UgJHBhY2thZ2UpCnsKaWYgKCR0aGlzLT5kaXNhYmxlUGx1Z2lucykgewpyZXR1cm47Cn0KCiRvbGRJbnN0YWxsZXJQbHVnaW4gPSAoJHBhY2thZ2UtPmdldFR5cGUoKSA9PT0gJ2NvbXBvc2VyLWluc3RhbGxlcicpOwoKaWYgKCFpc3NldCgkdGhpcy0+cmVnaXN0ZXJlZFBsdWdpbnNbJHBhY2thZ2UtPmdldE5hbWUoKV0pKSB7CnJldHVybjsKfQoKaWYgKCRvbGRJbnN0YWxsZXJQbHVnaW4pIHsKJHRoaXMtPmRlYWN0aXZhdGVQYWNrYWdlKCRwYWNrYWdlKTsKfSBlbHNlIHsKJHBsdWdpbiA9ICR0aGlzLT5yZWdpc3RlcmVkUGx1Z2luc1skcGFja2FnZS0+Z2V0TmFtZSgpXTsKdW5zZXQoJHRoaXMtPnJlZ2lzdGVyZWRQbHVnaW5zWyRwYWNrYWdlLT5nZXROYW1lKCldKTsKJHRoaXMtPnJlbW92ZVBsdWdpbigkcGx1Z2luKTsKJHRoaXMtPnVuaW5zdGFsbFBsdWdpbigkcGx1Z2luKTsKfQp9CgoKCgoKCnByb3RlY3RlZCBmdW5jdGlvbiBnZXRQbHVnaW5BcGlWZXJzaW9uKCkKewpyZXR1cm4gUGx1Z2luSW50ZXJmYWNlOjpQTFVHSU5fQVBJX1ZFUlNJT047Cn0KCgoKCgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gYWRkUGx1Z2luKFBsdWdpbkludGVyZmFjZSAkcGx1Z2luLCAkaXNHbG9iYWxQbHVnaW4gPSBmYWxzZSwgUGFja2FnZUludGVyZmFjZSAkc291cmNlUGFja2FnZSA9IG51bGwpCnsKJGRldGFpbHMgPSBhcnJheSgpOwppZiAoJHNvdXJjZVBhY2thZ2UpIHsKJGRldGFpbHNbXSA9ICdmcm9tICcuJHNvdXJjZVBhY2thZ2UtPmdldE5hbWUoKTsKfQppZiAoJGlzR2xvYmFsUGx1Z2luKSB7CiRkZXRhaWxzW10gPSAnaW5zdGFsbGVkIGdsb2JhbGx5JzsKfQokdGhpcy0+aW8tPndyaXRlRXJyb3IoJ0xvYWRpbmcgcGx1Z2luICcuZ2V0X2NsYXNzKCRwbHVnaW4pLigkZGV0YWlscyA/ICcgKCcuaW1wbG9kZSgnLCAnLCAkZGV0YWlscykuJyknIDogJycpLCB0cnVlLCBJT0ludGVyZmFjZTo6REVCVUcpOwokdGhpcy0+cGx1Z2luc1tdID0gJHBsdWdpbjsKJHBsdWdpbi0+YWN0aXZhdGUoJHRoaXMtPmNvbXBvc2VyLCAkdGhpcy0+aW8pOwoKaWYgKCRwbHVnaW4gaW5zdGFuY2VvZiBFdmVudFN1YnNjcmliZXJJbnRlcmZhY2UpIHsKJHRoaXMtPmNvbXBvc2VyLT5nZXRFdmVudERpc3BhdGNoZXIoKS0+YWRkU3Vic2NyaWJlcigkcGx1Z2luKTsKfQp9CgoKCgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gcmVtb3ZlUGx1Z2luKFBsdWdpbkludGVyZmFjZSAkcGx1Z2luKQp7CiRpbmRleCA9IGFycmF5X3NlYXJjaCgkcGx1Z2luLCAkdGhpcy0+cGx1Z2lucywgdHJ1ZSk7CmlmICgkaW5kZXggPT09IGZhbHNlKSB7CnJldHVybjsKfQoKJHRoaXMtPmlvLT53cml0ZUVycm9yKCdVbmxvYWRpbmcgcGx1Z2luICcuZ2V0X2NsYXNzKCRwbHVnaW4pLCB0cnVlLCBJT0ludGVyZmFjZTo6REVCVUcpOwp1bnNldCgkdGhpcy0+cGx1Z2luc1skaW5kZXhdKTsKJHBsdWdpbi0+ZGVhY3RpdmF0ZSgkdGhpcy0+Y29tcG9zZXIsICR0aGlzLT5pbyk7CgokdGhpcy0+Y29tcG9zZXItPmdldEV2ZW50RGlzcGF0Y2hlcigpLT5yZW1vdmVMaXN0ZW5lcigkcGx1Z2luKTsKfQoKCgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIHVuaW5zdGFsbFBsdWdpbihQbHVnaW5JbnRlcmZhY2UgJHBsdWdpbikKewokdGhpcy0+aW8tPndyaXRlRXJyb3IoJ1VuaW5zdGFsbGluZyBwbHVnaW4gJy5nZXRfY2xhc3MoJHBsdWdpbiksIHRydWUsIElPSW50ZXJmYWNlOjpERUJVRyk7CiRwbHVnaW4tPnVuaW5zdGFsbCgkdGhpcy0+Y29tcG9zZXIsICR0aGlzLT5pbyk7Cn0KCgoKCgoKCgoKCgoKCgpwcml2YXRlIGZ1bmN0aW9uIGxvYWRSZXBvc2l0b3J5KFJlcG9zaXRvcnlJbnRlcmZhY2UgJHJlcG8sICRpc0dsb2JhbFJlcG8pCnsKJHBhY2thZ2VzID0gJHJlcG8tPmdldFBhY2thZ2VzKCk7CiRzb3J0ZWRQYWNrYWdlcyA9IFBhY2thZ2VTb3J0ZXI6OnNvcnRQYWNrYWdlcygkcGFja2FnZXMpOwpmb3JlYWNoICgkc29ydGVkUGFja2FnZXMgYXMgJHBhY2thZ2UpIHsKaWYgKCEoJHBhY2thZ2UgaW5zdGFuY2VvZiBDb21wbGV0ZVBhY2thZ2UpKSB7CmNvbnRpbnVlOwp9CmlmICgnY29tcG9zZXItcGx1Z2luJyA9PT0gJHBhY2thZ2UtPmdldFR5cGUoKSkgewokdGhpcy0+cmVnaXN0ZXJQYWNrYWdlKCRwYWNrYWdlLCBmYWxzZSwgJGlzR2xvYmFsUmVwbyk7Cgp9IGVsc2VpZiAoJ2NvbXBvc2VyLWluc3RhbGxlcicgPT09ICRwYWNrYWdlLT5nZXRUeXBlKCkpIHsKJHRoaXMtPnJlZ2lzdGVyUGFja2FnZSgkcGFja2FnZSwgZmFsc2UsICRpc0dsb2JhbFJlcG8pOwp9Cn0KfQoKCgoKCgoKCgoKcHJpdmF0ZSBmdW5jdGlvbiBjb2xsZWN0RGVwZW5kZW5jaWVzKEluc3RhbGxlZFJlcG9zaXRvcnkgJGluc3RhbGxlZFJlcG8sIGFycmF5ICRjb2xsZWN0ZWQsIFBhY2thZ2VJbnRlcmZhY2UgJHBhY2thZ2UpCnsKZm9yZWFjaCAoJHBhY2thZ2UtPmdldFJlcXVpcmVzKCkgYXMgJHJlcXVpcmVMaW5rKSB7CmZvcmVhY2ggKCRpbnN0YWxsZWRSZXBvLT5maW5kUGFja2FnZXNXaXRoUmVwbGFjZXJzQW5kUHJvdmlkZXJzKCRyZXF1aXJlTGluay0+Z2V0VGFyZ2V0KCkpIGFzICRyZXF1aXJlZFBhY2thZ2UpIHsKaWYgKCFpc3NldCgkY29sbGVjdGVkWyRyZXF1aXJlZFBhY2thZ2UtPmdldE5hbWUoKV0pKSB7CiRjb2xsZWN0ZWRbJHJlcXVpcmVkUGFja2FnZS0+Z2V0TmFtZSgpXSA9ICRyZXF1aXJlZFBhY2thZ2U7CiRjb2xsZWN0ZWQgPSAkdGhpcy0+Y29sbGVjdERlcGVuZGVuY2llcygkaW5zdGFsbGVkUmVwbywgJGNvbGxlY3RlZCwgJHJlcXVpcmVkUGFja2FnZSk7Cn0KfQp9CgpyZXR1cm4gJGNvbGxlY3RlZDsKfQoKCgoKCgoKCgpwcml2YXRlIGZ1bmN0aW9uIGdldEluc3RhbGxQYXRoKFBhY2thZ2VJbnRlcmZhY2UgJHBhY2thZ2UsICRnbG9iYWwgPSBmYWxzZSkKewppZiAoISRnbG9iYWwpIHsKcmV0dXJuICR0aGlzLT5jb21wb3Nlci0+Z2V0SW5zdGFsbGF0aW9uTWFuYWdlcigpLT5nZXRJbnN0YWxsUGF0aCgkcGFja2FnZSk7Cn0KCnJldHVybiAkdGhpcy0+Z2xvYmFsQ29tcG9zZXItPmdldEluc3RhbGxhdGlvbk1hbmFnZXIoKS0+Z2V0SW5zdGFsbFBhdGgoJHBhY2thZ2UpOwp9CgoKCgoKCgpwcm90ZWN0ZWQgZnVuY3Rpb24gZ2V0Q2FwYWJpbGl0eUltcGxlbWVudGF0aW9uQ2xhc3NOYW1lKFBsdWdpbkludGVyZmFjZSAkcGx1Z2luLCAkY2FwYWJpbGl0eSkKewppZiAoISgkcGx1Z2luIGluc3RhbmNlb2YgQ2FwYWJsZSkpIHsKcmV0dXJuIG51bGw7Cn0KCiRjYXBhYmlsaXRpZXMgPSAoYXJyYXkpICRwbHVnaW4tPmdldENhcGFiaWxpdGllcygpOwoKaWYgKCFlbXB0eSgkY2FwYWJpbGl0aWVzWyRjYXBhYmlsaXR5XSkgJiYgaXNfc3RyaW5nKCRjYXBhYmlsaXRpZXNbJGNhcGFiaWxpdHldKSAmJiB0cmltKCRjYXBhYmlsaXRpZXNbJGNhcGFiaWxpdHldKSkgewpyZXR1cm4gdHJpbSgkY2FwYWJpbGl0aWVzWyRjYXBhYmlsaXR5XSk7Cn0KCmlmICgKYXJyYXlfa2V5X2V4aXN0cygkY2FwYWJpbGl0eSwgJGNhcGFiaWxpdGllcykKJiYgKGVtcHR5KCRjYXBhYmlsaXRpZXNbJGNhcGFiaWxpdHldKSB8fCAhaXNfc3RyaW5nKCRjYXBhYmlsaXRpZXNbJGNhcGFiaWxpdHldKSB8fCAhdHJpbSgkY2FwYWJpbGl0aWVzWyRjYXBhYmlsaXR5XSkpCikgewp0aHJvdyBuZXcgXFVuZXhwZWN0ZWRWYWx1ZUV4Y2VwdGlvbignUGx1Z2luICcuZ2V0X2NsYXNzKCRwbHVnaW4pLicgcHJvdmlkZWQgaW52YWxpZCBjYXBhYmlsaXR5IGNsYXNzIG5hbWUocyksIGdvdCAnLnZhcl9leHBvcnQoJGNhcGFiaWxpdGllc1skY2FwYWJpbGl0eV0sIDEpKTsKfQoKcmV0dXJuIG51bGw7Cn0KCgoKCgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIGdldFBsdWdpbkNhcGFiaWxpdHkoUGx1Z2luSW50ZXJmYWNlICRwbHVnaW4sICRjYXBhYmlsaXR5Q2xhc3NOYW1lLCBhcnJheSAkY3RvckFyZ3MgPSBhcnJheSgpKQp7CmlmICgkY2FwYWJpbGl0eUNsYXNzID0gJHRoaXMtPmdldENhcGFiaWxpdHlJbXBsZW1lbnRhdGlvbkNsYXNzTmFtZSgkcGx1Z2luLCAkY2FwYWJpbGl0eUNsYXNzTmFtZSkpIHsKaWYgKCFjbGFzc19leGlzdHMoJGNhcGFiaWxpdHlDbGFzcykpIHsKdGhyb3cgbmV3IFxSdW50aW1lRXhjZXB0aW9uKCJDYW5ub3QgaW5zdGFudGlhdGUgQ2FwYWJpbGl0eSwgYXMgY2xhc3MgJGNhcGFiaWxpdHlDbGFzcyBmcm9tIHBsdWdpbiAiLmdldF9jbGFzcygkcGx1Z2luKS4iIGRvZXMgbm90IGV4aXN0LiIpOwp9CgokY3RvckFyZ3NbJ3BsdWdpbiddID0gJHBsdWdpbjsKJGNhcGFiaWxpdHlPYmogPSBuZXcgJGNhcGFiaWxpdHlDbGFzcygkY3RvckFyZ3MpOwoKCmlmICghJGNhcGFiaWxpdHlPYmogaW5zdGFuY2VvZiBDYXBhYmlsaXR5IHx8ICEkY2FwYWJpbGl0eU9iaiBpbnN0YW5jZW9mICRjYXBhYmlsaXR5Q2xhc3NOYW1lKSB7CnRocm93IG5ldyBcUnVudGltZUV4Y2VwdGlvbigKJ0NsYXNzICcgLiAkY2FwYWJpbGl0eUNsYXNzIC4gJyBtdXN0IGltcGxlbWVudCBib3RoIENvbXBvc2VyXFBsdWdpblxDYXBhYmlsaXR5XENhcGFiaWxpdHkgYW5kICcuICRjYXBhYmlsaXR5Q2xhc3NOYW1lIC4gJy4nCik7Cn0KCnJldHVybiAkY2FwYWJpbGl0eU9iajsKfQoKcmV0dXJuIG51bGw7Cn0KCgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIGdldFBsdWdpbkNhcGFiaWxpdGllcygkY2FwYWJpbGl0eUNsYXNzTmFtZSwgYXJyYXkgJGN0b3JBcmdzID0gYXJyYXkoKSkKewokY2FwYWJpbGl0aWVzID0gYXJyYXkoKTsKZm9yZWFjaCAoJHRoaXMtPmdldFBsdWdpbnMoKSBhcyAkcGx1Z2luKSB7CmlmICgkY2FwYWJpbGl0eSA9ICR0aGlzLT5nZXRQbHVnaW5DYXBhYmlsaXR5KCRwbHVnaW4sICRjYXBhYmlsaXR5Q2xhc3NOYW1lLCAkY3RvckFyZ3MpKSB7CiRjYXBhYmlsaXRpZXNbXSA9ICRjYXBhYmlsaXR5Owp9Cn0KCnJldHVybiAkY2FwYWJpbGl0aWVzOwp9Cn0KPD9waHAKCgoKCgoKCgoKCgpuYW1lc3BhY2UgQ29tcG9zZXJcUGx1Z2luOwoKdXNlIENvbXBvc2VyXEV2ZW50RGlzcGF0Y2hlclxFdmVudDsKdXNlIENvbXBvc2VyXFBhY2thZ2VcUGFja2FnZUludGVyZmFjZTsKCgoKCgoKY2xhc3MgUG9zdEZpbGVEb3dubG9hZEV2ZW50IGV4dGVuZHMgRXZlbnQKewoKCgpwcml2YXRlICRmaWxlTmFtZTsKCgoKCnByaXZhdGUgJGNoZWNrc3VtOwoKCgoKcHJpdmF0ZSAkdXJsOwoKCgoKcHJpdmF0ZSAkY29udGV4dDsKCgoKCnByaXZhdGUgJHR5cGU7CgoKCgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIF9fY29uc3RydWN0KCRuYW1lLCAkZmlsZU5hbWUsICRjaGVja3N1bSwgJHVybCwgJHR5cGUsICRjb250ZXh0ID0gbnVsbCkKewppZiAoJGNvbnRleHQgPT09IG51bGwgJiYgJHR5cGUgaW5zdGFuY2VvZiBQYWNrYWdlSW50ZXJmYWNlKSB7CiRjb250ZXh0ID0gJHR5cGU7CiR0eXBlID0gJ3BhY2thZ2UnOwp0cmlnZ2VyX2Vycm9yKCdQb3N0RmlsZURvd25sb2FkRXZlbnQ6Ol9fY29uc3RydWN0IHNob3VsZCByZWNlaXZlIGEgJHR5cGU9cGFja2FnZSBhbmQgdGhlIHBhY2thZ2Ugb2JqZWN0IGluICRjb250ZXh0IHNpbmNlIENvbXBvc2VyIDIuMS4nLCBFX1VTRVJfREVQUkVDQVRFRCk7Cn0KCnBhcmVudDo6X19jb25zdHJ1Y3QoJG5hbWUpOwokdGhpcy0+ZmlsZU5hbWUgPSAkZmlsZU5hbWU7CiR0aGlzLT5jaGVja3N1bSA9ICRjaGVja3N1bTsKJHRoaXMtPnVybCA9ICR1cmw7CiR0aGlzLT5jb250ZXh0ID0gJGNvbnRleHQ7CiR0aGlzLT50eXBlID0gJHR5cGU7Cn0KCgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0RmlsZU5hbWUoKQp7CnJldHVybiAkdGhpcy0+ZmlsZU5hbWU7Cn0KCgoKCgoKcHVibGljIGZ1bmN0aW9uIGdldENoZWNrc3VtKCkKewpyZXR1cm4gJHRoaXMtPmNoZWNrc3VtOwp9CgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBnZXRVcmwoKQp7CnJldHVybiAkdGhpcy0+dXJsOwp9CgoKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBnZXRDb250ZXh0KCkKewpyZXR1cm4gJHRoaXMtPmNvbnRleHQ7Cn0KCgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIGdldFBhY2thZ2UoKQp7CnRyaWdnZXJfZXJyb3IoJ1Bvc3RGaWxlRG93bmxvYWRFdmVudDo6Z2V0UGFja2FnZSBpcyBkZXByZWNhdGVkIHNpbmNlIENvbXBvc2VyIDIuMSwgdXNlIGdldENvbnRleHQgaW5zdGVhZC4nLCBFX1VTRVJfREVQUkVDQVRFRCk7CiRjb250ZXh0ID0gJHRoaXMtPmdldENvbnRleHQoKTsKCnJldHVybiAkY29udGV4dCBpbnN0YW5jZW9mIFBhY2thZ2VJbnRlcmZhY2UgPyAkY29udGV4dCA6IG51bGw7Cn0KCgoKCgoKcHVibGljIGZ1bmN0aW9uIGdldFR5cGUoKQp7CnJldHVybiAkdGhpcy0+dHlwZTsKfQp9Cjw/cGhwCgoKCgoKCgoKCgoKbmFtZXNwYWNlIENvbXBvc2VyXFBsdWdpbjsKCnVzZSBDb21wb3NlclxFdmVudERpc3BhdGNoZXJcRXZlbnQ7CnVzZSBTeW1mb255XENvbXBvbmVudFxDb25zb2xlXElucHV0XElucHV0SW50ZXJmYWNlOwoKCgoKCgpjbGFzcyBQcmVDb21tYW5kUnVuRXZlbnQgZXh0ZW5kcyBFdmVudAp7CgoKCnByaXZhdGUgJGlucHV0OwoKCgoKcHJpdmF0ZSAkY29tbWFuZDsKCgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gX19jb25zdHJ1Y3QoJG5hbWUsIElucHV0SW50ZXJmYWNlICRpbnB1dCwgJGNvbW1hbmQpCnsKcGFyZW50OjpfX2NvbnN0cnVjdCgkbmFtZSk7CiR0aGlzLT5pbnB1dCA9ICRpbnB1dDsKJHRoaXMtPmNvbW1hbmQgPSAkY29tbWFuZDsKfQoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0SW5wdXQoKQp7CnJldHVybiAkdGhpcy0+aW5wdXQ7Cn0KCgoKCgoKcHVibGljIGZ1bmN0aW9uIGdldENvbW1hbmQoKQp7CnJldHVybiAkdGhpcy0+Y29tbWFuZDsKfQp9Cjw/cGhwCgoKCgoKCgoKCgoKbmFtZXNwYWNlIENvbXBvc2VyXFBsdWdpbjsKCnVzZSBDb21wb3NlclxFdmVudERpc3BhdGNoZXJcRXZlbnQ7CnVzZSBDb21wb3NlclxVdGlsXEh0dHBEb3dubG9hZGVyOwoKCgoKCgpjbGFzcyBQcmVGaWxlRG93bmxvYWRFdmVudCBleHRlbmRzIEV2ZW50CnsKCgoKcHJpdmF0ZSAkaHR0cERvd25sb2FkZXI7CgoKCgpwcml2YXRlICRwcm9jZXNzZWRVcmw7CgoKCgpwcml2YXRlICRjdXN0b21DYWNoZUtleTsKCgoKCnByaXZhdGUgJHR5cGU7CgoKCgpwcml2YXRlICRjb250ZXh0OwoKCgoKcHJpdmF0ZSAkdHJhbnNwb3J0T3B0aW9ucyA9IGFycmF5KCk7CgoKCgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gX19jb25zdHJ1Y3QoJG5hbWUsIEh0dHBEb3dubG9hZGVyICRodHRwRG93bmxvYWRlciwgJHByb2Nlc3NlZFVybCwgJHR5cGUsICRjb250ZXh0ID0gbnVsbCkKewpwYXJlbnQ6Ol9fY29uc3RydWN0KCRuYW1lKTsKJHRoaXMtPmh0dHBEb3dubG9hZGVyID0gJGh0dHBEb3dubG9hZGVyOwokdGhpcy0+cHJvY2Vzc2VkVXJsID0gJHByb2Nlc3NlZFVybDsKJHRoaXMtPnR5cGUgPSAkdHlwZTsKJHRoaXMtPmNvbnRleHQgPSAkY29udGV4dDsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIGdldEh0dHBEb3dubG9hZGVyKCkKewpyZXR1cm4gJHRoaXMtPmh0dHBEb3dubG9hZGVyOwp9CgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBnZXRQcm9jZXNzZWRVcmwoKQp7CnJldHVybiAkdGhpcy0+cHJvY2Vzc2VkVXJsOwp9CgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBzZXRQcm9jZXNzZWRVcmwoJHByb2Nlc3NlZFVybCkKewokdGhpcy0+cHJvY2Vzc2VkVXJsID0gJHByb2Nlc3NlZFVybDsKfQoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0Q3VzdG9tQ2FjaGVLZXkoKQp7CnJldHVybiAkdGhpcy0+Y3VzdG9tQ2FjaGVLZXk7Cn0KCgoKCgoKcHVibGljIGZ1bmN0aW9uIHNldEN1c3RvbUNhY2hlS2V5KCRjdXN0b21DYWNoZUtleSkKewokdGhpcy0+Y3VzdG9tQ2FjaGVLZXkgPSAkY3VzdG9tQ2FjaGVLZXk7Cn0KCgoKCgoKcHVibGljIGZ1bmN0aW9uIGdldFR5cGUoKQp7CnJldHVybiAkdGhpcy0+dHlwZTsKfQoKCgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0Q29udGV4dCgpCnsKcmV0dXJuICR0aGlzLT5jb250ZXh0Owp9CgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIGdldFRyYW5zcG9ydE9wdGlvbnMoKQp7CnJldHVybiAkdGhpcy0+dHJhbnNwb3J0T3B0aW9uczsKfQoKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBzZXRUcmFuc3BvcnRPcHRpb25zKGFycmF5ICRvcHRpb25zKQp7CiR0aGlzLT50cmFuc3BvcnRPcHRpb25zID0gJG9wdGlvbnM7Cn0KfQo8P3BocAoKCgoKCgoKCgoKCm5hbWVzcGFjZSBDb21wb3NlclxQbHVnaW47Cgp1c2UgQ29tcG9zZXJcRXZlbnREaXNwYXRjaGVyXEV2ZW50Owp1c2UgQ29tcG9zZXJcUmVwb3NpdG9yeVxSZXBvc2l0b3J5SW50ZXJmYWNlOwp1c2UgQ29tcG9zZXJcRGVwZW5kZW5jeVJlc29sdmVyXFJlcXVlc3Q7CnVzZSBDb21wb3NlclxQYWNrYWdlXFBhY2thZ2VJbnRlcmZhY2U7CgoKCgoKCmNsYXNzIFByZVBvb2xDcmVhdGVFdmVudCBleHRlbmRzIEV2ZW50CnsKCgoKcHJpdmF0ZSAkcmVwb3NpdG9yaWVzOwoKCgpwcml2YXRlICRyZXF1ZXN0OwoKCgpwcml2YXRlICRhY2NlcHRhYmxlU3RhYmlsaXRpZXM7CgoKCnByaXZhdGUgJHN0YWJpbGl0eUZsYWdzOwoKCgpwcml2YXRlICRyb290QWxpYXNlczsKCgoKcHJpdmF0ZSAkcm9vdFJlZmVyZW5jZXM7CgoKCnByaXZhdGUgJHBhY2thZ2VzOwoKCgpwcml2YXRlICR1bmFjY2VwdGFibGVGaXhlZFBhY2thZ2VzOwoKCgoKCnB1YmxpYyBmdW5jdGlvbiBfX2NvbnN0cnVjdCgkbmFtZSwgYXJyYXkgJHJlcG9zaXRvcmllcywgUmVxdWVzdCAkcmVxdWVzdCwgYXJyYXkgJGFjY2VwdGFibGVTdGFiaWxpdGllcywgYXJyYXkgJHN0YWJpbGl0eUZsYWdzLCBhcnJheSAkcm9vdEFsaWFzZXMsIGFycmF5ICRyb290UmVmZXJlbmNlcywgYXJyYXkgJHBhY2thZ2VzLCBhcnJheSAkdW5hY2NlcHRhYmxlRml4ZWRQYWNrYWdlcykKewpwYXJlbnQ6Ol9fY29uc3RydWN0KCRuYW1lKTsKCiR0aGlzLT5yZXBvc2l0b3JpZXMgPSAkcmVwb3NpdG9yaWVzOwokdGhpcy0+cmVxdWVzdCA9ICRyZXF1ZXN0OwokdGhpcy0+YWNjZXB0YWJsZVN0YWJpbGl0aWVzID0gJGFjY2VwdGFibGVTdGFiaWxpdGllczsKJHRoaXMtPnN0YWJpbGl0eUZsYWdzID0gJHN0YWJpbGl0eUZsYWdzOwokdGhpcy0+cm9vdEFsaWFzZXMgPSAkcm9vdEFsaWFzZXM7CiR0aGlzLT5yb290UmVmZXJlbmNlcyA9ICRyb290UmVmZXJlbmNlczsKJHRoaXMtPnBhY2thZ2VzID0gJHBhY2thZ2VzOwokdGhpcy0+dW5hY2NlcHRhYmxlRml4ZWRQYWNrYWdlcyA9ICR1bmFjY2VwdGFibGVGaXhlZFBhY2thZ2VzOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0UmVwb3NpdG9yaWVzKCkKewpyZXR1cm4gJHRoaXMtPnJlcG9zaXRvcmllczsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIGdldFJlcXVlc3QoKQp7CnJldHVybiAkdGhpcy0+cmVxdWVzdDsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIGdldEFjY2VwdGFibGVTdGFiaWxpdGllcygpCnsKcmV0dXJuICR0aGlzLT5hY2NlcHRhYmxlU3RhYmlsaXRpZXM7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBnZXRTdGFiaWxpdHlGbGFncygpCnsKcmV0dXJuICR0aGlzLT5zdGFiaWxpdHlGbGFnczsKfQoKCgoKCnB1YmxpYyBmdW5jdGlvbiBnZXRSb290QWxpYXNlcygpCnsKcmV0dXJuICR0aGlzLT5yb290QWxpYXNlczsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIGdldFJvb3RSZWZlcmVuY2VzKCkKewpyZXR1cm4gJHRoaXMtPnJvb3RSZWZlcmVuY2VzOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0UGFja2FnZXMoKQp7CnJldHVybiAkdGhpcy0+cGFja2FnZXM7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBnZXRVbmFjY2VwdGFibGVGaXhlZFBhY2thZ2VzKCkKewpyZXR1cm4gJHRoaXMtPnVuYWNjZXB0YWJsZUZpeGVkUGFja2FnZXM7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBzZXRQYWNrYWdlcyhhcnJheSAkcGFja2FnZXMpCnsKJHRoaXMtPnBhY2thZ2VzID0gJHBhY2thZ2VzOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gc2V0VW5hY2NlcHRhYmxlRml4ZWRQYWNrYWdlcyhhcnJheSAkcGFja2FnZXMpCnsKJHRoaXMtPnVuYWNjZXB0YWJsZUZpeGVkUGFja2FnZXMgPSAkcGFja2FnZXM7Cn0KfQo8P3BocAoKCgoKCgoKCgoKCm5hbWVzcGFjZSBDb21wb3NlclxRdWVzdGlvbjsKCnVzZSBTeW1mb255XENvbXBvbmVudFxDb25zb2xlXEV4Y2VwdGlvblxJbnZhbGlkQXJndW1lbnRFeGNlcHRpb247CnVzZSBTeW1mb255XENvbXBvbmVudFxDb25zb2xlXFF1ZXN0aW9uXFF1ZXN0aW9uOwoKCgoKCgoKCmNsYXNzIFN0cmljdENvbmZpcm1hdGlvblF1ZXN0aW9uIGV4dGVuZHMgUXVlc3Rpb24Kewpwcml2YXRlICR0cnVlQW5zd2VyUmVnZXg7CnByaXZhdGUgJGZhbHNlQW5zd2VyUmVnZXg7CgoKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBfX2NvbnN0cnVjdCgkcXVlc3Rpb24sICRkZWZhdWx0ID0gdHJ1ZSwgJHRydWVBbnN3ZXJSZWdleCA9ICcvXnkoPzplcyk/JC9pJywgJGZhbHNlQW5zd2VyUmVnZXggPSAnL15ubz8kL2knKQp7CnBhcmVudDo6X19jb25zdHJ1Y3QoJHF1ZXN0aW9uLCAoYm9vbCkgJGRlZmF1bHQpOwoKJHRoaXMtPnRydWVBbnN3ZXJSZWdleCA9ICR0cnVlQW5zd2VyUmVnZXg7CiR0aGlzLT5mYWxzZUFuc3dlclJlZ2V4ID0gJGZhbHNlQW5zd2VyUmVnZXg7CiR0aGlzLT5zZXROb3JtYWxpemVyKCR0aGlzLT5nZXREZWZhdWx0Tm9ybWFsaXplcigpKTsKJHRoaXMtPnNldFZhbGlkYXRvcigkdGhpcy0+Z2V0RGVmYXVsdFZhbGlkYXRvcigpKTsKfQoKCgoKCgpwcml2YXRlIGZ1bmN0aW9uIGdldERlZmF1bHROb3JtYWxpemVyKCkKewokZGVmYXVsdCA9ICR0aGlzLT5nZXREZWZhdWx0KCk7CiR0cnVlUmVnZXggPSAkdGhpcy0+dHJ1ZUFuc3dlclJlZ2V4OwokZmFsc2VSZWdleCA9ICR0aGlzLT5mYWxzZUFuc3dlclJlZ2V4OwoKcmV0dXJuIGZ1bmN0aW9uICgkYW5zd2VyKSB1c2UgKCRkZWZhdWx0LCAkdHJ1ZVJlZ2V4LCAkZmFsc2VSZWdleCkgewppZiAoaXNfYm9vbCgkYW5zd2VyKSkgewpyZXR1cm4gJGFuc3dlcjsKfQppZiAoZW1wdHkoJGFuc3dlcikgJiYgIWVtcHR5KCRkZWZhdWx0KSkgewpyZXR1cm4gJGRlZmF1bHQ7Cn0KCmlmIChwcmVnX21hdGNoKCR0cnVlUmVnZXgsICRhbnN3ZXIpKSB7CnJldHVybiB0cnVlOwp9CgppZiAocHJlZ19tYXRjaCgkZmFsc2VSZWdleCwgJGFuc3dlcikpIHsKcmV0dXJuIGZhbHNlOwp9CgpyZXR1cm4gbnVsbDsKfTsKfQoKCgoKCgpwcml2YXRlIGZ1bmN0aW9uIGdldERlZmF1bHRWYWxpZGF0b3IoKQp7CnJldHVybiBmdW5jdGlvbiAoJGFuc3dlcikgewppZiAoIWlzX2Jvb2woJGFuc3dlcikpIHsKdGhyb3cgbmV3IEludmFsaWRBcmd1bWVudEV4Y2VwdGlvbignUGxlYXNlIGFuc3dlciB5ZXMsIHksIG5vLCBvciBuLicpOwp9CgpyZXR1cm4gJGFuc3dlcjsKfTsKfQp9Cjw/cGhwCgoKCgoKCgoKCgoKbmFtZXNwYWNlIENvbXBvc2VyXFJlcG9zaXRvcnk7Cgp1c2UgQ29tcG9zZXJcUGFja2FnZVxBbGlhc1BhY2thZ2U7CnVzZSBDb21wb3NlclxQYWNrYWdlXENvbXBsZXRlQWxpYXNQYWNrYWdlOwp1c2UgQ29tcG9zZXJcUGFja2FnZVxQYWNrYWdlSW50ZXJmYWNlOwp1c2UgQ29tcG9zZXJcUGFja2FnZVxDb21wbGV0ZVBhY2thZ2VJbnRlcmZhY2U7CnVzZSBDb21wb3NlclxQYWNrYWdlXFZlcnNpb25cVmVyc2lvblBhcnNlcjsKdXNlIENvbXBvc2VyXFBhY2thZ2VcVmVyc2lvblxTdGFiaWxpdHlGaWx0ZXI7CnVzZSBDb21wb3NlclxTZW12ZXJcQ29uc3RyYWludFxDb25zdHJhaW50SW50ZXJmYWNlOwp1c2UgQ29tcG9zZXJcU2VtdmVyXENvbnN0cmFpbnRcQ29uc3RyYWludDsKCgoKCgoKY2xhc3MgQXJyYXlSZXBvc2l0b3J5IGltcGxlbWVudHMgUmVwb3NpdG9yeUludGVyZmFjZQp7Cgpwcm90ZWN0ZWQgJHBhY2thZ2VzID0gbnVsbDsKCgoKCnByb3RlY3RlZCAkcGFja2FnZU1hcCA9IG51bGw7CgpwdWJsaWMgZnVuY3Rpb24gX19jb25zdHJ1Y3QoYXJyYXkgJHBhY2thZ2VzID0gYXJyYXkoKSkKewpmb3JlYWNoICgkcGFja2FnZXMgYXMgJHBhY2thZ2UpIHsKJHRoaXMtPmFkZFBhY2thZ2UoJHBhY2thZ2UpOwp9Cn0KCnB1YmxpYyBmdW5jdGlvbiBnZXRSZXBvTmFtZSgpCnsKcmV0dXJuICdhcnJheSByZXBvIChkZWZpbmluZyAnLiR0aGlzLT5jb3VudCgpLicgcGFja2FnZScuKCR0aGlzLT5jb3VudCgpID4gMSA/ICdzJyA6ICcnKS4nKSc7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBsb2FkUGFja2FnZXMoYXJyYXkgJHBhY2thZ2VNYXAsIGFycmF5ICRhY2NlcHRhYmxlU3RhYmlsaXRpZXMsIGFycmF5ICRzdGFiaWxpdHlGbGFncywgYXJyYXkgJGFscmVhZHlMb2FkZWQgPSBhcnJheSgpKQp7CiRwYWNrYWdlcyA9ICR0aGlzLT5nZXRQYWNrYWdlcygpOwoKJHJlc3VsdCA9IGFycmF5KCk7CiRuYW1lc0ZvdW5kID0gYXJyYXkoKTsKZm9yZWFjaCAoJHBhY2thZ2VzIGFzICRwYWNrYWdlKSB7CmlmIChhcnJheV9rZXlfZXhpc3RzKCRwYWNrYWdlLT5nZXROYW1lKCksICRwYWNrYWdlTWFwKSkgewppZiAoCighJHBhY2thZ2VNYXBbJHBhY2thZ2UtPmdldE5hbWUoKV0gfHwgJHBhY2thZ2VNYXBbJHBhY2thZ2UtPmdldE5hbWUoKV0tPm1hdGNoZXMobmV3IENvbnN0cmFpbnQoJz09JywgJHBhY2thZ2UtPmdldFZlcnNpb24oKSkpKQomJiBTdGFiaWxpdHlGaWx0ZXI6OmlzUGFja2FnZUFjY2VwdGFibGUoJGFjY2VwdGFibGVTdGFiaWxpdGllcywgJHN0YWJpbGl0eUZsYWdzLCAkcGFja2FnZS0+Z2V0TmFtZXMoKSwgJHBhY2thZ2UtPmdldFN0YWJpbGl0eSgpKQomJiAhaXNzZXQoJGFscmVhZHlMb2FkZWRbJHBhY2thZ2UtPmdldE5hbWUoKV1bJHBhY2thZ2UtPmdldFZlcnNpb24oKV0pCikgewoKJHJlc3VsdFtzcGxfb2JqZWN0X2hhc2goJHBhY2thZ2UpXSA9ICRwYWNrYWdlOwoKaWYgKCRwYWNrYWdlIGluc3RhbmNlb2YgQWxpYXNQYWNrYWdlICYmICFpc3NldCgkcmVzdWx0W3NwbF9vYmplY3RfaGFzaCgkcGFja2FnZS0+Z2V0QWxpYXNPZigpKV0pKSB7CiRyZXN1bHRbc3BsX29iamVjdF9oYXNoKCRwYWNrYWdlLT5nZXRBbGlhc09mKCkpXSA9ICRwYWNrYWdlLT5nZXRBbGlhc09mKCk7Cn0KfQoKJG5hbWVzRm91bmRbJHBhY2thZ2UtPmdldE5hbWUoKV0gPSB0cnVlOwp9Cn0KCgpmb3JlYWNoICgkcGFja2FnZXMgYXMgJHBhY2thZ2UpIHsKaWYgKCRwYWNrYWdlIGluc3RhbmNlb2YgQWxpYXNQYWNrYWdlKSB7CmlmIChpc3NldCgkcmVzdWx0W3NwbF9vYmplY3RfaGFzaCgkcGFja2FnZS0+Z2V0QWxpYXNPZigpKV0pKSB7CiRyZXN1bHRbc3BsX29iamVjdF9oYXNoKCRwYWNrYWdlKV0gPSAkcGFja2FnZTsKfQp9Cn0KCnJldHVybiBhcnJheSgnbmFtZXNGb3VuZCcgPT4gYXJyYXlfa2V5cygkbmFtZXNGb3VuZCksICdwYWNrYWdlcycgPT4gJHJlc3VsdCk7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBmaW5kUGFja2FnZSgkbmFtZSwgJGNvbnN0cmFpbnQpCnsKJG5hbWUgPSBzdHJ0b2xvd2VyKCRuYW1lKTsKCmlmICghJGNvbnN0cmFpbnQgaW5zdGFuY2VvZiBDb25zdHJhaW50SW50ZXJmYWNlKSB7CiR2ZXJzaW9uUGFyc2VyID0gbmV3IFZlcnNpb25QYXJzZXIoKTsKJGNvbnN0cmFpbnQgPSAkdmVyc2lvblBhcnNlci0+cGFyc2VDb25zdHJhaW50cygkY29uc3RyYWludCk7Cn0KCmZvcmVhY2ggKCR0aGlzLT5nZXRQYWNrYWdlcygpIGFzICRwYWNrYWdlKSB7CmlmICgkbmFtZSA9PT0gJHBhY2thZ2UtPmdldE5hbWUoKSkgewokcGtnQ29uc3RyYWludCA9IG5ldyBDb25zdHJhaW50KCc9PScsICRwYWNrYWdlLT5nZXRWZXJzaW9uKCkpOwppZiAoJGNvbnN0cmFpbnQtPm1hdGNoZXMoJHBrZ0NvbnN0cmFpbnQpKSB7CnJldHVybiAkcGFja2FnZTsKfQp9Cn0KCnJldHVybiBudWxsOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gZmluZFBhY2thZ2VzKCRuYW1lLCAkY29uc3RyYWludCA9IG51bGwpCnsKCiRuYW1lID0gc3RydG9sb3dlcigkbmFtZSk7CiRwYWNrYWdlcyA9IGFycmF5KCk7CgppZiAobnVsbCAhPT0gJGNvbnN0cmFpbnQgJiYgISRjb25zdHJhaW50IGluc3RhbmNlb2YgQ29uc3RyYWludEludGVyZmFjZSkgewokdmVyc2lvblBhcnNlciA9IG5ldyBWZXJzaW9uUGFyc2VyKCk7CiRjb25zdHJhaW50ID0gJHZlcnNpb25QYXJzZXItPnBhcnNlQ29uc3RyYWludHMoJGNvbnN0cmFpbnQpOwp9Cgpmb3JlYWNoICgkdGhpcy0+Z2V0UGFja2FnZXMoKSBhcyAkcGFja2FnZSkgewppZiAoJG5hbWUgPT09ICRwYWNrYWdlLT5nZXROYW1lKCkpIHsKaWYgKG51bGwgPT09ICRjb25zdHJhaW50IHx8ICRjb25zdHJhaW50LT5tYXRjaGVzKG5ldyBDb25zdHJhaW50KCc9PScsICRwYWNrYWdlLT5nZXRWZXJzaW9uKCkpKSkgewokcGFja2FnZXNbXSA9ICRwYWNrYWdlOwp9Cn0KfQoKcmV0dXJuICRwYWNrYWdlczsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIHNlYXJjaCgkcXVlcnksICRtb2RlID0gMCwgJHR5cGUgPSBudWxsKQp7CiRyZWdleCA9ICd7KD86Jy5pbXBsb2RlKCd8JywgcHJlZ19zcGxpdCgne1xzK30nLCAkcXVlcnkpKS4nKX1pJzsKCiRtYXRjaGVzID0gYXJyYXkoKTsKZm9yZWFjaCAoJHRoaXMtPmdldFBhY2thZ2VzKCkgYXMgJHBhY2thZ2UpIHsKJG5hbWUgPSAkcGFja2FnZS0+Z2V0TmFtZSgpOwppZiAoaXNzZXQoJG1hdGNoZXNbJG5hbWVdKSkgewpjb250aW51ZTsKfQppZiAocHJlZ19tYXRjaCgkcmVnZXgsICRuYW1lKQp8fCAoJG1vZGUgPT09IHNlbGY6OlNFQVJDSF9GVUxMVEVYVCAmJiAkcGFja2FnZSBpbnN0YW5jZW9mIENvbXBsZXRlUGFja2FnZUludGVyZmFjZSAmJiBwcmVnX21hdGNoKCRyZWdleCwgaW1wbG9kZSgnICcsIChhcnJheSkgJHBhY2thZ2UtPmdldEtleXdvcmRzKCkpIC4gJyAnIC4gJHBhY2thZ2UtPmdldERlc2NyaXB0aW9uKCkpKQopIHsKaWYgKG51bGwgIT09ICR0eXBlICYmICRwYWNrYWdlLT5nZXRUeXBlKCkgIT09ICR0eXBlKSB7CmNvbnRpbnVlOwp9CgokbWF0Y2hlc1skbmFtZV0gPSBhcnJheSgKJ25hbWUnID0+ICRwYWNrYWdlLT5nZXRQcmV0dHlOYW1lKCksCidkZXNjcmlwdGlvbicgPT4gJHBhY2thZ2UgaW5zdGFuY2VvZiBDb21wbGV0ZVBhY2thZ2VJbnRlcmZhY2UgPyAkcGFja2FnZS0+Z2V0RGVzY3JpcHRpb24oKSA6IG51bGwsCik7Cn0KfQoKcmV0dXJuIGFycmF5X3ZhbHVlcygkbWF0Y2hlcyk7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBoYXNQYWNrYWdlKFBhY2thZ2VJbnRlcmZhY2UgJHBhY2thZ2UpCnsKaWYgKCR0aGlzLT5wYWNrYWdlTWFwID09PSBudWxsKSB7CiR0aGlzLT5wYWNrYWdlTWFwID0gYXJyYXkoKTsKZm9yZWFjaCAoJHRoaXMtPmdldFBhY2thZ2VzKCkgYXMgJHJlcG9QYWNrYWdlKSB7CiR0aGlzLT5wYWNrYWdlTWFwWyRyZXBvUGFja2FnZS0+Z2V0VW5pcXVlTmFtZSgpXSA9ICRyZXBvUGFja2FnZTsKfQp9CgpyZXR1cm4gaXNzZXQoJHRoaXMtPnBhY2thZ2VNYXBbJHBhY2thZ2UtPmdldFVuaXF1ZU5hbWUoKV0pOwp9CgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBhZGRQYWNrYWdlKFBhY2thZ2VJbnRlcmZhY2UgJHBhY2thZ2UpCnsKaWYgKG51bGwgPT09ICR0aGlzLT5wYWNrYWdlcykgewokdGhpcy0+aW5pdGlhbGl6ZSgpOwp9CiRwYWNrYWdlLT5zZXRSZXBvc2l0b3J5KCR0aGlzKTsKJHRoaXMtPnBhY2thZ2VzW10gPSAkcGFja2FnZTsKCmlmICgkcGFja2FnZSBpbnN0YW5jZW9mIEFsaWFzUGFja2FnZSkgewokYWxpYXNlZFBhY2thZ2UgPSAkcGFja2FnZS0+Z2V0QWxpYXNPZigpOwppZiAobnVsbCA9PT0gJGFsaWFzZWRQYWNrYWdlLT5nZXRSZXBvc2l0b3J5KCkpIHsKJHRoaXMtPmFkZFBhY2thZ2UoJGFsaWFzZWRQYWNrYWdlKTsKfQp9CgoKJHRoaXMtPnBhY2thZ2VNYXAgPSBudWxsOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0UHJvdmlkZXJzKCRwYWNrYWdlTmFtZSkKewokcmVzdWx0ID0gYXJyYXkoKTsKCmZvcmVhY2ggKCR0aGlzLT5nZXRQYWNrYWdlcygpIGFzICRjYW5kaWRhdGUpIHsKaWYgKGlzc2V0KCRyZXN1bHRbJGNhbmRpZGF0ZS0+Z2V0TmFtZSgpXSkpIHsKY29udGludWU7Cn0KZm9yZWFjaCAoJGNhbmRpZGF0ZS0+Z2V0UHJvdmlkZXMoKSBhcyAkbGluaykgewppZiAoJHBhY2thZ2VOYW1lID09PSAkbGluay0+Z2V0VGFyZ2V0KCkpIHsKJHJlc3VsdFskY2FuZGlkYXRlLT5nZXROYW1lKCldID0gYXJyYXkoCiduYW1lJyA9PiAkY2FuZGlkYXRlLT5nZXROYW1lKCksCidkZXNjcmlwdGlvbicgPT4gJGNhbmRpZGF0ZSBpbnN0YW5jZW9mIENvbXBsZXRlUGFja2FnZUludGVyZmFjZSA/ICRjYW5kaWRhdGUtPmdldERlc2NyaXB0aW9uKCkgOiBudWxsLAondHlwZScgPT4gJGNhbmRpZGF0ZS0+Z2V0VHlwZSgpLAopOwpjb250aW51ZSAyOwp9Cn0KfQoKcmV0dXJuICRyZXN1bHQ7Cn0KCnByb3RlY3RlZCBmdW5jdGlvbiBjcmVhdGVBbGlhc1BhY2thZ2UoUGFja2FnZUludGVyZmFjZSAkcGFja2FnZSwgJGFsaWFzLCAkcHJldHR5QWxpYXMpCnsKd2hpbGUgKCRwYWNrYWdlIGluc3RhbmNlb2YgQWxpYXNQYWNrYWdlKSB7CiRwYWNrYWdlID0gJHBhY2thZ2UtPmdldEFsaWFzT2YoKTsKfQoKaWYgKCRwYWNrYWdlIGluc3RhbmNlb2YgQ29tcGxldGVQYWNrYWdlSW50ZXJmYWNlKSB7CnJldHVybiBuZXcgQ29tcGxldGVBbGlhc1BhY2thZ2UoJHBhY2thZ2UsICRhbGlhcywgJHByZXR0eUFsaWFzKTsKfQoKcmV0dXJuIG5ldyBBbGlhc1BhY2thZ2UoJHBhY2thZ2UsICRhbGlhcywgJHByZXR0eUFsaWFzKTsKfQoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gcmVtb3ZlUGFja2FnZShQYWNrYWdlSW50ZXJmYWNlICRwYWNrYWdlKQp7CiRwYWNrYWdlSWQgPSAkcGFja2FnZS0+Z2V0VW5pcXVlTmFtZSgpOwoKZm9yZWFjaCAoJHRoaXMtPmdldFBhY2thZ2VzKCkgYXMgJGtleSA9PiAkcmVwb1BhY2thZ2UpIHsKaWYgKCRwYWNrYWdlSWQgPT09ICRyZXBvUGFja2FnZS0+Z2V0VW5pcXVlTmFtZSgpKSB7CmFycmF5X3NwbGljZSgkdGhpcy0+cGFja2FnZXMsICRrZXksIDEpOwoKCiR0aGlzLT5wYWNrYWdlTWFwID0gbnVsbDsKCnJldHVybjsKfQp9Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBnZXRQYWNrYWdlcygpCnsKaWYgKG51bGwgPT09ICR0aGlzLT5wYWNrYWdlcykgewokdGhpcy0+aW5pdGlhbGl6ZSgpOwp9CgpyZXR1cm4gJHRoaXMtPnBhY2thZ2VzOwp9CgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBjb3VudCgpCnsKaWYgKG51bGwgPT09ICR0aGlzLT5wYWNrYWdlcykgewokdGhpcy0+aW5pdGlhbGl6ZSgpOwp9CgpyZXR1cm4gY291bnQoJHRoaXMtPnBhY2thZ2VzKTsKfQoKCgoKcHJvdGVjdGVkIGZ1bmN0aW9uIGluaXRpYWxpemUoKQp7CiR0aGlzLT5wYWNrYWdlcyA9IGFycmF5KCk7Cn0KfQo8P3BocAoKCgoKCgoKCgoKCm5hbWVzcGFjZSBDb21wb3NlclxSZXBvc2l0b3J5OwoKdXNlIENvbXBvc2VyXElPXElPSW50ZXJmYWNlOwp1c2UgQ29tcG9zZXJcSnNvblxKc29uRmlsZTsKdXNlIENvbXBvc2VyXFBhY2thZ2VcTG9hZGVyXEFycmF5TG9hZGVyOwp1c2UgQ29tcG9zZXJcUGFja2FnZVxMb2FkZXJcTG9hZGVySW50ZXJmYWNlOwp1c2UgQ29tcG9zZXJcVXRpbFxUYXI7CnVzZSBDb21wb3NlclxVdGlsXFppcDsKCgoKCmNsYXNzIEFydGlmYWN0UmVwb3NpdG9yeSBleHRlbmRzIEFycmF5UmVwb3NpdG9yeSBpbXBsZW1lbnRzIENvbmZpZ3VyYWJsZVJlcG9zaXRvcnlJbnRlcmZhY2UKewoKcHJvdGVjdGVkICRsb2FkZXI7Cgpwcm90ZWN0ZWQgJGxvb2t1cDsKcHJvdGVjdGVkICRyZXBvQ29uZmlnOwpwcml2YXRlICRpbzsKCnB1YmxpYyBmdW5jdGlvbiBfX2NvbnN0cnVjdChhcnJheSAkcmVwb0NvbmZpZywgSU9JbnRlcmZhY2UgJGlvKQp7CnBhcmVudDo6X19jb25zdHJ1Y3QoKTsKaWYgKCFleHRlbnNpb25fbG9hZGVkKCd6aXAnKSkgewp0aHJvdyBuZXcgXFJ1bnRpbWVFeGNlcHRpb24oJ1RoZSBhcnRpZmFjdCByZXBvc2l0b3J5IHJlcXVpcmVzIFBIUFwncyB6aXAgZXh0ZW5zaW9uJyk7Cn0KCiR0aGlzLT5sb2FkZXIgPSBuZXcgQXJyYXlMb2FkZXIoKTsKJHRoaXMtPmxvb2t1cCA9ICRyZXBvQ29uZmlnWyd1cmwnXTsKJHRoaXMtPmlvID0gJGlvOwokdGhpcy0+cmVwb0NvbmZpZyA9ICRyZXBvQ29uZmlnOwp9CgpwdWJsaWMgZnVuY3Rpb24gZ2V0UmVwb05hbWUoKQp7CnJldHVybiAnYXJ0aWZhY3QgcmVwbyAoJy4kdGhpcy0+bG9va3VwLicpJzsKfQoKcHVibGljIGZ1bmN0aW9uIGdldFJlcG9Db25maWcoKQp7CnJldHVybiAkdGhpcy0+cmVwb0NvbmZpZzsKfQoKcHJvdGVjdGVkIGZ1bmN0aW9uIGluaXRpYWxpemUoKQp7CnBhcmVudDo6aW5pdGlhbGl6ZSgpOwoKJHRoaXMtPnNjYW5EaXJlY3RvcnkoJHRoaXMtPmxvb2t1cCk7Cn0KCnByaXZhdGUgZnVuY3Rpb24gc2NhbkRpcmVjdG9yeSgkcGF0aCkKewokaW8gPSAkdGhpcy0+aW87CgokZGlyZWN0b3J5ID0gbmV3IFxSZWN1cnNpdmVEaXJlY3RvcnlJdGVyYXRvcigkcGF0aCwgXFJlY3Vyc2l2ZURpcmVjdG9yeUl0ZXJhdG9yOjpGT0xMT1dfU1lNTElOS1MpOwokaXRlcmF0b3IgPSBuZXcgXFJlY3Vyc2l2ZUl0ZXJhdG9ySXRlcmF0b3IoJGRpcmVjdG9yeSk7CiRyZWdleCA9IG5ldyBcUmVnZXhJdGVyYXRvcigkaXRlcmF0b3IsICcvXi4rXC4oemlwfHBoYXJ8dGFyfGd6fHRneikkL2knKTsKZm9yZWFjaCAoJHJlZ2V4IGFzICRmaWxlKSB7CgppZiAoISRmaWxlLT5pc0ZpbGUoKSkgewpjb250aW51ZTsKfQoKJHBhY2thZ2UgPSAkdGhpcy0+Z2V0Q29tcG9zZXJJbmZvcm1hdGlvbigkZmlsZSk7CmlmICghJHBhY2thZ2UpIHsKJGlvLT53cml0ZUVycm9yKCJGaWxlIDxjb21tZW50PnskZmlsZS0+Z2V0QmFzZW5hbWUoKX08L2NvbW1lbnQ+IGRvZXNuJ3Qgc2VlbSB0byBob2xkIGEgcGFja2FnZSIsIHRydWUsIElPSW50ZXJmYWNlOjpWRVJCT1NFKTsKY29udGludWU7Cn0KCiR0ZW1wbGF0ZSA9ICdGb3VuZCBwYWNrYWdlIDxpbmZvPiVzPC9pbmZvPiAoPGNvbW1lbnQ+JXM8L2NvbW1lbnQ+KSBpbiBmaWxlIDxpbmZvPiVzPC9pbmZvPic7CiRpby0+d3JpdGVFcnJvcihzcHJpbnRmKCR0ZW1wbGF0ZSwgJHBhY2thZ2UtPmdldE5hbWUoKSwgJHBhY2thZ2UtPmdldFByZXR0eVZlcnNpb24oKSwgJGZpbGUtPmdldEJhc2VuYW1lKCkpLCB0cnVlLCBJT0ludGVyZmFjZTo6VkVSQk9TRSk7CgokdGhpcy0+YWRkUGFja2FnZSgkcGFja2FnZSk7Cn0KfQoKcHJpdmF0ZSBmdW5jdGlvbiBnZXRDb21wb3NlckluZm9ybWF0aW9uKFxTcGxGaWxlSW5mbyAkZmlsZSkKewokanNvbiA9IG51bGw7CiRmaWxlVHlwZSA9IG51bGw7CiRmaWxlRXh0ZW5zaW9uID0gcGF0aGluZm8oJGZpbGUtPmdldFBhdGhuYW1lKCksIFBBVEhJTkZPX0VYVEVOU0lPTik7CmlmIChpbl9hcnJheSgkZmlsZUV4dGVuc2lvbiwgYXJyYXkoJ2d6JywgJ3RhcicsICd0Z3onKSwgdHJ1ZSkpIHsKJGZpbGVUeXBlID0gJ3Rhcic7Cn0gZWxzZWlmICgkZmlsZUV4dGVuc2lvbiA9PT0gJ3ppcCcpIHsKJGZpbGVUeXBlID0gJ3ppcCc7Cn0gZWxzZSB7CnRocm93IG5ldyBcUnVudGltZUV4Y2VwdGlvbignRmlsZXMgd2l0aCAiJy4kZmlsZUV4dGVuc2lvbi4nIiBleHRlbnNpb25zIGFyZW5cJ3Qgc3VwcG9ydGVkLiBPbmx5IFpJUCBhbmQgVEFSL1RBUi5HWi9UR1ogYXJjaGl2ZXMgYXJlIHN1cHBvcnRlZC4nKTsKfQoKdHJ5IHsKaWYgKCRmaWxlVHlwZSA9PT0gJ3RhcicpIHsKJGpzb24gPSBUYXI6OmdldENvbXBvc2VySnNvbigkZmlsZS0+Z2V0UGF0aG5hbWUoKSk7Cn0gZWxzZSB7CiRqc29uID0gWmlwOjpnZXRDb21wb3Nlckpzb24oJGZpbGUtPmdldFBhdGhuYW1lKCkpOwp9Cn0gY2F0Y2ggKFxFeGNlcHRpb24gJGV4Y2VwdGlvbikgewokdGhpcy0+aW8tPndyaXRlKCdGYWlsZWQgbG9hZGluZyBwYWNrYWdlICcuJGZpbGUtPmdldFBhdGhuYW1lKCkuJzogJy4kZXhjZXB0aW9uLT5nZXRNZXNzYWdlKCksIGZhbHNlLCBJT0ludGVyZmFjZTo6VkVSQk9TRSk7Cn0KCmlmIChudWxsID09PSAkanNvbikgewpyZXR1cm4gZmFsc2U7Cn0KCiRwYWNrYWdlID0gSnNvbkZpbGU6OnBhcnNlSnNvbigkanNvbiwgJGZpbGUtPmdldFBhdGhuYW1lKCkuJyNjb21wb3Nlci5qc29uJyk7CiRwYWNrYWdlWydkaXN0J10gPSBhcnJheSgKJ3R5cGUnID0+ICRmaWxlVHlwZSwKJ3VybCcgPT4gc3RydHIoJGZpbGUtPmdldFBhdGhuYW1lKCksICdcXCcsICcvJyksCidzaGFzdW0nID0+IHNoYTFfZmlsZSgkZmlsZS0+Z2V0UmVhbFBhdGgoKSksCik7Cgp0cnkgewokcGFja2FnZSA9ICR0aGlzLT5sb2FkZXItPmxvYWQoJHBhY2thZ2UpOwp9IGNhdGNoIChcVW5leHBlY3RlZFZhbHVlRXhjZXB0aW9uICRlKSB7CnRocm93IG5ldyBcVW5leHBlY3RlZFZhbHVlRXhjZXB0aW9uKCdGYWlsZWQgbG9hZGluZyBwYWNrYWdlIGluICcuJGZpbGUuJzogJy4kZS0+Z2V0TWVzc2FnZSgpLCAwLCAkZSk7Cn0KCnJldHVybiAkcGFja2FnZTsKfQp9Cjw/cGhwCgoKCgoKCgoKCgoKbmFtZXNwYWNlIENvbXBvc2VyXFJlcG9zaXRvcnk7Cgp1c2UgQ29tcG9zZXJcUGFja2FnZVxCYXNlUGFja2FnZTsKdXNlIENvbXBvc2VyXFBhY2thZ2VcTG9hZGVyXEFycmF5TG9hZGVyOwp1c2UgQ29tcG9zZXJcUGFja2FnZVxQYWNrYWdlSW50ZXJmYWNlOwp1c2UgQ29tcG9zZXJcUGFja2FnZVxBbGlhc1BhY2thZ2U7CnVzZSBDb21wb3NlclxQYWNrYWdlXENvbXBsZXRlUGFja2FnZTsKdXNlIENvbXBvc2VyXFBhY2thZ2VcQ29tcGxldGVBbGlhc1BhY2thZ2U7CnVzZSBDb21wb3NlclxQYWNrYWdlXFZlcnNpb25cVmVyc2lvblBhcnNlcjsKdXNlIENvbXBvc2VyXFBhY2thZ2VcVmVyc2lvblxTdGFiaWxpdHlGaWx0ZXI7CnVzZSBDb21wb3NlclxKc29uXEpzb25GaWxlOwp1c2UgQ29tcG9zZXJcQ2FjaGU7CnVzZSBDb21wb3NlclxDb25maWc7CnVzZSBDb21wb3NlclxJT1xJT0ludGVyZmFjZTsKdXNlIENvbXBvc2VyXFBsdWdpblxQb3N0RmlsZURvd25sb2FkRXZlbnQ7CnVzZSBDb21wb3NlclxTZW12ZXJcQ29tcGlsaW5nTWF0Y2hlcjsKdXNlIENvbXBvc2VyXFV0aWxcSHR0cERvd25sb2FkZXI7CnVzZSBDb21wb3NlclxVdGlsXExvb3A7CnVzZSBDb21wb3NlclxQbHVnaW5cUGx1Z2luRXZlbnRzOwp1c2UgQ29tcG9zZXJcUGx1Z2luXFByZUZpbGVEb3dubG9hZEV2ZW50Owp1c2UgQ29tcG9zZXJcRXZlbnREaXNwYXRjaGVyXEV2ZW50RGlzcGF0Y2hlcjsKdXNlIENvbXBvc2VyXERvd25sb2FkZXJcVHJhbnNwb3J0RXhjZXB0aW9uOwp1c2UgQ29tcG9zZXJcU2VtdmVyXENvbnN0cmFpbnRcQ29uc3RyYWludEludGVyZmFjZTsKdXNlIENvbXBvc2VyXFNlbXZlclxDb25zdHJhaW50XENvbnN0cmFpbnQ7CnVzZSBDb21wb3NlclxTZW12ZXJcQ29uc3RyYWludFxNYXRjaEFsbENvbnN0cmFpbnQ7CnVzZSBDb21wb3NlclxVdGlsXEh0dHBcUmVzcG9uc2U7CnVzZSBDb21wb3NlclxNZXRhZGF0YU1pbmlmaWVyXE1ldGFkYXRhTWluaWZpZXI7CnVzZSBDb21wb3NlclxVdGlsXFVybDsKCgoKCmNsYXNzIENvbXBvc2VyUmVwb3NpdG9yeSBleHRlbmRzIEFycmF5UmVwb3NpdG9yeSBpbXBsZW1lbnRzIENvbmZpZ3VyYWJsZVJlcG9zaXRvcnlJbnRlcmZhY2UKewpwcml2YXRlICRyZXBvQ29uZmlnOwpwcml2YXRlICRvcHRpb25zOwpwcml2YXRlICR1cmw7CnByaXZhdGUgJGJhc2VVcmw7CnByaXZhdGUgJGlvOwpwcml2YXRlICRodHRwRG93bmxvYWRlcjsKcHJpdmF0ZSAkbG9vcDsKcHJvdGVjdGVkICRjYWNoZTsKcHJvdGVjdGVkICRub3RpZnlVcmw7CnByb3RlY3RlZCAkc2VhcmNoVXJsOwoKcHJvdGVjdGVkICRwcm92aWRlcnNBcGlVcmw7CnByb3RlY3RlZCAkaGFzUHJvdmlkZXJzID0gZmFsc2U7CnByb3RlY3RlZCAkcHJvdmlkZXJzVXJsOwpwcm90ZWN0ZWQgJGxpc3RVcmw7Cgpwcm90ZWN0ZWQgJGhhc0F2YWlsYWJsZVBhY2thZ2VMaXN0ID0gZmFsc2U7CnByb3RlY3RlZCAkYXZhaWxhYmxlUGFja2FnZXM7CnByb3RlY3RlZCAkYXZhaWxhYmxlUGFja2FnZVBhdHRlcm5zOwpwcm90ZWN0ZWQgJGxhenlQcm92aWRlcnNVcmw7CnByb3RlY3RlZCAkcHJvdmlkZXJMaXN0aW5nOwpwcm90ZWN0ZWQgJGxvYWRlcjsKcHJpdmF0ZSAkYWxsb3dTc2xEb3duZ3JhZGUgPSBmYWxzZTsKcHJpdmF0ZSAkZXZlbnREaXNwYXRjaGVyOwpwcml2YXRlICRzb3VyY2VNaXJyb3JzOwpwcml2YXRlICRkaXN0TWlycm9yczsKcHJpdmF0ZSAkZGVncmFkZWRNb2RlID0gZmFsc2U7CnByaXZhdGUgJHJvb3REYXRhOwpwcml2YXRlICRoYXNQYXJ0aWFsUGFja2FnZXM7CnByaXZhdGUgJHBhcnRpYWxQYWNrYWdlc0J5TmFtZTsKCgoKCgoKCnB1YmxpYyAkZnJlc2hNZXRhZGF0YVVybHMgPSBhcnJheSgpOwoKCgoKCgoKcHVibGljICRwYWNrYWdlc05vdEZvdW5kQ2FjaGUgPSBhcnJheSgpOwoKCgoKcHVibGljICR2ZXJzaW9uUGFyc2VyOwoKcHVibGljIGZ1bmN0aW9uIF9fY29uc3RydWN0KGFycmF5ICRyZXBvQ29uZmlnLCBJT0ludGVyZmFjZSAkaW8sIENvbmZpZyAkY29uZmlnLCBIdHRwRG93bmxvYWRlciAkaHR0cERvd25sb2FkZXIsIEV2ZW50RGlzcGF0Y2hlciAkZXZlbnREaXNwYXRjaGVyID0gbnVsbCkKewpwYXJlbnQ6Ol9fY29uc3RydWN0KCk7CmlmICghcHJlZ19tYXRjaCgne15bXHcuXStcPz86Ly99JywgJHJlcG9Db25maWdbJ3VybCddKSkgewoKJHJlcG9Db25maWdbJ3VybCddID0gJ2h0dHA6Ly8nLiRyZXBvQ29uZmlnWyd1cmwnXTsKfQokcmVwb0NvbmZpZ1sndXJsJ10gPSBydHJpbSgkcmVwb0NvbmZpZ1sndXJsJ10sICcvJyk7CgppZiAoc3RycG9zKCRyZXBvQ29uZmlnWyd1cmwnXSwgJ2h0dHBzPycpID09PSAwKSB7CiRyZXBvQ29uZmlnWyd1cmwnXSA9IChleHRlbnNpb25fbG9hZGVkKCdvcGVuc3NsJykgPyAnaHR0cHMnIDogJ2h0dHAnKSAuIHN1YnN0cigkcmVwb0NvbmZpZ1sndXJsJ10sIDYpOwp9CgokdXJsQml0cyA9IHBhcnNlX3VybCgkcmVwb0NvbmZpZ1sndXJsJ10pOwppZiAoJHVybEJpdHMgPT09IGZhbHNlIHx8IGVtcHR5KCR1cmxCaXRzWydzY2hlbWUnXSkpIHsKdGhyb3cgbmV3IFxVbmV4cGVjdGVkVmFsdWVFeGNlcHRpb24oJ0ludmFsaWQgdXJsIGdpdmVuIGZvciBDb21wb3NlciByZXBvc2l0b3J5OiAnLiRyZXBvQ29uZmlnWyd1cmwnXSk7Cn0KCmlmICghaXNzZXQoJHJlcG9Db25maWdbJ29wdGlvbnMnXSkpIHsKJHJlcG9Db25maWdbJ29wdGlvbnMnXSA9IGFycmF5KCk7Cn0KaWYgKGlzc2V0KCRyZXBvQ29uZmlnWydhbGxvd19zc2xfZG93bmdyYWRlJ10pICYmIHRydWUgPT09ICRyZXBvQ29uZmlnWydhbGxvd19zc2xfZG93bmdyYWRlJ10pIHsKJHRoaXMtPmFsbG93U3NsRG93bmdyYWRlID0gdHJ1ZTsKfQoKJHRoaXMtPm9wdGlvbnMgPSAkcmVwb0NvbmZpZ1snb3B0aW9ucyddOwokdGhpcy0+dXJsID0gJHJlcG9Db25maWdbJ3VybCddOwoKCmlmIChwcmVnX21hdGNoKCd7Xig/UDxwcm90bz5odHRwcz8pOi8vcGFja2FnaXN0XC5vcmcvPyR9aScsICR0aGlzLT51cmwsICRtYXRjaCkpIHsKJHRoaXMtPnVybCA9ICRtYXRjaFsncHJvdG8nXS4nOi8vcmVwby5wYWNrYWdpc3Qub3JnJzsKfQoKJHRoaXMtPmJhc2VVcmwgPSBydHJpbShwcmVnX3JlcGxhY2UoJ3soPzovW14vXFxcXF0rXC5qc29uKT8oPzpbPyNdLiopPyR9JywgJycsICR0aGlzLT51cmwpLCAnLycpOwokdGhpcy0+aW8gPSAkaW87CiR0aGlzLT5jYWNoZSA9IG5ldyBDYWNoZSgkaW8sICRjb25maWctPmdldCgnY2FjaGUtcmVwby1kaXInKS4nLycucHJlZ19yZXBsYWNlKCd7W15hLXowLTkuXX1pJywgJy0nLCBVcmw6OnNhbml0aXplKCR0aGlzLT51cmwpKSwgJ2EtejAtOS4kficpOwokdGhpcy0+Y2FjaGUtPnNldFJlYWRPbmx5KCRjb25maWctPmdldCgnY2FjaGUtcmVhZC1vbmx5JykpOwokdGhpcy0+dmVyc2lvblBhcnNlciA9IG5ldyBWZXJzaW9uUGFyc2VyKCk7CiR0aGlzLT5sb2FkZXIgPSBuZXcgQXJyYXlMb2FkZXIoJHRoaXMtPnZlcnNpb25QYXJzZXIpOwokdGhpcy0+aHR0cERvd25sb2FkZXIgPSAkaHR0cERvd25sb2FkZXI7CiR0aGlzLT5ldmVudERpc3BhdGNoZXIgPSAkZXZlbnREaXNwYXRjaGVyOwokdGhpcy0+cmVwb0NvbmZpZyA9ICRyZXBvQ29uZmlnOwokdGhpcy0+bG9vcCA9IG5ldyBMb29wKCR0aGlzLT5odHRwRG93bmxvYWRlcik7Cn0KCnB1YmxpYyBmdW5jdGlvbiBnZXRSZXBvTmFtZSgpCnsKcmV0dXJuICdjb21wb3NlciByZXBvICgnLlVybDo6c2FuaXRpemUoJHRoaXMtPnVybCkuJyknOwp9CgpwdWJsaWMgZnVuY3Rpb24gZ2V0UmVwb0NvbmZpZygpCnsKcmV0dXJuICR0aGlzLT5yZXBvQ29uZmlnOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gZmluZFBhY2thZ2UoJG5hbWUsICRjb25zdHJhaW50KQp7CgokaGFzUHJvdmlkZXJzID0gJHRoaXMtPmhhc1Byb3ZpZGVycygpOwoKJG5hbWUgPSBzdHJ0b2xvd2VyKCRuYW1lKTsKaWYgKCEkY29uc3RyYWludCBpbnN0YW5jZW9mIENvbnN0cmFpbnRJbnRlcmZhY2UpIHsKJGNvbnN0cmFpbnQgPSAkdGhpcy0+dmVyc2lvblBhcnNlci0+cGFyc2VDb25zdHJhaW50cygkY29uc3RyYWludCk7Cn0KCmlmICgkdGhpcy0+bGF6eVByb3ZpZGVyc1VybCkgewppZiAoJHRoaXMtPmhhc1BhcnRpYWxQYWNrYWdlcygpICYmIGlzc2V0KCR0aGlzLT5wYXJ0aWFsUGFja2FnZXNCeU5hbWVbJG5hbWVdKSkgewpyZXR1cm4gJHRoaXMtPmZpbHRlclBhY2thZ2VzKCR0aGlzLT53aGF0UHJvdmlkZXMoJG5hbWUpLCAkY29uc3RyYWludCwgdHJ1ZSk7Cn0KCmlmICgkdGhpcy0+aGFzQXZhaWxhYmxlUGFja2FnZUxpc3QgJiYgISR0aGlzLT5sYXp5UHJvdmlkZXJzUmVwb0NvbnRhaW5zKCRuYW1lKSkgewpyZXR1cm4gbnVsbDsKfQoKJHBhY2thZ2VzID0gJHRoaXMtPmxvYWRBc3luY1BhY2thZ2VzKGFycmF5KCRuYW1lID0+ICRjb25zdHJhaW50KSk7CgpyZXR1cm4gcmVzZXQoJHBhY2thZ2VzWydwYWNrYWdlcyddKTsKfQoKaWYgKCRoYXNQcm92aWRlcnMpIHsKZm9yZWFjaCAoJHRoaXMtPmdldFByb3ZpZGVyTmFtZXMoKSBhcyAkcHJvdmlkZXJOYW1lKSB7CmlmICgkbmFtZSA9PT0gJHByb3ZpZGVyTmFtZSkgewpyZXR1cm4gJHRoaXMtPmZpbHRlclBhY2thZ2VzKCR0aGlzLT53aGF0UHJvdmlkZXMoJHByb3ZpZGVyTmFtZSksICRjb25zdHJhaW50LCB0cnVlKTsKfQp9CgpyZXR1cm4gbnVsbDsKfQoKcmV0dXJuIHBhcmVudDo6ZmluZFBhY2thZ2UoJG5hbWUsICRjb25zdHJhaW50KTsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIGZpbmRQYWNrYWdlcygkbmFtZSwgJGNvbnN0cmFpbnQgPSBudWxsKQp7CgokaGFzUHJvdmlkZXJzID0gJHRoaXMtPmhhc1Byb3ZpZGVycygpOwoKJG5hbWUgPSBzdHJ0b2xvd2VyKCRuYW1lKTsKaWYgKG51bGwgIT09ICRjb25zdHJhaW50ICYmICEkY29uc3RyYWludCBpbnN0YW5jZW9mIENvbnN0cmFpbnRJbnRlcmZhY2UpIHsKJGNvbnN0cmFpbnQgPSAkdGhpcy0+dmVyc2lvblBhcnNlci0+cGFyc2VDb25zdHJhaW50cygkY29uc3RyYWludCk7Cn0KCmlmICgkdGhpcy0+bGF6eVByb3ZpZGVyc1VybCkgewppZiAoJHRoaXMtPmhhc1BhcnRpYWxQYWNrYWdlcygpICYmIGlzc2V0KCR0aGlzLT5wYXJ0aWFsUGFja2FnZXNCeU5hbWVbJG5hbWVdKSkgewpyZXR1cm4gJHRoaXMtPmZpbHRlclBhY2thZ2VzKCR0aGlzLT53aGF0UHJvdmlkZXMoJG5hbWUpLCAkY29uc3RyYWludCk7Cn0KCmlmICgkdGhpcy0+aGFzQXZhaWxhYmxlUGFja2FnZUxpc3QgJiYgISR0aGlzLT5sYXp5UHJvdmlkZXJzUmVwb0NvbnRhaW5zKCRuYW1lKSkgewpyZXR1cm4gYXJyYXkoKTsKfQoKJHJlc3VsdCA9ICR0aGlzLT5sb2FkQXN5bmNQYWNrYWdlcyhhcnJheSgkbmFtZSA9PiAkY29uc3RyYWludCkpOwoKcmV0dXJuICRyZXN1bHRbJ3BhY2thZ2VzJ107Cn0KCmlmICgkaGFzUHJvdmlkZXJzKSB7CmZvcmVhY2ggKCR0aGlzLT5nZXRQcm92aWRlck5hbWVzKCkgYXMgJHByb3ZpZGVyTmFtZSkgewppZiAoJG5hbWUgPT09ICRwcm92aWRlck5hbWUpIHsKcmV0dXJuICR0aGlzLT5maWx0ZXJQYWNrYWdlcygkdGhpcy0+d2hhdFByb3ZpZGVzKCRwcm92aWRlck5hbWUpLCAkY29uc3RyYWludCk7Cn0KfQoKcmV0dXJuIGFycmF5KCk7Cn0KCnJldHVybiBwYXJlbnQ6OmZpbmRQYWNrYWdlcygkbmFtZSwgJGNvbnN0cmFpbnQpOwp9Cgpwcml2YXRlIGZ1bmN0aW9uIGZpbHRlclBhY2thZ2VzKGFycmF5ICRwYWNrYWdlcywgJGNvbnN0cmFpbnQgPSBudWxsLCAkcmV0dXJuRmlyc3RNYXRjaCA9IGZhbHNlKQp7CmlmIChudWxsID09PSAkY29uc3RyYWludCkgewppZiAoJHJldHVybkZpcnN0TWF0Y2gpIHsKcmV0dXJuIHJlc2V0KCRwYWNrYWdlcyk7Cn0KCnJldHVybiAkcGFja2FnZXM7Cn0KCiRmaWx0ZXJlZFBhY2thZ2VzID0gYXJyYXkoKTsKCmZvcmVhY2ggKCRwYWNrYWdlcyBhcyAkcGFja2FnZSkgewokcGtnQ29uc3RyYWludCA9IG5ldyBDb25zdHJhaW50KCc9PScsICRwYWNrYWdlLT5nZXRWZXJzaW9uKCkpOwoKaWYgKCRjb25zdHJhaW50LT5tYXRjaGVzKCRwa2dDb25zdHJhaW50KSkgewppZiAoJHJldHVybkZpcnN0TWF0Y2gpIHsKcmV0dXJuICRwYWNrYWdlOwp9CgokZmlsdGVyZWRQYWNrYWdlc1tdID0gJHBhY2thZ2U7Cn0KfQoKaWYgKCRyZXR1cm5GaXJzdE1hdGNoKSB7CnJldHVybiBudWxsOwp9CgpyZXR1cm4gJGZpbHRlcmVkUGFja2FnZXM7Cn0KCnB1YmxpYyBmdW5jdGlvbiBnZXRQYWNrYWdlcygpCnsKJGhhc1Byb3ZpZGVycyA9ICR0aGlzLT5oYXNQcm92aWRlcnMoKTsKCmlmICgkdGhpcy0+bGF6eVByb3ZpZGVyc1VybCkgewppZiAoaXNfYXJyYXkoJHRoaXMtPmF2YWlsYWJsZVBhY2thZ2VzKSAmJiAhJHRoaXMtPmF2YWlsYWJsZVBhY2thZ2VQYXR0ZXJucykgewokcGFja2FnZU1hcCA9IGFycmF5KCk7CmZvcmVhY2ggKCR0aGlzLT5hdmFpbGFibGVQYWNrYWdlcyBhcyAkbmFtZSkgewokcGFja2FnZU1hcFskbmFtZV0gPSBuZXcgTWF0Y2hBbGxDb25zdHJhaW50KCk7Cn0KCiRyZXN1bHQgPSAkdGhpcy0+bG9hZEFzeW5jUGFja2FnZXMoJHBhY2thZ2VNYXApOwoKcmV0dXJuIGFycmF5X3ZhbHVlcygkcmVzdWx0WydwYWNrYWdlcyddKTsKfQoKaWYgKCR0aGlzLT5oYXNQYXJ0aWFsUGFja2FnZXMoKSkgewpyZXR1cm4gYXJyYXlfdmFsdWVzKCR0aGlzLT5wYXJ0aWFsUGFja2FnZXNCeU5hbWUpOwp9Cgp0aHJvdyBuZXcgXExvZ2ljRXhjZXB0aW9uKCdDb21wb3NlciByZXBvc2l0b3JpZXMgdGhhdCBoYXZlIGxhenkgcHJvdmlkZXJzIGFuZCBubyBhdmFpbGFibGUtcGFja2FnZXMgbGlzdCBjYW4gbm90IGxvYWQgdGhlIGNvbXBsZXRlIGxpc3Qgb2YgcGFja2FnZXMsIHVzZSBnZXRQYWNrYWdlTmFtZXMgaW5zdGVhZC4nKTsKfQoKaWYgKCRoYXNQcm92aWRlcnMpIHsKdGhyb3cgbmV3IFxMb2dpY0V4Y2VwdGlvbignQ29tcG9zZXIgcmVwb3NpdG9yaWVzIHRoYXQgaGF2ZSBwcm92aWRlcnMgY2FuIG5vdCBsb2FkIHRoZSBjb21wbGV0ZSBsaXN0IG9mIHBhY2thZ2VzLCB1c2UgZ2V0UGFja2FnZU5hbWVzIGluc3RlYWQuJyk7Cn0KCnJldHVybiBwYXJlbnQ6OmdldFBhY2thZ2VzKCk7Cn0KCnB1YmxpYyBmdW5jdGlvbiBnZXRQYWNrYWdlTmFtZXMoJHBhY2thZ2VGaWx0ZXIgPSBudWxsKQp7CiRoYXNQcm92aWRlcnMgPSAkdGhpcy0+aGFzUHJvdmlkZXJzKCk7CgokcGFja2FnZUZpbHRlckNiID0gZnVuY3Rpb24gKCRuYW1lKSB7CnJldHVybiB0cnVlOwp9OwppZiAobnVsbCAhPT0gJHBhY2thZ2VGaWx0ZXIpIHsKJHBhY2thZ2VGaWx0ZXJSZWdleCA9ICd7Xicuc3RyX3JlcGxhY2UoJ1xcKicsICcuKj8nLCBwcmVnX3F1b3RlKCRwYWNrYWdlRmlsdGVyKSkuJyR9aSc7CiRwYWNrYWdlRmlsdGVyQ2IgPSBmdW5jdGlvbiAoJG5hbWUpIHVzZSAoJHBhY2thZ2VGaWx0ZXJSZWdleCkgewpyZXR1cm4gKGJvb2wpIHByZWdfbWF0Y2goJHBhY2thZ2VGaWx0ZXJSZWdleCwgJG5hbWUpOwp9Owp9CgppZiAoJHRoaXMtPmxhenlQcm92aWRlcnNVcmwpIHsKaWYgKGlzX2FycmF5KCR0aGlzLT5hdmFpbGFibGVQYWNrYWdlcykpIHsKcmV0dXJuIGFycmF5X2ZpbHRlcihhcnJheV9rZXlzKCR0aGlzLT5hdmFpbGFibGVQYWNrYWdlcyksICRwYWNrYWdlRmlsdGVyQ2IpOwp9CgppZiAoJHRoaXMtPmxpc3RVcmwpIHsKJHVybCA9ICR0aGlzLT5saXN0VXJsOwppZiAoJHBhY2thZ2VGaWx0ZXIpIHsKJHVybCAuPSAnP2ZpbHRlcj0nLnVybGVuY29kZSgkcGFja2FnZUZpbHRlcik7Cn0KCiRyZXN1bHQgPSAkdGhpcy0+aHR0cERvd25sb2FkZXItPmdldCgkdXJsLCAkdGhpcy0+b3B0aW9ucyktPmRlY29kZUpzb24oKTsKCnJldHVybiAkcmVzdWx0WydwYWNrYWdlTmFtZXMnXTsKfQoKaWYgKCR0aGlzLT5oYXNQYXJ0aWFsUGFja2FnZXMoKSkgewpyZXR1cm4gYXJyYXlfZmlsdGVyKGFycmF5X2tleXMoJHRoaXMtPnBhcnRpYWxQYWNrYWdlc0J5TmFtZSksICRwYWNrYWdlRmlsdGVyQ2IpOwp9CgpyZXR1cm4gYXJyYXkoKTsKfQoKaWYgKCRoYXNQcm92aWRlcnMpIHsKcmV0dXJuIGFycmF5X2ZpbHRlcigkdGhpcy0+Z2V0UHJvdmlkZXJOYW1lcygpLCAkcGFja2FnZUZpbHRlckNiKTsKfQoKJG5hbWVzID0gYXJyYXkoKTsKZm9yZWFjaCAoJHRoaXMtPmdldFBhY2thZ2VzKCkgYXMgJHBhY2thZ2UpIHsKaWYgKCRwYWNrYWdlRmlsdGVyQ2IoJHBhY2thZ2UtPmdldE5hbWUoKSkpIHsKJG5hbWVzW10gPSAkcGFja2FnZS0+Z2V0UHJldHR5TmFtZSgpOwp9Cn0KCnJldHVybiAkbmFtZXM7Cn0KCnB1YmxpYyBmdW5jdGlvbiBsb2FkUGFja2FnZXMoYXJyYXkgJHBhY2thZ2VOYW1lTWFwLCBhcnJheSAkYWNjZXB0YWJsZVN0YWJpbGl0aWVzLCBhcnJheSAkc3RhYmlsaXR5RmxhZ3MsIGFycmF5ICRhbHJlYWR5TG9hZGVkID0gYXJyYXkoKSkKewoKJGhhc1Byb3ZpZGVycyA9ICR0aGlzLT5oYXNQcm92aWRlcnMoKTsKCmlmICghJGhhc1Byb3ZpZGVycyAmJiAhJHRoaXMtPmhhc1BhcnRpYWxQYWNrYWdlcygpICYmICEkdGhpcy0+bGF6eVByb3ZpZGVyc1VybCkgewpyZXR1cm4gcGFyZW50Ojpsb2FkUGFja2FnZXMoJHBhY2thZ2VOYW1lTWFwLCAkYWNjZXB0YWJsZVN0YWJpbGl0aWVzLCAkc3RhYmlsaXR5RmxhZ3MsICRhbHJlYWR5TG9hZGVkKTsKfQoKJHBhY2thZ2VzID0gYXJyYXkoKTsKJG5hbWVzRm91bmQgPSBhcnJheSgpOwoKaWYgKCRoYXNQcm92aWRlcnMgfHwgJHRoaXMtPmhhc1BhcnRpYWxQYWNrYWdlcygpKSB7CmZvcmVhY2ggKCRwYWNrYWdlTmFtZU1hcCBhcyAkbmFtZSA9PiAkY29uc3RyYWludCkgewokbWF0Y2hlcyA9IGFycmF5KCk7CgoKCmlmICghJGhhc1Byb3ZpZGVycyAmJiAhaXNzZXQoJHRoaXMtPnBhcnRpYWxQYWNrYWdlc0J5TmFtZVskbmFtZV0pKSB7CmNvbnRpbnVlOwp9CgokY2FuZGlkYXRlcyA9ICR0aGlzLT53aGF0UHJvdmlkZXMoJG5hbWUsICRhY2NlcHRhYmxlU3RhYmlsaXRpZXMsICRzdGFiaWxpdHlGbGFncywgJGFscmVhZHlMb2FkZWQpOwpmb3JlYWNoICgkY2FuZGlkYXRlcyBhcyAkY2FuZGlkYXRlKSB7CmlmICgkY2FuZGlkYXRlLT5nZXROYW1lKCkgIT09ICRuYW1lKSB7CnRocm93IG5ldyBcTG9naWNFeGNlcHRpb24oJ3doYXRQcm92aWRlcyBzaG91bGQgbmV2ZXIgcmV0dXJuIGEgcGFja2FnZSB3aXRoIGEgZGlmZmVyZW50IG5hbWUgdGhhbiB0aGUgcmVxdWVzdGVkIG9uZScpOwp9CiRuYW1lc0ZvdW5kWyRuYW1lXSA9IHRydWU7CgppZiAoISRjb25zdHJhaW50IHx8ICRjb25zdHJhaW50LT5tYXRjaGVzKG5ldyBDb25zdHJhaW50KCc9PScsICRjYW5kaWRhdGUtPmdldFZlcnNpb24oKSkpKSB7CiRtYXRjaGVzW3NwbF9vYmplY3RfaGFzaCgkY2FuZGlkYXRlKV0gPSAkY2FuZGlkYXRlOwppZiAoJGNhbmRpZGF0ZSBpbnN0YW5jZW9mIEFsaWFzUGFja2FnZSAmJiAhaXNzZXQoJG1hdGNoZXNbc3BsX29iamVjdF9oYXNoKCRjYW5kaWRhdGUtPmdldEFsaWFzT2YoKSldKSkgewokbWF0Y2hlc1tzcGxfb2JqZWN0X2hhc2goJGNhbmRpZGF0ZS0+Z2V0QWxpYXNPZigpKV0gPSAkY2FuZGlkYXRlLT5nZXRBbGlhc09mKCk7Cn0KfQp9CgoKZm9yZWFjaCAoJGNhbmRpZGF0ZXMgYXMgJGNhbmRpZGF0ZSkgewppZiAoJGNhbmRpZGF0ZSBpbnN0YW5jZW9mIEFsaWFzUGFja2FnZSkgewppZiAoaXNzZXQoJG1hdGNoZXNbc3BsX29iamVjdF9oYXNoKCRjYW5kaWRhdGUtPmdldEFsaWFzT2YoKSldKSkgewokbWF0Y2hlc1tzcGxfb2JqZWN0X2hhc2goJGNhbmRpZGF0ZSldID0gJGNhbmRpZGF0ZTsKfQp9Cn0KJHBhY2thZ2VzID0gYXJyYXlfbWVyZ2UoJHBhY2thZ2VzLCAkbWF0Y2hlcyk7Cgp1bnNldCgkcGFja2FnZU5hbWVNYXBbJG5hbWVdKTsKfQp9CgppZiAoJHRoaXMtPmxhenlQcm92aWRlcnNVcmwgJiYgY291bnQoJHBhY2thZ2VOYW1lTWFwKSkgewppZiAoJHRoaXMtPmhhc0F2YWlsYWJsZVBhY2thZ2VMaXN0KSB7CmZvcmVhY2ggKCRwYWNrYWdlTmFtZU1hcCBhcyAkbmFtZSA9PiAkY29uc3RyYWludCkgewppZiAoISR0aGlzLT5sYXp5UHJvdmlkZXJzUmVwb0NvbnRhaW5zKHN0cnRvbG93ZXIoJG5hbWUpKSkgewp1bnNldCgkcGFja2FnZU5hbWVNYXBbJG5hbWVdKTsKfQp9Cn0KCiRyZXN1bHQgPSAkdGhpcy0+bG9hZEFzeW5jUGFja2FnZXMoJHBhY2thZ2VOYW1lTWFwLCAkYWNjZXB0YWJsZVN0YWJpbGl0aWVzLCAkc3RhYmlsaXR5RmxhZ3MsICRhbHJlYWR5TG9hZGVkKTsKJHBhY2thZ2VzID0gYXJyYXlfbWVyZ2UoJHBhY2thZ2VzLCAkcmVzdWx0WydwYWNrYWdlcyddKTsKJG5hbWVzRm91bmQgPSBhcnJheV9tZXJnZSgkbmFtZXNGb3VuZCwgJHJlc3VsdFsnbmFtZXNGb3VuZCddKTsKfQoKcmV0dXJuIGFycmF5KCduYW1lc0ZvdW5kJyA9PiBhcnJheV9rZXlzKCRuYW1lc0ZvdW5kKSwgJ3BhY2thZ2VzJyA9PiAkcGFja2FnZXMpOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gc2VhcmNoKCRxdWVyeSwgJG1vZGUgPSAwLCAkdHlwZSA9IG51bGwpCnsKJHRoaXMtPmxvYWRSb290U2VydmVyRmlsZSgpOwoKaWYgKCR0aGlzLT5zZWFyY2hVcmwgJiYgJG1vZGUgPT09IHNlbGY6OlNFQVJDSF9GVUxMVEVYVCkgewokdXJsID0gc3RyX3JlcGxhY2UoYXJyYXkoJyVxdWVyeSUnLCAnJXR5cGUlJyksIGFycmF5KCRxdWVyeSwgJHR5cGUpLCAkdGhpcy0+c2VhcmNoVXJsKTsKCiRzZWFyY2ggPSAkdGhpcy0+aHR0cERvd25sb2FkZXItPmdldCgkdXJsLCAkdGhpcy0+b3B0aW9ucyktPmRlY29kZUpzb24oKTsKCmlmIChlbXB0eSgkc2VhcmNoWydyZXN1bHRzJ10pKSB7CnJldHVybiBhcnJheSgpOwp9CgokcmVzdWx0cyA9IGFycmF5KCk7CmZvcmVhY2ggKCRzZWFyY2hbJ3Jlc3VsdHMnXSBhcyAkcmVzdWx0KSB7CgppZiAoZW1wdHkoJHJlc3VsdFsndmlydHVhbCddKSkgewokcmVzdWx0c1tdID0gYXJyYXkoJ25hbWUnID0+ICRyZXN1bHRbJ25hbWUnXSwgJ2Rlc2NyaXB0aW9uJyA9PiAkcmVzdWx0WydkZXNjcmlwdGlvbiddKTsKfQp9CgpyZXR1cm4gJHJlc3VsdHM7Cn0KCmlmICgkdGhpcy0+aGFzUHJvdmlkZXJzKCkgfHwgJHRoaXMtPmxhenlQcm92aWRlcnNVcmwpIHsKJHJlc3VsdHMgPSBhcnJheSgpOwokcmVnZXggPSAneyg/OicuaW1wbG9kZSgnfCcsIHByZWdfc3BsaXQoJ3tccyt9JywgJHF1ZXJ5KSkuJyl9aSc7Cgpmb3JlYWNoICgkdGhpcy0+Z2V0UGFja2FnZU5hbWVzKCkgYXMgJG5hbWUpIHsKaWYgKHByZWdfbWF0Y2goJHJlZ2V4LCAkbmFtZSkpIHsKJHJlc3VsdHNbXSA9IGFycmF5KCduYW1lJyA9PiAkbmFtZSwgJ2Rlc2NyaXB0aW9uJyA9PiAnJyk7Cn0KfQoKcmV0dXJuICRyZXN1bHRzOwp9CgpyZXR1cm4gcGFyZW50OjpzZWFyY2goJHF1ZXJ5LCAkbW9kZSk7Cn0KCnB1YmxpYyBmdW5jdGlvbiBnZXRQcm92aWRlcnMoJHBhY2thZ2VOYW1lKQp7CiR0aGlzLT5sb2FkUm9vdFNlcnZlckZpbGUoKTsKJHJlc3VsdCA9IGFycmF5KCk7CgppZiAoJHRoaXMtPnByb3ZpZGVyc0FwaVVybCkgewokYXBpUmVzdWx0ID0gJHRoaXMtPmh0dHBEb3dubG9hZGVyLT5nZXQoc3RyX3JlcGxhY2UoJyVwYWNrYWdlJScsICRwYWNrYWdlTmFtZSwgJHRoaXMtPnByb3ZpZGVyc0FwaVVybCksICR0aGlzLT5vcHRpb25zKS0+ZGVjb2RlSnNvbigpOwoKZm9yZWFjaCAoJGFwaVJlc3VsdFsncHJvdmlkZXJzJ10gYXMgJHByb3ZpZGVyKSB7CiRyZXN1bHRbJHByb3ZpZGVyWyduYW1lJ11dID0gJHByb3ZpZGVyOwp9CgpyZXR1cm4gJHJlc3VsdDsKfQoKaWYgKCR0aGlzLT5oYXNQYXJ0aWFsUGFja2FnZXMoKSkgewpmb3JlYWNoICgkdGhpcy0+cGFydGlhbFBhY2thZ2VzQnlOYW1lIGFzICR2ZXJzaW9ucykgewpmb3JlYWNoICgkdmVyc2lvbnMgYXMgJGNhbmRpZGF0ZSkgewppZiAoaXNzZXQoJHJlc3VsdFskY2FuZGlkYXRlWyduYW1lJ11dKSB8fCAhaXNzZXQoJGNhbmRpZGF0ZVsncHJvdmlkZSddWyRwYWNrYWdlTmFtZV0pKSB7CmNvbnRpbnVlOwp9CiRyZXN1bHRbJGNhbmRpZGF0ZVsnbmFtZSddXSA9IGFycmF5KAonbmFtZScgPT4gJGNhbmRpZGF0ZVsnbmFtZSddLAonZGVzY3JpcHRpb24nID0+IGlzc2V0KCRjYW5kaWRhdGVbJ2Rlc2NyaXB0aW9uJ10pID8gJGNhbmRpZGF0ZVsnZGVzY3JpcHRpb24nXSA6ICcnLAondHlwZScgPT4gaXNzZXQoJGNhbmRpZGF0ZVsndHlwZSddKSA/ICRjYW5kaWRhdGVbJ3R5cGUnXSA6ICcnLAopOwp9Cn0KfQoKaWYgKCR0aGlzLT5wYWNrYWdlcykgewokcmVzdWx0ID0gYXJyYXlfbWVyZ2UoJHJlc3VsdCwgcGFyZW50OjpnZXRQcm92aWRlcnMoJHBhY2thZ2VOYW1lKSk7Cn0KCnJldHVybiAkcmVzdWx0Owp9Cgpwcml2YXRlIGZ1bmN0aW9uIGdldFByb3ZpZGVyTmFtZXMoKQp7CiR0aGlzLT5sb2FkUm9vdFNlcnZlckZpbGUoKTsKCmlmIChudWxsID09PSAkdGhpcy0+cHJvdmlkZXJMaXN0aW5nKSB7CiR0aGlzLT5sb2FkUHJvdmlkZXJMaXN0aW5ncygkdGhpcy0+bG9hZFJvb3RTZXJ2ZXJGaWxlKCkpOwp9CgppZiAoJHRoaXMtPmxhenlQcm92aWRlcnNVcmwpIHsKCnJldHVybiBhcnJheSgpOwp9CgppZiAoJHRoaXMtPnByb3ZpZGVyc1VybCkgewpyZXR1cm4gYXJyYXlfa2V5cygkdGhpcy0+cHJvdmlkZXJMaXN0aW5nKTsKfQoKcmV0dXJuIGFycmF5KCk7Cn0KCnByb3RlY3RlZCBmdW5jdGlvbiBjb25maWd1cmVQYWNrYWdlVHJhbnNwb3J0T3B0aW9ucyhQYWNrYWdlSW50ZXJmYWNlICRwYWNrYWdlKQp7CmZvcmVhY2ggKCRwYWNrYWdlLT5nZXREaXN0VXJscygpIGFzICR1cmwpIHsKaWYgKHN0cnBvcygkdXJsLCAkdGhpcy0+YmFzZVVybCkgPT09IDApIHsKJHBhY2thZ2UtPnNldFRyYW5zcG9ydE9wdGlvbnMoJHRoaXMtPm9wdGlvbnMpOwoKcmV0dXJuOwp9Cn0KfQoKcHJpdmF0ZSBmdW5jdGlvbiBoYXNQcm92aWRlcnMoKQp7CiR0aGlzLT5sb2FkUm9vdFNlcnZlckZpbGUoKTsKCnJldHVybiAkdGhpcy0+aGFzUHJvdmlkZXJzOwp9CgoKCgoKcHJpdmF0ZSBmdW5jdGlvbiB3aGF0UHJvdmlkZXMoJG5hbWUsIGFycmF5ICRhY2NlcHRhYmxlU3RhYmlsaXRpZXMgPSBudWxsLCBhcnJheSAkc3RhYmlsaXR5RmxhZ3MgPSBudWxsLCBhcnJheSAkYWxyZWFkeUxvYWRlZCA9IGFycmF5KCkpCnsKJHBhY2thZ2VzU291cmNlID0gbnVsbDsKaWYgKCEkdGhpcy0+aGFzUGFydGlhbFBhY2thZ2VzKCkgfHwgIWlzc2V0KCR0aGlzLT5wYXJ0aWFsUGFja2FnZXNCeU5hbWVbJG5hbWVdKSkgewoKaWYgKFBsYXRmb3JtUmVwb3NpdG9yeTo6aXNQbGF0Zm9ybVBhY2thZ2UoJG5hbWUpIHx8ICdfX3Jvb3RfXycgPT09ICRuYW1lKSB7CnJldHVybiBhcnJheSgpOwp9CgppZiAobnVsbCA9PT0gJHRoaXMtPnByb3ZpZGVyTGlzdGluZykgewokdGhpcy0+bG9hZFByb3ZpZGVyTGlzdGluZ3MoJHRoaXMtPmxvYWRSb290U2VydmVyRmlsZSgpKTsKfQoKJHVzZUxhc3RNb2RpZmllZENoZWNrID0gZmFsc2U7CmlmICgkdGhpcy0+bGF6eVByb3ZpZGVyc1VybCAmJiAhaXNzZXQoJHRoaXMtPnByb3ZpZGVyTGlzdGluZ1skbmFtZV0pKSB7CiRoYXNoID0gbnVsbDsKJHVybCA9IHN0cl9yZXBsYWNlKCclcGFja2FnZSUnLCAkbmFtZSwgJHRoaXMtPmxhenlQcm92aWRlcnNVcmwpOwokY2FjaGVLZXkgPSAncHJvdmlkZXItJy5zdHJ0cigkbmFtZSwgJy8nLCAnJCcpLicuanNvbic7CiR1c2VMYXN0TW9kaWZpZWRDaGVjayA9IHRydWU7Cn0gZWxzZWlmICgkdGhpcy0+cHJvdmlkZXJzVXJsKSB7CgppZiAoIWlzc2V0KCR0aGlzLT5wcm92aWRlckxpc3RpbmdbJG5hbWVdKSkgewpyZXR1cm4gYXJyYXkoKTsKfQoKJGhhc2ggPSAkdGhpcy0+cHJvdmlkZXJMaXN0aW5nWyRuYW1lXVsnc2hhMjU2J107CiR1cmwgPSBzdHJfcmVwbGFjZShhcnJheSgnJXBhY2thZ2UlJywgJyVoYXNoJScpLCBhcnJheSgkbmFtZSwgJGhhc2gpLCAkdGhpcy0+cHJvdmlkZXJzVXJsKTsKJGNhY2hlS2V5ID0gJ3Byb3ZpZGVyLScuc3RydHIoJG5hbWUsICcvJywgJyQnKS4nLmpzb24nOwp9IGVsc2UgewpyZXR1cm4gYXJyYXkoKTsKfQoKJHBhY2thZ2VzID0gbnVsbDsKaWYgKCRjYWNoZUtleSkgewppZiAoISR1c2VMYXN0TW9kaWZpZWRDaGVjayAmJiAkaGFzaCAmJiAkdGhpcy0+Y2FjaGUtPnNoYTI1NigkY2FjaGVLZXkpID09PSAkaGFzaCkgewokcGFja2FnZXMgPSBqc29uX2RlY29kZSgkdGhpcy0+Y2FjaGUtPnJlYWQoJGNhY2hlS2V5KSwgdHJ1ZSk7CiRwYWNrYWdlc1NvdXJjZSA9ICdjYWNoZWQgZmlsZSAoJy4kY2FjaGVLZXkuJyBvcmlnaW5hdGluZyBmcm9tICcuVXJsOjpzYW5pdGl6ZSgkdXJsKS4nKSc7Cn0gZWxzZWlmICgkdXNlTGFzdE1vZGlmaWVkQ2hlY2spIHsKaWYgKCRjb250ZW50cyA9ICR0aGlzLT5jYWNoZS0+cmVhZCgkY2FjaGVLZXkpKSB7CiRjb250ZW50cyA9IGpzb25fZGVjb2RlKCRjb250ZW50cywgdHJ1ZSk7CgppZiAoaXNzZXQoJGFscmVhZHlMb2FkZWRbJG5hbWVdKSkgewokcGFja2FnZXMgPSAkY29udGVudHM7CiRwYWNrYWdlc1NvdXJjZSA9ICdjYWNoZWQgZmlsZSAoJy4kY2FjaGVLZXkuJyBvcmlnaW5hdGluZyBmcm9tICcuVXJsOjpzYW5pdGl6ZSgkdXJsKS4nKSc7Cn0gZWxzZWlmIChpc3NldCgkY29udGVudHNbJ2xhc3QtbW9kaWZpZWQnXSkpIHsKJHJlc3BvbnNlID0gJHRoaXMtPmZldGNoRmlsZUlmTGFzdE1vZGlmaWVkKCR1cmwsICRjYWNoZUtleSwgJGNvbnRlbnRzWydsYXN0LW1vZGlmaWVkJ10pOwokcGFja2FnZXMgPSB0cnVlID09PSAkcmVzcG9uc2UgPyAkY29udGVudHMgOiAkcmVzcG9uc2U7CiRwYWNrYWdlc1NvdXJjZSA9IHRydWUgPT09ICRyZXNwb25zZSA/ICdjYWNoZWQgZmlsZSAoJy4kY2FjaGVLZXkuJyBvcmlnaW5hdGluZyBmcm9tICcuVXJsOjpzYW5pdGl6ZSgkdXJsKS4nKScgOiAnZG93bmxvYWRlZCBmaWxlICgnLlVybDo6c2FuaXRpemUoJHVybCkuJyknOwp9Cn0KfQp9CgppZiAoISRwYWNrYWdlcykgewp0cnkgewokcGFja2FnZXMgPSAkdGhpcy0+ZmV0Y2hGaWxlKCR1cmwsICRjYWNoZUtleSwgJGhhc2gsICR1c2VMYXN0TW9kaWZpZWRDaGVjayk7CiRwYWNrYWdlc1NvdXJjZSA9ICdkb3dubG9hZGVkIGZpbGUgKCcuVXJsOjpzYW5pdGl6ZSgkdXJsKS4nKSc7Cn0gY2F0Y2ggKFRyYW5zcG9ydEV4Y2VwdGlvbiAkZSkgewoKaWYgKCR0aGlzLT5sYXp5UHJvdmlkZXJzVXJsICYmIGluX2FycmF5KCRlLT5nZXRTdGF0dXNDb2RlKCksIGFycmF5KDQwNCwgNDk5KSwgdHJ1ZSkpIHsKJHBhY2thZ2VzID0gYXJyYXkoJ3BhY2thZ2VzJyA9PiBhcnJheSgpKTsKJHBhY2thZ2VzU291cmNlID0gJ25vdC1mb3VuZCBmaWxlICgnLlVybDo6c2FuaXRpemUoJHVybCkuJyknOwppZiAoJGUtPmdldFN0YXR1c0NvZGUoKSA9PT0gNDk5KSB7CiR0aGlzLT5pby0+ZXJyb3IoJzx3YXJuaW5nPicgLiAkZS0+Z2V0TWVzc2FnZSgpIC4gJzwvd2FybmluZz4nKTsKfQp9IGVsc2Ugewp0aHJvdyAkZTsKfQp9Cn0KCiRsb2FkaW5nUGFydGlhbFBhY2thZ2UgPSBmYWxzZTsKfSBlbHNlIHsKJHBhY2thZ2VzID0gYXJyYXkoJ3BhY2thZ2VzJyA9PiBhcnJheSgndmVyc2lvbnMnID0+ICR0aGlzLT5wYXJ0aWFsUGFja2FnZXNCeU5hbWVbJG5hbWVdKSk7CiRwYWNrYWdlc1NvdXJjZSA9ICdyb290IGZpbGUgKCcuVXJsOjpzYW5pdGl6ZSgkdGhpcy0+Z2V0UGFja2FnZXNKc29uVXJsKCkpLicpJzsKJGxvYWRpbmdQYXJ0aWFsUGFja2FnZSA9IHRydWU7Cn0KCiRyZXN1bHQgPSBhcnJheSgpOwokdmVyc2lvbnNUb0xvYWQgPSBhcnJheSgpOwpmb3JlYWNoICgkcGFja2FnZXNbJ3BhY2thZ2VzJ10gYXMgJHZlcnNpb25zKSB7CmZvcmVhY2ggKCR2ZXJzaW9ucyBhcyAkdmVyc2lvbikgewokbm9ybWFsaXplZE5hbWUgPSBzdHJ0b2xvd2VyKCR2ZXJzaW9uWyduYW1lJ10pOwoKCmlmICgkbm9ybWFsaXplZE5hbWUgIT09ICRuYW1lKSB7CmNvbnRpbnVlOwp9CgppZiAoISRsb2FkaW5nUGFydGlhbFBhY2thZ2UgJiYgJHRoaXMtPmhhc1BhcnRpYWxQYWNrYWdlcygpICYmIGlzc2V0KCR0aGlzLT5wYXJ0aWFsUGFja2FnZXNCeU5hbWVbJG5vcm1hbGl6ZWROYW1lXSkpIHsKY29udGludWU7Cn0KCmlmICghaXNzZXQoJHZlcnNpb25zVG9Mb2FkWyR2ZXJzaW9uWyd1aWQnXV0pKSB7CmlmICghaXNzZXQoJHZlcnNpb25bJ3ZlcnNpb25fbm9ybWFsaXplZCddKSkgewokdmVyc2lvblsndmVyc2lvbl9ub3JtYWxpemVkJ10gPSAkdGhpcy0+dmVyc2lvblBhcnNlci0+bm9ybWFsaXplKCR2ZXJzaW9uWyd2ZXJzaW9uJ10pOwp9IGVsc2VpZiAoJHZlcnNpb25bJ3ZlcnNpb25fbm9ybWFsaXplZCddID09PSBWZXJzaW9uUGFyc2VyOjpERUZBVUxUX0JSQU5DSF9BTElBUykgewoKJHZlcnNpb25bJ3ZlcnNpb25fbm9ybWFsaXplZCddID0gJHRoaXMtPnZlcnNpb25QYXJzZXItPm5vcm1hbGl6ZSgkdmVyc2lvblsndmVyc2lvbiddKTsKfQoKCmlmIChpc3NldCgkYWxyZWFkeUxvYWRlZFskbmFtZV1bJHZlcnNpb25bJ3ZlcnNpb25fbm9ybWFsaXplZCddXSkpIHsKY29udGludWU7Cn0KCmlmICgkdGhpcy0+aXNWZXJzaW9uQWNjZXB0YWJsZShudWxsLCAkbm9ybWFsaXplZE5hbWUsICR2ZXJzaW9uLCAkYWNjZXB0YWJsZVN0YWJpbGl0aWVzLCAkc3RhYmlsaXR5RmxhZ3MpKSB7CiR2ZXJzaW9uc1RvTG9hZFskdmVyc2lvblsndWlkJ11dID0gJHZlcnNpb247Cn0KfQp9Cn0KCgokbG9hZGVkUGFja2FnZXMgPSAkdGhpcy0+Y3JlYXRlUGFja2FnZXMoJHZlcnNpb25zVG9Mb2FkLCAkcGFja2FnZXNTb3VyY2UpOwokdWlkcyA9IGFycmF5X2tleXMoJHZlcnNpb25zVG9Mb2FkKTsKCmZvcmVhY2ggKCRsb2FkZWRQYWNrYWdlcyBhcyAkaW5kZXggPT4gJHBhY2thZ2UpIHsKJHBhY2thZ2UtPnNldFJlcG9zaXRvcnkoJHRoaXMpOwokdWlkID0gJHVpZHNbJGluZGV4XTsKCmlmICgkcGFja2FnZSBpbnN0YW5jZW9mIEFsaWFzUGFja2FnZSkgewokYWxpYXNlZCA9ICRwYWNrYWdlLT5nZXRBbGlhc09mKCk7CiRhbGlhc2VkLT5zZXRSZXBvc2l0b3J5KCR0aGlzKTsKCiRyZXN1bHRbJHVpZF0gPSAkYWxpYXNlZDsKJHJlc3VsdFskdWlkLictYWxpYXMnXSA9ICRwYWNrYWdlOwp9IGVsc2UgewokcmVzdWx0WyR1aWRdID0gJHBhY2thZ2U7Cn0KfQoKcmV0dXJuICRyZXN1bHQ7Cn0KCgoKCnByb3RlY3RlZCBmdW5jdGlvbiBpbml0aWFsaXplKCkKewpwYXJlbnQ6OmluaXRpYWxpemUoKTsKCiRyZXBvRGF0YSA9ICR0aGlzLT5sb2FkRGF0YUZyb21TZXJ2ZXIoKTsKCmZvcmVhY2ggKCR0aGlzLT5jcmVhdGVQYWNrYWdlcygkcmVwb0RhdGEsICdyb290IGZpbGUgKCcuVXJsOjpzYW5pdGl6ZSgkdGhpcy0+Z2V0UGFja2FnZXNKc29uVXJsKCkpLicpJykgYXMgJHBhY2thZ2UpIHsKJHRoaXMtPmFkZFBhY2thZ2UoJHBhY2thZ2UpOwp9Cn0KCgoKCgoKcHVibGljIGZ1bmN0aW9uIGFkZFBhY2thZ2UoUGFja2FnZUludGVyZmFjZSAkcGFja2FnZSkKewpwYXJlbnQ6OmFkZFBhY2thZ2UoJHBhY2thZ2UpOwokdGhpcy0+Y29uZmlndXJlUGFja2FnZVRyYW5zcG9ydE9wdGlvbnMoJHBhY2thZ2UpOwp9CgoKCgpwcml2YXRlIGZ1bmN0aW9uIGxvYWRBc3luY1BhY2thZ2VzKGFycmF5ICRwYWNrYWdlTmFtZXMsIGFycmF5ICRhY2NlcHRhYmxlU3RhYmlsaXRpZXMgPSBudWxsLCBhcnJheSAkc3RhYmlsaXR5RmxhZ3MgPSBudWxsLCBhcnJheSAkYWxyZWFkeUxvYWRlZCA9IGFycmF5KCkpCnsKJHRoaXMtPmxvYWRSb290U2VydmVyRmlsZSgpOwoKJHBhY2thZ2VzID0gYXJyYXkoKTsKJG5hbWVzRm91bmQgPSBhcnJheSgpOwokcHJvbWlzZXMgPSBhcnJheSgpOwokcmVwbyA9ICR0aGlzOwoKaWYgKCEkdGhpcy0+bGF6eVByb3ZpZGVyc1VybCkgewp0aHJvdyBuZXcgXExvZ2ljRXhjZXB0aW9uKCdsb2FkQXN5bmNQYWNrYWdlcyBvbmx5IHN1cHBvcnRzIHYyIHByb3RvY29sIGNvbXBvc2VyIHJlcG9zIHdpdGggYSBtZXRhZGF0YS11cmwnKTsKfQoKCmZvcmVhY2ggKCRwYWNrYWdlTmFtZXMgYXMgJG5hbWUgPT4gJGNvbnN0cmFpbnQpIHsKaWYgKCRhY2NlcHRhYmxlU3RhYmlsaXRpZXMgPT09IG51bGwgfHwgJHN0YWJpbGl0eUZsYWdzID09PSBudWxsIHx8IFN0YWJpbGl0eUZpbHRlcjo6aXNQYWNrYWdlQWNjZXB0YWJsZSgkYWNjZXB0YWJsZVN0YWJpbGl0aWVzLCAkc3RhYmlsaXR5RmxhZ3MsIGFycmF5KCRuYW1lKSwgJ2RldicpKSB7CiRwYWNrYWdlTmFtZXNbJG5hbWUuJ35kZXYnXSA9ICRjb25zdHJhaW50Owp9CgppZiAoaXNzZXQoJGFjY2VwdGFibGVTdGFiaWxpdGllc1snZGV2J10pICYmIGNvdW50KCRhY2NlcHRhYmxlU3RhYmlsaXRpZXMpID09PSAxICYmIGNvdW50KCRzdGFiaWxpdHlGbGFncykgPT09IDApIHsKdW5zZXQoJHBhY2thZ2VOYW1lc1skbmFtZV0pOwp9Cn0KCmZvcmVhY2ggKCRwYWNrYWdlTmFtZXMgYXMgJG5hbWUgPT4gJGNvbnN0cmFpbnQpIHsKJG5hbWUgPSBzdHJ0b2xvd2VyKCRuYW1lKTsKCiRyZWFsTmFtZSA9IHByZWdfcmVwbGFjZSgne35kZXYkfScsICcnLCAkbmFtZSk7CgppZiAoUGxhdGZvcm1SZXBvc2l0b3J5Ojppc1BsYXRmb3JtUGFja2FnZSgkcmVhbE5hbWUpIHx8ICdfX3Jvb3RfXycgPT09ICRyZWFsTmFtZSkgewpjb250aW51ZTsKfQoKJHVybCA9IHN0cl9yZXBsYWNlKCclcGFja2FnZSUnLCAkbmFtZSwgJHRoaXMtPmxhenlQcm92aWRlcnNVcmwpOwokY2FjaGVLZXkgPSAncHJvdmlkZXItJy5zdHJ0cigkbmFtZSwgJy8nLCAnficpLicuanNvbic7CgokbGFzdE1vZGlmaWVkID0gbnVsbDsKaWYgKCRjb250ZW50cyA9ICR0aGlzLT5jYWNoZS0+cmVhZCgkY2FjaGVLZXkpKSB7CiRjb250ZW50cyA9IGpzb25fZGVjb2RlKCRjb250ZW50cywgdHJ1ZSk7CiRsYXN0TW9kaWZpZWQgPSBpc3NldCgkY29udGVudHNbJ2xhc3QtbW9kaWZpZWQnXSkgPyAkY29udGVudHNbJ2xhc3QtbW9kaWZpZWQnXSA6IG51bGw7Cn0KCiRwcm9taXNlc1tdID0gJHRoaXMtPmFzeW5jRmV0Y2hGaWxlKCR1cmwsICRjYWNoZUtleSwgJGxhc3RNb2RpZmllZCkKLT50aGVuKGZ1bmN0aW9uICgkcmVzcG9uc2UpIHVzZSAoJiRwYWNrYWdlcywgJiRuYW1lc0ZvdW5kLCAkdXJsLCAkY2FjaGVLZXksICRjb250ZW50cywgJHJlYWxOYW1lLCAkY29uc3RyYWludCwgJHJlcG8sICRhY2NlcHRhYmxlU3RhYmlsaXRpZXMsICRzdGFiaWxpdHlGbGFncywgJGFscmVhZHlMb2FkZWQpIHsKJHBhY2thZ2VzU291cmNlID0gJ2Rvd25sb2FkZWQgZmlsZSAoJy5Vcmw6OnNhbml0aXplKCR1cmwpLicpJzsKCmlmICh0cnVlID09PSAkcmVzcG9uc2UpIHsKJHBhY2thZ2VzU291cmNlID0gJ2NhY2hlZCBmaWxlICgnLiRjYWNoZUtleS4nIG9yaWdpbmF0aW5nIGZyb20gJy5Vcmw6OnNhbml0aXplKCR1cmwpLicpJzsKJHJlc3BvbnNlID0gJGNvbnRlbnRzOwp9CgppZiAoIWlzc2V0KCRyZXNwb25zZVsncGFja2FnZXMnXVskcmVhbE5hbWVdKSkgewpyZXR1cm47Cn0KCiR2ZXJzaW9ucyA9ICRyZXNwb25zZVsncGFja2FnZXMnXVskcmVhbE5hbWVdOwoKaWYgKGlzc2V0KCRyZXNwb25zZVsnbWluaWZpZWQnXSkgJiYgJHJlc3BvbnNlWydtaW5pZmllZCddID09PSAnY29tcG9zZXIvMi4wJykgewokdmVyc2lvbnMgPSBNZXRhZGF0YU1pbmlmaWVyOjpleHBhbmQoJHZlcnNpb25zKTsKfQoKJG5hbWVzRm91bmRbJHJlYWxOYW1lXSA9IHRydWU7CiR2ZXJzaW9uc1RvTG9hZCA9IGFycmF5KCk7CmZvcmVhY2ggKCR2ZXJzaW9ucyBhcyAkdmVyc2lvbikgewppZiAoIWlzc2V0KCR2ZXJzaW9uWyd2ZXJzaW9uX25vcm1hbGl6ZWQnXSkpIHsKJHZlcnNpb25bJ3ZlcnNpb25fbm9ybWFsaXplZCddID0gJHJlcG8tPnZlcnNpb25QYXJzZXItPm5vcm1hbGl6ZSgkdmVyc2lvblsndmVyc2lvbiddKTsKfSBlbHNlaWYgKCR2ZXJzaW9uWyd2ZXJzaW9uX25vcm1hbGl6ZWQnXSA9PT0gVmVyc2lvblBhcnNlcjo6REVGQVVMVF9CUkFOQ0hfQUxJQVMpIHsKCiR2ZXJzaW9uWyd2ZXJzaW9uX25vcm1hbGl6ZWQnXSA9ICRyZXBvLT52ZXJzaW9uUGFyc2VyLT5ub3JtYWxpemUoJHZlcnNpb25bJ3ZlcnNpb24nXSk7Cn0KCgppZiAoaXNzZXQoJGFscmVhZHlMb2FkZWRbJHJlYWxOYW1lXVskdmVyc2lvblsndmVyc2lvbl9ub3JtYWxpemVkJ11dKSkgewpjb250aW51ZTsKfQoKaWYgKCRyZXBvLT5pc1ZlcnNpb25BY2NlcHRhYmxlKCRjb25zdHJhaW50LCAkcmVhbE5hbWUsICR2ZXJzaW9uLCAkYWNjZXB0YWJsZVN0YWJpbGl0aWVzLCAkc3RhYmlsaXR5RmxhZ3MpKSB7CiR2ZXJzaW9uc1RvTG9hZFtdID0gJHZlcnNpb247Cn0KfQoKJGxvYWRlZFBhY2thZ2VzID0gJHJlcG8tPmNyZWF0ZVBhY2thZ2VzKCR2ZXJzaW9uc1RvTG9hZCwgJHBhY2thZ2VzU291cmNlKTsKZm9yZWFjaCAoJGxvYWRlZFBhY2thZ2VzIGFzICRwYWNrYWdlKSB7CiRwYWNrYWdlLT5zZXRSZXBvc2l0b3J5KCRyZXBvKTsKJHBhY2thZ2VzW3NwbF9vYmplY3RfaGFzaCgkcGFja2FnZSldID0gJHBhY2thZ2U7CgppZiAoJHBhY2thZ2UgaW5zdGFuY2VvZiBBbGlhc1BhY2thZ2UgJiYgIWlzc2V0KCRwYWNrYWdlc1tzcGxfb2JqZWN0X2hhc2goJHBhY2thZ2UtPmdldEFsaWFzT2YoKSldKSkgewokcGFja2FnZS0+Z2V0QWxpYXNPZigpLT5zZXRSZXBvc2l0b3J5KCRyZXBvKTsKJHBhY2thZ2VzW3NwbF9vYmplY3RfaGFzaCgkcGFja2FnZS0+Z2V0QWxpYXNPZigpKV0gPSAkcGFja2FnZS0+Z2V0QWxpYXNPZigpOwp9Cn0KfSk7Cn0KCiR0aGlzLT5sb29wLT53YWl0KCRwcm9taXNlcyk7CgpyZXR1cm4gYXJyYXkoJ25hbWVzRm91bmQnID0+ICRuYW1lc0ZvdW5kLCAncGFja2FnZXMnID0+ICRwYWNrYWdlcyk7Cgp9CgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gaXNWZXJzaW9uQWNjZXB0YWJsZSgkY29uc3RyYWludCwgJG5hbWUsICR2ZXJzaW9uRGF0YSwgYXJyYXkgJGFjY2VwdGFibGVTdGFiaWxpdGllcyA9IG51bGwsIGFycmF5ICRzdGFiaWxpdHlGbGFncyA9IG51bGwpCnsKJHZlcnNpb25zID0gYXJyYXkoJHZlcnNpb25EYXRhWyd2ZXJzaW9uX25vcm1hbGl6ZWQnXSk7CgppZiAoJGFsaWFzID0gJHRoaXMtPmxvYWRlci0+Z2V0QnJhbmNoQWxpYXMoJHZlcnNpb25EYXRhKSkgewokdmVyc2lvbnNbXSA9ICRhbGlhczsKfQoKZm9yZWFjaCAoJHZlcnNpb25zIGFzICR2ZXJzaW9uKSB7CmlmIChudWxsICE9PSAkYWNjZXB0YWJsZVN0YWJpbGl0aWVzICYmIG51bGwgIT09ICRzdGFiaWxpdHlGbGFncyAmJiAhU3RhYmlsaXR5RmlsdGVyOjppc1BhY2thZ2VBY2NlcHRhYmxlKCRhY2NlcHRhYmxlU3RhYmlsaXRpZXMsICRzdGFiaWxpdHlGbGFncywgYXJyYXkoJG5hbWUpLCBWZXJzaW9uUGFyc2VyOjpwYXJzZVN0YWJpbGl0eSgkdmVyc2lvbikpKSB7CmNvbnRpbnVlOwp9CgppZiAoJGNvbnN0cmFpbnQgJiYgIUNvbXBpbGluZ01hdGNoZXI6Om1hdGNoKCRjb25zdHJhaW50LCBDb25zdHJhaW50OjpPUF9FUSwgJHZlcnNpb24pKSB7CmNvbnRpbnVlOwp9CgpyZXR1cm4gdHJ1ZTsKfQoKcmV0dXJuIGZhbHNlOwp9Cgpwcml2YXRlIGZ1bmN0aW9uIGdldFBhY2thZ2VzSnNvblVybCgpCnsKJGpzb25VcmxQYXJ0cyA9IHBhcnNlX3VybCgkdGhpcy0+dXJsKTsKCmlmIChpc3NldCgkanNvblVybFBhcnRzWydwYXRoJ10pICYmIGZhbHNlICE9PSBzdHJwb3MoJGpzb25VcmxQYXJ0c1sncGF0aCddLCAnLmpzb24nKSkgewpyZXR1cm4gJHRoaXMtPnVybDsKfQoKcmV0dXJuICR0aGlzLT51cmwgLiAnL3BhY2thZ2VzLmpzb24nOwp9Cgpwcm90ZWN0ZWQgZnVuY3Rpb24gbG9hZFJvb3RTZXJ2ZXJGaWxlKCkKewppZiAobnVsbCAhPT0gJHRoaXMtPnJvb3REYXRhKSB7CnJldHVybiAkdGhpcy0+cm9vdERhdGE7Cn0KCmlmICghZXh0ZW5zaW9uX2xvYWRlZCgnb3BlbnNzbCcpICYmIHN0cnBvcygkdGhpcy0+dXJsLCAnaHR0cHMnKSA9PT0gMCkgewp0aHJvdyBuZXcgXFJ1bnRpbWVFeGNlcHRpb24oJ1lvdSBtdXN0IGVuYWJsZSB0aGUgb3BlbnNzbCBleHRlbnNpb24gaW4geW91ciBwaHAuaW5pIHRvIGxvYWQgaW5mb3JtYXRpb24gZnJvbSAnLiR0aGlzLT51cmwpOwp9CgokZGF0YSA9ICR0aGlzLT5mZXRjaEZpbGUoJHRoaXMtPmdldFBhY2thZ2VzSnNvblVybCgpLCAncGFja2FnZXMuanNvbicpOwoKaWYgKCFlbXB0eSgkZGF0YVsnbm90aWZ5LWJhdGNoJ10pKSB7CiR0aGlzLT5ub3RpZnlVcmwgPSAkdGhpcy0+Y2Fub25pY2FsaXplVXJsKCRkYXRhWydub3RpZnktYmF0Y2gnXSk7Cn0gZWxzZWlmICghZW1wdHkoJGRhdGFbJ25vdGlmeSddKSkgewokdGhpcy0+bm90aWZ5VXJsID0gJHRoaXMtPmNhbm9uaWNhbGl6ZVVybCgkZGF0YVsnbm90aWZ5J10pOwp9CgppZiAoIWVtcHR5KCRkYXRhWydzZWFyY2gnXSkpIHsKJHRoaXMtPnNlYXJjaFVybCA9ICR0aGlzLT5jYW5vbmljYWxpemVVcmwoJGRhdGFbJ3NlYXJjaCddKTsKfQoKaWYgKCFlbXB0eSgkZGF0YVsnbWlycm9ycyddKSkgewpmb3JlYWNoICgkZGF0YVsnbWlycm9ycyddIGFzICRtaXJyb3IpIHsKaWYgKCFlbXB0eSgkbWlycm9yWydnaXQtdXJsJ10pKSB7CiR0aGlzLT5zb3VyY2VNaXJyb3JzWydnaXQnXVtdID0gYXJyYXkoJ3VybCcgPT4gJG1pcnJvclsnZ2l0LXVybCddLCAncHJlZmVycmVkJyA9PiAhZW1wdHkoJG1pcnJvclsncHJlZmVycmVkJ10pKTsKfQppZiAoIWVtcHR5KCRtaXJyb3JbJ2hnLXVybCddKSkgewokdGhpcy0+c291cmNlTWlycm9yc1snaGcnXVtdID0gYXJyYXkoJ3VybCcgPT4gJG1pcnJvclsnaGctdXJsJ10sICdwcmVmZXJyZWQnID0+ICFlbXB0eSgkbWlycm9yWydwcmVmZXJyZWQnXSkpOwp9CmlmICghZW1wdHkoJG1pcnJvclsnZGlzdC11cmwnXSkpIHsKJHRoaXMtPmRpc3RNaXJyb3JzW10gPSBhcnJheSgKJ3VybCcgPT4gJHRoaXMtPmNhbm9uaWNhbGl6ZVVybCgkbWlycm9yWydkaXN0LXVybCddKSwKJ3ByZWZlcnJlZCcgPT4gIWVtcHR5KCRtaXJyb3JbJ3ByZWZlcnJlZCddKSwKKTsKfQp9Cn0KCmlmICghZW1wdHkoJGRhdGFbJ3Byb3ZpZGVycy1sYXp5LXVybCddKSkgewokdGhpcy0+bGF6eVByb3ZpZGVyc1VybCA9ICR0aGlzLT5jYW5vbmljYWxpemVVcmwoJGRhdGFbJ3Byb3ZpZGVycy1sYXp5LXVybCddKTsKJHRoaXMtPmhhc1Byb3ZpZGVycyA9IHRydWU7CgokdGhpcy0+aGFzUGFydGlhbFBhY2thZ2VzID0gIWVtcHR5KCRkYXRhWydwYWNrYWdlcyddKSAmJiBpc19hcnJheSgkZGF0YVsncGFja2FnZXMnXSk7Cn0KCgppZiAoIWVtcHR5KCRkYXRhWydtZXRhZGF0YS11cmwnXSkgJiYgIWVtcHR5KCRkYXRhWydsaXN0J10pICYmICRkYXRhWydtZXRhZGF0YS11cmwnXSA9PT0gJy9wLyVwYWNrYWdlJS5qc29uJyAmJiAkZGF0YVsnbGlzdCddID09PSAnaHR0cHM6Ly9wYWNrYWdpc3Qub3JnL3BhY2thZ2VzL2xpc3QuanNvbicpIHsKJHRoaXMtPmlvLT53cml0ZUVycm9yKCc8d2FybmluZz5Db21wb3NlciAyIHJlcG9zaXRvcnkgc3VwcG9ydCBmb3IgJy4kdGhpcy0+dXJsLicgaGFzIGJlZW4gZGlzYWJsZWQgZHVlIHRvIHdoYXQgc2VlbXMgbGlrZSBhIG1pc2NvbmZpZ3VyYXRpb24uIElmIHRoaXMgaXMgYSBwYWNrYWdpc3Qub3JnIG1pcnJvciB3ZSByZWNvbW1lbmQgcmVtb3ZpbmcgaXQgYXMgQ29tcG9zZXIgMiBoYW5kbGVzIG5ldHdvcmsgb3BlcmF0aW9ucyBtdWNoIGZhc3RlciBhbmQgc2hvdWxkIHdvcmsgZmluZSB3aXRob3V0Ljwvd2FybmluZz4nKTsKdW5zZXQoJGRhdGFbJ21ldGFkYXRhLXVybCddKTsKfQoKCgoKaWYgKCFlbXB0eSgkZGF0YVsnbWV0YWRhdGEtdXJsJ10pKSB7CiR0aGlzLT5sYXp5UHJvdmlkZXJzVXJsID0gJHRoaXMtPmNhbm9uaWNhbGl6ZVVybCgkZGF0YVsnbWV0YWRhdGEtdXJsJ10pOwokdGhpcy0+cHJvdmlkZXJzVXJsID0gbnVsbDsKJHRoaXMtPmhhc1Byb3ZpZGVycyA9IGZhbHNlOwokdGhpcy0+aGFzUGFydGlhbFBhY2thZ2VzID0gIWVtcHR5KCRkYXRhWydwYWNrYWdlcyddKSAmJiBpc19hcnJheSgkZGF0YVsncGFja2FnZXMnXSk7CiR0aGlzLT5hbGxvd1NzbERvd25ncmFkZSA9IGZhbHNlOwoKCgoKaWYgKCFlbXB0eSgkZGF0YVsnYXZhaWxhYmxlLXBhY2thZ2VzJ10pKSB7CiRhdmFpbFBhY2thZ2VzID0gYXJyYXlfbWFwKCdzdHJ0b2xvd2VyJywgJGRhdGFbJ2F2YWlsYWJsZS1wYWNrYWdlcyddKTsKJHRoaXMtPmF2YWlsYWJsZVBhY2thZ2VzID0gYXJyYXlfY29tYmluZSgkYXZhaWxQYWNrYWdlcywgJGF2YWlsUGFja2FnZXMpOwokdGhpcy0+aGFzQXZhaWxhYmxlUGFja2FnZUxpc3QgPSB0cnVlOwp9CgoKCgppZiAoIWVtcHR5KCRkYXRhWydhdmFpbGFibGUtcGFja2FnZS1wYXR0ZXJucyddKSkgewokdGhpcy0+YXZhaWxhYmxlUGFja2FnZVBhdHRlcm5zID0gYXJyYXlfbWFwKGZ1bmN0aW9uICgkcGF0dGVybikgewpyZXR1cm4gQmFzZVBhY2thZ2U6OnBhY2thZ2VOYW1lVG9SZWdleHAoJHBhdHRlcm4pOwp9LCAkZGF0YVsnYXZhaWxhYmxlLXBhY2thZ2UtcGF0dGVybnMnXSk7CiR0aGlzLT5oYXNBdmFpbGFibGVQYWNrYWdlTGlzdCA9IHRydWU7Cn0KCgoKdW5zZXQoJGRhdGFbJ3Byb3ZpZGVycy11cmwnXSwgJGRhdGFbJ3Byb3ZpZGVycyddLCAkZGF0YVsncHJvdmlkZXJzLWluY2x1ZGVzJ10pOwp9CgppZiAoJHRoaXMtPmFsbG93U3NsRG93bmdyYWRlKSB7CiR0aGlzLT51cmwgPSBzdHJfcmVwbGFjZSgnaHR0cHM6Ly8nLCAnaHR0cDovLycsICR0aGlzLT51cmwpOwokdGhpcy0+YmFzZVVybCA9IHN0cl9yZXBsYWNlKCdodHRwczovLycsICdodHRwOi8vJywgJHRoaXMtPmJhc2VVcmwpOwp9CgppZiAoIWVtcHR5KCRkYXRhWydwcm92aWRlcnMtdXJsJ10pKSB7CiR0aGlzLT5wcm92aWRlcnNVcmwgPSAkdGhpcy0+Y2Fub25pY2FsaXplVXJsKCRkYXRhWydwcm92aWRlcnMtdXJsJ10pOwokdGhpcy0+aGFzUHJvdmlkZXJzID0gdHJ1ZTsKfQoKaWYgKCFlbXB0eSgkZGF0YVsnbGlzdCddKSkgewokdGhpcy0+bGlzdFVybCA9ICR0aGlzLT5jYW5vbmljYWxpemVVcmwoJGRhdGFbJ2xpc3QnXSk7Cn0KCmlmICghZW1wdHkoJGRhdGFbJ3Byb3ZpZGVycyddKSB8fCAhZW1wdHkoJGRhdGFbJ3Byb3ZpZGVycy1pbmNsdWRlcyddKSkgewokdGhpcy0+aGFzUHJvdmlkZXJzID0gdHJ1ZTsKfQoKaWYgKCFlbXB0eSgkZGF0YVsncHJvdmlkZXJzLWFwaSddKSkgewokdGhpcy0+cHJvdmlkZXJzQXBpVXJsID0gJHRoaXMtPmNhbm9uaWNhbGl6ZVVybCgkZGF0YVsncHJvdmlkZXJzLWFwaSddKTsKfQoKcmV0dXJuICR0aGlzLT5yb290RGF0YSA9ICRkYXRhOwp9Cgpwcml2YXRlIGZ1bmN0aW9uIGNhbm9uaWNhbGl6ZVVybCgkdXJsKQp7CmlmICgnLycgPT09ICR1cmxbMF0pIHsKaWYgKHByZWdfbWF0Y2goJ3teW146XSsrOi8vW14vXSorfScsICR0aGlzLT51cmwsICRtYXRjaGVzKSkgewpyZXR1cm4gJG1hdGNoZXNbMF0gLiAkdXJsOwp9CgpyZXR1cm4gJHRoaXMtPnVybDsKfQoKcmV0dXJuICR1cmw7Cn0KCnByaXZhdGUgZnVuY3Rpb24gbG9hZERhdGFGcm9tU2VydmVyKCkKewokZGF0YSA9ICR0aGlzLT5sb2FkUm9vdFNlcnZlckZpbGUoKTsKCnJldHVybiAkdGhpcy0+bG9hZEluY2x1ZGVzKCRkYXRhKTsKfQoKcHJpdmF0ZSBmdW5jdGlvbiBoYXNQYXJ0aWFsUGFja2FnZXMoKQp7CmlmICgkdGhpcy0+aGFzUGFydGlhbFBhY2thZ2VzICYmIG51bGwgPT09ICR0aGlzLT5wYXJ0aWFsUGFja2FnZXNCeU5hbWUpIHsKJHRoaXMtPmluaXRpYWxpemVQYXJ0aWFsUGFja2FnZXMoKTsKfQoKcmV0dXJuICR0aGlzLT5oYXNQYXJ0aWFsUGFja2FnZXM7Cn0KCnByaXZhdGUgZnVuY3Rpb24gbG9hZFByb3ZpZGVyTGlzdGluZ3MoJGRhdGEpCnsKaWYgKGlzc2V0KCRkYXRhWydwcm92aWRlcnMnXSkpIHsKaWYgKCFpc19hcnJheSgkdGhpcy0+cHJvdmlkZXJMaXN0aW5nKSkgewokdGhpcy0+cHJvdmlkZXJMaXN0aW5nID0gYXJyYXkoKTsKfQokdGhpcy0+cHJvdmlkZXJMaXN0aW5nID0gYXJyYXlfbWVyZ2UoJHRoaXMtPnByb3ZpZGVyTGlzdGluZywgJGRhdGFbJ3Byb3ZpZGVycyddKTsKfQoKaWYgKCR0aGlzLT5wcm92aWRlcnNVcmwgJiYgaXNzZXQoJGRhdGFbJ3Byb3ZpZGVyLWluY2x1ZGVzJ10pKSB7CiRpbmNsdWRlcyA9ICRkYXRhWydwcm92aWRlci1pbmNsdWRlcyddOwpmb3JlYWNoICgkaW5jbHVkZXMgYXMgJGluY2x1ZGUgPT4gJG1ldGFkYXRhKSB7CiR1cmwgPSAkdGhpcy0+YmFzZVVybCAuICcvJyAuIHN0cl9yZXBsYWNlKCclaGFzaCUnLCAkbWV0YWRhdGFbJ3NoYTI1NiddLCAkaW5jbHVkZSk7CiRjYWNoZUtleSA9IHN0cl9yZXBsYWNlKGFycmF5KCclaGFzaCUnLCckJyksICcnLCAkaW5jbHVkZSk7CmlmICgkdGhpcy0+Y2FjaGUtPnNoYTI1NigkY2FjaGVLZXkpID09PSAkbWV0YWRhdGFbJ3NoYTI1NiddKSB7CiRpbmNsdWRlZERhdGEgPSBqc29uX2RlY29kZSgkdGhpcy0+Y2FjaGUtPnJlYWQoJGNhY2hlS2V5KSwgdHJ1ZSk7Cn0gZWxzZSB7CiRpbmNsdWRlZERhdGEgPSAkdGhpcy0+ZmV0Y2hGaWxlKCR1cmwsICRjYWNoZUtleSwgJG1ldGFkYXRhWydzaGEyNTYnXSk7Cn0KCiR0aGlzLT5sb2FkUHJvdmlkZXJMaXN0aW5ncygkaW5jbHVkZWREYXRhKTsKfQp9Cn0KCnByaXZhdGUgZnVuY3Rpb24gbG9hZEluY2x1ZGVzKCRkYXRhKQp7CiRwYWNrYWdlcyA9IGFycmF5KCk7CgoKaWYgKCFpc3NldCgkZGF0YVsncGFja2FnZXMnXSkgJiYgIWlzc2V0KCRkYXRhWydpbmNsdWRlcyddKSkgewpmb3JlYWNoICgkZGF0YSBhcyAkcGtnKSB7CmZvcmVhY2ggKCRwa2dbJ3ZlcnNpb25zJ10gYXMgJG1ldGFkYXRhKSB7CiRwYWNrYWdlc1tdID0gJG1ldGFkYXRhOwp9Cn0KCnJldHVybiAkcGFja2FnZXM7Cn0KCmlmIChpc3NldCgkZGF0YVsncGFja2FnZXMnXSkpIHsKZm9yZWFjaCAoJGRhdGFbJ3BhY2thZ2VzJ10gYXMgJHBhY2thZ2UgPT4gJHZlcnNpb25zKSB7CmZvcmVhY2ggKCR2ZXJzaW9ucyBhcyAkdmVyc2lvbiA9PiAkbWV0YWRhdGEpIHsKJHBhY2thZ2VzW10gPSAkbWV0YWRhdGE7Cn0KfQp9CgppZiAoaXNzZXQoJGRhdGFbJ2luY2x1ZGVzJ10pKSB7CmZvcmVhY2ggKCRkYXRhWydpbmNsdWRlcyddIGFzICRpbmNsdWRlID0+ICRtZXRhZGF0YSkgewppZiAoaXNzZXQoJG1ldGFkYXRhWydzaGExJ10pICYmICR0aGlzLT5jYWNoZS0+c2hhMSgkaW5jbHVkZSkgPT09ICRtZXRhZGF0YVsnc2hhMSddKSB7CiRpbmNsdWRlZERhdGEgPSBqc29uX2RlY29kZSgkdGhpcy0+Y2FjaGUtPnJlYWQoJGluY2x1ZGUpLCB0cnVlKTsKfSBlbHNlIHsKJGluY2x1ZGVkRGF0YSA9ICR0aGlzLT5mZXRjaEZpbGUoJGluY2x1ZGUpOwp9CiRwYWNrYWdlcyA9IGFycmF5X21lcmdlKCRwYWNrYWdlcywgJHRoaXMtPmxvYWRJbmNsdWRlcygkaW5jbHVkZWREYXRhKSk7Cn0KfQoKcmV0dXJuICRwYWNrYWdlczsKfQoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIGNyZWF0ZVBhY2thZ2VzKGFycmF5ICRwYWNrYWdlcywgJHNvdXJjZSA9IG51bGwpCnsKaWYgKCEkcGFja2FnZXMpIHsKcmV0dXJuIGFycmF5KCk7Cn0KCnRyeSB7CmZvcmVhY2ggKCRwYWNrYWdlcyBhcyAmJGRhdGEpIHsKaWYgKCFpc3NldCgkZGF0YVsnbm90aWZpY2F0aW9uLXVybCddKSkgewokZGF0YVsnbm90aWZpY2F0aW9uLXVybCddID0gJHRoaXMtPm5vdGlmeVVybDsKfQp9CgokcGFja2FnZUluc3RhbmNlcyA9ICR0aGlzLT5sb2FkZXItPmxvYWRQYWNrYWdlcygkcGFja2FnZXMpOwoKZm9yZWFjaCAoJHBhY2thZ2VJbnN0YW5jZXMgYXMgJHBhY2thZ2UpIHsKaWYgKGlzc2V0KCR0aGlzLT5zb3VyY2VNaXJyb3JzWyRwYWNrYWdlLT5nZXRTb3VyY2VUeXBlKCldKSkgewokcGFja2FnZS0+c2V0U291cmNlTWlycm9ycygkdGhpcy0+c291cmNlTWlycm9yc1skcGFja2FnZS0+Z2V0U291cmNlVHlwZSgpXSk7Cn0KJHBhY2thZ2UtPnNldERpc3RNaXJyb3JzKCR0aGlzLT5kaXN0TWlycm9ycyk7CiR0aGlzLT5jb25maWd1cmVQYWNrYWdlVHJhbnNwb3J0T3B0aW9ucygkcGFja2FnZSk7Cn0KCnJldHVybiAkcGFja2FnZUluc3RhbmNlczsKfSBjYXRjaCAoXEV4Y2VwdGlvbiAkZSkgewp0aHJvdyBuZXcgXFJ1bnRpbWVFeGNlcHRpb24oJ0NvdWxkIG5vdCBsb2FkIHBhY2thZ2VzICcuKGlzc2V0KCRwYWNrYWdlc1swXVsnbmFtZSddKSA/ICRwYWNrYWdlc1swXVsnbmFtZSddIDoganNvbl9lbmNvZGUoJHBhY2thZ2VzKSkuJyBpbiAnLiR0aGlzLT5nZXRSZXBvTmFtZSgpLigkc291cmNlID8gJyBmcm9tICcuJHNvdXJjZSA6ICcnKS4nOiBbJy5nZXRfY2xhc3MoJGUpLiddICcuJGUtPmdldE1lc3NhZ2UoKSwgMCwgJGUpOwp9Cn0KCnByb3RlY3RlZCBmdW5jdGlvbiBmZXRjaEZpbGUoJGZpbGVuYW1lLCAkY2FjaGVLZXkgPSBudWxsLCAkc2hhMjU2ID0gbnVsbCwgJHN0b3JlTGFzdE1vZGlmaWVkVGltZSA9IGZhbHNlKQp7CmlmIChudWxsID09PSAkY2FjaGVLZXkpIHsKJGNhY2hlS2V5ID0gJGZpbGVuYW1lOwokZmlsZW5hbWUgPSAkdGhpcy0+YmFzZVVybC4nLycuJGZpbGVuYW1lOwp9CgoKaWYgKCgkcG9zID0gc3RycG9zKCRmaWxlbmFtZSwgJyQnKSkgJiYgcHJlZ19tYXRjaCgne15odHRwcz86Ly99aScsICRmaWxlbmFtZSkpIHsKJGZpbGVuYW1lID0gc3Vic3RyKCRmaWxlbmFtZSwgMCwgJHBvcykgLiAnJTI0JyAuIHN1YnN0cigkZmlsZW5hbWUsICRwb3MgKyAxKTsKfQoKJHJldHJpZXMgPSAzOwp3aGlsZSAoJHJldHJpZXMtLSkgewp0cnkgewokb3B0aW9ucyA9ICR0aGlzLT5vcHRpb25zOwppZiAoJHRoaXMtPmV2ZW50RGlzcGF0Y2hlcikgewokcHJlRmlsZURvd25sb2FkRXZlbnQgPSBuZXcgUHJlRmlsZURvd25sb2FkRXZlbnQoUGx1Z2luRXZlbnRzOjpQUkVfRklMRV9ET1dOTE9BRCwgJHRoaXMtPmh0dHBEb3dubG9hZGVyLCAkZmlsZW5hbWUsICdtZXRhZGF0YScsIGFycmF5KCdyZXBvc2l0b3J5JyA9PiAkdGhpcykpOwokcHJlRmlsZURvd25sb2FkRXZlbnQtPnNldFRyYW5zcG9ydE9wdGlvbnMoJHRoaXMtPm9wdGlvbnMpOwokdGhpcy0+ZXZlbnREaXNwYXRjaGVyLT5kaXNwYXRjaCgkcHJlRmlsZURvd25sb2FkRXZlbnQtPmdldE5hbWUoKSwgJHByZUZpbGVEb3dubG9hZEV2ZW50KTsKJGZpbGVuYW1lID0gJHByZUZpbGVEb3dubG9hZEV2ZW50LT5nZXRQcm9jZXNzZWRVcmwoKTsKJG9wdGlvbnMgPSAkcHJlRmlsZURvd25sb2FkRXZlbnQtPmdldFRyYW5zcG9ydE9wdGlvbnMoKTsKfQoKJHJlc3BvbnNlID0gJHRoaXMtPmh0dHBEb3dubG9hZGVyLT5nZXQoJGZpbGVuYW1lLCAkb3B0aW9ucyk7CiRqc29uID0gJHJlc3BvbnNlLT5nZXRCb2R5KCk7CmlmICgkc2hhMjU2ICYmICRzaGEyNTYgIT09IGhhc2goJ3NoYTI1NicsICRqc29uKSkgewoKaWYgKCR0aGlzLT5hbGxvd1NzbERvd25ncmFkZSkgewokdGhpcy0+dXJsID0gc3RyX3JlcGxhY2UoJ2h0dHA6Ly8nLCAnaHR0cHM6Ly8nLCAkdGhpcy0+dXJsKTsKJHRoaXMtPmJhc2VVcmwgPSBzdHJfcmVwbGFjZSgnaHR0cDovLycsICdodHRwczovLycsICR0aGlzLT5iYXNlVXJsKTsKJGZpbGVuYW1lID0gc3RyX3JlcGxhY2UoJ2h0dHA6Ly8nLCAnaHR0cHM6Ly8nLCAkZmlsZW5hbWUpOwp9CgppZiAoJHJldHJpZXMpIHsKdXNsZWVwKDEwMDAwMCk7Cgpjb250aW51ZTsKfQoKCnRocm93IG5ldyBSZXBvc2l0b3J5U2VjdXJpdHlFeGNlcHRpb24oJ1RoZSBjb250ZW50cyBvZiAnLiRmaWxlbmFtZS4nIGRvIG5vdCBtYXRjaCBpdHMgc2lnbmF0dXJlLiBUaGlzIGNvdWxkIGluZGljYXRlIGEgbWFuLWluLXRoZS1taWRkbGUgYXR0YWNrIG9yIGUuZy4gYW50aXZpcnVzIHNvZnR3YXJlIGNvcnJ1cHRpbmcgZmlsZXMuIFRyeSBydW5uaW5nIGNvbXBvc2VyIGFnYWluIGFuZCByZXBvcnQgdGhpcyBpZiB5b3UgdGhpbmsgaXQgaXMgYSBtaXN0YWtlLicpOwp9CgppZiAoJHRoaXMtPmV2ZW50RGlzcGF0Y2hlcikgewokcG9zdEZpbGVEb3dubG9hZEV2ZW50ID0gbmV3IFBvc3RGaWxlRG93bmxvYWRFdmVudChQbHVnaW5FdmVudHM6OlBPU1RfRklMRV9ET1dOTE9BRCwgbnVsbCwgJHNoYTI1NiwgJGZpbGVuYW1lLCAnbWV0YWRhdGEnLCBhcnJheSgncmVzcG9uc2UnID0+ICRyZXNwb25zZSwgJ3JlcG9zaXRvcnknID0+ICR0aGlzKSk7CiR0aGlzLT5ldmVudERpc3BhdGNoZXItPmRpc3BhdGNoKCRwb3N0RmlsZURvd25sb2FkRXZlbnQtPmdldE5hbWUoKSwgJHBvc3RGaWxlRG93bmxvYWRFdmVudCk7Cn0KCiRkYXRhID0gJHJlc3BvbnNlLT5kZWNvZGVKc29uKCk7Ckh0dHBEb3dubG9hZGVyOjpvdXRwdXRXYXJuaW5ncygkdGhpcy0+aW8sICR0aGlzLT51cmwsICRkYXRhKTsKCmlmICgkY2FjaGVLZXkgJiYgISR0aGlzLT5jYWNoZS0+aXNSZWFkT25seSgpKSB7CmlmICgkc3RvcmVMYXN0TW9kaWZpZWRUaW1lKSB7CiRsYXN0TW9kaWZpZWREYXRlID0gJHJlc3BvbnNlLT5nZXRIZWFkZXIoJ2xhc3QtbW9kaWZpZWQnKTsKaWYgKCRsYXN0TW9kaWZpZWREYXRlKSB7CiRkYXRhWydsYXN0LW1vZGlmaWVkJ10gPSAkbGFzdE1vZGlmaWVkRGF0ZTsKJGpzb24gPSBqc29uX2VuY29kZSgkZGF0YSk7Cn0KfQokdGhpcy0+Y2FjaGUtPndyaXRlKCRjYWNoZUtleSwgJGpzb24pOwp9CgokcmVzcG9uc2UtPmNvbGxlY3QoKTsKCmJyZWFrOwp9IGNhdGNoIChcRXhjZXB0aW9uICRlKSB7CmlmICgkZSBpbnN0YW5jZW9mIFxMb2dpY0V4Y2VwdGlvbikgewp0aHJvdyAkZTsKfQoKaWYgKCRlIGluc3RhbmNlb2YgVHJhbnNwb3J0RXhjZXB0aW9uICYmICRlLT5nZXRTdGF0dXNDb2RlKCkgPT09IDQwNCkgewp0aHJvdyAkZTsKfQoKaWYgKCRyZXRyaWVzKSB7CnVzbGVlcCgxMDAwMDApOwpjb250aW51ZTsKfQoKaWYgKCRlIGluc3RhbmNlb2YgUmVwb3NpdG9yeVNlY3VyaXR5RXhjZXB0aW9uKSB7CnRocm93ICRlOwp9CgppZiAoJGNhY2hlS2V5ICYmICgkY29udGVudHMgPSAkdGhpcy0+Y2FjaGUtPnJlYWQoJGNhY2hlS2V5KSkpIHsKaWYgKCEkdGhpcy0+ZGVncmFkZWRNb2RlKSB7CiR0aGlzLT5pby0+d3JpdGVFcnJvcignPHdhcm5pbmc+Jy4kdGhpcy0+dXJsLicgY291bGQgbm90IGJlIGZ1bGx5IGxvYWRlZCAoJy4kZS0+Z2V0TWVzc2FnZSgpLicpLCBwYWNrYWdlIGluZm9ybWF0aW9uIHdhcyBsb2FkZWQgZnJvbSB0aGUgbG9jYWwgY2FjaGUgYW5kIG1heSBiZSBvdXQgb2YgZGF0ZTwvd2FybmluZz4nKTsKfQokdGhpcy0+ZGVncmFkZWRNb2RlID0gdHJ1ZTsKJGRhdGEgPSBKc29uRmlsZTo6cGFyc2VKc29uKCRjb250ZW50cywgJHRoaXMtPmNhY2hlLT5nZXRSb290KCkuJGNhY2hlS2V5KTsKCmJyZWFrOwp9Cgp0aHJvdyAkZTsKfQp9CgppZiAoIWlzc2V0KCRkYXRhKSkgewp0aHJvdyBuZXcgXExvZ2ljRXhjZXB0aW9uKCJDb21wb3NlclJlcG9zaXRvcnk6IFVuZGVmaW5lZCBcJGRhdGEuIFBsZWFzZSByZXBvcnQgYXQgaHR0cHM6Ly9naXRodWIuY29tL2NvbXBvc2VyL2NvbXBvc2VyL2lzc3Vlcy9uZXcuIik7Cn0KCnJldHVybiAkZGF0YTsKfQoKcHJpdmF0ZSBmdW5jdGlvbiBmZXRjaEZpbGVJZkxhc3RNb2RpZmllZCgkZmlsZW5hbWUsICRjYWNoZUtleSwgJGxhc3RNb2RpZmllZFRpbWUpCnsKJHJldHJpZXMgPSAzOwp3aGlsZSAoJHJldHJpZXMtLSkgewp0cnkgewokb3B0aW9ucyA9ICR0aGlzLT5vcHRpb25zOwppZiAoJHRoaXMtPmV2ZW50RGlzcGF0Y2hlcikgewokcHJlRmlsZURvd25sb2FkRXZlbnQgPSBuZXcgUHJlRmlsZURvd25sb2FkRXZlbnQoUGx1Z2luRXZlbnRzOjpQUkVfRklMRV9ET1dOTE9BRCwgJHRoaXMtPmh0dHBEb3dubG9hZGVyLCAkZmlsZW5hbWUsICdtZXRhZGF0YScsIGFycmF5KCdyZXBvc2l0b3J5JyA9PiAkdGhpcykpOwokcHJlRmlsZURvd25sb2FkRXZlbnQtPnNldFRyYW5zcG9ydE9wdGlvbnMoJHRoaXMtPm9wdGlvbnMpOwokdGhpcy0+ZXZlbnREaXNwYXRjaGVyLT5kaXNwYXRjaCgkcHJlRmlsZURvd25sb2FkRXZlbnQtPmdldE5hbWUoKSwgJHByZUZpbGVEb3dubG9hZEV2ZW50KTsKJGZpbGVuYW1lID0gJHByZUZpbGVEb3dubG9hZEV2ZW50LT5nZXRQcm9jZXNzZWRVcmwoKTsKJG9wdGlvbnMgPSAkcHJlRmlsZURvd25sb2FkRXZlbnQtPmdldFRyYW5zcG9ydE9wdGlvbnMoKTsKfQoKaWYgKGlzc2V0KCRvcHRpb25zWydodHRwJ11bJ2hlYWRlciddKSkgewokb3B0aW9uc1snaHR0cCddWydoZWFkZXInXSA9IChhcnJheSkgJG9wdGlvbnNbJ2h0dHAnXVsnaGVhZGVyJ107Cn0KJG9wdGlvbnNbJ2h0dHAnXVsnaGVhZGVyJ11bXSA9ICdJZi1Nb2RpZmllZC1TaW5jZTogJy4kbGFzdE1vZGlmaWVkVGltZTsKJHJlc3BvbnNlID0gJHRoaXMtPmh0dHBEb3dubG9hZGVyLT5nZXQoJGZpbGVuYW1lLCAkb3B0aW9ucyk7CiRqc29uID0gJHJlc3BvbnNlLT5nZXRCb2R5KCk7CmlmICgkanNvbiA9PT0gJycgJiYgJHJlc3BvbnNlLT5nZXRTdGF0dXNDb2RlKCkgPT09IDMwNCkgewpyZXR1cm4gdHJ1ZTsKfQoKaWYgKCR0aGlzLT5ldmVudERpc3BhdGNoZXIpIHsKJHBvc3RGaWxlRG93bmxvYWRFdmVudCA9IG5ldyBQb3N0RmlsZURvd25sb2FkRXZlbnQoUGx1Z2luRXZlbnRzOjpQT1NUX0ZJTEVfRE9XTkxPQUQsIG51bGwsIG51bGwsICRmaWxlbmFtZSwgJ21ldGFkYXRhJywgYXJyYXkoJ3Jlc3BvbnNlJyA9PiAkcmVzcG9uc2UsICdyZXBvc2l0b3J5JyA9PiAkdGhpcykpOwokdGhpcy0+ZXZlbnREaXNwYXRjaGVyLT5kaXNwYXRjaCgkcG9zdEZpbGVEb3dubG9hZEV2ZW50LT5nZXROYW1lKCksICRwb3N0RmlsZURvd25sb2FkRXZlbnQpOwp9CgokZGF0YSA9ICRyZXNwb25zZS0+ZGVjb2RlSnNvbigpOwpIdHRwRG93bmxvYWRlcjo6b3V0cHV0V2FybmluZ3MoJHRoaXMtPmlvLCAkdGhpcy0+dXJsLCAkZGF0YSk7CgokbGFzdE1vZGlmaWVkRGF0ZSA9ICRyZXNwb25zZS0+Z2V0SGVhZGVyKCdsYXN0LW1vZGlmaWVkJyk7CiRyZXNwb25zZS0+Y29sbGVjdCgpOwppZiAoJGxhc3RNb2RpZmllZERhdGUpIHsKJGRhdGFbJ2xhc3QtbW9kaWZpZWQnXSA9ICRsYXN0TW9kaWZpZWREYXRlOwokanNvbiA9IGpzb25fZW5jb2RlKCRkYXRhKTsKfQppZiAoISR0aGlzLT5jYWNoZS0+aXNSZWFkT25seSgpKSB7CiR0aGlzLT5jYWNoZS0+d3JpdGUoJGNhY2hlS2V5LCAkanNvbik7Cn0KCnJldHVybiAkZGF0YTsKfSBjYXRjaCAoXEV4Y2VwdGlvbiAkZSkgewppZiAoJGUgaW5zdGFuY2VvZiBcTG9naWNFeGNlcHRpb24pIHsKdGhyb3cgJGU7Cn0KCmlmICgkZSBpbnN0YW5jZW9mIFRyYW5zcG9ydEV4Y2VwdGlvbiAmJiAkZS0+Z2V0U3RhdHVzQ29kZSgpID09PSA0MDQpIHsKdGhyb3cgJGU7Cn0KCmlmICgkcmV0cmllcykgewp1c2xlZXAoMTAwMDAwKTsKY29udGludWU7Cn0KCmlmICghJHRoaXMtPmRlZ3JhZGVkTW9kZSkgewokdGhpcy0+aW8tPndyaXRlRXJyb3IoJzx3YXJuaW5nPicuJHRoaXMtPnVybC4nIGNvdWxkIG5vdCBiZSBmdWxseSBsb2FkZWQgKCcuJGUtPmdldE1lc3NhZ2UoKS4nKSwgcGFja2FnZSBpbmZvcm1hdGlvbiB3YXMgbG9hZGVkIGZyb20gdGhlIGxvY2FsIGNhY2hlIGFuZCBtYXkgYmUgb3V0IG9mIGRhdGU8L3dhcm5pbmc+Jyk7Cn0KJHRoaXMtPmRlZ3JhZGVkTW9kZSA9IHRydWU7CgpyZXR1cm4gdHJ1ZTsKfQp9Cn0KCnByaXZhdGUgZnVuY3Rpb24gYXN5bmNGZXRjaEZpbGUoJGZpbGVuYW1lLCAkY2FjaGVLZXksICRsYXN0TW9kaWZpZWRUaW1lID0gbnVsbCkKewokcmV0cmllcyA9IDM7CgppZiAoaXNzZXQoJHRoaXMtPnBhY2thZ2VzTm90Rm91bmRDYWNoZVskZmlsZW5hbWVdKSkgewpyZXR1cm4gXFJlYWN0XFByb21pc2VccmVzb2x2ZShhcnJheSgncGFja2FnZXMnID0+IGFycmF5KCkpKTsKfQoKaWYgKGlzc2V0KCR0aGlzLT5mcmVzaE1ldGFkYXRhVXJsc1skZmlsZW5hbWVdKSAmJiAkbGFzdE1vZGlmaWVkVGltZSkgewoKcmV0dXJuIFxSZWFjdFxQcm9taXNlXHJlc29sdmUodHJ1ZSk7Cn0KCiRodHRwRG93bmxvYWRlciA9ICR0aGlzLT5odHRwRG93bmxvYWRlcjsKJG9wdGlvbnMgPSAkdGhpcy0+b3B0aW9uczsKaWYgKCR0aGlzLT5ldmVudERpc3BhdGNoZXIpIHsKJHByZUZpbGVEb3dubG9hZEV2ZW50ID0gbmV3IFByZUZpbGVEb3dubG9hZEV2ZW50KFBsdWdpbkV2ZW50czo6UFJFX0ZJTEVfRE9XTkxPQUQsICR0aGlzLT5odHRwRG93bmxvYWRlciwgJGZpbGVuYW1lLCAnbWV0YWRhdGEnLCBhcnJheSgncmVwb3NpdG9yeScgPT4gJHRoaXMpKTsKJHByZUZpbGVEb3dubG9hZEV2ZW50LT5zZXRUcmFuc3BvcnRPcHRpb25zKCR0aGlzLT5vcHRpb25zKTsKJHRoaXMtPmV2ZW50RGlzcGF0Y2hlci0+ZGlzcGF0Y2goJHByZUZpbGVEb3dubG9hZEV2ZW50LT5nZXROYW1lKCksICRwcmVGaWxlRG93bmxvYWRFdmVudCk7CiRmaWxlbmFtZSA9ICRwcmVGaWxlRG93bmxvYWRFdmVudC0+Z2V0UHJvY2Vzc2VkVXJsKCk7CiRvcHRpb25zID0gJHByZUZpbGVEb3dubG9hZEV2ZW50LT5nZXRUcmFuc3BvcnRPcHRpb25zKCk7Cn0KCmlmICgkbGFzdE1vZGlmaWVkVGltZSkgewppZiAoaXNzZXQoJG9wdGlvbnNbJ2h0dHAnXVsnaGVhZGVyJ10pKSB7CiRvcHRpb25zWydodHRwJ11bJ2hlYWRlciddID0gKGFycmF5KSAkb3B0aW9uc1snaHR0cCddWydoZWFkZXInXTsKfQokb3B0aW9uc1snaHR0cCddWydoZWFkZXInXVtdID0gJ0lmLU1vZGlmaWVkLVNpbmNlOiAnLiRsYXN0TW9kaWZpZWRUaW1lOwp9CgokaW8gPSAkdGhpcy0+aW87CiR1cmwgPSAkdGhpcy0+dXJsOwokY2FjaGUgPSAkdGhpcy0+Y2FjaGU7CiRkZWdyYWRlZE1vZGUgPSAmJHRoaXMtPmRlZ3JhZGVkTW9kZTsKJGV2ZW50RGlzcGF0Y2hlciA9ICR0aGlzLT5ldmVudERpc3BhdGNoZXI7CiRyZXBvID0gJHRoaXM7CgokYWNjZXB0ID0gZnVuY3Rpb24gKCRyZXNwb25zZSkgdXNlICgkaW8sICR1cmwsICRmaWxlbmFtZSwgJGNhY2hlLCAkY2FjaGVLZXksICRldmVudERpc3BhdGNoZXIsICRyZXBvKSB7CgppZiAoJHJlc3BvbnNlLT5nZXRTdGF0dXNDb2RlKCkgPT09IDQwNCkgewokcmVwby0+cGFja2FnZXNOb3RGb3VuZENhY2hlWyRmaWxlbmFtZV0gPSB0cnVlOwoKcmV0dXJuIGFycmF5KCdwYWNrYWdlcycgPT4gYXJyYXkoKSk7Cn0KCiRqc29uID0gJHJlc3BvbnNlLT5nZXRCb2R5KCk7CmlmICgkanNvbiA9PT0gJycgJiYgJHJlc3BvbnNlLT5nZXRTdGF0dXNDb2RlKCkgPT09IDMwNCkgewokcmVwby0+ZnJlc2hNZXRhZGF0YVVybHNbJGZpbGVuYW1lXSA9IHRydWU7CgpyZXR1cm4gdHJ1ZTsKfQoKaWYgKCRldmVudERpc3BhdGNoZXIpIHsKJHBvc3RGaWxlRG93bmxvYWRFdmVudCA9IG5ldyBQb3N0RmlsZURvd25sb2FkRXZlbnQoUGx1Z2luRXZlbnRzOjpQT1NUX0ZJTEVfRE9XTkxPQUQsIG51bGwsIG51bGwsICRmaWxlbmFtZSwgJ21ldGFkYXRhJywgYXJyYXkoJ3Jlc3BvbnNlJyA9PiAkcmVzcG9uc2UsICdyZXBvc2l0b3J5JyA9PiAkcmVwbykpOwokZXZlbnREaXNwYXRjaGVyLT5kaXNwYXRjaCgkcG9zdEZpbGVEb3dubG9hZEV2ZW50LT5nZXROYW1lKCksICRwb3N0RmlsZURvd25sb2FkRXZlbnQpOwp9CgokZGF0YSA9ICRyZXNwb25zZS0+ZGVjb2RlSnNvbigpOwpIdHRwRG93bmxvYWRlcjo6b3V0cHV0V2FybmluZ3MoJGlvLCAkdXJsLCAkZGF0YSk7CgokbGFzdE1vZGlmaWVkRGF0ZSA9ICRyZXNwb25zZS0+Z2V0SGVhZGVyKCdsYXN0LW1vZGlmaWVkJyk7CiRyZXNwb25zZS0+Y29sbGVjdCgpOwppZiAoJGxhc3RNb2RpZmllZERhdGUpIHsKJGRhdGFbJ2xhc3QtbW9kaWZpZWQnXSA9ICRsYXN0TW9kaWZpZWREYXRlOwokanNvbiA9IEpzb25GaWxlOjplbmNvZGUoJGRhdGEsIEpzb25GaWxlOjpKU09OX1VORVNDQVBFRF9TTEFTSEVTIHwgSnNvbkZpbGU6OkpTT05fVU5FU0NBUEVEX1VOSUNPREUpOwp9CmlmICghJGNhY2hlLT5pc1JlYWRPbmx5KCkpIHsKJGNhY2hlLT53cml0ZSgkY2FjaGVLZXksICRqc29uKTsKfQokcmVwby0+ZnJlc2hNZXRhZGF0YVVybHNbJGZpbGVuYW1lXSA9IHRydWU7CgpyZXR1cm4gJGRhdGE7Cn07CgokcmVqZWN0ID0gZnVuY3Rpb24gKCRlKSB1c2UgKCYkcmV0cmllcywgJGh0dHBEb3dubG9hZGVyLCAkZmlsZW5hbWUsICRvcHRpb25zLCAmJHJlamVjdCwgJGFjY2VwdCwgJGlvLCAkdXJsLCAmJGRlZ3JhZGVkTW9kZSwgJHJlcG8pIHsKaWYgKCRlIGluc3RhbmNlb2YgVHJhbnNwb3J0RXhjZXB0aW9uICYmICRlLT5nZXRTdGF0dXNDb2RlKCkgPT09IDQwNCkgewokcmVwby0+cGFja2FnZXNOb3RGb3VuZENhY2hlWyRmaWxlbmFtZV0gPSB0cnVlOwoKcmV0dXJuIGZhbHNlOwp9CgoKaWYgKCRlIGluc3RhbmNlb2YgVHJhbnNwb3J0RXhjZXB0aW9uICYmICRlLT5nZXRTdGF0dXNDb2RlKCkgPT09IDQ5OSkgewokcmV0cmllcyA9IDA7Cn0KCmlmICgtLSRyZXRyaWVzID4gMCkgewp1c2xlZXAoMTAwMDAwKTsKCnJldHVybiAkaHR0cERvd25sb2FkZXItPmFkZCgkZmlsZW5hbWUsICRvcHRpb25zKS0+dGhlbigkYWNjZXB0LCAkcmVqZWN0KTsKfQoKaWYgKCEkZGVncmFkZWRNb2RlKSB7CiRpby0+d3JpdGVFcnJvcignPHdhcm5pbmc+Jy4kdXJsLicgY291bGQgbm90IGJlIGZ1bGx5IGxvYWRlZCAoJy4kZS0+Z2V0TWVzc2FnZSgpLicpLCBwYWNrYWdlIGluZm9ybWF0aW9uIHdhcyBsb2FkZWQgZnJvbSB0aGUgbG9jYWwgY2FjaGUgYW5kIG1heSBiZSBvdXQgb2YgZGF0ZTwvd2FybmluZz4nKTsKfQokZGVncmFkZWRNb2RlID0gdHJ1ZTsKCgppZiAoJGUgaW5zdGFuY2VvZiBUcmFuc3BvcnRFeGNlcHRpb24gJiYgJGUtPmdldFN0YXR1c0NvZGUoKSA9PT0gNDk5KSB7CnJldHVybiAkYWNjZXB0KG5ldyBSZXNwb25zZShhcnJheSgndXJsJyA9PiAkdXJsKSwgNDA0LCBhcnJheSgpLCAnJykpOwp9Cgp0aHJvdyAkZTsKfTsKCnJldHVybiAkaHR0cERvd25sb2FkZXItPmFkZCgkZmlsZW5hbWUsICRvcHRpb25zKS0+dGhlbigkYWNjZXB0LCAkcmVqZWN0KTsKfQoKCgoKCgpwcml2YXRlIGZ1bmN0aW9uIGluaXRpYWxpemVQYXJ0aWFsUGFja2FnZXMoKQp7CiRyb290RGF0YSA9ICR0aGlzLT5sb2FkUm9vdFNlcnZlckZpbGUoKTsKCiR0aGlzLT5wYXJ0aWFsUGFja2FnZXNCeU5hbWUgPSBhcnJheSgpOwpmb3JlYWNoICgkcm9vdERhdGFbJ3BhY2thZ2VzJ10gYXMgJHBhY2thZ2UgPT4gJHZlcnNpb25zKSB7CmZvcmVhY2ggKCR2ZXJzaW9ucyBhcyAkdmVyc2lvbikgewokdGhpcy0+cGFydGlhbFBhY2thZ2VzQnlOYW1lW3N0cnRvbG93ZXIoJHZlcnNpb25bJ25hbWUnXSldW10gPSAkdmVyc2lvbjsKfQp9CgoKJHRoaXMtPnJvb3REYXRhID0gdHJ1ZTsKfQoKCgoKCgoKcHJvdGVjdGVkIGZ1bmN0aW9uIGxhenlQcm92aWRlcnNSZXBvQ29udGFpbnMoJG5hbWUpCnsKaWYgKCEkdGhpcy0+aGFzQXZhaWxhYmxlUGFja2FnZUxpc3QpIHsKdGhyb3cgbmV3IFxMb2dpY0V4Y2VwdGlvbignbGF6eVByb3ZpZGVyc1JlcG9Db250YWlucyBzaG91bGQgbm90IGJlIGNhbGxlZCB1bmxlc3MgaGFzQXZhaWxhYmxlUGFja2FnZUxpc3QgaXMgdHJ1ZScpOwp9CgppZiAoaXNfYXJyYXkoJHRoaXMtPmF2YWlsYWJsZVBhY2thZ2VzKSAmJiBpc3NldCgkdGhpcy0+YXZhaWxhYmxlUGFja2FnZXNbJG5hbWVdKSkgewpyZXR1cm4gdHJ1ZTsKfQoKaWYgKGlzX2FycmF5KCR0aGlzLT5hdmFpbGFibGVQYWNrYWdlUGF0dGVybnMpKSB7CmZvcmVhY2ggKCR0aGlzLT5hdmFpbGFibGVQYWNrYWdlUGF0dGVybnMgYXMgJHByb3ZpZGVyUmVnZXgpIHsKaWYgKHByZWdfbWF0Y2goJHByb3ZpZGVyUmVnZXgsICRuYW1lKSkgewpyZXR1cm4gdHJ1ZTsKfQp9Cn0KCnJldHVybiBmYWxzZTsKfQp9Cjw/cGhwCgoKCgoKCgoKCgoKbmFtZXNwYWNlIENvbXBvc2VyXFJlcG9zaXRvcnk7Cgp1c2UgQ29tcG9zZXJcUGFja2FnZVxQYWNrYWdlSW50ZXJmYWNlOwoKCgoKCgpjbGFzcyBDb21wb3NpdGVSZXBvc2l0b3J5IGltcGxlbWVudHMgUmVwb3NpdG9yeUludGVyZmFjZQp7CgoKCgpwcml2YXRlICRyZXBvc2l0b3JpZXM7CgoKCgoKcHVibGljIGZ1bmN0aW9uIF9fY29uc3RydWN0KGFycmF5ICRyZXBvc2l0b3JpZXMpCnsKJHRoaXMtPnJlcG9zaXRvcmllcyA9IGFycmF5KCk7CmZvcmVhY2ggKCRyZXBvc2l0b3JpZXMgYXMgJHJlcG8pIHsKJHRoaXMtPmFkZFJlcG9zaXRvcnkoJHJlcG8pOwp9Cn0KCnB1YmxpYyBmdW5jdGlvbiBnZXRSZXBvTmFtZSgpCnsKcmV0dXJuICdjb21wb3NpdGUgcmVwbyAoJy5pbXBsb2RlKCcsICcsIGFycmF5X21hcChmdW5jdGlvbiAoJHJlcG8pIHsKcmV0dXJuICRyZXBvLT5nZXRSZXBvTmFtZSgpOwp9LCAkdGhpcy0+cmVwb3NpdG9yaWVzKSkuJyknOwp9CgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBnZXRSZXBvc2l0b3JpZXMoKQp7CnJldHVybiAkdGhpcy0+cmVwb3NpdG9yaWVzOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gaGFzUGFja2FnZShQYWNrYWdlSW50ZXJmYWNlICRwYWNrYWdlKQp7CmZvcmVhY2ggKCR0aGlzLT5yZXBvc2l0b3JpZXMgYXMgJHJlcG9zaXRvcnkpIHsKCmlmICgkcmVwb3NpdG9yeS0+aGFzUGFja2FnZSgkcGFja2FnZSkpIHsKcmV0dXJuIHRydWU7Cn0KfQoKcmV0dXJuIGZhbHNlOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gZmluZFBhY2thZ2UoJG5hbWUsICRjb25zdHJhaW50KQp7CmZvcmVhY2ggKCR0aGlzLT5yZXBvc2l0b3JpZXMgYXMgJHJlcG9zaXRvcnkpIHsKCiRwYWNrYWdlID0gJHJlcG9zaXRvcnktPmZpbmRQYWNrYWdlKCRuYW1lLCAkY29uc3RyYWludCk7CmlmIChudWxsICE9PSAkcGFja2FnZSkgewpyZXR1cm4gJHBhY2thZ2U7Cn0KfQoKcmV0dXJuIG51bGw7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBmaW5kUGFja2FnZXMoJG5hbWUsICRjb25zdHJhaW50ID0gbnVsbCkKewokcGFja2FnZXMgPSBhcnJheSgpOwpmb3JlYWNoICgkdGhpcy0+cmVwb3NpdG9yaWVzIGFzICRyZXBvc2l0b3J5KSB7CgokcGFja2FnZXNbXSA9ICRyZXBvc2l0b3J5LT5maW5kUGFja2FnZXMoJG5hbWUsICRjb25zdHJhaW50KTsKfQoKcmV0dXJuICRwYWNrYWdlcyA/IGNhbGxfdXNlcl9mdW5jX2FycmF5KCdhcnJheV9tZXJnZScsICRwYWNrYWdlcykgOiBhcnJheSgpOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gbG9hZFBhY2thZ2VzKGFycmF5ICRwYWNrYWdlTWFwLCBhcnJheSAkYWNjZXB0YWJsZVN0YWJpbGl0aWVzLCBhcnJheSAkc3RhYmlsaXR5RmxhZ3MsIGFycmF5ICRhbHJlYWR5TG9hZGVkID0gYXJyYXkoKSkKewokcGFja2FnZXMgPSBhcnJheSgpOwokbmFtZXNGb3VuZCA9IGFycmF5KCk7CmZvcmVhY2ggKCR0aGlzLT5yZXBvc2l0b3JpZXMgYXMgJHJlcG9zaXRvcnkpIHsKCiRyZXN1bHQgPSAkcmVwb3NpdG9yeS0+bG9hZFBhY2thZ2VzKCRwYWNrYWdlTWFwLCAkYWNjZXB0YWJsZVN0YWJpbGl0aWVzLCAkc3RhYmlsaXR5RmxhZ3MsICRhbHJlYWR5TG9hZGVkKTsKJHBhY2thZ2VzW10gPSAkcmVzdWx0WydwYWNrYWdlcyddOwokbmFtZXNGb3VuZFtdID0gJHJlc3VsdFsnbmFtZXNGb3VuZCddOwp9CgpyZXR1cm4gYXJyYXkoCidwYWNrYWdlcycgPT4gJHBhY2thZ2VzID8gY2FsbF91c2VyX2Z1bmNfYXJyYXkoJ2FycmF5X21lcmdlJywgJHBhY2thZ2VzKSA6IGFycmF5KCksCiduYW1lc0ZvdW5kJyA9PiAkbmFtZXNGb3VuZCA/IGFycmF5X3VuaXF1ZShjYWxsX3VzZXJfZnVuY19hcnJheSgnYXJyYXlfbWVyZ2UnLCAkbmFtZXNGb3VuZCkpIDogYXJyYXkoKSwKKTsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIHNlYXJjaCgkcXVlcnksICRtb2RlID0gMCwgJHR5cGUgPSBudWxsKQp7CiRtYXRjaGVzID0gYXJyYXkoKTsKZm9yZWFjaCAoJHRoaXMtPnJlcG9zaXRvcmllcyBhcyAkcmVwb3NpdG9yeSkgewoKJG1hdGNoZXNbXSA9ICRyZXBvc2l0b3J5LT5zZWFyY2goJHF1ZXJ5LCAkbW9kZSwgJHR5cGUpOwp9CgpyZXR1cm4gJG1hdGNoZXMgPyBjYWxsX3VzZXJfZnVuY19hcnJheSgnYXJyYXlfbWVyZ2UnLCAkbWF0Y2hlcykgOiBhcnJheSgpOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0UGFja2FnZXMoKQp7CiRwYWNrYWdlcyA9IGFycmF5KCk7CmZvcmVhY2ggKCR0aGlzLT5yZXBvc2l0b3JpZXMgYXMgJHJlcG9zaXRvcnkpIHsKCiRwYWNrYWdlc1tdID0gJHJlcG9zaXRvcnktPmdldFBhY2thZ2VzKCk7Cn0KCnJldHVybiAkcGFja2FnZXMgPyBjYWxsX3VzZXJfZnVuY19hcnJheSgnYXJyYXlfbWVyZ2UnLCAkcGFja2FnZXMpIDogYXJyYXkoKTsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIGdldFByb3ZpZGVycygkcGFja2FnZU5hbWUpCnsKJHJlc3VsdHMgPSBhcnJheSgpOwpmb3JlYWNoICgkdGhpcy0+cmVwb3NpdG9yaWVzIGFzICRyZXBvc2l0b3J5KSB7CgokcmVzdWx0c1tdID0gJHJlcG9zaXRvcnktPmdldFByb3ZpZGVycygkcGFja2FnZU5hbWUpOwp9CgpyZXR1cm4gJHJlc3VsdHMgPyBjYWxsX3VzZXJfZnVuY19hcnJheSgnYXJyYXlfbWVyZ2UnLCAkcmVzdWx0cykgOiBhcnJheSgpOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gcmVtb3ZlUGFja2FnZShQYWNrYWdlSW50ZXJmYWNlICRwYWNrYWdlKQp7CmZvcmVhY2ggKCR0aGlzLT5yZXBvc2l0b3JpZXMgYXMgJHJlcG9zaXRvcnkpIHsKCiRyZXBvc2l0b3J5LT5yZW1vdmVQYWNrYWdlKCRwYWNrYWdlKTsKfQp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gY291bnQoKQp7CiR0b3RhbCA9IDA7CmZvcmVhY2ggKCR0aGlzLT5yZXBvc2l0b3JpZXMgYXMgJHJlcG9zaXRvcnkpIHsKCiR0b3RhbCArPSAkcmVwb3NpdG9yeS0+Y291bnQoKTsKfQoKcmV0dXJuICR0b3RhbDsKfQoKCgoKCnB1YmxpYyBmdW5jdGlvbiBhZGRSZXBvc2l0b3J5KFJlcG9zaXRvcnlJbnRlcmZhY2UgJHJlcG9zaXRvcnkpCnsKaWYgKCRyZXBvc2l0b3J5IGluc3RhbmNlb2Ygc2VsZikgewpmb3JlYWNoICgkcmVwb3NpdG9yeS0+Z2V0UmVwb3NpdG9yaWVzKCkgYXMgJHJlcG8pIHsKJHRoaXMtPmFkZFJlcG9zaXRvcnkoJHJlcG8pOwp9Cn0gZWxzZSB7CiR0aGlzLT5yZXBvc2l0b3JpZXNbXSA9ICRyZXBvc2l0b3J5Owp9Cn0KfQo8P3BocAoKCgoKCgoKCgoKCm5hbWVzcGFjZSBDb21wb3NlclxSZXBvc2l0b3J5OwoKCgoKCgppbnRlcmZhY2UgQ29uZmlndXJhYmxlUmVwb3NpdG9yeUludGVyZmFjZQp7CnB1YmxpYyBmdW5jdGlvbiBnZXRSZXBvQ29uZmlnKCk7Cn0KPD9waHAKCgoKCgoKCgoKCgpuYW1lc3BhY2UgQ29tcG9zZXJcUmVwb3NpdG9yeTsKCnVzZSBDb21wb3NlclxKc29uXEpzb25GaWxlOwp1c2UgQ29tcG9zZXJcUGFja2FnZVxMb2FkZXJcQXJyYXlMb2FkZXI7CnVzZSBDb21wb3NlclxQYWNrYWdlXFJvb3RQYWNrYWdlSW50ZXJmYWNlOwp1c2UgQ29tcG9zZXJcUGFja2FnZVxBbGlhc1BhY2thZ2U7CnVzZSBDb21wb3NlclxQYWNrYWdlXER1bXBlclxBcnJheUR1bXBlcjsKdXNlIENvbXBvc2VyXEluc3RhbGxlclxJbnN0YWxsYXRpb25NYW5hZ2VyOwp1c2UgQ29tcG9zZXJcVXRpbFxGaWxlc3lzdGVtOwoKCgoKCgoKY2xhc3MgRmlsZXN5c3RlbVJlcG9zaXRvcnkgZXh0ZW5kcyBXcml0YWJsZUFycmF5UmVwb3NpdG9yeQp7CnByb3RlY3RlZCAkZmlsZTsKcHJpdmF0ZSAkZHVtcFZlcnNpb25zOwpwcml2YXRlICRyb290UGFja2FnZTsKCgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gX19jb25zdHJ1Y3QoSnNvbkZpbGUgJHJlcG9zaXRvcnlGaWxlLCAkZHVtcFZlcnNpb25zID0gZmFsc2UsIFJvb3RQYWNrYWdlSW50ZXJmYWNlICRyb290UGFja2FnZSA9IG51bGwpCnsKcGFyZW50OjpfX2NvbnN0cnVjdCgpOwokdGhpcy0+ZmlsZSA9ICRyZXBvc2l0b3J5RmlsZTsKJHRoaXMtPmR1bXBWZXJzaW9ucyA9ICRkdW1wVmVyc2lvbnM7CiR0aGlzLT5yb290UGFja2FnZSA9ICRyb290UGFja2FnZTsKaWYgKCRkdW1wVmVyc2lvbnMgJiYgISRyb290UGFja2FnZSkgewp0aHJvdyBuZXcgXEludmFsaWRBcmd1bWVudEV4Y2VwdGlvbignRXhwZWN0ZWQgYSByb290IHBhY2thZ2UgaW5zdGFuY2UgaWYgJGR1bXBWZXJzaW9ucyBpcyB0cnVlJyk7Cn0KfQoKCgoKcHJvdGVjdGVkIGZ1bmN0aW9uIGluaXRpYWxpemUoKQp7CnBhcmVudDo6aW5pdGlhbGl6ZSgpOwoKaWYgKCEkdGhpcy0+ZmlsZS0+ZXhpc3RzKCkpIHsKcmV0dXJuOwp9Cgp0cnkgewokZGF0YSA9ICR0aGlzLT5maWxlLT5yZWFkKCk7CmlmIChpc3NldCgkZGF0YVsncGFja2FnZXMnXSkpIHsKJHBhY2thZ2VzID0gJGRhdGFbJ3BhY2thZ2VzJ107Cn0gZWxzZSB7CiRwYWNrYWdlcyA9ICRkYXRhOwp9CgppZiAoaXNzZXQoJGRhdGFbJ2Rldi1wYWNrYWdlLW5hbWVzJ10pKSB7CiR0aGlzLT5zZXREZXZQYWNrYWdlTmFtZXMoJGRhdGFbJ2Rldi1wYWNrYWdlLW5hbWVzJ10pOwp9CgppZiAoIWlzX2FycmF5KCRwYWNrYWdlcykpIHsKdGhyb3cgbmV3IFxVbmV4cGVjdGVkVmFsdWVFeGNlcHRpb24oJ0NvdWxkIG5vdCBwYXJzZSBwYWNrYWdlIGxpc3QgZnJvbSB0aGUgcmVwb3NpdG9yeScpOwp9Cn0gY2F0Y2ggKFxFeGNlcHRpb24gJGUpIHsKdGhyb3cgbmV3IEludmFsaWRSZXBvc2l0b3J5RXhjZXB0aW9uKCdJbnZhbGlkIHJlcG9zaXRvcnkgZGF0YSBpbiAnLiR0aGlzLT5maWxlLT5nZXRQYXRoKCkuJywgcGFja2FnZXMgY291bGQgbm90IGJlIGxvYWRlZDogWycuZ2V0X2NsYXNzKCRlKS4nXSAnLiRlLT5nZXRNZXNzYWdlKCkpOwp9CgokbG9hZGVyID0gbmV3IEFycmF5TG9hZGVyKG51bGwsIHRydWUpOwpmb3JlYWNoICgkcGFja2FnZXMgYXMgJHBhY2thZ2VEYXRhKSB7CiRwYWNrYWdlID0gJGxvYWRlci0+bG9hZCgkcGFja2FnZURhdGEpOwokdGhpcy0+YWRkUGFja2FnZSgkcGFja2FnZSk7Cn0KfQoKcHVibGljIGZ1bmN0aW9uIHJlbG9hZCgpCnsKJHRoaXMtPnBhY2thZ2VzID0gbnVsbDsKJHRoaXMtPmluaXRpYWxpemUoKTsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIHdyaXRlKCRkZXZNb2RlLCBJbnN0YWxsYXRpb25NYW5hZ2VyICRpbnN0YWxsYXRpb25NYW5hZ2VyKQp7CiRkYXRhID0gYXJyYXkoJ3BhY2thZ2VzJyA9PiBhcnJheSgpLCAnZGV2JyA9PiAkZGV2TW9kZSwgJ2Rldi1wYWNrYWdlLW5hbWVzJyA9PiBhcnJheSgpKTsKJGR1bXBlciA9IG5ldyBBcnJheUR1bXBlcigpOwokZnMgPSBuZXcgRmlsZXN5c3RlbSgpOwokcmVwb0RpciA9IGRpcm5hbWUoJGZzLT5ub3JtYWxpemVQYXRoKCR0aGlzLT5maWxlLT5nZXRQYXRoKCkpKTsKJGluc3RhbGxQYXRocyA9IGFycmF5KCk7Cgpmb3JlYWNoICgkdGhpcy0+Z2V0Q2Fub25pY2FsUGFja2FnZXMoKSBhcyAkcGFja2FnZSkgewokcGtnQXJyYXkgPSAkZHVtcGVyLT5kdW1wKCRwYWNrYWdlKTsKJHBhdGggPSAkaW5zdGFsbGF0aW9uTWFuYWdlci0+Z2V0SW5zdGFsbFBhdGgoJHBhY2thZ2UpOwokaW5zdGFsbFBhdGggPSAoJycgIT09ICRwYXRoICYmIG51bGwgIT09ICRwYXRoKSA/ICRmcy0+ZmluZFNob3J0ZXN0UGF0aCgkcmVwb0RpciwgJGZzLT5pc0Fic29sdXRlUGF0aCgkcGF0aCkgPyAkcGF0aCA6IGdldGN3ZCgpIC4gJy8nIC4gJHBhdGgsIHRydWUpIDogbnVsbDsKJGluc3RhbGxQYXRoc1skcGFja2FnZS0+Z2V0TmFtZSgpXSA9ICRpbnN0YWxsUGF0aDsKCiRwa2dBcnJheVsnaW5zdGFsbC1wYXRoJ10gPSAkaW5zdGFsbFBhdGg7CiRkYXRhWydwYWNrYWdlcyddW10gPSAkcGtnQXJyYXk7CgoKCmlmIChpbl9hcnJheSgkcGFja2FnZS0+Z2V0TmFtZSgpLCAkdGhpcy0+ZGV2UGFja2FnZU5hbWVzLCB0cnVlKSkgewokZGF0YVsnZGV2LXBhY2thZ2UtbmFtZXMnXVtdID0gJHBhY2thZ2UtPmdldE5hbWUoKTsKfQp9Cgpzb3J0KCRkYXRhWydkZXYtcGFja2FnZS1uYW1lcyddKTsKdXNvcnQoJGRhdGFbJ3BhY2thZ2VzJ10sIGZ1bmN0aW9uICgkYSwgJGIpIHsKcmV0dXJuIHN0cmNtcCgkYVsnbmFtZSddLCAkYlsnbmFtZSddKTsKfSk7CgokdGhpcy0+ZmlsZS0+d3JpdGUoJGRhdGEpOwoKaWYgKCR0aGlzLT5kdW1wVmVyc2lvbnMpIHsKJHZlcnNpb25zID0gJHRoaXMtPmdlbmVyYXRlSW5zdGFsbGVkVmVyc2lvbnMoJGluc3RhbGxhdGlvbk1hbmFnZXIsICRpbnN0YWxsUGF0aHMsICRkZXZNb2RlLCAkcmVwb0Rpcik7CgokZnMtPmZpbGVQdXRDb250ZW50c0lmTW9kaWZpZWQoJHJlcG9EaXIuJy9pbnN0YWxsZWQucGhwJywgJzw/cGhwIHJldHVybiAnIC4gJHRoaXMtPmR1bXBUb1BocENvZGUoJHZlcnNpb25zKSAuICc7Jy4iXG4iKTsKJGluc3RhbGxlZFZlcnNpb25zQ2xhc3MgPSBmaWxlX2dldF9jb250ZW50cyhfX0RJUl9fLicvLi4vSW5zdGFsbGVkVmVyc2lvbnMucGhwJyk7CiRmcy0+ZmlsZVB1dENvbnRlbnRzSWZNb2RpZmllZCgkcmVwb0Rpci4nL0luc3RhbGxlZFZlcnNpb25zLnBocCcsICRpbnN0YWxsZWRWZXJzaW9uc0NsYXNzKTsKClxDb21wb3NlclxJbnN0YWxsZWRWZXJzaW9uczo6cmVsb2FkKCR2ZXJzaW9ucyk7Cn0KfQoKcHJpdmF0ZSBmdW5jdGlvbiBkdW1wVG9QaHBDb2RlKGFycmF5ICRhcnJheSA9IGFycmF5KCksICRsZXZlbCA9IDApCnsKJGxpbmVzID0gImFycmF5KFxuIjsKJGxldmVsKys7Cgpmb3JlYWNoICgkYXJyYXkgYXMgJGtleSA9PiAkdmFsdWUpIHsKJGxpbmVzIC49IHN0cl9yZXBlYXQoJyAgICAnLCAkbGV2ZWwpOwokbGluZXMgLj0gaXNfaW50KCRrZXkpID8gJGtleSAuICcgPT4gJyA6ICdcJycgLiAka2V5IC4gJ1wnID0+ICc7CgppZiAoaXNfYXJyYXkoJHZhbHVlKSkgewppZiAoIWVtcHR5KCR2YWx1ZSkpIHsKJGxpbmVzIC49ICR0aGlzLT5kdW1wVG9QaHBDb2RlKCR2YWx1ZSwgJGxldmVsKTsKfSBlbHNlIHsKJGxpbmVzIC49ICJhcnJheSgpLFxuIjsKfQp9IGVsc2VpZiAoJGtleSA9PT0gJ2luc3RhbGxfcGF0aCcgJiYgaXNfc3RyaW5nKCR2YWx1ZSkpIHsKJGZzID0gbmV3IEZpbGVzeXN0ZW0oKTsKaWYgKCRmcy0+aXNBYnNvbHV0ZVBhdGgoJHZhbHVlKSkgewokbGluZXMgLj0gdmFyX2V4cG9ydCgkdmFsdWUsIHRydWUpIC4gIixcbiI7Cn0gZWxzZSB7CiRsaW5lcyAuPSAiX19ESVJfXyAuICIgLiB2YXJfZXhwb3J0KCcvJyAuICR2YWx1ZSwgdHJ1ZSkgLiAiLFxuIjsKfQp9IGVsc2UgewokbGluZXMgLj0gdmFyX2V4cG9ydCgkdmFsdWUsIHRydWUpIC4gIixcbiI7Cn0KfQoKJGxpbmVzIC49IHN0cl9yZXBlYXQoJyAgICAnLCAkbGV2ZWwgLSAxKSAuICcpJyAuICgkbGV2ZWwgLSAxID09IDAgPyAnJyA6ICIsXG4iKTsKCnJldHVybiAkbGluZXM7Cn0KCgoKCnByaXZhdGUgZnVuY3Rpb24gZ2VuZXJhdGVJbnN0YWxsZWRWZXJzaW9ucyhJbnN0YWxsYXRpb25NYW5hZ2VyICRpbnN0YWxsYXRpb25NYW5hZ2VyLCBhcnJheSAkaW5zdGFsbFBhdGhzLCAkZGV2TW9kZSwgJHJlcG9EaXIpCnsKaWYgKCEkdGhpcy0+ZHVtcFZlcnNpb25zKSB7CnJldHVybiBudWxsOwp9CgokZGV2UGFja2FnZXMgPSBhcnJheV9mbGlwKCR0aGlzLT5kZXZQYWNrYWdlTmFtZXMpOwokdmVyc2lvbnMgPSBhcnJheSgndmVyc2lvbnMnID0+IGFycmF5KCkpOwokcGFja2FnZXMgPSAkdGhpcy0+Z2V0UGFja2FnZXMoKTsKJHBhY2thZ2VzW10gPSAkcm9vdFBhY2thZ2UgPSAkdGhpcy0+cm9vdFBhY2thZ2U7CndoaWxlICgkcm9vdFBhY2thZ2UgaW5zdGFuY2VvZiBBbGlhc1BhY2thZ2UpIHsKJHJvb3RQYWNrYWdlID0gJHJvb3RQYWNrYWdlLT5nZXRBbGlhc09mKCk7CiRwYWNrYWdlc1tdID0gJHJvb3RQYWNrYWdlOwp9CgoKZm9yZWFjaCAoJHBhY2thZ2VzIGFzICRwYWNrYWdlKSB7CmlmICgkcGFja2FnZSBpbnN0YW5jZW9mIEFsaWFzUGFja2FnZSkgewpjb250aW51ZTsKfQoKJHJlZmVyZW5jZSA9IG51bGw7CmlmICgkcGFja2FnZS0+Z2V0SW5zdGFsbGF0aW9uU291cmNlKCkpIHsKJHJlZmVyZW5jZSA9ICRwYWNrYWdlLT5nZXRJbnN0YWxsYXRpb25Tb3VyY2UoKSA9PT0gJ3NvdXJjZScgPyAkcGFja2FnZS0+Z2V0U291cmNlUmVmZXJlbmNlKCkgOiAkcGFja2FnZS0+Z2V0RGlzdFJlZmVyZW5jZSgpOwp9CmlmIChudWxsID09PSAkcmVmZXJlbmNlKSB7CiRyZWZlcmVuY2UgPSAoJHBhY2thZ2UtPmdldFNvdXJjZVJlZmVyZW5jZSgpID86ICRwYWNrYWdlLT5nZXREaXN0UmVmZXJlbmNlKCkpID86IG51bGw7Cn0KCmlmICgkcGFja2FnZSBpbnN0YW5jZW9mIFJvb3RQYWNrYWdlSW50ZXJmYWNlKSB7CiRmcyA9IG5ldyBGaWxlc3lzdGVtKCk7CiR0byA9IGdldGN3ZCgpOwokaW5zdGFsbFBhdGggPSAkZnMtPmZpbmRTaG9ydGVzdFBhdGgoJHJlcG9EaXIsICR0bywgdHJ1ZSk7Cn0gZWxzZSB7CiRpbnN0YWxsUGF0aCA9ICRpbnN0YWxsUGF0aHNbJHBhY2thZ2UtPmdldE5hbWUoKV07Cn0KCiR2ZXJzaW9uc1sndmVyc2lvbnMnXVskcGFja2FnZS0+Z2V0TmFtZSgpXSA9IGFycmF5KAoncHJldHR5X3ZlcnNpb24nID0+ICRwYWNrYWdlLT5nZXRQcmV0dHlWZXJzaW9uKCksCid2ZXJzaW9uJyA9PiAkcGFja2FnZS0+Z2V0VmVyc2lvbigpLAondHlwZScgPT4gJHBhY2thZ2UtPmdldFR5cGUoKSwKJ2luc3RhbGxfcGF0aCcgPT4gJGluc3RhbGxQYXRoLAonYWxpYXNlcycgPT4gYXJyYXkoKSwKJ3JlZmVyZW5jZScgPT4gJHJlZmVyZW5jZSwKJ2Rldl9yZXF1aXJlbWVudCcgPT4gaXNzZXQoJGRldlBhY2thZ2VzWyRwYWNrYWdlLT5nZXROYW1lKCldKSwKKTsKaWYgKCRwYWNrYWdlIGluc3RhbmNlb2YgUm9vdFBhY2thZ2VJbnRlcmZhY2UpIHsKJHZlcnNpb25zWydyb290J10gPSAkdmVyc2lvbnNbJ3ZlcnNpb25zJ11bJHBhY2thZ2UtPmdldE5hbWUoKV07CnVuc2V0KCR2ZXJzaW9uc1sncm9vdCddWydkZXZfcmVxdWlyZW1lbnQnXSk7CiR2ZXJzaW9uc1sncm9vdCddWyduYW1lJ10gPSAkcGFja2FnZS0+Z2V0TmFtZSgpOwokdmVyc2lvbnNbJ3Jvb3QnXVsnZGV2J10gPSAkZGV2TW9kZTsKfQp9CgoKZm9yZWFjaCAoJHBhY2thZ2VzIGFzICRwYWNrYWdlKSB7CiRpc0RldlBhY2thZ2UgPSBpc3NldCgkZGV2UGFja2FnZXNbJHBhY2thZ2UtPmdldE5hbWUoKV0pOwpmb3JlYWNoICgkcGFja2FnZS0+Z2V0UmVwbGFjZXMoKSBhcyAkcmVwbGFjZSkgewoKaWYgKFBsYXRmb3JtUmVwb3NpdG9yeTo6aXNQbGF0Zm9ybVBhY2thZ2UoJHJlcGxhY2UtPmdldFRhcmdldCgpKSkgewpjb250aW51ZTsKfQppZiAoIWlzc2V0KCR2ZXJzaW9uc1sndmVyc2lvbnMnXVskcmVwbGFjZS0+Z2V0VGFyZ2V0KCldWydkZXZfcmVxdWlyZW1lbnQnXSkpIHsKJHZlcnNpb25zWyd2ZXJzaW9ucyddWyRyZXBsYWNlLT5nZXRUYXJnZXQoKV1bJ2Rldl9yZXF1aXJlbWVudCddID0gJGlzRGV2UGFja2FnZTsKfSBlbHNlaWYgKCEkaXNEZXZQYWNrYWdlKSB7CiR2ZXJzaW9uc1sndmVyc2lvbnMnXVskcmVwbGFjZS0+Z2V0VGFyZ2V0KCldWydkZXZfcmVxdWlyZW1lbnQnXSA9IGZhbHNlOwp9CiRyZXBsYWNlZCA9ICRyZXBsYWNlLT5nZXRQcmV0dHlDb25zdHJhaW50KCk7CmlmICgkcmVwbGFjZWQgPT09ICdzZWxmLnZlcnNpb24nKSB7CiRyZXBsYWNlZCA9ICRwYWNrYWdlLT5nZXRQcmV0dHlWZXJzaW9uKCk7Cn0KaWYgKCFpc3NldCgkdmVyc2lvbnNbJ3ZlcnNpb25zJ11bJHJlcGxhY2UtPmdldFRhcmdldCgpXVsncmVwbGFjZWQnXSkgfHwgIWluX2FycmF5KCRyZXBsYWNlZCwgJHZlcnNpb25zWyd2ZXJzaW9ucyddWyRyZXBsYWNlLT5nZXRUYXJnZXQoKV1bJ3JlcGxhY2VkJ10sIHRydWUpKSB7CiR2ZXJzaW9uc1sndmVyc2lvbnMnXVskcmVwbGFjZS0+Z2V0VGFyZ2V0KCldWydyZXBsYWNlZCddW10gPSAkcmVwbGFjZWQ7Cn0KfQpmb3JlYWNoICgkcGFja2FnZS0+Z2V0UHJvdmlkZXMoKSBhcyAkcHJvdmlkZSkgewoKaWYgKFBsYXRmb3JtUmVwb3NpdG9yeTo6aXNQbGF0Zm9ybVBhY2thZ2UoJHByb3ZpZGUtPmdldFRhcmdldCgpKSkgewpjb250aW51ZTsKfQppZiAoIWlzc2V0KCR2ZXJzaW9uc1sndmVyc2lvbnMnXVskcHJvdmlkZS0+Z2V0VGFyZ2V0KCldWydkZXZfcmVxdWlyZW1lbnQnXSkpIHsKJHZlcnNpb25zWyd2ZXJzaW9ucyddWyRwcm92aWRlLT5nZXRUYXJnZXQoKV1bJ2Rldl9yZXF1aXJlbWVudCddID0gJGlzRGV2UGFja2FnZTsKfSBlbHNlaWYgKCEkaXNEZXZQYWNrYWdlKSB7CiR2ZXJzaW9uc1sndmVyc2lvbnMnXVskcHJvdmlkZS0+Z2V0VGFyZ2V0KCldWydkZXZfcmVxdWlyZW1lbnQnXSA9IGZhbHNlOwp9CiRwcm92aWRlZCA9ICRwcm92aWRlLT5nZXRQcmV0dHlDb25zdHJhaW50KCk7CmlmICgkcHJvdmlkZWQgPT09ICdzZWxmLnZlcnNpb24nKSB7CiRwcm92aWRlZCA9ICRwYWNrYWdlLT5nZXRQcmV0dHlWZXJzaW9uKCk7Cn0KaWYgKCFpc3NldCgkdmVyc2lvbnNbJ3ZlcnNpb25zJ11bJHByb3ZpZGUtPmdldFRhcmdldCgpXVsncHJvdmlkZWQnXSkgfHwgIWluX2FycmF5KCRwcm92aWRlZCwgJHZlcnNpb25zWyd2ZXJzaW9ucyddWyRwcm92aWRlLT5nZXRUYXJnZXQoKV1bJ3Byb3ZpZGVkJ10sIHRydWUpKSB7CiR2ZXJzaW9uc1sndmVyc2lvbnMnXVskcHJvdmlkZS0+Z2V0VGFyZ2V0KCldWydwcm92aWRlZCddW10gPSAkcHJvdmlkZWQ7Cn0KfQp9CgoKZm9yZWFjaCAoJHBhY2thZ2VzIGFzICRwYWNrYWdlKSB7CmlmICghJHBhY2thZ2UgaW5zdGFuY2VvZiBBbGlhc1BhY2thZ2UpIHsKY29udGludWU7Cn0KJHZlcnNpb25zWyd2ZXJzaW9ucyddWyRwYWNrYWdlLT5nZXROYW1lKCldWydhbGlhc2VzJ11bXSA9ICRwYWNrYWdlLT5nZXRQcmV0dHlWZXJzaW9uKCk7CmlmICgkcGFja2FnZSBpbnN0YW5jZW9mIFJvb3RQYWNrYWdlSW50ZXJmYWNlKSB7CiR2ZXJzaW9uc1sncm9vdCddWydhbGlhc2VzJ11bXSA9ICRwYWNrYWdlLT5nZXRQcmV0dHlWZXJzaW9uKCk7Cn0KfQoKa3NvcnQoJHZlcnNpb25zWyd2ZXJzaW9ucyddKTsKa3NvcnQoJHZlcnNpb25zKTsKCnJldHVybiAkdmVyc2lvbnM7Cn0KfQo8P3BocAoKCgoKCgoKCgoKCm5hbWVzcGFjZSBDb21wb3NlclxSZXBvc2l0b3J5OwoKdXNlIENvbXBvc2VyXFBhY2thZ2VcUGFja2FnZUludGVyZmFjZTsKdXNlIENvbXBvc2VyXFBhY2thZ2VcQmFzZVBhY2thZ2U7CgoKCgoKCmNsYXNzIEZpbHRlclJlcG9zaXRvcnkgaW1wbGVtZW50cyBSZXBvc2l0b3J5SW50ZXJmYWNlCnsKcHJpdmF0ZSAkb25seSA9IGFycmF5KCk7CnByaXZhdGUgJGV4Y2x1ZGUgPSBhcnJheSgpOwpwcml2YXRlICRjYW5vbmljYWwgPSB0cnVlOwpwcml2YXRlICRyZXBvOwoKcHVibGljIGZ1bmN0aW9uIF9fY29uc3RydWN0KFJlcG9zaXRvcnlJbnRlcmZhY2UgJHJlcG8sIGFycmF5ICRvcHRpb25zKQp7CmlmIChpc3NldCgkb3B0aW9uc1snb25seSddKSkgewppZiAoIWlzX2FycmF5KCRvcHRpb25zWydvbmx5J10pKSB7CnRocm93IG5ldyBcSW52YWxpZEFyZ3VtZW50RXhjZXB0aW9uKCcib25seSIga2V5IGZvciByZXBvc2l0b3J5ICcuJHJlcG8tPmdldFJlcG9OYW1lKCkuJyBzaG91bGQgYmUgYW4gYXJyYXknKTsKfQokdGhpcy0+b25seSA9ICd7XicuaW1wbG9kZSgnfCcsIGFycmF5X21hcChmdW5jdGlvbiAoJHZhbCkgewpyZXR1cm4gQmFzZVBhY2thZ2U6OnBhY2thZ2VOYW1lVG9SZWdleHAoJHZhbCwgJyVzJyk7Cn0sICRvcHRpb25zWydvbmx5J10pKSAuJyR9aUQnOwp9CmlmIChpc3NldCgkb3B0aW9uc1snZXhjbHVkZSddKSkgewppZiAoIWlzX2FycmF5KCRvcHRpb25zWydleGNsdWRlJ10pKSB7CnRocm93IG5ldyBcSW52YWxpZEFyZ3VtZW50RXhjZXB0aW9uKCciZXhjbHVkZSIga2V5IGZvciByZXBvc2l0b3J5ICcuJHJlcG8tPmdldFJlcG9OYW1lKCkuJyBzaG91bGQgYmUgYW4gYXJyYXknKTsKfQokdGhpcy0+ZXhjbHVkZSA9ICd7XicuaW1wbG9kZSgnfCcsIGFycmF5X21hcChmdW5jdGlvbiAoJHZhbCkgewpyZXR1cm4gQmFzZVBhY2thZ2U6OnBhY2thZ2VOYW1lVG9SZWdleHAoJHZhbCwgJyVzJyk7Cn0sICRvcHRpb25zWydleGNsdWRlJ10pKSAuJyR9aUQnOwp9CmlmICgkdGhpcy0+ZXhjbHVkZSAmJiAkdGhpcy0+b25seSkgewp0aHJvdyBuZXcgXEludmFsaWRBcmd1bWVudEV4Y2VwdGlvbignT25seSBvbmUgb2YgIm9ubHkiIGFuZCAiZXhjbHVkZSIgY2FuIGJlIHNwZWNpZmllZCBmb3IgcmVwb3NpdG9yeSAnLiRyZXBvLT5nZXRSZXBvTmFtZSgpKTsKfQppZiAoaXNzZXQoJG9wdGlvbnNbJ2Nhbm9uaWNhbCddKSkgewppZiAoIWlzX2Jvb2woJG9wdGlvbnNbJ2Nhbm9uaWNhbCddKSkgewp0aHJvdyBuZXcgXEludmFsaWRBcmd1bWVudEV4Y2VwdGlvbignImNhbm9uaWNhbCIga2V5IGZvciByZXBvc2l0b3J5ICcuJHJlcG8tPmdldFJlcG9OYW1lKCkuJyBzaG91bGQgYmUgYSBib29sZWFuJyk7Cn0KJHRoaXMtPmNhbm9uaWNhbCA9ICRvcHRpb25zWydjYW5vbmljYWwnXTsKfQoKJHRoaXMtPnJlcG8gPSAkcmVwbzsKfQoKcHVibGljIGZ1bmN0aW9uIGdldFJlcG9OYW1lKCkKewpyZXR1cm4gJHRoaXMtPnJlcG8tPmdldFJlcG9OYW1lKCk7Cn0KCgoKCgoKcHVibGljIGZ1bmN0aW9uIGdldFJlcG9zaXRvcnkoKQp7CnJldHVybiAkdGhpcy0+cmVwbzsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIGhhc1BhY2thZ2UoUGFja2FnZUludGVyZmFjZSAkcGFja2FnZSkKewpyZXR1cm4gJHRoaXMtPnJlcG8tPmhhc1BhY2thZ2UoJHBhY2thZ2UpOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gZmluZFBhY2thZ2UoJG5hbWUsICRjb25zdHJhaW50KQp7CmlmICghJHRoaXMtPmlzQWxsb3dlZCgkbmFtZSkpIHsKcmV0dXJuIG51bGw7Cn0KCnJldHVybiAkdGhpcy0+cmVwby0+ZmluZFBhY2thZ2UoJG5hbWUsICRjb25zdHJhaW50KTsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIGZpbmRQYWNrYWdlcygkbmFtZSwgJGNvbnN0cmFpbnQgPSBudWxsKQp7CmlmICghJHRoaXMtPmlzQWxsb3dlZCgkbmFtZSkpIHsKcmV0dXJuIGFycmF5KCk7Cn0KCnJldHVybiAkdGhpcy0+cmVwby0+ZmluZFBhY2thZ2VzKCRuYW1lLCAkY29uc3RyYWludCk7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBsb2FkUGFja2FnZXMoYXJyYXkgJHBhY2thZ2VNYXAsIGFycmF5ICRhY2NlcHRhYmxlU3RhYmlsaXRpZXMsIGFycmF5ICRzdGFiaWxpdHlGbGFncywgYXJyYXkgJGFscmVhZHlMb2FkZWQgPSBhcnJheSgpKQp7CmZvcmVhY2ggKCRwYWNrYWdlTWFwIGFzICRuYW1lID0+ICRjb25zdHJhaW50KSB7CmlmICghJHRoaXMtPmlzQWxsb3dlZCgkbmFtZSkpIHsKdW5zZXQoJHBhY2thZ2VNYXBbJG5hbWVdKTsKfQp9CgppZiAoISRwYWNrYWdlTWFwKSB7CnJldHVybiBhcnJheSgnbmFtZXNGb3VuZCcgPT4gYXJyYXkoKSwgJ3BhY2thZ2VzJyA9PiBhcnJheSgpKTsKfQoKJHJlc3VsdCA9ICR0aGlzLT5yZXBvLT5sb2FkUGFja2FnZXMoJHBhY2thZ2VNYXAsICRhY2NlcHRhYmxlU3RhYmlsaXRpZXMsICRzdGFiaWxpdHlGbGFncywgJGFscmVhZHlMb2FkZWQpOwppZiAoISR0aGlzLT5jYW5vbmljYWwpIHsKJHJlc3VsdFsnbmFtZXNGb3VuZCddID0gYXJyYXkoKTsKfQoKcmV0dXJuICRyZXN1bHQ7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBzZWFyY2goJHF1ZXJ5LCAkbW9kZSA9IDAsICR0eXBlID0gbnVsbCkKewokcmVzdWx0ID0gYXJyYXkoKTsKCmZvcmVhY2ggKCR0aGlzLT5yZXBvLT5zZWFyY2goJHF1ZXJ5LCAkbW9kZSwgJHR5cGUpIGFzICRwYWNrYWdlKSB7CmlmICgkdGhpcy0+aXNBbGxvd2VkKCRwYWNrYWdlWyduYW1lJ10pKSB7CiRyZXN1bHRbXSA9ICRwYWNrYWdlOwp9Cn0KCnJldHVybiAkcmVzdWx0Owp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0UGFja2FnZXMoKQp7CiRyZXN1bHQgPSBhcnJheSgpOwpmb3JlYWNoICgkdGhpcy0+cmVwby0+Z2V0UGFja2FnZXMoKSBhcyAkcGFja2FnZSkgewppZiAoJHRoaXMtPmlzQWxsb3dlZCgkcGFja2FnZS0+Z2V0TmFtZSgpKSkgewokcmVzdWx0W10gPSAkcGFja2FnZTsKfQp9CgpyZXR1cm4gJHJlc3VsdDsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIGdldFByb3ZpZGVycygkcGFja2FnZU5hbWUpCnsKJHJlc3VsdCA9IGFycmF5KCk7CmZvcmVhY2ggKCR0aGlzLT5yZXBvLT5nZXRQcm92aWRlcnMoJHBhY2thZ2VOYW1lKSBhcyAkbmFtZSA9PiAkcHJvdmlkZXIpIHsKaWYgKCR0aGlzLT5pc0FsbG93ZWQoJHByb3ZpZGVyWyduYW1lJ10pKSB7CiRyZXN1bHRbJG5hbWVdID0gJHByb3ZpZGVyOwp9Cn0KCnJldHVybiAkcmVzdWx0Owp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gcmVtb3ZlUGFja2FnZShQYWNrYWdlSW50ZXJmYWNlICRwYWNrYWdlKQp7CnJldHVybiAkdGhpcy0+cmVwby0+cmVtb3ZlUGFja2FnZSgkcGFja2FnZSk7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBjb3VudCgpCnsKaWYgKCR0aGlzLT5yZXBvLT5jb3VudCgpID4gMCkgewpyZXR1cm4gY291bnQoJHRoaXMtPmdldFBhY2thZ2VzKCkpOwp9CgpyZXR1cm4gMDsKfQoKcHJpdmF0ZSBmdW5jdGlvbiBpc0FsbG93ZWQoJG5hbWUpCnsKaWYgKCEkdGhpcy0+b25seSAmJiAhJHRoaXMtPmV4Y2x1ZGUpIHsKcmV0dXJuIHRydWU7Cn0KCmlmICgkdGhpcy0+b25seSkgewpyZXR1cm4gKGJvb2wpIHByZWdfbWF0Y2goJHRoaXMtPm9ubHksICRuYW1lKTsKfQoKcmV0dXJuICFwcmVnX21hdGNoKCR0aGlzLT5leGNsdWRlLCAkbmFtZSk7Cn0KfQo8P3BocAoKCgoKCgoKCgoKCm5hbWVzcGFjZSBDb21wb3NlclxSZXBvc2l0b3J5OwoKCgoKCgoKCmNsYXNzIEluc3RhbGxlZEFycmF5UmVwb3NpdG9yeSBleHRlbmRzIFdyaXRhYmxlQXJyYXlSZXBvc2l0b3J5IGltcGxlbWVudHMgSW5zdGFsbGVkUmVwb3NpdG9yeUludGVyZmFjZQp7CnB1YmxpYyBmdW5jdGlvbiBnZXRSZXBvTmFtZSgpCnsKcmV0dXJuICdpbnN0YWxsZWQgJy5wYXJlbnQ6OmdldFJlcG9OYW1lKCk7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBpc0ZyZXNoKCkKewoKCnJldHVybiAkdGhpcy0+Y291bnQoKSA9PT0gMDsKfQp9Cjw/cGhwCgoKCgoKCgoKCgoKbmFtZXNwYWNlIENvbXBvc2VyXFJlcG9zaXRvcnk7CgoKCgoKCmNsYXNzIEluc3RhbGxlZEZpbGVzeXN0ZW1SZXBvc2l0b3J5IGV4dGVuZHMgRmlsZXN5c3RlbVJlcG9zaXRvcnkgaW1wbGVtZW50cyBJbnN0YWxsZWRSZXBvc2l0b3J5SW50ZXJmYWNlCnsKcHVibGljIGZ1bmN0aW9uIGdldFJlcG9OYW1lKCkKewpyZXR1cm4gJ2luc3RhbGxlZCAnLnBhcmVudDo6Z2V0UmVwb05hbWUoKTsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIGlzRnJlc2goKQp7CnJldHVybiAhJHRoaXMtPmZpbGUtPmV4aXN0cygpOwp9Cn0KPD9waHAKCgoKCgoKCgoKCgpuYW1lc3BhY2UgQ29tcG9zZXJcUmVwb3NpdG9yeTsKCnVzZSBDb21wb3NlclxQYWNrYWdlXFZlcnNpb25cVmVyc2lvblBhcnNlcjsKdXNlIENvbXBvc2VyXFNlbXZlclxDb25zdHJhaW50XENvbnN0cmFpbnRJbnRlcmZhY2U7CnVzZSBDb21wb3NlclxTZW12ZXJcQ29uc3RyYWludFxDb25zdHJhaW50Owp1c2UgQ29tcG9zZXJcU2VtdmVyXENvbnN0cmFpbnRcTWF0Y2hBbGxDb25zdHJhaW50Owp1c2UgQ29tcG9zZXJcUGFja2FnZVxSb290UGFja2FnZUludGVyZmFjZTsKdXNlIENvbXBvc2VyXFBhY2thZ2VcTGluazsKCgoKCgoKCgoKCmNsYXNzIEluc3RhbGxlZFJlcG9zaXRvcnkgZXh0ZW5kcyBDb21wb3NpdGVSZXBvc2l0b3J5CnsKcHVibGljIGZ1bmN0aW9uIGZpbmRQYWNrYWdlc1dpdGhSZXBsYWNlcnNBbmRQcm92aWRlcnMoJG5hbWUsICRjb25zdHJhaW50ID0gbnVsbCkKewokbmFtZSA9IHN0cnRvbG93ZXIoJG5hbWUpOwoKaWYgKG51bGwgIT09ICRjb25zdHJhaW50ICYmICEkY29uc3RyYWludCBpbnN0YW5jZW9mIENvbnN0cmFpbnRJbnRlcmZhY2UpIHsKJHZlcnNpb25QYXJzZXIgPSBuZXcgVmVyc2lvblBhcnNlcigpOwokY29uc3RyYWludCA9ICR2ZXJzaW9uUGFyc2VyLT5wYXJzZUNvbnN0cmFpbnRzKCRjb25zdHJhaW50KTsKfQoKJG1hdGNoZXMgPSBhcnJheSgpOwpmb3JlYWNoICgkdGhpcy0+Z2V0UmVwb3NpdG9yaWVzKCkgYXMgJHJlcG8pIHsKZm9yZWFjaCAoJHJlcG8tPmdldFBhY2thZ2VzKCkgYXMgJGNhbmRpZGF0ZSkgewppZiAoJG5hbWUgPT09ICRjYW5kaWRhdGUtPmdldE5hbWUoKSkgewppZiAobnVsbCA9PT0gJGNvbnN0cmFpbnQgfHwgJGNvbnN0cmFpbnQtPm1hdGNoZXMobmV3IENvbnN0cmFpbnQoJz09JywgJGNhbmRpZGF0ZS0+Z2V0VmVyc2lvbigpKSkpIHsKJG1hdGNoZXNbXSA9ICRjYW5kaWRhdGU7Cn0KY29udGludWU7Cn0KCmZvcmVhY2ggKGFycmF5X21lcmdlKCRjYW5kaWRhdGUtPmdldFByb3ZpZGVzKCksICRjYW5kaWRhdGUtPmdldFJlcGxhY2VzKCkpIGFzICRsaW5rKSB7CmlmICgKJG5hbWUgPT09ICRsaW5rLT5nZXRUYXJnZXQoKQomJiAoJGNvbnN0cmFpbnQgPT09IG51bGwgfHwgJGxpbmstPmdldENvbnN0cmFpbnQoKSA9PT0gbnVsbCB8fCAkY29uc3RyYWludC0+bWF0Y2hlcygkbGluay0+Z2V0Q29uc3RyYWludCgpKSkKKSB7CiRtYXRjaGVzW10gPSAkY2FuZGlkYXRlOwpjb250aW51ZSAyOwp9Cn0KfQp9CgpyZXR1cm4gJG1hdGNoZXM7Cn0KCgoKCgoKCgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0RGVwZW5kZW50cygkbmVlZGxlLCAkY29uc3RyYWludCA9IG51bGwsICRpbnZlcnQgPSBmYWxzZSwgJHJlY3Vyc2UgPSB0cnVlLCAkcGFja2FnZXNGb3VuZCA9IG51bGwpCnsKJG5lZWRsZXMgPSBhcnJheV9tYXAoJ3N0cnRvbG93ZXInLCAoYXJyYXkpICRuZWVkbGUpOwokcmVzdWx0cyA9IGFycmF5KCk7CgoKaWYgKG51bGwgPT09ICRwYWNrYWdlc0ZvdW5kKSB7CiRwYWNrYWdlc0ZvdW5kID0gJG5lZWRsZXM7Cn0KCgokcm9vdFBhY2thZ2UgPSBudWxsOwpmb3JlYWNoICgkdGhpcy0+Z2V0UGFja2FnZXMoKSBhcyAkcGFja2FnZSkgewppZiAoJHBhY2thZ2UgaW5zdGFuY2VvZiBSb290UGFja2FnZUludGVyZmFjZSkgewokcm9vdFBhY2thZ2UgPSAkcGFja2FnZTsKYnJlYWs7Cn0KfQoKCmZvcmVhY2ggKCR0aGlzLT5nZXRQYWNrYWdlcygpIGFzICRwYWNrYWdlKSB7CiRsaW5rcyA9ICRwYWNrYWdlLT5nZXRSZXF1aXJlcygpOwoKCgokcGFja2FnZXNJblRyZWUgPSAkcGFja2FnZXNGb3VuZDsKCgppZiAoISRpbnZlcnQpIHsKJGxpbmtzICs9ICRwYWNrYWdlLT5nZXRSZXBsYWNlcygpOwoKCgoKZm9yZWFjaCAoJHBhY2thZ2UtPmdldFJlcGxhY2VzKCkgYXMgJGxpbmspIHsKZm9yZWFjaCAoJG5lZWRsZXMgYXMgJG5lZWRsZSkgewppZiAoJGxpbmstPmdldFNvdXJjZSgpID09PSAkbmVlZGxlKSB7CmlmICgkY29uc3RyYWludCA9PT0gbnVsbCB8fCAoJGxpbmstPmdldENvbnN0cmFpbnQoKS0+bWF0Y2hlcygkY29uc3RyYWludCkgPT09ICEkaW52ZXJ0KSkgewoKaWYgKGluX2FycmF5KCRsaW5rLT5nZXRUYXJnZXQoKSwgJHBhY2thZ2VzSW5UcmVlKSkgewokcmVzdWx0c1tdID0gYXJyYXkoJHBhY2thZ2UsICRsaW5rLCBmYWxzZSk7CmNvbnRpbnVlOwp9CiRwYWNrYWdlc0luVHJlZVtdID0gJGxpbmstPmdldFRhcmdldCgpOwokZGVwZW5kZW50cyA9ICRyZWN1cnNlID8gJHRoaXMtPmdldERlcGVuZGVudHMoJGxpbmstPmdldFRhcmdldCgpLCBudWxsLCBmYWxzZSwgdHJ1ZSwgJHBhY2thZ2VzSW5UcmVlKSA6IGFycmF5KCk7CiRyZXN1bHRzW10gPSBhcnJheSgkcGFja2FnZSwgJGxpbmssICRkZXBlbmRlbnRzKTsKJG5lZWRsZXNbXSA9ICRsaW5rLT5nZXRUYXJnZXQoKTsKfQp9Cn0KfQp9CgoKaWYgKCRwYWNrYWdlIGluc3RhbmNlb2YgUm9vdFBhY2thZ2VJbnRlcmZhY2UpIHsKJGxpbmtzICs9ICRwYWNrYWdlLT5nZXREZXZSZXF1aXJlcygpOwp9CgoKZm9yZWFjaCAoJGxpbmtzIGFzICRsaW5rKSB7CmZvcmVhY2ggKCRuZWVkbGVzIGFzICRuZWVkbGUpIHsKaWYgKCRsaW5rLT5nZXRUYXJnZXQoKSA9PT0gJG5lZWRsZSkgewppZiAoJGNvbnN0cmFpbnQgPT09IG51bGwgfHwgKCRsaW5rLT5nZXRDb25zdHJhaW50KCktPm1hdGNoZXMoJGNvbnN0cmFpbnQpID09PSAhJGludmVydCkpIHsKCmlmIChpbl9hcnJheSgkbGluay0+Z2V0U291cmNlKCksICRwYWNrYWdlc0luVHJlZSkpIHsKJHJlc3VsdHNbXSA9IGFycmF5KCRwYWNrYWdlLCAkbGluaywgZmFsc2UpOwpjb250aW51ZTsKfQokcGFja2FnZXNJblRyZWVbXSA9ICRsaW5rLT5nZXRTb3VyY2UoKTsKJGRlcGVuZGVudHMgPSAkcmVjdXJzZSA/ICR0aGlzLT5nZXREZXBlbmRlbnRzKCRsaW5rLT5nZXRTb3VyY2UoKSwgbnVsbCwgZmFsc2UsIHRydWUsICRwYWNrYWdlc0luVHJlZSkgOiBhcnJheSgpOwokcmVzdWx0c1tdID0gYXJyYXkoJHBhY2thZ2UsICRsaW5rLCAkZGVwZW5kZW50cyk7Cn0KfQp9Cn0KCgppZiAoJGludmVydCAmJiBpbl9hcnJheSgkcGFja2FnZS0+Z2V0TmFtZSgpLCAkbmVlZGxlcykpIHsKZm9yZWFjaCAoJHBhY2thZ2UtPmdldENvbmZsaWN0cygpIGFzICRsaW5rKSB7CmZvcmVhY2ggKCR0aGlzLT5maW5kUGFja2FnZXMoJGxpbmstPmdldFRhcmdldCgpKSBhcyAkcGtnKSB7CiR2ZXJzaW9uID0gbmV3IENvbnN0cmFpbnQoJz0nLCAkcGtnLT5nZXRWZXJzaW9uKCkpOwppZiAoJGxpbmstPmdldENvbnN0cmFpbnQoKS0+bWF0Y2hlcygkdmVyc2lvbikgPT09ICRpbnZlcnQpIHsKJHJlc3VsdHNbXSA9IGFycmF5KCRwYWNrYWdlLCAkbGluaywgZmFsc2UpOwp9Cn0KfQp9CgoKZm9yZWFjaCAoJHBhY2thZ2UtPmdldENvbmZsaWN0cygpIGFzICRsaW5rKSB7CmlmIChpbl9hcnJheSgkbGluay0+Z2V0VGFyZ2V0KCksICRuZWVkbGVzKSkgewpmb3JlYWNoICgkdGhpcy0+ZmluZFBhY2thZ2VzKCRsaW5rLT5nZXRUYXJnZXQoKSkgYXMgJHBrZykgewokdmVyc2lvbiA9IG5ldyBDb25zdHJhaW50KCc9JywgJHBrZy0+Z2V0VmVyc2lvbigpKTsKaWYgKCRsaW5rLT5nZXRDb25zdHJhaW50KCktPm1hdGNoZXMoJHZlcnNpb24pID09PSAkaW52ZXJ0KSB7CiRyZXN1bHRzW10gPSBhcnJheSgkcGFja2FnZSwgJGxpbmssIGZhbHNlKTsKfQp9Cn0KfQoKCmlmICgkaW52ZXJ0ICYmICRjb25zdHJhaW50ICYmIGluX2FycmF5KCRwYWNrYWdlLT5nZXROYW1lKCksICRuZWVkbGVzKSAmJiAkY29uc3RyYWludC0+bWF0Y2hlcyhuZXcgQ29uc3RyYWludCgnPScsICRwYWNrYWdlLT5nZXRWZXJzaW9uKCkpKSkgewpmb3JlYWNoICgkcGFja2FnZS0+Z2V0UmVxdWlyZXMoKSBhcyAkbGluaykgewppZiAoUGxhdGZvcm1SZXBvc2l0b3J5Ojppc1BsYXRmb3JtUGFja2FnZSgkbGluay0+Z2V0VGFyZ2V0KCkpKSB7CmlmICgkdGhpcy0+ZmluZFBhY2thZ2UoJGxpbmstPmdldFRhcmdldCgpLCAkbGluay0+Z2V0Q29uc3RyYWludCgpKSkgewpjb250aW51ZTsKfQoKJHBsYXRmb3JtUGtnID0gJHRoaXMtPmZpbmRQYWNrYWdlKCRsaW5rLT5nZXRUYXJnZXQoKSwgJyonKTsKJGRlc2NyaXB0aW9uID0gJHBsYXRmb3JtUGtnID8gJ2J1dCAnLiRwbGF0Zm9ybVBrZy0+Z2V0UHJldHR5VmVyc2lvbigpLicgaXMgaW5zdGFsbGVkJyA6ICdidXQgaXQgaXMgbWlzc2luZyc7CiRyZXN1bHRzW10gPSBhcnJheSgkcGFja2FnZSwgbmV3IExpbmsoJHBhY2thZ2UtPmdldE5hbWUoKSwgJGxpbmstPmdldFRhcmdldCgpLCBuZXcgTWF0Y2hBbGxDb25zdHJhaW50LCBMaW5rOjpUWVBFX1JFUVVJUkUsICRsaW5rLT5nZXRQcmV0dHlDb25zdHJhaW50KCkuJyAnLiRkZXNjcmlwdGlvbiksIGZhbHNlKTsKCmNvbnRpbnVlOwp9Cgpmb3JlYWNoICgkdGhpcy0+Z2V0UGFja2FnZXMoKSBhcyAkcGtnKSB7CmlmICghaW5fYXJyYXkoJGxpbmstPmdldFRhcmdldCgpLCAkcGtnLT5nZXROYW1lcygpKSkgewpjb250aW51ZTsKfQoKJHZlcnNpb24gPSBuZXcgQ29uc3RyYWludCgnPScsICRwa2ctPmdldFZlcnNpb24oKSk7CgppZiAoJGxpbmstPmdldFRhcmdldCgpICE9PSAkcGtnLT5nZXROYW1lKCkpIHsKZm9yZWFjaCAoYXJyYXlfbWVyZ2UoJHBrZy0+Z2V0UmVwbGFjZXMoKSwgJHBrZy0+Z2V0UHJvdmlkZXMoKSkgYXMgJHByb3YpIHsKaWYgKCRsaW5rLT5nZXRUYXJnZXQoKSA9PT0gJHByb3YtPmdldFRhcmdldCgpKSB7CiR2ZXJzaW9uID0gJHByb3YtPmdldENvbnN0cmFpbnQoKTsKYnJlYWs7Cn0KfQp9CgppZiAoISRsaW5rLT5nZXRDb25zdHJhaW50KCktPm1hdGNoZXMoJHZlcnNpb24pKSB7CgoKaWYgKCRyb290UGFja2FnZSkgewpmb3JlYWNoIChhcnJheV9tZXJnZSgkcm9vdFBhY2thZ2UtPmdldFJlcXVpcmVzKCksICRyb290UGFja2FnZS0+Z2V0RGV2UmVxdWlyZXMoKSkgYXMgJHJvb3RSZXEpIHsKaWYgKGluX2FycmF5KCRyb290UmVxLT5nZXRUYXJnZXQoKSwgJHBrZy0+Z2V0TmFtZXMoKSkgJiYgISRyb290UmVxLT5nZXRDb25zdHJhaW50KCktPm1hdGNoZXMoJGxpbmstPmdldENvbnN0cmFpbnQoKSkpIHsKJHJlc3VsdHNbXSA9IGFycmF5KCRwYWNrYWdlLCAkbGluaywgZmFsc2UpOwokcmVzdWx0c1tdID0gYXJyYXkoJHJvb3RQYWNrYWdlLCAkcm9vdFJlcSwgZmFsc2UpOwpjb250aW51ZSAzOwp9Cn0KCiRyZXN1bHRzW10gPSBhcnJheSgkcGFja2FnZSwgJGxpbmssIGZhbHNlKTsKJHJlc3VsdHNbXSA9IGFycmF5KCRyb290UGFja2FnZSwgbmV3IExpbmsoJHJvb3RQYWNrYWdlLT5nZXROYW1lKCksICRsaW5rLT5nZXRUYXJnZXQoKSwgbmV3IE1hdGNoQWxsQ29uc3RyYWludCwgJ2RvZXMgbm90IHJlcXVpcmUnLCAnYnV0ICcgLiAkcGtnLT5nZXRQcmV0dHlWZXJzaW9uKCkgLiAnIGlzIGluc3RhbGxlZCcpLCBmYWxzZSk7Cn0gZWxzZSB7CgokcmVzdWx0c1tdID0gYXJyYXkoJHBhY2thZ2UsICRsaW5rLCBmYWxzZSk7Cn0KfQoKY29udGludWUgMjsKfQp9Cn0KfQoKa3NvcnQoJHJlc3VsdHMpOwoKcmV0dXJuICRyZXN1bHRzOwp9CgpwdWJsaWMgZnVuY3Rpb24gZ2V0UmVwb05hbWUoKQp7CnJldHVybiAnaW5zdGFsbGVkIHJlcG8gKCcuaW1wbG9kZSgnLCAnLCBhcnJheV9tYXAoZnVuY3Rpb24gKCRyZXBvKSB7CnJldHVybiAkcmVwby0+Z2V0UmVwb05hbWUoKTsKfSwgJHRoaXMtPmdldFJlcG9zaXRvcmllcygpKSkuJyknOwp9CgoKCgoKcHVibGljIGZ1bmN0aW9uIGFkZFJlcG9zaXRvcnkoUmVwb3NpdG9yeUludGVyZmFjZSAkcmVwb3NpdG9yeSkKewppZiAoCiRyZXBvc2l0b3J5IGluc3RhbmNlb2YgTG9ja0FycmF5UmVwb3NpdG9yeQp8fCAkcmVwb3NpdG9yeSBpbnN0YW5jZW9mIEluc3RhbGxlZFJlcG9zaXRvcnlJbnRlcmZhY2UKfHwgJHJlcG9zaXRvcnkgaW5zdGFuY2VvZiBSb290UGFja2FnZVJlcG9zaXRvcnkKfHwgJHJlcG9zaXRvcnkgaW5zdGFuY2VvZiBQbGF0Zm9ybVJlcG9zaXRvcnkKKSB7CnJldHVybiBwYXJlbnQ6OmFkZFJlcG9zaXRvcnkoJHJlcG9zaXRvcnkpOwp9Cgp0aHJvdyBuZXcgXExvZ2ljRXhjZXB0aW9uKCdBbiBJbnN0YWxsZWRSZXBvc2l0b3J5IGNhbiBub3QgY29udGFpbiBhIHJlcG9zaXRvcnkgb2YgdHlwZSAnLmdldF9jbGFzcygkcmVwb3NpdG9yeSkuJyAoJy4kcmVwb3NpdG9yeS0+Z2V0UmVwb05hbWUoKS4nKScpOwp9Cn0KPD9waHAKCgoKCgoKCgoKCgpuYW1lc3BhY2UgQ29tcG9zZXJcUmVwb3NpdG9yeTsKCgoKCgoKCgppbnRlcmZhY2UgSW5zdGFsbGVkUmVwb3NpdG9yeUludGVyZmFjZSBleHRlbmRzIFdyaXRhYmxlUmVwb3NpdG9yeUludGVyZmFjZQp7CgoKCnB1YmxpYyBmdW5jdGlvbiBpc0ZyZXNoKCk7Cn0KPD9waHAKCgoKCgoKCgoKCgpuYW1lc3BhY2UgQ29tcG9zZXJcUmVwb3NpdG9yeTsKCgoKCgoKY2xhc3MgSW52YWxpZFJlcG9zaXRvcnlFeGNlcHRpb24gZXh0ZW5kcyBcRXhjZXB0aW9uCnsKfQo8P3BocAoKCgoKCgoKCgoKCm5hbWVzcGFjZSBDb21wb3NlclxSZXBvc2l0b3J5OwoKCgoKCgoKCmNsYXNzIExvY2tBcnJheVJlcG9zaXRvcnkgZXh0ZW5kcyBBcnJheVJlcG9zaXRvcnkKewpwdWJsaWMgZnVuY3Rpb24gZ2V0UmVwb05hbWUoKQp7CnJldHVybiAnbG9jayByZXBvJzsKfQp9Cjw/cGhwCgoKCgoKCgoKCgoKbmFtZXNwYWNlIENvbXBvc2VyXFJlcG9zaXRvcnk7Cgp1c2UgQ29tcG9zZXJcUGFja2FnZVxMb2FkZXJcQXJyYXlMb2FkZXI7CnVzZSBDb21wb3NlclxQYWNrYWdlXExvYWRlclxWYWxpZGF0aW5nQXJyYXlMb2FkZXI7CgoKCgoKCmNsYXNzIFBhY2thZ2VSZXBvc2l0b3J5IGV4dGVuZHMgQXJyYXlSZXBvc2l0b3J5CnsKcHJpdmF0ZSAkY29uZmlnOwoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gX19jb25zdHJ1Y3QoYXJyYXkgJGNvbmZpZykKewpwYXJlbnQ6Ol9fY29uc3RydWN0KCk7CiR0aGlzLT5jb25maWcgPSAkY29uZmlnWydwYWNrYWdlJ107CgoKaWYgKCFpc19udW1lcmljKGtleSgkdGhpcy0+Y29uZmlnKSkpIHsKJHRoaXMtPmNvbmZpZyA9IGFycmF5KCR0aGlzLT5jb25maWcpOwp9Cn0KCgoKCnByb3RlY3RlZCBmdW5jdGlvbiBpbml0aWFsaXplKCkKewpwYXJlbnQ6OmluaXRpYWxpemUoKTsKCiRsb2FkZXIgPSBuZXcgVmFsaWRhdGluZ0FycmF5TG9hZGVyKG5ldyBBcnJheUxvYWRlcihudWxsLCB0cnVlKSwgZmFsc2UpOwpmb3JlYWNoICgkdGhpcy0+Y29uZmlnIGFzICRwYWNrYWdlKSB7CnRyeSB7CiRwYWNrYWdlID0gJGxvYWRlci0+bG9hZCgkcGFja2FnZSk7Cn0gY2F0Y2ggKFxFeGNlcHRpb24gJGUpIHsKdGhyb3cgbmV3IEludmFsaWRSZXBvc2l0b3J5RXhjZXB0aW9uKCdBIHJlcG9zaXRvcnkgb2YgdHlwZSAicGFja2FnZSIgY29udGFpbnMgYW4gaW52YWxpZCBwYWNrYWdlIGRlZmluaXRpb246ICcuJGUtPmdldE1lc3NhZ2UoKS4iXG5cbkludmFsaWQgcGFja2FnZSBkZWZpbml0aW9uOlxuIi5qc29uX2VuY29kZSgkcGFja2FnZSkpOwp9CgokdGhpcy0+YWRkUGFja2FnZSgkcGFja2FnZSk7Cn0KfQoKcHVibGljIGZ1bmN0aW9uIGdldFJlcG9OYW1lKCkKewpyZXR1cm4gcHJlZ19yZXBsYWNlKCd7XmFycmF5IH0nLCAncGFja2FnZSAnLCBwYXJlbnQ6OmdldFJlcG9OYW1lKCkpOwp9Cn0KPD9waHAKCgoKCgoKCgoKCgpuYW1lc3BhY2UgQ29tcG9zZXJcUmVwb3NpdG9yeTsKCnVzZSBDb21wb3NlclxDb25maWc7CnVzZSBDb21wb3NlclxJT1xJT0ludGVyZmFjZTsKdXNlIENvbXBvc2VyXEpzb25cSnNvbkZpbGU7CnVzZSBDb21wb3NlclxQYWNrYWdlXExvYWRlclxBcnJheUxvYWRlcjsKdXNlIENvbXBvc2VyXFBhY2thZ2VcVmVyc2lvblxWZXJzaW9uR3Vlc3NlcjsKdXNlIENvbXBvc2VyXFBhY2thZ2VcVmVyc2lvblxWZXJzaW9uUGFyc2VyOwp1c2UgQ29tcG9zZXJcVXRpbFxQbGF0Zm9ybTsKdXNlIENvbXBvc2VyXFV0aWxcUHJvY2Vzc0V4ZWN1dG9yOwp1c2UgQ29tcG9zZXJcVXRpbFxGaWxlc3lzdGVtOwp1c2UgQ29tcG9zZXJcVXRpbFxVcmw7CnVzZSBDb21wb3NlclxVdGlsXEdpdCBhcyBHaXRVdGlsOwoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgpjbGFzcyBQYXRoUmVwb3NpdG9yeSBleHRlbmRzIEFycmF5UmVwb3NpdG9yeSBpbXBsZW1lbnRzIENvbmZpZ3VyYWJsZVJlcG9zaXRvcnlJbnRlcmZhY2UKewoKCgpwcml2YXRlICRsb2FkZXI7CgoKCgpwcml2YXRlICR2ZXJzaW9uR3Vlc3NlcjsKCgoKCnByaXZhdGUgJHVybDsKCgoKCnByaXZhdGUgJHJlcG9Db25maWc7CgoKCgpwcml2YXRlICRwcm9jZXNzOwoKCgoKcHJpdmF0ZSAkb3B0aW9uczsKCgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gX19jb25zdHJ1Y3QoYXJyYXkgJHJlcG9Db25maWcsIElPSW50ZXJmYWNlICRpbywgQ29uZmlnICRjb25maWcpCnsKaWYgKCFpc3NldCgkcmVwb0NvbmZpZ1sndXJsJ10pKSB7CnRocm93IG5ldyBcUnVudGltZUV4Y2VwdGlvbignWW91IG11c3Qgc3BlY2lmeSB0aGUgYHVybGAgY29uZmlndXJhdGlvbiBmb3IgdGhlIHBhdGggcmVwb3NpdG9yeScpOwp9CgokdGhpcy0+bG9hZGVyID0gbmV3IEFycmF5TG9hZGVyKG51bGwsIHRydWUpOwokdGhpcy0+dXJsID0gUGxhdGZvcm06OmV4cGFuZFBhdGgoJHJlcG9Db25maWdbJ3VybCddKTsKJHRoaXMtPnByb2Nlc3MgPSBuZXcgUHJvY2Vzc0V4ZWN1dG9yKCRpbyk7CiR0aGlzLT52ZXJzaW9uR3Vlc3NlciA9IG5ldyBWZXJzaW9uR3Vlc3NlcigkY29uZmlnLCAkdGhpcy0+cHJvY2VzcywgbmV3IFZlcnNpb25QYXJzZXIoKSk7CiR0aGlzLT5yZXBvQ29uZmlnID0gJHJlcG9Db25maWc7CiR0aGlzLT5vcHRpb25zID0gaXNzZXQoJHJlcG9Db25maWdbJ29wdGlvbnMnXSkgPyAkcmVwb0NvbmZpZ1snb3B0aW9ucyddIDogYXJyYXkoKTsKaWYgKCFpc3NldCgkdGhpcy0+b3B0aW9uc1sncmVsYXRpdmUnXSkpIHsKJGZpbGVzeXN0ZW0gPSBuZXcgRmlsZXN5c3RlbSgpOwokdGhpcy0+b3B0aW9uc1sncmVsYXRpdmUnXSA9ICEkZmlsZXN5c3RlbS0+aXNBYnNvbHV0ZVBhdGgoJHRoaXMtPnVybCk7Cn0KCnBhcmVudDo6X19jb25zdHJ1Y3QoKTsKfQoKcHVibGljIGZ1bmN0aW9uIGdldFJlcG9OYW1lKCkKewpyZXR1cm4gJ3BhdGggcmVwbyAoJy5Vcmw6OnNhbml0aXplKCR0aGlzLT5yZXBvQ29uZmlnWyd1cmwnXSkuJyknOwp9CgpwdWJsaWMgZnVuY3Rpb24gZ2V0UmVwb0NvbmZpZygpCnsKcmV0dXJuICR0aGlzLT5yZXBvQ29uZmlnOwp9CgoKCgoKCnByb3RlY3RlZCBmdW5jdGlvbiBpbml0aWFsaXplKCkKewpwYXJlbnQ6OmluaXRpYWxpemUoKTsKCiR1cmxNYXRjaGVzID0gJHRoaXMtPmdldFVybE1hdGNoZXMoKTsKCmlmIChlbXB0eSgkdXJsTWF0Y2hlcykpIHsKaWYgKHByZWdfbWF0Y2goJ3tbKnt9XX0nLCAkdGhpcy0+dXJsKSkgewokdXJsID0gJHRoaXMtPnVybDsKd2hpbGUgKHByZWdfbWF0Y2goJ3tbKnt9XX0nLCAkdXJsKSkgewokdXJsID0gZGlybmFtZSgkdXJsKTsKfQoKaWYgKGlzX2RpcigkdXJsKSkgewpyZXR1cm47Cn0KfQoKdGhyb3cgbmV3IFxSdW50aW1lRXhjZXB0aW9uKCdUaGUgYHVybGAgc3VwcGxpZWQgZm9yIHRoZSBwYXRoICgnIC4gJHRoaXMtPnVybCAuICcpIHJlcG9zaXRvcnkgZG9lcyBub3QgZXhpc3QnKTsKfQoKZm9yZWFjaCAoJHVybE1hdGNoZXMgYXMgJHVybCkgewokcGF0aCA9IHJlYWxwYXRoKCR1cmwpIC4gRElSRUNUT1JZX1NFUEFSQVRPUjsKJGNvbXBvc2VyRmlsZVBhdGggPSAkcGF0aC4nY29tcG9zZXIuanNvbic7CgppZiAoIWZpbGVfZXhpc3RzKCRjb21wb3NlckZpbGVQYXRoKSkgewpjb250aW51ZTsKfQoKJGpzb24gPSBmaWxlX2dldF9jb250ZW50cygkY29tcG9zZXJGaWxlUGF0aCk7CiRwYWNrYWdlID0gSnNvbkZpbGU6OnBhcnNlSnNvbigkanNvbiwgJGNvbXBvc2VyRmlsZVBhdGgpOwokcGFja2FnZVsnZGlzdCddID0gYXJyYXkoCid0eXBlJyA9PiAncGF0aCcsCid1cmwnID0+ICR1cmwsCidyZWZlcmVuY2UnID0+IHNoYTEoJGpzb24gLiBzZXJpYWxpemUoJHRoaXMtPm9wdGlvbnMpKSwKKTsKJHBhY2thZ2VbJ3RyYW5zcG9ydC1vcHRpb25zJ10gPSAkdGhpcy0+b3B0aW9uczsKdW5zZXQoJHBhY2thZ2VbJ3RyYW5zcG9ydC1vcHRpb25zJ11bJ3ZlcnNpb25zJ10pOwoKCmlmIChpc3NldCgkcGFja2FnZVsnbmFtZSddLCAkdGhpcy0+b3B0aW9uc1sndmVyc2lvbnMnXVskcGFja2FnZVsnbmFtZSddXSkpIHsKJHBhY2thZ2VbJ3ZlcnNpb24nXSA9ICR0aGlzLT5vcHRpb25zWyd2ZXJzaW9ucyddWyRwYWNrYWdlWyduYW1lJ11dOwp9CgoKaWYgKCFpc3NldCgkcGFja2FnZVsndmVyc2lvbiddKSAmJiAoJHJvb3RWZXJzaW9uID0gZ2V0ZW52KCdDT01QT1NFUl9ST09UX1ZFUlNJT04nKSkpIHsKaWYgKAowID09PSAkdGhpcy0+cHJvY2Vzcy0+ZXhlY3V0ZSgnZ2l0IHJldi1wYXJzZSBIRUFEJywgJHJlZjEsICRwYXRoKQomJiAwID09PSAkdGhpcy0+cHJvY2Vzcy0+ZXhlY3V0ZSgnZ2l0IHJldi1wYXJzZSBIRUFEJywgJHJlZjIpCiYmICRyZWYxID09PSAkcmVmMgopIHsKJHBhY2thZ2VbJ3ZlcnNpb24nXSA9ICRyb290VmVyc2lvbjsKfQp9Cgokb3V0cHV0ID0gJyc7CmlmIChpc19kaXIoJHBhdGggLiBESVJFQ1RPUllfU0VQQVJBVE9SIC4gJy5naXQnKSAmJiAwID09PSAkdGhpcy0+cHJvY2Vzcy0+ZXhlY3V0ZSgnZ2l0IGxvZyAtbjEgLS1wcmV0dHk9JUgnLkdpdFV0aWw6OmdldE5vU2hvd1NpZ25hdHVyZUZsYWcoJHRoaXMtPnByb2Nlc3MpLCAkb3V0cHV0LCAkcGF0aCkpIHsKJHBhY2thZ2VbJ2Rpc3QnXVsncmVmZXJlbmNlJ10gPSB0cmltKCRvdXRwdXQpOwp9CgppZiAoIWlzc2V0KCRwYWNrYWdlWyd2ZXJzaW9uJ10pKSB7CiR2ZXJzaW9uRGF0YSA9ICR0aGlzLT52ZXJzaW9uR3Vlc3Nlci0+Z3Vlc3NWZXJzaW9uKCRwYWNrYWdlLCAkcGF0aCk7CmlmIChpc19hcnJheSgkdmVyc2lvbkRhdGEpICYmICR2ZXJzaW9uRGF0YVsncHJldHR5X3ZlcnNpb24nXSkgewoKaWYgKCFlbXB0eSgkdmVyc2lvbkRhdGFbJ2ZlYXR1cmVfcHJldHR5X3ZlcnNpb24nXSkpIHsKJHBhY2thZ2VbJ3ZlcnNpb24nXSA9ICR2ZXJzaW9uRGF0YVsnZmVhdHVyZV9wcmV0dHlfdmVyc2lvbiddOwokdGhpcy0+YWRkUGFja2FnZSgkdGhpcy0+bG9hZGVyLT5sb2FkKCRwYWNrYWdlKSk7Cn0KCiRwYWNrYWdlWyd2ZXJzaW9uJ10gPSAkdmVyc2lvbkRhdGFbJ3ByZXR0eV92ZXJzaW9uJ107Cn0gZWxzZSB7CiRwYWNrYWdlWyd2ZXJzaW9uJ10gPSAnZGV2LW1hc3Rlcic7Cn0KfQoKJHBhY2thZ2UgPSAkdGhpcy0+bG9hZGVyLT5sb2FkKCRwYWNrYWdlKTsKJHRoaXMtPmFkZFBhY2thZ2UoJHBhY2thZ2UpOwp9Cn0KCgoKCgoKcHJpdmF0ZSBmdW5jdGlvbiBnZXRVcmxNYXRjaGVzKCkKewokZmxhZ3MgPSBHTE9CX01BUksgfCBHTE9CX09OTFlESVI7CgppZiAoZGVmaW5lZCgnR0xPQl9CUkFDRScpKSB7CiRmbGFncyB8PSBHTE9CX0JSQUNFOwp9IGVsc2VpZiAoc3RycG9zKCR0aGlzLT51cmwsICd7JykgIT09IGZhbHNlIHx8IHN0cnBvcygkdGhpcy0+dXJsLCAnfScpICE9PSBmYWxzZSkgewp0aHJvdyBuZXcgXFJ1bnRpbWVFeGNlcHRpb24oJ1RoZSBvcGVyYXRpbmcgc3lzdGVtIGRvZXMgbm90IHN1cHBvcnQgR0xPQl9CUkFDRSB3aGljaCBpcyByZXF1aXJlZCBmb3IgdGhlIHVybCAnLiAkdGhpcy0+dXJsKTsKfQoKCnJldHVybiBhcnJheV9tYXAoZnVuY3Rpb24gKCR2YWwpIHsKcmV0dXJuIHJ0cmltKHN0cl9yZXBsYWNlKERJUkVDVE9SWV9TRVBBUkFUT1IsICcvJywgJHZhbCksICcvJyk7Cn0sIGdsb2IoJHRoaXMtPnVybCwgJGZsYWdzKSk7Cn0KfQo8P3BocAoKCgoKCgoKCgoKCm5hbWVzcGFjZSBDb21wb3NlclxSZXBvc2l0b3J5OwoKCgoKCgoKCgoKCgpjbGFzcyBQZWFyUmVwb3NpdG9yeSBleHRlbmRzIEFycmF5UmVwb3NpdG9yeQp7CnB1YmxpYyBmdW5jdGlvbiBfX2NvbnN0cnVjdCgpCnsKdGhyb3cgbmV3IFxSdW50aW1lRXhjZXB0aW9uKCdUaGUgUEVBUiByZXBvc2l0b3J5IGhhcyBiZWVuIHJlbW92ZWQgZnJvbSBDb21wb3NlciAyLjAnKTsKfQp9Cjw/cGhwCgoKCgoKCgoKCgoKbmFtZXNwYWNlIENvbXBvc2VyXFJlcG9zaXRvcnk7Cgp1c2UgQ29tcG9zZXJcQ29tcG9zZXI7CnVzZSBDb21wb3NlclxQYWNrYWdlXENvbXBsZXRlUGFja2FnZTsKdXNlIENvbXBvc2VyXFBhY2thZ2VcQ29tcGxldGVQYWNrYWdlSW50ZXJmYWNlOwp1c2UgQ29tcG9zZXJcUGFja2FnZVxMaW5rOwp1c2UgQ29tcG9zZXJcUGFja2FnZVxQYWNrYWdlSW50ZXJmYWNlOwp1c2UgQ29tcG9zZXJcUGFja2FnZVxWZXJzaW9uXFZlcnNpb25QYXJzZXI7CnVzZSBDb21wb3NlclxQbGF0Zm9ybVxIaHZtRGV0ZWN0b3I7CnVzZSBDb21wb3NlclxQbGF0Zm9ybVxSdW50aW1lOwp1c2UgQ29tcG9zZXJcUGxhdGZvcm1cVmVyc2lvbjsKdXNlIENvbXBvc2VyXFBsdWdpblxQbHVnaW5JbnRlcmZhY2U7CnVzZSBDb21wb3NlclxTZW12ZXJcQ29uc3RyYWludFxDb25zdHJhaW50Owp1c2UgQ29tcG9zZXJcVXRpbFxTaWxlbmNlcjsKdXNlIENvbXBvc2VyXFhkZWJ1Z0hhbmRsZXJcWGRlYnVnSGFuZGxlcjsKCgoKCmNsYXNzIFBsYXRmb3JtUmVwb3NpdG9yeSBleHRlbmRzIEFycmF5UmVwb3NpdG9yeQp7CmNvbnN0IFBMQVRGT1JNX1BBQ0tBR0VfUkVHRVggPSAne14oPzpwaHAoPzotNjRiaXR8LWlwdjZ8LXp0c3wtZGVidWcpP3xoaHZtfCg/OmV4dHxsaWIpLVthLXowLTldKD86W18uLV0/W2EtejAtOV0rKSp8Y29tcG9zZXItKD86cGx1Z2lufHJ1bnRpbWUpLWFwaSkkfWlEJzsKCgoKCnByaXZhdGUgc3RhdGljICRsYXN0U2VlblBsYXRmb3JtUGhwID0gbnVsbDsKCgoKCnByaXZhdGUgJHZlcnNpb25QYXJzZXI7CgoKCgoKCgoKcHJpdmF0ZSAkb3ZlcnJpZGVzID0gYXJyYXkoKTsKCnByaXZhdGUgJHJ1bnRpbWU7CnByaXZhdGUgJGhodm1EZXRlY3RvcjsKCnB1YmxpYyBmdW5jdGlvbiBfX2NvbnN0cnVjdChhcnJheSAkcGFja2FnZXMgPSBhcnJheSgpLCBhcnJheSAkb3ZlcnJpZGVzID0gYXJyYXkoKSwgUnVudGltZSAkcnVudGltZSA9IG51bGwsIEhodm1EZXRlY3RvciAkaGh2bURldGVjdG9yID0gbnVsbCkKewokdGhpcy0+cnVudGltZSA9ICRydW50aW1lID86IG5ldyBSdW50aW1lKCk7CiR0aGlzLT5oaHZtRGV0ZWN0b3IgPSAkaGh2bURldGVjdG9yID86IG5ldyBIaHZtRGV0ZWN0b3IoKTsKZm9yZWFjaCAoJG92ZXJyaWRlcyBhcyAkbmFtZSA9PiAkdmVyc2lvbikgewokdGhpcy0+b3ZlcnJpZGVzW3N0cnRvbG93ZXIoJG5hbWUpXSA9IGFycmF5KCduYW1lJyA9PiAkbmFtZSwgJ3ZlcnNpb24nID0+ICR2ZXJzaW9uKTsKfQpwYXJlbnQ6Ol9fY29uc3RydWN0KCRwYWNrYWdlcyk7Cn0KCnB1YmxpYyBmdW5jdGlvbiBnZXRSZXBvTmFtZSgpCnsKcmV0dXJuICdwbGF0Zm9ybSByZXBvJzsKfQoKcHJvdGVjdGVkIGZ1bmN0aW9uIGluaXRpYWxpemUoKQp7CnBhcmVudDo6aW5pdGlhbGl6ZSgpOwoKJHRoaXMtPnZlcnNpb25QYXJzZXIgPSBuZXcgVmVyc2lvblBhcnNlcigpOwoKCgpmb3JlYWNoICgkdGhpcy0+b3ZlcnJpZGVzIGFzICRvdmVycmlkZSkgewoKaWYgKCFzZWxmOjppc1BsYXRmb3JtUGFja2FnZSgkb3ZlcnJpZGVbJ25hbWUnXSkpIHsKdGhyb3cgbmV3IFxJbnZhbGlkQXJndW1lbnRFeGNlcHRpb24oJ0ludmFsaWQgcGxhdGZvcm0gcGFja2FnZSBuYW1lIGluIGNvbmZpZy5wbGF0Zm9ybTogJy4kb3ZlcnJpZGVbJ25hbWUnXSk7Cn0KCiR0aGlzLT5hZGRPdmVycmlkZGVuUGFja2FnZSgkb3ZlcnJpZGUpOwp9CgokcHJldHR5VmVyc2lvbiA9IFBsdWdpbkludGVyZmFjZTo6UExVR0lOX0FQSV9WRVJTSU9OOwokdmVyc2lvbiA9ICR0aGlzLT52ZXJzaW9uUGFyc2VyLT5ub3JtYWxpemUoJHByZXR0eVZlcnNpb24pOwokY29tcG9zZXJQbHVnaW5BcGkgPSBuZXcgQ29tcGxldGVQYWNrYWdlKCdjb21wb3Nlci1wbHVnaW4tYXBpJywgJHZlcnNpb24sICRwcmV0dHlWZXJzaW9uKTsKJGNvbXBvc2VyUGx1Z2luQXBpLT5zZXREZXNjcmlwdGlvbignVGhlIENvbXBvc2VyIFBsdWdpbiBBUEknKTsKJHRoaXMtPmFkZFBhY2thZ2UoJGNvbXBvc2VyUGx1Z2luQXBpKTsKCiRwcmV0dHlWZXJzaW9uID0gQ29tcG9zZXI6OlJVTlRJTUVfQVBJX1ZFUlNJT047CiR2ZXJzaW9uID0gJHRoaXMtPnZlcnNpb25QYXJzZXItPm5vcm1hbGl6ZSgkcHJldHR5VmVyc2lvbik7CiRjb21wb3NlclJ1bnRpbWVBcGkgPSBuZXcgQ29tcGxldGVQYWNrYWdlKCdjb21wb3Nlci1ydW50aW1lLWFwaScsICR2ZXJzaW9uLCAkcHJldHR5VmVyc2lvbik7CiRjb21wb3NlclJ1bnRpbWVBcGktPnNldERlc2NyaXB0aW9uKCdUaGUgQ29tcG9zZXIgUnVudGltZSBBUEknKTsKJHRoaXMtPmFkZFBhY2thZ2UoJGNvbXBvc2VyUnVudGltZUFwaSk7Cgp0cnkgewokcHJldHR5VmVyc2lvbiA9ICR0aGlzLT5ydW50aW1lLT5nZXRDb25zdGFudCgnUEhQX1ZFUlNJT04nKTsKJHZlcnNpb24gPSAkdGhpcy0+dmVyc2lvblBhcnNlci0+bm9ybWFsaXplKCRwcmV0dHlWZXJzaW9uKTsKfSBjYXRjaCAoXFVuZXhwZWN0ZWRWYWx1ZUV4Y2VwdGlvbiAkZSkgewokcHJldHR5VmVyc2lvbiA9IHByZWdfcmVwbGFjZSgnI14oW15+Ky1dKykuKiQjJywgJyQxJywgJHRoaXMtPnJ1bnRpbWUtPmdldENvbnN0YW50KCdQSFBfVkVSU0lPTicpKTsKJHZlcnNpb24gPSAkdGhpcy0+dmVyc2lvblBhcnNlci0+bm9ybWFsaXplKCRwcmV0dHlWZXJzaW9uKTsKfQoKJHBocCA9IG5ldyBDb21wbGV0ZVBhY2thZ2UoJ3BocCcsICR2ZXJzaW9uLCAkcHJldHR5VmVyc2lvbik7CiRwaHAtPnNldERlc2NyaXB0aW9uKCdUaGUgUEhQIGludGVycHJldGVyJyk7CiR0aGlzLT5hZGRQYWNrYWdlKCRwaHApOwoKaWYgKCR0aGlzLT5ydW50aW1lLT5nZXRDb25zdGFudCgnUEhQX0RFQlVHJykpIHsKJHBocGRlYnVnID0gbmV3IENvbXBsZXRlUGFja2FnZSgncGhwLWRlYnVnJywgJHZlcnNpb24sICRwcmV0dHlWZXJzaW9uKTsKJHBocGRlYnVnLT5zZXREZXNjcmlwdGlvbignVGhlIFBIUCBpbnRlcnByZXRlciwgd2l0aCBkZWJ1Z2dpbmcgc3ltYm9scycpOwokdGhpcy0+YWRkUGFja2FnZSgkcGhwZGVidWcpOwp9CgppZiAoJHRoaXMtPnJ1bnRpbWUtPmhhc0NvbnN0YW50KCdQSFBfWlRTJykgJiYgJHRoaXMtPnJ1bnRpbWUtPmdldENvbnN0YW50KCdQSFBfWlRTJykpIHsKJHBocHp0cyA9IG5ldyBDb21wbGV0ZVBhY2thZ2UoJ3BocC16dHMnLCAkdmVyc2lvbiwgJHByZXR0eVZlcnNpb24pOwokcGhwenRzLT5zZXREZXNjcmlwdGlvbignVGhlIFBIUCBpbnRlcnByZXRlciwgd2l0aCBaZW5kIFRocmVhZCBTYWZldHknKTsKJHRoaXMtPmFkZFBhY2thZ2UoJHBocHp0cyk7Cn0KCmlmICgkdGhpcy0+cnVudGltZS0+Z2V0Q29uc3RhbnQoJ1BIUF9JTlRfU0laRScpID09PSA4KSB7CiRwaHA2NCA9IG5ldyBDb21wbGV0ZVBhY2thZ2UoJ3BocC02NGJpdCcsICR2ZXJzaW9uLCAkcHJldHR5VmVyc2lvbik7CiRwaHA2NC0+c2V0RGVzY3JpcHRpb24oJ1RoZSBQSFAgaW50ZXJwcmV0ZXIsIDY0Yml0Jyk7CiR0aGlzLT5hZGRQYWNrYWdlKCRwaHA2NCk7Cn0KCgoKaWYgKCR0aGlzLT5ydW50aW1lLT5oYXNDb25zdGFudCgnQUZfSU5FVDYnKSB8fCBTaWxlbmNlcjo6Y2FsbChhcnJheSgkdGhpcy0+cnVudGltZSwgJ2ludm9rZScpLCAnaW5ldF9wdG9uJywgYXJyYXkoJzo6JykpICE9PSBmYWxzZSkgewokcGhwSXB2NiA9IG5ldyBDb21wbGV0ZVBhY2thZ2UoJ3BocC1pcHY2JywgJHZlcnNpb24sICRwcmV0dHlWZXJzaW9uKTsKJHBocElwdjYtPnNldERlc2NyaXB0aW9uKCdUaGUgUEhQIGludGVycHJldGVyLCB3aXRoIElQdjYgc3VwcG9ydCcpOwokdGhpcy0+YWRkUGFja2FnZSgkcGhwSXB2Nik7Cn0KCiRsb2FkZWRFeHRlbnNpb25zID0gJHRoaXMtPnJ1bnRpbWUtPmdldEV4dGVuc2lvbnMoKTsKCgpmb3JlYWNoICgkbG9hZGVkRXh0ZW5zaW9ucyBhcyAkbmFtZSkgewppZiAoaW5fYXJyYXkoJG5hbWUsIGFycmF5KCdzdGFuZGFyZCcsICdDb3JlJykpKSB7CmNvbnRpbnVlOwp9CgokdGhpcy0+YWRkRXh0ZW5zaW9uKCRuYW1lLCAkdGhpcy0+cnVudGltZS0+Z2V0RXh0ZW5zaW9uVmVyc2lvbigkbmFtZSkpOwp9CgoKaWYgKCFpbl9hcnJheSgneGRlYnVnJywgJGxvYWRlZEV4dGVuc2lvbnMsIHRydWUpICYmICgkcHJldHR5VmVyc2lvbiA9IFhkZWJ1Z0hhbmRsZXI6OmdldFNraXBwZWRWZXJzaW9uKCkpKSB7CiR0aGlzLT5hZGRFeHRlbnNpb24oJ3hkZWJ1ZycsICRwcmV0dHlWZXJzaW9uKTsKfQoKCgoKZm9yZWFjaCAoJGxvYWRlZEV4dGVuc2lvbnMgYXMgJG5hbWUpIHsKc3dpdGNoICgkbmFtZSkgewpjYXNlICdhbXFwJzoKJGluZm8gPSAkdGhpcy0+cnVudGltZS0+Z2V0RXh0ZW5zaW9uSW5mbygkbmFtZSk7CgoKaWYgKHByZWdfbWF0Y2goJy9ebGlicmFiYml0bXEgdmVyc2lvbiA9PiAoPzx2ZXJzaW9uPi4rKSQvaW0nLCAkaW5mbywgJGxpYnJhYmJpdG1xTWF0Y2hlcykpIHsKJHRoaXMtPmFkZExpYnJhcnkoJG5hbWUuJy1saWJyYWJiaXRtcScsICRsaWJyYWJiaXRtcU1hdGNoZXNbJ3ZlcnNpb24nXSwgJ0FNUVAgbGlicmFiYml0bXEgdmVyc2lvbicpOwp9CgoKaWYgKHByZWdfbWF0Y2goJy9eQU1RUCBwcm90b2NvbCB2ZXJzaW9uID0+ICg/PHZlcnNpb24+LispJC9pbScsICRpbmZvLCAkcHJvdG9jb2xNYXRjaGVzKSkgewokdGhpcy0+YWRkTGlicmFyeSgkbmFtZS4nLXByb3RvY29sJywgc3RyX3JlcGxhY2UoJy0nLCAnLicsICRwcm90b2NvbE1hdGNoZXNbJ3ZlcnNpb24nXSksICdBTVFQIHByb3RvY29sIHZlcnNpb24nKTsKfQpicmVhazsKCmNhc2UgJ2J6Mic6CiRpbmZvID0gJHRoaXMtPnJ1bnRpbWUtPmdldEV4dGVuc2lvbkluZm8oJG5hbWUpOwoKCmlmIChwcmVnX21hdGNoKCcvXkJaaXAyIFZlcnNpb24gPT4gKD88dmVyc2lvbj4uKiksL2ltJywgJGluZm8sICRtYXRjaGVzKSkgewokdGhpcy0+YWRkTGlicmFyeSgkbmFtZSwgJG1hdGNoZXNbJ3ZlcnNpb24nXSk7Cn0KYnJlYWs7CgpjYXNlICdjdXJsJzoKJGN1cmxWZXJzaW9uID0gJHRoaXMtPnJ1bnRpbWUtPmludm9rZSgnY3VybF92ZXJzaW9uJyk7CiR0aGlzLT5hZGRMaWJyYXJ5KCRuYW1lLCAkY3VybFZlcnNpb25bJ3ZlcnNpb24nXSk7CgokaW5mbyA9ICR0aGlzLT5ydW50aW1lLT5nZXRFeHRlbnNpb25JbmZvKCRuYW1lKTsKCgppZiAocHJlZ19tYXRjaCgne15TU0wgVmVyc2lvbiA9PiAoPzxsaWJyYXJ5PlteL10rKS8oPzx2ZXJzaW9uPi4rKSR9aW0nLCAkaW5mbywgJHNzbE1hdGNoZXMpKSB7CiRsaWJyYXJ5ID0gc3RydG9sb3dlcigkc3NsTWF0Y2hlc1snbGlicmFyeSddKTsKaWYgKCRsaWJyYXJ5ID09PSAnb3BlbnNzbCcpIHsKJHBhcnNlZFZlcnNpb24gPSBWZXJzaW9uOjpwYXJzZU9wZW5zc2woJHNzbE1hdGNoZXNbJ3ZlcnNpb24nXSwgJGlzRmlwcyk7CiR0aGlzLT5hZGRMaWJyYXJ5KCRuYW1lLictb3BlbnNzbCcuKCRpc0ZpcHMgPyAnLWZpcHMnIDogJycpLCAkcGFyc2VkVmVyc2lvbiwgJ2N1cmwgT3BlblNTTCB2ZXJzaW9uICgnLiRwYXJzZWRWZXJzaW9uLicpJywgYXJyYXkoKSwgJGlzRmlwcyA/IGFycmF5KCdjdXJsLW9wZW5zc2wnKSA6IGFycmF5KCkpOwp9IGVsc2UgewokdGhpcy0+YWRkTGlicmFyeSgkbmFtZS4nLScuJGxpYnJhcnksICRzc2xNYXRjaGVzWyd2ZXJzaW9uJ10sICdjdXJsICcuJGxpYnJhcnkuJyB2ZXJzaW9uICgnLiRzc2xNYXRjaGVzWyd2ZXJzaW9uJ10uJyknLCBhcnJheSgnY3VybC1vcGVuc3NsJykpOwp9Cn0KCgppZiAocHJlZ19tYXRjaCgne15saWJTU0ggVmVyc2lvbiA9PiAoPzxsaWJyYXJ5PlteL10rKS8oPzx2ZXJzaW9uPi4rPykoPzovLiopPyR9aW0nLCAkaW5mbywgJHNzaE1hdGNoZXMpKSB7CiR0aGlzLT5hZGRMaWJyYXJ5KCRuYW1lLictJy5zdHJ0b2xvd2VyKCRzc2hNYXRjaGVzWydsaWJyYXJ5J10pLCAkc3NoTWF0Y2hlc1sndmVyc2lvbiddLCAnY3VybCAnLiRzc2hNYXRjaGVzWydsaWJyYXJ5J10uJyB2ZXJzaW9uJyk7Cn0KCgppZiAocHJlZ19tYXRjaCgne15aTGliIFZlcnNpb24gPT4gKD88dmVyc2lvbj4uKykkfWltJywgJGluZm8sICR6bGliTWF0Y2hlcykpIHsKJHRoaXMtPmFkZExpYnJhcnkoJG5hbWUuJy16bGliJywgJHpsaWJNYXRjaGVzWyd2ZXJzaW9uJ10sICdjdXJsIHpsaWIgdmVyc2lvbicpOwp9CmJyZWFrOwoKY2FzZSAnZGF0ZSc6CiRpbmZvID0gJHRoaXMtPnJ1bnRpbWUtPmdldEV4dGVuc2lvbkluZm8oJG5hbWUpOwoKCmlmIChwcmVnX21hdGNoKCcvXnRpbWVsaWIgdmVyc2lvbiA9PiAoPzx2ZXJzaW9uPi4rKSQvaW0nLCAkaW5mbywgJHRpbWVsaWJNYXRjaGVzKSkgewokdGhpcy0+YWRkTGlicmFyeSgkbmFtZS4nLXRpbWVsaWInLCAkdGltZWxpYk1hdGNoZXNbJ3ZlcnNpb24nXSwgJ2RhdGUgdGltZWxpYiB2ZXJzaW9uJyk7Cn0KCgppZiAocHJlZ19tYXRjaCgnL15UaW1lem9uZSBEYXRhYmFzZSA9PiAoPzxzb3VyY2U+aW50ZXJuYWx8ZXh0ZXJuYWwpJC9pbScsICRpbmZvLCAkem9uZWluZm9Tb3VyY2VNYXRjaGVzKSkgewokZXh0ZXJuYWwgPSAkem9uZWluZm9Tb3VyY2VNYXRjaGVzWydzb3VyY2UnXSA9PT0gJ2V4dGVybmFsJzsKaWYgKHByZWdfbWF0Y2goJy9eIk9sc29uIiBUaW1lem9uZSBEYXRhYmFzZSBWZXJzaW9uID0+ICg/PHZlcnNpb24+Lis/KShcLnN5c3RlbSk/JC9pbScsICRpbmZvLCAkem9uZWluZm9NYXRjaGVzKSkgewoKaWYgKCRleHRlcm5hbCAmJiBpbl9hcnJheSgndGltZXpvbmVkYicsICRsb2FkZWRFeHRlbnNpb25zLCB0cnVlKSkgewokdGhpcy0+YWRkTGlicmFyeSgndGltZXpvbmVkYi16b25laW5mbycsICR6b25laW5mb01hdGNoZXNbJ3ZlcnNpb24nXSwgJ3pvbmVpbmZvICgiT2xzb24iKSBkYXRhYmFzZSBmb3IgZGF0ZSAocmVwbGFjZWQgYnkgdGltZXpvbmVkYiknLCBhcnJheSgkbmFtZS4nLXpvbmVpbmZvJykpOwp9IGVsc2UgewokdGhpcy0+YWRkTGlicmFyeSgkbmFtZS4nLXpvbmVpbmZvJywgJHpvbmVpbmZvTWF0Y2hlc1sndmVyc2lvbiddLCAnem9uZWluZm8gKCJPbHNvbiIpIGRhdGFiYXNlIGZvciBkYXRlJyk7Cn0KfQp9CmJyZWFrOwoKY2FzZSAnZmlsZWluZm8nOgokaW5mbyA9ICR0aGlzLT5ydW50aW1lLT5nZXRFeHRlbnNpb25JbmZvKCRuYW1lKTsKCgppZiAocHJlZ19tYXRjaCgnL15saWJtYWdpYyA9PiAoPzx2ZXJzaW9uPi4rKSQvaW0nLCAkaW5mbywgJG1hZ2ljTWF0Y2hlcykpIHsKJHRoaXMtPmFkZExpYnJhcnkoJG5hbWUuJy1saWJtYWdpYycsICRtYWdpY01hdGNoZXNbJ3ZlcnNpb24nXSwgJ2ZpbGVpbmZvIGxpYm1hZ2ljIHZlcnNpb24nKTsKfQpicmVhazsKCmNhc2UgJ2dkJzoKJHRoaXMtPmFkZExpYnJhcnkoJG5hbWUsICR0aGlzLT5ydW50aW1lLT5nZXRDb25zdGFudCgnR0RfVkVSU0lPTicpKTsKCiRpbmZvID0gJHRoaXMtPnJ1bnRpbWUtPmdldEV4dGVuc2lvbkluZm8oJG5hbWUpOwoKaWYgKHByZWdfbWF0Y2goJy9ebGliSlBFRyBWZXJzaW9uID0+ICg/PHZlcnNpb24+Lis/KSg/OiBjb21wYXRpYmxlKT8kL2ltJywgJGluZm8sICRsaWJqcGVnTWF0Y2hlcykpIHsKJHRoaXMtPmFkZExpYnJhcnkoJG5hbWUuJy1saWJqcGVnJywgVmVyc2lvbjo6cGFyc2VMaWJqcGVnKCRsaWJqcGVnTWF0Y2hlc1sndmVyc2lvbiddKSwgJ2xpYmpwZWcgdmVyc2lvbiBmb3IgZ2QnKTsKfQoKaWYgKHByZWdfbWF0Y2goJy9ebGliUE5HIFZlcnNpb24gPT4gKD88dmVyc2lvbj4uKykkL2ltJywgJGluZm8sICRsaWJwbmdNYXRjaGVzKSkgewokdGhpcy0+YWRkTGlicmFyeSgkbmFtZS4nLWxpYnBuZycsICRsaWJwbmdNYXRjaGVzWyd2ZXJzaW9uJ10sICdsaWJwbmcgdmVyc2lvbiBmb3IgZ2QnKTsKfQoKaWYgKHByZWdfbWF0Y2goJy9eRnJlZVR5cGUgVmVyc2lvbiA9PiAoPzx2ZXJzaW9uPi4rKSQvaW0nLCAkaW5mbywgJGZyZWV0eXBlTWF0Y2hlcykpIHsKJHRoaXMtPmFkZExpYnJhcnkoJG5hbWUuJy1mcmVldHlwZScsICRmcmVldHlwZU1hdGNoZXNbJ3ZlcnNpb24nXSwgJ2ZyZWV0eXBlIHZlcnNpb24gZm9yIGdkJyk7Cn0KCmlmIChwcmVnX21hdGNoKCcvXmxpYlhwbSBWZXJzaW9uID0+ICg/PHZlcnNpb25JZD5cZCspJC9pbScsICRpbmZvLCAkbGlieHBtTWF0Y2hlcykpIHsKJHRoaXMtPmFkZExpYnJhcnkoJG5hbWUuJy1saWJ4cG0nLCBWZXJzaW9uOjpjb252ZXJ0TGlieHBtVmVyc2lvbklkKCRsaWJ4cG1NYXRjaGVzWyd2ZXJzaW9uSWQnXSksICdsaWJ4cG0gdmVyc2lvbiBmb3IgZ2QnKTsKfQoKYnJlYWs7CgpjYXNlICdnbXAnOgokdGhpcy0+YWRkTGlicmFyeSgkbmFtZSwgJHRoaXMtPnJ1bnRpbWUtPmdldENvbnN0YW50KCdHTVBfVkVSU0lPTicpKTsKYnJlYWs7CgpjYXNlICdpY29udic6CiR0aGlzLT5hZGRMaWJyYXJ5KCRuYW1lLCAkdGhpcy0+cnVudGltZS0+Z2V0Q29uc3RhbnQoJ0lDT05WX1ZFUlNJT04nKSk7CmJyZWFrOwoKY2FzZSAnaW50bCc6CiRpbmZvID0gJHRoaXMtPnJ1bnRpbWUtPmdldEV4dGVuc2lvbkluZm8oJG5hbWUpOwoKJGRlc2NyaXB0aW9uID0gJ1RoZSBJQ1UgdW5pY29kZSBhbmQgZ2xvYmFsaXphdGlvbiBzdXBwb3J0IGxpYnJhcnknOwoKaWYgKCR0aGlzLT5ydW50aW1lLT5oYXNDb25zdGFudCgnSU5UTF9JQ1VfVkVSU0lPTicpKSB7CiR0aGlzLT5hZGRMaWJyYXJ5KCdpY3UnLCAkdGhpcy0+cnVudGltZS0+Z2V0Q29uc3RhbnQoJ0lOVExfSUNVX1ZFUlNJT04nKSwgJGRlc2NyaXB0aW9uKTsKfSBlbHNlaWYgKHByZWdfbWF0Y2goJy9eSUNVIHZlcnNpb24gPT4gKD88dmVyc2lvbj4uKykkL2ltJywgJGluZm8sICRtYXRjaGVzKSkgewokdGhpcy0+YWRkTGlicmFyeSgnaWN1JywgJG1hdGNoZXNbJ3ZlcnNpb24nXSwgJGRlc2NyaXB0aW9uKTsKfQoKCmlmIChwcmVnX21hdGNoKCcvXklDVSBUWkRhdGEgdmVyc2lvbiA9PiAoPzx2ZXJzaW9uPi4qKSQvaW0nLCAkaW5mbywgJHpvbmVpbmZvTWF0Y2hlcykpIHsKJHRoaXMtPmFkZExpYnJhcnkoJ2ljdS16b25laW5mbycsIFZlcnNpb246OnBhcnNlWm9uZWluZm9WZXJzaW9uKCR6b25laW5mb01hdGNoZXNbJ3ZlcnNpb24nXSksICd6b25laW5mbyAoIk9sc29uIikgZGF0YWJhc2UgZm9yIGljdScpOwp9CgoKaWYgKCR0aGlzLT5ydW50aW1lLT5oYXNDbGFzcygnUmVzb3VyY2VCdW5kbGUnKSkgewokY2xkclZlcnNpb24gPSAkdGhpcy0+cnVudGltZS0+aW52b2tlKGFycmF5KCdSZXNvdXJjZUJ1bmRsZScsICdjcmVhdGUnKSwgYXJyYXkoJ3Jvb3QnLCAnSUNVREFUQScsIGZhbHNlKSktPmdldCgnVmVyc2lvbicpOwokdGhpcy0+YWRkTGlicmFyeSgnaWN1LWNsZHInLCAkY2xkclZlcnNpb24sICdJQ1UgQ0xEUiBwcm9qZWN0IHZlcnNpb24nKTsKfQoKaWYgKCR0aGlzLT5ydW50aW1lLT5oYXNDbGFzcygnSW50bENoYXInKSkgewokdGhpcy0+YWRkTGlicmFyeSgnaWN1LXVuaWNvZGUnLCBpbXBsb2RlKCcuJywgYXJyYXlfc2xpY2UoJHRoaXMtPnJ1bnRpbWUtPmludm9rZShhcnJheSgnSW50bENoYXInLCAnZ2V0VW5pY29kZVZlcnNpb24nKSksIDAsIDMpKSwgJ0lDVSB1bmljb2RlIHZlcnNpb24nKTsKfQpicmVhazsKCmNhc2UgJ2ltYWdpY2snOgokaW1hZ2VNYWdpY2tWZXJzaW9uID0gJHRoaXMtPnJ1bnRpbWUtPmNvbnN0cnVjdCgnSW1hZ2ljaycpLT5nZXRWZXJzaW9uKCk7CgoKcHJlZ19tYXRjaCgnL15JbWFnZU1hZ2ljayAoPzx2ZXJzaW9uPltcZC5dKykoPzotKD88cGF0Y2g+XGQrKSk/LycsICRpbWFnZU1hZ2lja1ZlcnNpb25bJ3ZlcnNpb25TdHJpbmcnXSwgJG1hdGNoZXMpOwokdmVyc2lvbiA9ICRtYXRjaGVzWyd2ZXJzaW9uJ107CmlmIChpc3NldCgkbWF0Y2hlc1sncGF0Y2gnXSkpIHsKJHZlcnNpb24gLj0gJy4nLiRtYXRjaGVzWydwYXRjaCddOwp9CgokdGhpcy0+YWRkTGlicmFyeSgkbmFtZS4nLWltYWdlbWFnaWNrJywgJHZlcnNpb24sIG51bGwsIGFycmF5KCdpbWFnaWNrJykpOwpicmVhazsKCmNhc2UgJ2xkYXAnOgokaW5mbyA9ICR0aGlzLT5ydW50aW1lLT5nZXRFeHRlbnNpb25JbmZvKCRuYW1lKTsKCmlmIChwcmVnX21hdGNoKCcvXlZlbmRvciBWZXJzaW9uID0+ICg/PHZlcnNpb25JZD5cZCspJC9pbScsICRpbmZvLCAkbWF0Y2hlcykgJiYgcHJlZ19tYXRjaCgnL15WZW5kb3IgTmFtZSA9PiAoPzx2ZW5kb3I+LispJC9pbScsICRpbmZvLCAkdmVuZG9yTWF0Y2hlcykpIHsKJHRoaXMtPmFkZExpYnJhcnkoJG5hbWUuJy0nLnN0cnRvbG93ZXIoJHZlbmRvck1hdGNoZXNbJ3ZlbmRvciddKSwgVmVyc2lvbjo6Y29udmVydE9wZW5sZGFwVmVyc2lvbklkKCRtYXRjaGVzWyd2ZXJzaW9uSWQnXSksICR2ZW5kb3JNYXRjaGVzWyd2ZW5kb3InXS4nIHZlcnNpb24gb2YgbGRhcCcpOwp9CmJyZWFrOwoKY2FzZSAnbGlieG1sJzoKCiRsaWJ4bWxQcm92aWRlcyA9IGFycmF5X21hcChmdW5jdGlvbiAoJGV4dGVuc2lvbikgewpyZXR1cm4gJGV4dGVuc2lvbiAuICctbGlieG1sJzsKfSwgYXJyYXlfaW50ZXJzZWN0KCRsb2FkZWRFeHRlbnNpb25zLCBhcnJheSgnZG9tJywgJ3NpbXBsZXhtbCcsICd4bWwnLCAneG1scmVhZGVyJywgJ3htbHdyaXRlcicpKSk7CiR0aGlzLT5hZGRMaWJyYXJ5KCRuYW1lLCAkdGhpcy0+cnVudGltZS0+Z2V0Q29uc3RhbnQoJ0xJQlhNTF9ET1RURURfVkVSU0lPTicpLCAnbGlieG1sIGxpYnJhcnkgdmVyc2lvbicsIGFycmF5KCksICRsaWJ4bWxQcm92aWRlcyk7CgpicmVhazsKCmNhc2UgJ21ic3RyaW5nJzoKJGluZm8gPSAkdGhpcy0+cnVudGltZS0+Z2V0RXh0ZW5zaW9uSW5mbygkbmFtZSk7CgoKaWYgKHByZWdfbWF0Y2goJy9ebGlibWJmbCB2ZXJzaW9uID0+ICg/PHZlcnNpb24+LispJC9pbScsICRpbmZvLCAkbGlibWJmbE1hdGNoZXMpKSB7CiR0aGlzLT5hZGRMaWJyYXJ5KCRuYW1lLictbGlibWJmbCcsICRsaWJtYmZsTWF0Y2hlc1sndmVyc2lvbiddLCAnbWJzdHJpbmcgbGlibWJmbCB2ZXJzaW9uJyk7Cn0KCmlmICgkdGhpcy0+cnVudGltZS0+aGFzQ29uc3RhbnQoJ01CX09OSUdVUlVNQV9WRVJTSU9OJykpIHsKJHRoaXMtPmFkZExpYnJhcnkoJG5hbWUuJy1vbmlndXJ1bWEnLCAkdGhpcy0+cnVudGltZS0+Z2V0Q29uc3RhbnQoJ01CX09OSUdVUlVNQV9WRVJTSU9OJyksICdtYnN0cmluZyBvbmlndXJ1bWEgdmVyc2lvbicpOwoKCgp9IGVsc2VpZiAocHJlZ19tYXRjaCgnL14oPzpvbmlndXJ1bWF8TXVsdGlieXRlIHJlZ2V4IFwob25pZ3VydW1hXCkpIHZlcnNpb24gPT4gKD88dmVyc2lvbj4uKykkL2ltJywgJGluZm8sICRvbmlndXJ1bWFNYXRjaGVzKSkgewokdGhpcy0+YWRkTGlicmFyeSgkbmFtZS4nLW9uaWd1cnVtYScsICRvbmlndXJ1bWFNYXRjaGVzWyd2ZXJzaW9uJ10sICdtYnN0cmluZyBvbmlndXJ1bWEgdmVyc2lvbicpOwp9CgpicmVhazsKCmNhc2UgJ21lbWNhY2hlZCc6CiRpbmZvID0gJHRoaXMtPnJ1bnRpbWUtPmdldEV4dGVuc2lvbkluZm8oJG5hbWUpOwoKCmlmIChwcmVnX21hdGNoKCcvXmxpYm1lbWNhY2hlZCB2ZXJzaW9uID0+ICg/PHZlcnNpb24+LispJC9pbScsICRpbmZvLCAkbWF0Y2hlcykpIHsKJHRoaXMtPmFkZExpYnJhcnkoJG5hbWUuJy1saWJtZW1jYWNoZWQnLCAkbWF0Y2hlc1sndmVyc2lvbiddLCAnbGlibWVtY2FjaGVkIHZlcnNpb24nKTsKfQpicmVhazsKCmNhc2UgJ29wZW5zc2wnOgoKaWYgKHByZWdfbWF0Y2goJ3teKD86T3BlblNTTHxMaWJyZVNTTCk/XHMqKD88dmVyc2lvbj5cUyspfWknLCAkdGhpcy0+cnVudGltZS0+Z2V0Q29uc3RhbnQoJ09QRU5TU0xfVkVSU0lPTl9URVhUJyksICRtYXRjaGVzKSkgewokcGFyc2VkVmVyc2lvbiA9IFZlcnNpb246OnBhcnNlT3BlbnNzbCgkbWF0Y2hlc1sndmVyc2lvbiddLCAkaXNGaXBzKTsKJHRoaXMtPmFkZExpYnJhcnkoJG5hbWUuKCRpc0ZpcHMgPyAnLWZpcHMnIDogJycpLCAkcGFyc2VkVmVyc2lvbiwgJHRoaXMtPnJ1bnRpbWUtPmdldENvbnN0YW50KCdPUEVOU1NMX1ZFUlNJT05fVEVYVCcpLCBhcnJheSgpLCAkaXNGaXBzID8gYXJyYXkoJG5hbWUpIDogYXJyYXkoKSk7Cn0KYnJlYWs7CgpjYXNlICdwY3JlJzoKJHRoaXMtPmFkZExpYnJhcnkoJG5hbWUsIHByZWdfcmVwbGFjZSgne14oXFMrKS4qfScsICckMScsICR0aGlzLT5ydW50aW1lLT5nZXRDb25zdGFudCgnUENSRV9WRVJTSU9OJykpKTsKCiRpbmZvID0gJHRoaXMtPnJ1bnRpbWUtPmdldEV4dGVuc2lvbkluZm8oJG5hbWUpOwoKCmlmIChwcmVnX21hdGNoKCcvXlBDUkUgVW5pY29kZSBWZXJzaW9uID0+ICg/PHZlcnNpb24+LispJC9pbScsICRpbmZvLCAkcGNyZVVuaWNvZGVNYXRjaGVzKSkgewokdGhpcy0+YWRkTGlicmFyeSgkbmFtZS4nLXVuaWNvZGUnLCAkcGNyZVVuaWNvZGVNYXRjaGVzWyd2ZXJzaW9uJ10sICdQQ1JFIFVuaWNvZGUgdmVyc2lvbiBzdXBwb3J0Jyk7Cn0KCmJyZWFrOwoKY2FzZSAnbXlzcWxuZCc6CmNhc2UgJ3Bkb19teXNxbCc6CiRpbmZvID0gJHRoaXMtPnJ1bnRpbWUtPmdldEV4dGVuc2lvbkluZm8oJG5hbWUpOwoKaWYgKHByZWdfbWF0Y2goJy9eKD86Q2xpZW50IEFQSSB2ZXJzaW9ufFZlcnNpb24pID0+IG15c3FsbmQgKD88dmVyc2lvbj4uKz8pIC9taScsICRpbmZvLCAkbWF0Y2hlcykpIHsKJHRoaXMtPmFkZExpYnJhcnkoJG5hbWUuJy1teXNxbG5kJywgJG1hdGNoZXNbJ3ZlcnNpb24nXSwgJ215c3FsbmQgbGlicmFyeSB2ZXJzaW9uIGZvciAnLiRuYW1lKTsKfQpicmVhazsKCmNhc2UgJ21vbmdvZGInOgokaW5mbyA9ICR0aGlzLT5ydW50aW1lLT5nZXRFeHRlbnNpb25JbmZvKCRuYW1lKTsKCmlmIChwcmVnX21hdGNoKCcvXmxpYm1vbmdvYyBidW5kbGVkIHZlcnNpb24gPT4gKD88dmVyc2lvbj4uKykkL2ltJywgJGluZm8sICRsaWJtb25nb2NNYXRjaGVzKSkgewokdGhpcy0+YWRkTGlicmFyeSgkbmFtZS4nLWxpYm1vbmdvYycsICRsaWJtb25nb2NNYXRjaGVzWyd2ZXJzaW9uJ10sICdsaWJtb25nb2MgdmVyc2lvbiBvZiBtb25nb2RiJyk7Cn0KCmlmIChwcmVnX21hdGNoKCcvXmxpYmJzb24gYnVuZGxlZCB2ZXJzaW9uID0+ICg/PHZlcnNpb24+LispJC9pbScsICRpbmZvLCAkbGliYnNvbk1hdGNoZXMpKSB7CiR0aGlzLT5hZGRMaWJyYXJ5KCRuYW1lLictbGliYnNvbicsICRsaWJic29uTWF0Y2hlc1sndmVyc2lvbiddLCAnbGliYnNvbiB2ZXJzaW9uIG9mIG1vbmdvZGInKTsKfQpicmVhazsKCmNhc2UgJ3Bnc3FsJzoKY2FzZSAncGRvX3Bnc3FsJzoKJGluZm8gPSAkdGhpcy0+cnVudGltZS0+Z2V0RXh0ZW5zaW9uSW5mbygkbmFtZSk7CgppZiAocHJlZ19tYXRjaCgnL15Qb3N0Z3JlU1FMXChsaWJwcVwpIFZlcnNpb24gPT4gKD88dmVyc2lvbj4uKikkL2ltJywgJGluZm8sICRtYXRjaGVzKSkgewokdGhpcy0+YWRkTGlicmFyeSgkbmFtZS4nLWxpYnBxJywgJG1hdGNoZXNbJ3ZlcnNpb24nXSwgJ2xpYnBxIGZvciAnLiRuYW1lKTsKfQpicmVhazsKCmNhc2UgJ2xpYnNvZGl1bSc6CmNhc2UgJ3NvZGl1bSc6CmlmICgkdGhpcy0+cnVudGltZS0+aGFzQ29uc3RhbnQoJ1NPRElVTV9MSUJSQVJZX1ZFUlNJT04nKSkgewokdGhpcy0+YWRkTGlicmFyeSgnbGlic29kaXVtJywgJHRoaXMtPnJ1bnRpbWUtPmdldENvbnN0YW50KCdTT0RJVU1fTElCUkFSWV9WRVJTSU9OJykpOwp9CmJyZWFrOwoKY2FzZSAnc3FsaXRlMyc6CmNhc2UgJ3Bkb19zcWxpdGUnOgokaW5mbyA9ICR0aGlzLT5ydW50aW1lLT5nZXRFeHRlbnNpb25JbmZvKCRuYW1lKTsKCmlmIChwcmVnX21hdGNoKCcvXlNRTGl0ZSBMaWJyYXJ5ID0+ICg/PHZlcnNpb24+LispJC9pbScsICRpbmZvLCAkbWF0Y2hlcykpIHsKJHRoaXMtPmFkZExpYnJhcnkoJG5hbWUuJy1zcWxpdGUnLCAkbWF0Y2hlc1sndmVyc2lvbiddKTsKfQpicmVhazsKCmNhc2UgJ3NzaDInOgokaW5mbyA9ICR0aGlzLT5ydW50aW1lLT5nZXRFeHRlbnNpb25JbmZvKCRuYW1lKTsKCmlmIChwcmVnX21hdGNoKCcvXmxpYnNzaDIgdmVyc2lvbiA9PiAoPzx2ZXJzaW9uPi4rKSQvaW0nLCAkaW5mbywgJG1hdGNoZXMpKSB7CiR0aGlzLT5hZGRMaWJyYXJ5KCRuYW1lLictbGlic3NoMicsICRtYXRjaGVzWyd2ZXJzaW9uJ10pOwp9CmJyZWFrOwoKY2FzZSAneHNsJzoKJHRoaXMtPmFkZExpYnJhcnkoJ2xpYnhzbHQnLCAkdGhpcy0+cnVudGltZS0+Z2V0Q29uc3RhbnQoJ0xJQlhTTFRfRE9UVEVEX1ZFUlNJT04nKSwgbnVsbCwgYXJyYXkoJ3hzbCcpKTsKCiRpbmZvID0gJHRoaXMtPnJ1bnRpbWUtPmdldEV4dGVuc2lvbkluZm8oJ3hzbCcpOwppZiAocHJlZ19tYXRjaCgnL15saWJ4c2x0IGNvbXBpbGVkIGFnYWluc3QgbGlieG1sIFZlcnNpb24gPT4gKD88dmVyc2lvbj4uKykkL2ltJywgJGluZm8sICRtYXRjaGVzKSkgewokdGhpcy0+YWRkTGlicmFyeSgnbGlieHNsdC1saWJ4bWwnLCAkbWF0Y2hlc1sndmVyc2lvbiddLCAnbGlieG1sIHZlcnNpb24gbGlieHNsdCBpcyBjb21waWxlZCBhZ2FpbnN0Jyk7Cn0KYnJlYWs7CgpjYXNlICd5YW1sJzoKJGluZm8gPSAkdGhpcy0+cnVudGltZS0+Z2V0RXh0ZW5zaW9uSW5mbygneWFtbCcpOwoKaWYgKHByZWdfbWF0Y2goJy9eTGliWUFNTCBWZXJzaW9uID0+ICg/PHZlcnNpb24+LispJC9pbScsICRpbmZvLCAkbWF0Y2hlcykpIHsKJHRoaXMtPmFkZExpYnJhcnkoJG5hbWUuJy1saWJ5YW1sJywgJG1hdGNoZXNbJ3ZlcnNpb24nXSwgJ2xpYnlhbWwgdmVyc2lvbiBvZiB5YW1sJyk7Cn0KYnJlYWs7CgpjYXNlICd6aXAnOgppZiAoJHRoaXMtPnJ1bnRpbWUtPmhhc0NvbnN0YW50KCdMSUJaSVBfVkVSU0lPTicsICdaaXBBcmNoaXZlJykpIHsKJHRoaXMtPmFkZExpYnJhcnkoJG5hbWUuJy1saWJ6aXAnLCAkdGhpcy0+cnVudGltZS0+Z2V0Q29uc3RhbnQoJ0xJQlpJUF9WRVJTSU9OJywgJ1ppcEFyY2hpdmUnKSwgbnVsbCwgYXJyYXkoJ3ppcCcpKTsKfQpicmVhazsKCmNhc2UgJ3psaWInOgppZiAoJHRoaXMtPnJ1bnRpbWUtPmhhc0NvbnN0YW50KCdaTElCX1ZFUlNJT04nKSkgewokdGhpcy0+YWRkTGlicmFyeSgkbmFtZSwgJHRoaXMtPnJ1bnRpbWUtPmdldENvbnN0YW50KCdaTElCX1ZFUlNJT04nKSk7CgoKfSBlbHNlaWYgKHByZWdfbWF0Y2goJy9eTGlua2VkIFZlcnNpb24gPT4gKD88dmVyc2lvbj4uKykkL2ltJywgJHRoaXMtPnJ1bnRpbWUtPmdldEV4dGVuc2lvbkluZm8oJG5hbWUpLCAkbWF0Y2hlcykpIHsKJHRoaXMtPmFkZExpYnJhcnkoJG5hbWUsICRtYXRjaGVzWyd2ZXJzaW9uJ10pOwp9CmJyZWFrOwoKZGVmYXVsdDoKYnJlYWs7Cn0KfQoKJGhodm1WZXJzaW9uID0gJHRoaXMtPmhodm1EZXRlY3Rvci0+Z2V0VmVyc2lvbigpOwppZiAoJGhodm1WZXJzaW9uKSB7CnRyeSB7CiRwcmV0dHlWZXJzaW9uID0gJGhodm1WZXJzaW9uOwokdmVyc2lvbiA9ICR0aGlzLT52ZXJzaW9uUGFyc2VyLT5ub3JtYWxpemUoJHByZXR0eVZlcnNpb24pOwp9IGNhdGNoIChcVW5leHBlY3RlZFZhbHVlRXhjZXB0aW9uICRlKSB7CiRwcmV0dHlWZXJzaW9uID0gcHJlZ19yZXBsYWNlKCcjXihbXn4rLV0rKS4qJCMnLCAnJDEnLCAkaGh2bVZlcnNpb24pOwokdmVyc2lvbiA9ICR0aGlzLT52ZXJzaW9uUGFyc2VyLT5ub3JtYWxpemUoJHByZXR0eVZlcnNpb24pOwp9CgokaGh2bSA9IG5ldyBDb21wbGV0ZVBhY2thZ2UoJ2hodm0nLCAkdmVyc2lvbiwgJHByZXR0eVZlcnNpb24pOwokaGh2bS0+c2V0RGVzY3JpcHRpb24oJ1RoZSBISFZNIFJ1bnRpbWUgKDY0Yml0KScpOwokdGhpcy0+YWRkUGFja2FnZSgkaGh2bSk7Cn0KfQoKCgoKcHVibGljIGZ1bmN0aW9uIGFkZFBhY2thZ2UoUGFja2FnZUludGVyZmFjZSAkcGFja2FnZSkKewoKaWYgKGlzc2V0KCR0aGlzLT5vdmVycmlkZXNbJHBhY2thZ2UtPmdldE5hbWUoKV0pKSB7CiRvdmVycmlkZXIgPSAkdGhpcy0+ZmluZFBhY2thZ2UoJHBhY2thZ2UtPmdldE5hbWUoKSwgJyonKTsKaWYgKCRwYWNrYWdlLT5nZXRWZXJzaW9uKCkgPT09ICRvdmVycmlkZXItPmdldFZlcnNpb24oKSkgewokYWN0dWFsVGV4dCA9ICdzYW1lIGFzIGFjdHVhbCc7Cn0gZWxzZSB7CiRhY3R1YWxUZXh0ID0gJ2FjdHVhbDogJy4kcGFja2FnZS0+Z2V0UHJldHR5VmVyc2lvbigpOwp9CmlmICgkb3ZlcnJpZGVyIGluc3RhbmNlb2YgQ29tcGxldGVQYWNrYWdlSW50ZXJmYWNlKSB7CiRvdmVycmlkZXItPnNldERlc2NyaXB0aW9uKCRvdmVycmlkZXItPmdldERlc2NyaXB0aW9uKCkuJywgJy4kYWN0dWFsVGV4dCk7Cn0KCnJldHVybjsKfQoKCmlmIChpc3NldCgkdGhpcy0+b3ZlcnJpZGVzWydwaHAnXSkgJiYgMCA9PT0gc3RycG9zKCRwYWNrYWdlLT5nZXROYW1lKCksICdwaHAtJykpIHsKJG92ZXJyaWRlciA9ICR0aGlzLT5hZGRPdmVycmlkZGVuUGFja2FnZSgkdGhpcy0+b3ZlcnJpZGVzWydwaHAnXSwgJHBhY2thZ2UtPmdldFByZXR0eU5hbWUoKSk7CmlmICgkcGFja2FnZS0+Z2V0VmVyc2lvbigpID09PSAkb3ZlcnJpZGVyLT5nZXRWZXJzaW9uKCkpIHsKJGFjdHVhbFRleHQgPSAnc2FtZSBhcyBhY3R1YWwnOwp9IGVsc2UgewokYWN0dWFsVGV4dCA9ICdhY3R1YWw6ICcuJHBhY2thZ2UtPmdldFByZXR0eVZlcnNpb24oKTsKfQokb3ZlcnJpZGVyLT5zZXREZXNjcmlwdGlvbigkb3ZlcnJpZGVyLT5nZXREZXNjcmlwdGlvbigpLicsICcuJGFjdHVhbFRleHQpOwoKcmV0dXJuOwp9CgpwYXJlbnQ6OmFkZFBhY2thZ2UoJHBhY2thZ2UpOwp9CgoKCgpwcml2YXRlIGZ1bmN0aW9uIGFkZE92ZXJyaWRkZW5QYWNrYWdlKGFycmF5ICRvdmVycmlkZSwgJG5hbWUgPSBudWxsKQp7CiR2ZXJzaW9uID0gJHRoaXMtPnZlcnNpb25QYXJzZXItPm5vcm1hbGl6ZSgkb3ZlcnJpZGVbJ3ZlcnNpb24nXSk7CiRwYWNrYWdlID0gbmV3IENvbXBsZXRlUGFja2FnZSgkbmFtZSA/OiAkb3ZlcnJpZGVbJ25hbWUnXSwgJHZlcnNpb24sICRvdmVycmlkZVsndmVyc2lvbiddKTsKJHBhY2thZ2UtPnNldERlc2NyaXB0aW9uKCdQYWNrYWdlIG92ZXJyaWRkZW4gdmlhIGNvbmZpZy5wbGF0Zm9ybScpOwokcGFja2FnZS0+c2V0RXh0cmEoYXJyYXkoJ2NvbmZpZy5wbGF0Zm9ybScgPT4gdHJ1ZSkpOwpwYXJlbnQ6OmFkZFBhY2thZ2UoJHBhY2thZ2UpOwoKaWYgKCRwYWNrYWdlLT5nZXROYW1lKCkgPT09ICdwaHAnKSB7CnNlbGY6OiRsYXN0U2VlblBsYXRmb3JtUGhwID0gaW1wbG9kZSgnLicsIGFycmF5X3NsaWNlKGV4cGxvZGUoJy4nLCAkcGFja2FnZS0+Z2V0VmVyc2lvbigpKSwgMCwgMykpOwp9CgpyZXR1cm4gJHBhY2thZ2U7Cn0KCgoKCgoKCnByaXZhdGUgZnVuY3Rpb24gYWRkRXh0ZW5zaW9uKCRuYW1lLCAkcHJldHR5VmVyc2lvbikKewokZXh0cmFEZXNjcmlwdGlvbiA9IG51bGw7Cgp0cnkgewokdmVyc2lvbiA9ICR0aGlzLT52ZXJzaW9uUGFyc2VyLT5ub3JtYWxpemUoJHByZXR0eVZlcnNpb24pOwp9IGNhdGNoIChcVW5leHBlY3RlZFZhbHVlRXhjZXB0aW9uICRlKSB7CiRleHRyYURlc2NyaXB0aW9uID0gJyAoYWN0dWFsIHZlcnNpb246ICcuJHByZXR0eVZlcnNpb24uJyknOwppZiAocHJlZ19tYXRjaCgne14oXGQrXC5cZCtcLlxkKyg/OlwuXGQrKT8pfScsICRwcmV0dHlWZXJzaW9uLCAkbWF0Y2gpKSB7CiRwcmV0dHlWZXJzaW9uID0gJG1hdGNoWzFdOwp9IGVsc2UgewokcHJldHR5VmVyc2lvbiA9ICcwJzsKfQokdmVyc2lvbiA9ICR0aGlzLT52ZXJzaW9uUGFyc2VyLT5ub3JtYWxpemUoJHByZXR0eVZlcnNpb24pOwp9CgokcGFja2FnZU5hbWUgPSAkdGhpcy0+YnVpbGRQYWNrYWdlTmFtZSgkbmFtZSk7CiRleHQgPSBuZXcgQ29tcGxldGVQYWNrYWdlKCRwYWNrYWdlTmFtZSwgJHZlcnNpb24sICRwcmV0dHlWZXJzaW9uKTsKJGV4dC0+c2V0RGVzY3JpcHRpb24oJ1RoZSAnLiRuYW1lLicgUEhQIGV4dGVuc2lvbicuJGV4dHJhRGVzY3JpcHRpb24pOwoKaWYgKCRuYW1lID09PSAndXVpZCcpIHsKJGV4dC0+c2V0UmVwbGFjZXMoYXJyYXkoCm5ldyBMaW5rKCdleHQtdXVpZCcsICdsaWItdXVpZCcsIG5ldyBDb25zdHJhaW50KCc9JywgJHZlcnNpb24pLCBMaW5rOjpUWVBFX1JFUExBQ0UsICRleHQtPmdldFByZXR0eVZlcnNpb24oKSksCikpOwp9CgokdGhpcy0+YWRkUGFja2FnZSgkZXh0KTsKfQoKCgoKCnByaXZhdGUgZnVuY3Rpb24gYnVpbGRQYWNrYWdlTmFtZSgkbmFtZSkKewpyZXR1cm4gJ2V4dC0nIC4gc3RyX3JlcGxhY2UoJyAnLCAnLScsIHN0cnRvbG93ZXIoJG5hbWUpKTsKfQoKCgoKCgoKCnByaXZhdGUgZnVuY3Rpb24gYWRkTGlicmFyeSgkbmFtZSwgJHByZXR0eVZlcnNpb24sICRkZXNjcmlwdGlvbiA9IG51bGwsIGFycmF5ICRyZXBsYWNlcyA9IGFycmF5KCksIGFycmF5ICRwcm92aWRlcyA9IGFycmF5KCkpCnsKdHJ5IHsKJHZlcnNpb24gPSAkdGhpcy0+dmVyc2lvblBhcnNlci0+bm9ybWFsaXplKCRwcmV0dHlWZXJzaW9uKTsKfSBjYXRjaCAoXFVuZXhwZWN0ZWRWYWx1ZUV4Y2VwdGlvbiAkZSkgewpyZXR1cm47Cn0KCmlmICgkZGVzY3JpcHRpb24gPT09IG51bGwpIHsKJGRlc2NyaXB0aW9uID0gJ1RoZSAnLiRuYW1lLicgbGlicmFyeSc7Cn0KCiRsaWIgPSBuZXcgQ29tcGxldGVQYWNrYWdlKCdsaWItJy4kbmFtZSwgJHZlcnNpb24sICRwcmV0dHlWZXJzaW9uKTsKJGxpYi0+c2V0RGVzY3JpcHRpb24oJGRlc2NyaXB0aW9uKTsKCiRsaW5rcyA9IGZ1bmN0aW9uICgkYWxpYXMpIHVzZSAoJG5hbWUsICR2ZXJzaW9uLCAkbGliKSB7CnJldHVybiBuZXcgTGluaygnbGliLScuJG5hbWUsICdsaWItJy4kYWxpYXMsIG5ldyBDb25zdHJhaW50KCc9JywgJHZlcnNpb24pLCBMaW5rOjpUWVBFX1JFUExBQ0UsICRsaWItPmdldFByZXR0eVZlcnNpb24oKSk7Cn07CiRsaWItPnNldFJlcGxhY2VzKGFycmF5X21hcCgkbGlua3MsICRyZXBsYWNlcykpOwokbGliLT5zZXRQcm92aWRlcyhhcnJheV9tYXAoJGxpbmtzLCAkcHJvdmlkZXMpKTsKCiR0aGlzLT5hZGRQYWNrYWdlKCRsaWIpOwp9CgoKCgoKCgpwdWJsaWMgc3RhdGljIGZ1bmN0aW9uIGlzUGxhdGZvcm1QYWNrYWdlKCRuYW1lKQp7CnN0YXRpYyAkY2FjaGUgPSBhcnJheSgpOwoKaWYgKGlzc2V0KCRjYWNoZVskbmFtZV0pKSB7CnJldHVybiAkY2FjaGVbJG5hbWVdOwp9CgpyZXR1cm4gJGNhY2hlWyRuYW1lXSA9IChib29sKSBwcmVnX21hdGNoKFBsYXRmb3JtUmVwb3NpdG9yeTo6UExBVEZPUk1fUEFDS0FHRV9SRUdFWCwgJG5hbWUpOwp9CgoKCgoKCgoKCgpwdWJsaWMgc3RhdGljIGZ1bmN0aW9uIGdldFBsYXRmb3JtUGhwVmVyc2lvbigpCnsKcmV0dXJuIHNlbGY6OiRsYXN0U2VlblBsYXRmb3JtUGhwOwp9Cn0KPD9waHAKCgoKCgoKCgoKCgpuYW1lc3BhY2UgQ29tcG9zZXJcUmVwb3NpdG9yeTsKCnVzZSBDb21wb3NlclxGYWN0b3J5Owp1c2UgQ29tcG9zZXJcSU9cSU9JbnRlcmZhY2U7CnVzZSBDb21wb3NlclxDb25maWc7CnVzZSBDb21wb3NlclxFdmVudERpc3BhdGNoZXJcRXZlbnREaXNwYXRjaGVyOwp1c2UgQ29tcG9zZXJcVXRpbFxIdHRwRG93bmxvYWRlcjsKdXNlIENvbXBvc2VyXFV0aWxcUHJvY2Vzc0V4ZWN1dG9yOwp1c2UgQ29tcG9zZXJcSnNvblxKc29uRmlsZTsKCgoKCmNsYXNzIFJlcG9zaXRvcnlGYWN0b3J5CnsKCgoKCgoKCnB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gY29uZmlnRnJvbVN0cmluZyhJT0ludGVyZmFjZSAkaW8sIENvbmZpZyAkY29uZmlnLCAkcmVwb3NpdG9yeSwgJGFsbG93RmlsZXN5c3RlbSA9IGZhbHNlKQp7CmlmICgwID09PSBzdHJwb3MoJHJlcG9zaXRvcnksICdodHRwJykpIHsKJHJlcG9Db25maWcgPSBhcnJheSgndHlwZScgPT4gJ2NvbXBvc2VyJywgJ3VybCcgPT4gJHJlcG9zaXRvcnkpOwp9IGVsc2VpZiAoImpzb24iID09PSBwYXRoaW5mbygkcmVwb3NpdG9yeSwgUEFUSElORk9fRVhURU5TSU9OKSkgewokanNvbiA9IG5ldyBKc29uRmlsZSgkcmVwb3NpdG9yeSwgRmFjdG9yeTo6Y3JlYXRlSHR0cERvd25sb2FkZXIoJGlvLCAkY29uZmlnKSk7CiRkYXRhID0gJGpzb24tPnJlYWQoKTsKaWYgKCFlbXB0eSgkZGF0YVsncGFja2FnZXMnXSkgfHwgIWVtcHR5KCRkYXRhWydpbmNsdWRlcyddKSB8fCAhZW1wdHkoJGRhdGFbJ3Byb3ZpZGVyLWluY2x1ZGVzJ10pKSB7CiRyZXBvQ29uZmlnID0gYXJyYXkoJ3R5cGUnID0+ICdjb21wb3NlcicsICd1cmwnID0+ICdmaWxlOi8vJyAuIHN0cnRyKHJlYWxwYXRoKCRyZXBvc2l0b3J5KSwgJ1xcJywgJy8nKSk7Cn0gZWxzZWlmICgkYWxsb3dGaWxlc3lzdGVtKSB7CiRyZXBvQ29uZmlnID0gYXJyYXkoJ3R5cGUnID0+ICdmaWxlc3lzdGVtJywgJ2pzb24nID0+ICRqc29uKTsKfSBlbHNlIHsKdGhyb3cgbmV3IFxJbnZhbGlkQXJndW1lbnRFeGNlcHRpb24oIkludmFsaWQgcmVwb3NpdG9yeSBVUkwgKCRyZXBvc2l0b3J5KSBnaXZlbi4gVGhpcyBmaWxlIGRvZXMgbm90IGNvbnRhaW4gYSB2YWxpZCBjb21wb3NlciByZXBvc2l0b3J5LiIpOwp9Cn0gZWxzZWlmIChzdHJwb3MoJHJlcG9zaXRvcnksICd7JykgPT09IDApIHsKCiRyZXBvQ29uZmlnID0gSnNvbkZpbGU6OnBhcnNlSnNvbigkcmVwb3NpdG9yeSk7Cn0gZWxzZSB7CnRocm93IG5ldyBcSW52YWxpZEFyZ3VtZW50RXhjZXB0aW9uKCJJbnZhbGlkIHJlcG9zaXRvcnkgdXJsICgkcmVwb3NpdG9yeSkgZ2l2ZW4uIEhhcyB0byBiZSBhIC5qc29uIGZpbGUsIGFuIGh0dHAgdXJsIG9yIGEgSlNPTiBvYmplY3QuIik7Cn0KCnJldHVybiAkcmVwb0NvbmZpZzsKfQoKCgoKCgoKCnB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gZnJvbVN0cmluZyhJT0ludGVyZmFjZSAkaW8sIENvbmZpZyAkY29uZmlnLCAkcmVwb3NpdG9yeSwgJGFsbG93RmlsZXN5c3RlbSA9IGZhbHNlLCBSZXBvc2l0b3J5TWFuYWdlciAkcm0gPSBudWxsKQp7CiRyZXBvQ29uZmlnID0gc3RhdGljOjpjb25maWdGcm9tU3RyaW5nKCRpbywgJGNvbmZpZywgJHJlcG9zaXRvcnksICRhbGxvd0ZpbGVzeXN0ZW0pOwoKcmV0dXJuIHN0YXRpYzo6Y3JlYXRlUmVwbygkaW8sICRjb25maWcsICRyZXBvQ29uZmlnLCAkcm0pOwp9CgoKCgoKCgpwdWJsaWMgc3RhdGljIGZ1bmN0aW9uIGNyZWF0ZVJlcG8oSU9JbnRlcmZhY2UgJGlvLCBDb25maWcgJGNvbmZpZywgYXJyYXkgJHJlcG9Db25maWcsIFJlcG9zaXRvcnlNYW5hZ2VyICRybSA9IG51bGwpCnsKaWYgKCEkcm0pIHsKJHJtID0gc3RhdGljOjptYW5hZ2VyKCRpbywgJGNvbmZpZywgRmFjdG9yeTo6Y3JlYXRlSHR0cERvd25sb2FkZXIoJGlvLCAkY29uZmlnKSk7Cn0KJHJlcG9zID0gc3RhdGljOjpjcmVhdGVSZXBvcygkcm0sIGFycmF5KCRyZXBvQ29uZmlnKSk7CgpyZXR1cm4gcmVzZXQoJHJlcG9zKTsKfQoKCgoKCgoKcHVibGljIHN0YXRpYyBmdW5jdGlvbiBkZWZhdWx0UmVwb3MoSU9JbnRlcmZhY2UgJGlvID0gbnVsbCwgQ29uZmlnICRjb25maWcgPSBudWxsLCBSZXBvc2l0b3J5TWFuYWdlciAkcm0gPSBudWxsKQp7CmlmICghJGNvbmZpZykgewokY29uZmlnID0gRmFjdG9yeTo6Y3JlYXRlQ29uZmlnKCRpbyk7Cn0KaWYgKCRpbykgewokaW8tPmxvYWRDb25maWd1cmF0aW9uKCRjb25maWcpOwp9CmlmICghJHJtKSB7CmlmICghJGlvKSB7CnRocm93IG5ldyBcSW52YWxpZEFyZ3VtZW50RXhjZXB0aW9uKCdUaGlzIGZ1bmN0aW9uIHJlcXVpcmVzIGVpdGhlciBhbiBJT0ludGVyZmFjZSBvciBhIFJlcG9zaXRvcnlNYW5hZ2VyJyk7Cn0KJHJtID0gc3RhdGljOjptYW5hZ2VyKCRpbywgJGNvbmZpZywgRmFjdG9yeTo6Y3JlYXRlSHR0cERvd25sb2FkZXIoJGlvLCAkY29uZmlnKSk7Cn0KCnJldHVybiBzdGF0aWM6OmNyZWF0ZVJlcG9zKCRybSwgJGNvbmZpZy0+Z2V0UmVwb3NpdG9yaWVzKCkpOwp9CgoKCgoKCgoKcHVibGljIHN0YXRpYyBmdW5jdGlvbiBtYW5hZ2VyKElPSW50ZXJmYWNlICRpbywgQ29uZmlnICRjb25maWcsIEh0dHBEb3dubG9hZGVyICRodHRwRG93bmxvYWRlciwgRXZlbnREaXNwYXRjaGVyICRldmVudERpc3BhdGNoZXIgPSBudWxsLCBQcm9jZXNzRXhlY3V0b3IgJHByb2Nlc3MgPSBudWxsKQp7CiRybSA9IG5ldyBSZXBvc2l0b3J5TWFuYWdlcigkaW8sICRjb25maWcsICRodHRwRG93bmxvYWRlciwgJGV2ZW50RGlzcGF0Y2hlciwgJHByb2Nlc3MpOwokcm0tPnNldFJlcG9zaXRvcnlDbGFzcygnY29tcG9zZXInLCAnQ29tcG9zZXJcUmVwb3NpdG9yeVxDb21wb3NlclJlcG9zaXRvcnknKTsKJHJtLT5zZXRSZXBvc2l0b3J5Q2xhc3MoJ3ZjcycsICdDb21wb3NlclxSZXBvc2l0b3J5XFZjc1JlcG9zaXRvcnknKTsKJHJtLT5zZXRSZXBvc2l0b3J5Q2xhc3MoJ3BhY2thZ2UnLCAnQ29tcG9zZXJcUmVwb3NpdG9yeVxQYWNrYWdlUmVwb3NpdG9yeScpOwokcm0tPnNldFJlcG9zaXRvcnlDbGFzcygncGVhcicsICdDb21wb3NlclxSZXBvc2l0b3J5XFBlYXJSZXBvc2l0b3J5Jyk7CiRybS0+c2V0UmVwb3NpdG9yeUNsYXNzKCdnaXQnLCAnQ29tcG9zZXJcUmVwb3NpdG9yeVxWY3NSZXBvc2l0b3J5Jyk7CiRybS0+c2V0UmVwb3NpdG9yeUNsYXNzKCdnaXQtYml0YnVja2V0JywgJ0NvbXBvc2VyXFJlcG9zaXRvcnlcVmNzUmVwb3NpdG9yeScpOwokcm0tPnNldFJlcG9zaXRvcnlDbGFzcygnZ2l0aHViJywgJ0NvbXBvc2VyXFJlcG9zaXRvcnlcVmNzUmVwb3NpdG9yeScpOwokcm0tPnNldFJlcG9zaXRvcnlDbGFzcygnZ2l0bGFiJywgJ0NvbXBvc2VyXFJlcG9zaXRvcnlcVmNzUmVwb3NpdG9yeScpOwokcm0tPnNldFJlcG9zaXRvcnlDbGFzcygnc3ZuJywgJ0NvbXBvc2VyXFJlcG9zaXRvcnlcVmNzUmVwb3NpdG9yeScpOwokcm0tPnNldFJlcG9zaXRvcnlDbGFzcygnZm9zc2lsJywgJ0NvbXBvc2VyXFJlcG9zaXRvcnlcVmNzUmVwb3NpdG9yeScpOwokcm0tPnNldFJlcG9zaXRvcnlDbGFzcygncGVyZm9yY2UnLCAnQ29tcG9zZXJcUmVwb3NpdG9yeVxWY3NSZXBvc2l0b3J5Jyk7CiRybS0+c2V0UmVwb3NpdG9yeUNsYXNzKCdoZycsICdDb21wb3NlclxSZXBvc2l0b3J5XFZjc1JlcG9zaXRvcnknKTsKJHJtLT5zZXRSZXBvc2l0b3J5Q2xhc3MoJ2hnLWJpdGJ1Y2tldCcsICdDb21wb3NlclxSZXBvc2l0b3J5XFZjc1JlcG9zaXRvcnknKTsKJHJtLT5zZXRSZXBvc2l0b3J5Q2xhc3MoJ2FydGlmYWN0JywgJ0NvbXBvc2VyXFJlcG9zaXRvcnlcQXJ0aWZhY3RSZXBvc2l0b3J5Jyk7CiRybS0+c2V0UmVwb3NpdG9yeUNsYXNzKCdwYXRoJywgJ0NvbXBvc2VyXFJlcG9zaXRvcnlcUGF0aFJlcG9zaXRvcnknKTsKCnJldHVybiAkcm07Cn0KCgoKCnByaXZhdGUgc3RhdGljIGZ1bmN0aW9uIGNyZWF0ZVJlcG9zKFJlcG9zaXRvcnlNYW5hZ2VyICRybSwgYXJyYXkgJHJlcG9Db25maWdzKQp7CiRyZXBvcyA9IGFycmF5KCk7Cgpmb3JlYWNoICgkcmVwb0NvbmZpZ3MgYXMgJGluZGV4ID0+ICRyZXBvKSB7CmlmIChpc19zdHJpbmcoJHJlcG8pKSB7CnRocm93IG5ldyBcVW5leHBlY3RlZFZhbHVlRXhjZXB0aW9uKCcicmVwb3NpdG9yaWVzIiBzaG91bGQgYmUgYW4gYXJyYXkgb2YgcmVwb3NpdG9yeSBkZWZpbml0aW9ucywgb25seSBhIHNpbmdsZSByZXBvc2l0b3J5IHdhcyBnaXZlbicpOwp9CmlmICghaXNfYXJyYXkoJHJlcG8pKSB7CnRocm93IG5ldyBcVW5leHBlY3RlZFZhbHVlRXhjZXB0aW9uKCdSZXBvc2l0b3J5ICInLiRpbmRleC4nIiAoJy5qc29uX2VuY29kZSgkcmVwbykuJykgc2hvdWxkIGJlIGFuIGFycmF5LCAnLmdldHR5cGUoJHJlcG8pLicgZ2l2ZW4nKTsKfQppZiAoIWlzc2V0KCRyZXBvWyd0eXBlJ10pKSB7CnRocm93IG5ldyBcVW5leHBlY3RlZFZhbHVlRXhjZXB0aW9uKCdSZXBvc2l0b3J5ICInLiRpbmRleC4nIiAoJy5qc29uX2VuY29kZSgkcmVwbykuJykgbXVzdCBoYXZlIGEgdHlwZSBkZWZpbmVkJyk7Cn0KCiRuYW1lID0gc2VsZjo6Z2VuZXJhdGVSZXBvc2l0b3J5TmFtZSgkaW5kZXgsICRyZXBvLCAkcmVwb3MpOwppZiAoJHJlcG9bJ3R5cGUnXSA9PT0gJ2ZpbGVzeXN0ZW0nKSB7CiRyZXBvc1skbmFtZV0gPSBuZXcgRmlsZXN5c3RlbVJlcG9zaXRvcnkoJHJlcG9bJ2pzb24nXSk7Cn0gZWxzZSB7CiRyZXBvc1skbmFtZV0gPSAkcm0tPmNyZWF0ZVJlcG9zaXRvcnkoJHJlcG9bJ3R5cGUnXSwgJHJlcG8sICRpbmRleCk7Cn0KfQoKcmV0dXJuICRyZXBvczsKfQoKcHVibGljIHN0YXRpYyBmdW5jdGlvbiBnZW5lcmF0ZVJlcG9zaXRvcnlOYW1lKCRpbmRleCwgYXJyYXkgJHJlcG8sIGFycmF5ICRleGlzdGluZ1JlcG9zKQp7CiRuYW1lID0gaXNfaW50KCRpbmRleCkgJiYgaXNzZXQoJHJlcG9bJ3VybCddKSA/IHByZWdfcmVwbGFjZSgne15odHRwcz86Ly99aScsICcnLCAkcmVwb1sndXJsJ10pIDogJGluZGV4Owp3aGlsZSAoaXNzZXQoJGV4aXN0aW5nUmVwb3NbJG5hbWVdKSkgewokbmFtZSAuPSAnMic7Cn0KCnJldHVybiAkbmFtZTsKfQp9Cjw/cGhwCgoKCgoKCgoKCgoKbmFtZXNwYWNlIENvbXBvc2VyXFJlcG9zaXRvcnk7Cgp1c2UgQ29tcG9zZXJcUGFja2FnZVxQYWNrYWdlSW50ZXJmYWNlOwp1c2UgQ29tcG9zZXJcUGFja2FnZVxCYXNlUGFja2FnZTsKdXNlIENvbXBvc2VyXFNlbXZlclxDb25zdHJhaW50XENvbnN0cmFpbnRJbnRlcmZhY2U7CgoKCgoKCgoKaW50ZXJmYWNlIFJlcG9zaXRvcnlJbnRlcmZhY2UgZXh0ZW5kcyBcQ291bnRhYmxlCnsKY29uc3QgU0VBUkNIX0ZVTExURVhUID0gMDsKY29uc3QgU0VBUkNIX05BTUUgPSAxOwoKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBoYXNQYWNrYWdlKFBhY2thZ2VJbnRlcmZhY2UgJHBhY2thZ2UpOwoKCgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gZmluZFBhY2thZ2UoJG5hbWUsICRjb25zdHJhaW50KTsKCgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIGZpbmRQYWNrYWdlcygkbmFtZSwgJGNvbnN0cmFpbnQgPSBudWxsKTsKCgoKCgoKcHVibGljIGZ1bmN0aW9uIGdldFBhY2thZ2VzKCk7CgoKCgoKCgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIGxvYWRQYWNrYWdlcyhhcnJheSAkcGFja2FnZU5hbWVNYXAsIGFycmF5ICRhY2NlcHRhYmxlU3RhYmlsaXRpZXMsIGFycmF5ICRzdGFiaWxpdHlGbGFncywgYXJyYXkgJGFscmVhZHlMb2FkZWQgPSBhcnJheSgpKTsKCgoKCgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gc2VhcmNoKCRxdWVyeSwgJG1vZGUgPSAwLCAkdHlwZSA9IG51bGwpOwoKCgoKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBnZXRQcm92aWRlcnMoJHBhY2thZ2VOYW1lKTsKCgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0UmVwb05hbWUoKTsKfQo8P3BocAoKCgoKCgoKCgoKCm5hbWVzcGFjZSBDb21wb3NlclxSZXBvc2l0b3J5OwoKdXNlIENvbXBvc2VyXElPXElPSW50ZXJmYWNlOwp1c2UgQ29tcG9zZXJcQ29uZmlnOwp1c2UgQ29tcG9zZXJcRXZlbnREaXNwYXRjaGVyXEV2ZW50RGlzcGF0Y2hlcjsKdXNlIENvbXBvc2VyXFBhY2thZ2VcUGFja2FnZUludGVyZmFjZTsKdXNlIENvbXBvc2VyXFV0aWxcSHR0cERvd25sb2FkZXI7CnVzZSBDb21wb3NlclxVdGlsXFByb2Nlc3NFeGVjdXRvcjsKCgoKCgoKCgpjbGFzcyBSZXBvc2l0b3J5TWFuYWdlcgp7Cgpwcml2YXRlICRsb2NhbFJlcG9zaXRvcnk7Cgpwcml2YXRlICRyZXBvc2l0b3JpZXMgPSBhcnJheSgpOwoKcHJpdmF0ZSAkcmVwb3NpdG9yeUNsYXNzZXMgPSBhcnJheSgpOwoKcHJpdmF0ZSAkaW87Cgpwcml2YXRlICRjb25maWc7Cgpwcml2YXRlICRodHRwRG93bmxvYWRlcjsKCnByaXZhdGUgJGV2ZW50RGlzcGF0Y2hlcjsKCnByaXZhdGUgJHByb2Nlc3M7CgpwdWJsaWMgZnVuY3Rpb24gX19jb25zdHJ1Y3QoSU9JbnRlcmZhY2UgJGlvLCBDb25maWcgJGNvbmZpZywgSHR0cERvd25sb2FkZXIgJGh0dHBEb3dubG9hZGVyLCBFdmVudERpc3BhdGNoZXIgJGV2ZW50RGlzcGF0Y2hlciA9IG51bGwsIFByb2Nlc3NFeGVjdXRvciAkcHJvY2VzcyA9IG51bGwpCnsKJHRoaXMtPmlvID0gJGlvOwokdGhpcy0+Y29uZmlnID0gJGNvbmZpZzsKJHRoaXMtPmh0dHBEb3dubG9hZGVyID0gJGh0dHBEb3dubG9hZGVyOwokdGhpcy0+ZXZlbnREaXNwYXRjaGVyID0gJGV2ZW50RGlzcGF0Y2hlcjsKJHRoaXMtPnByb2Nlc3MgPSAkcHJvY2VzcyA/OiBuZXcgUHJvY2Vzc0V4ZWN1dG9yKCRpbyk7Cn0KCgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIGZpbmRQYWNrYWdlKCRuYW1lLCAkY29uc3RyYWludCkKewpmb3JlYWNoICgkdGhpcy0+cmVwb3NpdG9yaWVzIGFzICRyZXBvc2l0b3J5KSB7CgppZiAoJHBhY2thZ2UgPSAkcmVwb3NpdG9yeS0+ZmluZFBhY2thZ2UoJG5hbWUsICRjb25zdHJhaW50KSkgewpyZXR1cm4gJHBhY2thZ2U7Cn0KfQoKcmV0dXJuIG51bGw7Cn0KCgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIGZpbmRQYWNrYWdlcygkbmFtZSwgJGNvbnN0cmFpbnQpCnsKJHBhY2thZ2VzID0gYXJyYXkoKTsKCmZvcmVhY2ggKCR0aGlzLT5nZXRSZXBvc2l0b3JpZXMoKSBhcyAkcmVwb3NpdG9yeSkgewokcGFja2FnZXMgPSBhcnJheV9tZXJnZSgkcGFja2FnZXMsICRyZXBvc2l0b3J5LT5maW5kUGFja2FnZXMoJG5hbWUsICRjb25zdHJhaW50KSk7Cn0KCnJldHVybiAkcGFja2FnZXM7Cn0KCgoKCgoKcHVibGljIGZ1bmN0aW9uIGFkZFJlcG9zaXRvcnkoUmVwb3NpdG9yeUludGVyZmFjZSAkcmVwb3NpdG9yeSkKewokdGhpcy0+cmVwb3NpdG9yaWVzW10gPSAkcmVwb3NpdG9yeTsKfQoKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBwcmVwZW5kUmVwb3NpdG9yeShSZXBvc2l0b3J5SW50ZXJmYWNlICRyZXBvc2l0b3J5KQp7CmFycmF5X3Vuc2hpZnQoJHRoaXMtPnJlcG9zaXRvcmllcywgJHJlcG9zaXRvcnkpOwp9CgoKCgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gY3JlYXRlUmVwb3NpdG9yeSgkdHlwZSwgJGNvbmZpZywgJG5hbWUgPSBudWxsKQp7CmlmICghaXNzZXQoJHRoaXMtPnJlcG9zaXRvcnlDbGFzc2VzWyR0eXBlXSkpIHsKdGhyb3cgbmV3IFxJbnZhbGlkQXJndW1lbnRFeGNlcHRpb24oJ1JlcG9zaXRvcnkgdHlwZSBpcyBub3QgcmVnaXN0ZXJlZDogJy4kdHlwZSk7Cn0KCmlmIChpc3NldCgkY29uZmlnWydwYWNrYWdpc3QnXSkgJiYgZmFsc2UgPT09ICRjb25maWdbJ3BhY2thZ2lzdCddKSB7CiR0aGlzLT5pby0+d3JpdGVFcnJvcignPHdhcm5pbmc+UmVwb3NpdG9yeSAiJy4kbmFtZS4nIiAoJy5qc29uX2VuY29kZSgkY29uZmlnKS4nKSBoYXMgYSBwYWNrYWdpc3Qga2V5IHdoaWNoIHNob3VsZCBiZSBpbiBpdHMgb3duIHJlcG9zaXRvcnkgZGVmaW5pdGlvbjwvd2FybmluZz4nKTsKfQoKJGNsYXNzID0gJHRoaXMtPnJlcG9zaXRvcnlDbGFzc2VzWyR0eXBlXTsKCmlmIChpc3NldCgkY29uZmlnWydvbmx5J10pIHx8IGlzc2V0KCRjb25maWdbJ2V4Y2x1ZGUnXSkgfHwgaXNzZXQoJGNvbmZpZ1snY2Fub25pY2FsJ10pKSB7CiRmaWx0ZXJDb25maWcgPSAkY29uZmlnOwp1bnNldCgkY29uZmlnWydvbmx5J10sICRjb25maWdbJ2V4Y2x1ZGUnXSwgJGNvbmZpZ1snY2Fub25pY2FsJ10pOwp9CgokcmVwb3NpdG9yeSA9IG5ldyAkY2xhc3MoJGNvbmZpZywgJHRoaXMtPmlvLCAkdGhpcy0+Y29uZmlnLCAkdGhpcy0+aHR0cERvd25sb2FkZXIsICR0aGlzLT5ldmVudERpc3BhdGNoZXIsICR0aGlzLT5wcm9jZXNzKTsKCmlmIChpc3NldCgkZmlsdGVyQ29uZmlnKSkgewokcmVwb3NpdG9yeSA9IG5ldyBGaWx0ZXJSZXBvc2l0b3J5KCRyZXBvc2l0b3J5LCAkZmlsdGVyQ29uZmlnKTsKfQoKcmV0dXJuICRyZXBvc2l0b3J5Owp9CgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gc2V0UmVwb3NpdG9yeUNsYXNzKCR0eXBlLCAkY2xhc3MpCnsKJHRoaXMtPnJlcG9zaXRvcnlDbGFzc2VzWyR0eXBlXSA9ICRjbGFzczsKfQoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0UmVwb3NpdG9yaWVzKCkKewpyZXR1cm4gJHRoaXMtPnJlcG9zaXRvcmllczsKfQoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gc2V0TG9jYWxSZXBvc2l0b3J5KEluc3RhbGxlZFJlcG9zaXRvcnlJbnRlcmZhY2UgJHJlcG9zaXRvcnkpCnsKJHRoaXMtPmxvY2FsUmVwb3NpdG9yeSA9ICRyZXBvc2l0b3J5Owp9CgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBnZXRMb2NhbFJlcG9zaXRvcnkoKQp7CnJldHVybiAkdGhpcy0+bG9jYWxSZXBvc2l0b3J5Owp9Cn0KPD9waHAKCgoKCgoKCgoKCgpuYW1lc3BhY2UgQ29tcG9zZXJcUmVwb3NpdG9yeTsKCgoKCgoKY2xhc3MgUmVwb3NpdG9yeVNlY3VyaXR5RXhjZXB0aW9uIGV4dGVuZHMgXEV4Y2VwdGlvbgp7Cn0KPD9waHAKCgoKCgoKCgoKCgpuYW1lc3BhY2UgQ29tcG9zZXJcUmVwb3NpdG9yeTsKCnVzZSBDb21wb3NlclxEZXBlbmRlbmN5UmVzb2x2ZXJcUG9vbDsKdXNlIENvbXBvc2VyXERlcGVuZGVuY3lSZXNvbHZlclxQb29sQnVpbGRlcjsKdXNlIENvbXBvc2VyXERlcGVuZGVuY3lSZXNvbHZlclxSZXF1ZXN0Owp1c2UgQ29tcG9zZXJcRXZlbnREaXNwYXRjaGVyXEV2ZW50RGlzcGF0Y2hlcjsKdXNlIENvbXBvc2VyXElPXElPSW50ZXJmYWNlOwp1c2UgQ29tcG9zZXJcSU9cTnVsbElPOwp1c2UgQ29tcG9zZXJcUGFja2FnZVxCYXNlUGFja2FnZTsKdXNlIENvbXBvc2VyXFBhY2thZ2VcQWxpYXNQYWNrYWdlOwp1c2UgQ29tcG9zZXJcUGFja2FnZVxDb21wbGV0ZUFsaWFzUGFja2FnZTsKdXNlIENvbXBvc2VyXFBhY2thZ2VcQ29tcGxldGVQYWNrYWdlSW50ZXJmYWNlOwp1c2UgQ29tcG9zZXJcU2VtdmVyXENvbnN0cmFpbnRcQ29uc3RyYWludEludGVyZmFjZTsKdXNlIENvbXBvc2VyXFBhY2thZ2VcVmVyc2lvblxTdGFiaWxpdHlGaWx0ZXI7CgoKCgpjbGFzcyBSZXBvc2l0b3J5U2V0CnsKCgoKY29uc3QgQUxMT1dfVU5BQ0NFUFRBQkxFX1NUQUJJTElUSUVTID0gMTsKCgoKY29uc3QgQUxMT1dfU0hBRE9XRURfUkVQT1NJVE9SSUVTID0gMjsKCgoKCgpwcml2YXRlICRyb290QWxpYXNlczsKCgoKCgpwcml2YXRlICRyb290UmVmZXJlbmNlczsKCgpwcml2YXRlICRyZXBvc2l0b3JpZXMgPSBhcnJheSgpOwoKCgoKCnByaXZhdGUgJGFjY2VwdGFibGVTdGFiaWxpdGllczsKCgoKCgpwcml2YXRlICRzdGFiaWxpdHlGbGFnczsKCnByaXZhdGUgJHJvb3RSZXF1aXJlczsKCgpwcml2YXRlICRsb2NrZWQgPSBmYWxzZTsKCnByaXZhdGUgJGFsbG93SW5zdGFsbGVkUmVwb3NpdG9yaWVzID0gZmFsc2U7CgoKCgoKCgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIF9fY29uc3RydWN0KCRtaW5pbXVtU3RhYmlsaXR5ID0gJ3N0YWJsZScsIGFycmF5ICRzdGFiaWxpdHlGbGFncyA9IGFycmF5KCksIGFycmF5ICRyb290QWxpYXNlcyA9IGFycmF5KCksIGFycmF5ICRyb290UmVmZXJlbmNlcyA9IGFycmF5KCksIGFycmF5ICRyb290UmVxdWlyZXMgPSBhcnJheSgpKQp7CiR0aGlzLT5yb290QWxpYXNlcyA9IHNlbGY6OmdldFJvb3RBbGlhc2VzUGVyUGFja2FnZSgkcm9vdEFsaWFzZXMpOwokdGhpcy0+cm9vdFJlZmVyZW5jZXMgPSAkcm9vdFJlZmVyZW5jZXM7CgokdGhpcy0+YWNjZXB0YWJsZVN0YWJpbGl0aWVzID0gYXJyYXkoKTsKZm9yZWFjaCAoQmFzZVBhY2thZ2U6OiRzdGFiaWxpdGllcyBhcyAkc3RhYmlsaXR5ID0+ICR2YWx1ZSkgewppZiAoJHZhbHVlIDw9IEJhc2VQYWNrYWdlOjokc3RhYmlsaXRpZXNbJG1pbmltdW1TdGFiaWxpdHldKSB7CiR0aGlzLT5hY2NlcHRhYmxlU3RhYmlsaXRpZXNbJHN0YWJpbGl0eV0gPSAkdmFsdWU7Cn0KfQokdGhpcy0+c3RhYmlsaXR5RmxhZ3MgPSAkc3RhYmlsaXR5RmxhZ3M7CiR0aGlzLT5yb290UmVxdWlyZXMgPSAkcm9vdFJlcXVpcmVzOwpmb3JlYWNoICgkcm9vdFJlcXVpcmVzIGFzICRuYW1lID0+ICRjb25zdHJhaW50KSB7CmlmIChQbGF0Zm9ybVJlcG9zaXRvcnk6OmlzUGxhdGZvcm1QYWNrYWdlKCRuYW1lKSkgewp1bnNldCgkdGhpcy0+cm9vdFJlcXVpcmVzWyRuYW1lXSk7Cn0KfQp9CgpwdWJsaWMgZnVuY3Rpb24gYWxsb3dJbnN0YWxsZWRSZXBvc2l0b3JpZXMoJGFsbG93ID0gdHJ1ZSkKewokdGhpcy0+YWxsb3dJbnN0YWxsZWRSZXBvc2l0b3JpZXMgPSAkYWxsb3c7Cn0KCnB1YmxpYyBmdW5jdGlvbiBnZXRSb290UmVxdWlyZXMoKQp7CnJldHVybiAkdGhpcy0+cm9vdFJlcXVpcmVzOwp9CgoKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBhZGRSZXBvc2l0b3J5KFJlcG9zaXRvcnlJbnRlcmZhY2UgJHJlcG8pCnsKaWYgKCR0aGlzLT5sb2NrZWQpIHsKdGhyb3cgbmV3IFxSdW50aW1lRXhjZXB0aW9uKCJQb29sIGhhcyBhbHJlYWR5IGJlZW4gY3JlYXRlZCBmcm9tIHRoaXMgcmVwb3NpdG9yeSBzZXQsIGl0IGNhbm5vdCBiZSBtb2RpZmllZCBhbnltb3JlLiIpOwp9CgppZiAoJHJlcG8gaW5zdGFuY2VvZiBDb21wb3NpdGVSZXBvc2l0b3J5KSB7CiRyZXBvcyA9ICRyZXBvLT5nZXRSZXBvc2l0b3JpZXMoKTsKfSBlbHNlIHsKJHJlcG9zID0gYXJyYXkoJHJlcG8pOwp9Cgpmb3JlYWNoICgkcmVwb3MgYXMgJHJlcG8pIHsKJHRoaXMtPnJlcG9zaXRvcmllc1tdID0gJHJlcG87Cn0KfQoKCgoKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBmaW5kUGFja2FnZXMoJG5hbWUsIENvbnN0cmFpbnRJbnRlcmZhY2UgJGNvbnN0cmFpbnQgPSBudWxsLCAkZmxhZ3MgPSAwKQp7CiRpZ25vcmVTdGFiaWxpdHkgPSAoJGZsYWdzICYgc2VsZjo6QUxMT1dfVU5BQ0NFUFRBQkxFX1NUQUJJTElUSUVTKSAhPT0gMDsKJGxvYWRGcm9tQWxsUmVwb3MgPSAoJGZsYWdzICYgc2VsZjo6QUxMT1dfU0hBRE9XRURfUkVQT1NJVE9SSUVTKSAhPT0gMDsKCiRwYWNrYWdlcyA9IGFycmF5KCk7CmlmICgkbG9hZEZyb21BbGxSZXBvcykgewpmb3JlYWNoICgkdGhpcy0+cmVwb3NpdG9yaWVzIGFzICRyZXBvc2l0b3J5KSB7CiRwYWNrYWdlc1tdID0gJHJlcG9zaXRvcnktPmZpbmRQYWNrYWdlcygkbmFtZSwgJGNvbnN0cmFpbnQpID86IGFycmF5KCk7Cn0KfSBlbHNlIHsKZm9yZWFjaCAoJHRoaXMtPnJlcG9zaXRvcmllcyBhcyAkcmVwb3NpdG9yeSkgewokcmVzdWx0ID0gJHJlcG9zaXRvcnktPmxvYWRQYWNrYWdlcyhhcnJheSgkbmFtZSA9PiAkY29uc3RyYWludCksICRpZ25vcmVTdGFiaWxpdHkgPyBCYXNlUGFja2FnZTo6JHN0YWJpbGl0aWVzIDogJHRoaXMtPmFjY2VwdGFibGVTdGFiaWxpdGllcywgJGlnbm9yZVN0YWJpbGl0eSA/IGFycmF5KCkgOiAkdGhpcy0+c3RhYmlsaXR5RmxhZ3MpOwoKJHBhY2thZ2VzW10gPSAkcmVzdWx0WydwYWNrYWdlcyddOwpmb3JlYWNoICgkcmVzdWx0WyduYW1lc0ZvdW5kJ10gYXMgJG5hbWVGb3VuZCkgewoKaWYgKCRuYW1lID09PSAkbmFtZUZvdW5kKSB7CmJyZWFrIDI7Cn0KfQp9Cn0KCiRjYW5kaWRhdGVzID0gJHBhY2thZ2VzID8gY2FsbF91c2VyX2Z1bmNfYXJyYXkoJ2FycmF5X21lcmdlJywgJHBhY2thZ2VzKSA6IGFycmF5KCk7CgoKaWYgKCRpZ25vcmVTdGFiaWxpdHkgfHwgISRsb2FkRnJvbUFsbFJlcG9zKSB7CnJldHVybiAkY2FuZGlkYXRlczsKfQoKJHJlc3VsdCA9IGFycmF5KCk7CmZvcmVhY2ggKCRjYW5kaWRhdGVzIGFzICRjYW5kaWRhdGUpIHsKaWYgKCR0aGlzLT5pc1BhY2thZ2VBY2NlcHRhYmxlKCRjYW5kaWRhdGUtPmdldE5hbWVzKCksICRjYW5kaWRhdGUtPmdldFN0YWJpbGl0eSgpKSkgewokcmVzdWx0W10gPSAkY2FuZGlkYXRlOwp9Cn0KCnJldHVybiAkcmVzdWx0Owp9CgpwdWJsaWMgZnVuY3Rpb24gZ2V0UHJvdmlkZXJzKCRwYWNrYWdlTmFtZSkKewokcHJvdmlkZXJzID0gYXJyYXkoKTsKZm9yZWFjaCAoJHRoaXMtPnJlcG9zaXRvcmllcyBhcyAkcmVwb3NpdG9yeSkgewppZiAoJHJlcG9Qcm92aWRlcnMgPSAkcmVwb3NpdG9yeS0+Z2V0UHJvdmlkZXJzKCRwYWNrYWdlTmFtZSkpIHsKJHByb3ZpZGVycyA9IGFycmF5X21lcmdlKCRwcm92aWRlcnMsICRyZXBvUHJvdmlkZXJzKTsKfQp9CgpyZXR1cm4gJHByb3ZpZGVyczsKfQoKcHVibGljIGZ1bmN0aW9uIGlzUGFja2FnZUFjY2VwdGFibGUoJG5hbWVzLCAkc3RhYmlsaXR5KQp7CnJldHVybiBTdGFiaWxpdHlGaWx0ZXI6OmlzUGFja2FnZUFjY2VwdGFibGUoJHRoaXMtPmFjY2VwdGFibGVTdGFiaWxpdGllcywgJHRoaXMtPnN0YWJpbGl0eUZsYWdzLCAkbmFtZXMsICRzdGFiaWxpdHkpOwp9CgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBjcmVhdGVQb29sKFJlcXVlc3QgJHJlcXVlc3QsIElPSW50ZXJmYWNlICRpbywgRXZlbnREaXNwYXRjaGVyICRldmVudERpc3BhdGNoZXIgPSBudWxsKQp7CiRwb29sQnVpbGRlciA9IG5ldyBQb29sQnVpbGRlcigkdGhpcy0+YWNjZXB0YWJsZVN0YWJpbGl0aWVzLCAkdGhpcy0+c3RhYmlsaXR5RmxhZ3MsICR0aGlzLT5yb290QWxpYXNlcywgJHRoaXMtPnJvb3RSZWZlcmVuY2VzLCAkaW8sICRldmVudERpc3BhdGNoZXIpOwoKZm9yZWFjaCAoJHRoaXMtPnJlcG9zaXRvcmllcyBhcyAkcmVwbykgewppZiAoKCRyZXBvIGluc3RhbmNlb2YgSW5zdGFsbGVkUmVwb3NpdG9yeUludGVyZmFjZSB8fCAkcmVwbyBpbnN0YW5jZW9mIEluc3RhbGxlZFJlcG9zaXRvcnkpICYmICEkdGhpcy0+YWxsb3dJbnN0YWxsZWRSZXBvc2l0b3JpZXMpIHsKdGhyb3cgbmV3IFxMb2dpY0V4Y2VwdGlvbignVGhlIHBvb2wgY2FuIG5vdCBhY2NlcHQgcGFja2FnZXMgZnJvbSBhbiBpbnN0YWxsZWQgcmVwb3NpdG9yeScpOwp9Cn0KCiR0aGlzLT5sb2NrZWQgPSB0cnVlOwoKcmV0dXJuICRwb29sQnVpbGRlci0+YnVpbGRQb29sKCR0aGlzLT5yZXBvc2l0b3JpZXMsICRyZXF1ZXN0KTsKfQoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gY3JlYXRlUG9vbFdpdGhBbGxQYWNrYWdlcygpCnsKZm9yZWFjaCAoJHRoaXMtPnJlcG9zaXRvcmllcyBhcyAkcmVwbykgewppZiAoKCRyZXBvIGluc3RhbmNlb2YgSW5zdGFsbGVkUmVwb3NpdG9yeUludGVyZmFjZSB8fCAkcmVwbyBpbnN0YW5jZW9mIEluc3RhbGxlZFJlcG9zaXRvcnkpICYmICEkdGhpcy0+YWxsb3dJbnN0YWxsZWRSZXBvc2l0b3JpZXMpIHsKdGhyb3cgbmV3IFxMb2dpY0V4Y2VwdGlvbignVGhlIHBvb2wgY2FuIG5vdCBhY2NlcHQgcGFja2FnZXMgZnJvbSBhbiBpbnN0YWxsZWQgcmVwb3NpdG9yeScpOwp9Cn0KCiR0aGlzLT5sb2NrZWQgPSB0cnVlOwoKJHBhY2thZ2VzID0gYXJyYXkoKTsKZm9yZWFjaCAoJHRoaXMtPnJlcG9zaXRvcmllcyBhcyAkcmVwb3NpdG9yeSkgewpmb3JlYWNoICgkcmVwb3NpdG9yeS0+Z2V0UGFja2FnZXMoKSBhcyAkcGFja2FnZSkgewokcGFja2FnZXNbXSA9ICRwYWNrYWdlOwoKaWYgKGlzc2V0KCR0aGlzLT5yb290QWxpYXNlc1skcGFja2FnZS0+Z2V0TmFtZSgpXVskcGFja2FnZS0+Z2V0VmVyc2lvbigpXSkpIHsKJGFsaWFzID0gJHRoaXMtPnJvb3RBbGlhc2VzWyRwYWNrYWdlLT5nZXROYW1lKCldWyRwYWNrYWdlLT5nZXRWZXJzaW9uKCldOwp3aGlsZSAoJHBhY2thZ2UgaW5zdGFuY2VvZiBBbGlhc1BhY2thZ2UpIHsKJHBhY2thZ2UgPSAkcGFja2FnZS0+Z2V0QWxpYXNPZigpOwp9CmlmICgkcGFja2FnZSBpbnN0YW5jZW9mIENvbXBsZXRlUGFja2FnZUludGVyZmFjZSkgewokYWxpYXNQYWNrYWdlID0gbmV3IENvbXBsZXRlQWxpYXNQYWNrYWdlKCRwYWNrYWdlLCAkYWxpYXNbJ2FsaWFzX25vcm1hbGl6ZWQnXSwgJGFsaWFzWydhbGlhcyddKTsKfSBlbHNlIHsKJGFsaWFzUGFja2FnZSA9IG5ldyBBbGlhc1BhY2thZ2UoJHBhY2thZ2UsICRhbGlhc1snYWxpYXNfbm9ybWFsaXplZCddLCAkYWxpYXNbJ2FsaWFzJ10pOwp9CiRhbGlhc1BhY2thZ2UtPnNldFJvb3RQYWNrYWdlQWxpYXModHJ1ZSk7CiRwYWNrYWdlc1tdID0gJGFsaWFzUGFja2FnZTsKfQp9Cn0KCnJldHVybiBuZXcgUG9vbCgkcGFja2FnZXMpOwp9CgoKcHVibGljIGZ1bmN0aW9uIGNyZWF0ZVBvb2xGb3JQYWNrYWdlKCRwYWNrYWdlTmFtZSwgTG9ja0FycmF5UmVwb3NpdG9yeSAkbG9ja2VkUmVwbyA9IG51bGwpCnsKcmV0dXJuICR0aGlzLT5jcmVhdGVQb29sRm9yUGFja2FnZXMoYXJyYXkoJHBhY2thZ2VOYW1lKSwgJGxvY2tlZFJlcG8pOwp9CgpwdWJsaWMgZnVuY3Rpb24gY3JlYXRlUG9vbEZvclBhY2thZ2VzKCRwYWNrYWdlTmFtZXMsIExvY2tBcnJheVJlcG9zaXRvcnkgJGxvY2tlZFJlcG8gPSBudWxsKQp7CiRyZXF1ZXN0ID0gbmV3IFJlcXVlc3QoJGxvY2tlZFJlcG8pOwoKZm9yZWFjaCAoJHBhY2thZ2VOYW1lcyBhcyAkcGFja2FnZU5hbWUpIHsKaWYgKFBsYXRmb3JtUmVwb3NpdG9yeTo6aXNQbGF0Zm9ybVBhY2thZ2UoJHBhY2thZ2VOYW1lKSkgewp0aHJvdyBuZXcgXExvZ2ljRXhjZXB0aW9uKCdjcmVhdGVQb29sRm9yUGFja2FnZShzKSBjYW4gbm90IGJlIHVzZWQgZm9yIHBsYXRmb3JtIHBhY2thZ2VzLCBhcyB0aGV5IGFyZSBuZXZlciBsb2FkZWQgYnkgdGhlIFBvb2xCdWlsZGVyIHdoaWNoIGV4cGVjdHMgdGhlbSB0byBiZSBmaXhlZC4gVXNlIGNyZWF0ZVBvb2xXaXRoQWxsUGFja2FnZXMgb3IgcGFzcyBpbiBhIHByb3BlciByZXF1ZXN0IHdpdGggdGhlIHBsYXRmb3JtIHBhY2thZ2VzIHlvdSBuZWVkIGZpeGVkIGluIGl0LicpOwp9CgokcmVxdWVzdC0+cmVxdWlyZU5hbWUoJHBhY2thZ2VOYW1lKTsKfQoKcmV0dXJuICR0aGlzLT5jcmVhdGVQb29sKCRyZXF1ZXN0LCBuZXcgTnVsbElPKCkpOwp9Cgpwcml2YXRlIHN0YXRpYyBmdW5jdGlvbiBnZXRSb290QWxpYXNlc1BlclBhY2thZ2UoYXJyYXkgJGFsaWFzZXMpCnsKJG5vcm1hbGl6ZWRBbGlhc2VzID0gYXJyYXkoKTsKCmZvcmVhY2ggKCRhbGlhc2VzIGFzICRhbGlhcykgewokbm9ybWFsaXplZEFsaWFzZXNbJGFsaWFzWydwYWNrYWdlJ11dWyRhbGlhc1sndmVyc2lvbiddXSA9IGFycmF5KAonYWxpYXMnID0+ICRhbGlhc1snYWxpYXMnXSwKJ2FsaWFzX25vcm1hbGl6ZWQnID0+ICRhbGlhc1snYWxpYXNfbm9ybWFsaXplZCddLAopOwp9CgpyZXR1cm4gJG5vcm1hbGl6ZWRBbGlhc2VzOwp9Cn0KPD9waHAKCgoKCgoKCgoKCgpuYW1lc3BhY2UgQ29tcG9zZXJcUmVwb3NpdG9yeTsKCnVzZSBDb21wb3NlclxQYWNrYWdlXFJvb3RQYWNrYWdlSW50ZXJmYWNlOwoKCgoKCgoKCmNsYXNzIFJvb3RQYWNrYWdlUmVwb3NpdG9yeSBleHRlbmRzIEFycmF5UmVwb3NpdG9yeQp7CnB1YmxpYyBmdW5jdGlvbiBfX2NvbnN0cnVjdChSb290UGFja2FnZUludGVyZmFjZSAkcGFja2FnZSkKewpwYXJlbnQ6Ol9fY29uc3RydWN0KGFycmF5KCRwYWNrYWdlKSk7Cn0KCnB1YmxpYyBmdW5jdGlvbiBnZXRSZXBvTmFtZSgpCnsKcmV0dXJuICdyb290IHBhY2thZ2UgcmVwbyc7Cn0KfQo8P3BocAoKCgoKCgoKCgoKCm5hbWVzcGFjZSBDb21wb3NlclxSZXBvc2l0b3J5XFZjczsKCnVzZSBDb21wb3NlclxDYWNoZTsKdXNlIENvbXBvc2VyXERvd25sb2FkZXJcVHJhbnNwb3J0RXhjZXB0aW9uOwp1c2UgQ29tcG9zZXJcSnNvblxKc29uRmlsZTsKdXNlIENvbXBvc2VyXFV0aWxcQml0YnVja2V0Owp1c2UgQ29tcG9zZXJcVXRpbFxIdHRwXFJlc3BvbnNlOwoKYWJzdHJhY3QgY2xhc3MgQml0YnVja2V0RHJpdmVyIGV4dGVuZHMgVmNzRHJpdmVyCnsKcHJvdGVjdGVkICRvd25lcjsKcHJvdGVjdGVkICRyZXBvc2l0b3J5Owpwcm90ZWN0ZWQgJGhhc0lzc3VlczsKcHJvdGVjdGVkICRyb290SWRlbnRpZmllcjsKcHJvdGVjdGVkICR0YWdzOwpwcm90ZWN0ZWQgJGJyYW5jaGVzOwpwcm90ZWN0ZWQgJGJyYW5jaGVzVXJsID0gJyc7CnByb3RlY3RlZCAkdGFnc1VybCA9ICcnOwpwcm90ZWN0ZWQgJGhvbWVVcmwgPSAnJzsKcHJvdGVjdGVkICR3ZWJzaXRlID0gJyc7CnByb3RlY3RlZCAkY2xvbmVIdHRwc1VybCA9ICcnOwoKCgoKcHJvdGVjdGVkICRmYWxsYmFja0RyaXZlciA9IG51bGw7Cgpwcm90ZWN0ZWQgJHZjc1R5cGU7CgoKCgpwdWJsaWMgZnVuY3Rpb24gaW5pdGlhbGl6ZSgpCnsKcHJlZ19tYXRjaCgnI15odHRwcz86Ly9iaXRidWNrZXRcLm9yZy8oW14vXSspLyhbXi9dKz8pKFwuZ2l0fC8/KSQjaScsICR0aGlzLT51cmwsICRtYXRjaCk7CiR0aGlzLT5vd25lciA9ICRtYXRjaFsxXTsKJHRoaXMtPnJlcG9zaXRvcnkgPSAkbWF0Y2hbMl07CiR0aGlzLT5vcmlnaW5VcmwgPSAnYml0YnVja2V0Lm9yZyc7CiR0aGlzLT5jYWNoZSA9IG5ldyBDYWNoZSgKJHRoaXMtPmlvLAppbXBsb2RlKCcvJywgYXJyYXkoCiR0aGlzLT5jb25maWctPmdldCgnY2FjaGUtcmVwby1kaXInKSwKJHRoaXMtPm9yaWdpblVybCwKJHRoaXMtPm93bmVyLAokdGhpcy0+cmVwb3NpdG9yeSwKKSkKKTsKJHRoaXMtPmNhY2hlLT5zZXRSZWFkT25seSgkdGhpcy0+Y29uZmlnLT5nZXQoJ2NhY2hlLXJlYWQtb25seScpKTsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIGdldFVybCgpCnsKaWYgKCR0aGlzLT5mYWxsYmFja0RyaXZlcikgewpyZXR1cm4gJHRoaXMtPmZhbGxiYWNrRHJpdmVyLT5nZXRVcmwoKTsKfQoKcmV0dXJuICR0aGlzLT5jbG9uZUh0dHBzVXJsOwp9CgoKCgoKCgpwcm90ZWN0ZWQgZnVuY3Rpb24gZ2V0UmVwb0RhdGEoKQp7CiRyZXNvdXJjZSA9IHNwcmludGYoCidodHRwczovL2FwaS5iaXRidWNrZXQub3JnLzIuMC9yZXBvc2l0b3JpZXMvJXMvJXM/JXMnLAokdGhpcy0+b3duZXIsCiR0aGlzLT5yZXBvc2l0b3J5LApodHRwX2J1aWxkX3F1ZXJ5KAphcnJheSgnZmllbGRzJyA9PiAnLXByb2plY3QsLW93bmVyJyksCm51bGwsCicmJwopCik7CgokcmVwb0RhdGEgPSAkdGhpcy0+ZmV0Y2hXaXRoT0F1dGhDcmVkZW50aWFscygkcmVzb3VyY2UsIHRydWUpLT5kZWNvZGVKc29uKCk7CmlmICgkdGhpcy0+ZmFsbGJhY2tEcml2ZXIpIHsKcmV0dXJuIGZhbHNlOwp9CiR0aGlzLT5wYXJzZUNsb25lVXJscygkcmVwb0RhdGFbJ2xpbmtzJ11bJ2Nsb25lJ10pOwoKJHRoaXMtPmhhc0lzc3VlcyA9ICFlbXB0eSgkcmVwb0RhdGFbJ2hhc19pc3N1ZXMnXSk7CiR0aGlzLT5icmFuY2hlc1VybCA9ICRyZXBvRGF0YVsnbGlua3MnXVsnYnJhbmNoZXMnXVsnaHJlZiddOwokdGhpcy0+dGFnc1VybCA9ICRyZXBvRGF0YVsnbGlua3MnXVsndGFncyddWydocmVmJ107CiR0aGlzLT5ob21lVXJsID0gJHJlcG9EYXRhWydsaW5rcyddWydodG1sJ11bJ2hyZWYnXTsKJHRoaXMtPndlYnNpdGUgPSAkcmVwb0RhdGFbJ3dlYnNpdGUnXTsKJHRoaXMtPnZjc1R5cGUgPSAkcmVwb0RhdGFbJ3NjbSddOwoKcmV0dXJuIHRydWU7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBnZXRDb21wb3NlckluZm9ybWF0aW9uKCRpZGVudGlmaWVyKQp7CmlmICgkdGhpcy0+ZmFsbGJhY2tEcml2ZXIpIHsKcmV0dXJuICR0aGlzLT5mYWxsYmFja0RyaXZlci0+Z2V0Q29tcG9zZXJJbmZvcm1hdGlvbigkaWRlbnRpZmllcik7Cn0KCmlmICghaXNzZXQoJHRoaXMtPmluZm9DYWNoZVskaWRlbnRpZmllcl0pKSB7CmlmICgkdGhpcy0+c2hvdWxkQ2FjaGUoJGlkZW50aWZpZXIpICYmICRyZXMgPSAkdGhpcy0+Y2FjaGUtPnJlYWQoJGlkZW50aWZpZXIpKSB7CiRjb21wb3NlciA9IEpzb25GaWxlOjpwYXJzZUpzb24oJHJlcyk7Cn0gZWxzZSB7CiRjb21wb3NlciA9ICR0aGlzLT5nZXRCYXNlQ29tcG9zZXJJbmZvcm1hdGlvbigkaWRlbnRpZmllcik7CgppZiAoJHRoaXMtPnNob3VsZENhY2hlKCRpZGVudGlmaWVyKSkgewokdGhpcy0+Y2FjaGUtPndyaXRlKCRpZGVudGlmaWVyLCBqc29uX2VuY29kZSgkY29tcG9zZXIpKTsKfQp9CgppZiAoJGNvbXBvc2VyKSB7CgppZiAoIWlzc2V0KCRjb21wb3Nlclsnc3VwcG9ydCddWydzb3VyY2UnXSkpIHsKJGxhYmVsID0gYXJyYXlfc2VhcmNoKAokaWRlbnRpZmllciwKJHRoaXMtPmdldFRhZ3MoKQopID86IGFycmF5X3NlYXJjaCgKJGlkZW50aWZpZXIsCiR0aGlzLT5nZXRCcmFuY2hlcygpCikgPzogJGlkZW50aWZpZXI7CgppZiAoYXJyYXlfa2V5X2V4aXN0cygkbGFiZWwsICR0YWdzID0gJHRoaXMtPmdldFRhZ3MoKSkpIHsKJGhhc2ggPSAkdGFnc1skbGFiZWxdOwp9IGVsc2VpZiAoYXJyYXlfa2V5X2V4aXN0cygkbGFiZWwsICRicmFuY2hlcyA9ICR0aGlzLT5nZXRCcmFuY2hlcygpKSkgewokaGFzaCA9ICRicmFuY2hlc1skbGFiZWxdOwp9CgppZiAoIWlzc2V0KCRoYXNoKSkgewokY29tcG9zZXJbJ3N1cHBvcnQnXVsnc291cmNlJ10gPSBzcHJpbnRmKAonaHR0cHM6Ly8lcy8lcy8lcy9zcmMnLAokdGhpcy0+b3JpZ2luVXJsLAokdGhpcy0+b3duZXIsCiR0aGlzLT5yZXBvc2l0b3J5Cik7Cn0gZWxzZSB7CiRjb21wb3Nlclsnc3VwcG9ydCddWydzb3VyY2UnXSA9IHNwcmludGYoCidodHRwczovLyVzLyVzLyVzL3NyYy8lcy8/YXQ9JXMnLAokdGhpcy0+b3JpZ2luVXJsLAokdGhpcy0+b3duZXIsCiR0aGlzLT5yZXBvc2l0b3J5LAokaGFzaCwKJGxhYmVsCik7Cn0KfQppZiAoIWlzc2V0KCRjb21wb3Nlclsnc3VwcG9ydCddWydpc3N1ZXMnXSkgJiYgJHRoaXMtPmhhc0lzc3VlcykgewokY29tcG9zZXJbJ3N1cHBvcnQnXVsnaXNzdWVzJ10gPSBzcHJpbnRmKAonaHR0cHM6Ly8lcy8lcy8lcy9pc3N1ZXMnLAokdGhpcy0+b3JpZ2luVXJsLAokdGhpcy0+b3duZXIsCiR0aGlzLT5yZXBvc2l0b3J5Cik7Cn0KaWYgKCFpc3NldCgkY29tcG9zZXJbJ2hvbWVwYWdlJ10pKSB7CiRjb21wb3NlclsnaG9tZXBhZ2UnXSA9IGVtcHR5KCR0aGlzLT53ZWJzaXRlKSA/ICR0aGlzLT5ob21lVXJsIDogJHRoaXMtPndlYnNpdGU7Cn0KfQoKJHRoaXMtPmluZm9DYWNoZVskaWRlbnRpZmllcl0gPSAkY29tcG9zZXI7Cn0KCnJldHVybiAkdGhpcy0+aW5mb0NhY2hlWyRpZGVudGlmaWVyXTsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIGdldEZpbGVDb250ZW50KCRmaWxlLCAkaWRlbnRpZmllcikKewppZiAoJHRoaXMtPmZhbGxiYWNrRHJpdmVyKSB7CnJldHVybiAkdGhpcy0+ZmFsbGJhY2tEcml2ZXItPmdldEZpbGVDb250ZW50KCRmaWxlLCAkaWRlbnRpZmllcik7Cn0KCmlmIChzdHJwb3MoJGlkZW50aWZpZXIsICcvJykgIT09IGZhbHNlKSB7CiRicmFuY2hlcyA9ICR0aGlzLT5nZXRCcmFuY2hlcygpOwppZiAoaXNzZXQoJGJyYW5jaGVzWyRpZGVudGlmaWVyXSkpIHsKJGlkZW50aWZpZXIgPSAkYnJhbmNoZXNbJGlkZW50aWZpZXJdOwp9Cn0KCiRyZXNvdXJjZSA9IHNwcmludGYoCidodHRwczovL2FwaS5iaXRidWNrZXQub3JnLzIuMC9yZXBvc2l0b3JpZXMvJXMvJXMvc3JjLyVzLyVzJywKJHRoaXMtPm93bmVyLAokdGhpcy0+cmVwb3NpdG9yeSwKJGlkZW50aWZpZXIsCiRmaWxlCik7CgpyZXR1cm4gJHRoaXMtPmZldGNoV2l0aE9BdXRoQ3JlZGVudGlhbHMoJHJlc291cmNlKS0+Z2V0Qm9keSgpOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0Q2hhbmdlRGF0ZSgkaWRlbnRpZmllcikKewppZiAoJHRoaXMtPmZhbGxiYWNrRHJpdmVyKSB7CnJldHVybiAkdGhpcy0+ZmFsbGJhY2tEcml2ZXItPmdldENoYW5nZURhdGUoJGlkZW50aWZpZXIpOwp9CgppZiAoc3RycG9zKCRpZGVudGlmaWVyLCAnLycpICE9PSBmYWxzZSkgewokYnJhbmNoZXMgPSAkdGhpcy0+Z2V0QnJhbmNoZXMoKTsKaWYgKGlzc2V0KCRicmFuY2hlc1skaWRlbnRpZmllcl0pKSB7CiRpZGVudGlmaWVyID0gJGJyYW5jaGVzWyRpZGVudGlmaWVyXTsKfQp9CgokcmVzb3VyY2UgPSBzcHJpbnRmKAonaHR0cHM6Ly9hcGkuYml0YnVja2V0Lm9yZy8yLjAvcmVwb3NpdG9yaWVzLyVzLyVzL2NvbW1pdC8lcz9maWVsZHM9ZGF0ZScsCiR0aGlzLT5vd25lciwKJHRoaXMtPnJlcG9zaXRvcnksCiRpZGVudGlmaWVyCik7CiRjb21taXQgPSAkdGhpcy0+ZmV0Y2hXaXRoT0F1dGhDcmVkZW50aWFscygkcmVzb3VyY2UpLT5kZWNvZGVKc29uKCk7CgpyZXR1cm4gbmV3IFxEYXRlVGltZSgkY29tbWl0WydkYXRlJ10pOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0U291cmNlKCRpZGVudGlmaWVyKQp7CmlmICgkdGhpcy0+ZmFsbGJhY2tEcml2ZXIpIHsKcmV0dXJuICR0aGlzLT5mYWxsYmFja0RyaXZlci0+Z2V0U291cmNlKCRpZGVudGlmaWVyKTsKfQoKcmV0dXJuIGFycmF5KCd0eXBlJyA9PiAkdGhpcy0+dmNzVHlwZSwgJ3VybCcgPT4gJHRoaXMtPmdldFVybCgpLCAncmVmZXJlbmNlJyA9PiAkaWRlbnRpZmllcik7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBnZXREaXN0KCRpZGVudGlmaWVyKQp7CmlmICgkdGhpcy0+ZmFsbGJhY2tEcml2ZXIpIHsKcmV0dXJuICR0aGlzLT5mYWxsYmFja0RyaXZlci0+Z2V0RGlzdCgkaWRlbnRpZmllcik7Cn0KCiR1cmwgPSBzcHJpbnRmKAonaHR0cHM6Ly9iaXRidWNrZXQub3JnLyVzLyVzL2dldC8lcy56aXAnLAokdGhpcy0+b3duZXIsCiR0aGlzLT5yZXBvc2l0b3J5LAokaWRlbnRpZmllcgopOwoKcmV0dXJuIGFycmF5KCd0eXBlJyA9PiAnemlwJywgJ3VybCcgPT4gJHVybCwgJ3JlZmVyZW5jZScgPT4gJGlkZW50aWZpZXIsICdzaGFzdW0nID0+ICcnKTsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIGdldFRhZ3MoKQp7CmlmICgkdGhpcy0+ZmFsbGJhY2tEcml2ZXIpIHsKcmV0dXJuICR0aGlzLT5mYWxsYmFja0RyaXZlci0+Z2V0VGFncygpOwp9CgppZiAobnVsbCA9PT0gJHRoaXMtPnRhZ3MpIHsKJHRoaXMtPnRhZ3MgPSBhcnJheSgpOwokcmVzb3VyY2UgPSBzcHJpbnRmKAonJXM/JXMnLAokdGhpcy0+dGFnc1VybCwKaHR0cF9idWlsZF9xdWVyeSgKYXJyYXkoCidwYWdlbGVuJyA9PiAxMDAsCidmaWVsZHMnID0+ICd2YWx1ZXMubmFtZSx2YWx1ZXMudGFyZ2V0Lmhhc2gsbmV4dCcsCidzb3J0JyA9PiAnLXRhcmdldC5kYXRlJywKKSwKbnVsbCwKJyYnCikKKTsKJGhhc05leHQgPSB0cnVlOwp3aGlsZSAoJGhhc05leHQpIHsKJHRhZ3NEYXRhID0gJHRoaXMtPmZldGNoV2l0aE9BdXRoQ3JlZGVudGlhbHMoJHJlc291cmNlKS0+ZGVjb2RlSnNvbigpOwpmb3JlYWNoICgkdGFnc0RhdGFbJ3ZhbHVlcyddIGFzICRkYXRhKSB7CiR0aGlzLT50YWdzWyRkYXRhWyduYW1lJ11dID0gJGRhdGFbJ3RhcmdldCddWydoYXNoJ107Cn0KaWYgKGVtcHR5KCR0YWdzRGF0YVsnbmV4dCddKSkgewokaGFzTmV4dCA9IGZhbHNlOwp9IGVsc2UgewokcmVzb3VyY2UgPSAkdGFnc0RhdGFbJ25leHQnXTsKfQp9CmlmICgkdGhpcy0+dmNzVHlwZSA9PT0gJ2hnJykgewp1bnNldCgkdGhpcy0+dGFnc1sndGlwJ10pOwp9Cn0KCnJldHVybiAkdGhpcy0+dGFnczsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIGdldEJyYW5jaGVzKCkKewppZiAoJHRoaXMtPmZhbGxiYWNrRHJpdmVyKSB7CnJldHVybiAkdGhpcy0+ZmFsbGJhY2tEcml2ZXItPmdldEJyYW5jaGVzKCk7Cn0KCmlmIChudWxsID09PSAkdGhpcy0+YnJhbmNoZXMpIHsKJHRoaXMtPmJyYW5jaGVzID0gYXJyYXkoKTsKJHJlc291cmNlID0gc3ByaW50ZigKJyVzPyVzJywKJHRoaXMtPmJyYW5jaGVzVXJsLApodHRwX2J1aWxkX3F1ZXJ5KAphcnJheSgKJ3BhZ2VsZW4nID0+IDEwMCwKJ2ZpZWxkcycgPT4gJ3ZhbHVlcy5uYW1lLHZhbHVlcy50YXJnZXQuaGFzaCx2YWx1ZXMuaGVhZHMsbmV4dCcsCidzb3J0JyA9PiAnLXRhcmdldC5kYXRlJywKKSwKbnVsbCwKJyYnCikKKTsKJGhhc05leHQgPSB0cnVlOwp3aGlsZSAoJGhhc05leHQpIHsKJGJyYW5jaERhdGEgPSAkdGhpcy0+ZmV0Y2hXaXRoT0F1dGhDcmVkZW50aWFscygkcmVzb3VyY2UpLT5kZWNvZGVKc29uKCk7CmZvcmVhY2ggKCRicmFuY2hEYXRhWyd2YWx1ZXMnXSBhcyAkZGF0YSkgewoKaWYgKCR0aGlzLT52Y3NUeXBlID09PSAnaGcnICYmIGVtcHR5KCRkYXRhWydoZWFkcyddKSkgewpjb250aW51ZTsKfQoKJHRoaXMtPmJyYW5jaGVzWyRkYXRhWyduYW1lJ11dID0gJGRhdGFbJ3RhcmdldCddWydoYXNoJ107Cn0KaWYgKGVtcHR5KCRicmFuY2hEYXRhWyduZXh0J10pKSB7CiRoYXNOZXh0ID0gZmFsc2U7Cn0gZWxzZSB7CiRyZXNvdXJjZSA9ICRicmFuY2hEYXRhWyduZXh0J107Cn0KfQp9CgpyZXR1cm4gJHRoaXMtPmJyYW5jaGVzOwp9CgoKCgoKCgoKCnByb3RlY3RlZCBmdW5jdGlvbiBmZXRjaFdpdGhPQXV0aENyZWRlbnRpYWxzKCR1cmwsICRmZXRjaGluZ1JlcG9EYXRhID0gZmFsc2UpCnsKdHJ5IHsKcmV0dXJuIHBhcmVudDo6Z2V0Q29udGVudHMoJHVybCk7Cn0gY2F0Y2ggKFRyYW5zcG9ydEV4Y2VwdGlvbiAkZSkgewokYml0YnVja2V0VXRpbCA9IG5ldyBCaXRidWNrZXQoJHRoaXMtPmlvLCAkdGhpcy0+Y29uZmlnLCAkdGhpcy0+cHJvY2VzcywgJHRoaXMtPmh0dHBEb3dubG9hZGVyKTsKCmlmICg0MDMgPT09ICRlLT5nZXRDb2RlKCkgfHwgKDQwMSA9PT0gJGUtPmdldENvZGUoKSAmJiBzdHJwb3MoJGUtPmdldE1lc3NhZ2UoKSwgJ0NvdWxkIG5vdCBhdXRoZW50aWNhdGUgYWdhaW5zdCcpID09PSAwKSkgewppZiAoISR0aGlzLT5pby0+aGFzQXV0aGVudGljYXRpb24oJHRoaXMtPm9yaWdpblVybCkKJiYgJGJpdGJ1Y2tldFV0aWwtPmF1dGhvcml6ZU9BdXRoKCR0aGlzLT5vcmlnaW5VcmwpCikgewpyZXR1cm4gcGFyZW50OjpnZXRDb250ZW50cygkdXJsKTsKfQoKaWYgKCEkdGhpcy0+aW8tPmlzSW50ZXJhY3RpdmUoKSAmJiAkZmV0Y2hpbmdSZXBvRGF0YSkgewppZiAoJHRoaXMtPmF0dGVtcHRDbG9uZUZhbGxiYWNrKCkpIHsKcmV0dXJuIG5ldyBSZXNwb25zZShhcnJheSgndXJsJyA9PiAnZHVtbXknKSwgMjAwLCBhcnJheSgpLCAnbnVsbCcpOwp9Cn0KfQoKdGhyb3cgJGU7Cn0KfQoKCgoKCgphYnN0cmFjdCBwcm90ZWN0ZWQgZnVuY3Rpb24gZ2VuZXJhdGVTc2hVcmwoKTsKCnByb3RlY3RlZCBmdW5jdGlvbiBhdHRlbXB0Q2xvbmVGYWxsYmFjaygpCnsKdHJ5IHsKJHRoaXMtPnNldHVwRmFsbGJhY2tEcml2ZXIoJHRoaXMtPmdlbmVyYXRlU3NoVXJsKCkpOwoKcmV0dXJuIHRydWU7Cn0gY2F0Y2ggKFxSdW50aW1lRXhjZXB0aW9uICRlKSB7CiR0aGlzLT5mYWxsYmFja0RyaXZlciA9IG51bGw7CgokdGhpcy0+aW8tPndyaXRlRXJyb3IoCic8ZXJyb3I+RmFpbGVkIHRvIGNsb25lIHRoZSAnIC4gJHRoaXMtPmdlbmVyYXRlU3NoVXJsKCkgLiAnIHJlcG9zaXRvcnksIHRyeSBydW5uaW5nIGluIGludGVyYWN0aXZlIG1vZGUnCi4gJyBzbyB0aGF0IHlvdSBjYW4gZW50ZXIgeW91ciBCaXRidWNrZXQgT0F1dGggY29uc3VtZXIgY3JlZGVudGlhbHM8L2Vycm9yPicKKTsKdGhyb3cgJGU7Cn0KfQoKCgoKCmFic3RyYWN0IHByb3RlY3RlZCBmdW5jdGlvbiBzZXR1cEZhbGxiYWNrRHJpdmVyKCR1cmwpOwoKCgoKCnByb3RlY3RlZCBmdW5jdGlvbiBwYXJzZUNsb25lVXJscyhhcnJheSAkY2xvbmVMaW5rcykKewpmb3JlYWNoICgkY2xvbmVMaW5rcyBhcyAkY2xvbmVMaW5rKSB7CmlmICgkY2xvbmVMaW5rWyduYW1lJ10gPT09ICdodHRwcycpIHsKCgokdGhpcy0+Y2xvbmVIdHRwc1VybCA9IHByZWdfcmVwbGFjZSgnL2h0dHBzOlwvXC8oW15AXStAKT8vJywgJ2h0dHBzOi8vJywgJGNsb25lTGlua1snaHJlZiddKTsKfQp9Cn0KCgoKCnByb3RlY3RlZCBmdW5jdGlvbiBnZXRNYWluQnJhbmNoRGF0YSgpCnsKJHJlc291cmNlID0gc3ByaW50ZigKJ2h0dHBzOi8vYXBpLmJpdGJ1Y2tldC5vcmcvMi4wL3JlcG9zaXRvcmllcy8lcy8lcz9maWVsZHM9bWFpbmJyYW5jaCcsCiR0aGlzLT5vd25lciwKJHRoaXMtPnJlcG9zaXRvcnkKKTsKCiRkYXRhID0gJHRoaXMtPmZldGNoV2l0aE9BdXRoQ3JlZGVudGlhbHMoJHJlc291cmNlKS0+ZGVjb2RlSnNvbigpOwppZiAoaXNzZXQoJGRhdGFbJ21haW5icmFuY2gnXSkpIHsKcmV0dXJuICRkYXRhWydtYWluYnJhbmNoJ107Cn0KCnJldHVybiBudWxsOwp9Cn0KPD9waHAKCgoKCgoKCgoKCgpuYW1lc3BhY2UgQ29tcG9zZXJcUmVwb3NpdG9yeVxWY3M7Cgp1c2UgQ29tcG9zZXJcQ2FjaGU7CnVzZSBDb21wb3NlclxDb25maWc7CnVzZSBDb21wb3NlclxVdGlsXFByb2Nlc3NFeGVjdXRvcjsKdXNlIENvbXBvc2VyXFV0aWxcRmlsZXN5c3RlbTsKdXNlIENvbXBvc2VyXElPXElPSW50ZXJmYWNlOwoKCgoKY2xhc3MgRm9zc2lsRHJpdmVyIGV4dGVuZHMgVmNzRHJpdmVyCnsKcHJvdGVjdGVkICR0YWdzOwpwcm90ZWN0ZWQgJGJyYW5jaGVzOwpwcm90ZWN0ZWQgJHJvb3RJZGVudGlmaWVyOwpwcm90ZWN0ZWQgJHJlcG9GaWxlOwpwcm90ZWN0ZWQgJGNoZWNrb3V0RGlyOwoKCgoKcHVibGljIGZ1bmN0aW9uIGluaXRpYWxpemUoKQp7CgokdGhpcy0+Y2hlY2tGb3NzaWwoKTsKCgokdGhpcy0+Y29uZmlnLT5wcm9oaWJpdFVybEJ5Q29uZmlnKCR0aGlzLT51cmwsICR0aGlzLT5pbyk7CgoKCmlmIChGaWxlc3lzdGVtOjppc0xvY2FsUGF0aCgkdGhpcy0+dXJsKSAmJiBpc19kaXIoJHRoaXMtPnVybCkpIHsKJHRoaXMtPmNoZWNrb3V0RGlyID0gJHRoaXMtPnVybDsKfSBlbHNlIHsKaWYgKCFDYWNoZTo6aXNVc2FibGUoJHRoaXMtPmNvbmZpZy0+Z2V0KCdjYWNoZS1yZXBvLWRpcicpKSB8fCAhQ2FjaGU6OmlzVXNhYmxlKCR0aGlzLT5jb25maWctPmdldCgnY2FjaGUtdmNzLWRpcicpKSkgewp0aHJvdyBuZXcgXFJ1bnRpbWVFeGNlcHRpb24oJ0Zvc3NpbERyaXZlciByZXF1aXJlcyBhIHVzYWJsZSBjYWNoZSBkaXJlY3RvcnksIGFuZCBpdCBsb29rcyBsaWtlIHlvdSBzZXQgaXQgdG8gYmUgZGlzYWJsZWQnKTsKfQoKJGxvY2FsTmFtZSA9IHByZWdfcmVwbGFjZSgne1teYS16MC05XX1pJywgJy0nLCAkdGhpcy0+dXJsKTsKJHRoaXMtPnJlcG9GaWxlID0gJHRoaXMtPmNvbmZpZy0+Z2V0KCdjYWNoZS1yZXBvLWRpcicpIC4gJy8nIC4gJGxvY2FsTmFtZSAuICcuZm9zc2lsJzsKJHRoaXMtPmNoZWNrb3V0RGlyID0gJHRoaXMtPmNvbmZpZy0+Z2V0KCdjYWNoZS12Y3MtZGlyJykgLiAnLycgLiAkbG9jYWxOYW1lIC4gJy8nOwoKJHRoaXMtPnVwZGF0ZUxvY2FsUmVwbygpOwp9CgokdGhpcy0+Z2V0VGFncygpOwokdGhpcy0+Z2V0QnJhbmNoZXMoKTsKfQoKCgoKcHJvdGVjdGVkIGZ1bmN0aW9uIGNoZWNrRm9zc2lsKCkKewppZiAoMCAhPT0gJHRoaXMtPnByb2Nlc3MtPmV4ZWN1dGUoJ2Zvc3NpbCB2ZXJzaW9uJywgJGlnbm9yZWRPdXRwdXQpKSB7CnRocm93IG5ldyBcUnVudGltZUV4Y2VwdGlvbigiZm9zc2lsIHdhcyBub3QgZm91bmQsIGNoZWNrIHRoYXQgaXQgaXMgaW5zdGFsbGVkIGFuZCBpbiB5b3VyIFBBVEggZW52LlxuXG4iIC4gJHRoaXMtPnByb2Nlc3MtPmdldEVycm9yT3V0cHV0KCkpOwp9Cn0KCgoKCnByb3RlY3RlZCBmdW5jdGlvbiB1cGRhdGVMb2NhbFJlcG8oKQp7CiRmcyA9IG5ldyBGaWxlc3lzdGVtKCk7CiRmcy0+ZW5zdXJlRGlyZWN0b3J5RXhpc3RzKCR0aGlzLT5jaGVja291dERpcik7CgppZiAoIWlzX3dyaXRhYmxlKGRpcm5hbWUoJHRoaXMtPmNoZWNrb3V0RGlyKSkpIHsKdGhyb3cgbmV3IFxSdW50aW1lRXhjZXB0aW9uKCdDYW4gbm90IGNsb25lICcuJHRoaXMtPnVybC4nIHRvIGFjY2VzcyBwYWNrYWdlIGluZm9ybWF0aW9uLiBUaGUgIicuJHRoaXMtPmNoZWNrb3V0RGlyLiciIGRpcmVjdG9yeSBpcyBub3Qgd3JpdGFibGUgYnkgdGhlIGN1cnJlbnQgdXNlci4nKTsKfQoKCmlmIChpc19maWxlKCR0aGlzLT5yZXBvRmlsZSkgJiYgaXNfZGlyKCR0aGlzLT5jaGVja291dERpcikgJiYgMCA9PT0gJHRoaXMtPnByb2Nlc3MtPmV4ZWN1dGUoJ2Zvc3NpbCBpbmZvJywgJG91dHB1dCwgJHRoaXMtPmNoZWNrb3V0RGlyKSkgewppZiAoMCAhPT0gJHRoaXMtPnByb2Nlc3MtPmV4ZWN1dGUoJ2Zvc3NpbCBwdWxsJywgJG91dHB1dCwgJHRoaXMtPmNoZWNrb3V0RGlyKSkgewokdGhpcy0+aW8tPndyaXRlRXJyb3IoJzxlcnJvcj5GYWlsZWQgdG8gdXBkYXRlICcuJHRoaXMtPnVybC4nLCBwYWNrYWdlIGluZm9ybWF0aW9uIGZyb20gdGhpcyByZXBvc2l0b3J5IG1heSBiZSBvdXRkYXRlZCAoJy4kdGhpcy0+cHJvY2Vzcy0+Z2V0RXJyb3JPdXRwdXQoKS4nKTwvZXJyb3I+Jyk7Cn0KfSBlbHNlIHsKCiRmcy0+cmVtb3ZlRGlyZWN0b3J5KCR0aGlzLT5jaGVja291dERpcik7CiRmcy0+cmVtb3ZlKCR0aGlzLT5yZXBvRmlsZSk7CgokZnMtPmVuc3VyZURpcmVjdG9yeUV4aXN0cygkdGhpcy0+Y2hlY2tvdXREaXIpOwoKaWYgKDAgIT09ICR0aGlzLT5wcm9jZXNzLT5leGVjdXRlKHNwcmludGYoJ2Zvc3NpbCBjbG9uZSAtLSAlcyAlcycsIFByb2Nlc3NFeGVjdXRvcjo6ZXNjYXBlKCR0aGlzLT51cmwpLCBQcm9jZXNzRXhlY3V0b3I6OmVzY2FwZSgkdGhpcy0+cmVwb0ZpbGUpKSwgJG91dHB1dCkpIHsKJG91dHB1dCA9ICR0aGlzLT5wcm9jZXNzLT5nZXRFcnJvck91dHB1dCgpOwoKdGhyb3cgbmV3IFxSdW50aW1lRXhjZXB0aW9uKCdGYWlsZWQgdG8gY2xvbmUgJy4kdGhpcy0+dXJsLicgdG8gcmVwb3NpdG9yeSAnIC4gJHRoaXMtPnJlcG9GaWxlIC4gIlxuXG4iIC4kb3V0cHV0KTsKfQoKaWYgKDAgIT09ICR0aGlzLT5wcm9jZXNzLT5leGVjdXRlKHNwcmludGYoJ2Zvc3NpbCBvcGVuIC0tbmVzdGVkIC0tICVzJywgUHJvY2Vzc0V4ZWN1dG9yOjplc2NhcGUoJHRoaXMtPnJlcG9GaWxlKSksICRvdXRwdXQsICR0aGlzLT5jaGVja291dERpcikpIHsKJG91dHB1dCA9ICR0aGlzLT5wcm9jZXNzLT5nZXRFcnJvck91dHB1dCgpOwoKdGhyb3cgbmV3IFxSdW50aW1lRXhjZXB0aW9uKCdGYWlsZWQgdG8gb3BlbiByZXBvc2l0b3J5ICcuJHRoaXMtPnJlcG9GaWxlLicgaW4gJyAuICR0aGlzLT5jaGVja291dERpciAuICJcblxuIiAuJG91dHB1dCk7Cn0KfQp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0Um9vdElkZW50aWZpZXIoKQp7CmlmIChudWxsID09PSAkdGhpcy0+cm9vdElkZW50aWZpZXIpIHsKJHRoaXMtPnJvb3RJZGVudGlmaWVyID0gJ3RydW5rJzsKfQoKcmV0dXJuICR0aGlzLT5yb290SWRlbnRpZmllcjsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIGdldFVybCgpCnsKcmV0dXJuICR0aGlzLT51cmw7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBnZXRTb3VyY2UoJGlkZW50aWZpZXIpCnsKcmV0dXJuIGFycmF5KCd0eXBlJyA9PiAnZm9zc2lsJywgJ3VybCcgPT4gJHRoaXMtPmdldFVybCgpLCAncmVmZXJlbmNlJyA9PiAkaWRlbnRpZmllcik7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBnZXREaXN0KCRpZGVudGlmaWVyKQp7CnJldHVybiBudWxsOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0RmlsZUNvbnRlbnQoJGZpbGUsICRpZGVudGlmaWVyKQp7CiRjb21tYW5kID0gc3ByaW50ZignZm9zc2lsIGNhdCAtciAlcyAtLSAlcycsIFByb2Nlc3NFeGVjdXRvcjo6ZXNjYXBlKCRpZGVudGlmaWVyKSwgUHJvY2Vzc0V4ZWN1dG9yOjplc2NhcGUoJGZpbGUpKTsKJHRoaXMtPnByb2Nlc3MtPmV4ZWN1dGUoJGNvbW1hbmQsICRjb250ZW50LCAkdGhpcy0+Y2hlY2tvdXREaXIpOwoKaWYgKCF0cmltKCRjb250ZW50KSkgewpyZXR1cm4gbnVsbDsKfQoKcmV0dXJuICRjb250ZW50Owp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0Q2hhbmdlRGF0ZSgkaWRlbnRpZmllcikKewokdGhpcy0+cHJvY2Vzcy0+ZXhlY3V0ZSgnZm9zc2lsIGZpbmZvIC1iIC1uIDEgY29tcG9zZXIuanNvbicsICRvdXRwdXQsICR0aGlzLT5jaGVja291dERpcik7Cmxpc3QoLCAkZGF0ZSkgPSBleHBsb2RlKCcgJywgdHJpbSgkb3V0cHV0KSwgMyk7CgpyZXR1cm4gbmV3IFxEYXRlVGltZSgkZGF0ZSwgbmV3IFxEYXRlVGltZVpvbmUoJ1VUQycpKTsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIGdldFRhZ3MoKQp7CmlmIChudWxsID09PSAkdGhpcy0+dGFncykgewokdGFncyA9IGFycmF5KCk7CgokdGhpcy0+cHJvY2Vzcy0+ZXhlY3V0ZSgnZm9zc2lsIHRhZyBsaXN0JywgJG91dHB1dCwgJHRoaXMtPmNoZWNrb3V0RGlyKTsKZm9yZWFjaCAoJHRoaXMtPnByb2Nlc3MtPnNwbGl0TGluZXMoJG91dHB1dCkgYXMgJHRhZykgewokdGFnc1skdGFnXSA9ICR0YWc7Cn0KCiR0aGlzLT50YWdzID0gJHRhZ3M7Cn0KCnJldHVybiAkdGhpcy0+dGFnczsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIGdldEJyYW5jaGVzKCkKewppZiAobnVsbCA9PT0gJHRoaXMtPmJyYW5jaGVzKSB7CiRicmFuY2hlcyA9IGFycmF5KCk7CgokdGhpcy0+cHJvY2Vzcy0+ZXhlY3V0ZSgnZm9zc2lsIGJyYW5jaCBsaXN0JywgJG91dHB1dCwgJHRoaXMtPmNoZWNrb3V0RGlyKTsKZm9yZWFjaCAoJHRoaXMtPnByb2Nlc3MtPnNwbGl0TGluZXMoJG91dHB1dCkgYXMgJGJyYW5jaCkgewokYnJhbmNoID0gdHJpbShwcmVnX3JlcGxhY2UoJy9eXCovJywgJycsIHRyaW0oJGJyYW5jaCkpKTsKJGJyYW5jaGVzWyRicmFuY2hdID0gJGJyYW5jaDsKfQoKJHRoaXMtPmJyYW5jaGVzID0gJGJyYW5jaGVzOwp9CgpyZXR1cm4gJHRoaXMtPmJyYW5jaGVzOwp9CgoKCgpwdWJsaWMgc3RhdGljIGZ1bmN0aW9uIHN1cHBvcnRzKElPSW50ZXJmYWNlICRpbywgQ29uZmlnICRjb25maWcsICR1cmwsICRkZWVwID0gZmFsc2UpCnsKaWYgKHByZWdfbWF0Y2goJyMoXig/Omh0dHBzP3xzc2gpOi8vKD86W15AXUApPyg/OmNoaXNlbGFwcFwuY29tfGZvc3NpbFwuKSkjaScsICR1cmwpKSB7CnJldHVybiB0cnVlOwp9CgppZiAocHJlZ19tYXRjaCgnIS9mb3NzaWwvfFwuZm9zc2lsIScsICR1cmwpKSB7CnJldHVybiB0cnVlOwp9CgoKaWYgKEZpbGVzeXN0ZW06OmlzTG9jYWxQYXRoKCR1cmwpKSB7CiR1cmwgPSBGaWxlc3lzdGVtOjpnZXRQbGF0Zm9ybVBhdGgoJHVybCk7CmlmICghaXNfZGlyKCR1cmwpKSB7CnJldHVybiBmYWxzZTsKfQoKJHByb2Nlc3MgPSBuZXcgUHJvY2Vzc0V4ZWN1dG9yKCRpbyk7CgppZiAoJHByb2Nlc3MtPmV4ZWN1dGUoJ2Zvc3NpbCBpbmZvJywgJG91dHB1dCwgJHVybCkgPT09IDApIHsKcmV0dXJuIHRydWU7Cn0KfQoKcmV0dXJuIGZhbHNlOwp9Cn0KPD9waHAKCgoKCgoKCgoKCgpuYW1lc3BhY2UgQ29tcG9zZXJcUmVwb3NpdG9yeVxWY3M7Cgp1c2UgQ29tcG9zZXJcQ29uZmlnOwp1c2UgQ29tcG9zZXJcSU9cSU9JbnRlcmZhY2U7CgoKCgpjbGFzcyBHaXRCaXRidWNrZXREcml2ZXIgZXh0ZW5kcyBCaXRidWNrZXREcml2ZXIKewoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0Um9vdElkZW50aWZpZXIoKQp7CmlmICgkdGhpcy0+ZmFsbGJhY2tEcml2ZXIpIHsKcmV0dXJuICR0aGlzLT5mYWxsYmFja0RyaXZlci0+Z2V0Um9vdElkZW50aWZpZXIoKTsKfQoKaWYgKG51bGwgPT09ICR0aGlzLT5yb290SWRlbnRpZmllcikgewppZiAoISR0aGlzLT5nZXRSZXBvRGF0YSgpKSB7CmlmICghJHRoaXMtPmZhbGxiYWNrRHJpdmVyKSB7CnRocm93IG5ldyBcTG9naWNFeGNlcHRpb24oJ0EgZmFsbGJhY2sgZHJpdmVyIHNob3VsZCBiZSBzZXR1cCBpZiBnZXRSZXBvRGF0YSByZXR1cm5zIGZhbHNlJyk7Cn0KCnJldHVybiAkdGhpcy0+ZmFsbGJhY2tEcml2ZXItPmdldFJvb3RJZGVudGlmaWVyKCk7Cn0KCmlmICgkdGhpcy0+dmNzVHlwZSAhPT0gJ2dpdCcpIHsKdGhyb3cgbmV3IFxSdW50aW1lRXhjZXB0aW9uKAokdGhpcy0+dXJsLicgZG9lcyBub3QgYXBwZWFyIHRvIGJlIGEgZ2l0IHJlcG9zaXRvcnksIHVzZSAnLgokdGhpcy0+Y2xvbmVIdHRwc1VybC4nIGlmIHRoaXMgaXMgYSBtZXJjdXJpYWwgYml0YnVja2V0IHJlcG9zaXRvcnknCik7Cn0KCiRtYWluQnJhbmNoRGF0YSA9ICR0aGlzLT5nZXRNYWluQnJhbmNoRGF0YSgpOwokdGhpcy0+cm9vdElkZW50aWZpZXIgPSAhZW1wdHkoJG1haW5CcmFuY2hEYXRhWyduYW1lJ10pID8gJG1haW5CcmFuY2hEYXRhWyduYW1lJ10gOiAnbWFzdGVyJzsKfQoKcmV0dXJuICR0aGlzLT5yb290SWRlbnRpZmllcjsKfQoKCgoKcHVibGljIHN0YXRpYyBmdW5jdGlvbiBzdXBwb3J0cyhJT0ludGVyZmFjZSAkaW8sIENvbmZpZyAkY29uZmlnLCAkdXJsLCAkZGVlcCA9IGZhbHNlKQp7CmlmICghcHJlZ19tYXRjaCgnI15odHRwcz86Ly9iaXRidWNrZXRcLm9yZy8oW14vXSspLyguKz8pXC5naXQkI2knLCAkdXJsKSkgewpyZXR1cm4gZmFsc2U7Cn0KCmlmICghZXh0ZW5zaW9uX2xvYWRlZCgnb3BlbnNzbCcpKSB7CiRpby0+d3JpdGVFcnJvcignU2tpcHBpbmcgQml0YnVja2V0IGdpdCBkcml2ZXIgZm9yICcuJHVybC4nIGJlY2F1c2UgdGhlIE9wZW5TU0wgUEhQIGV4dGVuc2lvbiBpcyBtaXNzaW5nLicsIHRydWUsIElPSW50ZXJmYWNlOjpWRVJCT1NFKTsKCnJldHVybiBmYWxzZTsKfQoKcmV0dXJuIHRydWU7Cn0KCgoKCnByb3RlY3RlZCBmdW5jdGlvbiBzZXR1cEZhbGxiYWNrRHJpdmVyKCR1cmwpCnsKJHRoaXMtPmZhbGxiYWNrRHJpdmVyID0gbmV3IEdpdERyaXZlcigKYXJyYXkoJ3VybCcgPT4gJHVybCksCiR0aGlzLT5pbywKJHRoaXMtPmNvbmZpZywKJHRoaXMtPmh0dHBEb3dubG9hZGVyLAokdGhpcy0+cHJvY2VzcwopOwokdGhpcy0+ZmFsbGJhY2tEcml2ZXItPmluaXRpYWxpemUoKTsKfQoKCgoKcHJvdGVjdGVkIGZ1bmN0aW9uIGdlbmVyYXRlU3NoVXJsKCkKewpyZXR1cm4gJ2dpdEAnIC4gJHRoaXMtPm9yaWdpblVybCAuICc6JyAuICR0aGlzLT5vd25lci4nLycuJHRoaXMtPnJlcG9zaXRvcnkuJy5naXQnOwp9Cn0KPD9waHAKCgoKCgoKCgoKCgpuYW1lc3BhY2UgQ29tcG9zZXJcUmVwb3NpdG9yeVxWY3M7Cgp1c2UgQ29tcG9zZXJcVXRpbFxQcm9jZXNzRXhlY3V0b3I7CnVzZSBDb21wb3NlclxVdGlsXEZpbGVzeXN0ZW07CnVzZSBDb21wb3NlclxVdGlsXFVybDsKdXNlIENvbXBvc2VyXFV0aWxcR2l0IGFzIEdpdFV0aWw7CnVzZSBDb21wb3NlclxJT1xJT0ludGVyZmFjZTsKdXNlIENvbXBvc2VyXENhY2hlOwp1c2UgQ29tcG9zZXJcQ29uZmlnOwoKCgoKY2xhc3MgR2l0RHJpdmVyIGV4dGVuZHMgVmNzRHJpdmVyCnsKcHJvdGVjdGVkICR0YWdzOwpwcm90ZWN0ZWQgJGJyYW5jaGVzOwpwcm90ZWN0ZWQgJHJvb3RJZGVudGlmaWVyOwpwcm90ZWN0ZWQgJHJlcG9EaXI7CgoKCgpwdWJsaWMgZnVuY3Rpb24gaW5pdGlhbGl6ZSgpCnsKaWYgKEZpbGVzeXN0ZW06OmlzTG9jYWxQYXRoKCR0aGlzLT51cmwpKSB7CiR0aGlzLT51cmwgPSBwcmVnX3JlcGxhY2UoJ3tbXFwvXVwuZ2l0Lz8kfScsICcnLCAkdGhpcy0+dXJsKTsKaWYgKCFpc19kaXIoJHRoaXMtPnVybCkpIHsKdGhyb3cgbmV3IFxSdW50aW1lRXhjZXB0aW9uKCdGYWlsZWQgdG8gcmVhZCBwYWNrYWdlIGluZm9ybWF0aW9uIGZyb20gJy4kdGhpcy0+dXJsLicgYXMgdGhlIHBhdGggZG9lcyBub3QgZXhpc3QnKTsKfQokdGhpcy0+cmVwb0RpciA9ICR0aGlzLT51cmw7CiRjYWNoZVVybCA9IHJlYWxwYXRoKCR0aGlzLT51cmwpOwp9IGVsc2UgewppZiAoIUNhY2hlOjppc1VzYWJsZSgkdGhpcy0+Y29uZmlnLT5nZXQoJ2NhY2hlLXZjcy1kaXInKSkpIHsKdGhyb3cgbmV3IFxSdW50aW1lRXhjZXB0aW9uKCdHaXREcml2ZXIgcmVxdWlyZXMgYSB1c2FibGUgY2FjaGUgZGlyZWN0b3J5LCBhbmQgaXQgbG9va3MgbGlrZSB5b3Ugc2V0IGl0IHRvIGJlIGRpc2FibGVkJyk7Cn0KCiR0aGlzLT5yZXBvRGlyID0gJHRoaXMtPmNvbmZpZy0+Z2V0KCdjYWNoZS12Y3MtZGlyJykgLiAnLycgLiBwcmVnX3JlcGxhY2UoJ3tbXmEtejAtOS5dfWknLCAnLScsICR0aGlzLT51cmwpIC4gJy8nOwoKR2l0VXRpbDo6Y2xlYW5FbnYoKTsKCiRmcyA9IG5ldyBGaWxlc3lzdGVtKCk7CiRmcy0+ZW5zdXJlRGlyZWN0b3J5RXhpc3RzKGRpcm5hbWUoJHRoaXMtPnJlcG9EaXIpKTsKCmlmICghaXNfd3JpdGFibGUoZGlybmFtZSgkdGhpcy0+cmVwb0RpcikpKSB7CnRocm93IG5ldyBcUnVudGltZUV4Y2VwdGlvbignQ2FuIG5vdCBjbG9uZSAnLiR0aGlzLT51cmwuJyB0byBhY2Nlc3MgcGFja2FnZSBpbmZvcm1hdGlvbi4gVGhlICInLmRpcm5hbWUoJHRoaXMtPnJlcG9EaXIpLiciIGRpcmVjdG9yeSBpcyBub3Qgd3JpdGFibGUgYnkgdGhlIGN1cnJlbnQgdXNlci4nKTsKfQoKaWYgKHByZWdfbWF0Y2goJ3tec3NoOi8vW15AXStAW146XSs6W14wLTldK30nLCAkdGhpcy0+dXJsKSkgewp0aHJvdyBuZXcgXEludmFsaWRBcmd1bWVudEV4Y2VwdGlvbignVGhlIHNvdXJjZSBVUkwgJy4kdGhpcy0+dXJsLicgaXMgaW52YWxpZCwgc3NoIFVSTHMgc2hvdWxkIGhhdmUgYSBwb3J0IG51bWJlciBhZnRlciAiOiIuJy4iXG4iLidVc2Ugc3NoOi8vZ2l0QGV4YW1wbGUuY29tOjIyL3BhdGggb3IganVzdCBnaXRAZXhhbXBsZS5jb206cGF0aCBpZiB5b3UgZG8gbm90IHdhbnQgdG8gcHJvdmlkZSBhIHBhc3N3b3JkIG9yIGN1c3RvbSBwb3J0LicpOwp9CgokZ2l0VXRpbCA9IG5ldyBHaXRVdGlsKCR0aGlzLT5pbywgJHRoaXMtPmNvbmZpZywgJHRoaXMtPnByb2Nlc3MsICRmcyk7CmlmICghJGdpdFV0aWwtPnN5bmNNaXJyb3IoJHRoaXMtPnVybCwgJHRoaXMtPnJlcG9EaXIpKSB7CmlmICghaXNfZGlyKCR0aGlzLT5yZXBvRGlyKSkgewp0aHJvdyBuZXcgXFJ1bnRpbWVFeGNlcHRpb24oJ0ZhaWxlZCB0byBjbG9uZSAnLiR0aGlzLT51cmwuJyB0byByZWFkIHBhY2thZ2UgaW5mb3JtYXRpb24gZnJvbSBpdCcpOwp9CiR0aGlzLT5pby0+d3JpdGVFcnJvcignPGVycm9yPkZhaWxlZCB0byB1cGRhdGUgJy4kdGhpcy0+dXJsLicsIHBhY2thZ2UgaW5mb3JtYXRpb24gZnJvbSB0aGlzIHJlcG9zaXRvcnkgbWF5IGJlIG91dGRhdGVkPC9lcnJvcj4nKTsKfQoKJGNhY2hlVXJsID0gJHRoaXMtPnVybDsKfQoKJHRoaXMtPmdldFRhZ3MoKTsKJHRoaXMtPmdldEJyYW5jaGVzKCk7CgokdGhpcy0+Y2FjaGUgPSBuZXcgQ2FjaGUoJHRoaXMtPmlvLCAkdGhpcy0+Y29uZmlnLT5nZXQoJ2NhY2hlLXJlcG8tZGlyJykuJy8nLnByZWdfcmVwbGFjZSgne1teYS16MC05Ll19aScsICctJywgVXJsOjpzYW5pdGl6ZSgkY2FjaGVVcmwpKSk7CiR0aGlzLT5jYWNoZS0+c2V0UmVhZE9ubHkoJHRoaXMtPmNvbmZpZy0+Z2V0KCdjYWNoZS1yZWFkLW9ubHknKSk7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBnZXRSb290SWRlbnRpZmllcigpCnsKaWYgKG51bGwgPT09ICR0aGlzLT5yb290SWRlbnRpZmllcikgewokdGhpcy0+cm9vdElkZW50aWZpZXIgPSAnbWFzdGVyJzsKCgokdGhpcy0+cHJvY2Vzcy0+ZXhlY3V0ZSgnZ2l0IGJyYW5jaCAtLW5vLWNvbG9yJywgJG91dHB1dCwgJHRoaXMtPnJlcG9EaXIpOwokYnJhbmNoZXMgPSAkdGhpcy0+cHJvY2Vzcy0+c3BsaXRMaW5lcygkb3V0cHV0KTsKaWYgKCFpbl9hcnJheSgnKiBtYXN0ZXInLCAkYnJhbmNoZXMpKSB7CmZvcmVhY2ggKCRicmFuY2hlcyBhcyAkYnJhbmNoKSB7CmlmICgkYnJhbmNoICYmIHByZWdfbWF0Y2goJ3teXCogKyhcUyspfScsICRicmFuY2gsICRtYXRjaCkpIHsKJHRoaXMtPnJvb3RJZGVudGlmaWVyID0gJG1hdGNoWzFdOwpicmVhazsKfQp9Cn0KfQoKcmV0dXJuICR0aGlzLT5yb290SWRlbnRpZmllcjsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIGdldFVybCgpCnsKcmV0dXJuICR0aGlzLT51cmw7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBnZXRTb3VyY2UoJGlkZW50aWZpZXIpCnsKcmV0dXJuIGFycmF5KCd0eXBlJyA9PiAnZ2l0JywgJ3VybCcgPT4gJHRoaXMtPmdldFVybCgpLCAncmVmZXJlbmNlJyA9PiAkaWRlbnRpZmllcik7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBnZXREaXN0KCRpZGVudGlmaWVyKQp7CnJldHVybiBudWxsOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0RmlsZUNvbnRlbnQoJGZpbGUsICRpZGVudGlmaWVyKQp7CiRyZXNvdXJjZSA9IHNwcmludGYoJyVzOiVzJywgUHJvY2Vzc0V4ZWN1dG9yOjplc2NhcGUoJGlkZW50aWZpZXIpLCBQcm9jZXNzRXhlY3V0b3I6OmVzY2FwZSgkZmlsZSkpOwokdGhpcy0+cHJvY2Vzcy0+ZXhlY3V0ZShzcHJpbnRmKCdnaXQgc2hvdyAlcycsICRyZXNvdXJjZSksICRjb250ZW50LCAkdGhpcy0+cmVwb0Rpcik7CgppZiAoIXRyaW0oJGNvbnRlbnQpKSB7CnJldHVybiBudWxsOwp9CgpyZXR1cm4gJGNvbnRlbnQ7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBnZXRDaGFuZ2VEYXRlKCRpZGVudGlmaWVyKQp7CiR0aGlzLT5wcm9jZXNzLT5leGVjdXRlKHNwcmludGYoCidnaXQgLWMgbG9nLnNob3dTaWduYXR1cmU9ZmFsc2UgbG9nIC0xIC0tZm9ybWF0PSUlYXQgJXMnLApQcm9jZXNzRXhlY3V0b3I6OmVzY2FwZSgkaWRlbnRpZmllcikKKSwgJG91dHB1dCwgJHRoaXMtPnJlcG9EaXIpOwoKcmV0dXJuIG5ldyBcRGF0ZVRpbWUoJ0AnLnRyaW0oJG91dHB1dCksIG5ldyBcRGF0ZVRpbWVab25lKCdVVEMnKSk7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBnZXRUYWdzKCkKewppZiAobnVsbCA9PT0gJHRoaXMtPnRhZ3MpIHsKJHRoaXMtPnRhZ3MgPSBhcnJheSgpOwoKJHRoaXMtPnByb2Nlc3MtPmV4ZWN1dGUoJ2dpdCBzaG93LXJlZiAtLXRhZ3MgLS1kZXJlZmVyZW5jZScsICRvdXRwdXQsICR0aGlzLT5yZXBvRGlyKTsKZm9yZWFjaCAoJG91dHB1dCA9ICR0aGlzLT5wcm9jZXNzLT5zcGxpdExpbmVzKCRvdXRwdXQpIGFzICR0YWcpIHsKaWYgKCR0YWcgJiYgcHJlZ19tYXRjaCgne14oW2EtZjAtOV17NDB9KSByZWZzL3RhZ3MvKFxTKz8pKFxeXHtcfSk/JH0nLCAkdGFnLCAkbWF0Y2gpKSB7CiR0aGlzLT50YWdzWyRtYXRjaFsyXV0gPSAkbWF0Y2hbMV07Cn0KfQp9CgpyZXR1cm4gJHRoaXMtPnRhZ3M7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBnZXRCcmFuY2hlcygpCnsKaWYgKG51bGwgPT09ICR0aGlzLT5icmFuY2hlcykgewokYnJhbmNoZXMgPSBhcnJheSgpOwoKJHRoaXMtPnByb2Nlc3MtPmV4ZWN1dGUoJ2dpdCBicmFuY2ggLS1uby1jb2xvciAtLW5vLWFiYnJldiAtdicsICRvdXRwdXQsICR0aGlzLT5yZXBvRGlyKTsKZm9yZWFjaCAoJHRoaXMtPnByb2Nlc3MtPnNwbGl0TGluZXMoJG91dHB1dCkgYXMgJGJyYW5jaCkgewppZiAoJGJyYW5jaCAmJiAhcHJlZ19tYXRjaCgne14gKlteL10rL0hFQUQgfScsICRicmFuY2gpKSB7CmlmIChwcmVnX21hdGNoKCd7Xig/OlwqICk/ICooXFMrKSAqKFthLWYwLTldKykoPzogLiopPyR9JywgJGJyYW5jaCwgJG1hdGNoKSkgewokYnJhbmNoZXNbJG1hdGNoWzFdXSA9ICRtYXRjaFsyXTsKfQp9Cn0KCiR0aGlzLT5icmFuY2hlcyA9ICRicmFuY2hlczsKfQoKcmV0dXJuICR0aGlzLT5icmFuY2hlczsKfQoKCgoKcHVibGljIHN0YXRpYyBmdW5jdGlvbiBzdXBwb3J0cyhJT0ludGVyZmFjZSAkaW8sIENvbmZpZyAkY29uZmlnLCAkdXJsLCAkZGVlcCA9IGZhbHNlKQp7CmlmIChwcmVnX21hdGNoKCcjKF5naXQ6Ly98XC5naXQvPyR8Z2l0KD86b2xpdGUpP0B8Ly9naXRcLnwvL2dpdGh1Yi5jb20vKSNpJywgJHVybCkpIHsKcmV0dXJuIHRydWU7Cn0KCgppZiAoRmlsZXN5c3RlbTo6aXNMb2NhbFBhdGgoJHVybCkpIHsKJHVybCA9IEZpbGVzeXN0ZW06OmdldFBsYXRmb3JtUGF0aCgkdXJsKTsKaWYgKCFpc19kaXIoJHVybCkpIHsKcmV0dXJuIGZhbHNlOwp9CgokcHJvY2VzcyA9IG5ldyBQcm9jZXNzRXhlY3V0b3IoJGlvKTsKCmlmICgkcHJvY2Vzcy0+ZXhlY3V0ZSgnZ2l0IHRhZycsICRvdXRwdXQsICR1cmwpID09PSAwKSB7CnJldHVybiB0cnVlOwp9Cn0KCmlmICghJGRlZXApIHsKcmV0dXJuIGZhbHNlOwp9CgokZ2l0VXRpbCA9IG5ldyBHaXRVdGlsKCRpbywgJGNvbmZpZywgbmV3IFByb2Nlc3NFeGVjdXRvcigkaW8pLCBuZXcgRmlsZXN5c3RlbSgpKTsKR2l0VXRpbDo6Y2xlYW5FbnYoKTsKCnRyeSB7CiRnaXRVdGlsLT5ydW5Db21tYW5kKGZ1bmN0aW9uICgkdXJsKSB7CnJldHVybiAnZ2l0IGxzLXJlbW90ZSAtLWhlYWRzIC0tICcgLiBQcm9jZXNzRXhlY3V0b3I6OmVzY2FwZSgkdXJsKTsKfSwgJHVybCwgc3lzX2dldF90ZW1wX2RpcigpKTsKfSBjYXRjaCAoXFJ1bnRpbWVFeGNlcHRpb24gJGUpIHsKcmV0dXJuIGZhbHNlOwp9CgpyZXR1cm4gdHJ1ZTsKfQp9Cjw/cGhwCgoKCgoKCgoKCgoKbmFtZXNwYWNlIENvbXBvc2VyXFJlcG9zaXRvcnlcVmNzOwoKdXNlIENvbXBvc2VyXENvbmZpZzsKdXNlIENvbXBvc2VyXERvd25sb2FkZXJcVHJhbnNwb3J0RXhjZXB0aW9uOwp1c2UgQ29tcG9zZXJcSnNvblxKc29uRmlsZTsKdXNlIENvbXBvc2VyXENhY2hlOwp1c2UgQ29tcG9zZXJcSU9cSU9JbnRlcmZhY2U7CnVzZSBDb21wb3NlclxVdGlsXEdpdEh1YjsKdXNlIENvbXBvc2VyXFV0aWxcSHR0cFxSZXNwb25zZTsKCgoKCmNsYXNzIEdpdEh1YkRyaXZlciBleHRlbmRzIFZjc0RyaXZlcgp7CnByb3RlY3RlZCAkb3duZXI7CnByb3RlY3RlZCAkcmVwb3NpdG9yeTsKcHJvdGVjdGVkICR0YWdzOwpwcm90ZWN0ZWQgJGJyYW5jaGVzOwpwcm90ZWN0ZWQgJHJvb3RJZGVudGlmaWVyOwpwcm90ZWN0ZWQgJHJlcG9EYXRhOwpwcm90ZWN0ZWQgJGhhc0lzc3VlczsKcHJvdGVjdGVkICRpc1ByaXZhdGUgPSBmYWxzZTsKcHJpdmF0ZSAkaXNBcmNoaXZlZCA9IGZhbHNlOwpwcml2YXRlICRmdW5kaW5nSW5mbzsKCgoKCgoKcHJvdGVjdGVkICRnaXREcml2ZXIgPSBudWxsOwoKCgoKcHVibGljIGZ1bmN0aW9uIGluaXRpYWxpemUoKQp7CnByZWdfbWF0Y2goJyNeKD86KD86aHR0cHM/fGdpdCk6Ly8oW14vXSspL3xnaXRAKFteOl0rKTovPykoW14vXSspLyguKz8pKD86XC5naXR8Lyk/JCMnLCAkdGhpcy0+dXJsLCAkbWF0Y2gpOwokdGhpcy0+b3duZXIgPSAkbWF0Y2hbM107CiR0aGlzLT5yZXBvc2l0b3J5ID0gJG1hdGNoWzRdOwokdGhpcy0+b3JpZ2luVXJsID0gc3RydG9sb3dlcighZW1wdHkoJG1hdGNoWzFdKSA/ICRtYXRjaFsxXSA6ICRtYXRjaFsyXSk7CmlmICgkdGhpcy0+b3JpZ2luVXJsID09PSAnd3d3LmdpdGh1Yi5jb20nKSB7CiR0aGlzLT5vcmlnaW5VcmwgPSAnZ2l0aHViLmNvbSc7Cn0KJHRoaXMtPmNhY2hlID0gbmV3IENhY2hlKCR0aGlzLT5pbywgJHRoaXMtPmNvbmZpZy0+Z2V0KCdjYWNoZS1yZXBvLWRpcicpLicvJy4kdGhpcy0+b3JpZ2luVXJsLicvJy4kdGhpcy0+b3duZXIuJy8nLiR0aGlzLT5yZXBvc2l0b3J5KTsKJHRoaXMtPmNhY2hlLT5zZXRSZWFkT25seSgkdGhpcy0+Y29uZmlnLT5nZXQoJ2NhY2hlLXJlYWQtb25seScpKTsKCmlmICgkdGhpcy0+Y29uZmlnLT5nZXQoJ3VzZS1naXRodWItYXBpJykgPT09IGZhbHNlIHx8IChpc3NldCgkdGhpcy0+cmVwb0NvbmZpZ1snbm8tYXBpJ10pICYmICR0aGlzLT5yZXBvQ29uZmlnWyduby1hcGknXSkpIHsKJHRoaXMtPnNldHVwR2l0RHJpdmVyKCR0aGlzLT51cmwpOwoKcmV0dXJuOwp9CgokdGhpcy0+ZmV0Y2hSb290SWRlbnRpZmllcigpOwp9CgpwdWJsaWMgZnVuY3Rpb24gZ2V0UmVwb3NpdG9yeVVybCgpCnsKcmV0dXJuICdodHRwczovLycuJHRoaXMtPm9yaWdpblVybC4nLycuJHRoaXMtPm93bmVyLicvJy4kdGhpcy0+cmVwb3NpdG9yeTsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIGdldFJvb3RJZGVudGlmaWVyKCkKewppZiAoJHRoaXMtPmdpdERyaXZlcikgewpyZXR1cm4gJHRoaXMtPmdpdERyaXZlci0+Z2V0Um9vdElkZW50aWZpZXIoKTsKfQoKcmV0dXJuICR0aGlzLT5yb290SWRlbnRpZmllcjsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIGdldFVybCgpCnsKaWYgKCR0aGlzLT5naXREcml2ZXIpIHsKcmV0dXJuICR0aGlzLT5naXREcml2ZXItPmdldFVybCgpOwp9CgpyZXR1cm4gJ2h0dHBzOi8vJyAuICR0aGlzLT5vcmlnaW5VcmwgLiAnLycuJHRoaXMtPm93bmVyLicvJy4kdGhpcy0+cmVwb3NpdG9yeS4nLmdpdCc7Cn0KCgoKCnByb3RlY3RlZCBmdW5jdGlvbiBnZXRBcGlVcmwoKQp7CmlmICgnZ2l0aHViLmNvbScgPT09ICR0aGlzLT5vcmlnaW5VcmwpIHsKJGFwaVVybCA9ICdhcGkuZ2l0aHViLmNvbSc7Cn0gZWxzZSB7CiRhcGlVcmwgPSAkdGhpcy0+b3JpZ2luVXJsIC4gJy9hcGkvdjMnOwp9CgpyZXR1cm4gJ2h0dHBzOi8vJyAuICRhcGlVcmw7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBnZXRTb3VyY2UoJGlkZW50aWZpZXIpCnsKaWYgKCR0aGlzLT5naXREcml2ZXIpIHsKcmV0dXJuICR0aGlzLT5naXREcml2ZXItPmdldFNvdXJjZSgkaWRlbnRpZmllcik7Cn0KaWYgKCR0aGlzLT5pc1ByaXZhdGUpIHsKCgokdXJsID0gJHRoaXMtPmdlbmVyYXRlU3NoVXJsKCk7Cn0gZWxzZSB7CiR1cmwgPSAkdGhpcy0+Z2V0VXJsKCk7Cn0KCnJldHVybiBhcnJheSgndHlwZScgPT4gJ2dpdCcsICd1cmwnID0+ICR1cmwsICdyZWZlcmVuY2UnID0+ICRpZGVudGlmaWVyKTsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIGdldERpc3QoJGlkZW50aWZpZXIpCnsKJHVybCA9ICR0aGlzLT5nZXRBcGlVcmwoKSAuICcvcmVwb3MvJy4kdGhpcy0+b3duZXIuJy8nLiR0aGlzLT5yZXBvc2l0b3J5LicvemlwYmFsbC8nLiRpZGVudGlmaWVyOwoKcmV0dXJuIGFycmF5KCd0eXBlJyA9PiAnemlwJywgJ3VybCcgPT4gJHVybCwgJ3JlZmVyZW5jZScgPT4gJGlkZW50aWZpZXIsICdzaGFzdW0nID0+ICcnKTsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIGdldENvbXBvc2VySW5mb3JtYXRpb24oJGlkZW50aWZpZXIpCnsKaWYgKCR0aGlzLT5naXREcml2ZXIpIHsKcmV0dXJuICR0aGlzLT5naXREcml2ZXItPmdldENvbXBvc2VySW5mb3JtYXRpb24oJGlkZW50aWZpZXIpOwp9CgppZiAoIWlzc2V0KCR0aGlzLT5pbmZvQ2FjaGVbJGlkZW50aWZpZXJdKSkgewppZiAoJHRoaXMtPnNob3VsZENhY2hlKCRpZGVudGlmaWVyKSAmJiAkcmVzID0gJHRoaXMtPmNhY2hlLT5yZWFkKCRpZGVudGlmaWVyKSkgewokY29tcG9zZXIgPSBKc29uRmlsZTo6cGFyc2VKc29uKCRyZXMpOwp9IGVsc2UgewokY29tcG9zZXIgPSAkdGhpcy0+Z2V0QmFzZUNvbXBvc2VySW5mb3JtYXRpb24oJGlkZW50aWZpZXIpOwoKaWYgKCR0aGlzLT5zaG91bGRDYWNoZSgkaWRlbnRpZmllcikpIHsKJHRoaXMtPmNhY2hlLT53cml0ZSgkaWRlbnRpZmllciwganNvbl9lbmNvZGUoJGNvbXBvc2VyKSk7Cn0KfQoKaWYgKCRjb21wb3NlcikgewoKaWYgKCFpc3NldCgkY29tcG9zZXJbJ3N1cHBvcnQnXVsnc291cmNlJ10pKSB7CiRsYWJlbCA9IGFycmF5X3NlYXJjaCgkaWRlbnRpZmllciwgJHRoaXMtPmdldFRhZ3MoKSkgPzogYXJyYXlfc2VhcmNoKCRpZGVudGlmaWVyLCAkdGhpcy0+Z2V0QnJhbmNoZXMoKSkgPzogJGlkZW50aWZpZXI7CiRjb21wb3Nlclsnc3VwcG9ydCddWydzb3VyY2UnXSA9IHNwcmludGYoJ2h0dHBzOi8vJXMvJXMvJXMvdHJlZS8lcycsICR0aGlzLT5vcmlnaW5VcmwsICR0aGlzLT5vd25lciwgJHRoaXMtPnJlcG9zaXRvcnksICRsYWJlbCk7Cn0KaWYgKCFpc3NldCgkY29tcG9zZXJbJ3N1cHBvcnQnXVsnaXNzdWVzJ10pICYmICR0aGlzLT5oYXNJc3N1ZXMpIHsKJGNvbXBvc2VyWydzdXBwb3J0J11bJ2lzc3VlcyddID0gc3ByaW50ZignaHR0cHM6Ly8lcy8lcy8lcy9pc3N1ZXMnLCAkdGhpcy0+b3JpZ2luVXJsLCAkdGhpcy0+b3duZXIsICR0aGlzLT5yZXBvc2l0b3J5KTsKfQppZiAoIWlzc2V0KCRjb21wb3NlclsnYWJhbmRvbmVkJ10pICYmICR0aGlzLT5pc0FyY2hpdmVkKSB7CiRjb21wb3NlclsnYWJhbmRvbmVkJ10gPSB0cnVlOwp9CmlmICghaXNzZXQoJGNvbXBvc2VyWydmdW5kaW5nJ10pICYmICRmdW5kaW5nID0gJHRoaXMtPmdldEZ1bmRpbmdJbmZvKCkpIHsKJGNvbXBvc2VyWydmdW5kaW5nJ10gPSAkZnVuZGluZzsKfQp9CgokdGhpcy0+aW5mb0NhY2hlWyRpZGVudGlmaWVyXSA9ICRjb21wb3NlcjsKfQoKcmV0dXJuICR0aGlzLT5pbmZvQ2FjaGVbJGlkZW50aWZpZXJdOwp9Cgpwcml2YXRlIGZ1bmN0aW9uIGdldEZ1bmRpbmdJbmZvKCkKewppZiAobnVsbCAhPT0gJHRoaXMtPmZ1bmRpbmdJbmZvKSB7CnJldHVybiAkdGhpcy0+ZnVuZGluZ0luZm87Cn0KCmlmICgkdGhpcy0+b3JpZ2luVXJsICE9PSAnZ2l0aHViLmNvbScpIHsKcmV0dXJuICR0aGlzLT5mdW5kaW5nSW5mbyA9IGZhbHNlOwp9Cgpmb3JlYWNoIChhcnJheSgkdGhpcy0+Z2V0QXBpVXJsKCkgLiAnL3JlcG9zLycuJHRoaXMtPm93bmVyLicvJy4kdGhpcy0+cmVwb3NpdG9yeS4nL2NvbnRlbnRzLy5naXRodWIvRlVORElORy55bWwnLCAkdGhpcy0+Z2V0QXBpVXJsKCkgLiAnL3JlcG9zLycuJHRoaXMtPm93bmVyLicvLmdpdGh1Yi9jb250ZW50cy9GVU5ESU5HLnltbCcpIGFzICRmaWxlKSB7CnRyeSB7CiRyZXNwb25zZSA9ICR0aGlzLT5odHRwRG93bmxvYWRlci0+Z2V0KCRmaWxlLCBhcnJheSgKJ3JldHJ5LWF1dGgtZmFpbHVyZScgPT4gZmFsc2UsCikpLT5kZWNvZGVKc29uKCk7Cn0gY2F0Y2ggKFRyYW5zcG9ydEV4Y2VwdGlvbiAkZSkgewpjb250aW51ZTsKfQppZiAoZW1wdHkoJHJlc3BvbnNlWydjb250ZW50J10pIHx8ICRyZXNwb25zZVsnZW5jb2RpbmcnXSAhPT0gJ2Jhc2U2NCcgfHwgISgkZnVuZGluZyA9IGJhc2U2NF9kZWNvZGUoJHJlc3BvbnNlWydjb250ZW50J10pKSkgewpjb250aW51ZTsKfQpicmVhazsKfQppZiAoZW1wdHkoJGZ1bmRpbmcpKSB7CnJldHVybiAkdGhpcy0+ZnVuZGluZ0luZm8gPSBmYWxzZTsKfQoKJHJlc3VsdCA9IGFycmF5KCk7CiRrZXkgPSBudWxsOwpmb3JlYWNoIChwcmVnX3NwbGl0KCd7XHI/XG59JywgJGZ1bmRpbmcpIGFzICRsaW5lKSB7CiRsaW5lID0gdHJpbSgkbGluZSk7CmlmIChwcmVnX21hdGNoKCd7XihcdyspXHMqOlxzKiguKykkfScsICRsaW5lLCAkbWF0Y2gpKSB7CmlmIChwcmVnX21hdGNoKCd7XlxbKC4qKVxdKD86XHMqIy4qKT8kfScsICRtYXRjaFsyXSwgJG1hdGNoMikpIHsKZm9yZWFjaCAoYXJyYXlfbWFwKCd0cmltJywgcHJlZ19zcGxpdCgne1tcJyJdP1xzKixccypbXCciXT99JywgJG1hdGNoMlsxXSkpIGFzICRpdGVtKSB7CiRyZXN1bHRbXSA9IGFycmF5KCd0eXBlJyA9PiAkbWF0Y2hbMV0sICd1cmwnID0+IHRyaW0oJGl0ZW0sICciXCcgJykpOwp9Cn0gZWxzZWlmIChwcmVnX21hdGNoKCd7XihbXiNdLio/KShccysjLiopPyR9JywgJG1hdGNoWzJdLCAkbWF0Y2gyKSkgewokcmVzdWx0W10gPSBhcnJheSgndHlwZScgPT4gJG1hdGNoWzFdLCAndXJsJyA9PiB0cmltKCRtYXRjaDJbMV0sICciXCcgJykpOwp9CiRrZXkgPSBudWxsOwp9IGVsc2VpZiAocHJlZ19tYXRjaCgne14oXHcrKVxzKjpccyojXHMqJH0nLCAkbGluZSwgJG1hdGNoKSkgewoka2V5ID0gJG1hdGNoWzFdOwp9IGVsc2VpZiAoJGtleSAmJiBwcmVnX21hdGNoKCd7Xi1ccyooLispKFxzKyMuKik/JH0nLCAkbGluZSwgJG1hdGNoKSkgewokcmVzdWx0W10gPSBhcnJheSgndHlwZScgPT4gJGtleSwgJ3VybCcgPT4gdHJpbSgkbWF0Y2hbMV0sICciXCcgJykpOwp9Cn0KCmZvcmVhY2ggKCRyZXN1bHQgYXMgJGtleSA9PiAkaXRlbSkgewpzd2l0Y2ggKCRpdGVtWyd0eXBlJ10pIHsKY2FzZSAndGlkZWxpZnQnOgokcmVzdWx0WyRrZXldWyd1cmwnXSA9ICdodHRwczovL3RpZGVsaWZ0LmNvbS9mdW5kaW5nL2dpdGh1Yi8nIC4gJGl0ZW1bJ3VybCddOwpicmVhazsKY2FzZSAnZ2l0aHViJzoKJHJlc3VsdFska2V5XVsndXJsJ10gPSAnaHR0cHM6Ly9naXRodWIuY29tLycgLiBiYXNlbmFtZSgkaXRlbVsndXJsJ10pOwpicmVhazsKY2FzZSAncGF0cmVvbic6CiRyZXN1bHRbJGtleV1bJ3VybCddID0gJ2h0dHBzOi8vd3d3LnBhdHJlb24uY29tLycgLiBiYXNlbmFtZSgkaXRlbVsndXJsJ10pOwpicmVhazsKY2FzZSAnb3RlY2hpZSc6CiRyZXN1bHRbJGtleV1bJ3VybCddID0gJ2h0dHBzOi8vb3RlY2hpZS5jb20vJyAuIGJhc2VuYW1lKCRpdGVtWyd1cmwnXSk7CmJyZWFrOwpjYXNlICdvcGVuX2NvbGxlY3RpdmUnOgokcmVzdWx0WyRrZXldWyd1cmwnXSA9ICdodHRwczovL29wZW5jb2xsZWN0aXZlLmNvbS8nIC4gYmFzZW5hbWUoJGl0ZW1bJ3VybCddKTsKYnJlYWs7CmNhc2UgJ2xpYmVyYXBheSc6CiRyZXN1bHRbJGtleV1bJ3VybCddID0gJ2h0dHBzOi8vbGliZXJhcGF5LmNvbS8nIC4gYmFzZW5hbWUoJGl0ZW1bJ3VybCddKTsKYnJlYWs7CmNhc2UgJ2tvX2ZpJzoKJHJlc3VsdFska2V5XVsndXJsJ10gPSAnaHR0cHM6Ly9rby1maS5jb20vJyAuIGJhc2VuYW1lKCRpdGVtWyd1cmwnXSk7CmJyZWFrOwpjYXNlICdpc3N1ZWh1bnQnOgokcmVzdWx0WyRrZXldWyd1cmwnXSA9ICdodHRwczovL2lzc3VlaHVudC5pby9yLycgLiAkaXRlbVsndXJsJ107CmJyZWFrOwpjYXNlICdjb21tdW5pdHlfYnJpZGdlJzoKJHJlc3VsdFska2V5XVsndXJsJ10gPSAnaHR0cHM6Ly9mdW5kaW5nLmNvbW11bml0eWJyaWRnZS5vcmcvcHJvamVjdHMvJyAuIGJhc2VuYW1lKCRpdGVtWyd1cmwnXSk7CmJyZWFrOwp9Cn0KCnJldHVybiAkdGhpcy0+ZnVuZGluZ0luZm8gPSAkcmVzdWx0Owp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0RmlsZUNvbnRlbnQoJGZpbGUsICRpZGVudGlmaWVyKQp7CmlmICgkdGhpcy0+Z2l0RHJpdmVyKSB7CnJldHVybiAkdGhpcy0+Z2l0RHJpdmVyLT5nZXRGaWxlQ29udGVudCgkZmlsZSwgJGlkZW50aWZpZXIpOwp9CgokcmVzb3VyY2UgPSAkdGhpcy0+Z2V0QXBpVXJsKCkgLiAnL3JlcG9zLycuJHRoaXMtPm93bmVyLicvJy4kdGhpcy0+cmVwb3NpdG9yeS4nL2NvbnRlbnRzLycgLiAkZmlsZSAuICc/cmVmPScudXJsZW5jb2RlKCRpZGVudGlmaWVyKTsKJHJlc291cmNlID0gJHRoaXMtPmdldENvbnRlbnRzKCRyZXNvdXJjZSktPmRlY29kZUpzb24oKTsKaWYgKGVtcHR5KCRyZXNvdXJjZVsnY29udGVudCddKSB8fCAkcmVzb3VyY2VbJ2VuY29kaW5nJ10gIT09ICdiYXNlNjQnIHx8ICEoJGNvbnRlbnQgPSBiYXNlNjRfZGVjb2RlKCRyZXNvdXJjZVsnY29udGVudCddKSkpIHsKdGhyb3cgbmV3IFxSdW50aW1lRXhjZXB0aW9uKCdDb3VsZCBub3QgcmV0cmlldmUgJyAuICRmaWxlIC4gJyBmb3IgJy4kaWRlbnRpZmllcik7Cn0KCnJldHVybiAkY29udGVudDsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIGdldENoYW5nZURhdGUoJGlkZW50aWZpZXIpCnsKaWYgKCR0aGlzLT5naXREcml2ZXIpIHsKcmV0dXJuICR0aGlzLT5naXREcml2ZXItPmdldENoYW5nZURhdGUoJGlkZW50aWZpZXIpOwp9CgokcmVzb3VyY2UgPSAkdGhpcy0+Z2V0QXBpVXJsKCkgLiAnL3JlcG9zLycuJHRoaXMtPm93bmVyLicvJy4kdGhpcy0+cmVwb3NpdG9yeS4nL2NvbW1pdHMvJy51cmxlbmNvZGUoJGlkZW50aWZpZXIpOwokY29tbWl0ID0gJHRoaXMtPmdldENvbnRlbnRzKCRyZXNvdXJjZSktPmRlY29kZUpzb24oKTsKCnJldHVybiBuZXcgXERhdGVUaW1lKCRjb21taXRbJ2NvbW1pdCddWydjb21taXR0ZXInXVsnZGF0ZSddKTsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIGdldFRhZ3MoKQp7CmlmICgkdGhpcy0+Z2l0RHJpdmVyKSB7CnJldHVybiAkdGhpcy0+Z2l0RHJpdmVyLT5nZXRUYWdzKCk7Cn0KaWYgKG51bGwgPT09ICR0aGlzLT50YWdzKSB7CiR0aGlzLT50YWdzID0gYXJyYXkoKTsKJHJlc291cmNlID0gJHRoaXMtPmdldEFwaVVybCgpIC4gJy9yZXBvcy8nLiR0aGlzLT5vd25lci4nLycuJHRoaXMtPnJlcG9zaXRvcnkuJy90YWdzP3Blcl9wYWdlPTEwMCc7CgpkbyB7CiRyZXNwb25zZSA9ICR0aGlzLT5nZXRDb250ZW50cygkcmVzb3VyY2UpOwokdGFnc0RhdGEgPSAkcmVzcG9uc2UtPmRlY29kZUpzb24oKTsKZm9yZWFjaCAoJHRhZ3NEYXRhIGFzICR0YWcpIHsKJHRoaXMtPnRhZ3NbJHRhZ1snbmFtZSddXSA9ICR0YWdbJ2NvbW1pdCddWydzaGEnXTsKfQoKJHJlc291cmNlID0gJHRoaXMtPmdldE5leHRQYWdlKCRyZXNwb25zZSk7Cn0gd2hpbGUgKCRyZXNvdXJjZSk7Cn0KCnJldHVybiAkdGhpcy0+dGFnczsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIGdldEJyYW5jaGVzKCkKewppZiAoJHRoaXMtPmdpdERyaXZlcikgewpyZXR1cm4gJHRoaXMtPmdpdERyaXZlci0+Z2V0QnJhbmNoZXMoKTsKfQppZiAobnVsbCA9PT0gJHRoaXMtPmJyYW5jaGVzKSB7CiR0aGlzLT5icmFuY2hlcyA9IGFycmF5KCk7CiRyZXNvdXJjZSA9ICR0aGlzLT5nZXRBcGlVcmwoKSAuICcvcmVwb3MvJy4kdGhpcy0+b3duZXIuJy8nLiR0aGlzLT5yZXBvc2l0b3J5LicvZ2l0L3JlZnMvaGVhZHM/cGVyX3BhZ2U9MTAwJzsKCmRvIHsKJHJlc3BvbnNlID0gJHRoaXMtPmdldENvbnRlbnRzKCRyZXNvdXJjZSk7CiRicmFuY2hEYXRhID0gJHJlc3BvbnNlLT5kZWNvZGVKc29uKCk7CmZvcmVhY2ggKCRicmFuY2hEYXRhIGFzICRicmFuY2gpIHsKJG5hbWUgPSBzdWJzdHIoJGJyYW5jaFsncmVmJ10sIDExKTsKaWYgKCRuYW1lICE9PSAnZ2gtcGFnZXMnKSB7CiR0aGlzLT5icmFuY2hlc1skbmFtZV0gPSAkYnJhbmNoWydvYmplY3QnXVsnc2hhJ107Cn0KfQoKJHJlc291cmNlID0gJHRoaXMtPmdldE5leHRQYWdlKCRyZXNwb25zZSk7Cn0gd2hpbGUgKCRyZXNvdXJjZSk7Cn0KCnJldHVybiAkdGhpcy0+YnJhbmNoZXM7Cn0KCgoKCnB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gc3VwcG9ydHMoSU9JbnRlcmZhY2UgJGlvLCBDb25maWcgJGNvbmZpZywgJHVybCwgJGRlZXAgPSBmYWxzZSkKewppZiAoIXByZWdfbWF0Y2goJyNeKCg/Omh0dHBzP3xnaXQpOi8vKFteL10rKS98Z2l0QChbXjpdKyk6Lz8pKFteL10rKS8oLis/KSg/OlwuZ2l0fC8pPyQjJywgJHVybCwgJG1hdGNoZXMpKSB7CnJldHVybiBmYWxzZTsKfQoKJG9yaWdpblVybCA9ICFlbXB0eSgkbWF0Y2hlc1syXSkgPyAkbWF0Y2hlc1syXSA6ICRtYXRjaGVzWzNdOwppZiAoIWluX2FycmF5KHN0cnRvbG93ZXIocHJlZ19yZXBsYWNlKCd7Xnd3d1wufWknLCAnJywgJG9yaWdpblVybCkpLCAkY29uZmlnLT5nZXQoJ2dpdGh1Yi1kb21haW5zJykpKSB7CnJldHVybiBmYWxzZTsKfQoKaWYgKCFleHRlbnNpb25fbG9hZGVkKCdvcGVuc3NsJykpIHsKJGlvLT53cml0ZUVycm9yKCdTa2lwcGluZyBHaXRIdWIgZHJpdmVyIGZvciAnLiR1cmwuJyBiZWNhdXNlIHRoZSBPcGVuU1NMIFBIUCBleHRlbnNpb24gaXMgbWlzc2luZy4nLCB0cnVlLCBJT0ludGVyZmFjZTo6VkVSQk9TRSk7CgpyZXR1cm4gZmFsc2U7Cn0KCnJldHVybiB0cnVlOwp9CgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBnZXRSZXBvRGF0YSgpCnsKJHRoaXMtPmZldGNoUm9vdElkZW50aWZpZXIoKTsKCnJldHVybiAkdGhpcy0+cmVwb0RhdGE7Cn0KCgoKCgoKcHJvdGVjdGVkIGZ1bmN0aW9uIGdlbmVyYXRlU3NoVXJsKCkKewppZiAoZmFsc2UgIT09IHN0cnBvcygkdGhpcy0+b3JpZ2luVXJsLCAnOicpKSB7CnJldHVybiAnc3NoOi8vZ2l0QCcgLiAkdGhpcy0+b3JpZ2luVXJsIC4gJy8nLiR0aGlzLT5vd25lci4nLycuJHRoaXMtPnJlcG9zaXRvcnkuJy5naXQnOwp9CgpyZXR1cm4gJ2dpdEAnIC4gJHRoaXMtPm9yaWdpblVybCAuICc6Jy4kdGhpcy0+b3duZXIuJy8nLiR0aGlzLT5yZXBvc2l0b3J5LicuZ2l0JzsKfQoKCgoKcHJvdGVjdGVkIGZ1bmN0aW9uIGdldENvbnRlbnRzKCR1cmwsICRmZXRjaGluZ1JlcG9EYXRhID0gZmFsc2UpCnsKdHJ5IHsKcmV0dXJuIHBhcmVudDo6Z2V0Q29udGVudHMoJHVybCk7Cn0gY2F0Y2ggKFRyYW5zcG9ydEV4Y2VwdGlvbiAkZSkgewokZ2l0SHViVXRpbCA9IG5ldyBHaXRIdWIoJHRoaXMtPmlvLCAkdGhpcy0+Y29uZmlnLCAkdGhpcy0+cHJvY2VzcywgJHRoaXMtPmh0dHBEb3dubG9hZGVyKTsKCnN3aXRjaCAoJGUtPmdldENvZGUoKSkgewpjYXNlIDQwMToKY2FzZSA0MDQ6CgppZiAoISRmZXRjaGluZ1JlcG9EYXRhKSB7CnRocm93ICRlOwp9CgppZiAoJGdpdEh1YlV0aWwtPmF1dGhvcml6ZU9BdXRoKCR0aGlzLT5vcmlnaW5VcmwpKSB7CnJldHVybiBwYXJlbnQ6OmdldENvbnRlbnRzKCR1cmwpOwp9CgppZiAoISR0aGlzLT5pby0+aXNJbnRlcmFjdGl2ZSgpKSB7CmlmICgkdGhpcy0+YXR0ZW1wdENsb25lRmFsbGJhY2soKSkgewpyZXR1cm4gbmV3IFJlc3BvbnNlKGFycmF5KCd1cmwnID0+ICdkdW1teScpLCAyMDAsIGFycmF5KCksICdudWxsJyk7Cn0KfQoKJHNjb3Blc0lzc3VlZCA9IGFycmF5KCk7CiRzY29wZXNOZWVkZWQgPSBhcnJheSgpOwppZiAoJGhlYWRlcnMgPSAkZS0+Z2V0SGVhZGVycygpKSB7CmlmICgkc2NvcGVzID0gUmVzcG9uc2U6OmZpbmRIZWFkZXJWYWx1ZSgkaGVhZGVycywgJ1gtT0F1dGgtU2NvcGVzJykpIHsKJHNjb3Blc0lzc3VlZCA9IGV4cGxvZGUoJyAnLCAkc2NvcGVzKTsKfQppZiAoJHNjb3BlcyA9IFJlc3BvbnNlOjpmaW5kSGVhZGVyVmFsdWUoJGhlYWRlcnMsICdYLUFjY2VwdGVkLU9BdXRoLVNjb3BlcycpKSB7CiRzY29wZXNOZWVkZWQgPSBleHBsb2RlKCcgJywgJHNjb3Blcyk7Cn0KfQokc2NvcGVzRmFpbGVkID0gYXJyYXlfZGlmZigkc2NvcGVzTmVlZGVkLCAkc2NvcGVzSXNzdWVkKTsKCgppZiAoISRoZWFkZXJzIHx8ICFjb3VudCgkc2NvcGVzTmVlZGVkKSB8fCBjb3VudCgkc2NvcGVzRmFpbGVkKSkgewokZ2l0SHViVXRpbC0+YXV0aG9yaXplT0F1dGhJbnRlcmFjdGl2ZWx5KCR0aGlzLT5vcmlnaW5VcmwsICdZb3VyIEdpdEh1YiBjcmVkZW50aWFscyBhcmUgcmVxdWlyZWQgdG8gZmV0Y2ggcHJpdmF0ZSByZXBvc2l0b3J5IG1ldGFkYXRhICg8aW5mbz4nLiR0aGlzLT51cmwuJzwvaW5mbz4pJyk7Cn0KCnJldHVybiBwYXJlbnQ6OmdldENvbnRlbnRzKCR1cmwpOwoKY2FzZSA0MDM6CmlmICghJHRoaXMtPmlvLT5oYXNBdXRoZW50aWNhdGlvbigkdGhpcy0+b3JpZ2luVXJsKSAmJiAkZ2l0SHViVXRpbC0+YXV0aG9yaXplT0F1dGgoJHRoaXMtPm9yaWdpblVybCkpIHsKcmV0dXJuIHBhcmVudDo6Z2V0Q29udGVudHMoJHVybCk7Cn0KCmlmICghJHRoaXMtPmlvLT5pc0ludGVyYWN0aXZlKCkgJiYgJGZldGNoaW5nUmVwb0RhdGEpIHsKaWYgKCR0aGlzLT5hdHRlbXB0Q2xvbmVGYWxsYmFjaygpKSB7CnJldHVybiBuZXcgUmVzcG9uc2UoYXJyYXkoJ3VybCcgPT4gJ2R1bW15JyksIDIwMCwgYXJyYXkoKSwgJ251bGwnKTsKfQp9CgokcmF0ZUxpbWl0ZWQgPSAkZ2l0SHViVXRpbC0+aXNSYXRlTGltaXRlZCgkZS0+Z2V0SGVhZGVycygpKTsKCmlmICghJHRoaXMtPmlvLT5oYXNBdXRoZW50aWNhdGlvbigkdGhpcy0+b3JpZ2luVXJsKSkgewppZiAoISR0aGlzLT5pby0+aXNJbnRlcmFjdGl2ZSgpKSB7CiR0aGlzLT5pby0+d3JpdGVFcnJvcignPGVycm9yPkdpdEh1YiBBUEkgbGltaXQgZXhoYXVzdGVkLiBGYWlsZWQgdG8gZ2V0IG1ldGFkYXRhIGZvciB0aGUgJy4kdGhpcy0+dXJsLicgcmVwb3NpdG9yeSwgdHJ5IHJ1bm5pbmcgaW4gaW50ZXJhY3RpdmUgbW9kZSBzbyB0aGF0IHlvdSBjYW4gZW50ZXIgeW91ciBHaXRIdWIgY3JlZGVudGlhbHMgdG8gaW5jcmVhc2UgdGhlIEFQSSBsaW1pdDwvZXJyb3I+Jyk7CnRocm93ICRlOwp9CgokZ2l0SHViVXRpbC0+YXV0aG9yaXplT0F1dGhJbnRlcmFjdGl2ZWx5KCR0aGlzLT5vcmlnaW5VcmwsICdBUEkgbGltaXQgZXhoYXVzdGVkLiBFbnRlciB5b3VyIEdpdEh1YiBjcmVkZW50aWFscyB0byBnZXQgYSBsYXJnZXIgQVBJIGxpbWl0ICg8aW5mbz4nLiR0aGlzLT51cmwuJzwvaW5mbz4pJyk7CgpyZXR1cm4gcGFyZW50OjpnZXRDb250ZW50cygkdXJsKTsKfQoKaWYgKCRyYXRlTGltaXRlZCkgewokcmF0ZUxpbWl0ID0gJGdpdEh1YlV0aWwtPmdldFJhdGVMaW1pdCgkZS0+Z2V0SGVhZGVycygpKTsKJHRoaXMtPmlvLT53cml0ZUVycm9yKHNwcmludGYoCic8ZXJyb3I+R2l0SHViIEFQSSBsaW1pdCAoJWQgY2FsbHMvaHIpIGlzIGV4aGF1c3RlZC4gWW91IGFyZSBhbHJlYWR5IGF1dGhvcml6ZWQgc28geW91IGhhdmUgdG8gd2FpdCB1bnRpbCAlcyBiZWZvcmUgZG9pbmcgbW9yZSByZXF1ZXN0czwvZXJyb3I+JywKJHJhdGVMaW1pdFsnbGltaXQnXSwKJHJhdGVMaW1pdFsncmVzZXQnXQopKTsKfQoKdGhyb3cgJGU7CgpkZWZhdWx0Ogp0aHJvdyAkZTsKfQp9Cn0KCgoKCgoKcHJvdGVjdGVkIGZ1bmN0aW9uIGZldGNoUm9vdElkZW50aWZpZXIoKQp7CmlmICgkdGhpcy0+cmVwb0RhdGEpIHsKcmV0dXJuOwp9CgokcmVwb0RhdGFVcmwgPSAkdGhpcy0+Z2V0QXBpVXJsKCkgLiAnL3JlcG9zLycuJHRoaXMtPm93bmVyLicvJy4kdGhpcy0+cmVwb3NpdG9yeTsKCnRyeSB7CiR0aGlzLT5yZXBvRGF0YSA9ICR0aGlzLT5nZXRDb250ZW50cygkcmVwb0RhdGFVcmwsIHRydWUpLT5kZWNvZGVKc29uKCk7Cn0gY2F0Y2ggKFRyYW5zcG9ydEV4Y2VwdGlvbiAkZSkgewppZiAoJGUtPmdldENvZGUoKSA9PT0gNDk5KSB7CiR0aGlzLT5hdHRlbXB0Q2xvbmVGYWxsYmFjaygpOwp9IGVsc2Ugewp0aHJvdyAkZTsKfQp9CmlmIChudWxsID09PSAkdGhpcy0+cmVwb0RhdGEgJiYgbnVsbCAhPT0gJHRoaXMtPmdpdERyaXZlcikgewpyZXR1cm47Cn0KCiR0aGlzLT5vd25lciA9ICR0aGlzLT5yZXBvRGF0YVsnb3duZXInXVsnbG9naW4nXTsKJHRoaXMtPnJlcG9zaXRvcnkgPSAkdGhpcy0+cmVwb0RhdGFbJ25hbWUnXTsKCiR0aGlzLT5pc1ByaXZhdGUgPSAhZW1wdHkoJHRoaXMtPnJlcG9EYXRhWydwcml2YXRlJ10pOwppZiAoaXNzZXQoJHRoaXMtPnJlcG9EYXRhWydkZWZhdWx0X2JyYW5jaCddKSkgewokdGhpcy0+cm9vdElkZW50aWZpZXIgPSAkdGhpcy0+cmVwb0RhdGFbJ2RlZmF1bHRfYnJhbmNoJ107Cn0gZWxzZWlmIChpc3NldCgkdGhpcy0+cmVwb0RhdGFbJ21hc3Rlcl9icmFuY2gnXSkpIHsKJHRoaXMtPnJvb3RJZGVudGlmaWVyID0gJHRoaXMtPnJlcG9EYXRhWydtYXN0ZXJfYnJhbmNoJ107Cn0gZWxzZSB7CiR0aGlzLT5yb290SWRlbnRpZmllciA9ICdtYXN0ZXInOwp9CiR0aGlzLT5oYXNJc3N1ZXMgPSAhZW1wdHkoJHRoaXMtPnJlcG9EYXRhWydoYXNfaXNzdWVzJ10pOwokdGhpcy0+aXNBcmNoaXZlZCA9ICFlbXB0eSgkdGhpcy0+cmVwb0RhdGFbJ2FyY2hpdmVkJ10pOwp9Cgpwcm90ZWN0ZWQgZnVuY3Rpb24gYXR0ZW1wdENsb25lRmFsbGJhY2soKQp7CiR0aGlzLT5pc1ByaXZhdGUgPSB0cnVlOwoKdHJ5IHsKCgoKCiR0aGlzLT5zZXR1cEdpdERyaXZlcigkdGhpcy0+Z2VuZXJhdGVTc2hVcmwoKSk7CgpyZXR1cm4gdHJ1ZTsKfSBjYXRjaCAoXFJ1bnRpbWVFeGNlcHRpb24gJGUpIHsKJHRoaXMtPmdpdERyaXZlciA9IG51bGw7CgokdGhpcy0+aW8tPndyaXRlRXJyb3IoJzxlcnJvcj5GYWlsZWQgdG8gY2xvbmUgdGhlICcuJHRoaXMtPmdlbmVyYXRlU3NoVXJsKCkuJyByZXBvc2l0b3J5LCB0cnkgcnVubmluZyBpbiBpbnRlcmFjdGl2ZSBtb2RlIHNvIHRoYXQgeW91IGNhbiBlbnRlciB5b3VyIEdpdEh1YiBjcmVkZW50aWFsczwvZXJyb3I+Jyk7CnRocm93ICRlOwp9Cn0KCnByb3RlY3RlZCBmdW5jdGlvbiBzZXR1cEdpdERyaXZlcigkdXJsKQp7CiR0aGlzLT5naXREcml2ZXIgPSBuZXcgR2l0RHJpdmVyKAphcnJheSgndXJsJyA9PiAkdXJsKSwKJHRoaXMtPmlvLAokdGhpcy0+Y29uZmlnLAokdGhpcy0+aHR0cERvd25sb2FkZXIsCiR0aGlzLT5wcm9jZXNzCik7CiR0aGlzLT5naXREcml2ZXItPmluaXRpYWxpemUoKTsKfQoKcHJvdGVjdGVkIGZ1bmN0aW9uIGdldE5leHRQYWdlKFJlc3BvbnNlICRyZXNwb25zZSkKewokaGVhZGVyID0gJHJlc3BvbnNlLT5nZXRIZWFkZXIoJ2xpbmsnKTsKCiRsaW5rcyA9IGV4cGxvZGUoJywnLCAkaGVhZGVyKTsKZm9yZWFjaCAoJGxpbmtzIGFzICRsaW5rKSB7CmlmIChwcmVnX21hdGNoKCd7PCguKz8pPjsgKnJlbD0ibmV4dCJ9JywgJGxpbmssICRtYXRjaCkpIHsKcmV0dXJuICRtYXRjaFsxXTsKfQp9Cn0KfQo8P3BocAoKCgoKCgoKCgoKCm5hbWVzcGFjZSBDb21wb3NlclxSZXBvc2l0b3J5XFZjczsKCnVzZSBDb21wb3NlclxDb25maWc7CnVzZSBDb21wb3NlclxDYWNoZTsKdXNlIENvbXBvc2VyXElPXElPSW50ZXJmYWNlOwp1c2UgQ29tcG9zZXJcSnNvblxKc29uRmlsZTsKdXNlIENvbXBvc2VyXERvd25sb2FkZXJcVHJhbnNwb3J0RXhjZXB0aW9uOwp1c2UgQ29tcG9zZXJcVXRpbFxIdHRwRG93bmxvYWRlcjsKdXNlIENvbXBvc2VyXFV0aWxcR2l0TGFiOwp1c2UgQ29tcG9zZXJcVXRpbFxIdHRwXFJlc3BvbnNlOwoKCgoKCgoKY2xhc3MgR2l0TGFiRHJpdmVyIGV4dGVuZHMgVmNzRHJpdmVyCnsKcHJpdmF0ZSAkc2NoZW1lOwpwcml2YXRlICRuYW1lc3BhY2U7CnByaXZhdGUgJHJlcG9zaXRvcnk7CgoKCgpwcml2YXRlICRwcm9qZWN0OwoKCgoKcHJpdmF0ZSAkY29tbWl0cyA9IGFycmF5KCk7CgoKCgpwcml2YXRlICR0YWdzOwoKCgoKcHJpdmF0ZSAkYnJhbmNoZXM7CgoKCgoKCnByb3RlY3RlZCAkZ2l0RHJpdmVyID0gbnVsbDsKCgoKCgoKcHJvdGVjdGVkICRwcm90b2NvbDsKCgoKCgoKcHJpdmF0ZSAkaXNQcml2YXRlID0gdHJ1ZTsKCgoKCnByaXZhdGUgJGhhc05vbnN0YW5kYXJkT3JpZ2luID0gZmFsc2U7Cgpjb25zdCBVUkxfUkVHRVggPSAnI14oPzooP1A8c2NoZW1lPmh0dHBzPyk6Ly8oP1A8ZG9tYWluPi4rPykoPzo6KD9QPHBvcnQ+WzAtOV0rKSk/L3xnaXRAKD9QPGRvbWFpbjI+W146XSspOikoP1A8cGFydHM+LispLyg/UDxyZXBvPlteL10rPykoPzpcLmdpdHwvKT8kIyc7CgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIGluaXRpYWxpemUoKQp7CmlmICghcHJlZ19tYXRjaChzZWxmOjpVUkxfUkVHRVgsICR0aGlzLT51cmwsICRtYXRjaCkpIHsKdGhyb3cgbmV3IFxJbnZhbGlkQXJndW1lbnRFeGNlcHRpb24oJ1RoZSBVUkwgcHJvdmlkZWQgaXMgaW52YWxpZC4gSXQgbXVzdCBiZSB0aGUgSFRUUCBVUkwgb2YgYSBHaXRMYWIgcHJvamVjdC4nKTsKfQoKJGd1ZXNzZWREb21haW4gPSAhZW1wdHkoJG1hdGNoWydkb21haW4nXSkgPyAkbWF0Y2hbJ2RvbWFpbiddIDogJG1hdGNoWydkb21haW4yJ107CiRjb25maWd1cmVkRG9tYWlucyA9ICR0aGlzLT5jb25maWctPmdldCgnZ2l0bGFiLWRvbWFpbnMnKTsKJHVybFBhcnRzID0gZXhwbG9kZSgnLycsICRtYXRjaFsncGFydHMnXSk7CgokdGhpcy0+c2NoZW1lID0gIWVtcHR5KCRtYXRjaFsnc2NoZW1lJ10pCj8gJG1hdGNoWydzY2hlbWUnXQo6IChpc3NldCgkdGhpcy0+cmVwb0NvbmZpZ1snc2VjdXJlLWh0dHAnXSkgJiYgJHRoaXMtPnJlcG9Db25maWdbJ3NlY3VyZS1odHRwJ10gPT09IGZhbHNlID8gJ2h0dHAnIDogJ2h0dHBzJykKOwokdGhpcy0+b3JpZ2luVXJsID0gc2VsZjo6ZGV0ZXJtaW5lT3JpZ2luKCRjb25maWd1cmVkRG9tYWlucywgJGd1ZXNzZWREb21haW4sICR1cmxQYXJ0cywgJG1hdGNoWydwb3J0J10pOwoKaWYgKCRwcm90b2NvbCA9ICR0aGlzLT5jb25maWctPmdldCgnZ2l0bGFiLXByb3RvY29sJykpIHsKCmlmICghaW5fYXJyYXkoJHByb3RvY29sLCBhcnJheSgnZ2l0JywgJ2h0dHAnLCAnaHR0cHMnKSkpIHsKdGhyb3cgbmV3IFxSdW50aW1lRXhjZXB0aW9uKCdnaXRsYWItcHJvdG9jb2wgbXVzdCBiZSBvbmUgb2YgZ2l0LCBodHRwLicpOwp9CiR0aGlzLT5wcm90b2NvbCA9ICRwcm90b2NvbCA9PT0gJ2dpdCcgPyAnc3NoJyA6ICdodHRwJzsKfQoKaWYgKGZhbHNlICE9PSBzdHJwb3MoJHRoaXMtPm9yaWdpblVybCwgJzonKSB8fCBmYWxzZSAhPT0gc3RycG9zKCR0aGlzLT5vcmlnaW5VcmwsICcvJykpIHsKJHRoaXMtPmhhc05vbnN0YW5kYXJkT3JpZ2luID0gdHJ1ZTsKfQoKJHRoaXMtPm5hbWVzcGFjZSA9IGltcGxvZGUoJy8nLCAkdXJsUGFydHMpOwokdGhpcy0+cmVwb3NpdG9yeSA9IHByZWdfcmVwbGFjZSgnIyhcLmdpdCkkIycsICcnLCAkbWF0Y2hbJ3JlcG8nXSk7CgokdGhpcy0+Y2FjaGUgPSBuZXcgQ2FjaGUoJHRoaXMtPmlvLCAkdGhpcy0+Y29uZmlnLT5nZXQoJ2NhY2hlLXJlcG8tZGlyJykuJy8nLiR0aGlzLT5vcmlnaW5VcmwuJy8nLiR0aGlzLT5uYW1lc3BhY2UuJy8nLiR0aGlzLT5yZXBvc2l0b3J5KTsKJHRoaXMtPmNhY2hlLT5zZXRSZWFkT25seSgkdGhpcy0+Y29uZmlnLT5nZXQoJ2NhY2hlLXJlYWQtb25seScpKTsKCiR0aGlzLT5mZXRjaFByb2plY3QoKTsKfQoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIHNldEh0dHBEb3dubG9hZGVyKEh0dHBEb3dubG9hZGVyICRodHRwRG93bmxvYWRlcikKewokdGhpcy0+aHR0cERvd25sb2FkZXIgPSAkaHR0cERvd25sb2FkZXI7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBnZXRDb21wb3NlckluZm9ybWF0aW9uKCRpZGVudGlmaWVyKQp7CmlmICgkdGhpcy0+Z2l0RHJpdmVyKSB7CnJldHVybiAkdGhpcy0+Z2l0RHJpdmVyLT5nZXRDb21wb3NlckluZm9ybWF0aW9uKCRpZGVudGlmaWVyKTsKfQoKaWYgKCFpc3NldCgkdGhpcy0+aW5mb0NhY2hlWyRpZGVudGlmaWVyXSkpIHsKaWYgKCR0aGlzLT5zaG91bGRDYWNoZSgkaWRlbnRpZmllcikgJiYgJHJlcyA9ICR0aGlzLT5jYWNoZS0+cmVhZCgkaWRlbnRpZmllcikpIHsKJGNvbXBvc2VyID0gSnNvbkZpbGU6OnBhcnNlSnNvbigkcmVzKTsKfSBlbHNlIHsKJGNvbXBvc2VyID0gJHRoaXMtPmdldEJhc2VDb21wb3NlckluZm9ybWF0aW9uKCRpZGVudGlmaWVyKTsKCmlmICgkdGhpcy0+c2hvdWxkQ2FjaGUoJGlkZW50aWZpZXIpKSB7CiR0aGlzLT5jYWNoZS0+d3JpdGUoJGlkZW50aWZpZXIsIGpzb25fZW5jb2RlKCRjb21wb3NlcikpOwp9Cn0KCmlmICgkY29tcG9zZXIpIHsKCmlmICghaXNzZXQoJGNvbXBvc2VyWydzdXBwb3J0J11bJ2lzc3VlcyddKSAmJiBpc3NldCgkdGhpcy0+cHJvamVjdFsnX2xpbmtzJ11bJ2lzc3VlcyddKSkgewokY29tcG9zZXJbJ3N1cHBvcnQnXVsnaXNzdWVzJ10gPSAkdGhpcy0+cHJvamVjdFsnX2xpbmtzJ11bJ2lzc3VlcyddOwp9CmlmICghaXNzZXQoJGNvbXBvc2VyWydhYmFuZG9uZWQnXSkgJiYgIWVtcHR5KCR0aGlzLT5wcm9qZWN0WydhcmNoaXZlZCddKSkgewokY29tcG9zZXJbJ2FiYW5kb25lZCddID0gdHJ1ZTsKfQp9CgokdGhpcy0+aW5mb0NhY2hlWyRpZGVudGlmaWVyXSA9ICRjb21wb3NlcjsKfQoKcmV0dXJuICR0aGlzLT5pbmZvQ2FjaGVbJGlkZW50aWZpZXJdOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0RmlsZUNvbnRlbnQoJGZpbGUsICRpZGVudGlmaWVyKQp7CmlmICgkdGhpcy0+Z2l0RHJpdmVyKSB7CnJldHVybiAkdGhpcy0+Z2l0RHJpdmVyLT5nZXRGaWxlQ29udGVudCgkZmlsZSwgJGlkZW50aWZpZXIpOwp9CgoKaWYgKCFwcmVnX21hdGNoKCd7W2EtZjAtOV17NDB9fWknLCAkaWRlbnRpZmllcikpIHsKJGJyYW5jaGVzID0gJHRoaXMtPmdldEJyYW5jaGVzKCk7CmlmIChpc3NldCgkYnJhbmNoZXNbJGlkZW50aWZpZXJdKSkgewokaWRlbnRpZmllciA9ICRicmFuY2hlc1skaWRlbnRpZmllcl07Cn0KfQoKJHJlc291cmNlID0gJHRoaXMtPmdldEFwaVVybCgpLicvcmVwb3NpdG9yeS9maWxlcy8nLiR0aGlzLT51cmxFbmNvZGVBbGwoJGZpbGUpLicvcmF3P3JlZj0nLiRpZGVudGlmaWVyOwoKdHJ5IHsKJGNvbnRlbnQgPSAkdGhpcy0+Z2V0Q29udGVudHMoJHJlc291cmNlKS0+Z2V0Qm9keSgpOwp9IGNhdGNoIChUcmFuc3BvcnRFeGNlcHRpb24gJGUpIHsKaWYgKCRlLT5nZXRDb2RlKCkgIT09IDQwNCkgewp0aHJvdyAkZTsKfQoKcmV0dXJuIG51bGw7Cn0KCnJldHVybiAkY29udGVudDsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIGdldENoYW5nZURhdGUoJGlkZW50aWZpZXIpCnsKaWYgKCR0aGlzLT5naXREcml2ZXIpIHsKcmV0dXJuICR0aGlzLT5naXREcml2ZXItPmdldENoYW5nZURhdGUoJGlkZW50aWZpZXIpOwp9CgppZiAoaXNzZXQoJHRoaXMtPmNvbW1pdHNbJGlkZW50aWZpZXJdKSkgewpyZXR1cm4gbmV3IFxEYXRlVGltZSgkdGhpcy0+Y29tbWl0c1skaWRlbnRpZmllcl1bJ2NvbW1pdHRlZF9kYXRlJ10pOwp9CgpyZXR1cm4gbmV3IFxEYXRlVGltZSgpOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0UmVwb3NpdG9yeVVybCgpCnsKaWYgKCR0aGlzLT5wcm90b2NvbCkgewpyZXR1cm4gJHRoaXMtPnByb2plY3RbInskdGhpcy0+cHJvdG9jb2x9X3VybF90b19yZXBvIl07Cn0KCnJldHVybiAkdGhpcy0+aXNQcml2YXRlID8gJHRoaXMtPnByb2plY3RbJ3NzaF91cmxfdG9fcmVwbyddIDogJHRoaXMtPnByb2plY3RbJ2h0dHBfdXJsX3RvX3JlcG8nXTsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIGdldFVybCgpCnsKaWYgKCR0aGlzLT5naXREcml2ZXIpIHsKcmV0dXJuICR0aGlzLT5naXREcml2ZXItPmdldFVybCgpOwp9CgpyZXR1cm4gJHRoaXMtPnByb2plY3RbJ3dlYl91cmwnXTsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIGdldERpc3QoJGlkZW50aWZpZXIpCnsKJHVybCA9ICR0aGlzLT5nZXRBcGlVcmwoKS4nL3JlcG9zaXRvcnkvYXJjaGl2ZS56aXA/c2hhPScuJGlkZW50aWZpZXI7CgpyZXR1cm4gYXJyYXkoJ3R5cGUnID0+ICd6aXAnLCAndXJsJyA9PiAkdXJsLCAncmVmZXJlbmNlJyA9PiAkaWRlbnRpZmllciwgJ3NoYXN1bScgPT4gJycpOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0U291cmNlKCRpZGVudGlmaWVyKQp7CmlmICgkdGhpcy0+Z2l0RHJpdmVyKSB7CnJldHVybiAkdGhpcy0+Z2l0RHJpdmVyLT5nZXRTb3VyY2UoJGlkZW50aWZpZXIpOwp9CgpyZXR1cm4gYXJyYXkoJ3R5cGUnID0+ICdnaXQnLCAndXJsJyA9PiAkdGhpcy0+Z2V0UmVwb3NpdG9yeVVybCgpLCAncmVmZXJlbmNlJyA9PiAkaWRlbnRpZmllcik7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBnZXRSb290SWRlbnRpZmllcigpCnsKaWYgKCR0aGlzLT5naXREcml2ZXIpIHsKcmV0dXJuICR0aGlzLT5naXREcml2ZXItPmdldFJvb3RJZGVudGlmaWVyKCk7Cn0KCnJldHVybiAkdGhpcy0+cHJvamVjdFsnZGVmYXVsdF9icmFuY2gnXTsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIGdldEJyYW5jaGVzKCkKewppZiAoJHRoaXMtPmdpdERyaXZlcikgewpyZXR1cm4gJHRoaXMtPmdpdERyaXZlci0+Z2V0QnJhbmNoZXMoKTsKfQoKaWYgKCEkdGhpcy0+YnJhbmNoZXMpIHsKJHRoaXMtPmJyYW5jaGVzID0gJHRoaXMtPmdldFJlZmVyZW5jZXMoJ2JyYW5jaGVzJyk7Cn0KCnJldHVybiAkdGhpcy0+YnJhbmNoZXM7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBnZXRUYWdzKCkKewppZiAoJHRoaXMtPmdpdERyaXZlcikgewpyZXR1cm4gJHRoaXMtPmdpdERyaXZlci0+Z2V0VGFncygpOwp9CgppZiAoISR0aGlzLT50YWdzKSB7CiR0aGlzLT50YWdzID0gJHRoaXMtPmdldFJlZmVyZW5jZXMoJ3RhZ3MnKTsKfQoKcmV0dXJuICR0aGlzLT50YWdzOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0QXBpVXJsKCkKewpyZXR1cm4gJHRoaXMtPnNjaGVtZS4nOi8vJy4kdGhpcy0+b3JpZ2luVXJsLicvYXBpL3Y0L3Byb2plY3RzLycuJHRoaXMtPnVybEVuY29kZUFsbCgkdGhpcy0+bmFtZXNwYWNlKS4nJTJGJy4kdGhpcy0+dXJsRW5jb2RlQWxsKCR0aGlzLT5yZXBvc2l0b3J5KTsKfQoKCgoKCgoKcHJpdmF0ZSBmdW5jdGlvbiB1cmxFbmNvZGVBbGwoJHN0cmluZykKewokZW5jb2RlZCA9ICcnOwpmb3IgKCRpID0gMDsgaXNzZXQoJHN0cmluZ1skaV0pOyAkaSsrKSB7CiRjaGFyYWN0ZXIgPSAkc3RyaW5nWyRpXTsKaWYgKCFjdHlwZV9hbG51bSgkY2hhcmFjdGVyKSAmJiAhaW5fYXJyYXkoJGNoYXJhY3RlciwgYXJyYXkoJy0nLCAnXycpLCB0cnVlKSkgewokY2hhcmFjdGVyID0gJyUnIC4gc3ByaW50ZignJTAyWCcsIG9yZCgkY2hhcmFjdGVyKSk7Cn0KJGVuY29kZWQgLj0gJGNoYXJhY3RlcjsKfQoKcmV0dXJuICRlbmNvZGVkOwp9CgoKCgoKCnByb3RlY3RlZCBmdW5jdGlvbiBnZXRSZWZlcmVuY2VzKCR0eXBlKQp7CiRwZXJQYWdlID0gMTAwOwokcmVzb3VyY2UgPSAkdGhpcy0+Z2V0QXBpVXJsKCkuJy9yZXBvc2l0b3J5LycuJHR5cGUuJz9wZXJfcGFnZT0nLiRwZXJQYWdlOwoKJHJlZmVyZW5jZXMgPSBhcnJheSgpOwpkbyB7CiRyZXNwb25zZSA9ICR0aGlzLT5nZXRDb250ZW50cygkcmVzb3VyY2UpOwokZGF0YSA9ICRyZXNwb25zZS0+ZGVjb2RlSnNvbigpOwoKZm9yZWFjaCAoJGRhdGEgYXMgJGRhdHVtKSB7CiRyZWZlcmVuY2VzWyRkYXR1bVsnbmFtZSddXSA9ICRkYXR1bVsnY29tbWl0J11bJ2lkJ107CgoKCiR0aGlzLT5jb21taXRzWyRkYXR1bVsnY29tbWl0J11bJ2lkJ11dID0gJGRhdHVtWydjb21taXQnXTsKfQoKaWYgKGNvdW50KCRkYXRhKSA+PSAkcGVyUGFnZSkgewokcmVzb3VyY2UgPSAkdGhpcy0+Z2V0TmV4dFBhZ2UoJHJlc3BvbnNlKTsKfSBlbHNlIHsKJHJlc291cmNlID0gZmFsc2U7Cn0KfSB3aGlsZSAoJHJlc291cmNlKTsKCnJldHVybiAkcmVmZXJlbmNlczsKfQoKcHJvdGVjdGVkIGZ1bmN0aW9uIGZldGNoUHJvamVjdCgpCnsKCiRyZXNvdXJjZSA9ICR0aGlzLT5nZXRBcGlVcmwoKTsKJHRoaXMtPnByb2plY3QgPSAkdGhpcy0+Z2V0Q29udGVudHMoJHJlc291cmNlLCB0cnVlKS0+ZGVjb2RlSnNvbigpOwppZiAoaXNzZXQoJHRoaXMtPnByb2plY3RbJ3Zpc2liaWxpdHknXSkpIHsKJHRoaXMtPmlzUHJpdmF0ZSA9ICR0aGlzLT5wcm9qZWN0Wyd2aXNpYmlsaXR5J10gIT09ICdwdWJsaWMnOwp9IGVsc2UgewoKJHRoaXMtPmlzUHJpdmF0ZSA9IGZhbHNlOwp9Cn0KCnByb3RlY3RlZCBmdW5jdGlvbiBhdHRlbXB0Q2xvbmVGYWxsYmFjaygpCnsKaWYgKCR0aGlzLT5pc1ByaXZhdGUgPT09IGZhbHNlKSB7CiR1cmwgPSAkdGhpcy0+Z2VuZXJhdGVQdWJsaWNVcmwoKTsKfSBlbHNlIHsKJHVybCA9ICR0aGlzLT5nZW5lcmF0ZVNzaFVybCgpOwp9Cgp0cnkgewoKCgokdGhpcy0+c2V0dXBHaXREcml2ZXIoJHVybCk7CgpyZXR1cm4gdHJ1ZTsKfSBjYXRjaCAoXFJ1bnRpbWVFeGNlcHRpb24gJGUpIHsKJHRoaXMtPmdpdERyaXZlciA9IG51bGw7CgokdGhpcy0+aW8tPndyaXRlRXJyb3IoJzxlcnJvcj5GYWlsZWQgdG8gY2xvbmUgdGhlICcuJHVybC4nIHJlcG9zaXRvcnksIHRyeSBydW5uaW5nIGluIGludGVyYWN0aXZlIG1vZGUgc28gdGhhdCB5b3UgY2FuIGVudGVyIHlvdXIgY3JlZGVudGlhbHM8L2Vycm9yPicpOwp0aHJvdyAkZTsKfQp9CgoKCgoKCnByb3RlY3RlZCBmdW5jdGlvbiBnZW5lcmF0ZVNzaFVybCgpCnsKaWYgKCR0aGlzLT5oYXNOb25zdGFuZGFyZE9yaWdpbikgewpyZXR1cm4gJ3NzaDovL2dpdEAnLiR0aGlzLT5vcmlnaW5VcmwuJy8nLiR0aGlzLT5uYW1lc3BhY2UuJy8nLiR0aGlzLT5yZXBvc2l0b3J5LicuZ2l0JzsKfQoKcmV0dXJuICdnaXRAJyAuICR0aGlzLT5vcmlnaW5VcmwgLiAnOicuJHRoaXMtPm5hbWVzcGFjZS4nLycuJHRoaXMtPnJlcG9zaXRvcnkuJy5naXQnOwp9Cgpwcm90ZWN0ZWQgZnVuY3Rpb24gZ2VuZXJhdGVQdWJsaWNVcmwoKQp7CnJldHVybiAkdGhpcy0+c2NoZW1lIC4gJzovLycgLiAkdGhpcy0+b3JpZ2luVXJsIC4gJy8nLiR0aGlzLT5uYW1lc3BhY2UuJy8nLiR0aGlzLT5yZXBvc2l0b3J5LicuZ2l0JzsKfQoKcHJvdGVjdGVkIGZ1bmN0aW9uIHNldHVwR2l0RHJpdmVyKCR1cmwpCnsKJHRoaXMtPmdpdERyaXZlciA9IG5ldyBHaXREcml2ZXIoCmFycmF5KCd1cmwnID0+ICR1cmwpLAokdGhpcy0+aW8sCiR0aGlzLT5jb25maWcsCiR0aGlzLT5odHRwRG93bmxvYWRlciwKJHRoaXMtPnByb2Nlc3MKKTsKJHRoaXMtPmdpdERyaXZlci0+aW5pdGlhbGl6ZSgpOwp9CgoKCgpwcm90ZWN0ZWQgZnVuY3Rpb24gZ2V0Q29udGVudHMoJHVybCwgJGZldGNoaW5nUmVwb0RhdGEgPSBmYWxzZSkKewp0cnkgewokcmVzcG9uc2UgPSBwYXJlbnQ6OmdldENvbnRlbnRzKCR1cmwpOwoKaWYgKCRmZXRjaGluZ1JlcG9EYXRhKSB7CiRqc29uID0gJHJlc3BvbnNlLT5kZWNvZGVKc29uKCk7CgoKCgppZiAoIWlzc2V0KCRqc29uWydkZWZhdWx0X2JyYW5jaCddKSAmJiBpc3NldCgkanNvblsncGVybWlzc2lvbnMnXSkpIHsKJHRoaXMtPmlzUHJpdmF0ZSA9ICRqc29uWyd2aXNpYmlsaXR5J10gIT09ICdwdWJsaWMnOwoKJG1vcmVUaGFuR3Vlc3RBY2Nlc3MgPSBmYWxzZTsKCgoKZm9yZWFjaCAoJGpzb25bJ3Blcm1pc3Npb25zJ10gYXMgJHBlcm1pc3Npb24pIHsKaWYgKCRwZXJtaXNzaW9uICYmICRwZXJtaXNzaW9uWydhY2Nlc3NfbGV2ZWwnXSA+IDEwKSB7CiRtb3JlVGhhbkd1ZXN0QWNjZXNzID0gdHJ1ZTsKfQp9CgppZiAoISRtb3JlVGhhbkd1ZXN0QWNjZXNzKSB7CiR0aGlzLT5pby0+d3JpdGVFcnJvcignPHdhcm5pbmc+R2l0TGFiIHRva2VuIHdpdGggR3Vlc3Qgb25seSBhY2Nlc3MgZGV0ZWN0ZWQ8L3dhcm5pbmc+Jyk7CgpyZXR1cm4gJHRoaXMtPmF0dGVtcHRDbG9uZUZhbGxiYWNrKCk7Cn0KfQoKCmlmICghaXNzZXQoJGpzb25bJ2RlZmF1bHRfYnJhbmNoJ10pKSB7CmlmICghZW1wdHkoJGpzb25bJ2lkJ10pKSB7CiR0aGlzLT5pc1ByaXZhdGUgPSBmYWxzZTsKfQoKdGhyb3cgbmV3IFRyYW5zcG9ydEV4Y2VwdGlvbignR2l0TGFiIEFQSSBzZWVtcyB0byBub3QgYmUgYXV0aGVudGljYXRlZCBhcyBpdCBkaWQgbm90IHJldHVybiBhIGRlZmF1bHRfYnJhbmNoJywgNDAxKTsKfQp9CgpyZXR1cm4gJHJlc3BvbnNlOwp9IGNhdGNoIChUcmFuc3BvcnRFeGNlcHRpb24gJGUpIHsKJGdpdExhYlV0aWwgPSBuZXcgR2l0TGFiKCR0aGlzLT5pbywgJHRoaXMtPmNvbmZpZywgJHRoaXMtPnByb2Nlc3MsICR0aGlzLT5odHRwRG93bmxvYWRlcik7Cgpzd2l0Y2ggKCRlLT5nZXRDb2RlKCkpIHsKY2FzZSA0MDE6CmNhc2UgNDA0OgoKaWYgKCEkZmV0Y2hpbmdSZXBvRGF0YSkgewp0aHJvdyAkZTsKfQoKaWYgKCRnaXRMYWJVdGlsLT5hdXRob3JpemVPQXV0aCgkdGhpcy0+b3JpZ2luVXJsKSkgewpyZXR1cm4gcGFyZW50OjpnZXRDb250ZW50cygkdXJsKTsKfQoKaWYgKCEkdGhpcy0+aW8tPmlzSW50ZXJhY3RpdmUoKSkgewppZiAoJHRoaXMtPmF0dGVtcHRDbG9uZUZhbGxiYWNrKCkpIHsKcmV0dXJuIG5ldyBSZXNwb25zZShhcnJheSgndXJsJyA9PiAnZHVtbXknKSwgMjAwLCBhcnJheSgpLCAnbnVsbCcpOwp9Cn0KJHRoaXMtPmlvLT53cml0ZUVycm9yKCc8d2FybmluZz5GYWlsZWQgdG8gZG93bmxvYWQgJyAuICR0aGlzLT5uYW1lc3BhY2UgLiAnLycgLiAkdGhpcy0+cmVwb3NpdG9yeSAuICc6JyAuICRlLT5nZXRNZXNzYWdlKCkgLiAnPC93YXJuaW5nPicpOwokZ2l0TGFiVXRpbC0+YXV0aG9yaXplT0F1dGhJbnRlcmFjdGl2ZWx5KCR0aGlzLT5zY2hlbWUsICR0aGlzLT5vcmlnaW5VcmwsICdZb3VyIGNyZWRlbnRpYWxzIGFyZSByZXF1aXJlZCB0byBmZXRjaCBwcml2YXRlIHJlcG9zaXRvcnkgbWV0YWRhdGEgKDxpbmZvPicuJHRoaXMtPnVybC4nPC9pbmZvPiknKTsKCnJldHVybiBwYXJlbnQ6OmdldENvbnRlbnRzKCR1cmwpOwoKY2FzZSA0MDM6CmlmICghJHRoaXMtPmlvLT5oYXNBdXRoZW50aWNhdGlvbigkdGhpcy0+b3JpZ2luVXJsKSAmJiAkZ2l0TGFiVXRpbC0+YXV0aG9yaXplT0F1dGgoJHRoaXMtPm9yaWdpblVybCkpIHsKcmV0dXJuIHBhcmVudDo6Z2V0Q29udGVudHMoJHVybCk7Cn0KCmlmICghJHRoaXMtPmlvLT5pc0ludGVyYWN0aXZlKCkgJiYgJGZldGNoaW5nUmVwb0RhdGEpIHsKaWYgKCR0aGlzLT5hdHRlbXB0Q2xvbmVGYWxsYmFjaygpKSB7CnJldHVybiBuZXcgUmVzcG9uc2UoYXJyYXkoJ3VybCcgPT4gJ2R1bW15JyksIDIwMCwgYXJyYXkoKSwgJ251bGwnKTsKfQp9Cgp0aHJvdyAkZTsKCmRlZmF1bHQ6CnRocm93ICRlOwp9Cn0KfQoKCgoKCgoKcHVibGljIHN0YXRpYyBmdW5jdGlvbiBzdXBwb3J0cyhJT0ludGVyZmFjZSAkaW8sIENvbmZpZyAkY29uZmlnLCAkdXJsLCAkZGVlcCA9IGZhbHNlKQp7CmlmICghcHJlZ19tYXRjaChzZWxmOjpVUkxfUkVHRVgsICR1cmwsICRtYXRjaCkpIHsKcmV0dXJuIGZhbHNlOwp9Cgokc2NoZW1lID0gIWVtcHR5KCRtYXRjaFsnc2NoZW1lJ10pID8gJG1hdGNoWydzY2hlbWUnXSA6IG51bGw7CiRndWVzc2VkRG9tYWluID0gIWVtcHR5KCRtYXRjaFsnZG9tYWluJ10pID8gJG1hdGNoWydkb21haW4nXSA6ICRtYXRjaFsnZG9tYWluMiddOwokdXJsUGFydHMgPSBleHBsb2RlKCcvJywgJG1hdGNoWydwYXJ0cyddKTsKCmlmIChmYWxzZSA9PT0gc2VsZjo6ZGV0ZXJtaW5lT3JpZ2luKChhcnJheSkgJGNvbmZpZy0+Z2V0KCdnaXRsYWItZG9tYWlucycpLCAkZ3Vlc3NlZERvbWFpbiwgJHVybFBhcnRzLCAkbWF0Y2hbJ3BvcnQnXSkpIHsKcmV0dXJuIGZhbHNlOwp9CgppZiAoJ2h0dHBzJyA9PT0gJHNjaGVtZSAmJiAhZXh0ZW5zaW9uX2xvYWRlZCgnb3BlbnNzbCcpKSB7CiRpby0+d3JpdGVFcnJvcignU2tpcHBpbmcgR2l0TGFiIGRyaXZlciBmb3IgJy4kdXJsLicgYmVjYXVzZSB0aGUgT3BlblNTTCBQSFAgZXh0ZW5zaW9uIGlzIG1pc3NpbmcuJywgdHJ1ZSwgSU9JbnRlcmZhY2U6OlZFUkJPU0UpOwoKcmV0dXJuIGZhbHNlOwp9CgpyZXR1cm4gdHJ1ZTsKfQoKcHJvdGVjdGVkIGZ1bmN0aW9uIGdldE5leHRQYWdlKFJlc3BvbnNlICRyZXNwb25zZSkKewokaGVhZGVyID0gJHJlc3BvbnNlLT5nZXRIZWFkZXIoJ2xpbmsnKTsKCiRsaW5rcyA9IGV4cGxvZGUoJywnLCAkaGVhZGVyKTsKZm9yZWFjaCAoJGxpbmtzIGFzICRsaW5rKSB7CmlmIChwcmVnX21hdGNoKCd7PCguKz8pPjsgKnJlbD0ibmV4dCJ9JywgJGxpbmssICRtYXRjaCkpIHsKcmV0dXJuICRtYXRjaFsxXTsKfQp9Cn0KCgoKCgoKCnByaXZhdGUgc3RhdGljIGZ1bmN0aW9uIGRldGVybWluZU9yaWdpbihhcnJheSAkY29uZmlndXJlZERvbWFpbnMsICRndWVzc2VkRG9tYWluLCBhcnJheSAmJHVybFBhcnRzLCAkcG9ydE51bWJlcikKewokZ3Vlc3NlZERvbWFpbiA9IHN0cnRvbG93ZXIoJGd1ZXNzZWREb21haW4pOwoKaWYgKGluX2FycmF5KCRndWVzc2VkRG9tYWluLCAkY29uZmlndXJlZERvbWFpbnMpIHx8ICgkcG9ydE51bWJlciAmJiBpbl9hcnJheSgkZ3Vlc3NlZERvbWFpbi4nOicuJHBvcnROdW1iZXIsICRjb25maWd1cmVkRG9tYWlucykpKSB7CmlmICgkcG9ydE51bWJlcikgewpyZXR1cm4gJGd1ZXNzZWREb21haW4uJzonLiRwb3J0TnVtYmVyOwp9CgpyZXR1cm4gJGd1ZXNzZWREb21haW47Cn0KCmlmICgkcG9ydE51bWJlcikgewokZ3Vlc3NlZERvbWFpbiAuPSAnOicuJHBvcnROdW1iZXI7Cn0KCndoaWxlIChudWxsICE9PSAoJHBhcnQgPSBhcnJheV9zaGlmdCgkdXJsUGFydHMpKSkgewokZ3Vlc3NlZERvbWFpbiAuPSAnLycgLiAkcGFydDsKCmlmIChpbl9hcnJheSgkZ3Vlc3NlZERvbWFpbiwgJGNvbmZpZ3VyZWREb21haW5zKSB8fCAoJHBvcnROdW1iZXIgJiYgaW5fYXJyYXkocHJlZ19yZXBsYWNlKCd7OlxkK30nLCAnJywgJGd1ZXNzZWREb21haW4pLCAkY29uZmlndXJlZERvbWFpbnMpKSkgewpyZXR1cm4gJGd1ZXNzZWREb21haW47Cn0KfQoKcmV0dXJuIGZhbHNlOwp9Cn0KPD9waHAKCgoKCgoKCgoKCgpuYW1lc3BhY2UgQ29tcG9zZXJcUmVwb3NpdG9yeVxWY3M7Cgp1c2UgQ29tcG9zZXJcQ29uZmlnOwp1c2UgQ29tcG9zZXJcSU9cSU9JbnRlcmZhY2U7CgoKCgpjbGFzcyBIZ0JpdGJ1Y2tldERyaXZlciBleHRlbmRzIEJpdGJ1Y2tldERyaXZlcgp7CgoKCnB1YmxpYyBmdW5jdGlvbiBnZXRSb290SWRlbnRpZmllcigpCnsKaWYgKCR0aGlzLT5mYWxsYmFja0RyaXZlcikgewpyZXR1cm4gJHRoaXMtPmZhbGxiYWNrRHJpdmVyLT5nZXRSb290SWRlbnRpZmllcigpOwp9CgppZiAobnVsbCA9PT0gJHRoaXMtPnJvb3RJZGVudGlmaWVyKSB7CmlmICghJHRoaXMtPmdldFJlcG9EYXRhKCkpIHsKCmlmICghJHRoaXMtPmZhbGxiYWNrRHJpdmVyKSB7CnRocm93IG5ldyBcTG9naWNFeGNlcHRpb24oJ0EgZmFsbGJhY2sgZHJpdmVyIHNob3VsZCBiZSBzZXR1cCBpZiBnZXRSZXBvRGF0YSByZXR1cm5zIGZhbHNlJyk7Cn0KCgpyZXR1cm4gJHRoaXMtPmZhbGxiYWNrRHJpdmVyLT5nZXRSb290SWRlbnRpZmllcigpOwp9CgppZiAoJHRoaXMtPnZjc1R5cGUgIT09ICdoZycpIHsKdGhyb3cgbmV3IFxSdW50aW1lRXhjZXB0aW9uKAokdGhpcy0+dXJsLicgZG9lcyBub3QgYXBwZWFyIHRvIGJlIGEgbWVyY3VyaWFsIHJlcG9zaXRvcnksIHVzZSAnLgokdGhpcy0+Y2xvbmVIdHRwc1VybC4nIGlmIHRoaXMgaXMgYSBnaXQgYml0YnVja2V0IHJlcG9zaXRvcnknCik7Cn0KCiRtYWluQnJhbmNoRGF0YSA9ICR0aGlzLT5nZXRNYWluQnJhbmNoRGF0YSgpOwokdGhpcy0+cm9vdElkZW50aWZpZXIgPSAhZW1wdHkoJG1haW5CcmFuY2hEYXRhWyduYW1lJ10pID8gJG1haW5CcmFuY2hEYXRhWyduYW1lJ10gOiAnZGVmYXVsdCc7Cn0KCnJldHVybiAkdGhpcy0+cm9vdElkZW50aWZpZXI7Cn0KCgoKCnB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gc3VwcG9ydHMoSU9JbnRlcmZhY2UgJGlvLCBDb25maWcgJGNvbmZpZywgJHVybCwgJGRlZXAgPSBmYWxzZSkKewppZiAoIXByZWdfbWF0Y2goJyNeaHR0cHM/Oi8vYml0YnVja2V0XC5vcmcvKFteL10rKS8oW14vXSspLz8kI2knLCAkdXJsKSkgewpyZXR1cm4gZmFsc2U7Cn0KCmlmICghZXh0ZW5zaW9uX2xvYWRlZCgnb3BlbnNzbCcpKSB7CiRpby0+d3JpdGVFcnJvcignU2tpcHBpbmcgQml0YnVja2V0IGhnIGRyaXZlciBmb3IgJy4kdXJsLicgYmVjYXVzZSB0aGUgT3BlblNTTCBQSFAgZXh0ZW5zaW9uIGlzIG1pc3NpbmcuJywgdHJ1ZSwgSU9JbnRlcmZhY2U6OlZFUkJPU0UpOwoKcmV0dXJuIGZhbHNlOwp9CgpyZXR1cm4gdHJ1ZTsKfQoKCgoKcHJvdGVjdGVkIGZ1bmN0aW9uIHNldHVwRmFsbGJhY2tEcml2ZXIoJHVybCkKewokdGhpcy0+ZmFsbGJhY2tEcml2ZXIgPSBuZXcgSGdEcml2ZXIoCmFycmF5KCd1cmwnID0+ICR1cmwpLAokdGhpcy0+aW8sCiR0aGlzLT5jb25maWcsCiR0aGlzLT5odHRwRG93bmxvYWRlciwKJHRoaXMtPnByb2Nlc3MKKTsKJHRoaXMtPmZhbGxiYWNrRHJpdmVyLT5pbml0aWFsaXplKCk7Cn0KCgoKCnByb3RlY3RlZCBmdW5jdGlvbiBnZW5lcmF0ZVNzaFVybCgpCnsKcmV0dXJuICdzc2g6Ly9oZ0AnIC4gJHRoaXMtPm9yaWdpblVybCAuICcvJyAuICR0aGlzLT5vd25lci4nLycuJHRoaXMtPnJlcG9zaXRvcnk7Cn0KfQo8P3BocAoKCgoKCgoKCgoKCm5hbWVzcGFjZSBDb21wb3NlclxSZXBvc2l0b3J5XFZjczsKCnVzZSBDb21wb3NlclxDb25maWc7CnVzZSBDb21wb3NlclxDYWNoZTsKdXNlIENvbXBvc2VyXFV0aWxcSGcgYXMgSGdVdGlsczsKdXNlIENvbXBvc2VyXFV0aWxcUHJvY2Vzc0V4ZWN1dG9yOwp1c2UgQ29tcG9zZXJcVXRpbFxGaWxlc3lzdGVtOwp1c2UgQ29tcG9zZXJcSU9cSU9JbnRlcmZhY2U7CgoKCgpjbGFzcyBIZ0RyaXZlciBleHRlbmRzIFZjc0RyaXZlcgp7CnByb3RlY3RlZCAkdGFnczsKcHJvdGVjdGVkICRicmFuY2hlczsKcHJvdGVjdGVkICRyb290SWRlbnRpZmllcjsKcHJvdGVjdGVkICRyZXBvRGlyOwoKCgoKcHVibGljIGZ1bmN0aW9uIGluaXRpYWxpemUoKQp7CmlmIChGaWxlc3lzdGVtOjppc0xvY2FsUGF0aCgkdGhpcy0+dXJsKSkgewokdGhpcy0+cmVwb0RpciA9ICR0aGlzLT51cmw7Cn0gZWxzZSB7CmlmICghQ2FjaGU6OmlzVXNhYmxlKCR0aGlzLT5jb25maWctPmdldCgnY2FjaGUtdmNzLWRpcicpKSkgewp0aHJvdyBuZXcgXFJ1bnRpbWVFeGNlcHRpb24oJ0hnRHJpdmVyIHJlcXVpcmVzIGEgdXNhYmxlIGNhY2hlIGRpcmVjdG9yeSwgYW5kIGl0IGxvb2tzIGxpa2UgeW91IHNldCBpdCB0byBiZSBkaXNhYmxlZCcpOwp9CgokY2FjaGVEaXIgPSAkdGhpcy0+Y29uZmlnLT5nZXQoJ2NhY2hlLXZjcy1kaXInKTsKJHRoaXMtPnJlcG9EaXIgPSAkY2FjaGVEaXIgLiAnLycgLiBwcmVnX3JlcGxhY2UoJ3tbXmEtejAtOV19aScsICctJywgJHRoaXMtPnVybCkgLiAnLyc7CgokZnMgPSBuZXcgRmlsZXN5c3RlbSgpOwokZnMtPmVuc3VyZURpcmVjdG9yeUV4aXN0cygkY2FjaGVEaXIpOwoKaWYgKCFpc193cml0YWJsZShkaXJuYW1lKCR0aGlzLT5yZXBvRGlyKSkpIHsKdGhyb3cgbmV3IFxSdW50aW1lRXhjZXB0aW9uKCdDYW4gbm90IGNsb25lICcuJHRoaXMtPnVybC4nIHRvIGFjY2VzcyBwYWNrYWdlIGluZm9ybWF0aW9uLiBUaGUgIicuJGNhY2hlRGlyLiciIGRpcmVjdG9yeSBpcyBub3Qgd3JpdGFibGUgYnkgdGhlIGN1cnJlbnQgdXNlci4nKTsKfQoKCiR0aGlzLT5jb25maWctPnByb2hpYml0VXJsQnlDb25maWcoJHRoaXMtPnVybCwgJHRoaXMtPmlvKTsKCiRoZ1V0aWxzID0gbmV3IEhnVXRpbHMoJHRoaXMtPmlvLCAkdGhpcy0+Y29uZmlnLCAkdGhpcy0+cHJvY2Vzcyk7CgoKaWYgKGlzX2RpcigkdGhpcy0+cmVwb0RpcikgJiYgMCA9PT0gJHRoaXMtPnByb2Nlc3MtPmV4ZWN1dGUoJ2hnIHN1bW1hcnknLCAkb3V0cHV0LCAkdGhpcy0+cmVwb0RpcikpIHsKaWYgKDAgIT09ICR0aGlzLT5wcm9jZXNzLT5leGVjdXRlKCdoZyBwdWxsJywgJG91dHB1dCwgJHRoaXMtPnJlcG9EaXIpKSB7CiR0aGlzLT5pby0+d3JpdGVFcnJvcignPGVycm9yPkZhaWxlZCB0byB1cGRhdGUgJy4kdGhpcy0+dXJsLicsIHBhY2thZ2UgaW5mb3JtYXRpb24gZnJvbSB0aGlzIHJlcG9zaXRvcnkgbWF5IGJlIG91dGRhdGVkICgnLiR0aGlzLT5wcm9jZXNzLT5nZXRFcnJvck91dHB1dCgpLicpPC9lcnJvcj4nKTsKfQp9IGVsc2UgewoKJGZzLT5yZW1vdmVEaXJlY3RvcnkoJHRoaXMtPnJlcG9EaXIpOwoKJHJlcG9EaXIgPSAkdGhpcy0+cmVwb0RpcjsKJGNvbW1hbmQgPSBmdW5jdGlvbiAoJHVybCkgdXNlICgkcmVwb0RpcikgewpyZXR1cm4gc3ByaW50ZignaGcgY2xvbmUgLS1ub3VwZGF0ZSAtLSAlcyAlcycsIFByb2Nlc3NFeGVjdXRvcjo6ZXNjYXBlKCR1cmwpLCBQcm9jZXNzRXhlY3V0b3I6OmVzY2FwZSgkcmVwb0RpcikpOwp9OwoKJGhnVXRpbHMtPnJ1bkNvbW1hbmQoJGNvbW1hbmQsICR0aGlzLT51cmwsIG51bGwpOwp9Cn0KCiR0aGlzLT5nZXRUYWdzKCk7CiR0aGlzLT5nZXRCcmFuY2hlcygpOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0Um9vdElkZW50aWZpZXIoKQp7CmlmIChudWxsID09PSAkdGhpcy0+cm9vdElkZW50aWZpZXIpIHsKJHRoaXMtPnByb2Nlc3MtPmV4ZWN1dGUoc3ByaW50ZignaGcgdGlwIC0tdGVtcGxhdGUgIntub2RlfSInKSwgJG91dHB1dCwgJHRoaXMtPnJlcG9EaXIpOwokb3V0cHV0ID0gJHRoaXMtPnByb2Nlc3MtPnNwbGl0TGluZXMoJG91dHB1dCk7CiR0aGlzLT5yb290SWRlbnRpZmllciA9ICRvdXRwdXRbMF07Cn0KCnJldHVybiAkdGhpcy0+cm9vdElkZW50aWZpZXI7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBnZXRVcmwoKQp7CnJldHVybiAkdGhpcy0+dXJsOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0U291cmNlKCRpZGVudGlmaWVyKQp7CnJldHVybiBhcnJheSgndHlwZScgPT4gJ2hnJywgJ3VybCcgPT4gJHRoaXMtPmdldFVybCgpLCAncmVmZXJlbmNlJyA9PiAkaWRlbnRpZmllcik7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBnZXREaXN0KCRpZGVudGlmaWVyKQp7CnJldHVybiBudWxsOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0RmlsZUNvbnRlbnQoJGZpbGUsICRpZGVudGlmaWVyKQp7CiRyZXNvdXJjZSA9IHNwcmludGYoJ2hnIGNhdCAtciAlcyAlcycsIFByb2Nlc3NFeGVjdXRvcjo6ZXNjYXBlKCRpZGVudGlmaWVyKSwgUHJvY2Vzc0V4ZWN1dG9yOjplc2NhcGUoJGZpbGUpKTsKJHRoaXMtPnByb2Nlc3MtPmV4ZWN1dGUoJHJlc291cmNlLCAkY29udGVudCwgJHRoaXMtPnJlcG9EaXIpOwoKaWYgKCF0cmltKCRjb250ZW50KSkgewpyZXR1cm4gbnVsbDsKfQoKcmV0dXJuICRjb250ZW50Owp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0Q2hhbmdlRGF0ZSgkaWRlbnRpZmllcikKewokdGhpcy0+cHJvY2Vzcy0+ZXhlY3V0ZSgKc3ByaW50ZigKJ2hnIGxvZyAtLXRlbXBsYXRlICJ7ZGF0ZXxyZmMzMzM5ZGF0ZX0iIC1yICVzJywKUHJvY2Vzc0V4ZWN1dG9yOjplc2NhcGUoJGlkZW50aWZpZXIpCiksCiRvdXRwdXQsCiR0aGlzLT5yZXBvRGlyCik7CgpyZXR1cm4gbmV3IFxEYXRlVGltZSh0cmltKCRvdXRwdXQpLCBuZXcgXERhdGVUaW1lWm9uZSgnVVRDJykpOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0VGFncygpCnsKaWYgKG51bGwgPT09ICR0aGlzLT50YWdzKSB7CiR0YWdzID0gYXJyYXkoKTsKCiR0aGlzLT5wcm9jZXNzLT5leGVjdXRlKCdoZyB0YWdzJywgJG91dHB1dCwgJHRoaXMtPnJlcG9EaXIpOwpmb3JlYWNoICgkdGhpcy0+cHJvY2Vzcy0+c3BsaXRMaW5lcygkb3V0cHV0KSBhcyAkdGFnKSB7CmlmICgkdGFnICYmIHByZWdfbWF0Y2goJyheKFteXHNdKylccytcZCs6KC4qKSQpJywgJHRhZywgJG1hdGNoKSkgewokdGFnc1skbWF0Y2hbMV1dID0gJG1hdGNoWzJdOwp9Cn0KdW5zZXQoJHRhZ3NbJ3RpcCddKTsKCiR0aGlzLT50YWdzID0gJHRhZ3M7Cn0KCnJldHVybiAkdGhpcy0+dGFnczsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIGdldEJyYW5jaGVzKCkKewppZiAobnVsbCA9PT0gJHRoaXMtPmJyYW5jaGVzKSB7CiRicmFuY2hlcyA9IGFycmF5KCk7CiRib29rbWFya3MgPSBhcnJheSgpOwoKJHRoaXMtPnByb2Nlc3MtPmV4ZWN1dGUoJ2hnIGJyYW5jaGVzJywgJG91dHB1dCwgJHRoaXMtPnJlcG9EaXIpOwpmb3JlYWNoICgkdGhpcy0+cHJvY2Vzcy0+c3BsaXRMaW5lcygkb3V0cHV0KSBhcyAkYnJhbmNoKSB7CmlmICgkYnJhbmNoICYmIHByZWdfbWF0Y2goJyheKFteXHNdKylccytcZCs6KFthLWYwLTldKykpJywgJGJyYW5jaCwgJG1hdGNoKSkgewokYnJhbmNoZXNbJG1hdGNoWzFdXSA9ICRtYXRjaFsyXTsKfQp9CgokdGhpcy0+cHJvY2Vzcy0+ZXhlY3V0ZSgnaGcgYm9va21hcmtzJywgJG91dHB1dCwgJHRoaXMtPnJlcG9EaXIpOwpmb3JlYWNoICgkdGhpcy0+cHJvY2Vzcy0+c3BsaXRMaW5lcygkb3V0cHV0KSBhcyAkYnJhbmNoKSB7CmlmICgkYnJhbmNoICYmIHByZWdfbWF0Y2goJyheKD86W1xzKl0qKShbXlxzXSspXHMrXGQrOiguKikkKScsICRicmFuY2gsICRtYXRjaCkpIHsKJGJvb2ttYXJrc1skbWF0Y2hbMV1dID0gJG1hdGNoWzJdOwp9Cn0KCgokdGhpcy0+YnJhbmNoZXMgPSBhcnJheV9tZXJnZSgkYm9va21hcmtzLCAkYnJhbmNoZXMpOwp9CgpyZXR1cm4gJHRoaXMtPmJyYW5jaGVzOwp9CgoKCgpwdWJsaWMgc3RhdGljIGZ1bmN0aW9uIHN1cHBvcnRzKElPSW50ZXJmYWNlICRpbywgQ29uZmlnICRjb25maWcsICR1cmwsICRkZWVwID0gZmFsc2UpCnsKaWYgKHByZWdfbWF0Y2goJyMoXig/Omh0dHBzP3xzc2gpOi8vKD86W15AXStAKT9iaXRidWNrZXQub3JnfGh0dHBzOi8vKD86Lio/KVwua2lsbmhnLmNvbSkjaScsICR1cmwpKSB7CnJldHVybiB0cnVlOwp9CgoKaWYgKEZpbGVzeXN0ZW06OmlzTG9jYWxQYXRoKCR1cmwpKSB7CiR1cmwgPSBGaWxlc3lzdGVtOjpnZXRQbGF0Zm9ybVBhdGgoJHVybCk7CmlmICghaXNfZGlyKCR1cmwpKSB7CnJldHVybiBmYWxzZTsKfQoKJHByb2Nlc3MgPSBuZXcgUHJvY2Vzc0V4ZWN1dG9yKCRpbyk7CgppZiAoJHByb2Nlc3MtPmV4ZWN1dGUoJ2hnIHN1bW1hcnknLCAkb3V0cHV0LCAkdXJsKSA9PT0gMCkgewpyZXR1cm4gdHJ1ZTsKfQp9CgppZiAoISRkZWVwKSB7CnJldHVybiBmYWxzZTsKfQoKJHByb2Nlc3MgPSBuZXcgUHJvY2Vzc0V4ZWN1dG9yKCRpbyk7CiRleGl0ID0gJHByb2Nlc3MtPmV4ZWN1dGUoc3ByaW50ZignaGcgaWRlbnRpZnkgLS0gJXMnLCBQcm9jZXNzRXhlY3V0b3I6OmVzY2FwZSgkdXJsKSksICRpZ25vcmVkKTsKCnJldHVybiAkZXhpdCA9PT0gMDsKfQp9Cjw/cGhwCgoKCgoKCgoKCgoKbmFtZXNwYWNlIENvbXBvc2VyXFJlcG9zaXRvcnlcVmNzOwoKdXNlIENvbXBvc2VyXENvbmZpZzsKdXNlIENvbXBvc2VyXENhY2hlOwp1c2UgQ29tcG9zZXJcSU9cSU9JbnRlcmZhY2U7CnVzZSBDb21wb3NlclxVdGlsXFByb2Nlc3NFeGVjdXRvcjsKdXNlIENvbXBvc2VyXFV0aWxcUGVyZm9yY2U7CgoKCgpjbGFzcyBQZXJmb3JjZURyaXZlciBleHRlbmRzIFZjc0RyaXZlcgp7CnByb3RlY3RlZCAkZGVwb3Q7CnByb3RlY3RlZCAkYnJhbmNoOwoKcHJvdGVjdGVkICRwZXJmb3JjZSA9IG51bGw7CgoKCgpwdWJsaWMgZnVuY3Rpb24gaW5pdGlhbGl6ZSgpCnsKJHRoaXMtPmRlcG90ID0gJHRoaXMtPnJlcG9Db25maWdbJ2RlcG90J107CiR0aGlzLT5icmFuY2ggPSAnJzsKaWYgKCFlbXB0eSgkdGhpcy0+cmVwb0NvbmZpZ1snYnJhbmNoJ10pKSB7CiR0aGlzLT5icmFuY2ggPSAkdGhpcy0+cmVwb0NvbmZpZ1snYnJhbmNoJ107Cn0KCiR0aGlzLT5pbml0UGVyZm9yY2UoJHRoaXMtPnJlcG9Db25maWcpOwokdGhpcy0+cGVyZm9yY2UtPnA0TG9naW4oKTsKJHRoaXMtPnBlcmZvcmNlLT5jaGVja1N0cmVhbSgpOwoKJHRoaXMtPnBlcmZvcmNlLT53cml0ZVA0Q2xpZW50U3BlYygpOwokdGhpcy0+cGVyZm9yY2UtPmNvbm5lY3RDbGllbnQoKTsKCnJldHVybiB0cnVlOwp9Cgpwcml2YXRlIGZ1bmN0aW9uIGluaXRQZXJmb3JjZSgkcmVwb0NvbmZpZykKewppZiAoIWVtcHR5KCR0aGlzLT5wZXJmb3JjZSkpIHsKcmV0dXJuOwp9CgppZiAoIUNhY2hlOjppc1VzYWJsZSgkdGhpcy0+Y29uZmlnLT5nZXQoJ2NhY2hlLXZjcy1kaXInKSkpIHsKdGhyb3cgbmV3IFxSdW50aW1lRXhjZXB0aW9uKCdQZXJmb3JjZURyaXZlciByZXF1aXJlcyBhIHVzYWJsZSBjYWNoZSBkaXJlY3RvcnksIGFuZCBpdCBsb29rcyBsaWtlIHlvdSBzZXQgaXQgdG8gYmUgZGlzYWJsZWQnKTsKfQoKJHJlcG9EaXIgPSAkdGhpcy0+Y29uZmlnLT5nZXQoJ2NhY2hlLXZjcy1kaXInKSAuICcvJyAuICR0aGlzLT5kZXBvdDsKJHRoaXMtPnBlcmZvcmNlID0gUGVyZm9yY2U6OmNyZWF0ZSgkcmVwb0NvbmZpZywgJHRoaXMtPmdldFVybCgpLCAkcmVwb0RpciwgJHRoaXMtPnByb2Nlc3MsICR0aGlzLT5pbyk7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBnZXRGaWxlQ29udGVudCgkZmlsZSwgJGlkZW50aWZpZXIpCnsKcmV0dXJuICR0aGlzLT5wZXJmb3JjZS0+Z2V0RmlsZUNvbnRlbnQoJGZpbGUsICRpZGVudGlmaWVyKTsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIGdldENoYW5nZURhdGUoJGlkZW50aWZpZXIpCnsKcmV0dXJuIG51bGw7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBnZXRSb290SWRlbnRpZmllcigpCnsKcmV0dXJuICR0aGlzLT5icmFuY2g7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBnZXRCcmFuY2hlcygpCnsKcmV0dXJuICR0aGlzLT5wZXJmb3JjZS0+Z2V0QnJhbmNoZXMoKTsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIGdldFRhZ3MoKQp7CnJldHVybiAkdGhpcy0+cGVyZm9yY2UtPmdldFRhZ3MoKTsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIGdldERpc3QoJGlkZW50aWZpZXIpCnsKcmV0dXJuIG51bGw7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBnZXRTb3VyY2UoJGlkZW50aWZpZXIpCnsKcmV0dXJuIGFycmF5KAondHlwZScgPT4gJ3BlcmZvcmNlJywKJ3VybCcgPT4gJHRoaXMtPnJlcG9Db25maWdbJ3VybCddLAoncmVmZXJlbmNlJyA9PiAkaWRlbnRpZmllciwKJ3A0dXNlcicgPT4gJHRoaXMtPnBlcmZvcmNlLT5nZXRVc2VyKCksCik7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBnZXRVcmwoKQp7CnJldHVybiAkdGhpcy0+dXJsOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gaGFzQ29tcG9zZXJGaWxlKCRpZGVudGlmaWVyKQp7CiRjb21wb3NlckluZm8gPSAkdGhpcy0+cGVyZm9yY2UtPmdldENvbXBvc2VySW5mb3JtYXRpb24oJy8vJyAuICR0aGlzLT5kZXBvdCAuICcvJyAuICRpZGVudGlmaWVyKTsKCnJldHVybiAhZW1wdHkoJGNvbXBvc2VySW5mbyk7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBnZXRDb250ZW50cygkdXJsKQp7CnRocm93IG5ldyBcQmFkTWV0aG9kQ2FsbEV4Y2VwdGlvbignTm90IGltcGxlbWVudGVkL3VzZWQgaW4gUGVyZm9yY2VEcml2ZXInKTsKfQoKCgoKcHVibGljIHN0YXRpYyBmdW5jdGlvbiBzdXBwb3J0cyhJT0ludGVyZmFjZSAkaW8sIENvbmZpZyAkY29uZmlnLCAkdXJsLCAkZGVlcCA9IGZhbHNlKQp7CmlmICgkZGVlcCB8fCBwcmVnX21hdGNoKCcjXGIocGVyZm9yY2V8cDQpXGIjaScsICR1cmwpKSB7CnJldHVybiBQZXJmb3JjZTo6Y2hlY2tTZXJ2ZXJFeGlzdHMoJHVybCwgbmV3IFByb2Nlc3NFeGVjdXRvcigkaW8pKTsKfQoKcmV0dXJuIGZhbHNlOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gY2xlYW51cCgpCnsKJHRoaXMtPnBlcmZvcmNlLT5jbGVhbnVwQ2xpZW50U3BlYygpOwokdGhpcy0+cGVyZm9yY2UgPSBudWxsOwp9CgpwdWJsaWMgZnVuY3Rpb24gZ2V0RGVwb3QoKQp7CnJldHVybiAkdGhpcy0+ZGVwb3Q7Cn0KCnB1YmxpYyBmdW5jdGlvbiBnZXRCcmFuY2goKQp7CnJldHVybiAkdGhpcy0+YnJhbmNoOwp9Cn0KPD9waHAKCgoKCgoKCgoKCgpuYW1lc3BhY2UgQ29tcG9zZXJcUmVwb3NpdG9yeVxWY3M7Cgp1c2UgQ29tcG9zZXJcQ2FjaGU7CnVzZSBDb21wb3NlclxDb25maWc7CnVzZSBDb21wb3NlclxKc29uXEpzb25GaWxlOwp1c2UgQ29tcG9zZXJcVXRpbFxQcm9jZXNzRXhlY3V0b3I7CnVzZSBDb21wb3NlclxVdGlsXEZpbGVzeXN0ZW07CnVzZSBDb21wb3NlclxVdGlsXFVybDsKdXNlIENvbXBvc2VyXFV0aWxcU3ZuIGFzIFN2blV0aWw7CnVzZSBDb21wb3NlclxJT1xJT0ludGVyZmFjZTsKdXNlIENvbXBvc2VyXERvd25sb2FkZXJcVHJhbnNwb3J0RXhjZXB0aW9uOwoKCgoKCmNsYXNzIFN2bkRyaXZlciBleHRlbmRzIFZjc0RyaXZlcgp7CnByb3RlY3RlZCAkYmFzZVVybDsKcHJvdGVjdGVkICR0YWdzOwpwcm90ZWN0ZWQgJGJyYW5jaGVzOwpwcm90ZWN0ZWQgJHJvb3RJZGVudGlmaWVyOwoKcHJvdGVjdGVkICR0cnVua1BhdGggPSAndHJ1bmsnOwpwcm90ZWN0ZWQgJGJyYW5jaGVzUGF0aCA9ICdicmFuY2hlcyc7CnByb3RlY3RlZCAkdGFnc1BhdGggPSAndGFncyc7CnByb3RlY3RlZCAkcGFja2FnZVBhdGggPSAnJzsKcHJvdGVjdGVkICRjYWNoZUNyZWRlbnRpYWxzID0gdHJ1ZTsKCgoKCnByaXZhdGUgJHV0aWw7CgoKCgpwdWJsaWMgZnVuY3Rpb24gaW5pdGlhbGl6ZSgpCnsKJHRoaXMtPnVybCA9ICR0aGlzLT5iYXNlVXJsID0gcnRyaW0oc2VsZjo6bm9ybWFsaXplVXJsKCR0aGlzLT51cmwpLCAnLycpOwoKU3ZuVXRpbDo6Y2xlYW5FbnYoKTsKCmlmIChpc3NldCgkdGhpcy0+cmVwb0NvbmZpZ1sndHJ1bmstcGF0aCddKSkgewokdGhpcy0+dHJ1bmtQYXRoID0gJHRoaXMtPnJlcG9Db25maWdbJ3RydW5rLXBhdGgnXTsKfQppZiAoaXNzZXQoJHRoaXMtPnJlcG9Db25maWdbJ2JyYW5jaGVzLXBhdGgnXSkpIHsKJHRoaXMtPmJyYW5jaGVzUGF0aCA9ICR0aGlzLT5yZXBvQ29uZmlnWydicmFuY2hlcy1wYXRoJ107Cn0KaWYgKGlzc2V0KCR0aGlzLT5yZXBvQ29uZmlnWyd0YWdzLXBhdGgnXSkpIHsKJHRoaXMtPnRhZ3NQYXRoID0gJHRoaXMtPnJlcG9Db25maWdbJ3RhZ3MtcGF0aCddOwp9CmlmIChhcnJheV9rZXlfZXhpc3RzKCdzdm4tY2FjaGUtY3JlZGVudGlhbHMnLCAkdGhpcy0+cmVwb0NvbmZpZykpIHsKJHRoaXMtPmNhY2hlQ3JlZGVudGlhbHMgPSAoYm9vbCkgJHRoaXMtPnJlcG9Db25maWdbJ3N2bi1jYWNoZS1jcmVkZW50aWFscyddOwp9CmlmIChpc3NldCgkdGhpcy0+cmVwb0NvbmZpZ1sncGFja2FnZS1wYXRoJ10pKSB7CiR0aGlzLT5wYWNrYWdlUGF0aCA9ICcvJyAuIHRyaW0oJHRoaXMtPnJlcG9Db25maWdbJ3BhY2thZ2UtcGF0aCddLCAnLycpOwp9CgppZiAoZmFsc2UgIT09ICgkcG9zID0gc3RycnBvcygkdGhpcy0+dXJsLCAnLycgLiAkdGhpcy0+dHJ1bmtQYXRoKSkpIHsKJHRoaXMtPmJhc2VVcmwgPSBzdWJzdHIoJHRoaXMtPnVybCwgMCwgJHBvcyk7Cn0KCiR0aGlzLT5jYWNoZSA9IG5ldyBDYWNoZSgkdGhpcy0+aW8sICR0aGlzLT5jb25maWctPmdldCgnY2FjaGUtcmVwby1kaXInKS4nLycucHJlZ19yZXBsYWNlKCd7W15hLXowLTkuXX1pJywgJy0nLCBVcmw6OnNhbml0aXplKCR0aGlzLT5iYXNlVXJsKSkpOwokdGhpcy0+Y2FjaGUtPnNldFJlYWRPbmx5KCR0aGlzLT5jb25maWctPmdldCgnY2FjaGUtcmVhZC1vbmx5JykpOwoKJHRoaXMtPmdldEJyYW5jaGVzKCk7CiR0aGlzLT5nZXRUYWdzKCk7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBnZXRSb290SWRlbnRpZmllcigpCnsKcmV0dXJuICR0aGlzLT5yb290SWRlbnRpZmllciA/OiAkdGhpcy0+dHJ1bmtQYXRoOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0VXJsKCkKewpyZXR1cm4gJHRoaXMtPnVybDsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIGdldFNvdXJjZSgkaWRlbnRpZmllcikKewpyZXR1cm4gYXJyYXkoJ3R5cGUnID0+ICdzdm4nLCAndXJsJyA9PiAkdGhpcy0+YmFzZVVybCwgJ3JlZmVyZW5jZScgPT4gJGlkZW50aWZpZXIpOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0RGlzdCgkaWRlbnRpZmllcikKewpyZXR1cm4gbnVsbDsKfQoKCgoKcHJvdGVjdGVkIGZ1bmN0aW9uIHNob3VsZENhY2hlKCRpZGVudGlmaWVyKQp7CnJldHVybiAkdGhpcy0+Y2FjaGUgJiYgcHJlZ19tYXRjaCgne0BcZCskfScsICRpZGVudGlmaWVyKTsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIGdldENvbXBvc2VySW5mb3JtYXRpb24oJGlkZW50aWZpZXIpCnsKaWYgKCFpc3NldCgkdGhpcy0+aW5mb0NhY2hlWyRpZGVudGlmaWVyXSkpIHsKaWYgKCR0aGlzLT5zaG91bGRDYWNoZSgkaWRlbnRpZmllcikgJiYgJHJlcyA9ICR0aGlzLT5jYWNoZS0+cmVhZCgkaWRlbnRpZmllci4nLmpzb24nKSkgewpyZXR1cm4gJHRoaXMtPmluZm9DYWNoZVskaWRlbnRpZmllcl0gPSBKc29uRmlsZTo6cGFyc2VKc29uKCRyZXMpOwp9Cgp0cnkgewokY29tcG9zZXIgPSAkdGhpcy0+Z2V0QmFzZUNvbXBvc2VySW5mb3JtYXRpb24oJGlkZW50aWZpZXIpOwp9IGNhdGNoIChUcmFuc3BvcnRFeGNlcHRpb24gJGUpIHsKJG1lc3NhZ2UgPSAkZS0+Z2V0TWVzc2FnZSgpOwppZiAoc3RyaXBvcygkbWVzc2FnZSwgJ3BhdGggbm90IGZvdW5kJykgPT09IGZhbHNlICYmIHN0cmlwb3MoJG1lc3NhZ2UsICdzdm46IHdhcm5pbmc6IFcxNjAwMTMnKSA9PT0gZmFsc2UpIHsKdGhyb3cgJGU7Cn0KCiRjb21wb3NlciA9ICcnOwp9CgppZiAoJHRoaXMtPnNob3VsZENhY2hlKCRpZGVudGlmaWVyKSkgewokdGhpcy0+Y2FjaGUtPndyaXRlKCRpZGVudGlmaWVyLicuanNvbicsIGpzb25fZW5jb2RlKCRjb21wb3NlcikpOwp9CgokdGhpcy0+aW5mb0NhY2hlWyRpZGVudGlmaWVyXSA9ICRjb21wb3NlcjsKfQoKcmV0dXJuICR0aGlzLT5pbmZvQ2FjaGVbJGlkZW50aWZpZXJdOwp9CgoKCgoKcHVibGljIGZ1bmN0aW9uIGdldEZpbGVDb250ZW50KCRmaWxlLCAkaWRlbnRpZmllcikKewokaWRlbnRpZmllciA9ICcvJyAuIHRyaW0oJGlkZW50aWZpZXIsICcvJykgLiAnLyc7CgpwcmVnX21hdGNoKCd7XiguKz8pKEBcZCspPy8kfScsICRpZGVudGlmaWVyLCAkbWF0Y2gpOwppZiAoIWVtcHR5KCRtYXRjaFsyXSkpIHsKJHBhdGggPSAkbWF0Y2hbMV07CiRyZXYgPSAkbWF0Y2hbMl07Cn0gZWxzZSB7CiRwYXRoID0gJGlkZW50aWZpZXI7CiRyZXYgPSAnJzsKfQoKdHJ5IHsKJHJlc291cmNlID0gJHBhdGguJGZpbGU7CiRvdXRwdXQgPSAkdGhpcy0+ZXhlY3V0ZSgnc3ZuIGNhdCcsICR0aGlzLT5iYXNlVXJsIC4gJHJlc291cmNlIC4gJHJldik7CmlmICghdHJpbSgkb3V0cHV0KSkgewpyZXR1cm4gbnVsbDsKfQp9IGNhdGNoIChcUnVudGltZUV4Y2VwdGlvbiAkZSkgewp0aHJvdyBuZXcgVHJhbnNwb3J0RXhjZXB0aW9uKCRlLT5nZXRNZXNzYWdlKCkpOwp9CgpyZXR1cm4gJG91dHB1dDsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIGdldENoYW5nZURhdGUoJGlkZW50aWZpZXIpCnsKJGlkZW50aWZpZXIgPSAnLycgLiB0cmltKCRpZGVudGlmaWVyLCAnLycpIC4gJy8nOwoKcHJlZ19tYXRjaCgne14oLis/KShAXGQrKT8vJH0nLCAkaWRlbnRpZmllciwgJG1hdGNoKTsKaWYgKCFlbXB0eSgkbWF0Y2hbMl0pKSB7CiRwYXRoID0gJG1hdGNoWzFdOwokcmV2ID0gJG1hdGNoWzJdOwp9IGVsc2UgewokcGF0aCA9ICRpZGVudGlmaWVyOwokcmV2ID0gJyc7Cn0KCiRvdXRwdXQgPSAkdGhpcy0+ZXhlY3V0ZSgnc3ZuIGluZm8nLCAkdGhpcy0+YmFzZVVybCAuICRwYXRoIC4gJHJldik7CmZvcmVhY2ggKCR0aGlzLT5wcm9jZXNzLT5zcGxpdExpbmVzKCRvdXRwdXQpIGFzICRsaW5lKSB7CmlmICgkbGluZSAmJiBwcmVnX21hdGNoKCd7Xkxhc3QgQ2hhbmdlZCBEYXRlOiAoW14oXSspfScsICRsaW5lLCAkbWF0Y2gpKSB7CnJldHVybiBuZXcgXERhdGVUaW1lKCRtYXRjaFsxXSwgbmV3IFxEYXRlVGltZVpvbmUoJ1VUQycpKTsKfQp9CgpyZXR1cm4gbnVsbDsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIGdldFRhZ3MoKQp7CmlmIChudWxsID09PSAkdGhpcy0+dGFncykgewokdGhpcy0+dGFncyA9IGFycmF5KCk7CgppZiAoJHRoaXMtPnRhZ3NQYXRoICE9PSBmYWxzZSkgewokb3V0cHV0ID0gJHRoaXMtPmV4ZWN1dGUoJ3N2biBscyAtLXZlcmJvc2UnLCAkdGhpcy0+YmFzZVVybCAuICcvJyAuICR0aGlzLT50YWdzUGF0aCk7CmlmICgkb3V0cHV0KSB7CmZvcmVhY2ggKCR0aGlzLT5wcm9jZXNzLT5zcGxpdExpbmVzKCRvdXRwdXQpIGFzICRsaW5lKSB7CiRsaW5lID0gdHJpbSgkbGluZSk7CmlmICgkbGluZSAmJiBwcmVnX21hdGNoKCd7XlxzKihcUyspLio/KFxTKylccyokfScsICRsaW5lLCAkbWF0Y2gpKSB7CmlmIChpc3NldCgkbWF0Y2hbMV0sICRtYXRjaFsyXSkgJiYgJG1hdGNoWzJdICE9PSAnLi8nKSB7CiR0aGlzLT50YWdzW3J0cmltKCRtYXRjaFsyXSwgJy8nKV0gPSAkdGhpcy0+YnVpbGRJZGVudGlmaWVyKAonLycgLiAkdGhpcy0+dGFnc1BhdGggLiAnLycgLiAkbWF0Y2hbMl0sCiRtYXRjaFsxXQopOwp9Cn0KfQp9Cn0KfQoKcmV0dXJuICR0aGlzLT50YWdzOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0QnJhbmNoZXMoKQp7CmlmIChudWxsID09PSAkdGhpcy0+YnJhbmNoZXMpIHsKJHRoaXMtPmJyYW5jaGVzID0gYXJyYXkoKTsKCmlmIChmYWxzZSA9PT0gJHRoaXMtPnRydW5rUGF0aCkgewokdHJ1bmtQYXJlbnQgPSAkdGhpcy0+YmFzZVVybCAuICcvJzsKfSBlbHNlIHsKJHRydW5rUGFyZW50ID0gJHRoaXMtPmJhc2VVcmwgLiAnLycgLiAkdGhpcy0+dHJ1bmtQYXRoOwp9Cgokb3V0cHV0ID0gJHRoaXMtPmV4ZWN1dGUoJ3N2biBscyAtLXZlcmJvc2UnLCAkdHJ1bmtQYXJlbnQpOwppZiAoJG91dHB1dCkgewpmb3JlYWNoICgkdGhpcy0+cHJvY2Vzcy0+c3BsaXRMaW5lcygkb3V0cHV0KSBhcyAkbGluZSkgewokbGluZSA9IHRyaW0oJGxpbmUpOwppZiAoJGxpbmUgJiYgcHJlZ19tYXRjaCgne15ccyooXFMrKS4qPyhcUyspXHMqJH0nLCAkbGluZSwgJG1hdGNoKSkgewppZiAoaXNzZXQoJG1hdGNoWzFdLCAkbWF0Y2hbMl0pICYmICRtYXRjaFsyXSA9PT0gJy4vJykgewokdGhpcy0+YnJhbmNoZXNbJ3RydW5rJ10gPSAkdGhpcy0+YnVpbGRJZGVudGlmaWVyKAonLycgLiAkdGhpcy0+dHJ1bmtQYXRoLAokbWF0Y2hbMV0KKTsKJHRoaXMtPnJvb3RJZGVudGlmaWVyID0gJHRoaXMtPmJyYW5jaGVzWyd0cnVuayddOwpicmVhazsKfQp9Cn0KfQp1bnNldCgkb3V0cHV0KTsKCmlmICgkdGhpcy0+YnJhbmNoZXNQYXRoICE9PSBmYWxzZSkgewokb3V0cHV0ID0gJHRoaXMtPmV4ZWN1dGUoJ3N2biBscyAtLXZlcmJvc2UnLCAkdGhpcy0+YmFzZVVybCAuICcvJyAuICR0aGlzLT5icmFuY2hlc1BhdGgpOwppZiAoJG91dHB1dCkgewpmb3JlYWNoICgkdGhpcy0+cHJvY2Vzcy0+c3BsaXRMaW5lcyh0cmltKCRvdXRwdXQpKSBhcyAkbGluZSkgewokbGluZSA9IHRyaW0oJGxpbmUpOwppZiAoJGxpbmUgJiYgcHJlZ19tYXRjaCgne15ccyooXFMrKS4qPyhcUyspXHMqJH0nLCAkbGluZSwgJG1hdGNoKSkgewppZiAoaXNzZXQoJG1hdGNoWzFdLCAkbWF0Y2hbMl0pICYmICRtYXRjaFsyXSAhPT0gJy4vJykgewokdGhpcy0+YnJhbmNoZXNbcnRyaW0oJG1hdGNoWzJdLCAnLycpXSA9ICR0aGlzLT5idWlsZElkZW50aWZpZXIoCicvJyAuICR0aGlzLT5icmFuY2hlc1BhdGggLiAnLycgLiAkbWF0Y2hbMl0sCiRtYXRjaFsxXQopOwp9Cn0KfQp9Cn0KfQoKcmV0dXJuICR0aGlzLT5icmFuY2hlczsKfQoKCgoKcHVibGljIHN0YXRpYyBmdW5jdGlvbiBzdXBwb3J0cyhJT0ludGVyZmFjZSAkaW8sIENvbmZpZyAkY29uZmlnLCAkdXJsLCAkZGVlcCA9IGZhbHNlKQp7CiR1cmwgPSBzZWxmOjpub3JtYWxpemVVcmwoJHVybCk7CmlmIChwcmVnX21hdGNoKCcjKF5zdm46Ly98XnN2blwrc3NoOi8vfHN2blwuKSNpJywgJHVybCkpIHsKcmV0dXJuIHRydWU7Cn0KCgppZiAoISRkZWVwICYmICFGaWxlc3lzdGVtOjppc0xvY2FsUGF0aCgkdXJsKSkgewpyZXR1cm4gZmFsc2U7Cn0KCiRwcm9jZXNzID0gbmV3IFByb2Nlc3NFeGVjdXRvcigkaW8pOwokZXhpdCA9ICRwcm9jZXNzLT5leGVjdXRlKAoic3ZuIGluZm8gLS1ub24taW50ZXJhY3RpdmUgLS0gIi5Qcm9jZXNzRXhlY3V0b3I6OmVzY2FwZSgkdXJsKSwKJGlnbm9yZWRPdXRwdXQKKTsKCmlmICgkZXhpdCA9PT0gMCkgewoKcmV0dXJuIHRydWU7Cn0KCgppZiAoZmFsc2UgIT09IHN0cmlwb3MoJHByb2Nlc3MtPmdldEVycm9yT3V0cHV0KCksICdhdXRob3JpemF0aW9uIGZhaWxlZDonKSkgewoKCnJldHVybiB0cnVlOwp9CgoKaWYgKGZhbHNlICE9PSBzdHJpcG9zKCRwcm9jZXNzLT5nZXRFcnJvck91dHB1dCgpLCAnQXV0aGVudGljYXRpb24gZmFpbGVkJykpIHsKCgpyZXR1cm4gdHJ1ZTsKfQoKcmV0dXJuIGZhbHNlOwp9CgoKCgoKCgoKcHJvdGVjdGVkIHN0YXRpYyBmdW5jdGlvbiBub3JtYWxpemVVcmwoJHVybCkKewokZnMgPSBuZXcgRmlsZXN5c3RlbSgpOwppZiAoJGZzLT5pc0Fic29sdXRlUGF0aCgkdXJsKSkgewpyZXR1cm4gJ2ZpbGU6Ly8nIC4gc3RydHIoJHVybCwgJ1xcJywgJy8nKTsKfQoKcmV0dXJuICR1cmw7Cn0KCgoKCgoKCgoKCnByb3RlY3RlZCBmdW5jdGlvbiBleGVjdXRlKCRjb21tYW5kLCAkdXJsKQp7CmlmIChudWxsID09PSAkdGhpcy0+dXRpbCkgewokdGhpcy0+dXRpbCA9IG5ldyBTdm5VdGlsKCR0aGlzLT5iYXNlVXJsLCAkdGhpcy0+aW8sICR0aGlzLT5jb25maWcsICR0aGlzLT5wcm9jZXNzKTsKJHRoaXMtPnV0aWwtPnNldENhY2hlQ3JlZGVudGlhbHMoJHRoaXMtPmNhY2hlQ3JlZGVudGlhbHMpOwp9Cgp0cnkgewpyZXR1cm4gJHRoaXMtPnV0aWwtPmV4ZWN1dGUoJGNvbW1hbmQsICR1cmwpOwp9IGNhdGNoIChcUnVudGltZUV4Y2VwdGlvbiAkZSkgewppZiAobnVsbCA9PT0gJHRoaXMtPnV0aWwtPmJpbmFyeVZlcnNpb24oKSkgewp0aHJvdyBuZXcgXFJ1bnRpbWVFeGNlcHRpb24oJ0ZhaWxlZCB0byBsb2FkICcuJHRoaXMtPnVybC4nLCBzdm4gd2FzIG5vdCBmb3VuZCwgY2hlY2sgdGhhdCBpdCBpcyBpbnN0YWxsZWQgYW5kIGluIHlvdXIgUEFUSCBlbnYuJyAuICJcblxuIiAuICR0aGlzLT5wcm9jZXNzLT5nZXRFcnJvck91dHB1dCgpKTsKfQoKdGhyb3cgbmV3IFxSdW50aW1lRXhjZXB0aW9uKAonUmVwb3NpdG9yeSAnLiR0aGlzLT51cmwuJyBjb3VsZCBub3QgYmUgcHJvY2Vzc2VkLCAnLiRlLT5nZXRNZXNzYWdlKCkKKTsKfQp9CgoKCgoKCgoKCnByb3RlY3RlZCBmdW5jdGlvbiBidWlsZElkZW50aWZpZXIoJGJhc2VEaXIsICRyZXZpc2lvbikKewpyZXR1cm4gcnRyaW0oJGJhc2VEaXIsICcvJykgLiAkdGhpcy0+cGFja2FnZVBhdGggLiAnL0AnIC4gJHJldmlzaW9uOwp9Cn0KPD9waHAKCgoKCgoKCgoKCgpuYW1lc3BhY2UgQ29tcG9zZXJcUmVwb3NpdG9yeVxWY3M7Cgp1c2UgQ29tcG9zZXJcQ2FjaGU7CnVzZSBDb21wb3NlclxEb3dubG9hZGVyXFRyYW5zcG9ydEV4Y2VwdGlvbjsKdXNlIENvbXBvc2VyXENvbmZpZzsKdXNlIENvbXBvc2VyXElPXElPSW50ZXJmYWNlOwp1c2UgQ29tcG9zZXJcSnNvblxKc29uRmlsZTsKdXNlIENvbXBvc2VyXFV0aWxcUHJvY2Vzc0V4ZWN1dG9yOwp1c2UgQ29tcG9zZXJcVXRpbFxIdHRwRG93bmxvYWRlcjsKdXNlIENvbXBvc2VyXFV0aWxcRmlsZXN5c3RlbTsKdXNlIENvbXBvc2VyXFV0aWxcSHR0cFxSZXNwb25zZTsKCgoKCgoKYWJzdHJhY3QgY2xhc3MgVmNzRHJpdmVyIGltcGxlbWVudHMgVmNzRHJpdmVySW50ZXJmYWNlCnsKCnByb3RlY3RlZCAkdXJsOwoKcHJvdGVjdGVkICRvcmlnaW5Vcmw7Cgpwcm90ZWN0ZWQgJHJlcG9Db25maWc7Cgpwcm90ZWN0ZWQgJGlvOwoKcHJvdGVjdGVkICRjb25maWc7Cgpwcm90ZWN0ZWQgJHByb2Nlc3M7Cgpwcm90ZWN0ZWQgJGh0dHBEb3dubG9hZGVyOwoKcHJvdGVjdGVkICRpbmZvQ2FjaGUgPSBhcnJheSgpOwoKcHJvdGVjdGVkICRjYWNoZTsKCgoKCgoKCgoKCmZpbmFsIHB1YmxpYyBmdW5jdGlvbiBfX2NvbnN0cnVjdChhcnJheSAkcmVwb0NvbmZpZywgSU9JbnRlcmZhY2UgJGlvLCBDb25maWcgJGNvbmZpZywgSHR0cERvd25sb2FkZXIgJGh0dHBEb3dubG9hZGVyLCBQcm9jZXNzRXhlY3V0b3IgJHByb2Nlc3MpCnsKaWYgKEZpbGVzeXN0ZW06OmlzTG9jYWxQYXRoKCRyZXBvQ29uZmlnWyd1cmwnXSkpIHsKJHJlcG9Db25maWdbJ3VybCddID0gRmlsZXN5c3RlbTo6Z2V0UGxhdGZvcm1QYXRoKCRyZXBvQ29uZmlnWyd1cmwnXSk7Cn0KCiR0aGlzLT51cmwgPSAkcmVwb0NvbmZpZ1sndXJsJ107CiR0aGlzLT5vcmlnaW5VcmwgPSAkcmVwb0NvbmZpZ1sndXJsJ107CiR0aGlzLT5yZXBvQ29uZmlnID0gJHJlcG9Db25maWc7CiR0aGlzLT5pbyA9ICRpbzsKJHRoaXMtPmNvbmZpZyA9ICRjb25maWc7CiR0aGlzLT5odHRwRG93bmxvYWRlciA9ICRodHRwRG93bmxvYWRlcjsKJHRoaXMtPnByb2Nlc3MgPSAkcHJvY2VzczsKfQoKCgoKCgoKcHJvdGVjdGVkIGZ1bmN0aW9uIHNob3VsZENhY2hlKCRpZGVudGlmaWVyKQp7CnJldHVybiAkdGhpcy0+Y2FjaGUgJiYgcHJlZ19tYXRjaCgne15bYS1mMC05XXs0MH0kfWlEJywgJGlkZW50aWZpZXIpOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0Q29tcG9zZXJJbmZvcm1hdGlvbigkaWRlbnRpZmllcikKewppZiAoIWlzc2V0KCR0aGlzLT5pbmZvQ2FjaGVbJGlkZW50aWZpZXJdKSkgewppZiAoJHRoaXMtPnNob3VsZENhY2hlKCRpZGVudGlmaWVyKSAmJiAkcmVzID0gJHRoaXMtPmNhY2hlLT5yZWFkKCRpZGVudGlmaWVyKSkgewpyZXR1cm4gJHRoaXMtPmluZm9DYWNoZVskaWRlbnRpZmllcl0gPSBKc29uRmlsZTo6cGFyc2VKc29uKCRyZXMpOwp9CgokY29tcG9zZXIgPSAkdGhpcy0+Z2V0QmFzZUNvbXBvc2VySW5mb3JtYXRpb24oJGlkZW50aWZpZXIpOwoKaWYgKCR0aGlzLT5zaG91bGRDYWNoZSgkaWRlbnRpZmllcikpIHsKJHRoaXMtPmNhY2hlLT53cml0ZSgkaWRlbnRpZmllciwganNvbl9lbmNvZGUoJGNvbXBvc2VyKSk7Cn0KCiR0aGlzLT5pbmZvQ2FjaGVbJGlkZW50aWZpZXJdID0gJGNvbXBvc2VyOwp9CgpyZXR1cm4gJHRoaXMtPmluZm9DYWNoZVskaWRlbnRpZmllcl07Cn0KCnByb3RlY3RlZCBmdW5jdGlvbiBnZXRCYXNlQ29tcG9zZXJJbmZvcm1hdGlvbigkaWRlbnRpZmllcikKewokY29tcG9zZXJGaWxlQ29udGVudCA9ICR0aGlzLT5nZXRGaWxlQ29udGVudCgnY29tcG9zZXIuanNvbicsICRpZGVudGlmaWVyKTsKCmlmICghJGNvbXBvc2VyRmlsZUNvbnRlbnQpIHsKcmV0dXJuIG51bGw7Cn0KCiRjb21wb3NlciA9IEpzb25GaWxlOjpwYXJzZUpzb24oJGNvbXBvc2VyRmlsZUNvbnRlbnQsICRpZGVudGlmaWVyIC4gJzpjb21wb3Nlci5qc29uJyk7CgppZiAoZW1wdHkoJGNvbXBvc2VyWyd0aW1lJ10pICYmICRjaGFuZ2VEYXRlID0gJHRoaXMtPmdldENoYW5nZURhdGUoJGlkZW50aWZpZXIpKSB7CiRjb21wb3NlclsndGltZSddID0gJGNoYW5nZURhdGUtPmZvcm1hdChEQVRFX1JGQzMzMzkpOwp9CgpyZXR1cm4gJGNvbXBvc2VyOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gaGFzQ29tcG9zZXJGaWxlKCRpZGVudGlmaWVyKQp7CnRyeSB7CnJldHVybiAoYm9vbCkgJHRoaXMtPmdldENvbXBvc2VySW5mb3JtYXRpb24oJGlkZW50aWZpZXIpOwp9IGNhdGNoIChUcmFuc3BvcnRFeGNlcHRpb24gJGUpIHsKfQoKcmV0dXJuIGZhbHNlOwp9CgoKCgoKCgoKcHJvdGVjdGVkIGZ1bmN0aW9uIGdldFNjaGVtZSgpCnsKaWYgKGV4dGVuc2lvbl9sb2FkZWQoJ29wZW5zc2wnKSkgewpyZXR1cm4gJ2h0dHBzJzsKfQoKcmV0dXJuICdodHRwJzsKfQoKCgoKCgoKCnByb3RlY3RlZCBmdW5jdGlvbiBnZXRDb250ZW50cygkdXJsKQp7CiRvcHRpb25zID0gaXNzZXQoJHRoaXMtPnJlcG9Db25maWdbJ29wdGlvbnMnXSkgPyAkdGhpcy0+cmVwb0NvbmZpZ1snb3B0aW9ucyddIDogYXJyYXkoKTsKCnJldHVybiAkdGhpcy0+aHR0cERvd25sb2FkZXItPmdldCgkdXJsLCAkb3B0aW9ucyk7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBjbGVhbnVwKCkKewpyZXR1cm47Cn0KfQo8P3BocAoKCgoKCgoKCgoKCm5hbWVzcGFjZSBDb21wb3NlclxSZXBvc2l0b3J5XFZjczsKCnVzZSBDb21wb3NlclxDb25maWc7CnVzZSBDb21wb3NlclxJT1xJT0ludGVyZmFjZTsKCgoKCmludGVyZmFjZSBWY3NEcml2ZXJJbnRlcmZhY2UKewoKCgpwdWJsaWMgZnVuY3Rpb24gaW5pdGlhbGl6ZSgpOwoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIGdldENvbXBvc2VySW5mb3JtYXRpb24oJGlkZW50aWZpZXIpOwoKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBnZXRGaWxlQ29udGVudCgkZmlsZSwgJGlkZW50aWZpZXIpOwoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIGdldENoYW5nZURhdGUoJGlkZW50aWZpZXIpOwoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0Um9vdElkZW50aWZpZXIoKTsKCgoKCgoKcHVibGljIGZ1bmN0aW9uIGdldEJyYW5jaGVzKCk7CgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBnZXRUYWdzKCk7CgoKCgoKcHVibGljIGZ1bmN0aW9uIGdldERpc3QoJGlkZW50aWZpZXIpOwoKCgoKCnB1YmxpYyBmdW5jdGlvbiBnZXRTb3VyY2UoJGlkZW50aWZpZXIpOwoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0VXJsKCk7CgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIGhhc0NvbXBvc2VyRmlsZSgkaWRlbnRpZmllcik7CgoKCgpwdWJsaWMgZnVuY3Rpb24gY2xlYW51cCgpOwoKCgoKCgoKCgoKcHVibGljIHN0YXRpYyBmdW5jdGlvbiBzdXBwb3J0cyhJT0ludGVyZmFjZSAkaW8sIENvbmZpZyAkY29uZmlnLCAkdXJsLCAkZGVlcCA9IGZhbHNlKTsKfQo8P3BocAoKCgoKCgoKCgoKCm5hbWVzcGFjZSBDb21wb3NlclxSZXBvc2l0b3J5OwoKdXNlIENvbXBvc2VyXERvd25sb2FkZXJcVHJhbnNwb3J0RXhjZXB0aW9uOwp1c2UgQ29tcG9zZXJcUmVwb3NpdG9yeVxWY3NcVmNzRHJpdmVySW50ZXJmYWNlOwp1c2UgQ29tcG9zZXJcUGFja2FnZVxWZXJzaW9uXFZlcnNpb25QYXJzZXI7CnVzZSBDb21wb3NlclxQYWNrYWdlXExvYWRlclxBcnJheUxvYWRlcjsKdXNlIENvbXBvc2VyXFBhY2thZ2VcTG9hZGVyXFZhbGlkYXRpbmdBcnJheUxvYWRlcjsKdXNlIENvbXBvc2VyXFBhY2thZ2VcTG9hZGVyXEludmFsaWRQYWNrYWdlRXhjZXB0aW9uOwp1c2UgQ29tcG9zZXJcUGFja2FnZVxMb2FkZXJcTG9hZGVySW50ZXJmYWNlOwp1c2UgQ29tcG9zZXJcRXZlbnREaXNwYXRjaGVyXEV2ZW50RGlzcGF0Y2hlcjsKdXNlIENvbXBvc2VyXFV0aWxcUHJvY2Vzc0V4ZWN1dG9yOwp1c2UgQ29tcG9zZXJcVXRpbFxIdHRwRG93bmxvYWRlcjsKdXNlIENvbXBvc2VyXFV0aWxcVXJsOwp1c2UgQ29tcG9zZXJcU2VtdmVyXENvbnN0cmFpbnRcQ29uc3RyYWludDsKdXNlIENvbXBvc2VyXElPXElPSW50ZXJmYWNlOwp1c2UgQ29tcG9zZXJcQ29uZmlnOwoKCgoKY2xhc3MgVmNzUmVwb3NpdG9yeSBleHRlbmRzIEFycmF5UmVwb3NpdG9yeSBpbXBsZW1lbnRzIENvbmZpZ3VyYWJsZVJlcG9zaXRvcnlJbnRlcmZhY2UKewpwcm90ZWN0ZWQgJHVybDsKcHJvdGVjdGVkICRwYWNrYWdlTmFtZTsKcHJvdGVjdGVkICRpc1ZlcmJvc2U7CnByb3RlY3RlZCAkaXNWZXJ5VmVyYm9zZTsKcHJvdGVjdGVkICRpbzsKcHJvdGVjdGVkICRjb25maWc7CnByb3RlY3RlZCAkdmVyc2lvblBhcnNlcjsKcHJvdGVjdGVkICR0eXBlOwpwcm90ZWN0ZWQgJGxvYWRlcjsKcHJvdGVjdGVkICRyZXBvQ29uZmlnOwpwcm90ZWN0ZWQgJGh0dHBEb3dubG9hZGVyOwpwcm90ZWN0ZWQgJHByb2Nlc3NFeGVjdXRvcjsKcHJvdGVjdGVkICRicmFuY2hFcnJvck9jY3VycmVkID0gZmFsc2U7CnByaXZhdGUgJGRyaXZlcnM7Cgpwcml2YXRlICRkcml2ZXI7Cgpwcml2YXRlICR2ZXJzaW9uQ2FjaGU7CnByaXZhdGUgJGVtcHR5UmVmZXJlbmNlcyA9IGFycmF5KCk7CnByaXZhdGUgJHZlcnNpb25UcmFuc3BvcnRFeGNlcHRpb25zID0gYXJyYXkoKTsKCnB1YmxpYyBmdW5jdGlvbiBfX2NvbnN0cnVjdChhcnJheSAkcmVwb0NvbmZpZywgSU9JbnRlcmZhY2UgJGlvLCBDb25maWcgJGNvbmZpZywgSHR0cERvd25sb2FkZXIgJGh0dHBEb3dubG9hZGVyLCBFdmVudERpc3BhdGNoZXIgJGRpc3BhdGNoZXIgPSBudWxsLCBQcm9jZXNzRXhlY3V0b3IgJHByb2Nlc3MgPSBudWxsLCBhcnJheSAkZHJpdmVycyA9IG51bGwsIFZlcnNpb25DYWNoZUludGVyZmFjZSAkdmVyc2lvbkNhY2hlID0gbnVsbCkKewpwYXJlbnQ6Ol9fY29uc3RydWN0KCk7CiR0aGlzLT5kcml2ZXJzID0gJGRyaXZlcnMgPzogYXJyYXkoCidnaXRodWInID0+ICdDb21wb3NlclxSZXBvc2l0b3J5XFZjc1xHaXRIdWJEcml2ZXInLAonZ2l0bGFiJyA9PiAnQ29tcG9zZXJcUmVwb3NpdG9yeVxWY3NcR2l0TGFiRHJpdmVyJywKJ2dpdC1iaXRidWNrZXQnID0+ICdDb21wb3NlclxSZXBvc2l0b3J5XFZjc1xHaXRCaXRidWNrZXREcml2ZXInLAonZ2l0JyA9PiAnQ29tcG9zZXJcUmVwb3NpdG9yeVxWY3NcR2l0RHJpdmVyJywKJ2hnLWJpdGJ1Y2tldCcgPT4gJ0NvbXBvc2VyXFJlcG9zaXRvcnlcVmNzXEhnQml0YnVja2V0RHJpdmVyJywKJ2hnJyA9PiAnQ29tcG9zZXJcUmVwb3NpdG9yeVxWY3NcSGdEcml2ZXInLAoncGVyZm9yY2UnID0+ICdDb21wb3NlclxSZXBvc2l0b3J5XFZjc1xQZXJmb3JjZURyaXZlcicsCidmb3NzaWwnID0+ICdDb21wb3NlclxSZXBvc2l0b3J5XFZjc1xGb3NzaWxEcml2ZXInLAoKJ3N2bicgPT4gJ0NvbXBvc2VyXFJlcG9zaXRvcnlcVmNzXFN2bkRyaXZlcicsCik7CgokdGhpcy0+dXJsID0gJHJlcG9Db25maWdbJ3VybCddOwokdGhpcy0+aW8gPSAkaW87CiR0aGlzLT50eXBlID0gaXNzZXQoJHJlcG9Db25maWdbJ3R5cGUnXSkgPyAkcmVwb0NvbmZpZ1sndHlwZSddIDogJ3Zjcyc7CiR0aGlzLT5pc1ZlcmJvc2UgPSAkaW8tPmlzVmVyYm9zZSgpOwokdGhpcy0+aXNWZXJ5VmVyYm9zZSA9ICRpby0+aXNWZXJ5VmVyYm9zZSgpOwokdGhpcy0+Y29uZmlnID0gJGNvbmZpZzsKJHRoaXMtPnJlcG9Db25maWcgPSAkcmVwb0NvbmZpZzsKJHRoaXMtPnZlcnNpb25DYWNoZSA9ICR2ZXJzaW9uQ2FjaGU7CiR0aGlzLT5odHRwRG93bmxvYWRlciA9ICRodHRwRG93bmxvYWRlcjsKJHRoaXMtPnByb2Nlc3NFeGVjdXRvciA9ICRwcm9jZXNzID86IG5ldyBQcm9jZXNzRXhlY3V0b3IoJGlvKTsKfQoKcHVibGljIGZ1bmN0aW9uIGdldFJlcG9OYW1lKCkKewokZHJpdmVyQ2xhc3MgPSBnZXRfY2xhc3MoJHRoaXMtPmdldERyaXZlcigpKTsKJGRyaXZlclR5cGUgPSBhcnJheV9zZWFyY2goJGRyaXZlckNsYXNzLCAkdGhpcy0+ZHJpdmVycyk7CmlmICghJGRyaXZlclR5cGUpIHsKJGRyaXZlclR5cGUgPSAkZHJpdmVyQ2xhc3M7Cn0KCnJldHVybiAndmNzIHJlcG8gKCcuJGRyaXZlclR5cGUuJyAnLlVybDo6c2FuaXRpemUoJHRoaXMtPnVybCkuJyknOwp9CgpwdWJsaWMgZnVuY3Rpb24gZ2V0UmVwb0NvbmZpZygpCnsKcmV0dXJuICR0aGlzLT5yZXBvQ29uZmlnOwp9CgpwdWJsaWMgZnVuY3Rpb24gc2V0TG9hZGVyKExvYWRlckludGVyZmFjZSAkbG9hZGVyKQp7CiR0aGlzLT5sb2FkZXIgPSAkbG9hZGVyOwp9CgpwdWJsaWMgZnVuY3Rpb24gZ2V0RHJpdmVyKCkKewppZiAoJHRoaXMtPmRyaXZlcikgewpyZXR1cm4gJHRoaXMtPmRyaXZlcjsKfQoKaWYgKGlzc2V0KCR0aGlzLT5kcml2ZXJzWyR0aGlzLT50eXBlXSkpIHsKJGNsYXNzID0gJHRoaXMtPmRyaXZlcnNbJHRoaXMtPnR5cGVdOwokdGhpcy0+ZHJpdmVyID0gbmV3ICRjbGFzcygkdGhpcy0+cmVwb0NvbmZpZywgJHRoaXMtPmlvLCAkdGhpcy0+Y29uZmlnLCAkdGhpcy0+aHR0cERvd25sb2FkZXIsICR0aGlzLT5wcm9jZXNzRXhlY3V0b3IpOwokdGhpcy0+ZHJpdmVyLT5pbml0aWFsaXplKCk7CgpyZXR1cm4gJHRoaXMtPmRyaXZlcjsKfQoKZm9yZWFjaCAoJHRoaXMtPmRyaXZlcnMgYXMgJGRyaXZlcikgewppZiAoJGRyaXZlcjo6c3VwcG9ydHMoJHRoaXMtPmlvLCAkdGhpcy0+Y29uZmlnLCAkdGhpcy0+dXJsKSkgewokdGhpcy0+ZHJpdmVyID0gbmV3ICRkcml2ZXIoJHRoaXMtPnJlcG9Db25maWcsICR0aGlzLT5pbywgJHRoaXMtPmNvbmZpZywgJHRoaXMtPmh0dHBEb3dubG9hZGVyLCAkdGhpcy0+cHJvY2Vzc0V4ZWN1dG9yKTsKJHRoaXMtPmRyaXZlci0+aW5pdGlhbGl6ZSgpOwoKcmV0dXJuICR0aGlzLT5kcml2ZXI7Cn0KfQoKZm9yZWFjaCAoJHRoaXMtPmRyaXZlcnMgYXMgJGRyaXZlcikgewppZiAoJGRyaXZlcjo6c3VwcG9ydHMoJHRoaXMtPmlvLCAkdGhpcy0+Y29uZmlnLCAkdGhpcy0+dXJsLCB0cnVlKSkgewokdGhpcy0+ZHJpdmVyID0gbmV3ICRkcml2ZXIoJHRoaXMtPnJlcG9Db25maWcsICR0aGlzLT5pbywgJHRoaXMtPmNvbmZpZywgJHRoaXMtPmh0dHBEb3dubG9hZGVyLCAkdGhpcy0+cHJvY2Vzc0V4ZWN1dG9yKTsKJHRoaXMtPmRyaXZlci0+aW5pdGlhbGl6ZSgpOwoKcmV0dXJuICR0aGlzLT5kcml2ZXI7Cn0KfQp9CgpwdWJsaWMgZnVuY3Rpb24gaGFkSW52YWxpZEJyYW5jaGVzKCkKewpyZXR1cm4gJHRoaXMtPmJyYW5jaEVycm9yT2NjdXJyZWQ7Cn0KCnB1YmxpYyBmdW5jdGlvbiBnZXRFbXB0eVJlZmVyZW5jZXMoKQp7CnJldHVybiAkdGhpcy0+ZW1wdHlSZWZlcmVuY2VzOwp9CgpwdWJsaWMgZnVuY3Rpb24gZ2V0VmVyc2lvblRyYW5zcG9ydEV4Y2VwdGlvbnMoKQp7CnJldHVybiAkdGhpcy0+dmVyc2lvblRyYW5zcG9ydEV4Y2VwdGlvbnM7Cn0KCnByb3RlY3RlZCBmdW5jdGlvbiBpbml0aWFsaXplKCkKewpwYXJlbnQ6OmluaXRpYWxpemUoKTsKCiRpc1ZlcmJvc2UgPSAkdGhpcy0+aXNWZXJib3NlOwokaXNWZXJ5VmVyYm9zZSA9ICR0aGlzLT5pc1ZlcnlWZXJib3NlOwoKJGRyaXZlciA9ICR0aGlzLT5nZXREcml2ZXIoKTsKaWYgKCEkZHJpdmVyKSB7CnRocm93IG5ldyBcSW52YWxpZEFyZ3VtZW50RXhjZXB0aW9uKCdObyBkcml2ZXIgZm91bmQgdG8gaGFuZGxlIFZDUyByZXBvc2l0b3J5ICcuJHRoaXMtPnVybCk7Cn0KCiR0aGlzLT52ZXJzaW9uUGFyc2VyID0gbmV3IFZlcnNpb25QYXJzZXI7CmlmICghJHRoaXMtPmxvYWRlcikgewokdGhpcy0+bG9hZGVyID0gbmV3IEFycmF5TG9hZGVyKCR0aGlzLT52ZXJzaW9uUGFyc2VyKTsKfQoKJGhhc1Jvb3RJZGVudGlmaWVyQ29tcG9zZXJKc29uID0gZmFsc2U7CnRyeSB7CiRoYXNSb290SWRlbnRpZmllckNvbXBvc2VySnNvbiA9ICRkcml2ZXItPmhhc0NvbXBvc2VyRmlsZSgkZHJpdmVyLT5nZXRSb290SWRlbnRpZmllcigpKTsKaWYgKCRoYXNSb290SWRlbnRpZmllckNvbXBvc2VySnNvbikgewokZGF0YSA9ICRkcml2ZXItPmdldENvbXBvc2VySW5mb3JtYXRpb24oJGRyaXZlci0+Z2V0Um9vdElkZW50aWZpZXIoKSk7CiR0aGlzLT5wYWNrYWdlTmFtZSA9ICFlbXB0eSgkZGF0YVsnbmFtZSddKSA/ICRkYXRhWyduYW1lJ10gOiBudWxsOwp9Cn0gY2F0Y2ggKFxFeGNlcHRpb24gJGUpIHsKaWYgKCRpc1ZlcnlWZXJib3NlKSB7CiR0aGlzLT5pby0+d3JpdGVFcnJvcignPGVycm9yPlNraXBwZWQgcGFyc2luZyAnLiRkcml2ZXItPmdldFJvb3RJZGVudGlmaWVyKCkuJywgJy4kZS0+Z2V0TWVzc2FnZSgpLic8L2Vycm9yPicpOwp9Cn0KCmZvcmVhY2ggKCRkcml2ZXItPmdldFRhZ3MoKSBhcyAkdGFnID0+ICRpZGVudGlmaWVyKSB7CiRtc2cgPSAnUmVhZGluZyBjb21wb3Nlci5qc29uIG9mIDxpbmZvPicgLiAoJHRoaXMtPnBhY2thZ2VOYW1lID86ICR0aGlzLT51cmwpIC4gJzwvaW5mbz4gKDxjb21tZW50PicgLiAkdGFnIC4gJzwvY29tbWVudD4pJzsKaWYgKCRpc1ZlcnlWZXJib3NlKSB7CiR0aGlzLT5pby0+d3JpdGVFcnJvcigkbXNnKTsKfSBlbHNlaWYgKCRpc1ZlcmJvc2UpIHsKJHRoaXMtPmlvLT5vdmVyd3JpdGVFcnJvcigkbXNnLCBmYWxzZSk7Cn0KCgokdGFnID0gc3RyX3JlcGxhY2UoJ3JlbGVhc2UtJywgJycsICR0YWcpOwoKJGNhY2hlZFBhY2thZ2UgPSAkdGhpcy0+Z2V0Q2FjaGVkUGFja2FnZVZlcnNpb24oJHRhZywgJGlkZW50aWZpZXIsICRpc1ZlcmJvc2UsICRpc1ZlcnlWZXJib3NlKTsKaWYgKCRjYWNoZWRQYWNrYWdlKSB7CiR0aGlzLT5hZGRQYWNrYWdlKCRjYWNoZWRQYWNrYWdlKTsKCmNvbnRpbnVlOwp9CmlmICgkY2FjaGVkUGFja2FnZSA9PT0gZmFsc2UpIHsKJHRoaXMtPmVtcHR5UmVmZXJlbmNlc1tdID0gJGlkZW50aWZpZXI7Cgpjb250aW51ZTsKfQoKaWYgKCEkcGFyc2VkVGFnID0gJHRoaXMtPnZhbGlkYXRlVGFnKCR0YWcpKSB7CmlmICgkaXNWZXJ5VmVyYm9zZSkgewokdGhpcy0+aW8tPndyaXRlRXJyb3IoJzx3YXJuaW5nPlNraXBwZWQgdGFnICcuJHRhZy4nLCBpbnZhbGlkIHRhZyBuYW1lPC93YXJuaW5nPicpOwp9CmNvbnRpbnVlOwp9Cgp0cnkgewppZiAoISRkYXRhID0gJGRyaXZlci0+Z2V0Q29tcG9zZXJJbmZvcm1hdGlvbigkaWRlbnRpZmllcikpIHsKaWYgKCRpc1ZlcnlWZXJib3NlKSB7CiR0aGlzLT5pby0+d3JpdGVFcnJvcignPHdhcm5pbmc+U2tpcHBlZCB0YWcgJy4kdGFnLicsIG5vIGNvbXBvc2VyIGZpbGU8L3dhcm5pbmc+Jyk7Cn0KJHRoaXMtPmVtcHR5UmVmZXJlbmNlc1tdID0gJGlkZW50aWZpZXI7CmNvbnRpbnVlOwp9CgoKaWYgKGlzc2V0KCRkYXRhWyd2ZXJzaW9uJ10pKSB7CiRkYXRhWyd2ZXJzaW9uX25vcm1hbGl6ZWQnXSA9ICR0aGlzLT52ZXJzaW9uUGFyc2VyLT5ub3JtYWxpemUoJGRhdGFbJ3ZlcnNpb24nXSk7Cn0gZWxzZSB7CgokZGF0YVsndmVyc2lvbiddID0gJHRhZzsKJGRhdGFbJ3ZlcnNpb25fbm9ybWFsaXplZCddID0gJHBhcnNlZFRhZzsKfQoKCiRkYXRhWyd2ZXJzaW9uJ10gPSBwcmVnX3JlcGxhY2UoJ3tbLi1dP2RldiR9aScsICcnLCAkZGF0YVsndmVyc2lvbiddKTsKJGRhdGFbJ3ZlcnNpb25fbm9ybWFsaXplZCddID0gcHJlZ19yZXBsYWNlKCd7KF5kZXYtfFsuLV0/ZGV2JCl9aScsICcnLCAkZGF0YVsndmVyc2lvbl9ub3JtYWxpemVkJ10pOwoKCnVuc2V0KCRkYXRhWydkZWZhdWx0LWJyYW5jaCddKTsKCgppZiAoJGRhdGFbJ3ZlcnNpb25fbm9ybWFsaXplZCddICE9PSAkcGFyc2VkVGFnKSB7CmlmICgkaXNWZXJ5VmVyYm9zZSkgewppZiAocHJlZ19tYXRjaCgneyheZGV2LXxbLi1dP2RldiQpfWknLCAkcGFyc2VkVGFnKSkgewokdGhpcy0+aW8tPndyaXRlRXJyb3IoJzx3YXJuaW5nPlNraXBwZWQgdGFnICcuJHRhZy4nLCBpbnZhbGlkIHRhZyBuYW1lLCB0YWdzIGNhbiBub3QgdXNlIGRldiBwcmVmaXhlcyBvciBzdWZmaXhlczwvd2FybmluZz4nKTsKfSBlbHNlIHsKJHRoaXMtPmlvLT53cml0ZUVycm9yKCc8d2FybmluZz5Ta2lwcGVkIHRhZyAnLiR0YWcuJywgdGFnICgnLiRwYXJzZWRUYWcuJykgZG9lcyBub3QgbWF0Y2ggdmVyc2lvbiAoJy4kZGF0YVsndmVyc2lvbl9ub3JtYWxpemVkJ10uJykgaW4gY29tcG9zZXIuanNvbjwvd2FybmluZz4nKTsKfQp9CmNvbnRpbnVlOwp9CgokdGFnUGFja2FnZU5hbWUgPSAkdGhpcy0+cGFja2FnZU5hbWUgPzogKGlzc2V0KCRkYXRhWyduYW1lJ10pID8gJGRhdGFbJ25hbWUnXSA6ICcnKTsKaWYgKCRleGlzdGluZ1BhY2thZ2UgPSAkdGhpcy0+ZmluZFBhY2thZ2UoJHRhZ1BhY2thZ2VOYW1lLCAkZGF0YVsndmVyc2lvbl9ub3JtYWxpemVkJ10pKSB7CmlmICgkaXNWZXJ5VmVyYm9zZSkgewokdGhpcy0+aW8tPndyaXRlRXJyb3IoJzx3YXJuaW5nPlNraXBwZWQgdGFnICcuJHRhZy4nLCBpdCBjb25mbGljdHMgd2l0aCBhbiBhbm90aGVyIHRhZyAoJy4kZXhpc3RpbmdQYWNrYWdlLT5nZXRQcmV0dHlWZXJzaW9uKCkuJykgYXMgYm90aCByZXNvbHZlIHRvICcuJGRhdGFbJ3ZlcnNpb25fbm9ybWFsaXplZCddLicgaW50ZXJuYWxseTwvd2FybmluZz4nKTsKfQpjb250aW51ZTsKfQoKaWYgKCRpc1ZlcnlWZXJib3NlKSB7CiR0aGlzLT5pby0+d3JpdGVFcnJvcignSW1wb3J0aW5nIHRhZyAnLiR0YWcuJyAoJy4kZGF0YVsndmVyc2lvbl9ub3JtYWxpemVkJ10uJyknKTsKfQoKJHRoaXMtPmFkZFBhY2thZ2UoJHRoaXMtPmxvYWRlci0+bG9hZCgkdGhpcy0+cHJlUHJvY2VzcygkZHJpdmVyLCAkZGF0YSwgJGlkZW50aWZpZXIpKSk7Cn0gY2F0Y2ggKFxFeGNlcHRpb24gJGUpIHsKaWYgKCRlIGluc3RhbmNlb2YgVHJhbnNwb3J0RXhjZXB0aW9uKSB7CiR0aGlzLT52ZXJzaW9uVHJhbnNwb3J0RXhjZXB0aW9uc1sndGFncyddWyR0YWddID0gJGU7CmlmICgkZS0+Z2V0Q29kZSgpID09PSA0MDQpIHsKJHRoaXMtPmVtcHR5UmVmZXJlbmNlc1tdID0gJGlkZW50aWZpZXI7Cn0KaWYgKCRlLT5nZXRDb2RlKCkgPT09IDQwMSB8fCAkZS0+Z2V0Q29kZSgpID09PSA0MDMpIHsKdGhyb3cgJGU7Cn0KfQppZiAoJGlzVmVyeVZlcmJvc2UpIHsKJHRoaXMtPmlvLT53cml0ZUVycm9yKCc8d2FybmluZz5Ta2lwcGVkIHRhZyAnLiR0YWcuJywgJy4oJGUgaW5zdGFuY2VvZiBUcmFuc3BvcnRFeGNlcHRpb24gPyAnbm8gY29tcG9zZXIgZmlsZSB3YXMgZm91bmQgKCcgLiAkZS0+Z2V0Q29kZSgpIC4gJyBIVFRQIHN0YXR1cyBjb2RlKScgOiAkZS0+Z2V0TWVzc2FnZSgpKS4nPC93YXJuaW5nPicpOwp9CmNvbnRpbnVlOwp9Cn0KCmlmICghJGlzVmVyeVZlcmJvc2UpIHsKJHRoaXMtPmlvLT5vdmVyd3JpdGVFcnJvcignJywgZmFsc2UpOwp9CgokYnJhbmNoZXMgPSAkZHJpdmVyLT5nZXRCcmFuY2hlcygpOwoKaWYgKCRoYXNSb290SWRlbnRpZmllckNvbXBvc2VySnNvbiAmJiBpc3NldCgkYnJhbmNoZXNbJGRyaXZlci0+Z2V0Um9vdElkZW50aWZpZXIoKV0pKSB7CiRicmFuY2hlcyA9IGFycmF5KCRkcml2ZXItPmdldFJvb3RJZGVudGlmaWVyKCkgPT4gJGJyYW5jaGVzWyRkcml2ZXItPmdldFJvb3RJZGVudGlmaWVyKCldKSArICRicmFuY2hlczsKfQoKZm9yZWFjaCAoJGJyYW5jaGVzIGFzICRicmFuY2ggPT4gJGlkZW50aWZpZXIpIHsKJG1zZyA9ICdSZWFkaW5nIGNvbXBvc2VyLmpzb24gb2YgPGluZm8+JyAuICgkdGhpcy0+cGFja2FnZU5hbWUgPzogJHRoaXMtPnVybCkgLiAnPC9pbmZvPiAoPGNvbW1lbnQ+JyAuICRicmFuY2ggLiAnPC9jb21tZW50PiknOwppZiAoJGlzVmVyeVZlcmJvc2UpIHsKJHRoaXMtPmlvLT53cml0ZUVycm9yKCRtc2cpOwp9IGVsc2VpZiAoJGlzVmVyYm9zZSkgewokdGhpcy0+aW8tPm92ZXJ3cml0ZUVycm9yKCRtc2csIGZhbHNlKTsKfQoKaWYgKCEkcGFyc2VkQnJhbmNoID0gJHRoaXMtPnZhbGlkYXRlQnJhbmNoKCRicmFuY2gpKSB7CmlmICgkaXNWZXJ5VmVyYm9zZSkgewokdGhpcy0+aW8tPndyaXRlRXJyb3IoJzx3YXJuaW5nPlNraXBwZWQgYnJhbmNoICcuJGJyYW5jaC4nLCBpbnZhbGlkIG5hbWU8L3dhcm5pbmc+Jyk7Cn0KY29udGludWU7Cn0KCgppZiAoc3RycG9zKCRwYXJzZWRCcmFuY2gsICdkZXYtJykgPT09IDAgfHwgVmVyc2lvblBhcnNlcjo6REVGQVVMVF9CUkFOQ0hfQUxJQVMgPT09ICRwYXJzZWRCcmFuY2gpIHsKJHZlcnNpb24gPSAnZGV2LScgLiAkYnJhbmNoOwp9IGVsc2UgewokcHJlZml4ID0gc3RycG9zKCRicmFuY2gsICd2JykgPT09IDAgPyAndicgOiAnJzsKJHZlcnNpb24gPSAkcHJlZml4IC4gcHJlZ19yZXBsYWNlKCd7KFwuOXs3fSkrfScsICcueCcsICRwYXJzZWRCcmFuY2gpOwp9CgokY2FjaGVkUGFja2FnZSA9ICR0aGlzLT5nZXRDYWNoZWRQYWNrYWdlVmVyc2lvbigkdmVyc2lvbiwgJGlkZW50aWZpZXIsICRpc1ZlcmJvc2UsICRpc1ZlcnlWZXJib3NlLCAkZHJpdmVyLT5nZXRSb290SWRlbnRpZmllcigpID09PSAkYnJhbmNoKTsKaWYgKCRjYWNoZWRQYWNrYWdlKSB7CiR0aGlzLT5hZGRQYWNrYWdlKCRjYWNoZWRQYWNrYWdlKTsKCmNvbnRpbnVlOwp9CmlmICgkY2FjaGVkUGFja2FnZSA9PT0gZmFsc2UpIHsKJHRoaXMtPmVtcHR5UmVmZXJlbmNlc1tdID0gJGlkZW50aWZpZXI7Cgpjb250aW51ZTsKfQoKdHJ5IHsKaWYgKCEkZGF0YSA9ICRkcml2ZXItPmdldENvbXBvc2VySW5mb3JtYXRpb24oJGlkZW50aWZpZXIpKSB7CmlmICgkaXNWZXJ5VmVyYm9zZSkgewokdGhpcy0+aW8tPndyaXRlRXJyb3IoJzx3YXJuaW5nPlNraXBwZWQgYnJhbmNoICcuJGJyYW5jaC4nLCBubyBjb21wb3NlciBmaWxlPC93YXJuaW5nPicpOwp9CiR0aGlzLT5lbXB0eVJlZmVyZW5jZXNbXSA9ICRpZGVudGlmaWVyOwpjb250aW51ZTsKfQoKCiRkYXRhWyd2ZXJzaW9uJ10gPSAkdmVyc2lvbjsKJGRhdGFbJ3ZlcnNpb25fbm9ybWFsaXplZCddID0gJHBhcnNlZEJyYW5jaDsKCnVuc2V0KCRkYXRhWydkZWZhdWx0LWJyYW5jaCddKTsKaWYgKCRkcml2ZXItPmdldFJvb3RJZGVudGlmaWVyKCkgPT09ICRicmFuY2gpIHsKJGRhdGFbJ2RlZmF1bHQtYnJhbmNoJ10gPSB0cnVlOwp9CgppZiAoJGlzVmVyeVZlcmJvc2UpIHsKJHRoaXMtPmlvLT53cml0ZUVycm9yKCdJbXBvcnRpbmcgYnJhbmNoICcuJGJyYW5jaC4nICgnLiRkYXRhWyd2ZXJzaW9uJ10uJyknKTsKfQoKJHBhY2thZ2VEYXRhID0gJHRoaXMtPnByZVByb2Nlc3MoJGRyaXZlciwgJGRhdGEsICRpZGVudGlmaWVyKTsKJHBhY2thZ2UgPSAkdGhpcy0+bG9hZGVyLT5sb2FkKCRwYWNrYWdlRGF0YSk7CmlmICgkdGhpcy0+bG9hZGVyIGluc3RhbmNlb2YgVmFsaWRhdGluZ0FycmF5TG9hZGVyICYmICR0aGlzLT5sb2FkZXItPmdldFdhcm5pbmdzKCkpIHsKdGhyb3cgbmV3IEludmFsaWRQYWNrYWdlRXhjZXB0aW9uKCR0aGlzLT5sb2FkZXItPmdldEVycm9ycygpLCAkdGhpcy0+bG9hZGVyLT5nZXRXYXJuaW5ncygpLCAkcGFja2FnZURhdGEpOwp9CiR0aGlzLT5hZGRQYWNrYWdlKCRwYWNrYWdlKTsKfSBjYXRjaCAoVHJhbnNwb3J0RXhjZXB0aW9uICRlKSB7CiR0aGlzLT52ZXJzaW9uVHJhbnNwb3J0RXhjZXB0aW9uc1snYnJhbmNoZXMnXVskYnJhbmNoXSA9ICRlOwppZiAoJGUtPmdldENvZGUoKSA9PT0gNDA0KSB7CiR0aGlzLT5lbXB0eVJlZmVyZW5jZXNbXSA9ICRpZGVudGlmaWVyOwp9CmlmICgkZS0+Z2V0Q29kZSgpID09PSA0MDEgfHwgJGUtPmdldENvZGUoKSA9PT0gNDAzKSB7CnRocm93ICRlOwp9CmlmICgkaXNWZXJ5VmVyYm9zZSkgewokdGhpcy0+aW8tPndyaXRlRXJyb3IoJzx3YXJuaW5nPlNraXBwZWQgYnJhbmNoICcuJGJyYW5jaC4nLCBubyBjb21wb3NlciBmaWxlIHdhcyBmb3VuZCAoJyAuICRlLT5nZXRDb2RlKCkgLiAnIEhUVFAgc3RhdHVzIGNvZGUpPC93YXJuaW5nPicpOwp9CmNvbnRpbnVlOwp9IGNhdGNoIChcRXhjZXB0aW9uICRlKSB7CmlmICghJGlzVmVyeVZlcmJvc2UpIHsKJHRoaXMtPmlvLT53cml0ZUVycm9yKCcnKTsKfQokdGhpcy0+YnJhbmNoRXJyb3JPY2N1cnJlZCA9IHRydWU7CiR0aGlzLT5pby0+d3JpdGVFcnJvcignPGVycm9yPlNraXBwZWQgYnJhbmNoICcuJGJyYW5jaC4nLCAnLiRlLT5nZXRNZXNzYWdlKCkuJzwvZXJyb3I+Jyk7CiR0aGlzLT5pby0+d3JpdGVFcnJvcignJyk7CmNvbnRpbnVlOwp9Cn0KJGRyaXZlci0+Y2xlYW51cCgpOwoKaWYgKCEkaXNWZXJ5VmVyYm9zZSkgewokdGhpcy0+aW8tPm92ZXJ3cml0ZUVycm9yKCcnLCBmYWxzZSk7Cn0KCmlmICghJHRoaXMtPmdldFBhY2thZ2VzKCkpIHsKdGhyb3cgbmV3IEludmFsaWRSZXBvc2l0b3J5RXhjZXB0aW9uKCdObyB2YWxpZCBjb21wb3Nlci5qc29uIHdhcyBmb3VuZCBpbiBhbnkgYnJhbmNoIG9yIHRhZyBvZiAnLiR0aGlzLT51cmwuJywgY291bGQgbm90IGxvYWQgYSBwYWNrYWdlIGZyb20gaXQuJyk7Cn0KfQoKcHJvdGVjdGVkIGZ1bmN0aW9uIHByZVByb2Nlc3MoVmNzRHJpdmVySW50ZXJmYWNlICRkcml2ZXIsIGFycmF5ICRkYXRhLCAkaWRlbnRpZmllcikKewoKCgokZGF0YVBhY2thZ2VOYW1lID0gaXNzZXQoJGRhdGFbJ25hbWUnXSkgPyAkZGF0YVsnbmFtZSddIDogbnVsbDsKJGRhdGFbJ25hbWUnXSA9ICR0aGlzLT5wYWNrYWdlTmFtZSA/OiAkZGF0YVBhY2thZ2VOYW1lOwoKaWYgKCFpc3NldCgkZGF0YVsnZGlzdCddKSkgewokZGF0YVsnZGlzdCddID0gJGRyaXZlci0+Z2V0RGlzdCgkaWRlbnRpZmllcik7Cn0KaWYgKCFpc3NldCgkZGF0YVsnc291cmNlJ10pKSB7CiRkYXRhWydzb3VyY2UnXSA9ICRkcml2ZXItPmdldFNvdXJjZSgkaWRlbnRpZmllcik7Cn0KCnJldHVybiAkZGF0YTsKfQoKcHJpdmF0ZSBmdW5jdGlvbiB2YWxpZGF0ZUJyYW5jaCgkYnJhbmNoKQp7CnRyeSB7CiRub3JtYWxpemVkQnJhbmNoID0gJHRoaXMtPnZlcnNpb25QYXJzZXItPm5vcm1hbGl6ZUJyYW5jaCgkYnJhbmNoKTsKCgokdGhpcy0+dmVyc2lvblBhcnNlci0+cGFyc2VDb25zdHJhaW50cygkbm9ybWFsaXplZEJyYW5jaCk7CgpyZXR1cm4gJG5vcm1hbGl6ZWRCcmFuY2g7Cn0gY2F0Y2ggKFxFeGNlcHRpb24gJGUpIHsKfQoKcmV0dXJuIGZhbHNlOwp9Cgpwcml2YXRlIGZ1bmN0aW9uIHZhbGlkYXRlVGFnKCR2ZXJzaW9uKQp7CnRyeSB7CnJldHVybiAkdGhpcy0+dmVyc2lvblBhcnNlci0+bm9ybWFsaXplKCR2ZXJzaW9uKTsKfSBjYXRjaCAoXEV4Y2VwdGlvbiAkZSkgewp9CgpyZXR1cm4gZmFsc2U7Cn0KCnByaXZhdGUgZnVuY3Rpb24gZ2V0Q2FjaGVkUGFja2FnZVZlcnNpb24oJHZlcnNpb24sICRpZGVudGlmaWVyLCAkaXNWZXJib3NlLCAkaXNWZXJ5VmVyYm9zZSwgJGlzRGVmYXVsdEJyYW5jaCA9IGZhbHNlKQp7CmlmICghJHRoaXMtPnZlcnNpb25DYWNoZSkgewpyZXR1cm47Cn0KCiRjYWNoZWRQYWNrYWdlID0gJHRoaXMtPnZlcnNpb25DYWNoZS0+Z2V0VmVyc2lvblBhY2thZ2UoJHZlcnNpb24sICRpZGVudGlmaWVyKTsKaWYgKCRjYWNoZWRQYWNrYWdlID09PSBmYWxzZSkgewppZiAoJGlzVmVyeVZlcmJvc2UpIHsKJHRoaXMtPmlvLT53cml0ZUVycm9yKCc8d2FybmluZz5Ta2lwcGVkICcuJHZlcnNpb24uJywgbm8gY29tcG9zZXIgZmlsZSAoY2FjaGVkIGZyb20gcmVmICcuJGlkZW50aWZpZXIuJyk8L3dhcm5pbmc+Jyk7Cn0KCnJldHVybiBmYWxzZTsKfQoKaWYgKCRjYWNoZWRQYWNrYWdlKSB7CiRtc2cgPSAnRm91bmQgY2FjaGVkIGNvbXBvc2VyLmpzb24gb2YgPGluZm8+JyAuICgkdGhpcy0+cGFja2FnZU5hbWUgPzogJHRoaXMtPnVybCkgLiAnPC9pbmZvPiAoPGNvbW1lbnQ+JyAuICR2ZXJzaW9uIC4gJzwvY29tbWVudD4pJzsKaWYgKCRpc1ZlcnlWZXJib3NlKSB7CiR0aGlzLT5pby0+d3JpdGVFcnJvcigkbXNnKTsKfSBlbHNlaWYgKCRpc1ZlcmJvc2UpIHsKJHRoaXMtPmlvLT5vdmVyd3JpdGVFcnJvcigkbXNnLCBmYWxzZSk7Cn0KCnVuc2V0KCRjYWNoZWRQYWNrYWdlWydkZWZhdWx0LWJyYW5jaCddKTsKaWYgKCRpc0RlZmF1bHRCcmFuY2gpIHsKJGNhY2hlZFBhY2thZ2VbJ2RlZmF1bHQtYnJhbmNoJ10gPSB0cnVlOwp9CgppZiAoJGV4aXN0aW5nUGFja2FnZSA9ICR0aGlzLT5maW5kUGFja2FnZSgkY2FjaGVkUGFja2FnZVsnbmFtZSddLCBuZXcgQ29uc3RyYWludCgnPScsICRjYWNoZWRQYWNrYWdlWyd2ZXJzaW9uX25vcm1hbGl6ZWQnXSkpKSB7CmlmICgkaXNWZXJ5VmVyYm9zZSkgewokdGhpcy0+aW8tPndyaXRlRXJyb3IoJzx3YXJuaW5nPlNraXBwZWQgY2FjaGVkIHZlcnNpb24gJy4kdmVyc2lvbi4nLCBpdCBjb25mbGljdHMgd2l0aCBhbiBhbm90aGVyIHRhZyAoJy4kZXhpc3RpbmdQYWNrYWdlLT5nZXRQcmV0dHlWZXJzaW9uKCkuJykgYXMgYm90aCByZXNvbHZlIHRvICcuJGNhY2hlZFBhY2thZ2VbJ3ZlcnNpb25fbm9ybWFsaXplZCddLicgaW50ZXJuYWxseTwvd2FybmluZz4nKTsKfQokY2FjaGVkUGFja2FnZSA9IG51bGw7Cn0KfQoKaWYgKCRjYWNoZWRQYWNrYWdlKSB7CnJldHVybiAkdGhpcy0+bG9hZGVyLT5sb2FkKCRjYWNoZWRQYWNrYWdlKTsKfQoKcmV0dXJuIG51bGw7Cn0KfQo8P3BocAoKCgoKCgoKCgoKCm5hbWVzcGFjZSBDb21wb3NlclxSZXBvc2l0b3J5OwoKaW50ZXJmYWNlIFZlcnNpb25DYWNoZUludGVyZmFjZQp7CgoKCgoKcHVibGljIGZ1bmN0aW9uIGdldFZlcnNpb25QYWNrYWdlKCR2ZXJzaW9uLCAkaWRlbnRpZmllcik7Cn0KPD9waHAKCgoKCgoKCgoKCgpuYW1lc3BhY2UgQ29tcG9zZXJcUmVwb3NpdG9yeTsKCnVzZSBDb21wb3NlclxQYWNrYWdlXEFsaWFzUGFja2FnZTsKdXNlIENvbXBvc2VyXEluc3RhbGxlclxJbnN0YWxsYXRpb25NYW5hZ2VyOwoKCgoKCgpjbGFzcyBXcml0YWJsZUFycmF5UmVwb3NpdG9yeSBleHRlbmRzIEFycmF5UmVwb3NpdG9yeSBpbXBsZW1lbnRzIFdyaXRhYmxlUmVwb3NpdG9yeUludGVyZmFjZQp7CgoKCnByb3RlY3RlZCAkZGV2UGFja2FnZU5hbWVzID0gYXJyYXkoKTsKCgoKCnB1YmxpYyBmdW5jdGlvbiBzZXREZXZQYWNrYWdlTmFtZXMoYXJyYXkgJGRldlBhY2thZ2VOYW1lcykKewokdGhpcy0+ZGV2UGFja2FnZU5hbWVzID0gJGRldlBhY2thZ2VOYW1lczsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIGdldERldlBhY2thZ2VOYW1lcygpCnsKcmV0dXJuICR0aGlzLT5kZXZQYWNrYWdlTmFtZXM7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiB3cml0ZSgkZGV2TW9kZSwgSW5zdGFsbGF0aW9uTWFuYWdlciAkaW5zdGFsbGF0aW9uTWFuYWdlcikKewp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gcmVsb2FkKCkKewp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0Q2Fub25pY2FsUGFja2FnZXMoKQp7CiRwYWNrYWdlcyA9ICR0aGlzLT5nZXRQYWNrYWdlcygpOwoKCiRwYWNrYWdlc0J5TmFtZSA9IGFycmF5KCk7CmZvcmVhY2ggKCRwYWNrYWdlcyBhcyAkcGFja2FnZSkgewppZiAoIWlzc2V0KCRwYWNrYWdlc0J5TmFtZVskcGFja2FnZS0+Z2V0TmFtZSgpXSkgfHwgJHBhY2thZ2VzQnlOYW1lWyRwYWNrYWdlLT5nZXROYW1lKCldIGluc3RhbmNlb2YgQWxpYXNQYWNrYWdlKSB7CiRwYWNrYWdlc0J5TmFtZVskcGFja2FnZS0+Z2V0TmFtZSgpXSA9ICRwYWNrYWdlOwp9Cn0KCiRjYW5vbmljYWxQYWNrYWdlcyA9IGFycmF5KCk7CgoKZm9yZWFjaCAoJHBhY2thZ2VzQnlOYW1lIGFzICRwYWNrYWdlKSB7CndoaWxlICgkcGFja2FnZSBpbnN0YW5jZW9mIEFsaWFzUGFja2FnZSkgewokcGFja2FnZSA9ICRwYWNrYWdlLT5nZXRBbGlhc09mKCk7Cn0KCiRjYW5vbmljYWxQYWNrYWdlc1tdID0gJHBhY2thZ2U7Cn0KCnJldHVybiAkY2Fub25pY2FsUGFja2FnZXM7Cn0KfQo8P3BocAoKCgoKCgoKCgoKCm5hbWVzcGFjZSBDb21wb3NlclxSZXBvc2l0b3J5OwoKdXNlIENvbXBvc2VyXFBhY2thZ2VcUGFja2FnZUludGVyZmFjZTsKdXNlIENvbXBvc2VyXEluc3RhbGxlclxJbnN0YWxsYXRpb25NYW5hZ2VyOwoKCgoKCgppbnRlcmZhY2UgV3JpdGFibGVSZXBvc2l0b3J5SW50ZXJmYWNlIGV4dGVuZHMgUmVwb3NpdG9yeUludGVyZmFjZQp7CgoKCgoKcHVibGljIGZ1bmN0aW9uIHdyaXRlKCRkZXZNb2RlLCBJbnN0YWxsYXRpb25NYW5hZ2VyICRpbnN0YWxsYXRpb25NYW5hZ2VyKTsKCgoKCgoKcHVibGljIGZ1bmN0aW9uIGFkZFBhY2thZ2UoUGFja2FnZUludGVyZmFjZSAkcGFja2FnZSk7CgoKCgoKCnB1YmxpYyBmdW5jdGlvbiByZW1vdmVQYWNrYWdlKFBhY2thZ2VJbnRlcmZhY2UgJHBhY2thZ2UpOwoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0Q2Fub25pY2FsUGFja2FnZXMoKTsKCgoKCnB1YmxpYyBmdW5jdGlvbiByZWxvYWQoKTsKCgoKCnB1YmxpYyBmdW5jdGlvbiBzZXREZXZQYWNrYWdlTmFtZXMoYXJyYXkgJGRldlBhY2thZ2VOYW1lcyk7CgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0RGV2UGFja2FnZU5hbWVzKCk7Cn0KPD9waHAKCgoKCgoKCgoKCgpuYW1lc3BhY2UgQ29tcG9zZXJcU2NyaXB0OwoKdXNlIENvbXBvc2VyXENvbXBvc2VyOwp1c2UgQ29tcG9zZXJcSU9cSU9JbnRlcmZhY2U7CnVzZSBDb21wb3NlclxFdmVudERpc3BhdGNoZXJcRXZlbnQgYXMgQmFzZUV2ZW50OwoKCgoKCgoKY2xhc3MgRXZlbnQgZXh0ZW5kcyBCYXNlRXZlbnQKewoKCgpwcml2YXRlICRjb21wb3NlcjsKCgoKCnByaXZhdGUgJGlvOwoKCgoKcHJpdmF0ZSAkZGV2TW9kZTsKCgoKCnByaXZhdGUgJG9yaWdpbmF0aW5nRXZlbnQ7CgoKCgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIF9fY29uc3RydWN0KCRuYW1lLCBDb21wb3NlciAkY29tcG9zZXIsIElPSW50ZXJmYWNlICRpbywgJGRldk1vZGUgPSBmYWxzZSwgYXJyYXkgJGFyZ3MgPSBhcnJheSgpLCBhcnJheSAkZmxhZ3MgPSBhcnJheSgpKQp7CnBhcmVudDo6X19jb25zdHJ1Y3QoJG5hbWUsICRhcmdzLCAkZmxhZ3MpOwokdGhpcy0+Y29tcG9zZXIgPSAkY29tcG9zZXI7CiR0aGlzLT5pbyA9ICRpbzsKJHRoaXMtPmRldk1vZGUgPSAkZGV2TW9kZTsKfQoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0Q29tcG9zZXIoKQp7CnJldHVybiAkdGhpcy0+Y29tcG9zZXI7Cn0KCgoKCgoKcHVibGljIGZ1bmN0aW9uIGdldElPKCkKewpyZXR1cm4gJHRoaXMtPmlvOwp9CgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBpc0Rldk1vZGUoKQp7CnJldHVybiAkdGhpcy0+ZGV2TW9kZTsKfQoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0T3JpZ2luYXRpbmdFdmVudCgpCnsKcmV0dXJuICR0aGlzLT5vcmlnaW5hdGluZ0V2ZW50Owp9CgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gc2V0T3JpZ2luYXRpbmdFdmVudChCYXNlRXZlbnQgJGV2ZW50KQp7CiR0aGlzLT5vcmlnaW5hdGluZ0V2ZW50ID0gJHRoaXMtPmNhbGN1bGF0ZU9yaWdpbmF0aW5nRXZlbnQoJGV2ZW50KTsKCnJldHVybiAkdGhpczsKfQoKCgoKCgoKcHJpdmF0ZSBmdW5jdGlvbiBjYWxjdWxhdGVPcmlnaW5hdGluZ0V2ZW50KEJhc2VFdmVudCAkZXZlbnQpCnsKaWYgKCRldmVudCBpbnN0YW5jZW9mIEV2ZW50ICYmICRldmVudC0+Z2V0T3JpZ2luYXRpbmdFdmVudCgpKSB7CnJldHVybiAkdGhpcy0+Y2FsY3VsYXRlT3JpZ2luYXRpbmdFdmVudCgkZXZlbnQtPmdldE9yaWdpbmF0aW5nRXZlbnQoKSk7Cn0KCnJldHVybiAkZXZlbnQ7Cn0KfQo8P3BocAoKCgoKCgoKCgoKCm5hbWVzcGFjZSBDb21wb3NlclxTY3JpcHQ7CgoKCgoKCgpjbGFzcyBTY3JpcHRFdmVudHMKewoKCgoKCgoKY29uc3QgUFJFX0lOU1RBTExfQ01EID0gJ3ByZS1pbnN0YWxsLWNtZCc7CgoKCgoKCgoKY29uc3QgUE9TVF9JTlNUQUxMX0NNRCA9ICdwb3N0LWluc3RhbGwtY21kJzsKCgoKCgoKCgpjb25zdCBQUkVfVVBEQVRFX0NNRCA9ICdwcmUtdXBkYXRlLWNtZCc7CgoKCgoKCgoKY29uc3QgUE9TVF9VUERBVEVfQ01EID0gJ3Bvc3QtdXBkYXRlLWNtZCc7CgoKCgoKCgoKY29uc3QgUFJFX1NUQVRVU19DTUQgPSAncHJlLXN0YXR1cy1jbWQnOwoKCgoKCgoKCmNvbnN0IFBPU1RfU1RBVFVTX0NNRCA9ICdwb3N0LXN0YXR1cy1jbWQnOwoKCgoKCgoKCmNvbnN0IFBSRV9BVVRPTE9BRF9EVU1QID0gJ3ByZS1hdXRvbG9hZC1kdW1wJzsKCgoKCgoKCgpjb25zdCBQT1NUX0FVVE9MT0FEX0RVTVAgPSAncG9zdC1hdXRvbG9hZC1kdW1wJzsKCgoKCgoKCgpjb25zdCBQT1NUX1JPT1RfUEFDS0FHRV9JTlNUQUxMID0gJ3Bvc3Qtcm9vdC1wYWNrYWdlLWluc3RhbGwnOwoKCgoKCgoKCgpjb25zdCBQT1NUX0NSRUFURV9QUk9KRUNUX0NNRCA9ICdwb3N0LWNyZWF0ZS1wcm9qZWN0LWNtZCc7CgoKCgoKCgoKY29uc3QgUFJFX0FSQ0hJVkVfQ01EID0gJ3ByZS1hcmNoaXZlLWNtZCc7CgoKCgoKCgoKY29uc3QgUE9TVF9BUkNISVZFX0NNRCA9ICdwb3N0LWFyY2hpdmUtY21kJzsKfQo8P3BocAoKCgoKCgoKCgoKCm5hbWVzcGFjZSBDb21wb3NlclxTZWxmVXBkYXRlOwoKCgoKY2xhc3MgS2V5cwp7CnB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gZmluZ2VycHJpbnQoJHBhdGgpCnsKJGhhc2ggPSBzdHJ0b3VwcGVyKGhhc2goJ3NoYTI1NicsIHByZWdfcmVwbGFjZSgne1xzfScsICcnLCBmaWxlX2dldF9jb250ZW50cygkcGF0aCkpKSk7CgpyZXR1cm4gaW1wbG9kZSgnICcsIGFycmF5KApzdWJzdHIoJGhhc2gsIDAsIDgpLApzdWJzdHIoJGhhc2gsIDgsIDgpLApzdWJzdHIoJGhhc2gsIDE2LCA4KSwKc3Vic3RyKCRoYXNoLCAyNCwgOCksCicnLCAKc3Vic3RyKCRoYXNoLCAzMiwgOCksCnN1YnN0cigkaGFzaCwgNDAsIDgpLApzdWJzdHIoJGhhc2gsIDQ4LCA4KSwKc3Vic3RyKCRoYXNoLCA1NiwgOCksCikpOwp9Cn0KPD9waHAKCgoKCgoKCgoKCgpuYW1lc3BhY2UgQ29tcG9zZXJcU2VsZlVwZGF0ZTsKCnVzZSBDb21wb3NlclxVdGlsXEh0dHBEb3dubG9hZGVyOwp1c2UgQ29tcG9zZXJcQ29uZmlnOwoKCgoKY2xhc3MgVmVyc2lvbnMKewpwdWJsaWMgc3RhdGljICRjaGFubmVscyA9IGFycmF5KCdzdGFibGUnLCAncHJldmlldycsICdzbmFwc2hvdCcsICcxJywgJzInKTsKCnByaXZhdGUgJGh0dHBEb3dubG9hZGVyOwpwcml2YXRlICRjb25maWc7CnByaXZhdGUgJGNoYW5uZWw7CnByaXZhdGUgJHZlcnNpb25zRGF0YTsKCnB1YmxpYyBmdW5jdGlvbiBfX2NvbnN0cnVjdChDb25maWcgJGNvbmZpZywgSHR0cERvd25sb2FkZXIgJGh0dHBEb3dubG9hZGVyKQp7CiR0aGlzLT5odHRwRG93bmxvYWRlciA9ICRodHRwRG93bmxvYWRlcjsKJHRoaXMtPmNvbmZpZyA9ICRjb25maWc7Cn0KCnB1YmxpYyBmdW5jdGlvbiBnZXRDaGFubmVsKCkKewppZiAoJHRoaXMtPmNoYW5uZWwpIHsKcmV0dXJuICR0aGlzLT5jaGFubmVsOwp9CgokY2hhbm5lbEZpbGUgPSAkdGhpcy0+Y29uZmlnLT5nZXQoJ2hvbWUnKS4nL3VwZGF0ZS1jaGFubmVsJzsKaWYgKGZpbGVfZXhpc3RzKCRjaGFubmVsRmlsZSkpIHsKJGNoYW5uZWwgPSB0cmltKGZpbGVfZ2V0X2NvbnRlbnRzKCRjaGFubmVsRmlsZSkpOwppZiAoaW5fYXJyYXkoJGNoYW5uZWwsIGFycmF5KCdzdGFibGUnLCAncHJldmlldycsICdzbmFwc2hvdCcpLCB0cnVlKSkgewpyZXR1cm4gJHRoaXMtPmNoYW5uZWwgPSAkY2hhbm5lbDsKfQp9CgpyZXR1cm4gJHRoaXMtPmNoYW5uZWwgPSAnc3RhYmxlJzsKfQoKcHVibGljIGZ1bmN0aW9uIHNldENoYW5uZWwoJGNoYW5uZWwpCnsKaWYgKCFpbl9hcnJheSgkY2hhbm5lbCwgc2VsZjo6JGNoYW5uZWxzLCB0cnVlKSkgewp0aHJvdyBuZXcgXEludmFsaWRBcmd1bWVudEV4Y2VwdGlvbignSW52YWxpZCBjaGFubmVsICcuJGNoYW5uZWwuJywgbXVzdCBiZSBvbmUgb2Y6ICcgLiBpbXBsb2RlKCcsICcsIHNlbGY6OiRjaGFubmVscykpOwp9CgokY2hhbm5lbEZpbGUgPSAkdGhpcy0+Y29uZmlnLT5nZXQoJ2hvbWUnKS4nL3VwZGF0ZS1jaGFubmVsJzsKJHRoaXMtPmNoYW5uZWwgPSAkY2hhbm5lbDsKZmlsZV9wdXRfY29udGVudHMoJGNoYW5uZWxGaWxlLCAoaXNfbnVtZXJpYygkY2hhbm5lbCkgPyAnc3RhYmxlJyA6ICRjaGFubmVsKS5QSFBfRU9MKTsKfQoKcHVibGljIGZ1bmN0aW9uIGdldExhdGVzdCgkY2hhbm5lbCA9IG51bGwpCnsKJHZlcnNpb25zID0gJHRoaXMtPmdldFZlcnNpb25zRGF0YSgpOwoKZm9yZWFjaCAoJHZlcnNpb25zWyRjaGFubmVsID86ICR0aGlzLT5nZXRDaGFubmVsKCldIGFzICR2ZXJzaW9uKSB7CmlmICgkdmVyc2lvblsnbWluLXBocCddIDw9IFBIUF9WRVJTSU9OX0lEKSB7CnJldHVybiAkdmVyc2lvbjsKfQp9Cgp0aHJvdyBuZXcgXFVuZXhwZWN0ZWRWYWx1ZUV4Y2VwdGlvbignVGhlcmUgaXMgbm8gdmVyc2lvbiBvZiBDb21wb3NlciBhdmFpbGFibGUgZm9yIHlvdXIgUEhQIHZlcnNpb24gKCcuUEhQX1ZFUlNJT04uJyknKTsKfQoKcHJpdmF0ZSBmdW5jdGlvbiBnZXRWZXJzaW9uc0RhdGEoKQp7CmlmICghJHRoaXMtPnZlcnNpb25zRGF0YSkgewppZiAoJHRoaXMtPmNvbmZpZy0+Z2V0KCdkaXNhYmxlLXRscycpID09PSB0cnVlKSB7CiRwcm90b2NvbCA9ICdodHRwJzsKfSBlbHNlIHsKJHByb3RvY29sID0gJ2h0dHBzJzsKfQoKJHRoaXMtPnZlcnNpb25zRGF0YSA9ICR0aGlzLT5odHRwRG93bmxvYWRlci0+Z2V0KCRwcm90b2NvbCAuICc6Ly9nZXRjb21wb3Nlci5vcmcvdmVyc2lvbnMnKS0+ZGVjb2RlSnNvbigpOwp9CgpyZXR1cm4gJHRoaXMtPnZlcnNpb25zRGF0YTsKfQp9Cjw/cGhwCgoKCgoKCgoKCgoKbmFtZXNwYWNlIENvbXBvc2VyXFV0aWw7Cgp1c2UgQ29tcG9zZXJcQ29uZmlnOwp1c2UgQ29tcG9zZXJcSU9cSU9JbnRlcmZhY2U7CnVzZSBDb21wb3NlclxEb3dubG9hZGVyXFRyYW5zcG9ydEV4Y2VwdGlvbjsKCgoKCmNsYXNzIEF1dGhIZWxwZXIKewpwcm90ZWN0ZWQgJGlvOwpwcm90ZWN0ZWQgJGNvbmZpZzsKcHJpdmF0ZSAkZGlzcGxheWVkT3JpZ2luQXV0aGVudGljYXRpb25zID0gYXJyYXkoKTsKCnB1YmxpYyBmdW5jdGlvbiBfX2NvbnN0cnVjdChJT0ludGVyZmFjZSAkaW8sIENvbmZpZyAkY29uZmlnKQp7CiR0aGlzLT5pbyA9ICRpbzsKJHRoaXMtPmNvbmZpZyA9ICRjb25maWc7Cn0KCgoKCgpwdWJsaWMgZnVuY3Rpb24gc3RvcmVBdXRoKCRvcmlnaW4sICRzdG9yZUF1dGgpCnsKJHN0b3JlID0gZmFsc2U7CiRjb25maWdTb3VyY2UgPSAkdGhpcy0+Y29uZmlnLT5nZXRBdXRoQ29uZmlnU291cmNlKCk7CmlmICgkc3RvcmVBdXRoID09PSB0cnVlKSB7CiRzdG9yZSA9ICRjb25maWdTb3VyY2U7Cn0gZWxzZWlmICgkc3RvcmVBdXRoID09PSAncHJvbXB0JykgewokYW5zd2VyID0gJHRoaXMtPmlvLT5hc2tBbmRWYWxpZGF0ZSgKJ0RvIHlvdSB3YW50IHRvIHN0b3JlIGNyZWRlbnRpYWxzIGZvciAnLiRvcmlnaW4uJyBpbiAnLiRjb25maWdTb3VyY2UtPmdldE5hbWUoKS4nID8gW1luXSAnLApmdW5jdGlvbiAoJHZhbHVlKSB7CiRpbnB1dCA9IHN0cnRvbG93ZXIoc3Vic3RyKHRyaW0oJHZhbHVlKSwgMCwgMSkpOwppZiAoaW5fYXJyYXkoJGlucHV0LCBhcnJheSgneScsJ24nKSkpIHsKcmV0dXJuICRpbnB1dDsKfQp0aHJvdyBuZXcgXFJ1bnRpbWVFeGNlcHRpb24oJ1BsZWFzZSBhbnN3ZXIgKHkpZXMgb3IgKG4pbycpOwp9LApudWxsLAoneScKKTsKCmlmICgkYW5zd2VyID09PSAneScpIHsKJHN0b3JlID0gJGNvbmZpZ1NvdXJjZTsKfQp9CmlmICgkc3RvcmUpIHsKJHN0b3JlLT5hZGRDb25maWdTZXR0aW5nKAonaHR0cC1iYXNpYy4nLiRvcmlnaW4sCiR0aGlzLT5pby0+Z2V0QXV0aGVudGljYXRpb24oJG9yaWdpbikKKTsKfQp9CgoKCgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gcHJvbXB0QXV0aElmTmVlZGVkKCR1cmwsICRvcmlnaW4sICRzdGF0dXNDb2RlLCAkcmVhc29uID0gbnVsbCwgJGhlYWRlcnMgPSBhcnJheSgpKQp7CiRzdG9yZUF1dGggPSBmYWxzZTsKCmlmIChpbl9hcnJheSgkb3JpZ2luLCAkdGhpcy0+Y29uZmlnLT5nZXQoJ2dpdGh1Yi1kb21haW5zJyksIHRydWUpKSB7CiRnaXRIdWJVdGlsID0gbmV3IEdpdEh1YigkdGhpcy0+aW8sICR0aGlzLT5jb25maWcsIG51bGwpOwokbWVzc2FnZSA9ICJcbiI7CgokcmF0ZUxpbWl0ZWQgPSAkZ2l0SHViVXRpbC0+aXNSYXRlTGltaXRlZCgkaGVhZGVycyk7CmlmICgkcmF0ZUxpbWl0ZWQpIHsKJHJhdGVMaW1pdCA9ICRnaXRIdWJVdGlsLT5nZXRSYXRlTGltaXQoJGhlYWRlcnMpOwppZiAoJHRoaXMtPmlvLT5oYXNBdXRoZW50aWNhdGlvbigkb3JpZ2luKSkgewokbWVzc2FnZSA9ICdSZXZpZXcgeW91ciBjb25maWd1cmVkIEdpdEh1YiBPQXV0aCB0b2tlbiBvciBlbnRlciBhIG5ldyBvbmUgdG8gZ28gb3ZlciB0aGUgQVBJIHJhdGUgbGltaXQuJzsKfSBlbHNlIHsKJG1lc3NhZ2UgPSAnQ3JlYXRlIGEgR2l0SHViIE9BdXRoIHRva2VuIHRvIGdvIG92ZXIgdGhlIEFQSSByYXRlIGxpbWl0Lic7Cn0KCiRtZXNzYWdlID0gc3ByaW50ZigKJ0dpdEh1YiBBUEkgbGltaXQgKCVkIGNhbGxzL2hyKSBpcyBleGhhdXN0ZWQsIGNvdWxkIG5vdCBmZXRjaCAnLiR1cmwuJy4gJy4kbWVzc2FnZS4nIFlvdSBjYW4gYWxzbyB3YWl0IHVudGlsICVzIGZvciB0aGUgcmF0ZSBsaW1pdCB0byByZXNldC4nLAokcmF0ZUxpbWl0WydsaW1pdCddLAokcmF0ZUxpbWl0WydyZXNldCddCikuIlxuIjsKfSBlbHNlIHsKJG1lc3NhZ2UgLj0gJ0NvdWxkIG5vdCBmZXRjaCAnLiR1cmwuJywgcGxlYXNlICc7CmlmICgkdGhpcy0+aW8tPmhhc0F1dGhlbnRpY2F0aW9uKCRvcmlnaW4pKSB7CiRtZXNzYWdlIC49ICdyZXZpZXcgeW91ciBjb25maWd1cmVkIEdpdEh1YiBPQXV0aCB0b2tlbiBvciBlbnRlciBhIG5ldyBvbmUgdG8gYWNjZXNzIHByaXZhdGUgcmVwb3MnOwp9IGVsc2UgewokbWVzc2FnZSAuPSAnY3JlYXRlIGEgR2l0SHViIE9BdXRoIHRva2VuIHRvIGFjY2VzcyBwcml2YXRlIHJlcG9zJzsKfQp9CgppZiAoISRnaXRIdWJVdGlsLT5hdXRob3JpemVPQXV0aCgkb3JpZ2luKQomJiAoISR0aGlzLT5pby0+aXNJbnRlcmFjdGl2ZSgpIHx8ICEkZ2l0SHViVXRpbC0+YXV0aG9yaXplT0F1dGhJbnRlcmFjdGl2ZWx5KCRvcmlnaW4sICRtZXNzYWdlKSkKKSB7CnRocm93IG5ldyBUcmFuc3BvcnRFeGNlcHRpb24oJ0NvdWxkIG5vdCBhdXRoZW50aWNhdGUgYWdhaW5zdCAnLiRvcmlnaW4sIDQwMSk7Cn0KfSBlbHNlaWYgKGluX2FycmF5KCRvcmlnaW4sICR0aGlzLT5jb25maWctPmdldCgnZ2l0bGFiLWRvbWFpbnMnKSwgdHJ1ZSkpIHsKJG1lc3NhZ2UgPSAiXG4iLidDb3VsZCBub3QgZmV0Y2ggJy4kdXJsLicsIGVudGVyIHlvdXIgJyAuICRvcmlnaW4gLiAnIGNyZWRlbnRpYWxzICcgLigkc3RhdHVzQ29kZSA9PT0gNDAxID8gJ3RvIGFjY2VzcyBwcml2YXRlIHJlcG9zJyA6ICd0byBnbyBvdmVyIHRoZSBBUEkgcmF0ZSBsaW1pdCcpOwokZ2l0TGFiVXRpbCA9IG5ldyBHaXRMYWIoJHRoaXMtPmlvLCAkdGhpcy0+Y29uZmlnLCBudWxsKTsKCmlmICgkdGhpcy0+aW8tPmhhc0F1dGhlbnRpY2F0aW9uKCRvcmlnaW4pICYmICgkYXV0aCA9ICR0aGlzLT5pby0+Z2V0QXV0aGVudGljYXRpb24oJG9yaWdpbikpICYmIGluX2FycmF5KCRhdXRoWydwYXNzd29yZCddLCBhcnJheSgnZ2l0bGFiLWNpLXRva2VuJywgJ3ByaXZhdGUtdG9rZW4nLCAnb2F1dGgyJyksIHRydWUpKSB7CnRocm93IG5ldyBUcmFuc3BvcnRFeGNlcHRpb24oIkludmFsaWQgY3JlZGVudGlhbHMgZm9yICciIC4gJHVybCAuICInLCBhYm9ydGluZy4iLCAkc3RhdHVzQ29kZSk7Cn0KCmlmICghJGdpdExhYlV0aWwtPmF1dGhvcml6ZU9BdXRoKCRvcmlnaW4pCiYmICghJHRoaXMtPmlvLT5pc0ludGVyYWN0aXZlKCkgfHwgISRnaXRMYWJVdGlsLT5hdXRob3JpemVPQXV0aEludGVyYWN0aXZlbHkocGFyc2VfdXJsKCR1cmwsIFBIUF9VUkxfU0NIRU1FKSwgJG9yaWdpbiwgJG1lc3NhZ2UpKQopIHsKdGhyb3cgbmV3IFRyYW5zcG9ydEV4Y2VwdGlvbignQ291bGQgbm90IGF1dGhlbnRpY2F0ZSBhZ2FpbnN0ICcuJG9yaWdpbiwgNDAxKTsKfQp9IGVsc2VpZiAoJG9yaWdpbiA9PT0gJ2JpdGJ1Y2tldC5vcmcnIHx8ICRvcmlnaW4gPT09ICdhcGkuYml0YnVja2V0Lm9yZycpIHsKJGFza0Zvck9BdXRoVG9rZW4gPSB0cnVlOwokb3JpZ2luID0gJ2JpdGJ1Y2tldC5vcmcnOwppZiAoJHRoaXMtPmlvLT5oYXNBdXRoZW50aWNhdGlvbigkb3JpZ2luKSkgewokYXV0aCA9ICR0aGlzLT5pby0+Z2V0QXV0aGVudGljYXRpb24oJG9yaWdpbik7CmlmICgkYXV0aFsndXNlcm5hbWUnXSAhPT0gJ3gtdG9rZW4tYXV0aCcpIHsKJGJpdGJ1Y2tldFV0aWwgPSBuZXcgQml0YnVja2V0KCR0aGlzLT5pbywgJHRoaXMtPmNvbmZpZyk7CiRhY2Nlc3NUb2tlbiA9ICRiaXRidWNrZXRVdGlsLT5yZXF1ZXN0VG9rZW4oJG9yaWdpbiwgJGF1dGhbJ3VzZXJuYW1lJ10sICRhdXRoWydwYXNzd29yZCddKTsKaWYgKCFlbXB0eSgkYWNjZXNzVG9rZW4pKSB7CiR0aGlzLT5pby0+c2V0QXV0aGVudGljYXRpb24oJG9yaWdpbiwgJ3gtdG9rZW4tYXV0aCcsICRhY2Nlc3NUb2tlbik7CiRhc2tGb3JPQXV0aFRva2VuID0gZmFsc2U7Cn0KfSBlbHNlIHsKdGhyb3cgbmV3IFRyYW5zcG9ydEV4Y2VwdGlvbignQ291bGQgbm90IGF1dGhlbnRpY2F0ZSBhZ2FpbnN0ICcgLiAkb3JpZ2luLCA0MDEpOwp9Cn0KCmlmICgkYXNrRm9yT0F1dGhUb2tlbikgewokbWVzc2FnZSA9ICJcbiIuJ0NvdWxkIG5vdCBmZXRjaCAnIC4gJHVybCAuICcsIHBsZWFzZSBjcmVhdGUgYSBiaXRidWNrZXQgT0F1dGggdG9rZW4gdG8gJyAuICgoJHN0YXR1c0NvZGUgPT09IDQwMSB8fCAkc3RhdHVzQ29kZSA9PT0gNDAzKSA/ICdhY2Nlc3MgcHJpdmF0ZSByZXBvcycgOiAnZ28gb3ZlciB0aGUgQVBJIHJhdGUgbGltaXQnKTsKJGJpdEJ1Y2tldFV0aWwgPSBuZXcgQml0YnVja2V0KCR0aGlzLT5pbywgJHRoaXMtPmNvbmZpZyk7CmlmICghJGJpdEJ1Y2tldFV0aWwtPmF1dGhvcml6ZU9BdXRoKCRvcmlnaW4pCiYmICghJHRoaXMtPmlvLT5pc0ludGVyYWN0aXZlKCkgfHwgISRiaXRCdWNrZXRVdGlsLT5hdXRob3JpemVPQXV0aEludGVyYWN0aXZlbHkoJG9yaWdpbiwgJG1lc3NhZ2UpKQopIHsKdGhyb3cgbmV3IFRyYW5zcG9ydEV4Y2VwdGlvbignQ291bGQgbm90IGF1dGhlbnRpY2F0ZSBhZ2FpbnN0ICcgLiAkb3JpZ2luLCA0MDEpOwp9Cn0KfSBlbHNlIHsKCmlmICgkc3RhdHVzQ29kZSA9PT0gNDA0KSB7CnJldHVybiBudWxsOwp9CgoKaWYgKCEkdGhpcy0+aW8tPmlzSW50ZXJhY3RpdmUoKSkgewppZiAoJHN0YXR1c0NvZGUgPT09IDQwMSkgewokbWVzc2FnZSA9ICJUaGUgJyIgLiAkdXJsIC4gIicgVVJMIHJlcXVpcmVkIGF1dGhlbnRpY2F0aW9uLlxuWW91IG11c3QgYmUgdXNpbmcgdGhlIGludGVyYWN0aXZlIGNvbnNvbGUgdG8gYXV0aGVudGljYXRlIjsKfSBlbHNlaWYgKCRzdGF0dXNDb2RlID09PSA0MDMpIHsKJG1lc3NhZ2UgPSAiVGhlICciIC4gJHVybCAuICInIFVSTCBjb3VsZCBub3QgYmUgYWNjZXNzZWQ6ICIgLiAkcmVhc29uOwp9IGVsc2UgewokbWVzc2FnZSA9ICJVbmtub3duIGVycm9yIGNvZGUgJyIgLiAkc3RhdHVzQ29kZSAuICInLCByZWFzb246ICIgLiAkcmVhc29uOwp9Cgp0aHJvdyBuZXcgVHJhbnNwb3J0RXhjZXB0aW9uKCRtZXNzYWdlLCAkc3RhdHVzQ29kZSk7Cn0KCmlmICgkdGhpcy0+aW8tPmhhc0F1dGhlbnRpY2F0aW9uKCRvcmlnaW4pKSB7CnRocm93IG5ldyBUcmFuc3BvcnRFeGNlcHRpb24oIkludmFsaWQgY3JlZGVudGlhbHMgZm9yICciIC4gJHVybCAuICInLCBhYm9ydGluZy4iLCAkc3RhdHVzQ29kZSk7Cn0KCiR0aGlzLT5pby0+d3JpdGVFcnJvcignICAgIEF1dGhlbnRpY2F0aW9uIHJlcXVpcmVkICg8aW5mbz4nLiRvcmlnaW4uJzwvaW5mbz4pOicpOwokdXNlcm5hbWUgPSAkdGhpcy0+aW8tPmFzaygnICAgICAgVXNlcm5hbWU6ICcpOwokcGFzc3dvcmQgPSAkdGhpcy0+aW8tPmFza0FuZEhpZGVBbnN3ZXIoJyAgICAgIFBhc3N3b3JkOiAnKTsKJHRoaXMtPmlvLT5zZXRBdXRoZW50aWNhdGlvbigkb3JpZ2luLCAkdXNlcm5hbWUsICRwYXNzd29yZCk7CiRzdG9yZUF1dGggPSAkdGhpcy0+Y29uZmlnLT5nZXQoJ3N0b3JlLWF1dGhzJyk7Cn0KCnJldHVybiBhcnJheSgncmV0cnknID0+IHRydWUsICdzdG9yZUF1dGgnID0+ICRzdG9yZUF1dGgpOwp9CgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gYWRkQXV0aGVudGljYXRpb25IZWFkZXIoYXJyYXkgJGhlYWRlcnMsICRvcmlnaW4sICR1cmwpCnsKaWYgKCR0aGlzLT5pby0+aGFzQXV0aGVudGljYXRpb24oJG9yaWdpbikpIHsKJGF1dGhlbnRpY2F0aW9uRGlzcGxheU1lc3NhZ2UgPSBudWxsOwokYXV0aCA9ICR0aGlzLT5pby0+Z2V0QXV0aGVudGljYXRpb24oJG9yaWdpbik7CmlmICgkYXV0aFsncGFzc3dvcmQnXSA9PT0gJ2JlYXJlcicpIHsKJGhlYWRlcnNbXSA9ICdBdXRob3JpemF0aW9uOiBCZWFyZXIgJy4kYXV0aFsndXNlcm5hbWUnXTsKfSBlbHNlaWYgKCdnaXRodWIuY29tJyA9PT0gJG9yaWdpbiAmJiAneC1vYXV0aC1iYXNpYycgPT09ICRhdXRoWydwYXNzd29yZCddKSB7CgppZiAocHJlZ19tYXRjaCgne15odHRwcz86Ly9hcGlcLmdpdGh1YlwuY29tL30nLCAkdXJsKSkgewokaGVhZGVyc1tdID0gJ0F1dGhvcml6YXRpb246IHRva2VuICcuJGF1dGhbJ3VzZXJuYW1lJ107CiRhdXRoZW50aWNhdGlvbkRpc3BsYXlNZXNzYWdlID0gJ1VzaW5nIEdpdEh1YiB0b2tlbiBhdXRoZW50aWNhdGlvbic7Cn0KfSBlbHNlaWYgKAppbl9hcnJheSgkb3JpZ2luLCAkdGhpcy0+Y29uZmlnLT5nZXQoJ2dpdGxhYi1kb21haW5zJyksIHRydWUpCiYmIGluX2FycmF5KCRhdXRoWydwYXNzd29yZCddLCBhcnJheSgnb2F1dGgyJywgJ3ByaXZhdGUtdG9rZW4nLCAnZ2l0bGFiLWNpLXRva2VuJyksIHRydWUpCikgewppZiAoJGF1dGhbJ3Bhc3N3b3JkJ10gPT09ICdvYXV0aDInKSB7CiRoZWFkZXJzW10gPSAnQXV0aG9yaXphdGlvbjogQmVhcmVyICcuJGF1dGhbJ3VzZXJuYW1lJ107CiRhdXRoZW50aWNhdGlvbkRpc3BsYXlNZXNzYWdlID0gJ1VzaW5nIEdpdExhYiBPQXV0aCB0b2tlbiBhdXRoZW50aWNhdGlvbic7Cn0gZWxzZSB7CiRoZWFkZXJzW10gPSAnUFJJVkFURS1UT0tFTjogJy4kYXV0aFsndXNlcm5hbWUnXTsKJGF1dGhlbnRpY2F0aW9uRGlzcGxheU1lc3NhZ2UgPSAnVXNpbmcgR2l0TGFiIHByaXZhdGUgdG9rZW4gYXV0aGVudGljYXRpb24nOwp9Cn0gZWxzZWlmICgKJ2JpdGJ1Y2tldC5vcmcnID09PSAkb3JpZ2luCiYmICR1cmwgIT09IEJpdGJ1Y2tldDo6T0FVVEgyX0FDQ0VTU19UT0tFTl9VUkwKJiYgJ3gtdG9rZW4tYXV0aCcgPT09ICRhdXRoWyd1c2VybmFtZSddCikgewppZiAoISR0aGlzLT5pc1B1YmxpY0JpdEJ1Y2tldERvd25sb2FkKCR1cmwpKSB7CiRoZWFkZXJzW10gPSAnQXV0aG9yaXphdGlvbjogQmVhcmVyICcgLiAkYXV0aFsncGFzc3dvcmQnXTsKJGF1dGhlbnRpY2F0aW9uRGlzcGxheU1lc3NhZ2UgPSAnVXNpbmcgQml0YnVja2V0IE9BdXRoIHRva2VuIGF1dGhlbnRpY2F0aW9uJzsKfQp9IGVsc2UgewokYXV0aFN0ciA9IGJhc2U2NF9lbmNvZGUoJGF1dGhbJ3VzZXJuYW1lJ10gLiAnOicgLiAkYXV0aFsncGFzc3dvcmQnXSk7CiRoZWFkZXJzW10gPSAnQXV0aG9yaXphdGlvbjogQmFzaWMgJy4kYXV0aFN0cjsKJGF1dGhlbnRpY2F0aW9uRGlzcGxheU1lc3NhZ2UgPSAnVXNpbmcgSFRUUCBiYXNpYyBhdXRoZW50aWNhdGlvbiB3aXRoIHVzZXJuYW1lICInIC4gJGF1dGhbJ3VzZXJuYW1lJ10gLiAnIic7Cn0KCmlmICgkYXV0aGVudGljYXRpb25EaXNwbGF5TWVzc2FnZSAmJiAoIWlzc2V0KCR0aGlzLT5kaXNwbGF5ZWRPcmlnaW5BdXRoZW50aWNhdGlvbnNbJG9yaWdpbl0pIHx8ICR0aGlzLT5kaXNwbGF5ZWRPcmlnaW5BdXRoZW50aWNhdGlvbnNbJG9yaWdpbl0gIT09ICRhdXRoZW50aWNhdGlvbkRpc3BsYXlNZXNzYWdlKSkgewokdGhpcy0+aW8tPndyaXRlRXJyb3IoJGF1dGhlbnRpY2F0aW9uRGlzcGxheU1lc3NhZ2UsIHRydWUsIElPSW50ZXJmYWNlOjpERUJVRyk7CiR0aGlzLT5kaXNwbGF5ZWRPcmlnaW5BdXRoZW50aWNhdGlvbnNbJG9yaWdpbl0gPSAkYXV0aGVudGljYXRpb25EaXNwbGF5TWVzc2FnZTsKfQp9IGVsc2VpZiAoaW5fYXJyYXkoJG9yaWdpbiwgYXJyYXkoJ2FwaS5iaXRidWNrZXQub3JnJywgJ2FwaS5naXRodWIuY29tJyksIHRydWUpKSB7CnJldHVybiAkdGhpcy0+YWRkQXV0aGVudGljYXRpb25IZWFkZXIoJGhlYWRlcnMsIHN0cl9yZXBsYWNlKCdhcGkuJywgJycsICRvcmlnaW4pLCAkdXJsKTsKfQoKcmV0dXJuICRoZWFkZXJzOwp9CgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIGlzUHVibGljQml0QnVja2V0RG93bmxvYWQoJHVybFRvQml0QnVja2V0RmlsZSkKewokZG9tYWluID0gcGFyc2VfdXJsKCR1cmxUb0JpdEJ1Y2tldEZpbGUsIFBIUF9VUkxfSE9TVCk7CmlmIChzdHJwb3MoJGRvbWFpbiwgJ2JpdGJ1Y2tldC5vcmcnKSA9PT0gZmFsc2UpIHsKCgpyZXR1cm4gdHJ1ZTsKfQoKJHBhdGggPSBwYXJzZV91cmwoJHVybFRvQml0QnVja2V0RmlsZSwgUEhQX1VSTF9QQVRIKTsKCgoKJHBhdGhQYXJ0cyA9IGV4cGxvZGUoJy8nLCAkcGF0aCk7CgpyZXR1cm4gY291bnQoJHBhdGhQYXJ0cykgPj0gNCAmJiAkcGF0aFBhcnRzWzNdID09ICdkb3dubG9hZHMnOwp9Cn0KPD9waHAKCgoKCgoKCgoKCgpuYW1lc3BhY2UgQ29tcG9zZXJcVXRpbDsKCnVzZSBDb21wb3NlclxGYWN0b3J5Owp1c2UgQ29tcG9zZXJcSU9cSU9JbnRlcmZhY2U7CnVzZSBDb21wb3NlclxDb25maWc7CnVzZSBDb21wb3NlclxEb3dubG9hZGVyXFRyYW5zcG9ydEV4Y2VwdGlvbjsKCgoKCmNsYXNzIEJpdGJ1Y2tldAp7Cgpwcml2YXRlICRpbzsKCnByaXZhdGUgJGNvbmZpZzsKCnByaXZhdGUgJHByb2Nlc3M7Cgpwcml2YXRlICRodHRwRG93bmxvYWRlcjsKCnByaXZhdGUgJHRva2VuID0gbnVsbDsKCnByaXZhdGUgJHRpbWU7Cgpjb25zdCBPQVVUSDJfQUNDRVNTX1RPS0VOX1VSTCA9ICdodHRwczovL2JpdGJ1Y2tldC5vcmcvc2l0ZS9vYXV0aDIvYWNjZXNzX3Rva2VuJzsKCgoKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBfX2NvbnN0cnVjdChJT0ludGVyZmFjZSAkaW8sIENvbmZpZyAkY29uZmlnLCBQcm9jZXNzRXhlY3V0b3IgJHByb2Nlc3MgPSBudWxsLCBIdHRwRG93bmxvYWRlciAkaHR0cERvd25sb2FkZXIgPSBudWxsLCAkdGltZSA9IG51bGwpCnsKJHRoaXMtPmlvID0gJGlvOwokdGhpcy0+Y29uZmlnID0gJGNvbmZpZzsKJHRoaXMtPnByb2Nlc3MgPSAkcHJvY2VzcyA/OiBuZXcgUHJvY2Vzc0V4ZWN1dG9yKCRpbyk7CiR0aGlzLT5odHRwRG93bmxvYWRlciA9ICRodHRwRG93bmxvYWRlciA/OiBGYWN0b3J5OjpjcmVhdGVIdHRwRG93bmxvYWRlcigkdGhpcy0+aW8sICRjb25maWcpOwokdGhpcy0+dGltZSA9ICR0aW1lOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0VG9rZW4oKQp7CmlmICghaXNzZXQoJHRoaXMtPnRva2VuWydhY2Nlc3NfdG9rZW4nXSkpIHsKcmV0dXJuICcnOwp9CgpyZXR1cm4gJHRoaXMtPnRva2VuWydhY2Nlc3NfdG9rZW4nXTsKfQoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIGF1dGhvcml6ZU9BdXRoKCRvcmlnaW5VcmwpCnsKaWYgKCRvcmlnaW5VcmwgIT09ICdiaXRidWNrZXQub3JnJykgewpyZXR1cm4gZmFsc2U7Cn0KCgppZiAoMCA9PT0gJHRoaXMtPnByb2Nlc3MtPmV4ZWN1dGUoJ2dpdCBjb25maWcgYml0YnVja2V0LmFjY2Vzc3Rva2VuJywgJG91dHB1dCkpIHsKJHRoaXMtPmlvLT5zZXRBdXRoZW50aWNhdGlvbigkb3JpZ2luVXJsLCAneC10b2tlbi1hdXRoJywgdHJpbSgkb3V0cHV0KSk7CgpyZXR1cm4gdHJ1ZTsKfQoKcmV0dXJuIGZhbHNlOwp9CgoKCgpwcml2YXRlIGZ1bmN0aW9uIHJlcXVlc3RBY2Nlc3NUb2tlbigpCnsKdHJ5IHsKJHJlc3BvbnNlID0gJHRoaXMtPmh0dHBEb3dubG9hZGVyLT5nZXQoc2VsZjo6T0FVVEgyX0FDQ0VTU19UT0tFTl9VUkwsIGFycmF5KAoncmV0cnktYXV0aC1mYWlsdXJlJyA9PiBmYWxzZSwKJ2h0dHAnID0+IGFycmF5KAonbWV0aG9kJyA9PiAnUE9TVCcsCidjb250ZW50JyA9PiAnZ3JhbnRfdHlwZT1jbGllbnRfY3JlZGVudGlhbHMnLAopLAopKTsKCiR0b2tlbiA9ICRyZXNwb25zZS0+ZGVjb2RlSnNvbigpOwppZiAoIWlzc2V0KCR0b2tlblsnZXhwaXJlc19pbiddKSB8fCAhaXNzZXQoJHRva2VuWydhY2Nlc3NfdG9rZW4nXSkpIHsKdGhyb3cgbmV3IFxMb2dpY0V4Y2VwdGlvbignRXhwZWN0ZWQgYSB0b2tlbiBjb25maWd1cmVkIHdpdGggZXhwaXJlc19pbiBhbmQgYWNjZXNzX3Rva2VuIHByZXNlbnQsIGdvdCAnLmpzb25fZW5jb2RlKCR0b2tlbikpOwp9CgokdGhpcy0+dG9rZW4gPSAkdG9rZW47Cn0gY2F0Y2ggKFRyYW5zcG9ydEV4Y2VwdGlvbiAkZSkgewppZiAoJGUtPmdldENvZGUoKSA9PT0gNDAwKSB7CiR0aGlzLT5pby0+d3JpdGVFcnJvcignPGVycm9yPkludmFsaWQgT0F1dGggY29uc3VtZXIgcHJvdmlkZWQuPC9lcnJvcj4nKTsKJHRoaXMtPmlvLT53cml0ZUVycm9yKCdUaGlzIGNhbiBoYXZlIHR3byByZWFzb25zOicpOwokdGhpcy0+aW8tPndyaXRlRXJyb3IoJzEuIFlvdSBhcmUgYXV0aGVudGljYXRpbmcgd2l0aCBhIGJpdGJ1Y2tldCB1c2VybmFtZS9wYXNzd29yZCBjb21iaW5hdGlvbicpOwokdGhpcy0+aW8tPndyaXRlRXJyb3IoJzIuIFlvdSBhcmUgdXNpbmcgYW4gT0F1dGggY29uc3VtZXIsIGJ1dCBkaWRuXCd0IGNvbmZpZ3VyZSBhIChkdW1teSkgY2FsbGJhY2sgdXJsJyk7CgpyZXR1cm4gZmFsc2U7Cn0KaWYgKGluX2FycmF5KCRlLT5nZXRDb2RlKCksIGFycmF5KDQwMywgNDAxKSkpIHsKJHRoaXMtPmlvLT53cml0ZUVycm9yKCc8ZXJyb3I+SW52YWxpZCBPQXV0aCBjb25zdW1lciBwcm92aWRlZC48L2Vycm9yPicpOwokdGhpcy0+aW8tPndyaXRlRXJyb3IoJ1lvdSBjYW4gYWxzbyBhZGQgaXQgbWFudWFsbHkgbGF0ZXIgYnkgdXNpbmcgImNvbXBvc2VyIGNvbmZpZyAtLWdsb2JhbCAtLWF1dGggYml0YnVja2V0LW9hdXRoLmJpdGJ1Y2tldC5vcmcgPGNvbnN1bWVyLWtleT4gPGNvbnN1bWVyLXNlY3JldD4iJyk7CgpyZXR1cm4gZmFsc2U7Cn0KCnRocm93ICRlOwp9CgpyZXR1cm4gdHJ1ZTsKfQoKCgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIGF1dGhvcml6ZU9BdXRoSW50ZXJhY3RpdmVseSgkb3JpZ2luVXJsLCAkbWVzc2FnZSA9IG51bGwpCnsKaWYgKCRtZXNzYWdlKSB7CiR0aGlzLT5pby0+d3JpdGVFcnJvcigkbWVzc2FnZSk7Cn0KCiR1cmwgPSAnaHR0cHM6Ly9zdXBwb3J0LmF0bGFzc2lhbi5jb20vYml0YnVja2V0LWNsb3VkL2RvY3MvdXNlLW9hdXRoLW9uLWJpdGJ1Y2tldC1jbG91ZC8nOwokdGhpcy0+aW8tPndyaXRlRXJyb3Ioc3ByaW50ZignRm9sbG93IHRoZSBpbnN0cnVjdGlvbnMgb24gJXMnLCAkdXJsKSk7CiR0aGlzLT5pby0+d3JpdGVFcnJvcihzcHJpbnRmKCd0byBjcmVhdGUgYSBjb25zdW1lci4gSXQgd2lsbCBiZSBzdG9yZWQgaW4gIiVzIiBmb3IgZnV0dXJlIHVzZSBieSBDb21wb3Nlci4nLCAkdGhpcy0+Y29uZmlnLT5nZXRBdXRoQ29uZmlnU291cmNlKCktPmdldE5hbWUoKSkpOwokdGhpcy0+aW8tPndyaXRlRXJyb3IoJ0Vuc3VyZSB5b3UgZW50ZXIgYSAiQ2FsbGJhY2sgVVJMIiAoaHR0cDovL2V4YW1wbGUuY29tIGlzIGZpbmUpIG9yIGl0IHdpbGwgbm90IGJlIHBvc3NpYmxlIHRvIGNyZWF0ZSBhbiBBY2Nlc3MgVG9rZW4gKHRoaXMgY2FsbGJhY2sgdXJsIHdpbGwgbm90IGJlIHVzZWQgYnkgY29tcG9zZXIpJyk7CgokY29uc3VtZXJLZXkgPSB0cmltKCR0aGlzLT5pby0+YXNrQW5kSGlkZUFuc3dlcignQ29uc3VtZXIgS2V5IChoaWRkZW4pOiAnKSk7CgppZiAoISRjb25zdW1lcktleSkgewokdGhpcy0+aW8tPndyaXRlRXJyb3IoJzx3YXJuaW5nPk5vIGNvbnN1bWVyIGtleSBnaXZlbiwgYWJvcnRpbmcuPC93YXJuaW5nPicpOwokdGhpcy0+aW8tPndyaXRlRXJyb3IoJ1lvdSBjYW4gYWxzbyBhZGQgaXQgbWFudWFsbHkgbGF0ZXIgYnkgdXNpbmcgImNvbXBvc2VyIGNvbmZpZyAtLWdsb2JhbCAtLWF1dGggYml0YnVja2V0LW9hdXRoLmJpdGJ1Y2tldC5vcmcgPGNvbnN1bWVyLWtleT4gPGNvbnN1bWVyLXNlY3JldD4iJyk7CgpyZXR1cm4gZmFsc2U7Cn0KCiRjb25zdW1lclNlY3JldCA9IHRyaW0oJHRoaXMtPmlvLT5hc2tBbmRIaWRlQW5zd2VyKCdDb25zdW1lciBTZWNyZXQgKGhpZGRlbik6ICcpKTsKCmlmICghJGNvbnN1bWVyU2VjcmV0KSB7CiR0aGlzLT5pby0+d3JpdGVFcnJvcignPHdhcm5pbmc+Tm8gY29uc3VtZXIgc2VjcmV0IGdpdmVuLCBhYm9ydGluZy48L3dhcm5pbmc+Jyk7CiR0aGlzLT5pby0+d3JpdGVFcnJvcignWW91IGNhbiBhbHNvIGFkZCBpdCBtYW51YWxseSBsYXRlciBieSB1c2luZyAiY29tcG9zZXIgY29uZmlnIC0tZ2xvYmFsIC0tYXV0aCBiaXRidWNrZXQtb2F1dGguYml0YnVja2V0Lm9yZyA8Y29uc3VtZXIta2V5PiA8Y29uc3VtZXItc2VjcmV0PiInKTsKCnJldHVybiBmYWxzZTsKfQoKJHRoaXMtPmlvLT5zZXRBdXRoZW50aWNhdGlvbigkb3JpZ2luVXJsLCAkY29uc3VtZXJLZXksICRjb25zdW1lclNlY3JldCk7CgppZiAoISR0aGlzLT5yZXF1ZXN0QWNjZXNzVG9rZW4oKSkgewpyZXR1cm4gZmFsc2U7Cn0KCgokdGhpcy0+c3RvcmVJbkF1dGhDb25maWcoJG9yaWdpblVybCwgJGNvbnN1bWVyS2V5LCAkY29uc3VtZXJTZWNyZXQpOwoKCiR0aGlzLT5jb25maWctPmdldEF1dGhDb25maWdTb3VyY2UoKS0+cmVtb3ZlQ29uZmlnU2V0dGluZygnaHR0cC1iYXNpYy4nIC4gJG9yaWdpblVybCk7CgokdGhpcy0+aW8tPndyaXRlRXJyb3IoJzxpbmZvPkNvbnN1bWVyIHN0b3JlZCBzdWNjZXNzZnVsbHkuPC9pbmZvPicpOwoKcmV0dXJuIHRydWU7Cn0KCgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIHJlcXVlc3RUb2tlbigkb3JpZ2luVXJsLCAkY29uc3VtZXJLZXksICRjb25zdW1lclNlY3JldCkKewppZiAoJHRoaXMtPnRva2VuICE9PSBudWxsIHx8ICR0aGlzLT5nZXRUb2tlbkZyb21Db25maWcoJG9yaWdpblVybCkpIHsKcmV0dXJuICR0aGlzLT50b2tlblsnYWNjZXNzX3Rva2VuJ107Cn0KCiR0aGlzLT5pby0+c2V0QXV0aGVudGljYXRpb24oJG9yaWdpblVybCwgJGNvbnN1bWVyS2V5LCAkY29uc3VtZXJTZWNyZXQpOwppZiAoISR0aGlzLT5yZXF1ZXN0QWNjZXNzVG9rZW4oKSkgewpyZXR1cm4gJyc7Cn0KCiR0aGlzLT5zdG9yZUluQXV0aENvbmZpZygkb3JpZ2luVXJsLCAkY29uc3VtZXJLZXksICRjb25zdW1lclNlY3JldCk7CgppZiAoIWlzc2V0KCR0aGlzLT50b2tlblsnYWNjZXNzX3Rva2VuJ10pKSB7CnRocm93IG5ldyBcTG9naWNFeGNlcHRpb24oJ0ZhaWxlZCB0byBpbml0aWFsaXplIHRva2VuIGFib3ZlJyk7Cn0KCgoKcmV0dXJuICR0aGlzLT50b2tlblsnYWNjZXNzX3Rva2VuJ107Cn0KCgoKCgoKCnByaXZhdGUgZnVuY3Rpb24gc3RvcmVJbkF1dGhDb25maWcoJG9yaWdpblVybCwgJGNvbnN1bWVyS2V5LCAkY29uc3VtZXJTZWNyZXQpCnsKJHRoaXMtPmNvbmZpZy0+Z2V0Q29uZmlnU291cmNlKCktPnJlbW92ZUNvbmZpZ1NldHRpbmcoJ2JpdGJ1Y2tldC1vYXV0aC4nLiRvcmlnaW5VcmwpOwoKaWYgKG51bGwgPT09ICR0aGlzLT50b2tlbiB8fCAhaXNzZXQoJHRoaXMtPnRva2VuWydleHBpcmVzX2luJ10pKSB7CnRocm93IG5ldyBcTG9naWNFeGNlcHRpb24oJ0V4cGVjdGVkIGEgdG9rZW4gY29uZmlndXJlZCB3aXRoIGV4cGlyZXNfaW4gcHJlc2VudCwgZ290ICcuanNvbl9lbmNvZGUoJHRoaXMtPnRva2VuKSk7Cn0KCiR0aW1lID0gbnVsbCA9PT0gJHRoaXMtPnRpbWUgPyB0aW1lKCkgOiAkdGhpcy0+dGltZTsKJGNvbnN1bWVyID0gYXJyYXkoCiJjb25zdW1lci1rZXkiID0+ICRjb25zdW1lcktleSwKImNvbnN1bWVyLXNlY3JldCIgPT4gJGNvbnN1bWVyU2VjcmV0LAoiYWNjZXNzLXRva2VuIiA9PiAkdGhpcy0+dG9rZW5bJ2FjY2Vzc190b2tlbiddLAoiYWNjZXNzLXRva2VuLWV4cGlyYXRpb24iID0+ICR0aW1lICsgJHRoaXMtPnRva2VuWydleHBpcmVzX2luJ10sCik7CgokdGhpcy0+Y29uZmlnLT5nZXRBdXRoQ29uZmlnU291cmNlKCktPmFkZENvbmZpZ1NldHRpbmcoJ2JpdGJ1Y2tldC1vYXV0aC4nLiRvcmlnaW5VcmwsICRjb25zdW1lcik7Cn0KCgoKCgpwcml2YXRlIGZ1bmN0aW9uIGdldFRva2VuRnJvbUNvbmZpZygkb3JpZ2luVXJsKQp7CiRhdXRoQ29uZmlnID0gJHRoaXMtPmNvbmZpZy0+Z2V0KCdiaXRidWNrZXQtb2F1dGgnKTsKCmlmICgKIWlzc2V0KCRhdXRoQ29uZmlnWyRvcmlnaW5VcmxdWydhY2Nlc3MtdG9rZW4nXSwgJGF1dGhDb25maWdbJG9yaWdpblVybF1bJ2FjY2Vzcy10b2tlbi1leHBpcmF0aW9uJ10pCnx8IHRpbWUoKSA+ICRhdXRoQ29uZmlnWyRvcmlnaW5VcmxdWydhY2Nlc3MtdG9rZW4tZXhwaXJhdGlvbiddCikgewpyZXR1cm4gZmFsc2U7Cn0KCiR0aGlzLT50b2tlbiA9IGFycmF5KAonYWNjZXNzX3Rva2VuJyA9PiAkYXV0aENvbmZpZ1skb3JpZ2luVXJsXVsnYWNjZXNzLXRva2VuJ10sCik7CgpyZXR1cm4gdHJ1ZTsKfQp9Cjw/cGhwCgoKCgoKCgoKCgoKbmFtZXNwYWNlIENvbXBvc2VyXFV0aWw7CgoKCgoKCmNsYXNzIENvbXBvc2VyTWlycm9yCnsKcHVibGljIHN0YXRpYyBmdW5jdGlvbiBwcm9jZXNzVXJsKCRtaXJyb3JVcmwsICRwYWNrYWdlTmFtZSwgJHZlcnNpb24sICRyZWZlcmVuY2UsICR0eXBlLCAkcHJldHR5VmVyc2lvbiA9IG51bGwpCnsKaWYgKCRyZWZlcmVuY2UpIHsKJHJlZmVyZW5jZSA9IHByZWdfbWF0Y2goJ3teKFthLWYwLTldKnwlcmVmZXJlbmNlJSkkfScsICRyZWZlcmVuY2UpID8gJHJlZmVyZW5jZSA6IG1kNSgkcmVmZXJlbmNlKTsKfQokdmVyc2lvbiA9IHN0cnBvcygkdmVyc2lvbiwgJy8nKSA9PT0gZmFsc2UgPyAkdmVyc2lvbiA6IG1kNSgkdmVyc2lvbik7CgokZnJvbSA9IGFycmF5KCclcGFja2FnZSUnLCAnJXZlcnNpb24lJywgJyVyZWZlcmVuY2UlJywgJyV0eXBlJScpOwokdG8gPSBhcnJheSgkcGFja2FnZU5hbWUsICR2ZXJzaW9uLCAkcmVmZXJlbmNlLCAkdHlwZSk7CmlmIChudWxsICE9PSAkcHJldHR5VmVyc2lvbikgewokZnJvbVtdID0gJyVwcmV0dHlWZXJzaW9uJSc7CiR0b1tdID0gJHByZXR0eVZlcnNpb247Cn0KCnJldHVybiBzdHJfcmVwbGFjZSgkZnJvbSwgJHRvLCAkbWlycm9yVXJsKTsKfQoKcHVibGljIHN0YXRpYyBmdW5jdGlvbiBwcm9jZXNzR2l0VXJsKCRtaXJyb3JVcmwsICRwYWNrYWdlTmFtZSwgJHVybCwgJHR5cGUpCnsKaWYgKHByZWdfbWF0Y2goJyNeKD86KD86aHR0cHM/fGdpdCk6Ly9naXRodWJcLmNvbS98Z2l0QGdpdGh1YlwuY29tOikoW14vXSspLyguKz8pKD86XC5naXQpPyQjJywgJHVybCwgJG1hdGNoKSkgewokdXJsID0gJ2doLScuJG1hdGNoWzFdLicvJy4kbWF0Y2hbMl07Cn0gZWxzZWlmIChwcmVnX21hdGNoKCcjXmh0dHBzOi8vYml0YnVja2V0XC5vcmcvKFteL10rKS8oLis/KSg/OlwuZ2l0KT8vPyQjJywgJHVybCwgJG1hdGNoKSkgewokdXJsID0gJ2JiLScuJG1hdGNoWzFdLicvJy4kbWF0Y2hbMl07Cn0gZWxzZSB7CiR1cmwgPSBwcmVnX3JlcGxhY2UoJ3tbXmEtejAtOV8uLV19aScsICctJywgdHJpbSgkdXJsLCAnLycpKTsKfQoKcmV0dXJuIHN0cl9yZXBsYWNlKAphcnJheSgnJXBhY2thZ2UlJywgJyVub3JtYWxpemVkVXJsJScsICcldHlwZSUnKSwKYXJyYXkoJHBhY2thZ2VOYW1lLCAkdXJsLCAkdHlwZSksCiRtaXJyb3JVcmwKKTsKfQoKcHVibGljIHN0YXRpYyBmdW5jdGlvbiBwcm9jZXNzSGdVcmwoJG1pcnJvclVybCwgJHBhY2thZ2VOYW1lLCAkdXJsLCAkdHlwZSkKewpyZXR1cm4gc2VsZjo6cHJvY2Vzc0dpdFVybCgkbWlycm9yVXJsLCAkcGFja2FnZU5hbWUsICR1cmwsICR0eXBlKTsKfQp9Cjw/cGhwCgoKCgoKCgoKCgoKbmFtZXNwYWNlIENvbXBvc2VyXFV0aWw7Cgp1c2UgQ29tcG9zZXJcUGFja2FnZVxMb2FkZXJcQXJyYXlMb2FkZXI7CnVzZSBDb21wb3NlclxQYWNrYWdlXExvYWRlclxWYWxpZGF0aW5nQXJyYXlMb2FkZXI7CnVzZSBDb21wb3NlclxQYWNrYWdlXExvYWRlclxJbnZhbGlkUGFja2FnZUV4Y2VwdGlvbjsKdXNlIENvbXBvc2VyXEpzb25cSnNvblZhbGlkYXRpb25FeGNlcHRpb247CnVzZSBDb21wb3NlclxJT1xJT0ludGVyZmFjZTsKdXNlIENvbXBvc2VyXEpzb25cSnNvbkZpbGU7CnVzZSBDb21wb3NlclxTcGR4XFNwZHhMaWNlbnNlczsKCgoKCgoKCmNsYXNzIENvbmZpZ1ZhbGlkYXRvcgp7CmNvbnN0IENIRUNLX1ZFUlNJT04gPSAxOwoKcHJpdmF0ZSAkaW87CgpwdWJsaWMgZnVuY3Rpb24gX19jb25zdHJ1Y3QoSU9JbnRlcmZhY2UgJGlvKQp7CiR0aGlzLT5pbyA9ICRpbzsKfQoKCgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIHZhbGlkYXRlKCRmaWxlLCAkYXJyYXlMb2FkZXJWYWxpZGF0aW9uRmxhZ3MgPSBWYWxpZGF0aW5nQXJyYXlMb2FkZXI6OkNIRUNLX0FMTCwgJGZsYWdzID0gc2VsZjo6Q0hFQ0tfVkVSU0lPTikKewokZXJyb3JzID0gYXJyYXkoKTsKJHB1Ymxpc2hFcnJvcnMgPSBhcnJheSgpOwokd2FybmluZ3MgPSBhcnJheSgpOwoKCiRsYXhWYWxpZCA9IGZhbHNlOwp0cnkgewokanNvbiA9IG5ldyBKc29uRmlsZSgkZmlsZSwgbnVsbCwgJHRoaXMtPmlvKTsKJG1hbmlmZXN0ID0gJGpzb24tPnJlYWQoKTsKCiRqc29uLT52YWxpZGF0ZVNjaGVtYShKc29uRmlsZTo6TEFYX1NDSEVNQSk7CiRsYXhWYWxpZCA9IHRydWU7CiRqc29uLT52YWxpZGF0ZVNjaGVtYSgpOwp9IGNhdGNoIChKc29uVmFsaWRhdGlvbkV4Y2VwdGlvbiAkZSkgewpmb3JlYWNoICgkZS0+Z2V0RXJyb3JzKCkgYXMgJG1lc3NhZ2UpIHsKaWYgKCRsYXhWYWxpZCkgewokcHVibGlzaEVycm9yc1tdID0gJG1lc3NhZ2U7Cn0gZWxzZSB7CiRlcnJvcnNbXSA9ICRtZXNzYWdlOwp9Cn0KfSBjYXRjaCAoXEV4Y2VwdGlvbiAkZSkgewokZXJyb3JzW10gPSAkZS0+Z2V0TWVzc2FnZSgpOwoKcmV0dXJuIGFycmF5KCRlcnJvcnMsICRwdWJsaXNoRXJyb3JzLCAkd2FybmluZ3MpOwp9CgoKaWYgKGVtcHR5KCRtYW5pZmVzdFsnbGljZW5zZSddKSkgewokd2FybmluZ3NbXSA9ICdObyBsaWNlbnNlIHNwZWNpZmllZCwgaXQgaXMgcmVjb21tZW5kZWQgdG8gZG8gc28uIEZvciBjbG9zZWQtc291cmNlIHNvZnR3YXJlIHlvdSBtYXkgdXNlICJwcm9wcmlldGFyeSIgYXMgbGljZW5zZS4nOwp9IGVsc2UgewokbGljZW5zZXMgPSAoYXJyYXkpICRtYW5pZmVzdFsnbGljZW5zZSddOwoKCmZvcmVhY2ggKCRsaWNlbnNlcyBhcyAka2V5ID0+ICRsaWNlbnNlKSB7CmlmICgncHJvcHJpZXRhcnknID09PSAkbGljZW5zZSkgewp1bnNldCgkbGljZW5zZXNbJGtleV0pOwp9Cn0KCiRsaWNlbnNlVmFsaWRhdG9yID0gbmV3IFNwZHhMaWNlbnNlcygpOwpmb3JlYWNoICgkbGljZW5zZXMgYXMgJGxpY2Vuc2UpIHsKJHNwZHhMaWNlbnNlID0gJGxpY2Vuc2VWYWxpZGF0b3ItPmdldExpY2Vuc2VCeUlkZW50aWZpZXIoJGxpY2Vuc2UpOwppZiAoJHNwZHhMaWNlbnNlICYmICRzcGR4TGljZW5zZVszXSkgewppZiAocHJlZ19tYXRjaCgne15bQUxdP0dQTC1bMTIzXShcLlswMV0pP1wrJH1pJywgJGxpY2Vuc2UpKSB7CiR3YXJuaW5nc1tdID0gc3ByaW50ZigKJ0xpY2Vuc2UgIiVzIiBpcyBhIGRlcHJlY2F0ZWQgU1BEWCBsaWNlbnNlIGlkZW50aWZpZXIsIHVzZSAiJy5zdHJfcmVwbGFjZSgnKycsICcnLCAkbGljZW5zZSkuJy1vci1sYXRlciIgaW5zdGVhZCcsCiRsaWNlbnNlCik7Cn0gZWxzZWlmIChwcmVnX21hdGNoKCd7XltBTF0/R1BMLVsxMjNdKFwuWzAxXSk/JH1pJywgJGxpY2Vuc2UpKSB7CiR3YXJuaW5nc1tdID0gc3ByaW50ZigKJ0xpY2Vuc2UgIiVzIiBpcyBhIGRlcHJlY2F0ZWQgU1BEWCBsaWNlbnNlIGlkZW50aWZpZXIsIHVzZSAiJy4kbGljZW5zZS4nLW9ubHkiIG9yICInLiRsaWNlbnNlLictb3ItbGF0ZXIiIGluc3RlYWQnLAokbGljZW5zZQopOwp9IGVsc2Ugewokd2FybmluZ3NbXSA9IHNwcmludGYoCidMaWNlbnNlICIlcyIgaXMgYSBkZXByZWNhdGVkIFNQRFggbGljZW5zZSBpZGVudGlmaWVyLCBzZWUgaHR0cHM6Ly9zcGR4Lm9yZy9saWNlbnNlcy8nLAokbGljZW5zZQopOwp9Cn0KfQp9CgppZiAoKCRmbGFncyAmIHNlbGY6OkNIRUNLX1ZFUlNJT04pICYmIGlzc2V0KCRtYW5pZmVzdFsndmVyc2lvbiddKSkgewokd2FybmluZ3NbXSA9ICdUaGUgdmVyc2lvbiBmaWVsZCBpcyBwcmVzZW50LCBpdCBpcyByZWNvbW1lbmRlZCB0byBsZWF2ZSBpdCBvdXQgaWYgdGhlIHBhY2thZ2UgaXMgcHVibGlzaGVkIG9uIFBhY2thZ2lzdC4nOwp9CgppZiAoIWVtcHR5KCRtYW5pZmVzdFsnbmFtZSddKSAmJiBwcmVnX21hdGNoKCd7W0EtWl19JywgJG1hbmlmZXN0WyduYW1lJ10pKSB7CiRzdWdnZXN0TmFtZSA9IHByZWdfcmVwbGFjZSgneyg/OihbYS16XSkoW0EtWl0pfChbQS1aXSkoW0EtWl1bYS16XSkpfScsICdcXDFcXDMtXFwyXFw0JywgJG1hbmlmZXN0WyduYW1lJ10pOwokc3VnZ2VzdE5hbWUgPSBzdHJ0b2xvd2VyKCRzdWdnZXN0TmFtZSk7CgokcHVibGlzaEVycm9yc1tdID0gc3ByaW50ZigKJ05hbWUgIiVzIiBkb2VzIG5vdCBtYXRjaCB0aGUgYmVzdCBwcmFjdGljZSAoZS5nLiBsb3dlci1jYXNlZC93aXRoLWRhc2hlcykuIFdlIHN1Z2dlc3QgdXNpbmcgIiVzIiBpbnN0ZWFkLiBBcyBzdWNoIHlvdSB3aWxsIG5vdCBiZSBhYmxlIHRvIHN1Ym1pdCBpdCB0byBQYWNrYWdpc3QuJywKJG1hbmlmZXN0WyduYW1lJ10sCiRzdWdnZXN0TmFtZQopOwp9CgppZiAoIWVtcHR5KCRtYW5pZmVzdFsndHlwZSddKSAmJiAkbWFuaWZlc3RbJ3R5cGUnXSA9PSAnY29tcG9zZXItaW5zdGFsbGVyJykgewokd2FybmluZ3NbXSA9ICJUaGUgcGFja2FnZSB0eXBlICdjb21wb3Nlci1pbnN0YWxsZXInIGlzIGRlcHJlY2F0ZWQuIFBsZWFzZSBkaXN0cmlidXRlIHlvdXIgY3VzdG9tIGluc3RhbGxlcnMgYXMgcGx1Z2lucyBmcm9tIG5vdyBvbi4gU2VlIGh0dHBzOi8vZ2V0Y29tcG9zZXIub3JnL2RvYy9hcnRpY2xlcy9wbHVnaW5zLm1kIGZvciBwbHVnaW4gZG9jdW1lbnRhdGlvbi4iOwp9CgoKaWYgKGlzc2V0KCRtYW5pZmVzdFsncmVxdWlyZSddLCAkbWFuaWZlc3RbJ3JlcXVpcmUtZGV2J10pKSB7CiRyZXF1aXJlT3ZlcnJpZGVzID0gYXJyYXlfaW50ZXJzZWN0X2tleSgkbWFuaWZlc3RbJ3JlcXVpcmUnXSwgJG1hbmlmZXN0WydyZXF1aXJlLWRldiddKTsKCmlmICghZW1wdHkoJHJlcXVpcmVPdmVycmlkZXMpKSB7CiRwbHVyYWwgPSAoY291bnQoJHJlcXVpcmVPdmVycmlkZXMpID4gMSkgPyAnYXJlJyA6ICdpcyc7CiR3YXJuaW5nc1tdID0gaW1wbG9kZSgnLCAnLCBhcnJheV9rZXlzKCRyZXF1aXJlT3ZlcnJpZGVzKSkuICIgeyRwbHVyYWx9IHJlcXVpcmVkIGJvdGggaW4gcmVxdWlyZSBhbmQgcmVxdWlyZS1kZXYsIHRoaXMgY2FuIGxlYWQgdG8gdW5leHBlY3RlZCBiZWhhdmlvciI7Cn0KfQoKCmZvcmVhY2ggKGFycmF5KCdwcm92aWRlJywgJ3JlcGxhY2UnKSBhcyAkbGlua1R5cGUpIHsKaWYgKGlzc2V0KCRtYW5pZmVzdFskbGlua1R5cGVdKSkgewpmb3JlYWNoIChhcnJheSgncmVxdWlyZScsICdyZXF1aXJlLWRldicpIGFzICRyZXF1aXJlVHlwZSkgewppZiAoaXNzZXQoJG1hbmlmZXN0WyRyZXF1aXJlVHlwZV0pKSB7CmZvcmVhY2ggKCRtYW5pZmVzdFskbGlua1R5cGVdIGFzICRwcm92aWRlID0+ICRjb25zdHJhaW50KSB7CmlmIChpc3NldCgkbWFuaWZlc3RbJHJlcXVpcmVUeXBlXVskcHJvdmlkZV0pKSB7CiR3YXJuaW5nc1tdID0gJ1RoZSBwYWNrYWdlICcgLiAkcHJvdmlkZSAuICcgaW4gJy4kcmVxdWlyZVR5cGUuJyBpcyBhbHNvIGxpc3RlZCBpbiAnLiRsaW5rVHlwZS4nIHdoaWNoIHNhdGlzZmllcyB0aGUgcmVxdWlyZW1lbnQuIFJlbW92ZSBpdCBmcm9tICcuJGxpbmtUeXBlLicgaWYgeW91IHdpc2ggdG8gaW5zdGFsbCBpdC4nOwp9Cn0KfQp9Cn0KfQoKCiRyZXF1aXJlID0gaXNzZXQoJG1hbmlmZXN0WydyZXF1aXJlJ10pID8gJG1hbmlmZXN0WydyZXF1aXJlJ10gOiBhcnJheSgpOwokcmVxdWlyZURldiA9IGlzc2V0KCRtYW5pZmVzdFsncmVxdWlyZS1kZXYnXSkgPyAkbWFuaWZlc3RbJ3JlcXVpcmUtZGV2J10gOiBhcnJheSgpOwokcGFja2FnZXMgPSBhcnJheV9tZXJnZSgkcmVxdWlyZSwgJHJlcXVpcmVEZXYpOwpmb3JlYWNoICgkcGFja2FnZXMgYXMgJHBhY2thZ2UgPT4gJHZlcnNpb24pIHsKaWYgKHByZWdfbWF0Y2goJy8jLycsICR2ZXJzaW9uKSA9PT0gMSkgewokd2FybmluZ3NbXSA9IHNwcmludGYoCidUaGUgcGFja2FnZSAiJXMiIGlzIHBvaW50aW5nIHRvIGEgY29tbWl0LXJlZiwgdGhpcyBpcyBiYWQgcHJhY3RpY2UgYW5kIGNhbiBjYXVzZSB1bmZvcmVzZWVuIGlzc3Vlcy4nLAokcGFja2FnZQopOwp9Cn0KCgokc2NyaXB0c0Rlc2NyaXB0aW9ucyA9IGlzc2V0KCRtYW5pZmVzdFsnc2NyaXB0cy1kZXNjcmlwdGlvbnMnXSkgPyAkbWFuaWZlc3RbJ3NjcmlwdHMtZGVzY3JpcHRpb25zJ10gOiBhcnJheSgpOwokc2NyaXB0cyA9IGlzc2V0KCRtYW5pZmVzdFsnc2NyaXB0cyddKSA/ICRtYW5pZmVzdFsnc2NyaXB0cyddIDogYXJyYXkoKTsKZm9yZWFjaCAoJHNjcmlwdHNEZXNjcmlwdGlvbnMgYXMgJHNjcmlwdE5hbWUgPT4gJHNjcmlwdERlc2NyaXB0aW9uKSB7CmlmICghYXJyYXlfa2V5X2V4aXN0cygkc2NyaXB0TmFtZSwgJHNjcmlwdHMpKSB7CiR3YXJuaW5nc1tdID0gc3ByaW50ZigKJ0Rlc2NyaXB0aW9uIGZvciBub24tZXhpc3RlbnQgc2NyaXB0ICIlcyIgZm91bmQgaW4gInNjcmlwdHMtZGVzY3JpcHRpb25zIicsCiRzY3JpcHROYW1lCik7Cn0KfQoKCmlmIChpc3NldCgkbWFuaWZlc3RbJ2F1dG9sb2FkJ11bJ3Bzci0wJ11bJyddKSkgewokd2FybmluZ3NbXSA9ICJEZWZpbmluZyBhdXRvbG9hZC5wc3ItMCB3aXRoIGFuIGVtcHR5IG5hbWVzcGFjZSBwcmVmaXggaXMgYSBiYWQgaWRlYSBmb3IgcGVyZm9ybWFuY2UiOwp9CmlmIChpc3NldCgkbWFuaWZlc3RbJ2F1dG9sb2FkJ11bJ3Bzci00J11bJyddKSkgewokd2FybmluZ3NbXSA9ICJEZWZpbmluZyBhdXRvbG9hZC5wc3ItNCB3aXRoIGFuIGVtcHR5IG5hbWVzcGFjZSBwcmVmaXggaXMgYSBiYWQgaWRlYSBmb3IgcGVyZm9ybWFuY2UiOwp9CgokbG9hZGVyID0gbmV3IFZhbGlkYXRpbmdBcnJheUxvYWRlcihuZXcgQXJyYXlMb2FkZXIoKSwgdHJ1ZSwgbnVsbCwgJGFycmF5TG9hZGVyVmFsaWRhdGlvbkZsYWdzKTsKdHJ5IHsKaWYgKCFpc3NldCgkbWFuaWZlc3RbJ3ZlcnNpb24nXSkpIHsKJG1hbmlmZXN0Wyd2ZXJzaW9uJ10gPSAnMS4wLjAnOwp9CmlmICghaXNzZXQoJG1hbmlmZXN0WyduYW1lJ10pKSB7CiRtYW5pZmVzdFsnbmFtZSddID0gJ2R1bW15L2R1bW15JzsKfQokbG9hZGVyLT5sb2FkKCRtYW5pZmVzdCk7Cn0gY2F0Y2ggKEludmFsaWRQYWNrYWdlRXhjZXB0aW9uICRlKSB7CiRlcnJvcnMgPSBhcnJheV9tZXJnZSgkZXJyb3JzLCAkZS0+Z2V0RXJyb3JzKCkpOwp9Cgokd2FybmluZ3MgPSBhcnJheV9tZXJnZSgkd2FybmluZ3MsICRsb2FkZXItPmdldFdhcm5pbmdzKCkpOwoKcmV0dXJuIGFycmF5KCRlcnJvcnMsICRwdWJsaXNoRXJyb3JzLCAkd2FybmluZ3MpOwp9Cn0KPD9waHAKCgoKCgoKCgoKCgpuYW1lc3BhY2UgQ29tcG9zZXJcVXRpbDsKCnVzZSBDb21wb3NlclxJT1xJT0ludGVyZmFjZTsKCgoKCgoKY2xhc3MgRXJyb3JIYW5kbGVyCnsKcHJpdmF0ZSBzdGF0aWMgJGlvOwoKCgoKCgoKCgoKCgoKcHVibGljIHN0YXRpYyBmdW5jdGlvbiBoYW5kbGUoJGxldmVsLCAkbWVzc2FnZSwgJGZpbGUsICRsaW5lKQp7CgppZiAoIShlcnJvcl9yZXBvcnRpbmcoKSAmICRsZXZlbCkpIHsKcmV0dXJuIHRydWU7Cn0KCmlmIChmaWx0ZXJfdmFyKGluaV9nZXQoJ3hkZWJ1Zy5zY3JlYW0nKSwgRklMVEVSX1ZBTElEQVRFX0JPT0xFQU4pKSB7CiRtZXNzYWdlIC49ICJcblxuV2FybmluZzogWW91IGhhdmUgeGRlYnVnLnNjcmVhbSBlbmFibGVkLCB0aGUgd2FybmluZyBhYm92ZSBtYXkgYmUiLgoiXG5hIGxlZ2l0aW1hdGVseSBzdXBwcmVzc2VkIGVycm9yIHRoYXQgeW91IHdlcmUgbm90IHN1cHBvc2VkIHRvIHNlZS4iOwp9CgppZiAoJGxldmVsICE9PSBFX0RFUFJFQ0FURUQgJiYgJGxldmVsICE9PSBFX1VTRVJfREVQUkVDQVRFRCkgewp0aHJvdyBuZXcgXEVycm9yRXhjZXB0aW9uKCRtZXNzYWdlLCAwLCAkbGV2ZWwsICRmaWxlLCAkbGluZSk7Cn0KCmlmIChzZWxmOjokaW8pIHsKc2VsZjo6JGlvLT53cml0ZUVycm9yKCc8d2FybmluZz5EZXByZWNhdGlvbiBOb3RpY2U6ICcuJG1lc3NhZ2UuJyBpbiAnLiRmaWxlLic6Jy4kbGluZS4nPC93YXJuaW5nPicpOwppZiAoc2VsZjo6JGlvLT5pc1ZlcmJvc2UoKSkgewpzZWxmOjokaW8tPndyaXRlRXJyb3IoJzx3YXJuaW5nPlN0YWNrIHRyYWNlOjwvd2FybmluZz4nKTsKc2VsZjo6JGlvLT53cml0ZUVycm9yKGFycmF5X2ZpbHRlcihhcnJheV9tYXAoZnVuY3Rpb24gKCRhKSB7CmlmIChpc3NldCgkYVsnbGluZSddLCAkYVsnZmlsZSddKSkgewpyZXR1cm4gJzx3YXJuaW5nPiAnLiRhWydmaWxlJ10uJzonLiRhWydsaW5lJ10uJzwvd2FybmluZz4nOwp9CgpyZXR1cm4gbnVsbDsKfSwgYXJyYXlfc2xpY2UoZGVidWdfYmFja3RyYWNlKCksIDIpKSkpOwp9Cn0KCnJldHVybiB0cnVlOwp9CgoKCgoKCnB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gcmVnaXN0ZXIoSU9JbnRlcmZhY2UgJGlvID0gbnVsbCkKewpzZXRfZXJyb3JfaGFuZGxlcihhcnJheShfX0NMQVNTX18sICdoYW5kbGUnKSk7CmVycm9yX3JlcG9ydGluZyhFX0FMTCB8IEVfU1RSSUNUKTsKc2VsZjo6JGlvID0gJGlvOwp9Cn0KPD9waHAKCgoKCgoKCgoKCgpuYW1lc3BhY2UgQ29tcG9zZXJcVXRpbDsKCnVzZSBSZWFjdFxQcm9taXNlXFByb21pc2VJbnRlcmZhY2U7CnVzZSBSZWN1cnNpdmVEaXJlY3RvcnlJdGVyYXRvcjsKdXNlIFJlY3Vyc2l2ZUl0ZXJhdG9ySXRlcmF0b3I7CnVzZSBTeW1mb255XENvbXBvbmVudFxGaWxlc3lzdGVtXEV4Y2VwdGlvblxJT0V4Y2VwdGlvbjsKdXNlIFN5bWZvbnlcQ29tcG9uZW50XEZpbmRlclxGaW5kZXI7CgoKCgoKY2xhc3MgRmlsZXN5c3RlbQp7Cgpwcml2YXRlICRwcm9jZXNzRXhlY3V0b3I7CgpwdWJsaWMgZnVuY3Rpb24gX19jb25zdHJ1Y3QoUHJvY2Vzc0V4ZWN1dG9yICRleGVjdXRvciA9IG51bGwpCnsKJHRoaXMtPnByb2Nlc3NFeGVjdXRvciA9ICRleGVjdXRvcjsKfQoKcHVibGljIGZ1bmN0aW9uIHJlbW92ZSgkZmlsZSkKewppZiAoaXNfZGlyKCRmaWxlKSkgewpyZXR1cm4gJHRoaXMtPnJlbW92ZURpcmVjdG9yeSgkZmlsZSk7Cn0KCmlmIChmaWxlX2V4aXN0cygkZmlsZSkpIHsKcmV0dXJuICR0aGlzLT51bmxpbmsoJGZpbGUpOwp9CgpyZXR1cm4gZmFsc2U7Cn0KCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBpc0RpckVtcHR5KCRkaXIpCnsKJGZpbmRlciA9IEZpbmRlcjo6Y3JlYXRlKCkKLT5pZ25vcmVWQ1MoZmFsc2UpCi0+aWdub3JlRG90RmlsZXMoZmFsc2UpCi0+ZGVwdGgoMCkKLT5pbigkZGlyKTsKCnJldHVybiBcY291bnQoJGZpbmRlcikgPT09IDA7Cn0KCnB1YmxpYyBmdW5jdGlvbiBlbXB0eURpcmVjdG9yeSgkZGlyLCAkZW5zdXJlRGlyZWN0b3J5RXhpc3RzID0gdHJ1ZSkKewppZiAoaXNfbGluaygkZGlyKSAmJiBmaWxlX2V4aXN0cygkZGlyKSkgewokdGhpcy0+dW5saW5rKCRkaXIpOwp9CgppZiAoJGVuc3VyZURpcmVjdG9yeUV4aXN0cykgewokdGhpcy0+ZW5zdXJlRGlyZWN0b3J5RXhpc3RzKCRkaXIpOwp9CgppZiAoaXNfZGlyKCRkaXIpKSB7CiRmaW5kZXIgPSBGaW5kZXI6OmNyZWF0ZSgpCi0+aWdub3JlVkNTKGZhbHNlKQotPmlnbm9yZURvdEZpbGVzKGZhbHNlKQotPmRlcHRoKDApCi0+aW4oJGRpcik7Cgpmb3JlYWNoICgkZmluZGVyIGFzICRwYXRoKSB7CiR0aGlzLT5yZW1vdmUoKHN0cmluZykgJHBhdGgpOwp9Cn0KfQoKCgoKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiByZW1vdmVEaXJlY3RvcnkoJGRpcmVjdG9yeSkKewokZWRnZUNhc2VSZXN1bHQgPSAkdGhpcy0+cmVtb3ZlRWRnZUNhc2VzKCRkaXJlY3RvcnkpOwppZiAoJGVkZ2VDYXNlUmVzdWx0ICE9PSBudWxsKSB7CnJldHVybiAkZWRnZUNhc2VSZXN1bHQ7Cn0KCmlmIChQbGF0Zm9ybTo6aXNXaW5kb3dzKCkpIHsKJGNtZCA9IHNwcmludGYoJ3JtZGlyIC9TIC9RICVzJywgUHJvY2Vzc0V4ZWN1dG9yOjplc2NhcGUocmVhbHBhdGgoJGRpcmVjdG9yeSkpKTsKfSBlbHNlIHsKJGNtZCA9IHNwcmludGYoJ3JtIC1yZiAlcycsIFByb2Nlc3NFeGVjdXRvcjo6ZXNjYXBlKCRkaXJlY3RvcnkpKTsKfQoKJHJlc3VsdCA9ICR0aGlzLT5nZXRQcm9jZXNzKCktPmV4ZWN1dGUoJGNtZCwgJG91dHB1dCkgPT09IDA7CgoKY2xlYXJzdGF0Y2FjaGUoKTsKCmlmICgkcmVzdWx0ICYmICFpc19kaXIoJGRpcmVjdG9yeSkpIHsKcmV0dXJuIHRydWU7Cn0KCnJldHVybiAkdGhpcy0+cmVtb3ZlRGlyZWN0b3J5UGhwKCRkaXJlY3RvcnkpOwp9CgoKCgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIHJlbW92ZURpcmVjdG9yeUFzeW5jKCRkaXJlY3RvcnkpCnsKJGVkZ2VDYXNlUmVzdWx0ID0gJHRoaXMtPnJlbW92ZUVkZ2VDYXNlcygkZGlyZWN0b3J5KTsKaWYgKCRlZGdlQ2FzZVJlc3VsdCAhPT0gbnVsbCkgewpyZXR1cm4gXFJlYWN0XFByb21pc2VccmVzb2x2ZSgkZWRnZUNhc2VSZXN1bHQpOwp9CgppZiAoUGxhdGZvcm06OmlzV2luZG93cygpKSB7CiRjbWQgPSBzcHJpbnRmKCdybWRpciAvUyAvUSAlcycsIFByb2Nlc3NFeGVjdXRvcjo6ZXNjYXBlKHJlYWxwYXRoKCRkaXJlY3RvcnkpKSk7Cn0gZWxzZSB7CiRjbWQgPSBzcHJpbnRmKCdybSAtcmYgJXMnLCBQcm9jZXNzRXhlY3V0b3I6OmVzY2FwZSgkZGlyZWN0b3J5KSk7Cn0KCiRwcm9taXNlID0gJHRoaXMtPmdldFByb2Nlc3MoKS0+ZXhlY3V0ZUFzeW5jKCRjbWQpOwoKJHNlbGYgPSAkdGhpczsKCnJldHVybiAkcHJvbWlzZS0+dGhlbihmdW5jdGlvbiAoJHByb2Nlc3MpIHVzZSAoJGRpcmVjdG9yeSwgJHNlbGYpIHsKCmNsZWFyc3RhdGNhY2hlKCk7CgppZiAoJHByb2Nlc3MtPmlzU3VjY2Vzc2Z1bCgpKSB7CmlmICghaXNfZGlyKCRkaXJlY3RvcnkpKSB7CnJldHVybiBcUmVhY3RcUHJvbWlzZVxyZXNvbHZlKHRydWUpOwp9Cn0KCnJldHVybiBcUmVhY3RcUHJvbWlzZVxyZXNvbHZlKCRzZWxmLT5yZW1vdmVEaXJlY3RvcnlQaHAoJGRpcmVjdG9yeSkpOwp9KTsKfQoKCgoKCgpwcml2YXRlIGZ1bmN0aW9uIHJlbW92ZUVkZ2VDYXNlcygkZGlyZWN0b3J5LCAkZmFsbGJhY2tUb1BocCA9IHRydWUpCnsKaWYgKCR0aGlzLT5pc1N5bWxpbmtlZERpcmVjdG9yeSgkZGlyZWN0b3J5KSkgewpyZXR1cm4gJHRoaXMtPnVubGlua1N5bWxpbmtlZERpcmVjdG9yeSgkZGlyZWN0b3J5KTsKfQoKaWYgKCR0aGlzLT5pc0p1bmN0aW9uKCRkaXJlY3RvcnkpKSB7CnJldHVybiAkdGhpcy0+cmVtb3ZlSnVuY3Rpb24oJGRpcmVjdG9yeSk7Cn0KCmlmIChpc19saW5rKCRkaXJlY3RvcnkpKSB7CnJldHVybiB1bmxpbmsoJGRpcmVjdG9yeSk7Cn0KCmlmICghaXNfZGlyKCRkaXJlY3RvcnkpIHx8ICFmaWxlX2V4aXN0cygkZGlyZWN0b3J5KSkgewpyZXR1cm4gdHJ1ZTsKfQoKaWYgKHByZWdfbWF0Y2goJ3teKD86W2Etel06KT9bL1xcXFxdKyR9aScsICRkaXJlY3RvcnkpKSB7CnRocm93IG5ldyBcUnVudGltZUV4Y2VwdGlvbignQWJvcnRpbmcgYW4gYXR0ZW1wdGVkIGRlbGV0aW9uIG9mICcuJGRpcmVjdG9yeS4nLCB0aGlzIHdhcyBwcm9iYWJseSBub3QgaW50ZW5kZWQsIGlmIGl0IGlzIGEgcmVhbCB1c2UgY2FzZSBwbGVhc2UgcmVwb3J0IGl0LicpOwp9CgppZiAoIVxmdW5jdGlvbl9leGlzdHMoJ3Byb2Nfb3BlbicpICYmICRmYWxsYmFja1RvUGhwKSB7CnJldHVybiAkdGhpcy0+cmVtb3ZlRGlyZWN0b3J5UGhwKCRkaXJlY3RvcnkpOwp9CgpyZXR1cm4gbnVsbDsKfQoKCgoKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiByZW1vdmVEaXJlY3RvcnlQaHAoJGRpcmVjdG9yeSkKewokZWRnZUNhc2VSZXN1bHQgPSAkdGhpcy0+cmVtb3ZlRWRnZUNhc2VzKCRkaXJlY3RvcnksIGZhbHNlKTsKaWYgKCRlZGdlQ2FzZVJlc3VsdCAhPT0gbnVsbCkgewpyZXR1cm4gJGVkZ2VDYXNlUmVzdWx0Owp9Cgp0cnkgewokaXQgPSBuZXcgUmVjdXJzaXZlRGlyZWN0b3J5SXRlcmF0b3IoJGRpcmVjdG9yeSwgUmVjdXJzaXZlRGlyZWN0b3J5SXRlcmF0b3I6OlNLSVBfRE9UUyk7Cn0gY2F0Y2ggKFxVbmV4cGVjdGVkVmFsdWVFeGNlcHRpb24gJGUpIHsKCgpjbGVhcnN0YXRjYWNoZSgpOwp1c2xlZXAoMTAwMDAwKTsKaWYgKCFpc19kaXIoJGRpcmVjdG9yeSkpIHsKcmV0dXJuIHRydWU7Cn0KJGl0ID0gbmV3IFJlY3Vyc2l2ZURpcmVjdG9yeUl0ZXJhdG9yKCRkaXJlY3RvcnksIFJlY3Vyc2l2ZURpcmVjdG9yeUl0ZXJhdG9yOjpTS0lQX0RPVFMpOwp9CiRyaSA9IG5ldyBSZWN1cnNpdmVJdGVyYXRvckl0ZXJhdG9yKCRpdCwgUmVjdXJzaXZlSXRlcmF0b3JJdGVyYXRvcjo6Q0hJTERfRklSU1QpOwoKZm9yZWFjaCAoJHJpIGFzICRmaWxlKSB7CmlmICgkZmlsZS0+aXNEaXIoKSkgewokdGhpcy0+cm1kaXIoJGZpbGUtPmdldFBhdGhuYW1lKCkpOwp9IGVsc2UgewokdGhpcy0+dW5saW5rKCRmaWxlLT5nZXRQYXRobmFtZSgpKTsKfQp9CgoKdW5zZXQoJHJpLCAkaXQsICRmaWxlKTsKCnJldHVybiAkdGhpcy0+cm1kaXIoJGRpcmVjdG9yeSk7Cn0KCnB1YmxpYyBmdW5jdGlvbiBlbnN1cmVEaXJlY3RvcnlFeGlzdHMoJGRpcmVjdG9yeSkKewppZiAoIWlzX2RpcigkZGlyZWN0b3J5KSkgewppZiAoZmlsZV9leGlzdHMoJGRpcmVjdG9yeSkpIHsKdGhyb3cgbmV3IFxSdW50aW1lRXhjZXB0aW9uKAokZGlyZWN0b3J5LicgZXhpc3RzIGFuZCBpcyBub3QgYSBkaXJlY3RvcnkuJwopOwp9CmlmICghQG1rZGlyKCRkaXJlY3RvcnksIDA3NzcsIHRydWUpKSB7CnRocm93IG5ldyBcUnVudGltZUV4Y2VwdGlvbigKJGRpcmVjdG9yeS4nIGRvZXMgbm90IGV4aXN0IGFuZCBjb3VsZCBub3QgYmUgY3JlYXRlZC4nCik7Cn0KfQp9CgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIHVubGluaygkcGF0aCkKewokdW5saW5rZWQgPSBAJHRoaXMtPnVubGlua0ltcGxlbWVudGF0aW9uKCRwYXRoKTsKaWYgKCEkdW5saW5rZWQpIHsKCmlmIChQbGF0Zm9ybTo6aXNXaW5kb3dzKCkpIHsKdXNsZWVwKDM1MDAwMCk7CiR1bmxpbmtlZCA9IEAkdGhpcy0+dW5saW5rSW1wbGVtZW50YXRpb24oJHBhdGgpOwp9CgppZiAoISR1bmxpbmtlZCkgewokZXJyb3IgPSBlcnJvcl9nZXRfbGFzdCgpOwokbWVzc2FnZSA9ICdDb3VsZCBub3QgZGVsZXRlICcuJHBhdGguJzogJyAuIEAkZXJyb3JbJ21lc3NhZ2UnXTsKaWYgKFBsYXRmb3JtOjppc1dpbmRvd3MoKSkgewokbWVzc2FnZSAuPSAiXG5UaGlzIGNhbiBiZSBkdWUgdG8gYW4gYW50aXZpcnVzIG9yIHRoZSBXaW5kb3dzIFNlYXJjaCBJbmRleGVyIGxvY2tpbmcgdGhlIGZpbGUgd2hpbGUgdGhleSBhcmUgYW5hbHl6ZWQiOwp9Cgp0aHJvdyBuZXcgXFJ1bnRpbWVFeGNlcHRpb24oJG1lc3NhZ2UpOwp9Cn0KCnJldHVybiB0cnVlOwp9CgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIHJtZGlyKCRwYXRoKQp7CiRkZWxldGVkID0gQHJtZGlyKCRwYXRoKTsKaWYgKCEkZGVsZXRlZCkgewoKaWYgKFBsYXRmb3JtOjppc1dpbmRvd3MoKSkgewp1c2xlZXAoMzUwMDAwKTsKJGRlbGV0ZWQgPSBAcm1kaXIoJHBhdGgpOwp9CgppZiAoISRkZWxldGVkKSB7CiRlcnJvciA9IGVycm9yX2dldF9sYXN0KCk7CiRtZXNzYWdlID0gJ0NvdWxkIG5vdCBkZWxldGUgJy4kcGF0aC4nOiAnIC4gQCRlcnJvclsnbWVzc2FnZSddOwppZiAoUGxhdGZvcm06OmlzV2luZG93cygpKSB7CiRtZXNzYWdlIC49ICJcblRoaXMgY2FuIGJlIGR1ZSB0byBhbiBhbnRpdmlydXMgb3IgdGhlIFdpbmRvd3MgU2VhcmNoIEluZGV4ZXIgbG9ja2luZyB0aGUgZmlsZSB3aGlsZSB0aGV5IGFyZSBhbmFseXplZCI7Cn0KCnRocm93IG5ldyBcUnVudGltZUV4Y2VwdGlvbigkbWVzc2FnZSk7Cn0KfQoKcmV0dXJuIHRydWU7Cn0KCgoKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBjb3B5VGhlblJlbW92ZSgkc291cmNlLCAkdGFyZ2V0KQp7CiR0aGlzLT5jb3B5KCRzb3VyY2UsICR0YXJnZXQpOwppZiAoIWlzX2Rpcigkc291cmNlKSkgewokdGhpcy0+dW5saW5rKCRzb3VyY2UpOwoKcmV0dXJuOwp9CgokdGhpcy0+cmVtb3ZlRGlyZWN0b3J5UGhwKCRzb3VyY2UpOwp9CgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIGNvcHkoJHNvdXJjZSwgJHRhcmdldCkKewppZiAoIWlzX2Rpcigkc291cmNlKSkgewpyZXR1cm4gY29weSgkc291cmNlLCAkdGFyZ2V0KTsKfQoKJGl0ID0gbmV3IFJlY3Vyc2l2ZURpcmVjdG9yeUl0ZXJhdG9yKCRzb3VyY2UsIFJlY3Vyc2l2ZURpcmVjdG9yeUl0ZXJhdG9yOjpTS0lQX0RPVFMpOwokcmkgPSBuZXcgUmVjdXJzaXZlSXRlcmF0b3JJdGVyYXRvcigkaXQsIFJlY3Vyc2l2ZUl0ZXJhdG9ySXRlcmF0b3I6OlNFTEZfRklSU1QpOwokdGhpcy0+ZW5zdXJlRGlyZWN0b3J5RXhpc3RzKCR0YXJnZXQpOwoKJHJlc3VsdCA9IHRydWU7Cgpmb3JlYWNoICgkcmkgYXMgJGZpbGUpIHsKJHRhcmdldFBhdGggPSAkdGFyZ2V0IC4gRElSRUNUT1JZX1NFUEFSQVRPUiAuICRyaS0+Z2V0U3ViUGF0aG5hbWUoKTsKaWYgKCRmaWxlLT5pc0RpcigpKSB7CiR0aGlzLT5lbnN1cmVEaXJlY3RvcnlFeGlzdHMoJHRhcmdldFBhdGgpOwp9IGVsc2UgewokcmVzdWx0ID0gJHJlc3VsdCAmJiBjb3B5KCRmaWxlLT5nZXRQYXRobmFtZSgpLCAkdGFyZ2V0UGF0aCk7Cn0KfQoKcmV0dXJuICRyZXN1bHQ7Cn0KCnB1YmxpYyBmdW5jdGlvbiByZW5hbWUoJHNvdXJjZSwgJHRhcmdldCkKewppZiAodHJ1ZSA9PT0gQHJlbmFtZSgkc291cmNlLCAkdGFyZ2V0KSkgewpyZXR1cm47Cn0KCmlmICghXGZ1bmN0aW9uX2V4aXN0cygncHJvY19vcGVuJykpIHsKJHRoaXMtPmNvcHlUaGVuUmVtb3ZlKCRzb3VyY2UsICR0YXJnZXQpOwoKcmV0dXJuOwp9CgppZiAoUGxhdGZvcm06OmlzV2luZG93cygpKSB7CgokY29tbWFuZCA9IHNwcmludGYoJ3hjb3B5ICVzICVzIC9FIC9JIC9RIC9ZJywgUHJvY2Vzc0V4ZWN1dG9yOjplc2NhcGUoJHNvdXJjZSksIFByb2Nlc3NFeGVjdXRvcjo6ZXNjYXBlKCR0YXJnZXQpKTsKJHJlc3VsdCA9ICR0aGlzLT5nZXRQcm9jZXNzKCktPmV4ZWN1dGUoJGNvbW1hbmQsICRvdXRwdXQpOwoKCmNsZWFyc3RhdGNhY2hlKCk7CgppZiAoMCA9PT0gJHJlc3VsdCkgewokdGhpcy0+cmVtb3ZlKCRzb3VyY2UpOwoKcmV0dXJuOwp9Cn0gZWxzZSB7CgoKJGNvbW1hbmQgPSBzcHJpbnRmKCdtdiAlcyAlcycsIFByb2Nlc3NFeGVjdXRvcjo6ZXNjYXBlKCRzb3VyY2UpLCBQcm9jZXNzRXhlY3V0b3I6OmVzY2FwZSgkdGFyZ2V0KSk7CiRyZXN1bHQgPSAkdGhpcy0+Z2V0UHJvY2VzcygpLT5leGVjdXRlKCRjb21tYW5kLCAkb3V0cHV0KTsKCgpjbGVhcnN0YXRjYWNoZSgpOwoKaWYgKDAgPT09ICRyZXN1bHQpIHsKcmV0dXJuOwp9Cn0KCiR0aGlzLT5jb3B5VGhlblJlbW92ZSgkc291cmNlLCAkdGFyZ2V0KTsKfQoKCgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIGZpbmRTaG9ydGVzdFBhdGgoJGZyb20sICR0bywgJGRpcmVjdG9yaWVzID0gZmFsc2UpCnsKaWYgKCEkdGhpcy0+aXNBYnNvbHV0ZVBhdGgoJGZyb20pIHx8ICEkdGhpcy0+aXNBYnNvbHV0ZVBhdGgoJHRvKSkgewp0aHJvdyBuZXcgXEludmFsaWRBcmd1bWVudEV4Y2VwdGlvbihzcHJpbnRmKCckZnJvbSAoJXMpIGFuZCAkdG8gKCVzKSBtdXN0IGJlIGFic29sdXRlIHBhdGhzLicsICRmcm9tLCAkdG8pKTsKfQoKJGZyb20gPSBsY2ZpcnN0KCR0aGlzLT5ub3JtYWxpemVQYXRoKCRmcm9tKSk7CiR0byA9IGxjZmlyc3QoJHRoaXMtPm5vcm1hbGl6ZVBhdGgoJHRvKSk7CgppZiAoJGRpcmVjdG9yaWVzKSB7CiRmcm9tID0gcnRyaW0oJGZyb20sICcvJykgLiAnL2R1bW15X2ZpbGUnOwp9CgppZiAoXGRpcm5hbWUoJGZyb20pID09PSBcZGlybmFtZSgkdG8pKSB7CnJldHVybiAnLi8nLmJhc2VuYW1lKCR0byk7Cn0KCiRjb21tb25QYXRoID0gJHRvOwp3aGlsZSAoc3RycG9zKCRmcm9tLicvJywgJGNvbW1vblBhdGguJy8nKSAhPT0gMCAmJiAnLycgIT09ICRjb21tb25QYXRoICYmICFwcmVnX21hdGNoKCd7XlthLXpdOi8/JH1pJywgJGNvbW1vblBhdGgpKSB7CiRjb21tb25QYXRoID0gc3RydHIoXGRpcm5hbWUoJGNvbW1vblBhdGgpLCAnXFwnLCAnLycpOwp9CgppZiAoMCAhPT0gc3RycG9zKCRmcm9tLCAkY29tbW9uUGF0aCkgfHwgJy8nID09PSAkY29tbW9uUGF0aCkgewpyZXR1cm4gJHRvOwp9CgokY29tbW9uUGF0aCA9IHJ0cmltKCRjb21tb25QYXRoLCAnLycpIC4gJy8nOwokc291cmNlUGF0aERlcHRoID0gc3Vic3RyX2NvdW50KHN1YnN0cigkZnJvbSwgXHN0cmxlbigkY29tbW9uUGF0aCkpLCAnLycpOwokY29tbW9uUGF0aENvZGUgPSBzdHJfcmVwZWF0KCcuLi8nLCAkc291cmNlUGF0aERlcHRoKTsKCnJldHVybiAoJGNvbW1vblBhdGhDb2RlIC4gc3Vic3RyKCR0bywgXHN0cmxlbigkY29tbW9uUGF0aCkpKSA/OiAnLi8nOwp9CgoKCgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIGZpbmRTaG9ydGVzdFBhdGhDb2RlKCRmcm9tLCAkdG8sICRkaXJlY3RvcmllcyA9IGZhbHNlLCAkc3RhdGljQ29kZSA9IGZhbHNlKQp7CmlmICghJHRoaXMtPmlzQWJzb2x1dGVQYXRoKCRmcm9tKSB8fCAhJHRoaXMtPmlzQWJzb2x1dGVQYXRoKCR0bykpIHsKdGhyb3cgbmV3IFxJbnZhbGlkQXJndW1lbnRFeGNlcHRpb24oc3ByaW50ZignJGZyb20gKCVzKSBhbmQgJHRvICglcykgbXVzdCBiZSBhYnNvbHV0ZSBwYXRocy4nLCAkZnJvbSwgJHRvKSk7Cn0KCiRmcm9tID0gbGNmaXJzdCgkdGhpcy0+bm9ybWFsaXplUGF0aCgkZnJvbSkpOwokdG8gPSBsY2ZpcnN0KCR0aGlzLT5ub3JtYWxpemVQYXRoKCR0bykpOwoKaWYgKCRmcm9tID09PSAkdG8pIHsKcmV0dXJuICRkaXJlY3RvcmllcyA/ICdfX0RJUl9fJyA6ICdfX0ZJTEVfXyc7Cn0KCiRjb21tb25QYXRoID0gJHRvOwp3aGlsZSAoc3RycG9zKCRmcm9tLicvJywgJGNvbW1vblBhdGguJy8nKSAhPT0gMCAmJiAnLycgIT09ICRjb21tb25QYXRoICYmICFwcmVnX21hdGNoKCd7XlthLXpdOi8/JH1pJywgJGNvbW1vblBhdGgpICYmICcuJyAhPT0gJGNvbW1vblBhdGgpIHsKJGNvbW1vblBhdGggPSBzdHJ0cihcZGlybmFtZSgkY29tbW9uUGF0aCksICdcXCcsICcvJyk7Cn0KCmlmICgwICE9PSBzdHJwb3MoJGZyb20sICRjb21tb25QYXRoKSB8fCAnLycgPT09ICRjb21tb25QYXRoIHx8ICcuJyA9PT0gJGNvbW1vblBhdGgpIHsKcmV0dXJuIHZhcl9leHBvcnQoJHRvLCB0cnVlKTsKfQoKJGNvbW1vblBhdGggPSBydHJpbSgkY29tbW9uUGF0aCwgJy8nKSAuICcvJzsKaWYgKHN0cnBvcygkdG8sICRmcm9tLicvJykgPT09IDApIHsKcmV0dXJuICdfX0RJUl9fIC4gJy52YXJfZXhwb3J0KHN1YnN0cigkdG8sIFxzdHJsZW4oJGZyb20pKSwgdHJ1ZSk7Cn0KJHNvdXJjZVBhdGhEZXB0aCA9IHN1YnN0cl9jb3VudChzdWJzdHIoJGZyb20sIFxzdHJsZW4oJGNvbW1vblBhdGgpKSwgJy8nKSArICRkaXJlY3RvcmllczsKaWYgKCRzdGF0aWNDb2RlKSB7CiRjb21tb25QYXRoQ29kZSA9ICJfX0RJUl9fIC4gJyIuc3RyX3JlcGVhdCgnLy4uJywgJHNvdXJjZVBhdGhEZXB0aCkuIiciOwp9IGVsc2UgewokY29tbW9uUGF0aENvZGUgPSBzdHJfcmVwZWF0KCdkaXJuYW1lKCcsICRzb3VyY2VQYXRoRGVwdGgpLidfX0RJUl9fJy5zdHJfcmVwZWF0KCcpJywgJHNvdXJjZVBhdGhEZXB0aCk7Cn0KJHJlbFRhcmdldCA9IHN1YnN0cigkdG8sIFxzdHJsZW4oJGNvbW1vblBhdGgpKTsKCnJldHVybiAkY29tbW9uUGF0aENvZGUgLiAoXHN0cmxlbigkcmVsVGFyZ2V0KSA/ICcuJyAuIHZhcl9leHBvcnQoJy8nIC4gJHJlbFRhcmdldCwgdHJ1ZSkgOiAnJyk7Cn0KCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBpc0Fic29sdXRlUGF0aCgkcGF0aCkKewpyZXR1cm4gc3RycG9zKCRwYXRoLCAnLycpID09PSAwIHx8IHN1YnN0cigkcGF0aCwgMSwgMSkgPT09ICc6JyB8fCBzdHJwb3MoJHBhdGgsICdcXFxcJykgPT09IDA7Cn0KCgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIHNpemUoJHBhdGgpCnsKaWYgKCFmaWxlX2V4aXN0cygkcGF0aCkpIHsKdGhyb3cgbmV3IFxSdW50aW1lRXhjZXB0aW9uKCIkcGF0aCBkb2VzIG5vdCBleGlzdC4iKTsKfQppZiAoaXNfZGlyKCRwYXRoKSkgewpyZXR1cm4gJHRoaXMtPmRpcmVjdG9yeVNpemUoJHBhdGgpOwp9CgpyZXR1cm4gZmlsZXNpemUoJHBhdGgpOwp9CgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIG5vcm1hbGl6ZVBhdGgoJHBhdGgpCnsKJHBhcnRzID0gYXJyYXkoKTsKJHBhdGggPSBzdHJ0cigkcGF0aCwgJ1xcJywgJy8nKTsKJHByZWZpeCA9ICcnOwokYWJzb2x1dGUgPSBmYWxzZTsKCgppZiAocHJlZ19tYXRjaCgne14oIFswLTlhLXpdezIsfSs6ICg/OiAvLyAoPzogW2Etel06ICk/ICk/IHwgW2Etel06ICl9aXgnLCAkcGF0aCwgJG1hdGNoKSkgewokcHJlZml4ID0gJG1hdGNoWzFdOwokcGF0aCA9IHN1YnN0cigkcGF0aCwgXHN0cmxlbigkcHJlZml4KSk7Cn0KCmlmIChzdHJwb3MoJHBhdGgsICcvJykgPT09IDApIHsKJGFic29sdXRlID0gdHJ1ZTsKJHBhdGggPSBzdWJzdHIoJHBhdGgsIDEpOwp9CgokdXAgPSBmYWxzZTsKZm9yZWFjaCAoZXhwbG9kZSgnLycsICRwYXRoKSBhcyAkY2h1bmspIHsKaWYgKCcuLicgPT09ICRjaHVuayAmJiAoJGFic29sdXRlIHx8ICR1cCkpIHsKYXJyYXlfcG9wKCRwYXJ0cyk7CiR1cCA9ICEoZW1wdHkoJHBhcnRzKSB8fCAnLi4nID09PSBlbmQoJHBhcnRzKSk7Cn0gZWxzZWlmICgnLicgIT09ICRjaHVuayAmJiAnJyAhPT0gJGNodW5rKSB7CiRwYXJ0c1tdID0gJGNodW5rOwokdXAgPSAnLi4nICE9PSAkY2h1bms7Cn0KfQoKcmV0dXJuICRwcmVmaXguKCRhYnNvbHV0ZSA/ICcvJyA6ICcnKS5pbXBsb2RlKCcvJywgJHBhcnRzKTsKfQoKCgoKCgoKCgpwdWJsaWMgc3RhdGljIGZ1bmN0aW9uIHRyaW1UcmFpbGluZ1NsYXNoKCRwYXRoKQp7CmlmICghcHJlZ19tYXRjaCgne15bL1xcXFxdKyR9JywgJHBhdGgpKSB7CiRwYXRoID0gcnRyaW0oJHBhdGgsICcvXFwnKTsKfQoKcmV0dXJuICRwYXRoOwp9CgoKCgoKCgpwdWJsaWMgc3RhdGljIGZ1bmN0aW9uIGlzTG9jYWxQYXRoKCRwYXRoKQp7CnJldHVybiAoYm9vbCkgcHJlZ19tYXRjaCgne14oZmlsZTovLyg/IS8vKXwvKD8hLyl8Lz9bYS16XTpbXFxcXC9dfFwuXC5bXFxcXC9dfFthLXowLTlfLi1dK1tcXFxcL10pfWknLCAkcGF0aCk7Cn0KCnB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gZ2V0UGxhdGZvcm1QYXRoKCRwYXRoKQp7CmlmIChQbGF0Zm9ybTo6aXNXaW5kb3dzKCkpIHsKJHBhdGggPSBwcmVnX3JlcGxhY2UoJ3teKD86ZmlsZTovLy8oW2Etel0pOj8vKX1pJywgJ2ZpbGU6Ly8kMTovJywgJHBhdGgpOwp9CgpyZXR1cm4gcHJlZ19yZXBsYWNlKCd7XmZpbGU6Ly99aScsICcnLCAkcGF0aCk7Cn0KCgoKCgoKCgoKCnB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gaXNSZWFkYWJsZSgkcGF0aCkKewppZiAoaXNfcmVhZGFibGUoJHBhdGgpKSB7CnJldHVybiB0cnVlOwp9CgppZiAoaXNfZmlsZSgkcGF0aCkpIHsKcmV0dXJuIGZhbHNlICE9PSBTaWxlbmNlcjo6Y2FsbCgnZmlsZV9nZXRfY29udGVudHMnLCAkcGF0aCwgZmFsc2UsIG51bGwsIDAsIDEpOwp9CgppZiAoaXNfZGlyKCRwYXRoKSkgewpyZXR1cm4gZmFsc2UgIT09IFNpbGVuY2VyOjpjYWxsKCdvcGVuZGlyJywgJHBhdGgpOwp9CgoKcmV0dXJuIGZhbHNlOwp9Cgpwcm90ZWN0ZWQgZnVuY3Rpb24gZGlyZWN0b3J5U2l6ZSgkZGlyZWN0b3J5KQp7CiRpdCA9IG5ldyBSZWN1cnNpdmVEaXJlY3RvcnlJdGVyYXRvcigkZGlyZWN0b3J5LCBSZWN1cnNpdmVEaXJlY3RvcnlJdGVyYXRvcjo6U0tJUF9ET1RTKTsKJHJpID0gbmV3IFJlY3Vyc2l2ZUl0ZXJhdG9ySXRlcmF0b3IoJGl0LCBSZWN1cnNpdmVJdGVyYXRvckl0ZXJhdG9yOjpDSElMRF9GSVJTVCk7Cgokc2l6ZSA9IDA7CmZvcmVhY2ggKCRyaSBhcyAkZmlsZSkgewppZiAoJGZpbGUtPmlzRmlsZSgpKSB7CiRzaXplICs9ICRmaWxlLT5nZXRTaXplKCk7Cn0KfQoKcmV0dXJuICRzaXplOwp9CgoKCgpwcm90ZWN0ZWQgZnVuY3Rpb24gZ2V0UHJvY2VzcygpCnsKaWYgKCEkdGhpcy0+cHJvY2Vzc0V4ZWN1dG9yKSB7CiR0aGlzLT5wcm9jZXNzRXhlY3V0b3IgPSBuZXcgUHJvY2Vzc0V4ZWN1dG9yKCk7Cn0KCnJldHVybiAkdGhpcy0+cHJvY2Vzc0V4ZWN1dG9yOwp9CgoKCgoKCgoKCgpwcml2YXRlIGZ1bmN0aW9uIHVubGlua0ltcGxlbWVudGF0aW9uKCRwYXRoKQp7CmlmIChQbGF0Zm9ybTo6aXNXaW5kb3dzKCkgJiYgaXNfZGlyKCRwYXRoKSAmJiBpc19saW5rKCRwYXRoKSkgewpyZXR1cm4gcm1kaXIoJHBhdGgpOwp9CgpyZXR1cm4gdW5saW5rKCRwYXRoKTsKfQoKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiByZWxhdGl2ZVN5bWxpbmsoJHRhcmdldCwgJGxpbmspCnsKaWYgKCFmdW5jdGlvbl9leGlzdHMoJ3N5bWxpbmsnKSkgewpyZXR1cm4gZmFsc2U7Cn0KCiRjd2QgPSBnZXRjd2QoKTsKCiRyZWxhdGl2ZVBhdGggPSAkdGhpcy0+ZmluZFNob3J0ZXN0UGF0aCgkbGluaywgJHRhcmdldCk7CmNoZGlyKFxkaXJuYW1lKCRsaW5rKSk7CiRyZXN1bHQgPSBAc3ltbGluaygkcmVsYXRpdmVQYXRoLCAkbGluayk7CgpjaGRpcigkY3dkKTsKCnJldHVybiAkcmVzdWx0Owp9CgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIGlzU3ltbGlua2VkRGlyZWN0b3J5KCRkaXJlY3RvcnkpCnsKaWYgKCFpc19kaXIoJGRpcmVjdG9yeSkpIHsKcmV0dXJuIGZhbHNlOwp9CgokcmVzb2x2ZWQgPSAkdGhpcy0+cmVzb2x2ZVN5bWxpbmtlZERpcmVjdG9yeVN5bWxpbmsoJGRpcmVjdG9yeSk7CgpyZXR1cm4gaXNfbGluaygkcmVzb2x2ZWQpOwp9CgoKCgoKCnByaXZhdGUgZnVuY3Rpb24gdW5saW5rU3ltbGlua2VkRGlyZWN0b3J5KCRkaXJlY3RvcnkpCnsKJHJlc29sdmVkID0gJHRoaXMtPnJlc29sdmVTeW1saW5rZWREaXJlY3RvcnlTeW1saW5rKCRkaXJlY3RvcnkpOwoKcmV0dXJuICR0aGlzLT51bmxpbmsoJHJlc29sdmVkKTsKfQoKCgoKCgoKCnByaXZhdGUgZnVuY3Rpb24gcmVzb2x2ZVN5bWxpbmtlZERpcmVjdG9yeVN5bWxpbmsoJHBhdGhuYW1lKQp7CmlmICghaXNfZGlyKCRwYXRobmFtZSkpIHsKcmV0dXJuICRwYXRobmFtZTsKfQoKJHJlc29sdmVkID0gcnRyaW0oJHBhdGhuYW1lLCAnLycpOwoKaWYgKCFcc3RybGVuKCRyZXNvbHZlZCkpIHsKcmV0dXJuICRwYXRobmFtZTsKfQoKcmV0dXJuICRyZXNvbHZlZDsKfQoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIGp1bmN0aW9uKCR0YXJnZXQsICRqdW5jdGlvbikKewppZiAoIVBsYXRmb3JtOjppc1dpbmRvd3MoKSkgewp0aHJvdyBuZXcgXExvZ2ljRXhjZXB0aW9uKHNwcmludGYoJ0Z1bmN0aW9uICVzIGlzIG5vdCBhdmFpbGFibGUgb24gbm9uLVdpbmRvd3MgcGxhdGZvcm0nLCBfX0NMQVNTX18pKTsKfQppZiAoIWlzX2RpcigkdGFyZ2V0KSkgewp0aHJvdyBuZXcgSU9FeGNlcHRpb24oc3ByaW50ZignQ2Fubm90IGp1bmN0aW9uIHRvICIlcyIgYXMgaXQgaXMgbm90IGEgZGlyZWN0b3J5LicsICR0YXJnZXQpLCAwLCBudWxsLCAkdGFyZ2V0KTsKfQokY21kID0gc3ByaW50ZigKJ21rbGluayAvSiAlcyAlcycsClByb2Nlc3NFeGVjdXRvcjo6ZXNjYXBlKHN0cl9yZXBsYWNlKCcvJywgRElSRUNUT1JZX1NFUEFSQVRPUiwgJGp1bmN0aW9uKSksClByb2Nlc3NFeGVjdXRvcjo6ZXNjYXBlKHJlYWxwYXRoKCR0YXJnZXQpKQopOwppZiAoJHRoaXMtPmdldFByb2Nlc3MoKS0+ZXhlY3V0ZSgkY21kLCAkb3V0cHV0KSAhPT0gMCkgewp0aHJvdyBuZXcgSU9FeGNlcHRpb24oc3ByaW50ZignRmFpbGVkIHRvIGNyZWF0ZSBqdW5jdGlvbiB0byAiJXMiIGF0ICIlcyIuJywgJHRhcmdldCwgJGp1bmN0aW9uKSwgMCwgbnVsbCwgJHRhcmdldCk7Cn0KY2xlYXJzdGF0Y2FjaGUodHJ1ZSwgJGp1bmN0aW9uKTsKfQoKCgoKCgoKCgoKCgoKCgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gaXNKdW5jdGlvbigkanVuY3Rpb24pCnsKaWYgKCFQbGF0Zm9ybTo6aXNXaW5kb3dzKCkpIHsKcmV0dXJuIGZhbHNlOwp9CgoKY2xlYXJzdGF0Y2FjaGUodHJ1ZSwgJGp1bmN0aW9uKTsKCmlmICghaXNfZGlyKCRqdW5jdGlvbikgfHwgaXNfbGluaygkanVuY3Rpb24pKSB7CnJldHVybiBmYWxzZTsKfQoKJHN0YXQgPSBsc3RhdCgkanVuY3Rpb24pOwoKCnJldHVybiAkc3RhdCA/IDB4NDAwMCAhPT0gKCRzdGF0Wydtb2RlJ10gJiAweEYwMDApIDogZmFsc2U7Cn0KCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiByZW1vdmVKdW5jdGlvbigkanVuY3Rpb24pCnsKaWYgKCFQbGF0Zm9ybTo6aXNXaW5kb3dzKCkpIHsKcmV0dXJuIGZhbHNlOwp9CiRqdW5jdGlvbiA9IHJ0cmltKHN0cl9yZXBsYWNlKCcvJywgRElSRUNUT1JZX1NFUEFSQVRPUiwgJGp1bmN0aW9uKSwgRElSRUNUT1JZX1NFUEFSQVRPUik7CmlmICghJHRoaXMtPmlzSnVuY3Rpb24oJGp1bmN0aW9uKSkgewp0aHJvdyBuZXcgSU9FeGNlcHRpb24oc3ByaW50ZignJXMgaXMgbm90IGEganVuY3Rpb24gYW5kIHRodXMgY2Fubm90IGJlIHJlbW92ZWQgYXMgb25lJywgJGp1bmN0aW9uKSk7Cn0KCnJldHVybiAkdGhpcy0+cm1kaXIoJGp1bmN0aW9uKTsKfQoKcHVibGljIGZ1bmN0aW9uIGZpbGVQdXRDb250ZW50c0lmTW9kaWZpZWQoJHBhdGgsICRjb250ZW50KQp7CiRjdXJyZW50Q29udGVudCA9IEBmaWxlX2dldF9jb250ZW50cygkcGF0aCk7CmlmICghJGN1cnJlbnRDb250ZW50IHx8ICgkY3VycmVudENvbnRlbnQgIT0gJGNvbnRlbnQpKSB7CnJldHVybiBmaWxlX3B1dF9jb250ZW50cygkcGF0aCwgJGNvbnRlbnQpOwp9CgpyZXR1cm4gMDsKfQoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIHNhZmVDb3B5KCRzb3VyY2UsICR0YXJnZXQpCnsKaWYgKCFmaWxlX2V4aXN0cygkdGFyZ2V0KSB8fCAhZmlsZV9leGlzdHMoJHNvdXJjZSkgfHwgISR0aGlzLT5maWxlc0FyZUVxdWFsKCRzb3VyY2UsICR0YXJnZXQpKSB7CiRzb3VyY2UgPSBmb3Blbigkc291cmNlLCAncicpOwokdGFyZ2V0ID0gZm9wZW4oJHRhcmdldCwgJ3crJyk7CgpzdHJlYW1fY29weV90b19zdHJlYW0oJHNvdXJjZSwgJHRhcmdldCk7CmZjbG9zZSgkc291cmNlKTsKZmNsb3NlKCR0YXJnZXQpOwp9Cn0KCgoKCgpwcml2YXRlIGZ1bmN0aW9uIGZpbGVzQXJlRXF1YWwoJGEsICRiKQp7CgppZiAoZmlsZXNpemUoJGEpICE9PSBmaWxlc2l6ZSgkYikpIHsKcmV0dXJuIGZhbHNlOwp9CgoKJGFoID0gZm9wZW4oJGEsICdyYicpOwokYmggPSBmb3BlbigkYiwgJ3JiJyk7CgokcmVzdWx0ID0gdHJ1ZTsKd2hpbGUgKCFmZW9mKCRhaCkpIHsKaWYgKGZyZWFkKCRhaCwgODE5MikgIT0gZnJlYWQoJGJoLCA4MTkyKSkgewokcmVzdWx0ID0gZmFsc2U7CmJyZWFrOwp9Cn0KCmZjbG9zZSgkYWgpOwpmY2xvc2UoJGJoKTsKCnJldHVybiAkcmVzdWx0Owp9Cn0KPD9waHAKCgoKCgoKCgoKCgpuYW1lc3BhY2UgQ29tcG9zZXJcVXRpbDsKCnVzZSBDb21wb3NlclxDb25maWc7CnVzZSBDb21wb3NlclxJT1xJT0ludGVyZmFjZTsKCgoKCmNsYXNzIEdpdAp7CnByaXZhdGUgc3RhdGljICR2ZXJzaW9uID0gZmFsc2U7CgoKcHJvdGVjdGVkICRpbzsKCnByb3RlY3RlZCAkY29uZmlnOwoKcHJvdGVjdGVkICRwcm9jZXNzOwoKcHJvdGVjdGVkICRmaWxlc3lzdGVtOwoKcHVibGljIGZ1bmN0aW9uIF9fY29uc3RydWN0KElPSW50ZXJmYWNlICRpbywgQ29uZmlnICRjb25maWcsIFByb2Nlc3NFeGVjdXRvciAkcHJvY2VzcywgRmlsZXN5c3RlbSAkZnMpCnsKJHRoaXMtPmlvID0gJGlvOwokdGhpcy0+Y29uZmlnID0gJGNvbmZpZzsKJHRoaXMtPnByb2Nlc3MgPSAkcHJvY2VzczsKJHRoaXMtPmZpbGVzeXN0ZW0gPSAkZnM7Cn0KCnB1YmxpYyBmdW5jdGlvbiBydW5Db21tYW5kKCRjb21tYW5kQ2FsbGFibGUsICR1cmwsICRjd2QsICRpbml0aWFsQ2xvbmUgPSBmYWxzZSkKewoKJHRoaXMtPmNvbmZpZy0+cHJvaGliaXRVcmxCeUNvbmZpZygkdXJsLCAkdGhpcy0+aW8pOwoKaWYgKCRpbml0aWFsQ2xvbmUpIHsKJG9yaWdDd2QgPSAkY3dkOwokY3dkID0gbnVsbDsKfQoKaWYgKHByZWdfbWF0Y2goJ3tec3NoOi8vW15AXStAW146XSs6W14wLTldK30nLCAkdXJsKSkgewp0aHJvdyBuZXcgXEludmFsaWRBcmd1bWVudEV4Y2VwdGlvbignVGhlIHNvdXJjZSBVUkwgJyAuICR1cmwgLiAnIGlzIGludmFsaWQsIHNzaCBVUkxzIHNob3VsZCBoYXZlIGEgcG9ydCBudW1iZXIgYWZ0ZXIgIjoiLicgLiAiXG4iIC4gJ1VzZSBzc2g6Ly9naXRAZXhhbXBsZS5jb206MjIvcGF0aCBvciBqdXN0IGdpdEBleGFtcGxlLmNvbTpwYXRoIGlmIHlvdSBkbyBub3Qgd2FudCB0byBwcm92aWRlIGEgcGFzc3dvcmQgb3IgY3VzdG9tIHBvcnQuJyk7Cn0KCmlmICghJGluaXRpYWxDbG9uZSkgewoKJHRoaXMtPnByb2Nlc3MtPmV4ZWN1dGUoJ2dpdCByZW1vdGUgLXYnLCAkb3V0cHV0LCAkY3dkKTsKaWYgKHByZWdfbWF0Y2goJ3teKD86Y29tcG9zZXJ8b3JpZ2luKVxzK2h0dHBzPzovLyguKyk6KC4rKUAoW14vXSspfWltJywgJG91dHB1dCwgJG1hdGNoKSAmJiAhJHRoaXMtPmlvLT5oYXNBdXRoZW50aWNhdGlvbigkbWF0Y2hbM10pKSB7CiR0aGlzLT5pby0+c2V0QXV0aGVudGljYXRpb24oJG1hdGNoWzNdLCByYXd1cmxkZWNvZGUoJG1hdGNoWzFdKSwgcmF3dXJsZGVjb2RlKCRtYXRjaFsyXSkpOwp9Cn0KCiRwcm90b2NvbHMgPSAkdGhpcy0+Y29uZmlnLT5nZXQoJ2dpdGh1Yi1wcm90b2NvbHMnKTsKaWYgKCFpc19hcnJheSgkcHJvdG9jb2xzKSkgewp0aHJvdyBuZXcgXFJ1bnRpbWVFeGNlcHRpb24oJ0NvbmZpZyB2YWx1ZSAiZ2l0aHViLXByb3RvY29scyIgbXVzdCBiZSBhbiBhcnJheSwgZ290ICcgLiBnZXR0eXBlKCRwcm90b2NvbHMpKTsKfQoKaWYgKHByZWdfbWF0Y2goJ3teKD86aHR0cHM/fGdpdCk6Ly8nIC4gc2VsZjo6Z2V0R2l0SHViRG9tYWluc1JlZ2V4KCR0aGlzLT5jb25maWcpIC4gJy8oLiopfScsICR1cmwsICRtYXRjaCkpIHsKJG1lc3NhZ2VzID0gYXJyYXkoKTsKZm9yZWFjaCAoJHByb3RvY29scyBhcyAkcHJvdG9jb2wpIHsKaWYgKCdzc2gnID09PSAkcHJvdG9jb2wpIHsKJHByb3RvVXJsID0gImdpdEAiIC4gJG1hdGNoWzFdIC4gIjoiIC4gJG1hdGNoWzJdOwp9IGVsc2UgewokcHJvdG9VcmwgPSAkcHJvdG9jb2wgLiAiOi8vIiAuICRtYXRjaFsxXSAuICIvIiAuICRtYXRjaFsyXTsKfQoKaWYgKDAgPT09ICR0aGlzLT5wcm9jZXNzLT5leGVjdXRlKGNhbGxfdXNlcl9mdW5jKCRjb21tYW5kQ2FsbGFibGUsICRwcm90b1VybCksICRpZ25vcmVkT3V0cHV0LCAkY3dkKSkgewpyZXR1cm47Cn0KJG1lc3NhZ2VzW10gPSAnLSAnIC4gJHByb3RvVXJsIC4gIlxuIiAuIHByZWdfcmVwbGFjZSgnI14jbScsICcgICcsICR0aGlzLT5wcm9jZXNzLT5nZXRFcnJvck91dHB1dCgpKTsKCmlmICgkaW5pdGlhbENsb25lICYmIGlzc2V0KCRvcmlnQ3dkKSkgewokdGhpcy0+ZmlsZXN5c3RlbS0+cmVtb3ZlRGlyZWN0b3J5KCRvcmlnQ3dkKTsKfQp9CgoKaWYgKCEkdGhpcy0+aW8tPmhhc0F1dGhlbnRpY2F0aW9uKCRtYXRjaFsxXSkgJiYgISR0aGlzLT5pby0+aXNJbnRlcmFjdGl2ZSgpKSB7CiR0aGlzLT50aHJvd0V4Y2VwdGlvbignRmFpbGVkIHRvIGNsb25lICcgLiAkdXJsIC4gJyB2aWEgJyAuIGltcGxvZGUoJywgJywgJHByb3RvY29scykgLiAnIHByb3RvY29scywgYWJvcnRpbmcuJyAuICJcblxuIiAuIGltcGxvZGUoIlxuIiwgJG1lc3NhZ2VzKSwgJHVybCk7Cn0KfQoKCiRieXBhc3NTc2hGb3JHaXRIdWIgPSBwcmVnX21hdGNoKCd7XmdpdEAnIC4gc2VsZjo6Z2V0R2l0SHViRG9tYWluc1JlZ2V4KCR0aGlzLT5jb25maWcpIC4gJzooLis/KVwuZ2l0JH1pJywgJHVybCkgJiYgIWluX2FycmF5KCdzc2gnLCAkcHJvdG9jb2xzLCB0cnVlKTsKCiRjb21tYW5kID0gY2FsbF91c2VyX2Z1bmMoJGNvbW1hbmRDYWxsYWJsZSwgJHVybCk7CgokYXV0aCA9IG51bGw7CmlmICgkYnlwYXNzU3NoRm9yR2l0SHViIHx8IDAgIT09ICR0aGlzLT5wcm9jZXNzLT5leGVjdXRlKCRjb21tYW5kLCAkaWdub3JlZE91dHB1dCwgJGN3ZCkpIHsKJGVycm9yTXNnID0gJHRoaXMtPnByb2Nlc3MtPmdldEVycm9yT3V0cHV0KCk7CgppZiAocHJlZ19tYXRjaCgne15naXRAJyAuIHNlbGY6OmdldEdpdEh1YkRvbWFpbnNSZWdleCgkdGhpcy0+Y29uZmlnKSAuICc6KC4rPylcLmdpdCR9aScsICR1cmwsICRtYXRjaCkKfHwgcHJlZ19tYXRjaCgne15odHRwcz86Ly8nIC4gc2VsZjo6Z2V0R2l0SHViRG9tYWluc1JlZ2V4KCR0aGlzLT5jb25maWcpIC4gJy8oLio/KSg/OlwuZ2l0KT8kfWknLCAkdXJsLCAkbWF0Y2gpCikgewppZiAoISR0aGlzLT5pby0+aGFzQXV0aGVudGljYXRpb24oJG1hdGNoWzFdKSkgewokZ2l0SHViVXRpbCA9IG5ldyBHaXRIdWIoJHRoaXMtPmlvLCAkdGhpcy0+Y29uZmlnLCAkdGhpcy0+cHJvY2Vzcyk7CiRtZXNzYWdlID0gJ0Nsb25pbmcgZmFpbGVkIHVzaW5nIGFuIHNzaCBrZXkgZm9yIGF1dGhlbnRpY2F0aW9uLCBlbnRlciB5b3VyIEdpdEh1YiBjcmVkZW50aWFscyB0byBhY2Nlc3MgcHJpdmF0ZSByZXBvcyc7CgppZiAoISRnaXRIdWJVdGlsLT5hdXRob3JpemVPQXV0aCgkbWF0Y2hbMV0pICYmICR0aGlzLT5pby0+aXNJbnRlcmFjdGl2ZSgpKSB7CiRnaXRIdWJVdGlsLT5hdXRob3JpemVPQXV0aEludGVyYWN0aXZlbHkoJG1hdGNoWzFdLCAkbWVzc2FnZSk7Cn0KfQoKaWYgKCR0aGlzLT5pby0+aGFzQXV0aGVudGljYXRpb24oJG1hdGNoWzFdKSkgewokYXV0aCA9ICR0aGlzLT5pby0+Z2V0QXV0aGVudGljYXRpb24oJG1hdGNoWzFdKTsKJGF1dGhVcmwgPSAnaHR0cHM6Ly8nIC4gcmF3dXJsZW5jb2RlKCRhdXRoWyd1c2VybmFtZSddKSAuICc6JyAuIHJhd3VybGVuY29kZSgkYXV0aFsncGFzc3dvcmQnXSkgLiAnQCcgLiAkbWF0Y2hbMV0gLiAnLycgLiAkbWF0Y2hbMl0gLiAnLmdpdCc7CiRjb21tYW5kID0gY2FsbF91c2VyX2Z1bmMoJGNvbW1hbmRDYWxsYWJsZSwgJGF1dGhVcmwpOwppZiAoMCA9PT0gJHRoaXMtPnByb2Nlc3MtPmV4ZWN1dGUoJGNvbW1hbmQsICRpZ25vcmVkT3V0cHV0LCAkY3dkKSkgewpyZXR1cm47Cn0KCiRlcnJvck1zZyA9ICR0aGlzLT5wcm9jZXNzLT5nZXRFcnJvck91dHB1dCgpOwp9Cn0gZWxzZWlmIChwcmVnX21hdGNoKCd7Xmh0dHBzOi8vKGJpdGJ1Y2tldFwub3JnKS8oLio/KSg/OlwuZ2l0KT8kfWknLCAkdXJsLCAkbWF0Y2gpKSB7IAokYml0YnVja2V0VXRpbCA9IG5ldyBCaXRidWNrZXQoJHRoaXMtPmlvLCAkdGhpcy0+Y29uZmlnLCAkdGhpcy0+cHJvY2Vzcyk7CgppZiAoISR0aGlzLT5pby0+aGFzQXV0aGVudGljYXRpb24oJG1hdGNoWzFdKSkgewokbWVzc2FnZSA9ICdFbnRlciB5b3VyIEJpdGJ1Y2tldCBjcmVkZW50aWFscyB0byBhY2Nlc3MgcHJpdmF0ZSByZXBvcyc7CgppZiAoISRiaXRidWNrZXRVdGlsLT5hdXRob3JpemVPQXV0aCgkbWF0Y2hbMV0pICYmICR0aGlzLT5pby0+aXNJbnRlcmFjdGl2ZSgpKSB7CiRiaXRidWNrZXRVdGlsLT5hdXRob3JpemVPQXV0aEludGVyYWN0aXZlbHkoJG1hdGNoWzFdLCAkbWVzc2FnZSk7CiRhY2Nlc3NUb2tlbiA9ICRiaXRidWNrZXRVdGlsLT5nZXRUb2tlbigpOwokdGhpcy0+aW8tPnNldEF1dGhlbnRpY2F0aW9uKCRtYXRjaFsxXSwgJ3gtdG9rZW4tYXV0aCcsICRhY2Nlc3NUb2tlbik7Cn0KfSBlbHNlIHsgCiRhdXRoID0gJHRoaXMtPmlvLT5nZXRBdXRoZW50aWNhdGlvbigkbWF0Y2hbMV0pOwoKCmlmICgkYXV0aFsndXNlcm5hbWUnXSAhPT0gJ3gtdG9rZW4tYXV0aCcpIHsKJGFjY2Vzc1Rva2VuID0gJGJpdGJ1Y2tldFV0aWwtPnJlcXVlc3RUb2tlbigkbWF0Y2hbMV0sICRhdXRoWyd1c2VybmFtZSddLCAkYXV0aFsncGFzc3dvcmQnXSk7CmlmICghZW1wdHkoJGFjY2Vzc1Rva2VuKSkgewokdGhpcy0+aW8tPnNldEF1dGhlbnRpY2F0aW9uKCRtYXRjaFsxXSwgJ3gtdG9rZW4tYXV0aCcsICRhY2Nlc3NUb2tlbik7Cn0KfQp9CgppZiAoJHRoaXMtPmlvLT5oYXNBdXRoZW50aWNhdGlvbigkbWF0Y2hbMV0pKSB7CiRhdXRoID0gJHRoaXMtPmlvLT5nZXRBdXRoZW50aWNhdGlvbigkbWF0Y2hbMV0pOwokYXV0aFVybCA9ICdodHRwczovLycgLiByYXd1cmxlbmNvZGUoJGF1dGhbJ3VzZXJuYW1lJ10pIC4gJzonIC4gcmF3dXJsZW5jb2RlKCRhdXRoWydwYXNzd29yZCddKSAuICdAJyAuICRtYXRjaFsxXSAuICcvJyAuICRtYXRjaFsyXSAuICcuZ2l0JzsKCiRjb21tYW5kID0gY2FsbF91c2VyX2Z1bmMoJGNvbW1hbmRDYWxsYWJsZSwgJGF1dGhVcmwpOwppZiAoMCA9PT0gJHRoaXMtPnByb2Nlc3MtPmV4ZWN1dGUoJGNvbW1hbmQsICRpZ25vcmVkT3V0cHV0LCAkY3dkKSkgewpyZXR1cm47Cn0KCiRlcnJvck1zZyA9ICR0aGlzLT5wcm9jZXNzLT5nZXRFcnJvck91dHB1dCgpOwp9IGVsc2UgeyAKJHNzaFVybCA9ICdnaXRAYml0YnVja2V0Lm9yZzonIC4gJG1hdGNoWzJdIC4gJy5naXQnOwokdGhpcy0+aW8tPndyaXRlRXJyb3IoJyAgICBObyBiaXRidWNrZXQgYXV0aGVudGljYXRpb24gY29uZmlndXJlZC4gRmFsbGluZyBiYWNrIHRvIHNzaC4nKTsKJGNvbW1hbmQgPSBjYWxsX3VzZXJfZnVuYygkY29tbWFuZENhbGxhYmxlLCAkc3NoVXJsKTsKaWYgKDAgPT09ICR0aGlzLT5wcm9jZXNzLT5leGVjdXRlKCRjb21tYW5kLCAkaWdub3JlZE91dHB1dCwgJGN3ZCkpIHsKcmV0dXJuOwp9CgokZXJyb3JNc2cgPSAkdGhpcy0+cHJvY2Vzcy0+Z2V0RXJyb3JPdXRwdXQoKTsKfQp9IGVsc2VpZiAoCnByZWdfbWF0Y2goJ3teKGdpdClAJyAuIHNlbGY6OmdldEdpdExhYkRvbWFpbnNSZWdleCgkdGhpcy0+Y29uZmlnKSAuICc6KC4rP1wuZ2l0KSR9aScsICR1cmwsICRtYXRjaCkKfHwgcHJlZ19tYXRjaCgne14oaHR0cHM/KTovLycgLiBzZWxmOjpnZXRHaXRMYWJEb21haW5zUmVnZXgoJHRoaXMtPmNvbmZpZykgLiAnLyguKil9aScsICR1cmwsICRtYXRjaCkKKSB7CmlmICgkbWF0Y2hbMV0gPT09ICdnaXQnKSB7CiRtYXRjaFsxXSA9ICdodHRwcyc7Cn0KCmlmICghJHRoaXMtPmlvLT5oYXNBdXRoZW50aWNhdGlvbigkbWF0Y2hbMl0pKSB7CiRnaXRMYWJVdGlsID0gbmV3IEdpdExhYigkdGhpcy0+aW8sICR0aGlzLT5jb25maWcsICR0aGlzLT5wcm9jZXNzKTsKJG1lc3NhZ2UgPSAnQ2xvbmluZyBmYWlsZWQsIGVudGVyIHlvdXIgR2l0TGFiIGNyZWRlbnRpYWxzIHRvIGFjY2VzcyBwcml2YXRlIHJlcG9zJzsKCmlmICghJGdpdExhYlV0aWwtPmF1dGhvcml6ZU9BdXRoKCRtYXRjaFsyXSkgJiYgJHRoaXMtPmlvLT5pc0ludGVyYWN0aXZlKCkpIHsKJGdpdExhYlV0aWwtPmF1dGhvcml6ZU9BdXRoSW50ZXJhY3RpdmVseSgkbWF0Y2hbMV0sICRtYXRjaFsyXSwgJG1lc3NhZ2UpOwp9Cn0KCmlmICgkdGhpcy0+aW8tPmhhc0F1dGhlbnRpY2F0aW9uKCRtYXRjaFsyXSkpIHsKJGF1dGggPSAkdGhpcy0+aW8tPmdldEF1dGhlbnRpY2F0aW9uKCRtYXRjaFsyXSk7CmlmICgkYXV0aFsncGFzc3dvcmQnXSA9PT0gJ3ByaXZhdGUtdG9rZW4nIHx8ICRhdXRoWydwYXNzd29yZCddID09PSAnb2F1dGgyJyB8fCAkYXV0aFsncGFzc3dvcmQnXSA9PT0gJ2dpdGxhYi1jaS10b2tlbicpIHsKJGF1dGhVcmwgPSAkbWF0Y2hbMV0gLiAnOi8vJyAuIHJhd3VybGVuY29kZSgkYXV0aFsncGFzc3dvcmQnXSkgLiAnOicgLiByYXd1cmxlbmNvZGUoJGF1dGhbJ3VzZXJuYW1lJ10pIC4gJ0AnIC4gJG1hdGNoWzJdIC4gJy8nIC4gJG1hdGNoWzNdOyAKfSBlbHNlIHsKJGF1dGhVcmwgPSAkbWF0Y2hbMV0gLiAnOi8vJyAuIHJhd3VybGVuY29kZSgkYXV0aFsndXNlcm5hbWUnXSkgLiAnOicgLiByYXd1cmxlbmNvZGUoJGF1dGhbJ3Bhc3N3b3JkJ10pIC4gJ0AnIC4gJG1hdGNoWzJdIC4gJy8nIC4gJG1hdGNoWzNdOwp9CgokY29tbWFuZCA9IGNhbGxfdXNlcl9mdW5jKCRjb21tYW5kQ2FsbGFibGUsICRhdXRoVXJsKTsKaWYgKDAgPT09ICR0aGlzLT5wcm9jZXNzLT5leGVjdXRlKCRjb21tYW5kLCAkaWdub3JlZE91dHB1dCwgJGN3ZCkpIHsKcmV0dXJuOwp9CgokZXJyb3JNc2cgPSAkdGhpcy0+cHJvY2Vzcy0+Z2V0RXJyb3JPdXRwdXQoKTsKfQp9IGVsc2VpZiAoJHRoaXMtPmlzQXV0aGVudGljYXRpb25GYWlsdXJlKCR1cmwsICRtYXRjaCkpIHsgCmlmIChzdHJwb3MoJG1hdGNoWzJdLCAnQCcpKSB7Cmxpc3QoJGF1dGhQYXJ0cywgJG1hdGNoWzJdKSA9IGV4cGxvZGUoJ0AnLCAkbWF0Y2hbMl0sIDIpOwp9Cgokc3RvcmVBdXRoID0gZmFsc2U7CmlmICgkdGhpcy0+aW8tPmhhc0F1dGhlbnRpY2F0aW9uKCRtYXRjaFsyXSkpIHsKJGF1dGggPSAkdGhpcy0+aW8tPmdldEF1dGhlbnRpY2F0aW9uKCRtYXRjaFsyXSk7Cn0gZWxzZWlmICgkdGhpcy0+aW8tPmlzSW50ZXJhY3RpdmUoKSkgewokZGVmYXVsdFVzZXJuYW1lID0gbnVsbDsKaWYgKGlzc2V0KCRhdXRoUGFydHMpICYmICRhdXRoUGFydHMpIHsKaWYgKGZhbHNlICE9PSBzdHJwb3MoJGF1dGhQYXJ0cywgJzonKSkgewpsaXN0KCRkZWZhdWx0VXNlcm5hbWUsICkgPSBleHBsb2RlKCc6JywgJGF1dGhQYXJ0cywgMik7Cn0gZWxzZSB7CiRkZWZhdWx0VXNlcm5hbWUgPSAkYXV0aFBhcnRzOwp9Cn0KCiR0aGlzLT5pby0+d3JpdGVFcnJvcignICAgIEF1dGhlbnRpY2F0aW9uIHJlcXVpcmVkICg8aW5mbz4nIC4gJG1hdGNoWzJdIC4gJzwvaW5mbz4pOicpOwokYXV0aCA9IGFycmF5KAondXNlcm5hbWUnID0+ICR0aGlzLT5pby0+YXNrKCcgICAgICBVc2VybmFtZTogJywgJGRlZmF1bHRVc2VybmFtZSksCidwYXNzd29yZCcgPT4gJHRoaXMtPmlvLT5hc2tBbmRIaWRlQW5zd2VyKCcgICAgICBQYXNzd29yZDogJyksCik7CiRzdG9yZUF1dGggPSAkdGhpcy0+Y29uZmlnLT5nZXQoJ3N0b3JlLWF1dGhzJyk7Cn0KCmlmICgkYXV0aCkgewokYXV0aFVybCA9ICRtYXRjaFsxXSAuIHJhd3VybGVuY29kZSgkYXV0aFsndXNlcm5hbWUnXSkgLiAnOicgLiByYXd1cmxlbmNvZGUoJGF1dGhbJ3Bhc3N3b3JkJ10pIC4gJ0AnIC4gJG1hdGNoWzJdIC4gJG1hdGNoWzNdOwoKJGNvbW1hbmQgPSBjYWxsX3VzZXJfZnVuYygkY29tbWFuZENhbGxhYmxlLCAkYXV0aFVybCk7CmlmICgwID09PSAkdGhpcy0+cHJvY2Vzcy0+ZXhlY3V0ZSgkY29tbWFuZCwgJGlnbm9yZWRPdXRwdXQsICRjd2QpKSB7CiR0aGlzLT5pby0+c2V0QXV0aGVudGljYXRpb24oJG1hdGNoWzJdLCAkYXV0aFsndXNlcm5hbWUnXSwgJGF1dGhbJ3Bhc3N3b3JkJ10pOwokYXV0aEhlbHBlciA9IG5ldyBBdXRoSGVscGVyKCR0aGlzLT5pbywgJHRoaXMtPmNvbmZpZyk7CiRhdXRoSGVscGVyLT5zdG9yZUF1dGgoJG1hdGNoWzJdLCAkc3RvcmVBdXRoKTsKCnJldHVybjsKfQoKJGVycm9yTXNnID0gJHRoaXMtPnByb2Nlc3MtPmdldEVycm9yT3V0cHV0KCk7Cn0KfQoKaWYgKCRpbml0aWFsQ2xvbmUgJiYgaXNzZXQoJG9yaWdDd2QpKSB7CiR0aGlzLT5maWxlc3lzdGVtLT5yZW1vdmVEaXJlY3RvcnkoJG9yaWdDd2QpOwp9CgokdGhpcy0+dGhyb3dFeGNlcHRpb24oJ0ZhaWxlZCB0byBleGVjdXRlICcgLiAkY29tbWFuZCAuICJcblxuIiAuICRlcnJvck1zZywgJHVybCk7Cn0KfQoKcHVibGljIGZ1bmN0aW9uIHN5bmNNaXJyb3IoJHVybCwgJGRpcikKewppZiAoZ2V0ZW52KCdDT01QT1NFUl9ESVNBQkxFX05FVFdPUksnKSAmJiBnZXRlbnYoJ0NPTVBPU0VSX0RJU0FCTEVfTkVUV09SSycpICE9PSAncHJpbWUnKSB7CiR0aGlzLT5pby0+d3JpdGVFcnJvcignPHdhcm5pbmc+QWJvcnRpbmcgZ2l0IG1pcnJvciBzeW5jIG9mICcuJHVybC4nIGFzIG5ldHdvcmsgaXMgZGlzYWJsZWQ8L3dhcm5pbmc+Jyk7CgpyZXR1cm4gZmFsc2U7Cn0KCgppZiAoaXNfZGlyKCRkaXIpICYmIDAgPT09ICR0aGlzLT5wcm9jZXNzLT5leGVjdXRlKCdnaXQgcmV2LXBhcnNlIC0tZ2l0LWRpcicsICRvdXRwdXQsICRkaXIpICYmIHRyaW0oJG91dHB1dCkgPT09ICcuJykgewp0cnkgewokY29tbWFuZENhbGxhYmxlID0gZnVuY3Rpb24gKCR1cmwpIHsKJHNhbml0aXplZFVybCA9IHByZWdfcmVwbGFjZSgnezovLyhbXkBdKz8pOiguKz8pQH0nLCAnOi8vJywgJHVybCk7CgpyZXR1cm4gc3ByaW50ZignZ2l0IHJlbW90ZSBzZXQtdXJsIG9yaWdpbiAtLSAlcyAmJiBnaXQgcmVtb3RlIHVwZGF0ZSAtLXBydW5lIG9yaWdpbiAmJiBnaXQgcmVtb3RlIHNldC11cmwgb3JpZ2luIC0tICVzICYmIGdpdCBnYyAtLWF1dG8nLCBQcm9jZXNzRXhlY3V0b3I6OmVzY2FwZSgkdXJsKSwgUHJvY2Vzc0V4ZWN1dG9yOjplc2NhcGUoJHNhbml0aXplZFVybCkpOwp9OwokdGhpcy0+cnVuQ29tbWFuZCgkY29tbWFuZENhbGxhYmxlLCAkdXJsLCAkZGlyKTsKfSBjYXRjaCAoXEV4Y2VwdGlvbiAkZSkgewokdGhpcy0+aW8tPndyaXRlRXJyb3IoJzxlcnJvcj5TeW5jIG1pcnJvciBmYWlsZWQ6ICcgLiAkZS0+Z2V0TWVzc2FnZSgpIC4gJzwvZXJyb3I+JywgdHJ1ZSwgSU9JbnRlcmZhY2U6OkRFQlVHKTsKCnJldHVybiBmYWxzZTsKfQoKcmV0dXJuIHRydWU7Cn0KCgokdGhpcy0+ZmlsZXN5c3RlbS0+cmVtb3ZlRGlyZWN0b3J5KCRkaXIpOwoKJGNvbW1hbmRDYWxsYWJsZSA9IGZ1bmN0aW9uICgkdXJsKSB1c2UgKCRkaXIpIHsKcmV0dXJuIHNwcmludGYoJ2dpdCBjbG9uZSAtLW1pcnJvciAtLSAlcyAlcycsIFByb2Nlc3NFeGVjdXRvcjo6ZXNjYXBlKCR1cmwpLCBQcm9jZXNzRXhlY3V0b3I6OmVzY2FwZSgkZGlyKSk7Cn07CgokdGhpcy0+cnVuQ29tbWFuZCgkY29tbWFuZENhbGxhYmxlLCAkdXJsLCAkZGlyLCB0cnVlKTsKCnJldHVybiB0cnVlOwp9CgpwdWJsaWMgZnVuY3Rpb24gZmV0Y2hSZWZPclN5bmNNaXJyb3IoJHVybCwgJGRpciwgJHJlZikKewppZiAoJHRoaXMtPmNoZWNrUmVmSXNJbk1pcnJvcigkZGlyLCAkcmVmKSkgewpyZXR1cm4gdHJ1ZTsKfQoKaWYgKCR0aGlzLT5zeW5jTWlycm9yKCR1cmwsICRkaXIpKSB7CnJldHVybiAkdGhpcy0+Y2hlY2tSZWZJc0luTWlycm9yKCRkaXIsICRyZWYpOwp9CgpyZXR1cm4gZmFsc2U7Cn0KCnB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gZ2V0Tm9TaG93U2lnbmF0dXJlRmxhZyhQcm9jZXNzRXhlY3V0b3IgJHByb2Nlc3MpCnsKJGdpdFZlcnNpb24gPSBzZWxmOjpnZXRWZXJzaW9uKCRwcm9jZXNzKTsKaWYgKCRnaXRWZXJzaW9uICYmIHZlcnNpb25fY29tcGFyZSgkZ2l0VmVyc2lvbiwgJzIuMTAuMC1yYzAnLCAnPj0nKSkgewpyZXR1cm4gJyAtLW5vLXNob3ctc2lnbmF0dXJlJzsKfQoKcmV0dXJuICcnOwp9Cgpwcml2YXRlIGZ1bmN0aW9uIGNoZWNrUmVmSXNJbk1pcnJvcigkZGlyLCAkcmVmKQp7CmlmIChpc19kaXIoJGRpcikgJiYgMCA9PT0gJHRoaXMtPnByb2Nlc3MtPmV4ZWN1dGUoJ2dpdCByZXYtcGFyc2UgLS1naXQtZGlyJywgJG91dHB1dCwgJGRpcikgJiYgdHJpbSgkb3V0cHV0KSA9PT0gJy4nKSB7CiRlc2NhcGVkUmVmID0gUHJvY2Vzc0V4ZWN1dG9yOjplc2NhcGUoJHJlZi4nXntjb21taXR9Jyk7CiRleGl0Q29kZSA9ICR0aGlzLT5wcm9jZXNzLT5leGVjdXRlKHNwcmludGYoJ2dpdCByZXYtcGFyc2UgLS1xdWlldCAtLXZlcmlmeSAlcycsICRlc2NhcGVkUmVmKSwgJGlnbm9yZWRPdXRwdXQsICRkaXIpOwppZiAoJGV4aXRDb2RlID09PSAwKSB7CnJldHVybiB0cnVlOwp9Cn0KCnJldHVybiBmYWxzZTsKfQoKcHJpdmF0ZSBmdW5jdGlvbiBpc0F1dGhlbnRpY2F0aW9uRmFpbHVyZSgkdXJsLCAmJG1hdGNoKQp7CmlmICghcHJlZ19tYXRjaCgne14oaHR0cHM/Oi8vKShbXi9dKykoLiopJH1pJywgJHVybCwgJG1hdGNoKSkgewpyZXR1cm4gZmFsc2U7Cn0KCiRhdXRoRmFpbHVyZXMgPSBhcnJheSgKJ2ZhdGFsOiBBdXRoZW50aWNhdGlvbiBmYWlsZWQnLAoncmVtb3RlIGVycm9yOiBJbnZhbGlkIHVzZXJuYW1lIG9yIHBhc3N3b3JkLicsCidlcnJvcjogNDAxIFVuYXV0aG9yaXplZCcsCidmYXRhbDogdW5hYmxlIHRvIGFjY2VzcycsCidmYXRhbDogY291bGQgbm90IHJlYWQgVXNlcm5hbWUnLAopOwoKJGVycm9yT3V0cHV0ID0gJHRoaXMtPnByb2Nlc3MtPmdldEVycm9yT3V0cHV0KCk7CmZvcmVhY2ggKCRhdXRoRmFpbHVyZXMgYXMgJGF1dGhGYWlsdXJlKSB7CmlmIChzdHJwb3MoJGVycm9yT3V0cHV0LCAkYXV0aEZhaWx1cmUpICE9PSBmYWxzZSkgewpyZXR1cm4gdHJ1ZTsKfQp9CgpyZXR1cm4gZmFsc2U7Cn0KCnB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gY2xlYW5FbnYoKQp7CmlmIChQSFBfVkVSU0lPTl9JRCA8IDUwNDAwICYmIGluaV9nZXQoJ3NhZmVfbW9kZScpICYmIGZhbHNlID09PSBzdHJwb3MoaW5pX2dldCgnc2FmZV9tb2RlX2FsbG93ZWRfZW52X3ZhcnMnKSwgJ0dJVF9BU0tQQVNTJykpIHsKdGhyb3cgbmV3IFxSdW50aW1lRXhjZXB0aW9uKCdzYWZlX21vZGUgaXMgZW5hYmxlZCBhbmQgc2FmZV9tb2RlX2FsbG93ZWRfZW52X3ZhcnMgZG9lcyBub3QgY29udGFpbiBHSVRfQVNLUEFTUywgY2FuIG5vdCBzZXQgZW52IHZhci4gWW91IGNhbiBkaXNhYmxlIHNhZmVfbW9kZSB3aXRoICItZHNhZmVfbW9kZT0wIiB3aGVuIHJ1bm5pbmcgY29tcG9zZXInKTsKfQoKCmlmIChnZXRlbnYoJ0dJVF9BU0tQQVNTJykgIT09ICdlY2hvJykgewpQbGF0Zm9ybTo6cHV0RW52KCdHSVRfQVNLUEFTUycsICdlY2hvJyk7Cn0KCgppZiAoZ2V0ZW52KCdHSVRfRElSJykpIHsKUGxhdGZvcm06OmNsZWFyRW52KCdHSVRfRElSJyk7Cn0KaWYgKGdldGVudignR0lUX1dPUktfVFJFRScpKSB7ClBsYXRmb3JtOjpjbGVhckVudignR0lUX1dPUktfVFJFRScpOwp9CgoKaWYgKGdldGVudignTEFOR1VBR0UnKSAhPT0gJ0MnKSB7ClBsYXRmb3JtOjpwdXRFbnYoJ0xBTkdVQUdFJywgJ0MnKTsKfQoKClBsYXRmb3JtOjpjbGVhckVudignRFlMRF9MSUJSQVJZX1BBVEgnKTsKfQoKcHVibGljIHN0YXRpYyBmdW5jdGlvbiBnZXRHaXRIdWJEb21haW5zUmVnZXgoQ29uZmlnICRjb25maWcpCnsKcmV0dXJuICcoJyAuIGltcGxvZGUoJ3wnLCBhcnJheV9tYXAoJ3ByZWdfcXVvdGUnLCAkY29uZmlnLT5nZXQoJ2dpdGh1Yi1kb21haW5zJykpKSAuICcpJzsKfQoKcHVibGljIHN0YXRpYyBmdW5jdGlvbiBnZXRHaXRMYWJEb21haW5zUmVnZXgoQ29uZmlnICRjb25maWcpCnsKcmV0dXJuICcoJyAuIGltcGxvZGUoJ3wnLCBhcnJheV9tYXAoJ3ByZWdfcXVvdGUnLCAkY29uZmlnLT5nZXQoJ2dpdGxhYi1kb21haW5zJykpKSAuICcpJzsKfQoKcHJpdmF0ZSBmdW5jdGlvbiB0aHJvd0V4Y2VwdGlvbigkbWVzc2FnZSwgJHVybCkKewoKY2xlYXJzdGF0Y2FjaGUoKTsKCmlmICgwICE9PSAkdGhpcy0+cHJvY2Vzcy0+ZXhlY3V0ZSgnZ2l0IC0tdmVyc2lvbicsICRpZ25vcmVkT3V0cHV0KSkgewp0aHJvdyBuZXcgXFJ1bnRpbWVFeGNlcHRpb24oVXJsOjpzYW5pdGl6ZSgnRmFpbGVkIHRvIGNsb25lICcgLiAkdXJsIC4gJywgZ2l0IHdhcyBub3QgZm91bmQsIGNoZWNrIHRoYXQgaXQgaXMgaW5zdGFsbGVkIGFuZCBpbiB5b3VyIFBBVEggZW52LicgLiAiXG5cbiIgLiAkdGhpcy0+cHJvY2Vzcy0+Z2V0RXJyb3JPdXRwdXQoKSkpOwp9Cgp0aHJvdyBuZXcgXFJ1bnRpbWVFeGNlcHRpb24oVXJsOjpzYW5pdGl6ZSgkbWVzc2FnZSkpOwp9CgoKCgoKCnB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gZ2V0VmVyc2lvbihQcm9jZXNzRXhlY3V0b3IgJHByb2Nlc3MpCnsKaWYgKGZhbHNlID09PSBzZWxmOjokdmVyc2lvbikgewpzZWxmOjokdmVyc2lvbiA9IG51bGw7CmlmICgwID09PSAkcHJvY2Vzcy0+ZXhlY3V0ZSgnZ2l0IC0tdmVyc2lvbicsICRvdXRwdXQpICYmIHByZWdfbWF0Y2goJy9eZ2l0IHZlcnNpb24gKFxkKyg/OlwuXGQrKSspL20nLCAkb3V0cHV0LCAkbWF0Y2hlcykpIHsKc2VsZjo6JHZlcnNpb24gPSAkbWF0Y2hlc1sxXTsKfQp9CgpyZXR1cm4gc2VsZjo6JHZlcnNpb247Cn0KfQo8P3BocAoKCgoKCgoKCgoKCm5hbWVzcGFjZSBDb21wb3NlclxVdGlsOwoKdXNlIENvbXBvc2VyXEZhY3Rvcnk7CnVzZSBDb21wb3NlclxJT1xJT0ludGVyZmFjZTsKdXNlIENvbXBvc2VyXENvbmZpZzsKdXNlIENvbXBvc2VyXERvd25sb2FkZXJcVHJhbnNwb3J0RXhjZXB0aW9uOwoKCgoKY2xhc3MgR2l0SHViCnsKCnByb3RlY3RlZCAkaW87Cgpwcm90ZWN0ZWQgJGNvbmZpZzsKCnByb3RlY3RlZCAkcHJvY2VzczsKCnByb3RlY3RlZCAkaHR0cERvd25sb2FkZXI7CgoKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBfX2NvbnN0cnVjdChJT0ludGVyZmFjZSAkaW8sIENvbmZpZyAkY29uZmlnLCBQcm9jZXNzRXhlY3V0b3IgJHByb2Nlc3MgPSBudWxsLCBIdHRwRG93bmxvYWRlciAkaHR0cERvd25sb2FkZXIgPSBudWxsKQp7CiR0aGlzLT5pbyA9ICRpbzsKJHRoaXMtPmNvbmZpZyA9ICRjb25maWc7CiR0aGlzLT5wcm9jZXNzID0gJHByb2Nlc3MgPzogbmV3IFByb2Nlc3NFeGVjdXRvcigkaW8pOwokdGhpcy0+aHR0cERvd25sb2FkZXIgPSAkaHR0cERvd25sb2FkZXIgPzogRmFjdG9yeTo6Y3JlYXRlSHR0cERvd25sb2FkZXIoJHRoaXMtPmlvLCAkY29uZmlnKTsKfQoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIGF1dGhvcml6ZU9BdXRoKCRvcmlnaW5VcmwpCnsKaWYgKCFpbl9hcnJheSgkb3JpZ2luVXJsLCAkdGhpcy0+Y29uZmlnLT5nZXQoJ2dpdGh1Yi1kb21haW5zJykpKSB7CnJldHVybiBmYWxzZTsKfQoKCmlmICgwID09PSAkdGhpcy0+cHJvY2Vzcy0+ZXhlY3V0ZSgnZ2l0IGNvbmZpZyBnaXRodWIuYWNjZXNzdG9rZW4nLCAkb3V0cHV0KSkgewokdGhpcy0+aW8tPnNldEF1dGhlbnRpY2F0aW9uKCRvcmlnaW5VcmwsIHRyaW0oJG91dHB1dCksICd4LW9hdXRoLWJhc2ljJyk7CgpyZXR1cm4gdHJ1ZTsKfQoKcmV0dXJuIGZhbHNlOwp9CgoKCgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gYXV0aG9yaXplT0F1dGhJbnRlcmFjdGl2ZWx5KCRvcmlnaW5VcmwsICRtZXNzYWdlID0gbnVsbCkKewppZiAoJG1lc3NhZ2UpIHsKJHRoaXMtPmlvLT53cml0ZUVycm9yKCRtZXNzYWdlKTsKfQoKJG5vdGUgPSAnQ29tcG9zZXInOwppZiAoJHRoaXMtPmNvbmZpZy0+Z2V0KCdnaXRodWItZXhwb3NlLWhvc3RuYW1lJykgPT09IHRydWUgJiYgMCA9PT0gJHRoaXMtPnByb2Nlc3MtPmV4ZWN1dGUoJ2hvc3RuYW1lJywgJG91dHB1dCkpIHsKJG5vdGUgLj0gJyBvbiAnIC4gdHJpbSgkb3V0cHV0KTsKfQokbm90ZSAuPSAnICcgLiBkYXRlKCdZLW0tZCBIaScpOwoKJHVybCA9ICdodHRwczovLycuJG9yaWdpblVybC4nL3NldHRpbmdzL3Rva2Vucy9uZXc/c2NvcGVzPXJlcG8mZGVzY3JpcHRpb249JyAuIHN0cl9yZXBsYWNlKCclMjAnLCAnKycsIHJhd3VybGVuY29kZSgkbm90ZSkpOwokdGhpcy0+aW8tPndyaXRlRXJyb3Ioc3ByaW50ZignSGVhZCB0byAlcycsICR1cmwpKTsKJHRoaXMtPmlvLT53cml0ZUVycm9yKHNwcmludGYoJ3RvIHJldHJpZXZlIGEgdG9rZW4uIEl0IHdpbGwgYmUgc3RvcmVkIGluICIlcyIgZm9yIGZ1dHVyZSB1c2UgYnkgQ29tcG9zZXIuJywgJHRoaXMtPmNvbmZpZy0+Z2V0QXV0aENvbmZpZ1NvdXJjZSgpLT5nZXROYW1lKCkpKTsKCiR0b2tlbiA9IHRyaW0oJHRoaXMtPmlvLT5hc2tBbmRIaWRlQW5zd2VyKCdUb2tlbiAoaGlkZGVuKTogJykpOwoKaWYgKCEkdG9rZW4pIHsKJHRoaXMtPmlvLT53cml0ZUVycm9yKCc8d2FybmluZz5ObyB0b2tlbiBnaXZlbiwgYWJvcnRpbmcuPC93YXJuaW5nPicpOwokdGhpcy0+aW8tPndyaXRlRXJyb3IoJ1lvdSBjYW4gYWxzbyBhZGQgaXQgbWFudWFsbHkgbGF0ZXIgYnkgdXNpbmcgImNvbXBvc2VyIGNvbmZpZyAtLWdsb2JhbCAtLWF1dGggZ2l0aHViLW9hdXRoLmdpdGh1Yi5jb20gPHRva2VuPiInKTsKCnJldHVybiBmYWxzZTsKfQoKJHRoaXMtPmlvLT5zZXRBdXRoZW50aWNhdGlvbigkb3JpZ2luVXJsLCAkdG9rZW4sICd4LW9hdXRoLWJhc2ljJyk7Cgp0cnkgewokYXBpVXJsID0gKCdnaXRodWIuY29tJyA9PT0gJG9yaWdpblVybCkgPyAnYXBpLmdpdGh1Yi5jb20vJyA6ICRvcmlnaW5VcmwgLiAnL2FwaS92My8nOwoKJHRoaXMtPmh0dHBEb3dubG9hZGVyLT5nZXQoJ2h0dHBzOi8vJy4gJGFwaVVybCwgYXJyYXkoCidyZXRyeS1hdXRoLWZhaWx1cmUnID0+IGZhbHNlLAopKTsKfSBjYXRjaCAoVHJhbnNwb3J0RXhjZXB0aW9uICRlKSB7CmlmIChpbl9hcnJheSgkZS0+Z2V0Q29kZSgpLCBhcnJheSg0MDMsIDQwMSkpKSB7CiR0aGlzLT5pby0+d3JpdGVFcnJvcignPGVycm9yPkludmFsaWQgdG9rZW4gcHJvdmlkZWQuPC9lcnJvcj4nKTsKJHRoaXMtPmlvLT53cml0ZUVycm9yKCdZb3UgY2FuIGFsc28gYWRkIGl0IG1hbnVhbGx5IGxhdGVyIGJ5IHVzaW5nICJjb21wb3NlciBjb25maWcgLS1nbG9iYWwgLS1hdXRoIGdpdGh1Yi1vYXV0aC5naXRodWIuY29tIDx0b2tlbj4iJyk7CgpyZXR1cm4gZmFsc2U7Cn0KCnRocm93ICRlOwp9CgoKJHRoaXMtPmNvbmZpZy0+Z2V0Q29uZmlnU291cmNlKCktPnJlbW92ZUNvbmZpZ1NldHRpbmcoJ2dpdGh1Yi1vYXV0aC4nLiRvcmlnaW5VcmwpOwokdGhpcy0+Y29uZmlnLT5nZXRBdXRoQ29uZmlnU291cmNlKCktPmFkZENvbmZpZ1NldHRpbmcoJ2dpdGh1Yi1vYXV0aC4nLiRvcmlnaW5VcmwsICR0b2tlbik7CgokdGhpcy0+aW8tPndyaXRlRXJyb3IoJzxpbmZvPlRva2VuIHN0b3JlZCBzdWNjZXNzZnVsbHkuPC9pbmZvPicpOwoKcmV0dXJuIHRydWU7Cn0KCgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0UmF0ZUxpbWl0KGFycmF5ICRoZWFkZXJzKQp7CiRyYXRlTGltaXQgPSBhcnJheSgKJ2xpbWl0JyA9PiAnPycsCidyZXNldCcgPT4gJz8nLAopOwoKZm9yZWFjaCAoJGhlYWRlcnMgYXMgJGhlYWRlcikgewokaGVhZGVyID0gdHJpbSgkaGVhZGVyKTsKaWYgKGZhbHNlID09PSBzdHJwb3MoJGhlYWRlciwgJ1gtUmF0ZUxpbWl0LScpKSB7CmNvbnRpbnVlOwp9Cmxpc3QoJHR5cGUsICR2YWx1ZSkgPSBleHBsb2RlKCc6JywgJGhlYWRlciwgMik7CnN3aXRjaCAoJHR5cGUpIHsKY2FzZSAnWC1SYXRlTGltaXQtTGltaXQnOgokcmF0ZUxpbWl0WydsaW1pdCddID0gKGludCkgdHJpbSgkdmFsdWUpOwpicmVhazsKY2FzZSAnWC1SYXRlTGltaXQtUmVzZXQnOgokcmF0ZUxpbWl0WydyZXNldCddID0gZGF0ZSgnWS1tLWQgSDppOnMnLCAoaW50KSB0cmltKCR2YWx1ZSkpOwpicmVhazsKfQp9CgpyZXR1cm4gJHJhdGVMaW1pdDsKfQoKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBpc1JhdGVMaW1pdGVkKGFycmF5ICRoZWFkZXJzKQp7CmZvcmVhY2ggKCRoZWFkZXJzIGFzICRoZWFkZXIpIHsKaWYgKHByZWdfbWF0Y2goJ3teWC1SYXRlTGltaXQtUmVtYWluaW5nOiAqMCR9aScsIHRyaW0oJGhlYWRlcikpKSB7CnJldHVybiB0cnVlOwp9Cn0KCnJldHVybiBmYWxzZTsKfQp9Cjw/cGhwCgoKCgoKCgoKCgoKbmFtZXNwYWNlIENvbXBvc2VyXFV0aWw7Cgp1c2UgQ29tcG9zZXJcSU9cSU9JbnRlcmZhY2U7CnVzZSBDb21wb3NlclxDb25maWc7CnVzZSBDb21wb3NlclxGYWN0b3J5Owp1c2UgQ29tcG9zZXJcRG93bmxvYWRlclxUcmFuc3BvcnRFeGNlcHRpb247CgoKCgpjbGFzcyBHaXRMYWIKewoKcHJvdGVjdGVkICRpbzsKCnByb3RlY3RlZCAkY29uZmlnOwoKcHJvdGVjdGVkICRwcm9jZXNzOwoKcHJvdGVjdGVkICRodHRwRG93bmxvYWRlcjsKCgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIF9fY29uc3RydWN0KElPSW50ZXJmYWNlICRpbywgQ29uZmlnICRjb25maWcsIFByb2Nlc3NFeGVjdXRvciAkcHJvY2VzcyA9IG51bGwsIEh0dHBEb3dubG9hZGVyICRodHRwRG93bmxvYWRlciA9IG51bGwpCnsKJHRoaXMtPmlvID0gJGlvOwokdGhpcy0+Y29uZmlnID0gJGNvbmZpZzsKJHRoaXMtPnByb2Nlc3MgPSAkcHJvY2VzcyA/OiBuZXcgUHJvY2Vzc0V4ZWN1dG9yKCRpbyk7CiR0aGlzLT5odHRwRG93bmxvYWRlciA9ICRodHRwRG93bmxvYWRlciA/OiBGYWN0b3J5OjpjcmVhdGVIdHRwRG93bmxvYWRlcigkdGhpcy0+aW8sICRjb25maWcpOwp9CgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIGF1dGhvcml6ZU9BdXRoKCRvcmlnaW5VcmwpCnsKCiRiY09yaWdpblVybCA9IHByZWdfcmVwbGFjZSgnezpcZCt9JywgJycsICRvcmlnaW5VcmwpOwoKaWYgKCFpbl9hcnJheSgkb3JpZ2luVXJsLCAkdGhpcy0+Y29uZmlnLT5nZXQoJ2dpdGxhYi1kb21haW5zJyksIHRydWUpICYmICFpbl9hcnJheSgkYmNPcmlnaW5VcmwsICR0aGlzLT5jb25maWctPmdldCgnZ2l0bGFiLWRvbWFpbnMnKSwgdHJ1ZSkpIHsKcmV0dXJuIGZhbHNlOwp9CgoKaWYgKDAgPT09ICR0aGlzLT5wcm9jZXNzLT5leGVjdXRlKCdnaXQgY29uZmlnIGdpdGxhYi5hY2Nlc3N0b2tlbicsICRvdXRwdXQpKSB7CiR0aGlzLT5pby0+c2V0QXV0aGVudGljYXRpb24oJG9yaWdpblVybCwgdHJpbSgkb3V0cHV0KSwgJ29hdXRoMicpOwoKcmV0dXJuIHRydWU7Cn0KCgppZiAoMCA9PT0gJHRoaXMtPnByb2Nlc3MtPmV4ZWN1dGUoJ2dpdCBjb25maWcgZ2l0bGFiLmRlcGxveXRva2VuLnVzZXInLCAkdG9rZW5Vc2VyKSAmJiAwID09PSAkdGhpcy0+cHJvY2Vzcy0+ZXhlY3V0ZSgnZ2l0IGNvbmZpZyBnaXRsYWIuZGVwbG95dG9rZW4udG9rZW4nLCAkdG9rZW5QYXNzd29yZCkpIHsKJHRoaXMtPmlvLT5zZXRBdXRoZW50aWNhdGlvbigkb3JpZ2luVXJsLCB0cmltKCR0b2tlblVzZXIpLCB0cmltKCR0b2tlblBhc3N3b3JkKSk7CgpyZXR1cm4gdHJ1ZTsKfQoKCiRhdXRoVG9rZW5zID0gJHRoaXMtPmNvbmZpZy0+Z2V0KCdnaXRsYWItdG9rZW4nKTsKCmlmIChpc3NldCgkYXV0aFRva2Vuc1skb3JpZ2luVXJsXSkpIHsKJHRva2VuID0gJGF1dGhUb2tlbnNbJG9yaWdpblVybF07Cn0KCmlmIChpc3NldCgkYXV0aFRva2Vuc1skYmNPcmlnaW5VcmxdKSkgewokdG9rZW4gPSAkYXV0aFRva2Vuc1skYmNPcmlnaW5VcmxdOwp9CgppZiAoaXNzZXQoJHRva2VuKSkgewokdXNlcm5hbWUgPSBpc19hcnJheSgkdG9rZW4pICYmIGFycmF5X2tleV9leGlzdHMoInVzZXJuYW1lIiwgJHRva2VuKSA/ICR0b2tlblsidXNlcm5hbWUiXSA6ICR0b2tlbjsKJHBhc3N3b3JkID0gaXNfYXJyYXkoJHRva2VuKSAmJiBhcnJheV9rZXlfZXhpc3RzKCJ0b2tlbiIsICR0b2tlbikgPyAkdG9rZW5bInRva2VuIl0gOiAncHJpdmF0ZS10b2tlbic7CiR0aGlzLT5pby0+c2V0QXV0aGVudGljYXRpb24oJG9yaWdpblVybCwgJHVzZXJuYW1lLCAkcGFzc3dvcmQpOwoKcmV0dXJuIHRydWU7Cn0KCnJldHVybiBmYWxzZTsKfQoKCgoKCgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIGF1dGhvcml6ZU9BdXRoSW50ZXJhY3RpdmVseSgkc2NoZW1lLCAkb3JpZ2luVXJsLCAkbWVzc2FnZSA9IG51bGwpCnsKaWYgKCRtZXNzYWdlKSB7CiR0aGlzLT5pby0+d3JpdGVFcnJvcigkbWVzc2FnZSk7Cn0KCiR0aGlzLT5pby0+d3JpdGVFcnJvcihzcHJpbnRmKCdBIHRva2VuIHdpbGwgYmUgY3JlYXRlZCBhbmQgc3RvcmVkIGluICIlcyIsIHlvdXIgcGFzc3dvcmQgd2lsbCBuZXZlciBiZSBzdG9yZWQnLCAkdGhpcy0+Y29uZmlnLT5nZXRBdXRoQ29uZmlnU291cmNlKCktPmdldE5hbWUoKSkpOwokdGhpcy0+aW8tPndyaXRlRXJyb3IoJ1RvIHJldm9rZSBhY2Nlc3MgdG8gdGhpcyB0b2tlbiB5b3UgY2FuIHZpc2l0ICcuJHNjaGVtZS4nOi8vJy4kb3JpZ2luVXJsLicvcHJvZmlsZS9hcHBsaWNhdGlvbnMnKTsKCiRhdHRlbXB0Q291bnRlciA9IDA7Cgp3aGlsZSAoJGF0dGVtcHRDb3VudGVyKysgPCA1KSB7CnRyeSB7CiRyZXNwb25zZSA9ICR0aGlzLT5jcmVhdGVUb2tlbigkc2NoZW1lLCAkb3JpZ2luVXJsKTsKfSBjYXRjaCAoVHJhbnNwb3J0RXhjZXB0aW9uICRlKSB7CgoKaWYgKGluX2FycmF5KCRlLT5nZXRDb2RlKCksIGFycmF5KDQwMywgNDAxKSkpIHsKaWYgKDQwMSA9PT0gJGUtPmdldENvZGUoKSkgewokcmVzcG9uc2UgPSBqc29uX2RlY29kZSgkZS0+Z2V0UmVzcG9uc2UoKSwgdHJ1ZSk7CmlmIChpc3NldCgkcmVzcG9uc2VbJ2Vycm9yJ10pICYmICRyZXNwb25zZVsnZXJyb3InXSA9PT0gJ2ludmFsaWRfZ3JhbnQnKSB7CiR0aGlzLT5pby0+d3JpdGVFcnJvcignQmFkIGNyZWRlbnRpYWxzLiBJZiB5b3UgaGF2ZSB0d28gZmFjdG9yIGF1dGhlbnRpY2F0aW9uIGVuYWJsZWQgeW91IHdpbGwgaGF2ZSB0byBtYW51YWxseSBjcmVhdGUgYSBwZXJzb25hbCBhY2Nlc3MgdG9rZW4nKTsKfSBlbHNlIHsKJHRoaXMtPmlvLT53cml0ZUVycm9yKCdCYWQgY3JlZGVudGlhbHMuJyk7Cn0KfSBlbHNlIHsKJHRoaXMtPmlvLT53cml0ZUVycm9yKCdNYXhpbXVtIG51bWJlciBvZiBsb2dpbiBhdHRlbXB0cyBleGNlZWRlZC4gUGxlYXNlIHRyeSBhZ2FpbiBsYXRlci4nKTsKfQoKJHRoaXMtPmlvLT53cml0ZUVycm9yKCdZb3UgY2FuIGFsc28gbWFudWFsbHkgY3JlYXRlIGEgcGVyc29uYWwgYWNjZXNzIHRva2VuIGVuYWJsaW5nIHRoZSAicmVhZF9hcGkiIHNjb3BlIGF0ICcuJHNjaGVtZS4nOi8vJy4kb3JpZ2luVXJsLicvcHJvZmlsZS9wZXJzb25hbF9hY2Nlc3NfdG9rZW5zJyk7CiR0aGlzLT5pby0+d3JpdGVFcnJvcignQWRkIGl0IHVzaW5nICJjb21wb3NlciBjb25maWcgLS1nbG9iYWwgLS1hdXRoIGdpdGxhYi10b2tlbi4nLiRvcmlnaW5VcmwuJyA8dG9rZW4+IicpOwoKY29udGludWU7Cn0KCnRocm93ICRlOwp9CgokdGhpcy0+aW8tPnNldEF1dGhlbnRpY2F0aW9uKCRvcmlnaW5VcmwsICRyZXNwb25zZVsnYWNjZXNzX3Rva2VuJ10sICdvYXV0aDInKTsKCgokdGhpcy0+Y29uZmlnLT5nZXRBdXRoQ29uZmlnU291cmNlKCktPmFkZENvbmZpZ1NldHRpbmcoJ2dpdGxhYi1vYXV0aC4nLiRvcmlnaW5VcmwsICRyZXNwb25zZVsnYWNjZXNzX3Rva2VuJ10pOwoKcmV0dXJuIHRydWU7Cn0KCnRocm93IG5ldyBcUnVudGltZUV4Y2VwdGlvbignSW52YWxpZCBHaXRMYWIgY3JlZGVudGlhbHMgNSB0aW1lcyBpbiBhIHJvdywgYWJvcnRpbmcuJyk7Cn0KCnByaXZhdGUgZnVuY3Rpb24gY3JlYXRlVG9rZW4oJHNjaGVtZSwgJG9yaWdpblVybCkKewokdXNlcm5hbWUgPSAkdGhpcy0+aW8tPmFzaygnVXNlcm5hbWU6ICcpOwokcGFzc3dvcmQgPSAkdGhpcy0+aW8tPmFza0FuZEhpZGVBbnN3ZXIoJ1Bhc3N3b3JkOiAnKTsKCiRoZWFkZXJzID0gYXJyYXkoJ0NvbnRlbnQtVHlwZTogYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJyk7CgokYXBpVXJsID0gJG9yaWdpblVybDsKJGRhdGEgPSBodHRwX2J1aWxkX3F1ZXJ5KGFycmF5KAondXNlcm5hbWUnID0+ICR1c2VybmFtZSwKJ3Bhc3N3b3JkJyA9PiAkcGFzc3dvcmQsCidncmFudF90eXBlJyA9PiAncGFzc3dvcmQnLAopLCBudWxsLCAnJicpOwokb3B0aW9ucyA9IGFycmF5KAoncmV0cnktYXV0aC1mYWlsdXJlJyA9PiBmYWxzZSwKJ2h0dHAnID0+IGFycmF5KAonbWV0aG9kJyA9PiAnUE9TVCcsCidoZWFkZXInID0+ICRoZWFkZXJzLAonY29udGVudCcgPT4gJGRhdGEsCiksCik7CgokdG9rZW4gPSAkdGhpcy0+aHR0cERvd25sb2FkZXItPmdldCgkc2NoZW1lLic6Ly8nLiRhcGlVcmwuJy9vYXV0aC90b2tlbicsICRvcHRpb25zKS0+ZGVjb2RlSnNvbigpOwoKJHRoaXMtPmlvLT53cml0ZUVycm9yKCdUb2tlbiBzdWNjZXNzZnVsbHkgY3JlYXRlZCcpOwoKcmV0dXJuICR0b2tlbjsKfQp9Cjw/cGhwCgoKCgoKCgoKCgoKbmFtZXNwYWNlIENvbXBvc2VyXFV0aWw7Cgp1c2UgQ29tcG9zZXJcQ29uZmlnOwp1c2UgQ29tcG9zZXJcSU9cSU9JbnRlcmZhY2U7CgoKCgpjbGFzcyBIZwp7CnByaXZhdGUgc3RhdGljICR2ZXJzaW9uID0gZmFsc2U7CgoKCgpwcml2YXRlICRpbzsKCgoKCnByaXZhdGUgJGNvbmZpZzsKCgoKCnByaXZhdGUgJHByb2Nlc3M7CgpwdWJsaWMgZnVuY3Rpb24gX19jb25zdHJ1Y3QoSU9JbnRlcmZhY2UgJGlvLCBDb25maWcgJGNvbmZpZywgUHJvY2Vzc0V4ZWN1dG9yICRwcm9jZXNzKQp7CiR0aGlzLT5pbyA9ICRpbzsKJHRoaXMtPmNvbmZpZyA9ICRjb25maWc7CiR0aGlzLT5wcm9jZXNzID0gJHByb2Nlc3M7Cn0KCnB1YmxpYyBmdW5jdGlvbiBydW5Db21tYW5kKCRjb21tYW5kQ2FsbGFibGUsICR1cmwsICRjd2QpCnsKJHRoaXMtPmNvbmZpZy0+cHJvaGliaXRVcmxCeUNvbmZpZygkdXJsLCAkdGhpcy0+aW8pOwoKCiRjb21tYW5kID0gY2FsbF91c2VyX2Z1bmMoJGNvbW1hbmRDYWxsYWJsZSwgJHVybCk7CgppZiAoMCA9PT0gJHRoaXMtPnByb2Nlc3MtPmV4ZWN1dGUoJGNvbW1hbmQsICRpZ25vcmVkT3V0cHV0LCAkY3dkKSkgewpyZXR1cm47Cn0KCgppZiAocHJlZ19tYXRjaCgne14oaHR0cHM/KTovLygoLispKD86XDooLispKT9AKT8oW14vXSspKC8uKik/fW1pJywgJHVybCwgJG1hdGNoKSAmJiAkdGhpcy0+aW8tPmhhc0F1dGhlbnRpY2F0aW9uKCRtYXRjaFs1XSkpIHsKJGF1dGggPSAkdGhpcy0+aW8tPmdldEF1dGhlbnRpY2F0aW9uKCRtYXRjaFs1XSk7CiRhdXRoZW50aWNhdGVkVXJsID0gJG1hdGNoWzFdIC4gJzovLycgLiByYXd1cmxlbmNvZGUoJGF1dGhbJ3VzZXJuYW1lJ10pIC4gJzonIC4gcmF3dXJsZW5jb2RlKCRhdXRoWydwYXNzd29yZCddKSAuICdAJyAuICRtYXRjaFs1XSAuICghZW1wdHkoJG1hdGNoWzZdKSA/ICRtYXRjaFs2XSA6IG51bGwpOwoKJGNvbW1hbmQgPSBjYWxsX3VzZXJfZnVuYygkY29tbWFuZENhbGxhYmxlLCAkYXV0aGVudGljYXRlZFVybCk7CgppZiAoMCA9PT0gJHRoaXMtPnByb2Nlc3MtPmV4ZWN1dGUoJGNvbW1hbmQsICRpZ25vcmVkT3V0cHV0LCAkY3dkKSkgewpyZXR1cm47Cn0KCiRlcnJvciA9ICR0aGlzLT5wcm9jZXNzLT5nZXRFcnJvck91dHB1dCgpOwp9IGVsc2UgewokZXJyb3IgPSAnVGhlIGdpdmVuIFVSTCAoJyAuICR1cmwgLiAnKSBkb2VzIG5vdCBtYXRjaCB0aGUgcmVxdWlyZWQgZm9ybWF0IChodHRwKHMpOi8vKHVzZXJuYW1lOnBhc3N3b3JkQClleGFtcGxlLmNvbS9wYXRoLXRvLXJlcG9zaXRvcnkpJzsKfQoKJHRoaXMtPnRocm93RXhjZXB0aW9uKCdGYWlsZWQgdG8gY2xvbmUgJyAuICR1cmwgLiAnLCAnIC4gIlxuXG4iIC4gJGVycm9yLCAkdXJsKTsKfQoKcHJpdmF0ZSBmdW5jdGlvbiB0aHJvd0V4Y2VwdGlvbigkbWVzc2FnZSwgJHVybCkKewppZiAobnVsbCA9PT0gc2VsZjo6Z2V0VmVyc2lvbigkdGhpcy0+cHJvY2VzcykpIHsKdGhyb3cgbmV3IFxSdW50aW1lRXhjZXB0aW9uKFVybDo6c2FuaXRpemUoJ0ZhaWxlZCB0byBjbG9uZSAnIC4gJHVybCAuICcsIGhnIHdhcyBub3QgZm91bmQsIGNoZWNrIHRoYXQgaXQgaXMgaW5zdGFsbGVkIGFuZCBpbiB5b3VyIFBBVEggZW52LicgLiAiXG5cbiIgLiAkdGhpcy0+cHJvY2Vzcy0+Z2V0RXJyb3JPdXRwdXQoKSkpOwp9Cgp0aHJvdyBuZXcgXFJ1bnRpbWVFeGNlcHRpb24oVXJsOjpzYW5pdGl6ZSgkbWVzc2FnZSkpOwp9CgoKCgoKCnB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gZ2V0VmVyc2lvbihQcm9jZXNzRXhlY3V0b3IgJHByb2Nlc3MpCnsKaWYgKGZhbHNlID09PSBzZWxmOjokdmVyc2lvbikgewpzZWxmOjokdmVyc2lvbiA9IG51bGw7CmlmICgwID09PSAkcHJvY2Vzcy0+ZXhlY3V0ZSgnaGcgLS12ZXJzaW9uJywgJG91dHB1dCkgJiYgcHJlZ19tYXRjaCgnL14uKz8gKFxkKyg/OlwuXGQrKSspXCk/XHI/XG4vJywgJG91dHB1dCwgJG1hdGNoZXMpKSB7CnNlbGY6OiR2ZXJzaW9uID0gJG1hdGNoZXNbMV07Cn0KfQoKcmV0dXJuIHNlbGY6OiR2ZXJzaW9uOwp9Cn0KPD9waHAKCgoKCgoKCgoKCgpuYW1lc3BhY2UgQ29tcG9zZXJcVXRpbFxIdHRwOwoKdXNlIENvbXBvc2VyXENvbmZpZzsKdXNlIENvbXBvc2VyXERvd25sb2FkZXJcTWF4RmlsZVNpemVFeGNlZWRlZEV4Y2VwdGlvbjsKdXNlIENvbXBvc2VyXElPXElPSW50ZXJmYWNlOwp1c2UgQ29tcG9zZXJcRG93bmxvYWRlclxUcmFuc3BvcnRFeGNlcHRpb247CnVzZSBDb21wb3NlclxVdGlsXFN0cmVhbUNvbnRleHRGYWN0b3J5Owp1c2UgQ29tcG9zZXJcVXRpbFxBdXRoSGVscGVyOwp1c2UgQ29tcG9zZXJcVXRpbFxVcmw7CnVzZSBDb21wb3NlclxVdGlsXEh0dHBEb3dubG9hZGVyOwp1c2UgUmVhY3RcUHJvbWlzZVxQcm9taXNlOwoKCgoKCgpjbGFzcyBDdXJsRG93bmxvYWRlcgp7CnByaXZhdGUgJG11bHRpSGFuZGxlOwpwcml2YXRlICRzaGFyZUhhbmRsZTsKcHJpdmF0ZSAkam9icyA9IGFycmF5KCk7Cgpwcml2YXRlICRpbzsKCnByaXZhdGUgJGNvbmZpZzsKCnByaXZhdGUgJGF1dGhIZWxwZXI7CnByaXZhdGUgJHNlbGVjdFRpbWVvdXQgPSA1LjA7CnByaXZhdGUgJG1heFJlZGlyZWN0cyA9IDIwOwoKcHJpdmF0ZSAkcHJveHlNYW5hZ2VyOwpwcml2YXRlICRzdXBwb3J0c1NlY3VyZVByb3h5Owpwcm90ZWN0ZWQgJG11bHRpRXJyb3JzID0gYXJyYXkoCkNVUkxNX0JBRF9IQU5ETEUgPT4gYXJyYXkoJ0NVUkxNX0JBRF9IQU5ETEUnLCAnVGhlIHBhc3NlZC1pbiBoYW5kbGUgaXMgbm90IGEgdmFsaWQgQ1VSTE0gaGFuZGxlLicpLApDVVJMTV9CQURfRUFTWV9IQU5ETEUgPT4gYXJyYXkoJ0NVUkxNX0JBRF9FQVNZX0hBTkRMRScsICJBbiBlYXN5IGhhbmRsZSB3YXMgbm90IGdvb2QvdmFsaWQuIEl0IGNvdWxkIG1lYW4gdGhhdCBpdCBpc24ndCBhbiBlYXN5IGhhbmRsZSBhdCBhbGwsIG9yIHBvc3NpYmx5IHRoYXQgdGhlIGhhbmRsZSBhbHJlYWR5IGlzIGluIHVzZWQgYnkgdGhpcyBvciBhbm90aGVyIG11bHRpIGhhbmRsZS4iKSwKQ1VSTE1fT1VUX09GX01FTU9SWSA9PiBhcnJheSgnQ1VSTE1fT1VUX09GX01FTU9SWScsICdZb3UgYXJlIGRvb21lZC4nKSwKQ1VSTE1fSU5URVJOQUxfRVJST1IgPT4gYXJyYXkoJ0NVUkxNX0lOVEVSTkFMX0VSUk9SJywgJ1RoaXMgY2FuIG9ubHkgYmUgcmV0dXJuZWQgaWYgbGliY3VybCBidWdzLiBQbGVhc2UgcmVwb3J0IGl0IHRvIHVzIScpLAopOwoKcHJpdmF0ZSBzdGF0aWMgJG9wdGlvbnMgPSBhcnJheSgKJ2h0dHAnID0+IGFycmF5KAonbWV0aG9kJyA9PiBDVVJMT1BUX0NVU1RPTVJFUVVFU1QsCidjb250ZW50JyA9PiBDVVJMT1BUX1BPU1RGSUVMRFMsCidoZWFkZXInID0+IENVUkxPUFRfSFRUUEhFQURFUiwKJ3RpbWVvdXQnID0+IENVUkxPUFRfVElNRU9VVCwKKSwKJ3NzbCcgPT4gYXJyYXkoCidjYWZpbGUnID0+IENVUkxPUFRfQ0FJTkZPLAonY2FwYXRoJyA9PiBDVVJMT1BUX0NBUEFUSCwKJ3ZlcmlmeV9wZWVyJyA9PiBDVVJMT1BUX1NTTF9WRVJJRllQRUVSLAondmVyaWZ5X3BlZXJfbmFtZScgPT4gQ1VSTE9QVF9TU0xfVkVSSUZZSE9TVCwKJ2xvY2FsX2NlcnQnID0+IENVUkxPUFRfU1NMQ0VSVCwKJ2xvY2FsX3BrJyA9PiBDVVJMT1BUX1NTTEtFWSwKJ3Bhc3NwaHJhc2UnID0+IENVUkxPUFRfU1NMS0VZUEFTU1dELAopLAopOwoKcHJpdmF0ZSBzdGF0aWMgJHRpbWVJbmZvID0gYXJyYXkoCid0b3RhbF90aW1lJyA9PiB0cnVlLAonbmFtZWxvb2t1cF90aW1lJyA9PiB0cnVlLAonY29ubmVjdF90aW1lJyA9PiB0cnVlLAoncHJldHJhbnNmZXJfdGltZScgPT4gdHJ1ZSwKJ3N0YXJ0dHJhbnNmZXJfdGltZScgPT4gdHJ1ZSwKJ3JlZGlyZWN0X3RpbWUnID0+IHRydWUsCik7CgpwdWJsaWMgZnVuY3Rpb24gX19jb25zdHJ1Y3QoSU9JbnRlcmZhY2UgJGlvLCBDb25maWcgJGNvbmZpZywgYXJyYXkgJG9wdGlvbnMgPSBhcnJheSgpLCAkZGlzYWJsZVRscyA9IGZhbHNlKQp7CiR0aGlzLT5pbyA9ICRpbzsKJHRoaXMtPmNvbmZpZyA9ICRjb25maWc7CgokdGhpcy0+bXVsdGlIYW5kbGUgPSAkbWggPSBjdXJsX211bHRpX2luaXQoKTsKaWYgKGZ1bmN0aW9uX2V4aXN0cygnY3VybF9tdWx0aV9zZXRvcHQnKSkgewpjdXJsX211bHRpX3NldG9wdCgkbWgsIENVUkxNT1BUX1BJUEVMSU5JTkcsIFBIUF9WRVJTSU9OX0lEID49IDcwNDAwID8gIDIgOiAgMyk7CmlmIChkZWZpbmVkKCdDVVJMTU9QVF9NQVhfSE9TVF9DT05ORUNUSU9OUycpICYmICFkZWZpbmVkKCdISFZNX1ZFUlNJT04nKSkgewpjdXJsX211bHRpX3NldG9wdCgkbWgsIENVUkxNT1BUX01BWF9IT1NUX0NPTk5FQ1RJT05TLCA4KTsKfQp9CgppZiAoZnVuY3Rpb25fZXhpc3RzKCdjdXJsX3NoYXJlX2luaXQnKSkgewokdGhpcy0+c2hhcmVIYW5kbGUgPSAkc2ggPSBjdXJsX3NoYXJlX2luaXQoKTsKY3VybF9zaGFyZV9zZXRvcHQoJHNoLCBDVVJMU0hPUFRfU0hBUkUsIENVUkxfTE9DS19EQVRBX0NPT0tJRSk7CmN1cmxfc2hhcmVfc2V0b3B0KCRzaCwgQ1VSTFNIT1BUX1NIQVJFLCBDVVJMX0xPQ0tfREFUQV9ETlMpOwpjdXJsX3NoYXJlX3NldG9wdCgkc2gsIENVUkxTSE9QVF9TSEFSRSwgQ1VSTF9MT0NLX0RBVEFfU1NMX1NFU1NJT04pOwp9CgokdGhpcy0+YXV0aEhlbHBlciA9IG5ldyBBdXRoSGVscGVyKCRpbywgJGNvbmZpZyk7CiR0aGlzLT5wcm94eU1hbmFnZXIgPSBQcm94eU1hbmFnZXI6OmdldEluc3RhbmNlKCk7CgokdmVyc2lvbiA9IGN1cmxfdmVyc2lvbigpOwokZmVhdHVyZXMgPSAkdmVyc2lvblsnZmVhdHVyZXMnXTsKJHRoaXMtPnN1cHBvcnRzU2VjdXJlUHJveHkgPSBkZWZpbmVkKCdDVVJMX1ZFUlNJT05fSFRUUFNfUFJPWFknKSAmJiAoJGZlYXR1cmVzICYgQ1VSTF9WRVJTSU9OX0hUVFBTX1BST1hZKTsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIGRvd25sb2FkKCRyZXNvbHZlLCAkcmVqZWN0LCAkb3JpZ2luLCAkdXJsLCAkb3B0aW9ucywgJGNvcHlUbyA9IG51bGwpCnsKJGF0dHJpYnV0ZXMgPSBhcnJheSgpOwppZiAoaXNzZXQoJG9wdGlvbnNbJ3JldHJ5LWF1dGgtZmFpbHVyZSddKSkgewokYXR0cmlidXRlc1sncmV0cnlBdXRoRmFpbHVyZSddID0gJG9wdGlvbnNbJ3JldHJ5LWF1dGgtZmFpbHVyZSddOwp1bnNldCgkb3B0aW9uc1sncmV0cnktYXV0aC1mYWlsdXJlJ10pOwp9CgpyZXR1cm4gJHRoaXMtPmluaXREb3dubG9hZCgkcmVzb2x2ZSwgJHJlamVjdCwgJG9yaWdpbiwgJHVybCwgJG9wdGlvbnMsICRjb3B5VG8sICRhdHRyaWJ1dGVzKTsKfQoKCgoKcHJpdmF0ZSBmdW5jdGlvbiBpbml0RG93bmxvYWQoJHJlc29sdmUsICRyZWplY3QsICRvcmlnaW4sICR1cmwsICRvcHRpb25zLCAkY29weVRvID0gbnVsbCwgYXJyYXkgJGF0dHJpYnV0ZXMgPSBhcnJheSgpKQp7CiRhdHRyaWJ1dGVzID0gYXJyYXlfbWVyZ2UoYXJyYXkoCidyZXRyeUF1dGhGYWlsdXJlJyA9PiB0cnVlLAoncmVkaXJlY3RzJyA9PiAwLAonc3RvcmVBdXRoJyA9PiBmYWxzZSwKKSwgJGF0dHJpYnV0ZXMpOwoKJG9yaWdpbmFsT3B0aW9ucyA9ICRvcHRpb25zOwoKCmlmICghcHJlZ19tYXRjaCgne15odHRwOi8vKHJlcG9cLik/cGFja2FnaXN0XC5vcmcvcC99JywgJHVybCkgfHwgKGZhbHNlID09PSBzdHJwb3MoJHVybCwgJyQnKSAmJiBmYWxzZSA9PT0gc3RycG9zKCR1cmwsICclMjQnKSkpIHsKJHRoaXMtPmNvbmZpZy0+cHJvaGliaXRVcmxCeUNvbmZpZygkdXJsLCAkdGhpcy0+aW8pOwp9CgokY3VybEhhbmRsZSA9IGN1cmxfaW5pdCgpOwokaGVhZGVySGFuZGxlID0gZm9wZW4oJ3BocDovL3RlbXAvbWF4bWVtb3J5OjMyNzY4JywgJ3crYicpOwoKaWYgKCRjb3B5VG8pIHsKJGVycm9yTWVzc2FnZSA9ICcnOwpzZXRfZXJyb3JfaGFuZGxlcihmdW5jdGlvbiAoJGNvZGUsICRtc2cpIHVzZSAoJiRlcnJvck1lc3NhZ2UpIHsKaWYgKCRlcnJvck1lc3NhZ2UpIHsKJGVycm9yTWVzc2FnZSAuPSAiXG4iOwp9CiRlcnJvck1lc3NhZ2UgLj0gcHJlZ19yZXBsYWNlKCd7XmZvcGVuXCguKj9cKTogfScsICcnLCAkbXNnKTsKfSk7CiRib2R5SGFuZGxlID0gZm9wZW4oJGNvcHlUby4nficsICd3K2InKTsKcmVzdG9yZV9lcnJvcl9oYW5kbGVyKCk7CmlmICghJGJvZHlIYW5kbGUpIHsKdGhyb3cgbmV3IFRyYW5zcG9ydEV4Y2VwdGlvbignVGhlICInLiR1cmwuJyIgZmlsZSBjb3VsZCBub3QgYmUgd3JpdHRlbiB0byAnLiRjb3B5VG8uJzogJy4kZXJyb3JNZXNzYWdlKTsKfQp9IGVsc2UgewokYm9keUhhbmRsZSA9IEBmb3BlbigncGhwOi8vdGVtcC9tYXhtZW1vcnk6NTI0Mjg4JywgJ3crYicpOwp9CgpjdXJsX3NldG9wdCgkY3VybEhhbmRsZSwgQ1VSTE9QVF9VUkwsICR1cmwpOwpjdXJsX3NldG9wdCgkY3VybEhhbmRsZSwgQ1VSTE9QVF9GT0xMT1dMT0NBVElPTiwgZmFsc2UpOwpjdXJsX3NldG9wdCgkY3VybEhhbmRsZSwgQ1VSTE9QVF9DT05ORUNUVElNRU9VVCwgMTApOwpjdXJsX3NldG9wdCgkY3VybEhhbmRsZSwgQ1VSTE9QVF9USU1FT1VULCAzMDApOwpjdXJsX3NldG9wdCgkY3VybEhhbmRsZSwgQ1VSTE9QVF9XUklURUhFQURFUiwgJGhlYWRlckhhbmRsZSk7CmN1cmxfc2V0b3B0KCRjdXJsSGFuZGxlLCBDVVJMT1BUX0ZJTEUsICRib2R5SGFuZGxlKTsKY3VybF9zZXRvcHQoJGN1cmxIYW5kbGUsIENVUkxPUFRfRU5DT0RJTkcsICJnemlwIik7CmN1cmxfc2V0b3B0KCRjdXJsSGFuZGxlLCBDVVJMT1BUX1BST1RPQ09MUywgQ1VSTFBST1RPX0hUVFAgfCBDVVJMUFJPVE9fSFRUUFMpOwppZiAoZnVuY3Rpb25fZXhpc3RzKCdjdXJsX3NoYXJlX2luaXQnKSkgewpjdXJsX3NldG9wdCgkY3VybEhhbmRsZSwgQ1VSTE9QVF9TSEFSRSwgJHRoaXMtPnNoYXJlSGFuZGxlKTsKfQoKaWYgKCFpc3NldCgkb3B0aW9uc1snaHR0cCddWydoZWFkZXInXSkpIHsKJG9wdGlvbnNbJ2h0dHAnXVsnaGVhZGVyJ10gPSBhcnJheSgpOwp9Cgokb3B0aW9uc1snaHR0cCddWydoZWFkZXInXSA9IGFycmF5X2RpZmYoJG9wdGlvbnNbJ2h0dHAnXVsnaGVhZGVyJ10sIGFycmF5KCdDb25uZWN0aW9uOiBjbG9zZScpKTsKJG9wdGlvbnNbJ2h0dHAnXVsnaGVhZGVyJ11bXSA9ICdDb25uZWN0aW9uOiBrZWVwLWFsaXZlJzsKCiR2ZXJzaW9uID0gY3VybF92ZXJzaW9uKCk7CiRmZWF0dXJlcyA9ICR2ZXJzaW9uWydmZWF0dXJlcyddOwppZiAoMCA9PT0gc3RycG9zKCR1cmwsICdodHRwczovLycpICYmIFxkZWZpbmVkKCdDVVJMX1ZFUlNJT05fSFRUUDInKSAmJiBcZGVmaW5lZCgnQ1VSTF9IVFRQX1ZFUlNJT05fMl8wJykgJiYgKENVUkxfVkVSU0lPTl9IVFRQMiAmICRmZWF0dXJlcykpIHsKY3VybF9zZXRvcHQoJGN1cmxIYW5kbGUsIENVUkxPUFRfSFRUUF9WRVJTSU9OLCBDVVJMX0hUVFBfVkVSU0lPTl8yXzApOwp9Cgokb3B0aW9uc1snaHR0cCddWydoZWFkZXInXSA9ICR0aGlzLT5hdXRoSGVscGVyLT5hZGRBdXRoZW50aWNhdGlvbkhlYWRlcigkb3B0aW9uc1snaHR0cCddWydoZWFkZXInXSwgJG9yaWdpbiwgJHVybCk7CiRvcHRpb25zID0gU3RyZWFtQ29udGV4dEZhY3Rvcnk6OmluaXRPcHRpb25zKCR1cmwsICRvcHRpb25zLCB0cnVlKTsKCmZvcmVhY2ggKHNlbGY6OiRvcHRpb25zIGFzICR0eXBlID0+ICRjdXJsT3B0aW9ucykgewpmb3JlYWNoICgkY3VybE9wdGlvbnMgYXMgJG5hbWUgPT4gJGN1cmxPcHRpb24pIHsKaWYgKGlzc2V0KCRvcHRpb25zWyR0eXBlXVskbmFtZV0pKSB7CmlmICgkdHlwZSA9PT0gJ3NzbCcgJiYgJG5hbWUgPT09ICd2ZXJpZnlfcGVlcl9uYW1lJykgewpjdXJsX3NldG9wdCgkY3VybEhhbmRsZSwgJGN1cmxPcHRpb24sICRvcHRpb25zWyR0eXBlXVskbmFtZV0gPT09IHRydWUgPyAyIDogJG9wdGlvbnNbJHR5cGVdWyRuYW1lXSk7Cn0gZWxzZSB7CmN1cmxfc2V0b3B0KCRjdXJsSGFuZGxlLCAkY3VybE9wdGlvbiwgJG9wdGlvbnNbJHR5cGVdWyRuYW1lXSk7Cn0KfQp9Cn0KCgoKJHByb3h5ID0gJHRoaXMtPnByb3h5TWFuYWdlci0+Z2V0UHJveHlGb3JSZXF1ZXN0KCR1cmwpOwpjdXJsX3NldG9wdCgkY3VybEhhbmRsZSwgQ1VSTE9QVF9QUk9YWSwgJHByb3h5LT5nZXRVcmwoKSk7CgoKCmlmICgkcHJveHktPmlzU2VjdXJlKCkpIHsKaWYgKCEkdGhpcy0+c3VwcG9ydHNTZWN1cmVQcm94eSkgewp0aHJvdyBuZXcgVHJhbnNwb3J0RXhjZXB0aW9uKCdDb25uZWN0aW5nIHRvIGEgc2VjdXJlIHByb3h5IHVzaW5nIGN1cmwgaXMgbm90IHN1cHBvcnRlZCBvbiBQSFAgdmVyc2lvbnMgYmVsb3cgNy4zLjAuJyk7Cn0KaWYgKCFlbXB0eSgkb3B0aW9uc1snc3NsJ11bJ2NhZmlsZSddKSkgewpjdXJsX3NldG9wdCgkY3VybEhhbmRsZSwgQ1VSTE9QVF9QUk9YWV9DQUlORk8sICRvcHRpb25zWydzc2wnXVsnY2FmaWxlJ10pOwp9CmlmICghZW1wdHkoJG9wdGlvbnNbJ3NzbCddWydjYXBhdGgnXSkpIHsKY3VybF9zZXRvcHQoJGN1cmxIYW5kbGUsIENVUkxPUFRfUFJPWFlfQ0FQQVRILCAkb3B0aW9uc1snc3NsJ11bJ2NhcGF0aCddKTsKfQp9CgokcHJvZ3Jlc3MgPSBhcnJheV9kaWZmX2tleShjdXJsX2dldGluZm8oJGN1cmxIYW5kbGUpLCBzZWxmOjokdGltZUluZm8pOwoKJHRoaXMtPmpvYnNbKGludCkgJGN1cmxIYW5kbGVdID0gYXJyYXkoCid1cmwnID0+ICR1cmwsCidvcmlnaW4nID0+ICRvcmlnaW4sCidhdHRyaWJ1dGVzJyA9PiAkYXR0cmlidXRlcywKJ29wdGlvbnMnID0+ICRvcmlnaW5hbE9wdGlvbnMsCidwcm9ncmVzcycgPT4gJHByb2dyZXNzLAonY3VybEhhbmRsZScgPT4gJGN1cmxIYW5kbGUsCidmaWxlbmFtZScgPT4gJGNvcHlUbywKJ2hlYWRlckhhbmRsZScgPT4gJGhlYWRlckhhbmRsZSwKJ2JvZHlIYW5kbGUnID0+ICRib2R5SGFuZGxlLAoncmVzb2x2ZScgPT4gJHJlc29sdmUsCidyZWplY3QnID0+ICRyZWplY3QsCik7CgokdXNpbmdQcm94eSA9ICRwcm94eS0+Z2V0Rm9ybWF0dGVkVXJsKCcgdXNpbmcgcHJveHkgKCVzKScpOwokaWZNb2RpZmllZCA9IGZhbHNlICE9PSBzdHJpcG9zKGltcGxvZGUoJywnLCAkb3B0aW9uc1snaHR0cCddWydoZWFkZXInXSksICdpZi1tb2RpZmllZC1zaW5jZTonKSA/ICcgaWYgbW9kaWZpZWQnIDogJyc7CmlmICgkYXR0cmlidXRlc1sncmVkaXJlY3RzJ10gPT09IDApIHsKJHRoaXMtPmlvLT53cml0ZUVycm9yKCdEb3dubG9hZGluZyAnIC4gVXJsOjpzYW5pdGl6ZSgkdXJsKSAuICR1c2luZ1Byb3h5IC4gJGlmTW9kaWZpZWQsIHRydWUsIElPSW50ZXJmYWNlOjpERUJVRyk7Cn0KCiR0aGlzLT5jaGVja0N1cmxSZXN1bHQoY3VybF9tdWx0aV9hZGRfaGFuZGxlKCR0aGlzLT5tdWx0aUhhbmRsZSwgJGN1cmxIYW5kbGUpKTsKCgpyZXR1cm4gKGludCkgJGN1cmxIYW5kbGU7Cn0KCnB1YmxpYyBmdW5jdGlvbiBhYm9ydFJlcXVlc3QoJGlkKQp7CmlmIChpc3NldCgkdGhpcy0+am9ic1skaWRdLCAkdGhpcy0+am9ic1skaWRdWydoYW5kbGUnXSkpIHsKJGpvYiA9ICR0aGlzLT5qb2JzWyRpZF07CmN1cmxfbXVsdGlfcmVtb3ZlX2hhbmRsZSgkdGhpcy0+bXVsdGlIYW5kbGUsICRqb2JbJ2hhbmRsZSddKTsKY3VybF9jbG9zZSgkam9iWydoYW5kbGUnXSk7CmlmIChpc19yZXNvdXJjZSgkam9iWydoZWFkZXJIYW5kbGUnXSkpIHsKZmNsb3NlKCRqb2JbJ2hlYWRlckhhbmRsZSddKTsKfQppZiAoaXNfcmVzb3VyY2UoJGpvYlsnYm9keUhhbmRsZSddKSkgewpmY2xvc2UoJGpvYlsnYm9keUhhbmRsZSddKTsKfQppZiAoJGpvYlsnZmlsZW5hbWUnXSkgewpAdW5saW5rKCRqb2JbJ2ZpbGVuYW1lJ10uJ34nKTsKfQp1bnNldCgkdGhpcy0+am9ic1skaWRdKTsKfQp9CgpwdWJsaWMgZnVuY3Rpb24gdGljaygpCnsKaWYgKCEkdGhpcy0+am9icykgewpyZXR1cm47Cn0KCiRhY3RpdmUgPSB0cnVlOwokdGhpcy0+Y2hlY2tDdXJsUmVzdWx0KGN1cmxfbXVsdGlfZXhlYygkdGhpcy0+bXVsdGlIYW5kbGUsICRhY3RpdmUpKTsKaWYgKC0xID09PSBjdXJsX211bHRpX3NlbGVjdCgkdGhpcy0+bXVsdGlIYW5kbGUsICR0aGlzLT5zZWxlY3RUaW1lb3V0KSkgewoKdXNsZWVwKDE1MCk7Cn0KCndoaWxlICgkcHJvZ3Jlc3MgPSBjdXJsX211bHRpX2luZm9fcmVhZCgkdGhpcy0+bXVsdGlIYW5kbGUpKSB7CiRjdXJsSGFuZGxlID0gJHByb2dyZXNzWydoYW5kbGUnXTsKJHJlc3VsdCA9ICRwcm9ncmVzc1sncmVzdWx0J107CiRpID0gKGludCkgJGN1cmxIYW5kbGU7CmlmICghaXNzZXQoJHRoaXMtPmpvYnNbJGldKSkgewpjb250aW51ZTsKfQoKJHByb2dyZXNzID0gY3VybF9nZXRpbmZvKCRjdXJsSGFuZGxlKTsKJGpvYiA9ICR0aGlzLT5qb2JzWyRpXTsKdW5zZXQoJHRoaXMtPmpvYnNbJGldKTsKJGVycm9yID0gY3VybF9lcnJvcigkY3VybEhhbmRsZSk7CiRlcnJubyA9IGN1cmxfZXJybm8oJGN1cmxIYW5kbGUpOwpjdXJsX211bHRpX3JlbW92ZV9oYW5kbGUoJHRoaXMtPm11bHRpSGFuZGxlLCAkY3VybEhhbmRsZSk7CmN1cmxfY2xvc2UoJGN1cmxIYW5kbGUpOwoKJGhlYWRlcnMgPSBudWxsOwokc3RhdHVzQ29kZSA9IG51bGw7CiRyZXNwb25zZSA9IG51bGw7CnRyeSB7CgppZiAoQ1VSTEVfT0sgIT09ICRlcnJubyB8fCAkZXJyb3IgfHwgJHJlc3VsdCAhPT0gQ1VSTEVfT0spIHsKJGVycm5vID0gJGVycm5vID86ICRyZXN1bHQ7CmlmICghJGVycm9yICYmIGZ1bmN0aW9uX2V4aXN0cygnY3VybF9zdHJlcnJvcicpKSB7CiRlcnJvciA9IGN1cmxfc3RyZXJyb3IoJGVycm5vKTsKfQp0aHJvdyBuZXcgVHJhbnNwb3J0RXhjZXB0aW9uKCdjdXJsIGVycm9yICcuJGVycm5vLicgd2hpbGUgZG93bmxvYWRpbmcgJy5Vcmw6OnNhbml0aXplKCRwcm9ncmVzc1sndXJsJ10pLic6ICcuJGVycm9yKTsKfQokc3RhdHVzQ29kZSA9ICRwcm9ncmVzc1snaHR0cF9jb2RlJ107CnJld2luZCgkam9iWydoZWFkZXJIYW5kbGUnXSk7CiRoZWFkZXJzID0gZXhwbG9kZSgiXHJcbiIsIHJ0cmltKHN0cmVhbV9nZXRfY29udGVudHMoJGpvYlsnaGVhZGVySGFuZGxlJ10pKSk7CmZjbG9zZSgkam9iWydoZWFkZXJIYW5kbGUnXSk7CgppZiAoJHN0YXR1c0NvZGUgPT09IDApIHsKdGhyb3cgbmV3IFxMb2dpY0V4Y2VwdGlvbignUmVjZWl2ZWQgdW5leHBlY3RlZCBodHRwIHN0YXR1cyBjb2RlIDAgd2l0aG91dCBlcnJvciBmb3IgJy5Vcmw6OnNhbml0aXplKCRwcm9ncmVzc1sndXJsJ10pLic6IGhlYWRlcnMgJy52YXJfZXhwb3J0KCRoZWFkZXJzLCB0cnVlKS4nIGN1cmwgaW5mbyAnLnZhcl9leHBvcnQoJHByb2dyZXNzLCB0cnVlKSk7Cn0KCgppZiAoJGpvYlsnZmlsZW5hbWUnXSkgewokY29udGVudHMgPSAkam9iWydmaWxlbmFtZSddLid+JzsKaWYgKCRzdGF0dXNDb2RlID49IDMwMCkgewpyZXdpbmQoJGpvYlsnYm9keUhhbmRsZSddKTsKJGNvbnRlbnRzID0gc3RyZWFtX2dldF9jb250ZW50cygkam9iWydib2R5SGFuZGxlJ10pOwp9CiRyZXNwb25zZSA9IG5ldyBDdXJsUmVzcG9uc2UoYXJyYXkoJ3VybCcgPT4gJHByb2dyZXNzWyd1cmwnXSksICRzdGF0dXNDb2RlLCAkaGVhZGVycywgJGNvbnRlbnRzLCAkcHJvZ3Jlc3MpOwokdGhpcy0+aW8tPndyaXRlRXJyb3IoJ1snLiRzdGF0dXNDb2RlLiddICcuVXJsOjpzYW5pdGl6ZSgkcHJvZ3Jlc3NbJ3VybCddKSwgdHJ1ZSwgSU9JbnRlcmZhY2U6OkRFQlVHKTsKfSBlbHNlIHsKcmV3aW5kKCRqb2JbJ2JvZHlIYW5kbGUnXSk7CiRjb250ZW50cyA9IHN0cmVhbV9nZXRfY29udGVudHMoJGpvYlsnYm9keUhhbmRsZSddKTsKJHJlc3BvbnNlID0gbmV3IEN1cmxSZXNwb25zZShhcnJheSgndXJsJyA9PiAkcHJvZ3Jlc3NbJ3VybCddKSwgJHN0YXR1c0NvZGUsICRoZWFkZXJzLCAkY29udGVudHMsICRwcm9ncmVzcyk7CiR0aGlzLT5pby0+d3JpdGVFcnJvcignWycuJHN0YXR1c0NvZGUuJ10gJy5Vcmw6OnNhbml0aXplKCRwcm9ncmVzc1sndXJsJ10pLCB0cnVlLCBJT0ludGVyZmFjZTo6REVCVUcpOwp9CmZjbG9zZSgkam9iWydib2R5SGFuZGxlJ10pOwoKaWYgKCRyZXNwb25zZS0+Z2V0U3RhdHVzQ29kZSgpID49IDQwMCAmJiAkcmVzcG9uc2UtPmdldEhlYWRlcignY29udGVudC10eXBlJykgPT09ICdhcHBsaWNhdGlvbi9qc29uJykgewpIdHRwRG93bmxvYWRlcjo6b3V0cHV0V2FybmluZ3MoJHRoaXMtPmlvLCAkam9iWydvcmlnaW4nXSwganNvbl9kZWNvZGUoJHJlc3BvbnNlLT5nZXRCb2R5KCksIHRydWUpKTsKfQoKJHJlc3VsdCA9ICR0aGlzLT5pc0F1dGhlbnRpY2F0ZWRSZXRyeU5lZWRlZCgkam9iLCAkcmVzcG9uc2UpOwppZiAoJHJlc3VsdFsncmV0cnknXSkgewokdGhpcy0+cmVzdGFydEpvYigkam9iLCAkam9iWyd1cmwnXSwgYXJyYXkoJ3N0b3JlQXV0aCcgPT4gJHJlc3VsdFsnc3RvcmVBdXRoJ10pKTsKY29udGludWU7Cn0KCgppZiAoJHN0YXR1c0NvZGUgPj0gMzAwICYmICRzdGF0dXNDb2RlIDw9IDM5OSAmJiAkc3RhdHVzQ29kZSAhPT0gMzA0ICYmICRqb2JbJ2F0dHJpYnV0ZXMnXVsncmVkaXJlY3RzJ10gPCAkdGhpcy0+bWF4UmVkaXJlY3RzKSB7CiRsb2NhdGlvbiA9ICR0aGlzLT5oYW5kbGVSZWRpcmVjdCgkam9iLCAkcmVzcG9uc2UpOwppZiAoJGxvY2F0aW9uKSB7CiR0aGlzLT5yZXN0YXJ0Sm9iKCRqb2IsICRsb2NhdGlvbiwgYXJyYXkoJ3JlZGlyZWN0cycgPT4gJGpvYlsnYXR0cmlidXRlcyddWydyZWRpcmVjdHMnXSArIDEpKTsKY29udGludWU7Cn0KfQoKCmlmICgkc3RhdHVzQ29kZSA+PSA0MDAgJiYgJHN0YXR1c0NvZGUgPD0gNTk5KSB7CnRocm93ICR0aGlzLT5mYWlsUmVzcG9uc2UoJGpvYiwgJHJlc3BvbnNlLCAkcmVzcG9uc2UtPmdldFN0YXR1c01lc3NhZ2UoKSk7Cn0KCmlmICgkam9iWydhdHRyaWJ1dGVzJ11bJ3N0b3JlQXV0aCddKSB7CiR0aGlzLT5hdXRoSGVscGVyLT5zdG9yZUF1dGgoJGpvYlsnb3JpZ2luJ10sICRqb2JbJ2F0dHJpYnV0ZXMnXVsnc3RvcmVBdXRoJ10pOwp9CgoKaWYgKCRqb2JbJ2ZpbGVuYW1lJ10pIHsKcmVuYW1lKCRqb2JbJ2ZpbGVuYW1lJ10uJ34nLCAkam9iWydmaWxlbmFtZSddKTsKY2FsbF91c2VyX2Z1bmMoJGpvYlsncmVzb2x2ZSddLCAkcmVzcG9uc2UpOwp9IGVsc2UgewpjYWxsX3VzZXJfZnVuYygkam9iWydyZXNvbHZlJ10sICRyZXNwb25zZSk7Cn0KfSBjYXRjaCAoXEV4Y2VwdGlvbiAkZSkgewppZiAoJGUgaW5zdGFuY2VvZiBUcmFuc3BvcnRFeGNlcHRpb24gJiYgJGhlYWRlcnMpIHsKJGUtPnNldEhlYWRlcnMoJGhlYWRlcnMpOwokZS0+c2V0U3RhdHVzQ29kZSgkc3RhdHVzQ29kZSk7Cn0KaWYgKCRlIGluc3RhbmNlb2YgVHJhbnNwb3J0RXhjZXB0aW9uICYmICRyZXNwb25zZSkgewokZS0+c2V0UmVzcG9uc2UoJHJlc3BvbnNlLT5nZXRCb2R5KCkpOwp9CmlmICgkZSBpbnN0YW5jZW9mIFRyYW5zcG9ydEV4Y2VwdGlvbiAmJiAkcHJvZ3Jlc3MpIHsKJGUtPnNldFJlc3BvbnNlSW5mbygkcHJvZ3Jlc3MpOwp9CgokdGhpcy0+cmVqZWN0Sm9iKCRqb2IsICRlKTsKfQp9Cgpmb3JlYWNoICgkdGhpcy0+am9icyBhcyAkaSA9PiAkY3VybEhhbmRsZSkgewppZiAoIWlzc2V0KCR0aGlzLT5qb2JzWyRpXSkpIHsKY29udGludWU7Cn0KJGN1cmxIYW5kbGUgPSAkdGhpcy0+am9ic1skaV1bJ2N1cmxIYW5kbGUnXTsKJHByb2dyZXNzID0gYXJyYXlfZGlmZl9rZXkoY3VybF9nZXRpbmZvKCRjdXJsSGFuZGxlKSwgc2VsZjo6JHRpbWVJbmZvKTsKCmlmICgkdGhpcy0+am9ic1skaV1bJ3Byb2dyZXNzJ10gIT09ICRwcm9ncmVzcykgewokdGhpcy0+am9ic1skaV1bJ3Byb2dyZXNzJ10gPSAkcHJvZ3Jlc3M7CgppZiAoaXNzZXQoJHRoaXMtPmpvYnNbJGldWydvcHRpb25zJ11bJ21heF9maWxlX3NpemUnXSkpIHsKCmlmICgkdGhpcy0+am9ic1skaV1bJ29wdGlvbnMnXVsnbWF4X2ZpbGVfc2l6ZSddIDwgJHByb2dyZXNzWydkb3dubG9hZF9jb250ZW50X2xlbmd0aCddKSB7CiR0aGlzLT5yZWplY3RKb2IoJHRoaXMtPmpvYnNbJGldLCBuZXcgTWF4RmlsZVNpemVFeGNlZWRlZEV4Y2VwdGlvbignTWF4aW11bSBhbGxvd2VkIGRvd25sb2FkIHNpemUgcmVhY2hlZC4gQ29udGVudC1sZW5ndGggaGVhZGVyIGluZGljYXRlcyAnIC4gJHByb2dyZXNzWydkb3dubG9hZF9jb250ZW50X2xlbmd0aCddIC4gJyBieXRlcy4gQWxsb3dlZCAnIC4gJHRoaXMtPmpvYnNbJGldWydvcHRpb25zJ11bJ21heF9maWxlX3NpemUnXSAuICcgYnl0ZXMnKSk7Cn0KCgppZiAoJHRoaXMtPmpvYnNbJGldWydvcHRpb25zJ11bJ21heF9maWxlX3NpemUnXSA8ICRwcm9ncmVzc1snc2l6ZV9kb3dubG9hZCddKSB7CiR0aGlzLT5yZWplY3RKb2IoJHRoaXMtPmpvYnNbJGldLCBuZXcgTWF4RmlsZVNpemVFeGNlZWRlZEV4Y2VwdGlvbignTWF4aW11bSBhbGxvd2VkIGRvd25sb2FkIHNpemUgcmVhY2hlZC4gRG93bmxvYWRlZCAnIC4gJHByb2dyZXNzWydzaXplX2Rvd25sb2FkJ10gLiAnIG9mIGFsbG93ZWQgJyAuICR0aGlzLT5qb2JzWyRpXVsnb3B0aW9ucyddWydtYXhfZmlsZV9zaXplJ10gLiAnIGJ5dGVzJykpOwp9Cn0KCgp9Cn0KfQoKcHJpdmF0ZSBmdW5jdGlvbiBoYW5kbGVSZWRpcmVjdChhcnJheSAkam9iLCBSZXNwb25zZSAkcmVzcG9uc2UpCnsKaWYgKCRsb2NhdGlvbkhlYWRlciA9ICRyZXNwb25zZS0+Z2V0SGVhZGVyKCdsb2NhdGlvbicpKSB7CmlmIChwYXJzZV91cmwoJGxvY2F0aW9uSGVhZGVyLCBQSFBfVVJMX1NDSEVNRSkpIHsKCiR0YXJnZXRVcmwgPSAkbG9jYXRpb25IZWFkZXI7Cn0gZWxzZWlmIChwYXJzZV91cmwoJGxvY2F0aW9uSGVhZGVyLCBQSFBfVVJMX0hPU1QpKSB7CgokdGFyZ2V0VXJsID0gcGFyc2VfdXJsKCRqb2JbJ3VybCddLCBQSFBfVVJMX1NDSEVNRSkuJzonLiRsb2NhdGlvbkhlYWRlcjsKfSBlbHNlaWYgKCcvJyA9PT0gJGxvY2F0aW9uSGVhZGVyWzBdKSB7CgokdXJsSG9zdCA9IHBhcnNlX3VybCgkam9iWyd1cmwnXSwgUEhQX1VSTF9IT1NUKTsKCgokdGFyZ2V0VXJsID0gcHJlZ19yZXBsYWNlKCd7XiguKyg/Oi8vfEApJy5wcmVnX3F1b3RlKCR1cmxIb3N0KS4nKD86OlxkKyk/KSg/OlsvXD9dLiopPyR9JywgJ1wxJy4kbG9jYXRpb25IZWFkZXIsICRqb2JbJ3VybCddKTsKfSBlbHNlIHsKCgokdGFyZ2V0VXJsID0gcHJlZ19yZXBsYWNlKCd7XiguKy8pW14vP10qKD86XD8uKik/JH0nLCAnXDEnLiRsb2NhdGlvbkhlYWRlciwgJGpvYlsndXJsJ10pOwp9Cn0KCmlmICghZW1wdHkoJHRhcmdldFVybCkpIHsKJHRoaXMtPmlvLT53cml0ZUVycm9yKHNwcmludGYoJ0ZvbGxvd2luZyByZWRpcmVjdCAoJXUpICVzJywgJGpvYlsnYXR0cmlidXRlcyddWydyZWRpcmVjdHMnXSArIDEsIFVybDo6c2FuaXRpemUoJHRhcmdldFVybCkpLCB0cnVlLCBJT0ludGVyZmFjZTo6REVCVUcpOwoKcmV0dXJuICR0YXJnZXRVcmw7Cn0KCnRocm93IG5ldyBUcmFuc3BvcnRFeGNlcHRpb24oJ1RoZSAiJy4kam9iWyd1cmwnXS4nIiBmaWxlIGNvdWxkIG5vdCBiZSBkb3dubG9hZGVkLCBnb3QgcmVkaXJlY3Qgd2l0aG91dCBMb2NhdGlvbiAoJy4kcmVzcG9uc2UtPmdldFN0YXR1c01lc3NhZ2UoKS4nKScpOwp9Cgpwcml2YXRlIGZ1bmN0aW9uIGlzQXV0aGVudGljYXRlZFJldHJ5TmVlZGVkKGFycmF5ICRqb2IsIFJlc3BvbnNlICRyZXNwb25zZSkKewppZiAoaW5fYXJyYXkoJHJlc3BvbnNlLT5nZXRTdGF0dXNDb2RlKCksIGFycmF5KDQwMSwgNDAzKSkgJiYgJGpvYlsnYXR0cmlidXRlcyddWydyZXRyeUF1dGhGYWlsdXJlJ10pIHsKJHJlc3VsdCA9ICR0aGlzLT5hdXRoSGVscGVyLT5wcm9tcHRBdXRoSWZOZWVkZWQoJGpvYlsndXJsJ10sICRqb2JbJ29yaWdpbiddLCAkcmVzcG9uc2UtPmdldFN0YXR1c0NvZGUoKSwgJHJlc3BvbnNlLT5nZXRTdGF0dXNNZXNzYWdlKCksICRyZXNwb25zZS0+Z2V0SGVhZGVycygpKTsKCmlmICgkcmVzdWx0WydyZXRyeSddKSB7CnJldHVybiAkcmVzdWx0Owp9Cn0KCiRsb2NhdGlvbkhlYWRlciA9ICRyZXNwb25zZS0+Z2V0SGVhZGVyKCdsb2NhdGlvbicpOwokbmVlZHNBdXRoUmV0cnkgPSBmYWxzZTsKCgppZiAoCiRqb2JbJ29yaWdpbiddID09PSAnYml0YnVja2V0Lm9yZycKJiYgISR0aGlzLT5hdXRoSGVscGVyLT5pc1B1YmxpY0JpdEJ1Y2tldERvd25sb2FkKCRqb2JbJ3VybCddKQomJiBzdWJzdHIoJGpvYlsndXJsJ10sIC00KSA9PT0gJy56aXAnCiYmICghJGxvY2F0aW9uSGVhZGVyIHx8IHN1YnN0cigkbG9jYXRpb25IZWFkZXIsIC00KSAhPT0gJy56aXAnKQomJiBwcmVnX21hdGNoKCd7XnRleHQvaHRtbFxifWknLCAkcmVzcG9uc2UtPmdldEhlYWRlcignY29udGVudC10eXBlJykpCikgewokbmVlZHNBdXRoUmV0cnkgPSAnQml0YnVja2V0IHJlcXVpcmVzIGF1dGhlbnRpY2F0aW9uIGFuZCBpdCB3YXMgbm90IHByb3ZpZGVkJzsKfQoKCmlmICgKJHJlc3BvbnNlLT5nZXRTdGF0dXNDb2RlKCkgPT09IDQwNAomJiBpbl9hcnJheSgkam9iWydvcmlnaW4nXSwgJHRoaXMtPmNvbmZpZy0+Z2V0KCdnaXRsYWItZG9tYWlucycpLCB0cnVlKQomJiBmYWxzZSAhPT0gc3RycG9zKCRqb2JbJ3VybCddLCAnYXJjaGl2ZS56aXAnKQopIHsKJG5lZWRzQXV0aFJldHJ5ID0gJ0dpdExhYiByZXF1aXJlcyBhdXRoZW50aWNhdGlvbiBhbmQgaXQgd2FzIG5vdCBwcm92aWRlZCc7Cn0KCmlmICgkbmVlZHNBdXRoUmV0cnkpIHsKaWYgKCRqb2JbJ2F0dHJpYnV0ZXMnXVsncmV0cnlBdXRoRmFpbHVyZSddKSB7CiRyZXN1bHQgPSAkdGhpcy0+YXV0aEhlbHBlci0+cHJvbXB0QXV0aElmTmVlZGVkKCRqb2JbJ3VybCddLCAkam9iWydvcmlnaW4nXSwgNDAxKTsKaWYgKCRyZXN1bHRbJ3JldHJ5J10pIHsKcmV0dXJuICRyZXN1bHQ7Cn0KfQoKdGhyb3cgJHRoaXMtPmZhaWxSZXNwb25zZSgkam9iLCAkcmVzcG9uc2UsICRuZWVkc0F1dGhSZXRyeSk7Cn0KCnJldHVybiBhcnJheSgncmV0cnknID0+IGZhbHNlLCAnc3RvcmVBdXRoJyA9PiBmYWxzZSk7Cn0KCnByaXZhdGUgZnVuY3Rpb24gcmVzdGFydEpvYihhcnJheSAkam9iLCAkdXJsLCBhcnJheSAkYXR0cmlidXRlcyA9IGFycmF5KCkpCnsKaWYgKCRqb2JbJ2ZpbGVuYW1lJ10pIHsKQHVubGluaygkam9iWydmaWxlbmFtZSddLid+Jyk7Cn0KCiRhdHRyaWJ1dGVzID0gYXJyYXlfbWVyZ2UoJGpvYlsnYXR0cmlidXRlcyddLCAkYXR0cmlidXRlcyk7CiRvcmlnaW4gPSBVcmw6OmdldE9yaWdpbigkdGhpcy0+Y29uZmlnLCAkdXJsKTsKCiR0aGlzLT5pbml0RG93bmxvYWQoJGpvYlsncmVzb2x2ZSddLCAkam9iWydyZWplY3QnXSwgJG9yaWdpbiwgJHVybCwgJGpvYlsnb3B0aW9ucyddLCAkam9iWydmaWxlbmFtZSddLCAkYXR0cmlidXRlcyk7Cn0KCnByaXZhdGUgZnVuY3Rpb24gZmFpbFJlc3BvbnNlKGFycmF5ICRqb2IsIFJlc3BvbnNlICRyZXNwb25zZSwgJGVycm9yTWVzc2FnZSkKewppZiAoJGpvYlsnZmlsZW5hbWUnXSkgewpAdW5saW5rKCRqb2JbJ2ZpbGVuYW1lJ10uJ34nKTsKfQoKJGRldGFpbHMgPSAnJzsKaWYgKCRyZXNwb25zZS0+Z2V0SGVhZGVyKCdjb250ZW50LXR5cGUnKSA9PT0gJ2FwcGxpY2F0aW9uL2pzb24nKSB7CiRkZXRhaWxzID0gJzonLlBIUF9FT0wuc3Vic3RyKCRyZXNwb25zZS0+Z2V0Qm9keSgpLCAwLCAyMDApLihzdHJsZW4oJHJlc3BvbnNlLT5nZXRCb2R5KCkpID4gMjAwID8gJy4uLicgOiAnJyk7Cn0KCnJldHVybiBuZXcgVHJhbnNwb3J0RXhjZXB0aW9uKCdUaGUgIicuJGpvYlsndXJsJ10uJyIgZmlsZSBjb3VsZCBub3QgYmUgZG93bmxvYWRlZCAoJy4kZXJyb3JNZXNzYWdlLicpJyAuICRkZXRhaWxzLCAkcmVzcG9uc2UtPmdldFN0YXR1c0NvZGUoKSk7Cn0KCnByaXZhdGUgZnVuY3Rpb24gcmVqZWN0Sm9iKGFycmF5ICRqb2IsIFxFeGNlcHRpb24gJGUpCnsKaWYgKGlzX3Jlc291cmNlKCRqb2JbJ2hlYWRlckhhbmRsZSddKSkgewpmY2xvc2UoJGpvYlsnaGVhZGVySGFuZGxlJ10pOwp9CmlmIChpc19yZXNvdXJjZSgkam9iWydib2R5SGFuZGxlJ10pKSB7CmZjbG9zZSgkam9iWydib2R5SGFuZGxlJ10pOwp9CmlmICgkam9iWydmaWxlbmFtZSddKSB7CkB1bmxpbmsoJGpvYlsnZmlsZW5hbWUnXS4nficpOwp9CmNhbGxfdXNlcl9mdW5jKCRqb2JbJ3JlamVjdCddLCAkZSk7Cn0KCnByaXZhdGUgZnVuY3Rpb24gY2hlY2tDdXJsUmVzdWx0KCRjb2RlKQp7CmlmICgkY29kZSAhPSBDVVJMTV9PSyAmJiAkY29kZSAhPSBDVVJMTV9DQUxMX01VTFRJX1BFUkZPUk0pIHsKdGhyb3cgbmV3IFxSdW50aW1lRXhjZXB0aW9uKAppc3NldCgkdGhpcy0+bXVsdGlFcnJvcnNbJGNvZGVdKQo/ICJjVVJMIGVycm9yOiB7JGNvZGV9ICh7JHRoaXMtPm11bHRpRXJyb3JzWyRjb2RlXVswXX0pOiBjVVJMIG1lc3NhZ2U6IHskdGhpcy0+bXVsdGlFcnJvcnNbJGNvZGVdWzFdfSIKOiAnVW5leHBlY3RlZCBjVVJMIGVycm9yOiAnIC4gJGNvZGUKKTsKfQp9Cn0KPD9waHAKCgoKCgoKCgoKCgpuYW1lc3BhY2UgQ29tcG9zZXJcVXRpbFxIdHRwOwoKY2xhc3MgQ3VybFJlc3BvbnNlIGV4dGVuZHMgUmVzcG9uc2UKewpwcml2YXRlICRjdXJsSW5mbzsKCnB1YmxpYyBmdW5jdGlvbiBfX2NvbnN0cnVjdChhcnJheSAkcmVxdWVzdCwgJGNvZGUsIGFycmF5ICRoZWFkZXJzLCAkYm9keSwgYXJyYXkgJGN1cmxJbmZvKQp7CnBhcmVudDo6X19jb25zdHJ1Y3QoJHJlcXVlc3QsICRjb2RlLCAkaGVhZGVycywgJGJvZHkpOwokdGhpcy0+Y3VybEluZm8gPSAkY3VybEluZm87Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBnZXRDdXJsSW5mbygpCnsKcmV0dXJuICR0aGlzLT5jdXJsSW5mbzsKfQp9Cjw/cGhwCgoKCgoKCgoKCgoKbmFtZXNwYWNlIENvbXBvc2VyXFV0aWxcSHR0cDsKCgoKCgoKCmNsYXNzIFByb3h5SGVscGVyCnsKCgoKCgoKcHVibGljIHN0YXRpYyBmdW5jdGlvbiBnZXRQcm94eURhdGEoKQp7CiRodHRwUHJveHkgPSBudWxsOwokaHR0cHNQcm94eSA9IG51bGw7CgoKaWYgKFBIUF9TQVBJID09PSAnY2xpJyB8fCBQSFBfU0FQSSA9PT0gJ3BocGRiZycpIHsKaWYgKCRlbnYgPSBzZWxmOjpnZXRQcm94eUVudihhcnJheSgnaHR0cF9wcm94eScsICdIVFRQX1BST1hZJyksICRuYW1lKSkgewokaHR0cFByb3h5ID0gc2VsZjo6Y2hlY2tQcm94eSgkZW52LCAkbmFtZSk7Cn0KfQoKCmlmICgkZW52ID0gc2VsZjo6Z2V0UHJveHlFbnYoYXJyYXkoJ0NHSV9IVFRQX1BST1hZJyksICRuYW1lKSkgewokaHR0cFByb3h5ID0gc2VsZjo6Y2hlY2tQcm94eSgkZW52LCAkbmFtZSk7Cn0KCgppZiAoJGVudiA9IHNlbGY6OmdldFByb3h5RW52KGFycmF5KCdodHRwc19wcm94eScsICdIVFRQU19QUk9YWScpLCAkbmFtZSkpIHsKJGh0dHBzUHJveHkgPSBzZWxmOjpjaGVja1Byb3h5KCRlbnYsICRuYW1lKTsKfSBlbHNlIHsKJGh0dHBzUHJveHkgPSAkaHR0cFByb3h5Owp9CgoKJG5vUHJveHkgPSBzZWxmOjpnZXRQcm94eUVudihhcnJheSgnbm9fcHJveHknLCAnTk9fUFJPWFknKSwgJG5hbWUpOwoKcmV0dXJuIGFycmF5KCRodHRwUHJveHksICRodHRwc1Byb3h5LCAkbm9Qcm94eSk7Cn0KCgoKCgoKCnB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gZ2V0Q29udGV4dE9wdGlvbnMoJHByb3h5VXJsKQp7CiRwcm94eSA9IHBhcnNlX3VybCgkcHJveHlVcmwpOwoKCiRwcm94eVVybCA9IHNlbGY6OmZvcm1hdFBhcnNlZFVybCgkcHJveHksIGZhbHNlKTsKJHByb3h5VXJsID0gc3RyX3JlcGxhY2UoYXJyYXkoJ2h0dHA6Ly8nLCAnaHR0cHM6Ly8nKSwgYXJyYXkoJ3RjcDovLycsICdzc2w6Ly8nKSwgJHByb3h5VXJsKTsKCiRvcHRpb25zWydodHRwJ11bJ3Byb3h5J10gPSAkcHJveHlVcmw7CgoKaWYgKGlzc2V0KCRwcm94eVsndXNlciddKSkgewokYXV0aCA9IHJhd3VybGRlY29kZSgkcHJveHlbJ3VzZXInXSk7CgppZiAoaXNzZXQoJHByb3h5WydwYXNzJ10pKSB7CiRhdXRoIC49ICc6JyAuIHJhd3VybGRlY29kZSgkcHJveHlbJ3Bhc3MnXSk7Cn0KJGF1dGggPSBiYXNlNjRfZW5jb2RlKCRhdXRoKTsKCiRvcHRpb25zWydodHRwJ11bJ2hlYWRlciddID0gIlByb3h5LUF1dGhvcml6YXRpb246IEJhc2ljIHskYXV0aH0iOwp9CgpyZXR1cm4gJG9wdGlvbnM7Cn0KCgoKCgoKCnB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gc2V0UmVxdWVzdEZ1bGxVcmkoJHJlcXVlc3RVcmwsIGFycmF5ICYkb3B0aW9ucykKewppZiAoJ2h0dHAnID09PSBwYXJzZV91cmwoJHJlcXVlc3RVcmwsIFBIUF9VUkxfU0NIRU1FKSkgewokb3B0aW9uc1snaHR0cCddWydyZXF1ZXN0X2Z1bGx1cmknXSA9IHRydWU7Cn0gZWxzZSB7CnVuc2V0KCRvcHRpb25zWydodHRwJ11bJ3JlcXVlc3RfZnVsbHVyaSddKTsKfQp9CgoKCgoKCgoKcHJpdmF0ZSBzdGF0aWMgZnVuY3Rpb24gZ2V0UHJveHlFbnYoYXJyYXkgJG5hbWVzLCAmJG5hbWUpCnsKZm9yZWFjaCAoJG5hbWVzIGFzICRuYW1lKSB7CmlmICghZW1wdHkoJF9TRVJWRVJbJG5hbWVdKSkgewpyZXR1cm4gJF9TRVJWRVJbJG5hbWVdOwp9Cn0KCnJldHVybiBudWxsOwp9CgoKCgoKCgoKCnByaXZhdGUgc3RhdGljIGZ1bmN0aW9uIGNoZWNrUHJveHkoJHByb3h5VXJsLCAkZW52TmFtZSkKewokZXJyb3IgPSBzcHJpbnRmKCdtYWxmb3JtZWQgJXMgdXJsJywgJGVudk5hbWUpOwokcHJveHkgPSBwYXJzZV91cmwoJHByb3h5VXJsKTsKCgppZiAoIWlzc2V0KCRwcm94eVsnaG9zdCddKSkgewp0aHJvdyBuZXcgXFJ1bnRpbWVFeGNlcHRpb24oJGVycm9yKTsKfQoKJHByb3h5VXJsID0gc2VsZjo6Zm9ybWF0UGFyc2VkVXJsKCRwcm94eSwgdHJ1ZSk7CgoKaWYgKCFwYXJzZV91cmwoJHByb3h5VXJsLCBQSFBfVVJMX1BPUlQpKSB7CnRocm93IG5ldyBcUnVudGltZUV4Y2VwdGlvbigkZXJyb3IpOwp9CgpyZXR1cm4gJHByb3h5VXJsOwp9CgoKCgoKCgoKcHJpdmF0ZSBzdGF0aWMgZnVuY3Rpb24gZm9ybWF0UGFyc2VkVXJsKGFycmF5ICRwcm94eSwgJGluY2x1ZGVBdXRoKQp7CiRwcm94eVVybCA9IGlzc2V0KCRwcm94eVsnc2NoZW1lJ10pID8gc3RydG9sb3dlcigkcHJveHlbJ3NjaGVtZSddKSAuICc6Ly8nIDogJyc7CgppZiAoJGluY2x1ZGVBdXRoICYmIGlzc2V0KCRwcm94eVsndXNlciddKSkgewokcHJveHlVcmwgLj0gJHByb3h5Wyd1c2VyJ107CgppZiAoaXNzZXQoJHByb3h5WydwYXNzJ10pKSB7CiRwcm94eVVybCAuPSAnOicgLiAkcHJveHlbJ3Bhc3MnXTsKfQokcHJveHlVcmwgLj0gJ0AnOwp9CgokcHJveHlVcmwgLj0gJHByb3h5Wydob3N0J107CgppZiAoaXNzZXQoJHByb3h5Wydwb3J0J10pKSB7CiRwcm94eVVybCAuPSAnOicgLiAkcHJveHlbJ3BvcnQnXTsKfSBlbHNlaWYgKHN0cnBvcygkcHJveHlVcmwsICdodHRwOi8vJykgPT09IDApIHsKJHByb3h5VXJsIC49ICc6ODAnOwp9IGVsc2VpZiAoc3RycG9zKCRwcm94eVVybCwgJ2h0dHBzOi8vJykgPT09IDApIHsKJHByb3h5VXJsIC49ICc6NDQzJzsKfQoKcmV0dXJuICRwcm94eVVybDsKfQp9Cjw/cGhwCgoKCgoKCgoKCgoKbmFtZXNwYWNlIENvbXBvc2VyXFV0aWxcSHR0cDsKCnVzZSBDb21wb3NlclxEb3dubG9hZGVyXFRyYW5zcG9ydEV4Y2VwdGlvbjsKdXNlIENvbXBvc2VyXFV0aWxcTm9Qcm94eVBhdHRlcm47CnVzZSBDb21wb3NlclxVdGlsXFVybDsKCgoKCgpjbGFzcyBQcm94eU1hbmFnZXIKewpwcml2YXRlICRlcnJvcjsKcHJpdmF0ZSAkZnVsbFByb3h5Owpwcml2YXRlICRzYWZlUHJveHk7CnByaXZhdGUgJHN0cmVhbXM7CnByaXZhdGUgJGhhc1Byb3h5Owpwcml2YXRlICRpbmZvOwpwcml2YXRlICRsYXN0UHJveHk7Cgpwcml2YXRlICRub1Byb3h5SGFuZGxlciA9IG51bGw7CgoKcHJpdmF0ZSBzdGF0aWMgJGluc3RhbmNlID0gbnVsbDsKCnByaXZhdGUgZnVuY3Rpb24gX19jb25zdHJ1Y3QoKQp7CiR0aGlzLT5mdWxsUHJveHkgPSAkdGhpcy0+c2FmZVByb3h5ID0gYXJyYXkoCidodHRwJyA9PiBudWxsLAonaHR0cHMnID0+IG51bGwsCik7CgokdGhpcy0+c3RyZWFtc1snaHR0cCddID0gJHRoaXMtPnN0cmVhbXNbJ2h0dHBzJ10gPSBhcnJheSgKJ29wdGlvbnMnID0+IG51bGwsCik7CgokdGhpcy0+aGFzUHJveHkgPSBmYWxzZTsKJHRoaXMtPmluaXRQcm94eURhdGEoKTsKfQoKCgoKcHVibGljIHN0YXRpYyBmdW5jdGlvbiBnZXRJbnN0YW5jZSgpCnsKaWYgKCFzZWxmOjokaW5zdGFuY2UpIHsKc2VsZjo6JGluc3RhbmNlID0gbmV3IHNlbGYoKTsKfQoKcmV0dXJuIHNlbGY6OiRpbnN0YW5jZTsKfQoKCgoKcHVibGljIHN0YXRpYyBmdW5jdGlvbiByZXNldCgpCnsKc2VsZjo6JGluc3RhbmNlID0gbnVsbDsKfQoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIGdldFByb3h5Rm9yUmVxdWVzdCgkcmVxdWVzdFVybCkKewppZiAoJHRoaXMtPmVycm9yKSB7CnRocm93IG5ldyBUcmFuc3BvcnRFeGNlcHRpb24oJ1VuYWJsZSB0byB1c2UgYSBwcm94eTogJy4kdGhpcy0+ZXJyb3IpOwp9Cgokc2NoZW1lID0gcGFyc2VfdXJsKCRyZXF1ZXN0VXJsLCBQSFBfVVJMX1NDSEVNRSkgPzogJ2h0dHAnOwokcHJveHlVcmwgPSAnJzsKJG9wdGlvbnMgPSBhcnJheSgpOwokZm9ybWF0dGVkUHJveHlVcmwgPSAnJzsKCmlmICgkdGhpcy0+aGFzUHJveHkgJiYgaW5fYXJyYXkoJHNjaGVtZSwgYXJyYXkoJ2h0dHAnLCAnaHR0cHMnKSwgdHJ1ZSkgJiYgJHRoaXMtPmZ1bGxQcm94eVskc2NoZW1lXSkgewppZiAoJHRoaXMtPm5vUHJveHkoJHJlcXVlc3RVcmwpKSB7CiRmb3JtYXR0ZWRQcm94eVVybCA9ICdleGNsdWRlZCBieSBub19wcm94eSc7Cn0gZWxzZSB7CiRwcm94eVVybCA9ICR0aGlzLT5mdWxsUHJveHlbJHNjaGVtZV07CiRvcHRpb25zID0gJHRoaXMtPnN0cmVhbXNbJHNjaGVtZV1bJ29wdGlvbnMnXTsKUHJveHlIZWxwZXI6OnNldFJlcXVlc3RGdWxsVXJpKCRyZXF1ZXN0VXJsLCAkb3B0aW9ucyk7CiRmb3JtYXR0ZWRQcm94eVVybCA9ICR0aGlzLT5zYWZlUHJveHlbJHNjaGVtZV07Cn0KfQoKcmV0dXJuIG5ldyBSZXF1ZXN0UHJveHkoJHByb3h5VXJsLCAkb3B0aW9ucywgJGZvcm1hdHRlZFByb3h5VXJsKTsKfQoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gaXNQcm94eWluZygpCnsKcmV0dXJuICR0aGlzLT5oYXNQcm94eTsKfQoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0Rm9ybWF0dGVkUHJveHkoKQp7CnJldHVybiAkdGhpcy0+aGFzUHJveHkgPyAkdGhpcy0+aW5mbyA6ICR0aGlzLT5lcnJvcjsKfQoKCgoKcHJpdmF0ZSBmdW5jdGlvbiBpbml0UHJveHlEYXRhKCkKewp0cnkgewpsaXN0KCRodHRwUHJveHksICRodHRwc1Byb3h5LCAkbm9Qcm94eSkgPSBQcm94eUhlbHBlcjo6Z2V0UHJveHlEYXRhKCk7Cn0gY2F0Y2ggKFxSdW50aW1lRXhjZXB0aW9uICRlKSB7CiR0aGlzLT5lcnJvciA9ICRlLT5nZXRNZXNzYWdlKCk7CgpyZXR1cm47Cn0KCiRpbmZvID0gYXJyYXkoKTsKCmlmICgkaHR0cFByb3h5KSB7CiRpbmZvW10gPSAkdGhpcy0+c2V0RGF0YSgkaHR0cFByb3h5LCAnaHR0cCcpOwp9CmlmICgkaHR0cHNQcm94eSkgewokaW5mb1tdID0gJHRoaXMtPnNldERhdGEoJGh0dHBzUHJveHksICdodHRwcycpOwp9CmlmICgkdGhpcy0+aGFzUHJveHkpIHsKJHRoaXMtPmluZm8gPSBpbXBsb2RlKCcsICcsICRpbmZvKTsKaWYgKCRub1Byb3h5KSB7CiR0aGlzLT5ub1Byb3h5SGFuZGxlciA9IG5ldyBOb1Byb3h5UGF0dGVybigkbm9Qcm94eSk7Cn0KfQp9CgoKCgoKCgpwcml2YXRlIGZ1bmN0aW9uIHNldERhdGEoJHVybCwgJHNjaGVtZSkKewokc2FmZVByb3h5ID0gVXJsOjpzYW5pdGl6ZSgkdXJsKTsKJHRoaXMtPmZ1bGxQcm94eVskc2NoZW1lXSA9ICR1cmw7CiR0aGlzLT5zYWZlUHJveHlbJHNjaGVtZV0gPSAkc2FmZVByb3h5OwokdGhpcy0+c3RyZWFtc1skc2NoZW1lXVsnb3B0aW9ucyddID0gUHJveHlIZWxwZXI6OmdldENvbnRleHRPcHRpb25zKCR1cmwpOwokdGhpcy0+aGFzUHJveHkgPSB0cnVlOwoKcmV0dXJuIHNwcmludGYoJyVzPSVzJywgJHNjaGVtZSwgJHNhZmVQcm94eSk7Cn0KCgoKCgoKCnByaXZhdGUgZnVuY3Rpb24gbm9Qcm94eSgkcmVxdWVzdFVybCkKewppZiAoJHRoaXMtPm5vUHJveHlIYW5kbGVyKSB7CmlmICgkdGhpcy0+bm9Qcm94eUhhbmRsZXItPnRlc3QoJHJlcXVlc3RVcmwpKSB7CiR0aGlzLT5sYXN0UHJveHkgPSAnZXhjbHVkZWQgYnkgbm9fcHJveHknOwoKcmV0dXJuIHRydWU7Cn0KfQoKcmV0dXJuIGZhbHNlOwp9Cn0KPD9waHAKCgoKCgoKCgoKCgpuYW1lc3BhY2UgQ29tcG9zZXJcVXRpbFxIdHRwOwoKdXNlIENvbXBvc2VyXFV0aWxcVXJsOwoKCgoKCmNsYXNzIFJlcXVlc3RQcm94eQp7CnByaXZhdGUgJGNvbnRleHRPcHRpb25zOwpwcml2YXRlICRpc1NlY3VyZTsKcHJpdmF0ZSAkZm9ybWF0dGVkVXJsOwpwcml2YXRlICR1cmw7CgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBfX2NvbnN0cnVjdCgkdXJsLCBhcnJheSAkY29udGV4dE9wdGlvbnMsICRmb3JtYXR0ZWRVcmwpCnsKJHRoaXMtPnVybCA9ICR1cmw7CiR0aGlzLT5jb250ZXh0T3B0aW9ucyA9ICRjb250ZXh0T3B0aW9uczsKJHRoaXMtPmZvcm1hdHRlZFVybCA9ICRmb3JtYXR0ZWRVcmw7CiR0aGlzLT5pc1NlY3VyZSA9IDAgPT09IHN0cnBvcygkdXJsLCAnaHR0cHM6Ly8nKTsKfQoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0Q29udGV4dE9wdGlvbnMoKQp7CnJldHVybiAkdGhpcy0+Y29udGV4dE9wdGlvbnM7Cn0KCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBnZXRGb3JtYXR0ZWRVcmwoJGZvcm1hdCA9ICcnKQp7CiRyZXN1bHQgPSAnJzsKaWYgKCR0aGlzLT5mb3JtYXR0ZWRVcmwpIHsKJGZvcm1hdCA9ICRmb3JtYXQgPzogJyVzJzsKJHJlc3VsdCA9IHNwcmludGYoJGZvcm1hdCwgJHRoaXMtPmZvcm1hdHRlZFVybCk7Cn0KCnJldHVybiAkcmVzdWx0Owp9CgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBnZXRVcmwoKQp7CnJldHVybiAkdGhpcy0+dXJsOwp9CgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBpc1NlY3VyZSgpCnsKcmV0dXJuICR0aGlzLT5pc1NlY3VyZTsKfQp9Cjw/cGhwCgoKCgoKCgoKCgoKbmFtZXNwYWNlIENvbXBvc2VyXFV0aWxcSHR0cDsKCnVzZSBDb21wb3NlclxKc29uXEpzb25GaWxlOwoKY2xhc3MgUmVzcG9uc2UKewpwcml2YXRlICRyZXF1ZXN0Owpwcml2YXRlICRjb2RlOwpwcml2YXRlICRoZWFkZXJzOwpwcml2YXRlICRib2R5OwoKcHVibGljIGZ1bmN0aW9uIF9fY29uc3RydWN0KGFycmF5ICRyZXF1ZXN0LCAkY29kZSwgYXJyYXkgJGhlYWRlcnMsICRib2R5KQp7CmlmICghaXNzZXQoJHJlcXVlc3RbJ3VybCddKSkgewp0aHJvdyBuZXcgXExvZ2ljRXhjZXB0aW9uKCd1cmwga2V5IG1pc3NpbmcgZnJvbSByZXF1ZXN0IGFycmF5Jyk7Cn0KJHRoaXMtPnJlcXVlc3QgPSAkcmVxdWVzdDsKJHRoaXMtPmNvZGUgPSAoaW50KSAkY29kZTsKJHRoaXMtPmhlYWRlcnMgPSAkaGVhZGVyczsKJHRoaXMtPmJvZHkgPSAkYm9keTsKfQoKcHVibGljIGZ1bmN0aW9uIGdldFN0YXR1c0NvZGUoKQp7CnJldHVybiAkdGhpcy0+Y29kZTsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIGdldFN0YXR1c01lc3NhZ2UoKQp7CiR2YWx1ZSA9IG51bGw7CmZvcmVhY2ggKCR0aGlzLT5oZWFkZXJzIGFzICRoZWFkZXIpIHsKaWYgKHByZWdfbWF0Y2goJ3teSFRUUC9cUysgXGQrfWknLCAkaGVhZGVyKSkgewoKCiR2YWx1ZSA9ICRoZWFkZXI7Cn0KfQoKcmV0dXJuICR2YWx1ZTsKfQoKcHVibGljIGZ1bmN0aW9uIGdldEhlYWRlcnMoKQp7CnJldHVybiAkdGhpcy0+aGVhZGVyczsKfQoKcHVibGljIGZ1bmN0aW9uIGdldEhlYWRlcigkbmFtZSkKewpyZXR1cm4gc2VsZjo6ZmluZEhlYWRlclZhbHVlKCR0aGlzLT5oZWFkZXJzLCAkbmFtZSk7Cn0KCnB1YmxpYyBmdW5jdGlvbiBnZXRCb2R5KCkKewpyZXR1cm4gJHRoaXMtPmJvZHk7Cn0KCnB1YmxpYyBmdW5jdGlvbiBkZWNvZGVKc29uKCkKewpyZXR1cm4gSnNvbkZpbGU6OnBhcnNlSnNvbigkdGhpcy0+Ym9keSwgJHRoaXMtPnJlcXVlc3RbJ3VybCddKTsKfQoKcHVibGljIGZ1bmN0aW9uIGNvbGxlY3QoKQp7CiR0aGlzLT5yZXF1ZXN0ID0gJHRoaXMtPmNvZGUgPSAkdGhpcy0+aGVhZGVycyA9ICR0aGlzLT5ib2R5ID0gbnVsbDsKfQoKCgoKCgpwdWJsaWMgc3RhdGljIGZ1bmN0aW9uIGZpbmRIZWFkZXJWYWx1ZShhcnJheSAkaGVhZGVycywgJG5hbWUpCnsKJHZhbHVlID0gbnVsbDsKZm9yZWFjaCAoJGhlYWRlcnMgYXMgJGhlYWRlcikgewppZiAocHJlZ19tYXRjaCgne14nLnByZWdfcXVvdGUoJG5hbWUpLic6XHMqKC4rPylccyokfWknLCAkaGVhZGVyLCAkbWF0Y2gpKSB7CiR2YWx1ZSA9ICRtYXRjaFsxXTsKfQp9CgpyZXR1cm4gJHZhbHVlOwp9Cn0KPD9waHAKCgoKCgoKCgoKCgpuYW1lc3BhY2UgQ29tcG9zZXJcVXRpbDsKCnVzZSBDb21wb3NlclxDb25maWc7CnVzZSBDb21wb3NlclxJT1xJT0ludGVyZmFjZTsKdXNlIENvbXBvc2VyXERvd25sb2FkZXJcVHJhbnNwb3J0RXhjZXB0aW9uOwp1c2UgQ29tcG9zZXJcVXRpbFxIdHRwXFJlc3BvbnNlOwp1c2UgQ29tcG9zZXJcQ29tcG9zZXI7CnVzZSBDb21wb3NlclxQYWNrYWdlXFZlcnNpb25cVmVyc2lvblBhcnNlcjsKdXNlIENvbXBvc2VyXFNlbXZlclxDb25zdHJhaW50XENvbnN0cmFpbnQ7CnVzZSBDb21wb3NlclxFeGNlcHRpb25cSXJyZWNvdmVyYWJsZURvd25sb2FkRXhjZXB0aW9uOwp1c2UgUmVhY3RcUHJvbWlzZVxQcm9taXNlOwoKCgoKY2xhc3MgSHR0cERvd25sb2FkZXIKewpjb25zdCBTVEFUVVNfUVVFVUVEID0gMTsKY29uc3QgU1RBVFVTX1NUQVJURUQgPSAyOwpjb25zdCBTVEFUVVNfQ09NUExFVEVEID0gMzsKY29uc3QgU1RBVFVTX0ZBSUxFRCA9IDQ7CmNvbnN0IFNUQVRVU19BQk9SVEVEID0gNTsKCnByaXZhdGUgJGlvOwpwcml2YXRlICRjb25maWc7CnByaXZhdGUgJGpvYnMgPSBhcnJheSgpOwpwcml2YXRlICRvcHRpb25zID0gYXJyYXkoKTsKcHJpdmF0ZSAkcnVubmluZ0pvYnMgPSAwOwpwcml2YXRlICRtYXhKb2JzID0gMTI7CnByaXZhdGUgJGN1cmw7CnByaXZhdGUgJHJmczsKcHJpdmF0ZSAkaWRHZW4gPSAwOwpwcml2YXRlICRkaXNhYmxlZDsKcHJpdmF0ZSAkYWxsb3dBc3luYyA9IGZhbHNlOwoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIF9fY29uc3RydWN0KElPSW50ZXJmYWNlICRpbywgQ29uZmlnICRjb25maWcsIGFycmF5ICRvcHRpb25zID0gYXJyYXkoKSwgJGRpc2FibGVUbHMgPSBmYWxzZSkKewokdGhpcy0+aW8gPSAkaW87CgokdGhpcy0+ZGlzYWJsZWQgPSAoYm9vbCkgZ2V0ZW52KCdDT01QT1NFUl9ESVNBQkxFX05FVFdPUksnKTsKCgoKaWYgKCRkaXNhYmxlVGxzID09PSBmYWxzZSkgewokdGhpcy0+b3B0aW9ucyA9IFN0cmVhbUNvbnRleHRGYWN0b3J5OjpnZXRUbHNEZWZhdWx0cygkb3B0aW9ucywgJGlvKTsKfQoKCiR0aGlzLT5vcHRpb25zID0gYXJyYXlfcmVwbGFjZV9yZWN1cnNpdmUoJHRoaXMtPm9wdGlvbnMsICRvcHRpb25zKTsKJHRoaXMtPmNvbmZpZyA9ICRjb25maWc7CgppZiAoc2VsZjo6aXNDdXJsRW5hYmxlZCgpKSB7CiR0aGlzLT5jdXJsID0gbmV3IEh0dHBcQ3VybERvd25sb2FkZXIoJGlvLCAkY29uZmlnLCAkb3B0aW9ucywgJGRpc2FibGVUbHMpOwp9CgokdGhpcy0+cmZzID0gbmV3IFJlbW90ZUZpbGVzeXN0ZW0oJGlvLCAkY29uZmlnLCAkb3B0aW9ucywgJGRpc2FibGVUbHMpOwoKaWYgKGlzX251bWVyaWMoJG1heEpvYnMgPSBnZXRlbnYoJ0NPTVBPU0VSX01BWF9QQVJBTExFTF9IVFRQJykpKSB7CiR0aGlzLT5tYXhKb2JzID0gbWF4KDEsIG1pbig1MCwgKGludCkgJG1heEpvYnMpKTsKfQp9CgoKCgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0KCR1cmwsICRvcHRpb25zID0gYXJyYXkoKSkKewpsaXN0KCRqb2IpID0gJHRoaXMtPmFkZEpvYihhcnJheSgndXJsJyA9PiAkdXJsLCAnb3B0aW9ucycgPT4gJG9wdGlvbnMsICdjb3B5VG8nID0+IGZhbHNlKSwgdHJ1ZSk7CiR0aGlzLT53YWl0KCRqb2JbJ2lkJ10pOwoKJHJlc3BvbnNlID0gJHRoaXMtPmdldFJlc3BvbnNlKCRqb2JbJ2lkJ10pOwoKCmlmICgKJHRoaXMtPmN1cmwKJiYgUEhQX1ZFUlNJT05fSUQgPCA3MDAwMAomJiAkcmVzcG9uc2UtPmdldEJvZHkoKSA9PT0gbnVsbAomJiAkcmVzcG9uc2UtPmdldFN0YXR1c0NvZGUoKSA9PT0gMjAwCiYmICRyZXNwb25zZS0+Z2V0SGVhZGVyKCdjb250ZW50LWxlbmd0aCcpICE9PSAnMCcKKSB7CiR0aGlzLT5pby0+d3JpdGVFcnJvcignPHdhcm5pbmc+Y1VSTCBkb3dubG9hZGVyIGZhaWxlZCB0byByZXR1cm4gYSByZXNwb25zZSwgZGlzYWJsaW5nIGl0IGFuZCBwcm9jZWVkaW5nIGluIHNsb3cgbW9kZS48L3dhcm5pbmc+Jyk7CgokdGhpcy0+Y3VybCA9IG51bGw7CgpsaXN0KCRqb2IpID0gJHRoaXMtPmFkZEpvYihhcnJheSgndXJsJyA9PiAkdXJsLCAnb3B0aW9ucycgPT4gJG9wdGlvbnMsICdjb3B5VG8nID0+IGZhbHNlKSwgdHJ1ZSk7CiR0aGlzLT53YWl0KCRqb2JbJ2lkJ10pOwoKJHJlc3BvbnNlID0gJHRoaXMtPmdldFJlc3BvbnNlKCRqb2JbJ2lkJ10pOwp9CgpyZXR1cm4gJHJlc3BvbnNlOwp9CgoKCgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gYWRkKCR1cmwsICRvcHRpb25zID0gYXJyYXkoKSkKewpsaXN0KCwgJHByb21pc2UpID0gJHRoaXMtPmFkZEpvYihhcnJheSgndXJsJyA9PiAkdXJsLCAnb3B0aW9ucycgPT4gJG9wdGlvbnMsICdjb3B5VG8nID0+IGZhbHNlKSk7CgpyZXR1cm4gJHByb21pc2U7Cn0KCgoKCgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gY29weSgkdXJsLCAkdG8sICRvcHRpb25zID0gYXJyYXkoKSkKewpsaXN0KCRqb2IpID0gJHRoaXMtPmFkZEpvYihhcnJheSgndXJsJyA9PiAkdXJsLCAnb3B0aW9ucycgPT4gJG9wdGlvbnMsICdjb3B5VG8nID0+ICR0byksIHRydWUpOwokdGhpcy0+d2FpdCgkam9iWydpZCddKTsKCnJldHVybiAkdGhpcy0+Z2V0UmVzcG9uc2UoJGpvYlsnaWQnXSk7Cn0KCgoKCgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gYWRkQ29weSgkdXJsLCAkdG8sICRvcHRpb25zID0gYXJyYXkoKSkKewpsaXN0KCwgJHByb21pc2UpID0gJHRoaXMtPmFkZEpvYihhcnJheSgndXJsJyA9PiAkdXJsLCAnb3B0aW9ucycgPT4gJG9wdGlvbnMsICdjb3B5VG8nID0+ICR0bykpOwoKcmV0dXJuICRwcm9taXNlOwp9CgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBnZXRPcHRpb25zKCkKewpyZXR1cm4gJHRoaXMtPm9wdGlvbnM7Cn0KCgoKCgoKcHVibGljIGZ1bmN0aW9uIHNldE9wdGlvbnMoYXJyYXkgJG9wdGlvbnMpCnsKJHRoaXMtPm9wdGlvbnMgPSBhcnJheV9yZXBsYWNlX3JlY3Vyc2l2ZSgkdGhpcy0+b3B0aW9ucywgJG9wdGlvbnMpOwp9Cgpwcml2YXRlIGZ1bmN0aW9uIGFkZEpvYigkcmVxdWVzdCwgJHN5bmMgPSBmYWxzZSkKewokcmVxdWVzdFsnb3B0aW9ucyddID0gYXJyYXlfcmVwbGFjZV9yZWN1cnNpdmUoJHRoaXMtPm9wdGlvbnMsICRyZXF1ZXN0WydvcHRpb25zJ10pOwoKJGpvYiA9IGFycmF5KAonaWQnID0+ICR0aGlzLT5pZEdlbisrLAonc3RhdHVzJyA9PiBzZWxmOjpTVEFUVVNfUVVFVUVELAoncmVxdWVzdCcgPT4gJHJlcXVlc3QsCidzeW5jJyA9PiAkc3luYywKJ29yaWdpbicgPT4gVXJsOjpnZXRPcmlnaW4oJHRoaXMtPmNvbmZpZywgJHJlcXVlc3RbJ3VybCddKSwKKTsKCmlmICghJHN5bmMgJiYgISR0aGlzLT5hbGxvd0FzeW5jKSB7CnRocm93IG5ldyBcTG9naWNFeGNlcHRpb24oJ1lvdSBtdXN0IHVzZSB0aGUgSHR0cERvd25sb2FkZXIgaW5zdGFuY2Ugd2hpY2ggaXMgcGFydCBvZiBhIENvbXBvc2VyXExvb3AgaW5zdGFuY2UgdG8gYmUgYWJsZSB0byBydW4gYXN5bmMgaHR0cCByZXF1ZXN0cycpOwp9CgoKaWYgKHByZWdfbWF0Y2goJ3teaHR0cHM/Oi8vKFteOi9dKyk6KFteQC9dKylAKFteL10rKX1pJywgJHJlcXVlc3RbJ3VybCddLCAkbWF0Y2gpKSB7CiR0aGlzLT5pby0+c2V0QXV0aGVudGljYXRpb24oJGpvYlsnb3JpZ2luJ10sIHJhd3VybGRlY29kZSgkbWF0Y2hbMV0pLCByYXd1cmxkZWNvZGUoJG1hdGNoWzJdKSk7Cn0KCiRyZnMgPSAkdGhpcy0+cmZzOwoKaWYgKCR0aGlzLT5jYW5Vc2VDdXJsKCRqb2IpKSB7CiRyZXNvbHZlciA9IGZ1bmN0aW9uICgkcmVzb2x2ZSwgJHJlamVjdCkgdXNlICgmJGpvYikgewokam9iWydzdGF0dXMnXSA9IEh0dHBEb3dubG9hZGVyOjpTVEFUVVNfUVVFVUVEOwokam9iWydyZXNvbHZlJ10gPSAkcmVzb2x2ZTsKJGpvYlsncmVqZWN0J10gPSAkcmVqZWN0Owp9Owp9IGVsc2UgewokcmVzb2x2ZXIgPSBmdW5jdGlvbiAoJHJlc29sdmUsICRyZWplY3QpIHVzZSAoJiRqb2IsICRyZnMpIHsKCiR1cmwgPSAkam9iWydyZXF1ZXN0J11bJ3VybCddOwokb3B0aW9ucyA9ICRqb2JbJ3JlcXVlc3QnXVsnb3B0aW9ucyddOwoKJGpvYlsnc3RhdHVzJ10gPSBIdHRwRG93bmxvYWRlcjo6U1RBVFVTX1NUQVJURUQ7CgppZiAoJGpvYlsncmVxdWVzdCddWydjb3B5VG8nXSkgewokcmZzLT5jb3B5KCRqb2JbJ29yaWdpbiddLCAkdXJsLCAkam9iWydyZXF1ZXN0J11bJ2NvcHlUbyddLCBmYWxzZSAsICRvcHRpb25zKTsKCiRoZWFkZXJzID0gJHJmcy0+Z2V0TGFzdEhlYWRlcnMoKTsKJHJlc3BvbnNlID0gbmV3IEh0dHBcUmVzcG9uc2UoJGpvYlsncmVxdWVzdCddLCAkcmZzLT5maW5kU3RhdHVzQ29kZSgkaGVhZGVycyksICRoZWFkZXJzLCAkam9iWydyZXF1ZXN0J11bJ2NvcHlUbyddLid+Jyk7CgokcmVzb2x2ZSgkcmVzcG9uc2UpOwp9IGVsc2UgewokYm9keSA9ICRyZnMtPmdldENvbnRlbnRzKCRqb2JbJ29yaWdpbiddLCAkdXJsLCBmYWxzZSAsICRvcHRpb25zKTsKJGhlYWRlcnMgPSAkcmZzLT5nZXRMYXN0SGVhZGVycygpOwokcmVzcG9uc2UgPSBuZXcgSHR0cFxSZXNwb25zZSgkam9iWydyZXF1ZXN0J10sICRyZnMtPmZpbmRTdGF0dXNDb2RlKCRoZWFkZXJzKSwgJGhlYWRlcnMsICRib2R5KTsKCiRyZXNvbHZlKCRyZXNwb25zZSk7Cn0KfTsKfQoKJGRvd25sb2FkZXIgPSAkdGhpczsKJGN1cmwgPSAkdGhpcy0+Y3VybDsKCiRjYW5jZWxlciA9IGZ1bmN0aW9uICgpIHVzZSAoJiRqb2IsICRjdXJsKSB7CmlmICgkam9iWydzdGF0dXMnXSA9PT0gSHR0cERvd25sb2FkZXI6OlNUQVRVU19RVUVVRUQpIHsKJGpvYlsnc3RhdHVzJ10gPSBIdHRwRG93bmxvYWRlcjo6U1RBVFVTX0FCT1JURUQ7Cn0KaWYgKCRqb2JbJ3N0YXR1cyddICE9PSBIdHRwRG93bmxvYWRlcjo6U1RBVFVTX1NUQVJURUQpIHsKcmV0dXJuOwp9CiRqb2JbJ3N0YXR1cyddID0gSHR0cERvd25sb2FkZXI6OlNUQVRVU19BQk9SVEVEOwppZiAoaXNzZXQoJGpvYlsnY3VybF9pZCddKSkgewokY3VybC0+YWJvcnRSZXF1ZXN0KCRqb2JbJ2N1cmxfaWQnXSk7Cn0KdGhyb3cgbmV3IElycmVjb3ZlcmFibGVEb3dubG9hZEV4Y2VwdGlvbignRG93bmxvYWQgb2YgJyAuIFVybDo6c2FuaXRpemUoJGpvYlsncmVxdWVzdCddWyd1cmwnXSkgLiAnIGNhbmNlbGVkJyk7Cn07CgokcHJvbWlzZSA9IG5ldyBQcm9taXNlKCRyZXNvbHZlciwgJGNhbmNlbGVyKTsKJHByb21pc2UgPSAkcHJvbWlzZS0+dGhlbihmdW5jdGlvbiAoJHJlc3BvbnNlKSB1c2UgKCYkam9iLCAkZG93bmxvYWRlcikgewokam9iWydzdGF0dXMnXSA9IEh0dHBEb3dubG9hZGVyOjpTVEFUVVNfQ09NUExFVEVEOwokam9iWydyZXNwb25zZSddID0gJHJlc3BvbnNlOwoKCiRkb3dubG9hZGVyLT5tYXJrSm9iRG9uZSgpOwoKcmV0dXJuICRyZXNwb25zZTsKfSwgZnVuY3Rpb24gKCRlKSB1c2UgKCYkam9iLCAkZG93bmxvYWRlcikgewokam9iWydzdGF0dXMnXSA9IEh0dHBEb3dubG9hZGVyOjpTVEFUVVNfRkFJTEVEOwokam9iWydleGNlcHRpb24nXSA9ICRlOwoKJGRvd25sb2FkZXItPm1hcmtKb2JEb25lKCk7Cgp0aHJvdyAkZTsKfSk7CiR0aGlzLT5qb2JzWyRqb2JbJ2lkJ11dID0gJiRqb2I7CgppZiAoJHRoaXMtPnJ1bm5pbmdKb2JzIDwgJHRoaXMtPm1heEpvYnMpIHsKJHRoaXMtPnN0YXJ0Sm9iKCRqb2JbJ2lkJ10pOwp9CgpyZXR1cm4gYXJyYXkoJGpvYiwgJHByb21pc2UpOwp9Cgpwcml2YXRlIGZ1bmN0aW9uIHN0YXJ0Sm9iKCRpZCkKewokam9iID0gJiR0aGlzLT5qb2JzWyRpZF07CmlmICgkam9iWydzdGF0dXMnXSAhPT0gc2VsZjo6U1RBVFVTX1FVRVVFRCkgewpyZXR1cm47Cn0KCgokam9iWydzdGF0dXMnXSA9IHNlbGY6OlNUQVRVU19TVEFSVEVEOwokdGhpcy0+cnVubmluZ0pvYnMrKzsKCiRyZXNvbHZlID0gJGpvYlsncmVzb2x2ZSddOwokcmVqZWN0ID0gJGpvYlsncmVqZWN0J107CiR1cmwgPSAkam9iWydyZXF1ZXN0J11bJ3VybCddOwokb3B0aW9ucyA9ICRqb2JbJ3JlcXVlc3QnXVsnb3B0aW9ucyddOwokb3JpZ2luID0gJGpvYlsnb3JpZ2luJ107CgppZiAoJHRoaXMtPmRpc2FibGVkKSB7CmlmIChpc3NldCgkam9iWydyZXF1ZXN0J11bJ29wdGlvbnMnXVsnaHR0cCddWydoZWFkZXInXSkgJiYgZmFsc2UgIT09IHN0cmlwb3MoaW1wbG9kZSgnJywgJGpvYlsncmVxdWVzdCddWydvcHRpb25zJ11bJ2h0dHAnXVsnaGVhZGVyJ10pLCAnaWYtbW9kaWZpZWQtc2luY2UnKSkgewokcmVzb2x2ZShuZXcgUmVzcG9uc2UoYXJyYXkoJ3VybCcgPT4gJHVybCksIDMwNCwgYXJyYXkoKSwgJycpKTsKfSBlbHNlIHsKJGUgPSBuZXcgVHJhbnNwb3J0RXhjZXB0aW9uKCdOZXR3b3JrIGRpc2FibGVkLCByZXF1ZXN0IGNhbmNlbGVkOiAnLlVybDo6c2FuaXRpemUoJHVybCksIDQ5OSk7CiRlLT5zZXRTdGF0dXNDb2RlKDQ5OSk7CiRyZWplY3QoJGUpOwp9CgpyZXR1cm47Cn0KCnRyeSB7CmlmICgkam9iWydyZXF1ZXN0J11bJ2NvcHlUbyddKSB7CiRqb2JbJ2N1cmxfaWQnXSA9ICR0aGlzLT5jdXJsLT5kb3dubG9hZCgkcmVzb2x2ZSwgJHJlamVjdCwgJG9yaWdpbiwgJHVybCwgJG9wdGlvbnMsICRqb2JbJ3JlcXVlc3QnXVsnY29weVRvJ10pOwp9IGVsc2Ugewokam9iWydjdXJsX2lkJ10gPSAkdGhpcy0+Y3VybC0+ZG93bmxvYWQoJHJlc29sdmUsICRyZWplY3QsICRvcmlnaW4sICR1cmwsICRvcHRpb25zKTsKfQp9IGNhdGNoIChcRXhjZXB0aW9uICRleGNlcHRpb24pIHsKJHJlamVjdCgkZXhjZXB0aW9uKTsKfQp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gbWFya0pvYkRvbmUoKQp7CiR0aGlzLT5ydW5uaW5nSm9icy0tOwp9CgoKCgoKCnB1YmxpYyBmdW5jdGlvbiB3YWl0KCRpbmRleCA9IG51bGwpCnsKZG8gewokam9iQ291bnQgPSAkdGhpcy0+Y291bnRBY3RpdmVKb2JzKCRpbmRleCk7Cn0gd2hpbGUgKCRqb2JDb3VudCk7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBlbmFibGVBc3luYygpCnsKJHRoaXMtPmFsbG93QXN5bmMgPSB0cnVlOwp9CgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gY291bnRBY3RpdmVKb2JzKCRpbmRleCA9IG51bGwpCnsKaWYgKCR0aGlzLT5ydW5uaW5nSm9icyA8ICR0aGlzLT5tYXhKb2JzKSB7CmZvcmVhY2ggKCR0aGlzLT5qb2JzIGFzICRqb2IpIHsKaWYgKCRqb2JbJ3N0YXR1cyddID09PSBzZWxmOjpTVEFUVVNfUVVFVUVEICYmICR0aGlzLT5ydW5uaW5nSm9icyA8ICR0aGlzLT5tYXhKb2JzKSB7CiR0aGlzLT5zdGFydEpvYigkam9iWydpZCddKTsKfQp9Cn0KCmlmICgkdGhpcy0+Y3VybCkgewokdGhpcy0+Y3VybC0+dGljaygpOwp9CgppZiAobnVsbCAhPT0gJGluZGV4KSB7CnJldHVybiAkdGhpcy0+am9ic1skaW5kZXhdWydzdGF0dXMnXSA8IHNlbGY6OlNUQVRVU19DT01QTEVURUQgPyAxIDogMDsKfQoKJGFjdGl2ZSA9IDA7CmZvcmVhY2ggKCR0aGlzLT5qb2JzIGFzICRqb2IpIHsKaWYgKCRqb2JbJ3N0YXR1cyddIDwgc2VsZjo6U1RBVFVTX0NPTVBMRVRFRCkgewokYWN0aXZlKys7Cn0gZWxzZWlmICghJGpvYlsnc3luYyddKSB7CnVuc2V0KCR0aGlzLT5qb2JzWyRqb2JbJ2lkJ11dKTsKfQp9CgpyZXR1cm4gJGFjdGl2ZTsKfQoKcHJpdmF0ZSBmdW5jdGlvbiBnZXRSZXNwb25zZSgkaW5kZXgpCnsKaWYgKCFpc3NldCgkdGhpcy0+am9ic1skaW5kZXhdKSkgewp0aHJvdyBuZXcgXExvZ2ljRXhjZXB0aW9uKCdJbnZhbGlkIHJlcXVlc3QgaWQnKTsKfQoKaWYgKCR0aGlzLT5qb2JzWyRpbmRleF1bJ3N0YXR1cyddID09PSBzZWxmOjpTVEFUVVNfRkFJTEVEKSB7CnRocm93ICR0aGlzLT5qb2JzWyRpbmRleF1bJ2V4Y2VwdGlvbiddOwp9CgppZiAoIWlzc2V0KCR0aGlzLT5qb2JzWyRpbmRleF1bJ3Jlc3BvbnNlJ10pKSB7CnRocm93IG5ldyBcTG9naWNFeGNlcHRpb24oJ1Jlc3BvbnNlIG5vdCBhdmFpbGFibGUgeWV0LCBjYWxsIHdhaXQoKSBmaXJzdCcpOwp9CgokcmVzcCA9ICR0aGlzLT5qb2JzWyRpbmRleF1bJ3Jlc3BvbnNlJ107Cgp1bnNldCgkdGhpcy0+am9ic1skaW5kZXhdKTsKCnJldHVybiAkcmVzcDsKfQoKCgoKcHVibGljIHN0YXRpYyBmdW5jdGlvbiBvdXRwdXRXYXJuaW5ncyhJT0ludGVyZmFjZSAkaW8sICR1cmwsICRkYXRhKQp7CmZvcmVhY2ggKGFycmF5KCd3YXJuaW5nJywgJ2luZm8nKSBhcyAkdHlwZSkgewppZiAoZW1wdHkoJGRhdGFbJHR5cGVdKSkgewpjb250aW51ZTsKfQoKaWYgKCFlbXB0eSgkZGF0YVskdHlwZSAuICctdmVyc2lvbnMnXSkpIHsKJHZlcnNpb25QYXJzZXIgPSBuZXcgVmVyc2lvblBhcnNlcigpOwokY29uc3RyYWludCA9ICR2ZXJzaW9uUGFyc2VyLT5wYXJzZUNvbnN0cmFpbnRzKCRkYXRhWyR0eXBlIC4gJy12ZXJzaW9ucyddKTsKJGNvbXBvc2VyID0gbmV3IENvbnN0cmFpbnQoJz09JywgJHZlcnNpb25QYXJzZXItPm5vcm1hbGl6ZShDb21wb3Nlcjo6Z2V0VmVyc2lvbigpKSk7CmlmICghJGNvbnN0cmFpbnQtPm1hdGNoZXMoJGNvbXBvc2VyKSkgewpjb250aW51ZTsKfQp9CgokaW8tPndyaXRlRXJyb3IoJzwnLiR0eXBlLic+Jy51Y2ZpcnN0KCR0eXBlKS4nIGZyb20gJy5Vcmw6OnNhbml0aXplKCR1cmwpLic6ICcuJGRhdGFbJHR5cGVdLic8LycuJHR5cGUuJz4nKTsKfQp9CgoKCgpwdWJsaWMgc3RhdGljIGZ1bmN0aW9uIGdldEV4Y2VwdGlvbkhpbnRzKFxFeGNlcHRpb24gJGUpCnsKaWYgKCEkZSBpbnN0YW5jZW9mIFRyYW5zcG9ydEV4Y2VwdGlvbikgewpyZXR1cm47Cn0KCmlmICgKZmFsc2UgIT09IHN0cnBvcygkZS0+Z2V0TWVzc2FnZSgpLCAnUmVzb2x2aW5nIHRpbWVkIG91dCcpCnx8IGZhbHNlICE9PSBzdHJwb3MoJGUtPmdldE1lc3NhZ2UoKSwgJ0NvdWxkIG5vdCByZXNvbHZlIGhvc3QnKQopIHsKU2lsZW5jZXI6OnN1cHByZXNzKCk7CiR0ZXN0Q29ubmVjdGl2aXR5ID0gZmlsZV9nZXRfY29udGVudHMoJ2h0dHBzOi8vOC44LjguOCcsIGZhbHNlLCBzdHJlYW1fY29udGV4dF9jcmVhdGUoYXJyYXkoCidzc2wnID0+IGFycmF5KCd2ZXJpZnlfcGVlcicgPT4gZmFsc2UpLAonaHR0cCcgPT4gYXJyYXkoJ2ZvbGxvd19sb2NhdGlvbicgPT4gZmFsc2UsICdpZ25vcmVfZXJyb3JzJyA9PiB0cnVlKSwKKSkpOwpTaWxlbmNlcjo6cmVzdG9yZSgpOwppZiAoZmFsc2UgIT09ICR0ZXN0Q29ubmVjdGl2aXR5KSB7CnJldHVybiBhcnJheSgKJzxlcnJvcj5UaGUgZm9sbG93aW5nIGV4Y2VwdGlvbiBwcm9iYWJseSBpbmRpY2F0ZXMgeW91IGhhdmUgbWlzY29uZmlndXJlZCBETlMgcmVzb2x2ZXIocyk8L2Vycm9yPicsCik7Cn0KCnJldHVybiBhcnJheSgKJzxlcnJvcj5UaGUgZm9sbG93aW5nIGV4Y2VwdGlvbiBwcm9iYWJseSBpbmRpY2F0ZXMgeW91IGFyZSBvZmZsaW5lIG9yIGhhdmUgbWlzY29uZmlndXJlZCBETlMgcmVzb2x2ZXIocyk8L2Vycm9yPicsCik7Cn0KfQoKcHJpdmF0ZSBmdW5jdGlvbiBjYW5Vc2VDdXJsKGFycmF5ICRqb2IpCnsKaWYgKCEkdGhpcy0+Y3VybCkgewpyZXR1cm4gZmFsc2U7Cn0KCmlmICghcHJlZ19tYXRjaCgne15odHRwcz86Ly99aScsICRqb2JbJ3JlcXVlc3QnXVsndXJsJ10pKSB7CnJldHVybiBmYWxzZTsKfQoKaWYgKCFlbXB0eSgkam9iWydyZXF1ZXN0J11bJ29wdGlvbnMnXVsnc3NsJ11bJ2FsbG93X3NlbGZfc2lnbmVkJ10pKSB7CnJldHVybiBmYWxzZTsKfQoKcmV0dXJuIHRydWU7Cn0KCgoKCnB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gaXNDdXJsRW5hYmxlZCgpCnsKcmV0dXJuIFxleHRlbnNpb25fbG9hZGVkKCdjdXJsJykgJiYgXGZ1bmN0aW9uX2V4aXN0cygnY3VybF9tdWx0aV9leGVjJykgJiYgXGZ1bmN0aW9uX2V4aXN0cygnY3VybF9tdWx0aV9pbml0Jyk7Cn0KfQo8P3BocAoKCgoKCgoKCgoKCm5hbWVzcGFjZSBDb21wb3NlclxVdGlsOwoKdXNlIENvbXBvc2VyXFhkZWJ1Z0hhbmRsZXJcWGRlYnVnSGFuZGxlcjsKCgoKCgoKCgpjbGFzcyBJbmlIZWxwZXIKewoKCgoKCgoKCnB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gZ2V0QWxsKCkKewpyZXR1cm4gWGRlYnVnSGFuZGxlcjo6Z2V0QWxsSW5pRmlsZXMoKTsKfQoKCgoKCgpwdWJsaWMgc3RhdGljIGZ1bmN0aW9uIGdldE1lc3NhZ2UoKQp7CiRwYXRocyA9IHNlbGY6OmdldEFsbCgpOwoKaWYgKGVtcHR5KCRwYXRoc1swXSkpIHsKYXJyYXlfc2hpZnQoJHBhdGhzKTsKfQoKJGluaSA9IGFycmF5X3NoaWZ0KCRwYXRocyk7CgppZiAoZW1wdHkoJGluaSkpIHsKcmV0dXJuICdBIHBocC5pbmkgZmlsZSBkb2VzIG5vdCBleGlzdC4gWW91IHdpbGwgaGF2ZSB0byBjcmVhdGUgb25lLic7Cn0KCmlmICghZW1wdHkoJHBhdGhzKSkgewpyZXR1cm4gJ1lvdXIgY29tbWFuZC1saW5lIFBIUCBpcyB1c2luZyBtdWx0aXBsZSBpbmkgZmlsZXMuIFJ1biBgcGhwIC0taW5pYCB0byBzaG93IHRoZW0uJzsKfQoKcmV0dXJuICdUaGUgcGhwLmluaSB1c2VkIGJ5IHlvdXIgY29tbWFuZC1saW5lIFBIUCBpczogJy4kaW5pOwp9Cn0KPD9waHAKCgoKCgoKCgoKCgpuYW1lc3BhY2UgQ29tcG9zZXJcVXRpbDsKCnVzZSBSZWFjdFxQcm9taXNlXFByb21pc2U7CnVzZSBTeW1mb255XENvbXBvbmVudFxDb25zb2xlXEhlbHBlclxQcm9ncmVzc0JhcjsKCgoKCmNsYXNzIExvb3AKewoKcHJpdmF0ZSAkaHR0cERvd25sb2FkZXI7Cgpwcml2YXRlICRwcm9jZXNzRXhlY3V0b3I7Cgpwcml2YXRlICRjdXJyZW50UHJvbWlzZXMgPSBhcnJheSgpOwoKcHJpdmF0ZSAkd2FpdEluZGV4ID0gMDsKCnB1YmxpYyBmdW5jdGlvbiBfX2NvbnN0cnVjdChIdHRwRG93bmxvYWRlciAkaHR0cERvd25sb2FkZXIsIFByb2Nlc3NFeGVjdXRvciAkcHJvY2Vzc0V4ZWN1dG9yID0gbnVsbCkKewokdGhpcy0+aHR0cERvd25sb2FkZXIgPSAkaHR0cERvd25sb2FkZXI7CiR0aGlzLT5odHRwRG93bmxvYWRlci0+ZW5hYmxlQXN5bmMoKTsKCiR0aGlzLT5wcm9jZXNzRXhlY3V0b3IgPSAkcHJvY2Vzc0V4ZWN1dG9yOwppZiAoJHRoaXMtPnByb2Nlc3NFeGVjdXRvcikgewokdGhpcy0+cHJvY2Vzc0V4ZWN1dG9yLT5lbmFibGVBc3luYygpOwp9Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBnZXRIdHRwRG93bmxvYWRlcigpCnsKcmV0dXJuICR0aGlzLT5odHRwRG93bmxvYWRlcjsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIGdldFByb2Nlc3NFeGVjdXRvcigpCnsKcmV0dXJuICR0aGlzLT5wcm9jZXNzRXhlY3V0b3I7Cn0KCnB1YmxpYyBmdW5jdGlvbiB3YWl0KGFycmF5ICRwcm9taXNlcywgUHJvZ3Jlc3NCYXIgJHByb2dyZXNzID0gbnVsbCkKewoKJHVuY2F1Z2h0ID0gbnVsbDsKClxSZWFjdFxQcm9taXNlXGFsbCgkcHJvbWlzZXMpLT50aGVuKApmdW5jdGlvbiAoKSB7Cn0sCmZ1bmN0aW9uICgkZSkgdXNlICgmJHVuY2F1Z2h0KSB7CiR1bmNhdWdodCA9ICRlOwp9Cik7CgoKCiR3YWl0SW5kZXggPSAkdGhpcy0+d2FpdEluZGV4Kys7CiR0aGlzLT5jdXJyZW50UHJvbWlzZXNbJHdhaXRJbmRleF0gPSAkcHJvbWlzZXM7CgppZiAoJHByb2dyZXNzKSB7CiR0b3RhbEpvYnMgPSAwOwokdG90YWxKb2JzICs9ICR0aGlzLT5odHRwRG93bmxvYWRlci0+Y291bnRBY3RpdmVKb2JzKCk7CmlmICgkdGhpcy0+cHJvY2Vzc0V4ZWN1dG9yKSB7CiR0b3RhbEpvYnMgKz0gJHRoaXMtPnByb2Nlc3NFeGVjdXRvci0+Y291bnRBY3RpdmVKb2JzKCk7Cn0KJHByb2dyZXNzLT5zdGFydCgkdG90YWxKb2JzKTsKfQoKJGxhc3RVcGRhdGUgPSAwOwp3aGlsZSAodHJ1ZSkgewokYWN0aXZlSm9icyA9IDA7CgokYWN0aXZlSm9icyArPSAkdGhpcy0+aHR0cERvd25sb2FkZXItPmNvdW50QWN0aXZlSm9icygpOwppZiAoJHRoaXMtPnByb2Nlc3NFeGVjdXRvcikgewokYWN0aXZlSm9icyArPSAkdGhpcy0+cHJvY2Vzc0V4ZWN1dG9yLT5jb3VudEFjdGl2ZUpvYnMoKTsKfQoKaWYgKCRwcm9ncmVzcyAmJiBtaWNyb3RpbWUodHJ1ZSkgLSAkbGFzdFVwZGF0ZSA+IDAuMSkgewokbGFzdFVwZGF0ZSA9IG1pY3JvdGltZSh0cnVlKTsKJHByb2dyZXNzLT5zZXRQcm9ncmVzcygkcHJvZ3Jlc3MtPmdldE1heFN0ZXBzKCkgLSAkYWN0aXZlSm9icyk7Cn0KCmlmICghJGFjdGl2ZUpvYnMpIHsKYnJlYWs7Cn0KfQoKCmlmICgkcHJvZ3Jlc3MpIHsKJHByb2dyZXNzLT5maW5pc2goKTsKfQoKdW5zZXQoJHRoaXMtPmN1cnJlbnRQcm9taXNlc1skd2FpdEluZGV4XSk7CmlmICgkdW5jYXVnaHQpIHsKdGhyb3cgJHVuY2F1Z2h0Owp9Cn0KCnB1YmxpYyBmdW5jdGlvbiBhYm9ydEpvYnMoKQp7CmZvcmVhY2ggKCR0aGlzLT5jdXJyZW50UHJvbWlzZXMgYXMgJHByb21pc2VHcm91cCkgewpmb3JlYWNoICgkcHJvbWlzZUdyb3VwIGFzICRwcm9taXNlKSB7CiRwcm9taXNlLT5jYW5jZWwoKTsKfQp9Cn0KfQo8P3BocAoKCgoKCgoKCgoKCm5hbWVzcGFjZSBDb21wb3NlclxVdGlsOwoKQHRyaWdnZXJfZXJyb3IoJ0NvbXBvc2VyXFV0aWxcTWV0YWRhdGFNaW5pZmllciBpcyBkZXByZWNhdGVkLCB1c2UgQ29tcG9zZXJcTWV0YWRhdGFNaW5pZmllclxNZXRhZGF0YU1pbmlmaWVyIGZyb20gY29tcG9zZXIvbWV0YWRhdGEtbWluaWZpZXIgaW5zdGVhZC4nLCBFX1VTRVJfREVQUkVDQVRFRCk7CgoKCgpjbGFzcyBNZXRhZGF0YU1pbmlmaWVyIGV4dGVuZHMgXENvbXBvc2VyXE1ldGFkYXRhTWluaWZpZXJcTWV0YWRhdGFNaW5pZmllcgp7Cn0KPD9waHAKCgoKCgoKCgoKCgpuYW1lc3BhY2UgQ29tcG9zZXJcVXRpbDsKCnVzZSBzdGRDbGFzczsKCgoKCmNsYXNzIE5vUHJveHlQYXR0ZXJuCnsKCgoKcHJvdGVjdGVkICRob3N0TmFtZXMgPSBhcnJheSgpOwoKCgoKcHJvdGVjdGVkICRydWxlcyA9IGFycmF5KCk7CgoKCgpwcm90ZWN0ZWQgJG5vcHJveHk7CgoKCgpwdWJsaWMgZnVuY3Rpb24gX19jb25zdHJ1Y3QoJHBhdHRlcm4pCnsKJHRoaXMtPmhvc3ROYW1lcyA9IHByZWdfc3BsaXQoJ3tbXHMsXSt9JywgJHBhdHRlcm4sIG51bGwsIFBSRUdfU1BMSVRfTk9fRU1QVFkpOwokdGhpcy0+bm9wcm94eSA9IGVtcHR5KCR0aGlzLT5ob3N0TmFtZXMpIHx8ICcqJyA9PT0gJHRoaXMtPmhvc3ROYW1lc1swXTsKfQoKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiB0ZXN0KCR1cmwpCnsKaWYgKCR0aGlzLT5ub3Byb3h5KSB7CnJldHVybiB0cnVlOwp9CgppZiAoISR1cmxEYXRhID0gJHRoaXMtPmdldFVybERhdGEoJHVybCkpIHsKcmV0dXJuIGZhbHNlOwp9Cgpmb3JlYWNoICgkdGhpcy0+aG9zdE5hbWVzIGFzICRpbmRleCA9PiAkaG9zdE5hbWUpIHsKaWYgKCR0aGlzLT5tYXRjaCgkaW5kZXgsICRob3N0TmFtZSwgJHVybERhdGEpKSB7CnJldHVybiB0cnVlOwp9Cn0KCnJldHVybiBmYWxzZTsKfQoKCgoKCgoKCnByb3RlY3RlZCBmdW5jdGlvbiBnZXRVcmxEYXRhKCR1cmwpCnsKaWYgKCEkaG9zdCA9IHBhcnNlX3VybCgkdXJsLCBQSFBfVVJMX0hPU1QpKSB7CnJldHVybiBmYWxzZTsKfQoKJHBvcnQgPSBwYXJzZV91cmwoJHVybCwgUEhQX1VSTF9QT1JUKTsKCmlmIChlbXB0eSgkcG9ydCkpIHsKc3dpdGNoIChwYXJzZV91cmwoJHVybCwgUEhQX1VSTF9TQ0hFTUUpKSB7CmNhc2UgJ2h0dHAnOgokcG9ydCA9IDgwOwpicmVhazsKY2FzZSAnaHR0cHMnOgokcG9ydCA9IDQ0MzsKYnJlYWs7Cn0KfQoKJGhvc3ROYW1lID0gJGhvc3QgLiAoJHBvcnQgPyAnOicgLiAkcG9ydCA6ICcnKTsKbGlzdCgkaG9zdCwgJHBvcnQsICRlcnIpID0gJHRoaXMtPnNwbGl0SG9zdFBvcnQoJGhvc3ROYW1lKTsKCmlmICgkZXJyIHx8ICEkdGhpcy0+aXBDaGVja0RhdGEoJGhvc3QsICRpcGRhdGEpKSB7CnJldHVybiBmYWxzZTsKfQoKcmV0dXJuICR0aGlzLT5tYWtlRGF0YSgkaG9zdCwgJHBvcnQsICRpcGRhdGEpOwp9CgoKCgoKCgoKCgpwcm90ZWN0ZWQgZnVuY3Rpb24gbWF0Y2goJGluZGV4LCAkaG9zdE5hbWUsICR1cmwpCnsKaWYgKCEkcnVsZSA9ICR0aGlzLT5nZXRSdWxlKCRpbmRleCwgJGhvc3ROYW1lKSkgewoKcmV0dXJuIGZhbHNlOwp9CgppZiAoJHJ1bGUtPmlwZGF0YSkgewoKaWYgKCEkdXJsLT5pcGRhdGEpIHsKcmV0dXJuIGZhbHNlOwp9CgppZiAoJHJ1bGUtPmlwZGF0YS0+bmV0bWFzaykgewpyZXR1cm4gJHRoaXMtPm1hdGNoUmFuZ2UoJHJ1bGUtPmlwZGF0YSwgJHVybC0+aXBkYXRhKTsKfQoKJG1hdGNoID0gJHJ1bGUtPmlwZGF0YS0+aXAgPT09ICR1cmwtPmlwZGF0YS0+aXA7Cn0gZWxzZSB7CgokaGF5c3RhY2sgPSBzdWJzdHIoJHVybC0+bmFtZSwgLXN0cmxlbigkcnVsZS0+bmFtZSkpOwokbWF0Y2ggPSBzdHJpcG9zKCRoYXlzdGFjaywgJHJ1bGUtPm5hbWUpID09PSAwOwp9CgppZiAoJG1hdGNoICYmICRydWxlLT5wb3J0KSB7CiRtYXRjaCA9ICRydWxlLT5wb3J0ID09PSAkdXJsLT5wb3J0Owp9CgpyZXR1cm4gJG1hdGNoOwp9CgoKCgoKCgoKCnByb3RlY3RlZCBmdW5jdGlvbiBtYXRjaFJhbmdlKHN0ZENsYXNzICRuZXR3b3JrLCBzdGRDbGFzcyAkdGFyZ2V0KQp7CiRuZXQgPSB1bnBhY2soJ0MqJywgJG5ldHdvcmstPmlwKTsKJG1hc2sgPSB1bnBhY2soJ0MqJywgJG5ldHdvcmstPm5ldG1hc2spOwokaXAgPSB1bnBhY2soJ0MqJywgJHRhcmdldC0+aXApOwoKZm9yICgkaSA9IDE7ICRpIDwgMTc7ICsrJGkpIHsKaWYgKCgkbmV0WyRpXSAmICRtYXNrWyRpXSkgIT09ICgkaXBbJGldICYgJG1hc2tbJGldKSkgewpyZXR1cm4gZmFsc2U7Cn0KfQoKcmV0dXJuIHRydWU7Cn0KCgoKCgoKCgoKcHJpdmF0ZSBmdW5jdGlvbiBnZXRSdWxlKCRpbmRleCwgJGhvc3ROYW1lKQp7CmlmIChhcnJheV9rZXlfZXhpc3RzKCRpbmRleCwgJHRoaXMtPnJ1bGVzKSkgewpyZXR1cm4gJHRoaXMtPnJ1bGVzWyRpbmRleF07Cn0KCiR0aGlzLT5ydWxlc1skaW5kZXhdID0gbnVsbDsKbGlzdCgkaG9zdCwgJHBvcnQsICRlcnIpID0gJHRoaXMtPnNwbGl0SG9zdFBvcnQoJGhvc3ROYW1lKTsKCmlmICgkZXJyIHx8ICEkdGhpcy0+aXBDaGVja0RhdGEoJGhvc3QsICRpcGRhdGEsIHRydWUpKSB7CnJldHVybiBudWxsOwp9CgokdGhpcy0+cnVsZXNbJGluZGV4XSA9ICR0aGlzLT5tYWtlRGF0YSgkaG9zdCwgJHBvcnQsICRpcGRhdGEpOwoKcmV0dXJuICR0aGlzLT5ydWxlc1skaW5kZXhdOwp9CgoKCgoKCgoKCgpwcml2YXRlIGZ1bmN0aW9uIGlwQ2hlY2tEYXRhKCRob3N0LCAmJGlwZGF0YSwgJGFsbG93UHJlZml4ID0gZmFsc2UpCnsKJGlwZGF0YSA9IG51bGw7CiRuZXRtYXNrID0gbnVsbDsKJHByZWZpeCA9IG51bGw7CiRtb2RpZmllZCA9IGZhbHNlOwoKCmlmIChzdHJwb3MoJGhvc3QsICcvJykgIT09IGZhbHNlKSB7Cmxpc3QoJGhvc3QsICRwcmVmaXgpID0gZXhwbG9kZSgnLycsICRob3N0KTsKCmlmICghJGFsbG93UHJlZml4IHx8ICEkdGhpcy0+dmFsaWRhdGVJbnQoJHByZWZpeCwgMCwgMTI4KSkgewpyZXR1cm4gZmFsc2U7Cn0KJHByZWZpeCA9IChpbnQpICRwcmVmaXg7CiRtb2RpZmllZCA9IHRydWU7Cn0KCgppZiAoIWZpbHRlcl92YXIoJGhvc3QsIEZJTFRFUl9WQUxJREFURV9JUCkpIHsKcmV0dXJuICEkbW9kaWZpZWQ7Cn0KCmxpc3QoJGlwLCAkc2l6ZSkgPSAkdGhpcy0+aXBHZXRBZGRyKCRob3N0KTsKCmlmICgkcHJlZml4ICE9PSBudWxsKSB7CgppZiAoJHByZWZpeCA+ICRzaXplICogOCkgewpyZXR1cm4gZmFsc2U7Cn0KCmxpc3QoJGlwLCAkbmV0bWFzaykgPSAkdGhpcy0+aXBHZXROZXR3b3JrKCRpcCwgJHNpemUsICRwcmVmaXgpOwp9CgokaXBkYXRhID0gJHRoaXMtPm1ha2VJcERhdGEoJGlwLCAkc2l6ZSwgJG5ldG1hc2spOwoKcmV0dXJuIHRydWU7Cn0KCgoKCgoKCgoKCgpwcml2YXRlIGZ1bmN0aW9uIGlwR2V0QWRkcigkaG9zdCkKewokaXAgPSBpbmV0X3B0b24oJGhvc3QpOwokc2l6ZSA9IHN0cmxlbigkaXApOwokbWFwcGVkID0gJHRoaXMtPmlwTWFwVG82KCRpcCwgJHNpemUpOwoKcmV0dXJuIGFycmF5KCRtYXBwZWQsICRzaXplKTsKfQoKCgoKCgoKCgpwcml2YXRlIGZ1bmN0aW9uIGlwR2V0TWFzaygkcHJlZml4LCAkc2l6ZSkKewokbWFzayA9ICcnOwoKaWYgKCRvbmVzID0gZmxvb3IoJHByZWZpeCAvIDgpKSB7CiRtYXNrID0gc3RyX3JlcGVhdChjaHIoMjU1KSwgJG9uZXMpOwp9CgppZiAoJHJlbWFpbmRlciA9ICRwcmVmaXggJSA4KSB7CiRtYXNrIC49IGNocigweGZmIF4gKDB4ZmYgPj4gJHJlbWFpbmRlcikpOwp9CgokbWFzayA9IHN0cl9wYWQoJG1hc2ssICRzaXplLCBjaHIoMCkpOwoKcmV0dXJuICR0aGlzLT5pcE1hcFRvNigkbWFzaywgJHNpemUpOwp9CgoKCgoKCgoKCgpwcml2YXRlIGZ1bmN0aW9uIGlwR2V0TmV0d29yaygkcmFuZ2VJcCwgJHNpemUsICRwcmVmaXgpCnsKJG5ldG1hc2sgPSAkdGhpcy0+aXBHZXRNYXNrKCRwcmVmaXgsICRzaXplKTsKCgokbWFzayA9IHVucGFjaygnQyonLCAkbmV0bWFzayk7CiRpcCA9IHVucGFjaygnQyonLCAkcmFuZ2VJcCk7CiRuZXQgPSAnJzsKCmZvciAoJGkgPSAxOyAkaSA8IDE3OyArKyRpKSB7CiRuZXQgLj0gY2hyKCRpcFskaV0gJiAkbWFza1skaV0pOwp9CgpyZXR1cm4gYXJyYXkoJG5ldCwgJG5ldG1hc2spOwp9CgoKCgoKCgoKCnByaXZhdGUgZnVuY3Rpb24gaXBNYXBUbzYoJGJpbmFyeSwgJHNpemUpCnsKaWYgKCRzaXplID09PSA0KSB7CiRwcmVmaXggPSBzdHJfcmVwZWF0KGNocigwKSwgMTApIC4gc3RyX3JlcGVhdChjaHIoMjU1KSwgMik7CiRiaW5hcnkgPSAkcHJlZml4IC4gJGJpbmFyeTsKfQoKcmV0dXJuICRiaW5hcnk7Cn0KCgoKCgoKCgoKCnByaXZhdGUgZnVuY3Rpb24gbWFrZURhdGEoJGhvc3QsICRwb3J0LCAkaXBkYXRhKQp7CnJldHVybiAob2JqZWN0KSBhcnJheSgKJ2hvc3QnID0+ICRob3N0LAonbmFtZScgPT4gJy4nIC4gbHRyaW0oJGhvc3QsICcuJyksCidwb3J0JyA9PiAkcG9ydCwKJ2lwZGF0YScgPT4gJGlwZGF0YSwKKTsKfQoKCgoKCgoKCgoKcHJpdmF0ZSBmdW5jdGlvbiBtYWtlSXBEYXRhKCRpcCwgJHNpemUsICRuZXRtYXNrKQp7CnJldHVybiAob2JqZWN0KSBhcnJheSgKJ2lwJyA9PiAkaXAsCidzaXplJyA9PiAkc2l6ZSwKJ25ldG1hc2snID0+ICRuZXRtYXNrLAopOwp9CgoKCgoKCgoKcHJpdmF0ZSBmdW5jdGlvbiBzcGxpdEhvc3RQb3J0KCRob3N0TmFtZSkKewoKJGVycm9yID0gYXJyYXkoJycsICcnLCB0cnVlKTsKJHBvcnQgPSAwOwokaXA2ID0gJyc7CgoKaWYgKCRob3N0TmFtZVswXSA9PT0gJ1snKSB7CiRpbmRleCA9IHN0cnBvcygkaG9zdE5hbWUsICddJyk7CgoKaWYgKGZhbHNlID09PSAkaW5kZXggfHwgJGluZGV4IDwgMykgewpyZXR1cm4gJGVycm9yOwp9CgokaXA2ID0gc3Vic3RyKCRob3N0TmFtZSwgMSwgJGluZGV4IC0gMSk7CiRob3N0TmFtZSA9IHN1YnN0cigkaG9zdE5hbWUsICRpbmRleCArIDEpOwoKaWYgKHN0cnBicmsoJGhvc3ROYW1lLCAnW10nKSAhPT0gZmFsc2UgfHwgc3Vic3RyX2NvdW50KCRob3N0TmFtZSwgJzonKSA+IDEpIHsKcmV0dXJuICRlcnJvcjsKfQp9CgppZiAoc3Vic3RyX2NvdW50KCRob3N0TmFtZSwgJzonKSA9PT0gMSkgewokaW5kZXggPSBzdHJwb3MoJGhvc3ROYW1lLCAnOicpOwokcG9ydCA9IHN1YnN0cigkaG9zdE5hbWUsICRpbmRleCArIDEpOwokaG9zdE5hbWUgPSBzdWJzdHIoJGhvc3ROYW1lLCAwLCAkaW5kZXgpOwoKaWYgKCEkdGhpcy0+dmFsaWRhdGVJbnQoJHBvcnQsIDEsIDY1NTM1KSkgewpyZXR1cm4gJGVycm9yOwp9CgokcG9ydCA9IChpbnQpICRwb3J0Owp9CgokaG9zdCA9ICRpcDYgLiAkaG9zdE5hbWU7CgpyZXR1cm4gYXJyYXkoJGhvc3QsICRwb3J0LCBmYWxzZSk7Cn0KCgoKCgoKCgpwcml2YXRlIGZ1bmN0aW9uIHZhbGlkYXRlSW50KCRpbnQsICRtaW4sICRtYXgpCnsKJG9wdGlvbnMgPSBhcnJheSgKJ29wdGlvbnMnID0+IGFycmF5KAonbWluX3JhbmdlJyA9PiAkbWluLAonbWF4X3JhbmdlJyA9PiAkbWF4LAopLAopOwoKcmV0dXJuIGZhbHNlICE9PSBmaWx0ZXJfdmFyKCRpbnQsIEZJTFRFUl9WQUxJREFURV9JTlQsICRvcHRpb25zKTsKfQp9Cjw/cGhwCgoKCgoKCgoKCgoKbmFtZXNwYWNlIENvbXBvc2VyXFV0aWw7Cgp1c2UgQ29tcG9zZXJcUGFja2FnZVxQYWNrYWdlSW50ZXJmYWNlOwoKY2xhc3MgUGFja2FnZVNvcnRlcgp7CgoKCgoKCgoKcHVibGljIHN0YXRpYyBmdW5jdGlvbiBzb3J0UGFja2FnZXMoYXJyYXkgJHBhY2thZ2VzKQp7CiR1c2FnZUxpc3QgPSBhcnJheSgpOwoKZm9yZWFjaCAoJHBhY2thZ2VzIGFzICRwYWNrYWdlKSB7CmZvcmVhY2ggKGFycmF5X21lcmdlKCRwYWNrYWdlLT5nZXRSZXF1aXJlcygpLCAkcGFja2FnZS0+Z2V0RGV2UmVxdWlyZXMoKSkgYXMgJGxpbmspIHsKJHRhcmdldCA9ICRsaW5rLT5nZXRUYXJnZXQoKTsKJHVzYWdlTGlzdFskdGFyZ2V0XVtdID0gJHBhY2thZ2UtPmdldE5hbWUoKTsKfQp9CiRjb21wdXRpbmcgPSBhcnJheSgpOwokY29tcHV0ZWQgPSBhcnJheSgpOwokY29tcHV0ZUltcG9ydGFuY2UgPSBmdW5jdGlvbiAoJG5hbWUpIHVzZSAoJiRjb21wdXRlSW1wb3J0YW5jZSwgJiRjb21wdXRpbmcsICYkY29tcHV0ZWQsICR1c2FnZUxpc3QpIHsKCmlmIChpc3NldCgkY29tcHV0ZWRbJG5hbWVdKSkgewpyZXR1cm4gJGNvbXB1dGVkWyRuYW1lXTsKfQoKCmlmIChpc3NldCgkY29tcHV0aW5nWyRuYW1lXSkpIHsKcmV0dXJuIDA7Cn0KCiRjb21wdXRpbmdbJG5hbWVdID0gdHJ1ZTsKJHdlaWdodCA9IDA7CgppZiAoaXNzZXQoJHVzYWdlTGlzdFskbmFtZV0pKSB7CmZvcmVhY2ggKCR1c2FnZUxpc3RbJG5hbWVdIGFzICR1c2VyKSB7CiR3ZWlnaHQgLT0gMSAtICRjb21wdXRlSW1wb3J0YW5jZSgkdXNlcik7Cn0KfQoKdW5zZXQoJGNvbXB1dGluZ1skbmFtZV0pOwokY29tcHV0ZWRbJG5hbWVdID0gJHdlaWdodDsKCnJldHVybiAkd2VpZ2h0Owp9OwoKJHdlaWdodExpc3QgPSBhcnJheSgpOwoKZm9yZWFjaCAoJHBhY2thZ2VzIGFzICRpbmRleCA9PiAkcGFja2FnZSkgewokd2VpZ2h0ID0gJGNvbXB1dGVJbXBvcnRhbmNlKCRwYWNrYWdlLT5nZXROYW1lKCkpOwokd2VpZ2h0TGlzdFskaW5kZXhdID0gJHdlaWdodDsKfQoKJHN0YWJsZV9zb3J0ID0gZnVuY3Rpb24gKCYkYXJyYXkpIHsKc3RhdGljICR0cmFuc2Zvcm0sICRyZXN0b3JlOwoKJGkgPSAwOwoKaWYgKCEkdHJhbnNmb3JtKSB7CiR0cmFuc2Zvcm0gPSBmdW5jdGlvbiAoJiR2LCAkaykgdXNlICgmJGkpIHsKJHYgPSBhcnJheSgkdiwgKyskaSwgJGssICR2KTsKfTsKCiRyZXN0b3JlID0gZnVuY3Rpb24gKCYkdikgewokdiA9ICR2WzNdOwp9Owp9CgphcnJheV93YWxrKCRhcnJheSwgJHRyYW5zZm9ybSk7CmFzb3J0KCRhcnJheSk7CmFycmF5X3dhbGsoJGFycmF5LCAkcmVzdG9yZSk7Cn07Cgokc3RhYmxlX3NvcnQoJHdlaWdodExpc3QpOwoKJHNvcnRlZFBhY2thZ2VzID0gYXJyYXkoKTsKCmZvcmVhY2ggKGFycmF5X2tleXMoJHdlaWdodExpc3QpIGFzICRpbmRleCkgewokc29ydGVkUGFja2FnZXNbXSA9ICRwYWNrYWdlc1skaW5kZXhdOwp9CgpyZXR1cm4gJHNvcnRlZFBhY2thZ2VzOwp9Cn0KPD9waHAKCgoKCgoKCgoKCgpuYW1lc3BhY2UgQ29tcG9zZXJcVXRpbDsKCnVzZSBDb21wb3NlclxJT1xJT0ludGVyZmFjZTsKdXNlIFN5bWZvbnlcQ29tcG9uZW50XFByb2Nlc3NcUHJvY2VzczsKCgoKCmNsYXNzIFBlcmZvcmNlCnsKcHJvdGVjdGVkICRwYXRoOwpwcm90ZWN0ZWQgJHA0RGVwb3Q7CnByb3RlY3RlZCAkcDRDbGllbnQ7CnByb3RlY3RlZCAkcDRVc2VyOwpwcm90ZWN0ZWQgJHA0UGFzc3dvcmQ7CnByb3RlY3RlZCAkcDRQb3J0Owpwcm90ZWN0ZWQgJHA0U3RyZWFtOwpwcm90ZWN0ZWQgJHA0Q2xpZW50U3BlYzsKcHJvdGVjdGVkICRwNERlcG90VHlwZTsKcHJvdGVjdGVkICRwNEJyYW5jaDsKcHJvdGVjdGVkICRwcm9jZXNzOwpwcm90ZWN0ZWQgJHVuaXF1ZVBlcmZvcmNlQ2xpZW50TmFtZTsKcHJvdGVjdGVkICR3aW5kb3dzRmxhZzsKcHJvdGVjdGVkICRjb21tYW5kUmVzdWx0OwoKcHJvdGVjdGVkICRpbzsKCnByb3RlY3RlZCAkZmlsZXN5c3RlbTsKCnB1YmxpYyBmdW5jdGlvbiBfX2NvbnN0cnVjdCgkcmVwb0NvbmZpZywgJHBvcnQsICRwYXRoLCBQcm9jZXNzRXhlY3V0b3IgJHByb2Nlc3MsICRpc1dpbmRvd3MsIElPSW50ZXJmYWNlICRpbykKewokdGhpcy0+d2luZG93c0ZsYWcgPSAkaXNXaW5kb3dzOwokdGhpcy0+cDRQb3J0ID0gJHBvcnQ7CiR0aGlzLT5pbml0aWFsaXplUGF0aCgkcGF0aCk7CiR0aGlzLT5wcm9jZXNzID0gJHByb2Nlc3M7CiR0aGlzLT5pbml0aWFsaXplKCRyZXBvQ29uZmlnKTsKJHRoaXMtPmlvID0gJGlvOwp9CgpwdWJsaWMgc3RhdGljIGZ1bmN0aW9uIGNyZWF0ZSgkcmVwb0NvbmZpZywgJHBvcnQsICRwYXRoLCBQcm9jZXNzRXhlY3V0b3IgJHByb2Nlc3MsIElPSW50ZXJmYWNlICRpbykKewpyZXR1cm4gbmV3IFBlcmZvcmNlKCRyZXBvQ29uZmlnLCAkcG9ydCwgJHBhdGgsICRwcm9jZXNzLCBQbGF0Zm9ybTo6aXNXaW5kb3dzKCksICRpbyk7Cn0KCnB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gY2hlY2tTZXJ2ZXJFeGlzdHMoJHVybCwgUHJvY2Vzc0V4ZWN1dG9yICRwcm9jZXNzRXhlY3V0b3IpCnsKJG91dHB1dCA9IG51bGw7CgpyZXR1cm4gMCA9PT0gJHByb2Nlc3NFeGVjdXRvci0+ZXhlY3V0ZSgncDQgLXAgJyAuIFByb2Nlc3NFeGVjdXRvcjo6ZXNjYXBlKCR1cmwpIC4gJyBpbmZvIC1zJywgJG91dHB1dCk7Cn0KCnB1YmxpYyBmdW5jdGlvbiBpbml0aWFsaXplKCRyZXBvQ29uZmlnKQp7CiR0aGlzLT51bmlxdWVQZXJmb3JjZUNsaWVudE5hbWUgPSAkdGhpcy0+Z2VuZXJhdGVVbmlxdWVQZXJmb3JjZUNsaWVudE5hbWUoKTsKaWYgKCEkcmVwb0NvbmZpZykgewpyZXR1cm47Cn0KaWYgKGlzc2V0KCRyZXBvQ29uZmlnWyd1bmlxdWVfcGVyZm9yY2VfY2xpZW50X25hbWUnXSkpIHsKJHRoaXMtPnVuaXF1ZVBlcmZvcmNlQ2xpZW50TmFtZSA9ICRyZXBvQ29uZmlnWyd1bmlxdWVfcGVyZm9yY2VfY2xpZW50X25hbWUnXTsKfQoKaWYgKGlzc2V0KCRyZXBvQ29uZmlnWydkZXBvdCddKSkgewokdGhpcy0+cDREZXBvdCA9ICRyZXBvQ29uZmlnWydkZXBvdCddOwp9CmlmIChpc3NldCgkcmVwb0NvbmZpZ1snYnJhbmNoJ10pKSB7CiR0aGlzLT5wNEJyYW5jaCA9ICRyZXBvQ29uZmlnWydicmFuY2gnXTsKfQppZiAoaXNzZXQoJHJlcG9Db25maWdbJ3A0dXNlciddKSkgewokdGhpcy0+cDRVc2VyID0gJHJlcG9Db25maWdbJ3A0dXNlciddOwp9IGVsc2UgewokdGhpcy0+cDRVc2VyID0gJHRoaXMtPmdldFA0dmFyaWFibGUoJ1A0VVNFUicpOwp9CmlmIChpc3NldCgkcmVwb0NvbmZpZ1sncDRwYXNzd29yZCddKSkgewokdGhpcy0+cDRQYXNzd29yZCA9ICRyZXBvQ29uZmlnWydwNHBhc3N3b3JkJ107Cn0KfQoKcHVibGljIGZ1bmN0aW9uIGluaXRpYWxpemVEZXBvdEFuZEJyYW5jaCgkZGVwb3QsICRicmFuY2gpCnsKaWYgKGlzc2V0KCRkZXBvdCkpIHsKJHRoaXMtPnA0RGVwb3QgPSAkZGVwb3Q7Cn0KaWYgKGlzc2V0KCRicmFuY2gpKSB7CiR0aGlzLT5wNEJyYW5jaCA9ICRicmFuY2g7Cn0KfQoKcHVibGljIGZ1bmN0aW9uIGdlbmVyYXRlVW5pcXVlUGVyZm9yY2VDbGllbnROYW1lKCkKewpyZXR1cm4gZ2V0aG9zdG5hbWUoKSAuICJfIiAuIHRpbWUoKTsKfQoKcHVibGljIGZ1bmN0aW9uIGNsZWFudXBDbGllbnRTcGVjKCkKewokY2xpZW50ID0gJHRoaXMtPmdldENsaWVudCgpOwokdGFzayA9ICdjbGllbnQgLWQgJyAuIFByb2Nlc3NFeGVjdXRvcjo6ZXNjYXBlKCRjbGllbnQpOwokdXNlUDRDbGllbnQgPSBmYWxzZTsKJGNvbW1hbmQgPSAkdGhpcy0+Z2VuZXJhdGVQNENvbW1hbmQoJHRhc2ssICR1c2VQNENsaWVudCk7CiR0aGlzLT5leGVjdXRlQ29tbWFuZCgkY29tbWFuZCk7CiRjbGllbnRTcGVjID0gJHRoaXMtPmdldFA0Q2xpZW50U3BlYygpOwokZmlsZVN5c3RlbSA9ICR0aGlzLT5nZXRGaWxlc3lzdGVtKCk7CiRmaWxlU3lzdGVtLT5yZW1vdmUoJGNsaWVudFNwZWMpOwp9Cgpwcm90ZWN0ZWQgZnVuY3Rpb24gZXhlY3V0ZUNvbW1hbmQoJGNvbW1hbmQpCnsKJHRoaXMtPmNvbW1hbmRSZXN1bHQgPSAnJzsKCnJldHVybiAkdGhpcy0+cHJvY2Vzcy0+ZXhlY3V0ZSgkY29tbWFuZCwgJHRoaXMtPmNvbW1hbmRSZXN1bHQpOwp9CgpwdWJsaWMgZnVuY3Rpb24gZ2V0Q2xpZW50KCkKewppZiAoIWlzc2V0KCR0aGlzLT5wNENsaWVudCkpIHsKJGNsZWFuU3RyZWFtTmFtZSA9IHN0cl9yZXBsYWNlKGFycmF5KCcvLycsICcvJywgJ0AnKSwgYXJyYXkoJycsICdfJywgJycpLCAkdGhpcy0+Z2V0U3RyZWFtKCkpOwokdGhpcy0+cDRDbGllbnQgPSAnY29tcG9zZXJfcGVyZm9yY2VfJyAuICR0aGlzLT51bmlxdWVQZXJmb3JjZUNsaWVudE5hbWUgLiAnXycgLiAkY2xlYW5TdHJlYW1OYW1lOwp9CgpyZXR1cm4gJHRoaXMtPnA0Q2xpZW50Owp9Cgpwcm90ZWN0ZWQgZnVuY3Rpb24gZ2V0UGF0aCgpCnsKcmV0dXJuICR0aGlzLT5wYXRoOwp9CgpwdWJsaWMgZnVuY3Rpb24gaW5pdGlhbGl6ZVBhdGgoJHBhdGgpCnsKJHRoaXMtPnBhdGggPSAkcGF0aDsKJGZzID0gJHRoaXMtPmdldEZpbGVzeXN0ZW0oKTsKJGZzLT5lbnN1cmVEaXJlY3RvcnlFeGlzdHMoJHBhdGgpOwp9Cgpwcm90ZWN0ZWQgZnVuY3Rpb24gZ2V0UG9ydCgpCnsKcmV0dXJuICR0aGlzLT5wNFBvcnQ7Cn0KCnB1YmxpYyBmdW5jdGlvbiBzZXRTdHJlYW0oJHN0cmVhbSkKewokdGhpcy0+cDRTdHJlYW0gPSAkc3RyZWFtOwokaW5kZXggPSBzdHJycG9zKCRzdHJlYW0sICcvJyk7CgppZiAoJGluZGV4ID4gMikgewokdGhpcy0+cDREZXBvdFR5cGUgPSAnc3RyZWFtJzsKfQp9CgpwdWJsaWMgZnVuY3Rpb24gaXNTdHJlYW0oKQp7CnJldHVybiAoc3RyY21wKCR0aGlzLT5wNERlcG90VHlwZSwgJ3N0cmVhbScpID09PSAwKTsKfQoKcHVibGljIGZ1bmN0aW9uIGdldFN0cmVhbSgpCnsKaWYgKCFpc3NldCgkdGhpcy0+cDRTdHJlYW0pKSB7CmlmICgkdGhpcy0+aXNTdHJlYW0oKSkgewokdGhpcy0+cDRTdHJlYW0gPSAnLy8nIC4gJHRoaXMtPnA0RGVwb3QgLiAnLycgLiAkdGhpcy0+cDRCcmFuY2g7Cn0gZWxzZSB7CiR0aGlzLT5wNFN0cmVhbSA9ICcvLycgLiAkdGhpcy0+cDREZXBvdDsKfQp9CgpyZXR1cm4gJHRoaXMtPnA0U3RyZWFtOwp9CgpwdWJsaWMgZnVuY3Rpb24gZ2V0U3RyZWFtV2l0aG91dExhYmVsKCRzdHJlYW0pCnsKJGluZGV4ID0gc3RycG9zKCRzdHJlYW0sICdAJyk7CmlmICgkaW5kZXggPT09IGZhbHNlKSB7CnJldHVybiAkc3RyZWFtOwp9CgpyZXR1cm4gc3Vic3RyKCRzdHJlYW0sIDAsICRpbmRleCk7Cn0KCnB1YmxpYyBmdW5jdGlvbiBnZXRQNENsaWVudFNwZWMoKQp7CnJldHVybiAkdGhpcy0+cGF0aCAuICcvJyAuICR0aGlzLT5nZXRDbGllbnQoKSAuICcucDQuc3BlYyc7Cn0KCnB1YmxpYyBmdW5jdGlvbiBnZXRVc2VyKCkKewpyZXR1cm4gJHRoaXMtPnA0VXNlcjsKfQoKcHVibGljIGZ1bmN0aW9uIHNldFVzZXIoJHVzZXIpCnsKJHRoaXMtPnA0VXNlciA9ICR1c2VyOwp9CgpwdWJsaWMgZnVuY3Rpb24gcXVlcnlQNFVzZXIoKQp7CiR0aGlzLT5nZXRVc2VyKCk7CmlmIChzdHJsZW4oJHRoaXMtPnA0VXNlcikgPiAwKSB7CnJldHVybjsKfQokdGhpcy0+cDRVc2VyID0gJHRoaXMtPmdldFA0dmFyaWFibGUoJ1A0VVNFUicpOwoKCmlmIChzdHJsZW4oJHRoaXMtPnA0VXNlcikgPiAwKSB7CnJldHVybjsKfQokdGhpcy0+cDRVc2VyID0gJHRoaXMtPmlvLT5hc2soJ0VudGVyIFA0IFVzZXI6Jyk7CmlmICgkdGhpcy0+d2luZG93c0ZsYWcpIHsKJGNvbW1hbmQgPSAncDQgc2V0IFA0VVNFUj0nIC4gJHRoaXMtPnA0VXNlcjsKfSBlbHNlIHsKJGNvbW1hbmQgPSAnZXhwb3J0IFA0VVNFUj0nIC4gJHRoaXMtPnA0VXNlcjsKfQokdGhpcy0+ZXhlY3V0ZUNvbW1hbmQoJGNvbW1hbmQpOwp9CgoKCgoKcHJvdGVjdGVkIGZ1bmN0aW9uIGdldFA0dmFyaWFibGUoJG5hbWUpCnsKaWYgKCR0aGlzLT53aW5kb3dzRmxhZykgewokY29tbWFuZCA9ICdwNCBzZXQnOwokdGhpcy0+ZXhlY3V0ZUNvbW1hbmQoJGNvbW1hbmQpOwokcmVzdWx0ID0gdHJpbSgkdGhpcy0+Y29tbWFuZFJlc3VsdCk7CiRyZXNBcnJheSA9IGV4cGxvZGUoUEhQX0VPTCwgJHJlc3VsdCk7CmZvcmVhY2ggKCRyZXNBcnJheSBhcyAkbGluZSkgewokZmllbGRzID0gZXhwbG9kZSgnPScsICRsaW5lKTsKaWYgKHN0cmNtcCgkbmFtZSwgJGZpZWxkc1swXSkgPT0gMCkgewokaW5kZXggPSBzdHJwb3MoJGZpZWxkc1sxXSwgJyAnKTsKaWYgKCRpbmRleCA9PT0gZmFsc2UpIHsKJHZhbHVlID0gJGZpZWxkc1sxXTsKfSBlbHNlIHsKJHZhbHVlID0gc3Vic3RyKCRmaWVsZHNbMV0sIDAsICRpbmRleCk7Cn0KJHZhbHVlID0gdHJpbSgkdmFsdWUpOwoKcmV0dXJuICR2YWx1ZTsKfQp9CgpyZXR1cm4gbnVsbDsKfQoKJGNvbW1hbmQgPSAnZWNobyAkJyAuICRuYW1lOwokdGhpcy0+ZXhlY3V0ZUNvbW1hbmQoJGNvbW1hbmQpOwokcmVzdWx0ID0gdHJpbSgkdGhpcy0+Y29tbWFuZFJlc3VsdCk7CgpyZXR1cm4gJHJlc3VsdDsKfQoKcHVibGljIGZ1bmN0aW9uIHF1ZXJ5UDRQYXNzd29yZCgpCnsKaWYgKGlzc2V0KCR0aGlzLT5wNFBhc3N3b3JkKSkgewpyZXR1cm4gJHRoaXMtPnA0UGFzc3dvcmQ7Cn0KJHBhc3N3b3JkID0gJHRoaXMtPmdldFA0dmFyaWFibGUoJ1A0UEFTU1dEJyk7CmlmIChzdHJsZW4oJHBhc3N3b3JkKSA8PSAwKSB7CiRwYXNzd29yZCA9ICR0aGlzLT5pby0+YXNrQW5kSGlkZUFuc3dlcignRW50ZXIgcGFzc3dvcmQgZm9yIFBlcmZvcmNlIHVzZXIgJyAuICR0aGlzLT5nZXRVc2VyKCkgLiAnOiAnKTsKfQokdGhpcy0+cDRQYXNzd29yZCA9ICRwYXNzd29yZDsKCnJldHVybiAkcGFzc3dvcmQ7Cn0KCnB1YmxpYyBmdW5jdGlvbiBnZW5lcmF0ZVA0Q29tbWFuZCgkY29tbWFuZCwgJHVzZUNsaWVudCA9IHRydWUpCnsKJHA0Q29tbWFuZCA9ICdwNCAnOwokcDRDb21tYW5kIC49ICctdSAnIC4gJHRoaXMtPmdldFVzZXIoKSAuICcgJzsKaWYgKCR1c2VDbGllbnQpIHsKJHA0Q29tbWFuZCAuPSAnLWMgJyAuICR0aGlzLT5nZXRDbGllbnQoKSAuICcgJzsKfQokcDRDb21tYW5kIC49ICctcCAnIC4gJHRoaXMtPmdldFBvcnQoKSAuICcgJyAuICRjb21tYW5kOwoKcmV0dXJuICRwNENvbW1hbmQ7Cn0KCnB1YmxpYyBmdW5jdGlvbiBpc0xvZ2dlZEluKCkKewokY29tbWFuZCA9ICR0aGlzLT5nZW5lcmF0ZVA0Q29tbWFuZCgnbG9naW4gLXMnLCBmYWxzZSk7CiRleGl0Q29kZSA9ICR0aGlzLT5leGVjdXRlQ29tbWFuZCgkY29tbWFuZCk7CmlmICgkZXhpdENvZGUpIHsKJGVycm9yT3V0cHV0ID0gJHRoaXMtPnByb2Nlc3MtPmdldEVycm9yT3V0cHV0KCk7CiRpbmRleCA9IHN0cnBvcygkZXJyb3JPdXRwdXQsICR0aGlzLT5nZXRVc2VyKCkpOwppZiAoJGluZGV4ID09PSBmYWxzZSkgewokaW5kZXggPSBzdHJwb3MoJGVycm9yT3V0cHV0LCAncDQnKTsKaWYgKCRpbmRleCA9PT0gZmFsc2UpIHsKcmV0dXJuIGZhbHNlOwp9CnRocm93IG5ldyBcRXhjZXB0aW9uKCdwNCBjb21tYW5kIG5vdCBmb3VuZCBpbiBwYXRoOiAnIC4gJGVycm9yT3V0cHV0KTsKfQp0aHJvdyBuZXcgXEV4Y2VwdGlvbignSW52YWxpZCB1c2VyIG5hbWU6ICcgLiAkdGhpcy0+Z2V0VXNlcigpKTsKfQoKcmV0dXJuIHRydWU7Cn0KCnB1YmxpYyBmdW5jdGlvbiBjb25uZWN0Q2xpZW50KCkKewokcDRDcmVhdGVDbGllbnRDb21tYW5kID0gJHRoaXMtPmdlbmVyYXRlUDRDb21tYW5kKAonY2xpZW50IC1pIDwgJyAuIHN0cl9yZXBsYWNlKCIgIiwgIlxcICIsICR0aGlzLT5nZXRQNENsaWVudFNwZWMoKSkKKTsKJHRoaXMtPmV4ZWN1dGVDb21tYW5kKCRwNENyZWF0ZUNsaWVudENvbW1hbmQpOwp9CgpwdWJsaWMgZnVuY3Rpb24gc3luY0NvZGVCYXNlKCRzb3VyY2VSZWZlcmVuY2UpCnsKJHByZXZEaXIgPSBnZXRjd2QoKTsKY2hkaXIoJHRoaXMtPnBhdGgpOwokcDRTeW5jQ29tbWFuZCA9ICR0aGlzLT5nZW5lcmF0ZVA0Q29tbWFuZCgnc3luYyAtZiAnKTsKaWYgKG51bGwgIT09ICRzb3VyY2VSZWZlcmVuY2UpIHsKJHA0U3luY0NvbW1hbmQgLj0gJ0AnIC4gJHNvdXJjZVJlZmVyZW5jZTsKfQokdGhpcy0+ZXhlY3V0ZUNvbW1hbmQoJHA0U3luY0NvbW1hbmQpOwpjaGRpcigkcHJldkRpcik7Cn0KCnB1YmxpYyBmdW5jdGlvbiB3cml0ZUNsaWVudFNwZWNUb0ZpbGUoJHNwZWMpCnsKZndyaXRlKCRzcGVjLCAnQ2xpZW50OiAnIC4gJHRoaXMtPmdldENsaWVudCgpIC4gUEhQX0VPTCAuIFBIUF9FT0wpOwpmd3JpdGUoJHNwZWMsICdVcGRhdGU6ICcgLiBkYXRlKCdZL20vZCBIOmk6cycpIC4gUEhQX0VPTCAuIFBIUF9FT0wpOwpmd3JpdGUoJHNwZWMsICdBY2Nlc3M6ICcgLiBkYXRlKCdZL20vZCBIOmk6cycpIC4gUEhQX0VPTCk7CmZ3cml0ZSgkc3BlYywgJ093bmVyOiAgJyAuICR0aGlzLT5nZXRVc2VyKCkgLiBQSFBfRU9MIC4gUEhQX0VPTCk7CmZ3cml0ZSgkc3BlYywgJ0Rlc2NyaXB0aW9uOicgLiBQSFBfRU9MKTsKZndyaXRlKCRzcGVjLCAnICBDcmVhdGVkIGJ5ICcgLiAkdGhpcy0+Z2V0VXNlcigpIC4gJyBmcm9tIGNvbXBvc2VyLicgLiBQSFBfRU9MIC4gUEhQX0VPTCk7CmZ3cml0ZSgkc3BlYywgJ1Jvb3Q6ICcgLiAkdGhpcy0+Z2V0UGF0aCgpIC4gUEhQX0VPTCAuIFBIUF9FT0wpOwpmd3JpdGUoJHNwZWMsICdPcHRpb25zOiAgbm9hbGx3cml0ZSBub2Nsb2JiZXIgbm9jb21wcmVzcyB1bmxvY2tlZCBtb2R0aW1lIHJtZGlyJyAuIFBIUF9FT0wgLiBQSFBfRU9MKTsKZndyaXRlKCRzcGVjLCAnU3VibWl0T3B0aW9uczogIHJldmVydHVuY2hhbmdlZCcgLiBQSFBfRU9MIC4gUEhQX0VPTCk7CmZ3cml0ZSgkc3BlYywgJ0xpbmVFbmQ6ICBsb2NhbCcgLiBQSFBfRU9MIC4gUEhQX0VPTCk7CmlmICgkdGhpcy0+aXNTdHJlYW0oKSkgewpmd3JpdGUoJHNwZWMsICdTdHJlYW06JyAuIFBIUF9FT0wpOwpmd3JpdGUoJHNwZWMsICcgICcgLiAkdGhpcy0+Z2V0U3RyZWFtV2l0aG91dExhYmVsKCR0aGlzLT5wNFN0cmVhbSkgLiBQSFBfRU9MKTsKfSBlbHNlIHsKZndyaXRlKAokc3BlYywKJ1ZpZXc6ICAnIC4gJHRoaXMtPmdldFN0cmVhbSgpIC4gJy8uLi4gIC8vJyAuICR0aGlzLT5nZXRDbGllbnQoKSAuICcvLi4uICcgLiBQSFBfRU9MCik7Cn0KfQoKcHVibGljIGZ1bmN0aW9uIHdyaXRlUDRDbGllbnRTcGVjKCkKewokY2xpZW50U3BlYyA9ICR0aGlzLT5nZXRQNENsaWVudFNwZWMoKTsKJHNwZWMgPSBmb3BlbigkY2xpZW50U3BlYywgJ3cnKTsKdHJ5IHsKJHRoaXMtPndyaXRlQ2xpZW50U3BlY1RvRmlsZSgkc3BlYyk7Cn0gY2F0Y2ggKFxFeGNlcHRpb24gJGUpIHsKZmNsb3NlKCRzcGVjKTsKdGhyb3cgJGU7Cn0KZmNsb3NlKCRzcGVjKTsKfQoKcHJvdGVjdGVkIGZ1bmN0aW9uIHJlYWQoJHBpcGUsICRuYW1lKQp7CmlmIChmZW9mKCRwaXBlKSkgewpyZXR1cm47Cn0KJGxpbmUgPSBmZ2V0cygkcGlwZSk7CndoaWxlICgkbGluZSAhPT0gZmFsc2UpIHsKJGxpbmUgPSBmZ2V0cygkcGlwZSk7Cn0KfQoKcHVibGljIGZ1bmN0aW9uIHdpbmRvd3NMb2dpbigkcGFzc3dvcmQpCnsKJGNvbW1hbmQgPSAkdGhpcy0+Z2VuZXJhdGVQNENvbW1hbmQoJyBsb2dpbiAtYScpOwoKCmlmIChtZXRob2RfZXhpc3RzKCdTeW1mb255XENvbXBvbmVudFxQcm9jZXNzXFByb2Nlc3MnLCAnZnJvbVNoZWxsQ29tbWFuZGxpbmUnKSkgewokcHJvY2VzcyA9IFByb2Nlc3M6OmZyb21TaGVsbENvbW1hbmRsaW5lKCRjb21tYW5kLCBudWxsLCBudWxsLCAkcGFzc3dvcmQpOwp9IGVsc2UgewokcHJvY2VzcyA9IG5ldyBQcm9jZXNzKCRjb21tYW5kLCBudWxsLCBudWxsLCAkcGFzc3dvcmQpOwp9CgpyZXR1cm4gJHByb2Nlc3MtPnJ1bigpOwp9CgpwdWJsaWMgZnVuY3Rpb24gcDRMb2dpbigpCnsKJHRoaXMtPnF1ZXJ5UDRVc2VyKCk7CmlmICghJHRoaXMtPmlzTG9nZ2VkSW4oKSkgewokcGFzc3dvcmQgPSAkdGhpcy0+cXVlcnlQNFBhc3N3b3JkKCk7CmlmICgkdGhpcy0+d2luZG93c0ZsYWcpIHsKJHRoaXMtPndpbmRvd3NMb2dpbigkcGFzc3dvcmQpOwp9IGVsc2UgewokY29tbWFuZCA9ICdlY2hvICcgLiBQcm9jZXNzRXhlY3V0b3I6OmVzY2FwZSgkcGFzc3dvcmQpIC4gJyB8ICcgLiAkdGhpcy0+Z2VuZXJhdGVQNENvbW1hbmQoJyBsb2dpbiAtYScsIGZhbHNlKTsKJGV4aXRDb2RlID0gJHRoaXMtPmV4ZWN1dGVDb21tYW5kKCRjb21tYW5kKTsKaWYgKCRleGl0Q29kZSkgewp0aHJvdyBuZXcgXEV4Y2VwdGlvbigiRXJyb3IgbG9nZ2luZyBpbjoiIC4gJHRoaXMtPnByb2Nlc3MtPmdldEVycm9yT3V0cHV0KCkpOwp9Cn0KfQp9CgpwdWJsaWMgZnVuY3Rpb24gZ2V0Q29tcG9zZXJJbmZvcm1hdGlvbigkaWRlbnRpZmllcikKewokY29tcG9zZXJGaWxlQ29udGVudCA9ICR0aGlzLT5nZXRGaWxlQ29udGVudCgnY29tcG9zZXIuanNvbicsICRpZGVudGlmaWVyKTsKCmlmICghJGNvbXBvc2VyRmlsZUNvbnRlbnQpIHsKcmV0dXJuOwp9CgpyZXR1cm4ganNvbl9kZWNvZGUoJGNvbXBvc2VyRmlsZUNvbnRlbnQsIHRydWUpOwp9CgpwdWJsaWMgZnVuY3Rpb24gZ2V0RmlsZUNvbnRlbnQoJGZpbGUsICRpZGVudGlmaWVyKQp7CiRwYXRoID0gJHRoaXMtPmdldEZpbGVQYXRoKCRmaWxlLCAkaWRlbnRpZmllcik7CgokY29tbWFuZCA9ICR0aGlzLT5nZW5lcmF0ZVA0Q29tbWFuZCgnIHByaW50ICcgLiBQcm9jZXNzRXhlY3V0b3I6OmVzY2FwZSgkcGF0aCkpOwokdGhpcy0+ZXhlY3V0ZUNvbW1hbmQoJGNvbW1hbmQpOwokcmVzdWx0ID0gJHRoaXMtPmNvbW1hbmRSZXN1bHQ7CgppZiAoIXRyaW0oJHJlc3VsdCkpIHsKcmV0dXJuIG51bGw7Cn0KCnJldHVybiAkcmVzdWx0Owp9CgpwdWJsaWMgZnVuY3Rpb24gZ2V0RmlsZVBhdGgoJGZpbGUsICRpZGVudGlmaWVyKQp7CiRpbmRleCA9IHN0cnBvcygkaWRlbnRpZmllciwgJ0AnKTsKaWYgKCRpbmRleCA9PT0gZmFsc2UpIHsKcmV0dXJuICRpZGVudGlmaWVyLiAnLycgLiAkZmlsZTsKfQoKJHBhdGggPSBzdWJzdHIoJGlkZW50aWZpZXIsIDAsICRpbmRleCkgLiAnLycgLiAkZmlsZSAuIHN1YnN0cigkaWRlbnRpZmllciwgJGluZGV4KTsKJGNvbW1hbmQgPSAkdGhpcy0+Z2VuZXJhdGVQNENvbW1hbmQoJyBmaWxlcyAnIC4gUHJvY2Vzc0V4ZWN1dG9yOjplc2NhcGUoJHBhdGgpLCBmYWxzZSk7CiR0aGlzLT5leGVjdXRlQ29tbWFuZCgkY29tbWFuZCk7CiRyZXN1bHQgPSAkdGhpcy0+Y29tbWFuZFJlc3VsdDsKJGluZGV4MiA9IHN0cnBvcygkcmVzdWx0LCAnbm8gc3VjaCBmaWxlKHMpLicpOwppZiAoJGluZGV4MiA9PT0gZmFsc2UpIHsKJGluZGV4MyA9IHN0cnBvcygkcmVzdWx0LCAnY2hhbmdlJyk7CmlmICgkaW5kZXgzICE9PSBmYWxzZSkgewokcGhyYXNlID0gdHJpbShzdWJzdHIoJHJlc3VsdCwgJGluZGV4MykpOwokZmllbGRzID0gZXhwbG9kZSgnICcsICRwaHJhc2UpOwoKcmV0dXJuIHN1YnN0cigkaWRlbnRpZmllciwgMCwgJGluZGV4KSAuICcvJyAuICRmaWxlIC4gJ0AnIC4gJGZpZWxkc1sxXTsKfQp9CgpyZXR1cm4gbnVsbDsKfQoKcHVibGljIGZ1bmN0aW9uIGdldEJyYW5jaGVzKCkKewokcG9zc2libGVCcmFuY2hlcyA9IGFycmF5KCk7CmlmICghJHRoaXMtPmlzU3RyZWFtKCkpIHsKJHBvc3NpYmxlQnJhbmNoZXNbJHRoaXMtPnA0QnJhbmNoXSA9ICR0aGlzLT5nZXRTdHJlYW0oKTsKfSBlbHNlIHsKJGNvbW1hbmQgPSAkdGhpcy0+Z2VuZXJhdGVQNENvbW1hbmQoJ3N0cmVhbXMgJy5Qcm9jZXNzRXhlY3V0b3I6OmVzY2FwZSgnLy8nIC4gJHRoaXMtPnA0RGVwb3QgLiAnLy4uLicpKTsKJHRoaXMtPmV4ZWN1dGVDb21tYW5kKCRjb21tYW5kKTsKJHJlc3VsdCA9ICR0aGlzLT5jb21tYW5kUmVzdWx0OwokcmVzQXJyYXkgPSBleHBsb2RlKFBIUF9FT0wsICRyZXN1bHQpOwpmb3JlYWNoICgkcmVzQXJyYXkgYXMgJGxpbmUpIHsKJHJlc0JpdHMgPSBleHBsb2RlKCcgJywgJGxpbmUpOwppZiAoY291bnQoJHJlc0JpdHMpID4gNCkgewokYnJhbmNoID0gcHJlZ19yZXBsYWNlKCcvW15BLVphLXowLTkgXS8nLCAnJywgJHJlc0JpdHNbNF0pOwokcG9zc2libGVCcmFuY2hlc1skYnJhbmNoXSA9ICRyZXNCaXRzWzFdOwp9Cn0KfQokY29tbWFuZCA9ICR0aGlzLT5nZW5lcmF0ZVA0Q29tbWFuZCgnY2hhbmdlcyAnLiBQcm9jZXNzRXhlY3V0b3I6OmVzY2FwZSgkdGhpcy0+Z2V0U3RyZWFtKCkgLiAnLy4uLicpLCBmYWxzZSk7CiR0aGlzLT5leGVjdXRlQ29tbWFuZCgkY29tbWFuZCk7CiRyZXN1bHQgPSAkdGhpcy0+Y29tbWFuZFJlc3VsdDsKJHJlc0FycmF5ID0gZXhwbG9kZShQSFBfRU9MLCAkcmVzdWx0KTsKJGxhc3RDb21taXQgPSAkcmVzQXJyYXlbMF07CiRsYXN0Q29tbWl0QXJyID0gZXhwbG9kZSgnICcsICRsYXN0Q29tbWl0KTsKJGxhc3RDb21taXROdW0gPSAkbGFzdENvbW1pdEFyclsxXTsKCnJldHVybiBhcnJheSgnbWFzdGVyJyA9PiAkcG9zc2libGVCcmFuY2hlc1skdGhpcy0+cDRCcmFuY2hdIC4gJ0AnLiAkbGFzdENvbW1pdE51bSk7Cn0KCnB1YmxpYyBmdW5jdGlvbiBnZXRUYWdzKCkKewokY29tbWFuZCA9ICR0aGlzLT5nZW5lcmF0ZVA0Q29tbWFuZCgnbGFiZWxzJyk7CiR0aGlzLT5leGVjdXRlQ29tbWFuZCgkY29tbWFuZCk7CiRyZXN1bHQgPSAkdGhpcy0+Y29tbWFuZFJlc3VsdDsKJHJlc0FycmF5ID0gZXhwbG9kZShQSFBfRU9MLCAkcmVzdWx0KTsKJHRhZ3MgPSBhcnJheSgpOwpmb3JlYWNoICgkcmVzQXJyYXkgYXMgJGxpbmUpIHsKaWYgKHN0cnBvcygkbGluZSwgJ0xhYmVsJykgIT09IGZhbHNlKSB7CiRmaWVsZHMgPSBleHBsb2RlKCcgJywgJGxpbmUpOwokdGFnc1skZmllbGRzWzFdXSA9ICR0aGlzLT5nZXRTdHJlYW0oKSAuICdAJyAuICRmaWVsZHNbMV07Cn0KfQoKcmV0dXJuICR0YWdzOwp9CgpwdWJsaWMgZnVuY3Rpb24gY2hlY2tTdHJlYW0oKQp7CiRjb21tYW5kID0gJHRoaXMtPmdlbmVyYXRlUDRDb21tYW5kKCdkZXBvdHMnLCBmYWxzZSk7CiR0aGlzLT5leGVjdXRlQ29tbWFuZCgkY29tbWFuZCk7CiRyZXN1bHQgPSAkdGhpcy0+Y29tbWFuZFJlc3VsdDsKJHJlc0FycmF5ID0gZXhwbG9kZShQSFBfRU9MLCAkcmVzdWx0KTsKZm9yZWFjaCAoJHJlc0FycmF5IGFzICRsaW5lKSB7CmlmIChzdHJwb3MoJGxpbmUsICdEZXBvdCcpICE9PSBmYWxzZSkgewokZmllbGRzID0gZXhwbG9kZSgnICcsICRsaW5lKTsKaWYgKHN0cmNtcCgkdGhpcy0+cDREZXBvdCwgJGZpZWxkc1sxXSkgPT09IDApIHsKJHRoaXMtPnA0RGVwb3RUeXBlID0gJGZpZWxkc1szXTsKCnJldHVybiAkdGhpcy0+aXNTdHJlYW0oKTsKfQp9Cn0KCnJldHVybiBmYWxzZTsKfQoKCgoKCnByb3RlY3RlZCBmdW5jdGlvbiBnZXRDaGFuZ2VMaXN0KCRyZWZlcmVuY2UpCnsKJGluZGV4ID0gc3RycG9zKCRyZWZlcmVuY2UsICdAJyk7CmlmICgkaW5kZXggPT09IGZhbHNlKSB7CnJldHVybiBudWxsOwp9CiRsYWJlbCA9IHN1YnN0cigkcmVmZXJlbmNlLCAkaW5kZXgpOwokY29tbWFuZCA9ICR0aGlzLT5nZW5lcmF0ZVA0Q29tbWFuZCgnIGNoYW5nZXMgLW0xICcgLiBQcm9jZXNzRXhlY3V0b3I6OmVzY2FwZSgkbGFiZWwpKTsKJHRoaXMtPmV4ZWN1dGVDb21tYW5kKCRjb21tYW5kKTsKJGNoYW5nZXMgPSAkdGhpcy0+Y29tbWFuZFJlc3VsdDsKaWYgKHN0cnBvcygkY2hhbmdlcywgJ0NoYW5nZScpICE9PSAwKSB7CnJldHVybiBudWxsOwp9CiRmaWVsZHMgPSBleHBsb2RlKCcgJywgJGNoYW5nZXMpOwoKcmV0dXJuICRmaWVsZHNbMV07Cn0KCgoKCgoKcHVibGljIGZ1bmN0aW9uIGdldENvbW1pdExvZ3MoJGZyb21SZWZlcmVuY2UsICR0b1JlZmVyZW5jZSkKewokZnJvbUNoYW5nZUxpc3QgPSAkdGhpcy0+Z2V0Q2hhbmdlTGlzdCgkZnJvbVJlZmVyZW5jZSk7CmlmICgkZnJvbUNoYW5nZUxpc3QgPT09IG51bGwpIHsKcmV0dXJuIG51bGw7Cn0KJHRvQ2hhbmdlTGlzdCA9ICR0aGlzLT5nZXRDaGFuZ2VMaXN0KCR0b1JlZmVyZW5jZSk7CmlmICgkdG9DaGFuZ2VMaXN0ID09PSBudWxsKSB7CnJldHVybiBudWxsOwp9CiRpbmRleCA9IHN0cnBvcygkZnJvbVJlZmVyZW5jZSwgJ0AnKTsKJG1haW4gPSBzdWJzdHIoJGZyb21SZWZlcmVuY2UsIDAsICRpbmRleCkgLiAnLy4uLic7CiRjb21tYW5kID0gJHRoaXMtPmdlbmVyYXRlUDRDb21tYW5kKCdmaWxlbG9nICcgLiBQcm9jZXNzRXhlY3V0b3I6OmVzY2FwZSgkbWFpbiAuICdAJyAuICRmcm9tQ2hhbmdlTGlzdC4gJywnIC4gJHRvQ2hhbmdlTGlzdCkpOwokdGhpcy0+ZXhlY3V0ZUNvbW1hbmQoJGNvbW1hbmQpOwoKcmV0dXJuICR0aGlzLT5jb21tYW5kUmVzdWx0Owp9CgpwdWJsaWMgZnVuY3Rpb24gZ2V0RmlsZXN5c3RlbSgpCnsKaWYgKGVtcHR5KCR0aGlzLT5maWxlc3lzdGVtKSkgewokdGhpcy0+ZmlsZXN5c3RlbSA9IG5ldyBGaWxlc3lzdGVtKCR0aGlzLT5wcm9jZXNzKTsKfQoKcmV0dXJuICR0aGlzLT5maWxlc3lzdGVtOwp9CgpwdWJsaWMgZnVuY3Rpb24gc2V0RmlsZXN5c3RlbShGaWxlc3lzdGVtICRmcykKewokdGhpcy0+ZmlsZXN5c3RlbSA9ICRmczsKfQp9Cjw/cGhwCgoKCgoKCgoKCgoKbmFtZXNwYWNlIENvbXBvc2VyXFV0aWw7CgoKCgoKCmNsYXNzIFBsYXRmb3JtCnsKCnByaXZhdGUgc3RhdGljICRpc1ZpcnR1YWxCb3hHdWVzdCA9IG51bGw7Cgpwcml2YXRlIHN0YXRpYyAkaXNXaW5kb3dzU3Vic3lzdGVtRm9yTGludXggPSBudWxsOwoKCgoKCgoKCnB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gcHV0RW52KCRuYW1lLCAkdmFsdWUpCnsKJHZhbHVlID0gKHN0cmluZykgJHZhbHVlOwpwdXRlbnYoJG5hbWUgLiAnPScgLiAkdmFsdWUpOwokX1NFUlZFUlskbmFtZV0gPSAkX0VOVlskbmFtZV0gPSAkdmFsdWU7Cn0KCgoKCgoKCnB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gY2xlYXJFbnYoJG5hbWUpCnsKcHV0ZW52KCRuYW1lKTsKdW5zZXQoJF9TRVJWRVJbJG5hbWVdLCAkX0VOVlskbmFtZV0pOwp9CgoKCgoKCgpwdWJsaWMgc3RhdGljIGZ1bmN0aW9uIGV4cGFuZFBhdGgoJHBhdGgpCnsKaWYgKHByZWdfbWF0Y2goJyNefltcXC9dIycsICRwYXRoKSkgewpyZXR1cm4gc2VsZjo6Z2V0VXNlckRpcmVjdG9yeSgpIC4gc3Vic3RyKCRwYXRoLCAxKTsKfQoKcmV0dXJuIHByZWdfcmVwbGFjZV9jYWxsYmFjaygnI14oXCR8KD9QPHBlcmNlbnQ+JSkpKD9QPHZhcj5cdysrKSg/KHBlcmNlbnQpJSkoP1A8cGF0aD4uKikjJywgZnVuY3Rpb24gKCRtYXRjaGVzKSB7CgppZiAoUGxhdGZvcm06OmlzV2luZG93cygpICYmICRtYXRjaGVzWyd2YXInXSA9PSAnSE9NRScpIHsKcmV0dXJuIChnZXRlbnYoJ0hPTUUnKSA/OiBnZXRlbnYoJ1VTRVJQUk9GSUxFJykpIC4gJG1hdGNoZXNbJ3BhdGgnXTsKfQoKcmV0dXJuIGdldGVudigkbWF0Y2hlc1sndmFyJ10pIC4gJG1hdGNoZXNbJ3BhdGgnXTsKfSwgJHBhdGgpOwp9CgoKCgoKcHVibGljIHN0YXRpYyBmdW5jdGlvbiBnZXRVc2VyRGlyZWN0b3J5KCkKewppZiAoZmFsc2UgIT09ICgkaG9tZSA9IGdldGVudignSE9NRScpKSkgewpyZXR1cm4gJGhvbWU7Cn0KCmlmIChzZWxmOjppc1dpbmRvd3MoKSAmJiBmYWxzZSAhPT0gKCRob21lID0gZ2V0ZW52KCdVU0VSUFJPRklMRScpKSkgewpyZXR1cm4gJGhvbWU7Cn0KCmlmIChcZnVuY3Rpb25fZXhpc3RzKCdwb3NpeF9nZXR1aWQnKSAmJiBcZnVuY3Rpb25fZXhpc3RzKCdwb3NpeF9nZXRwd3VpZCcpKSB7CiRpbmZvID0gcG9zaXhfZ2V0cHd1aWQocG9zaXhfZ2V0dWlkKCkpOwoKcmV0dXJuICRpbmZvWydkaXInXTsKfQoKdGhyb3cgbmV3IFxSdW50aW1lRXhjZXB0aW9uKCdDb3VsZCBub3QgZGV0ZXJtaW5lIHVzZXIgZGlyZWN0b3J5Jyk7Cn0KCgoKCnB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gaXNXaW5kb3dzU3Vic3lzdGVtRm9yTGludXgoKQp7CmlmIChudWxsID09PSBzZWxmOjokaXNXaW5kb3dzU3Vic3lzdGVtRm9yTGludXgpIHsKc2VsZjo6JGlzV2luZG93c1N1YnN5c3RlbUZvckxpbnV4ID0gZmFsc2U7CgoKaWYgKHNlbGY6OmlzV2luZG93cygpKSB7CnJldHVybiBzZWxmOjokaXNXaW5kb3dzU3Vic3lzdGVtRm9yTGludXggPSBmYWxzZTsKfQoKaWYgKGlzX3JlYWRhYmxlKCcvcHJvYy92ZXJzaW9uJykgJiYgZmFsc2UgIT09IHN0cmlwb3MoZmlsZV9nZXRfY29udGVudHMoJy9wcm9jL3ZlcnNpb24nKSwgJ21pY3Jvc29mdCcpKSB7CnJldHVybiBzZWxmOjokaXNXaW5kb3dzU3Vic3lzdGVtRm9yTGludXggPSB0cnVlOwp9Cn0KCnJldHVybiBzZWxmOjokaXNXaW5kb3dzU3Vic3lzdGVtRm9yTGludXg7Cn0KCgoKCnB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gaXNXaW5kb3dzKCkKewpyZXR1cm4gXGRlZmluZWQoJ1BIUF9XSU5ET1dTX1ZFUlNJT05fQlVJTEQnKTsKfQoKCgoKCnB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gc3RybGVuKCRzdHIpCnsKc3RhdGljICR1c2VNYlN0cmluZyA9IG51bGw7CmlmIChudWxsID09PSAkdXNlTWJTdHJpbmcpIHsKJHVzZU1iU3RyaW5nID0gXGZ1bmN0aW9uX2V4aXN0cygnbWJfc3RybGVuJykgJiYgaW5pX2dldCgnbWJzdHJpbmcuZnVuY19vdmVybG9hZCcpOwp9CgppZiAoJHVzZU1iU3RyaW5nKSB7CnJldHVybiBtYl9zdHJsZW4oJHN0ciwgJzhiaXQnKTsKfQoKcmV0dXJuIFxzdHJsZW4oJHN0cik7Cn0KCnB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gaXNUdHkoJGZkID0gbnVsbCkKewppZiAoJGZkID09PSBudWxsKSB7CiRmZCA9IGRlZmluZWQoJ1NURE9VVCcpID8gU1RET1VUIDogZm9wZW4oJ3BocDovL3N0ZG91dCcsICd3Jyk7Cn0KCgoKaWYgKGluX2FycmF5KHN0cnRvdXBwZXIoZ2V0ZW52KCdNU1lTVEVNJykgPzogJycpLCBhcnJheSgnTUlOR1czMicsICdNSU5HVzY0JyksIHRydWUpKSB7CnJldHVybiB0cnVlOwp9CgoKCmlmIChmdW5jdGlvbl9leGlzdHMoJ3N0cmVhbV9pc2F0dHknKSkgewpyZXR1cm4gc3RyZWFtX2lzYXR0eSgkZmQpOwp9CgoKaWYgKGZ1bmN0aW9uX2V4aXN0cygncG9zaXhfaXNhdHR5JykgJiYgcG9zaXhfaXNhdHR5KCRmZCkpIHsKcmV0dXJuIHRydWU7Cn0KCiRzdGF0ID0gQGZzdGF0KCRmZCk7CgpyZXR1cm4gJHN0YXQgPyAwMDIwMDAwID09PSAoJHN0YXRbJ21vZGUnXSAmIDAxNzAwMDApIDogZmFsc2U7Cn0KCnB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gd29ya2Fyb3VuZEZpbGVzeXN0ZW1Jc3N1ZXMoKQp7CmlmIChzZWxmOjppc1ZpcnR1YWxCb3hHdWVzdCgpKSB7CnVzbGVlcCgyMDAwMDApOwp9Cn0KCgoKCgoKCgpwcml2YXRlIHN0YXRpYyBmdW5jdGlvbiBpc1ZpcnR1YWxCb3hHdWVzdCgpCnsKaWYgKG51bGwgPT09IHNlbGY6OiRpc1ZpcnR1YWxCb3hHdWVzdCkgewpzZWxmOjokaXNWaXJ0dWFsQm94R3Vlc3QgPSBmYWxzZTsKaWYgKHNlbGY6OmlzV2luZG93cygpKSB7CnJldHVybiBzZWxmOjokaXNWaXJ0dWFsQm94R3Vlc3Q7Cn0KCmlmIChmdW5jdGlvbl9leGlzdHMoJ3Bvc2l4X2dldHB3dWlkJykgJiYgZnVuY3Rpb25fZXhpc3RzKCdwb3NpeF9nZXRldWlkJykpIHsKJHByb2Nlc3NVc2VyID0gcG9zaXhfZ2V0cHd1aWQocG9zaXhfZ2V0ZXVpZCgpKTsKaWYgKCRwcm9jZXNzVXNlciAmJiAkcHJvY2Vzc1VzZXJbJ25hbWUnXSA9PT0gJ3ZhZ3JhbnQnKSB7CnJldHVybiBzZWxmOjokaXNWaXJ0dWFsQm94R3Vlc3QgPSB0cnVlOwp9Cn0KCmlmIChnZXRlbnYoJ0NPTVBPU0VSX1JVTlRJTUVfRU5WJykgPT09ICd2aXJ0dWFsYm94JykgewpyZXR1cm4gc2VsZjo6JGlzVmlydHVhbEJveEd1ZXN0ID0gdHJ1ZTsKfQoKaWYgKGRlZmluZWQoJ1BIUF9PU19GQU1JTFknKSAmJiBQSFBfT1NfRkFNSUxZID09PSAnTGludXgnKSB7CiRwcm9jZXNzID0gbmV3IFByb2Nlc3NFeGVjdXRvcigpOwp0cnkgewppZiAoMCA9PT0gJHByb2Nlc3MtPmV4ZWN1dGUoJ2xzbW9kIHwgZ3JlcCB2Ym94Z3Vlc3QnLCAkaWdub3JlZE91dHB1dCkpIHsKcmV0dXJuIHNlbGY6OiRpc1ZpcnR1YWxCb3hHdWVzdCA9IHRydWU7Cn0KfSBjYXRjaCAoXEV4Y2VwdGlvbiAkZSkgewoKfQp9Cn0KCnJldHVybiBzZWxmOjokaXNWaXJ0dWFsQm94R3Vlc3Q7Cn0KfQo8P3BocAoKCgoKCgoKCgoKCm5hbWVzcGFjZSBDb21wb3NlclxVdGlsOwoKdXNlIENvbXBvc2VyXElPXElPSW50ZXJmYWNlOwp1c2UgU3ltZm9ueVxDb21wb25lbnRcUHJvY2Vzc1xQcm9jZXNzOwp1c2UgU3ltZm9ueVxDb21wb25lbnRcUHJvY2Vzc1xQcm9jZXNzVXRpbHM7CnVzZSBTeW1mb255XENvbXBvbmVudFxQcm9jZXNzXEV4Y2VwdGlvblxSdW50aW1lRXhjZXB0aW9uOwp1c2UgUmVhY3RcUHJvbWlzZVxQcm9taXNlOwp1c2UgUmVhY3RcUHJvbWlzZVxQcm9taXNlSW50ZXJmYWNlOwoKCgoKCmNsYXNzIFByb2Nlc3NFeGVjdXRvcgp7CmNvbnN0IFNUQVRVU19RVUVVRUQgPSAxOwpjb25zdCBTVEFUVVNfU1RBUlRFRCA9IDI7CmNvbnN0IFNUQVRVU19DT01QTEVURUQgPSAzOwpjb25zdCBTVEFUVVNfRkFJTEVEID0gNDsKY29uc3QgU1RBVFVTX0FCT1JURUQgPSA1OwoKcHJvdGVjdGVkIHN0YXRpYyAkdGltZW91dCA9IDMwMDsKCnByb3RlY3RlZCAkY2FwdHVyZU91dHB1dDsKcHJvdGVjdGVkICRlcnJvck91dHB1dDsKcHJvdGVjdGVkICRpbzsKCgoKCnByaXZhdGUgJGpvYnMgPSBhcnJheSgpOwpwcml2YXRlICRydW5uaW5nSm9icyA9IDA7CnByaXZhdGUgJG1heEpvYnMgPSAxMDsKcHJpdmF0ZSAkaWRHZW4gPSAwOwpwcml2YXRlICRhbGxvd0FzeW5jID0gZmFsc2U7CgpwdWJsaWMgZnVuY3Rpb24gX19jb25zdHJ1Y3QoSU9JbnRlcmZhY2UgJGlvID0gbnVsbCkKewokdGhpcy0+aW8gPSAkaW87Cn0KCgoKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBleGVjdXRlKCRjb21tYW5kLCAmJG91dHB1dCA9IG51bGwsICRjd2QgPSBudWxsKQp7CmlmIChmdW5jX251bV9hcmdzKCkgPiAxKSB7CnJldHVybiAkdGhpcy0+ZG9FeGVjdXRlKCRjb21tYW5kLCAkY3dkLCBmYWxzZSwgJG91dHB1dCk7Cn0KCnJldHVybiAkdGhpcy0+ZG9FeGVjdXRlKCRjb21tYW5kLCAkY3dkLCBmYWxzZSk7Cn0KCgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gZXhlY3V0ZVR0eSgkY29tbWFuZCwgJGN3ZCA9IG51bGwpCnsKaWYgKFBsYXRmb3JtOjppc1R0eSgpKSB7CnJldHVybiAkdGhpcy0+ZG9FeGVjdXRlKCRjb21tYW5kLCAkY3dkLCB0cnVlKTsKfQoKcmV0dXJuICR0aGlzLT5kb0V4ZWN1dGUoJGNvbW1hbmQsICRjd2QsIGZhbHNlKTsKfQoKcHJpdmF0ZSBmdW5jdGlvbiBkb0V4ZWN1dGUoJGNvbW1hbmQsICRjd2QsICR0dHksICYkb3V0cHV0ID0gbnVsbCkKewppZiAoJHRoaXMtPmlvICYmICR0aGlzLT5pby0+aXNEZWJ1ZygpKSB7CiRzYWZlQ29tbWFuZCA9IHByZWdfcmVwbGFjZV9jYWxsYmFjaygnezovLyg/UDx1c2VyPlteOi9cc10rKTooP1A8cGFzc3dvcmQ+W15AXHMvXSspQH1pJywgZnVuY3Rpb24gKCRtKSB7CgppZiAocHJlZ19tYXRjaCgne14oW2EtZjAtOV17MTIsfXxnaFthLXpdX1thLXpBLVowLTlfXSspJH0nLCAkbVsndXNlciddKSkgewpyZXR1cm4gJzovLyoqKjoqKipAJzsKfQoKcmV0dXJuICc6Ly8nLiRtWyd1c2VyJ10uJzoqKipAJzsKfSwgJGNvbW1hbmQpOwokc2FmZUNvbW1hbmQgPSBwcmVnX3JlcGxhY2UoInstLXBhc3N3b3JkICguKlteXFxcXF1cJykgfSIsICctLXBhc3N3b3JkIFwnKioqXCcgJywgJHNhZmVDb21tYW5kKTsKJHRoaXMtPmlvLT53cml0ZUVycm9yKCdFeGVjdXRpbmcgY29tbWFuZCAoJy4oJGN3ZCA/OiAnQ1dEJykuJyk6ICcuJHNhZmVDb21tYW5kKTsKfQoKCgoKaWYgKG51bGwgPT09ICRjd2QgJiYgUGxhdGZvcm06OmlzV2luZG93cygpICYmIGZhbHNlICE9PSBzdHJwb3MoJGNvbW1hbmQsICdnaXQnKSAmJiBnZXRjd2QoKSkgewokY3dkID0gcmVhbHBhdGgoZ2V0Y3dkKCkpOwp9CmlmIChudWxsICE9PSAkY3dkICYmICFpc19kaXIoJGN3ZCkpIHsKdGhyb3cgbmV3IFxSdW50aW1lRXhjZXB0aW9uKCdUaGUgZ2l2ZW4gQ1dEIGZvciB0aGUgcHJvY2VzcyBkb2VzIG5vdCBleGlzdDogJy4kY3dkKTsKfQoKJHRoaXMtPmNhcHR1cmVPdXRwdXQgPSBmdW5jX251bV9hcmdzKCkgPiAzOwokdGhpcy0+ZXJyb3JPdXRwdXQgPSBudWxsOwoKCmlmIChtZXRob2RfZXhpc3RzKCdTeW1mb255XENvbXBvbmVudFxQcm9jZXNzXFByb2Nlc3MnLCAnZnJvbVNoZWxsQ29tbWFuZGxpbmUnKSkgewokcHJvY2VzcyA9IFByb2Nlc3M6OmZyb21TaGVsbENvbW1hbmRsaW5lKCRjb21tYW5kLCAkY3dkLCBudWxsLCBudWxsLCBzdGF0aWM6OmdldFRpbWVvdXQoKSk7Cn0gZWxzZSB7CiRwcm9jZXNzID0gbmV3IFByb2Nlc3MoJGNvbW1hbmQsICRjd2QsIG51bGwsIG51bGwsIHN0YXRpYzo6Z2V0VGltZW91dCgpKTsKfQppZiAoIVBsYXRmb3JtOjppc1dpbmRvd3MoKSAmJiAkdHR5KSB7CnRyeSB7CiRwcm9jZXNzLT5zZXRUdHkodHJ1ZSk7Cn0gY2F0Y2ggKFJ1bnRpbWVFeGNlcHRpb24gJGUpIHsKCn0KfQoKJGNhbGxiYWNrID0gaXNfY2FsbGFibGUoJG91dHB1dCkgPyAkb3V0cHV0IDogYXJyYXkoJHRoaXMsICdvdXRwdXRIYW5kbGVyJyk7CiRwcm9jZXNzLT5ydW4oJGNhbGxiYWNrKTsKCmlmICgkdGhpcy0+Y2FwdHVyZU91dHB1dCAmJiAhaXNfY2FsbGFibGUoJG91dHB1dCkpIHsKJG91dHB1dCA9ICRwcm9jZXNzLT5nZXRPdXRwdXQoKTsKfQoKJHRoaXMtPmVycm9yT3V0cHV0ID0gJHByb2Nlc3MtPmdldEVycm9yT3V0cHV0KCk7CgpyZXR1cm4gJHByb2Nlc3MtPmdldEV4aXRDb2RlKCk7Cn0KCgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gZXhlY3V0ZUFzeW5jKCRjb21tYW5kLCAkY3dkID0gbnVsbCkKewppZiAoISR0aGlzLT5hbGxvd0FzeW5jKSB7CnRocm93IG5ldyBcTG9naWNFeGNlcHRpb24oJ1lvdSBtdXN0IHVzZSB0aGUgUHJvY2Vzc0V4ZWN1dG9yIGluc3RhbmNlIHdoaWNoIGlzIHBhcnQgb2YgYSBDb21wb3NlclxMb29wIGluc3RhbmNlIHRvIGJlIGFibGUgdG8gcnVuIGFzeW5jIHByb2Nlc3NlcycpOwp9Cgokam9iID0gYXJyYXkoCidpZCcgPT4gJHRoaXMtPmlkR2VuKyssCidzdGF0dXMnID0+IHNlbGY6OlNUQVRVU19RVUVVRUQsCidjb21tYW5kJyA9PiAkY29tbWFuZCwKJ2N3ZCcgPT4gJGN3ZCwKKTsKCiRyZXNvbHZlciA9IGZ1bmN0aW9uICgkcmVzb2x2ZSwgJHJlamVjdCkgdXNlICgmJGpvYikgewokam9iWydzdGF0dXMnXSA9IFByb2Nlc3NFeGVjdXRvcjo6U1RBVFVTX1FVRVVFRDsKJGpvYlsncmVzb2x2ZSddID0gJHJlc29sdmU7CiRqb2JbJ3JlamVjdCddID0gJHJlamVjdDsKfTsKCiRzZWxmID0gJHRoaXM7CgokY2FuY2VsZXIgPSBmdW5jdGlvbiAoKSB1c2UgKCYkam9iKSB7CmlmICgkam9iWydzdGF0dXMnXSA9PT0gUHJvY2Vzc0V4ZWN1dG9yOjpTVEFUVVNfUVVFVUVEKSB7CiRqb2JbJ3N0YXR1cyddID0gUHJvY2Vzc0V4ZWN1dG9yOjpTVEFUVVNfQUJPUlRFRDsKfQppZiAoJGpvYlsnc3RhdHVzJ10gIT09IFByb2Nlc3NFeGVjdXRvcjo6U1RBVFVTX1NUQVJURUQpIHsKcmV0dXJuOwp9CiRqb2JbJ3N0YXR1cyddID0gUHJvY2Vzc0V4ZWN1dG9yOjpTVEFUVVNfQUJPUlRFRDsKdHJ5IHsKaWYgKGRlZmluZWQoJ1NJR0lOVCcpKSB7CiRqb2JbJ3Byb2Nlc3MnXS0+c2lnbmFsKFNJR0lOVCk7Cn0KfSBjYXRjaCAoXEV4Y2VwdGlvbiAkZSkgewoKfQokam9iWydwcm9jZXNzJ10tPnN0b3AoMSk7Cgp0aHJvdyBuZXcgXFJ1bnRpbWVFeGNlcHRpb24oJ0Fib3J0ZWQgcHJvY2VzcycpOwp9OwoKJHByb21pc2UgPSBuZXcgUHJvbWlzZSgkcmVzb2x2ZXIsICRjYW5jZWxlcik7CiRwcm9taXNlID0gJHByb21pc2UtPnRoZW4oZnVuY3Rpb24gKCkgdXNlICgmJGpvYiwgJHNlbGYpIHsKaWYgKCRqb2JbJ3Byb2Nlc3MnXS0+aXNTdWNjZXNzZnVsKCkpIHsKJGpvYlsnc3RhdHVzJ10gPSBQcm9jZXNzRXhlY3V0b3I6OlNUQVRVU19DT01QTEVURUQ7Cn0gZWxzZSB7CiRqb2JbJ3N0YXR1cyddID0gUHJvY2Vzc0V4ZWN1dG9yOjpTVEFUVVNfRkFJTEVEOwp9CgoKJHNlbGYtPm1hcmtKb2JEb25lKCk7CgpyZXR1cm4gJGpvYlsncHJvY2VzcyddOwp9LCBmdW5jdGlvbiAoJGUpIHVzZSAoJiRqb2IsICRzZWxmKSB7CiRqb2JbJ3N0YXR1cyddID0gUHJvY2Vzc0V4ZWN1dG9yOjpTVEFUVVNfRkFJTEVEOwoKJHNlbGYtPm1hcmtKb2JEb25lKCk7Cgp0aHJvdyAkZTsKfSk7CiR0aGlzLT5qb2JzWyRqb2JbJ2lkJ11dID0gJiRqb2I7CgppZiAoJHRoaXMtPnJ1bm5pbmdKb2JzIDwgJHRoaXMtPm1heEpvYnMpIHsKJHRoaXMtPnN0YXJ0Sm9iKCRqb2JbJ2lkJ10pOwp9CgpyZXR1cm4gJHByb21pc2U7Cn0KCnByaXZhdGUgZnVuY3Rpb24gc3RhcnRKb2IoJGlkKQp7CiRqb2IgPSAmJHRoaXMtPmpvYnNbJGlkXTsKaWYgKCRqb2JbJ3N0YXR1cyddICE9PSBzZWxmOjpTVEFUVVNfUVVFVUVEKSB7CnJldHVybjsKfQoKCiRqb2JbJ3N0YXR1cyddID0gc2VsZjo6U1RBVFVTX1NUQVJURUQ7CiR0aGlzLT5ydW5uaW5nSm9icysrOwoKJGNvbW1hbmQgPSAkam9iWydjb21tYW5kJ107CiRjd2QgPSAkam9iWydjd2QnXTsKCmlmICgkdGhpcy0+aW8gJiYgJHRoaXMtPmlvLT5pc0RlYnVnKCkpIHsKJHNhZmVDb21tYW5kID0gcHJlZ19yZXBsYWNlX2NhbGxiYWNrKCd7Oi8vKD9QPHVzZXI+W146L1xzXSspOig/UDxwYXNzd29yZD5bXkBccy9dKylAfWknLCBmdW5jdGlvbiAoJG0pIHsKaWYgKHByZWdfbWF0Y2goJ3teW2EtZjAtOV17MTIsfSR9JywgJG1bJ3VzZXInXSkpIHsKcmV0dXJuICc6Ly8qKio6KioqQCc7Cn0KCnJldHVybiAnOi8vJy4kbVsndXNlciddLic6KioqQCc7Cn0sICRjb21tYW5kKTsKJHNhZmVDb21tYW5kID0gcHJlZ19yZXBsYWNlKCJ7LS1wYXNzd29yZCAoLipbXlxcXFxdXCcpIH0iLCAnLS1wYXNzd29yZCBcJyoqKlwnICcsICRzYWZlQ29tbWFuZCk7CiR0aGlzLT5pby0+d3JpdGVFcnJvcignRXhlY3V0aW5nIGFzeW5jIGNvbW1hbmQgKCcuKCRjd2QgPzogJ0NXRCcpLicpOiAnLiRzYWZlQ29tbWFuZCk7Cn0KCgoKCmlmIChudWxsID09PSAkY3dkICYmIFBsYXRmb3JtOjppc1dpbmRvd3MoKSAmJiBmYWxzZSAhPT0gc3RycG9zKCRjb21tYW5kLCAnZ2l0JykgJiYgZ2V0Y3dkKCkpIHsKJGN3ZCA9IHJlYWxwYXRoKGdldGN3ZCgpKTsKfQppZiAobnVsbCAhPT0gJGN3ZCAmJiAhaXNfZGlyKCRjd2QpKSB7CnRocm93IG5ldyBcUnVudGltZUV4Y2VwdGlvbignVGhlIGdpdmVuIENXRCBmb3IgdGhlIHByb2Nlc3MgZG9lcyBub3QgZXhpc3Q6ICcuJGN3ZCk7Cn0KCnRyeSB7CgppZiAobWV0aG9kX2V4aXN0cygnU3ltZm9ueVxDb21wb25lbnRcUHJvY2Vzc1xQcm9jZXNzJywgJ2Zyb21TaGVsbENvbW1hbmRsaW5lJykpIHsKJHByb2Nlc3MgPSBQcm9jZXNzOjpmcm9tU2hlbGxDb21tYW5kbGluZSgkY29tbWFuZCwgJGN3ZCwgbnVsbCwgbnVsbCwgc3RhdGljOjpnZXRUaW1lb3V0KCkpOwp9IGVsc2UgewokcHJvY2VzcyA9IG5ldyBQcm9jZXNzKCRjb21tYW5kLCAkY3dkLCBudWxsLCBudWxsLCBzdGF0aWM6OmdldFRpbWVvdXQoKSk7Cn0KfSBjYXRjaCAoXEV4Y2VwdGlvbiAkZSkgewpjYWxsX3VzZXJfZnVuYygkam9iWydyZWplY3QnXSwgJGUpOwoKcmV0dXJuOwp9IGNhdGNoIChcVGhyb3dhYmxlICRlKSB7CmNhbGxfdXNlcl9mdW5jKCRqb2JbJ3JlamVjdCddLCAkZSk7CgpyZXR1cm47Cn0KCiRqb2JbJ3Byb2Nlc3MnXSA9ICRwcm9jZXNzOwoKdHJ5IHsKJHByb2Nlc3MtPnN0YXJ0KCk7Cn0gY2F0Y2ggKFxFeGNlcHRpb24gJGUpIHsKY2FsbF91c2VyX2Z1bmMoJGpvYlsncmVqZWN0J10sICRlKTsKCnJldHVybjsKfSBjYXRjaCAoXFRocm93YWJsZSAkZSkgewpjYWxsX3VzZXJfZnVuYygkam9iWydyZWplY3QnXSwgJGUpOwoKcmV0dXJuOwp9Cn0KCnB1YmxpYyBmdW5jdGlvbiB3YWl0KCRpbmRleCA9IG51bGwpCnsKd2hpbGUgKHRydWUpIHsKaWYgKCEkdGhpcy0+Y291bnRBY3RpdmVKb2JzKCRpbmRleCkpIHsKcmV0dXJuOwp9Cgp1c2xlZXAoMTAwMCk7Cn0KfQoKCgoKcHVibGljIGZ1bmN0aW9uIGVuYWJsZUFzeW5jKCkKewokdGhpcy0+YWxsb3dBc3luYyA9IHRydWU7Cn0KCgoKCgoKcHVibGljIGZ1bmN0aW9uIGNvdW50QWN0aXZlSm9icygkaW5kZXggPSBudWxsKQp7Cgpmb3JlYWNoICgkdGhpcy0+am9icyBhcyAkam9iKSB7CmlmICgkam9iWydzdGF0dXMnXSA9PT0gc2VsZjo6U1RBVFVTX1NUQVJURUQpIHsKaWYgKCEkam9iWydwcm9jZXNzJ10tPmlzUnVubmluZygpKSB7CmNhbGxfdXNlcl9mdW5jKCRqb2JbJ3Jlc29sdmUnXSwgJGpvYlsncHJvY2VzcyddKTsKfQp9CgppZiAoJHRoaXMtPnJ1bm5pbmdKb2JzIDwgJHRoaXMtPm1heEpvYnMpIHsKaWYgKCRqb2JbJ3N0YXR1cyddID09PSBzZWxmOjpTVEFUVVNfUVVFVUVEKSB7CiR0aGlzLT5zdGFydEpvYigkam9iWydpZCddKTsKfQp9Cn0KCmlmIChudWxsICE9PSAkaW5kZXgpIHsKcmV0dXJuICR0aGlzLT5qb2JzWyRpbmRleF1bJ3N0YXR1cyddIDwgc2VsZjo6U1RBVFVTX0NPTVBMRVRFRCA/IDEgOiAwOwp9CgokYWN0aXZlID0gMDsKZm9yZWFjaCAoJHRoaXMtPmpvYnMgYXMgJGpvYikgewppZiAoJGpvYlsnc3RhdHVzJ10gPCBzZWxmOjpTVEFUVVNfQ09NUExFVEVEKSB7CiRhY3RpdmUrKzsKfSBlbHNlIHsKdW5zZXQoJHRoaXMtPmpvYnNbJGpvYlsnaWQnXV0pOwp9Cn0KCnJldHVybiAkYWN0aXZlOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gbWFya0pvYkRvbmUoKQp7CiR0aGlzLT5ydW5uaW5nSm9icy0tOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gc3BsaXRMaW5lcygkb3V0cHV0KQp7CiRvdXRwdXQgPSB0cmltKCRvdXRwdXQpOwoKcmV0dXJuICgoc3RyaW5nKSAkb3V0cHV0ID09PSAnJykgPyBhcnJheSgpIDogcHJlZ19zcGxpdCgne1xyP1xufScsICRvdXRwdXQpOwp9CgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBnZXRFcnJvck91dHB1dCgpCnsKcmV0dXJuICR0aGlzLT5lcnJvck91dHB1dDsKfQoKcHVibGljIGZ1bmN0aW9uIG91dHB1dEhhbmRsZXIoJHR5cGUsICRidWZmZXIpCnsKaWYgKCR0aGlzLT5jYXB0dXJlT3V0cHV0KSB7CnJldHVybjsKfQoKaWYgKG51bGwgPT09ICR0aGlzLT5pbykgewplY2hvICRidWZmZXI7CgpyZXR1cm47Cn0KCmlmIChQcm9jZXNzOjpFUlIgPT09ICR0eXBlKSB7CiR0aGlzLT5pby0+d3JpdGVFcnJvclJhdygkYnVmZmVyLCBmYWxzZSk7Cn0gZWxzZSB7CiR0aGlzLT5pby0+d3JpdGVSYXcoJGJ1ZmZlciwgZmFsc2UpOwp9Cn0KCgoKCnB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gZ2V0VGltZW91dCgpCnsKcmV0dXJuIHN0YXRpYzo6JHRpbWVvdXQ7Cn0KCgoKCnB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gc2V0VGltZW91dCgkdGltZW91dCkKewpzdGF0aWM6OiR0aW1lb3V0ID0gJHRpbWVvdXQ7Cn0KCgoKCgoKCgpwdWJsaWMgc3RhdGljIGZ1bmN0aW9uIGVzY2FwZSgkYXJndW1lbnQpCnsKcmV0dXJuIHNlbGY6OmVzY2FwZUFyZ3VtZW50KCRhcmd1bWVudCk7Cn0KCgoKCgoKCgpwcml2YXRlIHN0YXRpYyBmdW5jdGlvbiBlc2NhcGVBcmd1bWVudCgkYXJndW1lbnQpCnsKCgoKCmlmICgnXFwnID09PSBESVJFQ1RPUllfU0VQQVJBVE9SKSB7CmlmICgoc3RyaW5nKSAkYXJndW1lbnQgPT09ICcnKSB7CnJldHVybiBlc2NhcGVzaGVsbGFyZygkYXJndW1lbnQpOwp9CgokZXNjYXBlZEFyZ3VtZW50ID0gJyc7CiRxdW90ZSA9IGZhbHNlOwpmb3JlYWNoIChwcmVnX3NwbGl0KCcvKCIpLycsICRhcmd1bWVudCwgLTEsIFBSRUdfU1BMSVRfTk9fRU1QVFkgfCBQUkVHX1NQTElUX0RFTElNX0NBUFRVUkUpIGFzICRwYXJ0KSB7CmlmICgnIicgPT09ICRwYXJ0KSB7CiRlc2NhcGVkQXJndW1lbnQgLj0gJ1xcIic7Cn0gZWxzZWlmIChzZWxmOjppc1N1cnJvdW5kZWRCeSgkcGFydCwgJyUnKSkgewoKJGVzY2FwZWRBcmd1bWVudCAuPSAnXiUiJy5zdWJzdHIoJHBhcnQsIDEsIC0xKS4nIl4lJzsKfSBlbHNlIHsKCmlmICgnXFwnID09PSBzdWJzdHIoJHBhcnQsIC0xKSkgewokcGFydCAuPSAnXFwnOwp9CiRxdW90ZSA9IHRydWU7CiRlc2NhcGVkQXJndW1lbnQgLj0gJHBhcnQ7Cn0KfQppZiAoJHF1b3RlKSB7CiRlc2NhcGVkQXJndW1lbnQgPSAnIicuJGVzY2FwZWRBcmd1bWVudC4nIic7Cn0KCnJldHVybiAkZXNjYXBlZEFyZ3VtZW50Owp9CgpyZXR1cm4gIiciLnN0cl9yZXBsYWNlKCInIiwgIidcXCcnIiwgJGFyZ3VtZW50KS4iJyI7Cn0KCnByaXZhdGUgc3RhdGljIGZ1bmN0aW9uIGlzU3Vycm91bmRlZEJ5KCRhcmcsICRjaGFyKQp7CnJldHVybiAyIDwgc3RybGVuKCRhcmcpICYmICRjaGFyID09PSAkYXJnWzBdICYmICRjaGFyID09PSAkYXJnW3N0cmxlbigkYXJnKSAtIDFdOwp9Cn0KPD9waHAKCgoKCgoKCgoKCgpuYW1lc3BhY2UgQ29tcG9zZXJcVXRpbDsKCnVzZSBDb21wb3NlclxDb25maWc7CnVzZSBDb21wb3NlclxEb3dubG9hZGVyXE1heEZpbGVTaXplRXhjZWVkZWRFeGNlcHRpb247CnVzZSBDb21wb3NlclxJT1xJT0ludGVyZmFjZTsKdXNlIENvbXBvc2VyXERvd25sb2FkZXJcVHJhbnNwb3J0RXhjZXB0aW9uOwp1c2UgQ29tcG9zZXJcQ2FCdW5kbGVcQ2FCdW5kbGU7CnVzZSBDb21wb3NlclxVdGlsXEh0dHBcUmVzcG9uc2U7CnVzZSBDb21wb3NlclxVdGlsXEh0dHBcUHJveHlNYW5hZ2VyOwoKCgoKCgoKY2xhc3MgUmVtb3RlRmlsZXN5c3RlbQp7CnByaXZhdGUgJGlvOwpwcml2YXRlICRjb25maWc7CnByaXZhdGUgJHNjaGVtZTsKcHJpdmF0ZSAkYnl0ZXNNYXg7CnByaXZhdGUgJG9yaWdpblVybDsKcHJpdmF0ZSAkZmlsZVVybDsKcHJpdmF0ZSAkZmlsZU5hbWU7CnByaXZhdGUgJHJldHJ5Owpwcml2YXRlICRwcm9ncmVzczsKcHJpdmF0ZSAkbGFzdFByb2dyZXNzOwpwcml2YXRlICRvcHRpb25zID0gYXJyYXkoKTsKcHJpdmF0ZSAkcGVlckNlcnRpZmljYXRlTWFwID0gYXJyYXkoKTsKcHJpdmF0ZSAkZGlzYWJsZVRscyA9IGZhbHNlOwpwcml2YXRlICRsYXN0SGVhZGVyczsKcHJpdmF0ZSAkc3RvcmVBdXRoOwpwcml2YXRlICRhdXRoSGVscGVyOwpwcml2YXRlICRkZWdyYWRlZE1vZGUgPSBmYWxzZTsKcHJpdmF0ZSAkcmVkaXJlY3RzOwpwcml2YXRlICRtYXhSZWRpcmVjdHMgPSAyMDsKcHJpdmF0ZSAkcHJveHlNYW5hZ2VyOwoKCgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIF9fY29uc3RydWN0KElPSW50ZXJmYWNlICRpbywgQ29uZmlnICRjb25maWcsIGFycmF5ICRvcHRpb25zID0gYXJyYXkoKSwgJGRpc2FibGVUbHMgPSBmYWxzZSwgQXV0aEhlbHBlciAkYXV0aEhlbHBlciA9IG51bGwpCnsKJHRoaXMtPmlvID0gJGlvOwoKCgppZiAoJGRpc2FibGVUbHMgPT09IGZhbHNlKSB7CiR0aGlzLT5vcHRpb25zID0gU3RyZWFtQ29udGV4dEZhY3Rvcnk6OmdldFRsc0RlZmF1bHRzKCRvcHRpb25zLCAkaW8pOwp9IGVsc2UgewokdGhpcy0+ZGlzYWJsZVRscyA9IHRydWU7Cn0KCgokdGhpcy0+b3B0aW9ucyA9IGFycmF5X3JlcGxhY2VfcmVjdXJzaXZlKCR0aGlzLT5vcHRpb25zLCAkb3B0aW9ucyk7CiR0aGlzLT5jb25maWcgPSAkY29uZmlnOwokdGhpcy0+YXV0aEhlbHBlciA9IGlzc2V0KCRhdXRoSGVscGVyKSA/ICRhdXRoSGVscGVyIDogbmV3IEF1dGhIZWxwZXIoJGlvLCAkY29uZmlnKTsKJHRoaXMtPnByb3h5TWFuYWdlciA9IFByb3h5TWFuYWdlcjo6Z2V0SW5zdGFuY2UoKTsKfQoKCgoKCgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gY29weSgkb3JpZ2luVXJsLCAkZmlsZVVybCwgJGZpbGVOYW1lLCAkcHJvZ3Jlc3MgPSB0cnVlLCAkb3B0aW9ucyA9IGFycmF5KCkpCnsKcmV0dXJuICR0aGlzLT5nZXQoJG9yaWdpblVybCwgJGZpbGVVcmwsICRvcHRpb25zLCAkZmlsZU5hbWUsICRwcm9ncmVzcyk7Cn0KCgoKCgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0Q29udGVudHMoJG9yaWdpblVybCwgJGZpbGVVcmwsICRwcm9ncmVzcyA9IHRydWUsICRvcHRpb25zID0gYXJyYXkoKSkKewpyZXR1cm4gJHRoaXMtPmdldCgkb3JpZ2luVXJsLCAkZmlsZVVybCwgJG9wdGlvbnMsIG51bGwsICRwcm9ncmVzcyk7Cn0KCgoKCgoKcHVibGljIGZ1bmN0aW9uIGdldE9wdGlvbnMoKQp7CnJldHVybiAkdGhpcy0+b3B0aW9uczsKfQoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gc2V0T3B0aW9ucyhhcnJheSAkb3B0aW9ucykKewokdGhpcy0+b3B0aW9ucyA9IGFycmF5X3JlcGxhY2VfcmVjdXJzaXZlKCR0aGlzLT5vcHRpb25zLCAkb3B0aW9ucyk7Cn0KCgoKCgoKcHVibGljIGZ1bmN0aW9uIGlzVGxzRGlzYWJsZWQoKQp7CnJldHVybiAkdGhpcy0+ZGlzYWJsZVRscyA9PT0gdHJ1ZTsKfQoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0TGFzdEhlYWRlcnMoKQp7CnJldHVybiAkdGhpcy0+bGFzdEhlYWRlcnM7Cn0KCgoKCgpwdWJsaWMgc3RhdGljIGZ1bmN0aW9uIGZpbmRTdGF0dXNDb2RlKGFycmF5ICRoZWFkZXJzKQp7CiR2YWx1ZSA9IG51bGw7CmZvcmVhY2ggKCRoZWFkZXJzIGFzICRoZWFkZXIpIHsKaWYgKHByZWdfbWF0Y2goJ3teSFRUUC9cUysgKFxkKyl9aScsICRoZWFkZXIsICRtYXRjaCkpIHsKCgokdmFsdWUgPSAoaW50KSAkbWF0Y2hbMV07Cn0KfQoKcmV0dXJuICR2YWx1ZTsKfQoKCgoKCnB1YmxpYyBmdW5jdGlvbiBmaW5kU3RhdHVzTWVzc2FnZShhcnJheSAkaGVhZGVycykKewokdmFsdWUgPSBudWxsOwpmb3JlYWNoICgkaGVhZGVycyBhcyAkaGVhZGVyKSB7CmlmIChwcmVnX21hdGNoKCd7XkhUVFAvXFMrIFxkK31pJywgJGhlYWRlcikpIHsKCgokdmFsdWUgPSAkaGVhZGVyOwp9Cn0KCnJldHVybiAkdmFsdWU7Cn0KCgoKCgoKCgoKCgoKCgoKcHJvdGVjdGVkIGZ1bmN0aW9uIGdldCgkb3JpZ2luVXJsLCAkZmlsZVVybCwgJGFkZGl0aW9uYWxPcHRpb25zID0gYXJyYXkoKSwgJGZpbGVOYW1lID0gbnVsbCwgJHByb2dyZXNzID0gdHJ1ZSkKewokdGhpcy0+c2NoZW1lID0gcGFyc2VfdXJsKCRmaWxlVXJsLCBQSFBfVVJMX1NDSEVNRSk7CiR0aGlzLT5ieXRlc01heCA9IDA7CiR0aGlzLT5vcmlnaW5VcmwgPSAkb3JpZ2luVXJsOwokdGhpcy0+ZmlsZVVybCA9ICRmaWxlVXJsOwokdGhpcy0+ZmlsZU5hbWUgPSAkZmlsZU5hbWU7CiR0aGlzLT5wcm9ncmVzcyA9ICRwcm9ncmVzczsKJHRoaXMtPmxhc3RQcm9ncmVzcyA9IG51bGw7CiRyZXRyeUF1dGhGYWlsdXJlID0gdHJ1ZTsKJHRoaXMtPmxhc3RIZWFkZXJzID0gYXJyYXkoKTsKJHRoaXMtPnJlZGlyZWN0cyA9IDE7IAoKJHRlbXBBZGRpdGlvbmFsT3B0aW9ucyA9ICRhZGRpdGlvbmFsT3B0aW9uczsKaWYgKGlzc2V0KCR0ZW1wQWRkaXRpb25hbE9wdGlvbnNbJ3JldHJ5LWF1dGgtZmFpbHVyZSddKSkgewokcmV0cnlBdXRoRmFpbHVyZSA9IChib29sKSAkdGVtcEFkZGl0aW9uYWxPcHRpb25zWydyZXRyeS1hdXRoLWZhaWx1cmUnXTsKCnVuc2V0KCR0ZW1wQWRkaXRpb25hbE9wdGlvbnNbJ3JldHJ5LWF1dGgtZmFpbHVyZSddKTsKfQoKJGlzUmVkaXJlY3QgPSBmYWxzZTsKaWYgKGlzc2V0KCR0ZW1wQWRkaXRpb25hbE9wdGlvbnNbJ3JlZGlyZWN0cyddKSkgewokdGhpcy0+cmVkaXJlY3RzID0gJHRlbXBBZGRpdGlvbmFsT3B0aW9uc1sncmVkaXJlY3RzJ107CiRpc1JlZGlyZWN0ID0gdHJ1ZTsKCnVuc2V0KCR0ZW1wQWRkaXRpb25hbE9wdGlvbnNbJ3JlZGlyZWN0cyddKTsKfQoKJG9wdGlvbnMgPSAkdGhpcy0+Z2V0T3B0aW9uc0ZvclVybCgkb3JpZ2luVXJsLCAkdGVtcEFkZGl0aW9uYWxPcHRpb25zKTsKdW5zZXQoJHRlbXBBZGRpdGlvbmFsT3B0aW9ucyk7Cgokb3JpZ0ZpbGVVcmwgPSAkZmlsZVVybDsKCmlmIChpc3NldCgkb3B0aW9uc1snZ2l0bGFiLXRva2VuJ10pKSB7CiRmaWxlVXJsIC49IChmYWxzZSA9PT0gc3RycG9zKCRmaWxlVXJsLCAnPycpID8gJz8nIDogJyYnKSAuICdhY2Nlc3NfdG9rZW49Jy4kb3B0aW9uc1snZ2l0bGFiLXRva2VuJ107CnVuc2V0KCRvcHRpb25zWydnaXRsYWItdG9rZW4nXSk7Cn0KCmlmIChpc3NldCgkb3B0aW9uc1snaHR0cCddKSkgewokb3B0aW9uc1snaHR0cCddWydpZ25vcmVfZXJyb3JzJ10gPSB0cnVlOwp9CgppZiAoJHRoaXMtPmRlZ3JhZGVkTW9kZSAmJiBzdHJwb3MoJGZpbGVVcmwsICdodHRwOi8vcmVwby5wYWNrYWdpc3Qub3JnLycpID09PSAwKSB7CgokZmlsZVVybCA9ICdodHRwOi8vJyAuIGdldGhvc3RieW5hbWUoJ3JlcG8ucGFja2FnaXN0Lm9yZycpIC4gc3Vic3RyKCRmaWxlVXJsLCAyMCk7CiRkZWdyYWRlZFBhY2thZ2lzdCA9IHRydWU7Cn0KCiRtYXhGaWxlU2l6ZSA9IG51bGw7CmlmIChpc3NldCgkb3B0aW9uc1snbWF4X2ZpbGVfc2l6ZSddKSkgewokbWF4RmlsZVNpemUgPSAkb3B0aW9uc1snbWF4X2ZpbGVfc2l6ZSddOwp1bnNldCgkb3B0aW9uc1snbWF4X2ZpbGVfc2l6ZSddKTsKfQoKJGN0eCA9IFN0cmVhbUNvbnRleHRGYWN0b3J5OjpnZXRDb250ZXh0KCRmaWxlVXJsLCAkb3B0aW9ucywgYXJyYXkoJ25vdGlmaWNhdGlvbicgPT4gYXJyYXkoJHRoaXMsICdjYWxsYmFja0dldCcpKSk7CgokcHJveHkgPSAkdGhpcy0+cHJveHlNYW5hZ2VyLT5nZXRQcm94eUZvclJlcXVlc3QoJGZpbGVVcmwpOwokdXNpbmdQcm94eSA9ICRwcm94eS0+Z2V0Rm9ybWF0dGVkVXJsKCcgdXNpbmcgcHJveHkgKCVzKScpOwokdGhpcy0+aW8tPndyaXRlRXJyb3IoKHN0cnBvcygkb3JpZ0ZpbGVVcmwsICdodHRwJykgPT09IDAgPyAnRG93bmxvYWRpbmcgJyA6ICdSZWFkaW5nICcpIC4gVXJsOjpzYW5pdGl6ZSgkb3JpZ0ZpbGVVcmwpIC4gJHVzaW5nUHJveHksIHRydWUsIElPSW50ZXJmYWNlOjpERUJVRyk7CnVuc2V0KCRvcmlnRmlsZVVybCwgJHByb3h5LCAkdXNpbmdQcm94eSk7CgoKaWYgKCghcHJlZ19tYXRjaCgne15odHRwOi8vKHJlcG9cLik/cGFja2FnaXN0XC5vcmcvcC99JywgJGZpbGVVcmwpIHx8IChmYWxzZSA9PT0gc3RycG9zKCRmaWxlVXJsLCAnJCcpICYmIGZhbHNlID09PSBzdHJwb3MoJGZpbGVVcmwsICclMjQnKSkpICYmIGVtcHR5KCRkZWdyYWRlZFBhY2thZ2lzdCkgJiYgJHRoaXMtPmNvbmZpZykgewokdGhpcy0+Y29uZmlnLT5wcm9oaWJpdFVybEJ5Q29uZmlnKCRmaWxlVXJsLCAkdGhpcy0+aW8pOwp9CgppZiAoJHRoaXMtPnByb2dyZXNzICYmICEkaXNSZWRpcmVjdCkgewokdGhpcy0+aW8tPndyaXRlRXJyb3IoIkRvd25sb2FkaW5nICg8Y29tbWVudD5jb25uZWN0aW5nLi4uPC9jb21tZW50PikiLCBmYWxzZSk7Cn0KCiRlcnJvck1lc3NhZ2UgPSAnJzsKJGVycm9yQ29kZSA9IDA7CiRyZXN1bHQgPSBmYWxzZTsKc2V0X2Vycm9yX2hhbmRsZXIoZnVuY3Rpb24gKCRjb2RlLCAkbXNnKSB1c2UgKCYkZXJyb3JNZXNzYWdlKSB7CmlmICgkZXJyb3JNZXNzYWdlKSB7CiRlcnJvck1lc3NhZ2UgLj0gIlxuIjsKfQokZXJyb3JNZXNzYWdlIC49IHByZWdfcmVwbGFjZSgne15maWxlX2dldF9jb250ZW50c1woLio/XCk6IH0nLCAnJywgJG1zZyk7CgpyZXR1cm4gdHJ1ZTsKfSk7CiRodHRwX3Jlc3BvbnNlX2hlYWRlciA9IGFycmF5KCk7CnRyeSB7CiRyZXN1bHQgPSAkdGhpcy0+Z2V0UmVtb3RlQ29udGVudHMoJG9yaWdpblVybCwgJGZpbGVVcmwsICRjdHgsICRodHRwX3Jlc3BvbnNlX2hlYWRlciwgJG1heEZpbGVTaXplKTsKCmlmICghZW1wdHkoJGh0dHBfcmVzcG9uc2VfaGVhZGVyWzBdKSkgewokc3RhdHVzQ29kZSA9IHNlbGY6OmZpbmRTdGF0dXNDb2RlKCRodHRwX3Jlc3BvbnNlX2hlYWRlcik7CmlmICgkc3RhdHVzQ29kZSA+PSA0MDAgJiYgUmVzcG9uc2U6OmZpbmRIZWFkZXJWYWx1ZSgkaHR0cF9yZXNwb25zZV9oZWFkZXIsICdjb250ZW50LXR5cGUnKSA9PT0gJ2FwcGxpY2F0aW9uL2pzb24nKSB7Ckh0dHBEb3dubG9hZGVyOjpvdXRwdXRXYXJuaW5ncygkdGhpcy0+aW8sICRvcmlnaW5VcmwsIGpzb25fZGVjb2RlKCRyZXN1bHQsIHRydWUpKTsKfQoKaWYgKGluX2FycmF5KCRzdGF0dXNDb2RlLCBhcnJheSg0MDEsIDQwMykpICYmICRyZXRyeUF1dGhGYWlsdXJlKSB7CiR0aGlzLT5wcm9tcHRBdXRoQW5kUmV0cnkoJHN0YXR1c0NvZGUsICR0aGlzLT5maW5kU3RhdHVzTWVzc2FnZSgkaHR0cF9yZXNwb25zZV9oZWFkZXIpLCAkaHR0cF9yZXNwb25zZV9oZWFkZXIpOwp9Cn0KCiRjb250ZW50TGVuZ3RoID0gIWVtcHR5KCRodHRwX3Jlc3BvbnNlX2hlYWRlclswXSkgPyBSZXNwb25zZTo6ZmluZEhlYWRlclZhbHVlKCRodHRwX3Jlc3BvbnNlX2hlYWRlciwgJ2NvbnRlbnQtbGVuZ3RoJykgOiBudWxsOwppZiAoJGNvbnRlbnRMZW5ndGggJiYgUGxhdGZvcm06OnN0cmxlbigkcmVzdWx0KSA8ICRjb250ZW50TGVuZ3RoKSB7CgokZSA9IG5ldyBUcmFuc3BvcnRFeGNlcHRpb24oJ0NvbnRlbnQtTGVuZ3RoIG1pc21hdGNoLCByZWNlaXZlZCAnLlBsYXRmb3JtOjpzdHJsZW4oJHJlc3VsdCkuJyBieXRlcyBvdXQgb2YgdGhlIGV4cGVjdGVkICcuJGNvbnRlbnRMZW5ndGgpOwokZS0+c2V0SGVhZGVycygkaHR0cF9yZXNwb25zZV9oZWFkZXIpOwokZS0+c2V0U3RhdHVzQ29kZShzZWxmOjpmaW5kU3RhdHVzQ29kZSgkaHR0cF9yZXNwb25zZV9oZWFkZXIpKTsKdHJ5IHsKJGUtPnNldFJlc3BvbnNlKCR0aGlzLT5kZWNvZGVSZXN1bHQoJHJlc3VsdCwgJGh0dHBfcmVzcG9uc2VfaGVhZGVyKSk7Cn0gY2F0Y2ggKFxFeGNlcHRpb24gJGRpc2NhcmRlZCkgewokZS0+c2V0UmVzcG9uc2UoJHJlc3VsdCk7Cn0KCiR0aGlzLT5pby0+d3JpdGVFcnJvcignQ29udGVudC1MZW5ndGggbWlzbWF0Y2gsIHJlY2VpdmVkICcuUGxhdGZvcm06OnN0cmxlbigkcmVzdWx0KS4nIG91dCBvZiAnLiRjb250ZW50TGVuZ3RoLicgYnl0ZXM6ICgnIC4gYmFzZTY0X2VuY29kZSgkcmVzdWx0KS4nKScsIHRydWUsIElPSW50ZXJmYWNlOjpERUJVRyk7Cgp0aHJvdyAkZTsKfQoKaWYgKFBIUF9WRVJTSU9OX0lEIDwgNTA2MDAgJiYgIWVtcHR5KCRvcHRpb25zWydzc2wnXVsncGVlcl9maW5nZXJwcmludCddKSkgewoKJHBhcmFtcyA9IHN0cmVhbV9jb250ZXh0X2dldF9wYXJhbXMoJGN0eCk7CiRleHBlY3RlZFBlZXJGaW5nZXJwcmludCA9ICRvcHRpb25zWydzc2wnXVsncGVlcl9maW5nZXJwcmludCddOwokcGVlckZpbmdlcnByaW50ID0gVGxzSGVscGVyOjpnZXRDZXJ0aWZpY2F0ZUZpbmdlcnByaW50KCRwYXJhbXNbJ29wdGlvbnMnXVsnc3NsJ11bJ3BlZXJfY2VydGlmaWNhdGUnXSk7CgoKaWYgKCRleHBlY3RlZFBlZXJGaW5nZXJwcmludCAhPT0gJHBlZXJGaW5nZXJwcmludCkgewp0aHJvdyBuZXcgVHJhbnNwb3J0RXhjZXB0aW9uKCdQZWVyIGZpbmdlcnByaW50IGRpZCBub3QgbWF0Y2gnKTsKfQp9Cn0gY2F0Y2ggKFxFeGNlcHRpb24gJGUpIHsKaWYgKCRlIGluc3RhbmNlb2YgVHJhbnNwb3J0RXhjZXB0aW9uICYmICFlbXB0eSgkaHR0cF9yZXNwb25zZV9oZWFkZXJbMF0pKSB7CiRlLT5zZXRIZWFkZXJzKCRodHRwX3Jlc3BvbnNlX2hlYWRlcik7CiRlLT5zZXRTdGF0dXNDb2RlKHNlbGY6OmZpbmRTdGF0dXNDb2RlKCRodHRwX3Jlc3BvbnNlX2hlYWRlcikpOwp9CmlmICgkZSBpbnN0YW5jZW9mIFRyYW5zcG9ydEV4Y2VwdGlvbiAmJiAkcmVzdWx0ICE9PSBmYWxzZSkgewokZS0+c2V0UmVzcG9uc2UoJHRoaXMtPmRlY29kZVJlc3VsdCgkcmVzdWx0LCAkaHR0cF9yZXNwb25zZV9oZWFkZXIpKTsKfQokcmVzdWx0ID0gZmFsc2U7Cn0KaWYgKCRlcnJvck1lc3NhZ2UgJiYgIWZpbHRlcl92YXIoaW5pX2dldCgnYWxsb3dfdXJsX2ZvcGVuJyksIEZJTFRFUl9WQUxJREFURV9CT09MRUFOKSkgewokZXJyb3JNZXNzYWdlID0gJ2FsbG93X3VybF9mb3BlbiBtdXN0IGJlIGVuYWJsZWQgaW4gcGhwLmluaSAoJy4kZXJyb3JNZXNzYWdlLicpJzsKfQpyZXN0b3JlX2Vycm9yX2hhbmRsZXIoKTsKaWYgKGlzc2V0KCRlKSAmJiAhJHRoaXMtPnJldHJ5KSB7CmlmICghJHRoaXMtPmRlZ3JhZGVkTW9kZSAmJiBmYWxzZSAhPT0gc3RycG9zKCRlLT5nZXRNZXNzYWdlKCksICdPcGVyYXRpb24gdGltZWQgb3V0JykpIHsKJHRoaXMtPmRlZ3JhZGVkTW9kZSA9IHRydWU7CiR0aGlzLT5pby0+d3JpdGVFcnJvcignJyk7CiR0aGlzLT5pby0+d3JpdGVFcnJvcihhcnJheSgKJzxlcnJvcj4nLiRlLT5nZXRNZXNzYWdlKCkuJzwvZXJyb3I+JywKJzxlcnJvcj5SZXRyeWluZyB3aXRoIGRlZ3JhZGVkIG1vZGUsIGNoZWNrIGh0dHBzOi8vZ2V0Y29tcG9zZXIub3JnL2RvYy9hcnRpY2xlcy90cm91Ymxlc2hvb3RpbmcubWQjZGVncmFkZWQtbW9kZSBmb3IgbW9yZSBpbmZvPC9lcnJvcj4nLAopKTsKCnJldHVybiAkdGhpcy0+Z2V0KCR0aGlzLT5vcmlnaW5VcmwsICR0aGlzLT5maWxlVXJsLCAkYWRkaXRpb25hbE9wdGlvbnMsICR0aGlzLT5maWxlTmFtZSwgJHRoaXMtPnByb2dyZXNzKTsKfQoKdGhyb3cgJGU7Cn0KCiRzdGF0dXNDb2RlID0gbnVsbDsKJGNvbnRlbnRUeXBlID0gbnVsbDsKJGxvY2F0aW9uSGVhZGVyID0gbnVsbDsKaWYgKCFlbXB0eSgkaHR0cF9yZXNwb25zZV9oZWFkZXJbMF0pKSB7CiRzdGF0dXNDb2RlID0gc2VsZjo6ZmluZFN0YXR1c0NvZGUoJGh0dHBfcmVzcG9uc2VfaGVhZGVyKTsKJGNvbnRlbnRUeXBlID0gUmVzcG9uc2U6OmZpbmRIZWFkZXJWYWx1ZSgkaHR0cF9yZXNwb25zZV9oZWFkZXIsICdjb250ZW50LXR5cGUnKTsKJGxvY2F0aW9uSGVhZGVyID0gUmVzcG9uc2U6OmZpbmRIZWFkZXJWYWx1ZSgkaHR0cF9yZXNwb25zZV9oZWFkZXIsICdsb2NhdGlvbicpOwp9CgoKaWYgKCRvcmlnaW5VcmwgPT09ICdiaXRidWNrZXQub3JnJwomJiAhJHRoaXMtPmF1dGhIZWxwZXItPmlzUHVibGljQml0QnVja2V0RG93bmxvYWQoJGZpbGVVcmwpCiYmIHN1YnN0cigkZmlsZVVybCwgLTQpID09PSAnLnppcCcKJiYgKCEkbG9jYXRpb25IZWFkZXIgfHwgc3Vic3RyKHBhcnNlX3VybCgkbG9jYXRpb25IZWFkZXIsIFBIUF9VUkxfUEFUSCksIC00KSAhPT0gJy56aXAnKQomJiAkY29udGVudFR5cGUgJiYgcHJlZ19tYXRjaCgne150ZXh0L2h0bWxcYn1pJywgJGNvbnRlbnRUeXBlKQopIHsKJHJlc3VsdCA9IGZhbHNlOwppZiAoJHJldHJ5QXV0aEZhaWx1cmUpIHsKJHRoaXMtPnByb21wdEF1dGhBbmRSZXRyeSg0MDEpOwp9Cn0KCgppZiAoJHN0YXR1c0NvZGUgPT09IDQwNAomJiAkdGhpcy0+Y29uZmlnICYmIGluX2FycmF5KCRvcmlnaW5VcmwsICR0aGlzLT5jb25maWctPmdldCgnZ2l0bGFiLWRvbWFpbnMnKSwgdHJ1ZSkKJiYgZmFsc2UgIT09IHN0cnBvcygkZmlsZVVybCwgJ2FyY2hpdmUuemlwJykKKSB7CiRyZXN1bHQgPSBmYWxzZTsKaWYgKCRyZXRyeUF1dGhGYWlsdXJlKSB7CiR0aGlzLT5wcm9tcHRBdXRoQW5kUmV0cnkoNDAxKTsKfQp9CgoKJGhhc0ZvbGxvd2VkUmVkaXJlY3QgPSBmYWxzZTsKaWYgKCRzdGF0dXNDb2RlID49IDMwMCAmJiAkc3RhdHVzQ29kZSA8PSAzOTkgJiYgJHN0YXR1c0NvZGUgIT09IDMwNCAmJiAkdGhpcy0+cmVkaXJlY3RzIDwgJHRoaXMtPm1heFJlZGlyZWN0cykgewokaGFzRm9sbG93ZWRSZWRpcmVjdCA9IHRydWU7CiRyZXN1bHQgPSAkdGhpcy0+aGFuZGxlUmVkaXJlY3QoJGh0dHBfcmVzcG9uc2VfaGVhZGVyLCAkYWRkaXRpb25hbE9wdGlvbnMsICRyZXN1bHQpOwp9CgoKaWYgKCRzdGF0dXNDb2RlICYmICRzdGF0dXNDb2RlID49IDQwMCAmJiAkc3RhdHVzQ29kZSA8PSA1OTkpIHsKaWYgKCEkdGhpcy0+cmV0cnkpIHsKaWYgKCR0aGlzLT5wcm9ncmVzcyAmJiAhJGlzUmVkaXJlY3QpIHsKJHRoaXMtPmlvLT5vdmVyd3JpdGVFcnJvcigiRG93bmxvYWRpbmcgKDxlcnJvcj5mYWlsZWQ8L2Vycm9yPikiLCBmYWxzZSk7Cn0KCiRlID0gbmV3IFRyYW5zcG9ydEV4Y2VwdGlvbignVGhlICInLiR0aGlzLT5maWxlVXJsLiciIGZpbGUgY291bGQgbm90IGJlIGRvd25sb2FkZWQgKCcuJGh0dHBfcmVzcG9uc2VfaGVhZGVyWzBdLicpJywgJHN0YXR1c0NvZGUpOwokZS0+c2V0SGVhZGVycygkaHR0cF9yZXNwb25zZV9oZWFkZXIpOwokZS0+c2V0UmVzcG9uc2UoJHRoaXMtPmRlY29kZVJlc3VsdCgkcmVzdWx0LCAkaHR0cF9yZXNwb25zZV9oZWFkZXIpKTsKJGUtPnNldFN0YXR1c0NvZGUoJHN0YXR1c0NvZGUpOwp0aHJvdyAkZTsKfQokcmVzdWx0ID0gZmFsc2U7Cn0KCmlmICgkdGhpcy0+cHJvZ3Jlc3MgJiYgISR0aGlzLT5yZXRyeSAmJiAhJGlzUmVkaXJlY3QpIHsKJHRoaXMtPmlvLT5vdmVyd3JpdGVFcnJvcigiRG93bmxvYWRpbmcgKCIuKCRyZXN1bHQgPT09IGZhbHNlID8gJzxlcnJvcj5mYWlsZWQ8L2Vycm9yPicgOiAnPGNvbW1lbnQ+MTAwJTwvY29tbWVudD4nKS4iKSIsIGZhbHNlKTsKfQoKCmlmICgkcmVzdWx0ICYmIGV4dGVuc2lvbl9sb2FkZWQoJ3psaWInKSAmJiBzdHJwb3MoJGZpbGVVcmwsICdodHRwJykgPT09IDAgJiYgISRoYXNGb2xsb3dlZFJlZGlyZWN0KSB7CnRyeSB7CiRyZXN1bHQgPSAkdGhpcy0+ZGVjb2RlUmVzdWx0KCRyZXN1bHQsICRodHRwX3Jlc3BvbnNlX2hlYWRlcik7Cn0gY2F0Y2ggKFxFeGNlcHRpb24gJGUpIHsKaWYgKCR0aGlzLT5kZWdyYWRlZE1vZGUpIHsKdGhyb3cgJGU7Cn0KCiR0aGlzLT5kZWdyYWRlZE1vZGUgPSB0cnVlOwokdGhpcy0+aW8tPndyaXRlRXJyb3IoYXJyYXkoCicnLAonPGVycm9yPkZhaWxlZCB0byBkZWNvZGUgcmVzcG9uc2U6ICcuJGUtPmdldE1lc3NhZ2UoKS4nPC9lcnJvcj4nLAonPGVycm9yPlJldHJ5aW5nIHdpdGggZGVncmFkZWQgbW9kZSwgY2hlY2sgaHR0cHM6Ly9nZXRjb21wb3Nlci5vcmcvZG9jL2FydGljbGVzL3Ryb3VibGVzaG9vdGluZy5tZCNkZWdyYWRlZC1tb2RlIGZvciBtb3JlIGluZm88L2Vycm9yPicsCikpOwoKcmV0dXJuICR0aGlzLT5nZXQoJHRoaXMtPm9yaWdpblVybCwgJHRoaXMtPmZpbGVVcmwsICRhZGRpdGlvbmFsT3B0aW9ucywgJHRoaXMtPmZpbGVOYW1lLCAkdGhpcy0+cHJvZ3Jlc3MpOwp9Cn0KCgppZiAoZmFsc2UgIT09ICRyZXN1bHQgJiYgbnVsbCAhPT0gJGZpbGVOYW1lICYmICEkaXNSZWRpcmVjdCkgewppZiAoJycgPT09ICRyZXN1bHQpIHsKdGhyb3cgbmV3IFRyYW5zcG9ydEV4Y2VwdGlvbignIicuJHRoaXMtPmZpbGVVcmwuJyIgYXBwZWFycyBicm9rZW4sIGFuZCByZXR1cm5lZCBhbiBlbXB0eSAyMDAgcmVzcG9uc2UnKTsKfQoKJGVycm9yTWVzc2FnZSA9ICcnOwpzZXRfZXJyb3JfaGFuZGxlcihmdW5jdGlvbiAoJGNvZGUsICRtc2cpIHVzZSAoJiRlcnJvck1lc3NhZ2UpIHsKaWYgKCRlcnJvck1lc3NhZ2UpIHsKJGVycm9yTWVzc2FnZSAuPSAiXG4iOwp9CiRlcnJvck1lc3NhZ2UgLj0gcHJlZ19yZXBsYWNlKCd7XmZpbGVfcHV0X2NvbnRlbnRzXCguKj9cKTogfScsICcnLCAkbXNnKTsKCnJldHVybiB0cnVlOwp9KTsKJHJlc3VsdCA9IChib29sKSBmaWxlX3B1dF9jb250ZW50cygkZmlsZU5hbWUsICRyZXN1bHQpOwpyZXN0b3JlX2Vycm9yX2hhbmRsZXIoKTsKaWYgKGZhbHNlID09PSAkcmVzdWx0KSB7CnRocm93IG5ldyBUcmFuc3BvcnRFeGNlcHRpb24oJ1RoZSAiJy4kdGhpcy0+ZmlsZVVybC4nIiBmaWxlIGNvdWxkIG5vdCBiZSB3cml0dGVuIHRvICcuJGZpbGVOYW1lLic6ICcuJGVycm9yTWVzc2FnZSk7Cn0KfQoKCmlmIChmYWxzZSA9PT0gJHJlc3VsdCAmJiBmYWxzZSAhPT0gc3RycG9zKCRlcnJvck1lc3NhZ2UsICdQZWVyIGNlcnRpZmljYXRlJykgJiYgUEhQX1ZFUlNJT05fSUQgPCA1MDYwMCkgewoKCgoKCgoKCgoKCgoKCgoKaWYgKENhQnVuZGxlOjppc09wZW5zc2xQYXJzZVNhZmUoKSkgewokY2VydERldGFpbHMgPSAkdGhpcy0+Z2V0Q2VydGlmaWNhdGVDbkFuZEZwKCR0aGlzLT5maWxlVXJsLCAkb3B0aW9ucyk7CgppZiAoJGNlcnREZXRhaWxzKSB7CiR0aGlzLT5wZWVyQ2VydGlmaWNhdGVNYXBbJHRoaXMtPmdldFVybEF1dGhvcml0eSgkdGhpcy0+ZmlsZVVybCldID0gJGNlcnREZXRhaWxzOwoKJHRoaXMtPnJldHJ5ID0gdHJ1ZTsKfQp9IGVsc2UgewokdGhpcy0+aW8tPndyaXRlRXJyb3IoJycpOwokdGhpcy0+aW8tPndyaXRlRXJyb3Ioc3ByaW50ZigKJzxlcnJvcj5Zb3VyIHZlcnNpb24gb2YgUEhQLCAlcywgaXMgYWZmZWN0ZWQgYnkgQ1ZFLTIwMTMtNjQyMCBhbmQgY2Fubm90IHNhZmVseSBwZXJmb3JtIGNlcnRpZmljYXRlIHZhbGlkYXRpb24sIHdlIHN0cm9uZ2x5IHN1Z2dlc3QgeW91IHVwZ3JhZGUuPC9lcnJvcj4nLApQSFBfVkVSU0lPTgopKTsKfQp9CgppZiAoJHRoaXMtPnJldHJ5KSB7CiR0aGlzLT5yZXRyeSA9IGZhbHNlOwoKJHJlc3VsdCA9ICR0aGlzLT5nZXQoJHRoaXMtPm9yaWdpblVybCwgJHRoaXMtPmZpbGVVcmwsICRhZGRpdGlvbmFsT3B0aW9ucywgJHRoaXMtPmZpbGVOYW1lLCAkdGhpcy0+cHJvZ3Jlc3MpOwoKaWYgKCR0aGlzLT5zdG9yZUF1dGggJiYgJHRoaXMtPmNvbmZpZykgewokdGhpcy0+YXV0aEhlbHBlci0+c3RvcmVBdXRoKCR0aGlzLT5vcmlnaW5VcmwsICR0aGlzLT5zdG9yZUF1dGgpOwokdGhpcy0+c3RvcmVBdXRoID0gZmFsc2U7Cn0KCnJldHVybiAkcmVzdWx0Owp9CgppZiAoZmFsc2UgPT09ICRyZXN1bHQpIHsKJGUgPSBuZXcgVHJhbnNwb3J0RXhjZXB0aW9uKCdUaGUgIicuJHRoaXMtPmZpbGVVcmwuJyIgZmlsZSBjb3VsZCBub3QgYmUgZG93bmxvYWRlZDogJy4kZXJyb3JNZXNzYWdlLCAkZXJyb3JDb2RlKTsKaWYgKCFlbXB0eSgkaHR0cF9yZXNwb25zZV9oZWFkZXJbMF0pKSB7CiRlLT5zZXRIZWFkZXJzKCRodHRwX3Jlc3BvbnNlX2hlYWRlcik7Cn0KCmlmICghJHRoaXMtPmRlZ3JhZGVkTW9kZSAmJiBmYWxzZSAhPT0gc3RycG9zKCRlLT5nZXRNZXNzYWdlKCksICdPcGVyYXRpb24gdGltZWQgb3V0JykpIHsKJHRoaXMtPmRlZ3JhZGVkTW9kZSA9IHRydWU7CiR0aGlzLT5pby0+d3JpdGVFcnJvcignJyk7CiR0aGlzLT5pby0+d3JpdGVFcnJvcihhcnJheSgKJzxlcnJvcj4nLiRlLT5nZXRNZXNzYWdlKCkuJzwvZXJyb3I+JywKJzxlcnJvcj5SZXRyeWluZyB3aXRoIGRlZ3JhZGVkIG1vZGUsIGNoZWNrIGh0dHBzOi8vZ2V0Y29tcG9zZXIub3JnL2RvYy9hcnRpY2xlcy90cm91Ymxlc2hvb3RpbmcubWQjZGVncmFkZWQtbW9kZSBmb3IgbW9yZSBpbmZvPC9lcnJvcj4nLAopKTsKCnJldHVybiAkdGhpcy0+Z2V0KCR0aGlzLT5vcmlnaW5VcmwsICR0aGlzLT5maWxlVXJsLCAkYWRkaXRpb25hbE9wdGlvbnMsICR0aGlzLT5maWxlTmFtZSwgJHRoaXMtPnByb2dyZXNzKTsKfQoKdGhyb3cgJGU7Cn0KCmlmICghZW1wdHkoJGh0dHBfcmVzcG9uc2VfaGVhZGVyWzBdKSkgewokdGhpcy0+bGFzdEhlYWRlcnMgPSAkaHR0cF9yZXNwb25zZV9oZWFkZXI7Cn0KCnJldHVybiAkcmVzdWx0Owp9CgoKCgoKCgoKCgoKcHJvdGVjdGVkIGZ1bmN0aW9uIGdldFJlbW90ZUNvbnRlbnRzKCRvcmlnaW5VcmwsICRmaWxlVXJsLCAkY29udGV4dCwgYXJyYXkgJiRyZXNwb25zZUhlYWRlcnMgPSBudWxsLCAkbWF4RmlsZVNpemUgPSBudWxsKQp7CiRyZXN1bHQgPSBmYWxzZTsKCnRyeSB7CiRlID0gbnVsbDsKaWYgKCRtYXhGaWxlU2l6ZSAhPT0gbnVsbCkgewokcmVzdWx0ID0gZmlsZV9nZXRfY29udGVudHMoJGZpbGVVcmwsIGZhbHNlLCAkY29udGV4dCwgMCwgJG1heEZpbGVTaXplKTsKfSBlbHNlIHsKCiRyZXN1bHQgPSBmaWxlX2dldF9jb250ZW50cygkZmlsZVVybCwgZmFsc2UsICRjb250ZXh0KTsKfQp9IGNhdGNoIChcRXhjZXB0aW9uICRlKSB7Cn0gY2F0Y2ggKFxUaHJvd2FibGUgJGUpIHsKfQoKaWYgKCRtYXhGaWxlU2l6ZSAhPT0gbnVsbCAmJiBQbGF0Zm9ybTo6c3RybGVuKCRyZXN1bHQpID49ICRtYXhGaWxlU2l6ZSkgewp0aHJvdyBuZXcgTWF4RmlsZVNpemVFeGNlZWRlZEV4Y2VwdGlvbignTWF4aW11bSBhbGxvd2VkIGRvd25sb2FkIHNpemUgcmVhY2hlZC4gRG93bmxvYWRlZCAnIC4gUGxhdGZvcm06OnN0cmxlbigkcmVzdWx0KSAuICcgb2YgYWxsb3dlZCAnIC4gJG1heEZpbGVTaXplIC4gJyBieXRlcycpOwp9CgoKJHJlc3BvbnNlSGVhZGVycyA9IGlzc2V0KCRodHRwX3Jlc3BvbnNlX2hlYWRlcikgPyAkaHR0cF9yZXNwb25zZV9oZWFkZXIgOiBhcnJheSgpOwoKaWYgKG51bGwgIT09ICRlKSB7CnRocm93ICRlOwp9CgpyZXR1cm4gJHJlc3VsdDsKfQoKCgoKCgoKCgoKCgpwcm90ZWN0ZWQgZnVuY3Rpb24gY2FsbGJhY2tHZXQoJG5vdGlmaWNhdGlvbkNvZGUsICRzZXZlcml0eSwgJG1lc3NhZ2UsICRtZXNzYWdlQ29kZSwgJGJ5dGVzVHJhbnNmZXJyZWQsICRieXRlc01heCkKewpzd2l0Y2ggKCRub3RpZmljYXRpb25Db2RlKSB7CmNhc2UgU1RSRUFNX05PVElGWV9GQUlMVVJFOgppZiAoNDAwID09PSAkbWVzc2FnZUNvZGUpIHsKCgp0aHJvdyBuZXcgVHJhbnNwb3J0RXhjZXB0aW9uKCJUaGUgJyIgLiAkdGhpcy0+ZmlsZVVybCAuICInIFVSTCBjb3VsZCBub3QgYmUgYWNjZXNzZWQ6ICIgLiAkbWVzc2FnZSwgJG1lc3NhZ2VDb2RlKTsKfQpicmVhazsKCmNhc2UgU1RSRUFNX05PVElGWV9GSUxFX1NJWkVfSVM6CiR0aGlzLT5ieXRlc01heCA9ICRieXRlc01heDsKYnJlYWs7CgpjYXNlIFNUUkVBTV9OT1RJRllfUFJPR1JFU1M6CmlmICgkdGhpcy0+Ynl0ZXNNYXggPiAwICYmICR0aGlzLT5wcm9ncmVzcykgewokcHJvZ3Jlc3Npb24gPSBtaW4oMTAwLCByb3VuZCgkYnl0ZXNUcmFuc2ZlcnJlZCAvICR0aGlzLT5ieXRlc01heCAqIDEwMCkpOwoKaWYgKCgwID09PSAkcHJvZ3Jlc3Npb24gJSA1KSAmJiAxMDAgIT09ICRwcm9ncmVzc2lvbiAmJiAkcHJvZ3Jlc3Npb24gIT09ICR0aGlzLT5sYXN0UHJvZ3Jlc3MpIHsKJHRoaXMtPmxhc3RQcm9ncmVzcyA9ICRwcm9ncmVzc2lvbjsKJHRoaXMtPmlvLT5vdmVyd3JpdGVFcnJvcigiRG93bmxvYWRpbmcgKDxjb21tZW50PiRwcm9ncmVzc2lvbiU8L2NvbW1lbnQ+KSIsIGZhbHNlKTsKfQp9CmJyZWFrOwoKZGVmYXVsdDoKYnJlYWs7Cn0KfQoKcHJvdGVjdGVkIGZ1bmN0aW9uIHByb21wdEF1dGhBbmRSZXRyeSgkaHR0cFN0YXR1cywgJHJlYXNvbiA9IG51bGwsICRoZWFkZXJzID0gYXJyYXkoKSkKewokcmVzdWx0ID0gJHRoaXMtPmF1dGhIZWxwZXItPnByb21wdEF1dGhJZk5lZWRlZCgkdGhpcy0+ZmlsZVVybCwgJHRoaXMtPm9yaWdpblVybCwgJGh0dHBTdGF0dXMsICRyZWFzb24sICRoZWFkZXJzKTsKCiR0aGlzLT5zdG9yZUF1dGggPSAkcmVzdWx0WydzdG9yZUF1dGgnXTsKJHRoaXMtPnJldHJ5ID0gJHJlc3VsdFsncmV0cnknXTsKCmlmICgkdGhpcy0+cmV0cnkpIHsKdGhyb3cgbmV3IFRyYW5zcG9ydEV4Y2VwdGlvbignUkVUUlknKTsKfQp9Cgpwcm90ZWN0ZWQgZnVuY3Rpb24gZ2V0T3B0aW9uc0ZvclVybCgkb3JpZ2luVXJsLCAkYWRkaXRpb25hbE9wdGlvbnMpCnsKJHRsc09wdGlvbnMgPSBhcnJheSgpOwoKCmlmICgkdGhpcy0+ZGlzYWJsZVRscyA9PT0gZmFsc2UgJiYgUEhQX1ZFUlNJT05fSUQgPCA1MDYwMCAmJiAhc3RyZWFtX2lzX2xvY2FsKCR0aGlzLT5maWxlVXJsKSkgewokaG9zdCA9IHBhcnNlX3VybCgkdGhpcy0+ZmlsZVVybCwgUEhQX1VSTF9IT1NUKTsKCmlmIChQSFBfVkVSU0lPTl9JRCA8IDUwMzA0KSB7CgoKCgoKaWYgKCRob3N0ID09PSAnZ2l0aHViLmNvbScgfHwgJGhvc3QgPT09ICdhcGkuZ2l0aHViLmNvbScpIHsKJGhvc3QgPSAnKi5naXRodWIuY29tJzsKfQp9CgokdGxzT3B0aW9uc1snc3NsJ11bJ0NOX21hdGNoJ10gPSAkaG9zdDsKJHRsc09wdGlvbnNbJ3NzbCddWydTTklfc2VydmVyX25hbWUnXSA9ICRob3N0OwoKJHVybEF1dGhvcml0eSA9ICR0aGlzLT5nZXRVcmxBdXRob3JpdHkoJHRoaXMtPmZpbGVVcmwpOwoKaWYgKGlzc2V0KCR0aGlzLT5wZWVyQ2VydGlmaWNhdGVNYXBbJHVybEF1dGhvcml0eV0pKSB7CgokY2VydE1hcCA9ICR0aGlzLT5wZWVyQ2VydGlmaWNhdGVNYXBbJHVybEF1dGhvcml0eV07CgokdGhpcy0+aW8tPndyaXRlRXJyb3IoJycsIHRydWUsIElPSW50ZXJmYWNlOjpERUJVRyk7CiR0aGlzLT5pby0+d3JpdGVFcnJvcihzcHJpbnRmKAonVXNpbmcgPGluZm8+JXM8L2luZm8+IGFzIENOIGZvciBzdWJqZWN0QWx0TmFtZSBlbmFibGVkIGhvc3QgPGluZm8+JXM8L2luZm8+JywKJGNlcnRNYXBbJ2NuJ10sCiR1cmxBdXRob3JpdHkKKSwgdHJ1ZSwgSU9JbnRlcmZhY2U6OkRFQlVHKTsKCiR0bHNPcHRpb25zWydzc2wnXVsnQ05fbWF0Y2gnXSA9ICRjZXJ0TWFwWydjbiddOwokdGxzT3B0aW9uc1snc3NsJ11bJ3BlZXJfZmluZ2VycHJpbnQnXSA9ICRjZXJ0TWFwWydmcCddOwp9IGVsc2VpZiAoIUNhQnVuZGxlOjppc09wZW5zc2xQYXJzZVNhZmUoKSAmJiAkaG9zdCA9PT0gJ3JlcG8ucGFja2FnaXN0Lm9yZycpIHsKCiR0bHNPcHRpb25zWydzc2wnXVsnQ05fbWF0Y2gnXSA9ICdwYWNrYWdpc3Qub3JnJzsKfQp9CgokaGVhZGVycyA9IGFycmF5KCk7CgppZiAoZXh0ZW5zaW9uX2xvYWRlZCgnemxpYicpKSB7CiRoZWFkZXJzW10gPSAnQWNjZXB0LUVuY29kaW5nOiBnemlwJzsKfQoKJG9wdGlvbnMgPSBhcnJheV9yZXBsYWNlX3JlY3Vyc2l2ZSgkdGhpcy0+b3B0aW9ucywgJHRsc09wdGlvbnMsICRhZGRpdGlvbmFsT3B0aW9ucyk7CmlmICghJHRoaXMtPmRlZ3JhZGVkTW9kZSkgewoKCiRvcHRpb25zWydodHRwJ11bJ3Byb3RvY29sX3ZlcnNpb24nXSA9IDEuMTsKJGhlYWRlcnNbXSA9ICdDb25uZWN0aW9uOiBjbG9zZSc7Cn0KCiRoZWFkZXJzID0gJHRoaXMtPmF1dGhIZWxwZXItPmFkZEF1dGhlbnRpY2F0aW9uSGVhZGVyKCRoZWFkZXJzLCAkb3JpZ2luVXJsLCAkdGhpcy0+ZmlsZVVybCk7Cgokb3B0aW9uc1snaHR0cCddWydmb2xsb3dfbG9jYXRpb24nXSA9IDA7CgppZiAoaXNzZXQoJG9wdGlvbnNbJ2h0dHAnXVsnaGVhZGVyJ10pICYmICFpc19hcnJheSgkb3B0aW9uc1snaHR0cCddWydoZWFkZXInXSkpIHsKJG9wdGlvbnNbJ2h0dHAnXVsnaGVhZGVyJ10gPSBleHBsb2RlKCJcclxuIiwgdHJpbSgkb3B0aW9uc1snaHR0cCddWydoZWFkZXInXSwgIlxyXG4iKSk7Cn0KZm9yZWFjaCAoJGhlYWRlcnMgYXMgJGhlYWRlcikgewokb3B0aW9uc1snaHR0cCddWydoZWFkZXInXVtdID0gJGhlYWRlcjsKfQoKcmV0dXJuICRvcHRpb25zOwp9Cgpwcml2YXRlIGZ1bmN0aW9uIGhhbmRsZVJlZGlyZWN0KGFycmF5ICRodHRwX3Jlc3BvbnNlX2hlYWRlciwgYXJyYXkgJGFkZGl0aW9uYWxPcHRpb25zLCAkcmVzdWx0KQp7CmlmICgkbG9jYXRpb25IZWFkZXIgPSBSZXNwb25zZTo6ZmluZEhlYWRlclZhbHVlKCRodHRwX3Jlc3BvbnNlX2hlYWRlciwgJ2xvY2F0aW9uJykpIHsKaWYgKHBhcnNlX3VybCgkbG9jYXRpb25IZWFkZXIsIFBIUF9VUkxfU0NIRU1FKSkgewoKJHRhcmdldFVybCA9ICRsb2NhdGlvbkhlYWRlcjsKfSBlbHNlaWYgKHBhcnNlX3VybCgkbG9jYXRpb25IZWFkZXIsIFBIUF9VUkxfSE9TVCkpIHsKCiR0YXJnZXRVcmwgPSAkdGhpcy0+c2NoZW1lLic6Jy4kbG9jYXRpb25IZWFkZXI7Cn0gZWxzZWlmICgnLycgPT09ICRsb2NhdGlvbkhlYWRlclswXSkgewoKJHVybEhvc3QgPSBwYXJzZV91cmwoJHRoaXMtPmZpbGVVcmwsIFBIUF9VUkxfSE9TVCk7CgoKJHRhcmdldFVybCA9IHByZWdfcmVwbGFjZSgne14oLisoPzovL3xAKScucHJlZ19xdW90ZSgkdXJsSG9zdCkuJyg/OjpcZCspPykoPzpbL1w/XS4qKT8kfScsICdcMScuJGxvY2F0aW9uSGVhZGVyLCAkdGhpcy0+ZmlsZVVybCk7Cn0gZWxzZSB7CgoKJHRhcmdldFVybCA9IHByZWdfcmVwbGFjZSgne14oLisvKVteLz9dKig/Olw/LiopPyR9JywgJ1wxJy4kbG9jYXRpb25IZWFkZXIsICR0aGlzLT5maWxlVXJsKTsKfQp9CgppZiAoIWVtcHR5KCR0YXJnZXRVcmwpKSB7CiR0aGlzLT5yZWRpcmVjdHMrKzsKCiR0aGlzLT5pby0+d3JpdGVFcnJvcignJywgdHJ1ZSwgSU9JbnRlcmZhY2U6OkRFQlVHKTsKJHRoaXMtPmlvLT53cml0ZUVycm9yKHNwcmludGYoJ0ZvbGxvd2luZyByZWRpcmVjdCAoJXUpICVzJywgJHRoaXMtPnJlZGlyZWN0cywgVXJsOjpzYW5pdGl6ZSgkdGFyZ2V0VXJsKSksIHRydWUsIElPSW50ZXJmYWNlOjpERUJVRyk7CgokYWRkaXRpb25hbE9wdGlvbnNbJ3JlZGlyZWN0cyddID0gJHRoaXMtPnJlZGlyZWN0czsKCnJldHVybiAkdGhpcy0+Z2V0KHBhcnNlX3VybCgkdGFyZ2V0VXJsLCBQSFBfVVJMX0hPU1QpLCAkdGFyZ2V0VXJsLCAkYWRkaXRpb25hbE9wdGlvbnMsICR0aGlzLT5maWxlTmFtZSwgJHRoaXMtPnByb2dyZXNzKTsKfQoKaWYgKCEkdGhpcy0+cmV0cnkpIHsKJGUgPSBuZXcgVHJhbnNwb3J0RXhjZXB0aW9uKCdUaGUgIicuJHRoaXMtPmZpbGVVcmwuJyIgZmlsZSBjb3VsZCBub3QgYmUgZG93bmxvYWRlZCwgZ290IHJlZGlyZWN0IHdpdGhvdXQgTG9jYXRpb24gKCcuJGh0dHBfcmVzcG9uc2VfaGVhZGVyWzBdLicpJyk7CiRlLT5zZXRIZWFkZXJzKCRodHRwX3Jlc3BvbnNlX2hlYWRlcik7CiRlLT5zZXRSZXNwb25zZSgkdGhpcy0+ZGVjb2RlUmVzdWx0KCRyZXN1bHQsICRodHRwX3Jlc3BvbnNlX2hlYWRlcikpOwoKdGhyb3cgJGU7Cn0KCnJldHVybiBmYWxzZTsKfQoKCgoKCgpwcml2YXRlIGZ1bmN0aW9uIGdldENlcnRpZmljYXRlQ25BbmRGcCgkdXJsLCAkb3B0aW9ucykKewppZiAoUEhQX1ZFUlNJT05fSUQgPj0gNTA2MDApIHsKdGhyb3cgbmV3IFxCYWRNZXRob2RDYWxsRXhjZXB0aW9uKHNwcmludGYoCiclcyBtdXN0IG5vdCBiZSB1c2VkIG9uIFBIUCA+PSA1LjYnLApfX01FVEhPRF9fCikpOwp9CgokY29udGV4dCA9IFN0cmVhbUNvbnRleHRGYWN0b3J5OjpnZXRDb250ZXh0KCR1cmwsICRvcHRpb25zLCBhcnJheSgnb3B0aW9ucycgPT4gYXJyYXkoCidzc2wnID0+IGFycmF5KAonY2FwdHVyZV9wZWVyX2NlcnQnID0+IHRydWUsCid2ZXJpZnlfcGVlcicgPT4gZmFsc2UsIAopLCApLAopKTsKCgoKaWYgKGZhbHNlID09PSAkaGFuZGxlID0gQGZvcGVuKCR1cmwsICdyYicsIGZhbHNlLCAkY29udGV4dCkpIHsKcmV0dXJuOwp9CgoKZmNsb3NlKCRoYW5kbGUpOwokaGFuZGxlID0gbnVsbDsKCiRwYXJhbXMgPSBzdHJlYW1fY29udGV4dF9nZXRfcGFyYW1zKCRjb250ZXh0KTsKCmlmICghZW1wdHkoJHBhcmFtc1snb3B0aW9ucyddWydzc2wnXVsncGVlcl9jZXJ0aWZpY2F0ZSddKSkgewokcGVlckNlcnRpZmljYXRlID0gJHBhcmFtc1snb3B0aW9ucyddWydzc2wnXVsncGVlcl9jZXJ0aWZpY2F0ZSddOwoKaWYgKFRsc0hlbHBlcjo6Y2hlY2tDZXJ0aWZpY2F0ZUhvc3QoJHBlZXJDZXJ0aWZpY2F0ZSwgcGFyc2VfdXJsKCR1cmwsIFBIUF9VUkxfSE9TVCksICRjb21tb25OYW1lKSkgewpyZXR1cm4gYXJyYXkoCidjbicgPT4gJGNvbW1vbk5hbWUsCidmcCcgPT4gVGxzSGVscGVyOjpnZXRDZXJ0aWZpY2F0ZUZpbmdlcnByaW50KCRwZWVyQ2VydGlmaWNhdGUpLAopOwp9Cn0KfQoKcHJpdmF0ZSBmdW5jdGlvbiBnZXRVcmxBdXRob3JpdHkoJHVybCkKewokZGVmYXVsdFBvcnRzID0gYXJyYXkoCidmdHAnID0+IDIxLAonaHR0cCcgPT4gODAsCidodHRwcycgPT4gNDQzLAonc3NoMi5zZnRwJyA9PiAyMiwKJ3NzaDIuc2NwJyA9PiAyMiwKKTsKCiRzY2hlbWUgPSBwYXJzZV91cmwoJHVybCwgUEhQX1VSTF9TQ0hFTUUpOwoKaWYgKCFpc3NldCgkZGVmYXVsdFBvcnRzWyRzY2hlbWVdKSkgewp0aHJvdyBuZXcgXEludmFsaWRBcmd1bWVudEV4Y2VwdGlvbihzcHJpbnRmKAonQ291bGQgbm90IGdldCBkZWZhdWx0IHBvcnQgZm9yIHVua25vd24gc2NoZW1lOiAlcycsCiRzY2hlbWUKKSk7Cn0KCiRkZWZhdWx0UG9ydCA9ICRkZWZhdWx0UG9ydHNbJHNjaGVtZV07CiRwb3J0ID0gcGFyc2VfdXJsKCR1cmwsIFBIUF9VUkxfUE9SVCkgPzogJGRlZmF1bHRQb3J0OwoKcmV0dXJuIHBhcnNlX3VybCgkdXJsLCBQSFBfVVJMX0hPU1QpLic6Jy4kcG9ydDsKfQoKcHJpdmF0ZSBmdW5jdGlvbiBkZWNvZGVSZXN1bHQoJHJlc3VsdCwgJGh0dHBfcmVzcG9uc2VfaGVhZGVyKQp7CgppZiAoJHJlc3VsdCAmJiBleHRlbnNpb25fbG9hZGVkKCd6bGliJykpIHsKJGNvbnRlbnRFbmNvZGluZyA9IFJlc3BvbnNlOjpmaW5kSGVhZGVyVmFsdWUoJGh0dHBfcmVzcG9uc2VfaGVhZGVyLCAnY29udGVudC1lbmNvZGluZycpOwokZGVjb2RlID0gJGNvbnRlbnRFbmNvZGluZyAmJiAnZ3ppcCcgPT09IHN0cnRvbG93ZXIoJGNvbnRlbnRFbmNvZGluZyk7CgppZiAoJGRlY29kZSkgewppZiAoUEhQX1ZFUlNJT05fSUQgPj0gNTA0MDApIHsKJHJlc3VsdCA9IHpsaWJfZGVjb2RlKCRyZXN1bHQpOwp9IGVsc2UgewoKJHJlc3VsdCA9IGZpbGVfZ2V0X2NvbnRlbnRzKCdjb21wcmVzcy56bGliOi8vZGF0YTphcHBsaWNhdGlvbi9vY3RldC1zdHJlYW07YmFzZTY0LCcuYmFzZTY0X2VuY29kZSgkcmVzdWx0KSk7Cn0KCmlmICgkcmVzdWx0ID09PSBmYWxzZSkgewp0aHJvdyBuZXcgVHJhbnNwb3J0RXhjZXB0aW9uKCdGYWlsZWQgdG8gZGVjb2RlIHpsaWIgc3RyZWFtJyk7Cn0KfQp9CgpyZXR1cm4gJHJlc3VsdDsKfQp9Cjw/cGhwCgoKCgoKCgoKCgoKbmFtZXNwYWNlIENvbXBvc2VyXFV0aWw7CgoKCgoKCmNsYXNzIFNpbGVuY2VyCnsKCgoKcHJpdmF0ZSBzdGF0aWMgJHN0YWNrID0gYXJyYXkoKTsKCgoKCgoKCnB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gc3VwcHJlc3MoJG1hc2sgPSBudWxsKQp7CmlmICghaXNzZXQoJG1hc2spKSB7CiRtYXNrID0gRV9XQVJOSU5HIHwgRV9OT1RJQ0UgfCBFX1VTRVJfV0FSTklORyB8IEVfVVNFUl9OT1RJQ0UgfCBFX0RFUFJFQ0FURUQgfCBFX1VTRVJfREVQUkVDQVRFRCB8IEVfU1RSSUNUOwp9CiRvbGQgPSBlcnJvcl9yZXBvcnRpbmcoKTsKc2VsZjo6JHN0YWNrW10gPSAkb2xkOwplcnJvcl9yZXBvcnRpbmcoJG9sZCAmIH4kbWFzayk7CgpyZXR1cm4gJG9sZDsKfQoKCgoKcHVibGljIHN0YXRpYyBmdW5jdGlvbiByZXN0b3JlKCkKewppZiAoIWVtcHR5KHNlbGY6OiRzdGFjaykpIHsKZXJyb3JfcmVwb3J0aW5nKGFycmF5X3BvcChzZWxmOjokc3RhY2spKTsKfQp9CgoKCgoKCgoKCgpwdWJsaWMgc3RhdGljIGZ1bmN0aW9uIGNhbGwoJGNhbGxhYmxlICkKewp0cnkgewpzZWxmOjpzdXBwcmVzcygpOwokcmVzdWx0ID0gY2FsbF91c2VyX2Z1bmNfYXJyYXkoJGNhbGxhYmxlLCBhcnJheV9zbGljZShmdW5jX2dldF9hcmdzKCksIDEpKTsKc2VsZjo6cmVzdG9yZSgpOwoKcmV0dXJuICRyZXN1bHQ7Cn0gY2F0Y2ggKFxFeGNlcHRpb24gJGUpIHsKCnNlbGY6OnJlc3RvcmUoKTsKdGhyb3cgJGU7Cn0KfQp9Cjw/cGhwCgoKCgoKCgoKCgoKbmFtZXNwYWNlIENvbXBvc2VyXFV0aWw7Cgp1c2UgQ29tcG9zZXJcQ29tcG9zZXI7CnVzZSBDb21wb3NlclxDYUJ1bmRsZVxDYUJ1bmRsZTsKdXNlIENvbXBvc2VyXERvd25sb2FkZXJcVHJhbnNwb3J0RXhjZXB0aW9uOwp1c2UgQ29tcG9zZXJcUmVwb3NpdG9yeVxQbGF0Zm9ybVJlcG9zaXRvcnk7CnVzZSBDb21wb3NlclxVdGlsXEh0dHBcUHJveHlNYW5hZ2VyOwp1c2UgUHNyXExvZ1xMb2dnZXJJbnRlcmZhY2U7CgoKCgoKCgpmaW5hbCBjbGFzcyBTdHJlYW1Db250ZXh0RmFjdG9yeQp7CgoKCgoKCgoKCgpwdWJsaWMgc3RhdGljIGZ1bmN0aW9uIGdldENvbnRleHQoJHVybCwgYXJyYXkgJGRlZmF1bHRPcHRpb25zID0gYXJyYXkoKSwgYXJyYXkgJGRlZmF1bHRQYXJhbXMgPSBhcnJheSgpKQp7CiRvcHRpb25zID0gYXJyYXkoJ2h0dHAnID0+IGFycmF5KAoKJ2ZvbGxvd19sb2NhdGlvbicgPT4gMSwKJ21heF9yZWRpcmVjdHMnID0+IDIwLAopKTsKCiRvcHRpb25zID0gYXJyYXlfcmVwbGFjZV9yZWN1cnNpdmUoJG9wdGlvbnMsIHNlbGY6OmluaXRPcHRpb25zKCR1cmwsICRkZWZhdWx0T3B0aW9ucykpOwp1bnNldCgkZGVmYXVsdE9wdGlvbnNbJ2h0dHAnXVsnaGVhZGVyJ10pOwokb3B0aW9ucyA9IGFycmF5X3JlcGxhY2VfcmVjdXJzaXZlKCRvcHRpb25zLCAkZGVmYXVsdE9wdGlvbnMpOwoKaWYgKGlzc2V0KCRvcHRpb25zWydodHRwJ11bJ2hlYWRlciddKSkgewokb3B0aW9uc1snaHR0cCddWydoZWFkZXInXSA9IHNlbGY6OmZpeEh0dHBIZWFkZXJGaWVsZCgkb3B0aW9uc1snaHR0cCddWydoZWFkZXInXSk7Cn0KCnJldHVybiBzdHJlYW1fY29udGV4dF9jcmVhdGUoJG9wdGlvbnMsICRkZWZhdWx0UGFyYW1zKTsKfQoKCgoKCgoKCnB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gaW5pdE9wdGlvbnMoJHVybCwgYXJyYXkgJG9wdGlvbnMsICRmb3JDdXJsID0gZmFsc2UpCnsKCmlmICghaXNzZXQoJG9wdGlvbnNbJ2h0dHAnXVsnaGVhZGVyJ10pKSB7CiRvcHRpb25zWydodHRwJ11bJ2hlYWRlciddID0gYXJyYXkoKTsKfQppZiAoaXNfc3RyaW5nKCRvcHRpb25zWydodHRwJ11bJ2hlYWRlciddKSkgewokb3B0aW9uc1snaHR0cCddWydoZWFkZXInXSA9IGV4cGxvZGUoIlxyXG4iLCAkb3B0aW9uc1snaHR0cCddWydoZWFkZXInXSk7Cn0KCgppZiAoISRmb3JDdXJsKSB7CiRwcm94eSA9IFByb3h5TWFuYWdlcjo6Z2V0SW5zdGFuY2UoKS0+Z2V0UHJveHlGb3JSZXF1ZXN0KCR1cmwpOwppZiAoJHByb3h5T3B0aW9ucyA9ICRwcm94eS0+Z2V0Q29udGV4dE9wdGlvbnMoKSkgewokaXNIdHRwc1JlcXVlc3QgPSAwID09PSBzdHJwb3MoJHVybCwgJ2h0dHBzOi8vJyk7CgppZiAoJHByb3h5LT5pc1NlY3VyZSgpKSB7CmlmICghZXh0ZW5zaW9uX2xvYWRlZCgnb3BlbnNzbCcpKSB7CnRocm93IG5ldyBUcmFuc3BvcnRFeGNlcHRpb24oJ1lvdSBtdXN0IGVuYWJsZSB0aGUgb3BlbnNzbCBleHRlbnNpb24gdG8gdXNlIGEgc2VjdXJlIHByb3h5LicpOwp9CmlmICgkaXNIdHRwc1JlcXVlc3QpIHsKdGhyb3cgbmV3IFRyYW5zcG9ydEV4Y2VwdGlvbignWW91IG11c3QgZW5hYmxlIHRoZSBjdXJsIGV4dGVuc2lvbiB0byBtYWtlIGh0dHBzIHJlcXVlc3RzIHRocm91Z2ggYSBzZWN1cmUgcHJveHkuJyk7Cn0KfSBlbHNlaWYgKCRpc0h0dHBzUmVxdWVzdCAmJiAhZXh0ZW5zaW9uX2xvYWRlZCgnb3BlbnNzbCcpKSB7CnRocm93IG5ldyBUcmFuc3BvcnRFeGNlcHRpb24oJ1lvdSBtdXN0IGVuYWJsZSB0aGUgb3BlbnNzbCBleHRlbnNpb24gdG8gbWFrZSBodHRwcyByZXF1ZXN0cyB0aHJvdWdoIGEgcHJveHkuJyk7Cn0KCgppZiAoaXNzZXQoJHByb3h5T3B0aW9uc1snaHR0cCddWydoZWFkZXInXSkpIHsKJG9wdGlvbnNbJ2h0dHAnXVsnaGVhZGVyJ11bXSA9ICRwcm94eU9wdGlvbnNbJ2h0dHAnXVsnaGVhZGVyJ107CnVuc2V0KCRwcm94eU9wdGlvbnNbJ2h0dHAnXVsnaGVhZGVyJ10pOwp9CiRvcHRpb25zID0gYXJyYXlfcmVwbGFjZV9yZWN1cnNpdmUoJG9wdGlvbnMsICRwcm94eU9wdGlvbnMpOwp9Cn0KCmlmIChkZWZpbmVkKCdISFZNX1ZFUlNJT04nKSkgewokcGhwVmVyc2lvbiA9ICdISFZNICcgLiBISFZNX1ZFUlNJT047Cn0gZWxzZSB7CiRwaHBWZXJzaW9uID0gJ1BIUCAnIC4gUEhQX01BSk9SX1ZFUlNJT04gLiAnLicgLiBQSFBfTUlOT1JfVkVSU0lPTiAuICcuJyAuIFBIUF9SRUxFQVNFX1ZFUlNJT047Cn0KCmlmICgkZm9yQ3VybCkgewokY3VybCA9IGN1cmxfdmVyc2lvbigpOwokaHR0cFZlcnNpb24gPSAnY1VSTCAnLiRjdXJsWyd2ZXJzaW9uJ107Cn0gZWxzZSB7CiRodHRwVmVyc2lvbiA9ICdzdHJlYW1zJzsKfQoKaWYgKCFpc3NldCgkb3B0aW9uc1snaHR0cCddWydoZWFkZXInXSkgfHwgZmFsc2UgPT09IHN0cmlwb3MoaW1wbG9kZSgnJywgJG9wdGlvbnNbJ2h0dHAnXVsnaGVhZGVyJ10pLCAndXNlci1hZ2VudCcpKSB7CiRwbGF0Zm9ybVBocFZlcnNpb24gPSBQbGF0Zm9ybVJlcG9zaXRvcnk6OmdldFBsYXRmb3JtUGhwVmVyc2lvbigpOwokb3B0aW9uc1snaHR0cCddWydoZWFkZXInXVtdID0gc3ByaW50ZigKJ1VzZXItQWdlbnQ6IENvbXBvc2VyLyVzICglczsgJXM7ICVzOyAlcyVzJXMpJywKQ29tcG9zZXI6OmdldFZlcnNpb24oKSwKZnVuY3Rpb25fZXhpc3RzKCdwaHBfdW5hbWUnKSA/IHBocF91bmFtZSgncycpIDogJ1Vua25vd24nLApmdW5jdGlvbl9leGlzdHMoJ3BocF91bmFtZScpID8gcGhwX3VuYW1lKCdyJykgOiAnVW5rbm93bicsCiRwaHBWZXJzaW9uLAokaHR0cFZlcnNpb24sCiRwbGF0Zm9ybVBocFZlcnNpb24gPyAnOyBQbGF0Zm9ybS1QSFAgJy4kcGxhdGZvcm1QaHBWZXJzaW9uIDogJycsCmdldGVudignQ0knKSA/ICc7IENJJyA6ICcnCik7Cn0KCnJldHVybiAkb3B0aW9uczsKfQoKCgoKCgpwdWJsaWMgc3RhdGljIGZ1bmN0aW9uIGdldFRsc0RlZmF1bHRzKGFycmF5ICRvcHRpb25zLCBMb2dnZXJJbnRlcmZhY2UgJGxvZ2dlciA9IG51bGwpCnsKJGNpcGhlcnMgPSBpbXBsb2RlKCc6JywgYXJyYXkoCidFQ0RIRS1SU0EtQUVTMTI4LUdDTS1TSEEyNTYnLAonRUNESEUtRUNEU0EtQUVTMTI4LUdDTS1TSEEyNTYnLAonRUNESEUtUlNBLUFFUzI1Ni1HQ00tU0hBMzg0JywKJ0VDREhFLUVDRFNBLUFFUzI1Ni1HQ00tU0hBMzg0JywKJ0RIRS1SU0EtQUVTMTI4LUdDTS1TSEEyNTYnLAonREhFLURTUy1BRVMxMjgtR0NNLVNIQTI1NicsCidrRURIK0FFU0dDTScsCidFQ0RIRS1SU0EtQUVTMTI4LVNIQTI1NicsCidFQ0RIRS1FQ0RTQS1BRVMxMjgtU0hBMjU2JywKJ0VDREhFLVJTQS1BRVMxMjgtU0hBJywKJ0VDREhFLUVDRFNBLUFFUzEyOC1TSEEnLAonRUNESEUtUlNBLUFFUzI1Ni1TSEEzODQnLAonRUNESEUtRUNEU0EtQUVTMjU2LVNIQTM4NCcsCidFQ0RIRS1SU0EtQUVTMjU2LVNIQScsCidFQ0RIRS1FQ0RTQS1BRVMyNTYtU0hBJywKJ0RIRS1SU0EtQUVTMTI4LVNIQTI1NicsCidESEUtUlNBLUFFUzEyOC1TSEEnLAonREhFLURTUy1BRVMxMjgtU0hBMjU2JywKJ0RIRS1SU0EtQUVTMjU2LVNIQTI1NicsCidESEUtRFNTLUFFUzI1Ni1TSEEnLAonREhFLVJTQS1BRVMyNTYtU0hBJywKJ0FFUzEyOC1HQ00tU0hBMjU2JywKJ0FFUzI1Ni1HQ00tU0hBMzg0JywKJ0FFUzEyOC1TSEEyNTYnLAonQUVTMjU2LVNIQTI1NicsCidBRVMxMjgtU0hBJywKJ0FFUzI1Ni1TSEEnLAonQUVTJywKJ0NBTUVMTElBJywKJ0RFUy1DQkMzLVNIQScsCichYU5VTEwnLAonIWVOVUxMJywKJyFFWFBPUlQnLAonIURFUycsCichUkM0JywKJyFNRDUnLAonIVBTSycsCichYUVDREgnLAonIUVESC1EU1MtREVTLUNCQzMtU0hBJywKJyFFREgtUlNBLURFUy1DQkMzLVNIQScsCichS1JCNS1ERVMtQ0JDMy1TSEEnLAopKTsKCgoKCgoKCiRkZWZhdWx0cyA9IGFycmF5KAonc3NsJyA9PiBhcnJheSgKJ2NpcGhlcnMnID0+ICRjaXBoZXJzLAondmVyaWZ5X3BlZXInID0+IHRydWUsCid2ZXJpZnlfZGVwdGgnID0+IDcsCidTTklfZW5hYmxlZCcgPT4gdHJ1ZSwKJ2NhcHR1cmVfcGVlcl9jZXJ0JyA9PiB0cnVlLAopLAopOwoKaWYgKGlzc2V0KCRvcHRpb25zWydzc2wnXSkpIHsKJGRlZmF1bHRzWydzc2wnXSA9IGFycmF5X3JlcGxhY2VfcmVjdXJzaXZlKCRkZWZhdWx0c1snc3NsJ10sICRvcHRpb25zWydzc2wnXSk7Cn0KCgoKCgppZiAoIWlzc2V0KCRkZWZhdWx0c1snc3NsJ11bJ2NhZmlsZSddKSAmJiAhaXNzZXQoJGRlZmF1bHRzWydzc2wnXVsnY2FwYXRoJ10pKSB7CiRyZXN1bHQgPSBDYUJ1bmRsZTo6Z2V0U3lzdGVtQ2FSb290QnVuZGxlUGF0aCgkbG9nZ2VyKTsKCmlmIChpc19kaXIoJHJlc3VsdCkpIHsKJGRlZmF1bHRzWydzc2wnXVsnY2FwYXRoJ10gPSAkcmVzdWx0Owp9IGVsc2UgewokZGVmYXVsdHNbJ3NzbCddWydjYWZpbGUnXSA9ICRyZXN1bHQ7Cn0KfQoKaWYgKGlzc2V0KCRkZWZhdWx0c1snc3NsJ11bJ2NhZmlsZSddKSAmJiAoIUZpbGVzeXN0ZW06OmlzUmVhZGFibGUoJGRlZmF1bHRzWydzc2wnXVsnY2FmaWxlJ10pIHx8ICFDYUJ1bmRsZTo6dmFsaWRhdGVDYUZpbGUoJGRlZmF1bHRzWydzc2wnXVsnY2FmaWxlJ10sICRsb2dnZXIpKSkgewp0aHJvdyBuZXcgVHJhbnNwb3J0RXhjZXB0aW9uKCdUaGUgY29uZmlndXJlZCBjYWZpbGUgd2FzIG5vdCB2YWxpZCBvciBjb3VsZCBub3QgYmUgcmVhZC4nKTsKfQoKaWYgKGlzc2V0KCRkZWZhdWx0c1snc3NsJ11bJ2NhcGF0aCddKSAmJiAoIWlzX2RpcigkZGVmYXVsdHNbJ3NzbCddWydjYXBhdGgnXSkgfHwgIUZpbGVzeXN0ZW06OmlzUmVhZGFibGUoJGRlZmF1bHRzWydzc2wnXVsnY2FwYXRoJ10pKSkgewp0aHJvdyBuZXcgVHJhbnNwb3J0RXhjZXB0aW9uKCdUaGUgY29uZmlndXJlZCBjYXBhdGggd2FzIG5vdCB2YWxpZCBvciBjb3VsZCBub3QgYmUgcmVhZC4nKTsKfQoKCgoKaWYgKFBIUF9WRVJTSU9OX0lEID49IDUwNDEzKSB7CiRkZWZhdWx0c1snc3NsJ11bJ2Rpc2FibGVfY29tcHJlc3Npb24nXSA9IHRydWU7Cn0KCnJldHVybiAkZGVmYXVsdHM7Cn0KCgoKCgoKCgoKCgpwcml2YXRlIHN0YXRpYyBmdW5jdGlvbiBmaXhIdHRwSGVhZGVyRmllbGQoJGhlYWRlcikKewppZiAoIWlzX2FycmF5KCRoZWFkZXIpKSB7CiRoZWFkZXIgPSBleHBsb2RlKCJcclxuIiwgJGhlYWRlcik7Cn0KdWFzb3J0KCRoZWFkZXIsIGZ1bmN0aW9uICgkZWwpIHsKcmV0dXJuIHN0cmlwb3MoJGVsLCAnY29udGVudC10eXBlJykgPT09IDAgPyAxIDogLTE7Cn0pOwoKcmV0dXJuICRoZWFkZXI7Cn0KfQo8P3BocAoKCgoKCgoKCgoKCm5hbWVzcGFjZSBDb21wb3NlclxVdGlsOwoKdXNlIENvbXBvc2VyXENvbmZpZzsKdXNlIENvbXBvc2VyXElPXElPSW50ZXJmYWNlOwoKCgoKCmNsYXNzIFN2bgp7CmNvbnN0IE1BWF9RVFlfQVVUSF9UUklFUyA9IDU7CgoKCgpwcm90ZWN0ZWQgJGNyZWRlbnRpYWxzOwoKCgoKcHJvdGVjdGVkICRoYXNBdXRoOwoKCgoKcHJvdGVjdGVkICRpbzsKCgoKCnByb3RlY3RlZCAkdXJsOwoKCgoKcHJvdGVjdGVkICRjYWNoZUNyZWRlbnRpYWxzID0gdHJ1ZTsKCgoKCnByb3RlY3RlZCAkcHJvY2VzczsKCgoKCnByb3RlY3RlZCAkcXR5QXV0aFRyaWVzID0gMDsKCgoKCnByb3RlY3RlZCAkY29uZmlnOwoKCgoKcHJpdmF0ZSBzdGF0aWMgJHZlcnNpb247CgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gX19jb25zdHJ1Y3QoJHVybCwgSU9JbnRlcmZhY2UgJGlvLCBDb25maWcgJGNvbmZpZywgUHJvY2Vzc0V4ZWN1dG9yICRwcm9jZXNzID0gbnVsbCkKewokdGhpcy0+dXJsID0gJHVybDsKJHRoaXMtPmlvID0gJGlvOwokdGhpcy0+Y29uZmlnID0gJGNvbmZpZzsKJHRoaXMtPnByb2Nlc3MgPSAkcHJvY2VzcyA/OiBuZXcgUHJvY2Vzc0V4ZWN1dG9yKCRpbyk7Cn0KCnB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gY2xlYW5FbnYoKQp7CgpQbGF0Zm9ybTo6Y2xlYXJFbnYoJ0RZTERfTElCUkFSWV9QQVRIJyk7Cn0KCgoKCgoKCgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gZXhlY3V0ZSgkY29tbWFuZCwgJHVybCwgJGN3ZCA9IG51bGwsICRwYXRoID0gbnVsbCwgJHZlcmJvc2UgPSBmYWxzZSkKewoKJHRoaXMtPmNvbmZpZy0+cHJvaGliaXRVcmxCeUNvbmZpZygkdXJsLCAkdGhpcy0+aW8pOwoKcmV0dXJuICR0aGlzLT5leGVjdXRlV2l0aEF1dGhSZXRyeSgkY29tbWFuZCwgJGN3ZCwgJHVybCwgJHBhdGgsICR2ZXJib3NlKTsKfQoKCgoKCgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIGV4ZWN1dGVMb2NhbCgkY29tbWFuZCwgJHBhdGgsICRjd2QgPSBudWxsLCAkdmVyYm9zZSA9IGZhbHNlKQp7CgpyZXR1cm4gJHRoaXMtPmV4ZWN1dGVXaXRoQXV0aFJldHJ5KCRjb21tYW5kLCAkY3dkLCAnJywgJHBhdGgsICR2ZXJib3NlKTsKfQoKcHJpdmF0ZSBmdW5jdGlvbiBleGVjdXRlV2l0aEF1dGhSZXRyeSgkc3ZuQ29tbWFuZCwgJGN3ZCwgJHVybCwgJHBhdGgsICR2ZXJib3NlKQp7CgokY29tbWFuZCA9ICR0aGlzLT5nZXRDb21tYW5kKCRzdm5Db21tYW5kLCAkdXJsLCAkcGF0aCk7Cgokb3V0cHV0ID0gbnVsbDsKJGlvID0gJHRoaXMtPmlvOwokaGFuZGxlciA9IGZ1bmN0aW9uICgkdHlwZSwgJGJ1ZmZlcikgdXNlICgmJG91dHB1dCwgJGlvLCAkdmVyYm9zZSkgewppZiAoJHR5cGUgIT09ICdvdXQnKSB7CnJldHVybjsKfQppZiAoc3RycG9zKCRidWZmZXIsICdSZWRpcmVjdGluZyB0byBVUkwgJykgPT09IDApIHsKcmV0dXJuOwp9CiRvdXRwdXQgLj0gJGJ1ZmZlcjsKaWYgKCR2ZXJib3NlKSB7CiRpby0+d3JpdGVFcnJvcigkYnVmZmVyLCBmYWxzZSk7Cn0KfTsKJHN0YXR1cyA9ICR0aGlzLT5wcm9jZXNzLT5leGVjdXRlKCRjb21tYW5kLCAkaGFuZGxlciwgJGN3ZCk7CmlmICgwID09PSAkc3RhdHVzKSB7CnJldHVybiAkb3V0cHV0Owp9CgokZXJyb3JPdXRwdXQgPSAkdGhpcy0+cHJvY2Vzcy0+Z2V0RXJyb3JPdXRwdXQoKTsKJGZ1bGxPdXRwdXQgPSBpbXBsb2RlKCJcbiIsIGFycmF5KCRvdXRwdXQsICRlcnJvck91dHB1dCkpOwoKCmlmIChmYWxzZSA9PT0gc3RyaXBvcygkZnVsbE91dHB1dCwgJ0NvdWxkIG5vdCBhdXRoZW50aWNhdGUgdG8gc2VydmVyOicpCiYmIGZhbHNlID09PSBzdHJpcG9zKCRmdWxsT3V0cHV0LCAnYXV0aG9yaXphdGlvbiBmYWlsZWQnKQomJiBmYWxzZSA9PT0gc3RyaXBvcygkZnVsbE91dHB1dCwgJ3N2bjogRTE3MDAwMTonKQomJiBmYWxzZSA9PT0gc3RyaXBvcygkZnVsbE91dHB1dCwgJ3N2bjogRTIxNTAwNDonKSkgewp0aHJvdyBuZXcgXFJ1bnRpbWVFeGNlcHRpb24oJGZ1bGxPdXRwdXQpOwp9CgppZiAoISR0aGlzLT5oYXNBdXRoKCkpIHsKJHRoaXMtPmRvQXV0aERhbmNlKCk7Cn0KCgppZiAoJHRoaXMtPnF0eUF1dGhUcmllcysrIDwgc2VsZjo6TUFYX1FUWV9BVVRIX1RSSUVTKSB7CgpyZXR1cm4gJHRoaXMtPmV4ZWN1dGVXaXRoQXV0aFJldHJ5KCRzdm5Db21tYW5kLCAkY3dkLCAkdXJsLCAkcGF0aCwgJHZlcmJvc2UpOwp9Cgp0aHJvdyBuZXcgXFJ1bnRpbWVFeGNlcHRpb24oCid3cm9uZyBjcmVkZW50aWFscyBwcm92aWRlZCAoJy4kZnVsbE91dHB1dC4nKScKKTsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIHNldENhY2hlQ3JlZGVudGlhbHMoJGNhY2hlQ3JlZGVudGlhbHMpCnsKJHRoaXMtPmNhY2hlQ3JlZGVudGlhbHMgPSAkY2FjaGVDcmVkZW50aWFsczsKfQoKCgoKCgoKcHJvdGVjdGVkIGZ1bmN0aW9uIGRvQXV0aERhbmNlKCkKewoKaWYgKCEkdGhpcy0+aW8tPmlzSW50ZXJhY3RpdmUoKSkgewp0aHJvdyBuZXcgXFJ1bnRpbWVFeGNlcHRpb24oCidjYW4gbm90IGFzayBmb3IgYXV0aGVudGljYXRpb24gaW4gbm9uIGludGVyYWN0aXZlIG1vZGUnCik7Cn0KCiR0aGlzLT5pby0+d3JpdGVFcnJvcigiVGhlIFN1YnZlcnNpb24gc2VydmVyICh7JHRoaXMtPnVybH0pIHJlcXVlc3RlZCBjcmVkZW50aWFsczoiKTsKCiR0aGlzLT5oYXNBdXRoID0gdHJ1ZTsKJHRoaXMtPmNyZWRlbnRpYWxzWyd1c2VybmFtZSddID0gJHRoaXMtPmlvLT5hc2soIlVzZXJuYW1lOiAiKTsKJHRoaXMtPmNyZWRlbnRpYWxzWydwYXNzd29yZCddID0gJHRoaXMtPmlvLT5hc2tBbmRIaWRlQW5zd2VyKCJQYXNzd29yZDogIik7CgokdGhpcy0+Y2FjaGVDcmVkZW50aWFscyA9ICR0aGlzLT5pby0+YXNrQ29uZmlybWF0aW9uKCJTaG91bGQgU3VidmVyc2lvbiBjYWNoZSB0aGVzZSBjcmVkZW50aWFscz8gKHllcy9ubykgIik7CgpyZXR1cm4gJHRoaXM7Cn0KCgoKCgoKCgoKCnByb3RlY3RlZCBmdW5jdGlvbiBnZXRDb21tYW5kKCRjbWQsICR1cmwsICRwYXRoID0gbnVsbCkKewokY21kID0gc3ByaW50ZigKJyVzICVzJXMgLS0gJXMnLAokY21kLAonLS1ub24taW50ZXJhY3RpdmUgJywKJHRoaXMtPmdldENyZWRlbnRpYWxTdHJpbmcoKSwKUHJvY2Vzc0V4ZWN1dG9yOjplc2NhcGUoJHVybCkKKTsKCmlmICgkcGF0aCkgewokY21kIC49ICcgJyAuIFByb2Nlc3NFeGVjdXRvcjo6ZXNjYXBlKCRwYXRoKTsKfQoKcmV0dXJuICRjbWQ7Cn0KCgoKCgoKCgpwcm90ZWN0ZWQgZnVuY3Rpb24gZ2V0Q3JlZGVudGlhbFN0cmluZygpCnsKaWYgKCEkdGhpcy0+aGFzQXV0aCgpKSB7CnJldHVybiAnJzsKfQoKcmV0dXJuIHNwcmludGYoCicgJXMtLXVzZXJuYW1lICVzIC0tcGFzc3dvcmQgJXMgJywKJHRoaXMtPmdldEF1dGhDYWNoZSgpLApQcm9jZXNzRXhlY3V0b3I6OmVzY2FwZSgkdGhpcy0+Z2V0VXNlcm5hbWUoKSksClByb2Nlc3NFeGVjdXRvcjo6ZXNjYXBlKCR0aGlzLT5nZXRQYXNzd29yZCgpKQopOwp9CgoKCgoKCgpwcm90ZWN0ZWQgZnVuY3Rpb24gZ2V0UGFzc3dvcmQoKQp7CmlmICgkdGhpcy0+Y3JlZGVudGlhbHMgPT09IG51bGwpIHsKdGhyb3cgbmV3IFxMb2dpY0V4Y2VwdGlvbigiTm8gc3ZuIGF1dGggZGV0ZWN0ZWQuIik7Cn0KCnJldHVybiBpc3NldCgkdGhpcy0+Y3JlZGVudGlhbHNbJ3Bhc3N3b3JkJ10pID8gJHRoaXMtPmNyZWRlbnRpYWxzWydwYXNzd29yZCddIDogJyc7Cn0KCgoKCgoKCnByb3RlY3RlZCBmdW5jdGlvbiBnZXRVc2VybmFtZSgpCnsKaWYgKCR0aGlzLT5jcmVkZW50aWFscyA9PT0gbnVsbCkgewp0aHJvdyBuZXcgXExvZ2ljRXhjZXB0aW9uKCJObyBzdm4gYXV0aCBkZXRlY3RlZC4iKTsKfQoKcmV0dXJuICR0aGlzLT5jcmVkZW50aWFsc1sndXNlcm5hbWUnXTsKfQoKCgoKCgpwcm90ZWN0ZWQgZnVuY3Rpb24gaGFzQXV0aCgpCnsKaWYgKG51bGwgIT09ICR0aGlzLT5oYXNBdXRoKSB7CnJldHVybiAkdGhpcy0+aGFzQXV0aDsKfQoKaWYgKGZhbHNlID09PSAkdGhpcy0+Y3JlYXRlQXV0aEZyb21Db25maWcoKSkgewokdGhpcy0+Y3JlYXRlQXV0aEZyb21VcmwoKTsKfQoKcmV0dXJuIChib29sKSAkdGhpcy0+aGFzQXV0aDsKfQoKCgoKCgpwcm90ZWN0ZWQgZnVuY3Rpb24gZ2V0QXV0aENhY2hlKCkKewpyZXR1cm4gJHRoaXMtPmNhY2hlQ3JlZGVudGlhbHMgPyAnJyA6ICctLW5vLWF1dGgtY2FjaGUgJzsKfQoKCgoKCgpwcml2YXRlIGZ1bmN0aW9uIGNyZWF0ZUF1dGhGcm9tQ29uZmlnKCkKewppZiAoISR0aGlzLT5jb25maWctPmhhcygnaHR0cC1iYXNpYycpKSB7CnJldHVybiAkdGhpcy0+aGFzQXV0aCA9IGZhbHNlOwp9CgokYXV0aENvbmZpZyA9ICR0aGlzLT5jb25maWctPmdldCgnaHR0cC1iYXNpYycpOwoKJGhvc3QgPSBwYXJzZV91cmwoJHRoaXMtPnVybCwgUEhQX1VSTF9IT1NUKTsKaWYgKGlzc2V0KCRhdXRoQ29uZmlnWyRob3N0XSkpIHsKJHRoaXMtPmNyZWRlbnRpYWxzWyd1c2VybmFtZSddID0gJGF1dGhDb25maWdbJGhvc3RdWyd1c2VybmFtZSddOwokdGhpcy0+Y3JlZGVudGlhbHNbJ3Bhc3N3b3JkJ10gPSAkYXV0aENvbmZpZ1skaG9zdF1bJ3Bhc3N3b3JkJ107CgpyZXR1cm4gJHRoaXMtPmhhc0F1dGggPSB0cnVlOwp9CgpyZXR1cm4gJHRoaXMtPmhhc0F1dGggPSBmYWxzZTsKfQoKCgoKCgpwcml2YXRlIGZ1bmN0aW9uIGNyZWF0ZUF1dGhGcm9tVXJsKCkKewokdXJpID0gcGFyc2VfdXJsKCR0aGlzLT51cmwpOwppZiAoZW1wdHkoJHVyaVsndXNlciddKSkgewpyZXR1cm4gJHRoaXMtPmhhc0F1dGggPSBmYWxzZTsKfQoKJHRoaXMtPmNyZWRlbnRpYWxzWyd1c2VybmFtZSddID0gJHVyaVsndXNlciddOwppZiAoIWVtcHR5KCR1cmlbJ3Bhc3MnXSkpIHsKJHRoaXMtPmNyZWRlbnRpYWxzWydwYXNzd29yZCddID0gJHVyaVsncGFzcyddOwp9CgpyZXR1cm4gJHRoaXMtPmhhc0F1dGggPSB0cnVlOwp9CgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBiaW5hcnlWZXJzaW9uKCkKewppZiAoIXNlbGY6OiR2ZXJzaW9uKSB7CmlmICgwID09PSAkdGhpcy0+cHJvY2Vzcy0+ZXhlY3V0ZSgnc3ZuIC0tdmVyc2lvbicsICRvdXRwdXQpKSB7CmlmIChwcmVnX21hdGNoKCd7KFxkKyg/OlwuXGQrKSspfScsICRvdXRwdXQsICRtYXRjaCkpIHsKc2VsZjo6JHZlcnNpb24gPSAkbWF0Y2hbMV07Cn0KfQp9CgpyZXR1cm4gc2VsZjo6JHZlcnNpb247Cn0KfQo8P3BocAoKCgoKCgoKCgoKCm5hbWVzcGFjZSBDb21wb3NlclxVdGlsOwoKdXNlIENvbXBvc2VyXERvd25sb2FkZXJcRG93bmxvYWRlckludGVyZmFjZTsKdXNlIENvbXBvc2VyXFBhY2thZ2VcUGFja2FnZUludGVyZmFjZTsKdXNlIFJlYWN0XFByb21pc2VcUHJvbWlzZUludGVyZmFjZTsKCmNsYXNzIFN5bmNIZWxwZXIKewoKCgoKCgoKCgoKCnB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gZG93bmxvYWRBbmRJbnN0YWxsUGFja2FnZVN5bmMoTG9vcCAkbG9vcCwgRG93bmxvYWRlckludGVyZmFjZSAkZG93bmxvYWRlciwgJHBhdGgsIFBhY2thZ2VJbnRlcmZhY2UgJHBhY2thZ2UsIFBhY2thZ2VJbnRlcmZhY2UgJHByZXZQYWNrYWdlID0gbnVsbCkKewokdHlwZSA9ICRwcmV2UGFja2FnZSA/ICd1cGRhdGUnIDogJ2luc3RhbGwnOwoKdHJ5IHsKc2VsZjo6YXdhaXQoJGxvb3AsICRkb3dubG9hZGVyLT5kb3dubG9hZCgkcGFja2FnZSwgJHBhdGgsICRwcmV2UGFja2FnZSkpOwoKc2VsZjo6YXdhaXQoJGxvb3AsICRkb3dubG9hZGVyLT5wcmVwYXJlKCR0eXBlLCAkcGFja2FnZSwgJHBhdGgsICRwcmV2UGFja2FnZSkpOwoKaWYgKCR0eXBlID09PSAndXBkYXRlJykgewpzZWxmOjphd2FpdCgkbG9vcCwgJGRvd25sb2FkZXItPnVwZGF0ZSgkcGFja2FnZSwgJHBhdGgsICRwcmV2UGFja2FnZSkpOwp9IGVsc2UgewpzZWxmOjphd2FpdCgkbG9vcCwgJGRvd25sb2FkZXItPmluc3RhbGwoJHBhY2thZ2UsICRwYXRoKSk7Cn0KfSBjYXRjaCAoXEV4Y2VwdGlvbiAkZSkgewpzZWxmOjphd2FpdCgkbG9vcCwgJGRvd25sb2FkZXItPmNsZWFudXAoJHR5cGUsICRwYWNrYWdlLCAkcGF0aCwgJHByZXZQYWNrYWdlKSk7CnRocm93ICRlOwp9CgpzZWxmOjphd2FpdCgkbG9vcCwgJGRvd25sb2FkZXItPmNsZWFudXAoJHR5cGUsICRwYWNrYWdlLCAkcGF0aCwgJHByZXZQYWNrYWdlKSk7Cn0KCgoKCgoKCnB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gYXdhaXQoTG9vcCAkbG9vcCwgUHJvbWlzZUludGVyZmFjZSAkcHJvbWlzZSA9IG51bGwpCnsKaWYgKCRwcm9taXNlKSB7CiRsb29wLT53YWl0KGFycmF5KCRwcm9taXNlKSk7Cn0KfQp9Cjw/cGhwCgoKCgoKCgoKCgoKbmFtZXNwYWNlIENvbXBvc2VyXFV0aWw7CgoKCgpjbGFzcyBUYXIKewoKCgoKCnB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gZ2V0Q29tcG9zZXJKc29uKCRwYXRoVG9BcmNoaXZlKQp7CiRwaGFyID0gbmV3IFxQaGFyRGF0YSgkcGF0aFRvQXJjaGl2ZSk7CgppZiAoISRwaGFyLT52YWxpZCgpKSB7CnJldHVybiBudWxsOwp9CgpyZXR1cm4gc2VsZjo6ZXh0cmFjdENvbXBvc2VySnNvbkZyb21Gb2xkZXIoJHBoYXIpOwp9CgoKCgoKCgoKcHJpdmF0ZSBzdGF0aWMgZnVuY3Rpb24gZXh0cmFjdENvbXBvc2VySnNvbkZyb21Gb2xkZXIoXFBoYXJEYXRhICRwaGFyKQp7CmlmIChpc3NldCgkcGhhclsnY29tcG9zZXIuanNvbiddKSkgewpyZXR1cm4gJHBoYXJbJ2NvbXBvc2VyLmpzb24nXS0+Z2V0Q29udGVudCgpOwp9CgokdG9wTGV2ZWxQYXRocyA9IGFycmF5KCk7CmZvcmVhY2ggKCRwaGFyIGFzICRmb2xkZXJGaWxlKSB7CiRuYW1lID0gJGZvbGRlckZpbGUtPmdldEJhc2VuYW1lKCk7CgppZiAoJGZvbGRlckZpbGUtPmlzRGlyKCkpIHsKJHRvcExldmVsUGF0aHNbJG5hbWVdID0gdHJ1ZTsKaWYgKFxjb3VudCgkdG9wTGV2ZWxQYXRocykgPiAxKSB7CnRocm93IG5ldyBcUnVudGltZUV4Y2VwdGlvbignQXJjaGl2ZSBoYXMgbW9yZSB0aGFuIG9uZSB0b3AgbGV2ZWwgZGlyZWN0b3JpZXMsIGFuZCBubyBjb21wb3Nlci5qc29uIHdhcyBmb3VuZCBvbiB0aGUgdG9wIGxldmVsLCBzbyBpdFwncyBhbiBpbnZhbGlkIGFyY2hpdmUuIFRvcCBsZXZlbCBwYXRocyBmb3VuZCB3ZXJlOiAnLmltcGxvZGUoJywnLCBhcnJheV9rZXlzKCR0b3BMZXZlbFBhdGhzKSkpOwp9Cn0KfQoKJGNvbXBvc2VySnNvblBhdGggPSBrZXkoJHRvcExldmVsUGF0aHMpLicvY29tcG9zZXIuanNvbic7CmlmICgkdG9wTGV2ZWxQYXRocyAmJiBpc3NldCgkcGhhclskY29tcG9zZXJKc29uUGF0aF0pKSB7CnJldHVybiAkcGhhclskY29tcG9zZXJKc29uUGF0aF0tPmdldENvbnRlbnQoKTsKfQoKdGhyb3cgbmV3IFxSdW50aW1lRXhjZXB0aW9uKCdObyBjb21wb3Nlci5qc29uIGZvdW5kIGVpdGhlciBhdCB0aGUgdG9wIGxldmVsIG9yIHdpdGhpbiB0aGUgdG9wbW9zdCBkaXJlY3RvcnknKTsKfQp9Cjw/cGhwCgoKCgoKCgoKCgoKbmFtZXNwYWNlIENvbXBvc2VyXFV0aWw7Cgp1c2UgQ29tcG9zZXJcQ2FCdW5kbGVcQ2FCdW5kbGU7CgoKCgpmaW5hbCBjbGFzcyBUbHNIZWxwZXIKewoKCgoKCgoKCgpwdWJsaWMgc3RhdGljIGZ1bmN0aW9uIGNoZWNrQ2VydGlmaWNhdGVIb3N0KCRjZXJ0aWZpY2F0ZSwgJGhvc3RuYW1lLCAmJGNuID0gbnVsbCkKewokbmFtZXMgPSBzZWxmOjpnZXRDZXJ0aWZpY2F0ZU5hbWVzKCRjZXJ0aWZpY2F0ZSk7CgppZiAoZW1wdHkoJG5hbWVzKSkgewpyZXR1cm4gZmFsc2U7Cn0KCiRjb21iaW5lZE5hbWVzID0gYXJyYXlfbWVyZ2UoJG5hbWVzWydzYW4nXSwgYXJyYXkoJG5hbWVzWydjbiddKSk7CiRob3N0bmFtZSA9IHN0cnRvbG93ZXIoJGhvc3RuYW1lKTsKCmZvcmVhY2ggKCRjb21iaW5lZE5hbWVzIGFzICRjZXJ0TmFtZSkgewokbWF0Y2hlciA9IHNlbGY6OmNlcnROYW1lTWF0Y2hlcigkY2VydE5hbWUpOwoKaWYgKCRtYXRjaGVyICYmICRtYXRjaGVyKCRob3N0bmFtZSkpIHsKJGNuID0gJG5hbWVzWydjbiddOwoKcmV0dXJuIHRydWU7Cn0KfQoKcmV0dXJuIGZhbHNlOwp9CgoKCgoKCgoKcHVibGljIHN0YXRpYyBmdW5jdGlvbiBnZXRDZXJ0aWZpY2F0ZU5hbWVzKCRjZXJ0aWZpY2F0ZSkKewppZiAoaXNfYXJyYXkoJGNlcnRpZmljYXRlKSkgewokaW5mbyA9ICRjZXJ0aWZpY2F0ZTsKfSBlbHNlaWYgKENhQnVuZGxlOjppc09wZW5zc2xQYXJzZVNhZmUoKSkgewokaW5mbyA9IG9wZW5zc2xfeDUwOV9wYXJzZSgkY2VydGlmaWNhdGUsIGZhbHNlKTsKfQoKaWYgKCFpc3NldCgkaW5mb1snc3ViamVjdCddWydjb21tb25OYW1lJ10pKSB7CnJldHVybiBudWxsOwp9CgokY29tbW9uTmFtZSA9IHN0cnRvbG93ZXIoJGluZm9bJ3N1YmplY3QnXVsnY29tbW9uTmFtZSddKTsKJHN1YmplY3RBbHROYW1lcyA9IGFycmF5KCk7CgppZiAoaXNzZXQoJGluZm9bJ2V4dGVuc2lvbnMnXVsnc3ViamVjdEFsdE5hbWUnXSkpIHsKJHN1YmplY3RBbHROYW1lcyA9IHByZWdfc3BsaXQoJ3tccyosXHMqfScsICRpbmZvWydleHRlbnNpb25zJ11bJ3N1YmplY3RBbHROYW1lJ10pOwokc3ViamVjdEFsdE5hbWVzID0gYXJyYXlfZmlsdGVyKGFycmF5X21hcChmdW5jdGlvbiAoJG5hbWUpIHsKaWYgKDAgPT09IHN0cnBvcygkbmFtZSwgJ0ROUzonKSkgewpyZXR1cm4gc3RydG9sb3dlcihsdHJpbShzdWJzdHIoJG5hbWUsIDQpKSk7Cn0KCnJldHVybiBudWxsOwp9LCAkc3ViamVjdEFsdE5hbWVzKSk7CiRzdWJqZWN0QWx0TmFtZXMgPSBhcnJheV92YWx1ZXMoJHN1YmplY3RBbHROYW1lcyk7Cn0KCnJldHVybiBhcnJheSgKJ2NuJyA9PiAkY29tbW9uTmFtZSwKJ3NhbicgPT4gJHN1YmplY3RBbHROYW1lcywKKTsKfQoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKcHVibGljIHN0YXRpYyBmdW5jdGlvbiBnZXRDZXJ0aWZpY2F0ZUZpbmdlcnByaW50KCRjZXJ0aWZpY2F0ZSkKewokcHVia2V5ZGV0YWlscyA9IG9wZW5zc2xfcGtleV9nZXRfZGV0YWlscyhvcGVuc3NsX2dldF9wdWJsaWNrZXkoJGNlcnRpZmljYXRlKSk7CiRwdWJrZXlwZW0gPSAkcHVia2V5ZGV0YWlsc1sna2V5J107Cgokc3RhcnQgPSAnLS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0nOwokZW5kID0gJy0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLSc7CiRwZW10cmltID0gc3Vic3RyKCRwdWJrZXlwZW0sIHN0cnBvcygkcHVia2V5cGVtLCAkc3RhcnQpICsgc3RybGVuKCRzdGFydCksIChzdHJsZW4oJHB1YmtleXBlbSkgLSBzdHJwb3MoJHB1YmtleXBlbSwgJGVuZCkpICogKC0xKSk7CiRkZXIgPSBiYXNlNjRfZGVjb2RlKCRwZW10cmltKTsKCnJldHVybiBzaGExKCRkZXIpOwp9CgoKCgoKCgoKCnB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gaXNPcGVuc3NsUGFyc2VTYWZlKCkKewpyZXR1cm4gQ2FCdW5kbGU6OmlzT3BlbnNzbFBhcnNlU2FmZSgpOwp9CgoKCgoKCgoKcHJpdmF0ZSBzdGF0aWMgZnVuY3Rpb24gY2VydE5hbWVNYXRjaGVyKCRjZXJ0TmFtZSkKewokd2lsZGNhcmRzID0gc3Vic3RyX2NvdW50KCRjZXJ0TmFtZSwgJyonKTsKCmlmICgwID09PSAkd2lsZGNhcmRzKSB7CgpyZXR1cm4gZnVuY3Rpb24gKCRob3N0bmFtZSkgdXNlICgkY2VydE5hbWUpIHsKcmV0dXJuICRob3N0bmFtZSA9PT0gJGNlcnROYW1lOwp9Owp9CgppZiAoMSA9PT0gJHdpbGRjYXJkcykgewokY29tcG9uZW50cyA9IGV4cGxvZGUoJy4nLCAkY2VydE5hbWUpOwoKaWYgKDMgPiBjb3VudCgkY29tcG9uZW50cykpIHsKCnJldHVybiBudWxsOwp9CgokZmlyc3RDb21wb25lbnQgPSAkY29tcG9uZW50c1swXTsKCgppZiAoJyonICE9PSAkZmlyc3RDb21wb25lbnRbc3RybGVuKCRmaXJzdENvbXBvbmVudCkgLSAxXSkgewpyZXR1cm4gbnVsbDsKfQoKJHdpbGRjYXJkUmVnZXggPSBwcmVnX3F1b3RlKCRjZXJ0TmFtZSk7CiR3aWxkY2FyZFJlZ2V4ID0gc3RyX3JlcGxhY2UoJ1xcKicsICdbYS16MC05LV0rJywgJHdpbGRjYXJkUmVnZXgpOwokd2lsZGNhcmRSZWdleCA9ICJ7Xnskd2lsZGNhcmRSZWdleH0kfSI7CgpyZXR1cm4gZnVuY3Rpb24gKCRob3N0bmFtZSkgdXNlICgkd2lsZGNhcmRSZWdleCkgewpyZXR1cm4gMSA9PT0gcHJlZ19tYXRjaCgkd2lsZGNhcmRSZWdleCwgJGhvc3RuYW1lKTsKfTsKfQoKcmV0dXJuIG51bGw7Cn0KfQo8P3BocAoKCgoKCgoKCgoKCm5hbWVzcGFjZSBDb21wb3NlclxVdGlsOwoKdXNlIENvbXBvc2VyXENvbmZpZzsKCgoKCmNsYXNzIFVybAp7CgoKCgoKCnB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gdXBkYXRlRGlzdFJlZmVyZW5jZShDb25maWcgJGNvbmZpZywgJHVybCwgJHJlZikKewokaG9zdCA9IHBhcnNlX3VybCgkdXJsLCBQSFBfVVJMX0hPU1QpOwoKaWYgKCRob3N0ID09PSAnYXBpLmdpdGh1Yi5jb20nIHx8ICRob3N0ID09PSAnZ2l0aHViLmNvbScgfHwgJGhvc3QgPT09ICd3d3cuZ2l0aHViLmNvbScpIHsKaWYgKHByZWdfbWF0Y2goJ3teaHR0cHM/Oi8vKD86d3d3XC4pP2dpdGh1YlwuY29tLyhbXi9dKykvKFteL10rKS8oemlwfHRhciliYWxsLyguKykkfWknLCAkdXJsLCAkbWF0Y2gpKSB7CgokdXJsID0gJ2h0dHBzOi8vYXBpLmdpdGh1Yi5jb20vcmVwb3MvJyAuICRtYXRjaFsxXSAuICcvJy4gJG1hdGNoWzJdIC4gJy8nIC4gJG1hdGNoWzNdIC4gJ2JhbGwvJyAuICRyZWY7Cn0gZWxzZWlmIChwcmVnX21hdGNoKCd7Xmh0dHBzPzovLyg/Ond3d1wuKT9naXRodWJcLmNvbS8oW14vXSspLyhbXi9dKykvYXJjaGl2ZS8uK1wuKHppcHx0YXIpKD86XC5neik/JH1pJywgJHVybCwgJG1hdGNoKSkgewoKJHVybCA9ICdodHRwczovL2FwaS5naXRodWIuY29tL3JlcG9zLycgLiAkbWF0Y2hbMV0gLiAnLycuICRtYXRjaFsyXSAuICcvJyAuICRtYXRjaFszXSAuICdiYWxsLycgLiAkcmVmOwp9IGVsc2VpZiAocHJlZ19tYXRjaCgne15odHRwcz86Ly9hcGlcLmdpdGh1YlwuY29tL3JlcG9zLyhbXi9dKykvKFteL10rKS8oemlwfHRhciliYWxsKD86Ly4rKT8kfWknLCAkdXJsLCAkbWF0Y2gpKSB7CgokdXJsID0gJ2h0dHBzOi8vYXBpLmdpdGh1Yi5jb20vcmVwb3MvJyAuICRtYXRjaFsxXSAuICcvJy4gJG1hdGNoWzJdIC4gJy8nIC4gJG1hdGNoWzNdIC4gJ2JhbGwvJyAuICRyZWY7Cn0KfSBlbHNlaWYgKCRob3N0ID09PSAnYml0YnVja2V0Lm9yZycgfHwgJGhvc3QgPT09ICd3d3cuYml0YnVja2V0Lm9yZycpIHsKaWYgKHByZWdfbWF0Y2goJ3teaHR0cHM/Oi8vKD86d3d3XC4pP2JpdGJ1Y2tldFwub3JnLyhbXi9dKykvKFteL10rKS9nZXQvKC4rKVwuKHppcHx0YXJcLmd6fHRhclwuYnoyKSR9aScsICR1cmwsICRtYXRjaCkpIHsKCiR1cmwgPSAnaHR0cHM6Ly9iaXRidWNrZXQub3JnLycgLiAkbWF0Y2hbMV0gLiAnLycuICRtYXRjaFsyXSAuICcvZ2V0LycgLiAkcmVmIC4gJy4nIC4gJG1hdGNoWzRdOwp9Cn0gZWxzZWlmICgkaG9zdCA9PT0gJ2dpdGxhYi5jb20nIHx8ICRob3N0ID09PSAnd3d3LmdpdGxhYi5jb20nKSB7CmlmIChwcmVnX21hdGNoKCd7Xmh0dHBzPzovLyg/Ond3d1wuKT9naXRsYWJcLmNvbS9hcGkvdlszNF0vcHJvamVjdHMvKFteL10rKS9yZXBvc2l0b3J5L2FyY2hpdmVcLih6aXB8dGFyXC5nenx0YXJcLmJ6Mnx0YXIpXD9zaGE9LiskfWknLCAkdXJsLCAkbWF0Y2gpKSB7CgokdXJsID0gJ2h0dHBzOi8vZ2l0bGFiLmNvbS9hcGkvdjQvcHJvamVjdHMvJyAuICRtYXRjaFsxXSAuICcvcmVwb3NpdG9yeS9hcmNoaXZlLicgLiAkbWF0Y2hbMl0gLiAnP3NoYT0nIC4gJHJlZjsKfQp9IGVsc2VpZiAoaW5fYXJyYXkoJGhvc3QsICRjb25maWctPmdldCgnZ2l0aHViLWRvbWFpbnMnKSwgdHJ1ZSkpIHsKJHVybCA9IHByZWdfcmVwbGFjZSgneygvcmVwb3MvW14vXSsvW14vXSsvKHppcHx0YXIpYmFsbCkoPzovLispPyR9aScsICckMS8nLiRyZWYsICR1cmwpOwp9IGVsc2VpZiAoaW5fYXJyYXkoJGhvc3QsICRjb25maWctPmdldCgnZ2l0bGFiLWRvbWFpbnMnKSwgdHJ1ZSkpIHsKJHVybCA9IHByZWdfcmVwbGFjZSgneygvYXBpL3ZbMzRdL3Byb2plY3RzL1teL10rL3JlcG9zaXRvcnkvYXJjaGl2ZVwuKD86emlwfHRhclwuZ3p8dGFyXC5iejJ8dGFyKVw/c2hhPSkuKyR9aScsICckezF9Jy4kcmVmLCAkdXJsKTsKfQoKcmV0dXJuICR1cmw7Cn0KCgoKCgpwdWJsaWMgc3RhdGljIGZ1bmN0aW9uIGdldE9yaWdpbihDb25maWcgJGNvbmZpZywgJHVybCkKewppZiAoMCA9PT0gc3RycG9zKCR1cmwsICdmaWxlOi8vJykpIHsKcmV0dXJuICR1cmw7Cn0KCiRvcmlnaW4gPSAoc3RyaW5nKSBwYXJzZV91cmwoJHVybCwgUEhQX1VSTF9IT1NUKTsKaWYgKCRwb3J0ID0gcGFyc2VfdXJsKCR1cmwsIFBIUF9VUkxfUE9SVCkpIHsKJG9yaWdpbiAuPSAnOicuJHBvcnQ7Cn0KCmlmIChzdHJwb3MoJG9yaWdpbiwgJy5naXRodWIuY29tJykgPT09IChzdHJsZW4oJG9yaWdpbikgLSAxMSkpIHsKcmV0dXJuICdnaXRodWIuY29tJzsKfQoKaWYgKCRvcmlnaW4gPT09ICdyZXBvLnBhY2thZ2lzdC5vcmcnKSB7CnJldHVybiAncGFja2FnaXN0Lm9yZyc7Cn0KCmlmICgkb3JpZ2luID09PSAnJykgewokb3JpZ2luID0gJHVybDsKfQoKCgppZiAoCmlzX2FycmF5KCRjb25maWctPmdldCgnZ2l0bGFiLWRvbWFpbnMnKSkKJiYgZmFsc2UgPT09IHN0cnBvcygkb3JpZ2luLCAnLycpCiYmICFpbl9hcnJheSgkb3JpZ2luLCAkY29uZmlnLT5nZXQoJ2dpdGxhYi1kb21haW5zJykpCikgewpmb3JlYWNoICgkY29uZmlnLT5nZXQoJ2dpdGxhYi1kb21haW5zJykgYXMgJGdpdGxhYkRvbWFpbikgewppZiAoMCA9PT0gc3RycG9zKCRnaXRsYWJEb21haW4sICRvcmlnaW4pKSB7CnJldHVybiAkZ2l0bGFiRG9tYWluOwp9Cn0KfQoKcmV0dXJuICRvcmlnaW47Cn0KCnB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gc2FuaXRpemUoJHVybCkKewoKCiR1cmwgPSBwcmVnX3JlcGxhY2UoJ3soWyY/XWFjY2Vzc190b2tlbj0pW14mXSt9JywgJyQxKioqJywgJHVybCk7CgokdXJsID0gcHJlZ19yZXBsYWNlX2NhbGxiYWNrKCd7Xig/UDxwcmVmaXg+W2EtejAtOV0rOi8vKT8oP1A8dXNlcj5bXjovXHNAXSspOig/UDxwYXNzd29yZD5bXkBccy9dKylAfWknLCBmdW5jdGlvbiAoJG0pIHsKCmlmIChwcmVnX21hdGNoKCd7XihbYS1mMC05XXsxMix9fGdbYS16XVxkX1thLXpBLVowLTlfXSspJH0nLCAkbVsndXNlciddKSkgewpyZXR1cm4gJG1bJ3ByZWZpeCddLicqKio6KioqQCc7Cn0KCnJldHVybiAkbVsncHJlZml4J10uJG1bJ3VzZXInXS4nOioqKkAnOwp9LCAkdXJsKTsKCnJldHVybiAkdXJsOwp9Cn0KPD9waHAKCgoKCgoKCgoKCgpuYW1lc3BhY2UgQ29tcG9zZXJcVXRpbDsKCgoKCmNsYXNzIFppcAp7CgoKCgoKCgpwdWJsaWMgc3RhdGljIGZ1bmN0aW9uIGdldENvbXBvc2VySnNvbigkcGF0aFRvWmlwKQp7CmlmICghZXh0ZW5zaW9uX2xvYWRlZCgnemlwJykpIHsKdGhyb3cgbmV3IFxSdW50aW1lRXhjZXB0aW9uKCdUaGUgWmlwIFV0aWwgcmVxdWlyZXMgUEhQXCdzIHppcCBleHRlbnNpb24nKTsKfQoKJHppcCA9IG5ldyBcWmlwQXJjaGl2ZSgpOwppZiAoJHppcC0+b3BlbigkcGF0aFRvWmlwKSAhPT0gdHJ1ZSkgewpyZXR1cm4gbnVsbDsKfQoKaWYgKDAgPT0gJHppcC0+bnVtRmlsZXMpIHsKJHppcC0+Y2xvc2UoKTsKCnJldHVybiBudWxsOwp9CgokZm91bmRGaWxlSW5kZXggPSBzZWxmOjpsb2NhdGVGaWxlKCR6aXAsICdjb21wb3Nlci5qc29uJyk7CgokY29udGVudCA9IG51bGw7CiRjb25maWd1cmF0aW9uRmlsZU5hbWUgPSAkemlwLT5nZXROYW1lSW5kZXgoJGZvdW5kRmlsZUluZGV4KTsKJHN0cmVhbSA9ICR6aXAtPmdldFN0cmVhbSgkY29uZmlndXJhdGlvbkZpbGVOYW1lKTsKCmlmIChmYWxzZSAhPT0gJHN0cmVhbSkgewokY29udGVudCA9IHN0cmVhbV9nZXRfY29udGVudHMoJHN0cmVhbSk7Cn0KCiR6aXAtPmNsb3NlKCk7CgpyZXR1cm4gJGNvbnRlbnQ7Cn0KCgoKCgoKCgoKCnByaXZhdGUgc3RhdGljIGZ1bmN0aW9uIGxvY2F0ZUZpbGUoXFppcEFyY2hpdmUgJHppcCwgJGZpbGVuYW1lKQp7CgppZiAoZmFsc2UgIT09ICgkaW5kZXggPSAkemlwLT5sb2NhdGVOYW1lKCRmaWxlbmFtZSkpICYmICR6aXAtPmdldEZyb21JbmRleCgkaW5kZXgpICE9PSBmYWxzZSkgewpyZXR1cm4gJGluZGV4Owp9CgokdG9wTGV2ZWxQYXRocyA9IGFycmF5KCk7CmZvciAoJGkgPSAwOyAkaSA8ICR6aXAtPm51bUZpbGVzOyAkaSsrKSB7CiRuYW1lID0gJHppcC0+Z2V0TmFtZUluZGV4KCRpKTsKJGRpcm5hbWUgPSBkaXJuYW1lKCRuYW1lKTsKCgppZiAoc3RycG9zKCRuYW1lLCAnX19NQUNPU1gnKSAhPT0gZmFsc2UpIHsKY29udGludWU7Cn0KCgppZiAoJGRpcm5hbWUgPT09ICcuJykgewokdG9wTGV2ZWxQYXRoc1skbmFtZV0gPSB0cnVlOwppZiAoXGNvdW50KCR0b3BMZXZlbFBhdGhzKSA+IDEpIHsKdGhyb3cgbmV3IFxSdW50aW1lRXhjZXB0aW9uKCdBcmNoaXZlIGhhcyBtb3JlIHRoYW4gb25lIHRvcCBsZXZlbCBkaXJlY3RvcmllcywgYW5kIG5vIGNvbXBvc2VyLmpzb24gd2FzIGZvdW5kIG9uIHRoZSB0b3AgbGV2ZWwsIHNvIGl0XCdzIGFuIGludmFsaWQgYXJjaGl2ZS4gVG9wIGxldmVsIHBhdGhzIGZvdW5kIHdlcmU6ICcuaW1wbG9kZSgnLCcsIGFycmF5X2tleXMoJHRvcExldmVsUGF0aHMpKSk7Cn0KY29udGludWU7Cn0KCgppZiAoZmFsc2UgPT09IHN0cnBvcygkZGlybmFtZSwgJ1xcJykgJiYgZmFsc2UgPT09IHN0cnBvcygkZGlybmFtZSwgJy8nKSkgewokdG9wTGV2ZWxQYXRoc1skZGlybmFtZS4nLyddID0gdHJ1ZTsKaWYgKFxjb3VudCgkdG9wTGV2ZWxQYXRocykgPiAxKSB7CnRocm93IG5ldyBcUnVudGltZUV4Y2VwdGlvbignQXJjaGl2ZSBoYXMgbW9yZSB0aGFuIG9uZSB0b3AgbGV2ZWwgZGlyZWN0b3JpZXMsIGFuZCBubyBjb21wb3Nlci5qc29uIHdhcyBmb3VuZCBvbiB0aGUgdG9wIGxldmVsLCBzbyBpdFwncyBhbiBpbnZhbGlkIGFyY2hpdmUuIFRvcCBsZXZlbCBwYXRocyBmb3VuZCB3ZXJlOiAnLmltcGxvZGUoJywnLCBhcnJheV9rZXlzKCR0b3BMZXZlbFBhdGhzKSkpOwp9Cn0KfQoKaWYgKCR0b3BMZXZlbFBhdGhzICYmIGZhbHNlICE9PSAoJGluZGV4ID0gJHppcC0+bG9jYXRlTmFtZShrZXkoJHRvcExldmVsUGF0aHMpLiRmaWxlbmFtZSkpICYmICR6aXAtPmdldEZyb21JbmRleCgkaW5kZXgpICE9PSBmYWxzZSkgewpyZXR1cm4gJGluZGV4Owp9Cgp0aHJvdyBuZXcgXFJ1bnRpbWVFeGNlcHRpb24oJ05vIGNvbXBvc2VyLmpzb24gZm91bmQgZWl0aGVyIGF0IHRoZSB0b3AgbGV2ZWwgb3Igd2l0aGluIHRoZSB0b3Btb3N0IGRpcmVjdG9yeScpOwp9Cn0KPD9waHAKCgoKCgoKCgoKCgpmdW5jdGlvbiBpbmNsdWRlSWZFeGlzdHMoJGZpbGUpCnsKcmV0dXJuIGZpbGVfZXhpc3RzKCRmaWxlKSA/IGluY2x1ZGUgJGZpbGUgOiBmYWxzZTsKfQoKaWYgKCghJGxvYWRlciA9IGluY2x1ZGVJZkV4aXN0cyhfX0RJUl9fLicvLi4vdmVuZG9yL2F1dG9sb2FkLnBocCcpKSAmJiAoISRsb2FkZXIgPSBpbmNsdWRlSWZFeGlzdHMoX19ESVJfXy4nLy4uLy4uLy4uL2F1dG9sb2FkLnBocCcpKSkgewplY2hvICdZb3UgbXVzdCBzZXQgdXAgdGhlIHByb2plY3QgZGVwZW5kZW5jaWVzIHVzaW5nIGBjb21wb3NlciBpbnN0YWxsYCcuUEhQX0VPTC4KJ1NlZSBodHRwczovL2dldGNvbXBvc2VyLm9yZy9kb3dubG9hZC8gZm9yIGluc3RydWN0aW9ucyBvbiBpbnN0YWxsaW5nIENvbXBvc2VyJy5QSFBfRU9MOwpleGl0KDEpOwp9CgpyZXR1cm4gJGxvYWRlcjsKPD9waHAKCi8qCiAqIFRoaXMgZmlsZSBpcyBwYXJ0IG9mIENvbXBvc2VyLgogKgogKiAoYykgTmlscyBBZGVybWFubiA8bmFkZXJtYW5AbmFkZXJtYW4uZGU+CiAqICAgICBKb3JkaSBCb2dnaWFubyA8ai5ib2dnaWFub0BzZWxkLmJlPgogKgogKiBGb3IgdGhlIGZ1bGwgY29weXJpZ2h0IGFuZCBsaWNlbnNlIGluZm9ybWF0aW9uLCBwbGVhc2UgdmlldyB0aGUgTElDRU5TRQogKiBmaWxlIHRoYXQgd2FzIGRpc3RyaWJ1dGVkIHdpdGggdGhpcyBzb3VyY2UgY29kZS4KICovCgpuYW1lc3BhY2UgQ29tcG9zZXJcQXV0b2xvYWQ7CgovKioKICogQ2xhc3NMb2FkZXIgaW1wbGVtZW50cyBhIFBTUi0wLCBQU1ItNCBhbmQgY2xhc3NtYXAgY2xhc3MgbG9hZGVyLgogKgogKiAgICAgJGxvYWRlciA9IG5ldyBcQ29tcG9zZXJcQXV0b2xvYWRcQ2xhc3NMb2FkZXIoKTsKICoKICogICAgIC8vIHJlZ2lzdGVyIGNsYXNzZXMgd2l0aCBuYW1lc3BhY2VzCiAqICAgICAkbG9hZGVyLT5hZGQoJ1N5bWZvbnlcQ29tcG9uZW50JywgX19ESVJfXy4nL2NvbXBvbmVudCcpOwogKiAgICAgJGxvYWRlci0+YWRkKCdTeW1mb255JywgICAgICAgICAgIF9fRElSX18uJy9mcmFtZXdvcmsnKTsKICoKICogICAgIC8vIGFjdGl2YXRlIHRoZSBhdXRvbG9hZGVyCiAqICAgICAkbG9hZGVyLT5yZWdpc3RlcigpOwogKgogKiAgICAgLy8gdG8gZW5hYmxlIHNlYXJjaGluZyB0aGUgaW5jbHVkZSBwYXRoIChlZy4gZm9yIFBFQVIgcGFja2FnZXMpCiAqICAgICAkbG9hZGVyLT5zZXRVc2VJbmNsdWRlUGF0aCh0cnVlKTsKICoKICogSW4gdGhpcyBleGFtcGxlLCBpZiB5b3UgdHJ5IHRvIHVzZSBhIGNsYXNzIGluIHRoZSBTeW1mb255XENvbXBvbmVudAogKiBuYW1lc3BhY2Ugb3Igb25lIG9mIGl0cyBjaGlsZHJlbiAoU3ltZm9ueVxDb21wb25lbnRcQ29uc29sZSBmb3IgaW5zdGFuY2UpLAogKiB0aGUgYXV0b2xvYWRlciB3aWxsIGZpcnN0IGxvb2sgZm9yIHRoZSBjbGFzcyB1bmRlciB0aGUgY29tcG9uZW50LwogKiBkaXJlY3RvcnksIGFuZCBpdCB3aWxsIHRoZW4gZmFsbGJhY2sgdG8gdGhlIGZyYW1ld29yay8gZGlyZWN0b3J5IGlmIG5vdAogKiBmb3VuZCBiZWZvcmUgZ2l2aW5nIHVwLgogKgogKiBUaGlzIGNsYXNzIGlzIGxvb3NlbHkgYmFzZWQgb24gdGhlIFN5bWZvbnkgVW5pdmVyc2FsQ2xhc3NMb2FkZXIuCiAqCiAqIEBhdXRob3IgRmFiaWVuIFBvdGVuY2llciA8ZmFiaWVuQHN5bWZvbnkuY29tPgogKiBAYXV0aG9yIEpvcmRpIEJvZ2dpYW5vIDxqLmJvZ2dpYW5vQHNlbGQuYmU+CiAqIEBzZWUgICAgaHR0cHM6Ly93d3cucGhwLWZpZy5vcmcvcHNyL3Bzci0wLwogKiBAc2VlICAgIGh0dHBzOi8vd3d3LnBocC1maWcub3JnL3Bzci9wc3ItNC8KICovCmNsYXNzIENsYXNzTG9hZGVyCnsKICAgIHByaXZhdGUgJHZlbmRvckRpcjsKCiAgICAvLyBQU1ItNAogICAgcHJpdmF0ZSAkcHJlZml4TGVuZ3Roc1BzcjQgPSBhcnJheSgpOwogICAgcHJpdmF0ZSAkcHJlZml4RGlyc1BzcjQgPSBhcnJheSgpOwogICAgcHJpdmF0ZSAkZmFsbGJhY2tEaXJzUHNyNCA9IGFycmF5KCk7CgogICAgLy8gUFNSLTAKICAgIHByaXZhdGUgJHByZWZpeGVzUHNyMCA9IGFycmF5KCk7CiAgICBwcml2YXRlICRmYWxsYmFja0RpcnNQc3IwID0gYXJyYXkoKTsKCiAgICBwcml2YXRlICR1c2VJbmNsdWRlUGF0aCA9IGZhbHNlOwogICAgcHJpdmF0ZSAkY2xhc3NNYXAgPSBhcnJheSgpOwogICAgcHJpdmF0ZSAkY2xhc3NNYXBBdXRob3JpdGF0aXZlID0gZmFsc2U7CiAgICBwcml2YXRlICRtaXNzaW5nQ2xhc3NlcyA9IGFycmF5KCk7CiAgICBwcml2YXRlICRhcGN1UHJlZml4OwoKICAgIHByaXZhdGUgc3RhdGljICRyZWdpc3RlcmVkTG9hZGVycyA9IGFycmF5KCk7CgogICAgcHVibGljIGZ1bmN0aW9uIF9fY29uc3RydWN0KCR2ZW5kb3JEaXIgPSBudWxsKQogICAgewogICAgICAgICR0aGlzLT52ZW5kb3JEaXIgPSAkdmVuZG9yRGlyOwogICAgfQoKICAgIHB1YmxpYyBmdW5jdGlvbiBnZXRQcmVmaXhlcygpCiAgICB7CiAgICAgICAgaWYgKCFlbXB0eSgkdGhpcy0+cHJlZml4ZXNQc3IwKSkgewogICAgICAgICAgICByZXR1cm4gY2FsbF91c2VyX2Z1bmNfYXJyYXkoJ2FycmF5X21lcmdlJywgYXJyYXlfdmFsdWVzKCR0aGlzLT5wcmVmaXhlc1BzcjApKTsKICAgICAgICB9CgogICAgICAgIHJldHVybiBhcnJheSgpOwogICAgfQoKICAgIHB1YmxpYyBmdW5jdGlvbiBnZXRQcmVmaXhlc1BzcjQoKQogICAgewogICAgICAgIHJldHVybiAkdGhpcy0+cHJlZml4RGlyc1BzcjQ7CiAgICB9CgogICAgcHVibGljIGZ1bmN0aW9uIGdldEZhbGxiYWNrRGlycygpCiAgICB7CiAgICAgICAgcmV0dXJuICR0aGlzLT5mYWxsYmFja0RpcnNQc3IwOwogICAgfQoKICAgIHB1YmxpYyBmdW5jdGlvbiBnZXRGYWxsYmFja0RpcnNQc3I0KCkKICAgIHsKICAgICAgICByZXR1cm4gJHRoaXMtPmZhbGxiYWNrRGlyc1BzcjQ7CiAgICB9CgogICAgcHVibGljIGZ1bmN0aW9uIGdldENsYXNzTWFwKCkKICAgIHsKICAgICAgICByZXR1cm4gJHRoaXMtPmNsYXNzTWFwOwogICAgfQoKICAgIC8qKgogICAgICogQHBhcmFtIGFycmF5ICRjbGFzc01hcCBDbGFzcyB0byBmaWxlbmFtZSBtYXAKICAgICAqLwogICAgcHVibGljIGZ1bmN0aW9uIGFkZENsYXNzTWFwKGFycmF5ICRjbGFzc01hcCkKICAgIHsKICAgICAgICBpZiAoJHRoaXMtPmNsYXNzTWFwKSB7CiAgICAgICAgICAgICR0aGlzLT5jbGFzc01hcCA9IGFycmF5X21lcmdlKCR0aGlzLT5jbGFzc01hcCwgJGNsYXNzTWFwKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAkdGhpcy0+Y2xhc3NNYXAgPSAkY2xhc3NNYXA7CiAgICAgICAgfQogICAgfQoKICAgIC8qKgogICAgICogUmVnaXN0ZXJzIGEgc2V0IG9mIFBTUi0wIGRpcmVjdG9yaWVzIGZvciBhIGdpdmVuIHByZWZpeCwgZWl0aGVyCiAgICAgKiBhcHBlbmRpbmcgb3IgcHJlcGVuZGluZyB0byB0aGUgb25lcyBwcmV2aW91c2x5IHNldCBmb3IgdGhpcyBwcmVmaXguCiAgICAgKgogICAgICogQHBhcmFtIHN0cmluZyAgICAgICAkcHJlZml4ICBUaGUgcHJlZml4CiAgICAgKiBAcGFyYW0gYXJyYXl8c3RyaW5nICRwYXRocyAgIFRoZSBQU1ItMCByb290IGRpcmVjdG9yaWVzCiAgICAgKiBAcGFyYW0gYm9vbCAgICAgICAgICRwcmVwZW5kIFdoZXRoZXIgdG8gcHJlcGVuZCB0aGUgZGlyZWN0b3JpZXMKICAgICAqLwogICAgcHVibGljIGZ1bmN0aW9uIGFkZCgkcHJlZml4LCAkcGF0aHMsICRwcmVwZW5kID0gZmFsc2UpCiAgICB7CiAgICAgICAgaWYgKCEkcHJlZml4KSB7CiAgICAgICAgICAgIGlmICgkcHJlcGVuZCkgewogICAgICAgICAgICAgICAgJHRoaXMtPmZhbGxiYWNrRGlyc1BzcjAgPSBhcnJheV9tZXJnZSgKICAgICAgICAgICAgICAgICAgICAoYXJyYXkpICRwYXRocywKICAgICAgICAgICAgICAgICAgICAkdGhpcy0+ZmFsbGJhY2tEaXJzUHNyMAogICAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICR0aGlzLT5mYWxsYmFja0RpcnNQc3IwID0gYXJyYXlfbWVyZ2UoCiAgICAgICAgICAgICAgICAgICAgJHRoaXMtPmZhbGxiYWNrRGlyc1BzcjAsCiAgICAgICAgICAgICAgICAgICAgKGFycmF5KSAkcGF0aHMKICAgICAgICAgICAgICAgICk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CgogICAgICAgICRmaXJzdCA9ICRwcmVmaXhbMF07CiAgICAgICAgaWYgKCFpc3NldCgkdGhpcy0+cHJlZml4ZXNQc3IwWyRmaXJzdF1bJHByZWZpeF0pKSB7CiAgICAgICAgICAgICR0aGlzLT5wcmVmaXhlc1BzcjBbJGZpcnN0XVskcHJlZml4XSA9IChhcnJheSkgJHBhdGhzOwoKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgICAgICBpZiAoJHByZXBlbmQpIHsKICAgICAgICAgICAgJHRoaXMtPnByZWZpeGVzUHNyMFskZmlyc3RdWyRwcmVmaXhdID0gYXJyYXlfbWVyZ2UoCiAgICAgICAgICAgICAgICAoYXJyYXkpICRwYXRocywKICAgICAgICAgICAgICAgICR0aGlzLT5wcmVmaXhlc1BzcjBbJGZpcnN0XVskcHJlZml4XQogICAgICAgICAgICApOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICR0aGlzLT5wcmVmaXhlc1BzcjBbJGZpcnN0XVskcHJlZml4XSA9IGFycmF5X21lcmdlKAogICAgICAgICAgICAgICAgJHRoaXMtPnByZWZpeGVzUHNyMFskZmlyc3RdWyRwcmVmaXhdLAogICAgICAgICAgICAgICAgKGFycmF5KSAkcGF0aHMKICAgICAgICAgICAgKTsKICAgICAgICB9CiAgICB9CgogICAgLyoqCiAgICAgKiBSZWdpc3RlcnMgYSBzZXQgb2YgUFNSLTQgZGlyZWN0b3JpZXMgZm9yIGEgZ2l2ZW4gbmFtZXNwYWNlLCBlaXRoZXIKICAgICAqIGFwcGVuZGluZyBvciBwcmVwZW5kaW5nIHRvIHRoZSBvbmVzIHByZXZpb3VzbHkgc2V0IGZvciB0aGlzIG5hbWVzcGFjZS4KICAgICAqCiAgICAgKiBAcGFyYW0gc3RyaW5nICAgICAgICRwcmVmaXggIFRoZSBwcmVmaXgvbmFtZXNwYWNlLCB3aXRoIHRyYWlsaW5nICdcXCcKICAgICAqIEBwYXJhbSBhcnJheXxzdHJpbmcgJHBhdGhzICAgVGhlIFBTUi00IGJhc2UgZGlyZWN0b3JpZXMKICAgICAqIEBwYXJhbSBib29sICAgICAgICAgJHByZXBlbmQgV2hldGhlciB0byBwcmVwZW5kIHRoZSBkaXJlY3RvcmllcwogICAgICoKICAgICAqIEB0aHJvd3MgXEludmFsaWRBcmd1bWVudEV4Y2VwdGlvbgogICAgICovCiAgICBwdWJsaWMgZnVuY3Rpb24gYWRkUHNyNCgkcHJlZml4LCAkcGF0aHMsICRwcmVwZW5kID0gZmFsc2UpCiAgICB7CiAgICAgICAgaWYgKCEkcHJlZml4KSB7CiAgICAgICAgICAgIC8vIFJlZ2lzdGVyIGRpcmVjdG9yaWVzIGZvciB0aGUgcm9vdCBuYW1lc3BhY2UuCiAgICAgICAgICAgIGlmICgkcHJlcGVuZCkgewogICAgICAgICAgICAgICAgJHRoaXMtPmZhbGxiYWNrRGlyc1BzcjQgPSBhcnJheV9tZXJnZSgKICAgICAgICAgICAgICAgICAgICAoYXJyYXkpICRwYXRocywKICAgICAgICAgICAgICAgICAgICAkdGhpcy0+ZmFsbGJhY2tEaXJzUHNyNAogICAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICR0aGlzLT5mYWxsYmFja0RpcnNQc3I0ID0gYXJyYXlfbWVyZ2UoCiAgICAgICAgICAgICAgICAgICAgJHRoaXMtPmZhbGxiYWNrRGlyc1BzcjQsCiAgICAgICAgICAgICAgICAgICAgKGFycmF5KSAkcGF0aHMKICAgICAgICAgICAgICAgICk7CiAgICAgICAgICAgIH0KICAgICAgICB9IGVsc2VpZiAoIWlzc2V0KCR0aGlzLT5wcmVmaXhEaXJzUHNyNFskcHJlZml4XSkpIHsKICAgICAgICAgICAgLy8gUmVnaXN0ZXIgZGlyZWN0b3JpZXMgZm9yIGEgbmV3IG5hbWVzcGFjZS4KICAgICAgICAgICAgJGxlbmd0aCA9IHN0cmxlbigkcHJlZml4KTsKICAgICAgICAgICAgaWYgKCdcXCcgIT09ICRwcmVmaXhbJGxlbmd0aCAtIDFdKSB7CiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgXEludmFsaWRBcmd1bWVudEV4Y2VwdGlvbigiQSBub24tZW1wdHkgUFNSLTQgcHJlZml4IG11c3QgZW5kIHdpdGggYSBuYW1lc3BhY2Ugc2VwYXJhdG9yLiIpOwogICAgICAgICAgICB9CiAgICAgICAgICAgICR0aGlzLT5wcmVmaXhMZW5ndGhzUHNyNFskcHJlZml4WzBdXVskcHJlZml4XSA9ICRsZW5ndGg7CiAgICAgICAgICAgICR0aGlzLT5wcmVmaXhEaXJzUHNyNFskcHJlZml4XSA9IChhcnJheSkgJHBhdGhzOwogICAgICAgIH0gZWxzZWlmICgkcHJlcGVuZCkgewogICAgICAgICAgICAvLyBQcmVwZW5kIGRpcmVjdG9yaWVzIGZvciBhbiBhbHJlYWR5IHJlZ2lzdGVyZWQgbmFtZXNwYWNlLgogICAgICAgICAgICAkdGhpcy0+cHJlZml4RGlyc1BzcjRbJHByZWZpeF0gPSBhcnJheV9tZXJnZSgKICAgICAgICAgICAgICAgIChhcnJheSkgJHBhdGhzLAogICAgICAgICAgICAgICAgJHRoaXMtPnByZWZpeERpcnNQc3I0WyRwcmVmaXhdCiAgICAgICAgICAgICk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgLy8gQXBwZW5kIGRpcmVjdG9yaWVzIGZvciBhbiBhbHJlYWR5IHJlZ2lzdGVyZWQgbmFtZXNwYWNlLgogICAgICAgICAgICAkdGhpcy0+cHJlZml4RGlyc1BzcjRbJHByZWZpeF0gPSBhcnJheV9tZXJnZSgKICAgICAgICAgICAgICAgICR0aGlzLT5wcmVmaXhEaXJzUHNyNFskcHJlZml4XSwKICAgICAgICAgICAgICAgIChhcnJheSkgJHBhdGhzCiAgICAgICAgICAgICk7CiAgICAgICAgfQogICAgfQoKICAgIC8qKgogICAgICogUmVnaXN0ZXJzIGEgc2V0IG9mIFBTUi0wIGRpcmVjdG9yaWVzIGZvciBhIGdpdmVuIHByZWZpeCwKICAgICAqIHJlcGxhY2luZyBhbnkgb3RoZXJzIHByZXZpb3VzbHkgc2V0IGZvciB0aGlzIHByZWZpeC4KICAgICAqCiAgICAgKiBAcGFyYW0gc3RyaW5nICAgICAgICRwcmVmaXggVGhlIHByZWZpeAogICAgICogQHBhcmFtIGFycmF5fHN0cmluZyAkcGF0aHMgIFRoZSBQU1ItMCBiYXNlIGRpcmVjdG9yaWVzCiAgICAgKi8KICAgIHB1YmxpYyBmdW5jdGlvbiBzZXQoJHByZWZpeCwgJHBhdGhzKQogICAgewogICAgICAgIGlmICghJHByZWZpeCkgewogICAgICAgICAgICAkdGhpcy0+ZmFsbGJhY2tEaXJzUHNyMCA9IChhcnJheSkgJHBhdGhzOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICR0aGlzLT5wcmVmaXhlc1BzcjBbJHByZWZpeFswXV1bJHByZWZpeF0gPSAoYXJyYXkpICRwYXRoczsKICAgICAgICB9CiAgICB9CgogICAgLyoqCiAgICAgKiBSZWdpc3RlcnMgYSBzZXQgb2YgUFNSLTQgZGlyZWN0b3JpZXMgZm9yIGEgZ2l2ZW4gbmFtZXNwYWNlLAogICAgICogcmVwbGFjaW5nIGFueSBvdGhlcnMgcHJldmlvdXNseSBzZXQgZm9yIHRoaXMgbmFtZXNwYWNlLgogICAgICoKICAgICAqIEBwYXJhbSBzdHJpbmcgICAgICAgJHByZWZpeCBUaGUgcHJlZml4L25hbWVzcGFjZSwgd2l0aCB0cmFpbGluZyAnXFwnCiAgICAgKiBAcGFyYW0gYXJyYXl8c3RyaW5nICRwYXRocyAgVGhlIFBTUi00IGJhc2UgZGlyZWN0b3JpZXMKICAgICAqCiAgICAgKiBAdGhyb3dzIFxJbnZhbGlkQXJndW1lbnRFeGNlcHRpb24KICAgICAqLwogICAgcHVibGljIGZ1bmN0aW9uIHNldFBzcjQoJHByZWZpeCwgJHBhdGhzKQogICAgewogICAgICAgIGlmICghJHByZWZpeCkgewogICAgICAgICAgICAkdGhpcy0+ZmFsbGJhY2tEaXJzUHNyNCA9IChhcnJheSkgJHBhdGhzOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICRsZW5ndGggPSBzdHJsZW4oJHByZWZpeCk7CiAgICAgICAgICAgIGlmICgnXFwnICE9PSAkcHJlZml4WyRsZW5ndGggLSAxXSkgewogICAgICAgICAgICAgICAgdGhyb3cgbmV3IFxJbnZhbGlkQXJndW1lbnRFeGNlcHRpb24oIkEgbm9uLWVtcHR5IFBTUi00IHByZWZpeCBtdXN0IGVuZCB3aXRoIGEgbmFtZXNwYWNlIHNlcGFyYXRvci4iKTsKICAgICAgICAgICAgfQogICAgICAgICAgICAkdGhpcy0+cHJlZml4TGVuZ3Roc1BzcjRbJHByZWZpeFswXV1bJHByZWZpeF0gPSAkbGVuZ3RoOwogICAgICAgICAgICAkdGhpcy0+cHJlZml4RGlyc1BzcjRbJHByZWZpeF0gPSAoYXJyYXkpICRwYXRoczsKICAgICAgICB9CiAgICB9CgogICAgLyoqCiAgICAgKiBUdXJucyBvbiBzZWFyY2hpbmcgdGhlIGluY2x1ZGUgcGF0aCBmb3IgY2xhc3MgZmlsZXMuCiAgICAgKgogICAgICogQHBhcmFtIGJvb2wgJHVzZUluY2x1ZGVQYXRoCiAgICAgKi8KICAgIHB1YmxpYyBmdW5jdGlvbiBzZXRVc2VJbmNsdWRlUGF0aCgkdXNlSW5jbHVkZVBhdGgpCiAgICB7CiAgICAgICAgJHRoaXMtPnVzZUluY2x1ZGVQYXRoID0gJHVzZUluY2x1ZGVQYXRoOwogICAgfQoKICAgIC8qKgogICAgICogQ2FuIGJlIHVzZWQgdG8gY2hlY2sgaWYgdGhlIGF1dG9sb2FkZXIgdXNlcyB0aGUgaW5jbHVkZSBwYXRoIHRvIGNoZWNrCiAgICAgKiBmb3IgY2xhc3Nlcy4KICAgICAqCiAgICAgKiBAcmV0dXJuIGJvb2wKICAgICAqLwogICAgcHVibGljIGZ1bmN0aW9uIGdldFVzZUluY2x1ZGVQYXRoKCkKICAgIHsKICAgICAgICByZXR1cm4gJHRoaXMtPnVzZUluY2x1ZGVQYXRoOwogICAgfQoKICAgIC8qKgogICAgICogVHVybnMgb2ZmIHNlYXJjaGluZyB0aGUgcHJlZml4IGFuZCBmYWxsYmFjayBkaXJlY3RvcmllcyBmb3IgY2xhc3NlcwogICAgICogdGhhdCBoYXZlIG5vdCBiZWVuIHJlZ2lzdGVyZWQgd2l0aCB0aGUgY2xhc3MgbWFwLgogICAgICoKICAgICAqIEBwYXJhbSBib29sICRjbGFzc01hcEF1dGhvcml0YXRpdmUKICAgICAqLwogICAgcHVibGljIGZ1bmN0aW9uIHNldENsYXNzTWFwQXV0aG9yaXRhdGl2ZSgkY2xhc3NNYXBBdXRob3JpdGF0aXZlKQogICAgewogICAgICAgICR0aGlzLT5jbGFzc01hcEF1dGhvcml0YXRpdmUgPSAkY2xhc3NNYXBBdXRob3JpdGF0aXZlOwogICAgfQoKICAgIC8qKgogICAgICogU2hvdWxkIGNsYXNzIGxvb2t1cCBmYWlsIGlmIG5vdCBmb3VuZCBpbiB0aGUgY3VycmVudCBjbGFzcyBtYXA/CiAgICAgKgogICAgICogQHJldHVybiBib29sCiAgICAgKi8KICAgIHB1YmxpYyBmdW5jdGlvbiBpc0NsYXNzTWFwQXV0aG9yaXRhdGl2ZSgpCiAgICB7CiAgICAgICAgcmV0dXJuICR0aGlzLT5jbGFzc01hcEF1dGhvcml0YXRpdmU7CiAgICB9CgogICAgLyoqCiAgICAgKiBBUEN1IHByZWZpeCB0byB1c2UgdG8gY2FjaGUgZm91bmQvbm90LWZvdW5kIGNsYXNzZXMsIGlmIHRoZSBleHRlbnNpb24gaXMgZW5hYmxlZC4KICAgICAqCiAgICAgKiBAcGFyYW0gc3RyaW5nfG51bGwgJGFwY3VQcmVmaXgKICAgICAqLwogICAgcHVibGljIGZ1bmN0aW9uIHNldEFwY3VQcmVmaXgoJGFwY3VQcmVmaXgpCiAgICB7CiAgICAgICAgJHRoaXMtPmFwY3VQcmVmaXggPSBmdW5jdGlvbl9leGlzdHMoJ2FwY3VfZmV0Y2gnKSAmJiBmaWx0ZXJfdmFyKGluaV9nZXQoJ2FwYy5lbmFibGVkJyksIEZJTFRFUl9WQUxJREFURV9CT09MRUFOKSA/ICRhcGN1UHJlZml4IDogbnVsbDsKICAgIH0KCiAgICAvKioKICAgICAqIFRoZSBBUEN1IHByZWZpeCBpbiB1c2UsIG9yIG51bGwgaWYgQVBDdSBjYWNoaW5nIGlzIG5vdCBlbmFibGVkLgogICAgICoKICAgICAqIEByZXR1cm4gc3RyaW5nfG51bGwKICAgICAqLwogICAgcHVibGljIGZ1bmN0aW9uIGdldEFwY3VQcmVmaXgoKQogICAgewogICAgICAgIHJldHVybiAkdGhpcy0+YXBjdVByZWZpeDsKICAgIH0KCiAgICAvKioKICAgICAqIFJlZ2lzdGVycyB0aGlzIGluc3RhbmNlIGFzIGFuIGF1dG9sb2FkZXIuCiAgICAgKgogICAgICogQHBhcmFtIGJvb2wgJHByZXBlbmQgV2hldGhlciB0byBwcmVwZW5kIHRoZSBhdXRvbG9hZGVyIG9yIG5vdAogICAgICovCiAgICBwdWJsaWMgZnVuY3Rpb24gcmVnaXN0ZXIoJHByZXBlbmQgPSBmYWxzZSkKICAgIHsKICAgICAgICBzcGxfYXV0b2xvYWRfcmVnaXN0ZXIoYXJyYXkoJHRoaXMsICdsb2FkQ2xhc3MnKSwgdHJ1ZSwgJHByZXBlbmQpOwoKICAgICAgICBpZiAobnVsbCA9PT0gJHRoaXMtPnZlbmRvckRpcikgewogICAgICAgICAgICByZXR1cm47CiAgICAgICAgfQoKICAgICAgICBpZiAoJHByZXBlbmQpIHsKICAgICAgICAgICAgc2VsZjo6JHJlZ2lzdGVyZWRMb2FkZXJzID0gYXJyYXkoJHRoaXMtPnZlbmRvckRpciA9PiAkdGhpcykgKyBzZWxmOjokcmVnaXN0ZXJlZExvYWRlcnM7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdW5zZXQoc2VsZjo6JHJlZ2lzdGVyZWRMb2FkZXJzWyR0aGlzLT52ZW5kb3JEaXJdKTsKICAgICAgICAgICAgc2VsZjo6JHJlZ2lzdGVyZWRMb2FkZXJzWyR0aGlzLT52ZW5kb3JEaXJdID0gJHRoaXM7CiAgICAgICAgfQogICAgfQoKICAgIC8qKgogICAgICogVW5yZWdpc3RlcnMgdGhpcyBpbnN0YW5jZSBhcyBhbiBhdXRvbG9hZGVyLgogICAgICovCiAgICBwdWJsaWMgZnVuY3Rpb24gdW5yZWdpc3RlcigpCiAgICB7CiAgICAgICAgc3BsX2F1dG9sb2FkX3VucmVnaXN0ZXIoYXJyYXkoJHRoaXMsICdsb2FkQ2xhc3MnKSk7CgogICAgICAgIGlmIChudWxsICE9PSAkdGhpcy0+dmVuZG9yRGlyKSB7CiAgICAgICAgICAgIHVuc2V0KHNlbGY6OiRyZWdpc3RlcmVkTG9hZGVyc1skdGhpcy0+dmVuZG9yRGlyXSk7CiAgICAgICAgfQogICAgfQoKICAgIC8qKgogICAgICogTG9hZHMgdGhlIGdpdmVuIGNsYXNzIG9yIGludGVyZmFjZS4KICAgICAqCiAgICAgKiBAcGFyYW0gIHN0cmluZyAgICAkY2xhc3MgVGhlIG5hbWUgb2YgdGhlIGNsYXNzCiAgICAgKiBAcmV0dXJuIHRydWV8bnVsbCBUcnVlIGlmIGxvYWRlZCwgbnVsbCBvdGhlcndpc2UKICAgICAqLwogICAgcHVibGljIGZ1bmN0aW9uIGxvYWRDbGFzcygkY2xhc3MpCiAgICB7CiAgICAgICAgaWYgKCRmaWxlID0gJHRoaXMtPmZpbmRGaWxlKCRjbGFzcykpIHsKICAgICAgICAgICAgaW5jbHVkZUZpbGUoJGZpbGUpOwoKICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gbnVsbDsKICAgIH0KCiAgICAvKioKICAgICAqIEZpbmRzIHRoZSBwYXRoIHRvIHRoZSBmaWxlIHdoZXJlIHRoZSBjbGFzcyBpcyBkZWZpbmVkLgogICAgICoKICAgICAqIEBwYXJhbSBzdHJpbmcgJGNsYXNzIFRoZSBuYW1lIG9mIHRoZSBjbGFzcwogICAgICoKICAgICAqIEByZXR1cm4gc3RyaW5nfGZhbHNlIFRoZSBwYXRoIGlmIGZvdW5kLCBmYWxzZSBvdGhlcndpc2UKICAgICAqLwogICAgcHVibGljIGZ1bmN0aW9uIGZpbmRGaWxlKCRjbGFzcykKICAgIHsKICAgICAgICAvLyBjbGFzcyBtYXAgbG9va3VwCiAgICAgICAgaWYgKGlzc2V0KCR0aGlzLT5jbGFzc01hcFskY2xhc3NdKSkgewogICAgICAgICAgICByZXR1cm4gJHRoaXMtPmNsYXNzTWFwWyRjbGFzc107CiAgICAgICAgfQogICAgICAgIGlmICgkdGhpcy0+Y2xhc3NNYXBBdXRob3JpdGF0aXZlIHx8IGlzc2V0KCR0aGlzLT5taXNzaW5nQ2xhc3Nlc1skY2xhc3NdKSkgewogICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQogICAgICAgIGlmIChudWxsICE9PSAkdGhpcy0+YXBjdVByZWZpeCkgewogICAgICAgICAgICAkZmlsZSA9IGFwY3VfZmV0Y2goJHRoaXMtPmFwY3VQcmVmaXguJGNsYXNzLCAkaGl0KTsKICAgICAgICAgICAgaWYgKCRoaXQpIHsKICAgICAgICAgICAgICAgIHJldHVybiAkZmlsZTsKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgJGZpbGUgPSAkdGhpcy0+ZmluZEZpbGVXaXRoRXh0ZW5zaW9uKCRjbGFzcywgJy5waHAnKTsKCiAgICAgICAgLy8gU2VhcmNoIGZvciBIYWNrIGZpbGVzIGlmIHdlIGFyZSBydW5uaW5nIG9uIEhIVk0KICAgICAgICBpZiAoZmFsc2UgPT09ICRmaWxlICYmIGRlZmluZWQoJ0hIVk1fVkVSU0lPTicpKSB7CiAgICAgICAgICAgICRmaWxlID0gJHRoaXMtPmZpbmRGaWxlV2l0aEV4dGVuc2lvbigkY2xhc3MsICcuaGgnKTsKICAgICAgICB9CgogICAgICAgIGlmIChudWxsICE9PSAkdGhpcy0+YXBjdVByZWZpeCkgewogICAgICAgICAgICBhcGN1X2FkZCgkdGhpcy0+YXBjdVByZWZpeC4kY2xhc3MsICRmaWxlKTsKICAgICAgICB9CgogICAgICAgIGlmIChmYWxzZSA9PT0gJGZpbGUpIHsKICAgICAgICAgICAgLy8gUmVtZW1iZXIgdGhhdCB0aGlzIGNsYXNzIGRvZXMgbm90IGV4aXN0LgogICAgICAgICAgICAkdGhpcy0+bWlzc2luZ0NsYXNzZXNbJGNsYXNzXSA9IHRydWU7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gJGZpbGU7CiAgICB9CgogICAgLyoqCiAgICAgKiBSZXR1cm5zIHRoZSBjdXJyZW50bHkgcmVnaXN0ZXJlZCBsb2FkZXJzIGluZGV4ZWQgYnkgdGhlaXIgY29ycmVzcG9uZGluZyB2ZW5kb3IgZGlyZWN0b3JpZXMuCiAgICAgKgogICAgICogQHJldHVybiBzZWxmW10KICAgICAqLwogICAgcHVibGljIHN0YXRpYyBmdW5jdGlvbiBnZXRSZWdpc3RlcmVkTG9hZGVycygpCiAgICB7CiAgICAgICAgcmV0dXJuIHNlbGY6OiRyZWdpc3RlcmVkTG9hZGVyczsKICAgIH0KCiAgICBwcml2YXRlIGZ1bmN0aW9uIGZpbmRGaWxlV2l0aEV4dGVuc2lvbigkY2xhc3MsICRleHQpCiAgICB7CiAgICAgICAgLy8gUFNSLTQgbG9va3VwCiAgICAgICAgJGxvZ2ljYWxQYXRoUHNyNCA9IHN0cnRyKCRjbGFzcywgJ1xcJywgRElSRUNUT1JZX1NFUEFSQVRPUikgLiAkZXh0OwoKICAgICAgICAkZmlyc3QgPSAkY2xhc3NbMF07CiAgICAgICAgaWYgKGlzc2V0KCR0aGlzLT5wcmVmaXhMZW5ndGhzUHNyNFskZmlyc3RdKSkgewogICAgICAgICAgICAkc3ViUGF0aCA9ICRjbGFzczsKICAgICAgICAgICAgd2hpbGUgKGZhbHNlICE9PSAkbGFzdFBvcyA9IHN0cnJwb3MoJHN1YlBhdGgsICdcXCcpKSB7CiAgICAgICAgICAgICAgICAkc3ViUGF0aCA9IHN1YnN0cigkc3ViUGF0aCwgMCwgJGxhc3RQb3MpOwogICAgICAgICAgICAgICAgJHNlYXJjaCA9ICRzdWJQYXRoIC4gJ1xcJzsKICAgICAgICAgICAgICAgIGlmIChpc3NldCgkdGhpcy0+cHJlZml4RGlyc1BzcjRbJHNlYXJjaF0pKSB7CiAgICAgICAgICAgICAgICAgICAgJHBhdGhFbmQgPSBESVJFQ1RPUllfU0VQQVJBVE9SIC4gc3Vic3RyKCRsb2dpY2FsUGF0aFBzcjQsICRsYXN0UG9zICsgMSk7CiAgICAgICAgICAgICAgICAgICAgZm9yZWFjaCAoJHRoaXMtPnByZWZpeERpcnNQc3I0WyRzZWFyY2hdIGFzICRkaXIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZpbGVfZXhpc3RzKCRmaWxlID0gJGRpciAuICRwYXRoRW5kKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRmaWxlOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICAvLyBQU1ItNCBmYWxsYmFjayBkaXJzCiAgICAgICAgZm9yZWFjaCAoJHRoaXMtPmZhbGxiYWNrRGlyc1BzcjQgYXMgJGRpcikgewogICAgICAgICAgICBpZiAoZmlsZV9leGlzdHMoJGZpbGUgPSAkZGlyIC4gRElSRUNUT1JZX1NFUEFSQVRPUiAuICRsb2dpY2FsUGF0aFBzcjQpKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gJGZpbGU7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIC8vIFBTUi0wIGxvb2t1cAogICAgICAgIGlmIChmYWxzZSAhPT0gJHBvcyA9IHN0cnJwb3MoJGNsYXNzLCAnXFwnKSkgewogICAgICAgICAgICAvLyBuYW1lc3BhY2VkIGNsYXNzIG5hbWUKICAgICAgICAgICAgJGxvZ2ljYWxQYXRoUHNyMCA9IHN1YnN0cigkbG9naWNhbFBhdGhQc3I0LCAwLCAkcG9zICsgMSkKICAgICAgICAgICAgICAgIC4gc3RydHIoc3Vic3RyKCRsb2dpY2FsUGF0aFBzcjQsICRwb3MgKyAxKSwgJ18nLCBESVJFQ1RPUllfU0VQQVJBVE9SKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAvLyBQRUFSLWxpa2UgY2xhc3MgbmFtZQogICAgICAgICAgICAkbG9naWNhbFBhdGhQc3IwID0gc3RydHIoJGNsYXNzLCAnXycsIERJUkVDVE9SWV9TRVBBUkFUT1IpIC4gJGV4dDsKICAgICAgICB9CgogICAgICAgIGlmIChpc3NldCgkdGhpcy0+cHJlZml4ZXNQc3IwWyRmaXJzdF0pKSB7CiAgICAgICAgICAgIGZvcmVhY2ggKCR0aGlzLT5wcmVmaXhlc1BzcjBbJGZpcnN0XSBhcyAkcHJlZml4ID0+ICRkaXJzKSB7CiAgICAgICAgICAgICAgICBpZiAoMCA9PT0gc3RycG9zKCRjbGFzcywgJHByZWZpeCkpIHsKICAgICAgICAgICAgICAgICAgICBmb3JlYWNoICgkZGlycyBhcyAkZGlyKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmaWxlX2V4aXN0cygkZmlsZSA9ICRkaXIgLiBESVJFQ1RPUllfU0VQQVJBVE9SIC4gJGxvZ2ljYWxQYXRoUHNyMCkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAkZmlsZTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgLy8gUFNSLTAgZmFsbGJhY2sgZGlycwogICAgICAgIGZvcmVhY2ggKCR0aGlzLT5mYWxsYmFja0RpcnNQc3IwIGFzICRkaXIpIHsKICAgICAgICAgICAgaWYgKGZpbGVfZXhpc3RzKCRmaWxlID0gJGRpciAuIERJUkVDVE9SWV9TRVBBUkFUT1IgLiAkbG9naWNhbFBhdGhQc3IwKSkgewogICAgICAgICAgICAgICAgcmV0dXJuICRmaWxlOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICAvLyBQU1ItMCBpbmNsdWRlIHBhdGhzLgogICAgICAgIGlmICgkdGhpcy0+dXNlSW5jbHVkZVBhdGggJiYgJGZpbGUgPSBzdHJlYW1fcmVzb2x2ZV9pbmNsdWRlX3BhdGgoJGxvZ2ljYWxQYXRoUHNyMCkpIHsKICAgICAgICAgICAgcmV0dXJuICRmaWxlOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQp9CgovKioKICogU2NvcGUgaXNvbGF0ZWQgaW5jbHVkZS4KICoKICogUHJldmVudHMgYWNjZXNzIHRvICR0aGlzL3NlbGYgZnJvbSBpbmNsdWRlZCBmaWxlcy4KICovCmZ1bmN0aW9uIGluY2x1ZGVGaWxlKCRmaWxlKQp7CiAgICBpbmNsdWRlICRmaWxlOwp9Cjw/cGhwCgovKgogKiBUaGlzIGZpbGUgaXMgcGFydCBvZiBDb21wb3Nlci4KICoKICogKGMpIE5pbHMgQWRlcm1hbm4gPG5hZGVybWFuQG5hZGVybWFuLmRlPgogKiAgICAgSm9yZGkgQm9nZ2lhbm8gPGouYm9nZ2lhbm9Ac2VsZC5iZT4KICoKICogRm9yIHRoZSBmdWxsIGNvcHlyaWdodCBhbmQgbGljZW5zZSBpbmZvcm1hdGlvbiwgcGxlYXNlIHZpZXcgdGhlIExJQ0VOU0UKICogZmlsZSB0aGF0IHdhcyBkaXN0cmlidXRlZCB3aXRoIHRoaXMgc291cmNlIGNvZGUuCiAqLwoKbmFtZXNwYWNlIENvbXBvc2VyOwoKdXNlIENvbXBvc2VyXEF1dG9sb2FkXENsYXNzTG9hZGVyOwp1c2UgQ29tcG9zZXJcU2VtdmVyXFZlcnNpb25QYXJzZXI7CgovKioKICogVGhpcyBjbGFzcyBpcyBjb3BpZWQgaW4gZXZlcnkgQ29tcG9zZXIgaW5zdGFsbGVkIHByb2plY3QgYW5kIGF2YWlsYWJsZSB0byBhbGwKICoKICogU2VlIGFsc28gaHR0cHM6Ly9nZXRjb21wb3Nlci5vcmcvZG9jLzA3LXJ1bnRpbWUubWQjaW5zdGFsbGVkLXZlcnNpb25zCiAqCiAqIFRvIHJlcXVpcmUgaXQncyBwcmVzZW5jZSwgeW91IGNhbiByZXF1aXJlIGBjb21wb3Nlci1ydW50aW1lLWFwaSBeMi4wYAogKi8KY2xhc3MgSW5zdGFsbGVkVmVyc2lvbnMKewogICAgcHJpdmF0ZSBzdGF0aWMgJGluc3RhbGxlZDsKICAgIHByaXZhdGUgc3RhdGljICRjYW5HZXRWZW5kb3JzOwogICAgcHJpdmF0ZSBzdGF0aWMgJGluc3RhbGxlZEJ5VmVuZG9yID0gYXJyYXkoKTsKCiAgICAvKioKICAgICAqIFJldHVybnMgYSBsaXN0IG9mIGFsbCBwYWNrYWdlIG5hbWVzIHdoaWNoIGFyZSBwcmVzZW50LCBlaXRoZXIgYnkgYmVpbmcgaW5zdGFsbGVkLCByZXBsYWNlZCBvciBwcm92aWRlZAogICAgICoKICAgICAqIEByZXR1cm4gc3RyaW5nW10KICAgICAqIEBwc2FsbS1yZXR1cm4gbGlzdDxzdHJpbmc+CiAgICAgKi8KICAgIHB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gZ2V0SW5zdGFsbGVkUGFja2FnZXMoKQogICAgewogICAgICAgICRwYWNrYWdlcyA9IGFycmF5KCk7CiAgICAgICAgZm9yZWFjaCAoc2VsZjo6Z2V0SW5zdGFsbGVkKCkgYXMgJGluc3RhbGxlZCkgewogICAgICAgICAgICAkcGFja2FnZXNbXSA9IGFycmF5X2tleXMoJGluc3RhbGxlZFsndmVyc2lvbnMnXSk7CiAgICAgICAgfQoKICAgICAgICBpZiAoMSA9PT0gXGNvdW50KCRwYWNrYWdlcykpIHsKICAgICAgICAgICAgcmV0dXJuICRwYWNrYWdlc1swXTsKICAgICAgICB9CgogICAgICAgIHJldHVybiBhcnJheV9rZXlzKGFycmF5X2ZsaXAoXGNhbGxfdXNlcl9mdW5jX2FycmF5KCdhcnJheV9tZXJnZScsICRwYWNrYWdlcykpKTsKICAgIH0KCiAgICAvKioKICAgICAqIFJldHVybnMgYSBsaXN0IG9mIGFsbCBwYWNrYWdlIG5hbWVzIHdpdGggYSBzcGVjaWZpYyB0eXBlIGUuZy4gJ2xpYnJhcnknCiAgICAgKgogICAgICogQHBhcmFtICBzdHJpbmcgICAkdHlwZQogICAgICogQHJldHVybiBzdHJpbmdbXQogICAgICogQHBzYWxtLXJldHVybiBsaXN0PHN0cmluZz4KICAgICAqLwogICAgcHVibGljIHN0YXRpYyBmdW5jdGlvbiBnZXRJbnN0YWxsZWRQYWNrYWdlc0J5VHlwZSgkdHlwZSkKICAgIHsKICAgICAgICAkcGFja2FnZXNCeVR5cGUgPSBhcnJheSgpOwoKICAgICAgICBmb3JlYWNoIChzZWxmOjpnZXRJbnN0YWxsZWQoKSBhcyAkaW5zdGFsbGVkKSB7CiAgICAgICAgICAgIGZvcmVhY2ggKCRpbnN0YWxsZWRbJ3ZlcnNpb25zJ10gYXMgJG5hbWUgPT4gJHBhY2thZ2UpIHsKICAgICAgICAgICAgICAgIGlmIChpc3NldCgkcGFja2FnZVsndHlwZSddKSAmJiAkcGFja2FnZVsndHlwZSddID09PSAkdHlwZSkgewogICAgICAgICAgICAgICAgICAgICRwYWNrYWdlc0J5VHlwZVtdID0gJG5hbWU7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIHJldHVybiAkcGFja2FnZXNCeVR5cGU7CiAgICB9CgogICAgLyoqCiAgICAgKiBDaGVja3Mgd2hldGhlciB0aGUgZ2l2ZW4gcGFja2FnZSBpcyBpbnN0YWxsZWQKICAgICAqCiAgICAgKiBUaGlzIGFsc28gcmV0dXJucyB0cnVlIGlmIHRoZSBwYWNrYWdlIG5hbWUgaXMgcHJvdmlkZWQgb3IgcmVwbGFjZWQgYnkgYW5vdGhlciBwYWNrYWdlCiAgICAgKgogICAgICogQHBhcmFtICBzdHJpbmcgJHBhY2thZ2VOYW1lCiAgICAgKiBAcGFyYW0gIGJvb2wgICAkaW5jbHVkZURldlJlcXVpcmVtZW50cwogICAgICogQHJldHVybiBib29sCiAgICAgKi8KICAgIHB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gaXNJbnN0YWxsZWQoJHBhY2thZ2VOYW1lLCAkaW5jbHVkZURldlJlcXVpcmVtZW50cyA9IHRydWUpCiAgICB7CiAgICAgICAgZm9yZWFjaCAoc2VsZjo6Z2V0SW5zdGFsbGVkKCkgYXMgJGluc3RhbGxlZCkgewogICAgICAgICAgICBpZiAoaXNzZXQoJGluc3RhbGxlZFsndmVyc2lvbnMnXVskcGFja2FnZU5hbWVdKSkgewogICAgICAgICAgICAgICAgcmV0dXJuICRpbmNsdWRlRGV2UmVxdWlyZW1lbnRzIHx8IGVtcHR5KCRpbnN0YWxsZWRbJ3ZlcnNpb25zJ11bJHBhY2thZ2VOYW1lXVsnZGV2X3JlcXVpcmVtZW50J10pOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICB9CgogICAgLyoqCiAgICAgKiBDaGVja3Mgd2hldGhlciB0aGUgZ2l2ZW4gcGFja2FnZSBzYXRpc2ZpZXMgYSB2ZXJzaW9uIGNvbnN0cmFpbnQKICAgICAqCiAgICAgKiBlLmcuIElmIHlvdSB3YW50IHRvIGtub3cgd2hldGhlciB2ZXJzaW9uIDIuMysgb2YgcGFja2FnZSBmb28vYmFyIGlzIGluc3RhbGxlZCwgeW91IHdvdWxkIGNhbGw6CiAgICAgKgogICAgICogICBDb21wb3NlclxJbnN0YWxsZWRWZXJzaW9uczo6c2F0aXNmaWVzKG5ldyBWZXJzaW9uUGFyc2VyLCAnZm9vL2JhcicsICdeMi4zJykKICAgICAqCiAgICAgKiBAcGFyYW0gIFZlcnNpb25QYXJzZXIgJHBhcnNlciAgICAgIEluc3RhbGwgY29tcG9zZXIvc2VtdmVyIHRvIGhhdmUgYWNjZXNzIHRvIHRoaXMgY2xhc3MgYW5kIGZ1bmN0aW9uYWxpdHkKICAgICAqIEBwYXJhbSAgc3RyaW5nICAgICAgICAkcGFja2FnZU5hbWUKICAgICAqIEBwYXJhbSAgc3RyaW5nfG51bGwgICAkY29uc3RyYWludCAgQSB2ZXJzaW9uIGNvbnN0cmFpbnQgdG8gY2hlY2sgZm9yLCBpZiB5b3UgcGFzcyBvbmUgeW91IGhhdmUgdG8gbWFrZSBzdXJlIGNvbXBvc2VyL3NlbXZlciBpcyByZXF1aXJlZCBieSB5b3VyIHBhY2thZ2UKICAgICAqIEByZXR1cm4gYm9vbAogICAgICovCiAgICBwdWJsaWMgc3RhdGljIGZ1bmN0aW9uIHNhdGlzZmllcyhWZXJzaW9uUGFyc2VyICRwYXJzZXIsICRwYWNrYWdlTmFtZSwgJGNvbnN0cmFpbnQpCiAgICB7CiAgICAgICAgJGNvbnN0cmFpbnQgPSAkcGFyc2VyLT5wYXJzZUNvbnN0cmFpbnRzKCRjb25zdHJhaW50KTsKICAgICAgICAkcHJvdmlkZWQgPSAkcGFyc2VyLT5wYXJzZUNvbnN0cmFpbnRzKHNlbGY6OmdldFZlcnNpb25SYW5nZXMoJHBhY2thZ2VOYW1lKSk7CgogICAgICAgIHJldHVybiAkcHJvdmlkZWQtPm1hdGNoZXMoJGNvbnN0cmFpbnQpOwogICAgfQoKICAgIC8qKgogICAgICogUmV0dXJucyBhIHZlcnNpb24gY29uc3RyYWludCByZXByZXNlbnRpbmcgYWxsIHRoZSByYW5nZShzKSB3aGljaCBhcmUgaW5zdGFsbGVkIGZvciBhIGdpdmVuIHBhY2thZ2UKICAgICAqCiAgICAgKiBJdCBpcyBlYXNpZXIgdG8gdXNlIHRoaXMgdmlhIGlzSW5zdGFsbGVkKCkgd2l0aCB0aGUgJGNvbnN0cmFpbnQgYXJndW1lbnQgaWYgeW91IG5lZWQgdG8gY2hlY2sKICAgICAqIHdoZXRoZXIgYSBnaXZlbiB2ZXJzaW9uIG9mIGEgcGFja2FnZSBpcyBpbnN0YWxsZWQsIGFuZCBub3QganVzdCB3aGV0aGVyIGl0IGV4aXN0cwogICAgICoKICAgICAqIEBwYXJhbSAgc3RyaW5nICRwYWNrYWdlTmFtZQogICAgICogQHJldHVybiBzdHJpbmcgVmVyc2lvbiBjb25zdHJhaW50IHVzYWJsZSB3aXRoIGNvbXBvc2VyL3NlbXZlcgogICAgICovCiAgICBwdWJsaWMgc3RhdGljIGZ1bmN0aW9uIGdldFZlcnNpb25SYW5nZXMoJHBhY2thZ2VOYW1lKQogICAgewogICAgICAgIGZvcmVhY2ggKHNlbGY6OmdldEluc3RhbGxlZCgpIGFzICRpbnN0YWxsZWQpIHsKICAgICAgICAgICAgaWYgKCFpc3NldCgkaW5zdGFsbGVkWyd2ZXJzaW9ucyddWyRwYWNrYWdlTmFtZV0pKSB7CiAgICAgICAgICAgICAgICBjb250aW51ZTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgJHJhbmdlcyA9IGFycmF5KCk7CiAgICAgICAgICAgIGlmIChpc3NldCgkaW5zdGFsbGVkWyd2ZXJzaW9ucyddWyRwYWNrYWdlTmFtZV1bJ3ByZXR0eV92ZXJzaW9uJ10pKSB7CiAgICAgICAgICAgICAgICAkcmFuZ2VzW10gPSAkaW5zdGFsbGVkWyd2ZXJzaW9ucyddWyRwYWNrYWdlTmFtZV1bJ3ByZXR0eV92ZXJzaW9uJ107CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKGFycmF5X2tleV9leGlzdHMoJ2FsaWFzZXMnLCAkaW5zdGFsbGVkWyd2ZXJzaW9ucyddWyRwYWNrYWdlTmFtZV0pKSB7CiAgICAgICAgICAgICAgICAkcmFuZ2VzID0gYXJyYXlfbWVyZ2UoJHJhbmdlcywgJGluc3RhbGxlZFsndmVyc2lvbnMnXVskcGFja2FnZU5hbWVdWydhbGlhc2VzJ10pOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmIChhcnJheV9rZXlfZXhpc3RzKCdyZXBsYWNlZCcsICRpbnN0YWxsZWRbJ3ZlcnNpb25zJ11bJHBhY2thZ2VOYW1lXSkpIHsKICAgICAgICAgICAgICAgICRyYW5nZXMgPSBhcnJheV9tZXJnZSgkcmFuZ2VzLCAkaW5zdGFsbGVkWyd2ZXJzaW9ucyddWyRwYWNrYWdlTmFtZV1bJ3JlcGxhY2VkJ10pOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmIChhcnJheV9rZXlfZXhpc3RzKCdwcm92aWRlZCcsICRpbnN0YWxsZWRbJ3ZlcnNpb25zJ11bJHBhY2thZ2VOYW1lXSkpIHsKICAgICAgICAgICAgICAgICRyYW5nZXMgPSBhcnJheV9tZXJnZSgkcmFuZ2VzLCAkaW5zdGFsbGVkWyd2ZXJzaW9ucyddWyRwYWNrYWdlTmFtZV1bJ3Byb3ZpZGVkJ10pOwogICAgICAgICAgICB9CgogICAgICAgICAgICByZXR1cm4gaW1wbG9kZSgnIHx8ICcsICRyYW5nZXMpOwogICAgICAgIH0KCiAgICAgICAgdGhyb3cgbmV3IFxPdXRPZkJvdW5kc0V4Y2VwdGlvbignUGFja2FnZSAiJyAuICRwYWNrYWdlTmFtZSAuICciIGlzIG5vdCBpbnN0YWxsZWQnKTsKICAgIH0KCiAgICAvKioKICAgICAqIEBwYXJhbSAgc3RyaW5nICAgICAgJHBhY2thZ2VOYW1lCiAgICAgKiBAcmV0dXJuIHN0cmluZ3xudWxsIElmIHRoZSBwYWNrYWdlIGlzIGJlaW5nIHJlcGxhY2VkIG9yIHByb3ZpZGVkIGJ1dCBpcyBub3QgcmVhbGx5IGluc3RhbGxlZCwgbnVsbCB3aWxsIGJlIHJldHVybmVkIGFzIHZlcnNpb24sIHVzZSBzYXRpc2ZpZXMgb3IgZ2V0VmVyc2lvblJhbmdlcyBpZiB5b3UgbmVlZCB0byBrbm93IGlmIGEgZ2l2ZW4gdmVyc2lvbiBpcyBwcmVzZW50CiAgICAgKi8KICAgIHB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gZ2V0VmVyc2lvbigkcGFja2FnZU5hbWUpCiAgICB7CiAgICAgICAgZm9yZWFjaCAoc2VsZjo6Z2V0SW5zdGFsbGVkKCkgYXMgJGluc3RhbGxlZCkgewogICAgICAgICAgICBpZiAoIWlzc2V0KCRpbnN0YWxsZWRbJ3ZlcnNpb25zJ11bJHBhY2thZ2VOYW1lXSkpIHsKICAgICAgICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgICAgICB9CgogICAgICAgICAgICBpZiAoIWlzc2V0KCRpbnN0YWxsZWRbJ3ZlcnNpb25zJ11bJHBhY2thZ2VOYW1lXVsndmVyc2lvbiddKSkgewogICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHJldHVybiAkaW5zdGFsbGVkWyd2ZXJzaW9ucyddWyRwYWNrYWdlTmFtZV1bJ3ZlcnNpb24nXTsKICAgICAgICB9CgogICAgICAgIHRocm93IG5ldyBcT3V0T2ZCb3VuZHNFeGNlcHRpb24oJ1BhY2thZ2UgIicgLiAkcGFja2FnZU5hbWUgLiAnIiBpcyBub3QgaW5zdGFsbGVkJyk7CiAgICB9CgogICAgLyoqCiAgICAgKiBAcGFyYW0gIHN0cmluZyAgICAgICRwYWNrYWdlTmFtZQogICAgICogQHJldHVybiBzdHJpbmd8bnVsbCBJZiB0aGUgcGFja2FnZSBpcyBiZWluZyByZXBsYWNlZCBvciBwcm92aWRlZCBidXQgaXMgbm90IHJlYWxseSBpbnN0YWxsZWQsIG51bGwgd2lsbCBiZSByZXR1cm5lZCBhcyB2ZXJzaW9uLCB1c2Ugc2F0aXNmaWVzIG9yIGdldFZlcnNpb25SYW5nZXMgaWYgeW91IG5lZWQgdG8ga25vdyBpZiBhIGdpdmVuIHZlcnNpb24gaXMgcHJlc2VudAogICAgICovCiAgICBwdWJsaWMgc3RhdGljIGZ1bmN0aW9uIGdldFByZXR0eVZlcnNpb24oJHBhY2thZ2VOYW1lKQogICAgewogICAgICAgIGZvcmVhY2ggKHNlbGY6OmdldEluc3RhbGxlZCgpIGFzICRpbnN0YWxsZWQpIHsKICAgICAgICAgICAgaWYgKCFpc3NldCgkaW5zdGFsbGVkWyd2ZXJzaW9ucyddWyRwYWNrYWdlTmFtZV0pKSB7CiAgICAgICAgICAgICAgICBjb250aW51ZTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgaWYgKCFpc3NldCgkaW5zdGFsbGVkWyd2ZXJzaW9ucyddWyRwYWNrYWdlTmFtZV1bJ3ByZXR0eV92ZXJzaW9uJ10pKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgcmV0dXJuICRpbnN0YWxsZWRbJ3ZlcnNpb25zJ11bJHBhY2thZ2VOYW1lXVsncHJldHR5X3ZlcnNpb24nXTsKICAgICAgICB9CgogICAgICAgIHRocm93IG5ldyBcT3V0T2ZCb3VuZHNFeGNlcHRpb24oJ1BhY2thZ2UgIicgLiAkcGFja2FnZU5hbWUgLiAnIiBpcyBub3QgaW5zdGFsbGVkJyk7CiAgICB9CgogICAgLyoqCiAgICAgKiBAcGFyYW0gIHN0cmluZyAgICAgICRwYWNrYWdlTmFtZQogICAgICogQHJldHVybiBzdHJpbmd8bnVsbCBJZiB0aGUgcGFja2FnZSBpcyBiZWluZyByZXBsYWNlZCBvciBwcm92aWRlZCBidXQgaXMgbm90IHJlYWxseSBpbnN0YWxsZWQsIG51bGwgd2lsbCBiZSByZXR1cm5lZCBhcyByZWZlcmVuY2UKICAgICAqLwogICAgcHVibGljIHN0YXRpYyBmdW5jdGlvbiBnZXRSZWZlcmVuY2UoJHBhY2thZ2VOYW1lKQogICAgewogICAgICAgIGZvcmVhY2ggKHNlbGY6OmdldEluc3RhbGxlZCgpIGFzICRpbnN0YWxsZWQpIHsKICAgICAgICAgICAgaWYgKCFpc3NldCgkaW5zdGFsbGVkWyd2ZXJzaW9ucyddWyRwYWNrYWdlTmFtZV0pKSB7CiAgICAgICAgICAgICAgICBjb250aW51ZTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgaWYgKCFpc3NldCgkaW5zdGFsbGVkWyd2ZXJzaW9ucyddWyRwYWNrYWdlTmFtZV1bJ3JlZmVyZW5jZSddKSkgewogICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHJldHVybiAkaW5zdGFsbGVkWyd2ZXJzaW9ucyddWyRwYWNrYWdlTmFtZV1bJ3JlZmVyZW5jZSddOwogICAgICAgIH0KCiAgICAgICAgdGhyb3cgbmV3IFxPdXRPZkJvdW5kc0V4Y2VwdGlvbignUGFja2FnZSAiJyAuICRwYWNrYWdlTmFtZSAuICciIGlzIG5vdCBpbnN0YWxsZWQnKTsKICAgIH0KCiAgICAvKioKICAgICAqIEBwYXJhbSAgc3RyaW5nICAgICAgJHBhY2thZ2VOYW1lCiAgICAgKiBAcmV0dXJuIHN0cmluZ3xudWxsIElmIHRoZSBwYWNrYWdlIGlzIGJlaW5nIHJlcGxhY2VkIG9yIHByb3ZpZGVkIGJ1dCBpcyBub3QgcmVhbGx5IGluc3RhbGxlZCwgbnVsbCB3aWxsIGJlIHJldHVybmVkIGFzIGluc3RhbGwgcGF0aC4gUGFja2FnZXMgb2YgdHlwZSBtZXRhcGFja2FnZXMgYWxzbyBoYXZlIGEgbnVsbCBpbnN0YWxsIHBhdGguCiAgICAgKi8KICAgIHB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gZ2V0SW5zdGFsbFBhdGgoJHBhY2thZ2VOYW1lKQogICAgewogICAgICAgIGZvcmVhY2ggKHNlbGY6OmdldEluc3RhbGxlZCgpIGFzICRpbnN0YWxsZWQpIHsKICAgICAgICAgICAgaWYgKCFpc3NldCgkaW5zdGFsbGVkWyd2ZXJzaW9ucyddWyRwYWNrYWdlTmFtZV0pKSB7CiAgICAgICAgICAgICAgICBjb250aW51ZTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgcmV0dXJuIGlzc2V0KCRpbnN0YWxsZWRbJ3ZlcnNpb25zJ11bJHBhY2thZ2VOYW1lXVsnaW5zdGFsbF9wYXRoJ10pID8gJGluc3RhbGxlZFsndmVyc2lvbnMnXVskcGFja2FnZU5hbWVdWydpbnN0YWxsX3BhdGgnXSA6IG51bGw7CiAgICAgICAgfQoKICAgICAgICB0aHJvdyBuZXcgXE91dE9mQm91bmRzRXhjZXB0aW9uKCdQYWNrYWdlICInIC4gJHBhY2thZ2VOYW1lIC4gJyIgaXMgbm90IGluc3RhbGxlZCcpOwogICAgfQoKICAgIC8qKgogICAgICogQHJldHVybiBhcnJheQogICAgICogQHBzYWxtLXJldHVybiBhcnJheXtuYW1lOiBzdHJpbmcsIHZlcnNpb246IHN0cmluZywgcmVmZXJlbmNlOiBzdHJpbmcsIHByZXR0eV92ZXJzaW9uOiBzdHJpbmcsIGFsaWFzZXM6IHN0cmluZ1tdLCBkZXY6IGJvb2wsIGluc3RhbGxfcGF0aDogc3RyaW5nfQogICAgICovCiAgICBwdWJsaWMgc3RhdGljIGZ1bmN0aW9uIGdldFJvb3RQYWNrYWdlKCkKICAgIHsKICAgICAgICAkaW5zdGFsbGVkID0gc2VsZjo6Z2V0SW5zdGFsbGVkKCk7CgogICAgICAgIHJldHVybiAkaW5zdGFsbGVkWzBdWydyb290J107CiAgICB9CgogICAgLyoqCiAgICAgKiBSZXR1cm5zIHRoZSByYXcgaW5zdGFsbGVkLnBocCBkYXRhIGZvciBjdXN0b20gaW1wbGVtZW50YXRpb25zCiAgICAgKgogICAgICogQGRlcHJlY2F0ZWQgVXNlIGdldEFsbFJhd0RhdGEoKSBpbnN0ZWFkIHdoaWNoIHJldHVybnMgYWxsIGRhdGFzZXRzIGZvciBhbGwgYXV0b2xvYWRlcnMgcHJlc2VudCBpbiB0aGUgcHJvY2Vzcy4gZ2V0UmF3RGF0YSBvbmx5IHJldHVybnMgdGhlIGZpcnN0IGRhdGFzZXQgbG9hZGVkLCB3aGljaCBtYXkgbm90IGJlIHdoYXQgeW91IGV4cGVjdC4KICAgICAqIEByZXR1cm4gYXJyYXlbXQogICAgICogQHBzYWxtLXJldHVybiBhcnJheXtyb290OiBhcnJheXtuYW1lOiBzdHJpbmcsIHZlcnNpb246IHN0cmluZywgcmVmZXJlbmNlOiBzdHJpbmcsIHByZXR0eV92ZXJzaW9uOiBzdHJpbmcsIGFsaWFzZXM6IHN0cmluZ1tdLCBkZXY6IGJvb2wsIGluc3RhbGxfcGF0aDogc3RyaW5nfSwgdmVyc2lvbnM6IGFycmF5PHN0cmluZywgYXJyYXl7ZGV2X3JlcXVpcmVtZW50OiBib29sLCBwcmV0dHlfdmVyc2lvbj86IHN0cmluZywgdmVyc2lvbj86IHN0cmluZywgYWxpYXNlcz86IHN0cmluZ1tdLCByZWZlcmVuY2U/OiBzdHJpbmcsIHJlcGxhY2VkPzogc3RyaW5nW10sIHByb3ZpZGVkPzogc3RyaW5nW10sIGluc3RhbGxfcGF0aD86IHN0cmluZ30+fQogICAgICovCiAgICBwdWJsaWMgc3RhdGljIGZ1bmN0aW9uIGdldFJhd0RhdGEoKQogICAgewogICAgICAgIEB0cmlnZ2VyX2Vycm9yKCdnZXRSYXdEYXRhIG9ubHkgcmV0dXJucyB0aGUgZmlyc3QgZGF0YXNldCBsb2FkZWQsIHdoaWNoIG1heSBub3QgYmUgd2hhdCB5b3UgZXhwZWN0LiBVc2UgZ2V0QWxsUmF3RGF0YSgpIGluc3RlYWQgd2hpY2ggcmV0dXJucyBhbGwgZGF0YXNldHMgZm9yIGFsbCBhdXRvbG9hZGVycyBwcmVzZW50IGluIHRoZSBwcm9jZXNzLicsIEVfVVNFUl9ERVBSRUNBVEVEKTsKCiAgICAgICAgaWYgKG51bGwgPT09IHNlbGY6OiRpbnN0YWxsZWQpIHsKICAgICAgICAgICAgLy8gb25seSByZXF1aXJlIHRoZSBpbnN0YWxsZWQucGhwIGZpbGUgaWYgdGhpcyBmaWxlIGlzIGxvYWRlZCBmcm9tIGl0cyBkdW1wZWQgbG9jYXRpb24sCiAgICAgICAgICAgIC8vIGFuZCBub3QgZnJvbSBpdHMgc291cmNlIGxvY2F0aW9uIGluIHRoZSBjb21wb3Nlci9jb21wb3NlciBwYWNrYWdlLCBzZWUgaHR0cHM6Ly9naXRodWIuY29tL2NvbXBvc2VyL2NvbXBvc2VyL2lzc3Vlcy85OTM3CiAgICAgICAgICAgIGlmIChzdWJzdHIoX19ESVJfXywgLTgsIDEpICE9PSAnQycpIHsKICAgICAgICAgICAgICAgIHNlbGY6OiRpbnN0YWxsZWQgPSBpbmNsdWRlIF9fRElSX18gLiAnL2luc3RhbGxlZC5waHAnOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgc2VsZjo6JGluc3RhbGxlZCA9IGFycmF5KCk7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIHJldHVybiBzZWxmOjokaW5zdGFsbGVkOwogICAgfQoKICAgIC8qKgogICAgICogUmV0dXJucyB0aGUgcmF3IGRhdGEgb2YgYWxsIGluc3RhbGxlZC5waHAgd2hpY2ggYXJlIGN1cnJlbnRseSBsb2FkZWQgZm9yIGN1c3RvbSBpbXBsZW1lbnRhdGlvbnMKICAgICAqCiAgICAgKiBAcmV0dXJuIGFycmF5W10KICAgICAqIEBwc2FsbS1yZXR1cm4gbGlzdDxhcnJheXtyb290OiBhcnJheXtuYW1lOiBzdHJpbmcsIHZlcnNpb246IHN0cmluZywgcmVmZXJlbmNlOiBzdHJpbmcsIHByZXR0eV92ZXJzaW9uOiBzdHJpbmcsIGFsaWFzZXM6IHN0cmluZ1tdLCBkZXY6IGJvb2wsIGluc3RhbGxfcGF0aDogc3RyaW5nfSwgdmVyc2lvbnM6IGFycmF5PHN0cmluZywgYXJyYXl7ZGV2X3JlcXVpcmVtZW50OiBib29sLCBwcmV0dHlfdmVyc2lvbj86IHN0cmluZywgdmVyc2lvbj86IHN0cmluZywgYWxpYXNlcz86IHN0cmluZ1tdLCByZWZlcmVuY2U/OiBzdHJpbmcsIHJlcGxhY2VkPzogc3RyaW5nW10sIHByb3ZpZGVkPzogc3RyaW5nW10sIGluc3RhbGxfcGF0aD86IHN0cmluZ30+fT4KICAgICAqLwogICAgcHVibGljIHN0YXRpYyBmdW5jdGlvbiBnZXRBbGxSYXdEYXRhKCkKICAgIHsKICAgICAgICByZXR1cm4gc2VsZjo6Z2V0SW5zdGFsbGVkKCk7CiAgICB9CgogICAgLyoqCiAgICAgKiBMZXRzIHlvdSByZWxvYWQgdGhlIHN0YXRpYyBhcnJheSBmcm9tIGFub3RoZXIgZmlsZQogICAgICoKICAgICAqIFRoaXMgaXMgb25seSB1c2VmdWwgZm9yIGNvbXBsZXggaW50ZWdyYXRpb25zIGluIHdoaWNoIGEgcHJvamVjdCBuZWVkcyB0byB1c2UKICAgICAqIHRoaXMgY2xhc3MgYnV0IHRoZW4gYWxzbyBuZWVkcyB0byBleGVjdXRlIGFub3RoZXIgcHJvamVjdCdzIGF1dG9sb2FkZXIgaW4gcHJvY2VzcywKICAgICAqIGFuZCB3YW50cyB0byBlbnN1cmUgYm90aCBwcm9qZWN0cyBoYXZlIGFjY2VzcyB0byB0aGVpciB2ZXJzaW9uIG9mIGluc3RhbGxlZC5waHAuCiAgICAgKgogICAgICogQSB0eXBpY2FsIGNhc2Ugd291bGQgYmUgUEhQVW5pdCwgd2hlcmUgaXQgd291bGQgbmVlZCB0byBtYWtlIHN1cmUgaXQgcmVhZHMgYWxsCiAgICAgKiB0aGUgZGF0YSBpdCBuZWVkcyBmcm9tIHRoaXMgY2xhc3MsIHRoZW4gY2FsbCByZWxvYWQoKSB3aXRoCiAgICAgKiBgcmVxdWlyZSAkQ1dEL3ZlbmRvci9jb21wb3Nlci9pbnN0YWxsZWQucGhwYCAob3Igc2ltaWxhcikgYXMgaW5wdXQgdG8gbWFrZSBzdXJlCiAgICAgKiB0aGUgcHJvamVjdCBpbiB3aGljaCBpdCBydW5zIGNhbiB0aGVuIGFsc28gdXNlIHRoaXMgY2xhc3Mgc2FmZWx5LCB3aXRob3V0CiAgICAgKiBpbnRlcmZlcmVuY2UgYmV0d2VlbiBQSFBVbml0J3MgZGVwZW5kZW5jaWVzIGFuZCB0aGUgcHJvamVjdCdzIGRlcGVuZGVuY2llcy4KICAgICAqCiAgICAgKiBAcGFyYW0gIGFycmF5W10gJGRhdGEgQSB2ZW5kb3IvY29tcG9zZXIvaW5zdGFsbGVkLnBocCBkYXRhIHNldAogICAgICogQHJldHVybiB2b2lkCiAgICAgKgogICAgICogQHBzYWxtLXBhcmFtIGFycmF5e3Jvb3Q6IGFycmF5e25hbWU6IHN0cmluZywgdmVyc2lvbjogc3RyaW5nLCByZWZlcmVuY2U6IHN0cmluZywgcHJldHR5X3ZlcnNpb246IHN0cmluZywgYWxpYXNlczogc3RyaW5nW10sIGRldjogYm9vbCwgaW5zdGFsbF9wYXRoOiBzdHJpbmd9LCB2ZXJzaW9uczogYXJyYXk8c3RyaW5nLCBhcnJheXtkZXZfcmVxdWlyZW1lbnQ6IGJvb2wsIHByZXR0eV92ZXJzaW9uPzogc3RyaW5nLCB2ZXJzaW9uPzogc3RyaW5nLCBhbGlhc2VzPzogc3RyaW5nW10sIHJlZmVyZW5jZT86IHN0cmluZywgcmVwbGFjZWQ/OiBzdHJpbmdbXSwgcHJvdmlkZWQ/OiBzdHJpbmdbXSwgaW5zdGFsbF9wYXRoPzogc3RyaW5nfT59ICRkYXRhCiAgICAgKi8KICAgIHB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gcmVsb2FkKCRkYXRhKQogICAgewogICAgICAgIHNlbGY6OiRpbnN0YWxsZWQgPSAkZGF0YTsKICAgICAgICBzZWxmOjokaW5zdGFsbGVkQnlWZW5kb3IgPSBhcnJheSgpOwogICAgfQoKICAgIC8qKgogICAgICogQHJldHVybiBhcnJheVtdCiAgICAgKiBAcHNhbG0tcmV0dXJuIGxpc3Q8YXJyYXl7cm9vdDogYXJyYXl7bmFtZTogc3RyaW5nLCB2ZXJzaW9uOiBzdHJpbmcsIHJlZmVyZW5jZTogc3RyaW5nLCBwcmV0dHlfdmVyc2lvbjogc3RyaW5nLCBhbGlhc2VzOiBzdHJpbmdbXSwgZGV2OiBib29sLCBpbnN0YWxsX3BhdGg6IHN0cmluZ30sIHZlcnNpb25zOiBhcnJheTxzdHJpbmcsIGFycmF5e2Rldl9yZXF1aXJlbWVudDogYm9vbCwgcHJldHR5X3ZlcnNpb24/OiBzdHJpbmcsIHZlcnNpb24/OiBzdHJpbmcsIGFsaWFzZXM/OiBzdHJpbmdbXSwgcmVmZXJlbmNlPzogc3RyaW5nLCByZXBsYWNlZD86IHN0cmluZ1tdLCBwcm92aWRlZD86IHN0cmluZ1tdLCBpbnN0YWxsX3BhdGg/OiBzdHJpbmd9Pn0+CiAgICAgKi8KICAgIHByaXZhdGUgc3RhdGljIGZ1bmN0aW9uIGdldEluc3RhbGxlZCgpCiAgICB7CiAgICAgICAgaWYgKG51bGwgPT09IHNlbGY6OiRjYW5HZXRWZW5kb3JzKSB7CiAgICAgICAgICAgIHNlbGY6OiRjYW5HZXRWZW5kb3JzID0gbWV0aG9kX2V4aXN0cygnQ29tcG9zZXJcQXV0b2xvYWRcQ2xhc3NMb2FkZXInLCAnZ2V0UmVnaXN0ZXJlZExvYWRlcnMnKTsKICAgICAgICB9CgogICAgICAgICRpbnN0YWxsZWQgPSBhcnJheSgpOwoKICAgICAgICBpZiAoc2VsZjo6JGNhbkdldFZlbmRvcnMpIHsKICAgICAgICAgICAgZm9yZWFjaCAoQ2xhc3NMb2FkZXI6OmdldFJlZ2lzdGVyZWRMb2FkZXJzKCkgYXMgJHZlbmRvckRpciA9PiAkbG9hZGVyKSB7CiAgICAgICAgICAgICAgICBpZiAoaXNzZXQoc2VsZjo6JGluc3RhbGxlZEJ5VmVuZG9yWyR2ZW5kb3JEaXJdKSkgewogICAgICAgICAgICAgICAgICAgICRpbnN0YWxsZWRbXSA9IHNlbGY6OiRpbnN0YWxsZWRCeVZlbmRvclskdmVuZG9yRGlyXTsKICAgICAgICAgICAgICAgIH0gZWxzZWlmIChpc19maWxlKCR2ZW5kb3JEaXIuJy9jb21wb3Nlci9pbnN0YWxsZWQucGhwJykpIHsKICAgICAgICAgICAgICAgICAgICAkaW5zdGFsbGVkW10gPSBzZWxmOjokaW5zdGFsbGVkQnlWZW5kb3JbJHZlbmRvckRpcl0gPSByZXF1aXJlICR2ZW5kb3JEaXIuJy9jb21wb3Nlci9pbnN0YWxsZWQucGhwJzsKICAgICAgICAgICAgICAgICAgICBpZiAobnVsbCA9PT0gc2VsZjo6JGluc3RhbGxlZCAmJiBzdHJ0cigkdmVuZG9yRGlyLicvY29tcG9zZXInLCAnXFwnLCAnLycpID09PSBzdHJ0cihfX0RJUl9fLCAnXFwnLCAnLycpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGY6OiRpbnN0YWxsZWQgPSAkaW5zdGFsbGVkW2NvdW50KCRpbnN0YWxsZWQpIC0gMV07CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBpZiAobnVsbCA9PT0gc2VsZjo6JGluc3RhbGxlZCkgewogICAgICAgICAgICAvLyBvbmx5IHJlcXVpcmUgdGhlIGluc3RhbGxlZC5waHAgZmlsZSBpZiB0aGlzIGZpbGUgaXMgbG9hZGVkIGZyb20gaXRzIGR1bXBlZCBsb2NhdGlvbiwKICAgICAgICAgICAgLy8gYW5kIG5vdCBmcm9tIGl0cyBzb3VyY2UgbG9jYXRpb24gaW4gdGhlIGNvbXBvc2VyL2NvbXBvc2VyIHBhY2thZ2UsIHNlZSBodHRwczovL2dpdGh1Yi5jb20vY29tcG9zZXIvY29tcG9zZXIvaXNzdWVzLzk5MzcKICAgICAgICAgICAgaWYgKHN1YnN0cihfX0RJUl9fLCAtOCwgMSkgIT09ICdDJykgewogICAgICAgICAgICAgICAgc2VsZjo6JGluc3RhbGxlZCA9IHJlcXVpcmUgX19ESVJfXyAuICcvaW5zdGFsbGVkLnBocCc7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBzZWxmOjokaW5zdGFsbGVkID0gYXJyYXkoKTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICAkaW5zdGFsbGVkW10gPSBzZWxmOjokaW5zdGFsbGVkOwoKICAgICAgICByZXR1cm4gJGluc3RhbGxlZDsKICAgIH0KfQp7CiAgICAiJHNjaGVtYSI6ICJodHRwczovL2pzb24tc2NoZW1hLm9yZy9kcmFmdC0wNC9zY2hlbWEjIiwKICAgICJkZXNjcmlwdGlvbiI6ICJBIHJlcHJlc2VudGF0aW9uIG9mIHBhY2thZ2VzIG1ldGFkYXRhLiIsCiAgICAidHlwZSI6ICJvYmplY3QiLAogICAgIm9uZU9mIjogWwogICAgICAgIHsgInJlcXVpcmVkIjogWyAicGFja2FnZXMiIF0gfSwKICAgICAgICB7ICJyZXF1aXJlZCI6IFsgInByb3ZpZGVycyIgXSB9LAogICAgICAgIHsgInJlcXVpcmVkIjogWyAicHJvdmlkZXItaW5jbHVkZXMiLCAicHJvdmlkZXJzLXVybCIgXSB9CiAgICBdLAogICAgInByb3BlcnRpZXMiOiB7CiAgICAgICAgInBhY2thZ2VzIjogewogICAgICAgICAgICAidHlwZSI6IFsib2JqZWN0IiwgImFycmF5Il0sCiAgICAgICAgICAgICJkZXNjcmlwdGlvbiI6ICJBIGhhc2htYXAgb2YgcGFja2FnZSBuYW1lcyBpbiB0aGUgZm9ybSBvZiA8dmVuZG9yPi88bmFtZT4uIiwKICAgICAgICAgICAgImFkZGl0aW9uYWxQcm9wZXJ0aWVzIjogeyAiJHJlZiI6ICIjL2RlZmluaXRpb25zL3ZlcnNpb25zIiB9CiAgICAgICAgfSwKICAgICAgICAicHJvdmlkZXJzLXVybCI6IHsKICAgICAgICAgICAgInR5cGUiOiAic3RyaW5nIiwKICAgICAgICAgICAgImRlc2NyaXB0aW9uIjogIkVuZHBvaW50IHRvIHJldHJpZXZlIHByb3ZpZGVyIGRhdGEgZnJvbSwgZS5nLiAnL3AvJXBhY2thZ2UlJCVoYXNoJS5qc29uJy4iCiAgICAgICAgfSwKICAgICAgICAicHJvdmlkZXItaW5jbHVkZXMiOiB7CiAgICAgICAgICAgICJ0eXBlIjogIm9iamVjdCIsCiAgICAgICAgICAgICJkZXNjcmlwdGlvbiI6ICJBIGhhc2htYXAgb2YgcHJvdmlkZXIgbGlzdGluZ3MuIiwKICAgICAgICAgICAgImFkZGl0aW9uYWxQcm9wZXJ0aWVzIjogeyAiJHJlZiI6ICIjL2RlZmluaXRpb25zL3Byb3ZpZGVyIiB9CiAgICAgICAgfSwKICAgICAgICAicHJvdmlkZXJzIjogewogICAgICAgICAgICAidHlwZSI6ICJvYmplY3QiLAogICAgICAgICAgICAiZGVzY3JpcHRpb24iOiAiQSBoYXNobWFwIG9mIHBhY2thZ2UgbmFtZXMgaW4gdGhlIGZvcm0gb2YgPHZlbmRvcj4vPG5hbWU+LiIsCiAgICAgICAgICAgICJhZGRpdGlvbmFsUHJvcGVydGllcyI6IHsgIiRyZWYiOiAiIy9kZWZpbml0aW9ucy9wcm92aWRlciIgfQogICAgICAgIH0sCiAgICAgICAgIm5vdGlmeS1iYXRjaCI6IHsKICAgICAgICAgICAgInR5cGUiOiAic3RyaW5nIiwKICAgICAgICAgICAgImRlc2NyaXB0aW9uIjogIkVuZHBvaW50IHRvIGNhbGwgYWZ0ZXIgbXVsdGlwbGUgcGFja2FnZXMgaGF2ZSBiZWVuIGluc3RhbGxlZCwgZS5nLiAnL2Rvd25sb2Fkcy8nLiIKICAgICAgICB9LAogICAgICAgICJzZWFyY2giOiB7CiAgICAgICAgICAgICJ0eXBlIjogInN0cmluZyIsCiAgICAgICAgICAgICJkZXNjcmlwdGlvbiI6ICJFbmRwb2ludCB0aGF0IHByb3ZpZGVzIHNlYXJjaCBjYXBhYmlsaXRpZXMsIGUuZy4gJy9zZWFyY2guanNvbj9xPSVxdWVyeSUmdHlwZT0ldHlwZSUnLiIKICAgICAgICB9LAogICAgICAgICJ3YXJuaW5nIjogewogICAgICAgICAgICAidHlwZSI6ICJzdHJpbmciLAogICAgICAgICAgICAiZGVzY3JpcHRpb24iOiAiQSBtZXNzYWdlIHRoYXQgd2lsbCBiZSBvdXRwdXQgYnkgQ29tcG9zZXIgYXMgYSB3YXJuaW5nIHdoZW4gdGhpcyBzb3VyY2UgaXMgY29uc3VsdGVkLiIKICAgICAgICB9CiAgICB9LAogICAgImRlZmluaXRpb25zIjogewogICAgICAgICJ2ZXJzaW9ucyI6IHsKICAgICAgICAgICAgInR5cGUiOiAib2JqZWN0IiwKICAgICAgICAgICAgImRlc2NyaXB0aW9uIjogIkEgaGFzaG1hcCBvZiB2ZXJzaW9ucyBhbmQgdGhlaXIgbWV0YWRhdGEuIiwKICAgICAgICAgICAgImFkZGl0aW9uYWxQcm9wZXJ0aWVzIjogeyAiJHJlZiI6ICIjL2RlZmluaXRpb25zL3ZlcnNpb24iIH0KICAgICAgICB9LAogICAgICAgICJ2ZXJzaW9uIjogewogICAgICAgICAgICAidHlwZSI6ICJvYmplY3QiLAogICAgICAgICAgICAib25lT2YiOiBbCiAgICAgICAgICAgICAgICB7ICIkcmVmIjogIiMvZGVmaW5pdGlvbnMvcGFja2FnZSIgfSwKICAgICAgICAgICAgICAgIHsgIiRyZWYiOiAiIy9kZWZpbml0aW9ucy9tZXRhcGFja2FnZSIgfQogICAgICAgICAgICBdCiAgICAgICAgfSwKICAgICAgICAicGFja2FnZS1iYXNlIjogewogICAgICAgICAgICAicHJvcGVydGllcyI6IHsKICAgICAgICAgICAgICAgICJuYW1lIjogeyAidHlwZSI6ICJzdHJpbmciIH0sCiAgICAgICAgICAgICAgICAidHlwZSI6IHsgInR5cGUiOiAic3RyaW5nIiB9LAogICAgICAgICAgICAgICAgInZlcnNpb24iOiB7ICJ0eXBlIjogInN0cmluZyIgfSwKICAgICAgICAgICAgICAgICJ2ZXJzaW9uX25vcm1hbGl6ZWQiOiB7CiAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAic3RyaW5nIiwKICAgICAgICAgICAgICAgICAgICAiZGVzY3JpcHRpb24iOiAiTm9ybWFsaXplZCB2ZXJzaW9uLCBvcHRpb25hbCBidXQgY2FuIHNhdmUgY29tcHV0YXRpb25hbCB0aW1lIG9uIGNsaWVudCBzaWRlLiIKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAiYXV0b2xvYWQiOiB7ICJ0eXBlIjogIm9iamVjdCIgfSwKICAgICAgICAgICAgICAgICJyZXF1aXJlIjogeyAidHlwZSI6ICJvYmplY3QiIH0sCiAgICAgICAgICAgICAgICAicmVwbGFjZSI6IHsgInR5cGUiOiAib2JqZWN0IiB9LAogICAgICAgICAgICAgICAgImNvbmZsaWN0IjogeyAidHlwZSI6ICJvYmplY3QiIH0sCiAgICAgICAgICAgICAgICAicHJvdmlkZSI6IHsgInR5cGUiOiAib2JqZWN0IiB9LAogICAgICAgICAgICAgICAgInRpbWUiOiB7ICJ0eXBlIjogInN0cmluZyIgfQogICAgICAgICAgICB9LAogICAgICAgICAgICAiYWRkaXRpb25hbFByb3BlcnRpZXMiOiB0cnVlCiAgICAgICAgfSwKICAgICAgICAicGFja2FnZSI6IHsKICAgICAgICAgICAgImFsbE9mIjogWwogICAgICAgICAgICAgICAgeyAiJHJlZiI6ICIjL2RlZmluaXRpb25zL3BhY2thZ2UtYmFzZSIgfSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAicHJvcGVydGllcyI6IHsKICAgICAgICAgICAgICAgICAgICAgICAgImRpc3QiOiB7ICJ0eXBlIjogIm9iamVjdCIgfSwKICAgICAgICAgICAgICAgICAgICAgICAgInNvdXJjZSI6IHsgInR5cGUiOiAib2JqZWN0IiB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIHsgIm9uZU9mIjogWwogICAgICAgICAgICAgICAgICAgIHsgInJlcXVpcmVkIjogWyAibmFtZSIsICJ2ZXJzaW9uIiwgInNvdXJjZSIgXSB9LAogICAgICAgICAgICAgICAgICAgIHsgInJlcXVpcmVkIjogWyAibmFtZSIsICJ2ZXJzaW9uIiwgImRpc3QiIF0gfQogICAgICAgICAgICAgICAgXSB9CiAgICAgICAgICAgIF0KICAgICAgICB9LAogICAgICAgICJtZXRhcGFja2FnZSI6IHsKICAgICAgICAgICAgImFsbE9mIjogWwogICAgICAgICAgICAgICAgeyAiJHJlZiI6ICIjL2RlZmluaXRpb25zL3BhY2thZ2UtYmFzZSIgfSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAicHJvcGVydGllcyI6IHsKICAgICAgICAgICAgICAgICAgICAgICAgInR5cGUiOiB7ICJ0eXBlIjogInN0cmluZyIsICJlbnVtIjogWyAibWV0YXBhY2thZ2UiIF0gfQogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgInJlcXVpcmVkIjogWyAibmFtZSIsICJ2ZXJzaW9uIiwgInR5cGUiIF0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgXQogICAgICAgIH0sCiAgICAgICAgInByb3ZpZGVyIjogewogICAgICAgICAgICAidHlwZSI6ICJvYmplY3QiLAogICAgICAgICAgICAicHJvcGVydGllcyI6IHsKICAgICAgICAgICAgICAgICJzaGEyNTYiOiB7CiAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAic3RyaW5nIiwKICAgICAgICAgICAgICAgICAgICAiZGVzY3JpcHRpb24iOiAiSGFzaCB2YWx1ZSB0aGF0IGNhbiBiZSB1c2VkIHRvIHZhbGlkYXRlIHRoZSByZXNvdXJjZS4iCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9Cn0KewogICAgIiRzY2hlbWEiOiAiaHR0cHM6Ly9qc29uLXNjaGVtYS5vcmcvZHJhZnQtMDQvc2NoZW1hIyIsCiAgICAidGl0bGUiOiAiUGFja2FnZSIsCiAgICAidHlwZSI6ICJvYmplY3QiLAogICAgInByb3BlcnRpZXMiOiB7CiAgICAgICAgIm5hbWUiOiB7CiAgICAgICAgICAgICJ0eXBlIjogInN0cmluZyIsCiAgICAgICAgICAgICJkZXNjcmlwdGlvbiI6ICJQYWNrYWdlIG5hbWUsIGluY2x1ZGluZyAndmVuZG9yLW5hbWUvJyBwcmVmaXguIiwKICAgICAgICAgICAgInBhdHRlcm4iOiAiXlthLXowLTldKFtfLi1dP1thLXowLTldKykqL1thLXowLTldKChbXy5dP3wtezAsMn0pW2EtejAtOV0rKSokIgogICAgICAgIH0sCiAgICAgICAgInR5cGUiOiB7CiAgICAgICAgICAgICJkZXNjcmlwdGlvbiI6ICJQYWNrYWdlIHR5cGUsIGVpdGhlciAnbGlicmFyeScgZm9yIGNvbW1vbiBwYWNrYWdlcywgJ2NvbXBvc2VyLXBsdWdpbicgZm9yIHBsdWdpbnMsICdtZXRhcGFja2FnZScgZm9yIGVtcHR5IHBhY2thZ2VzLCBvciBhIGN1c3RvbSB0eXBlIChbYS16MC05LV0rKSBkZWZpbmVkIGJ5IHdoYXRldmVyIHByb2plY3QgdGhpcyBwYWNrYWdlIGFwcGxpZXMgdG8uIiwKICAgICAgICAgICAgInR5cGUiOiAic3RyaW5nIiwKICAgICAgICAgICAgInBhdHRlcm4iOiAiXlthLXowLTktXSskIgogICAgICAgIH0sCiAgICAgICAgInRhcmdldC1kaXIiOiB7CiAgICAgICAgICAgICJkZXNjcmlwdGlvbiI6ICJERVBSRUNBVEVEOiBGb3JjZXMgdGhlIHBhY2thZ2UgdG8gYmUgaW5zdGFsbGVkIGludG8gdGhlIGdpdmVuIHN1YmRpcmVjdG9yeSBwYXRoLiBUaGlzIGlzIHVzZWQgZm9yIGF1dG9sb2FkaW5nIFBTUi0wIHBhY2thZ2VzIHRoYXQgZG8gbm90IGNvbnRhaW4gdGhlaXIgZnVsbCBwYXRoLiBVc2UgZm9yd2FyZCBzbGFzaGVzIGZvciBjcm9zcy1wbGF0Zm9ybSBjb21wYXRpYmlsaXR5LiIsCiAgICAgICAgICAgICJ0eXBlIjogInN0cmluZyIKICAgICAgICB9LAogICAgICAgICJkZXNjcmlwdGlvbiI6IHsKICAgICAgICAgICAgInR5cGUiOiAic3RyaW5nIiwKICAgICAgICAgICAgImRlc2NyaXB0aW9uIjogIlNob3J0IHBhY2thZ2UgZGVzY3JpcHRpb24uIgogICAgICAgIH0sCiAgICAgICAgImtleXdvcmRzIjogewogICAgICAgICAgICAidHlwZSI6ICJhcnJheSIsCiAgICAgICAgICAgICJpdGVtcyI6IHsKICAgICAgICAgICAgICAgICJ0eXBlIjogInN0cmluZyIsCiAgICAgICAgICAgICAgICAiZGVzY3JpcHRpb24iOiAiQSB0YWcva2V5d29yZCB0aGF0IHRoaXMgcGFja2FnZSByZWxhdGVzIHRvLiIKICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgImhvbWVwYWdlIjogewogICAgICAgICAgICAidHlwZSI6ICJzdHJpbmciLAogICAgICAgICAgICAiZGVzY3JpcHRpb24iOiAiSG9tZXBhZ2UgVVJMIGZvciB0aGUgcHJvamVjdC4iLAogICAgICAgICAgICAiZm9ybWF0IjogInVyaSIKICAgICAgICB9LAogICAgICAgICJyZWFkbWUiOiB7CiAgICAgICAgICAgICJ0eXBlIjogInN0cmluZyIsCiAgICAgICAgICAgICJkZXNjcmlwdGlvbiI6ICJSZWxhdGl2ZSBwYXRoIHRvIHRoZSByZWFkbWUgZG9jdW1lbnQuIgogICAgICAgIH0sCiAgICAgICAgInZlcnNpb24iOiB7CiAgICAgICAgICAgICJ0eXBlIjogInN0cmluZyIsCiAgICAgICAgICAgICJkZXNjcmlwdGlvbiI6ICJQYWNrYWdlIHZlcnNpb24sIHNlZSBodHRwczovL2dldGNvbXBvc2VyLm9yZy9kb2MvMDQtc2NoZW1hLm1kI3ZlcnNpb24gZm9yIG1vcmUgaW5mbyBvbiB2YWxpZCBzY2hlbWVzLiIsCiAgICAgICAgICAgICJwYXR0ZXJuIjogIl52P1xcZCsoXFwuXFxkKyl7MCwzfXxeZGV2LSIKICAgICAgICB9LAogICAgICAgICJ0aW1lIjogewogICAgICAgICAgICAidHlwZSI6ICJzdHJpbmciLAogICAgICAgICAgICAiZGVzY3JpcHRpb24iOiAiUGFja2FnZSByZWxlYXNlIGRhdGUsIGluICdZWVlZLU1NLUREJywgJ1lZWVktTU0tREQgSEg6TU06U1MnIG9yICdZWVlZLU1NLUREVEhIOk1NOlNTWicgZm9ybWF0LiIKICAgICAgICB9LAogICAgICAgICJsaWNlbnNlIjogewogICAgICAgICAgICAidHlwZSI6IFsic3RyaW5nIiwgImFycmF5Il0sCiAgICAgICAgICAgICJkZXNjcmlwdGlvbiI6ICJMaWNlbnNlIG5hbWUuIE9yIGFuIGFycmF5IG9mIGxpY2Vuc2UgbmFtZXMuIgogICAgICAgIH0sCiAgICAgICAgImF1dGhvcnMiOiB7CiAgICAgICAgICAgICIkcmVmIjogIiMvZGVmaW5pdGlvbnMvYXV0aG9ycyIKICAgICAgICB9LAogICAgICAgICJyZXF1aXJlIjogewogICAgICAgICAgICAidHlwZSI6ICJvYmplY3QiLAogICAgICAgICAgICAiZGVzY3JpcHRpb24iOiAiVGhpcyBpcyBhIGhhc2ggb2YgcGFja2FnZSBuYW1lIChrZXlzKSBhbmQgdmVyc2lvbiBjb25zdHJhaW50cyAodmFsdWVzKSB0aGF0IGFyZSByZXF1aXJlZCB0byBydW4gdGhpcyBwYWNrYWdlLiIsCiAgICAgICAgICAgICJhZGRpdGlvbmFsUHJvcGVydGllcyI6IHsKICAgICAgICAgICAgICAgICJ0eXBlIjogInN0cmluZyIKICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgInJlcGxhY2UiOiB7CiAgICAgICAgICAgICJ0eXBlIjogIm9iamVjdCIsCiAgICAgICAgICAgICJkZXNjcmlwdGlvbiI6ICJUaGlzIGlzIGEgaGFzaCBvZiBwYWNrYWdlIG5hbWUgKGtleXMpIGFuZCB2ZXJzaW9uIGNvbnN0cmFpbnRzICh2YWx1ZXMpIHRoYXQgY2FuIGJlIHJlcGxhY2VkIGJ5IHRoaXMgcGFja2FnZS4iLAogICAgICAgICAgICAiYWRkaXRpb25hbFByb3BlcnRpZXMiOiB7CiAgICAgICAgICAgICAgICAidHlwZSI6ICJzdHJpbmciCiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgICJjb25mbGljdCI6IHsKICAgICAgICAgICAgInR5cGUiOiAib2JqZWN0IiwKICAgICAgICAgICAgImRlc2NyaXB0aW9uIjogIlRoaXMgaXMgYSBoYXNoIG9mIHBhY2thZ2UgbmFtZSAoa2V5cykgYW5kIHZlcnNpb24gY29uc3RyYWludHMgKHZhbHVlcykgdGhhdCBjb25mbGljdCB3aXRoIHRoaXMgcGFja2FnZS4iLAogICAgICAgICAgICAiYWRkaXRpb25hbFByb3BlcnRpZXMiOiB7CiAgICAgICAgICAgICAgICAidHlwZSI6ICJzdHJpbmciCiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgICJwcm92aWRlIjogewogICAgICAgICAgICAidHlwZSI6ICJvYmplY3QiLAogICAgICAgICAgICAiZGVzY3JpcHRpb24iOiAiVGhpcyBpcyBhIGhhc2ggb2YgcGFja2FnZSBuYW1lIChrZXlzKSBhbmQgdmVyc2lvbiBjb25zdHJhaW50cyAodmFsdWVzKSB0aGF0IHRoaXMgcGFja2FnZSBwcm92aWRlcyBpbiBhZGRpdGlvbiB0byB0aGlzIHBhY2thZ2UncyBuYW1lLiIsCiAgICAgICAgICAgICJhZGRpdGlvbmFsUHJvcGVydGllcyI6IHsKICAgICAgICAgICAgICAgICJ0eXBlIjogInN0cmluZyIKICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgInJlcXVpcmUtZGV2IjogewogICAgICAgICAgICAidHlwZSI6ICJvYmplY3QiLAogICAgICAgICAgICAiZGVzY3JpcHRpb24iOiAiVGhpcyBpcyBhIGhhc2ggb2YgcGFja2FnZSBuYW1lIChrZXlzKSBhbmQgdmVyc2lvbiBjb25zdHJhaW50cyAodmFsdWVzKSB0aGF0IHRoaXMgcGFja2FnZSByZXF1aXJlcyBmb3IgZGV2ZWxvcGluZyBpdCAodGVzdGluZyB0b29scyBhbmQgc3VjaCkuIiwKICAgICAgICAgICAgImFkZGl0aW9uYWxQcm9wZXJ0aWVzIjogewogICAgICAgICAgICAgICAgInR5cGUiOiAic3RyaW5nIgogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICAic3VnZ2VzdCI6IHsKICAgICAgICAgICAgInR5cGUiOiAib2JqZWN0IiwKICAgICAgICAgICAgImRlc2NyaXB0aW9uIjogIlRoaXMgaXMgYSBoYXNoIG9mIHBhY2thZ2UgbmFtZSAoa2V5cykgYW5kIGRlc2NyaXB0aW9ucyAodmFsdWVzKSB0aGF0IHRoaXMgcGFja2FnZSBzdWdnZXN0cyB3b3JrIHdlbGwgd2l0aCBpdCAodGhpcyB3aWxsIGJlIHN1Z2dlc3RlZCB0byB0aGUgdXNlciBkdXJpbmcgaW5zdGFsbGF0aW9uKS4iLAogICAgICAgICAgICAiYWRkaXRpb25hbFByb3BlcnRpZXMiOiB7CiAgICAgICAgICAgICAgICAidHlwZSI6ICJzdHJpbmciCiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgICJjb25maWciOiB7CiAgICAgICAgICAgICJ0eXBlIjogIm9iamVjdCIsCiAgICAgICAgICAgICJkZXNjcmlwdGlvbiI6ICJDb21wb3NlciBvcHRpb25zLiIsCiAgICAgICAgICAgICJwcm9wZXJ0aWVzIjogewogICAgICAgICAgICAgICAgInByb2Nlc3MtdGltZW91dCI6IHsKICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJpbnRlZ2VyIiwKICAgICAgICAgICAgICAgICAgICAiZGVzY3JpcHRpb24iOiAiVGhlIHRpbWVvdXQgaW4gc2Vjb25kcyBmb3IgcHJvY2VzcyBleGVjdXRpb25zLCBkZWZhdWx0cyB0byAzMDAgKDVtaW5zKS4iCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgInVzZS1pbmNsdWRlLXBhdGgiOiB7CiAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAiYm9vbGVhbiIsCiAgICAgICAgICAgICAgICAgICAgImRlc2NyaXB0aW9uIjogIklmIHRydWUsIHRoZSBDb21wb3NlciBhdXRvbG9hZGVyIHdpbGwgYWxzbyBsb29rIGZvciBjbGFzc2VzIGluIHRoZSBQSFAgaW5jbHVkZSBwYXRoLiIKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAicHJlZmVycmVkLWluc3RhbGwiOiB7CiAgICAgICAgICAgICAgICAgICAgInR5cGUiOiBbInN0cmluZyIsICJvYmplY3QiXSwKICAgICAgICAgICAgICAgICAgICAiZGVzY3JpcHRpb24iOiAiVGhlIGluc3RhbGwgbWV0aG9kIENvbXBvc2VyIHdpbGwgcHJlZmVyIHRvIHVzZSwgZGVmYXVsdHMgdG8gYXV0byBhbmQgY2FuIGJlIGFueSBvZiBzb3VyY2UsIGRpc3QsIGF1dG8sIG9yIGEgaGFzaCBvZiB7XCJwYXR0ZXJuXCI6IFwicHJlZmVyZW5jZVwifS4iCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgIm5vdGlmeS1vbi1pbnN0YWxsIjogewogICAgICAgICAgICAgICAgICAgICJ0eXBlIjogImJvb2xlYW4iLAogICAgICAgICAgICAgICAgICAgICJkZXNjcmlwdGlvbiI6ICJDb21wb3NlciBhbGxvd3MgcmVwb3NpdG9yaWVzIHRvIGRlZmluZSBhIG5vdGlmaWNhdGlvbiBVUkwsIHNvIHRoYXQgdGhleSBnZXQgbm90aWZpZWQgd2hlbmV2ZXIgYSBwYWNrYWdlIGZyb20gdGhhdCByZXBvc2l0b3J5IGlzIGluc3RhbGxlZC4gVGhpcyBvcHRpb24gYWxsb3dzIHlvdSB0byBkaXNhYmxlIHRoYXQgYmVoYXZpb3VyLCBkZWZhdWx0cyB0byB0cnVlLiIKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAiZ2l0aHViLXByb3RvY29scyI6IHsKICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJhcnJheSIsCiAgICAgICAgICAgICAgICAgICAgImRlc2NyaXB0aW9uIjogIkEgbGlzdCBvZiBwcm90b2NvbHMgdG8gdXNlIGZvciBnaXRodWIuY29tIGNsb25lcywgaW4gcHJpb3JpdHkgb3JkZXIsIGRlZmF1bHRzIHRvIFtcImdpdFwiLCBcImh0dHBzXCIsIFwiaHR0cFwiXS4iLAogICAgICAgICAgICAgICAgICAgICJpdGVtcyI6IHsKICAgICAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAic3RyaW5nIgogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAiZ2l0aHViLW9hdXRoIjogewogICAgICAgICAgICAgICAgICAgICJ0eXBlIjogIm9iamVjdCIsCiAgICAgICAgICAgICAgICAgICAgImRlc2NyaXB0aW9uIjogIkEgaGFzaCBvZiBkb21haW4gbmFtZSA9PiBnaXRodWIgQVBJIG9hdXRoIHRva2VucywgdHlwaWNhbGx5IHtcImdpdGh1Yi5jb21cIjpcIjx0b2tlbj5cIn0uIiwKICAgICAgICAgICAgICAgICAgICAiYWRkaXRpb25hbFByb3BlcnRpZXMiOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICJ0eXBlIjogInN0cmluZyIKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgImdpdGxhYi1vYXV0aCI6IHsKICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJvYmplY3QiLAogICAgICAgICAgICAgICAgICAgICJkZXNjcmlwdGlvbiI6ICJBIGhhc2ggb2YgZG9tYWluIG5hbWUgPT4gZ2l0bGFiIEFQSSBvYXV0aCB0b2tlbnMsIHR5cGljYWxseSB7XCJnaXRsYWIuY29tXCI6XCI8dG9rZW4+XCJ9LiIsCiAgICAgICAgICAgICAgICAgICAgImFkZGl0aW9uYWxQcm9wZXJ0aWVzIjogewogICAgICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJzdHJpbmciCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICJnaXRsYWItdG9rZW4iOiB7CiAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAib2JqZWN0IiwKICAgICAgICAgICAgICAgICAgICAiZGVzY3JpcHRpb24iOiAiQSBoYXNoIG9mIGRvbWFpbiBuYW1lID0+IGdpdGxhYiBwcml2YXRlIHRva2VucywgdHlwaWNhbGx5IHtcImdpdGxhYi5jb21cIjpcIjx0b2tlbj5cIn0uIiwKICAgICAgICAgICAgICAgICAgICAiYWRkaXRpb25hbFByb3BlcnRpZXMiOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICJ0eXBlIjogInN0cmluZyIKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgImdpdGxhYi1wcm90b2NvbCI6IHsKICAgICAgICAgICAgICAgICAgICAiZW51bSI6IFsiZ2l0IiwgImh0dHAiLCAiaHR0cHMiXSwKICAgICAgICAgICAgICAgICAgICAiZGVzY3JpcHRpb24iOiAiQSBwcm90b2NvbCB0byBmb3JjZSB1c2Ugb2Ygd2hlbiBjcmVhdGluZyBhIHJlcG9zaXRvcnkgVVJMIGZvciB0aGUgYHNvdXJjZWAgdmFsdWUgb2YgdGhlIHBhY2thZ2UgbWV0YWRhdGEuIE9uZSBvZiBgZ2l0YCBvciBgaHR0cGAuIEJ5IGRlZmF1bHQsIENvbXBvc2VyIHdpbGwgZ2VuZXJhdGUgYSBnaXQgVVJMIGZvciBwcml2YXRlIHJlcG9zaXRvcmllcyBhbmQgaHR0cCBvbmUgZm9yIHB1YmxpYyByZXBvcy4iCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgImJlYXJlciI6IHsKICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJvYmplY3QiLAogICAgICAgICAgICAgICAgICAgICJkZXNjcmlwdGlvbiI6ICJBIGhhc2ggb2YgZG9tYWluIG5hbWUgPT4gYmVhcmVyIGF1dGhlbnRpY2F0aW9uIHRva2VuLCBmb3IgZXhhbXBsZSB7XCJleGFtcGxlLmNvbVwiOlwiPHRva2VuPlwifS4iLAogICAgICAgICAgICAgICAgICAgICJhZGRpdGlvbmFsUHJvcGVydGllcyI6IHsKICAgICAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAic3RyaW5nIgogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAiZGlzYWJsZS10bHMiOiB7CiAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAiYm9vbGVhbiIsCiAgICAgICAgICAgICAgICAgICAgImRlc2NyaXB0aW9uIjogIkRlZmF1bHRzIHRvIGBmYWxzZWAuIElmIHNldCB0byB0cnVlIGFsbCBIVFRQUyBVUkxzIHdpbGwgYmUgdHJpZWQgd2l0aCBIVFRQIGluc3RlYWQgYW5kIG5vIG5ldHdvcmsgbGV2ZWwgZW5jcnlwdGlvbiBpcyBwZXJmb3JtZWQuIEVuYWJsaW5nIHRoaXMgaXMgYSBzZWN1cml0eSByaXNrIGFuZCBpcyBOT1QgcmVjb21tZW5kZWQuIFRoZSBiZXR0ZXIgd2F5IGlzIHRvIGVuYWJsZSB0aGUgcGhwX29wZW5zc2wgZXh0ZW5zaW9uIGluIHBocC5pbmkuIgogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICJzZWN1cmUtaHR0cCI6IHsKICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJib29sZWFuIiwKICAgICAgICAgICAgICAgICAgICAiZGVzY3JpcHRpb24iOiAiRGVmYXVsdHMgdG8gYHRydWVgLiBJZiBzZXQgdG8gdHJ1ZSBvbmx5IEhUVFBTIFVSTHMgYXJlIGFsbG93ZWQgdG8gYmUgZG93bmxvYWRlZCB2aWEgQ29tcG9zZXIuIElmIHlvdSByZWFsbHkgYWJzb2x1dGVseSBuZWVkIEhUVFAgYWNjZXNzIHRvIHNvbWV0aGluZyB0aGVuIHlvdSBjYW4gZGlzYWJsZSBpdCwgYnV0IHVzaW5nIFwiTGV0J3MgRW5jcnlwdFwiIHRvIGdldCBhIGZyZWUgU1NMIGNlcnRpZmljYXRlIGlzIGdlbmVyYWxseSBhIGJldHRlciBhbHRlcm5hdGl2ZS4iCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgInNlY3VyZS1zdm4tZG9tYWlucyI6IHsKICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJhcnJheSIsCiAgICAgICAgICAgICAgICAgICAgImRlc2NyaXB0aW9uIjogIkEgbGlzdCBvZiBkb21haW5zIHdoaWNoIHNob3VsZCBiZSB0cnVzdGVkL21hcmtlZCBhcyB1c2luZyBhIHNlY3VyZSBTdWJ2ZXJzaW9uL1NWTiB0cmFuc3BvcnQuIEJ5IGRlZmF1bHQgc3ZuOi8vIHByb3RvY29sIGlzIHNlZW4gYXMgaW5zZWN1cmUgYW5kIHdpbGwgdGhyb3cuIFRoaXMgaXMgYSBiZXR0ZXIvc2FmZXIgYWx0ZXJuYXRpdmUgdG8gZGlzYWJsaW5nIGBzZWN1cmUtaHR0cGAgYWx0b2dldGhlci4iLAogICAgICAgICAgICAgICAgICAgICJpdGVtcyI6IHsKICAgICAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAic3RyaW5nIgogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAiY2FmaWxlIjogewogICAgICAgICAgICAgICAgICAgICJ0eXBlIjogInN0cmluZyIsCiAgICAgICAgICAgICAgICAgICAgImRlc2NyaXB0aW9uIjogIkEgd2F5IHRvIHNldCB0aGUgcGF0aCB0byB0aGUgb3BlbnNzbCBDQSBmaWxlLiBJbiBQSFAgNS42KyB5b3Ugc2hvdWxkIHJhdGhlciBzZXQgdGhpcyB2aWEgb3BlbnNzbC5jYWZpbGUgaW4gcGhwLmluaSwgYWx0aG91Z2ggUEhQIDUuNisgc2hvdWxkIGJlIGFibGUgdG8gZGV0ZWN0IHlvdXIgc3lzdGVtIENBIGZpbGUgYXV0b21hdGljYWxseS4iCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgImNhcGF0aCI6IHsKICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJzdHJpbmciLAogICAgICAgICAgICAgICAgICAgICJkZXNjcmlwdGlvbiI6ICJJZiBjYWZpbGUgaXMgbm90IHNwZWNpZmllZCBvciBpZiB0aGUgY2VydGlmaWNhdGUgaXMgbm90IGZvdW5kIHRoZXJlLCB0aGUgZGlyZWN0b3J5IHBvaW50ZWQgdG8gYnkgY2FwYXRoIGlzIHNlYXJjaGVkIGZvciBhIHN1aXRhYmxlIGNlcnRpZmljYXRlLiBjYXBhdGggbXVzdCBiZSBhIGNvcnJlY3RseSBoYXNoZWQgY2VydGlmaWNhdGUgZGlyZWN0b3J5LiIKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAiaHR0cC1iYXNpYyI6IHsKICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJvYmplY3QiLAogICAgICAgICAgICAgICAgICAgICJkZXNjcmlwdGlvbiI6ICJBIGhhc2ggb2YgZG9tYWluIG5hbWUgPT4ge1widXNlcm5hbWVcIjogXCIuLi5cIiwgXCJwYXNzd29yZFwiOiBcIi4uLlwifS4iLAogICAgICAgICAgICAgICAgICAgICJhZGRpdGlvbmFsUHJvcGVydGllcyI6IHsKICAgICAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAib2JqZWN0IiwKICAgICAgICAgICAgICAgICAgICAgICAgInJlcXVpcmVkIjogWyJ1c2VybmFtZSIsICJwYXNzd29yZCJdLAogICAgICAgICAgICAgICAgICAgICAgICAicHJvcGVydGllcyI6IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ1c2VybmFtZSI6IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJzdHJpbmciLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJkZXNjcmlwdGlvbiI6ICJUaGUgdXNlcm5hbWUgdXNlZCBmb3IgSFRUUCBCYXNpYyBhdXRoZW50aWNhdGlvbiIKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAicGFzc3dvcmQiOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAic3RyaW5nIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiZGVzY3JpcHRpb24iOiAiVGhlIHBhc3N3b3JkIHVzZWQgZm9yIEhUVFAgQmFzaWMgYXV0aGVudGljYXRpb24iCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgInN0b3JlLWF1dGhzIjogewogICAgICAgICAgICAgICAgICAgICJ0eXBlIjogWyJzdHJpbmciLCAiYm9vbGVhbiJdLAogICAgICAgICAgICAgICAgICAgICJkZXNjcmlwdGlvbiI6ICJXaGF0IHRvIGRvIGFmdGVyIHByb21wdGluZyBmb3IgYXV0aGVudGljYXRpb24sIG9uZSBvZjogdHJ1ZSAoc3RvcmUpLCBmYWxzZSAoZG8gbm90IHN0b3JlKSBvciBcInByb21wdFwiIChhc2sgZXZlcnkgdGltZSksIGRlZmF1bHRzIHRvIHByb21wdC4iCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgInBsYXRmb3JtIjogewogICAgICAgICAgICAgICAgICAgICJ0eXBlIjogIm9iamVjdCIsCiAgICAgICAgICAgICAgICAgICAgImRlc2NyaXB0aW9uIjogIlRoaXMgaXMgYSBoYXNoIG9mIHBhY2thZ2UgbmFtZSAoa2V5cykgYW5kIHZlcnNpb24gKHZhbHVlcykgdGhhdCB3aWxsIGJlIHVzZWQgdG8gbW9jayB0aGUgcGxhdGZvcm0gcGFja2FnZXMgb24gdGhpcyBtYWNoaW5lLiIsCiAgICAgICAgICAgICAgICAgICAgImFkZGl0aW9uYWxQcm9wZXJ0aWVzIjogewogICAgICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJzdHJpbmciCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICJ2ZW5kb3ItZGlyIjogewogICAgICAgICAgICAgICAgICAgICJ0eXBlIjogInN0cmluZyIsCiAgICAgICAgICAgICAgICAgICAgImRlc2NyaXB0aW9uIjogIlRoZSBsb2NhdGlvbiB3aGVyZSBhbGwgcGFja2FnZXMgYXJlIGluc3RhbGxlZCwgZGVmYXVsdHMgdG8gXCJ2ZW5kb3JcIi4iCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgImJpbi1kaXIiOiB7CiAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAic3RyaW5nIiwKICAgICAgICAgICAgICAgICAgICAiZGVzY3JpcHRpb24iOiAiVGhlIGxvY2F0aW9uIHdoZXJlIGFsbCBiaW5hcmllcyBhcmUgbGlua2VkLCBkZWZhdWx0cyB0byBcInZlbmRvci9iaW5cIi4iCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgImRhdGEtZGlyIjogewogICAgICAgICAgICAgICAgICAgICJ0eXBlIjogInN0cmluZyIsCiAgICAgICAgICAgICAgICAgICAgImRlc2NyaXB0aW9uIjogIlRoZSBsb2NhdGlvbiB3aGVyZSBvbGQgcGhhciBmaWxlcyBhcmUgc3RvcmVkLCBkZWZhdWx0cyB0byBcIiRob21lXCIgZXhjZXB0IG9uIFhERyBCYXNlIERpcmVjdG9yeSBjb21wbGlhbnQgdW5peGVzLiIKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAiY2FjaGUtZGlyIjogewogICAgICAgICAgICAgICAgICAgICJ0eXBlIjogInN0cmluZyIsCiAgICAgICAgICAgICAgICAgICAgImRlc2NyaXB0aW9uIjogIlRoZSBsb2NhdGlvbiB3aGVyZSBhbGwgY2FjaGVzIGFyZSBsb2NhdGVkLCBkZWZhdWx0cyB0byBcIn4vLmNvbXBvc2VyL2NhY2hlXCIgb24gKm5peCBhbmQgXCIlTE9DQUxBUFBEQVRBJVxcQ29tcG9zZXJcIiBvbiB3aW5kb3dzLiIKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAiY2FjaGUtZmlsZXMtZGlyIjogewogICAgICAgICAgICAgICAgICAgICJ0eXBlIjogInN0cmluZyIsCiAgICAgICAgICAgICAgICAgICAgImRlc2NyaXB0aW9uIjogIlRoZSBsb2NhdGlvbiB3aGVyZSBmaWxlcyAoemlwIGRvd25sb2FkcykgYXJlIGNhY2hlZCwgZGVmYXVsdHMgdG8gXCJ7JGNhY2hlLWRpcn0vZmlsZXNcIi4iCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgImNhY2hlLXJlcG8tZGlyIjogewogICAgICAgICAgICAgICAgICAgICJ0eXBlIjogInN0cmluZyIsCiAgICAgICAgICAgICAgICAgICAgImRlc2NyaXB0aW9uIjogIlRoZSBsb2NhdGlvbiB3aGVyZSByZXBvIChnaXQvaGcgcmVwbyBjbG9uZXMpIGFyZSBjYWNoZWQsIGRlZmF1bHRzIHRvIFwieyRjYWNoZS1kaXJ9L3JlcG9cIi4iCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgImNhY2hlLXZjcy1kaXIiOiB7CiAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAic3RyaW5nIiwKICAgICAgICAgICAgICAgICAgICAiZGVzY3JpcHRpb24iOiAiVGhlIGxvY2F0aW9uIHdoZXJlIHZjcyBpbmZvcyAoZ2l0IGNsb25lcywgZ2l0aHViIGFwaSBjYWxscywgZXRjLiB3aGVuIHJlYWRpbmcgdmNzIHJlcG9zKSBhcmUgY2FjaGVkLCBkZWZhdWx0cyB0byBcInskY2FjaGUtZGlyfS92Y3NcIi4iCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgImNhY2hlLXR0bCI6IHsKICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJpbnRlZ2VyIiwKICAgICAgICAgICAgICAgICAgICAiZGVzY3JpcHRpb24iOiAiVGhlIGRlZmF1bHQgY2FjaGUgdGltZS10by1saXZlLCBkZWZhdWx0cyB0byAxNTU1MjAwMCAoNiBtb250aHMpLiIKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAiY2FjaGUtZmlsZXMtdHRsIjogewogICAgICAgICAgICAgICAgICAgICJ0eXBlIjogImludGVnZXIiLAogICAgICAgICAgICAgICAgICAgICJkZXNjcmlwdGlvbiI6ICJUaGUgY2FjaGUgdGltZS10by1saXZlIGZvciBmaWxlcywgZGVmYXVsdHMgdG8gdGhlIHZhbHVlIG9mIGNhY2hlLXR0bC4iCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgImNhY2hlLWZpbGVzLW1heHNpemUiOiB7CiAgICAgICAgICAgICAgICAgICAgInR5cGUiOiBbInN0cmluZyIsICJpbnRlZ2VyIl0sCiAgICAgICAgICAgICAgICAgICAgImRlc2NyaXB0aW9uIjogIlRoZSBjYWNoZSBtYXggc2l6ZSBmb3IgdGhlIGZpbGVzIGNhY2hlLCBkZWZhdWx0cyB0byBcIjMwME1pQlwiLiIKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAiY2FjaGUtcmVhZC1vbmx5IjogewogICAgICAgICAgICAgICAgICAgICJ0eXBlIjogWyJib29sZWFuIl0sCiAgICAgICAgICAgICAgICAgICAgImRlc2NyaXB0aW9uIjogIldoZXRoZXIgdG8gdXNlIHRoZSBDb21wb3NlciBjYWNoZSBpbiByZWFkLW9ubHkgbW9kZS4iCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgImJpbi1jb21wYXQiOiB7CiAgICAgICAgICAgICAgICAgICAgImVudW0iOiBbImF1dG8iLCAiZnVsbCIsICJzeW1saW5rIl0sCiAgICAgICAgICAgICAgICAgICAgImRlc2NyaXB0aW9uIjogIlRoZSBjb21wYXRpYmlsaXR5IG9mIHRoZSBiaW5hcmllcywgZGVmYXVsdHMgdG8gXCJhdXRvXCIgKGF1dG9tYXRpY2FsbHkgZ3Vlc3NlZCksIGNhbiBiZSBcImZ1bGxcIiAoY29tcGF0aWJsZSB3aXRoIGJvdGggV2luZG93cyBhbmQgVW5peC1iYXNlZCBzeXN0ZW1zKSBhbmQgXCJzeW1saW5rXCIgKHN5bWxpbmsgYWxzbyBmb3IgV1NMKS4iCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgImRpc2NhcmQtY2hhbmdlcyI6IHsKICAgICAgICAgICAgICAgICAgICAidHlwZSI6IFsic3RyaW5nIiwgImJvb2xlYW4iXSwKICAgICAgICAgICAgICAgICAgICAiZGVzY3JpcHRpb24iOiAiVGhlIGRlZmF1bHQgc3R5bGUgb2YgaGFuZGxpbmcgZGlydHkgdXBkYXRlcywgZGVmYXVsdHMgdG8gZmFsc2UgYW5kIGNhbiBiZSBhbnkgb2YgdHJ1ZSwgZmFsc2Ugb3IgXCJzdGFzaFwiLiIKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAiYXV0b2xvYWRlci1zdWZmaXgiOiB7CiAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAic3RyaW5nIiwKICAgICAgICAgICAgICAgICAgICAiZGVzY3JpcHRpb24iOiAiT3B0aW9uYWwgc3RyaW5nIHRvIGJlIHVzZWQgYXMgYSBzdWZmaXggZm9yIHRoZSBnZW5lcmF0ZWQgQ29tcG9zZXIgYXV0b2xvYWRlci4gV2hlbiBudWxsIGEgcmFuZG9tIG9uZSB3aWxsIGJlIGdlbmVyYXRlZC4iCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgIm9wdGltaXplLWF1dG9sb2FkZXIiOiB7CiAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAiYm9vbGVhbiIsCiAgICAgICAgICAgICAgICAgICAgImRlc2NyaXB0aW9uIjogIkFsd2F5cyBvcHRpbWl6ZSB3aGVuIGR1bXBpbmcgdGhlIGF1dG9sb2FkZXIuIgogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICJwcmVwZW5kLWF1dG9sb2FkZXIiOiB7CiAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAiYm9vbGVhbiIsCiAgICAgICAgICAgICAgICAgICAgImRlc2NyaXB0aW9uIjogIklmIGZhbHNlLCB0aGUgY29tcG9zZXIgYXV0b2xvYWRlciB3aWxsIG5vdCBiZSBwcmVwZW5kZWQgdG8gZXhpc3RpbmcgYXV0b2xvYWRlcnMsIGRlZmF1bHRzIHRvIHRydWUuIgogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICJjbGFzc21hcC1hdXRob3JpdGF0aXZlIjogewogICAgICAgICAgICAgICAgICAgICJ0eXBlIjogImJvb2xlYW4iLAogICAgICAgICAgICAgICAgICAgICJkZXNjcmlwdGlvbiI6ICJJZiB0cnVlLCB0aGUgY29tcG9zZXIgYXV0b2xvYWRlciB3aWxsIG5vdCBzY2FuIHRoZSBmaWxlc3lzdGVtIGZvciBjbGFzc2VzIHRoYXQgYXJlIG5vdCBmb3VuZCBpbiB0aGUgY2xhc3MgbWFwLCBkZWZhdWx0cyB0byBmYWxzZS4iCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgImFwY3UtYXV0b2xvYWRlciI6IHsKICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJib29sZWFuIiwKICAgICAgICAgICAgICAgICAgICAiZGVzY3JpcHRpb24iOiAiSWYgdHJ1ZSwgdGhlIENvbXBvc2VyIGF1dG9sb2FkZXIgd2lsbCBjaGVjayBmb3IgQVBDdSBhbmQgdXNlIGl0IHRvIGNhY2hlIGZvdW5kL25vdC1mb3VuZCBjbGFzc2VzIHdoZW4gdGhlIGV4dGVuc2lvbiBpcyBlbmFibGVkLCBkZWZhdWx0cyB0byBmYWxzZS4iCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgImdpdGh1Yi1kb21haW5zIjogewogICAgICAgICAgICAgICAgICAgICJ0eXBlIjogImFycmF5IiwKICAgICAgICAgICAgICAgICAgICAiZGVzY3JpcHRpb24iOiAiQSBsaXN0IG9mIGRvbWFpbnMgdG8gdXNlIGluIGdpdGh1YiBtb2RlLiBUaGlzIGlzIHVzZWQgZm9yIEdpdEh1YiBFbnRlcnByaXNlIHNldHVwcywgZGVmYXVsdHMgdG8gW1wiZ2l0aHViLmNvbVwiXS4iLAogICAgICAgICAgICAgICAgICAgICJpdGVtcyI6IHsKICAgICAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAic3RyaW5nIgogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAiZ2l0aHViLWV4cG9zZS1ob3N0bmFtZSI6IHsKICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJib29sZWFuIiwKICAgICAgICAgICAgICAgICAgICAiZGVzY3JpcHRpb24iOiAiRGVmYXVsdHMgdG8gdHJ1ZS4gSWYgc2V0IHRvIGZhbHNlLCB0aGUgT0F1dGggdG9rZW5zIGNyZWF0ZWQgdG8gYWNjZXNzIHRoZSBnaXRodWIgQVBJIHdpbGwgaGF2ZSBhIGRhdGUgaW5zdGVhZCBvZiB0aGUgbWFjaGluZSBob3N0bmFtZS4iCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgImdpdGxhYi1kb21haW5zIjogewogICAgICAgICAgICAgICAgICAgICJ0eXBlIjogImFycmF5IiwKICAgICAgICAgICAgICAgICAgICAiZGVzY3JpcHRpb24iOiAiQSBsaXN0IG9mIGRvbWFpbnMgdG8gdXNlIGluIGdpdGxhYiBtb2RlLiBUaGlzIGlzIHVzZWQgZm9yIGN1c3RvbSBHaXRMYWIgc2V0dXBzLCBkZWZhdWx0cyB0byBbXCJnaXRsYWIuY29tXCJdLiIsCiAgICAgICAgICAgICAgICAgICAgIml0ZW1zIjogewogICAgICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJzdHJpbmciCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICJ1c2UtZ2l0aHViLWFwaSI6IHsKICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJib29sZWFuIiwKICAgICAgICAgICAgICAgICAgICAiZGVzY3JpcHRpb24iOiAiRGVmYXVsdHMgdG8gdHJ1ZS4gIElmIHNldCB0byBmYWxzZSwgZ2xvYmFsbHkgZGlzYWJsZXMgdGhlIHVzZSBvZiB0aGUgR2l0SHViIEFQSSBmb3IgYWxsIEdpdEh1YiByZXBvc2l0b3JpZXMgYW5kIGNsb25lcyB0aGUgcmVwb3NpdG9yeSBhcyBpdCB3b3VsZCBmb3IgYW55IG90aGVyIHJlcG9zaXRvcnkuIgogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICJhcmNoaXZlLWZvcm1hdCI6IHsKICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJzdHJpbmciLAogICAgICAgICAgICAgICAgICAgICJkZXNjcmlwdGlvbiI6ICJUaGUgZGVmYXVsdCBhcmNoaXZpbmcgZm9ybWF0IHdoZW4gbm90IHByb3ZpZGVkIG9uIGNsaSwgZGVmYXVsdHMgdG8gXCJ0YXJcIi4iCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgImFyY2hpdmUtZGlyIjogewogICAgICAgICAgICAgICAgICAgICJ0eXBlIjogInN0cmluZyIsCiAgICAgICAgICAgICAgICAgICAgImRlc2NyaXB0aW9uIjogIlRoZSBkZWZhdWx0IGFyY2hpdmUgcGF0aCB3aGVuIG5vdCBwcm92aWRlZCBvbiBjbGksIGRlZmF1bHRzIHRvIFwiLlwiLiIKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAiaHRhY2Nlc3MtcHJvdGVjdCI6IHsKICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJib29sZWFuIiwKICAgICAgICAgICAgICAgICAgICAiZGVzY3JpcHRpb24iOiAiRGVmYXVsdHMgdG8gdHJ1ZS4gSWYgc2V0IHRvIGZhbHNlLCBDb21wb3NlciB3aWxsIG5vdCBjcmVhdGUgLmh0YWNjZXNzIGZpbGVzIGluIHRoZSBjb21wb3NlciBob21lLCBjYWNoZSwgYW5kIGRhdGEgZGlyZWN0b3JpZXMuIgogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICJzb3J0LXBhY2thZ2VzIjogewogICAgICAgICAgICAgICAgICAgICJ0eXBlIjogImJvb2xlYW4iLAogICAgICAgICAgICAgICAgICAgICJkZXNjcmlwdGlvbiI6ICJEZWZhdWx0cyB0byBmYWxzZS4gSWYgc2V0IHRvIHRydWUsIENvbXBvc2VyIHdpbGwgc29ydCBwYWNrYWdlcyB3aGVuIGFkZGluZy91cGRhdGluZyBhIG5ldyBkZXBlbmRlbmN5LiIKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAibG9jayI6IHsKICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJib29sZWFuIiwKICAgICAgICAgICAgICAgICAgICAiZGVzY3JpcHRpb24iOiAiRGVmYXVsdHMgdG8gdHJ1ZS4gSWYgc2V0IHRvIGZhbHNlLCBDb21wb3NlciB3aWxsIG5vdCBjcmVhdGUgYSBjb21wb3Nlci5sb2NrIGZpbGUuIgogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICJwbGF0Zm9ybS1jaGVjayI6IHsKICAgICAgICAgICAgICAgICAgICAidHlwZSI6IFsiYm9vbGVhbiIsICJzdHJpbmciXSwKICAgICAgICAgICAgICAgICAgICAiZGVzY3JpcHRpb24iOiAiRGVmYXVsdHMgdG8gXCJwaHAtb25seVwiIHdoaWNoIGNoZWNrcyBvbmx5IHRoZSBQSFAgdmVyc2lvbi4gU2V0dGluZyB0byB0cnVlIHdpbGwgYWxzbyBjaGVjayB0aGUgcHJlc2VuY2Ugb2YgcmVxdWlyZWQgUEhQIGV4dGVuc2lvbnMuIElmIHNldCB0byBmYWxzZSwgQ29tcG9zZXIgd2lsbCBub3QgY3JlYXRlIGFuZCByZXF1aXJlIGEgcGxhdGZvcm1fY2hlY2sucGhwIGZpbGUgYXMgcGFydCBvZiB0aGUgYXV0b2xvYWRlciBib290c3RyYXAuIgogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICAiZXh0cmEiOiB7CiAgICAgICAgICAgICJ0eXBlIjogWyJvYmplY3QiLCAiYXJyYXkiXSwKICAgICAgICAgICAgImRlc2NyaXB0aW9uIjogIkFyYml0cmFyeSBleHRyYSBkYXRhIHRoYXQgY2FuIGJlIHVzZWQgYnkgcGx1Z2lucywgZm9yIGV4YW1wbGUsIHBhY2thZ2Ugb2YgdHlwZSBjb21wb3Nlci1wbHVnaW4gbWF5IGhhdmUgYSAnY2xhc3MnIGtleSBkZWZpbmluZyBhbiBpbnN0YWxsZXIgY2xhc3MgbmFtZS4iLAogICAgICAgICAgICAiYWRkaXRpb25hbFByb3BlcnRpZXMiOiB0cnVlCiAgICAgICAgfSwKICAgICAgICAiYXV0b2xvYWQiOiB7CiAgICAgICAgICAgICIkcmVmIjogIiMvZGVmaW5pdGlvbnMvYXV0b2xvYWQiCiAgICAgICAgfSwKICAgICAgICAiYXV0b2xvYWQtZGV2IjogewogICAgICAgICAgICAidHlwZSI6ICJvYmplY3QiLAogICAgICAgICAgICAiZGVzY3JpcHRpb24iOiAiRGVzY3JpcHRpb24gb2YgYWRkaXRpb25hbCBhdXRvbG9hZCBydWxlcyBmb3IgZGV2ZWxvcG1lbnQgcHVycG9zZSAoZWcuIGEgdGVzdCBzdWl0ZSkuIiwKICAgICAgICAgICAgInByb3BlcnRpZXMiOiB7CiAgICAgICAgICAgICAgICAicHNyLTAiOiB7CiAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAib2JqZWN0IiwKICAgICAgICAgICAgICAgICAgICAiZGVzY3JpcHRpb24iOiAiVGhpcyBpcyBhIGhhc2ggb2YgbmFtZXNwYWNlcyAoa2V5cykgYW5kIHRoZSBkaXJlY3RvcmllcyB0aGV5IGNhbiBiZSBmb3VuZCBpbnRvICh2YWx1ZXMsIGNhbiBiZSBhcnJheXMgb2YgcGF0aHMpIGJ5IHRoZSBhdXRvbG9hZGVyLiIsCiAgICAgICAgICAgICAgICAgICAgImFkZGl0aW9uYWxQcm9wZXJ0aWVzIjogewogICAgICAgICAgICAgICAgICAgICAgICAidHlwZSI6IFsic3RyaW5nIiwgImFycmF5Il0sCiAgICAgICAgICAgICAgICAgICAgICAgICJpdGVtcyI6IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ0eXBlIjogInN0cmluZyIKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAicHNyLTQiOiB7CiAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAib2JqZWN0IiwKICAgICAgICAgICAgICAgICAgICAiZGVzY3JpcHRpb24iOiAiVGhpcyBpcyBhIGhhc2ggb2YgbmFtZXNwYWNlcyAoa2V5cykgYW5kIHRoZSBQU1ItNCBkaXJlY3RvcmllcyB0aGV5IGNhbiBtYXAgdG8gKHZhbHVlcywgY2FuIGJlIGFycmF5cyBvZiBwYXRocykgYnkgdGhlIGF1dG9sb2FkZXIuIiwKICAgICAgICAgICAgICAgICAgICAiYWRkaXRpb25hbFByb3BlcnRpZXMiOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICJ0eXBlIjogWyJzdHJpbmciLCAiYXJyYXkiXSwKICAgICAgICAgICAgICAgICAgICAgICAgIml0ZW1zIjogewogICAgICAgICAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAic3RyaW5nIgogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICJjbGFzc21hcCI6IHsKICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJhcnJheSIsCiAgICAgICAgICAgICAgICAgICAgImRlc2NyaXB0aW9uIjogIlRoaXMgaXMgYW4gYXJyYXkgb2YgcGF0aHMgdGhhdCBjb250YWluIGNsYXNzZXMgdG8gYmUgaW5jbHVkZWQgaW4gdGhlIGNsYXNzLW1hcCBnZW5lcmF0aW9uIHByb2Nlc3MuIgogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICJmaWxlcyI6IHsKICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJhcnJheSIsCiAgICAgICAgICAgICAgICAgICAgImRlc2NyaXB0aW9uIjogIlRoaXMgaXMgYW4gYXJyYXkgb2YgZmlsZXMgdGhhdCBhcmUgYWx3YXlzIHJlcXVpcmVkIG9uIGV2ZXJ5IHJlcXVlc3QuIgogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICAiYXJjaGl2ZSI6IHsKICAgICAgICAgICAgInR5cGUiOiBbIm9iamVjdCJdLAogICAgICAgICAgICAiZGVzY3JpcHRpb24iOiAiT3B0aW9ucyBmb3IgY3JlYXRpbmcgcGFja2FnZSBhcmNoaXZlcyBmb3IgZGlzdHJpYnV0aW9uLiIsCiAgICAgICAgICAgICJwcm9wZXJ0aWVzIjogewogICAgICAgICAgICAgICAgIm5hbWUiOiB7CiAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAic3RyaW5nIiwKICAgICAgICAgICAgICAgICAgICAiZGVzY3JpcHRpb24iOiAiQSBiYXNlIG5hbWUgZm9yIGFyY2hpdmUuIgogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICJleGNsdWRlIjogewogICAgICAgICAgICAgICAgICAgICJ0eXBlIjogImFycmF5IiwKICAgICAgICAgICAgICAgICAgICAiZGVzY3JpcHRpb24iOiAiQSBsaXN0IG9mIHBhdHRlcm5zIGZvciBwYXRocyB0byBleGNsdWRlIG9yIGluY2x1ZGUgaWYgcHJlZml4ZWQgd2l0aCBhbiBleGNsYW1hdGlvbiBtYXJrLiIKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgInJlcG9zaXRvcmllcyI6IHsKICAgICAgICAgICAgInR5cGUiOiBbIm9iamVjdCIsICJhcnJheSJdLAogICAgICAgICAgICAiZGVzY3JpcHRpb24iOiAiQSBzZXQgb2YgYWRkaXRpb25hbCByZXBvc2l0b3JpZXMgd2hlcmUgcGFja2FnZXMgY2FuIGJlIGZvdW5kLiIsCiAgICAgICAgICAgICJhZGRpdGlvbmFsUHJvcGVydGllcyI6IHsKICAgICAgICAgICAgICAgICJhbnlPZiI6IFsKICAgICAgICAgICAgICAgICAgICB7ICIkcmVmIjogIiMvZGVmaW5pdGlvbnMvcmVwb3NpdG9yeSIgfSwKICAgICAgICAgICAgICAgICAgICB7ICJ0eXBlIjogImJvb2xlYW4iLCAiZW51bSI6IFtmYWxzZV0gfQogICAgICAgICAgICAgICAgXQogICAgICAgICAgICB9LAogICAgICAgICAgICAiaXRlbXMiOiB7CiAgICAgICAgICAgICAgICAiYW55T2YiOiBbCiAgICAgICAgICAgICAgICAgICAgeyAiJHJlZiI6ICIjL2RlZmluaXRpb25zL3JlcG9zaXRvcnkiIH0sCiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJvYmplY3QiLAogICAgICAgICAgICAgICAgICAgICAgICAiYWRkaXRpb25hbFByb3BlcnRpZXMiOiB7ICJ0eXBlIjogImJvb2xlYW4iLCAiZW51bSI6IFtmYWxzZV0gfSwKICAgICAgICAgICAgICAgICAgICAgICAgIm1pblByb3BlcnRpZXMiOiAxLAogICAgICAgICAgICAgICAgICAgICAgICAibWF4UHJvcGVydGllcyI6IDEKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBdCiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgICJtaW5pbXVtLXN0YWJpbGl0eSI6IHsKICAgICAgICAgICAgInR5cGUiOiBbInN0cmluZyJdLAogICAgICAgICAgICAiZGVzY3JpcHRpb24iOiAiVGhlIG1pbmltdW0gc3RhYmlsaXR5IHRoZSBwYWNrYWdlcyBtdXN0IGhhdmUgdG8gYmUgaW5zdGFsbC1hYmxlLiBQb3NzaWJsZSB2YWx1ZXMgYXJlOiBkZXYsIGFscGhhLCBiZXRhLCBSQywgc3RhYmxlLiIsCiAgICAgICAgICAgICJlbnVtIjogWyJkZXYiLCAiYWxwaGEiLCAiYmV0YSIsICJyYyIsICJSQyIsICJzdGFibGUiXQogICAgICAgIH0sCiAgICAgICAgInByZWZlci1zdGFibGUiOiB7CiAgICAgICAgICAgICJ0eXBlIjogWyJib29sZWFuIl0sCiAgICAgICAgICAgICJkZXNjcmlwdGlvbiI6ICJJZiBzZXQgdG8gdHJ1ZSwgc3RhYmxlIHBhY2thZ2VzIHdpbGwgYmUgcHJlZmVycmVkIHRvIGRldiBwYWNrYWdlcyB3aGVuIHBvc3NpYmxlLCBldmVuIGlmIHRoZSBtaW5pbXVtLXN0YWJpbGl0eSBhbGxvd3MgdW5zdGFibGUgcGFja2FnZXMuIgogICAgICAgIH0sCiAgICAgICAgImJpbiI6IHsKICAgICAgICAgICAgInR5cGUiOiBbInN0cmluZyIsICJhcnJheSJdLAogICAgICAgICAgICAiZGVzY3JpcHRpb24iOiAiQSBzZXQgb2YgZmlsZXMsIG9yIGEgc2luZ2xlIGZpbGUsIHRoYXQgc2hvdWxkIGJlIHRyZWF0ZWQgYXMgYmluYXJpZXMgYW5kIHN5bWxpbmtlZCBpbnRvIGJpbi1kaXIgKGZyb20gY29uZmlnKS4iLAogICAgICAgICAgICAiaXRlbXMiOiB7CiAgICAgICAgICAgICAgICAidHlwZSI6ICJzdHJpbmciCiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgICJpbmNsdWRlLXBhdGgiOiB7CiAgICAgICAgICAgICJ0eXBlIjogWyJhcnJheSJdLAogICAgICAgICAgICAiZGVzY3JpcHRpb24iOiAiREVQUkVDQVRFRDogQSBsaXN0IG9mIGRpcmVjdG9yaWVzIHdoaWNoIHNob3VsZCBnZXQgYWRkZWQgdG8gUEhQJ3MgaW5jbHVkZSBwYXRoLiBUaGlzIGlzIG9ubHkgcHJlc2VudCB0byBzdXBwb3J0IGxlZ2FjeSBwcm9qZWN0cywgYW5kIGFsbCBuZXcgY29kZSBzaG91bGQgcHJlZmVyYWJseSB1c2UgYXV0b2xvYWRpbmcuIiwKICAgICAgICAgICAgIml0ZW1zIjogewogICAgICAgICAgICAgICAgInR5cGUiOiAic3RyaW5nIgogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICAic2NyaXB0cyI6IHsKICAgICAgICAgICAgInR5cGUiOiBbIm9iamVjdCJdLAogICAgICAgICAgICAiZGVzY3JpcHRpb24iOiAiU2NyaXB0IGxpc3RlbmVycyB0aGF0IHdpbGwgYmUgZXhlY3V0ZWQgYmVmb3JlL2FmdGVyIHNvbWUgZXZlbnRzLiIsCiAgICAgICAgICAgICJwcm9wZXJ0aWVzIjogewogICAgICAgICAgICAgICAgInByZS1pbnN0YWxsLWNtZCI6IHsKICAgICAgICAgICAgICAgICAgICAidHlwZSI6IFsiYXJyYXkiLCAic3RyaW5nIl0sCiAgICAgICAgICAgICAgICAgICAgImRlc2NyaXB0aW9uIjogIk9jY3VycyBiZWZvcmUgdGhlIGluc3RhbGwgY29tbWFuZCBpcyBleGVjdXRlZCwgY29udGFpbnMgb25lIG9yIG1vcmUgQ2xhc3M6Om1ldGhvZCBjYWxsYWJsZXMgb3Igc2hlbGwgY29tbWFuZHMuIgogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICJwb3N0LWluc3RhbGwtY21kIjogewogICAgICAgICAgICAgICAgICAgICJ0eXBlIjogWyJhcnJheSIsICJzdHJpbmciXSwKICAgICAgICAgICAgICAgICAgICAiZGVzY3JpcHRpb24iOiAiT2NjdXJzIGFmdGVyIHRoZSBpbnN0YWxsIGNvbW1hbmQgaXMgZXhlY3V0ZWQsIGNvbnRhaW5zIG9uZSBvciBtb3JlIENsYXNzOjptZXRob2QgY2FsbGFibGVzIG9yIHNoZWxsIGNvbW1hbmRzLiIKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAicHJlLXVwZGF0ZS1jbWQiOiB7CiAgICAgICAgICAgICAgICAgICAgInR5cGUiOiBbImFycmF5IiwgInN0cmluZyJdLAogICAgICAgICAgICAgICAgICAgICJkZXNjcmlwdGlvbiI6ICJPY2N1cnMgYmVmb3JlIHRoZSB1cGRhdGUgY29tbWFuZCBpcyBleGVjdXRlZCwgY29udGFpbnMgb25lIG9yIG1vcmUgQ2xhc3M6Om1ldGhvZCBjYWxsYWJsZXMgb3Igc2hlbGwgY29tbWFuZHMuIgogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICJwb3N0LXVwZGF0ZS1jbWQiOiB7CiAgICAgICAgICAgICAgICAgICAgInR5cGUiOiBbImFycmF5IiwgInN0cmluZyJdLAogICAgICAgICAgICAgICAgICAgICJkZXNjcmlwdGlvbiI6ICJPY2N1cnMgYWZ0ZXIgdGhlIHVwZGF0ZSBjb21tYW5kIGlzIGV4ZWN1dGVkLCBjb250YWlucyBvbmUgb3IgbW9yZSBDbGFzczo6bWV0aG9kIGNhbGxhYmxlcyBvciBzaGVsbCBjb21tYW5kcy4iCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgInByZS1zdGF0dXMtY21kIjogewogICAgICAgICAgICAgICAgICAgICJ0eXBlIjogWyJhcnJheSIsICJzdHJpbmciXSwKICAgICAgICAgICAgICAgICAgICAiZGVzY3JpcHRpb24iOiAiT2NjdXJzIGJlZm9yZSB0aGUgc3RhdHVzIGNvbW1hbmQgaXMgZXhlY3V0ZWQsIGNvbnRhaW5zIG9uZSBvciBtb3JlIENsYXNzOjptZXRob2QgY2FsbGFibGVzIG9yIHNoZWxsIGNvbW1hbmRzLiIKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAicG9zdC1zdGF0dXMtY21kIjogewogICAgICAgICAgICAgICAgICAgICJ0eXBlIjogWyJhcnJheSIsICJzdHJpbmciXSwKICAgICAgICAgICAgICAgICAgICAiZGVzY3JpcHRpb24iOiAiT2NjdXJzIGFmdGVyIHRoZSBzdGF0dXMgY29tbWFuZCBpcyBleGVjdXRlZCwgY29udGFpbnMgb25lIG9yIG1vcmUgQ2xhc3M6Om1ldGhvZCBjYWxsYWJsZXMgb3Igc2hlbGwgY29tbWFuZHMuIgogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICJwcmUtcGFja2FnZS1pbnN0YWxsIjogewogICAgICAgICAgICAgICAgICAgICJ0eXBlIjogWyJhcnJheSIsICJzdHJpbmciXSwKICAgICAgICAgICAgICAgICAgICAiZGVzY3JpcHRpb24iOiAiT2NjdXJzIGJlZm9yZSBhIHBhY2thZ2UgaXMgaW5zdGFsbGVkLCBjb250YWlucyBvbmUgb3IgbW9yZSBDbGFzczo6bWV0aG9kIGNhbGxhYmxlcyBvciBzaGVsbCBjb21tYW5kcy4iCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgInBvc3QtcGFja2FnZS1pbnN0YWxsIjogewogICAgICAgICAgICAgICAgICAgICJ0eXBlIjogWyJhcnJheSIsICJzdHJpbmciXSwKICAgICAgICAgICAgICAgICAgICAiZGVzY3JpcHRpb24iOiAiT2NjdXJzIGFmdGVyIGEgcGFja2FnZSBpcyBpbnN0YWxsZWQsIGNvbnRhaW5zIG9uZSBvciBtb3JlIENsYXNzOjptZXRob2QgY2FsbGFibGVzIG9yIHNoZWxsIGNvbW1hbmRzLiIKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAicHJlLXBhY2thZ2UtdXBkYXRlIjogewogICAgICAgICAgICAgICAgICAgICJ0eXBlIjogWyJhcnJheSIsICJzdHJpbmciXSwKICAgICAgICAgICAgICAgICAgICAiZGVzY3JpcHRpb24iOiAiT2NjdXJzIGJlZm9yZSBhIHBhY2thZ2UgaXMgdXBkYXRlZCwgY29udGFpbnMgb25lIG9yIG1vcmUgQ2xhc3M6Om1ldGhvZCBjYWxsYWJsZXMgb3Igc2hlbGwgY29tbWFuZHMuIgogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICJwb3N0LXBhY2thZ2UtdXBkYXRlIjogewogICAgICAgICAgICAgICAgICAgICJ0eXBlIjogWyJhcnJheSIsICJzdHJpbmciXSwKICAgICAgICAgICAgICAgICAgICAiZGVzY3JpcHRpb24iOiAiT2NjdXJzIGFmdGVyIGEgcGFja2FnZSBpcyB1cGRhdGVkLCBjb250YWlucyBvbmUgb3IgbW9yZSBDbGFzczo6bWV0aG9kIGNhbGxhYmxlcyBvciBzaGVsbCBjb21tYW5kcy4iCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgInByZS1wYWNrYWdlLXVuaW5zdGFsbCI6IHsKICAgICAgICAgICAgICAgICAgICAidHlwZSI6IFsiYXJyYXkiLCAic3RyaW5nIl0sCiAgICAgICAgICAgICAgICAgICAgImRlc2NyaXB0aW9uIjogIk9jY3VycyBiZWZvcmUgYSBwYWNrYWdlIGhhcyBiZWVuIHVuaW5zdGFsbGVkLCBjb250YWlucyBvbmUgb3IgbW9yZSBDbGFzczo6bWV0aG9kIGNhbGxhYmxlcyBvciBzaGVsbCBjb21tYW5kcy4iCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgInBvc3QtcGFja2FnZS11bmluc3RhbGwiOiB7CiAgICAgICAgICAgICAgICAgICAgInR5cGUiOiBbImFycmF5IiwgInN0cmluZyJdLAogICAgICAgICAgICAgICAgICAgICJkZXNjcmlwdGlvbiI6ICJPY2N1cnMgYWZ0ZXIgYSBwYWNrYWdlIGhhcyBiZWVuIHVuaW5zdGFsbGVkLCBjb250YWlucyBvbmUgb3IgbW9yZSBDbGFzczo6bWV0aG9kIGNhbGxhYmxlcyBvciBzaGVsbCBjb21tYW5kcy4iCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgInByZS1hdXRvbG9hZC1kdW1wIjogewogICAgICAgICAgICAgICAgICAgICJ0eXBlIjogWyJhcnJheSIsICJzdHJpbmciXSwKICAgICAgICAgICAgICAgICAgICAiZGVzY3JpcHRpb24iOiAiT2NjdXJzIGJlZm9yZSB0aGUgYXV0b2xvYWRlciBpcyBkdW1wZWQsIGNvbnRhaW5zIG9uZSBvciBtb3JlIENsYXNzOjptZXRob2QgY2FsbGFibGVzIG9yIHNoZWxsIGNvbW1hbmRzLiIKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAicG9zdC1hdXRvbG9hZC1kdW1wIjogewogICAgICAgICAgICAgICAgICAgICJ0eXBlIjogWyJhcnJheSIsICJzdHJpbmciXSwKICAgICAgICAgICAgICAgICAgICAiZGVzY3JpcHRpb24iOiAiT2NjdXJzIGFmdGVyIHRoZSBhdXRvbG9hZGVyIGlzIGR1bXBlZCwgY29udGFpbnMgb25lIG9yIG1vcmUgQ2xhc3M6Om1ldGhvZCBjYWxsYWJsZXMgb3Igc2hlbGwgY29tbWFuZHMuIgogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICJwb3N0LXJvb3QtcGFja2FnZS1pbnN0YWxsIjogewogICAgICAgICAgICAgICAgICAgICJ0eXBlIjogWyJhcnJheSIsICJzdHJpbmciXSwKICAgICAgICAgICAgICAgICAgICAiZGVzY3JpcHRpb24iOiAiT2NjdXJzIGFmdGVyIHRoZSByb290LXBhY2thZ2UgaXMgaW5zdGFsbGVkLCBjb250YWlucyBvbmUgb3IgbW9yZSBDbGFzczo6bWV0aG9kIGNhbGxhYmxlcyBvciBzaGVsbCBjb21tYW5kcy4iCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgInBvc3QtY3JlYXRlLXByb2plY3QtY21kIjogewogICAgICAgICAgICAgICAgICAgICJ0eXBlIjogWyJhcnJheSIsICJzdHJpbmciXSwKICAgICAgICAgICAgICAgICAgICAiZGVzY3JpcHRpb24iOiAiT2NjdXJzIGFmdGVyIHRoZSBjcmVhdGUtcHJvamVjdCBjb21tYW5kIGlzIGV4ZWN1dGVkLCBjb250YWlucyBvbmUgb3IgbW9yZSBDbGFzczo6bWV0aG9kIGNhbGxhYmxlcyBvciBzaGVsbCBjb21tYW5kcy4iCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgICJzY3JpcHRzLWRlc2NyaXB0aW9ucyI6IHsKICAgICAgICAgICAgInR5cGUiOiBbIm9iamVjdCJdLAogICAgICAgICAgICAiZGVzY3JpcHRpb24iOiAiRGVzY3JpcHRpb25zIGZvciBjdXN0b20gY29tbWFuZHMsIHNob3duIGluIGNvbnNvbGUgaGVscC4iLAogICAgICAgICAgICAiYWRkaXRpb25hbFByb3BlcnRpZXMiOiB7CiAgICAgICAgICAgICAgICAidHlwZSI6ICJzdHJpbmciCiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgICJzdXBwb3J0IjogewogICAgICAgICAgICAidHlwZSI6ICJvYmplY3QiLAogICAgICAgICAgICAicHJvcGVydGllcyI6IHsKICAgICAgICAgICAgICAgICJlbWFpbCI6IHsKICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJzdHJpbmciLAogICAgICAgICAgICAgICAgICAgICJkZXNjcmlwdGlvbiI6ICJFbWFpbCBhZGRyZXNzIGZvciBzdXBwb3J0LiIsCiAgICAgICAgICAgICAgICAgICAgImZvcm1hdCI6ICJlbWFpbCIKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAiaXNzdWVzIjogewogICAgICAgICAgICAgICAgICAgICJ0eXBlIjogInN0cmluZyIsCiAgICAgICAgICAgICAgICAgICAgImRlc2NyaXB0aW9uIjogIlVSTCB0byB0aGUgaXNzdWUgdHJhY2tlci4iLAogICAgICAgICAgICAgICAgICAgICJmb3JtYXQiOiAidXJpIgogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICJmb3J1bSI6IHsKICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJzdHJpbmciLAogICAgICAgICAgICAgICAgICAgICJkZXNjcmlwdGlvbiI6ICJVUkwgdG8gdGhlIGZvcnVtLiIsCiAgICAgICAgICAgICAgICAgICAgImZvcm1hdCI6ICJ1cmkiCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgIndpa2kiOiB7CiAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAic3RyaW5nIiwKICAgICAgICAgICAgICAgICAgICAiZGVzY3JpcHRpb24iOiAiVVJMIHRvIHRoZSB3aWtpLiIsCiAgICAgICAgICAgICAgICAgICAgImZvcm1hdCI6ICJ1cmkiCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgImlyYyI6IHsKICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJzdHJpbmciLAogICAgICAgICAgICAgICAgICAgICJkZXNjcmlwdGlvbiI6ICJJUkMgY2hhbm5lbCBmb3Igc3VwcG9ydCwgYXMgaXJjOi8vc2VydmVyL2NoYW5uZWwuIiwKICAgICAgICAgICAgICAgICAgICAiZm9ybWF0IjogInVyaSIKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAiY2hhdCI6IHsKICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJzdHJpbmciLAogICAgICAgICAgICAgICAgICAgICJkZXNjcmlwdGlvbiI6ICJVUkwgdG8gdGhlIHN1cHBvcnQgY2hhdC4iLAogICAgICAgICAgICAgICAgICAgICJmb3JtYXQiOiAidXJpIgogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICJzb3VyY2UiOiB7CiAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAic3RyaW5nIiwKICAgICAgICAgICAgICAgICAgICAiZGVzY3JpcHRpb24iOiAiVVJMIHRvIGJyb3dzZSBvciBkb3dubG9hZCB0aGUgc291cmNlcy4iLAogICAgICAgICAgICAgICAgICAgICJmb3JtYXQiOiAidXJpIgogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICJkb2NzIjogewogICAgICAgICAgICAgICAgICAgICJ0eXBlIjogInN0cmluZyIsCiAgICAgICAgICAgICAgICAgICAgImRlc2NyaXB0aW9uIjogIlVSTCB0byB0aGUgZG9jdW1lbnRhdGlvbi4iLAogICAgICAgICAgICAgICAgICAgICJmb3JtYXQiOiAidXJpIgogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICJyc3MiOiB7CiAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAic3RyaW5nIiwKICAgICAgICAgICAgICAgICAgICAiZGVzY3JpcHRpb24iOiAiVVJMIHRvIHRoZSBSU1MgZmVlZC4iLAogICAgICAgICAgICAgICAgICAgICJmb3JtYXQiOiAidXJpIgogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICAiZnVuZGluZyI6IHsKICAgICAgICAgICAgInR5cGUiOiAiYXJyYXkiLAogICAgICAgICAgICAiZGVzY3JpcHRpb24iOiAiQSBsaXN0IG9mIG9wdGlvbnMgdG8gZnVuZCB0aGUgZGV2ZWxvcG1lbnQgYW5kIG1haW50ZW5hbmNlIG9mIHRoZSBwYWNrYWdlLiIsCiAgICAgICAgICAgICJpdGVtcyI6IHsKICAgICAgICAgICAgICAgICJ0eXBlIjogIm9iamVjdCIsCiAgICAgICAgICAgICAgICAicHJvcGVydGllcyI6IHsKICAgICAgICAgICAgICAgICAgICAidHlwZSI6IHsKICAgICAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAic3RyaW5nIiwKICAgICAgICAgICAgICAgICAgICAgICAgImRlc2NyaXB0aW9uIjogIlR5cGUgb2YgZnVuZGluZyBvciBwbGF0Zm9ybSB0aHJvdWdoIHdoaWNoIGZ1bmRpbmcgaXMgcG9zc2libGUuIgogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgInVybCI6IHsKICAgICAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAic3RyaW5nIiwKICAgICAgICAgICAgICAgICAgICAgICAgImRlc2NyaXB0aW9uIjogIlVSTCB0byBhIHdlYnNpdGUgd2l0aCBkZXRhaWxzIG9uIGZ1bmRpbmcgYW5kIGEgd2F5IHRvIGZ1bmQgdGhlIHBhY2thZ2UuIiwKICAgICAgICAgICAgICAgICAgICAgICAgImZvcm1hdCI6ICJ1cmkiCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICAibm9uLWZlYXR1cmUtYnJhbmNoZXMiOiB7CiAgICAgICAgICAgICJ0eXBlIjogWyJhcnJheSJdLAogICAgICAgICAgICAiZGVzY3JpcHRpb24iOiAiQSBzZXQgb2Ygc3RyaW5nIG9yIHJlZ2V4IHBhdHRlcm5zIGZvciBub24tbnVtZXJpYyBicmFuY2ggbmFtZXMgdGhhdCB3aWxsIG5vdCBiZSBoYW5kbGVkIGFzIGZlYXR1cmUgYnJhbmNoZXMuIiwKICAgICAgICAgICAgIml0ZW1zIjogewogICAgICAgICAgICAgICAgInR5cGUiOiAic3RyaW5nIgogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICAiZGVmYXVsdC1icmFuY2giOiB7CiAgICAgICAgICAgICJ0eXBlIjogWyJib29sZWFuIl0sCiAgICAgICAgICAgICJkZXNjcmlwdGlvbiI6ICJJbnRlcm5hbCB1c2Ugb25seSwgZG8gbm90IHNwZWNpZnkgdGhpcyBpbiBjb21wb3Nlci5qc29uLiBJbmRpY2F0ZXMgd2hldGhlciB0aGlzIHZlcnNpb24gaXMgdGhlIGRlZmF1bHQgYnJhbmNoIG9mIHRoZSBsaW5rZWQgVkNTIHJlcG9zaXRvcnkuIERlZmF1bHRzIHRvIGZhbHNlLiIKICAgICAgICB9LAogICAgICAgICJhYmFuZG9uZWQiOiB7CiAgICAgICAgICAgICJ0eXBlIjogWyJib29sZWFuIiwgInN0cmluZyJdLAogICAgICAgICAgICAiZGVzY3JpcHRpb24iOiAiSW5kaWNhdGVzIHdoZXRoZXIgdGhpcyBwYWNrYWdlIGhhcyBiZWVuIGFiYW5kb25lZCwgaXQgY2FuIGJlIGJvb2xlYW4gb3IgYSBwYWNrYWdlIG5hbWUvVVJMIHBvaW50aW5nIHRvIGEgcmVjb21tZW5kZWQgYWx0ZXJuYXRpdmUuIERlZmF1bHRzIHRvIGZhbHNlLiIKICAgICAgICB9LAogICAgICAgICJfY29tbWVudCI6IHsKICAgICAgICAgICAgInR5cGUiOiBbImFycmF5IiwgInN0cmluZyJdLAogICAgICAgICAgICAiZGVzY3JpcHRpb24iOiAiQSBrZXkgdG8gc3RvcmUgY29tbWVudHMgaW4iCiAgICAgICAgfQogICAgfSwKICAgICJkZWZpbml0aW9ucyI6IHsKICAgICAgICAiYXV0aG9ycyI6IHsKICAgICAgICAgICAgInR5cGUiOiAiYXJyYXkiLAogICAgICAgICAgICAiZGVzY3JpcHRpb24iOiAiTGlzdCBvZiBhdXRob3JzIHRoYXQgY29udHJpYnV0ZWQgdG8gdGhlIHBhY2thZ2UuIFRoaXMgaXMgdHlwaWNhbGx5IHRoZSBtYWluIG1haW50YWluZXJzLCBub3QgdGhlIGZ1bGwgbGlzdC4iLAogICAgICAgICAgICAiaXRlbXMiOiB7CiAgICAgICAgICAgICAgICAidHlwZSI6ICJvYmplY3QiLAogICAgICAgICAgICAgICAgImFkZGl0aW9uYWxQcm9wZXJ0aWVzIjogZmFsc2UsCiAgICAgICAgICAgICAgICAicmVxdWlyZWQiOiBbICJuYW1lIl0sCiAgICAgICAgICAgICAgICAicHJvcGVydGllcyI6IHsKICAgICAgICAgICAgICAgICAgICAibmFtZSI6IHsKICAgICAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAic3RyaW5nIiwKICAgICAgICAgICAgICAgICAgICAgICAgImRlc2NyaXB0aW9uIjogIkZ1bGwgbmFtZSBvZiB0aGUgYXV0aG9yLiIKICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICJlbWFpbCI6IHsKICAgICAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAic3RyaW5nIiwKICAgICAgICAgICAgICAgICAgICAgICAgImRlc2NyaXB0aW9uIjogIkVtYWlsIGFkZHJlc3Mgb2YgdGhlIGF1dGhvci4iLAogICAgICAgICAgICAgICAgICAgICAgICAiZm9ybWF0IjogImVtYWlsIgogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgImhvbWVwYWdlIjogewogICAgICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJzdHJpbmciLAogICAgICAgICAgICAgICAgICAgICAgICAiZGVzY3JpcHRpb24iOiAiSG9tZXBhZ2UgVVJMIGZvciB0aGUgYXV0aG9yLiIsCiAgICAgICAgICAgICAgICAgICAgICAgICJmb3JtYXQiOiAidXJpIgogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgInJvbGUiOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICJ0eXBlIjogInN0cmluZyIsCiAgICAgICAgICAgICAgICAgICAgICAgICJkZXNjcmlwdGlvbiI6ICJBdXRob3IncyByb2xlIGluIHRoZSBwcm9qZWN0LiIKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgICJhdXRvbG9hZCI6IHsKICAgICAgICAgICAgInR5cGUiOiAib2JqZWN0IiwKICAgICAgICAgICAgImRlc2NyaXB0aW9uIjogIkRlc2NyaXB0aW9uIG9mIGhvdyB0aGUgcGFja2FnZSBjYW4gYmUgYXV0b2xvYWRlZC4iLAogICAgICAgICAgICAicHJvcGVydGllcyI6IHsKICAgICAgICAgICAgICAgICJwc3ItMCI6IHsKICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJvYmplY3QiLAogICAgICAgICAgICAgICAgICAgICJkZXNjcmlwdGlvbiI6ICJUaGlzIGlzIGEgaGFzaCBvZiBuYW1lc3BhY2VzIChrZXlzKSBhbmQgdGhlIGRpcmVjdG9yaWVzIHRoZXkgY2FuIGJlIGZvdW5kIGluICh2YWx1ZXMsIGNhbiBiZSBhcnJheXMgb2YgcGF0aHMpIGJ5IHRoZSBhdXRvbG9hZGVyLiIsCiAgICAgICAgICAgICAgICAgICAgImFkZGl0aW9uYWxQcm9wZXJ0aWVzIjogewogICAgICAgICAgICAgICAgICAgICAgICAidHlwZSI6IFsic3RyaW5nIiwgImFycmF5Il0sCiAgICAgICAgICAgICAgICAgICAgICAgICJpdGVtcyI6IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ0eXBlIjogInN0cmluZyIKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAicHNyLTQiOiB7CiAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAib2JqZWN0IiwKICAgICAgICAgICAgICAgICAgICAiZGVzY3JpcHRpb24iOiAiVGhpcyBpcyBhIGhhc2ggb2YgbmFtZXNwYWNlcyAoa2V5cykgYW5kIHRoZSBQU1ItNCBkaXJlY3RvcmllcyB0aGV5IGNhbiBtYXAgdG8gKHZhbHVlcywgY2FuIGJlIGFycmF5cyBvZiBwYXRocykgYnkgdGhlIGF1dG9sb2FkZXIuIiwKICAgICAgICAgICAgICAgICAgICAiYWRkaXRpb25hbFByb3BlcnRpZXMiOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICJ0eXBlIjogWyJzdHJpbmciLCAiYXJyYXkiXSwKICAgICAgICAgICAgICAgICAgICAgICAgIml0ZW1zIjogewogICAgICAgICAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAic3RyaW5nIgogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICJjbGFzc21hcCI6IHsKICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJhcnJheSIsCiAgICAgICAgICAgICAgICAgICAgImRlc2NyaXB0aW9uIjogIlRoaXMgaXMgYW4gYXJyYXkgb2YgcGF0aHMgdGhhdCBjb250YWluIGNsYXNzZXMgdG8gYmUgaW5jbHVkZWQgaW4gdGhlIGNsYXNzLW1hcCBnZW5lcmF0aW9uIHByb2Nlc3MuIgogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICJmaWxlcyI6IHsKICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJhcnJheSIsCiAgICAgICAgICAgICAgICAgICAgImRlc2NyaXB0aW9uIjogIlRoaXMgaXMgYW4gYXJyYXkgb2YgZmlsZXMgdGhhdCBhcmUgYWx3YXlzIHJlcXVpcmVkIG9uIGV2ZXJ5IHJlcXVlc3QuIgogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICJleGNsdWRlLWZyb20tY2xhc3NtYXAiOiB7CiAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAiYXJyYXkiLAogICAgICAgICAgICAgICAgICAgICJkZXNjcmlwdGlvbiI6ICJUaGlzIGlzIGFuIGFycmF5IG9mIHBhdHRlcm5zIHRvIGV4Y2x1ZGUgZnJvbSBhdXRvbG9hZCBjbGFzc21hcCBnZW5lcmF0aW9uLiAoZS5nLiBcImV4Y2x1ZGUtZnJvbS1jbGFzc21hcFwiOiBbXCIvdGVzdC9cIiwgXCIvdGVzdHMvXCIsIFwiL1Rlc3RzL1wiXSIKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgInJlcG9zaXRvcnkiOiB7CiAgICAgICAgICAgICJ0eXBlIjogIm9iamVjdCIsCiAgICAgICAgICAgICJhbnlPZiI6IFsKICAgICAgICAgICAgICAgIHsgIiRyZWYiOiAiIy9kZWZpbml0aW9ucy9jb21wb3Nlci1yZXBvc2l0b3J5IiB9LAogICAgICAgICAgICAgICAgeyAiJHJlZiI6ICIjL2RlZmluaXRpb25zL3Zjcy1yZXBvc2l0b3J5IiB9LAogICAgICAgICAgICAgICAgeyAiJHJlZiI6ICIjL2RlZmluaXRpb25zL3BhdGgtcmVwb3NpdG9yeSIgfSwKICAgICAgICAgICAgICAgIHsgIiRyZWYiOiAiIy9kZWZpbml0aW9ucy9hcnRpZmFjdC1yZXBvc2l0b3J5IiB9LAogICAgICAgICAgICAgICAgeyAiJHJlZiI6ICIjL2RlZmluaXRpb25zL3BlYXItcmVwb3NpdG9yeSIgfSwKICAgICAgICAgICAgICAgIHsgIiRyZWYiOiAiIy9kZWZpbml0aW9ucy9wYWNrYWdlLXJlcG9zaXRvcnkiIH0KICAgICAgICAgICAgXQogICAgICAgIH0sCiAgICAgICAgImNvbXBvc2VyLXJlcG9zaXRvcnkiOiB7CiAgICAgICAgICAgICJ0eXBlIjogIm9iamVjdCIsCiAgICAgICAgICAgICJyZXF1aXJlZCI6IFsidHlwZSIsICJ1cmwiXSwKICAgICAgICAgICAgInByb3BlcnRpZXMiOiB7CiAgICAgICAgICAgICAgICAidHlwZSI6IHsgInR5cGUiOiAic3RyaW5nIiwgImVudW0iOiBbImNvbXBvc2VyIl0gfSwKICAgICAgICAgICAgICAgICJ1cmwiOiB7ICJ0eXBlIjogInN0cmluZyIgfSwKICAgICAgICAgICAgICAgICJjYW5vbmljYWwiOiB7ICJ0eXBlIjogImJvb2xlYW4iIH0sCiAgICAgICAgICAgICAgICAib25seSI6IHsKICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJhcnJheSIsCiAgICAgICAgICAgICAgICAgICAgIml0ZW1zIjogewogICAgICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJzdHJpbmciCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICJleGNsdWRlIjogewogICAgICAgICAgICAgICAgICAgICJ0eXBlIjogImFycmF5IiwKICAgICAgICAgICAgICAgICAgICAiaXRlbXMiOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICJ0eXBlIjogInN0cmluZyIKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgIm9wdGlvbnMiOiB7CiAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAib2JqZWN0IiwKICAgICAgICAgICAgICAgICAgICAiYWRkaXRpb25hbFByb3BlcnRpZXMiOiB0cnVlCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgImFsbG93X3NzbF9kb3duZ3JhZGUiOiB7ICJ0eXBlIjogImJvb2xlYW4iIH0sCiAgICAgICAgICAgICAgICAiZm9yY2UtbGF6eS1wcm92aWRlcnMiOiB7ICJ0eXBlIjogImJvb2xlYW4iIH0KICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgInZjcy1yZXBvc2l0b3J5IjogewogICAgICAgICAgICAidHlwZSI6ICJvYmplY3QiLAogICAgICAgICAgICAicmVxdWlyZWQiOiBbInR5cGUiLCAidXJsIl0sCiAgICAgICAgICAgICJwcm9wZXJ0aWVzIjogewogICAgICAgICAgICAgICAgInR5cGUiOiB7ICJ0eXBlIjogInN0cmluZyIsICJlbnVtIjogWyJ2Y3MiLCAiZ2l0aHViIiwgImdpdCIsICJnaXRsYWIiLCAiZ2l0LWJpdGJ1Y2tldCIsICJoZyIsICJoZy1iaXRidWNrZXQiLCAiZm9zc2lsIiwgInBlcmZvcmNlIiwgInN2biJdIH0sCiAgICAgICAgICAgICAgICAidXJsIjogeyAidHlwZSI6ICJzdHJpbmciIH0sCiAgICAgICAgICAgICAgICAiY2Fub25pY2FsIjogeyAidHlwZSI6ICJib29sZWFuIiB9LAogICAgICAgICAgICAgICAgIm9ubHkiOiB7CiAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAiYXJyYXkiLAogICAgICAgICAgICAgICAgICAgICJpdGVtcyI6IHsKICAgICAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAic3RyaW5nIgogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAiZXhjbHVkZSI6IHsKICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJhcnJheSIsCiAgICAgICAgICAgICAgICAgICAgIml0ZW1zIjogewogICAgICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJzdHJpbmciCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICJuby1hcGkiOiB7ICJ0eXBlIjogImJvb2xlYW4iIH0sCiAgICAgICAgICAgICAgICAic2VjdXJlLWh0dHAiOiB7ICJ0eXBlIjogImJvb2xlYW4iIH0sCiAgICAgICAgICAgICAgICAic3ZuLWNhY2hlLWNyZWRlbnRpYWxzIjogeyAidHlwZSI6ICJib29sZWFuIiB9LAogICAgICAgICAgICAgICAgInRydW5rLXBhdGgiOiB7ICJ0eXBlIjogWyJzdHJpbmciLCAiYm9vbGVhbiJdIH0sCiAgICAgICAgICAgICAgICAiYnJhbmNoZXMtcGF0aCI6IHsgInR5cGUiOiBbInN0cmluZyIsICJib29sZWFuIl0gfSwKICAgICAgICAgICAgICAgICJ0YWdzLXBhdGgiOiB7ICJ0eXBlIjogWyJzdHJpbmciLCAiYm9vbGVhbiJdIH0sCiAgICAgICAgICAgICAgICAicGFja2FnZS1wYXRoIjogeyAidHlwZSI6ICJzdHJpbmciIH0sCiAgICAgICAgICAgICAgICAiZGVwb3QiOiB7ICJ0eXBlIjogInN0cmluZyIgfSwKICAgICAgICAgICAgICAgICJicmFuY2giOiB7ICJ0eXBlIjogInN0cmluZyIgfSwKICAgICAgICAgICAgICAgICJ1bmlxdWVfcGVyZm9yY2VfY2xpZW50X25hbWUiOiB7ICJ0eXBlIjogInN0cmluZyIgfSwKICAgICAgICAgICAgICAgICJwNHVzZXIiOiB7ICJ0eXBlIjogInN0cmluZyIgfSwKICAgICAgICAgICAgICAgICJwNHBhc3N3b3JkIjogeyAidHlwZSI6ICJzdHJpbmciIH0KICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgInBhdGgtcmVwb3NpdG9yeSI6IHsKICAgICAgICAgICAgInR5cGUiOiAib2JqZWN0IiwKICAgICAgICAgICAgInJlcXVpcmVkIjogWyJ0eXBlIiwgInVybCJdLAogICAgICAgICAgICAicHJvcGVydGllcyI6IHsKICAgICAgICAgICAgICAgICJ0eXBlIjogeyAidHlwZSI6ICJzdHJpbmciLCAiZW51bSI6IFsicGF0aCJdIH0sCiAgICAgICAgICAgICAgICAidXJsIjogeyAidHlwZSI6ICJzdHJpbmciIH0sCiAgICAgICAgICAgICAgICAiY2Fub25pY2FsIjogeyAidHlwZSI6ICJib29sZWFuIiB9LAogICAgICAgICAgICAgICAgIm9ubHkiOiB7CiAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAiYXJyYXkiLAogICAgICAgICAgICAgICAgICAgICJpdGVtcyI6IHsKICAgICAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAic3RyaW5nIgogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAiZXhjbHVkZSI6IHsKICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJhcnJheSIsCiAgICAgICAgICAgICAgICAgICAgIml0ZW1zIjogewogICAgICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJzdHJpbmciCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICJvcHRpb25zIjogewogICAgICAgICAgICAgICAgICAgICJ0eXBlIjogIm9iamVjdCIsCiAgICAgICAgICAgICAgICAgICAgInByb3BlcnRpZXMiOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICJzeW1saW5rIjogeyAidHlwZSI6IFsiYm9vbGVhbiIsICJudWxsIl0gfQogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgImFkZGl0aW9uYWxQcm9wZXJ0aWVzIjogdHJ1ZQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICAiYXJ0aWZhY3QtcmVwb3NpdG9yeSI6IHsKICAgICAgICAgICAgInR5cGUiOiAib2JqZWN0IiwKICAgICAgICAgICAgInJlcXVpcmVkIjogWyJ0eXBlIiwgInVybCJdLAogICAgICAgICAgICAicHJvcGVydGllcyI6IHsKICAgICAgICAgICAgICAgICJ0eXBlIjogeyAidHlwZSI6ICJzdHJpbmciLCAiZW51bSI6IFsiYXJ0aWZhY3QiXSB9LAogICAgICAgICAgICAgICAgInVybCI6IHsgInR5cGUiOiAic3RyaW5nIiB9LAogICAgICAgICAgICAgICAgImNhbm9uaWNhbCI6IHsgInR5cGUiOiAiYm9vbGVhbiIgfSwKICAgICAgICAgICAgICAgICJvbmx5IjogewogICAgICAgICAgICAgICAgICAgICJ0eXBlIjogImFycmF5IiwKICAgICAgICAgICAgICAgICAgICAiaXRlbXMiOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICJ0eXBlIjogInN0cmluZyIKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgImV4Y2x1ZGUiOiB7CiAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAiYXJyYXkiLAogICAgICAgICAgICAgICAgICAgICJpdGVtcyI6IHsKICAgICAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAic3RyaW5nIgogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgInBlYXItcmVwb3NpdG9yeSI6IHsKICAgICAgICAgICAgInR5cGUiOiAib2JqZWN0IiwKICAgICAgICAgICAgInJlcXVpcmVkIjogWyJ0eXBlIiwgInVybCJdLAogICAgICAgICAgICAicHJvcGVydGllcyI6IHsKICAgICAgICAgICAgICAgICJ0eXBlIjogeyAidHlwZSI6ICJzdHJpbmciLCAiZW51bSI6IFsicGVhciJdIH0sCiAgICAgICAgICAgICAgICAidXJsIjogeyAidHlwZSI6ICJzdHJpbmciIH0sCiAgICAgICAgICAgICAgICAiY2Fub25pY2FsIjogeyAidHlwZSI6ICJib29sZWFuIiB9LAogICAgICAgICAgICAgICAgIm9ubHkiOiB7CiAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAiYXJyYXkiLAogICAgICAgICAgICAgICAgICAgICJpdGVtcyI6IHsKICAgICAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAic3RyaW5nIgogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAiZXhjbHVkZSI6IHsKICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJhcnJheSIsCiAgICAgICAgICAgICAgICAgICAgIml0ZW1zIjogewogICAgICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJzdHJpbmciCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICJ2ZW5kb3ItYWxpYXMiOiB7ICJ0eXBlIjogInN0cmluZyIgfQogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICAicGFja2FnZS1yZXBvc2l0b3J5IjogewogICAgICAgICAgICAidHlwZSI6ICJvYmplY3QiLAogICAgICAgICAgICAicmVxdWlyZWQiOiBbInR5cGUiLCAicGFja2FnZSJdLAogICAgICAgICAgICAicHJvcGVydGllcyI6IHsKICAgICAgICAgICAgICAgICJ0eXBlIjogeyAidHlwZSI6ICJzdHJpbmciLCAiZW51bSI6IFsicGFja2FnZSJdIH0sCiAgICAgICAgICAgICAgICAiY2Fub25pY2FsIjogeyAidHlwZSI6ICJib29sZWFuIiB9LAogICAgICAgICAgICAgICAgIm9ubHkiOiB7CiAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAiYXJyYXkiLAogICAgICAgICAgICAgICAgICAgICJpdGVtcyI6IHsKICAgICAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAic3RyaW5nIgogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAiZXhjbHVkZSI6IHsKICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJhcnJheSIsCiAgICAgICAgICAgICAgICAgICAgIml0ZW1zIjogewogICAgICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJzdHJpbmciCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICJwYWNrYWdlIjogewogICAgICAgICAgICAgICAgICAgICJvbmVPZiI6IFsKICAgICAgICAgICAgICAgICAgICAgICAgeyAiJHJlZiI6ICIjL2RlZmluaXRpb25zL2lubGluZS1wYWNrYWdlIiB9LAogICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJhcnJheSIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiaXRlbXMiOiB7ICIkcmVmIjogIiMvZGVmaW5pdGlvbnMvaW5saW5lLXBhY2thZ2UiIH0KICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIF0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgImlubGluZS1wYWNrYWdlIjogewogICAgICAgICAgICAidHlwZSI6ICJvYmplY3QiLAogICAgICAgICAgICAicmVxdWlyZWQiOiBbIm5hbWUiLCAidmVyc2lvbiJdLAogICAgICAgICAgICAicHJvcGVydGllcyI6IHsKICAgICAgICAgICAgICAgICJuYW1lIjogewogICAgICAgICAgICAgICAgICAgICJ0eXBlIjogInN0cmluZyIsCiAgICAgICAgICAgICAgICAgICAgImRlc2NyaXB0aW9uIjogIlBhY2thZ2UgbmFtZSwgaW5jbHVkaW5nICd2ZW5kb3ItbmFtZS8nIHByZWZpeC4iCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgInR5cGUiOiB7CiAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAic3RyaW5nIgogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICJ0YXJnZXQtZGlyIjogewogICAgICAgICAgICAgICAgICAgICJkZXNjcmlwdGlvbiI6ICJERVBSRUNBVEVEOiBGb3JjZXMgdGhlIHBhY2thZ2UgdG8gYmUgaW5zdGFsbGVkIGludG8gdGhlIGdpdmVuIHN1YmRpcmVjdG9yeSBwYXRoLiBUaGlzIGlzIHVzZWQgZm9yIGF1dG9sb2FkaW5nIFBTUi0wIHBhY2thZ2VzIHRoYXQgZG8gbm90IGNvbnRhaW4gdGhlaXIgZnVsbCBwYXRoLiBVc2UgZm9yd2FyZCBzbGFzaGVzIGZvciBjcm9zcy1wbGF0Zm9ybSBjb21wYXRpYmlsaXR5LiIsCiAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAic3RyaW5nIgogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICJkZXNjcmlwdGlvbiI6IHsKICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJzdHJpbmciCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgImtleXdvcmRzIjogewogICAgICAgICAgICAgICAgICAgICJ0eXBlIjogImFycmF5IiwKICAgICAgICAgICAgICAgICAgICAiaXRlbXMiOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICJ0eXBlIjogInN0cmluZyIKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgImhvbWVwYWdlIjogewogICAgICAgICAgICAgICAgICAgICJ0eXBlIjogInN0cmluZyIsCiAgICAgICAgICAgICAgICAgICAgImZvcm1hdCI6ICJ1cmkiCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgInZlcnNpb24iOiB7CiAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAic3RyaW5nIgogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICJ0aW1lIjogewogICAgICAgICAgICAgICAgICAgICJ0eXBlIjogInN0cmluZyIKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAibGljZW5zZSI6IHsKICAgICAgICAgICAgICAgICAgICAidHlwZSI6IFsKICAgICAgICAgICAgICAgICAgICAgICAgInN0cmluZyIsCiAgICAgICAgICAgICAgICAgICAgICAgICJhcnJheSIKICAgICAgICAgICAgICAgICAgICBdCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgImF1dGhvcnMiOiB7CiAgICAgICAgICAgICAgICAgICAgIiRyZWYiOiAiIy9kZWZpbml0aW9ucy9hdXRob3JzIgogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICJyZXF1aXJlIjogewogICAgICAgICAgICAgICAgICAgICJ0eXBlIjogIm9iamVjdCIsCiAgICAgICAgICAgICAgICAgICAgImFkZGl0aW9uYWxQcm9wZXJ0aWVzIjogewogICAgICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJzdHJpbmciCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICJyZXBsYWNlIjogewogICAgICAgICAgICAgICAgICAgICJ0eXBlIjogIm9iamVjdCIsCiAgICAgICAgICAgICAgICAgICAgImFkZGl0aW9uYWxQcm9wZXJ0aWVzIjogewogICAgICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJzdHJpbmciCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICJjb25mbGljdCI6IHsKICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJvYmplY3QiLAogICAgICAgICAgICAgICAgICAgICJhZGRpdGlvbmFsUHJvcGVydGllcyI6IHsKICAgICAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAic3RyaW5nIgogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAicHJvdmlkZSI6IHsKICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJvYmplY3QiLAogICAgICAgICAgICAgICAgICAgICJhZGRpdGlvbmFsUHJvcGVydGllcyI6IHsKICAgICAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAic3RyaW5nIgogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAicmVxdWlyZS1kZXYiOiB7CiAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAib2JqZWN0IiwKICAgICAgICAgICAgICAgICAgICAiYWRkaXRpb25hbFByb3BlcnRpZXMiOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICJ0eXBlIjogInN0cmluZyIKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgInN1Z2dlc3QiOiB7CiAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAib2JqZWN0IiwKICAgICAgICAgICAgICAgICAgICAiYWRkaXRpb25hbFByb3BlcnRpZXMiOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICJ0eXBlIjogInN0cmluZyIKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgImV4dHJhIjogewogICAgICAgICAgICAgICAgICAgICJ0eXBlIjogWyJvYmplY3QiLCAiYXJyYXkiXSwKICAgICAgICAgICAgICAgICAgICAiYWRkaXRpb25hbFByb3BlcnRpZXMiOiB0cnVlCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgImF1dG9sb2FkIjogewogICAgICAgICAgICAgICAgICAgICIkcmVmIjogIiMvZGVmaW5pdGlvbnMvYXV0b2xvYWQiCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgImFyY2hpdmUiOiB7CiAgICAgICAgICAgICAgICAgICAgInR5cGUiOiBbIm9iamVjdCJdLAogICAgICAgICAgICAgICAgICAgICJwcm9wZXJ0aWVzIjogewogICAgICAgICAgICAgICAgICAgICAgICAiZXhjbHVkZSI6IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ0eXBlIjogImFycmF5IgogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICJiaW4iOiB7CiAgICAgICAgICAgICAgICAgICAgInR5cGUiOiBbInN0cmluZyIsICJhcnJheSJdLAogICAgICAgICAgICAgICAgICAgICJkZXNjcmlwdGlvbiI6ICJBIHNldCBvZiBmaWxlcywgb3IgYSBzaW5nbGUgZmlsZSwgdGhhdCBzaG91bGQgYmUgdHJlYXRlZCBhcyBiaW5hcmllcyBhbmQgc3ltbGlua2VkIGludG8gYmluLWRpciAoZnJvbSBjb25maWcpLiIsCiAgICAgICAgICAgICAgICAgICAgIml0ZW1zIjogewogICAgICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJzdHJpbmciCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICJpbmNsdWRlLXBhdGgiOiB7CiAgICAgICAgICAgICAgICAgICAgInR5cGUiOiBbImFycmF5Il0sCiAgICAgICAgICAgICAgICAgICAgImRlc2NyaXB0aW9uIjogIkRFUFJFQ0FURUQ6IEEgbGlzdCBvZiBkaXJlY3RvcmllcyB3aGljaCBzaG91bGQgZ2V0IGFkZGVkIHRvIFBIUCdzIGluY2x1ZGUgcGF0aC4gVGhpcyBpcyBvbmx5IHByZXNlbnQgdG8gc3VwcG9ydCBsZWdhY3kgcHJvamVjdHMsIGFuZCBhbGwgbmV3IGNvZGUgc2hvdWxkIHByZWZlcmFibHkgdXNlIGF1dG9sb2FkaW5nLiIsCiAgICAgICAgICAgICAgICAgICAgIml0ZW1zIjogewogICAgICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJzdHJpbmciCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICJzb3VyY2UiOiB7CiAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAib2JqZWN0IiwKICAgICAgICAgICAgICAgICAgICAicmVxdWlyZWQiOiBbInR5cGUiLCAidXJsIiwgInJlZmVyZW5jZSJdLAogICAgICAgICAgICAgICAgICAgICJwcm9wZXJ0aWVzIjogewogICAgICAgICAgICAgICAgICAgICAgICAidHlwZSI6IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ0eXBlIjogInN0cmluZyIKICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgInVybCI6IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ0eXBlIjogInN0cmluZyIKICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgInJlZmVyZW5jZSI6IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ0eXBlIjogInN0cmluZyIKICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgIm1pcnJvcnMiOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJhcnJheSIKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAiZGlzdCI6IHsKICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJvYmplY3QiLAogICAgICAgICAgICAgICAgICAgICJyZXF1aXJlZCI6IFsidHlwZSIsICJ1cmwiXSwKICAgICAgICAgICAgICAgICAgICAicHJvcGVydGllcyI6IHsKICAgICAgICAgICAgICAgICAgICAgICAgInR5cGUiOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJzdHJpbmciCiAgICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgICAgICJ1cmwiOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJzdHJpbmciCiAgICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgICAgICJyZWZlcmVuY2UiOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJzdHJpbmciCiAgICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgICAgICJzaGFzdW0iOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJzdHJpbmciCiAgICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgICAgICJtaXJyb3JzIjogewogICAgICAgICAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAiYXJyYXkiCiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgICJhZGRpdGlvbmFsUHJvcGVydGllcyI6IHRydWUKICAgICAgICB9CiAgICB9Cn0KPD9waHAKCgoKcmVxdWlyZV9vbmNlIF9fRElSX18gLiAnL2NvbXBvc2VyL2F1dG9sb2FkX3JlYWwucGhwJzsKCnJldHVybiBDb21wb3NlckF1dG9sb2FkZXJJbml0Q29tcG9zZXJQaGFyMTYyMzI0OTA4MDo6Z2V0TG9hZGVyKCk7Cjw/cGhwCgoKCgoKCgoKCgoKbmFtZXNwYWNlIENvbXBvc2VyXEF1dG9sb2FkOwoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCmNsYXNzIENsYXNzTG9hZGVyCnsKcHJpdmF0ZSAkdmVuZG9yRGlyOwoKCnByaXZhdGUgJHByZWZpeExlbmd0aHNQc3I0ID0gYXJyYXkoKTsKcHJpdmF0ZSAkcHJlZml4RGlyc1BzcjQgPSBhcnJheSgpOwpwcml2YXRlICRmYWxsYmFja0RpcnNQc3I0ID0gYXJyYXkoKTsKCgpwcml2YXRlICRwcmVmaXhlc1BzcjAgPSBhcnJheSgpOwpwcml2YXRlICRmYWxsYmFja0RpcnNQc3IwID0gYXJyYXkoKTsKCnByaXZhdGUgJHVzZUluY2x1ZGVQYXRoID0gZmFsc2U7CnByaXZhdGUgJGNsYXNzTWFwID0gYXJyYXkoKTsKcHJpdmF0ZSAkY2xhc3NNYXBBdXRob3JpdGF0aXZlID0gZmFsc2U7CnByaXZhdGUgJG1pc3NpbmdDbGFzc2VzID0gYXJyYXkoKTsKcHJpdmF0ZSAkYXBjdVByZWZpeDsKCnByaXZhdGUgc3RhdGljICRyZWdpc3RlcmVkTG9hZGVycyA9IGFycmF5KCk7CgpwdWJsaWMgZnVuY3Rpb24gX19jb25zdHJ1Y3QoJHZlbmRvckRpciA9IG51bGwpCnsKJHRoaXMtPnZlbmRvckRpciA9ICR2ZW5kb3JEaXI7Cn0KCnB1YmxpYyBmdW5jdGlvbiBnZXRQcmVmaXhlcygpCnsKaWYgKCFlbXB0eSgkdGhpcy0+cHJlZml4ZXNQc3IwKSkgewpyZXR1cm4gY2FsbF91c2VyX2Z1bmNfYXJyYXkoJ2FycmF5X21lcmdlJywgYXJyYXlfdmFsdWVzKCR0aGlzLT5wcmVmaXhlc1BzcjApKTsKfQoKcmV0dXJuIGFycmF5KCk7Cn0KCnB1YmxpYyBmdW5jdGlvbiBnZXRQcmVmaXhlc1BzcjQoKQp7CnJldHVybiAkdGhpcy0+cHJlZml4RGlyc1BzcjQ7Cn0KCnB1YmxpYyBmdW5jdGlvbiBnZXRGYWxsYmFja0RpcnMoKQp7CnJldHVybiAkdGhpcy0+ZmFsbGJhY2tEaXJzUHNyMDsKfQoKcHVibGljIGZ1bmN0aW9uIGdldEZhbGxiYWNrRGlyc1BzcjQoKQp7CnJldHVybiAkdGhpcy0+ZmFsbGJhY2tEaXJzUHNyNDsKfQoKcHVibGljIGZ1bmN0aW9uIGdldENsYXNzTWFwKCkKewpyZXR1cm4gJHRoaXMtPmNsYXNzTWFwOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gYWRkQ2xhc3NNYXAoYXJyYXkgJGNsYXNzTWFwKQp7CmlmICgkdGhpcy0+Y2xhc3NNYXApIHsKJHRoaXMtPmNsYXNzTWFwID0gYXJyYXlfbWVyZ2UoJHRoaXMtPmNsYXNzTWFwLCAkY2xhc3NNYXApOwp9IGVsc2UgewokdGhpcy0+Y2xhc3NNYXAgPSAkY2xhc3NNYXA7Cn0KfQoKCgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gYWRkKCRwcmVmaXgsICRwYXRocywgJHByZXBlbmQgPSBmYWxzZSkKewppZiAoISRwcmVmaXgpIHsKaWYgKCRwcmVwZW5kKSB7CiR0aGlzLT5mYWxsYmFja0RpcnNQc3IwID0gYXJyYXlfbWVyZ2UoCihhcnJheSkgJHBhdGhzLAokdGhpcy0+ZmFsbGJhY2tEaXJzUHNyMAopOwp9IGVsc2UgewokdGhpcy0+ZmFsbGJhY2tEaXJzUHNyMCA9IGFycmF5X21lcmdlKAokdGhpcy0+ZmFsbGJhY2tEaXJzUHNyMCwKKGFycmF5KSAkcGF0aHMKKTsKfQoKcmV0dXJuOwp9CgokZmlyc3QgPSAkcHJlZml4WzBdOwppZiAoIWlzc2V0KCR0aGlzLT5wcmVmaXhlc1BzcjBbJGZpcnN0XVskcHJlZml4XSkpIHsKJHRoaXMtPnByZWZpeGVzUHNyMFskZmlyc3RdWyRwcmVmaXhdID0gKGFycmF5KSAkcGF0aHM7CgpyZXR1cm47Cn0KaWYgKCRwcmVwZW5kKSB7CiR0aGlzLT5wcmVmaXhlc1BzcjBbJGZpcnN0XVskcHJlZml4XSA9IGFycmF5X21lcmdlKAooYXJyYXkpICRwYXRocywKJHRoaXMtPnByZWZpeGVzUHNyMFskZmlyc3RdWyRwcmVmaXhdCik7Cn0gZWxzZSB7CiR0aGlzLT5wcmVmaXhlc1BzcjBbJGZpcnN0XVskcHJlZml4XSA9IGFycmF5X21lcmdlKAokdGhpcy0+cHJlZml4ZXNQc3IwWyRmaXJzdF1bJHByZWZpeF0sCihhcnJheSkgJHBhdGhzCik7Cn0KfQoKCgoKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBhZGRQc3I0KCRwcmVmaXgsICRwYXRocywgJHByZXBlbmQgPSBmYWxzZSkKewppZiAoISRwcmVmaXgpIHsKCmlmICgkcHJlcGVuZCkgewokdGhpcy0+ZmFsbGJhY2tEaXJzUHNyNCA9IGFycmF5X21lcmdlKAooYXJyYXkpICRwYXRocywKJHRoaXMtPmZhbGxiYWNrRGlyc1BzcjQKKTsKfSBlbHNlIHsKJHRoaXMtPmZhbGxiYWNrRGlyc1BzcjQgPSBhcnJheV9tZXJnZSgKJHRoaXMtPmZhbGxiYWNrRGlyc1BzcjQsCihhcnJheSkgJHBhdGhzCik7Cn0KfSBlbHNlaWYgKCFpc3NldCgkdGhpcy0+cHJlZml4RGlyc1BzcjRbJHByZWZpeF0pKSB7CgokbGVuZ3RoID0gc3RybGVuKCRwcmVmaXgpOwppZiAoJ1xcJyAhPT0gJHByZWZpeFskbGVuZ3RoIC0gMV0pIHsKdGhyb3cgbmV3IFxJbnZhbGlkQXJndW1lbnRFeGNlcHRpb24oIkEgbm9uLWVtcHR5IFBTUi00IHByZWZpeCBtdXN0IGVuZCB3aXRoIGEgbmFtZXNwYWNlIHNlcGFyYXRvci4iKTsKfQokdGhpcy0+cHJlZml4TGVuZ3Roc1BzcjRbJHByZWZpeFswXV1bJHByZWZpeF0gPSAkbGVuZ3RoOwokdGhpcy0+cHJlZml4RGlyc1BzcjRbJHByZWZpeF0gPSAoYXJyYXkpICRwYXRoczsKfSBlbHNlaWYgKCRwcmVwZW5kKSB7CgokdGhpcy0+cHJlZml4RGlyc1BzcjRbJHByZWZpeF0gPSBhcnJheV9tZXJnZSgKKGFycmF5KSAkcGF0aHMsCiR0aGlzLT5wcmVmaXhEaXJzUHNyNFskcHJlZml4XQopOwp9IGVsc2UgewoKJHRoaXMtPnByZWZpeERpcnNQc3I0WyRwcmVmaXhdID0gYXJyYXlfbWVyZ2UoCiR0aGlzLT5wcmVmaXhEaXJzUHNyNFskcHJlZml4XSwKKGFycmF5KSAkcGF0aHMKKTsKfQp9CgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIHNldCgkcHJlZml4LCAkcGF0aHMpCnsKaWYgKCEkcHJlZml4KSB7CiR0aGlzLT5mYWxsYmFja0RpcnNQc3IwID0gKGFycmF5KSAkcGF0aHM7Cn0gZWxzZSB7CiR0aGlzLT5wcmVmaXhlc1BzcjBbJHByZWZpeFswXV1bJHByZWZpeF0gPSAoYXJyYXkpICRwYXRoczsKfQp9CgoKCgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gc2V0UHNyNCgkcHJlZml4LCAkcGF0aHMpCnsKaWYgKCEkcHJlZml4KSB7CiR0aGlzLT5mYWxsYmFja0RpcnNQc3I0ID0gKGFycmF5KSAkcGF0aHM7Cn0gZWxzZSB7CiRsZW5ndGggPSBzdHJsZW4oJHByZWZpeCk7CmlmICgnXFwnICE9PSAkcHJlZml4WyRsZW5ndGggLSAxXSkgewp0aHJvdyBuZXcgXEludmFsaWRBcmd1bWVudEV4Y2VwdGlvbigiQSBub24tZW1wdHkgUFNSLTQgcHJlZml4IG11c3QgZW5kIHdpdGggYSBuYW1lc3BhY2Ugc2VwYXJhdG9yLiIpOwp9CiR0aGlzLT5wcmVmaXhMZW5ndGhzUHNyNFskcHJlZml4WzBdXVskcHJlZml4XSA9ICRsZW5ndGg7CiR0aGlzLT5wcmVmaXhEaXJzUHNyNFskcHJlZml4XSA9IChhcnJheSkgJHBhdGhzOwp9Cn0KCgoKCgoKcHVibGljIGZ1bmN0aW9uIHNldFVzZUluY2x1ZGVQYXRoKCR1c2VJbmNsdWRlUGF0aCkKewokdGhpcy0+dXNlSW5jbHVkZVBhdGggPSAkdXNlSW5jbHVkZVBhdGg7Cn0KCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBnZXRVc2VJbmNsdWRlUGF0aCgpCnsKcmV0dXJuICR0aGlzLT51c2VJbmNsdWRlUGF0aDsKfQoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIHNldENsYXNzTWFwQXV0aG9yaXRhdGl2ZSgkY2xhc3NNYXBBdXRob3JpdGF0aXZlKQp7CiR0aGlzLT5jbGFzc01hcEF1dGhvcml0YXRpdmUgPSAkY2xhc3NNYXBBdXRob3JpdGF0aXZlOwp9CgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBpc0NsYXNzTWFwQXV0aG9yaXRhdGl2ZSgpCnsKcmV0dXJuICR0aGlzLT5jbGFzc01hcEF1dGhvcml0YXRpdmU7Cn0KCgoKCgoKcHVibGljIGZ1bmN0aW9uIHNldEFwY3VQcmVmaXgoJGFwY3VQcmVmaXgpCnsKJHRoaXMtPmFwY3VQcmVmaXggPSBmdW5jdGlvbl9leGlzdHMoJ2FwY3VfZmV0Y2gnKSAmJiBmaWx0ZXJfdmFyKGluaV9nZXQoJ2FwYy5lbmFibGVkJyksIEZJTFRFUl9WQUxJREFURV9CT09MRUFOKSA/ICRhcGN1UHJlZml4IDogbnVsbDsKfQoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0QXBjdVByZWZpeCgpCnsKcmV0dXJuICR0aGlzLT5hcGN1UHJlZml4Owp9CgoKCgoKCnB1YmxpYyBmdW5jdGlvbiByZWdpc3RlcigkcHJlcGVuZCA9IGZhbHNlKQp7CnNwbF9hdXRvbG9hZF9yZWdpc3RlcihhcnJheSgkdGhpcywgJ2xvYWRDbGFzcycpLCB0cnVlLCAkcHJlcGVuZCk7CgppZiAobnVsbCA9PT0gJHRoaXMtPnZlbmRvckRpcikgewpyZXR1cm47Cn0KCmlmICgkcHJlcGVuZCkgewpzZWxmOjokcmVnaXN0ZXJlZExvYWRlcnMgPSBhcnJheSgkdGhpcy0+dmVuZG9yRGlyID0+ICR0aGlzKSArIHNlbGY6OiRyZWdpc3RlcmVkTG9hZGVyczsKfSBlbHNlIHsKdW5zZXQoc2VsZjo6JHJlZ2lzdGVyZWRMb2FkZXJzWyR0aGlzLT52ZW5kb3JEaXJdKTsKc2VsZjo6JHJlZ2lzdGVyZWRMb2FkZXJzWyR0aGlzLT52ZW5kb3JEaXJdID0gJHRoaXM7Cn0KfQoKCgoKcHVibGljIGZ1bmN0aW9uIHVucmVnaXN0ZXIoKQp7CnNwbF9hdXRvbG9hZF91bnJlZ2lzdGVyKGFycmF5KCR0aGlzLCAnbG9hZENsYXNzJykpOwoKaWYgKG51bGwgIT09ICR0aGlzLT52ZW5kb3JEaXIpIHsKdW5zZXQoc2VsZjo6JHJlZ2lzdGVyZWRMb2FkZXJzWyR0aGlzLT52ZW5kb3JEaXJdKTsKfQp9CgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gbG9hZENsYXNzKCRjbGFzcykKewppZiAoJGZpbGUgPSAkdGhpcy0+ZmluZEZpbGUoJGNsYXNzKSkgewppbmNsdWRlRmlsZSgkZmlsZSk7CgpyZXR1cm4gdHJ1ZTsKfQoKcmV0dXJuIG51bGw7Cn0KCgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gZmluZEZpbGUoJGNsYXNzKQp7CgppZiAoaXNzZXQoJHRoaXMtPmNsYXNzTWFwWyRjbGFzc10pKSB7CnJldHVybiAkdGhpcy0+Y2xhc3NNYXBbJGNsYXNzXTsKfQppZiAoJHRoaXMtPmNsYXNzTWFwQXV0aG9yaXRhdGl2ZSB8fCBpc3NldCgkdGhpcy0+bWlzc2luZ0NsYXNzZXNbJGNsYXNzXSkpIHsKcmV0dXJuIGZhbHNlOwp9CmlmIChudWxsICE9PSAkdGhpcy0+YXBjdVByZWZpeCkgewokZmlsZSA9IGFwY3VfZmV0Y2goJHRoaXMtPmFwY3VQcmVmaXguJGNsYXNzLCAkaGl0KTsKaWYgKCRoaXQpIHsKcmV0dXJuICRmaWxlOwp9Cn0KCiRmaWxlID0gJHRoaXMtPmZpbmRGaWxlV2l0aEV4dGVuc2lvbigkY2xhc3MsICcucGhwJyk7CgoKaWYgKGZhbHNlID09PSAkZmlsZSAmJiBkZWZpbmVkKCdISFZNX1ZFUlNJT04nKSkgewokZmlsZSA9ICR0aGlzLT5maW5kRmlsZVdpdGhFeHRlbnNpb24oJGNsYXNzLCAnLmhoJyk7Cn0KCmlmIChudWxsICE9PSAkdGhpcy0+YXBjdVByZWZpeCkgewphcGN1X2FkZCgkdGhpcy0+YXBjdVByZWZpeC4kY2xhc3MsICRmaWxlKTsKfQoKaWYgKGZhbHNlID09PSAkZmlsZSkgewoKJHRoaXMtPm1pc3NpbmdDbGFzc2VzWyRjbGFzc10gPSB0cnVlOwp9CgpyZXR1cm4gJGZpbGU7Cn0KCgoKCgoKcHVibGljIHN0YXRpYyBmdW5jdGlvbiBnZXRSZWdpc3RlcmVkTG9hZGVycygpCnsKcmV0dXJuIHNlbGY6OiRyZWdpc3RlcmVkTG9hZGVyczsKfQoKcHJpdmF0ZSBmdW5jdGlvbiBmaW5kRmlsZVdpdGhFeHRlbnNpb24oJGNsYXNzLCAkZXh0KQp7CgokbG9naWNhbFBhdGhQc3I0ID0gc3RydHIoJGNsYXNzLCAnXFwnLCBESVJFQ1RPUllfU0VQQVJBVE9SKSAuICRleHQ7CgokZmlyc3QgPSAkY2xhc3NbMF07CmlmIChpc3NldCgkdGhpcy0+cHJlZml4TGVuZ3Roc1BzcjRbJGZpcnN0XSkpIHsKJHN1YlBhdGggPSAkY2xhc3M7CndoaWxlIChmYWxzZSAhPT0gJGxhc3RQb3MgPSBzdHJycG9zKCRzdWJQYXRoLCAnXFwnKSkgewokc3ViUGF0aCA9IHN1YnN0cigkc3ViUGF0aCwgMCwgJGxhc3RQb3MpOwokc2VhcmNoID0gJHN1YlBhdGggLiAnXFwnOwppZiAoaXNzZXQoJHRoaXMtPnByZWZpeERpcnNQc3I0WyRzZWFyY2hdKSkgewokcGF0aEVuZCA9IERJUkVDVE9SWV9TRVBBUkFUT1IgLiBzdWJzdHIoJGxvZ2ljYWxQYXRoUHNyNCwgJGxhc3RQb3MgKyAxKTsKZm9yZWFjaCAoJHRoaXMtPnByZWZpeERpcnNQc3I0WyRzZWFyY2hdIGFzICRkaXIpIHsKaWYgKGZpbGVfZXhpc3RzKCRmaWxlID0gJGRpciAuICRwYXRoRW5kKSkgewpyZXR1cm4gJGZpbGU7Cn0KfQp9Cn0KfQoKCmZvcmVhY2ggKCR0aGlzLT5mYWxsYmFja0RpcnNQc3I0IGFzICRkaXIpIHsKaWYgKGZpbGVfZXhpc3RzKCRmaWxlID0gJGRpciAuIERJUkVDVE9SWV9TRVBBUkFUT1IgLiAkbG9naWNhbFBhdGhQc3I0KSkgewpyZXR1cm4gJGZpbGU7Cn0KfQoKCmlmIChmYWxzZSAhPT0gJHBvcyA9IHN0cnJwb3MoJGNsYXNzLCAnXFwnKSkgewoKJGxvZ2ljYWxQYXRoUHNyMCA9IHN1YnN0cigkbG9naWNhbFBhdGhQc3I0LCAwLCAkcG9zICsgMSkKLiBzdHJ0cihzdWJzdHIoJGxvZ2ljYWxQYXRoUHNyNCwgJHBvcyArIDEpLCAnXycsIERJUkVDVE9SWV9TRVBBUkFUT1IpOwp9IGVsc2UgewoKJGxvZ2ljYWxQYXRoUHNyMCA9IHN0cnRyKCRjbGFzcywgJ18nLCBESVJFQ1RPUllfU0VQQVJBVE9SKSAuICRleHQ7Cn0KCmlmIChpc3NldCgkdGhpcy0+cHJlZml4ZXNQc3IwWyRmaXJzdF0pKSB7CmZvcmVhY2ggKCR0aGlzLT5wcmVmaXhlc1BzcjBbJGZpcnN0XSBhcyAkcHJlZml4ID0+ICRkaXJzKSB7CmlmICgwID09PSBzdHJwb3MoJGNsYXNzLCAkcHJlZml4KSkgewpmb3JlYWNoICgkZGlycyBhcyAkZGlyKSB7CmlmIChmaWxlX2V4aXN0cygkZmlsZSA9ICRkaXIgLiBESVJFQ1RPUllfU0VQQVJBVE9SIC4gJGxvZ2ljYWxQYXRoUHNyMCkpIHsKcmV0dXJuICRmaWxlOwp9Cn0KfQp9Cn0KCgpmb3JlYWNoICgkdGhpcy0+ZmFsbGJhY2tEaXJzUHNyMCBhcyAkZGlyKSB7CmlmIChmaWxlX2V4aXN0cygkZmlsZSA9ICRkaXIgLiBESVJFQ1RPUllfU0VQQVJBVE9SIC4gJGxvZ2ljYWxQYXRoUHNyMCkpIHsKcmV0dXJuICRmaWxlOwp9Cn0KCgppZiAoJHRoaXMtPnVzZUluY2x1ZGVQYXRoICYmICRmaWxlID0gc3RyZWFtX3Jlc29sdmVfaW5jbHVkZV9wYXRoKCRsb2dpY2FsUGF0aFBzcjApKSB7CnJldHVybiAkZmlsZTsKfQoKcmV0dXJuIGZhbHNlOwp9Cn0KCgoKCgoKZnVuY3Rpb24gaW5jbHVkZUZpbGUoJGZpbGUpCnsKaW5jbHVkZSAkZmlsZTsKfQo8P3BocAoKCgoKCgoKCgoKCm5hbWVzcGFjZSBDb21wb3NlcjsKCnVzZSBDb21wb3NlclxBdXRvbG9hZFxDbGFzc0xvYWRlcjsKdXNlIENvbXBvc2VyXFNlbXZlclxWZXJzaW9uUGFyc2VyOwoKCgoKCgoKCmNsYXNzIEluc3RhbGxlZFZlcnNpb25zCnsKcHJpdmF0ZSBzdGF0aWMgJGluc3RhbGxlZDsKcHJpdmF0ZSBzdGF0aWMgJGNhbkdldFZlbmRvcnM7CnByaXZhdGUgc3RhdGljICRpbnN0YWxsZWRCeVZlbmRvciA9IGFycmF5KCk7CgoKCgoKCgpwdWJsaWMgc3RhdGljIGZ1bmN0aW9uIGdldEluc3RhbGxlZFBhY2thZ2VzKCkKewokcGFja2FnZXMgPSBhcnJheSgpOwpmb3JlYWNoIChzZWxmOjpnZXRJbnN0YWxsZWQoKSBhcyAkaW5zdGFsbGVkKSB7CiRwYWNrYWdlc1tdID0gYXJyYXlfa2V5cygkaW5zdGFsbGVkWyd2ZXJzaW9ucyddKTsKfQoKaWYgKDEgPT09IFxjb3VudCgkcGFja2FnZXMpKSB7CnJldHVybiAkcGFja2FnZXNbMF07Cn0KCnJldHVybiBhcnJheV9rZXlzKGFycmF5X2ZsaXAoXGNhbGxfdXNlcl9mdW5jX2FycmF5KCdhcnJheV9tZXJnZScsICRwYWNrYWdlcykpKTsKfQoKCgoKCgoKCnB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gZ2V0SW5zdGFsbGVkUGFja2FnZXNCeVR5cGUoJHR5cGUpCnsKJHBhY2thZ2VzQnlUeXBlID0gYXJyYXkoKTsKCmZvcmVhY2ggKHNlbGY6OmdldEluc3RhbGxlZCgpIGFzICRpbnN0YWxsZWQpIHsKZm9yZWFjaCAoJGluc3RhbGxlZFsndmVyc2lvbnMnXSBhcyAkbmFtZSA9PiAkcGFja2FnZSkgewppZiAoaXNzZXQoJHBhY2thZ2VbJ3R5cGUnXSkgJiYgJHBhY2thZ2VbJ3R5cGUnXSA9PT0gJHR5cGUpIHsKJHBhY2thZ2VzQnlUeXBlW10gPSAkbmFtZTsKfQp9Cn0KCnJldHVybiAkcGFja2FnZXNCeVR5cGU7Cn0KCgoKCgoKCgoKCnB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gaXNJbnN0YWxsZWQoJHBhY2thZ2VOYW1lLCAkaW5jbHVkZURldlJlcXVpcmVtZW50cyA9IHRydWUpCnsKZm9yZWFjaCAoc2VsZjo6Z2V0SW5zdGFsbGVkKCkgYXMgJGluc3RhbGxlZCkgewppZiAoaXNzZXQoJGluc3RhbGxlZFsndmVyc2lvbnMnXVskcGFja2FnZU5hbWVdKSkgewpyZXR1cm4gJGluY2x1ZGVEZXZSZXF1aXJlbWVudHMgfHwgZW1wdHkoJGluc3RhbGxlZFsndmVyc2lvbnMnXVskcGFja2FnZU5hbWVdWydkZXZfcmVxdWlyZW1lbnQnXSk7Cn0KfQoKcmV0dXJuIGZhbHNlOwp9CgoKCgoKCgoKCgoKCgpwdWJsaWMgc3RhdGljIGZ1bmN0aW9uIHNhdGlzZmllcyhWZXJzaW9uUGFyc2VyICRwYXJzZXIsICRwYWNrYWdlTmFtZSwgJGNvbnN0cmFpbnQpCnsKJGNvbnN0cmFpbnQgPSAkcGFyc2VyLT5wYXJzZUNvbnN0cmFpbnRzKCRjb25zdHJhaW50KTsKJHByb3ZpZGVkID0gJHBhcnNlci0+cGFyc2VDb25zdHJhaW50cyhzZWxmOjpnZXRWZXJzaW9uUmFuZ2VzKCRwYWNrYWdlTmFtZSkpOwoKcmV0dXJuICRwcm92aWRlZC0+bWF0Y2hlcygkY29uc3RyYWludCk7Cn0KCgoKCgoKCgoKCnB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gZ2V0VmVyc2lvblJhbmdlcygkcGFja2FnZU5hbWUpCnsKZm9yZWFjaCAoc2VsZjo6Z2V0SW5zdGFsbGVkKCkgYXMgJGluc3RhbGxlZCkgewppZiAoIWlzc2V0KCRpbnN0YWxsZWRbJ3ZlcnNpb25zJ11bJHBhY2thZ2VOYW1lXSkpIHsKY29udGludWU7Cn0KCiRyYW5nZXMgPSBhcnJheSgpOwppZiAoaXNzZXQoJGluc3RhbGxlZFsndmVyc2lvbnMnXVskcGFja2FnZU5hbWVdWydwcmV0dHlfdmVyc2lvbiddKSkgewokcmFuZ2VzW10gPSAkaW5zdGFsbGVkWyd2ZXJzaW9ucyddWyRwYWNrYWdlTmFtZV1bJ3ByZXR0eV92ZXJzaW9uJ107Cn0KaWYgKGFycmF5X2tleV9leGlzdHMoJ2FsaWFzZXMnLCAkaW5zdGFsbGVkWyd2ZXJzaW9ucyddWyRwYWNrYWdlTmFtZV0pKSB7CiRyYW5nZXMgPSBhcnJheV9tZXJnZSgkcmFuZ2VzLCAkaW5zdGFsbGVkWyd2ZXJzaW9ucyddWyRwYWNrYWdlTmFtZV1bJ2FsaWFzZXMnXSk7Cn0KaWYgKGFycmF5X2tleV9leGlzdHMoJ3JlcGxhY2VkJywgJGluc3RhbGxlZFsndmVyc2lvbnMnXVskcGFja2FnZU5hbWVdKSkgewokcmFuZ2VzID0gYXJyYXlfbWVyZ2UoJHJhbmdlcywgJGluc3RhbGxlZFsndmVyc2lvbnMnXVskcGFja2FnZU5hbWVdWydyZXBsYWNlZCddKTsKfQppZiAoYXJyYXlfa2V5X2V4aXN0cygncHJvdmlkZWQnLCAkaW5zdGFsbGVkWyd2ZXJzaW9ucyddWyRwYWNrYWdlTmFtZV0pKSB7CiRyYW5nZXMgPSBhcnJheV9tZXJnZSgkcmFuZ2VzLCAkaW5zdGFsbGVkWyd2ZXJzaW9ucyddWyRwYWNrYWdlTmFtZV1bJ3Byb3ZpZGVkJ10pOwp9CgpyZXR1cm4gaW1wbG9kZSgnIHx8ICcsICRyYW5nZXMpOwp9Cgp0aHJvdyBuZXcgXE91dE9mQm91bmRzRXhjZXB0aW9uKCdQYWNrYWdlICInIC4gJHBhY2thZ2VOYW1lIC4gJyIgaXMgbm90IGluc3RhbGxlZCcpOwp9CgoKCgoKcHVibGljIHN0YXRpYyBmdW5jdGlvbiBnZXRWZXJzaW9uKCRwYWNrYWdlTmFtZSkKewpmb3JlYWNoIChzZWxmOjpnZXRJbnN0YWxsZWQoKSBhcyAkaW5zdGFsbGVkKSB7CmlmICghaXNzZXQoJGluc3RhbGxlZFsndmVyc2lvbnMnXVskcGFja2FnZU5hbWVdKSkgewpjb250aW51ZTsKfQoKaWYgKCFpc3NldCgkaW5zdGFsbGVkWyd2ZXJzaW9ucyddWyRwYWNrYWdlTmFtZV1bJ3ZlcnNpb24nXSkpIHsKcmV0dXJuIG51bGw7Cn0KCnJldHVybiAkaW5zdGFsbGVkWyd2ZXJzaW9ucyddWyRwYWNrYWdlTmFtZV1bJ3ZlcnNpb24nXTsKfQoKdGhyb3cgbmV3IFxPdXRPZkJvdW5kc0V4Y2VwdGlvbignUGFja2FnZSAiJyAuICRwYWNrYWdlTmFtZSAuICciIGlzIG5vdCBpbnN0YWxsZWQnKTsKfQoKCgoKCnB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gZ2V0UHJldHR5VmVyc2lvbigkcGFja2FnZU5hbWUpCnsKZm9yZWFjaCAoc2VsZjo6Z2V0SW5zdGFsbGVkKCkgYXMgJGluc3RhbGxlZCkgewppZiAoIWlzc2V0KCRpbnN0YWxsZWRbJ3ZlcnNpb25zJ11bJHBhY2thZ2VOYW1lXSkpIHsKY29udGludWU7Cn0KCmlmICghaXNzZXQoJGluc3RhbGxlZFsndmVyc2lvbnMnXVskcGFja2FnZU5hbWVdWydwcmV0dHlfdmVyc2lvbiddKSkgewpyZXR1cm4gbnVsbDsKfQoKcmV0dXJuICRpbnN0YWxsZWRbJ3ZlcnNpb25zJ11bJHBhY2thZ2VOYW1lXVsncHJldHR5X3ZlcnNpb24nXTsKfQoKdGhyb3cgbmV3IFxPdXRPZkJvdW5kc0V4Y2VwdGlvbignUGFja2FnZSAiJyAuICRwYWNrYWdlTmFtZSAuICciIGlzIG5vdCBpbnN0YWxsZWQnKTsKfQoKCgoKCnB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gZ2V0UmVmZXJlbmNlKCRwYWNrYWdlTmFtZSkKewpmb3JlYWNoIChzZWxmOjpnZXRJbnN0YWxsZWQoKSBhcyAkaW5zdGFsbGVkKSB7CmlmICghaXNzZXQoJGluc3RhbGxlZFsndmVyc2lvbnMnXVskcGFja2FnZU5hbWVdKSkgewpjb250aW51ZTsKfQoKaWYgKCFpc3NldCgkaW5zdGFsbGVkWyd2ZXJzaW9ucyddWyRwYWNrYWdlTmFtZV1bJ3JlZmVyZW5jZSddKSkgewpyZXR1cm4gbnVsbDsKfQoKcmV0dXJuICRpbnN0YWxsZWRbJ3ZlcnNpb25zJ11bJHBhY2thZ2VOYW1lXVsncmVmZXJlbmNlJ107Cn0KCnRocm93IG5ldyBcT3V0T2ZCb3VuZHNFeGNlcHRpb24oJ1BhY2thZ2UgIicgLiAkcGFja2FnZU5hbWUgLiAnIiBpcyBub3QgaW5zdGFsbGVkJyk7Cn0KCgoKCgpwdWJsaWMgc3RhdGljIGZ1bmN0aW9uIGdldEluc3RhbGxQYXRoKCRwYWNrYWdlTmFtZSkKewpmb3JlYWNoIChzZWxmOjpnZXRJbnN0YWxsZWQoKSBhcyAkaW5zdGFsbGVkKSB7CmlmICghaXNzZXQoJGluc3RhbGxlZFsndmVyc2lvbnMnXVskcGFja2FnZU5hbWVdKSkgewpjb250aW51ZTsKfQoKcmV0dXJuIGlzc2V0KCRpbnN0YWxsZWRbJ3ZlcnNpb25zJ11bJHBhY2thZ2VOYW1lXVsnaW5zdGFsbF9wYXRoJ10pID8gJGluc3RhbGxlZFsndmVyc2lvbnMnXVskcGFja2FnZU5hbWVdWydpbnN0YWxsX3BhdGgnXSA6IG51bGw7Cn0KCnRocm93IG5ldyBcT3V0T2ZCb3VuZHNFeGNlcHRpb24oJ1BhY2thZ2UgIicgLiAkcGFja2FnZU5hbWUgLiAnIiBpcyBub3QgaW5zdGFsbGVkJyk7Cn0KCgoKCgpwdWJsaWMgc3RhdGljIGZ1bmN0aW9uIGdldFJvb3RQYWNrYWdlKCkKewokaW5zdGFsbGVkID0gc2VsZjo6Z2V0SW5zdGFsbGVkKCk7CgpyZXR1cm4gJGluc3RhbGxlZFswXVsncm9vdCddOwp9CgoKCgoKCgoKcHVibGljIHN0YXRpYyBmdW5jdGlvbiBnZXRSYXdEYXRhKCkKewpAdHJpZ2dlcl9lcnJvcignZ2V0UmF3RGF0YSBvbmx5IHJldHVybnMgdGhlIGZpcnN0IGRhdGFzZXQgbG9hZGVkLCB3aGljaCBtYXkgbm90IGJlIHdoYXQgeW91IGV4cGVjdC4gVXNlIGdldEFsbFJhd0RhdGEoKSBpbnN0ZWFkIHdoaWNoIHJldHVybnMgYWxsIGRhdGFzZXRzIGZvciBhbGwgYXV0b2xvYWRlcnMgcHJlc2VudCBpbiB0aGUgcHJvY2Vzcy4nLCBFX1VTRVJfREVQUkVDQVRFRCk7CgppZiAobnVsbCA9PT0gc2VsZjo6JGluc3RhbGxlZCkgewoKCmlmIChzdWJzdHIoX19ESVJfXywgLTgsIDEpICE9PSAnQycpIHsKc2VsZjo6JGluc3RhbGxlZCA9IGluY2x1ZGUgX19ESVJfXyAuICcvaW5zdGFsbGVkLnBocCc7Cn0gZWxzZSB7CnNlbGY6OiRpbnN0YWxsZWQgPSBhcnJheSgpOwp9Cn0KCnJldHVybiBzZWxmOjokaW5zdGFsbGVkOwp9CgoKCgoKCgpwdWJsaWMgc3RhdGljIGZ1bmN0aW9uIGdldEFsbFJhd0RhdGEoKQp7CnJldHVybiBzZWxmOjpnZXRJbnN0YWxsZWQoKTsKfQoKCgoKCgoKCgoKCgoKCgoKCgoKcHVibGljIHN0YXRpYyBmdW5jdGlvbiByZWxvYWQoJGRhdGEpCnsKc2VsZjo6JGluc3RhbGxlZCA9ICRkYXRhOwpzZWxmOjokaW5zdGFsbGVkQnlWZW5kb3IgPSBhcnJheSgpOwp9CgoKCgoKcHJpdmF0ZSBzdGF0aWMgZnVuY3Rpb24gZ2V0SW5zdGFsbGVkKCkKewppZiAobnVsbCA9PT0gc2VsZjo6JGNhbkdldFZlbmRvcnMpIHsKc2VsZjo6JGNhbkdldFZlbmRvcnMgPSBtZXRob2RfZXhpc3RzKCdDb21wb3NlclxBdXRvbG9hZFxDbGFzc0xvYWRlcicsICdnZXRSZWdpc3RlcmVkTG9hZGVycycpOwp9CgokaW5zdGFsbGVkID0gYXJyYXkoKTsKCmlmIChzZWxmOjokY2FuR2V0VmVuZG9ycykgewpmb3JlYWNoIChDbGFzc0xvYWRlcjo6Z2V0UmVnaXN0ZXJlZExvYWRlcnMoKSBhcyAkdmVuZG9yRGlyID0+ICRsb2FkZXIpIHsKaWYgKGlzc2V0KHNlbGY6OiRpbnN0YWxsZWRCeVZlbmRvclskdmVuZG9yRGlyXSkpIHsKJGluc3RhbGxlZFtdID0gc2VsZjo6JGluc3RhbGxlZEJ5VmVuZG9yWyR2ZW5kb3JEaXJdOwp9IGVsc2VpZiAoaXNfZmlsZSgkdmVuZG9yRGlyLicvY29tcG9zZXIvaW5zdGFsbGVkLnBocCcpKSB7CiRpbnN0YWxsZWRbXSA9IHNlbGY6OiRpbnN0YWxsZWRCeVZlbmRvclskdmVuZG9yRGlyXSA9IHJlcXVpcmUgJHZlbmRvckRpci4nL2NvbXBvc2VyL2luc3RhbGxlZC5waHAnOwppZiAobnVsbCA9PT0gc2VsZjo6JGluc3RhbGxlZCAmJiBzdHJ0cigkdmVuZG9yRGlyLicvY29tcG9zZXInLCAnXFwnLCAnLycpID09PSBzdHJ0cihfX0RJUl9fLCAnXFwnLCAnLycpKSB7CnNlbGY6OiRpbnN0YWxsZWQgPSAkaW5zdGFsbGVkW2NvdW50KCRpbnN0YWxsZWQpIC0gMV07Cn0KfQp9Cn0KCmlmIChudWxsID09PSBzZWxmOjokaW5zdGFsbGVkKSB7CgoKaWYgKHN1YnN0cihfX0RJUl9fLCAtOCwgMSkgIT09ICdDJykgewpzZWxmOjokaW5zdGFsbGVkID0gcmVxdWlyZSBfX0RJUl9fIC4gJy9pbnN0YWxsZWQucGhwJzsKfSBlbHNlIHsKc2VsZjo6JGluc3RhbGxlZCA9IGFycmF5KCk7Cn0KfQokaW5zdGFsbGVkW10gPSBzZWxmOjokaW5zdGFsbGVkOwoKcmV0dXJuICRpbnN0YWxsZWQ7Cn0KfQo8P3BocAoKCgokdmVuZG9yRGlyID0gZGlybmFtZShkaXJuYW1lKF9fRklMRV9fKSk7CiRiYXNlRGlyID0gZGlybmFtZSgkdmVuZG9yRGlyKTsKCnJldHVybiBhcnJheSgKJ0NvbXBvc2VyXFxJbnN0YWxsZWRWZXJzaW9ucycgPT4gJHZlbmRvckRpciAuICcvY29tcG9zZXIvSW5zdGFsbGVkVmVyc2lvbnMucGhwJywKKTsKPD9waHAKCgoKJHZlbmRvckRpciA9IGRpcm5hbWUoZGlybmFtZShfX0ZJTEVfXykpOwokYmFzZURpciA9IGRpcm5hbWUoJHZlbmRvckRpcik7CgpyZXR1cm4gYXJyYXkoCiczMjBjZGUyMmY2NmRkNGY1ZDNmZDYyMWQzZTg4Yjk4ZicgPT4gJHZlbmRvckRpciAuICcvc3ltZm9ueS9wb2x5ZmlsbC1jdHlwZS9ib290c3RyYXAucGhwJywKJzBlNmQ3YmY0YTU4MTFiZmE1Y2Y0MGM1Y2NkNmZhZTZhJyA9PiAkdmVuZG9yRGlyIC4gJy9zeW1mb255L3BvbHlmaWxsLW1ic3RyaW5nL2Jvb3RzdHJhcC5waHAnLAonNzg0NGNjZTkwZDQwMzdmMWEwNzdjMDgzMTllZWYxMDknID0+ICR2ZW5kb3JEaXIgLiAnL3JlYWN0L3Byb21pc2Uvc3JjL1JlYWN0L1Byb21pc2UvZnVuY3Rpb25zX2luY2x1ZGUucGhwJywKKTsKPD9waHAKCgoKJHZlbmRvckRpciA9IGRpcm5hbWUoZGlybmFtZShfX0ZJTEVfXykpOwokYmFzZURpciA9IGRpcm5hbWUoJHZlbmRvckRpcik7CgpyZXR1cm4gYXJyYXkoCidSZWFjdFxcUHJvbWlzZScgPT4gYXJyYXkoJHZlbmRvckRpciAuICcvcmVhY3QvcHJvbWlzZS9zcmMnKSwKKTsKPD9waHAKCgoKJHZlbmRvckRpciA9IGRpcm5hbWUoZGlybmFtZShfX0ZJTEVfXykpOwokYmFzZURpciA9IGRpcm5hbWUoJHZlbmRvckRpcik7CgpyZXR1cm4gYXJyYXkoCidTeW1mb255XFxQb2x5ZmlsbFxcTWJzdHJpbmdcXCcgPT4gYXJyYXkoJHZlbmRvckRpciAuICcvc3ltZm9ueS9wb2x5ZmlsbC1tYnN0cmluZycpLAonU3ltZm9ueVxcUG9seWZpbGxcXEN0eXBlXFwnID0+IGFycmF5KCR2ZW5kb3JEaXIgLiAnL3N5bWZvbnkvcG9seWZpbGwtY3R5cGUnKSwKJ1N5bWZvbnlcXENvbXBvbmVudFxcUHJvY2Vzc1xcJyA9PiBhcnJheSgkdmVuZG9yRGlyIC4gJy9zeW1mb255L3Byb2Nlc3MnKSwKJ1N5bWZvbnlcXENvbXBvbmVudFxcRmluZGVyXFwnID0+IGFycmF5KCR2ZW5kb3JEaXIgLiAnL3N5bWZvbnkvZmluZGVyJyksCidTeW1mb255XFxDb21wb25lbnRcXEZpbGVzeXN0ZW1cXCcgPT4gYXJyYXkoJHZlbmRvckRpciAuICcvc3ltZm9ueS9maWxlc3lzdGVtJyksCidTeW1mb255XFxDb21wb25lbnRcXERlYnVnXFwnID0+IGFycmF5KCR2ZW5kb3JEaXIgLiAnL3N5bWZvbnkvZGVidWcnKSwKJ1N5bWZvbnlcXENvbXBvbmVudFxcQ29uc29sZVxcJyA9PiBhcnJheSgkdmVuZG9yRGlyIC4gJy9zeW1mb255L2NvbnNvbGUnKSwKJ1NlbGRcXFBoYXJVdGlsc1xcJyA9PiBhcnJheSgkdmVuZG9yRGlyIC4gJy9zZWxkL3BoYXItdXRpbHMvc3JjJyksCidTZWxkXFxKc29uTGludFxcJyA9PiBhcnJheSgkdmVuZG9yRGlyIC4gJy9zZWxkL2pzb25saW50L3NyYy9TZWxkL0pzb25MaW50JyksCidQc3JcXExvZ1xcJyA9PiBhcnJheSgkdmVuZG9yRGlyIC4gJy9wc3IvbG9nL1Bzci9Mb2cnKSwKJ0pzb25TY2hlbWFcXCcgPT4gYXJyYXkoJHZlbmRvckRpciAuICcvanVzdGlucmFpbmJvdy9qc29uLXNjaGVtYS9zcmMvSnNvblNjaGVtYScpLAonQ29tcG9zZXJcXFhkZWJ1Z0hhbmRsZXJcXCcgPT4gYXJyYXkoJHZlbmRvckRpciAuICcvY29tcG9zZXIveGRlYnVnLWhhbmRsZXIvc3JjJyksCidDb21wb3NlclxcU3BkeFxcJyA9PiBhcnJheSgkdmVuZG9yRGlyIC4gJy9jb21wb3Nlci9zcGR4LWxpY2Vuc2VzL3NyYycpLAonQ29tcG9zZXJcXFNlbXZlclxcJyA9PiBhcnJheSgkdmVuZG9yRGlyIC4gJy9jb21wb3Nlci9zZW12ZXIvc3JjJyksCidDb21wb3NlclxcTWV0YWRhdGFNaW5pZmllclxcJyA9PiBhcnJheSgkdmVuZG9yRGlyIC4gJy9jb21wb3Nlci9tZXRhZGF0YS1taW5pZmllci9zcmMnKSwKJ0NvbXBvc2VyXFxDYUJ1bmRsZVxcJyA9PiBhcnJheSgkdmVuZG9yRGlyIC4gJy9jb21wb3Nlci9jYS1idW5kbGUvc3JjJyksCidDb21wb3NlclxcJyA9PiBhcnJheSgkYmFzZURpciAuICcvc3JjL0NvbXBvc2VyJyksCik7Cjw/cGhwCgoKCmNsYXNzIENvbXBvc2VyQXV0b2xvYWRlckluaXRDb21wb3NlclBoYXIxNjIzMjQ5MDgwCnsKcHJpdmF0ZSBzdGF0aWMgJGxvYWRlcjsKCnB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gbG9hZENsYXNzTG9hZGVyKCRjbGFzcykKewppZiAoJ0NvbXBvc2VyXEF1dG9sb2FkXENsYXNzTG9hZGVyJyA9PT0gJGNsYXNzKSB7CnJlcXVpcmUgX19ESVJfXyAuICcvQ2xhc3NMb2FkZXIucGhwJzsKfQp9CgoKCgpwdWJsaWMgc3RhdGljIGZ1bmN0aW9uIGdldExvYWRlcigpCnsKaWYgKG51bGwgIT09IHNlbGY6OiRsb2FkZXIpIHsKcmV0dXJuIHNlbGY6OiRsb2FkZXI7Cn0KCnNwbF9hdXRvbG9hZF9yZWdpc3RlcihhcnJheSgnQ29tcG9zZXJBdXRvbG9hZGVySW5pdENvbXBvc2VyUGhhcjE2MjMyNDkwODAnLCAnbG9hZENsYXNzTG9hZGVyJyksIHRydWUsIHRydWUpOwpzZWxmOjokbG9hZGVyID0gJGxvYWRlciA9IG5ldyBcQ29tcG9zZXJcQXV0b2xvYWRcQ2xhc3NMb2FkZXIoXGRpcm5hbWUoXGRpcm5hbWUoX19GSUxFX18pKSk7CnNwbF9hdXRvbG9hZF91bnJlZ2lzdGVyKGFycmF5KCdDb21wb3NlckF1dG9sb2FkZXJJbml0Q29tcG9zZXJQaGFyMTYyMzI0OTA4MCcsICdsb2FkQ2xhc3NMb2FkZXInKSk7CgokdXNlU3RhdGljTG9hZGVyID0gUEhQX1ZFUlNJT05fSUQgPj0gNTA2MDAgJiYgIWRlZmluZWQoJ0hIVk1fVkVSU0lPTicpICYmICghZnVuY3Rpb25fZXhpc3RzKCd6ZW5kX2xvYWRlcl9maWxlX2VuY29kZWQnKSB8fCAhemVuZF9sb2FkZXJfZmlsZV9lbmNvZGVkKCkpOwppZiAoJHVzZVN0YXRpY0xvYWRlcikgewpyZXF1aXJlIF9fRElSX18gLiAnL2F1dG9sb2FkX3N0YXRpYy5waHAnOwoKY2FsbF91c2VyX2Z1bmMoXENvbXBvc2VyXEF1dG9sb2FkXENvbXBvc2VyU3RhdGljSW5pdENvbXBvc2VyUGhhcjE2MjMyNDkwODA6OmdldEluaXRpYWxpemVyKCRsb2FkZXIpKTsKfSBlbHNlIHsKJG1hcCA9IHJlcXVpcmUgX19ESVJfXyAuICcvYXV0b2xvYWRfbmFtZXNwYWNlcy5waHAnOwpmb3JlYWNoICgkbWFwIGFzICRuYW1lc3BhY2UgPT4gJHBhdGgpIHsKJGxvYWRlci0+c2V0KCRuYW1lc3BhY2UsICRwYXRoKTsKfQoKJG1hcCA9IHJlcXVpcmUgX19ESVJfXyAuICcvYXV0b2xvYWRfcHNyNC5waHAnOwpmb3JlYWNoICgkbWFwIGFzICRuYW1lc3BhY2UgPT4gJHBhdGgpIHsKJGxvYWRlci0+c2V0UHNyNCgkbmFtZXNwYWNlLCAkcGF0aCk7Cn0KCiRjbGFzc01hcCA9IHJlcXVpcmUgX19ESVJfXyAuICcvYXV0b2xvYWRfY2xhc3NtYXAucGhwJzsKaWYgKCRjbGFzc01hcCkgewokbG9hZGVyLT5hZGRDbGFzc01hcCgkY2xhc3NNYXApOwp9Cn0KCiRsb2FkZXItPnJlZ2lzdGVyKHRydWUpOwoKaWYgKCR1c2VTdGF0aWNMb2FkZXIpIHsKJGluY2x1ZGVGaWxlcyA9IENvbXBvc2VyXEF1dG9sb2FkXENvbXBvc2VyU3RhdGljSW5pdENvbXBvc2VyUGhhcjE2MjMyNDkwODA6OiRmaWxlczsKfSBlbHNlIHsKJGluY2x1ZGVGaWxlcyA9IHJlcXVpcmUgX19ESVJfXyAuICcvYXV0b2xvYWRfZmlsZXMucGhwJzsKfQpmb3JlYWNoICgkaW5jbHVkZUZpbGVzIGFzICRmaWxlSWRlbnRpZmllciA9PiAkZmlsZSkgewpjb21wb3NlclJlcXVpcmVDb21wb3NlclBoYXIxNjIzMjQ5MDgwKCRmaWxlSWRlbnRpZmllciwgJGZpbGUpOwp9CgpyZXR1cm4gJGxvYWRlcjsKfQp9CgpmdW5jdGlvbiBjb21wb3NlclJlcXVpcmVDb21wb3NlclBoYXIxNjIzMjQ5MDgwKCRmaWxlSWRlbnRpZmllciwgJGZpbGUpCnsKaWYgKGVtcHR5KCRHTE9CQUxTWydfX2NvbXBvc2VyX2F1dG9sb2FkX2ZpbGVzJ11bJGZpbGVJZGVudGlmaWVyXSkpIHsKcmVxdWlyZSAkZmlsZTsKCiRHTE9CQUxTWydfX2NvbXBvc2VyX2F1dG9sb2FkX2ZpbGVzJ11bJGZpbGVJZGVudGlmaWVyXSA9IHRydWU7Cn0KfQo8P3BocAoKCgpuYW1lc3BhY2UgQ29tcG9zZXJcQXV0b2xvYWQ7CgpjbGFzcyBDb21wb3NlclN0YXRpY0luaXRDb21wb3NlclBoYXIxNjIzMjQ5MDgwCnsKcHVibGljIHN0YXRpYyAkZmlsZXMgPSBhcnJheSAoCiczMjBjZGUyMmY2NmRkNGY1ZDNmZDYyMWQzZTg4Yjk4ZicgPT4gX19ESVJfXyAuICcvLi4nIC4gJy9zeW1mb255L3BvbHlmaWxsLWN0eXBlL2Jvb3RzdHJhcC5waHAnLAonMGU2ZDdiZjRhNTgxMWJmYTVjZjQwYzVjY2Q2ZmFlNmEnID0+IF9fRElSX18gLiAnLy4uJyAuICcvc3ltZm9ueS9wb2x5ZmlsbC1tYnN0cmluZy9ib290c3RyYXAucGhwJywKJzc4NDRjY2U5MGQ0MDM3ZjFhMDc3YzA4MzE5ZWVmMTA5JyA9PiBfX0RJUl9fIC4gJy8uLicgLiAnL3JlYWN0L3Byb21pc2Uvc3JjL1JlYWN0L1Byb21pc2UvZnVuY3Rpb25zX2luY2x1ZGUucGhwJywKKTsKCnB1YmxpYyBzdGF0aWMgJHByZWZpeExlbmd0aHNQc3I0ID0gYXJyYXkgKAonUycgPT4gCmFycmF5ICgKJ1N5bWZvbnlcXFBvbHlmaWxsXFxNYnN0cmluZ1xcJyA9PiAyNiwKJ1N5bWZvbnlcXFBvbHlmaWxsXFxDdHlwZVxcJyA9PiAyMywKJ1N5bWZvbnlcXENvbXBvbmVudFxcUHJvY2Vzc1xcJyA9PiAyNiwKJ1N5bWZvbnlcXENvbXBvbmVudFxcRmluZGVyXFwnID0+IDI1LAonU3ltZm9ueVxcQ29tcG9uZW50XFxGaWxlc3lzdGVtXFwnID0+IDI5LAonU3ltZm9ueVxcQ29tcG9uZW50XFxEZWJ1Z1xcJyA9PiAyNCwKJ1N5bWZvbnlcXENvbXBvbmVudFxcQ29uc29sZVxcJyA9PiAyNiwKJ1NlbGRcXFBoYXJVdGlsc1xcJyA9PiAxNSwKJ1NlbGRcXEpzb25MaW50XFwnID0+IDE0LAopLAonUCcgPT4gCmFycmF5ICgKJ1BzclxcTG9nXFwnID0+IDgsCiksCidKJyA9PiAKYXJyYXkgKAonSnNvblNjaGVtYVxcJyA9PiAxMSwKKSwKJ0MnID0+IAphcnJheSAoCidDb21wb3NlclxcWGRlYnVnSGFuZGxlclxcJyA9PiAyMywKJ0NvbXBvc2VyXFxTcGR4XFwnID0+IDE0LAonQ29tcG9zZXJcXFNlbXZlclxcJyA9PiAxNiwKJ0NvbXBvc2VyXFxNZXRhZGF0YU1pbmlmaWVyXFwnID0+IDI2LAonQ29tcG9zZXJcXENhQnVuZGxlXFwnID0+IDE4LAonQ29tcG9zZXJcXCcgPT4gOSwKKSwKKTsKCnB1YmxpYyBzdGF0aWMgJHByZWZpeERpcnNQc3I0ID0gYXJyYXkgKAonU3ltZm9ueVxcUG9seWZpbGxcXE1ic3RyaW5nXFwnID0+IAphcnJheSAoCjAgPT4gX19ESVJfXyAuICcvLi4nIC4gJy9zeW1mb255L3BvbHlmaWxsLW1ic3RyaW5nJywKKSwKJ1N5bWZvbnlcXFBvbHlmaWxsXFxDdHlwZVxcJyA9PiAKYXJyYXkgKAowID0+IF9fRElSX18gLiAnLy4uJyAuICcvc3ltZm9ueS9wb2x5ZmlsbC1jdHlwZScsCiksCidTeW1mb255XFxDb21wb25lbnRcXFByb2Nlc3NcXCcgPT4gCmFycmF5ICgKMCA9PiBfX0RJUl9fIC4gJy8uLicgLiAnL3N5bWZvbnkvcHJvY2VzcycsCiksCidTeW1mb255XFxDb21wb25lbnRcXEZpbmRlclxcJyA9PiAKYXJyYXkgKAowID0+IF9fRElSX18gLiAnLy4uJyAuICcvc3ltZm9ueS9maW5kZXInLAopLAonU3ltZm9ueVxcQ29tcG9uZW50XFxGaWxlc3lzdGVtXFwnID0+IAphcnJheSAoCjAgPT4gX19ESVJfXyAuICcvLi4nIC4gJy9zeW1mb255L2ZpbGVzeXN0ZW0nLAopLAonU3ltZm9ueVxcQ29tcG9uZW50XFxEZWJ1Z1xcJyA9PiAKYXJyYXkgKAowID0+IF9fRElSX18gLiAnLy4uJyAuICcvc3ltZm9ueS9kZWJ1ZycsCiksCidTeW1mb255XFxDb21wb25lbnRcXENvbnNvbGVcXCcgPT4gCmFycmF5ICgKMCA9PiBfX0RJUl9fIC4gJy8uLicgLiAnL3N5bWZvbnkvY29uc29sZScsCiksCidTZWxkXFxQaGFyVXRpbHNcXCcgPT4gCmFycmF5ICgKMCA9PiBfX0RJUl9fIC4gJy8uLicgLiAnL3NlbGQvcGhhci11dGlscy9zcmMnLAopLAonU2VsZFxcSnNvbkxpbnRcXCcgPT4gCmFycmF5ICgKMCA9PiBfX0RJUl9fIC4gJy8uLicgLiAnL3NlbGQvanNvbmxpbnQvc3JjL1NlbGQvSnNvbkxpbnQnLAopLAonUHNyXFxMb2dcXCcgPT4gCmFycmF5ICgKMCA9PiBfX0RJUl9fIC4gJy8uLicgLiAnL3Bzci9sb2cvUHNyL0xvZycsCiksCidKc29uU2NoZW1hXFwnID0+IAphcnJheSAoCjAgPT4gX19ESVJfXyAuICcvLi4nIC4gJy9qdXN0aW5yYWluYm93L2pzb24tc2NoZW1hL3NyYy9Kc29uU2NoZW1hJywKKSwKJ0NvbXBvc2VyXFxYZGVidWdIYW5kbGVyXFwnID0+IAphcnJheSAoCjAgPT4gX19ESVJfXyAuICcvLi4nIC4gJy9jb21wb3Nlci94ZGVidWctaGFuZGxlci9zcmMnLAopLAonQ29tcG9zZXJcXFNwZHhcXCcgPT4gCmFycmF5ICgKMCA9PiBfX0RJUl9fIC4gJy8uLicgLiAnL2NvbXBvc2VyL3NwZHgtbGljZW5zZXMvc3JjJywKKSwKJ0NvbXBvc2VyXFxTZW12ZXJcXCcgPT4gCmFycmF5ICgKMCA9PiBfX0RJUl9fIC4gJy8uLicgLiAnL2NvbXBvc2VyL3NlbXZlci9zcmMnLAopLAonQ29tcG9zZXJcXE1ldGFkYXRhTWluaWZpZXJcXCcgPT4gCmFycmF5ICgKMCA9PiBfX0RJUl9fIC4gJy8uLicgLiAnL2NvbXBvc2VyL21ldGFkYXRhLW1pbmlmaWVyL3NyYycsCiksCidDb21wb3NlclxcQ2FCdW5kbGVcXCcgPT4gCmFycmF5ICgKMCA9PiBfX0RJUl9fIC4gJy8uLicgLiAnL2NvbXBvc2VyL2NhLWJ1bmRsZS9zcmMnLAopLAonQ29tcG9zZXJcXCcgPT4gCmFycmF5ICgKMCA9PiBfX0RJUl9fIC4gJy8uLi8uLicgLiAnL3NyYy9Db21wb3NlcicsCiksCik7CgpwdWJsaWMgc3RhdGljICRwcmVmaXhlc1BzcjAgPSBhcnJheSAoCidSJyA9PiAKYXJyYXkgKAonUmVhY3RcXFByb21pc2UnID0+IAphcnJheSAoCjAgPT4gX19ESVJfXyAuICcvLi4nIC4gJy9yZWFjdC9wcm9taXNlL3NyYycsCiksCiksCik7CgpwdWJsaWMgc3RhdGljICRjbGFzc01hcCA9IGFycmF5ICgKJ0NvbXBvc2VyXFxJbnN0YWxsZWRWZXJzaW9ucycgPT4gX19ESVJfXyAuICcvLi4nIC4gJy9jb21wb3Nlci9JbnN0YWxsZWRWZXJzaW9ucy5waHAnLAopOwoKcHVibGljIHN0YXRpYyBmdW5jdGlvbiBnZXRJbml0aWFsaXplcihDbGFzc0xvYWRlciAkbG9hZGVyKQp7CnJldHVybiBcQ2xvc3VyZTo6YmluZChmdW5jdGlvbiAoKSB1c2UgKCRsb2FkZXIpIHsKJGxvYWRlci0+cHJlZml4TGVuZ3Roc1BzcjQgPSBDb21wb3NlclN0YXRpY0luaXRDb21wb3NlclBoYXIxNjIzMjQ5MDgwOjokcHJlZml4TGVuZ3Roc1BzcjQ7CiRsb2FkZXItPnByZWZpeERpcnNQc3I0ID0gQ29tcG9zZXJTdGF0aWNJbml0Q29tcG9zZXJQaGFyMTYyMzI0OTA4MDo6JHByZWZpeERpcnNQc3I0OwokbG9hZGVyLT5wcmVmaXhlc1BzcjAgPSBDb21wb3NlclN0YXRpY0luaXRDb21wb3NlclBoYXIxNjIzMjQ5MDgwOjokcHJlZml4ZXNQc3IwOwokbG9hZGVyLT5jbGFzc01hcCA9IENvbXBvc2VyU3RhdGljSW5pdENvbXBvc2VyUGhhcjE2MjMyNDkwODA6OiRjbGFzc01hcDsKCn0sIG51bGwsIENsYXNzTG9hZGVyOjpjbGFzcyk7Cn0KfQoKQ29weXJpZ2h0IChDKSAyMDE2IENvbXBvc2VyCgpQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYSBjb3B5IG9mCnRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlICJTb2Z0d2FyZSIpLCB0byBkZWFsIGluCnRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG8KdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbCBjb3BpZXMKb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvCnNvLCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczoKClRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkIGluIGFsbApjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLgoKVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEICJBUyBJUyIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1IKSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFksCkZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRQpBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSCkxJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sCk9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4gVEhFClNPRlRXQVJFLgoKIyMKIyMgQnVuZGxlIG9mIENBIFJvb3QgQ2VydGlmaWNhdGVzCiMjCiMjIENlcnRpZmljYXRlIGRhdGEgZnJvbSBNb3ppbGxhIGFzIG9mOiBUdWUgTWF5IDI1IDAzOjEyOjA1IDIwMjEgR01UCiMjCiMjIFRoaXMgaXMgYSBidW5kbGUgb2YgWC41MDkgY2VydGlmaWNhdGVzIG9mIHB1YmxpYyBDZXJ0aWZpY2F0ZSBBdXRob3JpdGllcwojIyAoQ0EpLiBUaGVzZSB3ZXJlIGF1dG9tYXRpY2FsbHkgZXh0cmFjdGVkIGZyb20gTW96aWxsYSdzIHJvb3QgY2VydGlmaWNhdGVzCiMjIGZpbGUgKGNlcnRkYXRhLnR4dCkuICBUaGlzIGZpbGUgY2FuIGJlIGZvdW5kIGluIHRoZSBtb3ppbGxhIHNvdXJjZSB0cmVlOgojIyBodHRwczovL2hnLm1vemlsbGEub3JnL3JlbGVhc2VzL21vemlsbGEtcmVsZWFzZS9yYXctZmlsZS9kZWZhdWx0L3NlY3VyaXR5L25zcy9saWIvY2tmdy9idWlsdGlucy9jZXJ0ZGF0YS50eHQKIyMKIyMgSXQgY29udGFpbnMgdGhlIGNlcnRpZmljYXRlcyBpbiBQRU0gZm9ybWF0IGFuZCB0aGVyZWZvcmUKIyMgY2FuIGJlIGRpcmVjdGx5IHVzZWQgd2l0aCBjdXJsIC8gbGliY3VybCAvIHBocF9jdXJsLCBvciB3aXRoCiMjIGFuIEFwYWNoZSttb2Rfc3NsIHdlYnNlcnZlciBmb3IgU1NMIGNsaWVudCBhdXRoZW50aWNhdGlvbi4KIyMgSnVzdCBjb25maWd1cmUgdGhpcyBmaWxlIGFzIHRoZSBTU0xDQUNlcnRpZmljYXRlRmlsZS4KIyMKIyMgQ29udmVyc2lvbiBkb25lIHdpdGggbWstY2EtYnVuZGxlLnBsIHZlcnNpb24gMS4yOC4KIyMgU0hBMjU2OiBlMjkyYmQ0ZTJkNTAwYzg2ZGY0NWI4MzBkODk0MTdiZTVjNDJlZTY3MDQwOGYxZDJjNDU0YzYzZDhhNzgyODY1CiMjCgoKR2xvYmFsU2lnbiBSb290IENBCj09PT09PT09PT09PT09PT09PQotLS0tLUJFR0lOIENFUlRJRklDQVRFLS0tLS0KTUlJRGRUQ0NBbDJnQXdJQkFnSUxCQUFBQUFBQkZVdGF3NVF3RFFZSktvWklodmNOQVFFRkJRQXdWekVMTUFrR0ExVUVCaE1DUWtVeApHVEFYQmdOVkJBb1RFRWRzYjJKaGJGTnBaMjRnYm5ZdGMyRXhFREFPQmdOVkJBc1RCMUp2YjNRZ1EwRXhHekFaQmdOVkJBTVRFa2RzCmIySmhiRk5wWjI0Z1VtOXZkQ0JEUVRBZUZ3MDVPREE1TURFeE1qQXdNREJhRncweU9EQXhNamd4TWpBd01EQmFNRmN4Q3pBSkJnTlYKQkFZVEFrSkZNUmt3RndZRFZRUUtFeEJIYkc5aVlXeFRhV2R1SUc1MkxYTmhNUkF3RGdZRFZRUUxFd2RTYjI5MElFTkJNUnN3R1FZRApWUVFERXhKSGJHOWlZV3hUYVdkdUlGSnZiM1FnUTBFd2dnRWlNQTBHQ1NxR1NJYjNEUUVCQVFVQUE0SUJEd0F3Z2dFS0FvSUJBUURhCkR1YVpqYzZqNDArS2Z2dnhpNE1sYStwSUgvRXFzTG1WRVFTOThHUFI0bWRtenh6ZHp4dElLKzZOaVk2YXJ5bUFaYXZweHkwU3k2c2MKVEhBSG9UMEtNTTBWalUvNDNkU01VQlVjNzFEdXhDNzMvT2xTOHBGOTRHM1ZOVENPWGtOejhrSHAxV3Jqc29rNlZqazRid1k4aUdsYgpLazNGcDFTNGJJbk1tL2s4eXVYOWlmVVNQSko0bHRiY2RHNlRSR0hSamNkR3NuVU9odWdaaXRWdGJOVjRGcFdpNmNnS09PdnlKQk5QCmMxU1RFNFU2Rzd3ZU5MV0xCWXk1ZDR1eDJ4OGdrYXNKVTI2UXpuczNkTGx3UjVFaVVXTVdlYTZ4cmtFbUNNZ1pLOUZHcWtqV1pDclgKZ3pUL0xDckJiQmxEU2dlRjU5Tjg5aUZvNytyeVVwOS9rNURQQWdNQkFBR2pRakJBTUE0R0ExVWREd0VCL3dRRUF3SUJCakFQQmdOVgpIUk1CQWY4RUJUQURBUUgvTUIwR0ExVWREZ1FXQkJSZ2UyWWFSUTJYeW9sUUwzMEV6VFNvLy96OVN6QU5CZ2txaGtpRzl3MEJBUVVGCkFBT0NBUUVBMW5QbmZFOTIwSTIvN0xxaXZqVEZLREsxZlB4c25Dd3J2UW1lVTc5clhxb1JTTGJsQ0tPenlqMWhUZE5HQ2JNK3c2RGoKWTFVYjhycnZyVG5oUTdrNG8rWXZpaVk3NzZCUVZ2bkdDdjA0emNRTGNGR1VsNWdFMzhOZmxOVVZ5UlJCbk1SZGRXUVZEZjlWTU95RwpqLzhON3l5NVkwYjJxdnpmdkduOUxoSklaSnJnbGZDbTd5bVBBYkVWdFF3ZHBmNXBMR2trZUI2enB4eHhZdTdLeUplc0YxMkt3dmhICmhtNHF4Rll4bGRCbmlZVXIrV3ltWFVhZERLcUM1SmxSM1hDMzIxWTlZZVJxNFZ6Vzl2NDkza0hNQjY1alVyOVRVL1FyNmNmOXR2ZUMKWDRYU1FSamJnYk1FSE1VZnBJQnZGU0RKM2d5SUNoM1dabFhpL0VqSktTWnA0QT09Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0KCkdsb2JhbFNpZ24gUm9vdCBDQSAtIFIyCj09PT09PT09PT09PT09PT09PT09PT09Ci0tLS0tQkVHSU4gQ0VSVElGSUNBVEUtLS0tLQpNSUlEdWpDQ0FxS2dBd0lCQWdJTEJBQUFBQUFCRDRZbTVnMHdEUVlKS29aSWh2Y05BUUVGQlFBd1RERWdNQjRHQTFVRUN4TVhSMnh2ClltRnNVMmxuYmlCU2IyOTBJRU5CSUMwZ1VqSXhFekFSQmdOVkJBb1RDa2RzYjJKaGJGTnBaMjR4RXpBUkJnTlZCQU1UQ2tkc2IySmgKYkZOcFoyNHdIaGNOTURZeE1qRTFNRGd3TURBd1doY05NakV4TWpFMU1EZ3dNREF3V2pCTU1TQXdIZ1lEVlFRTEV4ZEhiRzlpWVd4VAphV2R1SUZKdmIzUWdRMEVnTFNCU01qRVRNQkVHQTFVRUNoTUtSMnh2WW1Gc1UybG5iakVUTUJFR0ExVUVBeE1LUjJ4dlltRnNVMmxuCmJqQ0NBU0l3RFFZSktvWklodmNOQVFFQkJRQURnZ0VQQURDQ0FRb0NnZ0VCQUtiUEpBNitMbThvbVVWQ3hLcytJVlNiQzlOL2hIRDYKRXJQTHY0ZGZ4bitHMDdJd1hOYjlyZkY3M09YNFlKWUpraEQxMEZQZSszdCtjNGlzVW9oN1NxYktTYVplcUtlTVdoRzhlb0xydm96cApzNnlXSlFlWFNwa3FCeSswSG5lL2lnKzFBbndibHJqRnVUb3N2TllTdWV0WmZlTFFCb1pmWGtscXRUbGVpRFRzdkhnTUNKaUViS2pOClM3U2dmUXg1VGZDNExjc2h5dFZzVzMzaG9DbUVvZm5UbEVuTEpHS1JJTHpkQzlYWnpQbnFKd29yYzVIR25SdXN5TXZvNEtEMEw1Q0wKVGZ1d05odjJHWHFGNEczeVlST0lYSi9na3dwUmw0cGF6cStyMWZlcUNhcGd2ZHpaWDk5eXFXQVRYZ0FCeVVyNlA2VHFCd01oQW82Qwp5Z1BDbTQ4Q0F3RUFBYU9CbkRDQm1UQU9CZ05WSFE4QkFmOEVCQU1DQVFZd0R3WURWUjBUQVFIL0JBVXdBd0VCL3pBZEJnTlZIUTRFCkZnUVVtK0lIVjJjY0hzQnFCdDVadEpvdDM5d1poaTR3TmdZRFZSMGZCQzh3TFRBcm9DbWdKNFlsYUhSMGNEb3ZMMk55YkM1bmJHOWkKWVd4emFXZHVMbTVsZEM5eWIyOTBMWEl5TG1OeWJEQWZCZ05WSFNNRUdEQVdnQlNiNGdkWFp4d2V3R29HM2xtMG1pM2YzQm1HTGpBTgpCZ2txaGtpRzl3MEJBUVVGQUFPQ0FRRUFtWUZUaHh4b2w0YVI3T0JLdUVRTHE0R3NKMC9Xd2JnY1EzaXpESnI4Nml3OGJtRWJUVXNwCjlaOEZIU2JCdU9tREFHSkZ0cWtJazdtcE0wc1ltc0w0aDRoTzI5MXhOQnJCVk5wR1ArRFRLcXR0VkNMMU9tTE5JRys2S1luWDNaSHUKMDF5aVBxRmJRZlhmNVdSRExlblZPYXZTb3QrM2k5REFnQmtjUmNBdGpPajRMYVIwVmtuRkJiVlBGZDV1UkhnNWg2aCt1L041R0pHNwo5Rytkd2ZDTU5ZeGRBZnZEYmJudlJHMTVSakYrQ3Y2cGdzSC83NnR1SU1SUXlWK2RUWnNYakF6bEFjbWdRV3B6VS9xbFVMUnVKUS83ClRCajAvVkxaam1teDZCRVAzb2pZK3gxSjk2cmVsYzhnZU1KZ0V0c2xRSXhxL0g1Q09FQmtFdmVlZ2VHVExnPT0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQoKRW50cnVzdC5uZXQgUHJlbWl1bSAyMDQ4IFNlY3VyZSBTZXJ2ZXIgQ0EKPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KLS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUVLakNDQXhLZ0F3SUJBZ0lFT0dQZStEQU5CZ2txaGtpRzl3MEJBUVVGQURDQnRERVVNQklHQTFVRUNoTUxSVzUwY25WemRDNXUKWlhReFFEQStCZ05WQkFzVU4zZDNkeTVsYm5SeWRYTjBMbTVsZEM5RFVGTmZNakEwT0NCcGJtTnZjbkF1SUdKNUlISmxaaTRnS0d4cApiV2wwY3lCc2FXRmlMaWt4SlRBakJnTlZCQXNUSENoaktTQXhPVGs1SUVWdWRISjFjM1F1Ym1WMElFeHBiV2wwWldReE16QXhCZ05WCkJBTVRLa1Z1ZEhKMWMzUXVibVYwSUVObGNuUnBabWxqWVhScGIyNGdRWFYwYUc5eWFYUjVJQ2d5TURRNEtUQWVGdzA1T1RFeU1qUXgKTnpVd05URmFGdzB5T1RBM01qUXhOREUxTVRKYU1JRzBNUlF3RWdZRFZRUUtFd3RGYm5SeWRYTjBMbTVsZERGQU1ENEdBMVVFQ3hRMwpkM2QzTG1WdWRISjFjM1F1Ym1WMEwwTlFVMTh5TURRNElHbHVZMjl5Y0M0Z1lua2djbVZtTGlBb2JHbHRhWFJ6SUd4cFlXSXVLVEVsCk1DTUdBMVVFQ3hNY0tHTXBJREU1T1RrZ1JXNTBjblZ6ZEM1dVpYUWdUR2x0YVhSbFpERXpNREVHQTFVRUF4TXFSVzUwY25WemRDNXUKWlhRZ1EyVnlkR2xtYVdOaGRHbHZiaUJCZFhSb2IzSnBkSGtnS0RJd05EZ3BNSUlCSWpBTkJna3Foa2lHOXcwQkFRRUZBQU9DQVE4QQpNSUlCQ2dLQ0FRRUFyVTFMcVJLR3N1cWpJQWNWRm1RcUswdlJ2d3RLVFk3dGdIYWxaN2Q0UU1CelFzaG93TnRUSzkxZXVIYVlOWk9MCkdwMThFem9PSDF1M0hzL2xKQlFlc1lHcGpYMjR6R3RMQS9FQ0ROeXJwVUFrQUg5MGxLR2RDQ216aUF2MWgzZWRWYzNrdzM3WGFtU3IKaFJTR2xWdVhNbEJ2UGNpNlpnemovTDI0U2NGMmlVa1ovY0Nvdlltalp5L0duN3h4R1dDNExla3N5WkIyWm51VTRxOTQxbVZUWFR6VwpuTExQS1FQNUw2UlFzdFJJemdVeVZZcjlzbVJNRHVTWUIzWGJmOSs1Q0ZWZ2hUQXArWHRJcEdtRzR6VS9Ib1pkZW5vVnZlOEFqaFVpClZCY0FrQ2FUdkE1SmFKRy8rRWZUblpWQ3dRNU4zMjhtejhNWUlXSm1RM0RXMWNBSDRRSURBUUFCbzBJd1FEQU9CZ05WSFE4QkFmOEUKQkFNQ0FRWXdEd1lEVlIwVEFRSC9CQVV3QXdFQi96QWRCZ05WSFE0RUZnUVVWZVNCMFJHQXZ0aUp1UWlqTWZtaEpBa1d1WEF3RFFZSgpLb1pJaHZjTkFRRUZCUUFEZ2dFQkFEdWJqMWFiTU9kVG1YeDZlYWRObDljWmxaRDdCaC9LTTN4R1k0K1daaVQ2UUJzaEo4cm1jblB5ClQvNHhtZjNJREV4b1U4YUFnaE9ZK3JhdDJsMDk4YzV1OWhVUmxJSU03aitWcnhHckQ5Y3YzaDhEajFjc0hzbTdtaHBFbGVzWVQ2WWYKelgxWEVDK2JCQWxhaExWdTJCMDY0ZGFlMFd4NVhua2NGTVhqMEV5VE8yVTg3ZDg5dnFibGxSckR0Um5EdlY1YnUvOGo3MmdaeXhLVApKMXdETFc4dzBCNjJHcXplV3ZmUnFxZ25wdjU1Z2NSNW1UTlh1aEt3cWVCQ2JKUEtWdDcrYllRTENJdCtqZXJYbUNIRzgrYzhlUzllCm5ORk1GWTNoN0NJM3pKcERDNWZjZ0pDTnMyZWJiMGdJRlZiUHYvRXJmRjZhZHVsWmtNVjhnelVSWlZFPQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCgpCYWx0aW1vcmUgQ3liZXJUcnVzdCBSb290Cj09PT09PT09PT09PT09PT09PT09PT09PT0KLS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSURkekNDQWwrZ0F3SUJBZ0lFQWdBQXVUQU5CZ2txaGtpRzl3MEJBUVVGQURCYU1Rc3dDUVlEVlFRR0V3SkpSVEVTTUJBR0ExVUUKQ2hNSlFtRnNkR2x0YjNKbE1STXdFUVlEVlFRTEV3cERlV0psY2xSeWRYTjBNU0l3SUFZRFZRUURFeGxDWVd4MGFXMXZjbVVnUTNsaQpaWEpVY25WemRDQlNiMjkwTUI0WERUQXdNRFV4TWpFNE5EWXdNRm9YRFRJMU1EVXhNakl6TlRrd01Gb3dXakVMTUFrR0ExVUVCaE1DClNVVXhFakFRQmdOVkJBb1RDVUpoYkhScGJXOXlaVEVUTUJFR0ExVUVDeE1LUTNsaVpYSlVjblZ6ZERFaU1DQUdBMVVFQXhNWlFtRnMKZEdsdGIzSmxJRU41WW1WeVZISjFjM1FnVW05dmREQ0NBU0l3RFFZSktvWklodmNOQVFFQkJRQURnZ0VQQURDQ0FRb0NnZ0VCQUtNRQp1eUtybUQxWDZDWnltclY1MUNuaTRlaVZnTEd3NDF1T0t5bWFaTitoWGUyd0NRVnQyeWd1em1LaVl2NjBpTm9TNnpqcklaM0FRU3NCClVudUlkOU1jajhlNnVZaTFhZ25uYytnUlFLZlJ6TXBpalMzbGp3dW1VTktvVU1NbzZ2V3JKWWVLbXBZY3FXZTRQd3pWOS9sU0V5L0MKRzlWd2NQQ1B3QkxLQnN1YTRkbktNM3AzMXZqc3VmRm9SRUpJRTlMQXdxU3VYbUQrdHFZRi9MVGRCMWtDMUZrWW1HUDFwV1Bna0F4OQpYYklHZXZPRjZ1dlVBNjVlaEQ1Zi94WHRhYno1T1RaeWRjOTNVazN6eVpBc3VUM2x5U05UUHg4a21DRmNCNWtwdmNZNjdPZHVoanByCmwzUmpNNzFvR0RId2VJMTJ2L3llamwwcWhxZE5rTnduR2prQ0F3RUFBYU5GTUVNd0hRWURWUjBPQkJZRUZPV2RXVENDUjFqTXJQb0kKVkRhR2V6cTFCRTN3TUJJR0ExVWRFd0VCL3dRSU1BWUJBZjhDQVFNd0RnWURWUjBQQVFIL0JBUURBZ0VHTUEwR0NTcUdTSWIzRFFFQgpCUVVBQTRJQkFRQ0ZERjJPNUc5UmFFSUZvTjI3VHljbGhBTzk5MlQ5TGRjdzQ2UVFGK3ZhS1NtMmVUOTI5aGtUSTdnUUN2bFlwTlJoCmNMMEVZV29TaWhmVkNyM0Z2REI4MXVrTUpZMkdRRS9zektOK09NWTNFVS90M1dneGprelNzd0YwN3I1MVhnZElHbjl3L3haY2hNQjUKaGJnRi9YKytaUkdqRDhBQ3RQaFNOemtFMWFreGVoaS9vQ3IwRXBuM28wV0M0enhlOVoyZXRjaWVmQzdJcEo1T0NCUkxiZjF3YldzYQpZNzFrNWgrM3p2RHlueTY3RzdmeVVJaHprc0xpNHhhTm1qSUNxNDRZM2VrUUVlNStOYXVRcno0d2xIclFNejJuWlEvMS9JNmVZczlIClJDd0JYYnNkdFRMU1I5STRMdEQrZ2R3eWFoNjE3anpWL09lQkhSbkRKRUxxWXptcAotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCgpFbnRydXN0IFJvb3QgQ2VydGlmaWNhdGlvbiBBdXRob3JpdHkKPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ci0tLS0tQkVHSU4gQ0VSVElGSUNBVEUtLS0tLQpNSUlFa1RDQ0EzbWdBd0lCQWdJRVJXdFFWREFOQmdrcWhraUc5dzBCQVFVRkFEQ0JzREVMTUFrR0ExVUVCaE1DVlZNeEZqQVVCZ05WCkJBb1REVVZ1ZEhKMWMzUXNJRWx1WXk0eE9UQTNCZ05WQkFzVE1IZDNkeTVsYm5SeWRYTjBMbTVsZEM5RFVGTWdhWE1nYVc1amIzSncKYjNKaGRHVmtJR0o1SUhKbFptVnlaVzVqWlRFZk1CMEdBMVVFQ3hNV0tHTXBJREl3TURZZ1JXNTBjblZ6ZEN3Z1NXNWpMakV0TUNzRwpBMVVFQXhNa1JXNTBjblZ6ZENCU2IyOTBJRU5sY25ScFptbGpZWFJwYjI0Z1FYVjBhRzl5YVhSNU1CNFhEVEEyTVRFeU56SXdNak0wCk1sb1hEVEkyTVRFeU56SXdOVE0wTWxvd2diQXhDekFKQmdOVkJBWVRBbFZUTVJZd0ZBWURWUVFLRXcxRmJuUnlkWE4wTENCSmJtTXUKTVRrd053WURWUVFMRXpCM2QzY3VaVzUwY25WemRDNXVaWFF2UTFCVElHbHpJR2x1WTI5eWNHOXlZWFJsWkNCaWVTQnlaV1psY21WdQpZMlV4SHpBZEJnTlZCQXNURmloaktTQXlNREEySUVWdWRISjFjM1FzSUVsdVl5NHhMVEFyQmdOVkJBTVRKRVZ1ZEhKMWMzUWdVbTl2CmRDQkRaWEowYVdacFkyRjBhVzl1SUVGMWRHaHZjbWwwZVRDQ0FTSXdEUVlKS29aSWh2Y05BUUVCQlFBRGdnRVBBRENDQVFvQ2dnRUIKQUxhVnRrTkMrc1p0S205STM1Uk1PVmNGN3NONUVVRm9OdTNzL3BvQmo2RTRLUHozRUVabUxrMGVHckVhVHNiUndKV0lzTW4vTVlzegpBOXUzZzNzK0lJUmU3YkpXS0tmNDRMbEFjVGZGeTBjT2x5cG93Q0tWWWhYYlI5bjEwQ3YvZ2t2SnJUN2VUTnVRZ0ZBL0NZcUVBT3d3CkNqMFl6ZnY5S2xtYUk1VVhMRVdlSDI1RGVXME1YSmorU0tmRkkwZGNYdjF1NXg2MDltaEYwWWFEVzZLS2piSGpLWUQrSlhHSXJiNjgKajZ4U2xrdXFVWTNrRXpFWjZFNU5uOXVzczJyVnZEbFVjY3A2ZW4rUTNYMGRnTm1CdTFrbXdoSCs1cFBpOTREa1pmczBOdzRwZ0hCTgpyemlHTHA1L1Y2K2VGNjdySE1zb0lWKzJITmpub2dRaStkUGEyTXNDQXdFQUFhT0JzRENCclRBT0JnTlZIUThCQWY4RUJBTUNBUVl3CkR3WURWUjBUQVFIL0JBVXdBd0VCL3pBckJnTlZIUkFFSkRBaWdBOHlNREEyTVRFeU56SXdNak0wTWxxQkR6SXdNall4TVRJM01qQTEKTXpReVdqQWZCZ05WSFNNRUdEQVdnQlJva09SbnBLWlRnTWVHWnFUeDkwdEQrNFM5YlRBZEJnTlZIUTRFRmdRVWFKRGtaNlNtVTRESApobWFrOGZkTFEvdUV2VzB3SFFZSktvWklodlo5QjBFQUJCQXdEaHNJVmpjdU1UbzBMakFEQWdTUU1BMEdDU3FHU0liM0RRRUJCUVVBCkE0SUJBUUNUMURDdzF3TWdLdEQ1WStpUkRBVWdxVjhaeW50eVR0U3gyOUNXKzFSYUdTd01DUGV5dklXb25YOXRPMUt6S3R2bjFJU00KWS9ZUHl5WUJrVkJzOUY4VTRwTjB3Qk9lTURwUTQ3Umd4Unp3SWtTTmNVZXN5QnJKNlp1YUFHQVQvM0IrWHhGTlNSdXpGVko3eVZUYQp2NTJWcjJ1YTJKN3A4ZVJEamVJUlJEcS9yNzJEUW5OU2k2cTdweW5QOVdRY0NrM1J2S3FzbnlyUS8zOS8ybjNxc2Uwd0pjR0UyalRTClczaURWdXljTnNNbTRoSDJaMGtka3F1TSsrdi9ldTZGU3FkUWdQQ25YRXFVTGw4Rm1UeFNRZUROdEdQUEFVTzZuSVBjajJBNzgxcTAKdEh1dTJndVFPSFh2Z1IxbTB2ZFhjRGF6di93b3IzRWxoVnNUL2g1L1dyUTgKLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQoKQ29tb2RvIEFBQSBTZXJ2aWNlcyByb290Cj09PT09PT09PT09PT09PT09PT09PT09PQotLS0tLUJFR0lOIENFUlRJRklDQVRFLS0tLS0KTUlJRU1qQ0NBeHFnQXdJQkFnSUJBVEFOQmdrcWhraUc5dzBCQVFVRkFEQjdNUXN3Q1FZRFZRUUdFd0pIUWpFYk1Ca0dBMVVFQ0F3UwpSM0psWVhSbGNpQk5ZVzVqYUdWemRHVnlNUkF3RGdZRFZRUUhEQWRUWVd4bWIzSmtNUm93R0FZRFZRUUtEQkZEYjIxdlpHOGdRMEVnClRHbHRhWFJsWkRFaE1COEdBMVVFQXd3WVFVRkJJRU5sY25ScFptbGpZWFJsSUZObGNuWnBZMlZ6TUI0WERUQTBNREV3TVRBd01EQXcKTUZvWERUSTRNVEl6TVRJek5UazFPVm93ZXpFTE1Ba0dBMVVFQmhNQ1IwSXhHekFaQmdOVkJBZ01Fa2R5WldGMFpYSWdUV0Z1WTJobApjM1JsY2pFUU1BNEdBMVVFQnd3SFUyRnNabTl5WkRFYU1CZ0dBMVVFQ2d3UlEyOXRiMlJ2SUVOQklFeHBiV2wwWldReElUQWZCZ05WCkJBTU1HRUZCUVNCRFpYSjBhV1pwWTJGMFpTQlRaWEoyYVdObGN6Q0NBU0l3RFFZSktvWklodmNOQVFFQkJRQURnZ0VQQURDQ0FRb0MKZ2dFQkFMNUFuZlJ1NGVwMmh4eE5SVVNPdmtiSWd3YWR3U3IrR0IrTzVBTDY4NnRkVUlvV01RdWFCdERGY0NMTlNTMVVZOHkyYm1oRwpDMVBxeTB3a3dMeHlUdXJ4RmE3MFZKb1NDc042c2pOZzR0cUpWZk1pV1BQZTNNL3ZnNGFpakpSUG4yanltSkJHaENmSGRyL2p6RFVzCmkxNEhaR1dDd0Vpd3FKSDVZWjkySUZDb2tjZG10ZXQ0WWdOVzhJb2FFK294b3g2Z21mMDQ5dlluTWxodkIvVnJ1UHNVSzYrM3FzelcKWTE5empOb0ZtYWc0cU1zWGVEWlJyT21lOUhnNmpjOFAyVUxpbUF5ckw1OE9BZDd2bjVsSjhTM2ZySFJORzVpMVI4WGxLZEg1a0JqSApZcHkrZzhjbWV6NktKY2ZBM1ozbU5XZ1FJSjJQMk43U3c0U2NEVjdvTDhrQ0F3RUFBYU9Cd0RDQnZUQWRCZ05WSFE0RUZnUVVvQkVLCkl6Nlc4UWZzNHE4cDc0S2xmOUF3cExRd0RnWURWUjBQQVFIL0JBUURBZ0VHTUE4R0ExVWRFd0VCL3dRRk1BTUJBZjh3ZXdZRFZSMGYKQkhRd2NqQTRvRGFnTklZeWFIUjBjRG92TDJOeWJDNWpiMjF2Wkc5allTNWpiMjB2UVVGQlEyVnlkR2xtYVdOaGRHVlRaWEoyYVdObApjeTVqY213d05xQTBvREtHTUdoMGRIQTZMeTlqY213dVkyOXRiMlJ2TG01bGRDOUJRVUZEWlhKMGFXWnBZMkYwWlZObGNuWnBZMlZ6CkxtTnliREFOQmdrcWhraUc5dzBCQVFVRkFBT0NBUUVBQ0ZiOEF2Q2I2UCtrK3RaN3hrU0F6ay9FeGZZQVdNeW10cndVU1dnRWR1am0KN2wzc0FnOWcxbzFRR0U4bVRnSGo1ckNsN3IrOGRGUkJ2LzM4RXJqSFQxcjBpV0FGZjJDM0JVcno5dkhDdjhTNWRJYTJMWDFyek5MegpSdDB2eHVCcXc4TTBBeXg5bHQxYXdnNm5DcG5CQll1ckRDL3pYRHJQYkRkVkNZZmVVMEJzV08vOHRxdGxiZ1QyRzl3ODRGb1Z4cDdaCjhWbElNQ0ZsQTJ6czZTRno3SnNEb2VBM3JhQVZHSS82dWdMT3B5eXBFQk1zMU9VSUpxc2lsMkQ0a0Y1MDFLS2FVNzN5cVdqZ29tN0MKMTJ5eG93K2V2K3RvNTFieXJ2TGpLemc2Q1lHMWE0WFh2aTN0UHhxM3NtUGk5V0lzZ3RScUFFRlE4VG1EbjVYcE5wYVliZz09Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0KClF1b1ZhZGlzIFJvb3QgQ0EKPT09PT09PT09PT09PT09PQotLS0tLUJFR0lOIENFUlRJRklDQVRFLS0tLS0KTUlJRjBEQ0NCTGlnQXdJQkFnSUVPclpRaXpBTkJna3Foa2lHOXcwQkFRVUZBREIvTVFzd0NRWURWUVFHRXdKQ1RURVpNQmNHQTFVRQpDaE1RVVhWdlZtRmthWE1nVEdsdGFYUmxaREVsTUNNR0ExVUVDeE1jVW05dmRDQkRaWEowYVdacFkyRjBhVzl1SUVGMWRHaHZjbWwwCmVURXVNQ3dHQTFVRUF4TWxVWFZ2Vm1Ga2FYTWdVbTl2ZENCRFpYSjBhV1pwWTJGMGFXOXVJRUYxZEdodmNtbDBlVEFlRncwd01UQXoKTVRreE9ETXpNek5hRncweU1UQXpNVGN4T0RNek16TmFNSDh4Q3pBSkJnTlZCQVlUQWtKTk1Sa3dGd1lEVlFRS0V4QlJkVzlXWVdScApjeUJNYVcxcGRHVmtNU1V3SXdZRFZRUUxFeHhTYjI5MElFTmxjblJwWm1sallYUnBiMjRnUVhWMGFHOXlhWFI1TVM0d0xBWURWUVFECkV5VlJkVzlXWVdScGN5QlNiMjkwSUVObGNuUnBabWxqWVhScGIyNGdRWFYwYUc5eWFYUjVNSUlCSWpBTkJna3Foa2lHOXcwQkFRRUYKQUFPQ0FROEFNSUlCQ2dLQ0FRRUF2MkcxbFZPNlYvejY4bWNMT2hyZkVZQmtsYlRSdk0xNnovWXBsaTRrVkVBa09QY2FoZHhZVE11awpKMEtYMEorRGlzUGtCZ05iQUtWUkhuQUVkT0xCMURxcjE2MDdCeGdGanYyRHJPcG0yUmdiYUlyMVZ4cVl1dlh0ZGoxODJkNlVhanRMCkY4SFZqNzFsT0RxVjBEMVZOazdmZVZjeEtoN1lXV1ZKV0NDWWZxdGZmcC9wMWszc2czU3B4MnpZN2lsS2hTb0dGUGxVNXRQYVpRZUwKWXpjUzE5RHN3M3NnUVVTajdjdWdGK0Z4WmM0ZFpqSDNkZ0VaeUgwRFdMYVZTUjJtRWlib3hneDI0T05teStwZHBpYnU1Y3hmdldlbgpBU2NPb3NwVXhiRjZsUjF4SGtvcGlnUGNha1hCcEJsZWJ6Yk53Nkt3dC81Y09PSlN2UGhFUSthUXV3SURBUUFCbzRJQ1VqQ0NBazR3ClBRWUlLd1lCQlFVSEFRRUVNVEF2TUMwR0NDc0dBUVVGQnpBQmhpRm9kSFJ3Y3pvdkwyOWpjM0F1Y1hWdmRtRmthWE52Wm1aemFHOXkKWlM1amIyMHdEd1lEVlIwVEFRSC9CQVV3QXdFQi96Q0NBUm9HQTFVZElBU0NBUkV3Z2dFTk1JSUJDUVlKS3dZQkJBRytXQUFCTUlINwpNSUhVQmdnckJnRUZCUWNDQWpDQnh4cUJ4RkpsYkdsaGJtTmxJRzl1SUhSb1pTQlJkVzlXWVdScGN5QlNiMjkwSUVObGNuUnBabWxqCllYUmxJR0o1SUdGdWVTQndZWEowZVNCaGMzTjFiV1Z6SUdGalkyVndkR0Z1WTJVZ2IyWWdkR2hsSUhSb1pXNGdZWEJ3YkdsallXSnMKWlNCemRHRnVaR0Z5WkNCMFpYSnRjeUJoYm1RZ1kyOXVaR2wwYVc5dWN5QnZaaUIxYzJVc0lHTmxjblJwWm1sallYUnBiMjRnY0hKaApZM1JwWTJWekxDQmhibVFnZEdobElGRjFiMVpoWkdseklFTmxjblJwWm1sallYUmxJRkJ2YkdsamVTNHdJZ1lJS3dZQkJRVUhBZ0VXCkZtaDBkSEE2THk5M2QzY3VjWFZ2ZG1Ga2FYTXVZbTB3SFFZRFZSME9CQllFRkl0TGJlM1RLYmtHR2V3NU9hbndsNFJxeSsvZk1JR3UKQmdOVkhTTUVnYVl3Z2FPQUZJdExiZTNUS2JrR0dldzVPYW53bDRScXkrL2ZvWUdFcElHQk1IOHhDekFKQmdOVkJBWVRBa0pOTVJrdwpGd1lEVlFRS0V4QlJkVzlXWVdScGN5Qk1hVzFwZEdWa01TVXdJd1lEVlFRTEV4eFNiMjkwSUVObGNuUnBabWxqWVhScGIyNGdRWFYwCmFHOXlhWFI1TVM0d0xBWURWUVFERXlWUmRXOVdZV1JwY3lCU2IyOTBJRU5sY25ScFptbGpZWFJwYjI0Z1FYVjBhRzl5YVhSNWdnUTYKdGxDTE1BNEdBMVVkRHdFQi93UUVBd0lCQmpBTkJna3Foa2lHOXcwQkFRVUZBQU9DQVFFQWl0UVV0ZjcwbXBLbkdkU2tmbklZajlsbwpmRklrM1dkdk9YckVxbDQ5NGxpd1RYQ1loR0hvRytOcEdBN08rMGRRb0U3LzhDUWZ2YkxPOVNmODdDOVRxbk43QXoxMGJ1WVdudXVsCkxzUy9WaWRRSzJLNnZrc2NQRlZjUVIwa3ZvSWdSMTNWUkg1NkZtamZmVTFSY0hoWEhUTWUvUUtabkF6TkNnVlB4N3VPcEhYNlNtMngKZ0k0SlZybWNHbUQrWGNIWGV0d1JlTkRXWGNHMzFhMHltUU02aXN4VUpUa3hnWHNUSWxHNlJteWh1NTc2Qkd4SkpuU1AwblByekRDaQo1dXBaSW9mNGwvVU8vZXJNa3FRV3hGSVk2aUhPc2ZIbWhJSGx1cW1HS1BKRFdsMFNuYXdlMmFqbENtcW5mNkNIS2MveWlVM1U3TVhpCjVuclFOaU9LU25RMitRPT0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQoKUXVvVmFkaXMgUm9vdCBDQSAyCj09PT09PT09PT09PT09PT09PQotLS0tLUJFR0lOIENFUlRJRklDQVRFLS0tLS0KTUlJRnR6Q0NBNStnQXdJQkFnSUNCUWt3RFFZSktvWklodmNOQVFFRkJRQXdSVEVMTUFrR0ExVUVCaE1DUWsweEdUQVhCZ05WQkFvVApFRkYxYjFaaFpHbHpJRXhwYldsMFpXUXhHekFaQmdOVkJBTVRFbEYxYjFaaFpHbHpJRkp2YjNRZ1EwRWdNakFlRncwd05qRXhNalF4Ck9ESTNNREJhRncwek1URXhNalF4T0RJek16TmFNRVV4Q3pBSkJnTlZCQVlUQWtKTk1Sa3dGd1lEVlFRS0V4QlJkVzlXWVdScGN5Qk0KYVcxcGRHVmtNUnN3R1FZRFZRUURFeEpSZFc5V1lXUnBjeUJTYjI5MElFTkJJREl3Z2dJaU1BMEdDU3FHU0liM0RRRUJBUVVBQTRJQwpEd0F3Z2dJS0FvSUNBUUNhR01wTGxBMEFMYThES1lyd0Q0SElya3daaFIwSW42c3BSSVh6TDRHdE1oNlFScitqaGlZYUh2NStIQmc2ClhKeGdGeW82ZElNek1IMWhWQkhMN2F2ZzV0S2lmdlZyYnhpM0Nnc3QvZWsrN3dyR3N4RHAzTUpHRi9oZC9hVGEvNTVKV3B6bU0rWWsKbHZjL3Vsc3JISG8xd3Rabi9xdG1VSXR0S0dBcjc5ZGd3OGVUdkkwMmtmTi8rTnNSRThTY2QzYkJycmNDYW9GNnFVV0Q0Z1htdVZiQgpsRGVQU0hGakl1d1haUWVWaWt2Zmo4WmFDdVd3NDE5ZWF4R3JEUG1GNjBUcCtBUno4dW4rWEppTTlYT3ZhN1IremRSY0FpdE1PZUd5CmxaVXRRb2ZYMWJPUVE3ZHNFL0hlM2ZiRStJay8wWFgxa3NPUjFZcUkwSkRzM0czZWljSmxjWmFMRFFQOW5MOWJGcXlTMityK2VYeXQKNjYvM0ZzdmJ6U1VyNVIvN21wL2lVY3c2VXd4STVnNjl5YlIyQmxMbUVST0ZjbU1EQk9BRU5pc2dHUUxvZEtjZnRzbFdadkIxSmR4bgp3UTVoWUlpelB0R28vS1BhSGJEUnNTTlUzMFIyYmUxQjJNR3lJclpUSE44MUhkeWhkeW94NUMzMTVlWGJ5T0QvNVlEWEMyT2cvek9oCkQ3b3NGUlhxbDdQU29yVys4b3lXSGhxUEhXeWtZVGU1aG5NejE1ZVduaU45Z3FSTWdlS2gwYnBuWDVVSG95Y1I3aFlRZTd4RlNreXkKQk5Lcjc5WDlERkhPVUdvSU1mbVIyZ3lQWkZ3RHd6cUxJRDl1aldjOU90YitmVnVJeVY3N3pHSGNpek4zMDBReU5RbGlCSklXRU5pZQpKMGY3T3lIaitPc2RXd0lEQVFBQm80R3dNSUd0TUE4R0ExVWRFd0VCL3dRRk1BTUJBZjh3Q3dZRFZSMFBCQVFEQWdFR01CMEdBMVVkCkRnUVdCQlFhaEdLOFNFd3pKUVRVN3REMkE4UVpSdEdVYXpCdUJnTlZIU01FWnpCbGdCUWFoR0s4U0V3ekpRVFU3dEQyQThRWlJ0R1UKYTZGSnBFY3dSVEVMTUFrR0ExVUVCaE1DUWsweEdUQVhCZ05WQkFvVEVGRjFiMVpoWkdseklFeHBiV2wwWldReEd6QVpCZ05WQkFNVApFbEYxYjFaaFpHbHpJRkp2YjNRZ1EwRWdNb0lDQlFrd0RRWUpLb1pJaHZjTkFRRUZCUUFEZ2dJQkFENEtGazJmQmx1b3JuRmRMd1V2ClorWVRSWVBFTnZiendDWU1EYlZIWkYzNHRITEpScVVER0NkVmlYaDlkdXFXTklBWElOem5nL2lOL0FlNDJsOU5MbWV5aFAzWlJQeDMKVUlIbWZMVEpEUXR5VS9oMkJ3ZEJSNVlNKytDQ0pwTlZqUDRpSDJCbGZGL25KclAzTXBDWVVOUTNjVlgya2lGNDk1VjUrdmd0Sm9kbQpWakIzcGpkNE0xSVFXSzQvWVk3eWFySHZHSDVLV1dQS2phSlcxYWN2dkZZZnp6bkI0dnNLcUJVc2ZVMTZZOFpzbDBRODBtL0RTaGNLCitKRFNWNklaVWFVdGwwSGFCMCtwVU5xUWpaUkc0VDd3bFAwUUFEajFPK2hBNGJSdVZob2d6RzlZamUwdVJZL1c2Wk0vNTdFczN6clcKSW96Y2hMc2liOUQ0NU1ZNTZRU0lQTU82NjFWNmJZQ1pKUFZzQWZ2NGw3Q1VXK3Y5MG0veGQyZ05OV1FqckxoVm9RUFJUVUlaM1BoMQpXVmFqK2FoSmVmaXZEcmtSb0h5M2F1MDAwTFltWWpnYWh3ejQ2UDB1MDVCL0I1RXFIZForWElXRG1iQTRDRC9wWHZrMUIrVEpZbTVYCmY2ZFFsZmU2eUp2bWpxSUJ4ZFptdjNsaDh6d2M0Ym1DWEYyZ3crbllTTDBab2hFVUdXNnloaHRvUGtnM0dvaTNYWlplbk1mdkoySUkKNHBFWlhOTHhJZDI2RjBLQ2wzR0JVekdwbi9aOVlyOXk0YU9USGN5S0psb0pPTkRPMXcyQUZyUjRwVHFIVEkyS3BkVkdsL0lzRUxtOApWQ0xBQVZCcFE1NzBzdTl0K096YThlT3g3OStSajFRcUN5WEJKaG5FVWhBRlpkV0NFT3JDTWMwdQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCgpRdW9WYWRpcyBSb290IENBIDMKPT09PT09PT09PT09PT09PT09Ci0tLS0tQkVHSU4gQ0VSVElGSUNBVEUtLS0tLQpNSUlHblRDQ0JJV2dBd0lCQWdJQ0JjWXdEUVlKS29aSWh2Y05BUUVGQlFBd1JURUxNQWtHQTFVRUJoTUNRazB4R1RBWEJnTlZCQW9UCkVGRjFiMVpoWkdseklFeHBiV2wwWldReEd6QVpCZ05WQkFNVEVsRjFiMVpoWkdseklGSnZiM1FnUTBFZ016QWVGdzB3TmpFeE1qUXgKT1RFeE1qTmFGdzB6TVRFeE1qUXhPVEEyTkRSYU1FVXhDekFKQmdOVkJBWVRBa0pOTVJrd0Z3WURWUVFLRXhCUmRXOVdZV1JwY3lCTQphVzFwZEdWa01Sc3dHUVlEVlFRREV4SlJkVzlXWVdScGN5QlNiMjkwSUVOQklETXdnZ0lpTUEwR0NTcUdTSWIzRFFFQkFRVUFBNElDCkR3QXdnZ0lLQW9JQ0FRRE1WMElXVkp6bW1OUFRUZTcrN2NlZlF6bEtaYlBvRm9nMDJ3MVprWFRQa3JnRVFLMENTekdydkkyUmFOZ2cKRGhvQjRocDdUaGRkNG9xM1A1a2F6ZXRocThKbHBoKzN0NzIzai96OWNJOExvR2UrQWFKWnozSG1EeWwyLzdGV2VVVXJINTU2Vk9pagpLVFZvcEFGUEQ2UXVOKzhiditPUEVLaHlxMWhYNTFTR3lNbnpXOW9zMmwyT2JqeWpQdHI3Z3VYZDhseXlCVE52aWpiTzBCTk8vNzlLCkREUk1wc01odlZBRVZldXh1NTM3UlI1a0ZkNVZBWXdDZHJYTG9UOUNhYnd2dldoREZsYUpLamRoa2YybXJrN0F5eFJsbERkTGtnYnYKQk5ESW5JamJDM3VCcjdFOUtzUmxPbmkyN3R5QXNkTFRtWnc2N210YWE3T050OVhPbk1LK3BVc3ZGckdlYURzR2I2NTluL2plN013cApwNWlqSlVNdjcvRmZKdUdJVGZoZWJ0ZlpGRzRaTTJtbk80U0prOFJUVlJPaFVYaEErTGpKb3U1N3VsSkNnNTRVN1FWU1dsbFdwNWY4Cm5UOEtLZGpjVDVFT0U3emVsYVRmaTVtK3JKc3ppTysxZ2E4YnhpSlR5UGJIN3BjVXNNVjhlRkxJOE01dWQyQ0VwdWtxZGlEdFdBRVgKTUpQcEdvdmdjMlBaYXBLVVNVNjByVXFGeEtNaU1Qd0o3V2dpYzZhSURGVWhXTVhoT3A4cTNjcmhrT0RaYzZ0c2dMam9DMlNUb0p5TQpHZit6MGd6c2tTYUhpck9pNFhDUExBcmx6VzFvVWV2YVB3Vi9pekxtRTF4ci9sOUE0aUxJdExSa1Q5YTZmVWcrcUdrTTE3dUdjY2x6CnVEODduU1ZMMnY5QTZ3SURBUUFCbzRJQmxUQ0NBWkV3RHdZRFZSMFRBUUgvQkFVd0F3RUIvekNCNFFZRFZSMGdCSUhaTUlIV01JSFQKQmdrckJnRUVBYjVZQUFNd2djVXdnWk1HQ0NzR0FRVUZCd0lDTUlHR0dvR0RRVzU1SUhWelpTQnZaaUIwYUdseklFTmxjblJwWm1sagpZWFJsSUdOdmJuTjBhWFIxZEdWeklHRmpZMlZ3ZEdGdVkyVWdiMllnZEdobElGRjFiMVpoWkdseklGSnZiM1FnUTBFZ015QkRaWEowCmFXWnBZMkYwWlNCUWIyeHBZM2tnTHlCRFpYSjBhV1pwWTJGMGFXOXVJRkJ5WVdOMGFXTmxJRk4wWVhSbGJXVnVkQzR3TFFZSUt3WUIKQlFVSEFnRVdJV2gwZEhBNkx5OTNkM2N1Y1hWdmRtRmthWE5uYkc5aVlXd3VZMjl0TDJOd2N6QUxCZ05WSFE4RUJBTUNBUVl3SFFZRApWUjBPQkJZRUZQTEFFK0NDUXo3NzdpOW5NcFkxWE51NHl3TFFNRzRHQTFVZEl3Um5NR1dBRlBMQUUrQ0NRejc3N2k5bk1wWTFYTnU0Cnl3TFFvVW1rUnpCRk1Rc3dDUVlEVlFRR0V3SkNUVEVaTUJjR0ExVUVDaE1RVVhWdlZtRmthWE1nVEdsdGFYUmxaREViTUJrR0ExVUUKQXhNU1VYVnZWbUZrYVhNZ1VtOXZkQ0JEUVNBemdnSUZ4akFOQmdrcWhraUc5dzBCQVFVRkFBT0NBZ0VBVDYyZ0xFejZ3UEp2OTJaVgpxeU0wN3VjcDJzTmJ0ckNEMmREUTRpSDc4MkNuTzExZ1V5ZWltL1lJSWlybnY2Qnk1WndrYWpHeGtIb24yNFFSaVNlbWQxbzQxNytzCmh2enVYWU84QnNiUmQyc1BiU1F2UzNwc3B3ZVd5dU9FbjYySWl4MnJGbzFiWmhmWkZ2U0xnTkxkK0xKMncvdzRFNm9NM2tKcEsyN3oKUE91QUo5djFwa1FObjFwVldRdlZEVkpJeGE2ZjhpK0F4ZW95VURVU2x5N0I0Zi94STRoUk9KL3labFoyNXc5Umw2VlNERTFKVVpVMgpQYitpU3d3UUhZYVpUS3J6Y2hHVDVPcjJtOXFvWGFkTnQ1NENybk1BeU5vakErajU2aGwwWWdDVXl5SWd2cFNuV2JXQ2FyNlplWHFwCjhrb2tVdmQwL2JwTzVxZ2RBbTZ4RFlCRXdhN1RJemRmdTRWOEs1SXU2SDZsaTkyWjRiOG5ieTFkcW51SC9ncmRTL3lPOVNia2JuQkMKYmpQc01aNTdrOEhreVdrYVBjQnJUaUp0N3F0WVRjYlFRY0VyNms4U2gxN3JSZGhzOVpnQzA2RFlWWW9HbVJtaW9IZlJNSjZzekhYdQpnL1d3WWpuUGJGZmlUTktSQ3c1MUtCdWF2LzBhUS9IS2QvczdqMkc0YVNnV1FnUmVjQ29jSWRpUDRiMGpXeTEwUUpMWll4a05jOTFwCnZHSkh2T0IwSzdMcmZiNUJHN1hBUnNXaElzdGZUc0Vva3Q0WXV0VXFLTHNSaXhlVG1KbGdsRndqejFvbmwxNExCUWFUTng0N2FUYnIKcVo1aEhZOHkybzRNMW5RK2V3a2syZ0YzUjhRN3pUU01tZlhLNFNWaE03SlpHK0p1MXpkWHRnMnBFdG89Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0KClNlY3VyaXR5IENvbW11bmljYXRpb24gUm9vdCBDQQo9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KLS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSURXakNDQWtLZ0F3SUJBZ0lCQURBTkJna3Foa2lHOXcwQkFRVUZBREJRTVFzd0NRWURWUVFHRXdKS1VERVlNQllHQTFVRUNoTVAKVTBWRFQwMGdWSEoxYzNRdWJtVjBNU2N3SlFZRFZRUUxFeDVUWldOMWNtbDBlU0JEYjIxdGRXNXBZMkYwYVc5dUlGSnZiM1JEUVRFdwpIaGNOTURNd09UTXdNRFF5TURRNVdoY05Nak13T1RNd01EUXlNRFE1V2pCUU1Rc3dDUVlEVlFRR0V3SktVREVZTUJZR0ExVUVDaE1QClUwVkRUMDBnVkhKMWMzUXVibVYwTVNjd0pRWURWUVFMRXg1VFpXTjFjbWwwZVNCRGIyMXRkVzVwWTJGMGFXOXVJRkp2YjNSRFFURXcKZ2dFaU1BMEdDU3FHU0liM0RRRUJBUVVBQTRJQkR3QXdnZ0VLQW9JQkFRQ3pzLzUvMDIyeDd4WjhWNlVNYlhhS0wwdS9aUHRNN29ydwo4eWw4OWYvdUt1RHA2YnBiWkNLYW1tOHNPaVpwVVFXWkp0elZIR3B4eHBwOUhwM2RmR3pHakdkblNqNzRjYkFaSjZrSkRLYVZ2MHVNCkRQcFZtRHZZNkNLaFMzRTRlYXlYa21temlYN3FJV2dHbUJTV2g5SmhOcnh0SjFhZVYrN0F3RmI5TXMrazJZN0NJOWVOcVBQWUpheVgKNUhBNDlMWTZ0SjA3bHlaRG82RzhTVmx5VENNd2h3Rlk5azYrSEdoV1pxL05RVjNJczAwcVZVYXJIOW9lNGtBOTI4MTl1WktBbkRmZApESlprbmR3aTkyU0wzMkhlRlpSU0ZhQjlVc2xMcUNISnhySHR5OE9WWU5FUDhLdHcrTi9MVFg3czF2cXIyYjEvVlBLbDZYbjYyZFoyCkpDaHpBZ01CQUFHalB6QTlNQjBHQTFVZERnUVdCQlNnYzBtWmFOeUZXMlhqbXlndlY1KzlNN3dIU0RBTEJnTlZIUThFQkFNQ0FRWXcKRHdZRFZSMFRBUUgvQkFVd0F3RUIvekFOQmdrcWhraUc5dzBCQVFVRkFBT0NBUUVBYUVDcHFMdmtUMTE1c3dXMUY3TmdFK3ZHa2wzZwowZE5xL3Z1K20yMi94d1Z0V1NERUhQQzMyb1JZQW1QNlNCYnZUNlVMOTBxWThqK2VHNjFIYTJQT0NFZnJVajk0bks5TnJ2alZUOCthCm1Db1FRVGxTeE4zWm13N3Zrd0d1c2k3S2FFSWtRbXl3c3pvK3plbmFTTVFWeStuNUJ3K1NVRW1LM1RHWFg4bnBONm83V1dXWGxETEoKczU4K09tSll4VW10WWc1eHBUS3FMOGFKZGtOQUV4Tm5QYUpVSlJETDhUcnkyZnJiU1ZhN3B2Nm5RVFhENEloaHlZakgzellRSXBoWgo2ckJLKzFZV2MyNnNUZmNpb1UrdEhYb3RSU2ZsTU1GZTh0b1R5eVZDVVpWSEE0eHNJY3gwUXUxVC96T0xqdzlYQVJZdno2YnV5WEFpCkZMMzl2bXdMQXc9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCgpTb25lcmEgQ2xhc3MgMiBSb290IENBCj09PT09PT09PT09PT09PT09PT09PT0KLS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSURJRENDQWdpZ0F3SUJBZ0lCSFRBTkJna3Foa2lHOXcwQkFRVUZBREE1TVFzd0NRWURWUVFHRXdKR1NURVBNQTBHQTFVRUNoTUcKVTI5dVpYSmhNUmt3RndZRFZRUURFeEJUYjI1bGNtRWdRMnhoYzNNeUlFTkJNQjRYRFRBeE1EUXdOakEzTWprME1Gb1hEVEl4TURRdwpOakEzTWprME1Gb3dPVEVMTUFrR0ExVUVCaE1DUmtreER6QU5CZ05WQkFvVEJsTnZibVZ5WVRFWk1CY0dBMVVFQXhNUVUyOXVaWEpoCklFTnNZWE56TWlCRFFUQ0NBU0l3RFFZSktvWklodmNOQVFFQkJRQURnZ0VQQURDQ0FRb0NnZ0VCQUpBWFNqV2R5dkFObHNkRStoWTMKL0VpOXZYK0FMVFU3NFcrb1o2bS9BeHhOakc4eVI5VkJhS1FUQk1FMURKcUVRL3hjSGYrSnMrZ1hHTTJSWC91SjQrcS9UbDE4R3liVApkWG50NW9UalYrV3RLY1QwT2lqbnBYdUVObW16L1Y1MnZhTXRtZE9RVGlNb2ZSaGo4VlE3SnAxMlc1ZENzdit1OEU3czNUbVZUb01HCmYrZEpRTWpGQWJKVVdtWWRQZno1NlR3S25vRzRjUEFCaStRalZIeklydmlRSGdDV2N0UlV6MkVqdk9yN25RS1YwYmE1Y1RwcENEOFAKdE9GQ3g0ajFQNWlvcDdvYzRIRng3MWhYZ1ZCNlhHdDBSZzZEQTVqRGpxaHU4bll5YmllRHduUHozQmpvdEpQcWRVUnJCR0FnY1ZlSApuZk8rb0pBalBZb2s0ZG9oMjhNQ0F3RUFBYU16TURFd0R3WURWUjBUQVFIL0JBVXdBd0VCL3pBUkJnTlZIUTRFQ2dRSVNxQ3FXSVRUClhqd3dDd1lEVlIwUEJBUURBZ0VHTUEwR0NTcUdTSWIzRFFFQkJRVUFBNElCQVFCYXpvZjVGbklWVjBzZDJadm5vaVl3N0pObjM5WXQKMGpTdjl6aWx6cXNXdWFzdmZEWExyTkFQdEV3ci9JRHZhNHlSWHpaMjk5dXpHeG5xOUxJUi9XRnhSTDhvc3pvZHY3TkQ2SisvM0RFSQpjYkNkamRZMFJ6S1F4bVVrOTZCS2ZBUnpqemx2RjR4eXRiMUx5SHI0ZTRQREtFNmNDZXBuUDdKbkJCdkRGTnI0NTBra2tkQWRhdnBoCk9lOXI1eUYxQmdmWUVyUWhJSEJDY1lIYVBKbzJ2cVpiRFdwc21oK1JlL241NzBLNlRrNmV6QXlObE56WlJaeGU3RUpRWTY3MFhjU3gKRXR6S082Z3VuUlJhQlhXMzdOZGo0cm8xdGdRSWtlamFuWnoyWnJVWXJBcW1WQ1kwTTlJYndkUi9HanFPQzZveWJ0djhUeVdmMlRMSApsbHB3ck45TQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCgpYUmFtcCBHbG9iYWwgQ0EgUm9vdAo9PT09PT09PT09PT09PT09PT09PQotLS0tLUJFR0lOIENFUlRJRklDQVRFLS0tLS0KTUlJRU1EQ0NBeGlnQXdJQkFnSVFVSlJzN0JqcTFaeE4xWmZ2ZFkrZ3JUQU5CZ2txaGtpRzl3MEJBUVVGQURDQmdqRUxNQWtHQTFVRQpCaE1DVlZNeEhqQWNCZ05WQkFzVEZYZDNkeTU0Y21GdGNITmxZM1Z5YVhSNUxtTnZiVEVrTUNJR0ExVUVDaE1iV0ZKaGJYQWdVMlZqCmRYSnBkSGtnVTJWeWRtbGpaWE1nU1c1ak1TMHdLd1lEVlFRREV5UllVbUZ0Y0NCSGJHOWlZV3dnUTJWeWRHbG1hV05oZEdsdmJpQkIKZFhSb2IzSnBkSGt3SGhjTk1EUXhNVEF4TVRjeE5EQTBXaGNOTXpVd01UQXhNRFV6TnpFNVdqQ0JnakVMTUFrR0ExVUVCaE1DVlZNeApIakFjQmdOVkJBc1RGWGQzZHk1NGNtRnRjSE5sWTNWeWFYUjVMbU52YlRFa01DSUdBMVVFQ2hNYldGSmhiWEFnVTJWamRYSnBkSGtnClUyVnlkbWxqWlhNZ1NXNWpNUzB3S3dZRFZRUURFeVJZVW1GdGNDQkhiRzlpWVd3Z1EyVnlkR2xtYVdOaGRHbHZiaUJCZFhSb2IzSnAKZEhrd2dnRWlNQTBHQ1NxR1NJYjNEUUVCQVFVQUE0SUJEd0F3Z2dFS0FvSUJBUUNZSkI2OUZiUzYzOGVNcFNlMk9BdHA4N1pPcUN3dQpJUjFjUk44aFhYNGpkUDVlZnJSS3Q2YXRINjdnQmhiaW0xdlpaM1JyWFlDUEtaMkdHOW1jRFpodGRoQW9XT1Jsc0g5S21IbWY0TU14CmZvQXJ0WXpBUURzUmh0RExvb1kyWUtUVk1JSnQyVzdRRHhJRU01ZGZUMkZhOE9UNWthdm5IVHU4Nk0vMGF5MDBmT0pJWVJ5TzgyRkUKekcrZ1NxbVVzRTNhNTZrMGVuSTRxRUhNUEpRUmZldklwb3kzaHN2S016dlpQVGVMKzNvK2hpem5jOWNLVjZ4a214bnI5QThFQ0lxcwpBeGNaWlBSYUpTS05OQ3l5OW1nZEVtM1RpaDRVMnNTUHB1SWpoZFY2RGIxcTRPbnM3QmU3UWh0bnFpWHRSWU1oL01ISmZOVmlQdnJ5CnhTM1QvZFJsQWdNQkFBR2pnWjh3Z1p3d0V3WUpLd1lCQkFHQ054UUNCQVllQkFCREFFRXdDd1lEVlIwUEJBUURBZ0dHTUE4R0ExVWQKRXdFQi93UUZNQU1CQWY4d0hRWURWUjBPQkJZRUZNWlBvajBHWTRRSm5NNWk1QVNzalZ5MTZiWWJNRFlHQTFVZEh3UXZNQzB3SzZBcApvQ2VHSldoMGRIQTZMeTlqY213dWVISmhiWEJ6WldOMWNtbDBlUzVqYjIwdldFZERRUzVqY213d0VBWUpLd1lCQkFHQ054VUJCQU1DCkFRRXdEUVlKS29aSWh2Y05BUUVGQlFBRGdnRUJBSkVWT1FNQkcyZjdTaHo1Q21CYm9kcE5sMkw1SkZNbjE0SmtUcEF1dzBrYks1cmMKL0toNFp6WHhIZkFSdmJkSTR4RDJEZDgvMHNtMnFsV2tTTG9DMjk1WkxoVmJPNTBXZlVmWE4rcGZUWFlTTnJzZjE2R0JCRVlnb3l4dApxWjRCZmo4cHpnQ1QzLzNKa25PSmlXU2U1eXZrSEpFczBybk9mYzV2TVpuVDVyN1NIcER3Q1JSNVhDT3JUZExhSVI5Tm1YbWQ0YzhuCm54Q2JISWdOc0lwa1FURzREbXlRSktTYlhIR1B1cnQrSEJ2YmFvQVBJYnpwMjZhM1FQU3lpNm14NU8rYUd0QTlhWm51cUNpajRUeXoKOExJUm5NOThRT2JkNTBOOW90ZzZ0YW1OOGpTWnhOUVE0UWI5Q1lRUU8rN0VUUFRzSjN4Q3duUjhnb29KeWJRREpidz0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQoKR28gRGFkZHkgQ2xhc3MgMiBDQQo9PT09PT09PT09PT09PT09PT09Ci0tLS0tQkVHSU4gQ0VSVElGSUNBVEUtLS0tLQpNSUlFQURDQ0F1aWdBd0lCQWdJQkFEQU5CZ2txaGtpRzl3MEJBUVVGQURCak1Rc3dDUVlEVlFRR0V3SlZVekVoTUI4R0ExVUVDaE1ZClZHaGxJRWR2SUVSaFpHUjVJRWR5YjNWd0xDQkpibU11TVRFd0x3WURWUVFMRXloSGJ5QkVZV1JrZVNCRGJHRnpjeUF5SUVObGNuUnAKWm1sallYUnBiMjRnUVhWMGFHOXlhWFI1TUI0WERUQTBNRFl5T1RFM01EWXlNRm9YRFRNME1EWXlPVEUzTURZeU1Gb3dZekVMTUFrRwpBMVVFQmhNQ1ZWTXhJVEFmQmdOVkJBb1RHRlJvWlNCSGJ5QkVZV1JrZVNCSGNtOTFjQ3dnU1c1akxqRXhNQzhHQTFVRUN4TW9SMjhnClJHRmtaSGtnUTJ4aGMzTWdNaUJEWlhKMGFXWnBZMkYwYVc5dUlFRjFkR2h2Y21sMGVUQ0NBU0F3RFFZSktvWklodmNOQVFFQkJRQUQKZ2dFTkFEQ0NBUWdDZ2dFQkFONmQxK3BYR0VtaFcrdlhYMGlHNnI3ZC8rVHZaeHowWldpelYzR2dYbmU3N1p0SjZYQ0FQVllZWXdodgoydkxNMEQ5L0FsUWlWQkRZc29IVXdIVTlTMy9IZDhNK2VLc2FBN1VnYXk5cUs3SEZpSDdFdXg2d3dkaEZKMitxTjFqM2h5YlgyQzMyCnFSZTNIM0kyVHFZWFAyV1lrdHNxYmwyaS9vamdDOTUvNVkwVjRldkxPdFhpRXFJVExkaU9yMThTUGFBSUJRaTJYS1ZsT0FSRm1SNmoKWUdCMHhVR2xjbUliWXNVZmIxOGFRcjRDVVdXb3JpTVlhdng0QTZsTmY0REQrcXRhL0tGQXBNb1pGdjZ5eU85ZWN3M3VkNzJhOW5tWQp2TEVIWjZJVkRkMmdXTVpFZXdvK1lpaGZ1a0VIVTFqUEVYNDRkTVg0LzdWcGtJK0VkT3FYRzY4Q0FRT2pnY0F3Z2Iwd0hRWURWUjBPCkJCWUVGTkxFc05LUjFFd1JjYk5oeXoyaC90Mm9hdFRqTUlHTkJnTlZIU01FZ1lVd2dZS0FGTkxFc05LUjFFd1JjYk5oeXoyaC90Mm8KYXRUam9XZWtaVEJqTVFzd0NRWURWUVFHRXdKVlV6RWhNQjhHQTFVRUNoTVlWR2hsSUVkdklFUmhaR1I1SUVkeWIzVndMQ0JKYm1NdQpNVEV3THdZRFZRUUxFeWhIYnlCRVlXUmtlU0JEYkdGemN5QXlJRU5sY25ScFptbGpZWFJwYjI0Z1FYVjBhRzl5YVhSNWdnRUFNQXdHCkExVWRFd1FGTUFNQkFmOHdEUVlKS29aSWh2Y05BUUVGQlFBRGdnRUJBREpMODdMS1BwSDhFc2FoQjR5T2Q2QXpCaFJja0I0WTl3aW0KUFFvWitZZUFFVzVwNUpZWE1QODBrV055T083TUhBR2pIWlFvcERIMmVzUlUxL2JsTVZnRG9zek9ZdHVVUlhPMXYwWEpKTFhWZ2dLdApJM2xwamJpMlRjN1BUTW96SStnY2lLcWRpMEZ1RnNrZzVZbWV6VHZhY1BkK21TWWdGRlFscTI1emhlYWJJWjBLYklJT3FQakNEUG9RCkhteVc3NGNOeEE5aGk2M3VneXVWK0k2U2hISTU2eURxZysyRHpaZHVDTHpyVGlhMmN5dmswL1pNL2laeDRtRVJkRXIvVnhxSEQzVkkKTHM5UmFSZWdBaEpobGRYUlFMSVFUTzdFckJCRHBxV2VDdFdWWXBvTno0aUN4VElNNUN1ZlJlWU5ueWljc2JrcVdsZXROdyt2SFgvYgp2Wjg9Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0KClN0YXJmaWVsZCBDbGFzcyAyIENBCj09PT09PT09PT09PT09PT09PT09Ci0tLS0tQkVHSU4gQ0VSVElGSUNBVEUtLS0tLQpNSUlFRHpDQ0F2ZWdBd0lCQWdJQkFEQU5CZ2txaGtpRzl3MEJBUVVGQURCb01Rc3dDUVlEVlFRR0V3SlZVekVsTUNNR0ExVUVDaE1jClUzUmhjbVpwWld4a0lGUmxZMmh1YjJ4dloybGxjeXdnU1c1akxqRXlNREFHQTFVRUN4TXBVM1JoY21acFpXeGtJRU5zWVhOeklESWcKUTJWeWRHbG1hV05oZEdsdmJpQkJkWFJvYjNKcGRIa3dIaGNOTURRd05qSTVNVGN6T1RFMldoY05NelF3TmpJNU1UY3pPVEUyV2pCbwpNUXN3Q1FZRFZRUUdFd0pWVXpFbE1DTUdBMVVFQ2hNY1UzUmhjbVpwWld4a0lGUmxZMmh1YjJ4dloybGxjeXdnU1c1akxqRXlNREFHCkExVUVDeE1wVTNSaGNtWnBaV3hrSUVOc1lYTnpJRElnUTJWeWRHbG1hV05oZEdsdmJpQkJkWFJvYjNKcGRIa3dnZ0VnTUEwR0NTcUcKU0liM0RRRUJBUVVBQTRJQkRRQXdnZ0VJQW9JQkFRQzNNc2orNlhHbUJJV3REQkZrMzg1Tjc4Z0RHSWMvb2F2N1BLYWY4TU9oMnRUWQpiaXRUa1Bza3BENkU4SjdvWCt6bEowVDFLS1kvZTk3Z0t2RElyMU12bnNvRkFaTWVqMlljT2FkTitscTJjd1FsWnV0M2YrZFp4a3FaCkpSUlU2eWJIODM4WjFUQndqNit3UmlyL3Jlc3A3ZGVmcWdTSG85VDVpYVUwWDl0RGtZSTIyV1k4c2JpNWd2MmNPajRReUR2dkJtVm0KZXBzWkdEMy9jVkU4TUM1ZnZqMTNjN0pkQm16REkxYWFLNFVta2h5bkFyUGtQdzJ2Q0htQ3VEWTk2cHpUTmJPOGFjcjF6SjNvL1dTTgpGNEF6Ymw1S1habkpIb2UwblJyQTFXNFROU05lMzV0ZlBlL1c5M2JDNmo2N2VBMGNRbWRyQk5qNDF0cHZpL0pFb0FHckFnRURvNEhGCk1JSENNQjBHQTFVZERnUVdCQlMvWDdmUnp0MGZodlJiVmF6YzF4RENEcW1JNXpDQmtnWURWUjBqQklHS01JR0hnQlMvWDdmUnp0MGYKaHZSYlZhemMxeERDRHFtSTU2RnNwR293YURFTE1Ba0dBMVVFQmhNQ1ZWTXhKVEFqQmdOVkJBb1RIRk4wWVhKbWFXVnNaQ0JVWldObwpibTlzYjJkcFpYTXNJRWx1WXk0eE1qQXdCZ05WQkFzVEtWTjBZWEptYVdWc1pDQkRiR0Z6Y3lBeUlFTmxjblJwWm1sallYUnBiMjRnClFYVjBhRzl5YVhSNWdnRUFNQXdHQTFVZEV3UUZNQU1CQWY4d0RRWUpLb1pJaHZjTkFRRUZCUUFEZ2dFQkFBV2RQNGlkMGNrYVZhR3MKYWZQeldkcWJBWWNhVDFlcG9Ya0pLdHYzTDdJZXpNZGVhdGlEaDZHWDcwazFQbmNHUVZoaXY0NVl1QXBuUCt5ejNTRm1IOGxVK25MTQpQVXhBMklHdmQ1NkRlcnVpeC9VMEY0N1pFVUQwL0N3cVRSVi9wMkpkTGlYVEFBc2dHaDFvK1JlNDlMMkw3U2haM1UwV2l4ZUR5TEpsCnh5MTZwYXE4VTRadDNWZWt5dmdnUVF0bzhQVDdkTDVXWFhwNTlma2RoZU10bGI3MWNaQkR6STBmbWdBS2h5bnBWU0pZQUNQcTR4SkQKS1Z0SENOMk1RV3BsQnFqbElhcEJ0SlVobGJsOTBUU3JFOWF0dk56aVBUbk52VDUxY0tFWVdRUEpJclNQbk5WZUt0ZWx0dFFLYmZpMwpRQkZHbWg5NURtSy9ENWZzNEM4ZkY1UT0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQoKRGlnaUNlcnQgQXNzdXJlZCBJRCBSb290IENBCj09PT09PT09PT09PT09PT09PT09PT09PT09PQotLS0tLUJFR0lOIENFUlRJRklDQVRFLS0tLS0KTUlJRHR6Q0NBcCtnQXdJQkFnSVFET2ZnNVJmWVJ2NlA1V0Q4Ry9Bd09UQU5CZ2txaGtpRzl3MEJBUVVGQURCbE1Rc3dDUVlEVlFRRwpFd0pWVXpFVk1CTUdBMVVFQ2hNTVJHbG5hVU5sY25RZ1NXNWpNUmt3RndZRFZRUUxFeEIzZDNjdVpHbG5hV05sY25RdVkyOXRNU1F3CklnWURWUVFERXh0RWFXZHBRMlZ5ZENCQmMzTjFjbVZrSUVsRUlGSnZiM1FnUTBFd0hoY05NRFl4TVRFd01EQXdNREF3V2hjTk16RXgKTVRFd01EQXdNREF3V2pCbE1Rc3dDUVlEVlFRR0V3SlZVekVWTUJNR0ExVUVDaE1NUkdsbmFVTmxjblFnU1c1ak1Sa3dGd1lEVlFRTApFeEIzZDNjdVpHbG5hV05sY25RdVkyOXRNU1F3SWdZRFZRUURFeHRFYVdkcFEyVnlkQ0JCYzNOMWNtVmtJRWxFSUZKdmIzUWdRMEV3CmdnRWlNQTBHQ1NxR1NJYjNEUUVCQVFVQUE0SUJEd0F3Z2dFS0FvSUJBUUN0RGhYTzVFT0FYTEdIODdkZytYRVNwYTdjSnBTSXF2VE8KOVNBNUtGaGdEUGlBMnFrVmxUSmhQTFd4S0lTS2l0eWZDZ3lERjNxUGtLeUs1M2xUWERHRUt2WVBtREkyZHN6ZTNUeW9vdTlxK3lIeQpVbUhmbnlEWEgrS3gyZjRZWk5JU1cxLzVXQmcxdkVmTm9UYjVhMy9Vc0RnK3dSdkRqRFBaMkM4WS9pZ1BzNmVEMXNOdVJNQmhOWllXCi9sbWNpM1p0MS9HaVN3MHIvd3R5MnA1ZzBJNlFOY1o0VlljZ29jL2xiUXJJU1h3eG1ETnNJdW1IMERKYW9yb1RnaEh0T1JlZG1UcHkKb2ViNnBOblZGekYxcm9WOUlxNC9BVWFHOWloNXlMSGE1RmNYeEg0Y0RyQzBrcVpXczcyeWwrMnFwL0MzeGFnL2xSYlEvNkdXNndoZgpHSGRQQWdNQkFBR2pZekJoTUE0R0ExVWREd0VCL3dRRUF3SUJoakFQQmdOVkhSTUJBZjhFQlRBREFRSC9NQjBHQTFVZERnUVdCQlJGCjY2S3Y5SkxMZ2pFdFVZdW5weUdkODIzSUR6QWZCZ05WSFNNRUdEQVdnQlJGNjZLdjlKTExnakV0VVl1bnB5R2Q4MjNJRHpBTkJna3EKaGtpRzl3MEJBUVVGQUFPQ0FRRUFvZzY4MytMdDhPTnljM3BrbEwvM2NtYllNdVJDZFdLdWgrdnkxZG5lVnJPZnpNNFVLTGtObDJCYwpFa3hZNU5NOWcwbEZXSmMxYVJxb1IrcFd4bm1yRXRobmdZVGZmd2s4bE9hNEppd2d2VDJ6S0luM1gvOGk0cGVFSCtsbDc0ZmczOEZuClNiTmQ2N0lKS3VzbTdYaStmVDhyODdjbU5XMWZpUUcyU1Z1ZkFRV2JxejBsd2N5MmY4THhiNGJHK21SbzY0RXRsT3RDdC9xTUh0MWkKOGI1UVo3ZHN2ZlB4SDJzTU5nY1dmemQ4cVZ0dGV2RVNSbUNEMXljRXZrdk9sNzdEWnlwb0VkK0E1d3d6WnI4VERSUnU4MzhmWXhBZQorbzBiSlcxc2o2VzNZUUd4MHFNbW9SQnhuYTNpdy9uRG1WRzNLd2NJemk3bVVMS24rZ3BGTDZMdzhnPT0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQoKRGlnaUNlcnQgR2xvYmFsIFJvb3QgQ0EKPT09PT09PT09PT09PT09PT09PT09PT0KLS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSURyekNDQXBlZ0F3SUJBZ0lRQ0R2Z1ZwQkNSckdoZFdySldaSEhTakFOQmdrcWhraUc5dzBCQVFVRkFEQmhNUXN3Q1FZRFZRUUcKRXdKVlV6RVZNQk1HQTFVRUNoTU1SR2xuYVVObGNuUWdTVzVqTVJrd0Z3WURWUVFMRXhCM2QzY3VaR2xuYVdObGNuUXVZMjl0TVNBdwpIZ1lEVlFRREV4ZEVhV2RwUTJWeWRDQkhiRzlpWVd3Z1VtOXZkQ0JEUVRBZUZ3MHdOakV4TVRBd01EQXdNREJhRncwek1URXhNVEF3Ck1EQXdNREJhTUdFeEN6QUpCZ05WQkFZVEFsVlRNUlV3RXdZRFZRUUtFd3hFYVdkcFEyVnlkQ0JKYm1NeEdUQVhCZ05WQkFzVEVIZDMKZHk1a2FXZHBZMlZ5ZEM1amIyMHhJREFlQmdOVkJBTVRGMFJwWjJsRFpYSjBJRWRzYjJKaGJDQlNiMjkwSUVOQk1JSUJJakFOQmdrcQpoa2lHOXcwQkFRRUZBQU9DQVE4QU1JSUJDZ0tDQVFFQTRqdmhFWExlcUtUVG8xZXFVS0tQQzNlUXlhS2w3aExPbGxzQkNTRE1BWk9uClRqQzNVL2REeEdrQVY1M2lqU0xkaHdaQUFJRUp6czRiZzcvZnpUdHhSdUxXWnNjRnMzWW5Gbzk3bmg2VmZlNjNTS01JMnRhdmVndzUKQm1WL1NsMGZ2QmY0cTc3dUtOZDBmM3A0bVZtRmFHNWNJekpMdjA3QTZGcHQ0M0MvZHhDLy9BSDJoZG1vUkJCWU1xbDFHTlhSb3I1SAo0aWRxOUpveitFa0lZSXZVWDdRNmhMK2hxa3BNZlQ3UFQxOXNkbDZnU3plUm50d2k1bTNPRkJxT2Fzdit6Yk1VWkJmSFd5bWVNci95Cjd2clRDMExVcTdkQk10b00xTy80Z2RXN2pWZy90UnZvU1NpaWNOb3hCTjMzc2hieVRBcE9CNmp0U2oxZXRYK2prTU92SndJREFRQUIKbzJNd1lUQU9CZ05WSFE4QkFmOEVCQU1DQVlZd0R3WURWUjBUQVFIL0JBVXdBd0VCL3pBZEJnTlZIUTRFRmdRVUE5NVFOVmJSVEx0bQo4S1BpR3h2RGw3STkwVlV3SHdZRFZSMGpCQmd3Rm9BVUE5NVFOVmJSVEx0bThLUGlHeHZEbDdJOTBWVXdEUVlKS29aSWh2Y05BUUVGCkJRQURnZ0VCQU11Y042cElFeElLK3QxRW5FOVNzUFRmcmdUMWVYa0lveVFZL0VzcmhNQXR1ZFhIL3ZUQkgxakx1RzJjZW5Ubm1DbXIKRWJYamNLQ2h6VXlJbVpPTWtYRGlxdzhjdnBPcC8yUFY1QWRnMDZPL25Wc0o4ZFdPNDFQMGptUDZQNmZidEdiZlltYlcwVzVCamZJdAp0ZXAzU3ArZFdPSXJXY0JBSSswdEtJSkZQbmxVa2lhWTRJQklxRGZ2OE5aNVlCYmVyT2dPelc2c1JCYzRMMG5hNFVVK0tyazJVODg2ClVBYjNMdWpFVjBsc1lTRVkxUVN0ZUR3c09vQnJwK3V2RlJUcDJJbkJ1VGhzNHBGc2l2OWt1WGNsVnpEQUd5U2o0ZHpwMzBkOHRiUWsKQ0FVdzdDMjlDNzlGdjFDNXFmUHJtQUVTcmNpSXhwZzBYNDBLUE1icDFaV1ZiZDQ9Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0KCkRpZ2lDZXJ0IEhpZ2ggQXNzdXJhbmNlIEVWIFJvb3QgQ0EKPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQotLS0tLUJFR0lOIENFUlRJRklDQVRFLS0tLS0KTUlJRHhUQ0NBcTJnQXdJQkFnSVFBcXhjSm1vTFFKdVBDM255cmtZbGR6QU5CZ2txaGtpRzl3MEJBUVVGQURCc01Rc3dDUVlEVlFRRwpFd0pWVXpFVk1CTUdBMVVFQ2hNTVJHbG5hVU5sY25RZ1NXNWpNUmt3RndZRFZRUUxFeEIzZDNjdVpHbG5hV05sY25RdVkyOXRNU3N3CktRWURWUVFERXlKRWFXZHBRMlZ5ZENCSWFXZG9JRUZ6YzNWeVlXNWpaU0JGVmlCU2IyOTBJRU5CTUI0WERUQTJNVEV4TURBd01EQXcKTUZvWERUTXhNVEV4TURBd01EQXdNRm93YkRFTE1Ba0dBMVVFQmhNQ1ZWTXhGVEFUQmdOVkJBb1RERVJwWjJsRFpYSjBJRWx1WXpFWgpNQmNHQTFVRUN4TVFkM2QzTG1ScFoybGpaWEowTG1OdmJURXJNQ2tHQTFVRUF4TWlSR2xuYVVObGNuUWdTR2xuYUNCQmMzTjFjbUZ1ClkyVWdSVllnVW05dmRDQkRRVENDQVNJd0RRWUpLb1pJaHZjTkFRRUJCUUFEZ2dFUEFEQ0NBUW9DZ2dFQkFNYk01WFBtKzlTNzVTMHQKTXFiZjVZRS95YzBsU2JaeEtzUFZsRFJub2dvY3NGOXBwa0N4eExleWo5Q1lwS2xCV1RyVDNKVFdQTnQwT0tSS3pFMGxndmRLcFZNUwpPTzd6U1cxeGtYNWp0cXVtWDhPa2hQaFBZbEcrK01YczJ6aVM0d2JsQ0pFTXhDaEJWZnZMV29rVmZuSG9OYjlOY2drOXZqbzRVRnQzCk1SdU5zOGNrUlpxbnJHMEFGRm9FdDdvVDYxRUttRUZCSWs1bFlZZUJRVkNtZVZ5SjNobEtWOVV1NWwwY1V5eCttTTBhQmhha2FIUFEKTkFRVFhLRngwMXA4VmR0ZVpPRTNoekJXQk9VUnRDbUFFdkY1T1lpaUFoRjhKMmEzaUxkNDhzb0txRGlyQ21UQ3YyWmRsWVRCb1NVZQpoMTBhVUFzZ0VzeEJ1MjRMVVRpNFM4c0NBd0VBQWFOak1HRXdEZ1lEVlIwUEFRSC9CQVFEQWdHR01BOEdBMVVkRXdFQi93UUZNQU1CCkFmOHdIUVlEVlIwT0JCWUVGTEUrdzJrRCtMOUhBZFNZSmhvSUF1OWpaQ3ZETUI4R0ExVWRJd1FZTUJhQUZMRSt3MmtEK0w5SEFkU1kKSmhvSUF1OWpaQ3ZETUEwR0NTcUdTSWIzRFFFQkJRVUFBNElCQVFBY0dnYVgzTmVjbnp5SVpnWUlWeUhiSVVmNEttZXF2eGd5ZGtBUQpWOEdLODNyWkVXV09OZnFlL0VXMW50bE1NVXU0a2VoRExJNnplTTdiNDFONWNkYmxJWlFCMmxXSG1pUms5b3Btek42Y044Mm9OTEZwCm15UElubmdpSzNCRDQxVkhNV0VaNzFqRmhTOU9NUGFnTVJZanlPZmlaUll6eTc4YUc2QTkrTXBlaXpHTFlBaUpMUXdHWEZLM3hQa0sKbU5FVlg1OFN2bncyWXppOVJLUi81Q1lyQ3NTWGFRM3BqT0xBRUZlNHlIWVNrVlh5U0duWXZDb0NXdzlFMUNBeDIvUzZjQ1pka0dDZQp2RXNYQ1MrMHl4NURhTWtISjhIU1hQZnFJYmxvRXB3OG5MK2UvSUJjbTJQTjdFZXFKU2Rub0RmekFJSjlWTmVwK09rdUU2TjM2QjlLCi0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0KCkRTVCBSb290IENBIFgzCj09PT09PT09PT09PT09Ci0tLS0tQkVHSU4gQ0VSVElGSUNBVEUtLS0tLQpNSUlEU2pDQ0FqS2dBd0lCQWdJUVJLK3dnTmFqSjdxSk1EbUdMdmhBYXpBTkJna3Foa2lHOXcwQkFRVUZBREEvTVNRd0lnWURWUVFLCkV4dEVhV2RwZEdGc0lGTnBaMjVoZEhWeVpTQlVjblZ6ZENCRGJ5NHhGekFWQmdOVkJBTVREa1JUVkNCU2IyOTBJRU5CSUZnek1CNFgKRFRBd01Ea3pNREl4TVRJeE9Wb1hEVEl4TURrek1ERTBNREV4TlZvd1B6RWtNQ0lHQTFVRUNoTWJSR2xuYVhSaGJDQlRhV2R1WVhSMQpjbVVnVkhKMWMzUWdRMjh1TVJjd0ZRWURWUVFERXc1RVUxUWdVbTl2ZENCRFFTQllNekNDQVNJd0RRWUpLb1pJaHZjTkFRRUJCUUFECmdnRVBBRENDQVFvQ2dnRUJBTit2NlpkUUNJTlh0TXhpWmZhUWd1ekgweXhyTU1wYjdObkRmY2RBd1JnVWkrRG9NM1pKS3VNL0lVbVQKckU0T3J6NUl5Mlh1L05NaEQyWFNLdGt5ajR6bDkzZXdFbnUxbGNDSm82bTY3WE11ZWd3R01vT2lmb29VTU0wUm9PRXFPTGw1Q2pIOQpVTDJBWmQrM1VXT0R5T0tJWWVwTFlZSHNVbXU1b3VKTEdpaWZTS09lRE5vSmpqNFhMaDdkSU45YnhpcUtxeTY5Y0szRkN4b2xrSFJ5CnhYdHFxelRXTUluLzVXZ1RlMVFMeU5hdTdGcWNraDQ5WkxPTXh0Ky95VUZ3N0JaeTFTYnNPRlU1UTlEOC9SaGNRUEdYNjlXYW00MGQKdXRvbHVjYlkzOEVWQWpxcjJtN3hQaTcxWEFpY1BOYURhZVFRbXhrcXRpbFg0K1U5bTUvd0FsMENBd0VBQWFOQ01FQXdEd1lEVlIwVApBUUgvQkFVd0F3RUIvekFPQmdOVkhROEJBZjhFQkFNQ0FRWXdIUVlEVlIwT0JCWUVGTVNuc2FSN0xISDYyK0ZMa0hYL3hCVmdoWWtRCk1BMEdDU3FHU0liM0RRRUJCUVVBQTRJQkFRQ2pHaXliRndCY3FSN3VLR1kzT3IrRHh6OUx3d21nbFNCZDQ5bFpSTkkrRFQ2OWlrdWcKZEIvT0VJS2NkQm9kZnBnYTNjc1RTN01nUk9TUjZjejhmYVhiYXVYKzV2M2dUdDIzQURxMWNFbXY4dVhyQXZIUkFvc1p5NVE2WGtqRQpHQjVZR1Y4ZUFscndEUEd4cmFuY1dZYUxidW1SOVliSytybG1NNnBaVzg3aXB4WnpSOHNyekptd04walA0MVpMOWM4UERISXloOGJ3ClJMdFRjbTFEOVNaSW1sSm50MWlyL21kMmNYamJEYUpXRkJNNUpER0ZvcWdDV2pCSDRkMVFCN3dDQ1pBQTYyUmpZSnNXdklqSkV1YlMKZlpHTCtUMHlqV1cwNlh5eFYzYnF4YllvT2I4VlpSekk5bmVXYWdxTmR3dllrUXNFamdmYktiWUs3cDJDTlRVUQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCgpTd2lzc1NpZ24gR29sZCBDQSAtIEcyCj09PT09PT09PT09PT09PT09PT09PT0KLS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUZ1akNDQTZLZ0F3SUJBZ0lKQUx0QUhFUDFYayt3TUEwR0NTcUdTSWIzRFFFQkJRVUFNRVV4Q3pBSkJnTlZCQVlUQWtOSU1SVXcKRXdZRFZRUUtFd3hUZDJsemMxTnBaMjRnUVVjeEh6QWRCZ05WQkFNVEZsTjNhWE56VTJsbmJpQkhiMnhrSUVOQklDMGdSekl3SGhjTgpNRFl4TURJMU1EZ3pNRE0xV2hjTk16WXhNREkxTURnek1ETTFXakJGTVFzd0NRWURWUVFHRXdKRFNERVZNQk1HQTFVRUNoTU1VM2RwCmMzTlRhV2R1SUVGSE1SOHdIUVlEVlFRREV4WlRkMmx6YzFOcFoyNGdSMjlzWkNCRFFTQXRJRWN5TUlJQ0lqQU5CZ2txaGtpRzl3MEIKQVFFRkFBT0NBZzhBTUlJQ0NnS0NBZ0VBcitUdWZvc2tEaEp1cVZBdEZrUTdrcEpjeXJoZGhKSkNFeXE4WlZlQ1FENVhKTTFRaXlVcQp0Mi84NzZMUXdCOENKRW9UbG84akUrWW9XQUNqUjhjR3A0UWpLN3U5bGl0L1ZjeUx3VmNmRG1KbEQ5MDlWb3B6MnE1K2JicUJISDVDCmpDQTEyVU5OaFBxRTIxSXM4dzRuZHd0cnZ4RXZjbmlmTHRnKzVoZzNXaXB5K2RwaWtKS1Z5aCtjNmJNOEs4dnpBUk8vV3MvQnRRcGcKdmQyMW1XUlR1S0NXczIvaUpuZVJqT0JpRUFLZk5BK2sxWkl6VWQ2K2picUVlbUE4YXR1ZksremUzZ0UvYmszbFVJYkx0Sy90UkVERgp5bHFNMnRJcmZLanV2cWJsQ3FvT3BkOEZVcmRWeHlKZE1tcVhsMk1UMjhuYmVUWjdoVHBLeFZLSitTVG5uWGVwZ3Y5VkhLVnhhU3ZSCkFpVHlzeWJVYTlvRVZlWEJDc2R0TURlUUt1U2VGRE5lRmhkVnhWdTF5elNKa3ZHZEpvK2hCOVRHc25oUTJ3d01DM3dMakVIWHVlbmQKaklqM28wMnlNc3pZRjlyTnQ4NW1uZFQ5WHYrOWx6NHBkZWQrcDJKWXJ5VTBwVUhIUGJ3TlVNb0RBdzhJV2grVmMzaGl2Njl5RkdrTwpwZVVERG5pT0ppaEM4QWNMWWlBUVp6bEcrcWtEekFRNGVtYnZJSU8xakVwV2pwRUEvSTVjZ3Q2SW9NUGlhRzU5amU4ODNXWDBYYXhSCjd5U0FycXBXbDIvNXJYM2FZVCtZZHp5bGtiWWNqQ2JhWmFJSmJjSGlWT081eWt4TWdJOTNlMkNhSHQrMjhrZ2VEcnBPVkcyWTRPR2kKR3FKM1VNL0VZNUxzUnhtZDYrWnJ6c0VDQXdFQUFhT0JyRENCcVRBT0JnTlZIUThCQWY4RUJBTUNBUVl3RHdZRFZSMFRBUUgvQkFVdwpBd0VCL3pBZEJnTlZIUTRFRmdRVVd5VjdscVJsVVg2NE9mUEFlR1plNkRybjhPNHdId1lEVlIwakJCZ3dGb0FVV3lWN2xxUmxVWDY0Ck9mUEFlR1plNkRybjhPNHdSZ1lEVlIwZ0JEOHdQVEE3QmdsZ2hYUUJXUUVDQVFFd0xqQXNCZ2dyQmdFRkJRY0NBUllnYUhSMGNEb3YKTDNKbGNHOXphWFJ2Y25rdWMzZHBjM056YVdkdUxtTnZiUzh3RFFZSktvWklodmNOQVFFRkJRQURnZ0lCQUNlNjQ1Ujg4YTdBM2hmbQo1ZGpWOVZTd2cvUzd6VjRGZTArZmRXYXZQT2hXZnZ4eWVEZ0QyU3RpR3dDNStPbGd6Y3pPVVlySFVERnU0VXArR0M5cFdiWTlaSUVyCjQ0T0U1aUtIam4zZzdnS1pZYmdlOUxncmlCSVdoTUl4a3ppV01hYTVPMU0vd3lTVFZsdHBrdXpGd2JzNEFPUHNGNm00M01kOEFZT2YKTWtlNlVpSTBIVEo2Q1ZhbmZDVTJxVDFMMnNDQ2J3cTdFc2lIU3ljUitSNHR4NU0vbnR0ZkptdFMyUzZLOFJUR1JJMFZxYmUvdmQ2bQpHdTZ1TGZ0SWR4Zit1K3l2R1BVcVVmQTVoSmVWYkc0Ynd5dkVkR0I1SmJBS0o5L2ZYdEk1ejBWOVFrdmZzeXdleGNaZHlsVTZvSnhwCm1vL2E3N0t3UEorSGJCSXJaWEFWVWpFYUpNOXZNU05RSDR4UGp5UERkRUZqSEZXb0ZOMCs0RkZRei9FYk1GWU9rckNDaGRpRHl5SmsKdkMyNEpkVlVvcmdHNnEyU3BDU2d3WWExU2hOcVI4OHVDMWFWVk12T210dHF0S2F5MjBFSWhpZDM5MnFnUW13TE9NN1hkVkF5a3NMZgpLekFpU05EVlFUZ2xYYVRwWFovR2xIWFFSZjB3bDBPUGtLc0t4NFp6WUVwcExkNmxlTmNHMm1xZVN6NTNPaUFUSWdIUXYyaWVZMkJyCk5VMExiYnFoUGNDVDRIOGpzMVd0Y2lWT1J2blNGdSt3Wk1FQm51bktvR3FZRHMvWVlQSXZTYmprUXVFNE5SYjB5RzVQOTRGVzZMcWoKdmlPdnJ2MXZBK0FDT3pCMitodHRRYzhCc2VtNHlXYjAyeWJ6T3FSMDhra2tXOG13MEZmQitqNTY0WmZKCi0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0KClN3aXNzU2lnbiBTaWx2ZXIgQ0EgLSBHMgo9PT09PT09PT09PT09PT09PT09PT09PT0KLS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUZ2VENDQTZXZ0F3SUJBZ0lJVHh2VUwxUzdMMHN3RFFZSktvWklodmNOQVFFRkJRQXdSekVMTUFrR0ExVUVCaE1DUTBneEZUQVQKQmdOVkJBb1RERk4zYVhOelUybG5iaUJCUnpFaE1COEdBMVVFQXhNWVUzZHBjM05UYVdkdUlGTnBiSFpsY2lCRFFTQXRJRWN5TUI0WApEVEEyTVRBeU5UQTRNekkwTmxvWERUTTJNVEF5TlRBNE16STBObG93UnpFTE1Ba0dBMVVFQmhNQ1EwZ3hGVEFUQmdOVkJBb1RERk4zCmFYTnpVMmxuYmlCQlJ6RWhNQjhHQTFVRUF4TVlVM2RwYzNOVGFXZHVJRk5wYkhabGNpQkRRU0F0SUVjeU1JSUNJakFOQmdrcWhraUcKOXcwQkFRRUZBQU9DQWc4QU1JSUNDZ0tDQWdFQXhQR0hmOU40TWZjNHlmakRtVU84eC9lOE4rZE9jYnBMajZWekhWeHVtSzREVjY0NApOME12RnowZnlNNW9FTUY0cmhrREt4RDZMSG1EOXVpNWFMbFY4Z1JFcHpuNS9BU0xIdkdpVFNmNVlYdTZ0K1dpRTdicllUN1FiTkhtCisvcGU3UjIwbnFBMVc2R1N5L0JKa3Y2RkNnVSs1dGtMNGsrNzNKVTMvSkhwTWpVaTBSODZUaWVGbmJBVmxETGFZUTFIVFdCQ3JwSkgKNklOYVVGanBpb3U1WGFIYzNabEtIelpudTBqa2c3WTM2MGc2cnc5bmp4Y0g2QVRLNzJveGg5VEF0dm1VY1h0blpMaTJrVXBDZTJVdQpNR29NOVpEdWxlYnl6WUxzMmFGSzdQYXlTK1ZGaGVadGVKTUVMcHlDYlRhcHhERmtINGFEQ3lyME5RcDR5VlhQUWJCSDZUQ2ZtYjVoCnFBYUV1U2g2WHpqWkc2azRzSU4vYzhIRE8wZ3FnZzhobTdqTXFEWERoQnVEc3o2K3BKVnBBVHFKQUhnRTJjbjBtUm1yVm41Ymk0WTUKRlpHa0VDd0pNb0JnczVQQUtyWVlDNTEralVueUVFcC8rZFZHTHhtU281bW5KcXk3akR6bURyeEhCOXh6VWZGd1pDOEkrYlJISFRCcwpST29wTjRXU2FHYThnemorZXprdTAxRHdIL3RlWUxhcHB2b25RZkdiR0hMeTlZUjBTc2xueEZTdVNHVGZqTkZ1c0IzaEI0OElIcG1jCmNlbE0yS1gzUnhJZmRORlJub2J6d3FJalFBdHoyMHVtNTNNR2pNR2c2Y0ZackViNjVpLzR6M0djUm0yNXhCV05PSGtEUlVqdnhGM1gKQ082SE9TS0dzZzBQV0VQM2NhbElMdjNxMWg4Q0F3RUFBYU9CckRDQnFUQU9CZ05WSFE4QkFmOEVCQU1DQVFZd0R3WURWUjBUQVFILwpCQVV3QXdFQi96QWRCZ05WSFE0RUZnUVVGNkROd2VSQnRqcGJPOHRGbmIwY3dwajZobGd3SHdZRFZSMGpCQmd3Rm9BVUY2RE53ZVJCCnRqcGJPOHRGbmIwY3dwajZobGd3UmdZRFZSMGdCRDh3UFRBN0JnbGdoWFFCV1FFREFRRXdMakFzQmdnckJnRUZCUWNDQVJZZ2FIUjAKY0RvdkwzSmxjRzl6YVhSdmNua3VjM2RwYzNOemFXZHVMbU52YlM4d0RRWUpLb1pJaHZjTkFRRUZCUUFEZ2dJQkFIUEdnZUFuMGkwUAo0SlV3NHBwQmYxQXNYMTlpWWFtR2Fta1lESFJKMWwyRTZrRlNHRzlZclZCV0lHckd2U2hwV0pIY2tSRTFxVG9kdkJxbFlKN1lIMzlGCmtXblpmcnQ0Y3NFR0R5ck9qNFZ3WWF5Z3pRdTRPU2xXaERKT2hyczl4Q3JaMXg5eTd2NVJvU0pCc1hFQ1l4cUNzR0tyWGxjU0g5L0wKM1hXZ3dGMTVrSXdiNEZEbTNqSCttSHR3WDZXUTJLMzRBclp2MDJEZFFFc2l4VDJ0T25xZkdocEhrWGt6dW9MY01ta0RsbTRmUy9CeAovdU5uY3FDeHYxeUw1UHFaSXNlRXVSdU5JNWMvN1NYZ3oyVzc5V0VFNzkwZXNscEJJbHFobjEwczZGdkpiYWtNREhpcVlNWldqd0ZhCkRHaThhUmw1eEI5K2x3Vy94ZWtrVVY3VTFVdFQ3ZGtqV2pZRFphUEJBNjFCTVBOR0c0V1FyMlcxMWJIa0ZsdDRkUjJYZW0xWnFTcVAKZTk3RGg0a1FtVWx6ZU1nOXZWRTFkQ3JWOFg1cEd5cTdPNzBsdUpwYVBYSmhrR2FIN2d6V1RkUVJkQXRxL2dzRC9LTlZWNG4rU3N1dQpXeGNGeVBLTkl6RlRPTkl0YWorQ3VZMElhdmRlUVhSdXd4RitCNndwWUpFL09NcFhFQTI5TUMvSHBlWkJvTnF1QlllYW9LUmxiRXdKCkRJbTZ1Tk81d0pPS01QcU41WnByRlFGT1o2cmFZbFkraEFobTBzUTJmYWMrRVB5STROU0E1UUM5cXZOT0JxTjZhdmxpY3VNSlQrdWIKRGdFajhaKzdmTnpjYkJHWEpiTHl0R01VMGdZcVo0eUQ5YzdxQjlpYWFoN3M1QXE3S2t6ckNXQTV6c3BpMkM1dQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCgpTZWN1cmVUcnVzdCBDQQo9PT09PT09PT09PT09PQotLS0tLUJFR0lOIENFUlRJRklDQVRFLS0tLS0KTUlJRHVEQ0NBcUNnQXdJQkFnSVFEUENPWEFnV3BhMUNmL0RySnhoWjBEQU5CZ2txaGtpRzl3MEJBUVVGQURCSU1Rc3dDUVlEVlFRRwpFd0pWVXpFZ01CNEdBMVVFQ2hNWFUyVmpkWEpsVkhKMWMzUWdRMjl5Y0c5eVlYUnBiMjR4RnpBVkJnTlZCQU1URGxObFkzVnlaVlJ5CmRYTjBJRU5CTUI0WERUQTJNVEV3TnpFNU16RXhPRm9YRFRJNU1USXpNVEU1TkRBMU5Wb3dTREVMTUFrR0ExVUVCaE1DVlZNeElEQWUKQmdOVkJBb1RGMU5sWTNWeVpWUnlkWE4wSUVOdmNuQnZjbUYwYVc5dU1SY3dGUVlEVlFRREV3NVRaV04xY21WVWNuVnpkQ0JEUVRDQwpBU0l3RFFZSktvWklodmNOQVFFQkJRQURnZ0VQQURDQ0FRb0NnZ0VCQUt1a2dlV1Z6ZlgyRkk3Q1Q4clU0bmlWV0p4QjRRMlpRQ1FYCk9aRXpadW0rNFlPdllseUowZndrVzJHejRCRVJRUndkYnZDNHUvamVwNEc2cGtqR254Mjl2bzZwUVQ2NGxPMHBHdFNPMGdNZEErOXQKRFdjY1Y5Y0dyY3JJOWY0T3IyWWxTQVNXQzEyanVoYkRDRS9SUnZnVVhQTElYZ0daYmYySXpJYW93Vzh4UW14U1Btakw4eGswMzd1SApHRmFBSnNUUTNNQnYzOTZnd3BFV29HUVJTMFM4SHZibittUGVacXgycEhHajdEYVVhSHAzcExIbkRpK0JldUsxY29idm9tdUw4QS9iCjAxay91bks4UkNTYzQzT3o5NjlYTDBJbW5hbDB1Z0JTOGt2TlUzeEhDemFGRG1hcENKY1dORmZCWnZlQTQrMXdWTWVUNEM0b0ZWbUgKdXJzQ0F3RUFBYU9CblRDQm1qQVRCZ2tyQmdFRUFZSTNGQUlFQmg0RUFFTUFRVEFMQmdOVkhROEVCQU1DQVlZd0R3WURWUjBUQVFILwpCQVV3QXdFQi96QWRCZ05WSFE0RUZnUVVRaksyRnZvRS9mNWRTM3JEL2ZkTVFCMWFRNjh3TkFZRFZSMGZCQzB3S3pBcG9DZWdKWVlqCmFIUjBjRG92TDJOeWJDNXpaV04xY21WMGNuVnpkQzVqYjIwdlUxUkRRUzVqY213d0VBWUpLd1lCQkFHQ054VUJCQU1DQVFBd0RRWUoKS29aSWh2Y05BUUVGQlFBRGdnRUJBRER0VDByaFdEcFNjbHUxcHFObEdLYTdVVHQzNlozcTA1OWM0RVZsZXczS1crSndVTEtVQlJTdQpTY2VOUVFjU2M1UitEQ01oL2J3UWYyQVFXbkwxbUE2czdMbC8zWHB2WGRNYzlQK0lCV2xDcVFWeHlMZXNKdWd1dEl4cS8zSGN1TEhmCm1ieDhJVlFyNUZpaXUxY3BycDZwb3hrbUQ1a3VDTER2L1duUG1Sb0pqZU9ubnl2Sk5qUjdKTE40VEpVWHBBWW1IclprVWpaZllHZloKbk1VRmRBdm5aeVBTQ1B5STZhNkxmK0V3OURkKy9jWXkyaTJlUkRBd2JPNEgzdEkwL05ML1FQWkw5R1pHQmxTbThqSUtZeVl3YTV2UgozSXRIdXVHNTFXTFFvcUQwWndWNEtXTWFid1RXK01aTW81cXhON1NONVNoTEhaNHN3cmhvdk8wQzdqRT0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQoKU2VjdXJlIEdsb2JhbCBDQQo9PT09PT09PT09PT09PT09Ci0tLS0tQkVHSU4gQ0VSVElGSUNBVEUtLS0tLQpNSUlEdkRDQ0FxU2dBd0lCQWdJUUIxWWlwT2pVaW9sTjlCUEk4UGpxcFRBTkJna3Foa2lHOXcwQkFRVUZBREJLTVFzd0NRWURWUVFHCkV3SlZVekVnTUI0R0ExVUVDaE1YVTJWamRYSmxWSEoxYzNRZ1EyOXljRzl5WVhScGIyNHhHVEFYQmdOVkJBTVRFRk5sWTNWeVpTQkgKYkc5aVlXd2dRMEV3SGhjTk1EWXhNVEEzTVRrME1qSTRXaGNOTWpreE1qTXhNVGsxTWpBMldqQktNUXN3Q1FZRFZRUUdFd0pWVXpFZwpNQjRHQTFVRUNoTVhVMlZqZFhKbFZISjFjM1FnUTI5eWNHOXlZWFJwYjI0eEdUQVhCZ05WQkFNVEVGTmxZM1Z5WlNCSGJHOWlZV3dnClEwRXdnZ0VpTUEwR0NTcUdTSWIzRFFFQkFRVUFBNElCRHdBd2dnRUtBb0lCQVFDdk5TN1lyR3hWYVFaeDVSTm9KTE5QMk13aFIvangKWURpSmlRUHB2ZXBlUmxNSjNGejFXdWozUlNvQzZ6RmgxeWt6VE03SGZBbzNmZys2TXBqaEhaZXZqOGZjeVRpVzg5c2EvRkh0YU1iUQpicVI4Sk5HdVFzaVdVR011NFA1MS9waW5YMGt1bGVNNU0yU09IcVJma05KblBMTFova0c1VmFjSmpuSUZIb3ZkUklXQ1F0Qkp3QjFnCjhORVhMSlhyOXFYQmtxUEZ3cWNJWUExZ0JCQ1dlWjRXTk9hcHR2b2xSVG5JSG1YNWsvV3E4VkxjbVpnOXBZWWFERFV6K2t1bEJBWVYKSERHQTc2b1lhOEo3MTlyTytUTWcxZlc5YWpNdGdRVDdzRnpVbktQaVhCM2pxVUoxWG52VWQrODVWTHJKQ2hnYkVwbEpMNGhML1ZCaQowWFBuajNwREFnTUJBQUdqZ1owd2dab3dFd1lKS3dZQkJBR0NOeFFDQkFZZUJBQkRBRUV3Q3dZRFZSMFBCQVFEQWdHR01BOEdBMVVkCkV3RUIvd1FGTUFNQkFmOHdIUVlEVlIwT0JCWUVGSzlFQk1KQmZraUQyMDQ1QXV6c2hIcm16c21rTURRR0ExVWRId1F0TUNzd0thQW4Kb0NXR0kyaDBkSEE2THk5amNtd3VjMlZqZFhKbGRISjFjM1F1WTI5dEwxTkhRMEV1WTNKc01CQUdDU3NHQVFRQmdqY1ZBUVFEQWdFQQpNQTBHQ1NxR1NJYjNEUUVCQlFVQUE0SUJBUUJqR2doQWZhUmVVdzEzMkhxdUh3MExVUllEN3hoOHlPT3ZhbGlURkdDUnNvVGNpRTYrCk9ZbzY4K2FDaVYwQk43T3JKS1FWRHBJMVdrcEVYazVYK25YT0gwak9adlE4UUNhU21Hd2I3aVJHREJlelVxWGJwWkdSenpmVGIrY24KQ0RwT0dSODZwMWhjRjg5NVA0dmtwOU1tSTUwbUQxaHAvRWQrc3RDTmk1Ty9LVTlEYVhSMlowdlBCNHptQXZlMTRiUkR0VXN0RkovNQozQ1lOdjZaSGRBYllpTkU2S1RDRXp0STVnR0licU1kWFNieHFWVkZuRlVxK05RZmsxWFdZTjNrd0ZOc3BuV3pGYWN4SFZhSXc5OHhjCmY4TERtQnhyVGhhQTYzcDRaVVdpQUJxdkRBMVZaRFJJdUpLNThiUlFLZkpQSXgvYWJLd2ZST0hkSTNoUlc4Y1cKLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQoKQ09NT0RPIENlcnRpZmljYXRpb24gQXV0aG9yaXR5Cj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQotLS0tLUJFR0lOIENFUlRJRklDQVRFLS0tLS0KTUlJRUhUQ0NBd1dnQXdJQkFnSVFUb0V0aW9KbDRBc0M3ajQxQWtibFBUQU5CZ2txaGtpRzl3MEJBUVVGQURDQmdURUxNQWtHQTFVRQpCaE1DUjBJeEd6QVpCZ05WQkFnVEVrZHlaV0YwWlhJZ1RXRnVZMmhsYzNSbGNqRVFNQTRHQTFVRUJ4TUhVMkZzWm05eVpERWFNQmdHCkExVUVDaE1SUTA5TlQwUlBJRU5CSUV4cGJXbDBaV1F4SnpBbEJnTlZCQU1USGtOUFRVOUVUeUJEWlhKMGFXWnBZMkYwYVc5dUlFRjEKZEdodmNtbDBlVEFlRncwd05qRXlNREV3TURBd01EQmFGdzB5T1RFeU16RXlNelU1TlRsYU1JR0JNUXN3Q1FZRFZRUUdFd0pIUWpFYgpNQmtHQTFVRUNCTVNSM0psWVhSbGNpQk5ZVzVqYUdWemRHVnlNUkF3RGdZRFZRUUhFd2RUWVd4bWIzSmtNUm93R0FZRFZRUUtFeEZEClQwMVBSRThnUTBFZ1RHbHRhWFJsWkRFbk1DVUdBMVVFQXhNZVEwOU5UMFJQSUVObGNuUnBabWxqWVhScGIyNGdRWFYwYUc5eWFYUjUKTUlJQklqQU5CZ2txaGtpRzl3MEJBUUVGQUFPQ0FROEFNSUlCQ2dLQ0FRRUEwRUNMaTNMamtSdjNVY0ViVkFTWTA2bS93ZWFLWFR1SAorN3VJemczakx6OEdsdkNpS1ZDWnJ0czdvVmV3ZEZGeHplMUNrVTFCL3FuSTJHcUdkMFM3V1dhWFVGNjAxQ3h3Uk0vYU41VkNhVHd3CnhIR3pVdkFoVGFIWXVqbDhISjZqSkozeWd4YVlxaFo4UTVzVlc3ZXVOSkgrMUdJbUdFYWFQK3ZCK2ZHUVYrdXNlZzJMMjNJd2FtYlYKNEVhamNOeG8yZjhFU0lsMzNyWHArMmR0UWVtOE9iMHkyV0lDOGJHb1BXNDNuT0l2NHRPaUpvdkd1RlZEaU9FalBxWFNKRGxxUjZzQQoxS0d6cVNYK0RUK25IYnJUVWNFTHBOcXNPTzlWVUNRRlpVYVRORTh0amEzRzFDRVowbzdLQldGeEIzTkg1WW9aRXIwRVRjNU9uS1ZJCnJMc205d0lEQVFBQm80R09NSUdMTUIwR0ExVWREZ1FXQkJRTFdPV0x4a3dWTjZSQXFUQ3BJYjVITmxwVy96QU9CZ05WSFE4QkFmOEUKQkFNQ0FRWXdEd1lEVlIwVEFRSC9CQVV3QXdFQi96QkpCZ05WSFI4RVFqQkFNRDZnUEtBNmhqaG9kSFJ3T2k4dlkzSnNMbU52Ylc5awpiMk5oTG1OdmJTOURUMDFQUkU5RFpYSjBhV1pwWTJGMGFXOXVRWFYwYUc5eWFYUjVMbU55YkRBTkJna3Foa2lHOXcwQkFRVUZBQU9DCkFRRUFQcGllbS9ZYjZkYzV0M2l1SFhJWVNkT0g1RU9DNnovSnF2V290ZTlWZkNGU1pmblZEZUZzOUQ2TWszT1JMZ0xFVGdkeGI4Q1AKT0dFSXFCNkJDc0F2SUM5Qmk1SGNTRVc4OGNiZXVuWnJNOGdBTFRGR1RPM25uYytJbFA4endGYm9KSVltdU5nNE9OOHFhOTBTek1jLwpSeGRNb3NJR2xnblcyLzQvUEVaQjMxamlWZzg4TzhFY2t6WFpPRktzN3Nqc0xqQk9sRFcwSkI5TGVHbmE4Z0k0ekpWU2svQndKVm1jCklHZkU3dm1MVjJIMGtuWjlQNFNOVmJmbzVhelY4ZlVaVnFaYSs1QWNyNVByNVJ6VVo1ZGRCQTYrQzRPbUY0TzVNQktneFRNVkJia04KKzhjRmR1UFlTbzM4TkJlanhpRW92akJGTVI3SGVMNVlZVGlzTytJQlpRPT0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQoKTmV0d29yayBTb2x1dGlvbnMgQ2VydGlmaWNhdGUgQXV0aG9yaXR5Cj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQotLS0tLUJFR0lOIENFUlRJRklDQVRFLS0tLS0KTUlJRDVqQ0NBczZnQXdJQkFnSVFWOHN6YjhKY0Z1WkhGaGZqa0RGbzREQU5CZ2txaGtpRzl3MEJBUVVGQURCaU1Rc3dDUVlEVlFRRwpFd0pWVXpFaE1COEdBMVVFQ2hNWVRtVjBkMjl5YXlCVGIyeDFkR2x2Ym5NZ1RDNU1Ma011TVRBd0xnWURWUVFERXlkT1pYUjNiM0pyCklGTnZiSFYwYVc5dWN5QkRaWEowYVdacFkyRjBaU0JCZFhSb2IzSnBkSGt3SGhjTk1EWXhNakF4TURBd01EQXdXaGNOTWpreE1qTXgKTWpNMU9UVTVXakJpTVFzd0NRWURWUVFHRXdKVlV6RWhNQjhHQTFVRUNoTVlUbVYwZDI5eWF5QlRiMngxZEdsdmJuTWdUQzVNTGtNdQpNVEF3TGdZRFZRUURFeWRPWlhSM2IzSnJJRk52YkhWMGFXOXVjeUJEWlhKMGFXWnBZMkYwWlNCQmRYUm9iM0pwZEhrd2dnRWlNQTBHCkNTcUdTSWIzRFFFQkFRVUFBNElCRHdBd2dnRUtBb0lCQVFEa3ZINlNNRzNHMkk0ckM3eEd6dUFubHQ3ZStmb1Mwend6YzdNRUw3eHgKak9XZnRpSmdQbDlkemduL2dnd2JtbEZRR2lhSjNkVmhYUm5jRWc4dENxSkRYUmZRTkpJZzZuUFBPQ3dHSmdsNmN2ZjZVREw0d3BQVAphYUlqemtHeHpPVFZIemJSaWpyNGpHUGlGRmxwN1EzVGYydm91QVBsVDJybG1HTnBTQVcrTHY4enR1bVhXV240WnhtdWsyR1dSQlhUCmNyQS92R3A5N0VoL2pjT3JxbkVyVTJsQlV6UzFzTG5GQmdyRXNFWDFRVjF1aVVWN1BUc21qSFRDNWRMUmZiSVIxUHRZTWlLYWdNbmMKL1F6cGYxNERsODQ3QUJTSEozQTRxWTV1c3lkMm1GSGdCZU1ocXhyVmhTSThLYldhRnNXQXFQUzdhekNQTDBZQ29yRU1JdURUQWdNQgpBQUdqZ1pjd2daUXdIUVlEVlIwT0JCWUVGQ0V3eWZzQTEwNlkyb2VxS3RDbkxyRkFNYWRNTUE0R0ExVWREd0VCL3dRRUF3SUJCakFQCkJnTlZIUk1CQWY4RUJUQURBUUgvTUZJR0ExVWRId1JMTUVrd1I2QkZvRU9HUVdoMGRIQTZMeTlqY213dWJtVjBjMjlzYzNOc0xtTnYKYlM5T1pYUjNiM0pyVTI5c2RYUnBiMjV6UTJWeWRHbG1hV05oZEdWQmRYUm9iM0pwZEhrdVkzSnNNQTBHQ1NxR1NJYjNEUUVCQlFVQQpBNElCQVFDN3Jrdm50MWZyZjZvdHQzTkhoV3JCNUtVZDVPYzg2ZlJaWlhlMWVsdGFqU1UyNEhxWExqakFWMkNEbUFhRG43bDJlbTVRCjRMcUlMUHhGekJpd21aVlJEdXdkdUlqL2gxQWNnc0xqNERLQXY2QUxSOGpETWUrWlp6S0FUeGNoZVF4cFhONWVOSzRDdFNicVVOOS8KR0dVc3lmSmo0YWtIL254eEgyc3pKR29lQmZjRmFNQnFFc3N1WG1ITHJpalRmc0swWnBFbVh6d3VKRi9MV0EvcktPeXZFWmJ6M0h0dgp3S2VJOGxOM3MyQmVycTRvMmpVc2J6UkYweWJoM3V4YlR5ZHJGbnk5UkFRWWdyT0plUmNRY1QxNm9oWk85UUhOcEd4bGFLRkpkbHhECnlkaThObWRzcFpTMTFNeTV2V28xVmlIZTJNUHIrOHVrWUV5d1ZhQ2dlMWV5Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0KCkNPTU9ETyBFQ0MgQ2VydGlmaWNhdGlvbiBBdXRob3JpdHkKPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQotLS0tLUJFR0lOIENFUlRJRklDQVRFLS0tLS0KTUlJQ2lUQ0NBZytnQXdJQkFnSVFIMGV2cW1JQWNGQlVUQUdlbTJPWktqQUtCZ2dxaGtqT1BRUURBekNCaFRFTE1Ba0dBMVVFQmhNQwpSMEl4R3pBWkJnTlZCQWdURWtkeVpXRjBaWElnVFdGdVkyaGxjM1JsY2pFUU1BNEdBMVVFQnhNSFUyRnNabTl5WkRFYU1CZ0dBMVVFCkNoTVJRMDlOVDBSUElFTkJJRXhwYldsMFpXUXhLekFwQmdOVkJBTVRJa05QVFU5RVR5QkZRME1nUTJWeWRHbG1hV05oZEdsdmJpQkIKZFhSb2IzSnBkSGt3SGhjTk1EZ3dNekEyTURBd01EQXdXaGNOTXpnd01URTRNak0xT1RVNVdqQ0JoVEVMTUFrR0ExVUVCaE1DUjBJeApHekFaQmdOVkJBZ1RFa2R5WldGMFpYSWdUV0Z1WTJobGMzUmxjakVRTUE0R0ExVUVCeE1IVTJGc1ptOXlaREVhTUJnR0ExVUVDaE1SClEwOU5UMFJQSUVOQklFeHBiV2wwWldReEt6QXBCZ05WQkFNVElrTlBUVTlFVHlCRlEwTWdRMlZ5ZEdsbWFXTmhkR2x2YmlCQmRYUm8KYjNKcGRIa3dkakFRQmdjcWhrak9QUUlCQmdVcmdRUUFJZ05pQUFRRFIzc3ZkY21DRllYN2RlU1JGdFNyWXBuMVBsSUxCczVCQUgrWAo0UW9rUEIwQkJPNDkwbzBKbHd6Z2RlVDYrM2VLS3ZVRFlFczJpeFlqRnEwSmNmUks5Q2hRdFA2SUhHNC9iQzh2Q1ZsYnBWc0xNNW5pCnd6MkorV29zNzdMVEJ1bWpRakJBTUIwR0ExVWREZ1FXQkJSMWNhY1pTQm04blozcVFVZmZsTVJJZDVuVGVUQU9CZ05WSFE4QkFmOEUKQkFNQ0FRWXdEd1lEVlIwVEFRSC9CQVV3QXdFQi96QUtCZ2dxaGtqT1BRUURBd05vQURCbEFqRUE3d05iZXF5M2VBcHl0NGpmLzdWRwpGQWtLK3FEbWZRakdHb2U5R0toenZTYktZQXlkenBtZnoxd1BNT0crRkRIcUFqQVU5Sk04U2FjemVwQkdSN05qZlJPYlRyZHZHRGVBClUvN2RJT0ExbWpiUnh3RzU1dHpkOC84ZExEb1dWOW1TT2RZPQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCgpDZXJ0aWduYQo9PT09PT09PQotLS0tLUJFR0lOIENFUlRJRklDQVRFLS0tLS0KTUlJRHFEQ0NBcENnQXdJQkFnSUpBUDdjNHdFUHlVai9NQTBHQ1NxR1NJYjNEUUVCQlFVQU1EUXhDekFKQmdOVkJBWVRBa1pTTVJJdwpFQVlEVlFRS0RBbEVhR2x0ZVc5MGFYTXhFVEFQQmdOVkJBTU1DRU5sY25ScFoyNWhNQjRYRFRBM01EWXlPVEUxTVRNd05Wb1hEVEkzCk1EWXlPVEUxTVRNd05Wb3dOREVMTUFrR0ExVUVCaE1DUmxJeEVqQVFCZ05WQkFvTUNVUm9hVzE1YjNScGN6RVJNQThHQTFVRUF3d0kKUTJWeWRHbG5ibUV3Z2dFaU1BMEdDU3FHU0liM0RRRUJBUVVBQTRJQkR3QXdnZ0VLQW9JQkFRRElhUEhKMXRhek5IVW1naDdzdEw3cQpYT0VtN1JGSFllR2lmQlo0UUNIa1lKNWF5R1BoeExHV2t2OFliV2tqNFN0aTk5M2lOaStSQjdsSXp3N3NlYllzNXpSTGNBZ2xvenlICkd4bnlnUWNQT0pBWjB4SCtoclR5MFY0ZUhwYk5nR3pPT3pHVHR2S2cwS21WRW4ybG1zeHJ5SVJXaWpPcDV5SVZVeGJ3ekJmc1YxL3AKb2dxWUNkN2pYNXh2M0VqamhRc1ZXcWE2bjZ4STR3bXk5L1F5M2w0MHZoeDRYVUpiemc0aWowMlExMzB5R0xNTExHcS9qajhVRVlrZwpEbmNVdFQyVUNJZjNKUjdWc21BQTdHOHFLQ1Z1S2o0WVl4Y2xQejVFSUJiMkpzZ2xyZ1ZLdE9kakxQT01GbE4rWFBzUkdnakJSbUtmCklyanh3bzFwM1BvNldBYmZBZ01CQUFHamdid3dnYmt3RHdZRFZSMFRBUUgvQkFVd0F3RUIvekFkQmdOVkhRNEVGZ1FVR3UzK1FUbVEKdENSWnZnSHlVdFZGOWxvNTNCRXdaQVlEVlIwakJGMHdXNEFVR3UzK1FUbVF0Q1JadmdIeVV0VkY5bG81M0JHaE9LUTJNRFF4Q3pBSgpCZ05WQkFZVEFrWlNNUkl3RUFZRFZRUUtEQWxFYUdsdGVXOTBhWE14RVRBUEJnTlZCQU1NQ0VObGNuUnBaMjVoZ2drQS90empBUS9KClNQOHdEZ1lEVlIwUEFRSC9CQVFEQWdFR01CRUdDV0NHU0FHRytFSUJBUVFFQXdJQUJ6QU5CZ2txaGtpRzl3MEJBUVVGQUFPQ0FRRUEKaFFNZWtuSDJRcS9obzJHZTYvUEFEL0tsMU5xVjV0YSthRFk5Zm00ZlRJcnYwUThoYlY2bFVtUE9Fdmp2S3RwdjZ6ZitFd0xIeXpzKwpJbXZhWVM1LzFISTkzVERoSGt4QUdZd1AxNXpSZ3pCN21GbmNmY2E1RENsTW9UT2k2MmM2WllUVGx1THRka1Z3ajdVcjN2a2oxa2x1ClBCUzF4cDgxSGxEUXdZOXFjRVFDWXN1dUhXaEJwNnBYNkZPcUI5SUc5dFVVQmd1UkEzVXNiSEsxWVpXYURZdTVEZWYxMzFUTjN1YlkKMWdrSWwyUGx3UzZ3dDBRbXdDYkFyMVV3bmp2Vk5pb1pCUFJjSHYvUExMZi8wUDJIUUJIVkVTTzdTTUFocWFRb0xmMFYrTEJPSy9RdwpXeUg4RVpFMHZrSHZlNTJYZGYrWGxjQ1dXQy9xdTBiWHUrVFpMZz09Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0KCkN5YmVydHJ1c3QgR2xvYmFsIFJvb3QKPT09PT09PT09PT09PT09PT09PT09PQotLS0tLUJFR0lOIENFUlRJRklDQVRFLS0tLS0KTUlJRG9UQ0NBb21nQXdJQkFnSUxCQUFBQUFBQkQ0V3FMVWd3RFFZSktvWklodmNOQVFFRkJRQXdPekVZTUJZR0ExVUVDaE1QUTNsaQpaWEowY25WemRDd2dTVzVqTVI4d0hRWURWUVFERXhaRGVXSmxjblJ5ZFhOMElFZHNiMkpoYkNCU2IyOTBNQjRYRFRBMk1USXhOVEE0Ck1EQXdNRm9YRFRJeE1USXhOVEE0TURBd01Gb3dPekVZTUJZR0ExVUVDaE1QUTNsaVpYSjBjblZ6ZEN3Z1NXNWpNUjh3SFFZRFZRUUQKRXhaRGVXSmxjblJ5ZFhOMElFZHNiMkpoYkNCU2IyOTBNSUlCSWpBTkJna3Foa2lHOXcwQkFRRUZBQU9DQVE4QU1JSUJDZ0tDQVFFQQorTWk4dlJSUVpoUC84Tk41N0NQeXR4ckhqb1h4RW5PbUdhb1EyNXlpWlhSYWR6NVJmVmIyM0NPMjFPMWZXTEUzVGRWSkRtNzFhb2ZXCjBvelNKOGJpL3phZm1HV2dFMDdHS21TYjFaQVN6eFFHOUR2ajFDaSs2QTc0cTA1SWxHMk9sVEVRWE8yaUxiM1ZPbTJ5SEx0Z3dFWkwKQWZWSnJuNUdpdEIwamFFTUFzN3UvT2VQdUd0bTgzOUVBTDltSlJRcjNSQXdIUWVXUDAzMmE3aVB0M3NNcFRqcjNrZmIxVjA1L0lpbgo4OWNxZFBIb1dxSTduMUM2cG94Rk5jSlFaWlhjWTRMdjNiOTNUWnhpeVdOekZ0QXBEMG1wU1BDenFyZHN4YWN3T1VCZHJzVGlYU1pUCjhNNGNJd2hocUpRWnVnUmlRT3dmT0hCM0VnWnhwekFZWFNVbnBRSURBUUFCbzRHbE1JR2lNQTRHQTFVZER3RUIvd1FFQXdJQkJqQVAKQmdOVkhSTUJBZjhFQlRBREFRSC9NQjBHQTFVZERnUVdCQlMyQ0hzTmVzeXNJRXlHVmpKZXo2dHVoUzF3VnpBL0JnTlZIUjhFT0RBMgpNRFNnTXFBd2hpNW9kSFJ3T2k4dmQzZDNNaTV3ZFdKc2FXTXRkSEoxYzNRdVkyOXRMMk55YkM5amRDOWpkSEp2YjNRdVkzSnNNQjhHCkExVWRJd1FZTUJhQUZMWUlldzE2ekt3Z1RJWldNbDdQcTI2RkxYQlhNQTBHQ1NxR1NJYjNEUUVCQlFVQUE0SUJBUUJXN3dvam9GUk8KbFpmSitJbmFSY0hVb3dBbDlCOFRxN2VqaFZocHdqQ3QyQldLTGVQSnpZRmErSE1qV3FkOEJmUDlJanNPMFFiRTJ6Wk1jd1NPNWJBaQo1TVh6THFYWkkrTzRUa29ncDI0Q0pKOGlZR2Q3aXgxeUNjVXhYT2w1bjRCSFBhMmhDd2NVUFVmL0Eya2FEQXRFNTJNbHAzK3l5YmgyCmhPMGo5bjBIcTBWKzA5K3p2K21LdHMyb29tY3JVdFczWmZBNVRHT2drWG1UVWc5VTNZTzduOUdQcDFOenc4di9NT3g4QkxqWVJCK1QKWDNFSklyZHVQdW9jQTA2ZEdpQmgrNEUzN0Y3OENrV3IxK2NYVmRDZzZtQ2JwdmJqakZzcHdnWmdGSjB0bDB5cGt4V2RZY1FCWDBqVwpXTDFXTVJKT0VjZ2g0TE1Sa1dYYnRLYUlPTTVWCi0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0KCmVQS0kgUm9vdCBDZXJ0aWZpY2F0aW9uIEF1dGhvcml0eQo9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KLS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUZzRENDQTVpZ0F3SUJBZ0lRRmNpOVpVZGNyN2lYQUY3a0J0SzhuVEFOQmdrcWhraUc5dzBCQVFVRkFEQmVNUXN3Q1FZRFZRUUcKRXdKVVZ6RWpNQ0VHQTFVRUNnd2FRMmgxYm1kb2QyRWdWR1ZzWldOdmJTQkRieTRzSUV4MFpDNHhLakFvQmdOVkJBc01JV1ZRUzBrZwpVbTl2ZENCRFpYSjBhV1pwWTJGMGFXOXVJRUYxZEdodmNtbDBlVEFlRncwd05ERXlNakF3TWpNeE1qZGFGdzB6TkRFeU1qQXdNak14Ck1qZGFNRjR4Q3pBSkJnTlZCQVlUQWxSWE1TTXdJUVlEVlFRS0RCcERhSFZ1WjJoM1lTQlVaV3hsWTI5dElFTnZMaXdnVEhSa0xqRXEKTUNnR0ExVUVDd3doWlZCTFNTQlNiMjkwSUVObGNuUnBabWxqWVhScGIyNGdRWFYwYUc5eWFYUjVNSUlDSWpBTkJna3Foa2lHOXcwQgpBUUVGQUFPQ0FnOEFNSUlDQ2dLQ0FnRUE0U1VQN28zYmlETjFaODJ0SDMwNlRtMmQweThVODJOMHl3RWhhamZxaEZBSFN5WmJDVU5zCklaNXF5TlVEOVdCcGo4endJdVFmNS9kcUlqRzNMQlh5NFA0QWFrUC9oMlhHdFJyQnAweHRJbkFoaWpIeWwzU0pDUkltSEo3SzJSS2kKbFR6YTZXZS9DS0JrNDlaQ3QwWHZsL1QyOWRlMVNoVUNXSDJZV0V0Z3ZNM1hEWm9UTTFQUllmbDYxZGQ0czVvejl3Q0d6aDFObERpdgpxT3g0VVhDS1hCQ0RVU0gzRVQwMGhsN2xTTTJYZ1lJMVRCbnNaZlpyeFFXaDdrY1Qxck1oSjVRUUN0a2tPN3ErUkJOR01EK1hQTmpYCjEycnVPempqSzlTWERya2I1d2RKZnpjcStYZDR6MVR0VzBhZG80QU9rVVBCMWx0ZkZMcWZwbzBrUjBCWnYzSTRzalpzTi8rWjBWME8KV1FxcmFmZkFzZ1JGZWxRQXJyNVQ5clhuNGZnOG96SFNxZjRoVW1URnBtZndkUWNHbEJTQlZjWW41QUdQRjhGcWNkZStTL3VVV0gxKwpFVE94UXZkaWJCald6d2xvUG45czloNlBZcTJsWTlzSnB4OGlRa0VlYjVtS1B0ZjVQMEI2ZWJDbEFaTFNuVDBJRmFVUUFTMnpNbmFvCmxRMnplcHI3QnhCNEVXL2hqOGU2RHlVYWRDcmxISmhCbWQ4aGgraVZCbW9LczJwSGRtWDJPcytQWWhjWmV3b296UnJTZ3g0aHh5eS8KdnY5aGFMZG5HN3Q0VFkzT1orWGt3WTYzSTJiaW5aQjFOSmlwTml1S21wUzVuZXpNaXJINEpZbGNXcll2akI5dGVTU25VbWpEaERYaQpabzFqRGlWTjFSbXk1bmszcHlLZFZERUNBd0VBQWFOcU1HZ3dIUVlEVlIwT0JCWUVGQjRNOTdabjh1R1NKZ2xGd0ZVNUxuYy9Ra3FpCk1Bd0dBMVVkRXdRRk1BTUJBZjh3T1FZRVp5b0hBQVF4TUM4d0xRSUJBREFKQmdVckRnTUNHZ1VBTUFjR0JXY3FBd0FBQkJSRnNNTEgKQ2xaODdsdDRESlg1R0ZQQnBoellFREFOQmdrcWhraUc5dzBCQVFVRkFBT0NBZ0VBQ2JPRFUxa0JQcFZKdWZHQnV2bDJJQ08xSjJCMAoxR3FaTkY1c0FGUFpuL0ttc1NRSFJHb3F4cVdPZUJMb1I5bFlHeE1xWG5tYm53b3FaNllsUHdacFZuUERpbVpJK3ltQlYzUUd5cHpxCktPZzRaeVlyOGRXMVAyV1QrRFpkam8yTlFDQ0hHZXJ2SjhBOXREa1BKWHRvVUhSVm5BeFpmVm85UVpRbFVnamdSeXdWTVJuVnZ3ZFYKeHJzU3RaZjBYNE9GdW5IQjJXeUJFWFlLQ3JDL2dwZjM2ajM2K3V3dHFTaVVPMWJkMGxFdXJzQzlDQldNZDFJMGx0YWJyTk1kam1FUApOWHVicmpscEMySmdRQ0EyajYvN051NHRDRW9kdUwrYlhQanFwUnVnYzZiWStHN2dNd1JmYUtvbmgrM1p3WkNjN2IzamFqV3ZZOStyCkdObTY1dWxLNmxDS0QyR1RIdUl0R2VJd2xEV1NYUTYyQjY4WmdJOUhrRkZMTGszZGhlTFNDbElLRjVyOEdyQlFBdVVCbzJNM0lVeEUKeEp0Um1SRU9jNXdHajFRdXB5aGVSRG1IVmkwM3ZZVkVsT0VNU3l5Y3c1S0ZOR0hMRDdpYlNrTlMvalE2ZmJqcEtkeDJxY2d3K0JSeApnTVllTmtoMElrRmNoNExvR0hHTFFZbEU1MzVZVzZpNGpSUHBwMnpEUisyekdwMWlybzJDNnBTZTNWa1F3NjNkNGszak1kWEg3T2p5CnNQNlNIaFlLR3Z6WjgvZ250c20rSGJSc1pKQi85T1RFVzljM3JrSU8zYVFhYjN5SVZNVVdidUY2YUM3NE9yOE5wRHlKTzNpblRtT0QKQkNFSVo0M3lna25RVy8yeHpRK0RoTlErSUlYM1NqMHJuUDBxQ2dsTjZvSDRFWnc9Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0KCmNlcnRTSUdOIFJPT1QgQ0EKPT09PT09PT09PT09PT09PQotLS0tLUJFR0lOIENFUlRJRklDQVRFLS0tLS0KTUlJRE9EQ0NBaUNnQXdJQkFnSUdJQVlGRm5BQ01BMEdDU3FHU0liM0RRRUJCUVVBTURzeEN6QUpCZ05WQkFZVEFsSlBNUkV3RHdZRApWUVFLRXdoalpYSjBVMGxIVGpFWk1CY0dBMVVFQ3hNUVkyVnlkRk5KUjA0Z1VrOVBWQ0JEUVRBZUZ3MHdOakEzTURReE56SXdNRFJhCkZ3MHpNVEEzTURReE56SXdNRFJhTURzeEN6QUpCZ05WQkFZVEFsSlBNUkV3RHdZRFZRUUtFd2hqWlhKMFUwbEhUakVaTUJjR0ExVUUKQ3hNUVkyVnlkRk5KUjA0Z1VrOVBWQ0JEUVRDQ0FTSXdEUVlKS29aSWh2Y05BUUVCQlFBRGdnRVBBRENDQVFvQ2dnRUJBTGN6dVg3SQpKVXFPdGR1MEtCdXFWNURvMFNMVFpMclRrK2pVcklaaFFHcGdWMmhVaEUyOGFsUUNCZi9mbTVvcXJsMEhqMHJES0gvdit5djZlZkhICnJmQVFVeVNRaTJiSnFJaXJyMXFqQU9tK3VrYnVXM043TEJlQ2dWNWlMS0VDWmJPOXhTc0Fmc1Q4QXpOWERlM2krczVkUmRZNHpUVzIKc3NIUW5JRktxdVN5QVZ3ZGoxK1p4TEd0MjRnaDY1QUlnb0R6TUtORDVwQ0NybFVvU2UxYjE2a1FPQTcrajB4Ym0wYnFRZld3Q0hURAowSWd6dG56WGROL2NoTkZERG5VNW9TVkFLT3A0eXc0c0xqbWRqSXR1Rmh3dkpvSVE0dU5sbEFvRXdGNzNYVnY0RU9MUXVucEwrOTQzCkFBQWFXeWpqMHB4elBqS0htS0hKVVMvWDNxd3pzMDhDQXdFQUFhTkNNRUF3RHdZRFZSMFRBUUgvQkFVd0F3RUIvekFPQmdOVkhROEIKQWY4RUJBTUNBY1l3SFFZRFZSME9CQllFRk9DTW05c2xTYlB4ZkliV3NrS0hDOUJyb05ua01BMEdDU3FHU0liM0RRRUJCUVVBQTRJQgpBUUErMGh5SkxqWDgrSFhkNW45bGlQUnlUTWtzMXpKTzg5MFplVWU5amp0Ymt3OVFTU1FUYXhRR2N1OEowNkdoNDBDRXllY1lNblE4ClNHNFBuMHZVOXg3VGs0WmtWSmRqY2xEVlZjLzZJSk1Db3B2REk1Tk9GbFYyb0hCNWJjMGhIODh2TGJ3WjQ0Z3grRmthZ1FuSWw2WjAKeDJERVc4eFhqckoxL1JzQ0NkdFpiM0tUYWZjeFFkYUlPTCtIc3IwV2VmbXE1TDZJSmQxaEp5TWN0VEVIQkRhMEdwQzlvSFJ4VUlsdAp2QlRqRDRhdThhcyt4NkFKektOSTBlRGJaT2VTdGMrdmNrTndpL25EaER3VHFuNlNtMWRUay9wd3dwRU9NZm1iWjEzcGxqaGVYN056ClRvZ1ZaOTZlZGhCaUlMNVZhWlZEQURsTjl1NndXazVKUkZSWVgwS0QKLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQoKTmV0TG9jayBBcmFueSAoQ2xhc3MgR29sZCkgRsWRdGFuw7pzw610dsOhbnkKPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQotLS0tLUJFR0lOIENFUlRJRklDQVRFLS0tLS0KTUlJRUZUQ0NBdjJnQXdJQkFnSUdTVUVzNUFBUU1BMEdDU3FHU0liM0RRRUJDd1VBTUlHbk1Rc3dDUVlEVlFRR0V3SklWVEVSTUE4RwpBMVVFQnd3SVFuVmtZWEJsYzNReEZUQVRCZ05WQkFvTURFNWxkRXh2WTJzZ1MyWjBMakUzTURVR0ExVUVDd3d1VkdGdXc3cHp3NjEwCmRzT2hibmxyYVdGa3c3TnJJQ2hEWlhKMGFXWnBZMkYwYVc5dUlGTmxjblpwWTJWektURTFNRE1HQTFVRUF3d3NUbVYwVEc5amF5QkIKY21GdWVTQW9RMnhoYzNNZ1IyOXNaQ2tnUnNXUmRHRnV3N3B6dzYxMGRzT2hibmt3SGhjTk1EZ3hNakV4TVRVd09ESXhXaGNOTWpneApNakEyTVRVd09ESXhXakNCcHpFTE1Ba0dBMVVFQmhNQ1NGVXhFVEFQQmdOVkJBY01DRUoxWkdGd1pYTjBNUlV3RXdZRFZRUUtEQXhPClpYUk1iMk5ySUV0bWRDNHhOekExQmdOVkJBc01MbFJoYnNPNmM4T3RkSGJEb1c1NWEybGhaTU96YXlBb1EyVnlkR2xtYVdOaGRHbHYKYmlCVFpYSjJhV05sY3lreE5UQXpCZ05WQkFNTUxFNWxkRXh2WTJzZ1FYSmhibmtnS0VOc1lYTnpJRWR2YkdRcElFYkZrWFJoYnNPNgpjOE90ZEhiRG9XNTVNSUlCSWpBTkJna3Foa2lHOXcwQkFRRUZBQU9DQVE4QU1JSUJDZ0tDQVFFQXhDUmVjNzVMYlJURG9mVGpsNUJ1CjBqQkZIanp1WjlsazRCcUtmOG93eW9QaklNSGo5RHJUbEY4YWZGdHR2ekJQaENmMm54OUp2TWFaQ3BEeUQvVi9RNFEzWTFHTGVxVncKL0hwWXpZNmI3Y05HYklSd1hkcnpBWkFqL0U0d3FYN2hKMlBuN1dROG9MakpNMlArRnBEL3NMajkxNmpBd0pSREM3YlZXYWFlVnRBawpIM0I1cjlzNVZBMWxkZGtWUVpRQnIxN3M5bzN4LzYxay9pQ2ExMXpyL3FZZkNHU2ppM1pWclI0N0tHQXVoeVhvcXE4ZnhtUkdJTGR3CmZ6emVTTnVXVTdjNWQrUWE0c2NXaEhhWFd5KzdHUldGK0dtRjlabW5xZkkwcDZtMnBnUDhiNFk5Vkh4MkJKdHIrVUJkQURUSExwbDEKbmVXSUE2cE4rQVBTUW5iQUd3SURBS2lMbzBVd1F6QVNCZ05WSFJNQkFmOEVDREFHQVFIL0FnRUVNQTRHQTFVZER3RUIvd1FFQXdJQgpCakFkQmdOVkhRNEVGZ1FVelBwbmsvQzJ1TkNsd0I3elUvMk1VOStEMTVZd0RRWUpLb1pJaHZjTkFRRUxCUUFEZ2dFQkFLdC83aHdXCnFadzhVUUNnd0JFSUJhZVo1bThCaUZSaGJ2RzVHSzFLcmY2QlFDT1VML3QxZkM4b1MySWtnWUlMOVdIeEhHNjRZVGpyZ2ZwaW9UdGEKWXRPVVpjVGg1bTJDK0M4bGNMSWhKc0Z5VVIrTUxNT0VrTU5hajdyUDlLZGxwZXVZMGZzRnNrWjFGU05xYjRWak1JRHcxWjRmS1J6QwpiTEJRV1YyUVd6dW9EVERQdjMxL3p2R2RnNzNKUm00Z3B2bGhVYm9oTDN1K3BSVmpvZFNWaC9HZXVmT0o4ejJGdUxqYnZyVzVLZm5hCk53VUFTWlFEaEVUbnYwTXh6M1dMSmRIMHBtVDFrdmFyQmVzOTZhVUxObUxhekFaZk5vdTJYakc0S3Z0ZTluSGZSQ2FleE9ZTmtiUXUKZFpXQVVXcExNS2F3WXFHVDhadll6c1JqZFQ5WlI3RT0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQoKSG9uZ2tvbmcgUG9zdCBSb290IENBIDEKPT09PT09PT09PT09PT09PT09PT09PT0KLS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSURNRENDQWhpZ0F3SUJBZ0lDQStnd0RRWUpLb1pJaHZjTkFRRUZCUUF3UnpFTE1Ba0dBMVVFQmhNQ1NFc3hGakFVQmdOVkJBb1QKRFVodmJtZHJiMjVuSUZCdmMzUXhJREFlQmdOVkJBTVRGMGh2Ym1kcmIyNW5JRkJ2YzNRZ1VtOXZkQ0JEUVNBeE1CNFhEVEF6TURVeApOVEExTVRNeE5Gb1hEVEl6TURVeE5UQTBOVEl5T1Zvd1J6RUxNQWtHQTFVRUJoTUNTRXN4RmpBVUJnTlZCQW9URFVodmJtZHJiMjVuCklGQnZjM1F4SURBZUJnTlZCQU1URjBodmJtZHJiMjVuSUZCdmMzUWdVbTl2ZENCRFFTQXhNSUlCSWpBTkJna3Foa2lHOXcwQkFRRUYKQUFPQ0FROEFNSUlCQ2dLQ0FRRUFyUDg0dHVsbUFrbmpvclRoa1BsQWozbjU0cjE1L2dLOTdpU1NIU0wyMm9WeWFmN1hQd25VM1pHMQpBcHpRalZyaFZjTlFocmtwSnNMajJhRHhhUU1vSUlCRklpMVdwenRVbFZZaVdSOG8zeDhnUFcyaU5yNGpvTEZ1dGJFblB6bFRDZXFyCmF1aDBzc0psWEk2L2ZNTjRoTTJlRnZ6MUxrOGdLZ2lmZC9QRkhzU2FVbVllU0Y3akVBYVBJcGpoWlk0YlhTTm1PN2lsTWxISWhxcWgKcVo1L2RwVENwbXkzUWZEVnlBWTQ1dFFNNHZNN1RHMVFqTVNESjhFVGhGazlublYwdHRnQ1hqcVFlc0JDTm5Mc2FrM2M3OFFBM3hNWQpWMThtZU1qV0NubDN2L2V2dDNhNXBRdUVGMTBRNm0vaHE1VVJYMjA4bzF4TmcxdnlzeG1LZ0lzTGh3SURBUUFCb3lZd0pEQVNCZ05WCkhSTUJBZjhFQ0RBR0FRSC9BZ0VETUE0R0ExVWREd0VCL3dRRUF3SUJ4akFOQmdrcWhraUc5dzBCQVFVRkFBT0NBUUVBRGtiVlBLN2kKaDlsZWdZc0NtRUVJakV5ODJ0dnVKeHVDNTJwRjdCYUxUNFdnODdKd3ZWcVd1c3B1YmU1R2kyN25LaTZXc3hrejY3U2ZxTEkzN3BpbwpsN1l1dG1jbjFLWkovUnlUWlhhZVFpL2NJbXlhVC9KYUZUbXhjZGNyVWVodEhKakEyU3Iwb1lKNzFjbEJvaU1CZERoVml3KzVMbWVpCklBUTMycHdMMHhjaDRJK1hlVFJ2aEVnQ0lETWI1alJFbjVGdzlJQmVoRVBDS2RKc0VoVGtZWTJzRUpDZWhGQzc4Slp2UlorSzg4cHMKVC9vUk9oVVZSc1BOSDROYkxVRVM3VkJuUVJNOUlhdVVpcXBPZk1HeCs2Zld0U2N2bDZ0dTRCM2kwUndzSDBUaS9MNlJvWno3MWlsVApjNGFmVTloRERsM1dZNEp4SFlCMHl2YmlBbXZaV2c9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCgpTZWN1cmVTaWduIFJvb3RDQTExCj09PT09PT09PT09PT09PT09PT0KLS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSURiVENDQWxXZ0F3SUJBZ0lCQVRBTkJna3Foa2lHOXcwQkFRVUZBREJZTVFzd0NRWURWUVFHRXdKS1VERXJNQ2tHQTFVRUNoTWkKU21Gd1lXNGdRMlZ5ZEdsbWFXTmhkR2x2YmlCVFpYSjJhV05sY3l3Z1NXNWpMakVjTUJvR0ExVUVBeE1UVTJWamRYSmxVMmxuYmlCUwpiMjkwUTBFeE1UQWVGdzB3T1RBME1EZ3dORFUyTkRkYUZ3MHlPVEEwTURnd05EVTJORGRhTUZneEN6QUpCZ05WQkFZVEFrcFFNU3N3CktRWURWUVFLRXlKS1lYQmhiaUJEWlhKMGFXWnBZMkYwYVc5dUlGTmxjblpwWTJWekxDQkpibU11TVJ3d0dnWURWUVFERXhOVFpXTjEKY21WVGFXZHVJRkp2YjNSRFFURXhNSUlCSWpBTkJna3Foa2lHOXcwQkFRRUZBQU9DQVE4QU1JSUJDZ0tDQVFFQS9YZXFwUnlRQlR2TApUSnN6aTFvVVJhVG5rQmJSMzFmU0lSQ2tGLzNmck5ZZnArVGJmUGZzMzdnRDJwUlkvVjF5Zkl3L1h3Rm5kQldXNHdJOGg5dXV5d0dPCnd2Tm14b1ZGOUFMR09yVmlzcS82bkwrazV0U0FNSmp6RGJhVGo2blUyRGJ5c1B5S3lpeWhGVE9WTWRyQUcvTHVZcG1HWXorLzNaTXEKZzZoMnVSTWZ0ODVPUW9XUEl1Y3VHdktWQ2JJRnRVUk9kNkVndmFueVRncDlVSzMxQlExRlQwWngvU2crVS9zRTJDM1haUjFLRy9yUApPN0F4bWpWdXlJc0cwd0NSOHBRSVpVeXhOQVlBZW9uaThNY0RXYy9WMXVpbk1yUG1tRUNHeGMwbkVvdk1lODYzRVR4aVlBY2pQaXRBCmJwU0FDVzIyczI5M2J6VUlVUHNDaDhVK2lRSURBUUFCbzBJd1FEQWRCZ05WSFE0RUZnUVVXL2hOVDdLbGh0UTYwdkZqbXFDK0NmWlgKdDk0d0RnWURWUjBQQVFIL0JBUURBZ0VHTUE4R0ExVWRFd0VCL3dRRk1BTUJBZjh3RFFZSktvWklodmNOQVFFRkJRQURnZ0VCQUtDaApPQlptTHFkV0h5R2NCdm9kN2JraXhUZ20yRTVQN0tOL2VkNUdJYUdIZDQ4SENKcXlwTVd2RHpLWUMzeG1LYmFiZlNWU1NVT3JUQzRyCmJucHdyeFlPNHdKcyswTG1HSjFGMkZYSTZEdmQ1K0gwTGdzY05GeHNXRXI3akloUVg1VWN2KzJySXJWbHM0VzZuZys0cmVWNkc0cFEKT2gyOURieDdWRkFMdVVLdlZhQVlnYTFsbWUrKzVKeS94SVdyUWJKVWI5d2x6ZTE0NG80TWpRbEozV043V21tV0FpR292VkpaNlgwMQp5OGhTeW4rQi90bHIwL2NSN1NYZitPZjVwUHB5bDRSVERhWFFNaGhSZGxrVWJBL3I3RitBakhWRGc4T0ZtUDlNbmkwTjVIZURrMDYxCmxnZUxLQk9iakJtTlFTZEpRTzdlNWlORU9keWhJdGE2QS9JPQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCgpNaWNyb3NlYyBlLVN6aWdubyBSb290IENBIDIwMDkKPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ci0tLS0tQkVHSU4gQ0VSVElGSUNBVEUtLS0tLQpNSUlFQ2pDQ0F2S2dBd0lCQWdJSkFNSitRd1JPUno4Wk1BMEdDU3FHU0liM0RRRUJDd1VBTUlHQ01Rc3dDUVlEVlFRR0V3SklWVEVSCk1BOEdBMVVFQnd3SVFuVmtZWEJsYzNReEZqQVVCZ05WQkFvTURVMXBZM0p2YzJWaklFeDBaQzR4SnpBbEJnTlZCQU1NSGsxcFkzSnYKYzJWaklHVXRVM3BwWjI1dklGSnZiM1FnUTBFZ01qQXdPVEVmTUIwR0NTcUdTSWIzRFFFSkFSWVFhVzVtYjBCbExYTjZhV2R1Ynk1bwpkVEFlRncwd09UQTJNVFl4TVRNd01UaGFGdzB5T1RFeU16QXhNVE13TVRoYU1JR0NNUXN3Q1FZRFZRUUdFd0pJVlRFUk1BOEdBMVVFCkJ3d0lRblZrWVhCbGMzUXhGakFVQmdOVkJBb01EVTFwWTNKdmMyVmpJRXgwWkM0eEp6QWxCZ05WQkFNTUhrMXBZM0p2YzJWaklHVXQKVTNwcFoyNXZJRkp2YjNRZ1EwRWdNakF3T1RFZk1CMEdDU3FHU0liM0RRRUpBUllRYVc1bWIwQmxMWE42YVdkdWJ5NW9kVENDQVNJdwpEUVlKS29aSWh2Y05BUUVCQlFBRGdnRVBBRENDQVFvQ2dnRUJBT240ai9OanJkcUcyS2ZnUXZ2UGtkNm1KdmlacFdOd3JadXV5ak5BCmZXMldicUVPUk83aEU1MlVRbEthdlhXRmRDeW9EaDJUdGhpM2pDeW96L3RjY2JuYTdQN29mby9rTHgyeXFIV0gyTGVoNVR2UG1VcEcKMElNWmZjQ2hFaHlWYlVyMDJNZWxUVE11aFRsQWRYNFVmSUFTbUZESFFXZTRvSUJoVktac1RoL2duUTRINmNtNk0rZit3RlVvTEFLQQpweG4xbnR4VlV3T1hld2RJLzVuN040b2t4Rm5NVUJCampxcXBHckNFR29iNVg3dXhVRzZrMFFyTTFYRitINmNiZlBWVGJpSmZ5eXZtCjFIeGRydGJDeGt6bEJRSFo3VmY4d1NONS9QcklKSU9WODdWcVVRSFFkOWJwRXFINUdvUDdnaHU1c0pmMGRnWXpRMG1nL3d1MStyVUMKQXdFQUFhT0JnREIrTUE4R0ExVWRFd0VCL3dRRk1BTUJBZjh3RGdZRFZSMFBBUUgvQkFRREFnRUdNQjBHQTFVZERnUVdCQlRMRDhiZgpRa1BNUGN1MVNDT2hHbnFtS3JzMGFEQWZCZ05WSFNNRUdEQVdnQlRMRDhiZlFrUE1QY3UxU0NPaEducW1LcnMwYURBYkJnTlZIUkVFCkZEQVNnUkJwYm1adlFHVXRjM3BwWjI1dkxtaDFNQTBHQ1NxR1NJYjNEUUVCQ3dVQUE0SUJBUURKMFE1ZUx0WE1zM3creS93OS93MG8KbFpNRXlML2F6WG00UTVEd3BMN3Y4dThobUx6VTFGMEc5dTVDN0RCc29LcXB5dkd2aXZvL0MzTnFQdW91UUg0ZnJsUmhlZXN1Q0RmWApJL09Nbjc0ZHNlR2tkZHVnNGxRVXNib2NLYVFZOWhLNm9oUVU0ekUxeUVEL3QrQUZkbGZCSEZueStML2s3U1ZpWElUd2ZuNGZzNzc1CnR5RVJ6QU1CVm5DbkVKSWVHelNCSHEyY0dzTUVQTzBDWWRZZUJ2TmZPb2Z5Sy9GRmgrVTlyTkhIVjRTOWE2N2MyUG0yRzJKd0N6MDIKeVVMeU10ZDZZZWJTMnozUHlLbkptOXpiV0VUWGJ6aXZmM2pUbzYwYWRib2N3VFo4ang1dEhNTjFScTQxQmFiMlhEMGg3bGJ3eVlJaQpMWHBVcTNERGZTSmxnbkNXCi0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0KCkdsb2JhbFNpZ24gUm9vdCBDQSAtIFIzCj09PT09PT09PT09PT09PT09PT09PT09Ci0tLS0tQkVHSU4gQ0VSVElGSUNBVEUtLS0tLQpNSUlEWHpDQ0FrZWdBd0lCQWdJTEJBQUFBQUFCSVZoVENLSXdEUVlKS29aSWh2Y05BUUVMQlFBd1RERWdNQjRHQTFVRUN4TVhSMnh2ClltRnNVMmxuYmlCU2IyOTBJRU5CSUMwZ1VqTXhFekFSQmdOVkJBb1RDa2RzYjJKaGJGTnBaMjR4RXpBUkJnTlZCQU1UQ2tkc2IySmgKYkZOcFoyNHdIaGNOTURrd016RTRNVEF3TURBd1doY05Namt3TXpFNE1UQXdNREF3V2pCTU1TQXdIZ1lEVlFRTEV4ZEhiRzlpWVd4VAphV2R1SUZKdmIzUWdRMEVnTFNCU016RVRNQkVHQTFVRUNoTUtSMnh2WW1Gc1UybG5iakVUTUJFR0ExVUVBeE1LUjJ4dlltRnNVMmxuCmJqQ0NBU0l3RFFZSktvWklodmNOQVFFQkJRQURnZ0VQQURDQ0FRb0NnZ0VCQU13bGRwQjVCbmdpRnZYQWc3YUV5aWllL1FWMkVjV3QKaUhMOFJnSkR4N0tLblFSZkpNc3VTK0ZnZ2tiaFVxc01nVWR3Yk4xazBldjFMS01QZ2owTUs2NlgxN1lVaGhCNXV6c1RnSGVNQ09GSgowbXBpTHg5ZStwWm8zNGtubFRpZkJ0Yyt5Y3NtV1ExejNyREk2U1lPZ3hYRzcxdUwwZ1JneWttbUtQWnBPL2JMeUNpUjVaMktZVmMzCnJIUVUzSFRnT3U1eUx5NmMrOUM3di9VOUFPRUdNK2lDSzY1VHBqb1djNHpkUVE0Z09zQzBwNkhwc2srUUxqSmc2VmZMdVFTU2FHamwKT0NaZ2RiS2ZkLytSRk8rdUlFbjhyVUFWU05FQ01XRVpYcmlYNzYxM3QyU2Flcjlmd1JQdm0yTDdEV3pnVkdrV3FRUGFidW1EazNGMgp4bW1GZ2hjQ0F3RUFBYU5DTUVBd0RnWURWUjBQQVFIL0JBUURBZ0VHTUE4R0ExVWRFd0VCL3dRRk1BTUJBZjh3SFFZRFZSME9CQllFCkZJL3dTMytvTGtVa3JrMVErbU9haTk3aTNSdThNQTBHQ1NxR1NJYjNEUUVCQ3dVQUE0SUJBUUJMUU52QVVLcit5QXp2OTVaVVJVbTcKbGdBSlFheXpFNGFHS0Fjenltdm1kTG02QUMydXBBclQ5Zkh4RDRxL2MyZEtnOGRFZTNqZ3IyNXNid01wampNNVJjT081TGxYYktyOApFcGJzVThZdDVDUnN1WlJqKzl4VGFHZFdQb080enpVaHc4bG8vczdhd2xPcXpKQ0s2ZkJkUm95VjNYcFlLQm92SGQ3TkFEZEJqKzFFCmJkZFRLSmQrODJjRUhoWFhpcGEwMDk1TUo2Uk1HM056ZHZRWG1jSWZlZzdqTFFpdENod3MvenlyVlE0UGtYNDI2OE5YU2I3aExpMTgKWUl2RFFWRVRJNTNPOXpKcmxBR29tZWNzTXg4Nk95WFNoa0RPT3l5R2VNbGhMeFM2N3R0VmI5K0U3Z1VKVGIwbzJITE8wMkpRWlI3cgprcGVETWRtenRjcEhXRDlmCi0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0KCkF1dG9yaWRhZCBkZSBDZXJ0aWZpY2FjaW9uIEZpcm1hcHJvZmVzaW9uYWwgQ0lGIEE2MjYzNDA2OAo9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KLS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUdGRENDQS95Z0F3SUJBZ0lJVSt3Nzd2dXlTRjh3RFFZSktvWklodmNOQVFFRkJRQXdVVEVMTUFrR0ExVUVCaE1DUlZNeFFqQkEKQmdOVkJBTU1PVUYxZEc5eWFXUmhaQ0JrWlNCRFpYSjBhV1pwWTJGamFXOXVJRVpwY20xaGNISnZabVZ6YVc5dVlXd2dRMGxHSUVFMgpNall6TkRBMk9EQWVGdzB3T1RBMU1qQXdPRE00TVRWYUZ3MHpNREV5TXpFd09ETTRNVFZhTUZFeEN6QUpCZ05WQkFZVEFrVlRNVUl3ClFBWURWUVFERERsQmRYUnZjbWxrWVdRZ1pHVWdRMlZ5ZEdsbWFXTmhZMmx2YmlCR2FYSnRZWEJ5YjJabGMybHZibUZzSUVOSlJpQkIKTmpJMk16UXdOamd3Z2dJaU1BMEdDU3FHU0liM0RRRUJBUVVBQTRJQ0R3QXdnZ0lLQW9JQ0FRREtsbXVPNnZqNzhhSTE0SDlNMnVERApVdGQ5dGhESUFsNnpReXJFVDJxeXloeGRLSnA0RVJwcFdWZXZ0U0JDNUlzUDV0OWJwZ09TTC9VUjVHTFhNbkU0MlFRTWNhczlVWDRQCkI5OWpCVnpwdjVSdndTbUN3TFRhVWJEQlBMdXROMHBjeXZGTE5nNGtxNy9EaEhmOXFGRDBzZWZHTDlJdFdZMTZDazZXYVZJQ3FqYVkKN1B6NkZJTU1OeC9Ka2pkLzE0RXQ1Y1M1NEQ0MC9tZjBQbWJSMC9SQXoxNWlOQTl3Qmo0Z0dGck85M0liSld5VGRCU1RvM094RHFxSApFQ05aWHlBRkdVZnRhSTZTRXNwZC9OWXJzcEk4SU0vaFg2OGd2cUIyZjNibDdCcUdZVE0rNTN1MFA2QVBqcUs1YW0rNWh5WnZRV3lJCnBsRDlhbU1MOVpNV0d4bVBzdTJibThtUTlRRU0zeGs5RHo0NEk4a3Zqd3pSQXY0YlZkWk8wSTA4cjArazgvNnZLdE1GblhrSW9jdFgKTWJTY3lKQ3laL1FZRnBNNi9FZlkwWGlXTVIrNkt3eGZYWm10WTRsYUpDQjIyTi85cTA2bUlxcWRYdVluaW4xb0thUG5pcmphRWJzWApMWm1kRXlSRzk4WGkySitPZjhlUGRHMWFzdWh5OWF6dUpCQ3RMeFRhL3kyYVJuRkh2a0xmdXdIYjlIL1RLSTh4V1Z2VHlRS210RkxLCmJwZjdROFVJSm0rSzlMdjlueWlxRGRWRjh4TTZIZGpBZUk5Qlp6d2VsR1N1ZXd2RjZOa0JpRGthbDRaa1FkVTdod3h1K2cvR3ZVZ1UKdnpsTjFKNUJ0bytXSFdPV2s5bVZCbmd4YUo0M0JqdUFpVVZoT1NQSEcwU2pGZVVjK0pJd3V3SURBUUFCbzRIdk1JSHNNQklHQTFVZApFd0VCL3dRSU1BWUJBZjhDQVFFd0RnWURWUjBQQVFIL0JBUURBZ0VHTUIwR0ExVWREZ1FXQkJSbHpldXJOUjRBUG43VmRNQWN0SE5ICkRocGtMekNCcGdZRFZSMGdCSUdlTUlHYk1JR1lCZ1JWSFNBQU1JR1BNQzhHQ0NzR0FRVUZCd0lCRmlOb2RIUndPaTh2ZDNkM0xtWnAKY20xaGNISnZabVZ6YVc5dVlXd3VZMjl0TDJOd2N6QmNCZ2dyQmdFRkJRY0NBakJRSGs0QVVBQmhBSE1BWlFCdkFDQUFaQUJsQUNBQQpiQUJoQUNBQVFnQnZBRzRBWVFCdUFHOEFkZ0JoQUNBQU5BQTNBQ0FBUWdCaEFISUFZd0JsQUd3QWJ3QnVBR0VBSUFBd0FEZ0FNQUF4CkFEY3dEUVlKS29aSWh2Y05BUUVGQlFBRGdnSUJBQmQ5b1BtMDNjWEY2NjFMSkxXaEFxdmRwWWhLc2c5VlN5dFhqRHZsTWQzK3hETHgKNTF0a2xqWXlHT3lsTW5mWDQwUzJ3QkVxZ0xrOWFtNThtOU90L01QV28rWmtLWHpSNFRnZWdpdi9KMld2K3hZVnhDNXhoT1cxLy9xawpSNzFrTXJ2MkpZU2lKMEwxSUxEQ0V4QVJ6UkFWdWtLUUt0SkU0WlltNnpGSUV2MHEyc2tHejNRZXFVdlZoeWo1ZVRTU1BpNUU2UGFQClQ0ODFQeVd6T2R4aktwQnJJRi9FVWhKT2x5d3FySjJYM2tqeW8yYmJ3dEtEbGFabXA1NGxEK2tMTTVGbENsckQyVlFTM2EvRFRnNGYKSmw0TjNMT043TldCY043U1R5UUY4MnhPOVV4SlpvM1IvOUlMSlVGSS9sR0V4a0t2Z0FUUDBINWtTZVR5MzZMc3NVekFLaDNudExGbApvc1M4OFpqMHFuQUhZN1M0Mmp0TStrQWlNRnNScHZBRkRzWUNBMGlyaHB1RjNkdmQ2cUoyZ0hOOTlad0V4RVdONTdrY2k1N3ExM1hSCmNySGVkVVRuUW4zaVYydDkzSm04UFlNbzZvQ1RqY1ZNWmNGd2diZzQvRU14c3ZZRE5FZXlyUHNpQnNzZTNSZEhIRjltdWRNYW90b1IKc2FTOEk4bmt2b2YvdVpTMitGMGdTdFJmNTcxb2UyWHlGUjdTT3FrdDZkaHJKS3lYV0VSSHJWa1k4U0ZsY043T05HQ29RUEh6UEtURApLQ09NL2ljelEwQ2dGenpyNmp1d2NxYWp1VXBMWGhaSTlMSzh5SXlTeFoyZnJISTJ2RFNBTkd1cGk1TEF1QmZ0N0haVDlTUUJqTE1pCjZFdDhWY2FkK3FNVXUyV0ZibTVQRW40S1BKMlYKLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQoKSXplbnBlLmNvbQo9PT09PT09PT09Ci0tLS0tQkVHSU4gQ0VSVElGSUNBVEUtLS0tLQpNSUlGOFRDQ0E5bWdBd0lCQWdJUUFMQzNXaFpJWDcvaHkvV0wxeG5tZlRBTkJna3Foa2lHOXcwQkFRc0ZBREE0TVFzd0NRWURWUVFHCkV3SkZVekVVTUJJR0ExVUVDZ3dMU1ZwRlRsQkZJRk11UVM0eEV6QVJCZ05WQkFNTUNrbDZaVzV3WlM1amIyMHdIaGNOTURjeE1qRXoKTVRNd09ESTRXaGNOTXpjeE1qRXpNRGd5TnpJMVdqQTRNUXN3Q1FZRFZRUUdFd0pGVXpFVU1CSUdBMVVFQ2d3TFNWcEZUbEJGSUZNdQpRUzR4RXpBUkJnTlZCQU1NQ2tsNlpXNXdaUzVqYjIwd2dnSWlNQTBHQ1NxR1NJYjNEUUVCQVFVQUE0SUNEd0F3Z2dJS0FvSUNBUURKCjAzcktEeDZzcDRib0ZtVnFzY0liUlRKeGxkbitFRnZNcitlbGVRR1BpY1BLOGxWeDkzZStkNVR6Y3FRc1JOaWVrcHNVT3FIbkpKQUsKQ2xhT3hkZ21sT0haU09FdFB0b0tjdDJqbVJYYWdhS0g5SHR1Sm5lSldLM1c2d3l5UVhwemJtM2JlbmhCNlFpSUVuNkhMbVlSWTJ4VQorenlkY3NDOEx2L0N0OTBOZHVNNjEvZTBhTDZpOWVPQmJzRkdiMTJONEUzR1ZGV0pHak14Q3JGWHVhT0ttTVBzT3pURmxVRnBmblhDClBDREZZYnBSUjZBZ2tKT2hrRXZ6VG55RlJWU2EwUVVtUWJDMVRSMHp2c1FEeUNWOHdYRGJPL1FKTFZRblNLd3Y0Y1NzUHNqTGtreFQKT1RjajdOTUIrZUFKUkUxTlpNRGhEVnFISXJ5dEc2UCtKclVWODZmOGhCbnA3S0dJdEVScGhJUHppZEYwQnFuTUM5YkMzaWVGVUNiSwpGN2pKZW9kV0xCb0JIbXkrRTYwUXJMVWs5VGlSb2RaTDJ2RzcwdDVIdGZHOGdmWlphODhaVSttTkZjdEt5Nmx2Uk9VYlFjL2hocWZLCjBHcWZ2RXlOQmpOYW9vWGxrRFdnWWx3V1R2RGpvdm9ER3JRc2NiTllMTjU3QzlzYUQrdmVJUjhHZHdZRHNNbnZtZnpBdVU4TGhpaisKMHJucTQ5cWx3MGRwRXVEYjhQWVppKzE3Y05jQzF1MkhHQ2dzQkNSTWQrUklpaHJHTzVyVUQ4cjZkZElCUUZxTmViK0x6MHZQcWhiQgpsZVN0VElvK0Y1SFVzV0xsZ3VXQUJLUURmbzIvMm4raUQ1ZFBETk1OKzlmUjVYSitITWgzLzF1YUQ3ZXVCVWJsOGFnVzdFZWtGd0lECkFRQUJvNEgyTUlIek1JR3dCZ05WSFJFRWdhZ3dnYVdCRDJsdVptOUFhWHBsYm5CbExtTnZiYVNCa1RDQmpqRkhNRVVHQTFVRUNndysKU1ZwRlRsQkZJRk11UVM0Z0xTQkRTVVlnUVRBeE16TTNNall3TFZKTlpYSmpMbFpwZEc5eWFXRXRSMkZ6ZEdWcGVpQlVNVEExTlNCRwpOaklnVXpneFF6QkJCZ05WQkFrTU9rRjJaR0VnWkdWc0lFMWxaR2wwWlhKeVlXNWxieUJGZEc5eVltbGtaV0VnTVRRZ0xTQXdNVEF4Ck1DQldhWFJ2Y21saExVZGhjM1JsYVhvd0R3WURWUjBUQVFIL0JBVXdBd0VCL3pBT0JnTlZIUThCQWY4RUJBTUNBUVl3SFFZRFZSME8KQkJZRUZCMGNaUTZvOGlWN3RKSFA1TEd4NXIxVmRHd0ZNQTBHQ1NxR1NJYjNEUUVCQ3dVQUE0SUNBUUI0cGd3V1NwOU1pRHJBeXc2bApGbjJmdVVoZkdJOE5ZamIyelJscnJLdlY5cEY5cm5IelA3TU9lSVdibGFRbklVZENTbnhJT3ZWRmZMTU1qbEY0ckpVVDNzYjlmYmdhCmtFeXJrZ1BIN1VJQnpnL1lzZnFpa3VGZ2JhNTZhd21xeGludWFFbG5NSUFrZWpFV09WdCs4Und1M1d3SnJmSXh3WUpPdWJ2NXZyOHEKaFQvQVFLTTZXZnhaU3p3b0pOdTBGWFd1RFlpNkxuUEF2VmlINVVMeTYxN3VIakFpbWNzMzBjUWhiSUhzdm0wbTVoemtRaUNlUjdDcwpnMWx3TERYV3J6WTB0TTA3K0RLbzcrTjRpZnVOUlN6YW5MaCtRQnhoNXo2aWtpeEw4czM2bUxZcC8vUHllNmtmTHFDVFZ5dmVoUVA1CmFUZkxubmhxQmJURk1YaUo3SHFuaGVHNWV6emV2aDU1aE02ZmNBNVp3alV1a0NveDJlUkZla0drTGhPYk5BNW1lMG1yWkpmUVJzTjUKblhKUVk2YVlXd2E5U0czWU9ZTnc2RFh3QmRHcXZPUGJ5QUxxZlAyQzJzSmJVald1bURxdHVqV1RJNmNmU04wMVJwaXlFR2prcFRIQwpDbGd1R1lFUXlWQjEvT3BhRnM0UjErN3ZVSWd0WWY4L1FuTUZsRVBWamp4T0FUb1pwUjlHVG5mUVhlV0JJaUdIL3BSOWhOaVRyZFpvClEwaXkyK3R6Sk9lUmYxU2t0b0ErbmFNOFRITENWOFNnMU13NEo4N1ZCcDZpU05ucG44NkNjRGFUbWp2ZmxpSGpXYmNNMnBFMzhQMVoKV3JPWnlHbHNReVlCTldOZ1ZZa0RPblhZdWtyWlZQL3Uzb0RZTGRFNDFWNHRDNWg5UG16Yi9DYUl4dz09Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0KCkdvIERhZGR5IFJvb3QgQ2VydGlmaWNhdGUgQXV0aG9yaXR5IC0gRzIKPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQotLS0tLUJFR0lOIENFUlRJRklDQVRFLS0tLS0KTUlJRHhUQ0NBcTJnQXdJQkFnSUJBREFOQmdrcWhraUc5dzBCQVFzRkFEQ0JnekVMTUFrR0ExVUVCaE1DVlZNeEVEQU9CZ05WQkFnVApCMEZ5YVhwdmJtRXhFekFSQmdOVkJBY1RDbE5qYjNSMGMyUmhiR1V4R2pBWUJnTlZCQW9URVVkdlJHRmtaSGt1WTI5dExDQkpibU11Ck1URXdMd1lEVlFRREV5aEhieUJFWVdSa2VTQlNiMjkwSUVObGNuUnBabWxqWVhSbElFRjFkR2h2Y21sMGVTQXRJRWN5TUI0WERUQTUKTURrd01UQXdNREF3TUZvWERUTTNNVEl6TVRJek5UazFPVm93Z1lNeEN6QUpCZ05WQkFZVEFsVlRNUkF3RGdZRFZRUUlFd2RCY21sNgpiMjVoTVJNd0VRWURWUVFIRXdwVFkyOTBkSE5rWVd4bE1Sb3dHQVlEVlFRS0V4RkhiMFJoWkdSNUxtTnZiU3dnU1c1akxqRXhNQzhHCkExVUVBeE1vUjI4Z1JHRmtaSGtnVW05dmRDQkRaWEowYVdacFkyRjBaU0JCZFhSb2IzSnBkSGtnTFNCSE1qQ0NBU0l3RFFZSktvWkkKaHZjTkFRRUJCUUFEZ2dFUEFEQ0NBUW9DZ2dFQkFMOXhZZ2p4K2xrMDl4dkpHS1AzZ0VsWTZTS0RFNmJGSUVNQk80VHg1b1ZKbnlmcQo5b1FiVHFDMDIzQ1l4eklCc1FVK0IwN3U5UHBQTDFrd0l1ZXJHVlpyNG9BSC9QTVdkWUE1VVh2bCtUVzJkRTZwallJVDVMWS9xUU9ECitxSytpaFZxZjk0THc3WVpGQVhLNnNPb0JKUTdSbnd5RGZNQVppTElqV2x0Tm93UkdMZlRzaHhndERqNkFvek8wOTFHQjk0S1B1dGQKZk1oOCs3QXJVNlNTWW1sUkpRVmhHa1NCakN5cFE1WWozNnc2Z1pvT0tjVWNxZWxkSHJhZW5qQUtPYzd4aUlEN1MxM01NdXlGWWtNbApOQUpXSndHUnREdHdLajl1c2VpY2lBRjluOVQ1MjFOdFlKMi9MT2RZcTdoZlJ2ek94QnNEUEFuclNURmNhVWF6NEVjQ0F3RUFBYU5DCk1FQXdEd1lEVlIwVEFRSC9CQVV3QXdFQi96QU9CZ05WSFE4QkFmOEVCQU1DQVFZd0hRWURWUjBPQkJZRUZEcWFoUWNRWnlpMjcvYTkKQlVGdUlNR1UyZy9lTUEwR0NTcUdTSWIzRFFFQkN3VUFBNElCQVFDWjIxMTUxZm1YV1djRFlmRitPd1l4ZFMyaElJNVBaWWUwOTZhYwp2TmpwTDlEYld1N1BkSXh6dERoQzJnVjcrQUoxdVAybHNkZXU5dGZlRTh0VEVINktSdEdYK3JjdUt4R3JrTEFuZ1Bub24xcnBONStyCjVOOXNzNFVYblQzWkpFOTVrVFhXWHdUcmdJT3JtZ0l0dFJEMDJKREhCSE5BN1hJbG9LbWY3SjZyYUJLWlY4YVBFam9KcEwxRS9RWVYKTjhHYjVES2o3VGpvMkdUekxINFUvQUxxbjgzL0IyZ1gyeUtRT0MxNmpkRlU4V25qWHpQS2VqMTdDdVBLZjE4NTVlSjF1c1YyR0RQTwpMUEF2VEszM3NlZk9UNmpFbTBwVUJzVi9mZFVJRCtJYy9uNFh1S3hlOXRRV3NrTUpERTMycDJ1MG1ZUmx5bnFJNHVKRXZsejM2aHoxCi0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0KClN0YXJmaWVsZCBSb290IENlcnRpZmljYXRlIEF1dGhvcml0eSAtIEcyCj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ci0tLS0tQkVHSU4gQ0VSVElGSUNBVEUtLS0tLQpNSUlEM1RDQ0FzV2dBd0lCQWdJQkFEQU5CZ2txaGtpRzl3MEJBUXNGQURDQmp6RUxNQWtHQTFVRUJoTUNWVk14RURBT0JnTlZCQWdUCkIwRnlhWHB2Ym1FeEV6QVJCZ05WQkFjVENsTmpiM1IwYzJSaGJHVXhKVEFqQmdOVkJBb1RIRk4wWVhKbWFXVnNaQ0JVWldOb2JtOXMKYjJkcFpYTXNJRWx1WXk0eE1qQXdCZ05WQkFNVEtWTjBZWEptYVdWc1pDQlNiMjkwSUVObGNuUnBabWxqWVhSbElFRjFkR2h2Y21sMAplU0F0SUVjeU1CNFhEVEE1TURrd01UQXdNREF3TUZvWERUTTNNVEl6TVRJek5UazFPVm93Z1k4eEN6QUpCZ05WQkFZVEFsVlRNUkF3CkRnWURWUVFJRXdkQmNtbDZiMjVoTVJNd0VRWURWUVFIRXdwVFkyOTBkSE5rWVd4bE1TVXdJd1lEVlFRS0V4eFRkR0Z5Wm1sbGJHUWcKVkdWamFHNXZiRzluYVdWekxDQkpibU11TVRJd01BWURWUVFERXlsVGRHRnlabWxsYkdRZ1VtOXZkQ0JEWlhKMGFXWnBZMkYwWlNCQgpkWFJvYjNKcGRIa2dMU0JITWpDQ0FTSXdEUVlKS29aSWh2Y05BUUVCQlFBRGdnRVBBRENDQVFvQ2dnRUJBTDN0d1FQODlvLzhBckZ2Clc1OUkyWjE1NHFLM0EyRldHTU5IdHRmS1BUVXVpVVAzb1dtYjNvb2EvUk1nbkxSSmR6SXBWdjI1N0l6ZEl2cHkzQ2RobCs3MldvVHMKYmhtNWlTemNoRnZWZFB0clg4V0pwUkJTaVVaVjlMaDFIT1ovNUZTdVMvaFZjbGNDR2ZnWGNWbnJIaWdIZE1XZFNMNXN0UFNrc1BOawpOM21Td094R1huL2hiVk5NWXEvTkh3dGp1enFkKy94NUFKaGhkTThtZ2tCajg3SnlhaGtObWNyVURuWE1OL3VMaWNGWjhXSi9YN05mClpURDRwN2ROZGxvZWRsNDB3T2lXVnBtS3MvQi9wTTI5M0RJeGZKSFA0RjhSK0d1cVNWelJtWlRSb3VOald3bDJ0VlppNFV0MEhaYlUKSnRRSUJGblFtQTRPNXQ3OHcrd2ZrUEVDQXdFQUFhTkNNRUF3RHdZRFZSMFRBUUgvQkFVd0F3RUIvekFPQmdOVkhROEJBZjhFQkFNQwpBUVl3SFFZRFZSME9CQllFRkh3TU1oK24yVEIveEgxb28yS29vYzZyQjFzbk1BMEdDU3FHU0liM0RRRUJDd1VBQTRJQkFRQVJXZm9sClR3TnZsSms3bWgrQ2hUblVkZ1dVWHVFb2syMWlYUW5Db0tqVXNIVTQ4VFJxbmVTZmlvWW1VZVlzMGNZdGJwVWdTcElCN0xpS1ozc3gKNG1jdWpKVURKaTVEblVveDlnNjFETHUzNGpkL0lyb0FvdzU3VXZ0cnV6dkUwM2xSVHMyUTlHY0hHY2c4Um5vTkFYM0ZXT2R0NW9VdwpGNW9reEJEZ0JQZmc4bi9VcWdyL1FoMDM3WlRsWkZrU0lIYzQwekkrT0lGMWxuUDZhSSt4eTg0ZnhlejZuSDdQZnJIeEJ5MjIvTC9LCnBML1Fsd1ZLdk9vWUtBS1F2VlI0Q1NGeDA5RjlIZGtXc0tsaFBkQUtBQ0w4eDN2TENXUkZDenRBZ2ZkOWZETDFtTXBZam4wcTdwQloKYzJUNU5uUmVKYUgxWmdVdWZ6a1ZxU3I3VUl1T2hXbjAKLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQoKU3RhcmZpZWxkIFNlcnZpY2VzIFJvb3QgQ2VydGlmaWNhdGUgQXV0aG9yaXR5IC0gRzIKPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KLS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUQ3ekNDQXRlZ0F3SUJBZ0lCQURBTkJna3Foa2lHOXcwQkFRc0ZBRENCbURFTE1Ba0dBMVVFQmhNQ1ZWTXhFREFPQmdOVkJBZ1QKQjBGeWFYcHZibUV4RXpBUkJnTlZCQWNUQ2xOamIzUjBjMlJoYkdVeEpUQWpCZ05WQkFvVEhGTjBZWEptYVdWc1pDQlVaV05vYm05cwpiMmRwWlhNc0lFbHVZeTR4T3pBNUJnTlZCQU1UTWxOMFlYSm1hV1ZzWkNCVFpYSjJhV05sY3lCU2IyOTBJRU5sY25ScFptbGpZWFJsCklFRjFkR2h2Y21sMGVTQXRJRWN5TUI0WERUQTVNRGt3TVRBd01EQXdNRm9YRFRNM01USXpNVEl6TlRrMU9Wb3dnWmd4Q3pBSkJnTlYKQkFZVEFsVlRNUkF3RGdZRFZRUUlFd2RCY21sNmIyNWhNUk13RVFZRFZRUUhFd3BUWTI5MGRITmtZV3hsTVNVd0l3WURWUVFLRXh4VApkR0Z5Wm1sbGJHUWdWR1ZqYUc1dmJHOW5hV1Z6TENCSmJtTXVNVHN3T1FZRFZRUURFekpUZEdGeVptbGxiR1FnVTJWeWRtbGpaWE1nClVtOXZkQ0JEWlhKMGFXWnBZMkYwWlNCQmRYUm9iM0pwZEhrZ0xTQkhNakNDQVNJd0RRWUpLb1pJaHZjTkFRRUJCUUFEZ2dFUEFEQ0MKQVFvQ2dnRUJBTlVNT3NRcStVN2k5YjRabDErT2lGT3hIei9MejU4Z0UyMHBPc2dQZlR6M2EzWTRZOWsyWUtpYlhsd0FnTEl2V1gvMgpoL2tsUTRibmFSdFNtcERoY2VQWUxRMU9iL2JJU2RtMjh4cFdyaXUyZEJUcnovc200eHE2SFpZdWFqdFlsSWxIVnY4bG9KTndVNFBhCmhIUVV3MmVlQkdnNjM0NUFXaDFLVHM5RGtUdm5WdFlBY010UzdudDlyanJudkRINVJmYkNZTThUV1FJcmdNdzBSOSs1M3BCbGJRTFAKTEpHbXB1ZmVoUmhKZkdaT296cHRxYlh1TkM2NkRRTzRNOTlINjdGcmpTWFptODZCMFVWR01wWndoOTRDRGtsRGhiWnNjN3RrNm1GQgpyTW5VVk4rSEw4Y2lzaWJNbjFsVWFKLzh2aW92eEZVY2RVQmdGNFVDVlRtTGZ3VUNBd0VBQWFOQ01FQXdEd1lEVlIwVEFRSC9CQVV3CkF3RUIvekFPQmdOVkhROEJBZjhFQkFNQ0FRWXdIUVlEVlIwT0JCWUVGSnhmQU4rcUFkY3dLemlJb3JodFNwenlFWkdETUEwR0NTcUcKU0liM0RRRUJDd1VBQTRJQkFRQkxOcWFFZDJuZE94bWZaeU1JYnc1aHlmMkUzRi9ZTm9ITjJCdEJMWjlnM2NjYWFOblJib2JoaUNQUApFOTVEeitJMHN3U2RIeW5Wdi9oZXlOWEJ2ZTZTYnpKMDhwR0NMNzJDUW5xdEtyY2dmVTI4ZWxVU3doWHF2ZmRxbFM1c2RKL1BITFR5CnhRR2poZEJ5UHExenF3dWJkUXh0UmJlT2xLeVdON1dnMEk4VlJ3N2o2SVBkai8zdlFRRjN6Q2VwWW9VejhqY0k3M0hQZHdiZXlCa2QKaUVEUGZVWWQveDdINGM3L0k5dkcrbzFWVHFrQzUwY1JSajcwL2IxN0tTYTdxV0ZpTnlpMkxTcjJFSVpreVhDbjBxMjNLWEI1Nmp6YQpZeVdmL1dpM01PeHcrM1dLdDIxZ1o3SWV5TG5wMktodkFvdG5EVTBtVjNIYUlQekJTbENOc1NpNgotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCgpBZmZpcm1UcnVzdCBDb21tZXJjaWFsCj09PT09PT09PT09PT09PT09PT09PT0KLS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSURURENDQWpTZ0F3SUJBZ0lJZDNjR0p5YXBzWHd3RFFZSktvWklodmNOQVFFTEJRQXdSREVMTUFrR0ExVUVCaE1DVlZNeEZEQVMKQmdOVkJBb01DMEZtWm1seWJWUnlkWE4wTVI4d0hRWURWUVFEREJaQlptWnBjbTFVY25WemRDQkRiMjF0WlhKamFXRnNNQjRYRFRFdwpNREV5T1RFME1EWXdObG9YRFRNd01USXpNVEUwTURZd05sb3dSREVMTUFrR0ExVUVCaE1DVlZNeEZEQVNCZ05WQkFvTUMwRm1abWx5CmJWUnlkWE4wTVI4d0hRWURWUVFEREJaQlptWnBjbTFVY25WemRDQkRiMjF0WlhKamFXRnNNSUlCSWpBTkJna3Foa2lHOXcwQkFRRUYKQUFPQ0FROEFNSUlCQ2dLQ0FRRUE5aHRQWndjcm9SWDFCaUxMSHdHeTQzTkZCa1JKTEx0SkpSVFd6c08zcXl4UHhrRXlsRmY2RXFkYgpEdUtQSHg2R0dhZXF0UzI1WHcyS3dxK0ZOWGt5TGJzY1lqZnlzVnRLUGNyTmNWL3BRcjZVNk1qZStTSklaTWJscThZcmJhMEY4UHJWCkM4K2E1ZkJRcElzN1I2VWpXM3A2K0RNL3VPK1psK01nd2RZb2ljK1UrN2xGN2VOQUZ4SFVkUEFMTWVJckptcWJURmV1ckNBK3VrVjYKQmZPOW0ya1ZybjFPSUdQRU5YWTZCd0xKTi8zSFIrN284WFlkY3hYeWw2UzF5SHA1MlVLcUszOWMvczRtVDZObWdUV3ZSTHBVSGh3dwpNbVdkNWp5VFhsQk9ldU02MUc3TUd2djUwamV1SkNxclZ3TWlLQTFKZFgrM0tOcDF2NDdqM0E1NU1RSURBUUFCbzBJd1FEQWRCZ05WCkhRNEVGZ1FVblpQR1U0dGV5cTgvbng0UDVabVZ2Q1QybEk4d0R3WURWUjBUQVFIL0JBVXdBd0VCL3pBT0JnTlZIUThCQWY4RUJBTUMKQVFZd0RRWUpLb1pJaHZjTkFRRUxCUUFEZ2dFQkFGaXM5QVFPemNBTi93cjkxTG9XWHltOWUyaVpXRW5TdEIwM1RYOG5mVVlHWFVQRwpoaTQrYzdJbWZVK1RxYmJFS3BxcklaY1VzZDZNMDZ1SkZkaHJKTlR4RnE3WXBGelVmMUdPN1JnQnNaTmp2Yno0WVlDYW5ySE9RbkRpCnFYMEdKWDBub2Y1djdMTWVKTnJqUzFVYUFEczF0RHZaMTEwdy9ZRVRpZkxDQml2dFo4U095VU95WEdzVmlRSzhZdnhPOHJVenFySnYKMHdxaVVPUDJPK2d1Uk1MYlpqaXBNMVpJOFcwYk00ME5qRDlnTjUzVHltMStOSDRObjNKMml4dWZjdjFTTlVGRkFwWXZITEthYzBraApzVWxIUlVlMDcybzBFY2xObXN4WnQ5WUNubHBPWmJXVXJodmZLYkFXOGI4QW5nYzZGMlMxQkxVaklaa0tsVHVYZk84PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCgpBZmZpcm1UcnVzdCBOZXR3b3JraW5nCj09PT09PT09PT09PT09PT09PT09PT0KLS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSURURENDQWpTZ0F3SUJBZ0lJZkU4RU9SelVtUzB3RFFZSktvWklodmNOQVFFRkJRQXdSREVMTUFrR0ExVUVCaE1DVlZNeEZEQVMKQmdOVkJBb01DMEZtWm1seWJWUnlkWE4wTVI4d0hRWURWUVFEREJaQlptWnBjbTFVY25WemRDQk9aWFIzYjNKcmFXNW5NQjRYRFRFdwpNREV5T1RFME1EZ3lORm9YRFRNd01USXpNVEUwTURneU5Gb3dSREVMTUFrR0ExVUVCaE1DVlZNeEZEQVNCZ05WQkFvTUMwRm1abWx5CmJWUnlkWE4wTVI4d0hRWURWUVFEREJaQlptWnBjbTFVY25WemRDQk9aWFIzYjNKcmFXNW5NSUlCSWpBTkJna3Foa2lHOXcwQkFRRUYKQUFPQ0FROEFNSUlCQ2dLQ0FRRUF0SVRNTXhjdWE1UnNhMkZTb091anozbVVUT1dVZ0puTFZXUkVaWTluWk9JRzQxdzNTZll2bTRTRQpIaTN5WUowd1RzeUVoZUlzeng2ZS9qYXJNM2MxUk5nMWxobzlOdWg2RHRqVlI2RnFhWXZaL0xzNnJubGExZlRXY2J1YWtDTnJtcmVJCmRJY01IbCs1bmkzNnExTXIzTHQyUHBOTUNBaU1IcUlqSE5ScXJTSzZtUUV1YldYTHZpUm1WU1JMUUVTeEc5Zmh3b1hBM2hBL1BlMjQKL1BIeEkxUGN2MldYYjluNVFIR05mYjJWMU02K29GNG5JOTc5cHRBbURnQXA2enhHOEQxZ3Z6OVEwdHdtUVZHZUZEZENCS053VjZnYgpoKzB0K252dWpBcmpxV2FKR2N0QitkMUVObUhQNG5kR3lIMzI5SktCTnYzYk5QRnlmdk1NRnIyMEZRSURBUUFCbzBJd1FEQWRCZ05WCkhRNEVGZ1FVQngvUzU1emF3bTZpUUxTd2VsQVFVSFRFeUwwd0R3WURWUjBUQVFIL0JBVXdBd0VCL3pBT0JnTlZIUThCQWY4RUJBTUMKQVFZd0RRWUpLb1pJaHZjTkFRRUZCUUFEZ2dFQkFJbFhzaFo2cU1MOTF0bWJtelRDbkxReUZFMm5wTi9zdnFlKytFUGJrVGZPdERJdQpVRlVhTlU1MlEzRWc3NU4zVGhWd0xvZkR3UjF0M011MUo5UXNWdEZTVXpwRTBuUEl4QnNGWlZwaWtwenVRWTB4MitjMDZsa2gxUUY2CjEyUzRaRG5OeWUydjdVc0RTS2VnbVFHQTNHV2pOcTVsV1VoUGdrdklaZkZYSGVWWkxnby9iTmpSOWVVSnRHeFVBQXJnRlUySGRXMjMKV0paYTNXM1NBS0QwbTBpK3d6ZWt1amJnZkllRmx4b1ZvdDR1b2x1OXJ4ajVrRkROY0ZuNEoyZEh5OGVnQnpwOTBTeGRiQms2WnJWOQovWkZ2Z3JHK0NKUGJGRWZ4b2pmSFJaNDh4M2V2WktpVDMvWnBnNEpnOGtsQ05PMWFBRlNGSEJZMmtneGMrcWF0djlzPQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCgpBZmZpcm1UcnVzdCBQcmVtaXVtCj09PT09PT09PT09PT09PT09PT0KLS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUZSakNDQXk2Z0F3SUJBZ0lJYll3VVJyR21DdTR3RFFZSktvWklodmNOQVFFTUJRQXdRVEVMTUFrR0ExVUVCaE1DVlZNeEZEQVMKQmdOVkJBb01DMEZtWm1seWJWUnlkWE4wTVJ3d0dnWURWUVFEREJOQlptWnBjbTFVY25WemRDQlFjbVZ0YVhWdE1CNFhEVEV3TURFeQpPVEUwTVRBek5sb1hEVFF3TVRJek1URTBNVEF6Tmxvd1FURUxNQWtHQTFVRUJoTUNWVk14RkRBU0JnTlZCQW9NQzBGbVptbHliVlJ5CmRYTjBNUnd3R2dZRFZRUUREQk5CWm1acGNtMVVjblZ6ZENCUWNtVnRhWFZ0TUlJQ0lqQU5CZ2txaGtpRzl3MEJBUUVGQUFPQ0FnOEEKTUlJQ0NnS0NBZ0VBeEJMZnFWLytRZDNkOVorSzQvYXM0VHg0bXJ6WThIOTZvRE1xM0kwZ1c2NHRiK2VUMlRad2FtalBqbEdqaFZ0bgpCS0FRSkc5ZEtJTEJsMWZZU0NrVHR1RytrVTNmaFF4VEdKb2VKS0pQai9DaWhRdkw5Q2wvMHFSWTdpWk55YXFvZTVyWitqamVSRmNWCjVmaU15TmxJNGcwV0p4MGV5SU9GSmJlNnFsVkJ6QU1pU3kyUmpZdm1pYTlteCtuL0srazhyTnJTczhQaGFKeUorSG9BVnQ3MFZaVnMKKzdwazNXS0wzd3QzTXV0aXpDYWFtN3VxWW9OTXRBWjZNTWdwdiswR1RaZTVITVF4SzlWZnZGTVNGNXlaVnlsbWQyRWhNUWN1SlVtZApHUEx1OHl0eGpMVzZPUWRKZC96dkxwS1FCWTB0TDNkNzcwTy9OYnVhMlBsenB5enkwRmZ1S0U0bVg0K1FhQWt2dVBqY0J1a3VtajVSCnA5RWl4QXFuT0Voc3Mvbi9mYXVHVitPNjFvVjRkN3BENmtoLzl0aStJMjBldjlFMmJGaGM4ZTZrR1ZRYTlRUFNkdWJoakwwOHM5TkkKUytMSStIK1NxSFpHbkVKbFBxUWV3UWNEV2tZdHVKZnp0OVd5VlNIdnV0eE1BSmY3RkpVbk03L29RMGRHMGdpWkZtQTdtbjdTNXUwNAo2dXdCSGp4SVZra0p4MHczQUo2SURzQno0VzltNlhKSE1ENFE1UXNEeVpwQ0FHekZsSDVoeElyZmY0SWFDMW5FV1RKM3M3eGdhVlk1Ci9iUUdleXpXWkRiWnZVanRoQjkrcFNLUEtyaEM5SUszMUZPUWVFNHRHdjJCYjBUWE93RjBsa0xnQU9JdWErckY3bktzdTcvKzZxcW8KK056MnNubUt0bWNDQXdFQUFhTkNNRUF3SFFZRFZSME9CQllFRkozQVo2WU1JdGttOVVXcnBtVlNFU2ZZUmF4ak1BOEdBMVVkRXdFQgovd1FGTUFNQkFmOHdEZ1lEVlIwUEFRSC9CQVFEQWdFR01BMEdDU3FHU0liM0RRRUJEQVVBQTRJQ0FRQ3pWMDBRWWs0NjVLenF1Qnl2Ck1pUElzMGxhVVp4MktJMTVxbGRHRjlYMVV2YTNST2dJUkw4WWhOSUxnTTNGRXYwQVZRVmhoMEhjdFNTZVBNVFl5UHR3bmk5NGxvTWcKTnQ1OEQya1RpS1YxTnBnSXBzYmZyTTdqV05hM1B0NjY4K3MwUU5paWdmVjRQeS9WcGZ6Wm90UmVCQTRYcmY1QjhPV3ljdnBFZ2pOQwo2QzFZOTFhTVlqKzZRckNjREZ4K0xtVW1YRk5QQUxKNGZxRU5tUzJOdUIyT29zU3cvV0RRTUtTT3lBUmlxY1R0TmQ1NmwrME9PRjZTCkw1TndwYW1jYjZkOUV4MSt4Z2hJc1Y1bjYxRUlKZW5tSld0U0taR2Mwamx6Q0ZmZW1RYTBXNTBRQnVIQ0FLaTRIRW9DQ2hUUXdVSEsKKzR3MUlYMkNPUEtwVkpFWk5aT1ViV282eGJMUXU0bUdrK2lieVE4NnAzcTRvZkI0UnZyOE55L2xpb1R6My80RTJhRm9vQzhrNGdtVgpCdFdWeXVFa2x1dDg5cE1GdSsxejZTM1JkVG5YNXlUYjJFNWZRNCtlMEJRNXYxVndTSmxYTWJTYzdrcVlBNVl3SDJBRzdoc2ovb0ZnCkl4cEhZb1dsekJrMGdHK3pyQnJqbi9CN1NLM1ZBZGxudHFseWsrb3Racld5dU9ROVBMTHZUSXpxNndlL3F6V2FWWWE4R0thMXFGNjAKZzJ4cmFVRFRuOXp4dzJscnVlRnRDZlR4cWxCMkNucDllaGVoVlpaQ21URUozV0FSalFVd2Z1YU9SdEdkRk5ySEYrUUZsb3pFSkxVYgp6eFFIc2tENG81NUJocndFMEd1V3lDcUFOUDIvN3dhajNWakZoVDArai82ZUtlQzJ1QWxvR1J3WVF3PT0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQoKQWZmaXJtVHJ1c3QgUHJlbWl1bSBFQ0MKPT09PT09PT09PT09PT09PT09PT09PT0KLS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUIvakNDQVlXZ0F3SUJBZ0lJZEpjbGlzYy9lbFF3Q2dZSUtvWkl6ajBFQXdNd1JURUxNQWtHQTFVRUJoTUNWVk14RkRBU0JnTlYKQkFvTUMwRm1abWx5YlZSeWRYTjBNU0F3SGdZRFZRUUREQmRCWm1acGNtMVVjblZ6ZENCUWNtVnRhWFZ0SUVWRFF6QWVGdzB4TURBeApNamt4TkRJd01qUmFGdzAwTURFeU16RXhOREl3TWpSYU1FVXhDekFKQmdOVkJBWVRBbFZUTVJRd0VnWURWUVFLREF0QlptWnBjbTFVCmNuVnpkREVnTUI0R0ExVUVBd3dYUVdabWFYSnRWSEoxYzNRZ1VISmxiV2wxYlNCRlEwTXdkakFRQmdjcWhrak9QUUlCQmdVcmdRUUEKSWdOaUFBUU5NRjRiRlowRDBLRjVOYmM2UEpKNnloVWN6V0x6bkNaY0J6M2xWUHFqMXN3UzZ2UVVYK2lPR2Fzdkxram1yQmhEZUt6UQpOOE85c3MwczVrZmlHdVpqdUQwdUwzakVUOXYwRDZSb1RGVnlhNVVkVGhoQ2xYak1OenlSNHB0bEt5bWpRakJBTUIwR0ExVWREZ1FXCkJCU2FyeWw2d0JFMU5TWlJNQUREYXY1QTFhN1dQREFQQmdOVkhSTUJBZjhFQlRBREFRSC9NQTRHQTFVZER3RUIvd1FFQXdJQkJqQUsKQmdncWhrak9QUVFEQXdObkFEQmtBakFYQ2ZPSGlGQmFyOGpBUXI5SFgvVnNhb2JneENkMDVEaFQxd1YvR3pUanhpK3p5Z2s4TjUzWAo1N2hHOGYyaDRuRUNNRUpaaDBQVVVkKzYwd2t5V3M2SWZsYzluRjlDYS9VSExiWHdncFA1V1crdVpQcFk1WXNlNDJPK3RZSE5id0tNCmVRPT0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQoKQ2VydHVtIFRydXN0ZWQgTmV0d29yayBDQQo9PT09PT09PT09PT09PT09PT09PT09PT09Ci0tLS0tQkVHSU4gQ0VSVElGSUNBVEUtLS0tLQpNSUlEdXpDQ0FxT2dBd0lCQWdJREJFVEFNQTBHQ1NxR1NJYjNEUUVCQlFVQU1INHhDekFKQmdOVkJBWVRBbEJNTVNJd0lBWURWUVFLCkV4bFZibWw2WlhSdklGUmxZMmh1YjJ4dloybGxjeUJUTGtFdU1TY3dKUVlEVlFRTEV4NURaWEowZFcwZ1EyVnlkR2xtYVdOaGRHbHYKYmlCQmRYUm9iM0pwZEhreElqQWdCZ05WQkFNVEdVTmxjblIxYlNCVWNuVnpkR1ZrSUU1bGRIZHZjbXNnUTBFd0hoY05NRGd4TURJeQpNVEl3TnpNM1doY05Namt4TWpNeE1USXdOek0zV2pCK01Rc3dDUVlEVlFRR0V3SlFUREVpTUNBR0ExVUVDaE1aVlc1cGVtVjBieUJVClpXTm9ibTlzYjJkcFpYTWdVeTVCTGpFbk1DVUdBMVVFQ3hNZVEyVnlkSFZ0SUVObGNuUnBabWxqWVhScGIyNGdRWFYwYUc5eWFYUjUKTVNJd0lBWURWUVFERXhsRFpYSjBkVzBnVkhKMWMzUmxaQ0JPWlhSM2IzSnJJRU5CTUlJQklqQU5CZ2txaGtpRzl3MEJBUUVGQUFPQwpBUThBTUlJQkNnS0NBUUVBNC90OW8zSzZ3dkRKRklmMWF3Rk80VzVBQjdwdEoxMS85MXN0czFySFVWK3JwREttWVllMmJnK0cwakFDCmwvalhhVmVoR0RsZGFtUjV4Z0ZackR3eFNqaDgwZ1RTU3lqb0lGODdCNkxNVFhQYjg2NVB4MWJWV3FlV2lmcnpxMmpVSTRaWko4OEoKSjd5c2JuS0RIREJ5MytDaTZkTGhkSFVadlNxZWV4VlVCQnZYUXptdFZTakY0aHE3OU1Ea3JqaEpNOHgyaFo4NVJkS2tudklTakZINApmT1F0Zi9Xc1grc1duN0V0MGJyTWtVSjNUQ1hKa0RodjIvRE0rNDRlbDFrKzFXQk81Z1VvN1VsNUUwdTZTTnN2K1hMVE9jcitIOWcwCmN2VzBRTTh4QWNQczNoRXRGMTBmdUZEUlhobW5hZDRITXlqS1VKWDVwMVRMVklaUVJhbjVTUUlEQVFBQm8wSXdRREFQQmdOVkhSTUIKQWY4RUJUQURBUUgvTUIwR0ExVWREZ1FXQkJRSWRzM0xCLzhrOXNYTjdidVF2T0tFTjBaMTl6QU9CZ05WSFE4QkFmOEVCQU1DQVFZdwpEUVlKS29aSWh2Y05BUUVGQlFBRGdnRUJBS2FvclNMT0FUMm1vLzlpMEVpZGkxNXlzSGhFNDl3Y3J3bjlJMGo2dlNyRXVWVUV0UkNqCmpTZmVDNEpqME83ZUREZDVRVnNpc3JDYVFWeW1jT0RVMEhmTEk5TUE0R3hXTCtGcERRM1pxcjhoZ1ZEWkJxV28vNVUzMEtyKzRyUDEKbVMxRmhJcmxRZ25YZEFJdjk0blltZW04SjlSSGpib05SaHgzenhTa0hMbWtNY1NjS0hRRE5QOHpHU2FsNlExMHR6Nlh4bmJvSjVhagpadDNocnZKQlc4cVlWb056Y09TR0d0SXhRYm92dmkwVFduWnZUdWhPZ1E0L1d3TWlvQksrWmxnUlNzc0R4TFFxS2kyV0YrQTVWTHhJCjAzWW5uWm90QnFiSjdEblNxOXVmbWdzbkFqVXBzVUNWNS9ub25GV0lHVWJXdHpUMWZzNDVtdGs0OFZIM1R5dz0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQoKVFdDQSBSb290IENlcnRpZmljYXRpb24gQXV0aG9yaXR5Cj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQotLS0tLUJFR0lOIENFUlRJRklDQVRFLS0tLS0KTUlJRGV6Q0NBbU9nQXdJQkFnSUJBVEFOQmdrcWhraUc5dzBCQVFVRkFEQmZNUXN3Q1FZRFZRUUdFd0pVVnpFU01CQUdBMVVFQ2d3SgpWRUZKVjBGT0xVTkJNUkF3RGdZRFZRUUxEQWRTYjI5MElFTkJNU293S0FZRFZRUUREQ0ZVVjBOQklGSnZiM1FnUTJWeWRHbG1hV05oCmRHbHZiaUJCZFhSb2IzSnBkSGt3SGhjTk1EZ3dPREk0TURjeU5ETXpXaGNOTXpBeE1qTXhNVFUxT1RVNVdqQmZNUXN3Q1FZRFZRUUcKRXdKVVZ6RVNNQkFHQTFVRUNnd0pWRUZKVjBGT0xVTkJNUkF3RGdZRFZRUUxEQWRTYjI5MElFTkJNU293S0FZRFZRUUREQ0ZVVjBOQgpJRkp2YjNRZ1EyVnlkR2xtYVdOaGRHbHZiaUJCZFhSb2IzSnBkSGt3Z2dFaU1BMEdDU3FHU0liM0RRRUJBUVVBQTRJQkR3QXdnZ0VLCkFvSUJBUUN3Zm5LNHBBT1U1cWZlQ1RpUlNoRkFoNmQ4V1dRVWU3VVJFTjMrdjlYQXUxYmloU1gwTlhJUCtGUFFRZUZFQWNLMEhNTXgKUWhaSGhUTWlkcklLYncvbEpWQlBoWWErdjVndUVHY2V2aEVGaGdXUXhGblFmSGdRc0lCY3QrSEhLM1hMZkordXRkR2RJemRqcDl4QwpvaTJTQkJ0UXdYdTRQaHZKVmdTTEwxS2JyYWxXNmNIL3JhbFloekMyZ2ZlWFJmd1pWenNyYitSSDlKbEYvaDN4K0plamlCMDNIRnlQCjRIWWxtbEQ0b0ZUL1JKQjJJOUl5eHNPckJyLzgrNy96clgyU1lnSmJLZE0xbzVPYVEyUmdYYkw2TXY4N0JLOU5RR3I1eCtQdkkvMXIKeStVUGl6Z043Z3I4L2crWW56QXgzV3hTWmZtTGdiNGk0UnhZQTdxUkc0a0hBZ01CQUFHalFqQkFNQTRHQTFVZER3RUIvd1FFQXdJQgpCakFQQmdOVkhSTUJBZjhFQlRBREFRSC9NQjBHQTFVZERnUVdCQlJxT0ZzbWpkNkxXdkpQZWxTREdSampDRFdtdWpBTkJna3Foa2lHCjl3MEJBUVVGQUFPQ0FRRUFQTlYzUGRyZmlicUhEQWhVYWlCUWtyNndRVDI1Sm1TRENpL29RTUNYS0NlQ01FckprLzlxNTZZQWY0bEMKbXRZUjVWUE9MOHp5MmdYRS91SlF4RHFHZmN6YWZoQUpPNUkxS2xPeS91c3JCZGxzWGViUTc5TnFacDRWS0lWNjZJSUFyQjZuQ1dsVwpRdE5vVVJpK1ZKcS9SRUc2U2I0Z3VtbGM3cmgzemM1c0g2MkRsaGg5RHJVVU9ZVHhLT2t0bzU1N0hucHlXb096ZVcvdnRQelFDcVZZClQwYmYrMjE1V2ZLRUlsS3VEOHo3ZkR2bmFzcEhZY042K05PU0JCKzRJSVRoTmxRV3gwRGVPNHB6M04vR0NVemY3TnIvMUZOQ29jbnkKWWgwaWd6eVh4ZmtaWWllc1pTTFgwenpHNVk2eVU4eEp6cnd3L25zT001RDc3ZElVa1I4SHJ3PT0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQoKU2VjdXJpdHkgQ29tbXVuaWNhdGlvbiBSb290Q0EyCj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQotLS0tLUJFR0lOIENFUlRJRklDQVRFLS0tLS0KTUlJRGR6Q0NBbCtnQXdJQkFnSUJBREFOQmdrcWhraUc5dzBCQVFzRkFEQmRNUXN3Q1FZRFZRUUdFd0pLVURFbE1DTUdBMVVFQ2hNYwpVMFZEVDAwZ1ZISjFjM1FnVTNsemRHVnRjeUJEVHk0c1RGUkVMakVuTUNVR0ExVUVDeE1lVTJWamRYSnBkSGtnUTI5dGJYVnVhV05oCmRHbHZiaUJTYjI5MFEwRXlNQjRYRFRBNU1EVXlPVEExTURBek9Wb1hEVEk1TURVeU9UQTFNREF6T1Zvd1hURUxNQWtHQTFVRUJoTUMKU2xBeEpUQWpCZ05WQkFvVEhGTkZRMDlOSUZSeWRYTjBJRk41YzNSbGJYTWdRMDh1TEV4VVJDNHhKekFsQmdOVkJBc1RIbE5sWTNWeQphWFI1SUVOdmJXMTFibWxqWVhScGIyNGdVbTl2ZEVOQk1qQ0NBU0l3RFFZSktvWklodmNOQVFFQkJRQURnZ0VQQURDQ0FRb0NnZ0VCCkFOQVZPVkt4VXJPNnhWbUN4RjFTcmpwRFpZQkx4L0tXdk5zMmw5YW1aSXlvWHZEakNoejMzNWM5UzY3Mlhld2h0VUdyemJsK2RwKysKK1Q0Mk5LQTd3Zll4RVVWMGt6MVhnTVg1aVpuSzVhdHExTFhhUVpBUXdkYldRb25Ddi9RNEVwVk1WQVgzTnVSRmczc1VaZGJjREUzUgozbjRNcXp2RUZiNDZWcVphYjNacFVxbDZ1Y2pyYXBwZFV0QXRDbXMxRmdrUWhOQnF5am9HQURkSDVINVhUeitMNjJlNGlLckZ2bE5WCnNwSEVmYm13aFJrR2VDN2JZUnI2aGZWS2thSG5GdFdPb2puZmxMaHdIeWcvaS94QVhtT0RQSU1xR3Bscno5NVphanY4YnhiWEgvMUsKRU90T2doWTZyQ2NNVS9HdDFTU3dhd05Rd1MwOEZ0MUVOQ2NhZGZzQ0F3RUFBYU5DTUVBd0hRWURWUjBPQkJZRUZBcUZxWGRsQlpoOApRSUg0RDVjc09QRUs3RHpQTUE0R0ExVWREd0VCL3dRRUF3SUJCakFQQmdOVkhSTUJBZjhFQlRBREFRSC9NQTBHQ1NxR1NJYjNEUUVCCkN3VUFBNElCQVFCTU9xTkVyTGxGc2NlVGZzZ0xDa0xmWk9vYzdsbHNDTHFKWDJyS1NwV2VlbzhIeGRwRmNvSnhEanJTekcrbnRLRWoKdS9Za244c1gvb3ltenNMUzI4eU4vSEg4QXluQmJGMHpYMlMyWlR1SmJ4aDJlUFhjb2tnZkdUK09rK3Z4K2hmdXpVN2pCQkpWMXVYawozZnMrQlh6aUhWN0dwN3lYVDJnNjlla3VDa08ycjFkY1ltaDh0LzJqaW9TZ3JHSytLd21ITlBCcUFidWJLVlk4L2dBM3p5TnM4VTZxCnRuUkdFbXlSN2pUVjdKcVI1MFMra0RGeTFVa0M5Z0xsOUIvcmZObVdWYW4vN0lyNW1VZi9OVm9DcWdUTGlsdUhjU21SdmFTMGVnMjkKbXZWWEl3QUhJUmMvU2puUkJVa0xwN1kzZ2FWZGpLb3pYb0VvZktkOUorc0FybzAzCi0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0KCkVDLUFDQwo9PT09PT0KLS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUZWakNDQkQ2Z0F3SUJBZ0lRN2lzOTY5UWgzaFNvWXF3RTg5M0VBVEFOQmdrcWhraUc5dzBCQVFVRkFEQ0I4ekVMTUFrR0ExVUUKQmhNQ1JWTXhPekE1QmdOVkJBb1RNa0ZuWlc1amFXRWdRMkYwWVd4aGJtRWdaR1VnUTJWeWRHbG1hV05oWTJsdklDaE9TVVlnVVMwdwpPREF4TVRjMkxVa3BNU2d3SmdZRFZRUUxFeDlUWlhKMlpXbHpJRkIxWW14cFkzTWdaR1VnUTJWeWRHbG1hV05oWTJsdk1UVXdNd1lEClZRUUxFeXhXWldkbGRTQm9kSFJ3Y3pvdkwzZDNkeTVqWVhSalpYSjBMbTVsZEM5MlpYSmhjbkpsYkNBb1l5a3dNekUxTURNR0ExVUUKQ3hNc1NtVnlZWEp4ZFdsaElFVnVkR2wwWVhSeklHUmxJRU5sY25ScFptbGpZV05wYnlCRFlYUmhiR0Z1WlhNeER6QU5CZ05WQkFNVApCa1ZETFVGRFF6QWVGdzB3TXpBeE1EY3lNekF3TURCYUZ3MHpNVEF4TURjeU1qVTVOVGxhTUlIek1Rc3dDUVlEVlFRR0V3SkZVekU3Ck1Ea0dBMVVFQ2hNeVFXZGxibU5wWVNCRFlYUmhiR0Z1WVNCa1pTQkRaWEowYVdacFkyRmphVzhnS0U1SlJpQlJMVEE0TURFeE56WXQKU1NreEtEQW1CZ05WQkFzVEgxTmxjblpsYVhNZ1VIVmliR2xqY3lCa1pTQkRaWEowYVdacFkyRmphVzh4TlRBekJnTlZCQXNUTEZabApaMlYxSUdoMGRIQnpPaTh2ZDNkM0xtTmhkR05sY25RdWJtVjBMM1psY21GeWNtVnNJQ2hqS1RBek1UVXdNd1lEVlFRTEV5eEtaWEpoCmNuRjFhV0VnUlc1MGFYUmhkSE1nWkdVZ1EyVnlkR2xtYVdOaFkybHZJRU5oZEdGc1lXNWxjekVQTUEwR0ExVUVBeE1HUlVNdFFVTkQKTUlJQklqQU5CZ2txaGtpRzl3MEJBUUVGQUFPQ0FROEFNSUlCQ2dLQ0FRRUFzeUxIVCtLWFFwV0lSNE5BOWgwWDg0TnpKQjVSODVpSwp3NUs0LzBDUUJYQ0hZTWtBcWJXVVpSa2lGUmZDUTJ4bVJKb05CRDQ1YjZWTGVxcGp0NHBFbmRsamtZUm00Q2dQdWtMamJvNzNGQ2VUCmFlNlJEcU5mRHJIclpxSnlUeElUaG1WNlB0dFBCL1NuQ1dEYU9rS1p4N0ovc3hhVkhNZjVOTFdVaGRXWlhxQklvSDduRjJXNG9uVzQKSHZQbFFuMnY3Zk9LU0dSZGdoU1QyTURrLzdOUWN2SjI5ck5kUWxCNTBKUSthd3dBdnRockRrNHE3RDdTeklLaUdHVXpFM2VlbWwwYQpFOWpEMnozSWwzcnVjTzJuNW56YmNjOHRsR0xmYmRiMU9MNC9wWVVLR2JpbzJBbDFRbkRFNnUvTERzZzBxQklpbUF5NEU1UzJTK3p3CjBKRG5Kd0lEQVFBQm80SGpNSUhnTUIwR0ExVWRFUVFXTUJTQkVtVmpYMkZqWTBCallYUmpaWEowTG01bGREQVBCZ05WSFJNQkFmOEUKQlRBREFRSC9NQTRHQTFVZER3RUIvd1FFQXdJQkJqQWRCZ05WSFE0RUZnUVVvTU9MUktvM3BVVy9sNEJhMGZGNG9wdnBYWTB3ZndZRApWUjBnQkhnd2RqQjBCZ3NyQmdFRUFmVjRBUU1CQ2pCbE1Dd0dDQ3NHQVFVRkJ3SUJGaUJvZEhSd2N6b3ZMM2QzZHk1allYUmpaWEowCkxtNWxkQzkyWlhKaGNuSmxiREExQmdnckJnRUZCUWNDQWpBcEdpZFdaV2RsZFNCb2RIUndjem92TDNkM2R5NWpZWFJqWlhKMExtNWwKZEM5MlpYSmhjbkpsYkNBd0RRWUpLb1pJaHZjTkFRRUZCUUFEZ2dFQkFLQklXNElCOWsxSXVEbFZOWnlBZWxPWjFWci9zWEU3ekRrSgpsRjdXMnUrK0FWdGQweDdZL1gxUHphQkI0RFNUdjh2aWhwdzNrcEJXSE56cktRWGx4SjdITmQrS0RNM0ZJVVBwcW9qbE5jQVpRbU5hCkFsNmtTQmc2aFcvY25idy9uWnpCaDdoNllRanBkd3QvY0t0NjNkbVhMR1FlaGIrOGRKYWh3M29TN0F3YWJvTU1QT2h5UnAvN1NOVmUKbCtheG9mams3MFlsbEp5SjIyazR2dXhjRGxiSFpWSGxVSWlJdjBMVkt6M2wrYnFlTHJQSzlIT1NBZ3UrVEdicklQNjV5N1daZithMgpFL3JLUzAzWjdsTkdCanZHVHEyVFdvRitiQ3BMYWdWRmpQSWhwREdRaDJ4bG5KMmxZSlU2VW4vMTBhc0lidlB1Vy9tSVBYNjRiMjRECjVFST0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQoKSGVsbGVuaWMgQWNhZGVtaWMgYW5kIFJlc2VhcmNoIEluc3RpdHV0aW9ucyBSb290Q0EgMjAxMQo9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ci0tLS0tQkVHSU4gQ0VSVElGSUNBVEUtLS0tLQpNSUlFTVRDQ0F4bWdBd0lCQWdJQkFEQU5CZ2txaGtpRzl3MEJBUVVGQURDQmxURUxNQWtHQTFVRUJoTUNSMUl4UkRCQ0JnTlZCQW9UCk8waGxiR3hsYm1saklFRmpZV1JsYldsaklHRnVaQ0JTWlhObFlYSmphQ0JKYm5OMGFYUjFkR2x2Ym5NZ1EyVnlkQzRnUVhWMGFHOXkKYVhSNU1VQXdQZ1lEVlFRREV6ZElaV3hzWlc1cFl5QkJZMkZrWlcxcFl5QmhibVFnVW1WelpXRnlZMmdnU1c1emRHbDBkWFJwYjI1egpJRkp2YjNSRFFTQXlNREV4TUI0WERURXhNVEl3TmpFek5EazFNbG9YRFRNeE1USXdNVEV6TkRrMU1sb3dnWlV4Q3pBSkJnTlZCQVlUCkFrZFNNVVF3UWdZRFZRUUtFenRJWld4c1pXNXBZeUJCWTJGa1pXMXBZeUJoYm1RZ1VtVnpaV0Z5WTJnZ1NXNXpkR2wwZFhScGIyNXoKSUVObGNuUXVJRUYxZEdodmNtbDBlVEZBTUQ0R0ExVUVBeE0zU0dWc2JHVnVhV01nUVdOaFpHVnRhV01nWVc1a0lGSmxjMlZoY21ObwpJRWx1YzNScGRIVjBhVzl1Y3lCU2IyOTBRMEVnTWpBeE1UQ0NBU0l3RFFZSktvWklodmNOQVFFQkJRQURnZ0VQQURDQ0FRb0NnZ0VCCkFLbFRBT011cHZhTyttRFlMWlUrK0N3cVZFN051WVJobEZoUGp6Mkw1RVB6ZFltTlVlVEROOUtLaUUxNUhyY1MzVU40U29xUzV0ZEkKMVEra09pbEVOYmdIOW1nZFZjMDRVZkNNSkRHRnI0UEpmZWwzciswYWU1MFgrYk9kT0ZBUHBscDVrWUN2TjY2bTB6SDd0U1lKblR4YQo3MUhGSzkrV1hlc3lIZ0xhY0Vuc2JnekltamVOOS9FMllFc21MSUtlMEhqekRROWpwRkV3NGZrckp4SUgyT3E5R0dLWXNGazNmYjd1Cjh5QlJRbHFENzVPNmFSWHhZcDJmbVRtQ29iZDBMb3ZVeFF0N0wvRElDdG85ZVFxYWt4eWxLSEp6a1VPYXA5Rk5oWVM1cVhTUEZFREgKM042c1FXUnN0Qm1iQW1OdEpHU1BSTElsNnM1ZGRBeGpNbHlOaCtVQ0F3RUFBYU9CaVRDQmhqQVBCZ05WSFJNQkFmOEVCVEFEQVFILwpNQXNHQTFVZER3UUVBd0lCQmpBZEJnTlZIUTRFRmdRVXBwRkMvUk5oU2lPZUNLUXA1ZGdUQkNQdVFTVXdSd1lEVlIwZUJFQXdQcUE4Ck1BV0NBeTVuY2pBRmdnTXVaWFV3Qm9JRUxtVmtkVEFHZ2dRdWIzSm5NQVdCQXk1bmNqQUZnUU11WlhVd0JvRUVMbVZrZFRBR2dRUXUKYjNKbk1BMEdDU3FHU0liM0RRRUJCUVVBQTRJQkFRQWY3M2xCNFh0dVA3S01oamRDU2s0Y054Nk5acm9rZ2NsUEVnOGh3QU9YaGlWdApYZE1pS2Foc29nMnA2ejBHVzVrNng4ekRtalIvcXc3SVRoemgrdVRjelEyK3Z5VCtiT2Ryd2czSUJwNU9qV0VvcG1yOTVmWmk2aGc4ClRxQlRuYkk2bk91bG5KRVd0azJDNEF3RlNLbHM5Y3o0eTUxSnRQQUNwZjF3QSsyS0lhV3VFNFpKd3pOenZvYzdkSXNYUlNaTUZwR0QKL21kOXpVMWpaL3J6QXhLV2VBYU5zV2Z0amorK24wOEM5Yk1KTC9OTWg5OHF5NVY4QWN5c05ucS9vbk42OTQvQnRacWhGTEtQTTU4Tgo3eUxjWm51RXZVVVhCajA4eXJsM05JL0s2czgvTVQ3amlPT0FTU1hJbDdXZG1wbE5zRHo0U2dDYlpOMmZPVXZSSjllNAotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCgpBY3RhbGlzIEF1dGhlbnRpY2F0aW9uIFJvb3QgQ0EKPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ci0tLS0tQkVHSU4gQ0VSVElGSUNBVEUtLS0tLQpNSUlGdXpDQ0E2T2dBd0lCQWdJSVZ3b1JsMExFNDh3d0RRWUpLb1pJaHZjTkFRRUxCUUF3YXpFTE1Ba0dBMVVFQmhNQ1NWUXhEakFNCkJnTlZCQWNNQlUxcGJHRnVNU013SVFZRFZRUUtEQnBCWTNSaGJHbHpJRk11Y0M1QkxpOHdNek0xT0RVeU1EazJOekVuTUNVR0ExVUUKQXd3ZVFXTjBZV3hwY3lCQmRYUm9aVzUwYVdOaGRHbHZiaUJTYjI5MElFTkJNQjRYRFRFeE1Ea3lNakV4TWpJd01sb1hEVE13TURreQpNakV4TWpJd01sb3dhekVMTUFrR0ExVUVCaE1DU1ZReERqQU1CZ05WQkFjTUJVMXBiR0Z1TVNNd0lRWURWUVFLREJwQlkzUmhiR2x6CklGTXVjQzVCTGk4d016TTFPRFV5TURrMk56RW5NQ1VHQTFVRUF3d2VRV04wWVd4cGN5QkJkWFJvWlc1MGFXTmhkR2x2YmlCU2IyOTAKSUVOQk1JSUNJakFOQmdrcWhraUc5dzBCQVFFRkFBT0NBZzhBTUlJQ0NnS0NBZ0VBcDhiRXBTbWtMTy9sR01Xd1VLTnZVVHVmQ2xySgp3a2c0Q3NJY29CaC9rYldIdVVBLzNSMW9Id2lEMVMwZWlLRDRqMWFQYlprQ2twQVcxVjhJYkluWDRheThJTUt4NElOUmltbE5BSlphCmJ5L0FSSDZqRHVTUnpWanUzUHZISGtWSDNTZTVDQUdmcGlFZDlVRXRMMHo5S0szZ2lxMGl0Rlpsam9aVWo1TkRLZDQ1Um5pak1DTzYKemZCOUUxZkFYZEtEYTBoTXhLdWZnRnBiT3IzSnB5SS9nQ2N6V3c2M2lneGRCemNJeTJ6U2VrY2lSRFhGek13dWp0MHE3YmQ5WmcxZgpZVkVpVlJ2alJ1UGpQZEExWXByYnJ4VElXNkhNaVJ2aE1DYjhvSnNmZ2FkSEh3VHJvem1TQnArWjA3L1Q2azlRbkJuK2xvY2VQR1gyCm94Z2tnNFlRNTFRK3FEcDJKRStCSWNYakR3TDRrNVJISUx2KzFBN1RhTG5keEhxRWd1TlRWSG5kMjV6UzhnZWJMcmE4UHUyRmJlOGwKRWZLWEdrSmg5MHFYNkl1eEVBZjZaWUd5b2puUDl6ei9HUHZHOFZxTFdlSUNySHVTMEU0VVQxbEY5Z3hlS0YrdzZEOUZ6OCt2bTIvNwpoTk4zV3BWdnJKU0VudTY4d0VxUFNwUDRSQ0hpTVVWaFVFNFEyT00xZkV3WnRONEZ2Nk1HbjhpMXplUWYxeGNHRFhxVmRGVU5hQnI4CkVCdGlaSjF0NEpXZ3c1UUhWdzBVNXIwRis3aWY1dCtMNHNibmZwYjJVOFdBTkZBb1dQQVNVSEVYTUxybWVHTzg5TEt0bXl1eS91RTUKakY2NkN5Q1UzbnVEdVAvalZvMjNFZWs3alBLeHdWMmRwQXRNSzlteUdQVzFuMHNDQXdFQUFhTmpNR0V3SFFZRFZSME9CQllFRkZMWQppRHJJbjNobTdZbnplemh3bE1rQ0FqYlFNQThHQTFVZEV3RUIvd1FGTUFNQkFmOHdId1lEVlIwakJCZ3dGb0FVVXRpSU9zaWZlR2J0CmlmTjdPSENVeVFJQ050QXdEZ1lEVlIwUEFRSC9CQVFEQWdFR01BMEdDU3FHU0liM0RRRUJDd1VBQTRJQ0FRQUxlM0tId0dDbVNVeUkKV09ZZGlQY1VaRWltMkZnS0RrOFROZDgxSGRUdEJqSElnVDVxMWQwN0dqTHVrRDBSMGk3MGpzTmpMaU5tc0dlK2I3YkFFemxncXFJMApKWk4xVXQ2bm5hME9oNGxTY1dvV1BCa2RnL2lhS1dXKzlEK2EyZkR6V29jaGNZQk55K0E0bXorNyt1QXdUYytHMDJVUUdSalJsd0t4CkszSkNhS3lndlU1YTJoaS9hNWlCMFAyYXZsNFZTTTBSRmJuQUtWeTA2SWozUGphdXQyTDlIbUxlY0hnUUhFaGIycnlrT0xwbjdWVSsKWGxmZjFBTkFUSUdrMGs5anB3bENDUlQ4QUtuQ2dITlBMc0JBMlJGN1NPcDZBc0RUNnlnQkpsaDB3Y0J6SW0yVGxmMDVmYnNxNC9hQwo0eXlYWDA0ZmtaVDYvaXlqMkhZYXVFMnlPRStiK2gxSVlIa200dlA5cWRDYTZIQ1BTWHJXNWIwS0R0c3Q4NDIvNitPa2ZjdkhsWEhvCjJxTjh4Y0w0ZEpJRUc0YXNwQ0pUUUxhcy9reDJ6L3VVTXNBMW4zWS9idVdRYnFDbUpxSzRMTDdSSzRYOXAyakl1Z0Vyc1d4MEhiaHoKbGVmdXQ4Y2w4QUJNQUxKK3RndUxIUFBBVUo0bHVlQUkzalptL3plbDBidFVaQ3pKSjdWTGtuNWwvOU10NGJsT3ZIK2tRU0dRUVhlbQpPUi9xbnVPZjBHWnZCZXlxZG42L2F4YWc2N1hIL0pKVUx5c1JKeVUzZUV4UmFyRHp6RmhkRlBGcVNCWC93Z2Uyc1kwUGpseFFSck05CnZ3R1lUN0paVkVjK05IdDRiVmFUTG5QcVppaDR6UjBVdjZDUEx5NjRMbzd5RklyTTZiVjgrMnlkREtYaGxnPT0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQoKVHJ1c3RpcyBGUFMgUm9vdCBDQQo9PT09PT09PT09PT09PT09PT09Ci0tLS0tQkVHSU4gQ0VSVElGSUNBVEUtLS0tLQpNSUlEWnpDQ0FrK2dBd0lCQWdJUUd4K3R0aUQ1Sk5NMmEvZkg4WXlnV1RBTkJna3Foa2lHOXcwQkFRVUZBREJGTVFzd0NRWURWUVFHCkV3SkhRakVZTUJZR0ExVUVDaE1QVkhKMWMzUnBjeUJNYVcxcGRHVmtNUnd3R2dZRFZRUUxFeE5VY25WemRHbHpJRVpRVXlCU2IyOTAKSUVOQk1CNFhEVEF6TVRJeU16RXlNVFF3TmxvWERUSTBNREV5TVRFeE16WTFORm93UlRFTE1Ba0dBMVVFQmhNQ1IwSXhHREFXQmdOVgpCQW9URDFSeWRYTjBhWE1nVEdsdGFYUmxaREVjTUJvR0ExVUVDeE1UVkhKMWMzUnBjeUJHVUZNZ1VtOXZkQ0JEUVRDQ0FTSXdEUVlKCktvWklodmNOQVFFQkJRQURnZ0VQQURDQ0FRb0NnZ0VCQU1WUWU1NDdOZERmeEl6TmpwdnRvOEEybWZSQzZxYytnSU1QcHFkWmg4bVEKUlVOK0FPcUdlU29EdlQwM21ZbG10K1dLVm9hVG5HaExhQVNNazVNQ1BqRFNOem9pWVlrY2hVNTlqOVd2ZXpYMmZpaEhpVEhjRG5sawpINW5TVzdyK2YyQy9yZXZuUERncGFpL2xrUXRWLyt4dldOVXR5ZDVNWm5HUEROY0UyZ2ZtSGhqanZTa0NxUG9jNFZ1NWc2aEJTTHdhCmNZM25ZdVV0c3V2ZmZNL2JxMXJLTWZGTUl2TUZFL2VDK1hONURMN1hTeHpBMFJVOGswRmswZWErSXhjaUFJbGVIMnVsckc2blM0enQKbzNMbXIyTk5MNFhTRkRXYUxrNk02aktZS0lhaGtRbEJPclRoNC9MNjhNa0tva0hkcWVNRHg0Z1ZPeHpVR3BUWG4yUlpFbTBDQXdFQQpBYU5UTUZFd0R3WURWUjBUQVFIL0JBVXdBd0VCL3pBZkJnTlZIU01FR0RBV2dCUzYrbkVsZVl0WFFTVWhoZ3R4NjdKa0Rvc2haekFkCkJnTlZIUTRFRmdRVXV2cHhKWG1MVjBFbElZWUxjZXV5WkE2TElXY3dEUVlKS29aSWh2Y05BUUVGQlFBRGdnRUJBSDVZLy8wMUdYMmMKR0UrZXNDdThqb3dVL3l5ZzJrZGJ3KytCTGE4RjZuUklXL00rVGdmSGJjV3prODhpTlZ5MlAzVW5Yd21XemFEK3ZrQU1YQkpWK0pPQwp5aW5wWGo5V1Y0czROdmRGR2t3b3paNUJ1TzFXVElTa1FNaTRzS1VyYVhBRWFzUDQxQkl5K1E3RHNkd3loRVFzYjh0R0QrcG1RUTlQCjhWaWxwZzBORDJIZXBaNWRmV1doUEJmbnFGVk83NkRIN2NaRWYxVDFvK0NQOEh4VklvOHB0b0dqNFcxT0xCdUFaK3l0SUo4TVltSFYKbC85RDdTM0IybDBwS29VL3JHWHVoZzhGalpCZjMrNmY5TC91SGZ1WTVIK1FLNFI0RUE1c1NWUHZGVnRsUmtwZHI3cjdPbklkemZZbAppQjZYekNHY0tRRU5aZXRYMmZOWGxydEl6WUU9Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0KCkJ1eXBhc3MgQ2xhc3MgMiBSb290IENBCj09PT09PT09PT09PT09PT09PT09PT09Ci0tLS0tQkVHSU4gQ0VSVElGSUNBVEUtLS0tLQpNSUlGV1RDQ0EwR2dBd0lCQWdJQkFqQU5CZ2txaGtpRzl3MEJBUXNGQURCT01Rc3dDUVlEVlFRR0V3Sk9UekVkTUJzR0ExVUVDZ3dVClFuVjVjR0Z6Y3lCQlV5MDVPRE14TmpNek1qY3hJREFlQmdOVkJBTU1GMEoxZVhCaGMzTWdRMnhoYzNNZ01pQlNiMjkwSUVOQk1CNFgKRFRFd01UQXlOakE0TXpnd00xb1hEVFF3TVRBeU5qQTRNemd3TTFvd1RqRUxNQWtHQTFVRUJoTUNUazh4SFRBYkJnTlZCQW9NRkVKMQplWEJoYzNNZ1FWTXRPVGd6TVRZek16STNNU0F3SGdZRFZRUUREQmRDZFhsd1lYTnpJRU5zWVhOeklESWdVbTl2ZENCRFFUQ0NBaUl3CkRRWUpLb1pJaHZjTkFRRUJCUUFEZ2dJUEFEQ0NBZ29DZ2dJQkFOZkhYdmZCQjlSMyswTWg5UFQxYWVUdU1nSGJvNFlmNUZrTnV1ZDEKZzFMcjZoeGhGVWk3SFFmS2pLNnczSmFkNnNOZ2tvYUNLSE9jVmdiL1MyVHdEQ28zU2JYbHp3eDg3dkZLdTNNd1pmUFZMNE8yZnVQbgo5WjZyWVBuVDhaMlNkSXJrSEphc1c0RHB0ZlF4aDZOUi9NZCtvVytPVTNmVWw4RlZNNUkrR0M5MTFLMkdTY3VWcjFRR2JOZ0dFNDFiCi8rRW1HVm5BSkxxQmNYbVFSRkJvSkpSZnVMTVI4U2xCWWFOQnl5TTIxY0h4TWxBUVRuLzBocFBzaE5PT3ZFdS9YQUZPQnozY0ZJcVUKQ3FUcWMvc0xVZWdUQnhqNkR2RXIwVlFWZlR6aDk3UVpRbWRpWG5mZ29sWHN0dGxwRjlVNnIwVHRTc1dlNUhvbmZPVjExNnJMSmVmZgphd3JiRDAyVFRxaWd6WHN1OGxrQmFyY051QWVCZm9zNEd6am1DbGVaUGU0aDZLUDFEQmJkaSt3MGpwd3FIQUFWRjQxb2c5SndueGdJCnpSRm8xY2xyVXMzRVJvL2N0ZlBZVjNNZTZaUTVCTC9UM2pqZXRGUHNhUnlpZnNTUDVCdHdyZktpK2Z2M0ZtUm1hWjlKVWFMaUZSaG4KQmtwLzFXeTFUYk16NEdIclhiN3BtQTh5MXgxTFBDNWFBVktSQ2ZMZjZvM1lCa0JqcWhIay9zTTNuaFJTUC9UaXpQSmhrOUg5WjJ2WApVcTYvYUt0QVE2QlhOVk40OEZQNFlVSUhaTWJYYjV0TU9BMWpyR0t2Tm91aWN3b045U0c5ZEtwTjZuSURTZHZIWHgxaVk4ZjkzWkhzCk0rNzFiYlJ1TUdqZXlOWW1zSFZlZTdRSElKaWhkaks0VFd4UEFnTUJBQUdqUWpCQU1BOEdBMVVkRXdFQi93UUZNQU1CQWY4d0hRWUQKVlIwT0JCWUVGTW1BZCtCaWtvTDFScHp6dXZkTXc5NjRvNjA1TUE0R0ExVWREd0VCL3dRRUF3SUJCakFOQmdrcWhraUc5dzBCQVFzRgpBQU9DQWdFQVUxOGg5YnF3T2xJNUxKS3diQURKNzg0Zzd3YnlscDdwcEhSL2VoYjh0L1cyK3hVYlA2dW13SEpkRUxGeDdyeFA0NjJzCkEyMHVjUzZ2eE9PdG83ME1FYWUwLzBxeWV4QVFINmRYUWJMQXJ2UXNXZFpIRUlqeklWRXBNTXBnaHE5R3F4M3RPbHV3bE41RTQwRUkKb3NIc0hkYjlUN2JXUjlBVUM4cm15clY3ZDM1QkgxNkR4N2FNT1phd1A1YUJRVzlna09Mbytmc2ljZGw5c3oxR3Y3U0VyNUFjRDQ4UwphcS92N2g1NnJnSktpaGNyZHY2c1ZJa2tMRTgvdHJLblRveW9rWmY3S2NaN1hDMjV5MmEydDZoYkVsR0Z0UWwrWW5ody9xbHFZTFlkCkRua00vY3JxSklCeXc1Yy84bmVyUXlJS3grdTJESVNDTElCclFZb0l3T3VsYTkrWkVzdUsxVjZBREpIZ0pnZzJTTVg2T0JFMS95V0QKTGZKNnY5cjlqdjZseTBVc0g4U0lVNjUzRHRtYWRzV09MQjJqdXRYc01xN0FxcXozMFhwTjY5UUg0a2ozSW82d3BKOXF6bzZ5c21EMApveUxRSSt1VVducHAzUSsvUUZlc2ExbFEyYU9aNFc3K2pRRjVKeU1WM3BLZGV3bE5XdWRMU0RCYUdPWUtiZWFQNE5LNzV0OThiaUdDCndXZzVUYlNZV0daaXpFcVFYc1A2SndTeGVSVjBtY3krclNEZUptQWM2MVpScHFQcTVLTS9wLzloM1BGYVRXd3lJMFB1cktqdTdrb1MKQ1R4ZGNjSytlZnJDaDJnZEMvMWNhY3dHMEpwOVZKa3F5VGthR2E5TEtrUHpZMTFhV09JdjR4M2txZGJRQ3RDZXY5ZUJDZkhKeHlZTgpySmdXVnFBPQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCgpCdXlwYXNzIENsYXNzIDMgUm9vdCBDQQo9PT09PT09PT09PT09PT09PT09PT09PQotLS0tLUJFR0lOIENFUlRJRklDQVRFLS0tLS0KTUlJRldUQ0NBMEdnQXdJQkFnSUJBakFOQmdrcWhraUc5dzBCQVFzRkFEQk9NUXN3Q1FZRFZRUUdFd0pPVHpFZE1Cc0dBMVVFQ2d3VQpRblY1Y0dGemN5QkJVeTA1T0RNeE5qTXpNamN4SURBZUJnTlZCQU1NRjBKMWVYQmhjM01nUTJ4aGMzTWdNeUJTYjI5MElFTkJNQjRYCkRURXdNVEF5TmpBNE1qZzFPRm9YRFRRd01UQXlOakE0TWpnMU9Gb3dUakVMTUFrR0ExVUVCaE1DVGs4eEhUQWJCZ05WQkFvTUZFSjEKZVhCaGMzTWdRVk10T1Rnek1UWXpNekkzTVNBd0hnWURWUVFEREJkQ2RYbHdZWE56SUVOc1lYTnpJRE1nVW05dmRDQkRRVENDQWlJdwpEUVlKS29aSWh2Y05BUUVCQlFBRGdnSVBBRENDQWdvQ2dnSUJBS1hhQ3BVV1VPT1Y4bDZkZGpFR01ucWI4UkIydUFDYXRWSTJ6U1JICnNKOFlaTHlhOXZyVmVkaVFZa3dpTDk0NFBkYmdxT2tjTE50NEVlbU9hRkVWY3Nmek00ZmtvRjBMWE9CWEJ5b3c5YzNFTjNjb1RSaVIKNXIvVlV2MXhMWEErNThiRWl1UHdLQXYwZHBpaGk0ZFZzam9UL0xjK0p6ZU9JdU9vVHlydllMczl0em5ERGdGSG1WMFNUOXREK2xlaAo3Zm1kdmhGSEpsc1RtS3RkRm9xd054eFhuVVgvaUpZMnY3dktCM3R2aDJQWDBESnExbDFzRFBHemJqbmlhekV1T1FBbkZONDR3T3daClpvWVM2SjF5RmhOa1VzZXBOeHo5Z2pEdGhCZ2Q5SzVjLzNBVEFPdXg5VE42UzlaVitBV05TMm13OWJNb05sd1V4RkZ6VFdzTDhUUUgKMnhjNTE5d29lMnYxbi9NdXdVOFhLaER6ek1ybzYvMXJxeTZhbnkyQ2JnVFVVZ0dUTFQyRy9INzgzKzlDSGFacjc3a2d4dmU5b0tlVgovYWZtaVNUWXpJdzBiT0lqTDlrU0dpRzVWWkZ2QzVGNUdReXRRSWdMY09KNjBnN1lhRWk3Z2hNNUVGanAyQ29IeGhMYldOdlNPMVVRClJ3VVZaMkorR0dPbVJqOEpEbFF5WHI4Tllub243NERvMjlsTEJsbzNXaVhRQ0JKMzFHOEpVSmM5eUIzRDM0eEZNRmJHMDJTclp2UEEKWHBhY3c4VHZ3M3hyaXpwNWY3Tkp6ejNpaVorZ01FdUZ1WnlVSkhtUGZXdXBSV2dQSzlEeDJoekxhYmpLU1dKdHlOQmpZdDFnRDFpcQpqNkc4QmFWbW9zOGJkcktFWkxGTU9WTEFNTHJ3akVzQ3NMYTNBZ01CQUFHalFqQkFNQThHQTFVZEV3RUIvd1FGTUFNQkFmOHdIUVlEClZSME9CQllFRkVlNHpmL2xiKzc0c3V3dlRnNzVKYkNPUEd2RE1BNEdBMVVkRHdFQi93UUVBd0lCQmpBTkJna3Foa2lHOXcwQkFRc0YKQUFPQ0FnRUFBQ0FqUVRVRWtNSkFZbUR2NGpWTTF6K3M0alNRdUtGdmR2b1dGcVJJTnl6cGtNTHlQUGdLbjlpQjVidGIyaVVzcEtkVgpjU1F5OXNnTDhyeHErSk9zc2dmQ1g1L2J6TWlLcXI1cWIrRkpFTXd4MTRDN3U4allvZzVrVitxaTljS3BNUlhTSUdycy9DSUJLTStHCnVJQWVxY3dScFR6eUZyTkhuZnpTZ0NIRXk5QkhjRUdoeW9NWkNDeHQ4bDEzbklvVUU5UTJISkx3NVFZMzNLYm1rSnM0ajF4ckcwYUcKUTBKZlBnRUhVMVJkWlgzM2luT2htbFJhSHlsREZDZkNoUSsxaUhzYU81UzNIV0NudFp6bktXbFhXcHVUZWtNd0d3UFhZc2hBcHFyOApaT1JLMTVGVEFhZ2dpRzZjWDBTNXkyQ0JOT3h2MDMzYVNGL3J0SkM4TGFrY0M2d2MxYUpvSUlBRTF2eXhqeSs3U2pFTlNvWWM2K0kyCktTYjEydGpFOG5WaHozNnVkbU5LZWtCbGs0ZjRIb0NNaHVXRzFvOE8vRk1zWU9nV1lScWlQa043elRsZ1ZHcjE4b2ttQVdpRFNLSXoKNk1rRWtiSVJOQkUrNnRCREdSOERrNUFNLzFFOVYvUkJidUhMb0w3cnlXUE5iY3prK0RhcWFKM3R2VjJYY0VRTnRnNDEzT0VNWGJ1ZwpVWlRMZmhickVTK2pra1hJVEhIWnZNbVpVbGRHTDFEUHZUVnA5RDBWemdhbExBOCs5b0c2bEx2RHU3OWxlTktHZWY5Sk94cUREUERlCmVPekk4azFNR3Q2Q0tmakJXdHJ0N3VZblh1aEYwSjBjVWFob3EwVGowSXRxNC9nN3U5eE4xMlR5VWI3bXFxdGE2VEh1QnJ4enZ4TmkKQ3AvSHVaYz0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQoKVC1UZWxlU2VjIEdsb2JhbFJvb3QgQ2xhc3MgMwo9PT09PT09PT09PT09PT09PT09PT09PT09PT09Ci0tLS0tQkVHSU4gQ0VSVElGSUNBVEUtLS0tLQpNSUlEd3pDQ0FxdWdBd0lCQWdJQkFUQU5CZ2txaGtpRzl3MEJBUXNGQURDQmdqRUxNQWtHQTFVRUJoTUNSRVV4S3pBcEJnTlZCQW9NCklsUXRVM2x6ZEdWdGN5QkZiblJsY25CeWFYTmxJRk5sY25acFkyVnpJRWR0WWtneEh6QWRCZ05WQkFzTUZsUXRVM2x6ZEdWdGN5QlUKY25WemRDQkRaVzUwWlhJeEpUQWpCZ05WQkFNTUhGUXRWR1ZzWlZObFl5QkhiRzlpWVd4U2IyOTBJRU5zWVhOeklETXdIaGNOTURneApNREF4TVRBeU9UVTJXaGNOTXpNeE1EQXhNak0xT1RVNVdqQ0JnakVMTUFrR0ExVUVCaE1DUkVVeEt6QXBCZ05WQkFvTUlsUXRVM2x6CmRHVnRjeUJGYm5SbGNuQnlhWE5sSUZObGNuWnBZMlZ6SUVkdFlrZ3hIekFkQmdOVkJBc01GbFF0VTNsemRHVnRjeUJVY25WemRDQkQKWlc1MFpYSXhKVEFqQmdOVkJBTU1IRlF0VkdWc1pWTmxZeUJIYkc5aVlXeFNiMjkwSUVOc1lYTnpJRE13Z2dFaU1BMEdDU3FHU0liMwpEUUVCQVFVQUE0SUJEd0F3Z2dFS0FvSUJBUUM5ZFpQd1lpSnZKSzdnZW5hc2ZiM1pKTlc0dC96TjhFTGc2M2lJVmw2Ym1sUWRUUXlLCjl0UFBjUFJTdGRpVEJPTkdobkZCU2l2d0tpeFZBOVpJdytBNU9PM3lYRHcvUkx5VFBXR3JUczBOdnZBZ0oxZ09SSDhFR29lbDE1WVUKTnBEUVNYdWhkZnNhYTNPeCtNNnBDU3p5VTlYREZFUzRocVgyaXlzNTJxTXpWTm42Y2hyM0loVWNpSkZyZjJibHcycUFzQ1R6MzRaRgppUDBaZjNXSEh4K3hHd3B6SkZ1NVplQXNWTWhnMDJZWFArSE1WRE56a1FJNnBuOTdkam1pSDVhMk9LNjF5Sk4wSFo2NXRPVmduUzlXCjBlRHJYbHRNRW5BTWJFUWdxeEhZOUJuMjBweFNOK2Y2dHNJeE8wclVGSm10eHhyMVhWLzZCN2g4RFIvV2d4NnpBZ01CQUFHalFqQkEKTUE4R0ExVWRFd0VCL3dRRk1BTUJBZjh3RGdZRFZSMFBBUUgvQkFRREFnRUdNQjBHQTFVZERnUVdCQlMxQS9kMk8yR0NhaEtxR0ZQcgpBeUdVdi83T3lqQU5CZ2txaGtpRzl3MEJBUXNGQUFPQ0FRRUFWajN2bE5XOTJuT3lXTDZ1a0syWUo1ZitBYkd3VWdDNFRlUWJJWFFiCmZzRHVYbWtxSmE5YzFoM2Ewbm5KODVjcDRJYUgzZ1JaRC9GWjFHU0ZTNW12SlFRZXlVYXBsOTZDc2h0d241ejJyM0V4M1hzRnBTelQKdWNwSDlzcnk5dWV0dVVnL3ZCYTN3VzMwNmdtdjdQTzE1d1dlcGg2S1UxSFdrNEhNZEpQMnVkcW1KUVYwZVZwK1FENkNTeVlSTUc3aApQMEhIUndBMTFmWFQ5MVErZ1QzYVNXcWFzKzhRUGVicmI5SElJa2ZMek04Qk1aTFpHT01pdmdrZUdqNWFzdVJyREZSNmZVTk91SW1sCmU5ZWlQWmFHelBJbU5DMXFrcDJhR3RBdzRsMU9CTEJmaXlCK2Q4RTlsWUxSUnBvN1BIaTRiNkhRRFdTaWVCNHBUcFBEcEZRVVd3PT0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQoKRC1UUlVTVCBSb290IENsYXNzIDMgQ0EgMiAyMDA5Cj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQotLS0tLUJFR0lOIENFUlRJRklDQVRFLS0tLS0KTUlJRU16Q0NBeHVnQXdJQkFnSURDWVB6TUEwR0NTcUdTSWIzRFFFQkN3VUFNRTB4Q3pBSkJnTlZCQVlUQWtSRk1SVXdFd1lEVlFRSwpEQXhFTFZSeWRYTjBJRWR0WWtneEp6QWxCZ05WQkFNTUhrUXRWRkpWVTFRZ1VtOXZkQ0JEYkdGemN5QXpJRU5CSURJZ01qQXdPVEFlCkZ3MHdPVEV4TURVd09ETTFOVGhhRncweU9URXhNRFV3T0RNMU5UaGFNRTB4Q3pBSkJnTlZCQVlUQWtSRk1SVXdFd1lEVlFRS0RBeEUKTFZSeWRYTjBJRWR0WWtneEp6QWxCZ05WQkFNTUhrUXRWRkpWVTFRZ1VtOXZkQ0JEYkdGemN5QXpJRU5CSURJZ01qQXdPVENDQVNJdwpEUVlKS29aSWh2Y05BUUVCQlFBRGdnRVBBRENDQVFvQ2dnRUJBTk95U3M5NlIrOTFteVA2T2kvV1VFV0pOVHJHYTl2KzJ3Qm9xT0FECkVSMDNVQWlmVFVwb2xEV3pVOUdVWTZjZ1ZxL2VVWGpzS2ozelNFaFFQZ3JmUmxXTEoyM0RFRTBOa1ZKRDJJZmdYVTQydFNIS1h6bEEKQkY5YmZzeWp4aXVwUUI3Wk5vVFdTUE9TSGpSR0lDVEJwRkdPU2hydlVEOXBYUmwvUmNQSEFZOVJ5U1BvY3E2MHZGWUpmeExMSExHdgpLWkFLeVZYTUQ5TzBHdTFITlZwSzdaeHpCQ0hRcXIwTUU3VUF5aVpzeEdzTWxGcVZsTnBRbXZIL3BTdG1NYVRKT0tEZkhSKzRDUzd6CnAraG5VcXVWSCtCR1B0aWt3OHBheFRHQTZFaWFuNVJwL2huZDJITjhnY3FXM283dHN6SUZaWVEwNXViOVZ4QzFYM2EvTDdBUURjVUMKQXdFQUFhT0NBUm93Z2dFV01BOEdBMVVkRXdFQi93UUZNQU1CQWY4d0hRWURWUjBPQkJZRUZQM2FGTVNmTU40aHZSNUNPZnlyWXlOSgo0UEdFTUE0R0ExVWREd0VCL3dRRUF3SUJCakNCMHdZRFZSMGZCSUhMTUlISU1JR0FvSDZnZklaNmJHUmhjRG92TDJScGNtVmpkRzl5CmVTNWtMWFJ5ZFhOMExtNWxkQzlEVGoxRUxWUlNWVk5VSlRJd1VtOXZkQ1V5TUVOc1lYTnpKVEl3TXlVeU1FTkJKVEl3TWlVeU1ESXcKTURrc1R6MUVMVlJ5ZFhOMEpUSXdSMjFpU0N4RFBVUkZQMk5sY25ScFptbGpZWFJsY21WMmIyTmhkR2x2Ym14cGMzUXdRNkJCb0QrRwpQV2gwZEhBNkx5OTNkM2N1WkMxMGNuVnpkQzV1WlhRdlkzSnNMMlF0ZEhKMWMzUmZjbTl2ZEY5amJHRnpjMTh6WDJOaFh6SmZNakF3Ck9TNWpjbXd3RFFZSktvWklodmNOQVFFTEJRQURnZ0VCQUgrWDJ6REkzNlNjZlNGNmdIRE9GQkpwaUJTVllFUUJyTExwTUUrYlVNSm0KMkg2Tk1MVndNZW5pYWNmemNOc2dGWWJRRGZDK3JBRjFoTTUrbjAyL3QyQTduUFBLSGVKZWFOaWpuWmZsUUdEU05pSCswTFM0RjlwMApvMy9VMzdDWUFxeHZhMnNzSlNSeW9XWHVKVnJsNWpMbjh0K3JTZnJ6a0drajJ3VFo1MXhZL0dYVWw3N00vQzRLekNVcU5RVDRZSkVWCmRUMUIveU1mR2NoczY0SlRCS2JrVENKTmpZeTZ6bHR6N0dSVVVHM1JuRlg3YWNNMnc0eThQSVdtYXdvbURlQ1RtR0N1ZnNZa2w0cGgKWDVHT1pwSUpoemJOaTVzdFB2WlIxRkRVV1NpOWcvTE1LSHRUaG0zWUpvaHcxK3FSelQ2NXlzQ1FibHJHWG5SbDExeitvK0k9Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0KCkQtVFJVU1QgUm9vdCBDbGFzcyAzIENBIDIgRVYgMjAwOQo9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KLS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUVRekNDQXl1Z0F3SUJBZ0lEQ1lQME1BMEdDU3FHU0liM0RRRUJDd1VBTUZBeEN6QUpCZ05WQkFZVEFrUkZNUlV3RXdZRFZRUUsKREF4RUxWUnlkWE4wSUVkdFlrZ3hLakFvQmdOVkJBTU1JVVF0VkZKVlUxUWdVbTl2ZENCRGJHRnpjeUF6SUVOQklESWdSVllnTWpBdwpPVEFlRncwd09URXhNRFV3T0RVd05EWmFGdzB5T1RFeE1EVXdPRFV3TkRaYU1GQXhDekFKQmdOVkJBWVRBa1JGTVJVd0V3WURWUVFLCkRBeEVMVlJ5ZFhOMElFZHRZa2d4S2pBb0JnTlZCQU1NSVVRdFZGSlZVMVFnVW05dmRDQkRiR0Z6Y3lBeklFTkJJRElnUlZZZ01qQXcKT1RDQ0FTSXdEUVlKS29aSWh2Y05BUUVCQlFBRGdnRVBBRENDQVFvQ2dnRUJBSm54aERSd3VpKzNNS0NPdlh3RXo3NWl2Sm45Z3BmUwplZ3BubGpnSjloQk9sU0p6bVkzYUZTM25CZndaY3lLM2pwZ0F2RHc5cktGcys5WjVKVXV0OE14azJvZytLYmdQQ2RNMDNUUDFZdEhoCnpSbnA3aGhQVEZpdTRoN1dERnNWV3RnNnVNUVlaQjdqTTdLMWlYZE9ETC9abEdzVGwyOFNvLzZacVFUTUZleGdhRGJ0Q0h1MzliK1QKN1dZeGc0ekdjVFNIVGhmcXI0dVJqUnhXUWE0aU4xNDM4aDNaMFMwTkwybFJwNzVtcG9vNktyM0hHckhoRlBDK09oMjV6MXV4YXY2MApzVVlnb3ZzZU8zRHZrNWg5akhPVzhzWHZoWEN0S1NiOEhnUStIS0RZRDh0U2cySjg3b3RUbFpDcFY2THFZUVhZK1UzRUovcHVyZTM1CjExSDNhNlVDQXdFQUFhT0NBU1F3Z2dFZ01BOEdBMVVkRXdFQi93UUZNQU1CQWY4d0hRWURWUjBPQkJZRUZOT1Vpa3hpRXlvWkxzeXYKY29wOU50ZWFITnhuTUE0R0ExVWREd0VCL3dRRUF3SUJCakNCM1FZRFZSMGZCSUhWTUlIU01JR0hvSUdFb0lHQmhuOXNaR0Z3T2k4dgpaR2x5WldOMGIzSjVMbVF0ZEhKMWMzUXVibVYwTDBOT1BVUXRWRkpWVTFRbE1qQlNiMjkwSlRJd1EyeGhjM01sTWpBekpUSXdRMEVsCk1qQXlKVEl3UlZZbE1qQXlNREE1TEU4OVJDMVVjblZ6ZENVeU1FZHRZa2dzUXoxRVJUOWpaWEowYVdacFkyRjBaWEpsZG05allYUnAKYjI1c2FYTjBNRWFnUktCQ2hrQm9kSFJ3T2k4dmQzZDNMbVF0ZEhKMWMzUXVibVYwTDJOeWJDOWtMWFJ5ZFhOMFgzSnZiM1JmWTJ4aApjM05mTTE5allWOHlYMlYyWHpJd01Ea3VZM0pzTUEwR0NTcUdTSWIzRFFFQkN3VUFBNElCQVFBMDdYdGFQS1NVaU84YUVYVUhMN1ArClBQb2VVU2JyaC9ZcDN1RHgxTVlrQ2VuQnoxVWJ0RERaemhyK0JsR21GYVF0NzdKTHZ5QW9KVW5ScGpaM05PaGszMUt4RWNkemVzMDUKbnNLdGpIRWg4bHBycjk4OFRsV3Zzb1JsRkltNWQ4c3FNYjdQbzIzUGIwaVVNa1p2NTNHTW9LYUVHVGNIOGdORkNTdUdkWHpmWDJsWApBTnR1MktaeUlrdFExSFdZVnQrM0dQOURRMUN1ZWtSNzhIbFIxME05cDlPQjAvREpUN25heHBlRzBJTEQ1RUp0L3JEaVpFNE9KdWRBCk5DYTFDSW5YQ0dOak9DZDFIalBxYnFqZG41bFBkRTJCaVlCTDNacVhLVnd2dm9GQnVZei82bjFnQnA3TjF6M1RMcU1WdktqbUp1VnYKdzl5NEF5SHFueGJ4TEZTMQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCgpDQSBEaXNpZyBSb290IFIyCj09PT09PT09PT09PT09PT0KLS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUZhVENDQTFHZ0F3SUJBZ0lKQUpLNGlOdXdpc0ZqTUEwR0NTcUdTSWIzRFFFQkN3VUFNRkl4Q3pBSkJnTlZCQVlUQWxOTE1STXcKRVFZRFZRUUhFd3BDY21GMGFYTnNZWFpoTVJNd0VRWURWUVFLRXdwRWFYTnBaeUJoTG5NdU1Sa3dGd1lEVlFRREV4QkRRU0JFYVhOcApaeUJTYjI5MElGSXlNQjRYRFRFeU1EY3hPVEE1TVRVek1Gb1hEVFF5TURjeE9UQTVNVFV6TUZvd1VqRUxNQWtHQTFVRUJoTUNVMHN4CkV6QVJCZ05WQkFjVENrSnlZWFJwYzJ4aGRtRXhFekFSQmdOVkJBb1RDa1JwYzJsbklHRXVjeTR4R1RBWEJnTlZCQU1URUVOQklFUnAKYzJsbklGSnZiM1FnVWpJd2dnSWlNQTBHQ1NxR1NJYjNEUUVCQVFVQUE0SUNEd0F3Z2dJS0FvSUNBUUNpbzhRQUNkYUZYUzF0RlBiQwp3M09lTmNKeFZYNkIrNnRHVU9EQmZFbDQ1cXQ1V0R6YS8zd2NuOWlYQW5nK2EwRUU2VUc5dmdNc1JmWXZaTlNyWGFOSFBXU2I2V2lhCnhzd2JQN3Erc29zMEFpNllWUm44akcrcVg5cE16azBESWFQWTBqU1RWcGJMVEF3QUZqeGZHczNJeDJ5bXJkTXhwN3pvNWVGbTF0TDcKQTdSQlpja1FyZzRGWThhQWFta3cvZEx1a084Tko5K2ZsWFAwNFNYYWJCYmVRVGcwNm92ODBlZ0VGR0V0UVg2c3gzZE95MUZVKzE2UwpHQnNFV21qR3ljVDZ0eE9nbUxjUks3ZldWOHg4bmhmUnl5WCtoazRrTGxZTWVFMmVBUkttSzZjQlpXNThZaDJFaE4vcXdHdTFwU3FWCmc4TlRFUXh6SFF1eVJwRFJRanJPUUc2VnJmL0dsSzF1bDRTT2ZXK2Vpb0FOU1cxejRudVNIc1B6d2ZQckxnVnYyUnZQTjNZRXlMUmEKNUJlbnk5MTJIOUFaZHVnc0JiUFduRFRZbHR4aGg1RUY1RVFJTThIYXVRaGwxSzZ5TmczcnVqaTZET1dibnV1Tlp0Mlp6OWFKUWZZRQprb29wS1cxck9oem5kWDBDY1E3endPZTl5eG5kbldDeXdtWmd0ckVFN3NubWhybWFaa0NvNXhIdGdVVURpL1puV2VqQkJoRzkzYytBCkFrOWxRSGhjUjFESW0rWWZnWHZrUktoYmhacmkzbHJWeC9rNlJHWkw1REpVZk9Sc25MTU9QUmVpc2pRUzFuNnlxRW03MFhvb1FMNmkKRmgvZjVEY2ZFWFA3a0FwbFE2SU5mUGdHQVZVemZiQU51UFQxcnFWQ1YzdzJFWXg3WHNRRG5ZeDVuUUlEQVFBQm8wSXdRREFQQmdOVgpIUk1CQWY4RUJUQURBUUgvTUE0R0ExVWREd0VCL3dRRUF3SUJCakFkQmdOVkhRNEVGZ1FVdFpuNHI3Q1U5ZU1nMWdxdHprNVdwQzV1ClF1MHdEUVlKS29aSWh2Y05BUUVMQlFBRGdnSUJBQ1lHWG5EblpUUElnbTdabkJjNkczcG1zZ0gyZUR0cFhpL3EvMDc1S01PWUttRk0KdENRU2luMXRFUlQzbkxYSzVyeWVKNDVNR2NpcHZYckExellPYllWeWJxakdvbTMyK25OamY3eHVlUWdjbllxZkdvcFRwdGk3MlRWVgpzUkhGcVFPelZqdTVoSk1pWG43QjloSlNpK29zWjd6K05rejF1TS9SczBtU085TXBEcGtibHZkaHVEdkVLN1o0YkxRamIvRDkwN0plCmRSK1psYWlzOXRyaHhURjcrOUZHczlLOFo3UmlWTG9KOTJPd2s2S2ErZWxTTG90Z0Vxdjg5V0JXN3hCY2k4UWFRdHlEVzJRT3k3VzgKMWsvQmZEeHVqUk50KzN2ck1ORGNUYS9GMWJhbFRGdHh5ZWd4dnVnNEJraWhHdUxxMHQ0U09WZ2EvNEFPZ25YbXQ4a0hiQTd2L3pqeAptSEhFdDM4T0ZkQWxhYjBpblN2dEJmWkdSNnp0d1BEVU8rTHM3cFpia0JOT0hsWTY2N0R2bHJ1V0l4RzY4a09HZEdTVnlDaDEzeDAxCnV0STNnemhUT0RZN3oyenArV3NPMFBzRTZFOTMxMlVCZUlZTWVqNGhZdkYvWTNFTXlaOUUyNmdub25XK2JvRSsxOERyRzVnUGNGdzAKc29yTXdJVVk2MjU2cy9kYW9RZS9xVUtTODJBaWwrUVVvUWViVG5iQWpuMzlwQ1hIUiszL0gzT3N6TU9sNlc4S2pwdGx3bENGdGFPZwpVeExNVllkaDg0R3VFRVpodlVRaHVNSTlkTTkrSkRYNkhBY09tejBpeXU4eEw0eXNFcjN2UUNqOEtXZWZzaE5QWmlURVV4bnBIaWtWCjcrWnRzSDh0Wi8zemJCdDFScVBsU2hmcHBOY0wKLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQoKQUNDVlJBSVoxCj09PT09PT09PQotLS0tLUJFR0lOIENFUlRJRklDQVRFLS0tLS0KTUlJSDB6Q0NCYnVnQXdJQkFnSUlYc08zcGtOL3BPQXdEUVlKS29aSWh2Y05BUUVGQlFBd1FqRVNNQkFHQTFVRUF3d0pRVU5EVmxKQgpTVm94TVJBd0RnWURWUVFMREFkUVMwbEJRME5XTVEwd0N3WURWUVFLREFSQlEwTldNUXN3Q1FZRFZRUUdFd0pGVXpBZUZ3MHhNVEExCk1EVXdPVE0zTXpkYUZ3MHpNREV5TXpFd09UTTNNemRhTUVJeEVqQVFCZ05WQkFNTUNVRkRRMVpTUVVsYU1URVFNQTRHQTFVRUN3d0gKVUV0SlFVTkRWakVOTUFzR0ExVUVDZ3dFUVVORFZqRUxNQWtHQTFVRUJoTUNSVk13Z2dJaU1BMEdDU3FHU0liM0RRRUJBUVVBQTRJQwpEd0F3Z2dJS0FvSUNBUUNicWF1L1lVcVhyeStYWnBwMFg5RFpsdjNQNHVSbTd4OGZSelBDUktQZm10NGZ0VlRkRlh4cE5SRnZ1OGdNCmptb1lIdGlQMlJhOEVFZzJYUEJqczVCYVhDUTMxNlBXeXdseHVmRUJjb1N3ZmR0TmdNMzgwMi9KK05xMkRvTFNSWVdvRzJpb1BlajAKUkd5OW9jTExBNzZNUGhNQWhOOUtTTURqSWdybzZUZW5HRXl4Q1EwalZuOEVUZGtYaEJpbHlOcEFsSFByemc1WFBBT0JPcDBLb1ZkRAphYXhYYlhtUWVPVzF0RHZZdkV5TktLR25vNmU2QWs0bDBTcXU3YTRESXJocklBOHdLRlNWZitEdXpncG1uZEZBTFc0aXI1MGF3UVVaCjBtL0E4cC80ZTdNQ1F2dFFxUjB0a3c4anE4YkJENUwvMEtJVjlWTUpjUnovUlJPRTVpWmUrT0NJSEFyOEZyYW9jd2E0OEdPRUFxREcKV3V6bmROOXdycU9ESmVyV3g1ZUhrNmZHaW9vemwyQTNFRDZYUG00cEZkYWhEOUdJTEJLZmI2cWt4a0xyUWFMamxVUFRBWVZ0anJzNwo4eU0yeC80NzRLRWxCMGlyeVlsMC93aVBnTC9BbG1Yejd1eExhTDJkaU1NeHMwRHg2TS8yT0x1YzVORi8xT1ZZbTN6NjFQTU9tM1dSCjVMcFNMaGwrMGZYTldobjh1Z2IyKzFLb1M1a0UzZmo1dEl0UW8wNWlpZkNISlBxRFFzR0grdFV0S1NwYWNYcGthdGNuWUdNTjI4NUoKOVkwZmtJa3lGL2h6UTdqU1dwT0dZZGJoZFFycWVXWjJpRTl4NndRbDFncGFlcFBsdVVzWFFBK3h0cm4xM2svYzRMT3NPeEZ3WUlSSwpRMjZaSU1BcGNRckFaUUlEQVFBQm80SUN5ekNDQXNjd2ZRWUlLd1lCQlFVSEFRRUVjVEJ2TUV3R0NDc0dBUVVGQnpBQ2hrQm9kSFJ3Ck9pOHZkM2QzTG1GalkzWXVaWE12Wm1sc1pXRmtiV2x1TDBGeVkyaHBkbTl6TDJObGNuUnBabWxqWVdSdmN5OXlZV2w2WVdOamRqRXUKWTNKME1COEdDQ3NHQVFVRkJ6QUJoaE5vZEhSd09pOHZiMk56Y0M1aFkyTjJMbVZ6TUIwR0ExVWREZ1FXQkJUU2g3VGozemNuazFYMgpWdXFCNVRiTWpCNC92VEFQQmdOVkhSTUJBZjhFQlRBREFRSC9NQjhHQTFVZEl3UVlNQmFBRk5LSHRPUGZOeWVUVmZaVzZvSGxOc3lNCkhqKzlNSUlCY3dZRFZSMGdCSUlCYWpDQ0FXWXdnZ0ZpQmdSVkhTQUFNSUlCV0RDQ0FTSUdDQ3NHQVFVRkJ3SUNNSUlCRkI2Q0FSQUEKUVFCMUFIUUFid0J5QUdrQVpBQmhBR1FBSUFCa0FHVUFJQUJEQUdVQWNnQjBBR2tBWmdCcEFHTUFZUUJqQUdrQTh3QnVBQ0FBVWdCaApBTzBBZWdBZ0FHUUFaUUFnQUd3QVlRQWdBRUVBUXdCREFGWUFJQUFvQUVFQVp3QmxBRzRBWXdCcEFHRUFJQUJrQUdVQUlBQlVBR1VBCll3QnVBRzhBYkFCdkFHY0E3UUJoQUNBQWVRQWdBRU1BWlFCeUFIUUFhUUJtQUdrQVl3QmhBR01BYVFEekFHNEFJQUJGQUd3QVpRQmoKQUhRQWNnRHpBRzRBYVFCakFHRUFMQUFnQUVNQVNRQkdBQ0FBVVFBMEFEWUFNQUF4QURFQU5RQTJBRVVBS1FBdUFDQUFRd0JRQUZNQQpJQUJsQUc0QUlBQm9BSFFBZEFCd0FEb0FMd0F2QUhjQWR3QjNBQzRBWVFCakFHTUFkZ0F1QUdVQWN6QXdCZ2dyQmdFRkJRY0NBUllrCmFIUjBjRG92TDNkM2R5NWhZMk4yTG1WekwyeGxaMmx6YkdGamFXOXVYMk11YUhSdE1GVUdBMVVkSHdST01Fd3dTcUJJb0VhR1JHaDAKZEhBNkx5OTNkM2N1WVdOamRpNWxjeTltYVd4bFlXUnRhVzR2UVhKamFHbDJiM012WTJWeWRHbG1hV05oWkc5ekwzSmhhWHBoWTJOMgpNVjlrWlhJdVkzSnNNQTRHQTFVZER3RUIvd1FFQXdJQkJqQVhCZ05WSFJFRUVEQU9nUXhoWTJOMlFHRmpZM1l1WlhNd0RRWUpLb1pJCmh2Y05BUUVGQlFBRGdnSUJBSmN4QXAvbi9VTm5TRVFVNUNtSDdVd29adENQTmRwTlliZEtsMDIxMjVEZ0JTNE94bm5ROHBkcEQ3MEUKUjltKzI3VXAycHZacnFtWjFkTThNSlAxamFHby9BYU5SUFRLRnBWOE05eGlpNmczK0NmWUNTMGI3OGdVSnlDcFpFVC9MdFoxcW14TgpZRUFaU1VOVVk5cml6THBtNVU5RWVsdlphb0VyUU5WLytRRW5XQ3pJN1VpUmZEK21BTS9FS1hNUk50NkdHVDZkN2htS0c5V3c3WTQ5Cm5DckFEZGc5WnVNOERiM1ZsRnppNHFjMUd3UUE5ajlhamVwRHZWK0pIYW5Cc015WjRrMEFDdHJKSjF2bkU1QmM1UFV6b2xWdDNPQUoKVFMreEpsc25kUUFKeEdKM0tRaGZubG1zdG42dG4xUXdJZ1BCSG5Gay92azRDcFlZM1FJVXJDUExCaHdlcEgyTkRkNG5RZWl0MmhXMwpzQ1BkSzZqVDJpV0g3ZWhWUkUySTlEWitoSnA0clBjT1Zra08xak1sMW9SUVFtd2dFaDBxMWI2ODhuQ0JwSEJndmdXMW01NEVSTDVoCkk2enBwU1NNRVlDVVdxS2l1VW5Td2R6UnArMHhFU3llR2FidTRWWGh3T3JQRFlUa0Y3ZWlmS1hlVlNVRzdzekFoMXhBMnN5VlAxWGcKTmNlNGhMNjBYYzE2Z3dGeTdvZm1YeDJ1dFlYR0p0L213WnJwSGdKSG55cW9iYWxieit4RmQzK1lKNW95WFNyamhPN0ZtR1l2bGlBZAozZGpESjlldytmN1pmYzNRbjQ4TEZGaFJueStMd3pndDN1aVAxbzJIcFBWV1F4YVpMUFNrVnJRMHVHRTN5Y0pZZ0J1Z2w2SDhXWTNwCkVmYlJEMHRWTkVZcWk0WTcKLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQoKVFdDQSBHbG9iYWwgUm9vdCBDQQo9PT09PT09PT09PT09PT09PT09Ci0tLS0tQkVHSU4gQ0VSVElGSUNBVEUtLS0tLQpNSUlGUVRDQ0F5bWdBd0lCQWdJQ0RMNHdEUVlKS29aSWh2Y05BUUVMQlFBd1VURUxNQWtHQTFVRUJoTUNWRmN4RWpBUUJnTlZCQW9UCkNWUkJTVmRCVGkxRFFURVFNQTRHQTFVRUN4TUhVbTl2ZENCRFFURWNNQm9HQTFVRUF4TVRWRmREUVNCSGJHOWlZV3dnVW05dmRDQkQKUVRBZUZ3MHhNakEyTWpjd05qSTRNek5hRncwek1ERXlNekV4TlRVNU5UbGFNRkV4Q3pBSkJnTlZCQVlUQWxSWE1SSXdFQVlEVlFRSwpFd2xVUVVsWFFVNHRRMEV4RURBT0JnTlZCQXNUQjFKdmIzUWdRMEV4SERBYUJnTlZCQU1URTFSWFEwRWdSMnh2WW1Gc0lGSnZiM1FnClEwRXdnZ0lpTUEwR0NTcUdTSWIzRFFFQkFRVUFBNElDRHdBd2dnSUtBb0lDQVFDd0Jkdkk2NHpFYm9vaDc0NU5uSEVLSDFKdzdXMkMKbkpmRjEweE9SVW5MUUVLMUVqUnNHY0owcERGZmhRS1g3RU16Q2xQU25JeU90N2g1Mnl2VmF2S09ac1R1S3dFSGt0U3owQUxmVVBaVgpyMllPeStCSFlDOHJNamsxVWpvb2cvaDdGc1lZdUdMV1J5V1J6dkFaRWsydFkvWFRQM1ZmS2ZDaE1Cd3FvSmltRmIzdS9SazI4T0tSClE0LzZ5dFlRSjBsTTc5M0I4WVZ3bThycXFGcEQvRzJHYjNQcE4wV3A4RGJIekloMUhydHNCditiYXo0WDdHR3FjWHpHSGFMM1Nla1YKdFR6V29XSDFFZmNGYngzOUViN1FNQWZDS2JBSlRpYmM0Nktva1dvZndwRkZpRnpsbUxoeHBSVVp5WHgxRWN4d2RFOHRteDJSUlAxVwpLS0QrdTRacXlQcGNDMWpjeGt0MnlLc2kyWE1QcGZSYUFvay9UNTRpZ3U2aWRGTXFQVk1uYVIxc2pqSXNaQUFtWTJFMlRxTkd0ejk5CnN5MnNiWkNpbGFMT3o5cUM1d2MwR1picHVDR3FLWDZtT0w2T0tVb2habmtmczhPMUNXZmUxdFFIUnZNcTJ1WWlOMkRMZ2JZUG9BL3AKeUpWL3YxV1JCWHJQUFJYQWI5NEpsQUdEMXpRYnpFQ2w4TGliWjlXWWtUdW5oSGlWSnFSYUNQZ3JkTFFBQkR6ZnVCU082Titwald4bgprak1kd0xmUzdKTEl2Z20vTENrRmJ3SnJudSs4dnlxOFc4QlFqMEZ3Y1lleVRiY0VxWVNqTXErdTdtc1hpN0t4L216aGtJeUlxSmRJCnpzaE55L01HejE5cUNrS3hIaDUzTDQ2ZzVwSU9CdndGSXRJbTRURlJmVExjRHdJREFRQUJveU13SVRBT0JnTlZIUThCQWY4RUJBTUMKQVFZd0R3WURWUjBUQVFIL0JBVXdBd0VCL3pBTkJna3Foa2lHOXcwQkFRc0ZBQU9DQWdFQVh6U0JkdStXSGRYbHRka0NZNFFXd2E2ZwpjRkduOTB4SE5jZ0wxeWc5aVhIWnFqTkI2aFFiYkNFQXdHeENHWDZmYVZzZ1F0K2kwdHJFZkpkTGpiRG9yTWp1cFdrRW1RcVNwcXNuCkxocE5nYitFMUhBZXJVZisvVXFkTStEeXVjUkZDQ0VLMm1scGMzSU52alQrbEl1dHd4NDExNktENytVNHg2V0ZINnZQTk93L0tQNE0KOFZlR1RzbFY5eHpVMktWOUJucHYxZDhRMzRGT0lXV3h0dUVYZVpWRkJzNWZ6TnhHaVdOb1JJMlQ5R1J3b0QyZEtBWERPWEM0WW5zZwovZVRiNlFpaHVKNDlDY2RQK3l6NGszWkIzbExnNFZmU25RTzhkNTcrbmlsZTk4RlJZQi9lMmd1eUxYVzNRMGlUNS9aNXhvUmRnRmxnCmxQeDRtSTg4azFIdFFKQUgzMlJqSk10T2NRV2gxNVFhaURMeEluUWlycVdtMkJKcFRHQ2pBdTRyN05SamtndGV2aTkyYTZPMkpyeVAKQTlnSzhreGtScjA1WXVXVzZ6UmpFU2pNbGZHdDcrL2NnRmhJNlV1NDZtV3M2ZnlBdGJYSVJmbXN3Wi9adWVwaWlJN0U4VXVERXEzbQppNFRXbnNMcmd4aWZhcnNiSkdBemNNenM5ekx6WE5sNWZlK2VwUDdKSThNazdoV1NzVDJSVHlhR3ZXWnpKQlBxcEs1andhMTloQU04CkVIaUdHM25qeFBQeUJKVWdyaU9DeExNNkFHSy81allrNFZlNnh4NlFkZFZmUDVWaEs4RTd6ZVd6YUdIUVJpYXBJVkpwTGVzdXgrdDMKenFZNnRRTXpUM2JSNTF4VUFWM0xlUFRKREwvUEVvNFhMU05vbE9lci9xbXlLd2JRQk0wPQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCgpUZWxpYVNvbmVyYSBSb290IENBIHYxCj09PT09PT09PT09PT09PT09PT09PT0KLS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUZPRENDQXlDZ0F3SUJBZ0lSQUpXK0ZxRDNMa2J4ZXptQ2N2cUx6Wll3RFFZSktvWklodmNOQVFFRkJRQXdOekVVTUJJR0ExVUUKQ2d3TFZHVnNhV0ZUYjI1bGNtRXhIekFkQmdOVkJBTU1GbFJsYkdsaFUyOXVaWEpoSUZKdmIzUWdRMEVnZGpFd0hoY05NRGN4TURFNApNVEl3TURVd1doY05Nekl4TURFNE1USXdNRFV3V2pBM01SUXdFZ1lEVlFRS0RBdFVaV3hwWVZOdmJtVnlZVEVmTUIwR0ExVUVBd3dXClZHVnNhV0ZUYjI1bGNtRWdVbTl2ZENCRFFTQjJNVENDQWlJd0RRWUpLb1pJaHZjTkFRRUJCUUFEZ2dJUEFEQ0NBZ29DZ2dJQkFNSysKNnlmd0lhUHphU1pWZnAzRlZSYVJYUDN2SWI5VGdIb3QwcEdNWXpIdzdDVHd3NlhTY253UWJmUTN0K1htZkhucWpMV0NpNjVJdHF3QQozR1YxN0NwTlg4R0g5U0JsSzRHb1J6NkpJNVV3RnBCLzZGY0hTT2NacnI5Rlo3RTNHd1lxL3Q3NXJIMkQrMTY2NUkrWFo3NUxqbzFrCkIxYzRWV2swTmowVFNPOVA0dE5tSHFUUEdyZGVOalBVdEFhOUdBSDlkNFJRQUVYMWpGM29JN3grL2pYaDdWQjdxVENOR2RNSmptaG4KWGI4OGx4aFR1eWxpeGNwZWNzSEhsdFRiTGFDMEgya0Q3T3JpVVBFTVBQQ3M4MU10OEJ6MTdXdzVPWE9BRnNoU3NDUE40RDdjM1R4SApvTHMxaXVLWWFJdSs1Yjl5N3RMNnBlMFM3ZnlZR0trbWR0d29TeEFnSE5OL0ZuY3Q3VytBOTBtN1V3VzdYV2pIMU1oMUZqK0pXb3YzCkYwZlVUUEhTaVhrK1RUMllxR0hlT2g3UytGNEQ0TUhKSEl6VGpVM1RsVGF6TjE5alk1c3pGUEF0Sm10VGZJbU1Nc0p1N0QwaEFEbkoKb1dqaVVJTXVzRG9yOHphZ3JDL2tiMkhDVVFrNVBvdFR1YnRuMnR4VHVYWlpOcDFENVNEZ1BUSmdoU0pSdDhjenU5MFZMNlI0cGdkNwpnVVkyQkliZGVUWEhsU3c3c0tNWE5lVnpIN1JjV2UvYTZoQmxlM3JRZjUrenRDbzNPM0NMbTF1NUs3ZnNzbEVTbDFNcFd0VHdFaERjClR3SzdFcEl2WXRRL2FVTjhEZGI4V0hVQmlKMVlGa3ZldXBEL1J3R0pCbXIyWDdLUWFyTUNwZ0tJdjdOSGZpcloxZnBvZURWTkFnTUIKQUFHalB6QTlNQThHQTFVZEV3RUIvd1FGTUFNQkFmOHdDd1lEVlIwUEJBUURBZ0VHTUIwR0ExVWREZ1FXQkJUd2oxazRBTFAxajVxVwpETlhyK251cUYrZ1RFakFOQmdrcWhraUc5dzBCQVFVRkFBT0NBZ0VBdnVSY1lrNGs5QXdJLy9EVERHamtrMGtpUDBRbmI3dHQzb05tCnpxak1EZnoxbWdibGR4U1I2NTFCZTVrcWhPWC8vQ0hCWGZEa0gxZTNkYW1oWHdJbS85Zkg5MDdlVC9qM0hFYkFlazlBTENJMThCbXgKMEd0bkxMQ280TUJBTnpYMmhGeGM0NjlDZVA2bnlRMVE2ZzJFZHZaUjc0TlR4bnIvRGxaSkxvOTYxZ3ptSjFUalRRcGdjbUxOa1FmVwpwYi9JbVd2dHhCbm1xMHdST01Wdk1lSnVTY2cvZG9BbUF5WXA0RGIyOWlCVDR4ZHdOQmVkWTJnZWErekRUWWE0RXpBdlhVWU5SMFBWCkc2cFpEcmxjalFaSXJYU0hYOGY4TVZSQkUrTEhJUTZlNEI0TjRjQjdRNFdReFlwWXhtVUtlRmZ5eGlNUEFka2dTOTRQKzVLRmRTcGMKYzQxdGV5V1J5dTVGcmdaTEFNelRzVmxRMmpxSU95bERSbDZYSzFUT1UyK05TdWVXK3I5eERrS0xmUDBvb05CSXl0ckVnVXk3b25PVApKc2pyRE5ZbWlMYkFKTSs3dlZ2cmRYM3BDSTZHTXl4NWR3bHBwWW44czNDUWgzYVAweUs3UXM2OWN3c2dKaXJRbXoxd0hpUnN6WWQyCnFSZVd0ODhOa3Z1T0dLbVlTZEdlL21CRWNpRzVHZTNDOVRIeE9VaUlrQ1IxVkJhdHp2VDRhUlJrT2Z1anVMcHdRTWNuSEwvRVZsUDYKWTJYUTh4d09GdlZyaGxoTkdOVGtEWTZsblZ1UjNIWWtVRC9HS3Z2WnQ1eTExdWJRMmVnWml4VnhTSzIzNnRoWmlOU1F2eGF6MmVtcwpXV0ZVeUJ5NnlzSEs0YmtnVEk4Nms0bWxvTXkvMC9aMXBIV1diVlk9Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0KCkUtVHVncmEgQ2VydGlmaWNhdGlvbiBBdXRob3JpdHkKPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQotLS0tLUJFR0lOIENFUlRJRklDQVRFLS0tLS0KTUlJR1N6Q0NCRE9nQXdJQkFnSUlhbWcrbkZHYnkxTXdEUVlKS29aSWh2Y05BUUVMQlFBd2diSXhDekFKQmdOVkJBWVRBbFJTTVE4dwpEUVlEVlFRSERBWkJibXRoY21FeFFEQStCZ05WQkFvTU4wVXRWSFhFbjNKaElFVkNSeUJDYVd4cHhaOXBiU0JVWld0dWIyeHZhbWxzClpYSnBJSFpsSUVocGVtMWxkR3hsY21rZ1FTN0ZuaTR4SmpBa0JnTlZCQXNNSFVVdFZIVm5jbUVnVTJWeWRHbG1hV3RoYzNsdmJpQk4KWlhKclpYcHBNU2d3SmdZRFZRUUREQjlGTFZSMVozSmhJRU5sY25ScFptbGpZWFJwYjI0Z1FYVjBhRzl5YVhSNU1CNFhEVEV6TURNdwpOVEV5TURrME9Gb1hEVEl6TURNd016RXlNRGswT0Zvd2diSXhDekFKQmdOVkJBWVRBbFJTTVE4d0RRWURWUVFIREFaQmJtdGhjbUV4ClFEQStCZ05WQkFvTU4wVXRWSFhFbjNKaElFVkNSeUJDYVd4cHhaOXBiU0JVWld0dWIyeHZhbWxzWlhKcElIWmxJRWhwZW0xbGRHeGwKY21rZ1FTN0ZuaTR4SmpBa0JnTlZCQXNNSFVVdFZIVm5jbUVnVTJWeWRHbG1hV3RoYzNsdmJpQk5aWEpyWlhwcE1TZ3dKZ1lEVlFRRApEQjlGTFZSMVozSmhJRU5sY25ScFptbGpZWFJwYjI0Z1FYVjBhRzl5YVhSNU1JSUNJakFOQmdrcWhraUc5dzBCQVFFRkFBT0NBZzhBCk1JSUNDZ0tDQWdFQTR2VS9rd1ZSSG9WaVZGNTZDL1VZQjRPdWZxOTg5OVNLYTZWalF6bTVTL2ZEeG1TSlBaUXVWSUJTT1RrSFMwdmQKaFFkMmg4eS9MNVZNekgyblBieEhENWh3K0l5RkhuU09rbTBiUU5HWkRidDFic2lwYTVyQWhER3Z5a1BMNnlzMDZJK1hhd0diMVE1SwpDS3Bia25TRlE5T0FycUdJVzY2ejZsN0xGcHAzUk1paDlsUm96dDZQbHl1NlcwQUNER1FYd0xXVHplSHhFMmJPREhudjBaRW9xMStnCkVsSXdjeG1PaitHTUI2TER1MHJ3Nmg4VnFPNGx6S1JHK0JzaTc3TU9RN29zSkxqRkxGelVIUGhkWkwzRGsxNG9wejhuOFk0ZTB5cFEKQmFOVjJjdm5PVlBBbUo2TVZHS0xKckQzZlkxODVNYWVaa0pWZ2tmbnNsaU5admNIZkM0MjVsQWNQOXRESk1XL2hrZDVzM2tjOTFyMApFK3hzK0QvaVdSK1Y3a0krdWEyb01vVkpsMGIrU3pHUFdzdXRkRWNmNlpHMzN5Z0VJcURVRDEzaWVVL3FiSVdHdmFpbXp1VDZ3K0d6CnJ0NDhVZTdMRTN3QmY0UU9YVkdVbmhNTXRpNmxUUGs1Y0Radmxzb3VERVJWeGNyNlhRS2ozOVprakZxekFRcXB0UXBIRi8vdmtVQXEKanFGR09qR1k1Ukg4ekx0SlZvcjh1ZEJobW05bGJPYkR5ejUxU2Y2UHArS0p4V2ZYblVZVFRqRjJPeVN6bmhGbGhxdC83eDNVK0x6bgpyRnBjdDFwSFhGWE9WYlFpY1Z0YkMvRFAzS0JoWk9xcDEyZ0tZNmZnRFQrZ3I5T3Ewbjd2VWFEbVVTdFZraFVYVTh1M1pnNW1UUGo1CmRVeVE1eEp3eDBVQ0F3RUFBYU5qTUdFd0hRWURWUjBPQkJZRUZDN2oyN0pKMEp4VWVWejZKeXIrekU3UzZFNVVNQThHQTFVZEV3RUIKL3dRRk1BTUJBZjh3SHdZRFZSMGpCQmd3Rm9BVUx1UGJza25RbkZSNVhQb25LdjdNVHRMb1RsUXdEZ1lEVlIwUEFRSC9CQVFEQWdFRwpNQTBHQ1NxR1NJYjNEUUVCQ3dVQUE0SUNBUUFGTnpyMFRiZEY0a1YxSkkrMmQxTG9ITmdRazJYejhsa0dwRDRlS2V4ZDBkQ3JmT0FLCmtFaDQ3VTZZQTVuK0tHQ1JIVEFkdUdOOHFPWTF0ZnJUWVhibTFnZEx5bW1hc29SNmQ1TkZGeFdmSk5DWUV4TC91NkF1L1U1TWgvak8KWEtxWUd3WGdBRVpLZ29DbE00c28zTzA0MDkvbFB1bisrMW5kWVlSUDBsU1dFMkVUUG8rQWFiNlRSN1UxUTlKYXV6MWM3N05DUjgwNwpWUk1Hc0FuYi9XUDJPb2dLbVc5KzRjNGJVMnBFWmlOUkNIdThXMUtpL1FZM09FQmhqMHFXdUpBMytHYkhlSkFBRlM2THJWRTFVd2VvCmEyaXUrVTQ4QnliTkNBVnd6RGsvZHIybDAyY21BWWFtVTlKZ08zeERmMVdLdkpVYXdTZzVUQjlEMHBIMGNsbUt1VmI4UDdTZDJuQ2MKZGxxTVExRHVqakJ5VGQvL1NmZkdxV2ZaYmF3Q0VlSTZGaVduV0FqTGIxTkJuRWc0UjJnejBkZkhqOVIwSWRUREJaQjYvODZXaUxFVgpLVjBqcTlCZ29SSlAzdlFYelRMbHliL0lRNjM5TG83eHIrTDBtUG9TSHlEWXdLY01oY1dROURzdGxpYXhMTDVNcSt1eDBvckoyM2dUCkR4NEpuVzJQQUo4QzJzSDZIM3A2Q2NSSzVvZ3FsNStKaS8wM1gxODZ6amhaaGt1dmNRdTAyUEp3VDU4eUUrT3dwMWZsMnRwRHk0UTAKOGlqRTZtMzBLdS9CYTNiYSszNjdoVHpTVThKTnZuSGhSZEg5STJjTkUzWDd6MlZuSXAydXNBblJDZjhkTkwvK0k1YzMwam42UFEwRwpDN1RiTzZPcmIxd2R0bjdvczRJMDdRWmNKQT09Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0KClQtVGVsZVNlYyBHbG9iYWxSb290IENsYXNzIDIKPT09PT09PT09PT09PT09PT09PT09PT09PT09PQotLS0tLUJFR0lOIENFUlRJRklDQVRFLS0tLS0KTUlJRHd6Q0NBcXVnQXdJQkFnSUJBVEFOQmdrcWhraUc5dzBCQVFzRkFEQ0JnakVMTUFrR0ExVUVCaE1DUkVVeEt6QXBCZ05WQkFvTQpJbFF0VTNsemRHVnRjeUJGYm5SbGNuQnlhWE5sSUZObGNuWnBZMlZ6SUVkdFlrZ3hIekFkQmdOVkJBc01GbFF0VTNsemRHVnRjeUJVCmNuVnpkQ0JEWlc1MFpYSXhKVEFqQmdOVkJBTU1IRlF0VkdWc1pWTmxZeUJIYkc5aVlXeFNiMjkwSUVOc1lYTnpJREl3SGhjTk1EZ3gKTURBeE1UQTBNREUwV2hjTk16TXhNREF4TWpNMU9UVTVXakNCZ2pFTE1Ba0dBMVVFQmhNQ1JFVXhLekFwQmdOVkJBb01JbFF0VTNsegpkR1Z0Y3lCRmJuUmxjbkJ5YVhObElGTmxjblpwWTJWeklFZHRZa2d4SHpBZEJnTlZCQXNNRmxRdFUzbHpkR1Z0Y3lCVWNuVnpkQ0JEClpXNTBaWEl4SlRBakJnTlZCQU1NSEZRdFZHVnNaVk5sWXlCSGJHOWlZV3hTYjI5MElFTnNZWE56SURJd2dnRWlNQTBHQ1NxR1NJYjMKRFFFQkFRVUFBNElCRHdBd2dnRUtBb0lCQVFDcVg5b2JYK2h6a2VYYVhQU2k1a2ZsODJoVllBVWRBcVN6bTFuekhvcXZOSzM4RGNMWgpTQm51YVkvSklQd2hxZ2NaN2JCY3JHWEhYKzBDZkh0OExSdld1cm1Bd2hpQ0ZvVDZackFJeGxRamdlVE51VWsvOWs5dU4wZ29PQS9GCnZ1ZG9jUDA1bDAzU3g1aVJVS3JFUkxNamZUbEg2VkppMWhLVFhyY3hsa0lGKzNhbkhxUDF3dnpwZXNWc3FYRlA2c3Q0dkdDdng5NzAKMmN1K2ZqT2xicFNEOERUNklhdnFqbktnUDZUZU1GdnZoazFxbFZ0RFJLZ1FGUnpsQVZmRm1QSG1CaWlScWlERnQxTW1VVU95Q3hHVgpXT0hBRDNiWndJMThnZk55Y0o1di9ocU8yVjgxeHJKdk5IeStTRS9pV2puWDJKMTRucCtHUGdOZUdZdEVvdFhIQWdNQkFBR2pRakJBCk1BOEdBMVVkRXdFQi93UUZNQU1CQWY4d0RnWURWUjBQQVFIL0JBUURBZ0VHTUIwR0ExVWREZ1FXQkJTL1dTQTJBSG1nb0NKcmpOWHkKWWRLNExNdUNTakFOQmdrcWhraUc5dzBCQVFzRkFBT0NBUUVBTVFPaVlRc2ZkT2h5TnNadCtVMmUraUtvNFlGV3o4MjduK3Fya1JrNApyNnA4RlUzenRxT05wZlNPOWtTcHArZ2hsYTArQUdJV2lQQUN1dnhoSStZem16QjZhelppZTYwRUk0UllaZUxiSzRybkpWTTNZbE5mCnZOb0JZaW1pcGlkeDVqb2lmc0Z2SFpWd0lFb0hOTi9xL3hXQTViclhldGhiZFh3RmVpbEhma0NvTVJOM3pVQTd0RkZIZWk0UjQwY1IKM3AxbTBJdlZWR2I2ZzFYcWZNSXBpUnZwYjdQTzRnV0V5UzgrZUlWaWJzbGZ3WGhqZEZqQVNCZ01tVG5ycE13YXRYbGFqUldjMkJRTgo5bm9IVjhjaWd3VXRQSnNsSmowWXM2bERmTWpJcTJTUERxTy9uQnVkTU52YTBCa3Vxanp4K3pPQWR1VE5yUmxQQlNlT0U2RnV3Zz09Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0KCkF0b3MgVHJ1c3RlZFJvb3QgMjAxMQo9PT09PT09PT09PT09PT09PT09PT0KLS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSURkekNDQWwrZ0F3SUJBZ0lJWERQTFlpeGZzekl3RFFZSktvWklodmNOQVFFTEJRQXdQREVlTUJ3R0ExVUVBd3dWUVhSdmN5QlUKY25WemRHVmtVbTl2ZENBeU1ERXhNUTB3Q3dZRFZRUUtEQVJCZEc5ek1Rc3dDUVlEVlFRR0V3SkVSVEFlRncweE1UQTNNRGN4TkRVNApNekJhRncwek1ERXlNekV5TXpVNU5UbGFNRHd4SGpBY0JnTlZCQU1NRlVGMGIzTWdWSEoxYzNSbFpGSnZiM1FnTWpBeE1URU5NQXNHCkExVUVDZ3dFUVhSdmN6RUxNQWtHQTFVRUJoTUNSRVV3Z2dFaU1BMEdDU3FHU0liM0RRRUJBUVVBQTRJQkR3QXdnZ0VLQW9JQkFRQ1YKaFR1WGJ5bzdManZQcHZNcE5iN1BHS3crcXRuNFRhQStHa2U1dkpyZjh2N01Qa2ZvZXBiQ0pJNDE5S2tNL0lMOWJjRnlZaWU5Nm12cgo1NHJNVkQ2UVVNK0ExSlg3NkxXQzFCVEZ0cWxWSlZmYnNWRDJzR0JrV1hwcHp3TzNidzIreWo1dmRITHFxakFxYzJLK1NaRmh5QkgrCkRnTXE5Mm9nM0FJVkRWNFZhdnpqZ3NHMXhaMWtDV3lqV1pnSEo4Y2JsaXRoZEhGc1EvSDNOWWtRNEo3c1ZhRTNJcUtIQkFVc1IzMjAKSExsaUtXWW95cmZoay9Xa2xBT1p1WENGdGVaSTZvMVEvTm5lekc4SER0MExjcDJBTUJZSGxUOG9EdjNGZFU5VDFuU2F0Q1F1amdLUgp6M2JGbXg1VmRKeDRJYkh3TGZFTG44TFZsaGdmOEZRaWVvd0hBZ01CQUFHamZUQjdNQjBHQTFVZERnUVdCQlNucFFheExLWUpZTzdSCmwrbHdycnc3R1d6YklUQVBCZ05WSFJNQkFmOEVCVEFEQVFIL01COEdBMVVkSXdRWU1CYUFGS2VsQnJFc3BnbGc3dEdYNlhDdXZEc1oKYk5zaE1CZ0dBMVVkSUFRUk1BOHdEUVlMS3dZQkJBR3dMUU1FQVFFd0RnWURWUjBQQVFIL0JBUURBZ0dHTUEwR0NTcUdTSWIzRFFFQgpDd1VBQTRJQkFRQW1kelRibEVpR0trR2RMRDRHa0dERWpLd0xWTGdmdVh2VEJ6bmsrajU3c2oxTzdaOGp2WmZ6YTF6djd2MUFwdCtoCms2RUtocXp2SU5CNUFiMTQ5eG5ZSkRFMEJBR211aFdhd3lmYzJFOFB6QmhqLzVrUERwRnJkUmJoSWZ6WUpzZEh0NmJQV0hKeGZycmgKVFpWSE84bXZiYUcwd2V5SjlyUVBPTFhpWk53bHo2YmI2NXBjbWFIRkNONzk1dHJWMWxwRkRNUzN3clVVNzdRUi93NFZ0ZlgxMjhhOQo2MXFuOEZZaXFUeGxWTVlWcUwyR25zMkRsbWg2Y1lHSjRRdmg2aEViYUFqTWFaN3Nua0dlUkRJbWV1S0hDbkU5NitSYXBOTGJ4YzNHCjNtQi91Zk5QUkpMdktyY1lQcWNaMlF0OXNUZEJRckM2WUIzeS9na1JzUENIZTZlZAotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCgpRdW9WYWRpcyBSb290IENBIDEgRzMKPT09PT09PT09PT09PT09PT09PT09Ci0tLS0tQkVHSU4gQ0VSVElGSUNBVEUtLS0tLQpNSUlGWURDQ0EwaWdBd0lCQWdJVWVGaGZMcTBzR1V2ak53YzFOQk1vdFpiVVpaTXdEUVlKS29aSWh2Y05BUUVMQlFBd1NERUxNQWtHCkExVUVCaE1DUWsweEdUQVhCZ05WQkFvVEVGRjFiMVpoWkdseklFeHBiV2wwWldReEhqQWNCZ05WQkFNVEZWRjFiMVpoWkdseklGSnYKYjNRZ1EwRWdNU0JITXpBZUZ3MHhNakF4TVRJeE56STNORFJhRncwME1qQXhNVEl4TnpJM05EUmFNRWd4Q3pBSkJnTlZCQVlUQWtKTgpNUmt3RndZRFZRUUtFeEJSZFc5V1lXUnBjeUJNYVcxcGRHVmtNUjR3SEFZRFZRUURFeFZSZFc5V1lXUnBjeUJTYjI5MElFTkJJREVnClJ6TXdnZ0lpTUEwR0NTcUdTSWIzRFFFQkFRVUFBNElDRHdBd2dnSUtBb0lDQVFDZ3ZsQVFqdW55YkVDMEJKeUZ1VEhLM0Mza0Vha0UKUEJ0VndlZFlNQjBrdE1QdmhkNk1MT0hCUGQrQzVrK3RSNGRzN0Z0SndVclZ1NC9zaDZ4L2dwcUc3RDBEbVZJQjBqV2VyTnJ3VThsbQpQTlNzQWdIYUpOTTdxQUpHcjZRYzQvaHpXSGEzOWc2UURiWHd6OHo2K2NaTTVjT0dNQXFORjM0MTY4WGZ1dzZjd0kySDQ0ZzRoV2Y2ClBzZXI0Qk9jQlJpWXo1UDFzWkswL0NQVHo5WEVKMG5nbmp5YkNLT0xYU29oNFB3NXFsUGFmWDdQR2dsVHZGMEZCTStoU28rTGRvSU4Kb2ZqU3h4UjNXNUEyQjRHYlBnYjZVbDVqeGFZQS9xWHBVaHRTdFpJNWNnTUpZcjJ3WUJadXB0MGx3Z05tM2ZNRTBVRGlUb3VHOUcvbApnNkFuaEY0RXdmV1F2VEE5eE8rb2FidzRtNlNrbHRGaTJtbkFBWmF1eThSUk5Pb01xdjhoamxtUFNsemtZWnFuMHVrcWVJMVJQVG9WCjdxSlpqcWxjM3NYNWtDTGxpRVZ4M1pHWmJIcWZQVDJZZkY3MnZoWm9vRjZ1Q3lQOFdnK3FJbll0eWFFUUhlVFRSQ09RaUovR0t1YlgKOVpxeldCNHZNSWtJRzFTaXRaZ2o3QWgzSEpWZFlkSExpWnhmb2txUm11OGhxa2tXQ0tpOVlTZ3h5WFN0aGZiWnhiR0wwZVVRTWsxZgppeUE2UEVrZk00VlpEZHZMQ1hWRGFYUDdhM0Y5OE4vRVRIM0dveTdJbFhuTGM2S09UazBrKzE3a0JMNXlHNlluTFVsYW1YclhYQWtnCnQzK1V1VS94RFJ4ZWlFSWJFYmZua2R1ZWJQUnEzNHdHbUFPdHpDanZwVWZ6VXdJREFRQUJvMEl3UURBUEJnTlZIUk1CQWY4RUJUQUQKQVFIL01BNEdBMVVkRHdFQi93UUVBd0lCQmpBZEJnTlZIUTRFRmdRVW81Zlc4MTZpRU9HclJaODhGMlE4N2dGd25Nd3dEUVlKS29aSQpodmNOQVFFTEJRQURnZ0lCQUJqNlczWDhQbnJIWDNmSHl0L1BYOE1TeEVCZDFES3F1R3JYMVJVVlJwZ2pwZWFRV3hpWlRPT3RRcU9DCk1UYUl6ZW43eEFTV1NJc0J4NDBCejFzekJwWkdablFkVCszQnRybTBEV0hNWTM3WExuZU1saHdxSTJocmhWZDJjRE1UL3VGUHBpTjMKR1BvYWpPaTlaY25QUC9USkY5enJ4N3pBQkM0dFJpOXBac01iai83c1B0UEtsTDkyQ2lVTnFYc0NIS25RTzE4THdJRTZQV1RodjZjdApUcjFOeE5ncHhpSVkwTVdzY2dLQ1A2bzZvam9pbHpIZENHUERkUlM1WUNndFcyamdGcWxtZ2lOUjlldFQyREdiZSttM25VdnJpQmJQCitWMDRpa2t3aiszeDZ4bjBkeG94R0UxblZHd3ZiMlg1Mnozc0lleGU5UFNMeW1CbFZORnhaUFQ1cHFPQk16WXpjZkNrZUY5T3JZTWgKM2pSSmplaFpySjN5ZGxvMjhoUDByK0FKeDJFcWJQZmduYTY3aGtvb2J5N3V0SG5Oa0RQRHMzYjY5ZkJzblFHUStwNlE5cHh5ejBmYQp3eC9rTlNCVDhsVFIzMkdEcGdMaUpUamVoVEl0WG5PUVVsMUN4TTQ5UytINUdZUWQxYUpRekVIN1FSVER2ZGJKV3FOalpnS0F2UVU2Ck8wZWM3QUFtVFBXSVViK29JMzhZQjdBTDdZc21vV1RUWVVyclhKL2VzNjluQTdNZjNXMWRhV2hwcTE0NjdIeHB2TWM3aFU2ZUZibTAKRlUvRGxYcFkxOGxzNld5NTh5bGpYclFzOEMwOTdWcGw0S2xiUU1KSW1ZRnRuaDhHS2p3U3RJc1BtNklrOEthTjFucmdTN1prbG1PVgpoTUpLelJ3dUpJY3pZT1hECi0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0KClF1b1ZhZGlzIFJvb3QgQ0EgMiBHMwo9PT09PT09PT09PT09PT09PT09PT0KLS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUZZRENDQTBpZ0F3SUJBZ0lVUkZjMEpGdUJpWnMxOHM2NEt6dGJweWJ3ZFNnd0RRWUpLb1pJaHZjTkFRRUxCUUF3U0RFTE1Ba0cKQTFVRUJoTUNRazB4R1RBWEJnTlZCQW9URUZGMWIxWmhaR2x6SUV4cGJXbDBaV1F4SGpBY0JnTlZCQU1URlZGMWIxWmhaR2x6SUZKdgpiM1FnUTBFZ01pQkhNekFlRncweE1qQXhNVEl4T0RVNU16SmFGdzAwTWpBeE1USXhPRFU1TXpKYU1FZ3hDekFKQmdOVkJBWVRBa0pOCk1Sa3dGd1lEVlFRS0V4QlJkVzlXWVdScGN5Qk1hVzFwZEdWa01SNHdIQVlEVlFRREV4VlJkVzlXWVdScGN5QlNiMjkwSUVOQklESWcKUnpNd2dnSWlNQTBHQ1NxR1NJYjNEUUVCQVFVQUE0SUNEd0F3Z2dJS0FvSUNBUUNocmlXeUFSamNWNGcvUnV2NXIrTHJJM0hpbXRGaApaaUZmcXE4blVlVnVHeGJVTFgxUXNGTjN2WGc2WU9Ka0FwdDhocHZXR282dC94OFZmOVdWSGhMTDVoU0VCTUhmTnJNV240cmp5ZHVZCk5NN1lNeGNvUnZ5bnlmRFN0TlZOQ1hKSitmS0g0Nm5hZmFGOWE3STZKYWx0VWtTcytMNXUrOXltYzVHUVlhWURGQ0R5NTRlamlLMnQKb0l6L3Bnc2xVaVhuRmdIVnk3ZzFnUXlqTy9EaDRmeGFYYzZBY1czNFNhcytPN3E0MTRBQis2WHJXN1BGWG1BcU1hQ3ZOK2dnT3ArbwpNaXdNekFrZDA1Nk9YYnhNbU83RkdtaDc3Rk9tNlJRMW85L05nSjhNU1BzYzlQRy9Tcmo2MVl4eFNzY2ZyZjVCbXJPRFhmS0VWdStsClYwUE9LYTJNcTFXL3hQdGJBZDBqSWFGWUFJN0QwR29UN1JQakVpdUEzR2ZtbGJMTkhpSnVLdmhCMVBMS0ZBZU5pbFVTeG1uMXVJWm8KTDFOZXNOS3FJY0dZNWpEaloxWEhtMjZzR2FoVnBrVUcwQ002Mit0bFhTb1JFZkE3VDhwdDlEVEVjZVQvQUZyMlhLNGpZSVZ6OGVRUQpzU1d1MVpLN0U4RU00RG5hdERsWHRhczFxbkloTzRNMTV6SGZlaUZ1dURJSWZSMHlrUlZLWW5MUDQzZWh2TlVSRzNZQlp3amdRUXZECjZ4VnUrS1FaMmFLcnIrSW5VbFlyQW9vc0ZDVDV2MElDdnliSXhvL2diamg5VXkzbDdaaXpsV05vZi9rMTlOK0l4V0Exa3NCOGFSeGgKbFJiUTY5NExyejRFRUVWbFdGQTRyMGp5V2JZVzhqd05rQUxHY0M0QnJUd1Yxd0lEQVFBQm8wSXdRREFQQmdOVkhSTUJBZjhFQlRBRApBUUgvTUE0R0ExVWREd0VCL3dRRUF3SUJCakFkQmdOVkhRNEVGZ1FVN2VkdmRscS9ZT3hKVzhhbGQ3dHlGbkdieEQwd0RRWUpLb1pJCmh2Y05BUUVMQlFBRGdnSUJBSkhmZ0Q5RENYNXh3dmZyczRpUDRWR3l2RDExK1NoZHlMeVptM3RkcXVYSzRRcjM2TExUbjkxbk1YNjYKQWFySGFrRTdrTlFJWExKZ2FwRHd5TTREWXZtTDdmdHVLdHdHVFR3cEQ0a1dpbGhNU0Evb2hHSHFQSEttZCtSQ3JvaWpRMWg1ZnE3SwpwVk1OcVQxd3ZTQVpZYVJzT1B4RE11SEJSLy80N1BFUklqS1duTUwyVzJtV2V5QU1RMEdhVy9aWkdZamVWWWczVVF0NFhBb2VvMEw5Cng1MklEOER5ZUFJa1ZKT3ZpWWVJeVVxQUhlclFiajVoTGphN05RNG5sdjFtTkR0aGNuUHhGbHhIQmxSSkFIcFlFckFLNzRYOXNiZ3oKZFdxVEhCTG1ZRjV2SFgvSkh5UExoR0dmSG9KRStWK3RZbFVrbWxLWTdWSG5vWDZYT3VZdkh4SGFVNEFzaFo2ck5SRGJJbDlxeFY2WApVL0l5QWdrd28xandEUUhWY3NheGZHbDd3L1UyUmN4aGJsNU1sTVZlcnVnT1hvdS85ODNnN2FFT0d6UHVWQmorRDc3dmZvUnJRK053Cm1OdGRkYklOV1FlRkZTTTUxdkhmcVNZUDFrakhzNllpOVRNM1dwVkhuM3U2R0JWdi85WVVaSU5KMGdwbklkc1BOV05nS0NManNaV0QKellXbTNTOFA1MmRTYnJzdmhYejFTblBueFQ3QXZTRVNCVC84dHdOSkFsdklKZWJpVkRqMWVZZU1IVk95VG9WN0JqakhMUGo0c0hLTgpKZVYzVXZRREhFaW1VRitJSURCdThvSkRxejJYaE9kVCt5SEJUdzhpbW9hNFdTcjJSejBaaUMzb2hlR2U3SVVJYXJGc05Na2Q3RWdyCk8zanRac1NPZVdtRDNuK00KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQoKUXVvVmFkaXMgUm9vdCBDQSAzIEczCj09PT09PT09PT09PT09PT09PT09PQotLS0tLUJFR0lOIENFUlRJRklDQVRFLS0tLS0KTUlJRllEQ0NBMGlnQXdJQkFnSVVMdldiQWlpbjIzci8xYU9wN3IwRG9NOFNhaDB3RFFZSktvWklodmNOQVFFTEJRQXdTREVMTUFrRwpBMVVFQmhNQ1FrMHhHVEFYQmdOVkJBb1RFRkYxYjFaaFpHbHpJRXhwYldsMFpXUXhIakFjQmdOVkJBTVRGVkYxYjFaaFpHbHpJRkp2CmIzUWdRMEVnTXlCSE16QWVGdzB4TWpBeE1USXlNREkyTXpKYUZ3MDBNakF4TVRJeU1ESTJNekphTUVneEN6QUpCZ05WQkFZVEFrSk4KTVJrd0Z3WURWUVFLRXhCUmRXOVdZV1JwY3lCTWFXMXBkR1ZrTVI0d0hBWURWUVFERXhWUmRXOVdZV1JwY3lCU2IyOTBJRU5CSURNZwpSek13Z2dJaU1BMEdDU3FHU0liM0RRRUJBUVVBQTRJQ0R3QXdnZ0lLQW9JQ0FRQ3p5dzRRWjQ3cUZKZW5NaW9LVmpaL2FFekhzMjg2Ckl4U1IveGwvcGNxczdyTjJuWHJwaXh1cmF6SGIrZ3RUVEsvRnBScDVQSXBNLzZ6ZkpkNU8yWUl5QzBUZXl0dU1yS051Rm9NN3BtUkwKTW9uN0ZoWTRmdXRENHROMFNzSmlDbk1LM1VtelY5S3dDb1dkY1R6ZW84dkFNdk1CT1NCREd6WFJVN094N3NXVGFZSStGclVvUnFIZQo2b2tKN1VPNEJVYUtodlZaUjc0YmJ3RWhFTG45cWRJb3loQTVDY29UTnMrY3JhMUFkSGtyQWo4MC8vb2dhWDNUN21IMXVyUG5NTkEzCkk0WnlZVVVwU0Zsb2IzZW1Mb0crQjAxdnI4N0VSUk9SRkhBR2p4K2YrSWRwc1E3dnc0a1o2K29jWWZ4NmJJcmMxZ01MbmlhNkV0M1UKVkRtckpxTXo2bldCMmkzTkQwL2tBOUh2RlpjYmE1REZBcENUWmdJaHNVZmVpNXBLZ0xsVmo3V2lMOERXTTJmYWZzU250QVJFNjBmNwo1bGk1OXd6d2V5dXh3SEFwdzBCaUxUdElhZHdqUEVqcmV3bDVxVzNhcURDWXo0QnlBNGltVzBhdWNubDhDQU1oWmE2MzRSeWxzU3FpCk1kNW1CUGZBZE9oeDN2ODlXY3lXSmhLTGhaVlhHcXRyZFF0RVBSRW9QSHRodCtLUFowL2w3RHhNWUlCcFZ6Z2VBVnVOVmVqSDM4RE0KZHlNMFNYVjg5cGdSNnkzZTdVRXVGQVVDZitEK0lPczE1eEdzSXM1WFBkN0pNRzBRQTRYTjhmK01GclhCc2o2SWJHQi9rRStWOS9ZdApyUUU1QndUNmRZQjl2MGxRN2UvSnhId2M2NEIrMjdiUTNSUCt5ZE9jMTdLWHFRSURBUUFCbzBJd1FEQVBCZ05WSFJNQkFmOEVCVEFECkFRSC9NQTRHQTFVZER3RUIvd1FFQXdJQkJqQWRCZ05WSFE0RUZnUVV4aGZRdktqcUFrUHlHd2FaWFN1UUlMblhuT1F3RFFZSktvWkkKaHZjTkFRRUxCUUFEZ2dJQkFEUmgyVmExRW9kVlRkMmpOVEZHdTZRSGNyeGZZV0xvcGZzTE43RTh0clA2S1oxL0F2V2t5YWlUdDNweApLR21QYytGU2tOclZ2anJsdDNacVZvQWgzMTNtNlRxZTVUNzJvbW5IS2dxd0dFZmNJSEI5VXFNK1dYekJ1c25JRlVCaHluTFdjS3pTCnQvQWM1SVlwOE03dmFHUFF0U0NLRldHYWZvYVl0TW5DZHZ2TXVqQVd6S05oeG5RVDVXdnZveFhxQS80VGkyVGswOEhTNklUN1NkRVEKVFhsbTY2cjk5STB4SG5BVXJkemVaeE5NZ1JWaHZMZlprWGR4R1lGZ3UvQllwYldjQy9lUElsVW53RXNCYlR1WkRkUWRtMk5uTDlEdQpEY3BtdkpSUHBxM3QvTzVqckZjL1pTWFBzb2FQMEFqL3VIWVVidDdsSit5cmVMVlR1YlkvNkNENTBxaStZVWJLaDR5RTgvbnhvR2liCkloNkJKcHNRQkpGeHdBWWYzS0RUdVZhbjQ1Z3RmNE9kMzR3cm5ES09NcFR3QVR3aUtwOUR3aTdEbURrSE9IdjhYZ0JDSC9NeUpubUQKaFBibDhNRlJFc0FMSGdRakRGU2xUQzlKeFVyUnRtNWdEV3Y4YTR1RkpHUzNpUTZySlVkYlBNOStTYjNINlFyRzJ2ZCtEaGNJMDBpWAowSEdTOEE4NVBqUnFISDNZOGlLdXUybjBNN1NtU0ZYUkR3NG02T3kyQ3kybmhUWE4vVm5JbjlITlBsb3BOTGs5aE02eFpkUlprWkZXCmRTSEJkNTc1ZXVGZ25kT3RCQmowZk90ZWs0OVRTaUlwK0VnclBrMkdyRnQveXdhWldXRFlXR1dWalVUUjkzOStKMzk5cm9EMUIweTIKUHB4eFZKa0VTLzFZK1pqMAotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCgpEaWdpQ2VydCBBc3N1cmVkIElEIFJvb3QgRzIKPT09PT09PT09PT09PT09PT09PT09PT09PT09Ci0tLS0tQkVHSU4gQ0VSVElGSUNBVEUtLS0tLQpNSUlEbGpDQ0FuNmdBd0lCQWdJUUM1TWNPdFk1Witwbkk3L0RyNXIwU3pBTkJna3Foa2lHOXcwQkFRc0ZBREJsTVFzd0NRWURWUVFHCkV3SlZVekVWTUJNR0ExVUVDaE1NUkdsbmFVTmxjblFnU1c1ak1Sa3dGd1lEVlFRTEV4QjNkM2N1WkdsbmFXTmxjblF1WTI5dE1TUXcKSWdZRFZRUURFeHRFYVdkcFEyVnlkQ0JCYzNOMWNtVmtJRWxFSUZKdmIzUWdSekl3SGhjTk1UTXdPREF4TVRJd01EQXdXaGNOTXpndwpNVEUxTVRJd01EQXdXakJsTVFzd0NRWURWUVFHRXdKVlV6RVZNQk1HQTFVRUNoTU1SR2xuYVVObGNuUWdTVzVqTVJrd0Z3WURWUVFMCkV4QjNkM2N1WkdsbmFXTmxjblF1WTI5dE1TUXdJZ1lEVlFRREV4dEVhV2RwUTJWeWRDQkJjM04xY21Wa0lFbEVJRkp2YjNRZ1J6SXcKZ2dFaU1BMEdDU3FHU0liM0RRRUJBUVVBQTRJQkR3QXdnZ0VLQW9JQkFRRFo1eWd2VWo4MmNrbUlrelR6K0dvZU1WU0FuNjFVUWJWSAozNWFvMUsrQUxia0t6M1g5aWFWOUpQcmpJZ3dydkpVWEN6Ty9HVTFCQnBBQXZReE5FUDRIdGVjY2JpSlZNV1dYdmRNWDBoNWk4OXZxCmJGQ01QNFFNbHMrM3l3UGd5bTJoRkV3YmlkM3RBTEJTZksrUmJMRTRFOUhwRWdqQUFMQWNLeEhhZDNBMm02N09lWWZjZ25EbUNYUncKVldtdm8yaWZ2OTIyZWJQeW5YQXBWZlNyLzVWaDg4bEFieDNSdnBPNzA0Z3F1NTIvY2xwV2NUcy8xUFBSQ3Y0bzc2UHUyWm12QTlPUApZTGZ5a3FHeHZZbUpIekROdzZZdVlqT3VGZ0ozUkZybmdRbzhwMFF1ZWJnL0JMeGNvSWZoRzY5UmpzM3NMUHI0L20zd09ueXFpK1JuCmxUR05BZ01CQUFHalFqQkFNQThHQTFVZEV3RUIvd1FGTUFNQkFmOHdEZ1lEVlIwUEFRSC9CQVFEQWdHR01CMEdBMVVkRGdRV0JCVE8KdzBxNW1WWHl1TnRndjZsK3ZWYTFsemFuMWpBTkJna3Foa2lHOXcwQkFRc0ZBQU9DQVFFQXlxVlZqT1BJUVc1cEo2ZDFFZTg4aGpadgowcDNHZURnZGFaYWlrbWt1T0d5YmZRVFVpYVd4TVRlS3lTSE1xMnpOaXh5YTFyOUkwakptd1lyQTh5ODY3OERqMUpHRzBWRGpBOXR6CmQyOUtPVlB0M2liSHRYMnZLMExSZFdMalNpc0N4MUJMNEduaWxtd09SR1lRUkkrdEJldjRlYXltRytnM05KMVR5V0dxb2xLdlNuQVcKaHNJNnlMRVRjRGJZeis3MENqVFZXMHo5QjV5aXV0a0JjbHp6VGNIZERyRWNEY1JqdnEzMEZQdUo3S0pCRGt6TXlGZEEwRzREcXMwTQpqb21abVd6d1BEQ3ZPTjl2dktPK0tTQW5xM1QvRXlKNDNwZFNWUjZEdFZRZ0ErNnV3RTlXM2pmTXczK3FCQ2U3MDNlNFl0c1hmSndvCkloTnpiTThtOVlvcDV3PT0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQoKRGlnaUNlcnQgQXNzdXJlZCBJRCBSb290IEczCj09PT09PT09PT09PT09PT09PT09PT09PT09PQotLS0tLUJFR0lOIENFUlRJRklDQVRFLS0tLS0KTUlJQ1JqQ0NBYzJnQXdJQkFnSVFDNkZhK2gzZm9MVkpSSy9OSktCczdEQUtCZ2dxaGtqT1BRUURBekJsTVFzd0NRWURWUVFHRXdKVgpVekVWTUJNR0ExVUVDaE1NUkdsbmFVTmxjblFnU1c1ak1Sa3dGd1lEVlFRTEV4QjNkM2N1WkdsbmFXTmxjblF1WTI5dE1TUXdJZ1lEClZRUURFeHRFYVdkcFEyVnlkQ0JCYzNOMWNtVmtJRWxFSUZKdmIzUWdSek13SGhjTk1UTXdPREF4TVRJd01EQXdXaGNOTXpnd01URTEKTVRJd01EQXdXakJsTVFzd0NRWURWUVFHRXdKVlV6RVZNQk1HQTFVRUNoTU1SR2xuYVVObGNuUWdTVzVqTVJrd0Z3WURWUVFMRXhCMwpkM2N1WkdsbmFXTmxjblF1WTI5dE1TUXdJZ1lEVlFRREV4dEVhV2RwUTJWeWRDQkJjM04xY21Wa0lFbEVJRkp2YjNRZ1J6TXdkakFRCkJnY3Foa2pPUFFJQkJnVXJnUVFBSWdOaUFBUVo1N3lzUkdYdHpiZy9XUHVOc1ZlcFJDMEZGZkx2Qy84UWRKKzFZbEpmWm40ZjVkd2IKUlhrTHpNWlRDcDJOWFFMWnFWbmVBbHIybFNvT2pUaEtpa25Hdk1ZRE9BZGZWZHArQ1c3aWYxN1FSU0FQV1hZUTFxQWs4QzNlTnZKcwpLVG1qUWpCQU1BOEdBMVVkRXdFQi93UUZNQU1CQWY4d0RnWURWUjBQQVFIL0JBUURBZ0dHTUIwR0ExVWREZ1FXQkJUTDBMMnA0WmdGClVhRk5ONktEZWM2TkhTcmtoREFLQmdncWhrak9QUVFEQXdObkFEQmtBakFscElGRkFtc1NTM1YwVDhnajQzRHlkWExlZklud3o1RnkKWVo1ZUVKSlpWcm1EeHhEbk9PbFlKalo5MWVRMGhqa0NNSHcyVS9BdzVXSmpPcG5pdHFNN216VDZIdG9Ra25GZWtST24zYVJ1a3N3eQoxdlVoWnNjdjZwWmphbVZGa3BVQnRBPT0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQoKRGlnaUNlcnQgR2xvYmFsIFJvb3QgRzIKPT09PT09PT09PT09PT09PT09PT09PT0KLS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSURqakNDQW5hZ0F3SUJBZ0lRQXpyeDVxY1JxYUM3S0dTeEhRbjY1VEFOQmdrcWhraUc5dzBCQVFzRkFEQmhNUXN3Q1FZRFZRUUcKRXdKVlV6RVZNQk1HQTFVRUNoTU1SR2xuYVVObGNuUWdTVzVqTVJrd0Z3WURWUVFMRXhCM2QzY3VaR2xuYVdObGNuUXVZMjl0TVNBdwpIZ1lEVlFRREV4ZEVhV2RwUTJWeWRDQkhiRzlpWVd3Z1VtOXZkQ0JITWpBZUZ3MHhNekE0TURFeE1qQXdNREJhRncwek9EQXhNVFV4Ck1qQXdNREJhTUdFeEN6QUpCZ05WQkFZVEFsVlRNUlV3RXdZRFZRUUtFd3hFYVdkcFEyVnlkQ0JKYm1NeEdUQVhCZ05WQkFzVEVIZDMKZHk1a2FXZHBZMlZ5ZEM1amIyMHhJREFlQmdOVkJBTVRGMFJwWjJsRFpYSjBJRWRzYjJKaGJDQlNiMjkwSUVjeU1JSUJJakFOQmdrcQpoa2lHOXcwQkFRRUZBQU9DQVE4QU1JSUJDZ0tDQVFFQXV6Zk5OTng3YThteWFKQ3RTblgvUnJvaENnaU45UmxVeWZ1STIvT3U4anFKCmtUeDY1cXNHR212UHJDM29YZ2trUkxwaW1uN1dvNmgrNEZSMUlBV3NVTGVjWXhwc01OemFIeG14MXg3ZS9kZmd5NVNETjY3c0gwTk8KM1hzczByMHVwUy9rcWJpdE90U1pwTFlsNlp0ckFHQ1NZUDlQSVVrWTkyZVFxMkVHbkkveXV1bTA2Wkl5YTdYelYraGRHODJNSGF1VgpCSlZKOHpVdGx1TkpiZDEzNC90SlM3U3NWUWVwajVXenRDTzdURzFGOFBhcHNwVXd0UDFNVll3blNsY1VmSUtkelhPUzB4WktCZ3lNClVOR1BIZ20rRjZIbUljcjlnK1VRdklPbENzUm5LUFp6RkJROVJuYkRoeFNKSVRSTnJ3OUZES1pKb2JxN25NV3hNNE1waFFJREFRQUIKbzBJd1FEQVBCZ05WSFJNQkFmOEVCVEFEQVFIL01BNEdBMVVkRHdFQi93UUVBd0lCaGpBZEJnTlZIUTRFRmdRVVRpSlVJQmlWNXVOdQo1Zy82K3JrUzdRWVhqemt3RFFZSktvWklodmNOQVFFTEJRQURnZ0VCQUdCbktKUnZEa2hqNnpIZDZtY1kxWWw5UE1XTFNuL3B2dHNyCkY5K3dYM04zS2pJVE9ZRm5Rb1FqOGtWbk5leUl2L2lQc0dFTU5LU3VJRXlFeHR2NE5lRjIyZCttUXJ2SFJBaUdmelowSkZyYWJBMFUKV1RXOThrbmR0aC9Kc3cxSEtqMlpMN3RjdTdYVUlPR1pYMU5HRmR0b20vRHpNTlUrTWVLTmhKN2ppdHJhbGo0MUU2VmY4UGx3VUhCSApRUkZYR1U3QWo2NEd4SlVURnk4YkpaOTE4ckdPbWFGdkU3RkJjZjZJS3NoUEVDQlYxL01VUmVYZ1JQVHFoNVV5a3c3K1UwYjZMSjMvCml5SzVTOWtKUmFUZXBMaWFXTjBiZlZLZmpsbERpSUdrbmliVmI2M2REY1kzZmUwRGtodmxkMTkyN2p5TnhGMVdXNkxaWm02ek5UZmwKTXJZPQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCgpEaWdpQ2VydCBHbG9iYWwgUm9vdCBHMwo9PT09PT09PT09PT09PT09PT09PT09PQotLS0tLUJFR0lOIENFUlRJRklDQVRFLS0tLS0KTUlJQ1B6Q0NBY1dnQXdJQkFnSVFCVlZXdlBKZXBEVTF3NlFQMWF0RmNqQUtCZ2dxaGtqT1BRUURBekJoTVFzd0NRWURWUVFHRXdKVgpVekVWTUJNR0ExVUVDaE1NUkdsbmFVTmxjblFnU1c1ak1Sa3dGd1lEVlFRTEV4QjNkM2N1WkdsbmFXTmxjblF1WTI5dE1TQXdIZ1lEClZRUURFeGRFYVdkcFEyVnlkQ0JIYkc5aVlXd2dVbTl2ZENCSE16QWVGdzB4TXpBNE1ERXhNakF3TURCYUZ3MHpPREF4TVRVeE1qQXcKTURCYU1HRXhDekFKQmdOVkJBWVRBbFZUTVJVd0V3WURWUVFLRXd4RWFXZHBRMlZ5ZENCSmJtTXhHVEFYQmdOVkJBc1RFSGQzZHk1awphV2RwWTJWeWRDNWpiMjB4SURBZUJnTlZCQU1URjBScFoybERaWEowSUVkc2IySmhiQ0JTYjI5MElFY3pNSFl3RUFZSEtvWkl6ajBDCkFRWUZLNEVFQUNJRFlnQUUzYWZadTRxNEMvc0xmeUhTOEw2K2MvTXpYUnE4Tk9yZXhwdTgwSlgyOE16UUM3cGhXMUZHZnA0dG4rNk8KWXd3WDdBZHc5YytFTGtDRG5PZy9RVzA3cmRPa0ZGazJlSjBEUSs0UUUyeHkzcTZJcDZGcnRVUE9aOXdqL3dNY28rSStvMEl3UURBUApCZ05WSFJNQkFmOEVCVEFEQVFIL01BNEdBMVVkRHdFQi93UUVBd0lCaGpBZEJnTlZIUTRFRmdRVXM5dElwUG1oeGRpdU5rSE1FV05wCllpbThTOFl3Q2dZSUtvWkl6ajBFQXdNRGFBQXdaUUl4QUsyODhtdy9Fa3JSTFRuRENnbVhjL1NJTm95SUo3dm1pSTFRaGFkaitaNHkKM21hVEQvSE1zUW1QM1d5cittdC9vQUl3T1daYndtU051SjVRM0tqVlNhTHR4OXpSU1g4WEFiaklobzlPaklncnFKcXBpc1hSQUwzNApWT0thNVZ0OHN5Y1gKLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQoKRGlnaUNlcnQgVHJ1c3RlZCBSb290IEc0Cj09PT09PT09PT09PT09PT09PT09PT09PQotLS0tLUJFR0lOIENFUlRJRklDQVRFLS0tLS0KTUlJRmtEQ0NBM2lnQXdJQkFnSVFCWnNiVjU2T0lUTGlPUWU5cDNkMVhEQU5CZ2txaGtpRzl3MEJBUXdGQURCaU1Rc3dDUVlEVlFRRwpFd0pWVXpFVk1CTUdBMVVFQ2hNTVJHbG5hVU5sY25RZ1NXNWpNUmt3RndZRFZRUUxFeEIzZDNjdVpHbG5hV05sY25RdVkyOXRNU0V3Ckh3WURWUVFERXhoRWFXZHBRMlZ5ZENCVWNuVnpkR1ZrSUZKdmIzUWdSelF3SGhjTk1UTXdPREF4TVRJd01EQXdXaGNOTXpnd01URTEKTVRJd01EQXdXakJpTVFzd0NRWURWUVFHRXdKVlV6RVZNQk1HQTFVRUNoTU1SR2xuYVVObGNuUWdTVzVqTVJrd0Z3WURWUVFMRXhCMwpkM2N1WkdsbmFXTmxjblF1WTI5dE1TRXdId1lEVlFRREV4aEVhV2RwUTJWeWRDQlVjblZ6ZEdWa0lGSnZiM1FnUnpRd2dnSWlNQTBHCkNTcUdTSWIzRFFFQkFRVUFBNElDRHdBd2dnSUtBb0lDQVFDLzVwQnphTjY3NUYxS1BEQWlNR2t6N01LbkpTN0pJVDN5aXRoWnd1RXAKcHoxWXEzYWF6YTU3RzRRTnhEQWY4eHVrT0JiclZzYVhiUjJyc25ueXloSFM1Ri9XQlR4U0QxSWZ4cDRWcFg2K242bFhGbGxWY3E5bwprM0RDc3JwMW1XcHpNcFRSRUVRUUx0K0M4d2VFNW5RN2JYSGlMUXdiN2lEVnlTQWRZeWt0enV4ZVRzaVQrQ0ZobXpUckJjWmU3RnNhCnZPdkp6ODJzTkVCZnNYcG03bmZJU0tobVYxZWZWRmlPREN1M1Q2Y3cyVmJ1eW50ZDQ2M0pUMTdsTmVjeHk5cVRYdHlPajREYXRwR1kKUUpCNXczakh0ckhFdFdvWU9BTVFqZGpVTjZRdUJYMkk5WUkrRUpGd3ExV0NRVExYMndSekttNlJBWHdoVE5TOHJoc0RkVjE0WnRrNgpNVVNhTTBDL0NOZGFTYVRDNXFtZ1o5MmtKN3loVHptMUVWZ1g5eVJjUm85azk4RnBpSGFZZGoxWlhVSjJoNG1YYVhwSThPQ2lFaHRtCm1uVEsza3NlNXc1anJ1YlU3NUtTT3A0OTNBRGtSU1dKdHBwRUdTdCt3SlMwMG1GdDZ6UFp4ZDlMQkFETWZSeVZ3NC8zSWJLeUViZTcKZi9MVmpIQXNRV0Nxc1dNWVJKVWFkbUorOW9DdysraGtwalBSaVFmaHZiZm1RNlFZdUtaM0FlRVBsQXdoSGJKVUtTV0piT1VPVWxGSApkTDRtckxaQmRkNTZyRitOUDhtODAwRVJFbHZsRUZEck1jWEtjaFlpQ2Q5OFRIVS9ZK3doWDhRZ1VXdHZzYXVHaTAvQzFrVmZuU0Q4Cm9SN0Z3SStpc1g0S0pwbjE1R2t2bUIwdDlkbXBzaDNsR3dJREFRQUJvMEl3UURBUEJnTlZIUk1CQWY4RUJUQURBUUgvTUE0R0ExVWQKRHdFQi93UUVBd0lCaGpBZEJnTlZIUTRFRmdRVTdOZmpndEp4WFdSTTN5NW5QK2U2bUs0Y0QwOHdEUVlKS29aSWh2Y05BUUVNQlFBRApnZ0lCQUx0aDJYMnBiTDRYeEpFYnc2R2lBSTNqWkdnUFZzOTNybkQ1L1pwS21ibkplRndNREYvazVoUXBWZ3MyU1YxRVkrQ3RuSllZClpoc2pEVDE1NlcxcjFsVDQwanpCUTBDdUhWRDFVdnlRTzd1WW1XbHJ4OEducUdpa0o5eWQrU2V1TUlXNTltZE5PajZQV1RraVUwVHIKeUYwRHl1MVFlbjFpSVFxQXlITm0wYUFGWUYvb3BiU25yNmozYlRXY2ZGcUsxcUk0bWZONGkvUk4waUFMM2dUdWpKdEhnWElOd0JReQo3ekJaTHE3Z2NmSlc1R3FYYjVKUWJaYU5hSHFhc2pZVWVnYnlKTGtKRVZEWENMRzRpWHFFSTJGQ0tlV2p6YUlnUWRmUm5HVFo2aWFoCml4VFhUQm15VUVGeFBUOU5jQ09HREVyY2dkTE1NcFNFRFFnSmx4eFB3TzVySUhRdzB1QTVOQkNGSVJVQkNPaFZNdDV4U2Rrb0YxQk4KNXI1TjBYV3MwTXI3UWJoRHBhclR3d1ZFVHl3Mm0rTDY0a1c0STFOc0JtOW5WWDlHdFV3L2JpaGFlU2JTcEtoaWw5SWU0dTFLaTd3YgovVWRLRGQ5blpuNnlXMEhRTytUME8vUUVZK252d2xRQVVhQ0tLc25PZU16VjZvY0VHTFBPcjBtSXIvT1NtYmF6NW1FUDBvVUE1MUFhCjVCdVZuUm1odVp5eG03RUFIdS9RRDA5Q2JNa0t2TzVEK2pweHBjaE5KcVUxL1lsZHZJVmlIVExTb0N0VTdacFh3ZHY2RU04WnQ0dEsKRzQ4QnRpZVZVK2kyaVcxYnZHalVJK2lMVWFKVytmQ21nS0RXSHJPOER3OVRkU21xNmhOMzVONk1nU0d0QnhCSEVhMkhQUWZSZGJ6UAo4MlorCi0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0KCkNPTU9ETyBSU0EgQ2VydGlmaWNhdGlvbiBBdXRob3JpdHkKPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQotLS0tLUJFR0lOIENFUlRJRklDQVRFLS0tLS0KTUlJRjJEQ0NBOENnQXdJQkFnSVFUS3I1eXR0amIrQWY5MDdZV3dPR25UQU5CZ2txaGtpRzl3MEJBUXdGQURDQmhURUxNQWtHQTFVRQpCaE1DUjBJeEd6QVpCZ05WQkFnVEVrZHlaV0YwWlhJZ1RXRnVZMmhsYzNSbGNqRVFNQTRHQTFVRUJ4TUhVMkZzWm05eVpERWFNQmdHCkExVUVDaE1SUTA5TlQwUlBJRU5CSUV4cGJXbDBaV1F4S3pBcEJnTlZCQU1USWtOUFRVOUVUeUJTVTBFZ1EyVnlkR2xtYVdOaGRHbHYKYmlCQmRYUm9iM0pwZEhrd0hoY05NVEF3TVRFNU1EQXdNREF3V2hjTk16Z3dNVEU0TWpNMU9UVTVXakNCaFRFTE1Ba0dBMVVFQmhNQwpSMEl4R3pBWkJnTlZCQWdURWtkeVpXRjBaWElnVFdGdVkyaGxjM1JsY2pFUU1BNEdBMVVFQnhNSFUyRnNabTl5WkRFYU1CZ0dBMVVFCkNoTVJRMDlOVDBSUElFTkJJRXhwYldsMFpXUXhLekFwQmdOVkJBTVRJa05QVFU5RVR5QlNVMEVnUTJWeWRHbG1hV05oZEdsdmJpQkIKZFhSb2IzSnBkSGt3Z2dJaU1BMEdDU3FHU0liM0RRRUJBUVVBQTRJQ0R3QXdnZ0lLQW9JQ0FRQ1I2RlNTMGdwV3Nhd05KTjNGejBSbgpkSmtyTjZOOUkzQUFjYnhUMzhUNktoS1BTMzhRVnIyZmNISzNZWC9KU3c4WHB6M2pzQVJoN3Y4Umw4ZjBoajRLK2o1YytaUG1OSHJaCkZHdm5uTE9Gb0lKNmRxOXhrTmZzL1EzNm5HejYzN0NDOUJSKytiN0VwaTlQZjVsL3RmeG5RM0s5REFEV2lldHJMTlB0ajVnY0ZLdCsKNWVOdS9OaW81SklrMmtOcllyaFYvZXJCdkd5MmkvTU9qWnJrbTJ4cG1maDRTREJGMWEzaERUeEZZUHd5bGxFbnZHZkR5aTYyYStwRwp4OGNnb0xFZlpkNUlDTHFrVHFueWcwWTNoT3ZveklGSVEyZE9jaXFiWEwxTUd5aUtYQ0o3dEt1WTJlN2dVWVBEQ1VaT2JUNlorcFVYCjJud3pWMEU4alZIdEM3WmNyeXhqR3Q5WHlEKzg2VjNFbTY5Rm1lS2pXaVMwdXFsV1BjOXZxdjlKV0w3d3FQLzB1SzNwTi91NnVQUUwKT3Zub1EwSWVpZGlFeXhQeDJidmhpV0M0akNoV3JCUWRuQXJuY2V2UER0MDlxWmFoU0wwODk2KzFEU0pNd0JHQjdGWTc5dE9pNGx1MwpzZ1FpVXBXQWsybm9qa3hsOFpFRExYQjBBdXFMWnhVcGFWSUN1OWZmVUdwVlJyK2dveWhoZjNEUXc2S3FMQ0dxUjg0b25BWkZkcitDCkdDZTAxYTYweTFEbWEvUk1obkV3NmFiZkZvYmcyUDlBM2Z2UVFvaC9vek02TGx3ZVFSR0JZODRZY1dzcjdLYUt0ekZjT21wSDRNTjUKV2RZZ0dxL3lhcGlxY3J4WFN0SkxuYnNRL0xCTVFlWHRIVDFlS0oyY3pMK3pVZHFuUitXRVV3SURBUUFCbzBJd1FEQWRCZ05WSFE0RQpGZ1FVdTY5K0FqMzZwdkU4aEk2dDdqaVk3Tmt5TXRRd0RnWURWUjBQQVFIL0JBUURBZ0VHTUE4R0ExVWRFd0VCL3dRRk1BTUJBZjh3CkRRWUpLb1pJaHZjTkFRRU1CUUFEZ2dJQkFBcngxVWFFdDY1UnUyeXlUVUVVQUpOTW5Ndmx3RlRQb0NXT0F2bjlzS0lOOVNDWVBCTXQKckZhaXNOWitFWkxwTHJxZUxwcHlzYjBaUkd4aE5hS2F0QllTYVZxTTRkYytwQnJvTHdQMHJtRWRFQnNxcEl0NnhmNEZwdUhBMXNqKwpucTZQSzdvOW1malljd2xZUm02bW5QVFhKOU9WMmplRGNoelRjK0NpUjVrRE9GM1ZTWGtBS1J6SDdKc2dIQWNrYVZkNHNqbjhPb1NnCnRaeDhqYjh1azJJbnR6bmFGeGl1dlR3SmFQK0VtenpWMWdzRDQxZWVGUGZSNjAvSXZZY2p0N1pKUTNtRlhMcnJrZ3VoeHVob3FFd1cKc1JxWkN1aFRMSks3b1FrWWRReGxxSHZMSTdjYXdpaUZ3eHYvMEN0aTc2UjdDWkdZWjR3VUFjMW9CbXBqSVhVRGdJaUtib0hHaGZLcApwQzNuOUtVa0VFZUR5czMwalhsWXNRYWI1eG9xMlowQjE1Ujk3UU5LeXZEYjZLa0JQdlZXbWNrZWprazl1K1VKdWVCUFNaSTlGb0pBCnpNeFp4dVk2N1JJdWFUeHNsYkg5cWgxN2Y0YStIZzR5UnZ2N0U0OTFmMHlMUzBaai9nQTBRSERCdzdtaDNhWnc0Z1N6UWJ6cGdKSHEKWkp4NjRTSURxWnh1Ync1bFQyeUhoMTd6YnFENWRhV2JRT2hUc2llZFNybkFkeUdOLzRmeTNyeU03eGZmdDBrTDBmSnVNQXNhRGs1Mgo3Ukg4OWVsV3NuMi94MjBLazR5bDBNQzJIYjQ2VHBTaTEyNXNDOEtLZlBvZzg4VGs1YzBOcU11UmtyRjhoZXkxRkdsbURvTG56YzdJCkxhWlJmeUhCTlZPRkJrcGRuNjI3RzE5MAotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCgpVU0VSVHJ1c3QgUlNBIENlcnRpZmljYXRpb24gQXV0aG9yaXR5Cj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KLS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUYzakNDQThhZ0F3SUJBZ0lRQWYxdE1QeWp5bEdvRzd4a0RqVURMVEFOQmdrcWhraUc5dzBCQVF3RkFEQ0JpREVMTUFrR0ExVUUKQmhNQ1ZWTXhFekFSQmdOVkJBZ1RDazVsZHlCS1pYSnpaWGt4RkRBU0JnTlZCQWNUQzBwbGNuTmxlU0JEYVhSNU1SNHdIQVlEVlFRSwpFeFZVYUdVZ1ZWTkZVbFJTVlZOVUlFNWxkSGR2Y21zeExqQXNCZ05WQkFNVEpWVlRSVkpVY25WemRDQlNVMEVnUTJWeWRHbG1hV05oCmRHbHZiaUJCZFhSb2IzSnBkSGt3SGhjTk1UQXdNakF4TURBd01EQXdXaGNOTXpnd01URTRNak0xT1RVNVdqQ0JpREVMTUFrR0ExVUUKQmhNQ1ZWTXhFekFSQmdOVkJBZ1RDazVsZHlCS1pYSnpaWGt4RkRBU0JnTlZCQWNUQzBwbGNuTmxlU0JEYVhSNU1SNHdIQVlEVlFRSwpFeFZVYUdVZ1ZWTkZVbFJTVlZOVUlFNWxkSGR2Y21zeExqQXNCZ05WQkFNVEpWVlRSVkpVY25WemRDQlNVMEVnUTJWeWRHbG1hV05oCmRHbHZiaUJCZFhSb2IzSnBkSGt3Z2dJaU1BMEdDU3FHU0liM0RRRUJBUVVBQTRJQ0R3QXdnZ0lLQW9JQ0FRQ0FFbVVYTmc3RDJ3aXoKMEt4WERYYnR6U2ZUVEsxUWcySGlxaUJOQ1Mxa0Nkek9pWi9NUGFuczlzL0IzUEhUc2RaN055Z1JLMGZhT2NhOE9obTBYNmE5ZloyagpZMEsyZHZLcE95dVIrT0p2ME93V0lKQUpQdUxvZE1rWXRKSFVZbVRiZjZNRzhZZ1lhcEFpUEx6K0UvQ0hGSHYyNUIrTzFPUlJ4aEZuClJnaFJ5NFlVVkQrOE0vNStiSnovRnAwWXZWR09OYWFuWnNoeVo5c2hackhVbTNnRHdGQTY2TXp3M0x5ZVRQNnZCWlkxSDFkYXQvL08KK1QyM0xMYjJWTjNJNXhJNlRhNU1pcmRjbXJTM0lEM0tmeUkwcm40N2FHWUJST2NCVGtaVG16Tmc5NVMrVXplUWMwUHpNc05UNzl1cQovblJPYWNkcmpHQ1Qzc1RIRE4vaE1xN01renRSZUpWbmkrNDlWdjRNMEdrUEd3L3pKU1pyTTIzM2JrZjZjMFBsZmc2bFpyRXBmREtFClkxV0p4QTNCazFRd0dST3MwMzAzcCt0ZE9tdzFYTnRCMXhMYXFVa0wzOWlBaWdtVFlvNjFaczhsaU0yRXVMRS9wRGtQMlFLZTZ4Sk0KbFh6emF3V3BYaGFEekxobjR1Z1RuY3hiZ3ROTXMrMWIvOTdsYzZ3ak95MEF2elZWZEFsSjJFbFlHbitTTnVaUmtnN3pKbjBjVFJlOAp5ZXhESnRDL1FWOUFxVVJFOUpublY0ZWVVQjlYVktnKy9YUmpMN0ZRWlFubVdFSXVReHBNdFBBbFIxbjZCQjZUMUNaR1NsQ0JzdDYrCmVMZjhaeFhoeVZlRUhnOWoxdWxpdXRaZlZTN3FYTVlvQ0FRbE9iZ09LNm55VEpjY0J6OE5Vdlh0N3krQ0R3SURBUUFCbzBJd1FEQWQKQmdOVkhRNEVGZ1FVVTNtL1dxb3JTczlVZ09IWW04Q2Q4cklEWnNzd0RnWURWUjBQQVFIL0JBUURBZ0VHTUE4R0ExVWRFd0VCL3dRRgpNQU1CQWY4d0RRWUpLb1pJaHZjTkFRRU1CUUFEZ2dJQkFGelVmQTNQOXdGOVFabGxESFBGVXAvTCtNK1pCbjhiMmtNVm41NENWVmVXCkZQRlNQQ2VIbENqdEh6b0JONkoyL0ZOUXdJU2J4bXRPdW93aFQ2S09WV0tSODJrVjJMeUk0OFNxQy8zdnFPbExWU29HSUcxVmVDa1oKN2w4d1hFc2tFVlgvSkpwdVhpb3I3Z3RObjMvM0FUaVVGSlZEQnduN1lLbnVIS3NTaktDYVhxZVlhbGx0aXo4SSs4alJSYThZRldTUQpFZzl6S0M3RjRpUk8vRmpzOFBSRi9pS3o2eStPMHRsRllRWEJsMitvZG5LUGk0dzJyNzhOQmM1eGplYW1ieDlzcG5GaXhkalFnM0lNCjhXY1JpUXljRTB4eU5OKzgxWEhmcW5IZDRibHNqRHdTWFdYYXZWY1N0a05yLytYZVRXWVJVYytacnV3WHR1aHhrWXplU2Y3ZE5YR2kKRlNlVUhNOWg0eWE3YjZObkpTRmQ1dDBkQ3k1b0d6dUNyK3lEWjRYVW1GRjBzYm1aZ0luL2YzZ1pYSGxLWUM2U1FLNU1OeW9zeWNkaQp5QTVkOXpaYnl1QWxKUUcwM1JvSG5IY0FQOURjMWV3OTFQcTdQOHlGMW05L3FTM2Z1UUwzOVplYXRUWGF3MmV3aDBxcEtKNGpqdjljCkoydmhzRS96Qis0QUx0UlpoOHRTUVpYcTlFZlg3bVJCVlh5TldRS1YzV0tkd3JudVdpaDBoS1didDVESERBZmY5WWsyZERMV0tNR3cKc0F2Z25FekRITmI4NDJtMVIwYUJMNktDcTlOalJIREVqZjh0TTdxdGozdTFjSWl1UGhuUFFDalkvTWlRdTEyWkl2VlM1bGpGSDRneApRKzZJSGRmR2pqeERhaDJuR041OVBSYnhZdm5La0tqOQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCgpVU0VSVHJ1c3QgRUNDIENlcnRpZmljYXRpb24gQXV0aG9yaXR5Cj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KLS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNqekNDQWhXZ0F3SUJBZ0lRWEl1WnhWcVV4ZEp4VnQ3TmlZRE1KakFLQmdncWhrak9QUVFEQXpDQmlERUxNQWtHQTFVRUJoTUMKVlZNeEV6QVJCZ05WQkFnVENrNWxkeUJLWlhKelpYa3hGREFTQmdOVkJBY1RDMHBsY25ObGVTQkRhWFI1TVI0d0hBWURWUVFLRXhWVQphR1VnVlZORlVsUlNWVk5VSUU1bGRIZHZjbXN4TGpBc0JnTlZCQU1USlZWVFJWSlVjblZ6ZENCRlEwTWdRMlZ5ZEdsbWFXTmhkR2x2CmJpQkJkWFJvYjNKcGRIa3dIaGNOTVRBd01qQXhNREF3TURBd1doY05Nemd3TVRFNE1qTTFPVFU1V2pDQmlERUxNQWtHQTFVRUJoTUMKVlZNeEV6QVJCZ05WQkFnVENrNWxkeUJLWlhKelpYa3hGREFTQmdOVkJBY1RDMHBsY25ObGVTQkRhWFI1TVI0d0hBWURWUVFLRXhWVQphR1VnVlZORlVsUlNWVk5VSUU1bGRIZHZjbXN4TGpBc0JnTlZCQU1USlZWVFJWSlVjblZ6ZENCRlEwTWdRMlZ5ZEdsbWFXTmhkR2x2CmJpQkJkWFJvYjNKcGRIa3dkakFRQmdjcWhrak9QUUlCQmdVcmdRUUFJZ05pQUFRYXJGUmFxZmxvSStkNjFTUnZVOFphMkV1cnh0VzIKMGVaemNhN2RuTllNWWYzYm9Ja0R1QVVVN0ZmTzdsMC80aUd6enZmVWlubmdvNE4rTFpmUVljVHhtZHdsa1dPcmZ6Q2p0SERpeDZFegpuUE8vTGx4VHNWK3pmVEovaWpUamVYbWpRakJBTUIwR0ExVWREZ1FXQkJRNjRRbUcxTThad3BaMmRFbDIzT0ExeG1Oam1qQU9CZ05WCkhROEJBZjhFQkFNQ0FRWXdEd1lEVlIwVEFRSC9CQVV3QXdFQi96QUtCZ2dxaGtqT1BRUURBd05vQURCbEFqQTJaNkVXQ056a2x3QkIKSFU2KzRXTUJ6enVxUWhGa29KMlVPUUlSZVZ4N0hmcGt1ZTRXUXJPL2lzSUp4T3prc1UwQ01RRHBLbUZIakZKS1MwNFljUGJXUk5adQo5WU82YlZpOUpObFdTT3J2eEtKR2dZaHFPa2JScVp0TnlXSGEwVjFYYWhnPQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCgpHbG9iYWxTaWduIEVDQyBSb290IENBIC0gUjQKPT09PT09PT09PT09PT09PT09PT09PT09PT09Ci0tLS0tQkVHSU4gQ0VSVElGSUNBVEUtLS0tLQpNSUlCNFRDQ0FZZWdBd0lCQWdJUktqaWtISllLQk41Q3NpaWxDK2cwbUFJd0NnWUlLb1pJemowRUF3SXdVREVrTUNJR0ExVUVDeE1iClIyeHZZbUZzVTJsbmJpQkZRME1nVW05dmRDQkRRU0F0SUZJME1STXdFUVlEVlFRS0V3cEhiRzlpWVd4VGFXZHVNUk13RVFZRFZRUUQKRXdwSGJHOWlZV3hUYVdkdU1CNFhEVEV5TVRFeE16QXdNREF3TUZvWERUTTRNREV4T1RBek1UUXdOMW93VURFa01DSUdBMVVFQ3hNYgpSMnh2WW1Gc1UybG5iaUJGUTBNZ1VtOXZkQ0JEUVNBdElGSTBNUk13RVFZRFZRUUtFd3BIYkc5aVlXeFRhV2R1TVJNd0VRWURWUVFECkV3cEhiRzlpWVd4VGFXZHVNRmt3RXdZSEtvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUV1TVo1MDQ5c0pRNmZMamtaSEFPa3JwcmwKT1FjSkZzcGpzYm1HK0lwWHdWZk9RdnB6b2ZkbFF2OGV3UUN5Ym5NTy84Y2g1UmlrcXRseFA2alV1YzZNSGFOQ01FQXdEZ1lEVlIwUApBUUgvQkFRREFnRUdNQThHQTFVZEV3RUIvd1FGTUFNQkFmOHdIUVlEVlIwT0JCWUVGRlN3ZTYxRnVPSkFmL3NLYnZ1K004azhvNFRWCk1Bb0dDQ3FHU000OUJBTUNBMGdBTUVVQ0lRRGNrcUdnRTZiUEE3RG14Q0dYa1BvVVZ5MEQ3TzQ4MDI3S3FHeDJ2S0xldXdJZ0o2aUYKSnpXYlZzYWo4a2ZTdDI0YkFnQVhxbWVtRlpIZStwVHNld3Y0bjRRPQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCgpHbG9iYWxTaWduIEVDQyBSb290IENBIC0gUjUKPT09PT09PT09PT09PT09PT09PT09PT09PT09Ci0tLS0tQkVHSU4gQ0VSVElGSUNBVEUtLS0tLQpNSUlDSGpDQ0FhU2dBd0lCQWdJUllGbEo0Q1l1dTFYNUNuZUtjZmxLMkd3d0NnWUlLb1pJemowRUF3TXdVREVrTUNJR0ExVUVDeE1iClIyeHZZbUZzVTJsbmJpQkZRME1nVW05dmRDQkRRU0F0SUZJMU1STXdFUVlEVlFRS0V3cEhiRzlpWVd4VGFXZHVNUk13RVFZRFZRUUQKRXdwSGJHOWlZV3hUYVdkdU1CNFhEVEV5TVRFeE16QXdNREF3TUZvWERUTTRNREV4T1RBek1UUXdOMW93VURFa01DSUdBMVVFQ3hNYgpSMnh2WW1Gc1UybG5iaUJGUTBNZ1VtOXZkQ0JEUVNBdElGSTFNUk13RVFZRFZRUUtFd3BIYkc5aVlXeFRhV2R1TVJNd0VRWURWUVFECkV3cEhiRzlpWVd4VGFXZHVNSFl3RUFZSEtvWkl6ajBDQVFZRks0RUVBQ0lEWWdBRVIwVU9sdnQ5WGIvcE9kRWgrSjhMdHRWN0hwSTYKU0ZrYzhHSXhMY0I2S1A0YXAxeXp0c3lYNTBYVVdQclJkMjFEb3NDSFpUUUtIM3JkNnp3em9jV2RUYVJ2UVpVNGY4a2VoT3ZSbmttUwpoNVNIRERxRlNtYWZuVm1UVFpkaEJvWktvMEl3UURBT0JnTlZIUThCQWY4RUJBTUNBUVl3RHdZRFZSMFRBUUgvQkFVd0F3RUIvekFkCkJnTlZIUTRFRmdRVVBlWXBTSnZxQjhvaFJFb20zbTdlMG9QUW4xa3dDZ1lJS29aSXpqMEVBd01EYUFBd1pRSXhBT1ZwRXNsdTI4WXgKdWdsQjRaZjQrLzJhNG4wU3llMThaTlBMQlNXTFZ0bWc1MTVkVGd1RG5GdDJLYUFKSmlGcVlnSXdjZEsxajF6cU8rRjRDWVdvZFpJNwp5Rno5U084TmRDS29DT0p1eFVuT3h3eThwMkZwOGZjNzRTckwrU3Z6WnBBMwotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCgpTdGFhdCBkZXIgTmVkZXJsYW5kZW4gRVYgUm9vdCBDQQo9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQotLS0tLUJFR0lOIENFUlRJRklDQVRFLS0tLS0KTUlJRmNEQ0NBMWlnQXdJQkFnSUVBSmlXalRBTkJna3Foa2lHOXcwQkFRc0ZBREJZTVFzd0NRWURWUVFHRXdKT1RERWVNQndHQTFVRQpDZ3dWVTNSaFlYUWdaR1Z5SUU1bFpHVnliR0Z1WkdWdU1Ta3dKd1lEVlFRRERDQlRkR0ZoZENCa1pYSWdUbVZrWlhKc1lXNWtaVzRnClJWWWdVbTl2ZENCRFFUQWVGdzB4TURFeU1EZ3hNVEU1TWpsYUZ3MHlNakV5TURneE1URXdNamhhTUZneEN6QUpCZ05WQkFZVEFrNU0KTVI0d0hBWURWUVFLREJWVGRHRmhkQ0JrWlhJZ1RtVmtaWEpzWVc1a1pXNHhLVEFuQmdOVkJBTU1JRk4wWVdGMElHUmxjaUJPWldSbApjbXhoYm1SbGJpQkZWaUJTYjI5MElFTkJNSUlDSWpBTkJna3Foa2lHOXcwQkFRRUZBQU9DQWc4QU1JSUNDZ0tDQWdFQTQ4ZCtpZmtrClN6clNNNE0xTEduczNBbWs0MUdvSlN0NXVBZzk0Skc2aElYR2hhVEs1c2t1VTZUSkpCNzlWV1p4WFN6RllHZ0V0OW5DVWlZNGlLVFcKTzBDbXdzMC96WmlUczFRVVdKWlYxVkQraHEya1kzOWNoL2FPNWllU1p4ZVNBZ01zM05abWRPM2RaLy9CWVkxalR3K2JiUmN3SnUrcgowaDhRb1BuRmZ4WnBnUU5IN1I1b2pYS2hUYklteHJwc1gyM1dyOUd4RTQ2cHJmTmVhWFVtR0Q1Qkt5Ri83b3RkQndhZFE4UXBDaXY4CktqNkd5enlET3ZuSkRkckZtZUs4ZUVFemR1Ry9MMTNscEpoUURCWGQ0UHFjZnpobzBMS21lcWZSTWIxK2lsZ25RN082TTVIVHA1Z1YKWEpybTB3OTEyZnhCbUpjK3FpWGJqNUl1c0hzTVgvRmpxVGY1bTNWcFRDZ21KZHJWOGhKd1JWWGozM05lTi9VaGJKQ09OVnJKMHlQcgowOEMrZUt4Q0tGaG1wVVp0Y0FMWEVQbExWUHhkaGtxSHozL0tSYXdSV3JVZ1VZMHZpRWVYT2NEUHVzQkNBVUNaU0NFTGE2ZlMvWmJWCjBiNUduVW5nQzZhZ0lrNDQwTUU4TUx4d2p5eDF6TkRGakZFN1BaUUlaQ1poZmJuRFpZOFVuQ0hRcXYwWGNnT1B2WnVNNWw1VG5ybWQKNzRLNzRiemlja0ZiSVpUVFJUZVUwZDhKT1Yzbkk2cWFIY3B0cUFxR2hZcUN2a0lIMXZJNGduUGFoMXZsUE5PZVBxYzdudlFEcy9ueApmUk4wQXYrN29lWDZBSGtjcG1aQmlGeGdWNll1Q2NTNi9aclBweDlBdzd2TVdncFZTenM0ZGxHNFk0dUVsQmJtVnZNQ0F3RUFBYU5DCk1FQXdEd1lEVlIwVEFRSC9CQVV3QXdFQi96QU9CZ05WSFE4QkFmOEVCQU1DQVFZd0hRWURWUjBPQkJZRUZQNnJBSkNZbmlUOHFjd2EKaXZzbnVMOHdicWc3TUEwR0NTcUdTSWIzRFFFQkN3VUFBNElDQVFEUGR5eHVWcjVPczdhRUFKU3JSOGtOMG5iSGhwOGRCOU8ydExzSQplSzlwMGd0SjNqUEZySzNDaUFKOUJyYzFBc0ZneWIvRTZKVGUxTk9wRXlWYS9tNmlybjBGM0gzemJQQitwbzN1MmRmT1dCZm9xU211CmMwaUg1NXZLYmltaFpGOFpFL2V1QmhEL1VjYWJUVlVsVDVPWkVBRlRkZkVUenNlbVFVSFN2NGlsZjBYOHJMaWx0VE1NZ3NUN0IvWnEKNVNXRVh3Ykt3WVk1RWR0WXpYYzdMTUpNRDE2YTQvQ3JQbUViVUNUQ3dQVHhHZkFSS2JhbEdBS2IxMk5NY0l4SG93TkRYTGxkUnFBTgpiLzlaanI3ZG4zTERXeXZmakZ2TzVReEdiSkt5Q3FOTVZFSVlGUklZdmRyOHVuUnUvOEcyb0dUWXFWOVZycDljYW5hVzJITm5oL3ROCmYxenVhY3B6RVB1S3FmMmV2VFk0U1VtSDlBNFU4T21IdUQrblQzcGFqbm5VaytTN2FGS0VyR3pwODVod1ZYSXkrVFNySzBtMXpTQmkKNURwNloyT3JsdHh0cnBmcy9KOTJWb2d1WnM5YnRzbWtzTmNGdXVFbkw1TzdKaXFpazdBYjg0NitIVUNqdVRhUFBvSWFHbDZJNmxENApXZUtEUmlrTDQwUmM0WlcyYVpDYUZHK1hyb0hQYU8rWm1yNjE1K0YvK1BvVFJ4Wk16RzBJUU9lTGVHOVFna1JRUDJZR2lxdERoRlpLCkR5QXRoZzcxMHR2U2VvcEx6YVhvVHZGZUppVUJXU09nZnRMMmZpRlgxeWU4RlZkTXBFYkI0SU1lREV4TkgwOEdHZUw1cVBRNmdxR3kKZVVONTFxMXZlaWVRQTZUcUpJYy8yYjNaNmZKZlVFa2M3dXpYTGc9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCgpJZGVuVHJ1c3QgQ29tbWVyY2lhbCBSb290IENBIDEKPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ci0tLS0tQkVHSU4gQ0VSVElGSUNBVEUtLS0tLQpNSUlGWURDQ0EwaWdBd0lCQWdJUUNnRkNnQUFBQVVVanlFUzFBQUFBQWpBTkJna3Foa2lHOXcwQkFRc0ZBREJLTVFzd0NRWURWUVFHCkV3SlZVekVTTUJBR0ExVUVDaE1KU1dSbGJsUnlkWE4wTVNjd0pRWURWUVFERXg1SlpHVnVWSEoxYzNRZ1EyOXRiV1Z5WTJsaGJDQlMKYjI5MElFTkJJREV3SGhjTk1UUXdNVEUyTVRneE1qSXpXaGNOTXpRd01URTJNVGd4TWpJeldqQktNUXN3Q1FZRFZRUUdFd0pWVXpFUwpNQkFHQTFVRUNoTUpTV1JsYmxSeWRYTjBNU2N3SlFZRFZRUURFeDVKWkdWdVZISjFjM1FnUTI5dGJXVnlZMmxoYkNCU2IyOTBJRU5CCklERXdnZ0lpTUEwR0NTcUdTSWIzRFFFQkFRVUFBNElDRHdBd2dnSUtBb0lDQVFDblVCbmVQNWs5MURORzhXOVJZWUt5cVUrUFo0bGQKaE5sVDNRd28yZGZ3LzY2VlEzS1orYlZkZklyQlF1RXhVSFRSZ1ExOHpac2hxMFBpcksxZWhtN3pDWW9mV2pLOW91dVUrZWhjQ3V6LwptTkt2Y2JPMFU1OU9oKytTdkwzc1R6SXdpRXNYWGxmRVU4TDJBcGVOMldJcnZ5UWZZbzNmdzdncFMwbDRQSk5naUNMOG1kbzJ5TUtpCjFDeFVBR2MxYm5PL0FsandwTjNsc0tJbWVzcmdOcVVaRnZYOXQrK3VQMEQxYlZvRS9jNDB5aVRjZENNYlhUTVRFbDNFQVNYMk1OMEMKWFovZzFVZTl0T3Nib2J0SlNkaWZXd0x6aXVRa2tPUmlUMC9CcjRzT2RCZW8wWEtJYW5vQlNjeTBSbm5HRjdIYW1CNEhXZnAxSVlWbAozWkJXenZ1cnBXQ2R4SjM1VXJDTHZZZjVqeXNqQ2lOMk8vY3o0Y2tBODJuNVM2TGdUcngra3ptRUIvZEVjSDcrQjFybHNhelJHTXp5Ck5lVkpTUWpLVnNrOSt3OFlmWXM3d1JQQ1RZL0pUdzQzNlIraERtcmZZaTdMTlFaUmVTeklKVGowK2t1bmlWeWMwdU1OT1laS2RIelYKV1lmQ1AwNE1YRkwwUGZkU2d2SHFvNno5U1RRYUtQTkJpRG9UN3VqZS81a2RYN3JMNkI3eXVWQmd3REhUYytYdnZxRHRNd3QwdmlBZwp4R2RzOEFnRGVsV0FmMFpPbHFmMEhqN2g5dGdKNFROa0syUFhNbDZmK2NCN0QzaHZsN3lUbXZtY0VwQjRlb0NIRmRkeWRKeFZkSGl4CnV1RnVjQVM2VDZDNmFNTjcvekh3Y3owOWxDcXhDMEVPb1A1TmlHVnJlVE8wMXdJREFRQUJvMEl3UURBT0JnTlZIUThCQWY4RUJBTUMKQVFZd0R3WURWUjBUQVFIL0JBVXdBd0VCL3pBZEJnTlZIUTRFRmdRVTdVUVp3TlB3Qm92dXBIdStRdWNtVk1pT05uWXdEUVlKS29aSQpodmNOQVFFTEJRQURnZ0lCQUEydWtETDJwa3Q4UkhZWllSNG5LTTFlVk84bHZPTUlrUGtwMTY1b0NPR1VBRmp2TGk1K1UxS010bHdICjZvaTZtWXRRbE5lQ2dOOWhDUUNUclEwVTVzN0I4amVVZUxCZm5MT2ljN2lQQlpNNHpZMCtzTGo3d00reDh1d3RMUnZNN0txYXM2cGcKZ2hzdE84T0VQVmVLbGg2Y2RialRNTTFnQ0lPUTA0NVU4VTFtd0YxMEEwQ2o3b1Yrd2g5M25BYm93YWNZWFZLVjdjbmRKWjV0K3FudApvem8wMEZsNzJ1MVE4elcvN2VzVVRUSEhZUFRhOFllYzRraml4c1UzK3dZUStuVlpaakZIS2RwMm1oenBncTd2bXJsUjk0Z2ptbW1WCllqemxWWUEyMTFRQy8vRzVYYzdVSTIvWVJZUktXMlh2aVF6ZEZLY2d5eGlsSmJRTitRSHdvdEwwQU1oMGpxRXFTSTVsMnhQRTRpVVgKZmV1K2gxc1hJRlJSazBwVEF3dnNYY296N1dMOVJjY3ZXOXhZb0lBNTV2clgvaE1VcHUwOWxFcENkTlREZDFsenpZOUd2bFU0Ny9ybwprVExxbDFnRUl0NDR3OHk4YmNrek9tb0thVCtneU9weWo0eGpoaU85YlR5V25wWGdTVXlxb3JrcUc1dzJnWGp0dytoRzRpWlpSSFVlCjJYV0pVYzBRaEoxaFlNdGQrWmNpVFk2WTV1Ti85bHU3cnMzS1NvRnJYZ3Z6VWVGMEsrbCtKNmZabVVsTytLV0EyeVVQSEdOaWlza3oKWjJzOEVJUEdyZDZvelJhT2pmQUhOM0dmOHF2OFFmWEJpK3dBTjEwSjVVNkE3L3F4WERnR3BSdEs0ZHc0TFR6Y3F4K1FHdFZLbk83UgpjR3pNN3ZSWCtCaTZoRzZICi0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0KCklkZW5UcnVzdCBQdWJsaWMgU2VjdG9yIFJvb3QgQ0EgMQo9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KLS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUZaakNDQTA2Z0F3SUJBZ0lRQ2dGQ2dBQUFBVVVqejBaOEFBQUFBakFOQmdrcWhraUc5dzBCQVFzRkFEQk5NUXN3Q1FZRFZRUUcKRXdKVlV6RVNNQkFHQTFVRUNoTUpTV1JsYmxSeWRYTjBNU293S0FZRFZRUURFeUZKWkdWdVZISjFjM1FnVUhWaWJHbGpJRk5sWTNSdgpjaUJTYjI5MElFTkJJREV3SGhjTk1UUXdNVEUyTVRjMU16TXlXaGNOTXpRd01URTJNVGMxTXpNeVdqQk5NUXN3Q1FZRFZRUUdFd0pWClV6RVNNQkFHQTFVRUNoTUpTV1JsYmxSeWRYTjBNU293S0FZRFZRUURFeUZKWkdWdVZISjFjM1FnVUhWaWJHbGpJRk5sWTNSdmNpQlMKYjI5MElFTkJJREV3Z2dJaU1BMEdDU3FHU0liM0RRRUJBUVVBQTRJQ0R3QXdnZ0lLQW9JQ0FRQzJJcFQ4cEVpdjZFZHJDdnNuZHVUeQpQNG83ZWtvc01TcU1qYkNwd3pGcnFIZDJoQ2EycklGQ0RRanJWVmk3ZXZpOFpYM3lvRzJMcUVmcFluWWVFZTRJRk5HeVJCYjA2dEQ2CkhpOWUyOHR6UWE2OEFMQktLMEN5ck9FN1M4SXRuZVNobSt3YU9oN3dDTFBRNUNRMUI1K2N0TWxTYmRzSHlvKzFXL0NEODAvSExhWEkKcmN1VklLUXhLRmRZV3VTTkc1cXJuZzBNOGdvek9TSTVDcGN1ODFOM3VVUkYvWVRMTmlDQldTMmFiMjFJU0dIS1ROOVQwYTlTdkVTZgpxeTlyZzNMdmRZRGFCak1iWGNqYVk4Wk56YXhtTWMzUjNqNkhFRGJodWFSNjcyQlFzc3ZLcGxiZ042K3JOQk01SmVnNVp1U1llcW9TCm1KeFpab1krcmZHd3lqNEdEM3Z3RVVzM29FUnRlOHVvakhIMDFiV1JOc3p3RmNZcjNsRVhzWmRNVUQyeGxWbDhCWDB0SWRVQXZ3Rm4Kb2w1N3Bsenk5eUx4a0EyVDI2cEVVV2JNZlhZRDYycW9LamdabDNZTmE0cGgrYnoyN25iOWNDdmRLVHo0Q2g1YlFoeUxWaTlWR3h5aApMclhIRnViNHFqeVNqbW0yQWNHMWhwMkpEd3M0bEZUbzZ0eWVQU1c4VXlidDFhczVxc1ZBVEZTcnNyVFoyZmpYY3RzY3ZHMjlaVi92CmlEVXFaaS91OXJObDhET05mSmhCYVVZUFF4eHArcHUxMEdGcXpjcEwyVXlRUnFzVldhRkhWQ2t1Z3loZkhNS2lxM0lYQUFhT1JleUwKNGpNOWY5b1pST1JpY3NQZklzYnlWdFRkWDVWeTdXMWY5MGdEVy8zRktxRDJjeU9FRUJzQjV3SURBUUFCbzBJd1FEQU9CZ05WSFE4QgpBZjhFQkFNQ0FRWXdEd1lEVlIwVEFRSC9CQVV3QXdFQi96QWRCZ05WSFE0RUZnUVU0M0hnbnRpblF0bmJjWkZybEpQcnc2UFJGS013CkRRWUpLb1pJaHZjTkFRRUxCUUFEZ2dJQkFFZjYzUXF3RVpFNHJVMWQ5K1VPbDFRWmdraUhWSXlxWkpuWVd2NklBY1ZZcFpteEkxUWoKdDJvZElGZmxBV0pCRjlNSjIzWExibFNRZGY0YW40RUt3dDNYOXduUVczSVY1QjRKYWowejh5R2E1aFYrclZIVkRSRHRmVUxBais3QQptZ2pWUWRaY0RpRnBib0JoRGhYQXVNL0ZTUkpTekw0NnpOUXVPQVhlTmYwZmI3aUFhSmc5VGFES1FHWFNjM3oxaTlrS2xUL1lQeU50Ckd0RXFKQm5aaGJNWDczaHVxVmpSSTlQSEUrMXlKWDlkc1hOdzBIOEdsd21FS1lCaEhmcGUvM09zb09PSnVCeHhGY2JlTVg4UzNPRnQKbTYvbjZKOTFlRXlyUmp1YXpyOEZHRjFORlR3V21obFFCSnF5bW05bGkxSmZQRmdFS0NYQVptRXhmcm5nZGJrYXFJSFdjaGV6eFFNeApOUkY0ZUtMZzZUQ01mNERmV044OHVpZVc0b0EwYmVPWTAyUW5yRWgrS0hkY3hpVmhKZmlGREdYNnhESXZwWmdGNVBnTFp4WVd4b0s0Ck1objUrYmw1M0IvTjY2K3JEdDBiMjBYa2V1Y0M0cFZkL0dud1UybGhsWFY1QzE1VjVqZ2NsS2xaTTU3SWNYUjVmMUdKdHNocXVEREkKYWpqRGJwN2hOeGJxQldKTVd4Skg3YWUwczFoV3gwbnpmeEpvQ1RGeDhHMzRUa2Y3MW9YdXhWaEFHYVFkcC9sTFF6ZmNhRnBQeit2QwpaSFRldEJYWjlGUlVHaThjMTVkeFZKQ08yU0NkVXl0L3E0L2k2akM4VURmdjhVZTFmWHdzQk94b25iUkpSQkQwY2tzY1pPZjg1bXVRCjNXbDlhZjBBVnFXM3JMYXR0OG8rQWUrYwotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCgpFbnRydXN0IFJvb3QgQ2VydGlmaWNhdGlvbiBBdXRob3JpdHkgLSBHMgo9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQotLS0tLUJFR0lOIENFUlRJRklDQVRFLS0tLS0KTUlJRVBqQ0NBeWFnQXdJQkFnSUVTbE9NS0RBTkJna3Foa2lHOXcwQkFRc0ZBRENCdmpFTE1Ba0dBMVVFQmhNQ1ZWTXhGakFVQmdOVgpCQW9URFVWdWRISjFjM1FzSUVsdVl5NHhLREFtQmdOVkJBc1RIMU5sWlNCM2QzY3VaVzUwY25WemRDNXVaWFF2YkdWbllXd3RkR1Z5CmJYTXhPVEEzQmdOVkJBc1RNQ2hqS1NBeU1EQTVJRVZ1ZEhKMWMzUXNJRWx1WXk0Z0xTQm1iM0lnWVhWMGFHOXlhWHBsWkNCMWMyVWcKYjI1c2VURXlNREFHQTFVRUF4TXBSVzUwY25WemRDQlNiMjkwSUVObGNuUnBabWxqWVhScGIyNGdRWFYwYUc5eWFYUjVJQzBnUnpJdwpIaGNOTURrd056QTNNVGN5TlRVMFdoY05NekF4TWpBM01UYzFOVFUwV2pDQnZqRUxNQWtHQTFVRUJoTUNWVk14RmpBVUJnTlZCQW9UCkRVVnVkSEoxYzNRc0lFbHVZeTR4S0RBbUJnTlZCQXNUSDFObFpTQjNkM2N1Wlc1MGNuVnpkQzV1WlhRdmJHVm5ZV3d0ZEdWeWJYTXgKT1RBM0JnTlZCQXNUTUNoaktTQXlNREE1SUVWdWRISjFjM1FzSUVsdVl5NGdMU0JtYjNJZ1lYVjBhRzl5YVhwbFpDQjFjMlVnYjI1cwplVEV5TURBR0ExVUVBeE1wUlc1MGNuVnpkQ0JTYjI5MElFTmxjblJwWm1sallYUnBiMjRnUVhWMGFHOXlhWFI1SUMwZ1J6SXdnZ0VpCk1BMEdDU3FHU0liM0RRRUJBUVVBQTRJQkR3QXdnZ0VLQW9JQkFRQzZoTFp5MjU0TWErS1o2VEFCcDNicU1yaVZRUnJKMm1GT1dITFAKL3ZhQ2ViOXpZUVlLcFNmWXMxL1RSVTRjY3RaT012SnlpZy8zZ3huUWFvQ0FBRVVlc01mbm1yOFNWeWNjbzJndkNvZTlhbXNPWG1YegpISGZWMUlXTmNDRzBzekxuaTZMVmhqa0NzYmpTUjg3a3lVbkVPNmZlKzFSOVY3N3c2RzdDZWJJNkMxWGlVSmdXTWhOY0wzaFd3Y0tVCnMvSmE1Q2VhbnlUWHh1elFteVdDNDh6Q3hFWEZqSmQ2Qm1zcUVaK3BDbTVJTzIvYjFCRVpRdmVQQjcvMVUxK2NQdlFYTE9acHJFNHkKVEdKMzZyZm81YnMwdkJtTHJweFI1N2QrdFZPeE15TGxiYzl3UEJyNjRwdG50b1AwamFXdllreE40RmlzWkRRU0EvaTJqWlJqSktSeApBZ01CQUFHalFqQkFNQTRHQTFVZER3RUIvd1FFQXdJQkJqQVBCZ05WSFJNQkFmOEVCVEFEQVFIL01CMEdBMVVkRGdRV0JCUnFjaVo2CjBCN3ZmZWM3YVZIVWJJMmZrQkptcXpBTkJna3Foa2lHOXcwQkFRc0ZBQU9DQVFFQWVaOGRsc2EyZVQ4aWpZZlRod01FWUdwcm1pNVoKaVhNUnJFUFI5UlAvalRrcndQSzlUM0NNcVMvcUY4UUxWSjdVRzVhWU16eW9yV0tpQUhhcldXbHVCaDEreExsRWpaaXZFdFJoMndvWgpSa2Z6Ni9kandVQUZRS1hTdC9TMW1qYS9xWWgyaUFSVkJDdWNoMzhhTnp4K0xhVWEyTlNKWHNxOXJEMXMyRzJ2MWZOMkQ4MDdpRGdpCm5XeVRtc1E5djRJYlpUK21EMTJxL09XeUZjcTFyY2E4UGRDRTZPb0djckJOT1RKNHZ6NFJuQXVrblpvaDgvQ2JDekI0MjhIY2gwUCsKdkdPYXlzWENITW5IamY4N0VsZ0k1clk5N0hvc1R2dURsczRNUEdtSFZIT2tjOEtULzFFUXJCVlVBZGo4QmJHSm9YOTBnNXBKMTl4TwplNHBJYjR0RjlnPT0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQoKRW50cnVzdCBSb290IENlcnRpZmljYXRpb24gQXV0aG9yaXR5IC0gRUMxCj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQotLS0tLUJFR0lOIENFUlRJRklDQVRFLS0tLS0KTUlJQytUQ0NBb0NnQXdJQkFnSU5BS2FMZVNrQUFBQUFVTkNSK1RBS0JnZ3Foa2pPUFFRREF6Q0J2ekVMTUFrR0ExVUVCaE1DVlZNeApGakFVQmdOVkJBb1REVVZ1ZEhKMWMzUXNJRWx1WXk0eEtEQW1CZ05WQkFzVEgxTmxaU0IzZDNjdVpXNTBjblZ6ZEM1dVpYUXZiR1ZuCllXd3RkR1Z5YlhNeE9UQTNCZ05WQkFzVE1DaGpLU0F5TURFeUlFVnVkSEoxYzNRc0lFbHVZeTRnTFNCbWIzSWdZWFYwYUc5eWFYcGwKWkNCMWMyVWdiMjVzZVRFek1ERUdBMVVFQXhNcVJXNTBjblZ6ZENCU2IyOTBJRU5sY25ScFptbGpZWFJwYjI0Z1FYVjBhRzl5YVhSNQpJQzBnUlVNeE1CNFhEVEV5TVRJeE9ERTFNalV6TmxvWERUTTNNVEl4T0RFMU5UVXpObG93Z2I4eEN6QUpCZ05WQkFZVEFsVlRNUll3CkZBWURWUVFLRXcxRmJuUnlkWE4wTENCSmJtTXVNU2d3SmdZRFZRUUxFeDlUWldVZ2QzZDNMbVZ1ZEhKMWMzUXVibVYwTDJ4bFoyRnMKTFhSbGNtMXpNVGt3TndZRFZRUUxFekFvWXlrZ01qQXhNaUJGYm5SeWRYTjBMQ0JKYm1NdUlDMGdabTl5SUdGMWRHaHZjbWw2WldRZwpkWE5sSUc5dWJIa3hNekF4QmdOVkJBTVRLa1Z1ZEhKMWMzUWdVbTl2ZENCRFpYSjBhV1pwWTJGMGFXOXVJRUYxZEdodmNtbDBlU0F0CklFVkRNVEIyTUJBR0J5cUdTTTQ5QWdFR0JTdUJCQUFpQTJJQUJJUVR5ZEM2YlVGNzRtelE2MVZmWmdJYUpQUmJpV2xINDdqQ2ZmSHkKQXNXZm9QWmIxWXNHR1laUFV4QnRCeVFub2FENDFVY1pZVXg5eXBNbjZuUU03MitXQ2Y1ajdIQmROcTFuZDY3Sm5YeFZSRHFpWTFFZgo5ZU5pMUtsSEJ6N01JS05DTUVBd0RnWURWUjBQQVFIL0JBUURBZ0VHTUE4R0ExVWRFd0VCL3dRRk1BTUJBZjh3SFFZRFZSME9CQllFCkZMZGo1eHJkamVrSXBsV0RwT0JxVUVGbEVVSkpNQW9HQ0NxR1NNNDlCQU1EQTJjQU1HUUNNR0Y1Mk9WQ1I5OGNybE9aRjdadkhIM2gKdnhHVTBRT0lkZVNOaWFTS2QwYmViV0h2QXZYN3RkL00vazcvL3FubXB3SXdXNW5YaFRjR3RYc0kvZXNuaTBxVStlSDZwNDRtQ09oOAprbWh0Yzlodkpxd2hBcmladHlaQld5VmdydEJJR3U0RwotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCgpDRkNBIEVWIFJPT1QKPT09PT09PT09PT09Ci0tLS0tQkVHSU4gQ0VSVElGSUNBVEUtLS0tLQpNSUlGalRDQ0EzV2dBd0lCQWdJRUdFck0xakFOQmdrcWhraUc5dzBCQVFzRkFEQldNUXN3Q1FZRFZRUUdFd0pEVGpFd01DNEdBMVVFCkNnd25RMmhwYm1FZ1JtbHVZVzVqYVdGc0lFTmxjblJwWm1sallYUnBiMjRnUVhWMGFHOXlhWFI1TVJVd0V3WURWUVFEREF4RFJrTkIKSUVWV0lGSlBUMVF3SGhjTk1USXdPREE0TURNd056QXhXaGNOTWpreE1qTXhNRE13TnpBeFdqQldNUXN3Q1FZRFZRUUdFd0pEVGpFdwpNQzRHQTFVRUNnd25RMmhwYm1FZ1JtbHVZVzVqYVdGc0lFTmxjblJwWm1sallYUnBiMjRnUVhWMGFHOXlhWFI1TVJVd0V3WURWUVFECkRBeERSa05CSUVWV0lGSlBUMVF3Z2dJaU1BMEdDU3FHU0liM0RRRUJBUVVBQTRJQ0R3QXdnZ0lLQW9JQ0FRRFhYV3ZORUQ4ZkJWblYKQlUwM3NRN3NtQ3VPRlIzNmswc1hnaUZ4RUZMWFVXUndGc0pWYVUyT0ZXMmZ2d3did3VDalo5WU1yTThpcnE5M1ZDcExUSXBUVW5yRAo3aTdlczNFbHdlbGRQZTZoTDZQM0tqekpJeDFxcXgyaHAvSHo3S0RWUk04VnozSXZIV09YNkpuNS9aT2tWSUJNVXRSU3F5NUozNUROCnVGKytQOTZoeWswZzFDWG9oQ2xUdDdHSUgvLzYycENmQ3FrdFFUK3g4UmdwN2haWkxEUkpHcWdHMTZpSTBnTnllakxpNm1oTmJpeVcKWlh2S1dmcnk0dDN1TUN6N3pFYXN4R1ByYjM4Mkt6UnpFcFIvMzh3bW52RnlYVkJsV1k5cHM0ZGVNbS9ER0lxMWxZK3dlamZlV2tVNwp4emJoNzJmUk9kT1hXM05pR1VndGh4d0crM1NZSUVsejhBWFNHN0dnbzdjYmNOT0lhYmxhMWpqMFl0d2xpM2kvK09oK3VGekpsVTlmCnB5MjVJR3ZQYTkzMURmU0N0L1N5Wmk0UUtQYVhXbnVXRm84QkdTMXNibjg1V0Faa2d3R0RnOE5Oa3QweXhvZWtOK2tXenFvdGFLOEsKZ1dVNmNNR2JyVTF0Vk1vcUxVdUZHN09BNW5CRkRXdGVOZkIvTzdpYzVBUndpUklsazlvS21TSmdhbU5nVG5ZR21FNjlnNjBkV0lvbApoZExIWlI0dGpzYmZ0c2JoZjRvRUlSVXBkUEErbkpDZERDN3hpajVhcWd3SkhzZlZQS1B0bDhNZU5QbzQrUWdPNDhCZEs0UFJWbXJKCnRxaFVVeTU0TW1jOWduOTAwUHZodGdWZ3VYRGJqZ3Y1RTFodmNXQVFVaEM1d1VFSjczSWZaekY0LzVZRmpRSURBUUFCbzJNd1lUQWYKQmdOVkhTTUVHREFXZ0JUai9pMzlLTkFMdGJxMm9zUy9CcW9GakpQN0x6QVBCZ05WSFJNQkFmOEVCVEFEQVFIL01BNEdBMVVkRHdFQgovd1FFQXdJQkJqQWRCZ05WSFE0RUZnUVU0LzR0L1NqUUM3VzZ0cUxFdndhcUJZeVQreTh3RFFZSktvWklodmNOQVFFTEJRQURnZ0lCCkFDWEd1bXZyaDh2ZWdqbVdQZkJFcDJ1RWN3UGVuU3RQdWlCL3ZIaXl6NWV3RzV6ejEza3U5VWkyMHZzWGlPYlRlai90VXhQUTRpOXEKZWNzQUl5am1IamRYTlltRXduWlBORGF0WjhQT1FRYUl4ZmZ1MkJxNDFndC9VUCtUcWhkTGpPenRVbUN5cEFicVR1djBheG45Ni9VYQo0Q1VxbXR6SFFUYjN5SFFGaERtVk9kWUxPNlFuK2dqWVhCNzRCR0JTRVNnb0EvL3ZVMllBcFVvMEZtWjgvUW1rcnA1bkdtOUJDMnNHCkU1dVBobkVGdEMrTmlXWXpLWFpVbWhINEovcXlQNUhnemcwYjh6QWFyYjhpWFJ2VHZ5VUZUZUdTR24rWm56eEVrOHJVUUVsc2dJZlgKQkRyRE1sSTFEbGI0cGQxOXhJc05FUjlUeXg2eUY3Wm9kMXJnMU12SUI2NzFPaTZPTjdmUUFVdERLWGVNT1plUGdscjRVZVdKb0JqbgphSDlkQ2k3N28wY09QYVlqZXNZQng0L0lYcjl0Z0ZhK2lpUzZNK3FmNFRJUm52SFNUNEQyRzBDdk9KNFJVSGx6RWhMTjVteWRMSWh5ClBEQ0JCcEVpNmxtdDJoa3VJc0tOdVl5SDRHYThjeU5mSVdSamdFajFvRHdZUFpUSVNFRWRRTHBlL3Y1V09hSEl6MTZlR1dSR0VOb1gKa2JjRmdLeUxtWko5NTZMWUJ3czJKK2RJZVdDS3c5Y1RYUGh5UU45S3k4K1pBQW9BQ3hHVjJsWkZBNGdLbjJmUTFYbXhxSTFBYlEzQwpla0Q2ODE5a1I1TExVN203V2M1UC9kQVZVd0hZMyt2WjVuYnYwQ083TzZsNXM5VUNLYzJKbzVZUFNqWG5Ua0xBZGMwSHorWXM2M3N1Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0KCk9JU1RFIFdJU2VLZXkgR2xvYmFsIFJvb3QgR0IgQ0EKPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQotLS0tLUJFR0lOIENFUlRJRklDQVRFLS0tLS0KTUlJRHRUQ0NBcDJnQXdJQkFnSVFkckVnVW5Ud2hZZEdzL2dqR3ZiQ3dEQU5CZ2txaGtpRzl3MEJBUXNGQURCdE1Rc3dDUVlEVlFRRwpFd0pEU0RFUU1BNEdBMVVFQ2hNSFYwbFRaVXRsZVRFaU1DQUdBMVVFQ3hNWlQwbFRWRVVnUm05MWJtUmhkR2x2YmlCRmJtUnZjbk5sClpERW9NQ1lHQTFVRUF4TWZUMGxUVkVVZ1YwbFRaVXRsZVNCSGJHOWlZV3dnVW05dmRDQkhRaUJEUVRBZUZ3MHhOREV5TURFeE5UQXcKTXpKYUZ3MHpPVEV5TURFeE5URXdNekZhTUcweEN6QUpCZ05WQkFZVEFrTklNUkF3RGdZRFZRUUtFd2RYU1ZObFMyVjVNU0l3SUFZRApWUVFMRXhsUFNWTlVSU0JHYjNWdVpHRjBhVzl1SUVWdVpHOXljMlZrTVNnd0pnWURWUVFERXg5UFNWTlVSU0JYU1ZObFMyVjVJRWRzCmIySmhiQ0JTYjI5MElFZENJRU5CTUlJQklqQU5CZ2txaGtpRzl3MEJBUUVGQUFPQ0FROEFNSUlCQ2dLQ0FRRUEyQmUzSEVva0t0YVgKc2NyaUh2dDlPTytZOWJJNW1FNG51QkZkZTlJbGxJaUNGU1pxR3pHN3FGc2hJU3ZZRDA2Zld2R3hXdVI1MWpJaksrRlR6SmxGWEh0UApyYnkvaDBvTFM1ZGFxUFpJN0gxN0RjMGhCdCtlRmYxQmlraTNJUFNoZWh0WDFGMVEvN3BuMkNPWkg4Zy80OTcvYjF0M3NXdHV1TWxrCjkrSEtRVVlPS1hIUXVTUDh5WUZmVHZkdjM3K0VyWE5rdTdkQ2ptbjIxSFlkZnAybnVGZUtVV2R5MTlTb3VKVlVRSE1EOXVyMDYvNG8KUW5jL25TTWJzclk5Z0JRSFRDNVA5OVVLRmcyOVprTTNmaU5EZWNOQWh2Vk1LZHFPbXEwTnBRU0hpQjZGNCtsVDFadklpd05qZU92ZwpHVXB1dXk5ck0yUllrNjFwdjQ4Yjc0Skl4d0lEQVFBQm8xRXdUekFMQmdOVkhROEVCQU1DQVlZd0R3WURWUjBUQVFIL0JBVXdBd0VCCi96QWRCZ05WSFE0RUZnUVVOUS9JTm1OZTRxUHMrVHRtRmM1UlV1T1JtajB3RUFZSkt3WUJCQUdDTnhVQkJBTUNBUUF3RFFZSktvWkkKaHZjTkFRRUxCUUFEZ2dFQkFFQk0rNGV5bVlHUWZwM0ZzTEFtelloN0t6S05icmdoY1ZpWGZhNDNGSzgrNS9lYTRuMzJjWmlaQktwRApkSGlqNDBsaFBuT01UWlRnK1hIRXRoWU9VM2dmMXFLSEx3STVnU2s4cnhXWUlURCtLSkFBak5IaHkvcGV5UDM0RUVZN29uaENrUmQwClZRcmVVR2ROWnRHbi8vM1p3TFdvbzRyT1p2VVBRODJuSzFkN1kwWnFxaTVTMlBUdDRXMnRLWkI0U0xyaEk2cWppZXkxcTViQXRFdWkKSFplZWV2SnVRSEhmYVBGbFRjNThCZDlUWmFtbDhMR1hCSEFWUmdPWTFOSy9WTFNnV0gxU2I5cFdKbUxVMk51Sk1XOGM4Q0xDMDJJYwpOYzFNYVJWVUdwQ1kzdXNlWDhwM3g4dU9QVU5wbkpwWTBDUTczeHRBbG40MXJZSEhUbkc2aUJNPQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCgpTWkFGSVIgUk9PVCBDQTIKPT09PT09PT09PT09PT09Ci0tLS0tQkVHSU4gQ0VSVElGSUNBVEUtLS0tLQpNSUlEY2pDQ0FscWdBd0lCQWdJVVBvcGRCK3hWMGpMVnQrTzJYd0hyTGR6azF1UXdEUVlKS29aSWh2Y05BUUVMQlFBd1VURUxNQWtHCkExVUVCaE1DVUV3eEtEQW1CZ05WQkFvTUgwdHlZV3B2ZDJFZ1NYcGlZU0JTYjNwc2FXTjZaVzVwYjNkaElGTXVRUzR4R0RBV0JnTlYKQkFNTUQxTmFRVVpKVWlCU1QwOVVJRU5CTWpBZUZ3MHhOVEV3TVRrd056UXpNekJhRncwek5URXdNVGt3TnpRek16QmFNRkV4Q3pBSgpCZ05WQkFZVEFsQk1NU2d3SmdZRFZRUUtEQjlMY21GcWIzZGhJRWw2WW1FZ1VtOTZiR2xqZW1WdWFXOTNZU0JUTGtFdU1SZ3dGZ1lEClZRUUREQTlUV2tGR1NWSWdVazlQVkNCRFFUSXdnZ0VpTUEwR0NTcUdTSWIzRFFFQkFRVUFBNElCRHdBd2dnRUtBb0lCQVFDM3ZENVEKcUV2TlFMWE9ZZWVXeXJTaDJnd2lzUHExZTNZQWQ0d0x6MzJvaHN3bVVlUWdQWVVNMWxqajUvUXFHSjNhMGE0bTd1dFQzUFNRMWhOSwpESkE4dy9UYTBvNE5ranJjc2JIL09ON0R1aTFmZ0xrQ3ZVcWRHdyswdzhMQlp3UGQzQnVjUGJPdzNnQWVxRFJIdTVyci9nc1V2VGFFCjJnMGd2L3BieTZrV0lLMDVZTzR2ZGJibmw1ejVQdjErVFc5TkwrK0lEV3I2M2ZFOWJpQ2xvQkswVFhDNXp0ZHlPNG1UcDRDRUhDZEoKY2ttMS96dVZuc0hNeUFIczZBNktDcGJuczZhSDVkYjVCU3NObDBCd1BMcXNkVnFjMVUyZEFnclNTNXRtUzBZSEYyV3RuMnlJQU53aQppZURoWk5SbnZERjVZVHk3eWtITlhHb0F5RHc0amxpdkFnTUJBQUdqUWpCQU1BOEdBMVVkRXdFQi93UUZNQU1CQWY4d0RnWURWUjBQCkFRSC9CQVFEQWdFR01CMEdBMVVkRGdRV0JCUXVGcWxLR0xYTHpQVnZVUE1qWC9oZDU2end5REFOQmdrcWhraUc5dzBCQVFzRkFBT0MKQVFFQXRYUDRBOXhaV3gxMjZhTXFlNUFvc2szQU0wK3FtckhVdU9Rbi82bVdtYzVHNEcxOFRLSTRwQVp3OFBSQkVldy9SNDAvY29mNQpPLzJrYnl0VEFPRC9PYmxxQnc3ckhSejJvbktReTRJOUVZS0wwcnVmS3E4aDVtT0duWGtaNy9lN0REV1F3NHJ0VHcvMXpCTFpwRDY3Cm9Qd2dsVjlQSmk4Ukk0Tk9kUWNQdjV2UnRCM3BFQVQreW1DUG9reTRyYy9oa0EvTnJnckhYWHUzVU5MVVlmclZGZHZYbjRkUlZPdWwKNCt2SmhhQWxJRGY3anM0TU5JVGhQSUd5ZDA1RHBZaGZobWVoUGVhMFhHRzJQdHYrdHlqRm9nZXV0Y3JLalNvUzc1ZnR3akNreVNwNgorL05OSXh1Wk16U2dMdldwQ3ovVVhlSFBoSi9pR2NKZml0WWdIdU56dHc9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCgpDZXJ0dW0gVHJ1c3RlZCBOZXR3b3JrIENBIDIKPT09PT09PT09PT09PT09PT09PT09PT09PT09Ci0tLS0tQkVHSU4gQ0VSVElGSUNBVEUtLS0tLQpNSUlGMGpDQ0E3cWdBd0lCQWdJUUlkYlFTazhsRDhreU4veXFYaEtONlRBTkJna3Foa2lHOXcwQkFRMEZBRENCZ0RFTE1Ba0dBMVVFCkJoTUNVRXd4SWpBZ0JnTlZCQW9UR1ZWdWFYcGxkRzhnVkdWamFHNXZiRzluYVdWeklGTXVRUzR4SnpBbEJnTlZCQXNUSGtObGNuUjEKYlNCRFpYSjBhV1pwWTJGMGFXOXVJRUYxZEdodmNtbDBlVEVrTUNJR0ExVUVBeE1iUTJWeWRIVnRJRlJ5ZFhOMFpXUWdUbVYwZDI5eQpheUJEUVNBeU1DSVlEekl3TVRFeE1EQTJNRGd6T1RVMldoZ1BNakEwTmpFd01EWXdPRE01TlRaYU1JR0FNUXN3Q1FZRFZRUUdFd0pRClRERWlNQ0FHQTFVRUNoTVpWVzVwZW1WMGJ5QlVaV05vYm05c2IyZHBaWE1nVXk1QkxqRW5NQ1VHQTFVRUN4TWVRMlZ5ZEhWdElFTmwKY25ScFptbGpZWFJwYjI0Z1FYVjBhRzl5YVhSNU1TUXdJZ1lEVlFRREV4dERaWEowZFcwZ1ZISjFjM1JsWkNCT1pYUjNiM0pySUVOQgpJREl3Z2dJaU1BMEdDU3FHU0liM0RRRUJBUVVBQTRJQ0R3QXdnZ0lLQW9JQ0FRQzkrWGo0NXRXQURHU2RoaHVXWkdjL0lqb2VkUUY5CjcvdGNaNHpKekZ4cnFaSG11VUxsSUV1YjJwdDd1WmxkMlp1QVM5ZUVRQ3NuMCtpNk1McytDUnFuU1pYdkswQWt3cGZIcCs2YkplK28KQ2dDWGhWcXFuZHdweWVJMUIrdHdUVXJXd2JOV3VLRkJPSnZSK3pGL2orQmY0YkUvRDQ0V1NXRFhCbzBZK2FvbUVLc3EwOURSWjQwYgpScjVITU5VdWN0SEZZOXJuWTNsRWZrdGpKSW1HTGpRL0tVeFNpeXFud09LUktJbTV3RnY1SGRubko2My9tZ0tYd2NaUWtwc0NMTDJwCnVUUlpDcitFU3YvZi9yT2Y2OW1lNEpnajdLWnJkeFlxMjh5dE94eWtoOXhHYzE0WlltaEZWK1NRZ2tLN1F0YndZZURCb3oxbW8xMzAKR082SXlZMFhSU21aTW5VQ01lNHBKc2hyQXVhMVlrVi9OeFZhSTJpSjFEN2VUaWV3OEVBTXZFMFh5MDJpc3g3UUJscmQ5cFBQVjNXWgo5ZnFHR21kNHM3K1cvalRjdmVkU1Z1V3o1WFY3MTBHUkJkeGRhZU9WRFVPNS9JT1dPWlY3YklCYVR4Tnl4dGQ5S1hwRXVsS2tLdFZCClJna2cvaUtndGxzd2pieUpETlhYY1BpSFV2M2E3NnhSTGdlelR2N1FDZHB3NzVqNlZ1WnQyN1ZYUzl6bExDVVZ5SjR1ZUU3NDJweWUKaGl6S1YvTWE1Y2lTaXhxQ2xuckR2RkFTYWRnT1drYUxPdXNtK2lQSnRyQ0J2a0lBcFBqVy9qQXV4OUpHOXVXT2RmM3l6TG5RaDF2TQpCaEJndTRNMXQxNW4za2ZzbVVqeHBLRVYvcTJNWW80NVZVODVGcm14WTUzL3R3SURBUUFCbzBJd1FEQVBCZ05WSFJNQkFmOEVCVEFECkFRSC9NQjBHQTFVZERnUVdCQlMyb1ZRNUFzT2dQNDZLdlByVStCeW0wVG9PL1RBT0JnTlZIUThCQWY4RUJBTUNBUVl3RFFZSktvWkkKaHZjTkFRRU5CUUFEZ2dJQkFIR2xEczdrNmI4L09OV0pXc1FDWWZ0TXhSUVhMWXRQVTJzUUYveGxoTWNRU1pEZTI4Y21rNGdtYjNEVwpBbDQ1b1BlUHE1YTFwUk5jZ1JSdERvR0NFUnVLVHNaUHBkMWlIa1RmQ1ZuMFczY0xOK21MSU1iNENrNHVXQnpyTTlEUGhtREoydnVBCkw1NU1ZSVI0UFNGazF2dEJIeGdQNThsMWNiMjlYTjQwaHo1QnNBNzJ1ZFkvQ1JPV0ZDL2VtaDFhdVZiT05UcXdYM0JOWHVNcDhTTW8KY2xtMnE4S01aaVljZHl3bWRqV0xLS2Rwb1BrNzlTUGRoUkIweVpBRFZwSG5yN3BIMUJLWEVTTGpva21VYk9lM2xFdTZMYVRhTTR0TQpwa1QvV2p6R0hXVFl0VEhrcGp4NnFGY0wyKzFoR3N2eHpuTjNZNlNIYjB4Uk9OYmtYOGVmdG9FcTVJVkllVmhlTy9qYkFvSm53VG5iCnczUkxQVFllK1NtVGlHaGJxRVFaSWZDbjZJRU5MT2lUTnJRM3NzcXdHeVo2bWlVZm1wcUFua3NxUC91am12NXpNbkhDbnNaeTRZcG8KSi9Ia0Q3VEVUS1Zoay9pWEVBY3FNQ1dwdWNoeHVPOW96QzErOWVCK0Q0S29iN2E2YklORGQ4MktraGVobmx0NEZqMUY0ak55M2VGbQp5cG5UeWNVbS9RMW9CRWF1dHRtYmpMNFp2ckhHOGhualhBTEtMTmh2U2dmWnlUWGFRSFh5eEtjWmI1NUNFSmgxNXBXTFlMenR4UkxYCmlzN1ZtRnhXbGdQRjduY0dOZi9QNU80L0UySHUyOW90aGZETnJwMnlHQWxGdzVLaGNoZjhSN2FnQ3l6eHhONURhQWhxWHp2d2RtUDcKekFZc3BzYmlEclc1dmlTUAotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCgpIZWxsZW5pYyBBY2FkZW1pYyBhbmQgUmVzZWFyY2ggSW5zdGl0dXRpb25zIFJvb3RDQSAyMDE1Cj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KLS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUdDekNDQS9PZ0F3SUJBZ0lCQURBTkJna3Foa2lHOXcwQkFRc0ZBRENCcGpFTE1Ba0dBMVVFQmhNQ1IxSXhEekFOQmdOVkJBY1QKQmtGMGFHVnVjekZFTUVJR0ExVUVDaE03U0dWc2JHVnVhV01nUVdOaFpHVnRhV01nWVc1a0lGSmxjMlZoY21Ob0lFbHVjM1JwZEhWMAphVzl1Y3lCRFpYSjBMaUJCZFhSb2IzSnBkSGt4UURBK0JnTlZCQU1UTjBobGJHeGxibWxqSUVGallXUmxiV2xqSUdGdVpDQlNaWE5sCllYSmphQ0JKYm5OMGFYUjFkR2x2Ym5NZ1VtOXZkRU5CSURJd01UVXdIaGNOTVRVd056QTNNVEF4TVRJeFdoY05OREF3TmpNd01UQXgKTVRJeFdqQ0JwakVMTUFrR0ExVUVCaE1DUjFJeER6QU5CZ05WQkFjVEJrRjBhR1Z1Y3pGRU1FSUdBMVVFQ2hNN1NHVnNiR1Z1YVdNZwpRV05oWkdWdGFXTWdZVzVrSUZKbGMyVmhjbU5vSUVsdWMzUnBkSFYwYVc5dWN5QkRaWEowTGlCQmRYUm9iM0pwZEhreFFEQStCZ05WCkJBTVROMGhsYkd4bGJtbGpJRUZqWVdSbGJXbGpJR0Z1WkNCU1pYTmxZWEpqYUNCSmJuTjBhWFIxZEdsdmJuTWdVbTl2ZEVOQklESXcKTVRVd2dnSWlNQTBHQ1NxR1NJYjNEUUVCQVFVQUE0SUNEd0F3Z2dJS0FvSUNBUURDK0trL0c0bjhQRHdFWFQyUU5yQ1JPbms4WmxydgpiVGtCU1JxMHQ4OS9UU05UdDVBQTR4TXFLS1l4OFpFQTR5anNyaUZCemgvYS9YMFNXd0dERDdtd1g1bmg4aEtEZ0UwR1B0K3NyK2VoCmlHc3hyL0NMMEJnenVOdEZhalQwQW9Ba0tBb0NGWlZlZGlvTm1Ub1VXL2JMeTFPOEUwMEJpRGVVSlJ0Q3ZDTFlqcU9XWGpyWk10cysKNlBBUVplMTA0UytuZks4bk5Mc3BmWnUyenduSTVkTUsvSWhsWlhRSzNITWNYTTFBc1J6VXRvU01URkRQYUk2b1dhN0NKMDZDb2pYZApGUFFmLzdKMzFZY3ZxbTU5SkNmbnhzc201dVgrWndkajJFVU4zVHBaWlRsWWVwS1pjajJjaEY2SUlialY5Q3o4MlhCU1QzaTR2VHdyCmk1V1k5YlBSYU04Z0ZINU1YRi9uaStYMU5ZRVpOOWNSQ0xkbXZ0Tkt6b05YQURyRGdmZ1h5NUkyWGRHajJIVWI0WXNuNm5wSVFmMUYKR1FhdEo1bE93WEJIM2JXZmdWTVM1YkdNU0YweFF4ZmpqTVo2WTVaTEtUQk9oRTVpR1Y0OHpwZVFwWDhCNjUzZytJdUozU1dZUFpLMgpmdS9aOFZGUmZTMG15R2xaWWVDc2FyZ3FOaEVFZWxDOU1vUytMOXh5MWRjZEZrZmtSMllnUC9TV3hhK09BWHFsRDNwazlRMFloOW11CmlOWDZoTUU2d0drb0xmSU5hRkdxNDZWM3hxU1FEcUUzaXpFalI4RUpDT3R1OTNpYjE0TDhoQ0NaU1JtMkVrYXgrMFZWRnFtalpheWMKQncvcWE5d2ZMZ1p5N0lhSUV1UXQyMThGTCtUd0E5TW1NK2VBd3MxQ29SYzBDd0lEQVFBQm8wSXdRREFQQmdOVkhSTUJBZjhFQlRBRApBUUgvTUE0R0ExVWREd0VCL3dRRUF3SUJCakFkQmdOVkhRNEVGZ1FVY1JWbnlNakp2WFZkY3RBNEdHcWQ4M0VrVkFzd0RRWUpLb1pJCmh2Y05BUUVMQlFBRGdnSUJBSFc3YlZSTHFoQllSalR5WXRjV05sMElYdFZzeUllOXRDNUc4akg0Zk9wQ3RaTVdWZHloREJLZzJtRisKRDFoWWMyUnl4K2hGanR5cDhpWS94bm1Nc1ZNSU00R3dWaE8rNWxGYzJKc0tUMHVjVmxNQzZVLzJEV0RxVFVKVjZId2JJU0hUR3pyTQpkL0s0a1BGb3gvbGEvdm90OUwvSjlVVWJ6amdRS2plS2VhTzA0d2xzaFlhVC80bVdKM2lCajJmalJuUlVqdGtOYWVKSzlFMTBBLyt5CmQrMlZaNWZrc2NXcnYyb2o2TlNVNGtRb1lzUkw0dkRZNGlsckduQitKR0dUZTA4RE1pVU5SU1FybHJSR2FyOUtDL2VhajhHc0dzVm4KODI4MDB2cHpZNHp2RnJDb3BFWXErT3NTN0hLMDcvZ3Jmb3hTd0l1RVZQa3ZQdU5WcU54bXNkbmhYOWl6akZrMFdhU3JUMnk3SHhqYgpkYXZZeTVMTmxEaGhEZ2NHSDB0R0VQRVZ2bzJGWER0S0s0RjVEN1JwbjBsUWwwMzNEbFpkd0pWcXdqYkRHMmpKOVNyY1I1cStzczdGCkplajZBN25hK1JadWtZVDFIQ2pJL0NiTTF4eVFWcWRmYnpvRXZNMTRpUXVPRHkranFrK2lHeEk5RmdoQUQvRkdUTmVxZXdqQkN2VnQKSjk0Q2o4ckR0U3ZLNmV2SUlWTTRwY3c3MkhjM01LSlAyVy9SOGtDdFFYb1h4ZFpLTlltM1FkVjhobjlWVFlOS3BYTWd3RHF2a1BHYQpKSTdaam5IS2U3aUcycktQbVQ0ZEV3MFNFZTdVcS9EcEZYWUM1T0RmcWlBZVcyR0ZaRUNwa0pjTnJWUFNXaDJIYWdDWFpXSzB2bTlxCnAvVXNRdTB5cmJZaG5yNjgKLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQoKSGVsbGVuaWMgQWNhZGVtaWMgYW5kIFJlc2VhcmNoIEluc3RpdHV0aW9ucyBFQ0MgUm9vdENBIDIwMTUKPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KLS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUN3ekNDQWtxZ0F3SUJBZ0lCQURBS0JnZ3Foa2pPUFFRREFqQ0JxakVMTUFrR0ExVUVCaE1DUjFJeER6QU5CZ05WQkFjVEJrRjAKYUdWdWN6RkVNRUlHQTFVRUNoTTdTR1ZzYkdWdWFXTWdRV05oWkdWdGFXTWdZVzVrSUZKbGMyVmhjbU5vSUVsdWMzUnBkSFYwYVc5dQpjeUJEWlhKMExpQkJkWFJvYjNKcGRIa3hSREJDQmdOVkJBTVRPMGhsYkd4bGJtbGpJRUZqWVdSbGJXbGpJR0Z1WkNCU1pYTmxZWEpqCmFDQkpibk4wYVhSMWRHbHZibk1nUlVORElGSnZiM1JEUVNBeU1ERTFNQjRYRFRFMU1EY3dOekV3TXpjeE1sb1hEVFF3TURZek1ERXcKTXpjeE1sb3dnYW94Q3pBSkJnTlZCQVlUQWtkU01ROHdEUVlEVlFRSEV3WkJkR2hsYm5NeFJEQkNCZ05WQkFvVE8waGxiR3hsYm1sagpJRUZqWVdSbGJXbGpJR0Z1WkNCU1pYTmxZWEpqYUNCSmJuTjBhWFIxZEdsdmJuTWdRMlZ5ZEM0Z1FYVjBhRzl5YVhSNU1VUXdRZ1lEClZRUURFenRJWld4c1pXNXBZeUJCWTJGa1pXMXBZeUJoYm1RZ1VtVnpaV0Z5WTJnZ1NXNXpkR2wwZFhScGIyNXpJRVZEUXlCU2IyOTAKUTBFZ01qQXhOVEIyTUJBR0J5cUdTTTQ5QWdFR0JTdUJCQUFpQTJJQUJKS2dRZWhMZ29SYzR2Z3hFWm1HWkU0SkpTK2RRUzhLcmpWUApkSld5VVdScmpXdm1QM0NWOEFWRVI2WnlPRkIybFFKYWpxNG9udmt0VHBudkxFaHZUQ1VwNk5GeFc5OGR3WFUzdE5mNmUzcENuR29LClZscDhhUXVxZ0Fra2JIN0JScU5DTUVBd0R3WURWUjBUQVFIL0JBVXdBd0VCL3pBT0JnTlZIUThCQWY4RUJBTUNBUVl3SFFZRFZSME8KQkJZRUZMUWlDNEtaSkFFT25MdmtEdjIvKzVjZ2s1a3FNQW9HQ0NxR1NNNDlCQU1DQTJjQU1HUUNNR2ZPRm1JNG9xeGlSYWVwbFNUQQpHaWVjTWp2QXdOVzZxZWY0QkVOVGhlNVNJZDZkOVNXRFBwNVlTeS9YWnhNT0lRSXdCZUYxQWQ1bzdTb2ZUVXdKQ0Ezc1M2MWtGeWpuCmRjNUZaWEloRjhzaVFRNk1FNWc0bWxSdG04cmlmT29DV0NLUgotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCgpJU1JHIFJvb3QgWDEKPT09PT09PT09PT09Ci0tLS0tQkVHSU4gQ0VSVElGSUNBVEUtLS0tLQpNSUlGYXpDQ0ExT2dBd0lCQWdJUkFJSVF6N0RTUU9OWlJHUGd1Mk9DaXdBd0RRWUpLb1pJaHZjTkFRRUxCUUF3VHpFTE1Ba0dBMVVFCkJoTUNWVk14S1RBbkJnTlZCQW9USUVsdWRHVnlibVYwSUZObFkzVnlhWFI1SUZKbGMyVmhjbU5vSUVkeWIzVndNUlV3RXdZRFZRUUQKRXd4SlUxSkhJRkp2YjNRZ1dERXdIaGNOTVRVd05qQTBNVEV3TkRNNFdoY05NelV3TmpBME1URXdORE00V2pCUE1Rc3dDUVlEVlFRRwpFd0pWVXpFcE1DY0dBMVVFQ2hNZ1NXNTBaWEp1WlhRZ1UyVmpkWEpwZEhrZ1VtVnpaV0Z5WTJnZ1IzSnZkWEF4RlRBVEJnTlZCQU1UCkRFbFRVa2NnVW05dmRDQllNVENDQWlJd0RRWUpLb1pJaHZjTkFRRUJCUUFEZ2dJUEFEQ0NBZ29DZ2dJQkFLM29KSFAwRkRmem01NHIKVnlnY2g3N2N0OTg0a0l4dVBPWlhvSGozZGNLaS92VnFidllBVHlqYjNtaUdiRVNUdHJGai9SUVNhNzhmMHVveG15RiswVE04dWtqMQozWG5mczdqL0V2RWhta3ZCaW9aeGFVcG1abXlQZmp4d3Y2MHBJZ2J6NU1EbWdLN2lTNCszbVg2VUE1L1RSNWQ4bVVnalUrZzRyazhLCmI0TXUwVWxYaklCMHR0b3YwRGlOZXdOd0lSdDE4akE4K28rdTNkcGpxK3NXVDhLT0VVdCt6d3ZvLzdWM0x2U3llMHJnVEJJbERIQ04KQXltZzRWTWs3QlBaN2htL0VMTktqRCtKbzJGUjNxeUhCNVQwWTNIc0x1SnZXNWlCNFlsY05IbHNkdTg3a0dKNTV0dWttaThteGRBUQo0UTdlMlJDT0Z2dTM5NmozeCtVQ0I1aVBOZ2lWNStJM2xnMDJkWjc3RG5LeEhadThBL2xKQmRpQjNRVzBLdFpCNmF3QmRwVUtEOWpmCjFiMFNIelV2S0JkczBwakJxQWxrZDI1SE43ck9yRmxlYUoxL2N0YUp4UVpCS1Q1WlB0MG05U1RKRWFkYW8weEFIMGFobWJXbk9sRnUKaGp1ZWZYS25FZ1Y0V2UwK1VYZ1ZDd09QamRBdkJiSStlMG9jUzNNRkV2ekc2dUJRRTN4RGszU3p5blRuamg4QkNOQXcxRnR4TnJRSAp1c0V3TUZ4SXQ0STdtS1o5WUlxaW95bUN6THE5Z3dRYm9vTURRYUhXQmZFYndyYndxSHlHTzBhb1NDcUkzSGFhZHI4ZmFxVTlHWS9yCk9QTmszc2dyRFFvby8vZmI0aFZDMUNMUUoxM2hlZjRZNTNDSXJVN20yWXM2eHQwblVXNy92R1QxTTBOUEFnTUJBQUdqUWpCQU1BNEcKQTFVZER3RUIvd1FFQXdJQkJqQVBCZ05WSFJNQkFmOEVCVEFEQVFIL01CMEdBMVVkRGdRV0JCUjV0Rm5tZTdibDVBRnpnQWlJeUJwWQo5dW1iYmpBTkJna3Foa2lHOXcwQkFRc0ZBQU9DQWdFQVZSOVlxYnl5cUZEUURMSFlHbWtnSnlrSXJHRjFYSXB1K0lMbGFTL1Y5bFpMCnViaHpFRm5USVpkKzUweHgrN0xTWUswNXFBdnFGeUZXaGZGUURsbnJ6dUJaNmJySkZlK0duWStFZ1BiazZaR1EzQmViWWh0RjhHYVYKMG54dnd1bzc3eC9QeTlhdUovR3BzTWl1L1gxK212b2lCT3YvMlgvcWtTc2lzUmNPai9LS05GdFkyUHdCeVZTNXVDYk1pb2d6aVV3dApoRHlDMys2V1Z3VzZMTHYzeExmSFRqdUN2akhJSW5Oemt0SENnS1E1T1JBekk0Sk1QSitHc2xXWUhiNHBob3dpbTU3aWF6dFhPb0p3ClRkd0p4NG5MQ2dkTmJPaGRqc252enF2SHU3VXJUa1hXU3RBbXpPVnl5Z2hxcFpYakZhSDNwTzNKTEYrbCsvK3NLQUl1dnRkN3UrTngKZTVBVzB3ZGVSbE44TndkQ2pOUEVscHpWbWJVcTRKVWFnRWl1VERrSHpzeEhwRktWSzdxNCs2M1NNMU45NVIxTmJkV2hzY2RDYitaQQpKelZjb3lpM0I0M25qVE9RNXlPZisxQ2NlV3hHMWJRVnM1WnVmcHNNbGpxNFVpMC8xbHZoK3dqQ2hQNGtxS09KMnF4cTRSZ3FzYWhECllWdlRIOXc3alhieUxlaU5kZDhYTTJ3OVUvdDd5MEZmLzl5aTBHRTQ0WmE0ckYyTE45ZDExVFBBbVJHdW5VSEJjbldFdmdKQlFsOW4KSkVpVTBac252Z2MvdWJoUGdYUlI0WHEzN1owajRyN2cxU2dFRXp3eEE1N2RlbXlQeGdjWXhuL2VSNDQvS0o0RUJzK2xWRFIzdmV5SgptK2tYUTk5YjIxLytqaDVYb3MxQW5YNWlJdHJlR0NjPQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCgpBQyBSQUlaIEZOTVQtUkNNCj09PT09PT09PT09PT09PT0KLS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUZnekNDQTJ1Z0F3SUJBZ0lQWFpPTk1HYzJ5QVlkR3NkVWhHa0hNQTBHQ1NxR1NJYjNEUUVCQ3dVQU1Ec3hDekFKQmdOVkJBWVQKQWtWVE1SRXdEd1lEVlFRS0RBaEdUazFVTFZKRFRURVpNQmNHQTFVRUN3d1FRVU1nVWtGSldpQkdUazFVTFZKRFRUQWVGdzB3T0RFdwpNamt4TlRVNU5UWmFGdzB6TURBeE1ERXdNREF3TURCYU1Ec3hDekFKQmdOVkJBWVRBa1ZUTVJFd0R3WURWUVFLREFoR1RrMVVMVkpEClRURVpNQmNHQTFVRUN3d1FRVU1nVWtGSldpQkdUazFVTFZKRFRUQ0NBaUl3RFFZSktvWklodmNOQVFFQkJRQURnZ0lQQURDQ0Fnb0MKZ2dJQkFMcHhnSHBNaG01L3lCTnR3TVo5SEFDWGp5d01JN3NRbWtDcEdyZUhpUGliVm1yNzVudU9pNUtPcHlWZFdSSGJOaTYzVVJjZgpxUWdmQkJja1dLbzNTaGpmNVRuVVYvM1h3U3lSQVpIaUl0UUR3Rmo4ZDBmc2p6NTBRN3FzTkkxTk9IWm5qckRJYnpBeldIRmN0UFZyCmJ0UUJVTGdUZm14S28wblJJQm51dk1BcEdHV24zdjd2M1FxUUllY2FaNUpDRUpoZlR6QzhQaHhGdEJEWGFFQVV3RUQ2NTNjWGV1WUwKajJWYlBObWFVdHUxdlo1R3p6M3JrUVVDd0pheWRreE5FSlk3a3ZxY2Z3K1ozNzRqTlVVZUFseit0YWlibVNYYVh2TWl3em4xNUNvdQowOFlmeEd5cXhSeHFBUVZLTDlMRndhZzBKbDFtcGRJQ0lma1l0d2IxVHBsdnFLdE1VZWpQVUJqRmQ4ZzVDU3hKa2pLWnFMc1hGM213CldzWG1vOFJaWlVjMWcxNnA2RFVMbWJ2a3pTREdtMG9HT2JWby9DSzY3bFdNSzA3cTg3SGovTGFabXRWQytuRk5DTStISG1weGZmblQKdE9tbGNZRjd3azVIbHFYMmRvV2pLSS9wZ0c2QlU2VnRYN2hJK2NMNU5xWXVTZis0bHNLTUI3T2JpRmo4NnhzYzNpMXc0cGVTTUtHSgo0N3hWcUNmV1MrMlFyWXY2WXlWWkxhZzEzY3FYTTd6bHpjZWQwZXp2WGc1S2tBWW1ZNjI1MlRVdEI3cDJaU3lzVjQ5OTlBZVUxNEVDCmxsMmpCMG5WZXRCWCtSdm5VMFoxcXJCNVFzdG9jUWpwWUwwNWFjNzByOE5XUU1ldFVxSUo1RytHUjRvZjZ5Z25YWU1ncndUSmJGYWEKaTBiMUFnTUJBQUdqZ1lNd2dZQXdEd1lEVlIwVEFRSC9CQVV3QXdFQi96QU9CZ05WSFE4QkFmOEVCQU1DQVFZd0hRWURWUjBPQkJZRQpGUGQ5eGYzRTZKb2JkMlNuOVIyZ3pMK0hZSnB0TUQ0R0ExVWRJQVEzTURVd013WUVWUjBnQURBck1Da0dDQ3NHQVFVRkJ3SUJGaDFvCmRIUndPaTh2ZDNkM0xtTmxjblF1Wm01dGRDNWxjeTlrY0dOekx6QU5CZ2txaGtpRzl3MEJBUXNGQUFPQ0FnRUFCNUJLMy9NalR2REQKbkZGbG01d2lvb29NaGZOektXdE4vZ0hpcVF4akFiOEVaNldkbUYvOUFSUDY3SnBpNlliK3RtTFNia3lVKzhCMVJYeGxEUGl5TjgrcwpEOCtOYi9rWjk0L3NIdkp3bnZES3VPKzMvM1kzZGx2MmJvanpyMkl5SXBNTk9tcU9GR1lNTFZOMFYyVWUxYkxkSTRFN3BXWWpKMmNKCmorRjNxa1BOWlZFSTdWRlkvdVk1K2N0SGhLUVY4WGE3cE82a084UmY3N0l6bGhFWXQ4bGx2aGpobzZUYytoajUwN3dUbXpsNk5MclQKUWZ2Nk1vb3F0eXVHQzJtRE9MN05paTRMY0syTkpwTHVIdlVCS3dyWjFwZWJidUNvR1J3NklZc01Ia0N0QStmZFpuNzF1U0FOQStpVworWUpGMURuZ29BQmQxNWptZlo1bmM4T2FLdmVyaTZFNkZPODB2RklPaVppYUJFQ0VIWDVGYVpOWHp1dk8rRkI4VHh4dUJFT2IrZFk3Ckl4anA2bzdSVFVhTjhUdmthc3E2K3lPM20vcVpBU2xhV0ZvdDQvblViUTRtcmNGdU5Md3krQXdGK21XajJ6czNneUxwMXR4eU0vMWQKOGlDOWRqd2oyaWozK1J2cldXVFYzRjl5ZmlEOHpZbTFrR2ROWW5vL1RxMGR3em4rZXZRb0Z0OUI5a2lBQmRjUFVYbXNFS3ZVN0FObQo1bXF3dWpHU1FrQnF2anJUY3VGcU4xVzhyQjJWdDJsaDhrT1JkT2FnMHdva1JxRUlyOWJhUlJtVzFGTWRXNFI1OE1EM1IrK0xqOFVHCnJwMU1ZcDMvUmdUNDA4bTJFQ1ZBZGY0V3FzbEtZSVl2dXU4d2QrUlU0cmlFbVZpQXFoT0xVVHBQU1BhTHRyTT0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQoKQW1hem9uIFJvb3QgQ0EgMQo9PT09PT09PT09PT09PT09Ci0tLS0tQkVHSU4gQ0VSVElGSUNBVEUtLS0tLQpNSUlEUVRDQ0FpbWdBd0lCQWdJVEJteWZ6NW0vakFvNTR2QjRpa1BtbGpaYnlqQU5CZ2txaGtpRzl3MEJBUXNGQURBNU1Rc3dDUVlEClZRUUdFd0pWVXpFUE1BMEdBMVVFQ2hNR1FXMWhlbTl1TVJrd0Z3WURWUVFERXhCQmJXRjZiMjRnVW05dmRDQkRRU0F4TUI0WERURTEKTURVeU5qQXdNREF3TUZvWERUTTRNREV4TnpBd01EQXdNRm93T1RFTE1Ba0dBMVVFQmhNQ1ZWTXhEekFOQmdOVkJBb1RCa0Z0WVhwdgpiakVaTUJjR0ExVUVBeE1RUVcxaGVtOXVJRkp2YjNRZ1EwRWdNVENDQVNJd0RRWUpLb1pJaHZjTkFRRUJCUUFEZ2dFUEFEQ0NBUW9DCmdnRUJBTEo0Z0hIS2VOWGpjYTlIZ0ZCMGZXN1kxNGgyOUpsbzkxZ2hZUGwwaEFFdnJBSXRodE9nUTNwT3NxVFFOcm9Cdm8zYlNNZ0gKRnpaTTlPNklJOGMrNnpmMXRSbjRTV2l3M3RlNWRqZ2RZWjZrL29JMnBlVktWdVJGNGZuOXRCYjZkTnFjbXpVNUwvcXdJRkFHYkhyUQpnTEttK2Evc1J4bVBVRGdIM0tLSE9WajR1dFdwK1Vobk1KYnVsSGhlYjRtalVjQXdobWFoUldhNlZPdWp3NUg1U056LzBlZ3dMWDB0CmRIQTExNGdrOTU3RVdXNjdjNGNYOGpKR0tMaEQrcmNkcXNxMDhwOGtEaTFMOTNGY1htbi82cFVDeXppS3JsQTRiOXY3TFdJYnhjY2UKVk9GMzRHZklENXlISTlZL1FDQi9JSURFZ0V3K095UW1qZ1N1YkpySXFnMENBd0VBQWFOQ01FQXdEd1lEVlIwVEFRSC9CQVV3QXdFQgovekFPQmdOVkhROEJBZjhFQkFNQ0FZWXdIUVlEVlIwT0JCWUVGSVFZeklVMDdMd01sSlF1Q0ZtY3g3SVFUZ29JTUEwR0NTcUdTSWIzCkRRRUJDd1VBQTRJQkFRQ1k4amRhUVpDaEdzVjJVU2dnTmlNT3J1WW91NnI0bEs1SXBEQi9HL3dralV1MHlLR1g5cmJ4ZW5ESVU1UE0KQ0Nqam1DWFBJNlQ1M2lIVGZJVUpyVTZhZFRyQ0MycUplSFpFUnhobGJJMUJqanQvbXN2MHRhZFExd1VzTitnRFM2M3BZYUFDYnZYeQo4TVd5N1Z1MzNQcVVYSGVlRTZWL1VxMlY4dmlUTzk2TFhGdktXbEpiWUs4VTkwdnZvL3VmUUpWdE1WVDhRdFBIUmg4anJka1BTSENhCjJYVjRjZEZ5UXpSMWJsZFp3Z0pjSm1BcHp5TVpGbzZJUTZYVTVNc0kreU1SUStoREtYSmlvYWxkWGdqVWtLNjQyTTRVd3RCVjhvYjIKeEpORGQyWmh3TG5vUWRlWGVHQURia3B5cnFYUmZib1Fub1pzRzRxNVdUUDQ2OFNRdnZHNQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCgpBbWF6b24gUm9vdCBDQSAyCj09PT09PT09PT09PT09PT0KLS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUZRVENDQXltZ0F3SUJBZ0lUQm15ZjBwWTFocDhLRCtXR2VQaGJKcnVLTnpBTkJna3Foa2lHOXcwQkFRd0ZBREE1TVFzd0NRWUQKVlFRR0V3SlZVekVQTUEwR0ExVUVDaE1HUVcxaGVtOXVNUmt3RndZRFZRUURFeEJCYldGNmIyNGdVbTl2ZENCRFFTQXlNQjRYRFRFMQpNRFV5TmpBd01EQXdNRm9YRFRRd01EVXlOakF3TURBd01Gb3dPVEVMTUFrR0ExVUVCaE1DVlZNeER6QU5CZ05WQkFvVEJrRnRZWHB2CmJqRVpNQmNHQTFVRUF4TVFRVzFoZW05dUlGSnZiM1FnUTBFZ01qQ0NBaUl3RFFZSktvWklodmNOQVFFQkJRQURnZ0lQQURDQ0Fnb0MKZ2dJQkFLMldueTJjU2t4S2dYbFJtZXlLeTJ0Z1VSTzhUVzBHL0xBSWpkMFpFR3JISmd3MTJNQnZJSVRwbExHYmhRUERXOXRLNk1qNAprSGJaVzAvalRPZ0dOazNNbXF3OURKQXJrdFFHR1dDc04wUjVoWUdDclZvMzRBM01uYVpNVW5icVE1MjNCTkZROWxYZzFkS21TWVhwCk4rbktmcTVjbFUxSW1qK3VJRnB0aUpYWk5MaFNHa09Rc0w5c0JibTJlTGZxME9RNlBCSlRZdjlLOG51K05RV3BFalRqODJSMFlpdzkKQUVsYUtQNHlSTHVIM1dVbkFuRTcya3IzSDlyTjl5RlZrRThQN0s2QzRaOXIyVVhUdS9CZmgrMDhMRG1HMmovZTdISlY2M21qcmR2ZApmTEM2SE03ODNrODFkczhQK0hnZmFqWlJSaWRoVyttZXovQ2lWWDE4Sllwdkw3VEZ6NFF1Sy8wTlVSQnMrMThidkJ0K3hhNDdtQUV4Cmt2OExWL1Nhc3JsWDZhdnZEWGJSOE83MHpvYW40RzdwdEdtaDMybjJNOFpwTHBjVG5xV0hzRmNRZ1RmSlU3TzdmL2FTMFp6UUdQU1MKYnRxRFQ2WmptVXlsKzE3dklXUjZJRjlzWklVVnl6ZnBZZ3dMS2hiY0FTNHkyajVMOVo0NjloZEFsTytla1FpRytyNWpxRm96N010MApRNVg1YkdsU05zY3BiL3hWQTF3Zis1KzlSK3ZuU1VlVkMwNkpJZ2xKNFBWaEh2Ry9Mb3B5Ym9CWi8xYzYrWFV5bzA1ZjdPMG9ZdGxOCmMvTE1nUmRnN2MzcjNOdW55c1YrQXIzeVZBaFUvYlF0Q1N3WFZFcVkwVlRoVVdjSTB1MXVmbTgvMGkyQldTbG15NUE1bFJFZWRDZisKM2V1dkFnTUJBQUdqUWpCQU1BOEdBMVVkRXdFQi93UUZNQU1CQWY4d0RnWURWUjBQQVFIL0JBUURBZ0dHTUIwR0ExVWREZ1FXQkJTdwpEUEJNTVBRRldBSkkvVFBsVXE5TGhPTm1VakFOQmdrcWhraUc5dzBCQVF3RkFBT0NBZ0VBcXFpQWp3NTRvK0NpMU0zbTlaaDZPK29BCkE3Q1hEcE84V3FqMkxJeHloNm14L0g5ei9XTnhlS1dIV2M4dzRRMFFzaE5hYllMMWF1YUFuNkFGQzJqa1IydkhhdCsyL1hjeWN1VVkKK2duMG9KTXNYZEtNZFlWMlpaQU1BM20zTVNOanJYaURDWVpvaE1yLytjOG1tcEo1NTgxTHhlZGhweGZMODZrU2s1TnJwK2d2VTVMRQpZRml3ekFKUkdGdUZqV0paWTdhdHRONmEreWIzQUNmQVhWVTNkSm5KVUgvaldTNUU0eXdsN3V4TU1uZTBueHJwUzEwZ3hkcjlISWNXCnhrUG8xTHNtbWtWd1hxa0xOMVBpUm5zbi9lQkc4b20zekVLMnl5Z21idG1seVRySVFSTmc5MUNNRmE2eWJSb1ZHbGQ0NXBJcTJXV1EKZ2o5c0FxK3VFam9ubGpZRTF4MmlnR09wbS9IbHVyUjhGTEJPeWJFZmRGODQ5bEhxbS9vc29oSFVxUzBuR2tXeHI3Sk9jUTNBV0ViVwphUWJMVTh1ei9tdEJ6VUYrZlV3UGZISjVlbG5OWGtvT3JKdXBtSE41ZkxUMHpMbTRCd3l5ZEZ5NHgyK0lvWkNuOUtyNXYyYzY5Qm9WClloNjNuNzQ5c1Ntdlo2RVM4bGdRR1ZNRE1CdTRHb24ybkwyWEE0NmpDZk1kaXlIeHROL2tITkdmWlFJRzZseldFN09FNzZLbFhJeDMKS2Fkb3dHdXVRTktvdE9yTjhJMUxPSndabWhzb1ZMaUprTy9LZFlFK0h2SmtKTWNZcjA3L1I1NEg5alZscE5NS1Z2LzFGMlJzNzZnaQpKVW1UdHQ4QUY5cFlmbDN1eFJ1dzBkRmZJUkRIK2ZPNkFnb25COFh4MXNmVDRQc0pZR3c9Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0KCkFtYXpvbiBSb290IENBIDMKPT09PT09PT09PT09PT09PQotLS0tLUJFR0lOIENFUlRJRklDQVRFLS0tLS0KTUlJQnRqQ0NBVnVnQXdJQkFnSVRCbXlmMVhTWE5tWS9Pd3VhMmVpZWRnUHlTakFLQmdncWhrak9QUVFEQWpBNU1Rc3dDUVlEVlFRRwpFd0pWVXpFUE1BMEdBMVVFQ2hNR1FXMWhlbTl1TVJrd0Z3WURWUVFERXhCQmJXRjZiMjRnVW05dmRDQkRRU0F6TUI0WERURTFNRFV5Ck5qQXdNREF3TUZvWERUUXdNRFV5TmpBd01EQXdNRm93T1RFTE1Ba0dBMVVFQmhNQ1ZWTXhEekFOQmdOVkJBb1RCa0Z0WVhwdmJqRVoKTUJjR0ExVUVBeE1RUVcxaGVtOXVJRkp2YjNRZ1EwRWdNekJaTUJNR0J5cUdTTTQ5QWdFR0NDcUdTTTQ5QXdFSEEwSUFCQ21YcDhaQgpmOEFObStnQkcxYkc4bEtsdWkyeUV1alNMdGY2eWNYWXFtMGZjNEU3TzVock9Yd3pwY1ZPaG82QUYyaGlSVmQ5UkZnZHN6Zmxad2pyClp0NmpRakJBTUE4R0ExVWRFd0VCL3dRRk1BTUJBZjh3RGdZRFZSMFBBUUgvQkFRREFnR0dNQjBHQTFVZERnUVdCQlNydHR2WEJwNDMKckRDR0I1Rnd4NXpFR2JGNHdEQUtCZ2dxaGtqT1BRUURBZ05KQURCR0FpRUE0SVdTb3hlM2pma3JCcVdUckJxWWFHRnkrdUdoMFBzYwplR0NtUTVuRnVNUUNJUUNjQXUveGxKeXpsdm5yeGlyNHRpeitPcEFVRnRlTVl5UklITjh3ZmRWb093PT0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQoKQW1hem9uIFJvb3QgQ0EgNAo9PT09PT09PT09PT09PT09Ci0tLS0tQkVHSU4gQ0VSVElGSUNBVEUtLS0tLQpNSUlCOGpDQ0FYaWdBd0lCQWdJVEJteWYxOEc3RUV3cFErVnhlM3NzeUJyQkRqQUtCZ2dxaGtqT1BRUURBekE1TVFzd0NRWURWUVFHCkV3SlZVekVQTUEwR0ExVUVDaE1HUVcxaGVtOXVNUmt3RndZRFZRUURFeEJCYldGNmIyNGdVbTl2ZENCRFFTQTBNQjRYRFRFMU1EVXkKTmpBd01EQXdNRm9YRFRRd01EVXlOakF3TURBd01Gb3dPVEVMTUFrR0ExVUVCaE1DVlZNeER6QU5CZ05WQkFvVEJrRnRZWHB2YmpFWgpNQmNHQTFVRUF4TVFRVzFoZW05dUlGSnZiM1FnUTBFZ05EQjJNQkFHQnlxR1NNNDlBZ0VHQlN1QkJBQWlBMklBQk5LcmlqZFBvMU1OCi9zR0tlMHVvZTBaTFk3Qmk5aTBiMndoeElkSUE2R085bWlmNzhEbHVYZW85cGNtQnFxTmJJSmhGWFJiYi9lZ1FiZU9jNE9POVg0UmkKODNCa002RExKQzl3dW9paEtxQjErSUd1WWdiRWdkczViaW13SHZvdVhLTkNNRUF3RHdZRFZSMFRBUUgvQkFVd0F3RUIvekFPQmdOVgpIUThCQWY4RUJBTUNBWVl3SFFZRFZSME9CQllFRk5Qc3h6cGxic3poMm5hYVZ2dWM4NFp0VitXQk1Bb0dDQ3FHU000OUJBTURBMmdBCk1HVUNNRHFMSWZHOWZoR3QwTzlZbGkvVzY1MStrSTByejJaVnd5empLS2x3Q2tjTzhEZFpFdjh0bVpRb1RpcFBOVTB6V2dJeEFPcDEKQUU0N3hEcVVFcEhKV0VhZElSTnlwNGljaXVSTVN0dVcxS3lMYTJ0SkVsTXpyZGZrdmlUOHRRcDIxS1c4RUE9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCgpUVUJJVEFLIEthbXUgU00gU1NMIEtvayBTZXJ0aWZpa2FzaSAtIFN1cnVtIDEKPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ci0tLS0tQkVHSU4gQ0VSVElGSUNBVEUtLS0tLQpNSUlFWXpDQ0EwdWdBd0lCQWdJQkFUQU5CZ2txaGtpRzl3MEJBUXNGQURDQjBqRUxNQWtHQTFVRUJoTUNWRkl4R0RBV0JnTlZCQWNUCkQwZGxZbnBsSUMwZ1MyOWpZV1ZzYVRGQ01FQUdBMVVFQ2hNNVZIVnlhMmw1WlNCQ2FXeHBiWE5sYkNCMlpTQlVaV3R1YjJ4dmFtbHIKSUVGeVlYTjBhWEp0WVNCTGRYSjFiWFVnTFNCVVZVSkpWRUZMTVMwd0t3WURWUVFMRXlSTFlXMTFJRk5sY25ScFptbHJZWE41YjI0ZwpUV1Z5YTJWNmFTQXRJRXRoYlhVZ1UwMHhOakEwQmdOVkJBTVRMVlJWUWtsVVFVc2dTMkZ0ZFNCVFRTQlRVMHdnUzI5cklGTmxjblJwClptbHJZWE5wSUMwZ1UzVnlkVzBnTVRBZUZ3MHhNekV4TWpVd09ESTFOVFZhRncwME16RXdNalV3T0RJMU5UVmFNSUhTTVFzd0NRWUQKVlFRR0V3SlVVakVZTUJZR0ExVUVCeE1QUjJWaWVtVWdMU0JMYjJOaFpXeHBNVUl3UUFZRFZRUUtFemxVZFhKcmFYbGxJRUpwYkdsdApjMlZzSUhabElGUmxhMjV2Ykc5cWFXc2dRWEpoYzNScGNtMWhJRXQxY25WdGRTQXRJRlJWUWtsVVFVc3hMVEFyQmdOVkJBc1RKRXRoCmJYVWdVMlZ5ZEdsbWFXdGhjM2x2YmlCTlpYSnJaWHBwSUMwZ1MyRnRkU0JUVFRFMk1EUUdBMVVFQXhNdFZGVkNTVlJCU3lCTFlXMTEKSUZOTklGTlRUQ0JMYjJzZ1UyVnlkR2xtYVd0aGMya2dMU0JUZFhKMWJTQXhNSUlCSWpBTkJna3Foa2lHOXcwQkFRRUZBQU9DQVE4QQpNSUlCQ2dLQ0FRRUFyM1V3TTZxN2E5T1pMQkkzaE5tTmU1ZUEwMjduLzV0UWxUNlFsVlpDMXhsOEpvU05rdm9CSFRvUDRtUTR0NHk4CjZJajVpeVNyTHFQMU4rUkFqaGdsZVlOMUh6di9iS2pGeGxiNHRPMktSS09yYkV6OEhkRGM3Mmk5eitTcXp2QlY5NkkwMUlOck4zd2MKd3Y2MUEreFh6cnkwdGNYdEFBOVROeXBOOUU4TWcvdUd6OHYrakU2OWgvbW5peUZYbkhyZkEyZUpMSjJYWWFjUXVGV1FmdzR0SnpoMAozK2Y5Mms0UzQwMFZJZ0xJNE9EOEQ2MksxOGxVVU13N0Q4b1dnSVRRVVZiRGpsWi9pU0l6TCthRkNyMmxxQnMyM3RQY0xHMDd4eE85CldTTXM1dVdrOTlnTDdlcVFRRVNvbGJ1VDFkQ0FOTFpHZUE0ZkFKTkc0ZTdwK2V4UEZ3SURBUUFCbzBJd1FEQWRCZ05WSFE0RUZnUVUKWlQvSGlvYkdQTjA4VkZ3MStEcnRVZ3hIVjhnd0RnWURWUjBQQVFIL0JBUURBZ0VHTUE4R0ExVWRFd0VCL3dRRk1BTUJBZjh3RFFZSgpLb1pJaHZjTkFRRUxCUUFEZ2dFQkFDby80ZkV5anE3aG1GeExYczlySG1vSjBpS3BFc2RlVjMxelZtU0FoSHFUNUFtNUVNMmZLaWZoCkFIZStTTWcxcUlHZjVMZ3N5WDhPc05KTE4xM3F1ZFVMWGpTOTlITXB3KzBtRlp4K0NGT0tXSTNRU3lqZndiUGZJUFA1NCtNNjM4eWMKbE5oT1Q4TnJGN2YzY3VpdFpqTzFKVk9yNFBoTXFaMzk4ZzI2cnJuWnFzWnIrWk83cnF1NGx6d0RHcnBEeHBhNVJYSTRzNmVobGoyUgplMzdBSVZOTWgrM3lDMVNWVVpQVklxVU5pdkdURGo1VURyRFl5VTdjOGpFeVZ1cGsrZXExblJabVFuTHpmOU94TVVQOHBJNFg4VzBqCnE1Um0rSzM3RHdodUppMS9Gd2NKc296N1VNQ2ZsbzNQdHYwQW5Wb1VtcjhDUlBYQndwOGlYcUlQb2VNPQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCgpHRENBIFRydXN0QVVUSCBSNSBST09UCj09PT09PT09PT09PT09PT09PT09PT0KLS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUZpRENDQTNDZ0F3SUJBZ0lJZlFtWC92Qkg2bm93RFFZSktvWklodmNOQVFFTEJRQXdZakVMTUFrR0ExVUVCaE1DUTA0eE1qQXcKQmdOVkJBb01LVWRWUVU1SElFUlBUa2NnUTBWU1ZFbEdTVU5CVkVVZ1FWVlVTRTlTU1ZSWklFTlBMaXhNVkVRdU1SOHdIUVlEVlFRRApEQlpIUkVOQklGUnlkWE4wUVZWVVNDQlNOU0JTVDA5VU1CNFhEVEUwTVRFeU5qQTFNVE14TlZvWERUUXdNVEl6TVRFMU5UazFPVm93CllqRUxNQWtHQTFVRUJoTUNRMDR4TWpBd0JnTlZCQW9NS1VkVlFVNUhJRVJQVGtjZ1EwVlNWRWxHU1VOQlZFVWdRVlZVU0U5U1NWUloKSUVOUExpeE1WRVF1TVI4d0hRWURWUVFEREJaSFJFTkJJRlJ5ZFhOMFFWVlVTQ0JTTlNCU1QwOVVNSUlDSWpBTkJna3Foa2lHOXcwQgpBUUVGQUFPQ0FnOEFNSUlDQ2dLQ0FnRUEyYU1XOE1oMGRIZWI3ek1OT3daK1ZmeTFZSTkyaGhKQ2ZWWm1Qb2lDN1hKakRwNkwzVFFzCkFsRlJ3eG45V1ZTRXlmRnJzMHl3NmVoR1hUakdvcWN1RVZlNmdoV2luSTl0c0psS0N2THJpWEJqVG5uRXQxdTlvbDJ4OGtFQ0s2MnAKT3FQc2VRcnNYenJqL2UrQVBLMDBteHFyaUNaN1ZxS0NoaC9yTlltRGYxK3VLVTQ5dG03c3JzSHdKNXV1NC9Uczc2NS85NFk5Y25ycgpwZnRaVHFmcmxZd2lPWG5oTFFpUHpMeVJ1RUgzRk1FanFjT3Rta1ZFczdMWExNM0dLZUpRRUs1Y3k0S09GeGcyZlpmbWlKcXdUVFFKCjlDeTVXbVlxc0JlYm5oNTJuVXBtTVVIZlAvdkZCdThidG40YVJqYjNaR003NHprWUkrZG5kUlRWZFZlU043MithaHNtVVBJMkpnYVEKeFhBQlpHMTJadUdSMjI0SHdHR0FMckl1TDR4d3A5RTdQTE9SNUc2MnhEdHc4bXlTbHduTlIzMFl3UE83bmcvV2k2NEh0bG9QemdzTQpSNmZsUHJpOWZjZWJOYUJobHpwQmRSZk1LNVozS3BJaEh0bVZkaUJuYU04TnZkL1dId2xxbXVMTWMzR2tMMzBTZ0xkVE1FWmVTMVNaCkQyZkpwY2p5SU1HQzdKMFIzOElDK3hvNzBlMGdtdTlsWkpJUURTcmkzbkR4R0dlQ2pHSGV1THpSTDV6N0Q5QXI3UnQydWVRNVZmajQKb1IyNHFvQUFUSUxuc244SnVMd3dvQzhOOVZLZWp2ZVNzd29BSFFCVWx3YmdzUWZaeHc5Y1pYMDhiVmxYNU8ybGplbEFVNThWUzZCeAo5aG9oNDlwd0JpRllGSWVGZDNtcWdua0NBd0VBQWFOQ01FQXdIUVlEVlIwT0JCWUVGT0xKUUo5Tnp1aWFvWHpQRGo5bHhTbUlhaGxSCk1BOEdBMVVkRXdFQi93UUZNQU1CQWY4d0RnWURWUjBQQVFIL0JBUURBZ0dHTUEwR0NTcUdTSWIzRFFFQkN3VUFBNElDQVFEUlNWZmcKcDh4b1dMb0JEeXNaelkyd1lVV3NFZTFqVUduNEgzKytGby85bmVzTHFqSkhkdEpuSk8yOWZETXlseXJIQllabURSZDlGQlViMU92OQpINXIyWHBkcHR4b2xwQXF6a1Q5Zk5xeUw3RmVvUHVlQmloaFhPWVYwR2tMSDZWc1RYNC81Q09tU2RJMzFSOUtyTzliN2VHWk9ObjM1CjZaTHBCTjc5U1dQOGJmc1VjWk5uTDBkS3Q3bi9IaXB6Y0VZd3YxcnlMM21sNFkwTTJmbXlZemVNTjJXRmNHcGNXd2x5dWExalBMSGQKK1B3eXZ6ZUc1THVPbUNkK3VoOFc0WEFSOGdQZkpXSXlKeVlZTW9TZi93QTZFN3FhVGZSUHVCUndJckhLSzVET0tjRnc5QytkZi9LUQpIdFphMzdkRy9PYUcrc3ZnSUhaNnVxYkw5WHplWXFXeGkrN2VnbWFLVGpvd0h6K0F5NjBudWd4ZTE5Q3hWc3AzY2JLMWRhRlFxVUJECkY4SW8yYzlTaTF2SVk5UkNQcUF6ZWtZdTl3b2dSbFIrYWs4eDhZRitRblE0WlhNbjdzWjh1STdYcFRyWG1LR2NqQkJWMDl0TDdFQ1EKOHMxdVY5SmlEbnhYazdHbmJjMmRnN3NxNStXMk8zRllyZjNSUmJ4YWtlNVRGVy9UUlFsMWJycVFYUjRFenpmZkhxaG1zWXptSUdydgovRWhPZEpoQ3J5bHZMbXJIKzMzUlpqRWl6SVlBZm1hRERFTDB2VFNTd3hycVQ4cCtjazBMY0l5bVNMdW1vUlQyKzFoRW1SU3VxZ3VUCmFhQXBKVXFseXl2ZGltWUhGbmdWVjNFYjdQVkhoUE9lTVRkNjFYOGtyZVM4L2YzTWJvUG9ES2kzUVd3SDNiMDhocGN2MGc9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCgpUcnVzdENvciBSb290Q2VydCBDQS0xCj09PT09PT09PT09PT09PT09PT09PT0KLS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUVNRENDQXhpZ0F3SUJBZ0lKQU5xYjdISHpBN0FaTUEwR0NTcUdTSWIzRFFFQkN3VUFNSUdrTVFzd0NRWURWUVFHRXdKUVFURVAKTUEwR0ExVUVDQXdHVUdGdVlXMWhNUlF3RWdZRFZRUUhEQXRRWVc1aGJXRWdRMmwwZVRFa01DSUdBMVVFQ2d3YlZISjFjM1JEYjNJZwpVM2x6ZEdWdGN5QlRMaUJrWlNCU0xrd3VNU2N3SlFZRFZRUUxEQjVVY25WemRFTnZjaUJEWlhKMGFXWnBZMkYwWlNCQmRYUm9iM0pwCmRIa3hIekFkQmdOVkJBTU1GbFJ5ZFhOMFEyOXlJRkp2YjNSRFpYSjBJRU5CTFRFd0hoY05NVFl3TWpBME1USXpNakUyV2hjTk1qa3gKTWpNeE1UY3lNekUyV2pDQnBERUxNQWtHQTFVRUJoTUNVRUV4RHpBTkJnTlZCQWdNQmxCaGJtRnRZVEVVTUJJR0ExVUVCd3dMVUdGdQpZVzFoSUVOcGRIa3hKREFpQmdOVkJBb01HMVJ5ZFhOMFEyOXlJRk41YzNSbGJYTWdVeTRnWkdVZ1VpNU1MakVuTUNVR0ExVUVDd3dlClZISjFjM1JEYjNJZ1EyVnlkR2xtYVdOaGRHVWdRWFYwYUc5eWFYUjVNUjh3SFFZRFZRUUREQlpVY25WemRFTnZjaUJTYjI5MFEyVnkKZENCRFFTMHhNSUlCSWpBTkJna3Foa2lHOXcwQkFRRUZBQU9DQVE4QU1JSUJDZ0tDQVFFQXY0NjNsZUxDSmhKck14bkhRRmdLcTFtcQpqUUNqL0lESFVIdU8xQ0FtdWpJUzJDTlVTU1VRSXBpZFJ0TEJ5WjVPR3k0c0RqanpHaVZvSEtaYUJlWWVpMGkvbUpaMFBtbks2YlY0CnBRYTgxUUJlQ1FyeUozcFMvQzNWc2VxMGlXRWs4eG9UMjZuUFV1ME1KTHE1bnV4K0FIVDZrNjFzS1pLdVViUzcwMWUvcy9Pb2paejAKSkVzcTFwbWU5Sjcrd0g1Q091Y0xsVlBhdDJnT2tFejdjRCtQU2l5VTh5YmRZMm1wbE5nUVRzVkhDSkNaR3hkTnVXeHU3MkNWRVk0aApnTFc5b0hQWTBMSjN4RVhxV2liN1puWjIrQVlmWVcwUFZjV0R0eEJXY2dZSHBmT3hHZ01GWkE2ZFdvcldobkFiSk43K0tJb3IwR3F3Ci9IcWkzTEo1RG90bER3SURBUUFCbzJNd1lUQWRCZ05WSFE0RUZnUVU3bXRKUEhvL0RlT3hDYmVLeUtzWm4zTXpVT2N3SHdZRFZSMGoKQkJnd0ZvQVU3bXRKUEhvL0RlT3hDYmVLeUtzWm4zTXpVT2N3RHdZRFZSMFRBUUgvQkFVd0F3RUIvekFPQmdOVkhROEJBZjhFQkFNQwpBWVl3RFFZSktvWklodmNOQVFFTEJRQURnZ0VCQUNVWTFKR1BFKzZQSGgwUlU5b3RSQ2tab0I1ck1aNU5EcDZ0UFZ4QmI1VXJKS0Y1Cm1EbzROdnU3WnA1SS81Q1E3ejNVdUp1MGgzVS9JSnZPY3MraFZjRk5aS0laQnFFSE13d0xLZVh4NnF1ajdMVUtkSkRIZlhMeTExeWYKa2UrUmk3ZmM3V2FpejQ1bU83eWZPZ0xnSjkwV21NQ1YxQXFrNUlHYWRaUTFuSkJmaURjR3JWbVZDckRSWjlNWnlvbm5NbG8ySEQ2QwpxRnFUdnNiUVpKRzJ6OW0yR00vYmZ0SmxvNmJFamhjeHdmdCtkdHZUaGVOWXNuZDZkanRzTDFBYzU5djJaM2tmOVlLVm1nZW5GSytQCjNDZ2had25TMWsxYUhCa2NqbmRjdzVRa1BUSnJTMzdVZUpTRHZqZE56bC9ISGs0ODRJa3psUXNQcFRMV1BGcDVMQms9Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0KClRydXN0Q29yIFJvb3RDZXJ0IENBLTIKPT09PT09PT09PT09PT09PT09PT09PQotLS0tLUJFR0lOIENFUlRJRklDQVRFLS0tLS0KTUlJR0x6Q0NCQmVnQXdJQkFnSUlKYUhmeWpQTFdRSXdEUVlKS29aSWh2Y05BUUVMQlFBd2dhUXhDekFKQmdOVkJBWVRBbEJCTVE4dwpEUVlEVlFRSURBWlFZVzVoYldFeEZEQVNCZ05WQkFjTUMxQmhibUZ0WVNCRGFYUjVNU1F3SWdZRFZRUUtEQnRVY25WemRFTnZjaUJUCmVYTjBaVzF6SUZNdUlHUmxJRkl1VEM0eEp6QWxCZ05WQkFzTUhsUnlkWE4wUTI5eUlFTmxjblJwWm1sallYUmxJRUYxZEdodmNtbDAKZVRFZk1CMEdBMVVFQXd3V1ZISjFjM1JEYjNJZ1VtOXZkRU5sY25RZ1EwRXRNakFlRncweE5qQXlNRFF4TWpNeU1qTmFGdzB6TkRFeQpNekV4TnpJMk16bGFNSUdrTVFzd0NRWURWUVFHRXdKUVFURVBNQTBHQTFVRUNBd0dVR0Z1WVcxaE1SUXdFZ1lEVlFRSERBdFFZVzVoCmJXRWdRMmwwZVRFa01DSUdBMVVFQ2d3YlZISjFjM1JEYjNJZ1UzbHpkR1Z0Y3lCVExpQmtaU0JTTGt3dU1TY3dKUVlEVlFRTERCNVUKY25WemRFTnZjaUJEWlhKMGFXWnBZMkYwWlNCQmRYUm9iM0pwZEhreEh6QWRCZ05WQkFNTUZsUnlkWE4wUTI5eUlGSnZiM1JEWlhKMApJRU5CTFRJd2dnSWlNQTBHQ1NxR1NJYjNEUUVCQVFVQUE0SUNEd0F3Z2dJS0FvSUNBUUNuSUc3Q0txSmlKSldRZHNnNGZvRFNxOEdiClpRV1U5TUVLRU5VQ3JPMmZrOGVIeUxBbkswSU1QUW8rUVZxZWRkMk55dUNiN0dneXBHbVNhSXdMZ1E1V29ENGEzU3dsRklJdmw5TmsKUnZSVXFkdzZWQzB4SzVtQzh0a3ExKzl4QUxneHBMNTZKQWZEUWlEeWl0U1NCQnRsVmt4czFQdTJZVnBISTdUWWFiUzNPdEIwUEF4MQpvWXhPZHFIcDJ5cWxPL3JPc1A5K2FpajlKeHpJc2VrcDhWZHVaTFRRd1JWdERyNHVEa2JJWHZSUi91OE9Zem83Y2JyUGIxbktET09iClhVbTRUT0pYc1ppS1FsZWNkdS92dmRGb3FOTDBDYnQzTmI0bGdnakVGaXhFSUZhcFJCRjM3MTIwSGFwZWF6NkxNdllITDFjRWtzcjEKL3AzQzZlaXpqa3hMQWpIWjVEeElnaWYzR0lKMlNEcHhzUk9oT2RVdXhUVENIV0tGM3dQK1RmU3ZQZDljVzQzNmNPR2xmaWZIaGk1cQpqeExHaEY1RFVWQ2NHWnQ0NXZ6MjdVZCtlejFtN3hNVGlGODhvV1A3K2F5SE5aL3pncDZrUHdxY01XbUxtYVNJU281dVprM3ZGc1FQCmVTZ2hZQTJGRm4zWFZEanhrbGI5dFROTWc5elhFSjlML2NiNFFyMjZmSE1DNFA5OXpWdmgxS3hoZTFmVlNudGIxSVZZSjEyLytDdGcKcktBbXJoUWhKOFozbWpPQVBGNUdQL2ZEc2FPR004Ym9YZzI1TlN5cVJzR0ZBbldBb09zayt4V3E1R2QvYm5jLzlBU0tMM3g3NHhkaAo4TjBKcVNESXZnbWswSDVFdzdJd1NqaXFxZXdZbWdlQ0s5dTRuQml0MnVCR0Y2elBYUUlEQVFBQm8yTXdZVEFkQmdOVkhRNEVGZ1FVCjJmNGhRRzZVbnJ5YlBaeDltQ0FaNVl3d1lySXdId1lEVlIwakJCZ3dGb0FVMmY0aFFHNlVucnliUFp4OW1DQVo1WXd3WXJJd0R3WUQKVlIwVEFRSC9CQVV3QXdFQi96QU9CZ05WSFE4QkFmOEVCQU1DQVlZd0RRWUpLb1pJaHZjTkFRRUxCUUFEZ2dJQkFKNUZuZ3c3dHUvaApPc2g4MFFBOXorTHFCcld5T3JzR1MyaDYwQ09YZEtjczhBalllVnJYV29TSzJCS2FHOWw5WEUxd3hhWDVxK1dqaVluZEFmcnMzZm5wCmtwZmJzRVpDODlOaXFwWCtNV2NVYVZpUUNxb0w3amNqeDFCUnRQVitudU43OStUTVFqSXRTUXpMLzBrTW14NDAvVzV1bG9wNUE3WnYKMnduTC9WOWxGRGZoT1BYellSWlk1TFZ0RFFzRUd6OVFMWCt6eDNvYUZvQmcrSW9mNlJzcXh2bTZBUnBwdjlKWXgxUlhDSS9oT1dCMwpTNnhaaEJxSThkM0xUM2pYNStFekxmenVRZm9nc0w3TDl6aVV3T0hRaFErNzdTeHpxKzMra25ZYVpIOWJEVE1KQnpON0JqOFJwRnh3ClBJWEF6K09RcUlOMyt0dm14WXhvWnhCbnBWSXQ4TVNaajMrLzBXdml0VWZXMmRDRm1VMlVtdzlMamU0QVdrY2RFUU9zUVJpdmg3ZHYKRERxUHlzL2NBOEdpQ2NqbC9ZQmV5R0JDQVJzYVUxcTdONmEzdkxxRTZSNXNHdFJrMnRSRC9wT0xTL0lzZVJZUTFKTUxpSStoMklZVQpScEZIbXlnazcxZFNUbHhDbktyM1Nld242RUFlczZhSkluS2M5UTB6dEZpak1EdmQxR3BVazc0YVRmT1RsUGY4aEFzL2hDQmNOQU5FCnhkcXR2QXJCQXM4ZTVaVFo4NDViMkV6d25leGhGN3NVTWxRTUFpbVRIcEtHOW4vdjU1SUZEbG5kbVFndUx2cWNBRkxUeFdZcDVLZVgKUktRT0tJRVROY1gyYjJUbVFjVFZMOHcwUlNYUFFRQ1dQVW91d3BhWVQwNUtuSmUzMngrU01zai9EMUZ1MXV3SgotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCgpUcnVzdENvciBFQ0EtMQo9PT09PT09PT09PT09PQotLS0tLUJFR0lOIENFUlRJRklDQVRFLS0tLS0KTUlJRUlEQ0NBd2lnQXdJQkFnSUpBSVNDTEY4Y1l0QkFNQTBHQ1NxR1NJYjNEUUVCQ3dVQU1JR2NNUXN3Q1FZRFZRUUdFd0pRUVRFUApNQTBHQTFVRUNBd0dVR0Z1WVcxaE1SUXdFZ1lEVlFRSERBdFFZVzVoYldFZ1EybDBlVEVrTUNJR0ExVUVDZ3diVkhKMWMzUkRiM0lnClUzbHpkR1Z0Y3lCVExpQmtaU0JTTGt3dU1TY3dKUVlEVlFRTERCNVVjblZ6ZEVOdmNpQkRaWEowYVdacFkyRjBaU0JCZFhSb2IzSnAKZEhreEZ6QVZCZ05WQkFNTURsUnlkWE4wUTI5eUlFVkRRUzB4TUI0WERURTJNREl3TkRFeU16SXpNMW9YRFRJNU1USXpNVEUzTWpndwpOMW93Z1p3eEN6QUpCZ05WQkFZVEFsQkJNUTh3RFFZRFZRUUlEQVpRWVc1aGJXRXhGREFTQmdOVkJBY01DMUJoYm1GdFlTQkRhWFI1Ck1TUXdJZ1lEVlFRS0RCdFVjblZ6ZEVOdmNpQlRlWE4wWlcxeklGTXVJR1JsSUZJdVRDNHhKekFsQmdOVkJBc01IbFJ5ZFhOMFEyOXkKSUVObGNuUnBabWxqWVhSbElFRjFkR2h2Y21sMGVURVhNQlVHQTFVRUF3d09WSEoxYzNSRGIzSWdSVU5CTFRFd2dnRWlNQTBHQ1NxRwpTSWIzRFFFQkFRVUFBNElCRHdBd2dnRUtBb0lCQVFEUGorQVJ0WitvZG5iYjN3OVU3M05qS1lLdFI4YWphKzMrWHpQNFExSHBHak9SCk1SZWdkTVRVcHdIbXNwSSthcDN0RHZsMG1FRFRQd09BQm9KQTZMSGlwMUduSFlNbWE2dmUraGVSSzlqR3JCNnhuaGtCMVplbTZnMjMKeEZVZkozelNDTlYySHlrVmgwQTUzVGhGRVhYUW1xYzA0TC9OeUZJZHVVZCtEYmk3eGd6MmMxY1dXbjVEa1I5Vk9zWnRSQVNxbkttYwpwMHlKRjRPdW93UmVVb0NMSGhJbEVSblhESDE5TVVSQjZ0dXZzQnp2Z2RBc3hab2htejN0UWp0UUp2THN6bkZoQm1JaFZFNS93WjArCmZ5Q01nTXNxMkpkaXlJTXprWDJ3b2xvUFYrZzd6UElsc3RSOEwreE54cUU2RlhybnRsMDE5ZlpJU2paRlp0UzZtRmpCQWdNQkFBR2oKWXpCaE1CMEdBMVVkRGdRV0JCUkVua2oxekcxSTFLQkxmLzVaSkMrRGw1bWFoakFmQmdOVkhTTUVHREFXZ0JSRW5rajF6RzFJMUtCTApmLzVaSkMrRGw1bWFoakFQQmdOVkhSTUJBZjhFQlRBREFRSC9NQTRHQTFVZER3RUIvd1FFQXdJQmhqQU5CZ2txaGtpRzl3MEJBUXNGCkFBT0NBUUVBQlQ0MVhCVndtOG5IYzJGdmNpdlV3by95UTEwQ3pzU1V1WlFSZzJkZDRtZHNkWGEvdXd5cU5zYXRSNU5qM0I1KzF0NHUKL3VrWk1qZ0RmeFQyQUhNc1diRWhCdUg3ckJpVkRLUC9tWmIzS3llYjFTVE1IZDNCT3VDWVJMREU1RDUzc1hPcFpDejJIQUY4UDExRgpoY0NGNXlXUGxkd1g4enlmR202d3l1TWRLdWxNWS9va1lXTFcybjYySEd6MUFoM1VLdDFWa09zcUVVYzhMbDUwc29JaXBYMVRIMFhzCko1Rjk1eUlXNk1Cb050akc4VStBUkRMNTRkSFJIYXJlcUt1Y0JLK3RJQTVrbUUybGE4QklXSlpwVGR3SGpGR1RvdCtmRHoyTFlMU0MKamFvSVRtSkY0UGtMMHVEZ1BGdmVYSEVuSmNMbUE0R0xFRlBqeDFXaXRKL1g1Zz09Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0KClNTTC5jb20gUm9vdCBDZXJ0aWZpY2F0aW9uIEF1dGhvcml0eSBSU0EKPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQotLS0tLUJFR0lOIENFUlRJRklDQVRFLS0tLS0KTUlJRjNUQ0NBOFdnQXdJQkFnSUlleXliMHhhQU1wa3dEUVlKS29aSWh2Y05BUUVMQlFBd2ZERUxNQWtHQTFVRUJoTUNWVk14RGpBTQpCZ05WQkFnTUJWUmxlR0Z6TVJBd0RnWURWUVFIREFkSWIzVnpkRzl1TVJnd0ZnWURWUVFLREE5VFUwd2dRMjl5Y0c5eVlYUnBiMjR4Ck1UQXZCZ05WQkFNTUtGTlRUQzVqYjIwZ1VtOXZkQ0JEWlhKMGFXWnBZMkYwYVc5dUlFRjFkR2h2Y21sMGVTQlNVMEV3SGhjTk1UWXcKTWpFeU1UY3pPVE01V2hjTk5ERXdNakV5TVRjek9UTTVXakI4TVFzd0NRWURWUVFHRXdKVlV6RU9NQXdHQTFVRUNBd0ZWR1Y0WVhNeApFREFPQmdOVkJBY01CMGh2ZFhOMGIyNHhHREFXQmdOVkJBb01EMU5UVENCRGIzSndiM0poZEdsdmJqRXhNQzhHQTFVRUF3d29VMU5NCkxtTnZiU0JTYjI5MElFTmxjblJwWm1sallYUnBiMjRnUVhWMGFHOXlhWFI1SUZKVFFUQ0NBaUl3RFFZSktvWklodmNOQVFFQkJRQUQKZ2dJUEFEQ0NBZ29DZ2dJQkFQa1AzYU1yZmN2UUt2N3NaNFdtNXk0YnVuZmg0L1d2cE96NlNsMlJ4RmRIYXhoM2EzYnkvWlBrUFEvQwpGcDRMWnNOV2xKNFhnNFhPVnUveUZ2MEFZdlVpQ1ZUb1pSZE9RYm5nVDBhWHFodkl1RzVpWG1teFg5c3FBbjc4Yk1yelFkanQwT2o4ClAyRkk3YkFERkIwUURrc1o0THRPN0labC96YnpYbWNDQzUyR1ZXSDllamp0L3VJWkFMZHZvVkJpZFhROG9QcklKWkswYm5vaXgvZ2UKb2VPeTNaRXhxeXNkQlArbFNnUTM2WVdrTXl2OTR0WlZOSHdacEVwb3g3S28wN2ZLb1pPSTY4R1h2SXo1SGRraWhDUjB4d1E5YXFrcAprOHpydUZ2aC9sOGxxalJZeU1FalZKMGJtQkhET0p4K1BZWnNwUTlBaG53QzlGd0NUeWpMcm5HZkR6cklNLzRSSlRYcS9MckZZRDNaCmZCalZzcW5UZFhnRGNpTEtPc01mN3l6bExxbjZuaXkyVVViOXJ3UFc2bUJvNm9VV05tdUY2UjdBczkzRUpOeUFLb0ZCYlpRK3lPREoKZ1VFQW5sNi9mOFVJbUtJWUxFSkFzL2x2T0NkTFRvRDBQWUZINEloODZoek90WFZjVVM0Y0szOGFjaWpuQUxYUmRNYlg1Sit0QjVPMgpVelUxL0Rma3cvWmRGcjRoYzk2U0N2aWdZMnE4bHBKcVB2aThaVldiM3ZVTmlTWUUvQ1VhcGlWcHk4SnR5bnppV1YrWHJPdnZMc2k4CjF4dFpQQ3ZNOGhuSWsyc25ZeG5QL09rbStNcHhtMytUL2pSbmhFNlo2L3l6ZUFremNMcG1wbmJ0RzNQckdxVU54Q0lUSUpSV0NrNHMKYkU2eC9jK2NDYnFpTSsySEFnTUJBQUdqWXpCaE1CMEdBMVVkRGdRV0JCVGRCQWtIb3ZWNmZWSlRFcEtWN2ppQUpRMm1XVEFQQmdOVgpIUk1CQWY4RUJUQURBUUgvTUI4R0ExVWRJd1FZTUJhQUZOMEVDUWVpOVhwOVVsTVNrcFh1T0lBbERhWlpNQTRHQTFVZER3RUIvd1FFCkF3SUJoakFOQmdrcWhraUc5dzBCQVFzRkFBT0NBZ0VBSUJnUmxDbjdKcDBjSGg1d1lmR1ZjcE54Sksxb2sxaU9NcThiczNBRC9DVXIKZElXUVBYaHE5TG1McFpjN3RSaVJ1eDZuK1VCYmtmbFZtYThlRWRCY0hhZG00N0dVQnd3eU9hYnFHN0I1MkIyY2NFVGppdDNFK1pVZgppamhEUHdHRnBVZW5QVWF5dk9VaWFQZDduTmdzUGdvaHlDMHpyTC9GZ1preGRNRjFjY1crc2ZBalJmU2RhL3daWTUyanZBVEdHQXNsCnUxT0pEN09BVU41RjdrUi9xNVI0WkpqVDlpamRoOWh3WlhUN0Rya1Q2NmNQWWFreWxzemV1KzFqVEJpN3FVRDNvRlJ1SUloeGRSanEKZXJRMGN1QWpKM2RjdHBEcWhpVkFxKzh6RDh1ZmdyNmlJUHYydFMwYTVzS0ZzWFFQKzhobEFxUlNBVWZkU1NMQnY5anJhNngrM3V4agpNeFczSXdpUHhnK05RVnJkanNXNWorVkZQM2pidXRJYlFMSCtjVTAvNElHaXVsNjA3QlhnazkwSUgzN2hWWmtMSWQ2VG5ncjc1cU5KCnZUWXcvdWQzc3FCMWw3VXRnWWdYWlNEMzJwQUFuOGxTekRMS05YejFQUS9ZSzlmMUptekpCalNXRnVwd1dSb3llWGtMdG9oL0QxSkkKUGI5czJLSkVMdEZPdDNKWTA0a1RsZjVFcS9qWGl4dHVuTHdzb0Z2VmFnQ3ZYemZoMWZvUUM1aWNodWNtajg3dzdHNktWd3VBNDA2eQp3S0JqWVpDNlZXZzNkR3Eya3R1Zm9ZWWl0bVVuRHV5Mm4wSmc1R2ZDdGRwQkM4VFRpMkVidlBvZmtTdlhSQWRldWltczJjWHA3MU5JCld1dUE4U2hZSWMyd0JsWDdKejlUa0hDcEJCNVhKN2s9Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0KClNTTC5jb20gUm9vdCBDZXJ0aWZpY2F0aW9uIEF1dGhvcml0eSBFQ0MKPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQotLS0tLUJFR0lOIENFUlRJRklDQVRFLS0tLS0KTUlJQ2pUQ0NBaFNnQXdJQkFnSUlkZWJmeThGb1c2Z3dDZ1lJS29aSXpqMEVBd0l3ZkRFTE1Ba0dBMVVFQmhNQ1ZWTXhEakFNQmdOVgpCQWdNQlZSbGVHRnpNUkF3RGdZRFZRUUhEQWRJYjNWemRHOXVNUmd3RmdZRFZRUUtEQTlUVTB3Z1EyOXljRzl5WVhScGIyNHhNVEF2CkJnTlZCQU1NS0ZOVFRDNWpiMjBnVW05dmRDQkRaWEowYVdacFkyRjBhVzl1SUVGMWRHaHZjbWwwZVNCRlEwTXdIaGNOTVRZd01qRXkKTVRneE5EQXpXaGNOTkRFd01qRXlNVGd4TkRBeldqQjhNUXN3Q1FZRFZRUUdFd0pWVXpFT01Bd0dBMVVFQ0F3RlZHVjRZWE14RURBTwpCZ05WQkFjTUIwaHZkWE4wYjI0eEdEQVdCZ05WQkFvTUQxTlRUQ0JEYjNKd2IzSmhkR2x2YmpFeE1DOEdBMVVFQXd3b1UxTk1MbU52CmJTQlNiMjkwSUVObGNuUnBabWxqWVhScGIyNGdRWFYwYUc5eWFYUjVJRVZEUXpCMk1CQUdCeXFHU000OUFnRUdCU3VCQkFBaUEySUEKQkVWdXFWREVwaU0ybmw4b2pSZkxsaUprUDl4NmpoM01DTE9pY1NTNmprbTVCQnRIbGxpckxaWEk3WjRJTmNnbjY0bU1VMWpyWW9yKwo4RnNQYXpGU1kwRTdpYzNzN0xhTkdkTTBCOXk3eGdaL3drV1Y3TXQvcUNQZ0NlbUIrdk5IMDZOak1HRXdIUVlEVlIwT0JCWUVGSUxSCmhYTXc1elVFMDQ0Q2t2dmxwTkhFSWVqTk1BOEdBMVVkRXdFQi93UUZNQU1CQWY4d0h3WURWUjBqQkJnd0ZvQVVndEdGY3pEbk5RVFQKamdLUysrV2swY1FoNk0wd0RnWURWUjBQQVFIL0JBUURBZ0dHTUFvR0NDcUdTTTQ5QkFNQ0EyY0FNR1FDTUcvbjYxa1JwR0RQWWJDVwplKzBGK1M4VGtkenQ1ZnhRYXhGR1JyTWNJUUJpdTc3RDUrak5CNW41RFF0ZGNqN0VxZ0l3SDd5NkMrSXdKUHQ4YllCVkNwaytnQTB6CjVXYWpzNk83cGRXTGp3a3NwbDErNHZBSENHaHQwbnhwYmwvZjVXcGwKLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQoKU1NMLmNvbSBFViBSb290IENlcnRpZmljYXRpb24gQXV0aG9yaXR5IFJTQSBSMgo9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ci0tLS0tQkVHSU4gQ0VSVElGSUNBVEUtLS0tLQpNSUlGNnpDQ0E5T2dBd0lCQWdJSVZyWXB6VFM4ZVBZd0RRWUpLb1pJaHZjTkFRRUxCUUF3Z1lJeEN6QUpCZ05WQkFZVEFsVlRNUTR3CkRBWURWUVFJREFWVVpYaGhjekVRTUE0R0ExVUVCd3dIU0c5MWMzUnZiakVZTUJZR0ExVUVDZ3dQVTFOTUlFTnZjbkJ2Y21GMGFXOXUKTVRjd05RWURWUVFEREM1VFUwd3VZMjl0SUVWV0lGSnZiM1FnUTJWeWRHbG1hV05oZEdsdmJpQkJkWFJvYjNKcGRIa2dVbE5CSUZJeQpNQjRYRFRFM01EVXpNVEU0TVRRek4xb1hEVFF5TURVek1ERTRNVFF6TjFvd2dZSXhDekFKQmdOVkJBWVRBbFZUTVE0d0RBWURWUVFJCkRBVlVaWGhoY3pFUU1BNEdBMVVFQnd3SFNHOTFjM1J2YmpFWU1CWUdBMVVFQ2d3UFUxTk1JRU52Y25CdmNtRjBhVzl1TVRjd05RWUQKVlFRRERDNVRVMHd1WTI5dElFVldJRkp2YjNRZ1EyVnlkR2xtYVdOaGRHbHZiaUJCZFhSb2IzSnBkSGtnVWxOQklGSXlNSUlDSWpBTgpCZ2txaGtpRzl3MEJBUUVGQUFPQ0FnOEFNSUlDQ2dLQ0FnRUFqelpsUU9IV1RjRFh0T2xHMm12cU0wZk5UUGw5ZmI2OUxUM3cyM2poCmhxWFp1Z2xYYU8xWFBxRFFDRUdENXloQkpCL2pjaFhRQVJyN1huQWpzc3VmT2VQUHhVN0drbTBteG51N3M5b25uUXFHNllFM0JmN3cKY1hIc3d4enBZNklYRkozdkcyZlRoVlVDQXRaSnljeGE0YkgzYnpLZnlkUTdpRUdvbkwzTHE5dHRld2tmb2t4eWtOb3JDUHpQUEZUTwpadytvejEyV0dRdkU0M0xycmRGOUhTZnZrdXNRdjF2ck82L1BnTjNCMHBZRVczcCtwS2s4T0hha1lvNmdPVjdxZDg5ZEFGbVBaaXcrCkI2S2pCU1lSYVpmcWhiY1BsZ3RMeUVEaFVMb3Vpc3YzRDVvaTUzK2FOeFBOOGswVGF5SFJ3TXdpOHFGRzlrUnBuTXBoTlFjQWI5WmgKQ0JIcXVyajI2Yk5nNVUyNTdKOFVac2xYV052TmgybjRpb1lTQTBlL1poTjJySGQ5TkNTRmc4M1hxcHlRR3A4aExIOTR0MlM0Mk9pbQo5SGl6VmN1RTBqTEVlSzZqajJIZHpnaFRyZXlJL0JYa21nM21ueHAzemt5UHVCUVZQV0tjaGpnR0FHWVM1RmwyV2xQQUFwaWlFQ3RvClJIdU9lYzR6U25hcVc0RVdHN1dLMk5BQWUxNWl0QW5XaG1NT3BnV1ZTYm9vaTRpVHNqUWMyS1JWYnJjYzBONlpWVHNqOUNMZytTbG0KSnV3Z1VIZmJTZ3VQdnVVQ1lIQkJYdFN1VURraUZDYkxzanR6ZEZWSEIzbUJPYWd3RTBUbEJJcXVsaE1sUWcrNVU4U2IvTTNrSE40OAorcXZXQmtvZlo2YVlNQnpkTE52Y0dKVlhac2IvWEl0VzlYY0NBd0VBQWFOak1HRXdEd1lEVlIwVEFRSC9CQVV3QXdFQi96QWZCZ05WCkhTTUVHREFXZ0JUNVlMdlU0OVUwOXJqMUJvQWxwM1BiUm1tb25qQWRCZ05WSFE0RUZnUVUrV0M3MU9QVk5QYTQ5UWFBSmFkejIwWnAKcUo0d0RnWURWUjBQQVFIL0JBUURBZ0dHTUEwR0NTcUdTSWIzRFFFQkN3VUFBNElDQVFCV3M0N0xDcDFKanIra3hKRzdaaGNGVVpoMQorK1ZRTEhxZThSVDZxOU9LUHYrUktZOWppOWkwcVZRQkRiNlRoaS81U20zSFh2VlgrY3BWSEJLK1J3ODJ4ZDlxdDl0MXdrY2xmN254ClkvaG9MVlVFMGZLTnNLVFB2RHhlSDNqbnBhQWdjTEFFeGJmM2NxZmVJZzI5TXlWR2pHU1NKdU0rTG1PVzJwdU1QZmdZQ2RjRHpIMkcKZ3VES0JBZFJVTmYva3RVTTc5cUduNW5YNjdldmFPSTVKcFM2YUxlL2c5UHFlbWM5WW1ldUplVnk2T0xrN0s0Uzlrc3JQSi9wc0VEegpPRlN6L2Jkb3lOckdqMUU4c3Z1UjNCem5tNTNodHcxeWorS2t4S2w0K2VzVXJNWkRCY0psT1NnWUFzT0NzcDBGdm1YdGxsOWxkRHo3CkNUVXVlNXdUL1JzUFhjZHRnVHBXRDh3NzRhOENMeUtzUnNwR1BLQWNUTlpFdEY0dVhCVm1DZUVtS2Y3R1VtRzZzWFAvd3d5YzVXeHEKbEQ4VXlrQVdsWVR6V2Ftc1gweGhrMjNSTzh5aWxRd2lwbWRuUkM2NTJkS0tRYk5tQzFyN2ZTT2w4aHF3Lzk2Ymc1UXUwVC9ma3JlUgpyd1U3WmNlZ2JMSE5ZaExEa0J2akpjNDB2RzkzZHJFUXcvY0ZHc0RXcjNSaVNCZDNrbW1RWVJ6ZWxZQjBWSThZSE1QekE5Qy9wRU4xCmhsTVllZ291Q1J3Mm41SDlnb29pUzlFT1VDWGR5d01NRjhtREFBaE9OVTJLaSszd0FwUm1MRVIveTVVbmxoZXRDVENzdG5FWGJvc1gKOWh3SjFDMDdtS1Z4MDFRVDJXRHo5VXRtVC9yeDdpQVNqYlNzVjdGRlk2R3NkcW5DK3c9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCgpTU0wuY29tIEVWIFJvb3QgQ2VydGlmaWNhdGlvbiBBdXRob3JpdHkgRUNDCj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KLS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNsRENDQWhxZ0F3SUJBZ0lJTENtY1d4YnRCWlV3Q2dZSUtvWkl6ajBFQXdJd2Z6RUxNQWtHQTFVRUJoTUNWVk14RGpBTUJnTlYKQkFnTUJWUmxlR0Z6TVJBd0RnWURWUVFIREFkSWIzVnpkRzl1TVJnd0ZnWURWUVFLREE5VFUwd2dRMjl5Y0c5eVlYUnBiMjR4TkRBeQpCZ05WQkFNTUsxTlRUQzVqYjIwZ1JWWWdVbTl2ZENCRFpYSjBhV1pwWTJGMGFXOXVJRUYxZEdodmNtbDBlU0JGUTBNd0hoY05NVFl3Ck1qRXlNVGd4TlRJeldoY05OREV3TWpFeU1UZ3hOVEl6V2pCL01Rc3dDUVlEVlFRR0V3SlZVekVPTUF3R0ExVUVDQXdGVkdWNFlYTXgKRURBT0JnTlZCQWNNQjBodmRYTjBiMjR4R0RBV0JnTlZCQW9NRDFOVFRDQkRiM0p3YjNKaGRHbHZiakUwTURJR0ExVUVBd3dyVTFOTQpMbU52YlNCRlZpQlNiMjkwSUVObGNuUnBabWxqWVhScGIyNGdRWFYwYUc5eWFYUjVJRVZEUXpCMk1CQUdCeXFHU000OUFnRUdCU3VCCkJBQWlBMklBQktvU1I1Q1lHL3Z2dzBBSGd5Qk84VENDb2diUjhwS0dZZkwySVdqS0FNVEg2a01BVkliYy9SL2ZBTGhCWWx6Y2NCWXkKM2grWjFNekZCOGdJSDJFV0IxRTlmVndIVStNMU9JemZ6Wi9aTGcxS3Roa3VXbkJhQnUyKzhLR3d5dEFKS2FOak1HRXdIUVlEVlIwTwpCQllFRkZ2S1h1WGUwb0dxemFndFpGRzIyWEtibCtaUE1BOEdBMVVkRXdFQi93UUZNQU1CQWY4d0h3WURWUjBqQkJnd0ZvQVVXOHBlCjVkN1NnYXJOcUMxa1ViYlpjcHVYNWs4d0RnWURWUjBQQVFIL0JBUURBZ0dHTUFvR0NDcUdTTTQ5QkFNQ0EyZ0FNR1VDTVFDSzVrQ0oKTit2cDFSUFp5dFJySlBPd1BZZEdXQnJzc2Q5disxYTZjR3ZIT016b3NZeFBEL2Z4WjNZT2c5QWVVWThDTUQzMkl5Z21UTVpnaDVNbQptN0kxSHJyVzl6elJITTc2SlR5bUdvRVZXL01TRDJ6dVpZckpoNmo1QitCaW1veGNTZz09Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0KCkdsb2JhbFNpZ24gUm9vdCBDQSAtIFI2Cj09PT09PT09PT09PT09PT09PT09PT09Ci0tLS0tQkVHSU4gQ0VSVElGSUNBVEUtLS0tLQpNSUlGZ3pDQ0EydWdBd0lCQWdJT1JlYTdBNE16dzRWbFNPYi9SVkV3RFFZSktvWklodmNOQVFFTUJRQXdUREVnTUI0R0ExVUVDeE1YClIyeHZZbUZzVTJsbmJpQlNiMjkwSUVOQklDMGdVall4RXpBUkJnTlZCQW9UQ2tkc2IySmhiRk5wWjI0eEV6QVJCZ05WQkFNVENrZHMKYjJKaGJGTnBaMjR3SGhjTk1UUXhNakV3TURBd01EQXdXaGNOTXpReE1qRXdNREF3TURBd1dqQk1NU0F3SGdZRFZRUUxFeGRIYkc5aQpZV3hUYVdkdUlGSnZiM1FnUTBFZ0xTQlNOakVUTUJFR0ExVUVDaE1LUjJ4dlltRnNVMmxuYmpFVE1CRUdBMVVFQXhNS1IyeHZZbUZzClUybG5iakNDQWlJd0RRWUpLb1pJaHZjTkFRRUJCUUFEZ2dJUEFEQ0NBZ29DZ2dJQkFKVUg2SFBLWnZuc0ZNcDdQUGNOQ1BHMFJRc3MKZ3JSSXh1dGJQSzZEdUVHU014U2tiMy9wS3N6R3NJaHJ4YmFKMGNheS94VE9VUlFoN0VyZEcxckcxb2Z1VFRvVkJ1MWtaZ3VTZ01wRQozbk9VVHZPbmlYOVBlR01JeUJKUWJVSm1MMDI1ZVNoTlVocUtHb0MzR1lFT2ZzU0t2R1JNSVJ4RGFOYzlQSXJGc21iVmtKcTNNUWJGCnZ1SnRNZ2FtSHZtNTY2cWp1TCsrZ21OUTBQQVlpZC9rRDNuMTZxSWZLdEp3TG52bnZKTzdiVlBpU0h5TUVBYzQvMmF5ZDJGKzRPcU0KUEtxMHBQYnpsVW9TQjIzOWpMS0p6OUNnWVhmSVdIU3cxQ002OTEwNnlxTGJuUW5lWFVRdGtQR0J6VmVTK242OFVBUmpOTjlya3hpKwphemF5T2VTc0pEYTM4TysySEJOWGs3YmVzdmppaGJkem9yZzFxa1h5NEowMm9XOVVpdkZ5Vm00dWlNVlJRa1FWbE82anhUaVdtMDVPCldndEg4d1kyU1hjd3ZIRTM1YWJzSVFoMS9PWmhGajkzMWRtUmw0UUtiTlFDVFhUQUZPMzlPZnVEOGw0VW9RU3dDK24rN28vaGJndXkKQ0xOaFpnbHFzUVk2WlpaWndQQTEvY25hS0kwYUVZZHdnUXFvbW5VZG5qcUdCUUNlMjREV0pmbmNCWjRuV1V4Mk9WdnErYVdoMklNUAowZi9mTUJINWhjOHpTUFhLYldRVUxIcFlUOU5MQ0VuRmxXUWFZdzU1UGZXempNcFlyWnhDUlhsdURvY1pYRlN4WmJhL2pKdmNFK2tOCmI3Z3UzR2R1eVlzUnRZUVVpZ0FaY0lONWtaZVIxQm9udnpjZU1nZllGR004S0V5dkFnTUJBQUdqWXpCaE1BNEdBMVVkRHdFQi93UUUKQXdJQkJqQVBCZ05WSFJNQkFmOEVCVEFEQVFIL01CMEdBMVVkRGdRV0JCU3ViQVdqa3hQaW91ZmkxeHpXeC9CL3lHZFRvREFmQmdOVgpIU01FR0RBV2dCU3ViQVdqa3hQaW91ZmkxeHpXeC9CL3lHZFRvREFOQmdrcWhraUc5dzBCQVF3RkFBT0NBZ0VBZ3lYdDZOSDlsVkxOCm5zQUVvSkZwNWx6UWhON2NyYUpQNkVkNDFtV1lxVnVvUElkOEFvclJicmNXYytaZndGU1kxWFMrd2MzaUVaR3RJeGc5M2VGeVJKYTAKbFY3QWU0NlplQlpERTFaWHM2S3pPN1YzM0VCeXJLUHJtelUrc1FnaG9lZkVRemQ1TXI2MTU1d3NUTHhES1ptT01OT3NJZURqSGZyWQpCek4yVkFBaUtybE5JQzV3YU5ybFUveURYTk9kOHY5RURFUm04dExqdlVZQUdtMEN1aVZkamFFeFVkMVVSaHhOMjVtVzd4b2NCRnltCkZlOTQ0SG4rWGRzK3FreFYvWm9WcVcvaHB2dmZjRERwdys1Q1J1M0Nrd1dKK24xamV6L1FjWUY4QU9pWXJnNTROTU1sKzY4S255QnIKM1RzVGp4S000a0VhU0hwem9IZHB4N1pjZjRMSUh2NVlHeWdycUd5dFhtM0FCZEo3dCt1QS9pVTMvZ0tiYUt4Q1hjUHU5Y3pjOEZCMQowalpwbk9aN0JOOXVCbW0yM2dvSlNGbUg2M3NVWUhwa3FtbEQ3NUhIVE93WTNXenZVeTJNbWVGZThuSSt6MVRJdldmc3BBOU1SZi9UCnVUQWpCMHlQRUwrR2x0bVpXclNaVnh5a3pMc1ZpVk82TEFVUDVNU2VHYkVZTk5WTW5icnQ5eCt2SkpVRWVLZ0R1KzZCNWRwZmZJdEsKb1pCMEphZXpQa3ZJTEZhOXg4anZPT0pja3ZCNTk1eUV1blF0WVFFZ2ZuN1I4azhIV1YrTExVTlM2MFlNbE9IMVprZDVkOVZVV3grdApKRGZMUlZwT29FUkl5Tml3bWNVVmhBbjIxa2xKd0dXNDVocHhicUNvOFlMb1JUNXMxZ0xYQ21lREJWckpwQkE9Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0KCk9JU1RFIFdJU2VLZXkgR2xvYmFsIFJvb3QgR0MgQ0EKPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQotLS0tLUJFR0lOIENFUlRJRklDQVRFLS0tLS0KTUlJQ2FUQ0NBZStnQXdJQkFnSVFJU3BXREs3YURLdEFSYjhyb2kwNjZqQUtCZ2dxaGtqT1BRUURBekJ0TVFzd0NRWURWUVFHRXdKRApTREVRTUE0R0ExVUVDaE1IVjBsVFpVdGxlVEVpTUNBR0ExVUVDeE1aVDBsVFZFVWdSbTkxYm1SaGRHbHZiaUJGYm1SdmNuTmxaREVvCk1DWUdBMVVFQXhNZlQwbFRWRVVnVjBsVFpVdGxlU0JIYkc5aVlXd2dVbTl2ZENCSFF5QkRRVEFlRncweE56QTFNRGt3T1RRNE16UmEKRncwME1qQTFNRGt3T1RVNE16TmFNRzB4Q3pBSkJnTlZCQVlUQWtOSU1SQXdEZ1lEVlFRS0V3ZFhTVk5sUzJWNU1TSXdJQVlEVlFRTApFeGxQU1ZOVVJTQkdiM1Z1WkdGMGFXOXVJRVZ1Wkc5eWMyVmtNU2d3SmdZRFZRUURFeDlQU1ZOVVJTQlhTVk5sUzJWNUlFZHNiMkpoCmJDQlNiMjkwSUVkRElFTkJNSFl3RUFZSEtvWkl6ajBDQVFZRks0RUVBQ0lEWWdBRVRPbFF3TVlQY2hpODJQRzZzNG5pZVVxakZxZHIKVkNUYlVmL3E5QWtrd3dzaW44dHFKNEtCRGRMQXJ6SGtkSUp1eWlYWmpIV2Q4ZHZRbXFKTElYNFdwMk9RMGpuVXNZZDRYeGlXRDFBYgpOVGNQYXNiYzJSTk5wSTZRTithOVd6R1JvMVF3VWpBT0JnTlZIUThCQWY4RUJBTUNBUVl3RHdZRFZSMFRBUUgvQkFVd0F3RUIvekFkCkJnTlZIUTRFRmdRVVNJY1VyT1BEbnBCZ090ZktpZTdUcll5MFVHWXdFQVlKS3dZQkJBR0NOeFVCQkFNQ0FRQXdDZ1lJS29aSXpqMEUKQXdNRGFBQXdaUUl3SnNkcFc5elY1N0xueUF5TWpNUGRlWXdiWTlYSlVwUk9UWUpLY3g2eWdJU3BKY0JNV20xSktXQjRFK0orU090awpBakVBMnpRZ01nai9ta2tDdG9qZUZLOWRiSmx4alJvL2k5ZmdvamFHSEFlQ09uWlQvY0tpN2U5N3NJQlBXQTlMVXptOQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCgpHVFMgUm9vdCBSMQo9PT09PT09PT09PQotLS0tLUJFR0lOIENFUlRJRklDQVRFLS0tLS0KTUlJRldqQ0NBMEtnQXdJQkFnSVFia2VweFV0SERBM3NNOUNKdVJ6MDRUQU5CZ2txaGtpRzl3MEJBUXdGQURCSE1Rc3dDUVlEVlFRRwpFd0pWVXpFaU1DQUdBMVVFQ2hNWlIyOXZaMnhsSUZSeWRYTjBJRk5sY25acFkyVnpJRXhNUXpFVU1CSUdBMVVFQXhNTFIxUlRJRkp2CmIzUWdVakV3SGhjTk1UWXdOakl5TURBd01EQXdXaGNOTXpZd05qSXlNREF3TURBd1dqQkhNUXN3Q1FZRFZRUUdFd0pWVXpFaU1DQUcKQTFVRUNoTVpSMjl2WjJ4bElGUnlkWE4wSUZObGNuWnBZMlZ6SUV4TVF6RVVNQklHQTFVRUF4TUxSMVJUSUZKdmIzUWdVakV3Z2dJaQpNQTBHQ1NxR1NJYjNEUUVCQVFVQUE0SUNEd0F3Z2dJS0FvSUNBUUMyRVFLTEh1T2hkNXM3M0wrVVByZVZwMEE4b2YyQytYMHlCb0p4Cjl2YU1mL3ZvMjd4cUxwZVhvNHhMK1N2MnNmbk9oQjJ4K2NXWDN1KzU4cVBwdkJLSlhxZXFVcXY0SXlmTHBMR2NZOXZYbVg3d0NsN3IKYUtiMHhscEhEVTBRTStOT3NST2p5QmhzUyt6OENaRGZuV1FwSlNNSG9iVFNQUzVnNE0vU0NZZTd6VWp3VGNMQ2VvaUt1N3JQV1JuVwpyNCt3QjdDZU1mR0N3Y0RmTHFadGJCa090ZGgrSmhwRkF6MndlYVNVS0swUGZ5YmxxQWorbHVnOGFKUlQ3b002aUNzVmxnbXk0SHFNCkxuWFduT3VuVm1TUGxrOW9yajJYd29TUHdMeEF3QXRjdmZhSHN6VnNyQmhRZjRUZ1RNMlMweURwTTd4U21hOHl0U216SlNxMFNQbHkKNGNwazkrYUNFSTNvbmNLS2lQbzRab3I4WS9rQitYajllMXgzK25hSCt1emZzUTU1bFZlMHZTYnYxZ0hSNnhZS3U0NEx0Y1hGaWxXcgowNnpxa1VzcHpCbWtNaVZPS3ZGbFJOQUN6cXJPU2JUcW4zeURzRUI3NTBPcnAyeWpqMzJKZ2ZwTXBmL1Zqc1BPUytDMTJMT09SYzkyCndPMUFLLzFURDdDbjFUc05zWXFpQTk0eHJjeDM2bTk3UHRiZmtTSVM1cjc2MkRMOEVHTVVVWExlWGRZV2s3MHBhRFB2T21ic0I0b20KM3hQWFYyVjRKOTVlU1JRQW9nQi9tcWdodHFteGxiQ2x1UTBXRWRySGJFZzhRT0IrRFZyTlZqelJsd1c1eTB2dE9VdWN4RC9TVlJOdQpKTERXY2ZyMHdick03UnYxL29GQjJBQ1lQVHJJcm5xWU54Z0ZsUUlEQVFBQm8wSXdRREFPQmdOVkhROEJBZjhFQkFNQ0FRWXdEd1lEClZSMFRBUUgvQkFVd0F3RUIvekFkQmdOVkhRNEVGZ1FVNUs4ckpuRWFLMGduaFM5U1ppenY4SWtUY1Q0d0RRWUpLb1pJaHZjTkFRRU0KQlFBRGdnSUJBRGlXQ3U0OXRKWWVYKytkbkFzem55dmd5djNTamdvZlFYU2xmS3FFMU9YeUh1WTNVaktjQzlGaEhiOG93YlpFS1RWMQpkNWl5Zk5tOWRLeUthT09wTVFrcEFXQno0MGQ4VTZpUVNpZnZTOWVmaytlQ05zNmFhQXlDNTgvVUVCWnZYdzZaWFBZZmNYM3Y3M3N2CmZ1bzIxcGR3Q3hYdTExeFdhak9sNDBrNERMaDkrNDJGcExGWlh2UnE0ZDJoOW1SRXJ1WlJneUZteGhFKzg4NUg3cHdvSHlYYS82eG0KbGQwMUQxenZJQ3hpL1pHNnFjejhXcHlUZ1lNcGwwcDhXbkswT2RDM2Q4dDUvV2s2a2pmdGJqaGxSbjdwWUwxNWlKZGZPQkwwN3E5Ygpnc2lHMWVHWmJZd0U4bmE2U2ZadTZXMGVYNkR2SjRKMlFQaW0wMWhjRHl4QzJrTEdlNGcweDhIWVJadkJQc1ZoSGRsalVFbjJOSVZxCjRCakZia2VyUVVJcG0vWmdEZEl4MDJPWUk1TmFBSUZJdE8vTmlzM0p6NW51Mlo2cU51Rm9TM0ZKRkRZb09qMGR6cHFQSmVhQWNXRXIKdFh2TStTVVdnZUV4WDZHamZoYWtuQlpxbHhpOWRuS2xDNTRkTnVZdm9TKytjSkVQcU9iYStNU1NRR3dsZm51ekNkeXlGNjJBUlBCbwpwWStVZGY5MFd1aW9BbndNQ2VLcFN3dWdoUXRpdWUraE1aTDc3L1pSQklsczZLbDBvYnNYczdYOVNROThQT3lER0NCRFR0V1R1clEwCnNSOFdOaDhNNW1RNUZremM0UDRkeUtsaVBVRHF5c1UwQXJTdWlZZ3pOZHdzRTNQWUovSFFjdTUxT3lMZW1HaG1XL0hHWTBkVkhMcWwKQ0ZGMXBrZ2wKLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQoKR1RTIFJvb3QgUjIKPT09PT09PT09PT0KLS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUZXakNDQTBLZ0F3SUJBZ0lRYmtlcHhscXo1eURGTUpvL2FGTHliekFOQmdrcWhraUc5dzBCQVF3RkFEQkhNUXN3Q1FZRFZRUUcKRXdKVlV6RWlNQ0FHQTFVRUNoTVpSMjl2WjJ4bElGUnlkWE4wSUZObGNuWnBZMlZ6SUV4TVF6RVVNQklHQTFVRUF4TUxSMVJUSUZKdgpiM1FnVWpJd0hoY05NVFl3TmpJeU1EQXdNREF3V2hjTk16WXdOakl5TURBd01EQXdXakJITVFzd0NRWURWUVFHRXdKVlV6RWlNQ0FHCkExVUVDaE1aUjI5dloyeGxJRlJ5ZFhOMElGTmxjblpwWTJWeklFeE1RekVVTUJJR0ExVUVBeE1MUjFSVElGSnZiM1FnVWpJd2dnSWkKTUEwR0NTcUdTSWIzRFFFQkFRVUFBNElDRHdBd2dnSUtBb0lDQVFETzN2Mm0rK3pzRkRROEJ3WmFiRm4zR1RYZDk4R2RWYXJUelR1awprM0x2Q3ZwdG5mYndoWUJib1VoU256bkZ0KzRvck8vTGRtZ1V1ZCt0QVd5Wkg4UWlIWi8rY25mZ0xGdXY1QVMvVDNLZ0dqU1k2RGxvCjdKVWxlM2FoNW1tNWhSbTlpWXorcmUwMjZuTzgvNFBpeTMzQjBzNUtzNDBGbm90Sms5L0JXOUJ1WHZBdU1DNkMvUHE4dEJjS1NPV0kKbThXYmE5Nnd5clFEOE5yMGtMaGxaUGRjVEszb2ZtWmVtZGU0d2o3STBCT2RyZTdrUlh1SlZmZUtIMkpTaEJLendrQ1g0NG9mUjVHbQpkRnJTK0xGaktCQzRzd200Vm5kQW9pYVllY2IrM3lYdVB1V2dmOVJoRDFGTFBEK00ydUZ3ZE5qQ2FLSDV3UXpwb2VKL3UxVThkZ2J1CmFrN01rb2d3VFpxOVR3dEltb1MxbUtQViszUEJWMkhkS0ZaMUU2NkhqdWNNVVFrUWRZaE12STM1ZXp6VUlrZ2ZLdHpyYTd0RXNjc3oKY1RKR3I2MUs4WXpvZERxczV4b2ljNERTTVBjbFFzY2lPenNTclpZdXhzTjJCNm9ndHpWSlYrbVNTZWgyRm5JeFp5dVdmb3FqeDVSVwpJcjlxUzM0QkliSWpNdC9rbWtSdFdWdGQ5UUNnSEp2R2VKZU5rUCtieUtxMHJ4RlJPVjdaKzJldDFWc1JuVEthRzczVnVsdWx5Y3NsCmFWTlZKMXpneWpiTGlHSDdIcmZReSs0Vys5T21UTjZTcGRUaTMvVUdWTjR1blV1MGt6Q3FnYzdkR3R4UmN3MVBjT25sdGhZaEdYbXkKNW9rTGRXVEsxYXU4Q2NFWW9mL1VWS0dGUFAwVUpBT3loOU9rdHdJREFRQUJvMEl3UURBT0JnTlZIUThCQWY4RUJBTUNBUVl3RHdZRApWUjBUQVFIL0JBVXdBd0VCL3pBZEJnTlZIUTRFRmdRVXUvL0tqaU9mVDVuSzIrSm9wcVVWSnhjZTJRNHdEUVlKS29aSWh2Y05BUUVNCkJRQURnZ0lCQUxacDhLWjMvcDd1QzRHdDRjQ3B4L2sxSFVDQ3ErWUV0Ti9MOXgwUGcvQitFMDJOak83ak15TERPZnhBMzI1QlMwSlQKdmhhSThkSTRYc1JvbVJ5WVVwT001Mmp0RzJwemVnVkFUWDlsTzlaWThjNkRSMkRqLzVlcG5HQjNHRlcxZmdpVHo5RDJQR2NERldFSgorWUY1OWV4VHBKL0pqd0dMYzhSM2R0eURvdlVNU1Jxb2R0NlNtMlQ0c3l6Rko5TUh3QWlBcEppUzR3R1dBcW9DN284N3hkRnRDak13CmMzaTVUMVFXdndzSG9hUmM1c3ZKWElTUEQrQVZkeXgrSm43YXhFdmJweFozQjdETmRlaHlRdGFWaEoyR2cvTGtrTTBKUjlTTEEzRGEKV3NZRFF2VHRONkx3RzFCVVN3N1loTjRaS0ptQlI2NEpHejlJMGNOdjRyQmdGL1h1SXdLbDJnQmJiWkNyN3FMcEd6dnB4MFFuUlk1cgpuL1draEx4MytXdVhyRDVSUmFJUnBzeUY3Z3BvOGo1UU9Ib2tZaDRYSURkdGFrMjNDWnZKL0tSWTliYjduRTRZdTVVQzU2R3Rtd2Z1Ck5tc2swam1Hd1pPRFVOS0JScWhmWWxjc3UyeGtpQWh1N3hOVVg5MHR4R2RqMDgrSk43K2RJUFQ3ZW9PYm9CNkJBRkRDNUF3aVdWSVEKN1VOV2h3RDRGRktuSFl1VGpLSk5SbjhueG5HYkpON2syb2FMRFg1cklNSEFudUZsMkdxanB1aUZpem9IQ0J5NjlZOVZtaGgxZnVYcwpnV2JSSVhPaE5VUUxnRDFibkY1dktoZVcwWU1qaUdadDVvYmljREl2VWlMbnlPZC94Q3hnWFMvRHI1NUZCY09FQXJmOUxBaFNUNExkCm8vRFVoZ2tDCi0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0KCkdUUyBSb290IFIzCj09PT09PT09PT09Ci0tLS0tQkVHSU4gQ0VSVElGSUNBVEUtLS0tLQpNSUlDRERDQ0FaR2dBd0lCQWdJUWJrZXB4MnlwY3lSQWlROERWZDJOSFRBS0JnZ3Foa2pPUFFRREF6QkhNUXN3Q1FZRFZRUUdFd0pWClV6RWlNQ0FHQTFVRUNoTVpSMjl2WjJ4bElGUnlkWE4wSUZObGNuWnBZMlZ6SUV4TVF6RVVNQklHQTFVRUF4TUxSMVJUSUZKdmIzUWcKVWpNd0hoY05NVFl3TmpJeU1EQXdNREF3V2hjTk16WXdOakl5TURBd01EQXdXakJITVFzd0NRWURWUVFHRXdKVlV6RWlNQ0FHQTFVRQpDaE1aUjI5dloyeGxJRlJ5ZFhOMElGTmxjblpwWTJWeklFeE1RekVVTUJJR0ExVUVBeE1MUjFSVElGSnZiM1FnVWpNd2RqQVFCZ2NxCmhrak9QUUlCQmdVcmdRUUFJZ05pQUFRZlR6T0hNeW1Lb1lUZXk4Y2hXRUdKNmxhZEswdUZ4aDFNSjd4L0psRnliK0tmMXFQS3pFVVUKUm91dDczNkdqT3l4ZmkvL3FYR2RHSVJGQkVGVmJpdnFKbis3a0FIalN4bTY1RlNXUlFteDFXeVJSSzJFRTQ2YWpBMkFEREwyNENlagpRakJBTUE0R0ExVWREd0VCL3dRRUF3SUJCakFQQmdOVkhSTUJBZjhFQlRBREFRSC9NQjBHQTFVZERnUVdCQlRCOFNhNm9DMnVoWUhQCjAvRXFFcjI0Q21mOXZEQUtCZ2dxaGtqT1BRUURBd05wQURCbUFqRUFnRnVrZkNQQWxhVXMzTDZKYnlPNW85MWxBRkpla2F6SW5YSjAKZ2xNTGZhbEF2V2hneGVHNFZEdkJOaGNsMk1HOUFqRUFualdTZElVbFVmVWs3R1JTSkZDbEg5dm95OGwyN095Q2J2V0ZHRlBvdU9PYQpLYXFXMDRNanlhUjdZYlBNQXVoZAotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCgpHVFMgUm9vdCBSNAo9PT09PT09PT09PQotLS0tLUJFR0lOIENFUlRJRklDQVRFLS0tLS0KTUlJQ0NqQ0NBWkdnQXdJQkFnSVFia2VweUl1VXR1aTdPeXJZb3JMQm1UQUtCZ2dxaGtqT1BRUURBekJITVFzd0NRWURWUVFHRXdKVgpVekVpTUNBR0ExVUVDaE1aUjI5dloyeGxJRlJ5ZFhOMElGTmxjblpwWTJWeklFeE1RekVVTUJJR0ExVUVBeE1MUjFSVElGSnZiM1FnClVqUXdIaGNOTVRZd05qSXlNREF3TURBd1doY05Nell3TmpJeU1EQXdNREF3V2pCSE1Rc3dDUVlEVlFRR0V3SlZVekVpTUNBR0ExVUUKQ2hNWlIyOXZaMnhsSUZSeWRYTjBJRk5sY25acFkyVnpJRXhNUXpFVU1CSUdBMVVFQXhNTFIxUlRJRkp2YjNRZ1VqUXdkakFRQmdjcQpoa2pPUFFJQkJnVXJnUVFBSWdOaUFBVHpkSE9uYUl0Z3JrTzROY1dCTUh0TFNaMzd3V0hPNXQ1R3ZXdlZZUmcxcmtEZGMvZUprVEJhCjZ6enVoWHlpUUhZN3FjYTRSOWdxNTVLUmFuUHBzWEk1bnltZm9walRYMTVZaG1VUG9ZUmxCdEhjaThuSGM4aU1haS9seEt2UkhZcWoKUWpCQU1BNEdBMVVkRHdFQi93UUVBd0lCQmpBUEJnTlZIUk1CQWY4RUJUQURBUUgvTUIwR0ExVWREZ1FXQkJTQVROYnJkUDlKTnFQVgoyUHkxUHNWcThKUWRqREFLQmdncWhrak9QUVFEQXdObkFEQmtBakJxVUZKMENNUnczSjVRZENIb2pYb2h3MCtXYmhYUklqVmhMZm9JCk4rNFpiYTNic3N4OUJ6VDFZQmtzdFRUWmJ5QUNNQU54c2JxallBdUc3Wm9JYXBWb24rS3o0Wk5rZkY2VHB0OTVMWTJGNDVUUEkxMXgKelBLd1RkYittY2lVcVhXaTR3PT0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQoKVUNBIEdsb2JhbCBHMiBSb290Cj09PT09PT09PT09PT09PT09PQotLS0tLUJFR0lOIENFUlRJRklDQVRFLS0tLS0KTUlJRlJqQ0NBeTZnQXdJQkFnSVFYZCt4MmxxajdWMitXbVVnWlFPUTd6QU5CZ2txaGtpRzl3MEJBUXNGQURBOU1Rc3dDUVlEVlFRRwpFd0pEVGpFUk1BOEdBMVVFQ2d3SVZXNXBWSEoxYzNReEd6QVpCZ05WQkFNTUVsVkRRU0JIYkc5aVlXd2dSeklnVW05dmREQWVGdzB4Ck5qQXpNVEV3TURBd01EQmFGdzAwTURFeU16RXdNREF3TURCYU1EMHhDekFKQmdOVkJBWVRBa05PTVJFd0R3WURWUVFLREFoVmJtbFUKY25WemRERWJNQmtHQTFVRUF3d1NWVU5CSUVkc2IySmhiQ0JITWlCU2IyOTBNSUlDSWpBTkJna3Foa2lHOXcwQkFRRUZBQU9DQWc4QQpNSUlDQ2dLQ0FnRUF4ZVlyYjN6dkpnVW5vNEVrMm0vTEFmbVptcWt5d2lLSFlVR1JPOHZEYUJzR3hVeXBLOEZuRnlJZEsrMzVLWW1UCm9uaTlrbXVnb3cyaWZzcVRzNmJSakRYVmRma1g5czlGeGVWNjdIZVRvSThqcmc0YUEzKysxTkR0TG51clJpTmIveXptVkhxVXdDb1YKOE1tTnNIbzdKT0hYYU9JeFBBWXpSclpVRWFhbEx5SlVLbGdOQVFMeCtoVlJaMnpBK3RlMkczL1JWb2d2R2pxTk83dUNFZUJIQU5CUwpoNnY3aG40UEpHdEFuVFJudkkzSExZWnZlVDZPcVR3WFMzK3dtZU93Y1dEY0MvVmt3ODVEdkcxeHVkTGVKMXVLNk5qR3J1RlpmYzhvCkxUVzRsVllhOGJKWVM3Y1NOOGg4cysxTGdPR04raklqdG0rM1NKVUlzVVJPaFl3NkFsUWdMOSsvVjA4N09wQWgxOEVtTlZRZzdNYy8KUit6dldyOUxlc0d0T3hkUVhHTFlEMHRLM0N2NmJyeHprczNzeDFEb1FaYlhxWDV0Mk9rZGo0cTF1VmlTdWtxU0t3eFcvWURyQ1BCZQpLVzRiSEF5dmo1T0pyZHU5bzU0aHlva1o3Tisxd3hyckZ2NTROa3pXYnRBK0Z4eVFGMnNtdXZ0Nkw3OFJIQmdPTFhNRGo2RGxOYUJhCjRreDFIWEhoT1RoVGVFRE1nNVBYQ3A2ZFc0K0s1T1hnU09SSXNrZk5UaXAxS252eUl2Ykp2Z21SbGxkNmlJaXM3bkNzK2R3cDR3d2MKT3hKT1JOYW5UckFteVBQWkdwZVJhT3J2alVZRzBsWkZXSm84REErRHVBVWx3em5QTzZRMGliZDVFaTlIeGVlcGwybjhwbmRudGQ5Nwo4WHBsRmVSaFZtVUNBd0VBQWFOQ01FQXdEZ1lEVlIwUEFRSC9CQVFEQWdFR01BOEdBMVVkRXdFQi93UUZNQU1CQWY4d0hRWURWUjBPCkJCWUVGSUhFak16MTVERC9wUXdJWDR3Vlp5RjBBZC9mTUEwR0NTcUdTSWIzRFFFQkN3VUFBNElDQVFBVFpTTDFqaXV0Uk9UTC83bG8KNXNPQVNEMEVlL29qTDNydE50cXl6bTMyNXA3bFgxaVB5emN5b2NobHRxNDRQVFViUHJ3N3RnVFF2UGxKOVp2M2hjVTJ0c3U4K01nNQoxZVJmQjcwVlZKZDB5c3J0VDdxNlpIYWZnYmlFUlVsTWpXK2k2N0hNMGNPVTJrVEM1dUxxR09paUh5Y0Z1dGZsMXFuTjNlOTJtSTBBCkRzMGIrZ08zam9CWURpYy9VdnVVb3NwZVpjbldoTnE1TlhIekpzQlBkK2FCSjlKM081b1ViM24wOXREaDA1UzYwRmRSdlNjRkRjSDkKeUJJdzdtK05FU3NJbmRUVXY0QkZGSnFJUk5vdzZyU240Kzd2VzRMVlB0YXRlSkxiWER6ejJLMzZ1R3QveERZb3RnSVZpbFFzbkxBWApjNDdRTjZNVVBKaVZBQXdwQlZ1ZVNVbXhYOGZqeTg4blpZNDFGN2RYeUREWlFWdTVGTGJvd2crVU1hZVVtTXhxNjdYaEovVVFxQUhvCmpoSmk2SWpNdFg5R2w4Q2JFR1k0R2paR1h5Sm9QZC9KeGhNbnExTUdyS0k4aGdabGI3RitzU2xFbXFPNlNXa29hWS9YNVYrdEJJWmsKYnhxZ0RNVUlZczZBbzlEejdHamV2alBIRjF0L2dNUk1UTEdtaElyRE83Z0p6UlNCdWhqalZGYzIvdHN2ZkVlaE9qUEkrVmc3UkUreAp5Z0tKQkpZb2FNVkx1Q2FKdTlZekwxRFYvcHFKdWhneWtsVEdXK0NkK1Y3bERTS2I5dHJpeUNHeVlpR3Foa0N5TG1UVFg4ampmaEZuClJSOEYvdU9pNzdPb3MvTjlqL2dNSHlJZkxYQzB1QUUwZGpBQTVTTjRwMWJYVUIrSyt3YjF3aG53MEE9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCgpVQ0EgRXh0ZW5kZWQgVmFsaWRhdGlvbiBSb290Cj09PT09PT09PT09PT09PT09PT09PT09PT09PT0KLS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUZXakNDQTBLZ0F3SUJBZ0lRVDlJcmovVmt5RE9lVHpSWVppTndZREFOQmdrcWhraUc5dzBCQVFzRkFEQkhNUXN3Q1FZRFZRUUcKRXdKRFRqRVJNQThHQTFVRUNnd0lWVzVwVkhKMWMzUXhKVEFqQmdOVkJBTU1IRlZEUVNCRmVIUmxibVJsWkNCV1lXeHBaR0YwYVc5dQpJRkp2YjNRd0hoY05NVFV3TXpFek1EQXdNREF3V2hjTk16Z3hNak14TURBd01EQXdXakJITVFzd0NRWURWUVFHRXdKRFRqRVJNQThHCkExVUVDZ3dJVlc1cFZISjFjM1F4SlRBakJnTlZCQU1NSEZWRFFTQkZlSFJsYm1SbFpDQldZV3hwWkdGMGFXOXVJRkp2YjNRd2dnSWkKTUEwR0NTcUdTSWIzRFFFQkFRVUFBNElDRHdBd2dnSUtBb0lDQVFDcENRY29Fd0t3bWVCa3FoNURGbnB6c1pHZ2RUNm8rdU00QUhycwppV29nRDR2RnNKc3pBMXFHeGxpRzFjR0Z1MC9HbkVCTnlyN3VhWmE0cllFd21ueVNCZXNGSzVwSTBMaDJQcGJJSUx2U3NQR1AyS3hGClJ2K3FaMkMwZDM1cUh6d2FVbm9FUFFjOGhRMkUwQjkyQ3ZkcUZOOXk0elI4VjA1V0FUNTU4YW9wTzJ6NitJOXRUY2cxMzY3cjNDVHUKZVVXbmhiWUZpTjZJWFNWOGwyUm5DZG0vV2hVRmh2TUpIdXhZTWpNUjgzZGtzSFlmNUJBMUZ4dnlEckZzcENxamMvd0pIeDR5R1ZNUgo1OW16TEM1MkxxR2ozbjVxaUFubzhnZUsrTExORU9maWMwQ1R1d2pSUCtIOEM1U3pKZTk4cHRmUnI1Ly9scHIxa1h1WUMzZlVmdWdICjBtSzFsVG5qOC9GdER3NWxoSXBqVk1XQXR1Q2VTMzFISnFjQkNGM1JpSjdYd3pKRStvSktDbWhVZnpoVEE4eWtBRE5rVVZrTG80S1IKZWw3c0ZzTHpLdVppMmlyYldXSVFKVW9xZ1F0SEIwTUdjSWZTK3BNUktYcElUZXVVeDNCTnIyZlZVYkdBSUFFQnRIb0lwcEIvVHVEdgpCMEdIcjJxbFhvdjd6MUN5bWxTdnc0bTZXQzMxTUppeE5uSTVma2tFL1NtblRIbmtCVmZibExrV1U0MUdzeDJWWVZkV2Y2L3dGbHRoCldHODJVQkVMMkt3cmxSWWFEaDhJelRZMFpSQmladFdBWHhRZ1h5ME1vSGdLYU5ZczErbHZLOUpLQlpQOG5tOXJaLytJOFU2bGFVcFMKTndYcXhoYU4wc1NaMFlJck83bzFkZmRSVVZqenlBZmQ1TFFEZndJREFRQUJvMEl3UURBZEJnTlZIUTRFRmdRVTJYUTY1REE5RGZjUwozSDVhQlo4ZU5KcjM0UlF3RHdZRFZSMFRBUUgvQkFVd0F3RUIvekFPQmdOVkhROEJBZjhFQkFNQ0FZWXdEUVlKS29aSWh2Y05BUUVMCkJRQURnZ0lCQURhTmw4eENGV1FwTjVzbUxOYjdyaFZwTEdzYUd2ZGZ0dmtIVEZucTg4bkl1YTdNdWk1NjNNRDFzQzNBTzYrZmNBVVIKYXA4bFR3RXBjT1BsRE9IcVduemNTYnZCSGlxQjlSWkxjcEhJb2pHNXF0cjhuUi96WFVBQ0UveE9IQWJLc3hTUVZCY1pFaHJ4SDljTQphVnIyY1hqMGxIMlJDNDdza0ZTT3ZHK2hUS3Y4ZEdUOWNacjRRUWVoelpIa1BKcmdtekk1YzZzcTFXbkllSkVtTVgzaXh6RHgvQlI0CmR4SU9FL1RkRnBTL1MyZDdjRk9GeXJDNzh6aE5MSkE1d0EzQ1hXdnA0dVhWaUkzV0xMK3JHNzYxS0ljU0YzUnUvSDM4ajlDSEpyQWIKKzdsc3ErS2VQUlhCT3k1bkFsaVJuKy80UWg4c3QyajFkYTNQdGZiL0VYM0M4Q1NscmRQNm9EeXArbDNjcGFEdlJLUysxdWpsNUJPVwpGM3NHUGpMdHg3ZEN2SGFqMkdVNEt6ZzFVU0VPRG04dU5CTkE0U3RuREcxS1FUQVlJMW95VlpuSkYrQTgzdmJzZWEwcldCbWlyU3dpCkdwV092cGFRWFVKWHhQa1VBelVySEMxUlZ3aW5PdDQvNU1pMEEzUEN3U2FBdXd0Q0g2ME5yeVp5MnN5K3M2T0RXQTJDeFI5R1VlT2MKR015Tm00M3NTZXQxVU5XTUtGbktkRFRhakFzaHF4N3FHK1hIL1JVK3dCZXEreU51SmtiTCt2bXhjbXRwenlLRUMySVByTmtaQUpTaQpkanpVTFpydEJKNHRCbUlRTjFJY2hYSWJKK1hNeGpIc04reGpXWnNMSFhiTWZqS2FpSlVJTmxLNzNuWmZka2xKclgrOVpTQ3l5Y0VyCmRoaDJuMWF4Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0KCkNlcnRpZ25hIFJvb3QgQ0EKPT09PT09PT09PT09PT09PQotLS0tLUJFR0lOIENFUlRJRklDQVRFLS0tLS0KTUlJR1d6Q0NCRU9nQXdJQkFnSVJBTXJwRzRueFZRTU5vK1pCYmNUanB1RXdEUVlKS29aSWh2Y05BUUVMQlFBd1dqRUxNQWtHQTFVRQpCaE1DUmxJeEVqQVFCZ05WQkFvTUNVUm9hVzE1YjNScGN6RWNNQm9HQTFVRUN3d1RNREF3TWlBME9ERTBOak13T0RFd01EQXpOakVaCk1CY0dBMVVFQXd3UVEyVnlkR2xuYm1FZ1VtOXZkQ0JEUVRBZUZ3MHhNekV3TURFd09ETXlNamRhRncwek16RXdNREV3T0RNeU1qZGEKTUZveEN6QUpCZ05WQkFZVEFrWlNNUkl3RUFZRFZRUUtEQWxFYUdsdGVXOTBhWE14SERBYUJnTlZCQXNNRXpBd01ESWdORGd4TkRZegpNRGd4TURBd016WXhHVEFYQmdOVkJBTU1FRU5sY25ScFoyNWhJRkp2YjNRZ1EwRXdnZ0lpTUEwR0NTcUdTSWIzRFFFQkFRVUFBNElDCkR3QXdnZ0lLQW9JQ0FRRE5HRGxsR2xteDZtUVdEb3lVSkpWOGc5UEZPU2JjRE84V1Y0M1gyS3lqUW4rQ3l1M05XOXNPdHkzdFJRZ1gKc3Rtenk5WVhVbklvMjQ1T25vcTJDL21laEpwTmR0NGlLVnpTczlJR1BqQTVxWFNqa2xZY29XOU1DaUJ0bnlONnRNYmFMT1FkTE55egpLTkFUOGt4T0FrbWhWRUNlNXVVRm9DMkV5UCtZYk5EcmlocUVDQjYzYUNQdUk5Vnd6bTFSYVJEdW9YckMwU0l4d29LRjB2SlZkbEI4CkpYckpoRndMck4xQ1Rpdm5ncUlraWN1UXN0RHVJN3BtVEx0aXBQbFRXbVI3ZkpqNm8waWVENVd1cHhqMGF1d3VBMFd2OEhUNEtzMTYKWGRHK1JDWXlLZkh4OVd6TWZnSWhDNTl2cEQrK25WUGl6MzJwTEh4WUdwZmhQVGMzR0dZbzBrREZVWXFNd3kzT1U0Z2tXR1F3RnNXcQo0TllLcGtEZmVQYjFCSHhwRTRTODBkR25CczhCOTJqQXFGZTdPbUd0Qkl5VDQ2Mzg4TnRFYlZuY1NWbXVySnFaTmpCQmUzWXpJb2VqCndwS0didmx3N3E2SGg1VWJ4SHE5TWZQVTB1V1ovNzVJN0hYMWVCWWRwbkRCZnp3Ym9aTDd6OGc4MXNXVENvLzFWVHAybGM1Wm1Jb0oKbFhjeW1vTzZMQVE2bDczVUw3N1hiSnVpeW4xdEpzbFYxYy9EZVZJSUNaa0hKQzFrSld1bUlXbWJhdDEwVFd1WGVrRzlxeGY1a0JkSQpqemI1TGRYRjIrNnFoVVZCK3MwNlJiRm81alpNbTVCWDdDTzVod2pDeEFueGw0WXFLRTNpZE1EYXhJemIzK0toRjFuT0pGbDBNZHAvCi9UQnQyZHpoYXVIOFh3SURBUUFCbzRJQkdqQ0NBUll3RHdZRFZSMFRBUUgvQkFVd0F3RUIvekFPQmdOVkhROEJBZjhFQkFNQ0FRWXcKSFFZRFZSME9CQllFRkJpSFZ1QnVkKzRrTlR4T2M1b2YxdUhpZVg0ck1COEdBMVVkSXdRWU1CYUFGQmlIVnVCdWQrNGtOVHhPYzVvZgoxdUhpZVg0ck1FUUdBMVVkSUFROU1Ec3dPUVlFVlIwZ0FEQXhNQzhHQ0NzR0FRVUZCd0lCRmlOb2RIUndjem92TDNkM2QzY3VZMlZ5CmRHbG5ibUV1Wm5JdllYVjBiM0pwZEdWekx6QnRCZ05WSFI4RVpqQmtNQytnTGFBcmhpbG9kSFJ3T2k4dlkzSnNMbU5sY25ScFoyNWgKTG1aeUwyTmxjblJwWjI1aGNtOXZkR05oTG1OeWJEQXhvQytnTFlZcmFIUjBjRG92TDJOeWJDNWthR2x0ZVc5MGFYTXVZMjl0TDJObApjblJwWjI1aGNtOXZkR05oTG1OeWJEQU5CZ2txaGtpRzl3MEJBUXNGQUFPQ0FnRUFsTGllVC9EamxRZ2k1ODFvUWZjY1ZkVjhBT0l0Ck9vbGRhRGd2VVNJTFNvM0w2YnRkUHJ0Y1BiRW8vdVJUVlJQUG9aQWJBaDFmWmtZSk15amhEU1NYY05NUUgrcGtWNWE3WGRybnhJeFAKVEdSR0hWeUg0MW5lUXRHYnFINm1pZDJQSE1rd2d1MDduTTNBNlJuZ2F0Z0NkVGVyOXpRb0tKSHlCQXBQTmVOZ0pnSDYwQkdNK1JGcQo3cTg5dzFEVGoxOHplVHlHcUhORmtJd2d0bkp6RnlPK0IyWGxlSklOdWdIQTY0d2NacitzaG5jQmxBMmM1dWs1alIrbVVZeVpERGwzCjRiU2IraHhuVjI5cWFvNnBLMHhYZVhwWElzL05YMk5HalZ4Wk9vYjRNa2RpbzJjTkdKSGMrNlpyOVVoaGN5TlpqZ0tudkVUcTlFbWQKOFZSWStXQ3YyaGlrTHloRjNIcWdpSVpkOHp2bi95azFnUHhrUTVUbTR4eHZ2cTBPS21PWks4bCtoZlp4NkFZRGxmN2VqMGdjV3RTUwo2Q3Z1NXpIYnVnUnFoNWpueFYvdmZhY2k5d0hZVGZtSjBBNmFCVm1rbnBqWmJ5dktjTDVrd2xXajlPbXZ3NUlwM0lnV0pKazhqU2FZCnRsdTN6TTYzTndmOUp0bVloU1QvV1NNRG11MmRuYWprWGpqTzExSU5iOUkvYmJFRmEwbk9pcEZHYy9UMkwvQ29jM2NPWmF5aGpXWlMKYVg1TGFBekhIamNuZzZXTXh3TGtGTTFKQWJCenMvM0drRHB2MG16dE8rN3NrYjZpUTEyTEFFcG1KVVJ3M2tBUCtId1Y5NkxPUE5kZQpFNHlCRnhnWDBiM3hkeEE2MUdVNXdTZXNWeXdsVlAraTJrK0tZVGxlcmoxS2pMMD0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQoKZW1TaWduIFJvb3QgQ0EgLSBHMQo9PT09PT09PT09PT09PT09PT09Ci0tLS0tQkVHSU4gQ0VSVElGSUNBVEUtLS0tLQpNSUlEbERDQ0FueWdBd0lCQWdJS01mWGtZZ3hzV08zVzJEQU5CZ2txaGtpRzl3MEJBUXNGQURCbk1Rc3dDUVlEVlFRR0V3SkpUakVUCk1CRUdBMVVFQ3hNS1pXMVRhV2R1SUZCTFNURWxNQ01HQTFVRUNoTWNaVTExWkdoeVlTQlVaV05vYm05c2IyZHBaWE1nVEdsdGFYUmwKWkRFY01Cb0dBMVVFQXhNVFpXMVRhV2R1SUZKdmIzUWdRMEVnTFNCSE1UQWVGdzB4T0RBeU1UZ3hPRE13TURCYUZ3MDBNekF5TVRneApPRE13TURCYU1HY3hDekFKQmdOVkJBWVRBa2xPTVJNd0VRWURWUVFMRXdwbGJWTnBaMjRnVUV0Sk1TVXdJd1lEVlFRS0V4eGxUWFZrCmFISmhJRlJsWTJodWIyeHZaMmxsY3lCTWFXMXBkR1ZrTVJ3d0dnWURWUVFERXhObGJWTnBaMjRnVW05dmRDQkRRU0F0SUVjeE1JSUIKSWpBTkJna3Foa2lHOXcwQkFRRUZBQU9DQVE4QU1JSUJDZ0tDQVFFQWswdTc2V2FLN3AxYjFUU1QwQnNldytlZXVHUXpmMk40YUxUTgpMbkYxMTVzZ3hrMHB2TFpvWUlyM0lacFdOVnJ6ZHIzWXpaci9rMVpMcFZrR29aTTBLZDBXTkhWTzhvRzB4NVpPclJrVlVrcitQSEIxCmNNMnZLNnNWbWpNOHFyT0xxczFEL2ZYcWNQL3R6eEU3bE01T01oYlRJMEFxZDdPdlBBRXNiTzJaTEl2WlRtbVlzdmVQUWJBeWVHSFcKRFYvRCtxSkFraDFjRitad1BqWG5vcmZDWXVLcnBEaE10VGsxYitvRGFmbzZWR2lGYmRieUwwTlZIcEVORHRqVmFxU1cwUk04TEhoUQo2RHFTMGhkVzVUVWFRQncralN6dE9kOUM0SU5CZE4ranpjS0dZRWhvNDJrTFZBQ0w1SFpwSVExNVRqUUlYaFRDekxHM3JkZDhjSXJICmhRSURBUUFCbzBJd1FEQWRCZ05WSFE0RUZnUVUrKzhOaHA2dzQ5MnB1ZkVoRjM4Ky9QQjNLeG93RGdZRFZSMFBBUUgvQkFRREFnRUcKTUE4R0ExVWRFd0VCL3dRRk1BTUJBZjh3RFFZSktvWklodmNOQVFFTEJRQURnZ0VCQUZuLzhvejFoMzF4UGFPZkcxdlIydmpUbkdzMgp2WnVwWWV2ZUZpeDBQWjdtZGRyWHVxZThRaGZuUFpIcjVYM2RQcHp4ejVLc2JFak13aUkvYVR2RnRoVXZvelhHYUNvY1Y2ODU3NDNRCk5jTVlESHNBVmh6Tml4bDAzcjRQRXVEUXFxRS9BalN4Y002ZEdOWUlBd2xHN21EZ2ZyYkVTUVJSZlhCZ3ZLcXkvM2x5ZXFZZFBWOHEKK01yaS9UbTNSN25yZnQ4RUk2LzZuQVlINmZ0ams0QkF0Y1pzQ2pFb3pneWZ6N01qTllCQmpXekVOM3VCTDRDaFFFS0Y2ZGs0amVpaApVODBCdjJub1dnYnlSUXVRK3E3aHY1M3lybGM4cGE2eVZ2U0xaVURwL1RHQkxQUTVDZGp1YTZlMHBoMFZwWmozQVlIWWhYM3pVVnh4CmlONjZ6QitBZmtvPQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCgplbVNpZ24gRUNDIFJvb3QgQ0EgLSBHMwo9PT09PT09PT09PT09PT09PT09PT09PQotLS0tLUJFR0lOIENFUlRJRklDQVRFLS0tLS0KTUlJQ1RqQ0NBZE9nQXdJQkFnSUtQUFlIcVdod0R0cUxoREFLQmdncWhrak9QUVFEQXpCck1Rc3dDUVlEVlFRR0V3SkpUakVUTUJFRwpBMVVFQ3hNS1pXMVRhV2R1SUZCTFNURWxNQ01HQTFVRUNoTWNaVTExWkdoeVlTQlVaV05vYm05c2IyZHBaWE1nVEdsdGFYUmxaREVnCk1CNEdBMVVFQXhNWFpXMVRhV2R1SUVWRFF5QlNiMjkwSUVOQklDMGdSek13SGhjTk1UZ3dNakU0TVRnek1EQXdXaGNOTkRNd01qRTQKTVRnek1EQXdXakJyTVFzd0NRWURWUVFHRXdKSlRqRVRNQkVHQTFVRUN4TUtaVzFUYVdkdUlGQkxTVEVsTUNNR0ExVUVDaE1jWlUxMQpaR2h5WVNCVVpXTm9ibTlzYjJkcFpYTWdUR2x0YVhSbFpERWdNQjRHQTFVRUF4TVhaVzFUYVdkdUlFVkRReUJTYjI5MElFTkJJQzBnClJ6TXdkakFRQmdjcWhrak9QUUlCQmdVcmdRUUFJZ05pQUFRanBReTRMUkwxS1BPeHN0M2lBaEtBbmpsZlNVMmZ5U1UwV1hUc3V3WWMKNThCeXIraXVMK0ZCVkljVXFFcXk2SHlDNWx0cXRkeXpkYzZMQnRDR0k3OUcxWTRQUHdUMDF4eVNmdmFsWThMMVg0NHVUNkVZR1FJcgpNZ3FDWkgwV2s5R2pRakJBTUIwR0ExVWREZ1FXQkJSOFhRS0VFOVRNaXB1QnpoY2NMaWtlbkVoalFqQU9CZ05WSFE4QkFmOEVCQU1DCkFRWXdEd1lEVlIwVEFRSC9CQVV3QXdFQi96QUtCZ2dxaGtqT1BRUURBd05wQURCbUFqRUF2dk5oendJUUhXU1ZCN2dZYm9pRkJTK0QKQ0JlUXloK0tUT2dORzNxeHJkV0JDVWZ2TzZ3SUJIeGNtYkh0UndmU0FqRUFuYnBWL0tsSzZPM3Q1bllCUW52SStHRFpqVkdMVlR2NwpqSHZyWlFuRCtKYk5SNmlDOGhaVmR5UitFaENWQkN5agotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCgplbVNpZ24gUm9vdCBDQSAtIEMxCj09PT09PT09PT09PT09PT09PT0KLS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSURjekNDQWx1Z0F3SUJBZ0lMQUs3UEFMckV6ekw0UTdJd0RRWUpLb1pJaHZjTkFRRUxCUUF3VmpFTE1Ba0dBMVVFQmhNQ1ZWTXgKRXpBUkJnTlZCQXNUQ21WdFUybG5iaUJRUzBreEZEQVNCZ05WQkFvVEMyVk5kV1JvY21FZ1NXNWpNUnd3R2dZRFZRUURFeE5sYlZOcApaMjRnVW05dmRDQkRRU0F0SUVNeE1CNFhEVEU0TURJeE9ERTRNekF3TUZvWERUUXpNREl4T0RFNE16QXdNRm93VmpFTE1Ba0dBMVVFCkJoTUNWVk14RXpBUkJnTlZCQXNUQ21WdFUybG5iaUJRUzBreEZEQVNCZ05WQkFvVEMyVk5kV1JvY21FZ1NXNWpNUnd3R2dZRFZRUUQKRXhObGJWTnBaMjRnVW05dmRDQkRRU0F0SUVNeE1JSUJJakFOQmdrcWhraUc5dzBCQVFFRkFBT0NBUThBTUlJQkNnS0NBUUVBeit1cAp1ZkdaQmN6WUtDRks4M00wVVlSV0VQV2dUeXdTNC9vVG1pZlF6L2w1R25SZkhYazUvRnY0Y0k3Z2tsTDM1Q1g1VklQWkhkUElXb1UvClhzZTJCKzQrd002YXI2eFdRaW81SlhEV3Y3VjdOcTJzOW5QY3pkY2Rpb09sK3l1UUZUZHJIQ1pIM0RzcFZwTnFzOEZxT3AwOTljR1gKT0ZnRml4d1I0K1MwdUYyRkhZUCtlRjhMUldnWVNLVkdjelE3L2cvSWRydkhHUE1GMFliemhlM251ZGt5clZXSXpxYTJrYkJQckg0VgpJNWIyUC9BZ05CYmVDc2JFQkVWNWY2Zjl2dEtwcGErY3hTTXE5endoYkwydmowN0ZPckx6TkJMODM0QWFTYVRVcVpYM25vbGVvb21zCmxNdW9hSnV2aW1VbnpZbnUzWXkxYXlsd1E2QnBDK1M1RHdJREFRQUJvMEl3UURBZEJnTlZIUTRFRmdRVS9xSGdjQjRxQXpsU1drSysKWEpHRmVoaXFUYlV3RGdZRFZSMFBBUUgvQkFRREFnRUdNQThHQTFVZEV3RUIvd1FGTUFNQkFmOHdEUVlKS29aSWh2Y05BUUVMQlFBRApnZ0VCQU1KS1Z2b1ZJWHNvb3VubEhmdjRMY1E1bGtGTU95Y3N4R3dZRllER3JLOUhXUzhtQytNMnNPODcva09YU1RLWkVoVmIzeEVwCi82dFQrTHZCZUErc25GT3ZWNzFvakQxcE0vQ2pvQ05qTzJSbklrU3QxWEhMVmlwNGtxTlBFakUyTnVMZS9nREVvMkFQSjYyZ3NJcTEKTm5wU29iMG45Q0FuWXVoTmxDUVQ1QW9FNlR5ckxzaERDVXJHWVFUbFNUUiswOFRJOVEvQXF1bTZWRjd6WXl0UFQxRFUvcmw3bVl3OQp3QzY4QWl2VHhFRGtpZ2N4SHB2T0pwa1QreEhxbWlJTUVSbkhYaHVCVURESWxoSnU1OHRCZjVFN29rZTNWSUFiM0FETW1wRHF3OE5RCkJtSU1NTUFWU0tlb1dYemhyaUtpNGdwNkQvcGlxMUpNNGZIZnlyNkREVUk9Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0KCmVtU2lnbiBFQ0MgUm9vdCBDQSAtIEMzCj09PT09PT09PT09PT09PT09PT09PT09Ci0tLS0tQkVHSU4gQ0VSVElGSUNBVEUtLS0tLQpNSUlDS3pDQ0FiR2dBd0lCQWdJS2UzRzJnbGE0RW55Y3FEQUtCZ2dxaGtqT1BRUURBekJhTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHCkExVUVDeE1LWlcxVGFXZHVJRkJMU1RFVU1CSUdBMVVFQ2hNTFpVMTFaR2h5WVNCSmJtTXhJREFlQmdOVkJBTVRGMlZ0VTJsbmJpQkYKUTBNZ1VtOXZkQ0JEUVNBdElFTXpNQjRYRFRFNE1ESXhPREU0TXpBd01Gb1hEVFF6TURJeE9ERTRNekF3TUZvd1dqRUxNQWtHQTFVRQpCaE1DVlZNeEV6QVJCZ05WQkFzVENtVnRVMmxuYmlCUVMwa3hGREFTQmdOVkJBb1RDMlZOZFdSb2NtRWdTVzVqTVNBd0hnWURWUVFECkV4ZGxiVk5wWjI0Z1JVTkRJRkp2YjNRZ1EwRWdMU0JETXpCMk1CQUdCeXFHU000OUFnRUdCU3VCQkFBaUEySUFCUDJsWWE1N0poQWQKNmJjaU1LNEc5SUd6c1VKeGxUbTgwMUxqcjYvNThwYzFralpHRG9lVmpiazVXdW03MzlEK3lBZEJQTHRWYjRPamF2dGlzSUdKQW5COQpTTVZLNCtraVZDSk5rN3RDREs5M25DT21mZGRoRWM1bHgvaC8vdlh5cWFOQ01FQXdIUVlEVlIwT0JCWUVGUHRhU05DQUlFRHlxT2tBCkIya1pkNmZtdy9UUE1BNEdBMVVkRHdFQi93UUVBd0lCQmpBUEJnTlZIUk1CQWY4RUJUQURBUUgvTUFvR0NDcUdTTTQ5QkFNREEyZ0EKTUdVQ01RQzAyQzhDaWYyMlRHSzZRMDRUaEhLMXJ0MGMzdGExM0ZhUFdFQmFMZDRnVENLRHlwT29mdTRTUU1mV2gwLzQzNFVDTUJ3VQpaT1I4bG9NUm5MRFJXbUZMcGc5SjB3RDhvZnprcGY5L3JkY3cwTWQzZjc2QkIxVXdVQ0FVOVZjNENxZ3hVUT09Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0KCkhvbmdrb25nIFBvc3QgUm9vdCBDQSAzCj09PT09PT09PT09PT09PT09PT09PT09Ci0tLS0tQkVHSU4gQ0VSVElGSUNBVEUtLS0tLQpNSUlGenpDQ0E3ZWdBd0lCQWdJVUNCWmZpa3lsN0FESmswRGZ4TWF1STdnY1dxUXdEUVlKS29aSWh2Y05BUUVMQlFBd2J6RUxNQWtHCkExVUVCaE1DU0VzeEVqQVFCZ05WQkFnVENVaHZibWNnUzI5dVp6RVNNQkFHQTFVRUJ4TUpTRzl1WnlCTGIyNW5NUll3RkFZRFZRUUsKRXcxSWIyNW5hMjl1WnlCUWIzTjBNU0F3SGdZRFZRUURFeGRJYjI1bmEyOXVaeUJRYjNOMElGSnZiM1FnUTBFZ016QWVGdzB4TnpBMgpNRE13TWpJNU5EWmFGdzAwTWpBMk1ETXdNakk1TkRaYU1HOHhDekFKQmdOVkJBWVRBa2hMTVJJd0VBWURWUVFJRXdsSWIyNW5JRXR2CmJtY3hFakFRQmdOVkJBY1RDVWh2Ym1jZ1MyOXVaekVXTUJRR0ExVUVDaE1OU0c5dVoydHZibWNnVUc5emRERWdNQjRHQTFVRUF4TVgKU0c5dVoydHZibWNnVUc5emRDQlNiMjkwSUVOQklETXdnZ0lpTUEwR0NTcUdTSWIzRFFFQkFRVUFBNElDRHdBd2dnSUtBb0lDQVFDegppTmZxemc4Z1RyN20xZ050N2xuOHdsZmZLV2loZ3c0K2FNZG9XSndjWUV1SlF3eTUxQld5N3NGT2RlbTFwKy9sNlRXWjVNd2M1MHRmCmpUTXdJRE5UMmFhNzFUNFRqdWtmaDBtdFVDMVF5aGkrQVZpaUUzQ1d1NG1JVm9CYytMMHNQT0ZNVjRpNzA3bVY3OHZIOXRveGRDaW0KNWxTSjlVRXh5dVVtR3MyQzRIRGFPeW03MVFQMW1icFY5V1RSWUE2emlVbTRpaThGMG9SRktIeVBhRkFTZVB3THRWUEx3cGdjaEtPZQpzTDRqcE5yY3lDc2UybTVGSG9tWTJ2a0FMZ2JwRER0dzFWQWxpSm5MelhOZzk5WC9OV2ZGb2J4ZXE4MUt1RVhyeUdnZURRMFVSaExqCjBtUmlpa0tZdkxUR0NBajQvYWhNWkp4MkFiMHZxV3d6RDlnL0tMZzhhUUZDaG41cHdja0d5dVY2Um1YcHd0WlFRUzQvdCtUdGJOZS8KSmdFUm9oWXBTbXMwQnBEc0U5SzIrMnAyMGp6dDhOWXQzZUVWN0tPYkx5ekpQaXZrYVR2L2NpV3hOb1pieDM5cmkxVWJTc1VnWVQydQp5MURoQ0RxK3NJOWpRVk13Q0ZrOG1CMTN1bU9SZXNvUVVHQy84TmU4bFllUGw4WCtsMm9CbEtOOFc0VWRLams2MEZTaDBUbHhuZjBoCitiVjc4T0xnQW85dWxpUWxMS0FlTEtqRWlhZnY3WmtHTDdZS1RFL2Jvc3czR3E5SGhTMktYOFEwTkV3QS9SaVRaeFBSTitaSXRJc0cKeFZkN0dZWUtlY3NBeVZLdlF2ODNqK0dqSG5vOVVLdGpCdWNWdFQrMlJUZVVON0YrOGtqRGY4VjEvcGVOUlk4YXB4cHlLQnBBRHdJRApBUUFCbzJNd1lUQVBCZ05WSFJNQkFmOEVCVEFEQVFIL01BNEdBMVVkRHdFQi93UUVBd0lCQmpBZkJnTlZIU01FR0RBV2dCUVhuYzBlCmk5WTVLM0RUWE5TZ3VCK3dBUHpGWVRBZEJnTlZIUTRFRmdRVUY1M05Ib3ZXT1N0dzAxelVvTGdmc0FEOHhXRXdEUVlKS29aSWh2Y04KQVFFTEJRQURnZ0lCQUZiVmUyN21JZ0hTUXBzWTFRN1haaU5jNC82Z3g1TFM2WlN0UzZMRzdCSjhkTlZJMGxrVW1jRHJ1ZEhyOUVndwpXNjJuVjNPWnFkUGx0OUV1V1NSWTNHZ3VMbUxZYXVSd0N5MGdVQ0NrTXBYUkFKaTcwLzMzTXZKSnJzWjY0RWUrYnM3TG8zSTZMV2xkCnk4am9SVG5VK2tMQkVVeDNYWkw3YXY5WVJPWHJnWjZ2b0ptdHZxa0Jac3M0SFR6ZlF4LzBUVzYwdWhkRy9IMzloNEY1YWcwekQvb3YKK0JTNWdMTmRUYXFYNGZua0dNWDQxVGlNSmp6OThpamk3bHBKaUN6ZmVUMk9ucEE4dlVGS090MWI5cHEwemo4bE1IOHlmYUlEbE5EYwplcUZTM202VGpSZ20vVldzdlkrYjBzK3Y1NFlzeXg4SmI2TnZxWVRVYzc5Tm9YUWJUaU5nOHN3T3FuK2tuRXdscUxKbU96ai8yWlF3CjluS0V2bWhWRUEvR2N5d1dhWk1IL3JGRjdidWlWV3F3MnJWS0FpVW5oZGUzdDRaRUZvbHNnQ3MrbDZtYzFYNVZUTWJlUlJBYzZ1azcKbndOVDd1NTZBUUlXZU5Ub3dyNUdkb2dUUHlLN1NCSWRVZ0MwQW40aEdoNmNKZlR6UFY0ZTBoejVzeTIyOXpkY3hzc2hUckQzbVVjWQpoY0VydWxXdUJ1clFCN0xjcTlDQ2xuWE8wbEQrbWVmUEw1L25kdEZoS3ZzaHV6SFFxcDlIcExJaXloWTZVRmZFVzBObnhXVmlBMGtCCjYwUFoyUGllcmMreFl3NUY5S0JhTEpzdHhhYkFyYWhIOUNkTU9BMHVHMGs3VXZUb2lJTXJWQ2pVOGpWU3RES0RZbWxrREpHY241ZnEKZEJiOUh4RUdtcHYwCi0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0KCkVudHJ1c3QgUm9vdCBDZXJ0aWZpY2F0aW9uIEF1dGhvcml0eSAtIEc0Cj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ci0tLS0tQkVHSU4gQ0VSVElGSUNBVEUtLS0tLQpNSUlHU3pDQ0JET2dBd0lCQWdJUkFObTFRMyt2cVRrUEFBQUFBRlZsclZnd0RRWUpLb1pJaHZjTkFRRUxCUUF3Z2I0eEN6QUpCZ05WCkJBWVRBbFZUTVJZd0ZBWURWUVFLRXcxRmJuUnlkWE4wTENCSmJtTXVNU2d3SmdZRFZRUUxFeDlUWldVZ2QzZDNMbVZ1ZEhKMWMzUXUKYm1WMEwyeGxaMkZzTFhSbGNtMXpNVGt3TndZRFZRUUxFekFvWXlrZ01qQXhOU0JGYm5SeWRYTjBMQ0JKYm1NdUlDMGdabTl5SUdGMQpkR2h2Y21sNlpXUWdkWE5sSUc5dWJIa3hNakF3QmdOVkJBTVRLVVZ1ZEhKMWMzUWdVbTl2ZENCRFpYSjBhV1pwWTJGMGFXOXVJRUYxCmRHaHZjbWwwZVNBdElFYzBNQjRYRFRFMU1EVXlOekV4TVRFeE5sb1hEVE0zTVRJeU56RXhOREV4Tmxvd2diNHhDekFKQmdOVkJBWVQKQWxWVE1SWXdGQVlEVlFRS0V3MUZiblJ5ZFhOMExDQkpibU11TVNnd0pnWURWUVFMRXg5VFpXVWdkM2QzTG1WdWRISjFjM1F1Ym1WMApMMnhsWjJGc0xYUmxjbTF6TVRrd053WURWUVFMRXpBb1l5a2dNakF4TlNCRmJuUnlkWE4wTENCSmJtTXVJQzBnWm05eUlHRjFkR2h2CmNtbDZaV1FnZFhObElHOXViSGt4TWpBd0JnTlZCQU1US1VWdWRISjFjM1FnVW05dmRDQkRaWEowYVdacFkyRjBhVzl1SUVGMWRHaHYKY21sMGVTQXRJRWMwTUlJQ0lqQU5CZ2txaGtpRzl3MEJBUUVGQUFPQ0FnOEFNSUlDQ2dLQ0FnRUFzZXdzUXU3aTBURC9wWkpINGkzRAp1bVNYYmNyM0RiVlp3YlBMcUdnWjJLK0ViVEJ3WFg3ekx0SlRtZUgrSDE3WlNLOWRFNDNiLzJNelRkTUFBcnpFK05FR0NKUjVXSW9WCjNpbXovZjNFVCtpcTRxQTdlYzIvYTBNeTNkbDBFTG4zOUdqVXU5Q0gxYXBMaWlwdktnUzFzcWJIb0hybVNLdlMwVm5NMW40ajVwZHMKOEVMbDNGRkxGVUh0U1VySjNoQ1gxbmJCNzZXMU5oU1hOZGg0SWpWUzcwTzkyeWZiWVZhQ05OekxpR0FNQzFybExBSEdWSy9YcXNFUQplOUlGV3JoQW5vYW53NUNHQWxaU0NYcWMwaWVDVTBwbFVtcjFQT2VvOHB5dmk3M1REdFRVWG02SG5tbzlSUjNSWFJ2MDZRcXNZSm43CmliVC9tQ3pQZkIzcEFxb0VtaDY0M0lodUpiTnNadmM4a1BOWHdiTXY5VzN5KzhxaCtDbWRSb3V6YXZibVp3ZStMR2NLS2g5YXNqNVgKeE5NaElXTmxVcEVic1ptT2VYN202NDBBMlZxcTZuUG9wSUlDUjViK1c0NVVZYVByTDBzd3NJc2pkWEo4SVR6STl2RjAxQng3b3dWVgo3cnROT3pLK21uZG1ucXhwa0NJSEgyRTZscjdsbWsvTUJUd29XZFBCREZTb1dXRzl5SEpNNk55ZmgzKzluRWcyWHBXakRyazRKRlg4CmRXYnJBdU1JTkNsS3h1TXJMek9nMnFPR3BSS1gvWUFyMmhSQzQ1SzlQdkpkWG1kMExoeUlSeWswWCtJeXFKd2xONHk2bUFDWGkwbVcKSHYwbGlxemMydGhkZEc1bXNQOUUzNkVZeHI1SUx6ZVVlUGlWU2o5L0UxNWRXZjEwaGtOamMwa0NBd0VBQWFOQ01FQXdEd1lEVlIwVApBUUgvQkFVd0F3RUIvekFPQmdOVkhROEJBZjhFQkFNQ0FRWXdIUVlEVlIwT0JCWUVGSjg0eEZZand6bm9vSEZzNkZSTTVPZzZzYjluCk1BMEdDU3FHU0liM0RRRUJDd1VBQTRJQ0FRQVM1VUttZTRzUERPUkdwYlpnUUllTUpYNnR1R2d1VzhaQWRqd0QrTWxaOVBPcllzNFEKamJSYVpJeG93TEJ5UXpUU0d3djJMRlBTeXBCTGhtYjhxb01pOUlzYWJ5WklySFozQ0wvRm1GejBKb21lZThPNVpESUJmOVBEM1ZodAo3TEdyaEZWMGQ0UUVKMUpyaGt6TzNibGwvOWJHWHArYUVKbExkV3IrYXVtWElPVGtkbnJHMENTcWtNMGdrTHBIWlB0L0I3TlRlTFVLCll2SnpRODVCSzRGcUxvVVdsRlBVYTE5eUlxdFJMVUxWQUp5WnY5NjdsRHRYL1pyMWhzdFdPMXVJQWVWOEtFc0QrVW1EZkxKL2ZPUHQKanFGL1lGT09WWjFRTkJJUHQ1ZDdiSWRLUk9mMWJleUFOL0JZR1c1S2FIYndINUxrNnJXUzAyRlJFQXV0cDlsZngxL2NINk5jaktGKwptN2VlMDFadlpsNEhsaUR0QzNUN1prNkxFUlhwZ1VsK2I3RFVVSDhpMTE5bEFnMm05SVVlMks0R1MwcW4wakZtd3ZqTzVRaW1wQUtXClJHaFh4TlV6enhrdkZNU1VISHVrMmZDZkRyR0E0dEdlRVdTcGlCRTZkb0xsWXNLQTJLU0Q3WlB2ZkMrUXNESk1saFZvU0ZMVW1RakEKSk9nYzQ3T2xJUTZTd0pBZnp5QmZ5anM0eDdkdE92UG1STGdPTVd1SWpuRHJuQmRTcUVHVUxvZTI1NllTeFhYZlc4QUtibnVrNUY2RworVGFVMzNmRDZRM0FPZkY1dTBhT3EwTlpKN2NndXlQcFZrQWg3REU5WmFwRDhqM2ZjRVRodWswbUVEdVluL1BJamhzNFZpRnFVWlBUCmtjcEcyb20zUFZPRExBZ2ZpNDlUM2Yrc0h3PT0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQoKTWljcm9zb2Z0IEVDQyBSb290IENlcnRpZmljYXRlIEF1dGhvcml0eSAyMDE3Cj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQotLS0tLUJFR0lOIENFUlRJRklDQVRFLS0tLS0KTUlJQ1dUQ0NBZCtnQXdJQkFnSVFadkk5cjRmZWk3Rks2Z3hYTVFIQzdEQUtCZ2dxaGtqT1BRUURBekJsTVFzd0NRWURWUVFHRXdKVgpVekVlTUJ3R0ExVUVDaE1WVFdsamNtOXpiMlowSUVOdmNuQnZjbUYwYVc5dU1UWXdOQVlEVlFRREV5MU5hV055YjNOdlpuUWdSVU5ECklGSnZiM1FnUTJWeWRHbG1hV05oZEdVZ1FYVjBhRzl5YVhSNUlESXdNVGN3SGhjTk1Ua3hNakU0TWpNd05qUTFXaGNOTkRJd056RTQKTWpNeE5qQTBXakJsTVFzd0NRWURWUVFHRXdKVlV6RWVNQndHQTFVRUNoTVZUV2xqY205emIyWjBJRU52Y25CdmNtRjBhVzl1TVRZdwpOQVlEVlFRREV5MU5hV055YjNOdlpuUWdSVU5ESUZKdmIzUWdRMlZ5ZEdsbWFXTmhkR1VnUVhWMGFHOXlhWFI1SURJd01UY3dkakFRCkJnY3Foa2pPUFFJQkJnVXJnUVFBSWdOaUFBVFV2RDBDUW5WQkV5UE5nQVNHQWxFdmFxaUJZZ3RselBiS25SNXZTbVpSb2dQWm5aSDYKdGhheGpHN2VmTTNiZWFZdnpydk9jUy9scGFzbzdHTUVacG40K3ZLVEVBWGhnU2hDNDhabzlPWWJoR0JLaWEvdGVRODd6dkgyUlBVQgplTUNqVkRCU01BNEdBMVVkRHdFQi93UUVBd0lCaGpBUEJnTlZIUk1CQWY4RUJUQURBUUgvTUIwR0ExVWREZ1FXQkJUSXk1bHljRklNCitPYStzZ1JYS1NyUFFoRHROVEFRQmdrckJnRUVBWUkzRlFFRUF3SUJBREFLQmdncWhrak9QUVFEQXdOb0FEQmxBakJZOGszcURQbGYKWHU1Z0tjczY4dHZXTW9RWlAzelZMOEt4ekpPdVVMc0pNc2JHN1g3Sk5wUVM1R2lGQnFJYjBDOENNUUNaNlJhMER2cFdTTlNrTUJhUgplTnRVakdVQml1ZFFac0l4dHptNnVCb2lCMDc4YTFRV0lQOHJ0ZWRNREUybVQzTT0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQoKTWljcm9zb2Z0IFJTQSBSb290IENlcnRpZmljYXRlIEF1dGhvcml0eSAyMDE3Cj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQotLS0tLUJFR0lOIENFUlRJRklDQVRFLS0tLS0KTUlJRnFEQ0NBNUNnQXdJQkFnSVFIdE9YQ1YvWXRMTkhjQjZxdm45RnN6QU5CZ2txaGtpRzl3MEJBUXdGQURCbE1Rc3dDUVlEVlFRRwpFd0pWVXpFZU1Cd0dBMVVFQ2hNVlRXbGpjbTl6YjJaMElFTnZjbkJ2Y21GMGFXOXVNVFl3TkFZRFZRUURFeTFOYVdOeWIzTnZablFnClVsTkJJRkp2YjNRZ1EyVnlkR2xtYVdOaGRHVWdRWFYwYUc5eWFYUjVJREl3TVRjd0hoY05NVGt4TWpFNE1qSTFNVEl5V2hjTk5ESXcKTnpFNE1qTXdNREl6V2pCbE1Rc3dDUVlEVlFRR0V3SlZVekVlTUJ3R0ExVUVDaE1WVFdsamNtOXpiMlowSUVOdmNuQnZjbUYwYVc5dQpNVFl3TkFZRFZRUURFeTFOYVdOeWIzTnZablFnVWxOQklGSnZiM1FnUTJWeWRHbG1hV05oZEdVZ1FYVjBhRzl5YVhSNUlESXdNVGN3CmdnSWlNQTBHQ1NxR1NJYjNEUUVCQVFVQUE0SUNEd0F3Z2dJS0FvSUNBUURLVzc2VU00d3BsWkVXQ3BXOVIyTEJpZk9aTnQ5R2tNbWwKN1hocWIwZVJhUGduWjFBekhhR20rK0RsUTZPRUFsY0JYWnhJUUlKVEVMeS94enRva0xhQ0xlWDBaZERNYlJuTWxmbDdyRXFVclE3ZQpTME1kaHdlU0U1Q0FnMlExT1FUODVlbHNzN1lmVUpRNFpWQmNGMGE1dG9XMUhMVVg2TlpGbmRpeUpyREt4SEJLcm1DazNiUFo3UHc3CjFWZHl2RC9JeWJMZVMydjRJMndEd0FXOWxjZk5jenRtZ0dUakdxd3UrVWNGOGdhMm0zUDFlRE5ieDZIN0p5cWh0SnFSakpIVE9vSSsKZGtDMHpWSmhVWEFvUDhYRld2TEpqRW03RkZ0TnlQOW5UVXdTbHEzMS9uaW9sNGZYL1Y0Z2dOeWhTeUw3MUltdHVzNUhsMGRWZTQ5Rgp5R2NvaEpVY2FERHY3MG5nTlh0azU1aXdsTnBOaFRzK1ZjUW9yMWZ6bmhQYlJpZWZIcUplUklPa3BjclZFN05MUDhUand1YUdZYVJTCk1MbDZJRTl2RHpoVHl6TU1FeXVQMXBxOUtzZ3RzUng5UzFIS1I5RklKM0pkaCt2VlJlWklaWjJ2VXBDNlc2SVlaVmNTbjJpNTFCVnIKbE1ScElwajBNK0R0K1ZHT1FWREpORTkya0t6OE9NSFk0WHU1NCtPVTRVWnB5dzRLVUdzVHVxd1BOMXEzRXJXUWdSNVdybGNpaHRuSgowdEhYVWVPck84WlYvUjRPMDNRSzBkcXE2bW00bHlpUFNNUUgrRkpET3ZUS1ZUVXNzS1pxd0p6NThvSGhFbXJBUmRsbnM4Ny9JNktKCkNsVFVGTGtxcU5mcythdk5KVmd5ZVkrUVc1ZzV4QWdHd2F4L0RqMEFwUUlEQVFBQm8xUXdVakFPQmdOVkhROEJBZjhFQkFNQ0FZWXcKRHdZRFZSMFRBUUgvQkFVd0F3RUIvekFkQmdOVkhRNEVGZ1FVQ2N0WmY0YXljSThhd3puandObnB2N3ROc2lNd0VBWUpLd1lCQkFHQwpOeFVCQkFNQ0FRQXdEUVlKS29aSWh2Y05BUUVNQlFBRGdnSUJBS3l2UGwzQ0VaYUpqcVBua3RhWEZiZ1RvcVpDTGdMTkZnVlpKOG9nCjZMcTQ2QnJzVGFpWFZxNWxRN0dQQUp0U3pWWE5Vemx0WWt5TERWdDhMa1MvZ3hDUDgxT0NnTU5QT3NkdUVUL200eGFSaFB0dGhIODAKZEsySnA4NjUxOWVmaEdTU3ZwV2hyUWxUTTkzdUN1cEtVWTV2VmF1NnRaUkdyb3gvMktKUUpXVmdnRWJiTXdTdWJMV1lkRlFsM0pQaworT05WRlQyNGJjTUtwQkxCYVlWdTMyVHhVNW5oU25VZ25aVVA1TmJjQS9GWkdPaEhpYkpYV3BTMnFkZ1hLeGRKNVhiTHdWYVpPamV4Ci8ya3NrWkdUNGQ5TW96ZDJUYUdmK0cwZUhkUDY3UHYwUlIwVGJjLzNXZVVpSjNJcmh2Tlh1ekR0SkUzY2ZWYTdvN1A0TkhtSndlRHkKQW1IM3B2d1B1eHdYQzY1QjJYeTlKNlA5TGpyUms1U3hjeDBraTY5YklJbXR0MmRtZWZVNnhxYVdNLzVUa3NoR3NSR1J4cGwvajhuVwpaakVnUVJDSExReld3YTgwbU1wa2cvc1RWOUhCOER4NmpLWEIvWlVob0hIQmsyZHhFdXFQaUFwcEdXU1pJMWI3ckNvdWNMNW14QXlFCjcrV0w4NU1CK0dxUWsyZExzbWlqdFdLUDZUK01lanRlRCtlTXVNWjg3emY5ZE9MSVR6Tnk0WlE1YmIwU3I3NE1UbkI4RzIrTnN6S1QKYzBRV2JlajA5K0NWZ0krV1hUaWs5S3ZlQ2pDSGs5aE5BSEZpUlNkTE9rS0VXMzlsdDJjMFVpMmNGbXVxcU5oN28wSk1jY2NNeWo2RAo1S2J2dHdFd1hsR2plZlZ3YWFaQlJBK0dzQ3lSeGozcXJnK0UKLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQoKZS1Temlnbm8gUm9vdCBDQSAyMDE3Cj09PT09PT09PT09PT09PT09PT09PQotLS0tLUJFR0lOIENFUlRJRklDQVRFLS0tLS0KTUlJQ1FEQ0NBZVdnQXdJQkFnSU1BVlJJN3lIOWwxa045UVFLTUFvR0NDcUdTTTQ5QkFNQ01IRXhDekFKQmdOVkJBWVRBa2hWTVJFdwpEd1lEVlFRSERBaENkV1JoY0dWemRERVdNQlFHQTFVRUNnd05UV2xqY205elpXTWdUSFJrTGpFWE1CVUdBMVVFWVF3T1ZrRlVTRlV0Ck1qTTFPRFEwT1RjeEhqQWNCZ05WQkFNTUZXVXRVM3BwWjI1dklGSnZiM1FnUTBFZ01qQXhOekFlRncweE56QTRNakl4TWpBM01EWmEKRncwME1qQTRNakl4TWpBM01EWmFNSEV4Q3pBSkJnTlZCQVlUQWtoVk1SRXdEd1lEVlFRSERBaENkV1JoY0dWemRERVdNQlFHQTFVRQpDZ3dOVFdsamNtOXpaV01nVEhSa0xqRVhNQlVHQTFVRVlRd09Wa0ZVU0ZVdE1qTTFPRFEwT1RjeEhqQWNCZ05WQkFNTUZXVXRVM3BwCloyNXZJRkp2YjNRZ1EwRWdNakF4TnpCWk1CTUdCeXFHU000OUFnRUdDQ3FHU000OUF3RUhBMElBQkpiY1BZcllzSHR2eGllK1JKQ3gKczFZVmU0NURKSDBhaEZudVkyaXl4bDZIMEJWSUhxaVFyYjFUb3RyZU9wQ21ZRjlvTXJXR1FkK0hXeXg3eGY1OGV0cWpZekJoTUE4RwpBMVVkRXdFQi93UUZNQU1CQWY4d0RnWURWUjBQQVFIL0JBUURBZ0VHTUIwR0ExVWREZ1FXQkJTSEVSVUkwYXJCZUF5eHI4N0d5WkR2CnZ6QUV3REFmQmdOVkhTTUVHREFXZ0JTSEVSVUkwYXJCZUF5eHI4N0d5WkR2dnpBRXdEQUtCZ2dxaGtqT1BRUURBZ05KQURCR0FpRUEKdFZmZDE0cFZDemJoaGtUNjFObG9qYmpjSTRxS0RkUXZmZXB6N0w5TmJLZ0NJUURMcGJRUyt1ZTE2TTkray96ek5ZOXZUbHA4dEx4Twpzdnh5cWx0WitlZmNNUT09Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0KCmNlcnRTSUdOIFJvb3QgQ0EgRzIKPT09PT09PT09PT09PT09PT09PQotLS0tLUJFR0lOIENFUlRJRklDQVRFLS0tLS0KTUlJRlJ6Q0NBeStnQXdJQkFnSUpFUUEwdGs3R05pMDJNQTBHQ1NxR1NJYjNEUUVCQ3dVQU1FRXhDekFKQmdOVkJBWVRBbEpQTVJRdwpFZ1lEVlFRS0V3dERSVkpVVTBsSFRpQlRRVEVjTUJvR0ExVUVDeE1UWTJWeWRGTkpSMDRnVWs5UFZDQkRRU0JITWpBZUZ3MHhOekF5Ck1EWXdPVEkzTXpWYUZ3MDBNakF5TURZd09USTNNelZhTUVFeEN6QUpCZ05WQkFZVEFsSlBNUlF3RWdZRFZRUUtFd3REUlZKVVUwbEgKVGlCVFFURWNNQm9HQTFVRUN4TVRZMlZ5ZEZOSlIwNGdVazlQVkNCRFFTQkhNakNDQWlJd0RRWUpLb1pJaHZjTkFRRUJCUUFEZ2dJUApBRENDQWdvQ2dnSUJBTURGZFJtUmZVUjBkSWYrRGp1VzNOZ0JGc3p1WTVIbkMyL09Pd3BwR256QzQ2K0Nqb2JYWG85WDY5TWhXZjA1Ck4wSXd2bERxdGcrcGlOZ3VMV2toNTlFM0dFNTlrZFVXWDJ0YkFNSTVRdzAyaFZLNVUyVVBIVUxsajg4RjArN2NEQnJadUl0NEltZmsKYWJCb3hUemtiRnBHNTgzSCt1L0U3RXU5YXFTcy9jd29VZStTdENtcnF6V2FUT1RFQ01ZbXpQaHBuK1NjOENuVFhQbkdGaVdlSThNZwp3VDBQUHpoQXNQNkNSRGlxV2hxS2EyTllPTFFWMDdZUmFYc2VWTzZNR2lLc2NwYy9JMW1ieVNLRXdRZFB6SC9pVjhvU2NMdW1aZk5wCmRXTzlsZnNibDgza3FLLzIwVTZvMllweEpNMDJQYnlXeFBGc3FhN2x6dzF1S0Eyd0RyWEtVWHQ0Rk1NZ0wzLzdGRlhoRVpuOTFRcWgKbmdMallsL3JOVXNzdUhMb1BqMVByQ3k3TG9iaW8zYVA1Wk1xejZXcnlGeU5Td2IvRWthc2VNc1VCelhncWQrTDZhOFZUeGFKVzczMgpqY1pacm9pRkRzR0o2eDlueFVXTy8yMDNOaXQ0Wm9PUlVTczkvMUYzZG1LaDdHYytQb0dENEZhcFVCOGZlcG1yWTcrRUYzZnhEVHZmCjk1eGhzeldZaWpxeTdEd2FOejkrajVMUDJSSVVaTm9RQWhWQi8wL0U2eHlqeWZxWjkwYnA0Umpac2JneUxjc1VERkRZZzJXRDdybGMKejhzRldrejZHWmRyMWwwVDA4SmNWTHd5YzZCNDlmRnRIc3VmcGFhZkl0elJVWjZDZVdSZ0tSTStvLzFQY21xcjR0VGx1Q1JWTEVSTAppb2hFbk1xRTB5bzdBZ01CQUFHalFqQkFNQThHQTFVZEV3RUIvd1FGTUFNQkFmOHdEZ1lEVlIwUEFRSC9CQVFEQWdFR01CMEdBMVVkCkRnUVdCQlNDSVMxbXh0ZWc0Qlhyemt3SmQ4UmdubFJ1QXpBTkJna3Foa2lHOXcwQkFRc0ZBQU9DQWdFQVlONGF1T2Z5WUlMVkF6T0IKeXdhSzhTSko2ZWpxa1gvR00xNW9HUU9HTzBNQnp3ZHc1QWdlWllXUjVoRWl0L1VDSTQ2dXVSNTlIMzVzNXIwbDFaVWE4Z1dtcjRVQwpiNjc0MWpIL0pjbEt5TWVLcWRtZlMwbWJFVmVaa2tNUjNyWXpwTXpYaldSOTFNMDhLQ3kwbXBicVRmWEVSTVFscWlDQTJDbFY5K0JCCi9BWW0vN2syOVVNVUEyWjQ0Ukd4MmlCZlJnQjRBQ0dsSGdBb1lYaHZxQUVCajUwMG12LzBPSkQ3dU5HemNnYkpjZWFCeFhudEM2WjUKOGhNTG5QZGREbnNrazdSSTI0WmYzbENHZU9kQTVqR29rSFp3WWErY055d1J0WUszcXE0a05GdHlER2tOelZtZjluR3ZuQXZSQ2pqNQpCaUtEVXlVTS9GSEU1cjdpT1pVTEpLMnYwWlhrbHRkMFpHdHhUZ0k4cW9YeklLTkRPWFpiYkZEK21wd1VIbVVVaWhXOW80SkZXa2xXCmF0S2NzV015NVdIZ1V5SU9wd3BKNnN0K0g2amlZb0QyRUVWU21BWVkzcVhOTDMrcTFPaytDSExzSXdNQ1BLYXEyTHhuZEQwVUYvdFUKU3hmajAzazliV3RKeVNnT0xuUlF2d3paUmpvUWhzbW5QK21nN0gvcnBYZFlhWEhtZ3dvMzhvWkphcjU1Q0pEMkFoWmtQdVhhVEg0TQpOTW41WDdhektGR25weXVxU2ZxTlpTbE80MnNUcDVTakxWRnRlQXhFeTkvZUNHL09vMlNyMDVXRTFMbFNWSEo3bGlYTXZHbmpTRzROCjBNZWRKNXFxK0JPUzNSN2ZZNTgxcVJZMjdJeTRnL1E5aVkvTnRCZGUxN01YUVJCZEozTmdoVmRKSWdjPQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCgpUcnVzdHdhdmUgR2xvYmFsIENlcnRpZmljYXRpb24gQXV0aG9yaXR5Cj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KLS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUYyakNDQThLZ0F3SUJBZ0lNQmZjT2h0cEo4MFkxTHJxeU1BMEdDU3FHU0liM0RRRUJDd1VBTUlHSU1Rc3dDUVlEVlFRR0V3SlYKVXpFUk1BOEdBMVVFQ0F3SVNXeHNhVzV2YVhNeEVEQU9CZ05WQkFjTUIwTm9hV05oWjI4eElUQWZCZ05WQkFvTUdGUnlkWE4wZDJGMgpaU0JJYjJ4a2FXNW5jeXdnU1c1akxqRXhNQzhHQTFVRUF3d29WSEoxYzNSM1lYWmxJRWRzYjJKaGJDQkRaWEowYVdacFkyRjBhVzl1CklFRjFkR2h2Y21sMGVUQWVGdzB4TnpBNE1qTXhPVE0wTVRKYUZ3MDBNakE0TWpNeE9UTTBNVEphTUlHSU1Rc3dDUVlEVlFRR0V3SlYKVXpFUk1BOEdBMVVFQ0F3SVNXeHNhVzV2YVhNeEVEQU9CZ05WQkFjTUIwTm9hV05oWjI4eElUQWZCZ05WQkFvTUdGUnlkWE4wZDJGMgpaU0JJYjJ4a2FXNW5jeXdnU1c1akxqRXhNQzhHQTFVRUF3d29WSEoxYzNSM1lYWmxJRWRzYjJKaGJDQkRaWEowYVdacFkyRjBhVzl1CklFRjFkR2h2Y21sMGVUQ0NBaUl3RFFZSktvWklodmNOQVFFQkJRQURnZ0lQQURDQ0Fnb0NnZ0lCQUxsZFVTaExQRGVTMFlMT3ZSMjkKemQyNHE4OEtQdUZkNWR5cUNibFhBajdtWTJIZjhnK0NZNjZqOTZ4ejBYem5zd3V2Q0FBSldYL05LU3FJazRjWEdJRHRpTEswdGhBZgpMZFpmVmFJVFhkSEc2d1pXaVlqK3JES2QvVnpEQmNkdTdvYUp1b2dEblhJaGhwQ3Vqd09sM0orSUtNdWpra2tQN05BUDRtMUVUNEJxCnN0VG5vQXBUQWJxT2w1RjJicno4MVdzMjVrQ0kxbnN2WHdYb0xHMFI4K2V5dnBKRVROS1hwUDdTY29GREI1enBFVDcxaXhwWmZSOW8KV04wRUFDeVc4ME96ZnBnWmRObWNjOWtZdmtISE5Iblo5R0xDUTdteko3QWl5L2s5VXNjd1I3UEpQcmhxNHVmb2dYQmVRb3RQSnFYKwpPc0lnYnJ2NEZvN05ES20wRzJ4MkVPRlllVVkrVk02QXFGY0pOeWtibVJPUERNaldMQno3QmVnSWxUMWxSdHp1elduaVRZK0hLRTQwCkN6N1BGTm03M2JaUW1xMTMxQm5XMmhxSXlFNGJKM1hZc2dqeHJvTXd1UkVPellmd2hJMFZjbnloNzh6eWlHRzY5R203REl3TGRWY0UKdUU0cUZDNDlEeHdlTXFaaU51NW00aUs0QlVCakVDTHpNeDEwY29vczlUa3BvTlBuRzRDRUxjVTk0MDJ4L1JwdnVtVUhPMWpzUWtVbQorOWphSlhMRTlnQ3hJbm05NDN4WllrcWNCVzg5enViV1IyT1p4aVJ2Y2hMSXJIK1F0QXVSY09pMzVoWVFjUmZPM2daUFNFRjlOVXFqCmlmTEpTM3RCRVcxbnR3aVlUT1VSR2E1Q2dOejdrQVhVK0ZES3Z1U3R4OEtVMXhhZDVoZVByemI3QWdNQkFBR2pRakJBTUE4R0ExVWQKRXdFQi93UUZNQU1CQWY4d0hRWURWUjBPQkJZRUZKbmdHV2NOWXR0MnM5bzl1RnZvL1VMU01RNkhNQTRHQTFVZER3RUIvd1FFQXdJQgpCakFOQmdrcWhraUc5dzBCQVFzRkFBT0NBZ0VBbUhOdzRyRFQ3VG5zVEdEWnFSS0dGeDZXME9oVUtEdGtMU0dtK0oxV0UycElQVS9IClBpbmJiVmlEVkQySGZTTUYxT1FjM09nNFpZYkZkYWRhMnpVRnZYZmV1eWszUUFVSHc1UlNuOHBrM2ZFYks5eEdDaEFDTWYxS2FBMEgKWkpEbUh2VXFvYWk3UEYzNW93Z0xFUXp4UHkwUWxHLys0alNIZzliUDVSczFiZElENGJBTnFLQ3FSaWVDTnFjVnRnaW1RbFJYdHBsYQo0Z3Q1a05kWEVsRTFHWWhCYUNYVU54ZUVGZnNCY3R5VjNsSW1JSmdtNG5iMUoyLzZBRHRLWWRrTnkxR1RLdjBXQnBhbkk1b2pTUDVSCnZiYkVzTEZVenQ1c1FhMFdaMzdiL1RqTnVUaE9zc0ZneTUwWDMxaWVlbUt5Sm85MGxadmtXeDNTRDkyWUhKdFp1U1BUTWFDbS96amQKenlCUDZWaFdPbWZEMGZhWm1aMjZOcmFBTDRoSFQ0YS9SRHFBNURjY3BycnFsNWdSMElSaVIyUWVxdTVBdnpTeG5JOU80ZktTVHgrTwo4NTZYM3ZPbWVXcUpjVTlMSnhkSS91ejBVQTlQU1gzTVJlTzlla0RGUWR4aFZpY0dhZVZ5UVlIVHRnR0pvQzg2Y25uK09qQy9RZXpICllqNlJTOGZaTVhaQytmYzhZK3dtakhNTWZSb2Q2cWg4aDZqQ0ozemhNMEVQejgvOEFLQWlnSjVLcDI4QXNFRkZ0eUxLYUVqRlFxS3UKM1IzeTRHNU9CVml4d0pBV0txUTlFRUMrajJKamc2bWNnbjB0QXVtRE1IekxKOG45SG1ZQXNDN1RJUytPTXhac21PMFFxQWZXekpQUAoyOUZwSE9US3llQzJuT25PY1hIZWJEOFdwSGs9Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0KClRydXN0d2F2ZSBHbG9iYWwgRUNDIFAyNTYgQ2VydGlmaWNhdGlvbiBBdXRob3JpdHkKPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQotLS0tLUJFR0lOIENFUlRJRklDQVRFLS0tLS0KTUlJQ1lEQ0NBZ2VnQXdJQkFnSU1EV3BmQ0Q4b1hENVJsZDlkTUFvR0NDcUdTTTQ5QkFNQ01JR1JNUXN3Q1FZRFZRUUdFd0pWVXpFUgpNQThHQTFVRUNCTUlTV3hzYVc1dmFYTXhFREFPQmdOVkJBY1RCME5vYVdOaFoyOHhJVEFmQmdOVkJBb1RHRlJ5ZFhOMGQyRjJaU0JJCmIyeGthVzVuY3l3Z1NXNWpMakU2TURnR0ExVUVBeE14VkhKMWMzUjNZWFpsSUVkc2IySmhiQ0JGUTBNZ1VESTFOaUJEWlhKMGFXWnAKWTJGMGFXOXVJRUYxZEdodmNtbDBlVEFlRncweE56QTRNak14T1RNMU1UQmFGdzAwTWpBNE1qTXhPVE0xTVRCYU1JR1JNUXN3Q1FZRApWUVFHRXdKVlV6RVJNQThHQTFVRUNCTUlTV3hzYVc1dmFYTXhFREFPQmdOVkJBY1RCME5vYVdOaFoyOHhJVEFmQmdOVkJBb1RHRlJ5CmRYTjBkMkYyWlNCSWIyeGthVzVuY3l3Z1NXNWpMakU2TURnR0ExVUVBeE14VkhKMWMzUjNZWFpsSUVkc2IySmhiQ0JGUTBNZ1VESTEKTmlCRFpYSjBhV1pwWTJGMGFXOXVJRUYxZEdodmNtbDBlVEJaTUJNR0J5cUdTTTQ5QWdFR0NDcUdTTTQ5QXdFSEEwSUFCSDc3Yk9Zago0M015Q01wZzVsT2N1blNOR0xCNGtGS0EzVGpBU2gzUnFNeVRwSmNHT01vTkZXTEdqZ0VxWloycTN6U1JMb0hCNURPU01jVDlDVHFtClA2MmpRekJCTUE4R0ExVWRFd0VCL3dRRk1BTUJBZjh3RHdZRFZSMFBBUUgvQkFVREF3Y0dBREFkQmdOVkhRNEVGZ1FVbzBFR3JKQnQKMFVycmRhVktFSm16c2FHTFN2Y3dDZ1lJS29aSXpqMEVBd0lEUndBd1JBSWdCK1pVMmc2Z1dyS3VFWitIeGJiL2FkNGx2dmlndHdqegpSTTRxM3dnaEREY0NJQzBtQTZBRnZXdlI5bHo0WmN5R2JiT2NORWhqaEFuRmpYY2E0c3ljNFhSNwotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCgpUcnVzdHdhdmUgR2xvYmFsIEVDQyBQMzg0IENlcnRpZmljYXRpb24gQXV0aG9yaXR5Cj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KLS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNuVENDQWlTZ0F3SUJBZ0lNQ0wyRmwyeVpKNlNBYUVjN01Bb0dDQ3FHU000OUJBTURNSUdSTVFzd0NRWURWUVFHRXdKVlV6RVIKTUE4R0ExVUVDQk1JU1d4c2FXNXZhWE14RURBT0JnTlZCQWNUQjBOb2FXTmhaMjh4SVRBZkJnTlZCQW9UR0ZSeWRYTjBkMkYyWlNCSQpiMnhrYVc1bmN5d2dTVzVqTGpFNk1EZ0dBMVVFQXhNeFZISjFjM1IzWVhabElFZHNiMkpoYkNCRlEwTWdVRE00TkNCRFpYSjBhV1pwClkyRjBhVzl1SUVGMWRHaHZjbWwwZVRBZUZ3MHhOekE0TWpNeE9UTTJORE5hRncwME1qQTRNak14T1RNMk5ETmFNSUdSTVFzd0NRWUQKVlFRR0V3SlZVekVSTUE4R0ExVUVDQk1JU1d4c2FXNXZhWE14RURBT0JnTlZCQWNUQjBOb2FXTmhaMjh4SVRBZkJnTlZCQW9UR0ZSeQpkWE4wZDJGMlpTQkliMnhrYVc1bmN5d2dTVzVqTGpFNk1EZ0dBMVVFQXhNeFZISjFjM1IzWVhabElFZHNiMkpoYkNCRlEwTWdVRE00Ck5DQkRaWEowYVdacFkyRjBhVzl1SUVGMWRHaHZjbWwwZVRCMk1CQUdCeXFHU000OUFnRUdCU3VCQkFBaUEySUFCR3ZhRFhVMUNERkgKQmE1Rm1WWHhFUk11U3ZnUU1TT2pmb1BUZnlnSU9pWWFPcytYZ2grQXR5Y0pqOUdPTU1RS213NnNXQVNyOXpaOWxDT2ttd3FLaTZ2cgovVGtsWnZGZS9veXVqVUY1blFsZ3ppaXAwNHB0ODlaRjFQS1loRGhsb0tORE1FRXdEd1lEVlIwVEFRSC9CQVV3QXdFQi96QVBCZ05WCkhROEJBZjhFQlFNREJ3WUFNQjBHQTFVZERnUVdCQlJWcVlTSjBzRXl2UmpMYktZSFRzam5uYjZDa0RBS0JnZ3Foa2pPUFFRREF3Tm4KQURCa0FqQTNBWktYUlJKK29QTStyUms2Y3QzMFVKTURFcjVFMGs5QnBJeWNuUitqOXNLUzUwZ1UvazZicFpGWHJzWTNjcnNDTUdjbApDckVNWHU2cFk1SnY1WkFML21ZaXlrZjlpakgzZy81NnZ4QytHQ3Nlai9ZcEhwUlo3NDRoTjh0Um1LVnVTdz09Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0KCk5BVkVSIEdsb2JhbCBSb290IENlcnRpZmljYXRpb24gQXV0aG9yaXR5Cj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ci0tLS0tQkVHSU4gQ0VSVElGSUNBVEUtLS0tLQpNSUlGb2pDQ0E0cWdBd0lCQWdJVUFaUXdIcUlMM2ZYRk15cXhRMFJ4K05aUVRRMHdEUVlKS29aSWh2Y05BUUVNQlFBd2FURUxNQWtHCkExVUVCaE1DUzFJeEpqQWtCZ05WQkFvTUhVNUJWa1ZTSUVKVlUwbE9SVk5USUZCTVFWUkdUMUpOSUVOdmNuQXVNVEl3TUFZRFZRUUQKRENsT1FWWkZVaUJIYkc5aVlXd2dVbTl2ZENCRFpYSjBhV1pwWTJGMGFXOXVJRUYxZEdodmNtbDBlVEFlRncweE56QTRNVGd3T0RVNApOREphRncwek56QTRNVGd5TXpVNU5UbGFNR2t4Q3pBSkJnTlZCQVlUQWt0U01TWXdKQVlEVlFRS0RCMU9RVlpGVWlCQ1ZWTkpUa1ZUClV5QlFURUZVUms5U1RTQkRiM0p3TGpFeU1EQUdBMVVFQXd3cFRrRldSVklnUjJ4dlltRnNJRkp2YjNRZ1EyVnlkR2xtYVdOaGRHbHYKYmlCQmRYUm9iM0pwZEhrd2dnSWlNQTBHQ1NxR1NJYjNEUUVCQVFVQUE0SUNEd0F3Z2dJS0FvSUNBUUMyMVBHVFhMVkFpUXFyRFpCYgpVR091a0pSMEYwVnkxbnRsV2lsTHAxYWdTN2d2UW5YcDJYc2tXakZscXhjWDBUTTYyUkhjUURhSDM4ZHE2U1plV1lwMzQraEluREVXCitqNlJzY3JKbytLZnppRlRvd0kyTU10U0F1WGFNbDNEeGViNTdoSEhpOGxFSG9TVEdFcTBuK1VTWkduUUpvVmlBYmJKQWgyK2cxRzcKWE5yNHJSVnFtZmVTVlBjMFcrbS82aW1CRXRSVGtaYXprVnJkL3BCektQc3dSclhLQ0FmSGNYTEpadE0wbC9hTTlCaEs0ZEE5V2tXMgphYWNwK3lQT2lOZ1NuQUJJcUtZUHN6dVNqWEVPZE1XTHlFejU5SnVPdUR4cDdXODdVQzlZN2NTdzBCd2JhZ3ppdkVTcTJNMFVYWlI0ClliOE9idG9xdkM4TUMzR21zeFkvbk9iNXpKOVROZUlEb0tBWXY3dnh2dlRXakljTlF2Y0d1ZkZ0N1FTVXFQNjIwd2JHUUdIZm5aM3oKVkhiT1V6b0JwcEpCN0FTamp3MmkxUW5LMXN1YThlOURYY0NycFVIUFhGTndjTW1JcGkzVWEyRnpVQ2FHWVE1Zkc4SXI0b3pWdTUzQgpBMEs2bE5wZnFiREt6RTBLNzBkcEF5OGkrL0VvenI5ZFVHV29rRzJ6ZExBSXg2eW8wZXMrblB4ZEdvTXVLOHUxODBTZE9xY1hZWmFpCmNkTndsaFZOdDB4ejdobGN4VnMrUWY2c2RXQTdHMlBPQU4zYUNKQml0T1V0N2tpbmF4ZVpWTDZIU3VPcFhnUk02eEJ0Vk5idjhlankKWWhiTGdHdnRQZTMxSHpDbHJrdkpFKzJLQVFISnVGRll3R1k2c1daTHhOVXhBbUxwZElRTTIwMUdMUUlEQVFBQm8wSXdRREFkQmdOVgpIUTRFRmdRVTBwK0kzNkhOTEwzczlUc0JBWk16SjdMcllFc3dEZ1lEVlIwUEFRSC9CQVFEQWdFR01BOEdBMVVkRXdFQi93UUZNQU1CCkFmOHdEUVlKS29aSWh2Y05BUUVNQlFBRGdnSUJBRExLZ0xPZFBWUUczZExTTHZDa0FTRUxaMGpLYlk3Z3lLb05xbzBoVjQvR1BucksKMjFIVVVyUFVsb1NsV0dCLzVRdU9IL1hjQ2hXQjVUdTJ0eUl2Q1p3VEZyRnNERFVJYmF0amN1M2N2dXpIVitZd0lISFcxeERCRTFVQgpqQ3BENUVIeHp6cDZVNUxPb2dNRkRUamZBcnNRTHRrNzBwdDZ3S0dtK0xVeDV2UjF5YmxUbVhWSElsb1VGY2Q0RzdhZDZRejRHM2J4CmhZVGVvZG9TNzZUaUVKZDZlTjRNVVplb0lVQ0xocjBOOEY1T1N6YTdPeUFmaWtKVzRRc2F2M3ZRSWtNc1JJejc1U3EwYkJ3Y3VwVGcKRTM0aDVwckN5OFZDWkxRZWxIc0lKY2h4eklkRlY0WFRueWxpSW9OUmx3QVlsM2RxbUpMSmZHQnMzMng5U3VSd1RNS2V1QjMzMERUSApEOHo3cC84RHZxMXdrTm9MM2NodGwxK2Fmd2t5UWYzTm9zeGFiVXp5cWtuK1p2anAyRFhyRGlnZTdrZ3ZPdEI1Q1RoOHBpS0NrNVhRCkE3NitBcUFGM1NBaTQyOGRpRFJneHVZS3VRbDFDL0FINkdtV05jZjdJNEdPT0RtNFJTdERlS0xSTEJUL0RTaHljcFdiWGduYmlVU1kKcXFGSnUzRlM4ci8yL3llaE5xKzR0bmVJM1Rxa2JaczBrTndVWFRDL3Qrc1g1SWUzY2RDaDEzY1YxRUxYOHZNeG1WMmIzUlp0UCtvRwpJL2hHb2lMdGsvYmRtdVlxaDdHWVZQRWk5MnRGNCtLT2RoMmFqY1FHalRhM0ZQT2RWR20zamp6VnBHMlRnYmV0OXIxa2U4TEphRG1nCmtwek5OSWFSa1Bwa1VaMysvdXVsOVhYZWlmZHkKLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQoKQUMgUkFJWiBGTk1ULVJDTSBTRVJWSURPUkVTIFNFR1VST1MKPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KLS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNiakNDQWZPZ0F3SUJBZ0lRWXZZeWJPWEU0MmhjRzJMZG5DNmRsVEFLQmdncWhrak9QUVFEQXpCNE1Rc3dDUVlEVlFRR0V3SkYKVXpFUk1BOEdBMVVFQ2d3SVJrNU5WQzFTUTAweERqQU1CZ05WQkFzTUJVTmxjbVZ6TVJnd0ZnWURWUVJoREE5V1FWUkZVeTFSTWpneQpOakF3TkVveExEQXFCZ05WQkFNTUkwRkRJRkpCU1ZvZ1JrNU5WQzFTUTAwZ1UwVlNWa2xFVDFKRlV5QlRSVWRWVWs5VE1CNFhEVEU0Ck1USXlNREE1TXpjek0xb1hEVFF6TVRJeU1EQTVNemN6TTFvd2VERUxNQWtHQTFVRUJoTUNSVk14RVRBUEJnTlZCQW9NQ0VaT1RWUXQKVWtOTk1RNHdEQVlEVlFRTERBVkRaWEpsY3pFWU1CWUdBMVVFWVF3UFZrRlVSVk10VVRJNE1qWXdNRFJLTVN3d0tnWURWUVFERENOQgpReUJTUVVsYUlFWk9UVlF0VWtOTklGTkZVbFpKUkU5U1JWTWdVMFZIVlZKUFV6QjJNQkFHQnlxR1NNNDlBZ0VHQlN1QkJBQWlBMklBCkJQYTZWMVBJeXF2Zk5rcFNJZVNYMG9Obm52QmxVZEJlaDhkSHNWbnlWMGViQUFLVFJCZHAyMExIc2JJNkdBNjBYWXl6WmwyaE5QazIKTEVuYjgwYjhzMFJwUkJObS9kZkYvYTgyVGM0RFRRZHh6NjlxQmRLaVExb0tVbThCQTA2T2k2TkNNRUF3RHdZRFZSMFRBUUgvQkFVdwpBd0VCL3pBT0JnTlZIUThCQWY4RUJBTUNBUVl3SFFZRFZSME9CQllFRkFHNUwrKy9FWVpnOGsvUVFXNnJjeC9uMG01Sk1Bb0dDQ3FHClNNNDlCQU1EQTJrQU1HWUNNUUN1U3VNclFNTjBFZktWclJZajNrNE1HdVpkcFNSZWEwUjcvRGppVDh1Y1JSY1JUQlFuSmxVNWRVb0QKekJPUW41SUNNUUQ2U214Z2lIUHo3cmlZWXFuT0s4TFppcVp3TVIydnNKUk02MC9HNDlIellxYzgvNU11QjF4SkFXZHBFZ0p5ditjPQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCgpHbG9iYWxTaWduIFJvb3QgUjQ2Cj09PT09PT09PT09PT09PT09PT0KLS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUZXakNDQTBLZ0F3SUJBZ0lTRWRLN3VkY2pHSjVBWHdxZExkRGZKV2ZSTUEwR0NTcUdTSWIzRFFFQkRBVUFNRVl4Q3pBSkJnTlYKQkFZVEFrSkZNUmt3RndZRFZRUUtFeEJIYkc5aVlXeFRhV2R1SUc1MkxYTmhNUnd3R2dZRFZRUURFeE5IYkc5aVlXeFRhV2R1SUZKdgpiM1FnVWpRMk1CNFhEVEU1TURNeU1EQXdNREF3TUZvWERUUTJNRE15TURBd01EQXdNRm93UmpFTE1Ba0dBMVVFQmhNQ1FrVXhHVEFYCkJnTlZCQW9URUVkc2IySmhiRk5wWjI0Z2JuWXRjMkV4SERBYUJnTlZCQU1URTBkc2IySmhiRk5wWjI0Z1VtOXZkQ0JTTkRZd2dnSWkKTUEwR0NTcUdTSWIzRFFFQkFRVUFBNElDRHdBd2dnSUtBb0lDQVFDc3JIUXk2TE5sNWJydFF5WWRwb2tOUmJvcGlMS2tIV1BkMDhFcwpDVmVKT2FGVjZXYzBkd3h1NUZVZFVpWFNFMnRlNFIycHQzMkpNbDhObnA4c2VtTmdRQittc0xaNGo1bFVsZ2hZcnVRR3ZHSUZBaGEvCnI2Z2pBN2FVRDd4dWJNTEwxYWE3RE9uMndRTDdJZDVtM1JlcmRFTHY4SFF2SmZUcWExVmJrTnVkMzE2SENrRDdyUmxyKy9mS1lJamUKMnNHUDFxN1ZmOVE4Zys3WEZreURSVE5ySjlDRzBCd3RhL09yZmZHRnFmVW8wcTN2ODRSTEhJZjhFNk02Y3FKYUVTdldKM0VuN1lFdApiV2FCa29lMEcxaDZ6RDhLK2taUFRYaGMrQ3RJNHdTRXkxMzJ0R3F6WmZ4Q25sRW1JeURMUFJUNWdlMWxGZ0JQR21TWFpnalBqSHZqCks4Q2QrUlR5Ry9GV2FoYS9MSVdGelhnNG11dENhZ0kwR0lNWFRwUlcrTGFDdGZPVzNUM3p2bjhnZHo1N0dTTnJMTlJ5YzBOWGZlRDQKMTJsUEZ6WUUrY0NRWURkRjN1WU0ySFNOcnB5aWJYUmRRcjRHOWRsa2JnSVFySW13VERzSFRVQitKTVdLbUlKNWpxU25naUNOSS9vbgpjY25meGtGMG9FMzJrUmJjUm94ZktXTXhXWEVNMkcvQ3RqSjkrK1pkVTZaK0ZmeTdkWHhkN1BqMkZ4enN4MnNaeS9ONzhDc0hwZGxzCmVWUjJiSjBjcG00TzZYa01xQ05xbzk4Yk1ER2ZzVlI3L21yTFpxcmNaZENpbmtxYUJ5RnJnWS9ieEZuNjNpTEFCSnpqcWxzMmsrZzkKdlhxaG5RdDJzUXZIbmYzUG1LZ0d3dmdxbzZHRG9MY2xjcVVDNHdJREFRQUJvMEl3UURBT0JnTlZIUThCQWY4RUJBTUNBWVl3RHdZRApWUjBUQVFIL0JBVXdBd0VCL3pBZEJnTlZIUTRFRmdRVUExeXJjNEdIcU15d3B0V1U0amFXU2Y4Rm1Td3dEUVlKS29aSWh2Y05BUUVNCkJRQURnZ0lCQUh4NDdQWUNMTHRiZnBJclhUbmN2dGdkb2tJelRmbnZwQ283UkdrZXJObEZvMDQ4cDlna1ViSlVISk5PeE85N2s0VmcKSnVvSlNPRDF1OGZwYU5LN2FqRnh6SG11RWFqd21mM2xIN3d2cU14WDYzYkVJYVpIVTFWTmFMOEZwTzdYSnF0aTJrTTNTK0xHdGVXeQpneGs2eDlQYlRaNElldlB1eno1aSs2em9ZTXpSeDZGY2cwWEVSY3p6RjJzVXlRUUNQdElrcG5ucEhzNmk1OEZaRlo4ZDRrdWFQcDkyCkNDMXIyTHBYRk5xRDZ2Nk1WZW5RVHFuTWR6R3hSQkY2WExFKzB4UkZGUmhpSkJQU3kwM09YSVBCTnZJUXRRNkliYmpoVnArSjNwWm0KT1Vka0xHNU5ybUo3djJCMEdiaFdySktzRmpMdHJXaFYvcGk2MHpUZTlNbGh3dzZHOWt1RVlPNE5lN1V5V0htUlZTeUJRN04wSDNxcQpKWjRkMTZHTHVjMUNMZ1NrWm9OTmlUVzJiS2cyU25raGVDTFFRcnpSUURHUW9iNEV6OHBuN2ZYd2dOTmd5WU1xSWdYUUJ6dFN2d3llCnFpdjV1K1lmanlXNmhZMFhIZ0wrWFZBRVY4LytMYnp2WE1BYXE3YWZKTWJmYzJoSWtDd1U5RDlTR3VUU3l4VERZV25QNHZrWXhib3oKbnhTakJGMjVjZmUxbE5qMk04RmF3VFNMZkp2ZGt6cm5FNkp3WVordmordll4WFg0TTJiVWRHYzZOM2VjNTkya0QzWkRab3BEOHAvNwpERUo0WTlIaUQyOTcxS0U5ZEplRnQwZzVRZFlnL05BNnMvcm9iOFNLdW5FM3ZvdVhzWGd4VDdQbnRnTVR6bFNkcmlWWnpIODFYd2ozClFFVXhlQ3A2Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0KCkdsb2JhbFNpZ24gUm9vdCBFNDYKPT09PT09PT09PT09PT09PT09PQotLS0tLUJFR0lOIENFUlRJRklDQVRFLS0tLS0KTUlJQ0N6Q0NBWkdnQXdJQkFnSVNFZEs3dWpOdTFMem1KR2pGRFlRZG1PaERNQW9HQ0NxR1NNNDlCQU1ETUVZeEN6QUpCZ05WQkFZVApBa0pGTVJrd0Z3WURWUVFLRXhCSGJHOWlZV3hUYVdkdUlHNTJMWE5oTVJ3d0dnWURWUVFERXhOSGJHOWlZV3hUYVdkdUlGSnZiM1FnClJUUTJNQjRYRFRFNU1ETXlNREF3TURBd01Gb1hEVFEyTURNeU1EQXdNREF3TUZvd1JqRUxNQWtHQTFVRUJoTUNRa1V4R1RBWEJnTlYKQkFvVEVFZHNiMkpoYkZOcFoyNGdibll0YzJFeEhEQWFCZ05WQkFNVEUwZHNiMkpoYkZOcFoyNGdVbTl2ZENCRk5EWXdkakFRQmdjcQpoa2pPUFFJQkJnVXJnUVFBSWdOaUFBU2NEckhQdCtpZVVuZDFOUHFsUnFldE1oa3l0QWVwSjhxVXV3elNDaERIMm9td2x3eHdFd2tCCmp0anFSK3Erc29Bcnpmd29EZHVzdktTR04rMXdDQUIxNnBNTGV5NVNuQ05vSXdaRDdKSXZVNFRiKzBjVUIraGZsR2RkeVhxQlBDQ2oKUWpCQU1BNEdBMVVkRHdFQi93UUVBd0lCaGpBUEJnTlZIUk1CQWY4RUJUQURBUUgvTUIwR0ExVWREZ1FXQkJReENwQ1B0c2FkMGtSTApnTFdpNWgreEVrOGJsVEFLQmdncWhrak9QUVFEQXdOb0FEQmxBakVBMzFTUTdadnZpNVFDa3hlQ21iNnpuaXoyQzVHTW4wb1VzZlprCnZMdG9VUk1NQS9jVmk0Umd1WXYvVW83bmpMd2NBakE4K1JIVWpFN0F3V0hDRlV5cXF4MExNVjg3SE9JQWwwUXg1djV6bGkvYWx0UCsKQ0Flek5JbThCWi8zSG9idWkzQT0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo8P3BocAoKCgoKCgoKCgoKbmFtZXNwYWNlIENvbXBvc2VyXENhQnVuZGxlOwoKdXNlIFBzclxMb2dcTG9nZ2VySW50ZXJmYWNlOwp1c2UgU3ltZm9ueVxDb21wb25lbnRcUHJvY2Vzc1xQaHBQcm9jZXNzOwoKCgoKCmNsYXNzIENhQnVuZGxlCnsKCnByaXZhdGUgc3RhdGljICRjYVBhdGg7Cgpwcml2YXRlIHN0YXRpYyAkY2FGaWxlVmFsaWRpdHkgPSBhcnJheSgpOwoKcHJpdmF0ZSBzdGF0aWMgJHVzZU9wZW5zc2xQYXJzZTsKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgpwdWJsaWMgc3RhdGljIGZ1bmN0aW9uIGdldFN5c3RlbUNhUm9vdEJ1bmRsZVBhdGgoTG9nZ2VySW50ZXJmYWNlICRsb2dnZXIgPSBudWxsKQp7CmlmIChzZWxmOjokY2FQYXRoICE9PSBudWxsKSB7CnJldHVybiBzZWxmOjokY2FQYXRoOwp9CiRjYUJ1bmRsZVBhdGhzID0gYXJyYXkoKTsKCgoKJGNhQnVuZGxlUGF0aHNbXSA9IHNlbGY6OmdldEVudlZhcmlhYmxlKCdTU0xfQ0VSVF9GSUxFJyk7CgoKCiRjYUJ1bmRsZVBhdGhzW10gPSBzZWxmOjpnZXRFbnZWYXJpYWJsZSgnU1NMX0NFUlRfRElSJyk7CgokY2FCdW5kbGVQYXRoc1tdID0gaW5pX2dldCgnb3BlbnNzbC5jYWZpbGUnKTsKJGNhQnVuZGxlUGF0aHNbXSA9IGluaV9nZXQoJ29wZW5zc2wuY2FwYXRoJyk7Cgokb3RoZXJMb2NhdGlvbnMgPSBhcnJheSgKJy9ldGMvcGtpL3Rscy9jZXJ0cy9jYS1idW5kbGUuY3J0JywgCicvZXRjL3NzbC9jZXJ0cy9jYS1jZXJ0aWZpY2F0ZXMuY3J0JywgCicvZXRjL3NzbC9jYS1idW5kbGUucGVtJywgCicvdXNyL2xvY2FsL3NoYXJlL2NlcnRzL2NhLXJvb3QtbnNzLmNydCcsIAonL3Vzci9zc2wvY2VydHMvY2EtYnVuZGxlLmNydCcsIAonL29wdC9sb2NhbC9zaGFyZS9jdXJsL2N1cmwtY2EtYnVuZGxlLmNydCcsIAonL3Vzci9sb2NhbC9zaGFyZS9jdXJsL2N1cmwtY2EtYnVuZGxlLmNydCcsIAonL3Vzci9zaGFyZS9zc2wvY2VydHMvY2EtYnVuZGxlLmNydCcsIAonL2V0Yy9zc2wvY2VydC5wZW0nLCAKJy91c3IvbG9jYWwvZXRjL3NzbC9jZXJ0LnBlbScsIAonL3Vzci9sb2NhbC9ldGMvb3BlbnNzbC9jZXJ0LnBlbScsIAonL3Vzci9sb2NhbC9ldGMvb3BlbnNzbEAxLjEvY2VydC5wZW0nLCAKKTsKCmZvcmVhY2goJG90aGVyTG9jYXRpb25zIGFzICRsb2NhdGlvbikgewokb3RoZXJMb2NhdGlvbnNbXSA9IGRpcm5hbWUoJGxvY2F0aW9uKTsKfQoKJGNhQnVuZGxlUGF0aHMgPSBhcnJheV9tZXJnZSgkY2FCdW5kbGVQYXRocywgJG90aGVyTG9jYXRpb25zKTsKCmZvcmVhY2ggKCRjYUJ1bmRsZVBhdGhzIGFzICRjYUJ1bmRsZSkgewppZiAoJGNhQnVuZGxlICYmIHNlbGY6OmNhRmlsZVVzYWJsZSgkY2FCdW5kbGUsICRsb2dnZXIpKSB7CnJldHVybiBzZWxmOjokY2FQYXRoID0gJGNhQnVuZGxlOwp9CgppZiAoJGNhQnVuZGxlICYmIHNlbGY6OmNhRGlyVXNhYmxlKCRjYUJ1bmRsZSkpIHsKcmV0dXJuIHNlbGY6OiRjYVBhdGggPSAkY2FCdW5kbGU7Cn0KfQoKcmV0dXJuIHNlbGY6OiRjYVBhdGggPSBzdGF0aWM6OmdldEJ1bmRsZWRDYUJ1bmRsZVBhdGgoKTsgCn0KCgoKCgoKCgpwdWJsaWMgc3RhdGljIGZ1bmN0aW9uIGdldEJ1bmRsZWRDYUJ1bmRsZVBhdGgoKQp7CiRjYUJ1bmRsZUZpbGUgPSBfX0RJUl9fLicvLi4vcmVzL2NhY2VydC5wZW0nOwoKCgppZiAoMCA9PT0gc3RycG9zKCRjYUJ1bmRsZUZpbGUsICdwaGFyOi8vJykpIHsKJHRlbXBDYUJ1bmRsZUZpbGUgPSB0ZW1wbmFtKHN5c19nZXRfdGVtcF9kaXIoKSwgJ29wZW5zc2wtY2EtYnVuZGxlLScpOwppZiAoZmFsc2UgPT09ICR0ZW1wQ2FCdW5kbGVGaWxlKSB7CnRocm93IG5ldyBcUnVudGltZUV4Y2VwdGlvbignQ291bGQgbm90IGNyZWF0ZSBhIHRlbXBvcmFyeSBmaWxlIHRvIHN0b3JlIHRoZSBidW5kbGVkIENBIGZpbGUnKTsKfQoKZmlsZV9wdXRfY29udGVudHMoCiR0ZW1wQ2FCdW5kbGVGaWxlLApmaWxlX2dldF9jb250ZW50cygkY2FCdW5kbGVGaWxlKQopOwoKcmVnaXN0ZXJfc2h1dGRvd25fZnVuY3Rpb24oZnVuY3Rpb24oKSB1c2UgKCR0ZW1wQ2FCdW5kbGVGaWxlKSB7CkB1bmxpbmsoJHRlbXBDYUJ1bmRsZUZpbGUpOwp9KTsKCiRjYUJ1bmRsZUZpbGUgPSAkdGVtcENhQnVuZGxlRmlsZTsKfQoKcmV0dXJuICRjYUJ1bmRsZUZpbGU7Cn0KCgoKCgoKCgoKcHVibGljIHN0YXRpYyBmdW5jdGlvbiB2YWxpZGF0ZUNhRmlsZSgkZmlsZW5hbWUsIExvZ2dlckludGVyZmFjZSAkbG9nZ2VyID0gbnVsbCkKewpzdGF0aWMgJHdhcm5lZCA9IGZhbHNlOwoKaWYgKGlzc2V0KHNlbGY6OiRjYUZpbGVWYWxpZGl0eVskZmlsZW5hbWVdKSkgewpyZXR1cm4gc2VsZjo6JGNhRmlsZVZhbGlkaXR5WyRmaWxlbmFtZV07Cn0KCiRjb250ZW50cyA9IGZpbGVfZ2V0X2NvbnRlbnRzKCRmaWxlbmFtZSk7CgoKCmlmICghc3RhdGljOjppc09wZW5zc2xQYXJzZVNhZmUoKSkgewppZiAoISR3YXJuZWQgJiYgJGxvZ2dlcikgewokbG9nZ2VyLT53YXJuaW5nKHNwcmludGYoCidZb3VyIHZlcnNpb24gb2YgUEhQLCAlcywgaXMgYWZmZWN0ZWQgYnkgQ1ZFLTIwMTMtNjQyMCBhbmQgY2Fubm90IHNhZmVseSBwZXJmb3JtIGNlcnRpZmljYXRlIHZhbGlkYXRpb24sIHdlIHN0cm9uZ2x5IHN1Z2dlc3QgeW91IHVwZ3JhZGUuJywKUEhQX1ZFUlNJT04KKSk7CiR3YXJuZWQgPSB0cnVlOwp9CgokaXNWYWxpZCA9ICFlbXB0eSgkY29udGVudHMpOwp9IGVsc2VpZiAoaXNfc3RyaW5nKCRjb250ZW50cykgJiYgc3RybGVuKCRjb250ZW50cykgPiAwKSB7CiRjb250ZW50cyA9IHByZWdfcmVwbGFjZSgiL14oXFwtKyg/OkJFR0lOfEVORCkpXFxzK1RSVVNURURcXHMrKENFUlRJRklDQVRFXFwtKylcJC9tIiwgJyQxICQyJywgJGNvbnRlbnRzKTsKaWYgKG51bGwgPT09ICRjb250ZW50cykgewoKJGlzVmFsaWQgPSBmYWxzZTsKfSBlbHNlIHsKJGlzVmFsaWQgPSAoYm9vbCkgb3BlbnNzbF94NTA5X3BhcnNlKCRjb250ZW50cyk7Cn0KfSBlbHNlIHsKJGlzVmFsaWQgPSBmYWxzZTsKfQoKaWYgKCRsb2dnZXIpIHsKJGxvZ2dlci0+ZGVidWcoJ0NoZWNrZWQgQ0EgZmlsZSAnLnJlYWxwYXRoKCRmaWxlbmFtZSkuJzogJy4oJGlzVmFsaWQgPyAndmFsaWQnIDogJ2ludmFsaWQnKSk7Cn0KCnJldHVybiBzZWxmOjokY2FGaWxlVmFsaWRpdHlbJGZpbGVuYW1lXSA9ICRpc1ZhbGlkOwp9CgoKCgoKCgoKCnB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gaXNPcGVuc3NsUGFyc2VTYWZlKCkKewppZiAobnVsbCAhPT0gc2VsZjo6JHVzZU9wZW5zc2xQYXJzZSkgewpyZXR1cm4gc2VsZjo6JHVzZU9wZW5zc2xQYXJzZTsKfQoKaWYgKFBIUF9WRVJTSU9OX0lEID49IDUwNjAwKSB7CnJldHVybiBzZWxmOjokdXNlT3BlbnNzbFBhcnNlID0gdHJ1ZTsKfQoKCgoKCmlmICgKKFBIUF9WRVJTSU9OX0lEIDwgNTA0MDAgJiYgUEhQX1ZFUlNJT05fSUQgPj0gNTAzMjgpCnx8IChQSFBfVkVSU0lPTl9JRCA8IDUwNTAwICYmIFBIUF9WRVJTSU9OX0lEID49IDUwNDIzKQp8fCBQSFBfVkVSU0lPTl9JRCA+PSA1MDUwNwopIHsKCnJldHVybiBzZWxmOjokdXNlT3BlbnNzbFBhcnNlID0gdHJ1ZTsKfQoKaWYgKGRlZmluZWQoJ1BIUF9XSU5ET1dTX1ZFUlNJT05fQlVJTEQnKSkgewoKcmV0dXJuIHNlbGY6OiR1c2VPcGVuc3NsUGFyc2UgPSBmYWxzZTsKfQoKJGNvbXBhcmVEaXN0cm9WZXJzaW9uUHJlZml4ID0gZnVuY3Rpb24gKCRwcmVmaXgsICRmaXhlZFZlcnNpb24pIHsKJHJlZ2V4ID0gJ3teJy5wcmVnX3F1b3RlKCRwcmVmaXgpLicoWzAtOV0rKSR9JzsKCmlmIChwcmVnX21hdGNoKCRyZWdleCwgUEhQX1ZFUlNJT04sICRtKSkgewpyZXR1cm4gKChpbnQpICRtWzFdKSA+PSAkZml4ZWRWZXJzaW9uOwp9CgpyZXR1cm4gZmFsc2U7Cn07CgoKaWYgKAokY29tcGFyZURpc3Ryb1ZlcnNpb25QcmVmaXgoJzUuMy4zLTcrc3F1ZWV6ZScsIDE4KSAKfHwgJGNvbXBhcmVEaXN0cm9WZXJzaW9uUHJlZml4KCc1LjQuNC0xNCtkZWI3dScsIDcpIAp8fCAkY29tcGFyZURpc3Ryb1ZlcnNpb25QcmVmaXgoJzUuMy4xMC0xdWJ1bnR1My4nLCA5KSAKKSB7CnJldHVybiBzZWxmOjokdXNlT3BlbnNzbFBhcnNlID0gdHJ1ZTsKfQoKCmlmICghY2xhc3NfZXhpc3RzKCdTeW1mb255XENvbXBvbmVudFxQcm9jZXNzXFBocFByb2Nlc3MnKSkgewpyZXR1cm4gc2VsZjo6JHVzZU9wZW5zc2xQYXJzZSA9IGZhbHNlOwp9CgoKCgoKCgoKCgokY2VydCA9ICdMUzB0TFMxQ1JVZEpUaUJEUlZKVVNVWkpRMEZVUlMwdExTMHRDazFKU1VWd1JFTkRRVFI1WjBGM1NVSkJaMGxLUVVwNmRUaHlOblUyWlVKalRVRXdSME5UY1VkVFNXSXpSRkZGUWtKUlZVRk5TVWhFVFZGemQwTlJXVVFLVmxGUlIwVjNTa1ZTVkVWalRVSnZSMEV4VlVWRFFYZFVWRzA1ZVZwSVNtOWFWMngxVEZaa2JHTXpVbTFaVjNoc1ltcEZVVTFCTkVkQk1WVkZRbmQzU0FwVE9FOUVkM0phYzJKcVJWVk5Ra2xIUVRGVlJVTm5kMHhWTWxaeVpFZHNkbUpyVm5CaWJrMTRTSHBCWkVKblRsWkNRWE5OUm1zeGFHSkhiR3BoVnpreENtTjVRa1JhV0Vvd1NVWk9iRmt6VW5CaU1qUjRTVlJCWmtKblRsWkNRVTFOUjBjeGFHSkhiR3BoVnpreFkzazFlbHBYZERCaFZ6bDFXbGRzZFdONU5Xc0tXbFJGY1UxRFowZERVM0ZIVTBsaU0wUlJSVXBCVWxsaVl6TlNiRnB0Um5WTWJWWjZZekpXZVZGSVRteGhNMUp3WWpJMWJHRlhOWHBNYlZKc1RVaFZXUXBhUkVVMVRucEJkMDFVUVhoTlJFRjNUVVJCZDFkblFVRkJRVUZCUVVGQlFVRkJRVUZCUVVGQlFVRkJRVUZCUVVGQlFVRkJRVUZCUVVGQlFVRkJRVUZCQ2tGQlFVRkJRVUZCUVVGQlFVRkJRVUZCUVVGQlFVRkJRVUZCUVVGQlFVRkJRVUZCUVVGQlFVRkJRVUZCUVVGQlFVRkJRVUZCUVVGQlFVRkJRVUZCUVVFS1FVRkJRVUZCUVZoRVZFVXdUVlJGZVU5RVJYaE5lbXQ2VGxadmQyZGpUWGhEZWtGS1FtZE9Wa0pCV1ZSQmExSkdUVkozZDBkbldVUldVVkZKUkVKT1R3cGlNMHByWTIxb2JHRlhOSFJXTWxaNlpFZGFhR0pIVm5WTlVrRjNSR2RaUkZaUlVVaEVRV1JNZHpSUVEzUnRlSFZOVWxGM1JXZFpSRlpSVVV0RVFYUlVDbHBYZERCaFZ6bDFVbGRzZFdONlJXWk5RakJIUVRGVlJVTjNkMWRVVjBaellWZE9jR0l6Vm5wSlJVNXNZMjVSWjFVeVZtcGtSMngyWW1wRmFFMUNPRWNLUVRGVlJVRjNkMWxpVjBaellWZE9jR0l6Vm5wTWJrNXNZVE5TY0dJeU5XeGhWelY2VEcxU2JFMVRiM2RMUVZsS1MyOWFTV2gyWTA1QlVXdENSbWgwZWdwa1IxWnRXVmMwZFZwWVRucGFXRXBCWXpKV2NtUkhiSFppYlZad1ltNU5kVnBIVlhkblowVnBUVUV3UjBOVGNVZFRTV0l6UkZGRlFrRlJWVUZCTkVsQ0NrUjNRWGRuWjBWTFFXOUpRa0ZSUkVSQlpqTm9iRGRLV1RCWVkwWnVhWGxGU25CVFUwUnhiakJQY1VKeU5sRlFOalYxYzBwUVVuUXZPRkJoUkc5eFFuVUtkMFZaVkM5T1lTczJabk5uVUdwRE1IVkxPVVJhWjFkbk1uUklWMWR2WVc1VFlteEJUVzk2TlZCSU5sb3JVelJUU0ZKYU4yVXlaRVJKYWxCcVpHaHFhQW93YlV4bk1sVk5UelY1Y0RCV056azNSMmR6T1d4T2REWktVbVpJT0RGTlRqSnZZbGhYY3pST2RIcDBURTExUkRabFozRndjamhrUkdKeU16UmhUM000Q25CclpIVnBOVlZoZDFSYWEzTjVOWEJNVUVoeE5XTk5hRVpIYlRBMmRqWTFRMHh2TUZZeVVHUTVLMHRCYjJ0UWNsQmpUalZMVEV0bFlubzNiVXh3YXpZS1UwMWxSVmhQUzFBMGFXUkZjWGg1VVRkUE4yWkNkVWhOWldSelVXaDFLM0J5V1ROemFUTkNWWGxMWmxGMFVEVkRXbTVZTW1Kd01IZExTSGhZTVRKRVdBb3hibVpHU1hRNVJHSkhka2hVWTNsUGRVNHJibHBNVUVKdE0zWlhlRzUwZVVsSmRsWkJaMDFDUVVGSGFsRnFRa0ZOUVd0SFFURlZaRVYzVVVOTlFVRjNDa1ZSV1VwWlNWcEpRVmxpTkZGblJVSkNRVkZFUVdkbFFVMUJjMGRCTVZWa1JIZFJSVUYzU1VadlJFRlVRbWRPVmtoVFZVVkVSRUZMUW1kbmNrSm5SVVlLUWxGalJFRnFRVTVDWjJ0eGFHdHBSemwzTUVKQlVWVkdRVUZQUTBGUlJVRkhNR1phV1ZsRFZHSmthakZZV1dNck1WTnViMkZRVWl0MlNUaERPRU5oUkFvNEt6QlZXV2hrYm5sVk5HZG5ZVEJDUVdORWNsazVaVGswWlVWQmRUWmFjWGxqUmpaR2FreHhXRmhrUVdKdmNIQlhiMk55TmxRMlIwUXhlRE16UTJ0c0NsWkJjbnBITDB0NFVXOW9SMFF5U21WeGEyaEpUV3hFYjIxNFNFODNhMkV6T1N0UFlUaHBNblpYVEZaNWFsVTRRVnAyVjAxQmNuVklZVFJGUlU1NVJ6Y0tiRmN5UVdGbllVWkxSa055T1ZSdVdGUm1jbVI0UjFaRlluWTNTMVpSTm1Ka2FHYzFjRFZUYW5CWFNERXJUWEV3TTNWU00xcFlVRUpaWkhsV09ETXhPUXB2TUd4V2FqRkxSa2t5UkVOTUwyeHBWMmx6U2xKdmIyWXJNV05TTXpWRGRHUXdkMWxDWTNCQ05sUmFjMnhOWTA5UWJEYzJaSGRMZDBwblpVcHZNbEZuQ2xwelptMWpNblpETVM5eFQyeE9kVTV4THpCVWVucHJWa2QyT0VWVVZETkRaMkZWSzFWWVpUUllUMVoyYTJOalpXSktiakprWnowOUNpMHRMUzB0UlU1RUlFTkZVbFJKUmtsRFFWUkZMUzB0TFMwSyc7CiRzY3JpcHQgPSA8PDwnRU9UJwoKZXJyb3JfcmVwb3J0aW5nKC0xKTsKJGluZm8gPSBvcGVuc3NsX3g1MDlfcGFyc2UoYmFzZTY0X2RlY29kZSgnJXMnKSk7CnZhcl9kdW1wKFBIUF9WRVJTSU9OLCAkaW5mb1snaXNzdWVyJ11bJ2VtYWlsQWRkcmVzcyddLCAkaW5mb1sndmFsaWRGcm9tX3RpbWVfdCddKTsKCkVPVDsKJHNjcmlwdCA9ICc8Jy4iP3BocFxuIi5zcHJpbnRmKCRzY3JpcHQsICRjZXJ0KTsKCnRyeSB7CiRwcm9jZXNzID0gbmV3IFBocFByb2Nlc3MoJHNjcmlwdCk7CiRwcm9jZXNzLT5tdXN0UnVuKCk7Cn0gY2F0Y2ggKFxFeGNlcHRpb24gJGUpIHsKCgpyZXR1cm4gc2VsZjo6JHVzZU9wZW5zc2xQYXJzZSA9IGZhbHNlOwp9Cgokb3V0cHV0ID0gcHJlZ19zcGxpdCgne1xyP1xufScsIHRyaW0oJHByb2Nlc3MtPmdldE91dHB1dCgpKSk7CiRlcnJvck91dHB1dCA9IHRyaW0oJHByb2Nlc3MtPmdldEVycm9yT3V0cHV0KCkpOwoKaWYgKAppc19hcnJheSgkb3V0cHV0KQomJiBjb3VudCgkb3V0cHV0KSA9PT0gMwomJiAkb3V0cHV0WzBdID09PSBzcHJpbnRmKCdzdHJpbmcoJWQpICIlcyInLCBzdHJsZW4oUEhQX1ZFUlNJT04pLCBQSFBfVkVSU0lPTikKJiYgJG91dHB1dFsxXSA9PT0gJ3N0cmluZygyNykgInN0ZWZhbi5lc3NlckBzZWt0aW9uZWlucy5kZSInCiYmICRvdXRwdXRbMl0gPT09ICdpbnQoLTEpJwomJiBwcmVnX21hdGNoKCd7b3BlbnNzbF94NTA5X3BhcnNlXChcKTogaWxsZWdhbCAoPzpBU04xIGRhdGEgdHlwZSBmb3J8bGVuZ3RoIGluKSB0aW1lc3RhbXAgaW4gLSBvbiBsaW5lIFxkK30nLCAkZXJyb3JPdXRwdXQpCikgewoKcmV0dXJuIHNlbGY6OiR1c2VPcGVuc3NsUGFyc2UgPSB0cnVlOwp9CgpyZXR1cm4gc2VsZjo6JHVzZU9wZW5zc2xQYXJzZSA9IGZhbHNlOwp9CgoKCgoKcHVibGljIHN0YXRpYyBmdW5jdGlvbiByZXNldCgpCnsKc2VsZjo6JGNhRmlsZVZhbGlkaXR5ID0gYXJyYXkoKTsKc2VsZjo6JGNhUGF0aCA9IG51bGw7CnNlbGY6OiR1c2VPcGVuc3NsUGFyc2UgPSBudWxsOwp9CgoKCgoKcHJpdmF0ZSBzdGF0aWMgZnVuY3Rpb24gZ2V0RW52VmFyaWFibGUoJG5hbWUpCnsKaWYgKGlzc2V0KCRfU0VSVkVSWyRuYW1lXSkpIHsKcmV0dXJuIChzdHJpbmcpICRfU0VSVkVSWyRuYW1lXTsKfQoKaWYgKFBIUF9TQVBJID09PSAnY2xpJyAmJiAoJHZhbHVlID0gZ2V0ZW52KCRuYW1lKSkgIT09IGZhbHNlICYmICR2YWx1ZSAhPT0gbnVsbCkgewpyZXR1cm4gKHN0cmluZykgJHZhbHVlOwp9CgpyZXR1cm4gZmFsc2U7Cn0KCgoKCgpwcml2YXRlIHN0YXRpYyBmdW5jdGlvbiBjYUZpbGVVc2FibGUoJGNlcnRGaWxlLCBMb2dnZXJJbnRlcmZhY2UgJGxvZ2dlciA9IG51bGwpCnsKcmV0dXJuICRjZXJ0RmlsZSAmJiBAaXNfZmlsZSgkY2VydEZpbGUpICYmIEBpc19yZWFkYWJsZSgkY2VydEZpbGUpICYmIHN0YXRpYzo6dmFsaWRhdGVDYUZpbGUoJGNlcnRGaWxlLCAkbG9nZ2VyKTsKfQoKCgoKCnByaXZhdGUgc3RhdGljIGZ1bmN0aW9uIGNhRGlyVXNhYmxlKCRjZXJ0RGlyKQp7CnJldHVybiAkY2VydERpciAmJiBAaXNfZGlyKCRjZXJ0RGlyKSAmJiBAaXNfcmVhZGFibGUoJGNlcnREaXIpICYmIGdsb2IoJGNlcnREaXIgLiAnLyonKTsKfQp9Cjw/cGhwIHJldHVybiBhcnJheSgKJ3Jvb3QnID0+IGFycmF5KAoncHJldHR5X3ZlcnNpb24nID0+ICcyLjEuMycsCid2ZXJzaW9uJyA9PiAnMi4xLjMuMCcsCid0eXBlJyA9PiAnbGlicmFyeScsCidpbnN0YWxsX3BhdGgnID0+IF9fRElSX18gLiAnLy4uLy4uLycsCidhbGlhc2VzJyA9PiBhcnJheSgpLAoncmVmZXJlbmNlJyA9PiAnZmM1YzQ1NzNhYWZjZTNhMDE4ZWI3ZjFmOGY5MWNlYTQyMzk3MGYyZScsCiduYW1lJyA9PiAnY29tcG9zZXIvY29tcG9zZXInLAonZGV2JyA9PiBmYWxzZSwKKSwKJ3ZlcnNpb25zJyA9PiBhcnJheSgKJ2NvbXBvc2VyL2NhLWJ1bmRsZScgPT4gYXJyYXkoCidwcmV0dHlfdmVyc2lvbicgPT4gJzEuMi4xMCcsCid2ZXJzaW9uJyA9PiAnMS4yLjEwLjAnLAondHlwZScgPT4gJ2xpYnJhcnknLAonaW5zdGFsbF9wYXRoJyA9PiBfX0RJUl9fIC4gJy8uL2NhLWJ1bmRsZScsCidhbGlhc2VzJyA9PiBhcnJheSgpLAoncmVmZXJlbmNlJyA9PiAnOWZkYjIyYzJlOTdhNjE0NjU3NzE2MTc4MDkzY2QxZGE5MGE2NGFhOCcsCidkZXZfcmVxdWlyZW1lbnQnID0+IGZhbHNlLAopLAonY29tcG9zZXIvY29tcG9zZXInID0+IGFycmF5KAoncHJldHR5X3ZlcnNpb24nID0+ICcyLjEuMycsCid2ZXJzaW9uJyA9PiAnMi4xLjMuMCcsCid0eXBlJyA9PiAnbGlicmFyeScsCidpbnN0YWxsX3BhdGgnID0+IF9fRElSX18gLiAnLy4uLy4uLycsCidhbGlhc2VzJyA9PiBhcnJheSgpLAoncmVmZXJlbmNlJyA9PiAnZmM1YzQ1NzNhYWZjZTNhMDE4ZWI3ZjFmOGY5MWNlYTQyMzk3MGYyZScsCidkZXZfcmVxdWlyZW1lbnQnID0+IGZhbHNlLAopLAonY29tcG9zZXIvbWV0YWRhdGEtbWluaWZpZXInID0+IGFycmF5KAoncHJldHR5X3ZlcnNpb24nID0+ICcxLjAuMCcsCid2ZXJzaW9uJyA9PiAnMS4wLjAuMCcsCid0eXBlJyA9PiAnbGlicmFyeScsCidpbnN0YWxsX3BhdGgnID0+IF9fRElSX18gLiAnLy4vbWV0YWRhdGEtbWluaWZpZXInLAonYWxpYXNlcycgPT4gYXJyYXkoKSwKJ3JlZmVyZW5jZScgPT4gJ2M1NDlkMjM4Mjk1MzZmMGQwZTk4NGFhYWJiZjAyYWY5MWY0NDMyMDcnLAonZGV2X3JlcXVpcmVtZW50JyA9PiBmYWxzZSwKKSwKJ2NvbXBvc2VyL3NlbXZlcicgPT4gYXJyYXkoCidwcmV0dHlfdmVyc2lvbicgPT4gJzMuMi41JywKJ3ZlcnNpb24nID0+ICczLjIuNS4wJywKJ3R5cGUnID0+ICdsaWJyYXJ5JywKJ2luc3RhbGxfcGF0aCcgPT4gX19ESVJfXyAuICcvLi9zZW12ZXInLAonYWxpYXNlcycgPT4gYXJyYXkoKSwKJ3JlZmVyZW5jZScgPT4gJzMxZjNlYTcyNTcxMTI0NTE5NWY2MmU1NGZmYTQwMmQ4ZWYyZmRiYTknLAonZGV2X3JlcXVpcmVtZW50JyA9PiBmYWxzZSwKKSwKJ2NvbXBvc2VyL3NwZHgtbGljZW5zZXMnID0+IGFycmF5KAoncHJldHR5X3ZlcnNpb24nID0+ICcxLjUuNScsCid2ZXJzaW9uJyA9PiAnMS41LjUuMCcsCid0eXBlJyA9PiAnbGlicmFyeScsCidpbnN0YWxsX3BhdGgnID0+IF9fRElSX18gLiAnLy4vc3BkeC1saWNlbnNlcycsCidhbGlhc2VzJyA9PiBhcnJheSgpLAoncmVmZXJlbmNlJyA9PiAnZGUzMDMyOGE3YWY4NjgwZWZkYzAzZTM5NmFhZDI0YmVmZDUxMzIwMCcsCidkZXZfcmVxdWlyZW1lbnQnID0+IGZhbHNlLAopLAonY29tcG9zZXIveGRlYnVnLWhhbmRsZXInID0+IGFycmF5KAoncHJldHR5X3ZlcnNpb24nID0+ICcyLjAuMScsCid2ZXJzaW9uJyA9PiAnMi4wLjEuMCcsCid0eXBlJyA9PiAnbGlicmFyeScsCidpbnN0YWxsX3BhdGgnID0+IF9fRElSX18gLiAnLy4veGRlYnVnLWhhbmRsZXInLAonYWxpYXNlcycgPT4gYXJyYXkoKSwKJ3JlZmVyZW5jZScgPT4gJzk2NGFkY2RkM2EyOGJmOWVkNWQ5YWM2NDUwMDY0ZTBkNzFlZDc0OTYnLAonZGV2X3JlcXVpcmVtZW50JyA9PiBmYWxzZSwKKSwKJ2p1c3RpbnJhaW5ib3cvanNvbi1zY2hlbWEnID0+IGFycmF5KAoncHJldHR5X3ZlcnNpb24nID0+ICc1LjIuMTAnLAondmVyc2lvbicgPT4gJzUuMi4xMC4wJywKJ3R5cGUnID0+ICdsaWJyYXJ5JywKJ2luc3RhbGxfcGF0aCcgPT4gX19ESVJfXyAuICcvLi4vanVzdGlucmFpbmJvdy9qc29uLXNjaGVtYScsCidhbGlhc2VzJyA9PiBhcnJheSgpLAoncmVmZXJlbmNlJyA9PiAnMmJhOWM4Yzg2MmVjZDU1MTBlZDE2YzYzNDBhYTlmNmVhZGI0ZjMxYicsCidkZXZfcmVxdWlyZW1lbnQnID0+IGZhbHNlLAopLAoncHNyL2xvZycgPT4gYXJyYXkoCidwcmV0dHlfdmVyc2lvbicgPT4gJzEuMS40JywKJ3ZlcnNpb24nID0+ICcxLjEuNC4wJywKJ3R5cGUnID0+ICdsaWJyYXJ5JywKJ2luc3RhbGxfcGF0aCcgPT4gX19ESVJfXyAuICcvLi4vcHNyL2xvZycsCidhbGlhc2VzJyA9PiBhcnJheSgpLAoncmVmZXJlbmNlJyA9PiAnZDQ5Njk1YjkwOWMzYjc2MjhiNjI4OWRiNTQ3OWExYzIwNDYwMWYxMScsCidkZXZfcmVxdWlyZW1lbnQnID0+IGZhbHNlLAopLAoncmVhY3QvcHJvbWlzZScgPT4gYXJyYXkoCidwcmV0dHlfdmVyc2lvbicgPT4gJ3YxLjIuMScsCid2ZXJzaW9uJyA9PiAnMS4yLjEuMCcsCid0eXBlJyA9PiAnbGlicmFyeScsCidpbnN0YWxsX3BhdGgnID0+IF9fRElSX18gLiAnLy4uL3JlYWN0L3Byb21pc2UnLAonYWxpYXNlcycgPT4gYXJyYXkoKSwKJ3JlZmVyZW5jZScgPT4gJ2VlZmZmNTk3ZTY3ZmY2NmI3MTlmODE3MTQ4MGFkZDNjOTE0NzRhMWUnLAonZGV2X3JlcXVpcmVtZW50JyA9PiBmYWxzZSwKKSwKJ3NlbGQvanNvbmxpbnQnID0+IGFycmF5KAoncHJldHR5X3ZlcnNpb24nID0+ICcxLjguMycsCid2ZXJzaW9uJyA9PiAnMS44LjMuMCcsCid0eXBlJyA9PiAnbGlicmFyeScsCidpbnN0YWxsX3BhdGgnID0+IF9fRElSX18gLiAnLy4uL3NlbGQvanNvbmxpbnQnLAonYWxpYXNlcycgPT4gYXJyYXkoKSwKJ3JlZmVyZW5jZScgPT4gJzlhZDZjZTc5YzM0MmZiZDQ0ZGYxMGVhOTU1MTFhMWIyNGRlZTViNTcnLAonZGV2X3JlcXVpcmVtZW50JyA9PiBmYWxzZSwKKSwKJ3NlbGQvcGhhci11dGlscycgPT4gYXJyYXkoCidwcmV0dHlfdmVyc2lvbicgPT4gJzEuMS4xJywKJ3ZlcnNpb24nID0+ICcxLjEuMS4wJywKJ3R5cGUnID0+ICdsaWJyYXJ5JywKJ2luc3RhbGxfcGF0aCcgPT4gX19ESVJfXyAuICcvLi4vc2VsZC9waGFyLXV0aWxzJywKJ2FsaWFzZXMnID0+IGFycmF5KCksCidyZWZlcmVuY2UnID0+ICc4Njc0YjFkODRmZmI0N2NjNTlhMTAxZjVkNWEzYjYxZTg3ZDIzNzk2JywKJ2Rldl9yZXF1aXJlbWVudCcgPT4gZmFsc2UsCiksCidzeW1mb255L2NvbnNvbGUnID0+IGFycmF5KAoncHJldHR5X3ZlcnNpb24nID0+ICd2Mi44LjUyJywKJ3ZlcnNpb24nID0+ICcyLjguNTIuMCcsCid0eXBlJyA9PiAnbGlicmFyeScsCidpbnN0YWxsX3BhdGgnID0+IF9fRElSX18gLiAnLy4uL3N5bWZvbnkvY29uc29sZScsCidhbGlhc2VzJyA9PiBhcnJheSgpLAoncmVmZXJlbmNlJyA9PiAnY2JjZjRiNWUyMzNhZjE1Y2QyYmJkNTBkZWUxY2NjOWI3OTI3ZGMxMicsCidkZXZfcmVxdWlyZW1lbnQnID0+IGZhbHNlLAopLAonc3ltZm9ueS9kZWJ1ZycgPT4gYXJyYXkoCidwcmV0dHlfdmVyc2lvbicgPT4gJ3YyLjguNTInLAondmVyc2lvbicgPT4gJzIuOC41Mi4wJywKJ3R5cGUnID0+ICdsaWJyYXJ5JywKJ2luc3RhbGxfcGF0aCcgPT4gX19ESVJfXyAuICcvLi4vc3ltZm9ueS9kZWJ1ZycsCidhbGlhc2VzJyA9PiBhcnJheSgpLAoncmVmZXJlbmNlJyA9PiAnNzQyNTFjOGQ1MGRkM2JlN2M0Y2UwYzdiODYyNDk3Y2RjNjQxYTVkMCcsCidkZXZfcmVxdWlyZW1lbnQnID0+IGZhbHNlLAopLAonc3ltZm9ueS9maWxlc3lzdGVtJyA9PiBhcnJheSgKJ3ByZXR0eV92ZXJzaW9uJyA9PiAndjIuOC41MicsCid2ZXJzaW9uJyA9PiAnMi44LjUyLjAnLAondHlwZScgPT4gJ2xpYnJhcnknLAonaW5zdGFsbF9wYXRoJyA9PiBfX0RJUl9fIC4gJy8uLi9zeW1mb255L2ZpbGVzeXN0ZW0nLAonYWxpYXNlcycgPT4gYXJyYXkoKSwKJ3JlZmVyZW5jZScgPT4gJzdhZTQ2ODcyZGFkMDlkZmZiN2ZlMWU5M2EwOTM3MDk3MzM5ZDAwODAnLAonZGV2X3JlcXVpcmVtZW50JyA9PiBmYWxzZSwKKSwKJ3N5bWZvbnkvZmluZGVyJyA9PiBhcnJheSgKJ3ByZXR0eV92ZXJzaW9uJyA9PiAndjIuOC41MicsCid2ZXJzaW9uJyA9PiAnMi44LjUyLjAnLAondHlwZScgPT4gJ2xpYnJhcnknLAonaW5zdGFsbF9wYXRoJyA9PiBfX0RJUl9fIC4gJy8uLi9zeW1mb255L2ZpbmRlcicsCidhbGlhc2VzJyA9PiBhcnJheSgpLAoncmVmZXJlbmNlJyA9PiAnMTQ0NGVhYzUyMjczZTM0NWQ5Yjk1MTI5YmY5MTQ2MzkzMDVhOWJhNCcsCidkZXZfcmVxdWlyZW1lbnQnID0+IGZhbHNlLAopLAonc3ltZm9ueS9wb2x5ZmlsbC1jdHlwZScgPT4gYXJyYXkoCidwcmV0dHlfdmVyc2lvbicgPT4gJ3YxLjE5LjAnLAondmVyc2lvbicgPT4gJzEuMTkuMC4wJywKJ3R5cGUnID0+ICdsaWJyYXJ5JywKJ2luc3RhbGxfcGF0aCcgPT4gX19ESVJfXyAuICcvLi4vc3ltZm9ueS9wb2x5ZmlsbC1jdHlwZScsCidhbGlhc2VzJyA9PiBhcnJheSgpLAoncmVmZXJlbmNlJyA9PiAnYWVkNTk2OTEzYjcwZmFlNTdiZTUzZDg2ZmFhMmU5ZWY4NWEyMjk3YicsCidkZXZfcmVxdWlyZW1lbnQnID0+IGZhbHNlLAopLAonc3ltZm9ueS9wb2x5ZmlsbC1tYnN0cmluZycgPT4gYXJyYXkoCidwcmV0dHlfdmVyc2lvbicgPT4gJ3YxLjE5LjAnLAondmVyc2lvbicgPT4gJzEuMTkuMC4wJywKJ3R5cGUnID0+ICdsaWJyYXJ5JywKJ2luc3RhbGxfcGF0aCcgPT4gX19ESVJfXyAuICcvLi4vc3ltZm9ueS9wb2x5ZmlsbC1tYnN0cmluZycsCidhbGlhc2VzJyA9PiBhcnJheSgpLAoncmVmZXJlbmNlJyA9PiAnYjVmN2I5MzJlZTZmYTgwMmZjNzkyZWFiZDc3YzRjODgwODQ1MTdjZScsCidkZXZfcmVxdWlyZW1lbnQnID0+IGZhbHNlLAopLAonc3ltZm9ueS9wcm9jZXNzJyA9PiBhcnJheSgKJ3ByZXR0eV92ZXJzaW9uJyA9PiAndjIuOC41MicsCid2ZXJzaW9uJyA9PiAnMi44LjUyLjAnLAondHlwZScgPT4gJ2xpYnJhcnknLAonaW5zdGFsbF9wYXRoJyA9PiBfX0RJUl9fIC4gJy8uLi9zeW1mb255L3Byb2Nlc3MnLAonYWxpYXNlcycgPT4gYXJyYXkoKSwKJ3JlZmVyZW5jZScgPT4gJ2MzNTkxYTA5Yzc4NjM5ODIyYjBiMjkwZDQ0ZWRiNjliZjlmMDVkYzgnLAonZGV2X3JlcXVpcmVtZW50JyA9PiBmYWxzZSwKKSwKKSwKKTsKCkNvcHlyaWdodCAoQykgMjAyMSBDb21wb3NlcgoKUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGEgY29weSBvZgp0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZSAiU29mdHdhcmUiKSwgdG8gZGVhbCBpbgp0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzIHRvCnVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzCm9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbwpzbywgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6CgpUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZCBpbiBhbGwKY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS4KClRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCAiQVMgSVMiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SCklNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLApGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUKQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUgpMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLApPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRQpTT0ZUV0FSRS4KCjw/cGhwCgoKCgoKCgoKCgpuYW1lc3BhY2UgQ29tcG9zZXJcTWV0YWRhdGFNaW5pZmllcjsKCmNsYXNzIE1ldGFkYXRhTWluaWZpZXIKewoKCgoKCgpwdWJsaWMgc3RhdGljIGZ1bmN0aW9uIGV4cGFuZChhcnJheSAkdmVyc2lvbnMpCnsKJGV4cGFuZGVkID0gYXJyYXkoKTsKJGV4cGFuZGVkVmVyc2lvbiA9IG51bGw7CmZvcmVhY2ggKCR2ZXJzaW9ucyBhcyAkdmVyc2lvbkRhdGEpIHsKaWYgKCEkZXhwYW5kZWRWZXJzaW9uKSB7CiRleHBhbmRlZFZlcnNpb24gPSAkdmVyc2lvbkRhdGE7CiRleHBhbmRlZFtdID0gJGV4cGFuZGVkVmVyc2lvbjsKY29udGludWU7Cn0KCgpmb3JlYWNoICgkdmVyc2lvbkRhdGEgYXMgJGtleSA9PiAkdmFsKSB7CmlmICgkdmFsID09PSAnX191bnNldCcpIHsKdW5zZXQoJGV4cGFuZGVkVmVyc2lvblska2V5XSk7Cn0gZWxzZSB7CiRleHBhbmRlZFZlcnNpb25bJGtleV0gPSAkdmFsOwp9Cn0KCiRleHBhbmRlZFtdID0gJGV4cGFuZGVkVmVyc2lvbjsKfQoKcmV0dXJuICRleHBhbmRlZDsKfQoKCgoKCgoKcHVibGljIHN0YXRpYyBmdW5jdGlvbiBtaW5pZnkoYXJyYXkgJHZlcnNpb25zKQp7CiRtaW5pZmllZFZlcnNpb25zID0gYXJyYXkoKTsKCiRsYXN0S25vd25WZXJzaW9uRGF0YSA9IG51bGw7CmZvcmVhY2ggKCR2ZXJzaW9ucyBhcyAkdmVyc2lvbikgewppZiAoISRsYXN0S25vd25WZXJzaW9uRGF0YSkgewokbGFzdEtub3duVmVyc2lvbkRhdGEgPSAkdmVyc2lvbjsKJG1pbmlmaWVkVmVyc2lvbnNbXSA9ICR2ZXJzaW9uOwpjb250aW51ZTsKfQoKJG1pbmlmaWVkVmVyc2lvbiA9IGFycmF5KCk7CgoKZm9yZWFjaCAoJHZlcnNpb24gYXMgJGtleSA9PiAkdmFsKSB7CmlmICghaXNzZXQoJGxhc3RLbm93blZlcnNpb25EYXRhWyRrZXldKSB8fCAkbGFzdEtub3duVmVyc2lvbkRhdGFbJGtleV0gIT09ICR2YWwpIHsKJG1pbmlmaWVkVmVyc2lvblska2V5XSA9ICR2YWw7CiRsYXN0S25vd25WZXJzaW9uRGF0YVska2V5XSA9ICR2YWw7Cn0KfQoKCmZvcmVhY2ggKCRsYXN0S25vd25WZXJzaW9uRGF0YSBhcyAka2V5ID0+ICR2YWwpIHsKaWYgKCFpc3NldCgkdmVyc2lvblska2V5XSkpIHsKJG1pbmlmaWVkVmVyc2lvblska2V5XSA9ICJfX3Vuc2V0IjsKdW5zZXQoJGxhc3RLbm93blZlcnNpb25EYXRhWyRrZXldKTsKfQp9CgokbWluaWZpZWRWZXJzaW9uc1tdID0gJG1pbmlmaWVkVmVyc2lvbjsKfQoKcmV0dXJuICRtaW5pZmllZFZlcnNpb25zOwp9Cn0KCkNvcHlyaWdodCAoQykgMjAxNSBDb21wb3NlcgoKUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGEgY29weSBvZgp0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZSAiU29mdHdhcmUiKSwgdG8gZGVhbCBpbgp0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzIHRvCnVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzCm9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbwpzbywgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6CgpUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZCBpbiBhbGwKY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS4KClRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCAiQVMgSVMiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SCklNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLApGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUKQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUgpMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLApPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRQpTT0ZUV0FSRS4KCjw/cGhwCgoKCgoKCgoKCgpuYW1lc3BhY2UgQ29tcG9zZXJcU2VtdmVyOwoKdXNlIENvbXBvc2VyXFNlbXZlclxDb25zdHJhaW50XENvbnN0cmFpbnQ7CgpjbGFzcyBDb21wYXJhdG9yCnsKCgoKCgoKCgpwdWJsaWMgc3RhdGljIGZ1bmN0aW9uIGdyZWF0ZXJUaGFuKCR2ZXJzaW9uMSwgJHZlcnNpb24yKQp7CnJldHVybiBzZWxmOjpjb21wYXJlKCR2ZXJzaW9uMSwgJz4nLCAkdmVyc2lvbjIpOwp9CgoKCgoKCgoKCnB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gZ3JlYXRlclRoYW5PckVxdWFsVG8oJHZlcnNpb24xLCAkdmVyc2lvbjIpCnsKcmV0dXJuIHNlbGY6OmNvbXBhcmUoJHZlcnNpb24xLCAnPj0nLCAkdmVyc2lvbjIpOwp9CgoKCgoKCgoKCnB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gbGVzc1RoYW4oJHZlcnNpb24xLCAkdmVyc2lvbjIpCnsKcmV0dXJuIHNlbGY6OmNvbXBhcmUoJHZlcnNpb24xLCAnPCcsICR2ZXJzaW9uMik7Cn0KCgoKCgoKCgoKcHVibGljIHN0YXRpYyBmdW5jdGlvbiBsZXNzVGhhbk9yRXF1YWxUbygkdmVyc2lvbjEsICR2ZXJzaW9uMikKewpyZXR1cm4gc2VsZjo6Y29tcGFyZSgkdmVyc2lvbjEsICc8PScsICR2ZXJzaW9uMik7Cn0KCgoKCgoKCgoKcHVibGljIHN0YXRpYyBmdW5jdGlvbiBlcXVhbFRvKCR2ZXJzaW9uMSwgJHZlcnNpb24yKQp7CnJldHVybiBzZWxmOjpjb21wYXJlKCR2ZXJzaW9uMSwgJz09JywgJHZlcnNpb24yKTsKfQoKCgoKCgoKCgpwdWJsaWMgc3RhdGljIGZ1bmN0aW9uIG5vdEVxdWFsVG8oJHZlcnNpb24xLCAkdmVyc2lvbjIpCnsKcmV0dXJuIHNlbGY6OmNvbXBhcmUoJHZlcnNpb24xLCAnIT0nLCAkdmVyc2lvbjIpOwp9CgoKCgoKCgoKCgoKCnB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gY29tcGFyZSgkdmVyc2lvbjEsICRvcGVyYXRvciwgJHZlcnNpb24yKQp7CiRjb25zdHJhaW50ID0gbmV3IENvbnN0cmFpbnQoJG9wZXJhdG9yLCAkdmVyc2lvbjIpOwoKcmV0dXJuICRjb25zdHJhaW50LT5tYXRjaFNwZWNpZmljKG5ldyBDb25zdHJhaW50KCc9PScsICR2ZXJzaW9uMSksIHRydWUpOwp9Cn0KPD9waHAKCgoKCgoKCgoKCm5hbWVzcGFjZSBDb21wb3NlclxTZW12ZXI7Cgp1c2UgQ29tcG9zZXJcU2VtdmVyXENvbnN0cmFpbnRcQ29uc3RyYWludDsKdXNlIENvbXBvc2VyXFNlbXZlclxDb25zdHJhaW50XENvbnN0cmFpbnRJbnRlcmZhY2U7CgoKCgpjbGFzcyBDb21waWxpbmdNYXRjaGVyCnsKCgoKCnByaXZhdGUgc3RhdGljICRjb21waWxlZENoZWNrZXJDYWNoZSA9IGFycmF5KCk7Cgpwcml2YXRlIHN0YXRpYyAkZW5hYmxlZDsKCgoKCnByaXZhdGUgc3RhdGljICR0cmFuc09wSW50ID0gYXJyYXkoCkNvbnN0cmFpbnQ6Ok9QX0VRID0+IENvbnN0cmFpbnQ6OlNUUl9PUF9FUSwKQ29uc3RyYWludDo6T1BfTFQgPT4gQ29uc3RyYWludDo6U1RSX09QX0xULApDb25zdHJhaW50OjpPUF9MRSA9PiBDb25zdHJhaW50OjpTVFJfT1BfTEUsCkNvbnN0cmFpbnQ6Ok9QX0dUID0+IENvbnN0cmFpbnQ6OlNUUl9PUF9HVCwKQ29uc3RyYWludDo6T1BfR0UgPT4gQ29uc3RyYWludDo6U1RSX09QX0dFLApDb25zdHJhaW50OjpPUF9ORSA9PiBDb25zdHJhaW50OjpTVFJfT1BfTkUsCik7CgoKCgoKCgoKCgoKcHVibGljIHN0YXRpYyBmdW5jdGlvbiBtYXRjaChDb25zdHJhaW50SW50ZXJmYWNlICRjb25zdHJhaW50LCAkb3BlcmF0b3IsICR2ZXJzaW9uKQp7CmlmIChzZWxmOjokZW5hYmxlZCA9PT0gbnVsbCkgewpzZWxmOjokZW5hYmxlZCA9ICFcaW5fYXJyYXkoJ2V2YWwnLCBleHBsb2RlKCcsJywgKHN0cmluZykgaW5pX2dldCgnZGlzYWJsZV9mdW5jdGlvbnMnKSksIHRydWUpOwp9CmlmICghc2VsZjo6JGVuYWJsZWQpIHsKcmV0dXJuICRjb25zdHJhaW50LT5tYXRjaGVzKG5ldyBDb25zdHJhaW50KHNlbGY6OiR0cmFuc09wSW50WyRvcGVyYXRvcl0sICR2ZXJzaW9uKSk7Cn0KCiRjYWNoZUtleSA9ICRvcGVyYXRvci4kY29uc3RyYWludDsKaWYgKCFpc3NldChzZWxmOjokY29tcGlsZWRDaGVja2VyQ2FjaGVbJGNhY2hlS2V5XSkpIHsKJGNvZGUgPSAkY29uc3RyYWludC0+Y29tcGlsZSgkb3BlcmF0b3IpOwpzZWxmOjokY29tcGlsZWRDaGVja2VyQ2FjaGVbJGNhY2hlS2V5XSA9ICRmdW5jdGlvbiA9IGV2YWwoJ3JldHVybiBmdW5jdGlvbigkdiwgJGIpe3JldHVybiAnLiRjb2RlLic7fTsnKTsKfSBlbHNlIHsKJGZ1bmN0aW9uID0gc2VsZjo6JGNvbXBpbGVkQ2hlY2tlckNhY2hlWyRjYWNoZUtleV07Cn0KCnJldHVybiAkZnVuY3Rpb24oJHZlcnNpb24sIHN0cnBvcygkdmVyc2lvbiwgJ2Rldi0nKSA9PT0gMCk7Cn0KfQo8P3BocAoKCgoKCgoKCgoKbmFtZXNwYWNlIENvbXBvc2VyXFNlbXZlclxDb25zdHJhaW50OwoKY2xhc3MgQm91bmQKewoKCgpwcml2YXRlICR2ZXJzaW9uOwoKCgoKcHJpdmF0ZSAkaXNJbmNsdXNpdmU7CgoKCgoKcHVibGljIGZ1bmN0aW9uIF9fY29uc3RydWN0KCR2ZXJzaW9uLCAkaXNJbmNsdXNpdmUpCnsKJHRoaXMtPnZlcnNpb24gPSAkdmVyc2lvbjsKJHRoaXMtPmlzSW5jbHVzaXZlID0gJGlzSW5jbHVzaXZlOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0VmVyc2lvbigpCnsKcmV0dXJuICR0aGlzLT52ZXJzaW9uOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gaXNJbmNsdXNpdmUoKQp7CnJldHVybiAkdGhpcy0+aXNJbmNsdXNpdmU7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBpc1plcm8oKQp7CnJldHVybiAkdGhpcy0+Z2V0VmVyc2lvbigpID09PSAnMC4wLjAuMC1kZXYnICYmICR0aGlzLT5pc0luY2x1c2l2ZSgpOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gaXNQb3NpdGl2ZUluZmluaXR5KCkKewpyZXR1cm4gJHRoaXMtPmdldFZlcnNpb24oKSA9PT0gUEhQX0lOVF9NQVguJy4wLjAuMCcgJiYgISR0aGlzLT5pc0luY2x1c2l2ZSgpOwp9CgoKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBjb21wYXJlVG8oQm91bmQgJG90aGVyLCAkb3BlcmF0b3IpCnsKaWYgKCFcaW5fYXJyYXkoJG9wZXJhdG9yLCBhcnJheSgnPCcsICc+JyksIHRydWUpKSB7CnRocm93IG5ldyBcSW52YWxpZEFyZ3VtZW50RXhjZXB0aW9uKCdEb2VzIG5vdCBzdXBwb3J0IGFueSBvdGhlciBvcGVyYXRvciBvdGhlciB0aGFuID4gb3IgPC4nKTsKfQoKCmlmICgkdGhpcyA9PSAkb3RoZXIpIHsKcmV0dXJuIGZhbHNlOwp9CgokY29tcGFyZVJlc3VsdCA9IHZlcnNpb25fY29tcGFyZSgkdGhpcy0+Z2V0VmVyc2lvbigpLCAkb3RoZXItPmdldFZlcnNpb24oKSk7CgoKaWYgKDAgIT09ICRjb21wYXJlUmVzdWx0KSB7CnJldHVybiAoKCc+JyA9PT0gJG9wZXJhdG9yKSA/IDEgOiAtMSkgPT09ICRjb21wYXJlUmVzdWx0Owp9CgoKcmV0dXJuICc+JyA9PT0gJG9wZXJhdG9yID8gJG90aGVyLT5pc0luY2x1c2l2ZSgpIDogISRvdGhlci0+aXNJbmNsdXNpdmUoKTsKfQoKcHVibGljIGZ1bmN0aW9uIF9fdG9TdHJpbmcoKQp7CnJldHVybiBzcHJpbnRmKAonJXMgWyVzXScsCiR0aGlzLT5nZXRWZXJzaW9uKCksCiR0aGlzLT5pc0luY2x1c2l2ZSgpID8gJ2luY2x1c2l2ZScgOiAnZXhjbHVzaXZlJwopOwp9CgoKCgpwdWJsaWMgc3RhdGljIGZ1bmN0aW9uIHplcm8oKQp7CnJldHVybiBuZXcgQm91bmQoJzAuMC4wLjAtZGV2JywgdHJ1ZSk7Cn0KCgoKCnB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gcG9zaXRpdmVJbmZpbml0eSgpCnsKcmV0dXJuIG5ldyBCb3VuZChQSFBfSU5UX01BWC4nLjAuMC4wJywgZmFsc2UpOwp9Cn0KPD9waHAKCgoKCgoKCgoKCm5hbWVzcGFjZSBDb21wb3NlclxTZW12ZXJcQ29uc3RyYWludDsKCgoKCmNsYXNzIENvbnN0cmFpbnQgaW1wbGVtZW50cyBDb25zdHJhaW50SW50ZXJmYWNlCnsKCmNvbnN0IE9QX0VRID0gMDsKY29uc3QgT1BfTFQgPSAxOwpjb25zdCBPUF9MRSA9IDI7CmNvbnN0IE9QX0dUID0gMzsKY29uc3QgT1BfR0UgPSA0Owpjb25zdCBPUF9ORSA9IDU7CgoKY29uc3QgU1RSX09QX0VRID0gJz09JzsKY29uc3QgU1RSX09QX0VRX0FMVCA9ICc9JzsKY29uc3QgU1RSX09QX0xUID0gJzwnOwpjb25zdCBTVFJfT1BfTEUgPSAnPD0nOwpjb25zdCBTVFJfT1BfR1QgPSAnPic7CmNvbnN0IFNUUl9PUF9HRSA9ICc+PSc7CmNvbnN0IFNUUl9PUF9ORSA9ICchPSc7CmNvbnN0IFNUUl9PUF9ORV9BTFQgPSAnPD4nOwoKCgoKCgoKcHJpdmF0ZSBzdGF0aWMgJHRyYW5zT3BTdHIgPSBhcnJheSgKJz0nID0+IHNlbGY6Ok9QX0VRLAonPT0nID0+IHNlbGY6Ok9QX0VRLAonPCcgPT4gc2VsZjo6T1BfTFQsCic8PScgPT4gc2VsZjo6T1BfTEUsCic+JyA9PiBzZWxmOjpPUF9HVCwKJz49JyA9PiBzZWxmOjpPUF9HRSwKJzw+JyA9PiBzZWxmOjpPUF9ORSwKJyE9JyA9PiBzZWxmOjpPUF9ORSwKKTsKCgoKCgoKCnByaXZhdGUgc3RhdGljICR0cmFuc09wSW50ID0gYXJyYXkoCnNlbGY6Ok9QX0VRID0+ICc9PScsCnNlbGY6Ok9QX0xUID0+ICc8JywKc2VsZjo6T1BfTEUgPT4gJzw9JywKc2VsZjo6T1BfR1QgPT4gJz4nLApzZWxmOjpPUF9HRSA9PiAnPj0nLApzZWxmOjpPUF9ORSA9PiAnIT0nLAopOwoKCgoKCnByb3RlY3RlZCAkb3BlcmF0b3I7CgoKcHJvdGVjdGVkICR2ZXJzaW9uOwoKCnByb3RlY3RlZCAkcHJldHR5U3RyaW5nOwoKCnByb3RlY3RlZCAkbG93ZXJCb3VuZDsKCgpwcm90ZWN0ZWQgJHVwcGVyQm91bmQ7CgoKCgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIF9fY29uc3RydWN0KCRvcGVyYXRvciwgJHZlcnNpb24pCnsKaWYgKCFpc3NldChzZWxmOjokdHJhbnNPcFN0clskb3BlcmF0b3JdKSkgewp0aHJvdyBuZXcgXEludmFsaWRBcmd1bWVudEV4Y2VwdGlvbihzcHJpbnRmKAonSW52YWxpZCBvcGVyYXRvciAiJXMiIGdpdmVuLCBleHBlY3RlZCBvbmUgb2Y6ICVzJywKJG9wZXJhdG9yLAppbXBsb2RlKCcsICcsIHNlbGY6OmdldFN1cHBvcnRlZE9wZXJhdG9ycygpKQopKTsKfQoKJHRoaXMtPm9wZXJhdG9yID0gc2VsZjo6JHRyYW5zT3BTdHJbJG9wZXJhdG9yXTsKJHRoaXMtPnZlcnNpb24gPSAkdmVyc2lvbjsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIGdldFZlcnNpb24oKQp7CnJldHVybiAkdGhpcy0+dmVyc2lvbjsKfQoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0T3BlcmF0b3IoKQp7CnJldHVybiBzZWxmOjokdHJhbnNPcEludFskdGhpcy0+b3BlcmF0b3JdOwp9CgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBtYXRjaGVzKENvbnN0cmFpbnRJbnRlcmZhY2UgJHByb3ZpZGVyKQp7CmlmICgkcHJvdmlkZXIgaW5zdGFuY2VvZiBzZWxmKSB7CnJldHVybiAkdGhpcy0+bWF0Y2hTcGVjaWZpYygkcHJvdmlkZXIpOwp9CgoKcmV0dXJuICRwcm92aWRlci0+bWF0Y2hlcygkdGhpcyk7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBzZXRQcmV0dHlTdHJpbmcoJHByZXR0eVN0cmluZykKewokdGhpcy0+cHJldHR5U3RyaW5nID0gJHByZXR0eVN0cmluZzsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIGdldFByZXR0eVN0cmluZygpCnsKaWYgKCR0aGlzLT5wcmV0dHlTdHJpbmcpIHsKcmV0dXJuICR0aGlzLT5wcmV0dHlTdHJpbmc7Cn0KCnJldHVybiAkdGhpcy0+X190b1N0cmluZygpOwp9CgoKCgoKCgoKcHVibGljIHN0YXRpYyBmdW5jdGlvbiBnZXRTdXBwb3J0ZWRPcGVyYXRvcnMoKQp7CnJldHVybiBhcnJheV9rZXlzKHNlbGY6OiR0cmFuc09wU3RyKTsKfQoKCgoKCgoKCnB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gZ2V0T3BlcmF0b3JDb25zdGFudCgkb3BlcmF0b3IpCnsKcmV0dXJuIHNlbGY6OiR0cmFuc09wU3RyWyRvcGVyYXRvcl07Cn0KCgoKCgoKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiB2ZXJzaW9uQ29tcGFyZSgkYSwgJGIsICRvcGVyYXRvciwgJGNvbXBhcmVCcmFuY2hlcyA9IGZhbHNlKQp7CmlmICghaXNzZXQoc2VsZjo6JHRyYW5zT3BTdHJbJG9wZXJhdG9yXSkpIHsKdGhyb3cgbmV3IFxJbnZhbGlkQXJndW1lbnRFeGNlcHRpb24oc3ByaW50ZigKJ0ludmFsaWQgb3BlcmF0b3IgIiVzIiBnaXZlbiwgZXhwZWN0ZWQgb25lIG9mOiAlcycsCiRvcGVyYXRvciwKaW1wbG9kZSgnLCAnLCBzZWxmOjpnZXRTdXBwb3J0ZWRPcGVyYXRvcnMoKSkKKSk7Cn0KCiRhSXNCcmFuY2ggPSBzdHJwb3MoJGEsICdkZXYtJykgPT09IDA7CiRiSXNCcmFuY2ggPSBzdHJwb3MoJGIsICdkZXYtJykgPT09IDA7CgppZiAoJG9wZXJhdG9yID09PSAnIT0nICYmICgkYUlzQnJhbmNoIHx8ICRiSXNCcmFuY2gpKSB7CnJldHVybiAkYSAhPT0gJGI7Cn0KCmlmICgkYUlzQnJhbmNoICYmICRiSXNCcmFuY2gpIHsKcmV0dXJuICRvcGVyYXRvciA9PT0gJz09JyAmJiAkYSA9PT0gJGI7Cn0KCgppZiAoISRjb21wYXJlQnJhbmNoZXMgJiYgKCRhSXNCcmFuY2ggfHwgJGJJc0JyYW5jaCkpIHsKcmV0dXJuIGZhbHNlOwp9CgpyZXR1cm4gXHZlcnNpb25fY29tcGFyZSgkYSwgJGIsICRvcGVyYXRvcik7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBjb21waWxlKCRvdGhlck9wZXJhdG9yKQp7CmlmIChzdHJwb3MoJHRoaXMtPnZlcnNpb24sICdkZXYtJykgPT09IDApIHsKaWYgKHNlbGY6Ok9QX0VRID09PSAkdGhpcy0+b3BlcmF0b3IpIHsKaWYgKHNlbGY6Ok9QX0VRID09PSAkb3RoZXJPcGVyYXRvcikgewpyZXR1cm4gc3ByaW50ZignJGIgJiYgJHYgPT09ICVzJywgXHZhcl9leHBvcnQoJHRoaXMtPnZlcnNpb24sIHRydWUpKTsKfQppZiAoc2VsZjo6T1BfTkUgPT09ICRvdGhlck9wZXJhdG9yKSB7CnJldHVybiBzcHJpbnRmKCchJGIgfHwgJHYgIT09ICVzJywgXHZhcl9leHBvcnQoJHRoaXMtPnZlcnNpb24sIHRydWUpKTsKfQpyZXR1cm4gJ2ZhbHNlJzsKfQoKaWYgKHNlbGY6Ok9QX05FID09PSAkdGhpcy0+b3BlcmF0b3IpIHsKaWYgKHNlbGY6Ok9QX0VRID09PSAkb3RoZXJPcGVyYXRvcikgewpyZXR1cm4gc3ByaW50ZignISRiIHx8ICR2ICE9PSAlcycsIFx2YXJfZXhwb3J0KCR0aGlzLT52ZXJzaW9uLCB0cnVlKSk7Cn0KaWYgKHNlbGY6Ok9QX05FID09PSAkb3RoZXJPcGVyYXRvcikgewpyZXR1cm4gJ3RydWUnOwp9CnJldHVybiAnISRiJzsKfQoKcmV0dXJuICdmYWxzZSc7Cn0KCmlmIChzZWxmOjpPUF9FUSA9PT0gJHRoaXMtPm9wZXJhdG9yKSB7CmlmIChzZWxmOjpPUF9FUSA9PT0gJG90aGVyT3BlcmF0b3IpIHsKcmV0dXJuIHNwcmludGYoJ1x2ZXJzaW9uX2NvbXBhcmUoJHYsICVzLCBcJz09XCcpJywgXHZhcl9leHBvcnQoJHRoaXMtPnZlcnNpb24sIHRydWUpKTsKfQppZiAoc2VsZjo6T1BfTkUgPT09ICRvdGhlck9wZXJhdG9yKSB7CnJldHVybiBzcHJpbnRmKCckYiB8fCBcdmVyc2lvbl9jb21wYXJlKCR2LCAlcywgXCchPVwnKScsIFx2YXJfZXhwb3J0KCR0aGlzLT52ZXJzaW9uLCB0cnVlKSk7Cn0KCnJldHVybiBzcHJpbnRmKCchJGIgJiYgXHZlcnNpb25fY29tcGFyZSglcywgJHYsIFwnJXNcJyknLCBcdmFyX2V4cG9ydCgkdGhpcy0+dmVyc2lvbiwgdHJ1ZSksIHNlbGY6OiR0cmFuc09wSW50WyRvdGhlck9wZXJhdG9yXSk7Cn0KCmlmIChzZWxmOjpPUF9ORSA9PT0gJHRoaXMtPm9wZXJhdG9yKSB7CmlmIChzZWxmOjpPUF9FUSA9PT0gJG90aGVyT3BlcmF0b3IpIHsKcmV0dXJuIHNwcmludGYoJyRiIHx8ICghJGIgJiYgXHZlcnNpb25fY29tcGFyZSgkdiwgJXMsIFwnIT1cJykpJywgXHZhcl9leHBvcnQoJHRoaXMtPnZlcnNpb24sIHRydWUpKTsKfQoKaWYgKHNlbGY6Ok9QX05FID09PSAkb3RoZXJPcGVyYXRvcikgewpyZXR1cm4gJ3RydWUnOwp9CnJldHVybiAnISRiJzsKfQoKaWYgKHNlbGY6Ok9QX0xUID09PSAkdGhpcy0+b3BlcmF0b3IgfHwgc2VsZjo6T1BfTEUgPT09ICR0aGlzLT5vcGVyYXRvcikgewppZiAoc2VsZjo6T1BfTFQgPT09ICRvdGhlck9wZXJhdG9yIHx8IHNlbGY6Ok9QX0xFID09PSAkb3RoZXJPcGVyYXRvcikgewpyZXR1cm4gJyEkYic7Cn0KfSBlbHNlIHsgCmlmIChzZWxmOjpPUF9HVCA9PT0gJG90aGVyT3BlcmF0b3IgfHwgc2VsZjo6T1BfR0UgPT09ICRvdGhlck9wZXJhdG9yKSB7CnJldHVybiAnISRiJzsKfQp9CgppZiAoc2VsZjo6T1BfTkUgPT09ICRvdGhlck9wZXJhdG9yKSB7CnJldHVybiAndHJ1ZSc7Cn0KCiRjb2RlQ29tcGFyaXNvbiA9IHNwcmludGYoJ1x2ZXJzaW9uX2NvbXBhcmUoJHYsICVzLCBcJyVzXCcpJywgXHZhcl9leHBvcnQoJHRoaXMtPnZlcnNpb24sIHRydWUpLCBzZWxmOjokdHJhbnNPcEludFskdGhpcy0+b3BlcmF0b3JdKTsKaWYgKCR0aGlzLT5vcGVyYXRvciA9PT0gc2VsZjo6T1BfTEUpIHsKaWYgKCRvdGhlck9wZXJhdG9yID09PSBzZWxmOjpPUF9HVCkgewpyZXR1cm4gc3ByaW50ZignISRiICYmIFx2ZXJzaW9uX2NvbXBhcmUoJHYsICVzLCBcJyE9XCcpICYmICcsIFx2YXJfZXhwb3J0KCR0aGlzLT52ZXJzaW9uLCB0cnVlKSkgLiAkY29kZUNvbXBhcmlzb247Cn0KfSBlbHNlaWYgKCR0aGlzLT5vcGVyYXRvciA9PT0gc2VsZjo6T1BfR0UpIHsKaWYgKCRvdGhlck9wZXJhdG9yID09PSBzZWxmOjpPUF9MVCkgewpyZXR1cm4gc3ByaW50ZignISRiICYmIFx2ZXJzaW9uX2NvbXBhcmUoJHYsICVzLCBcJyE9XCcpICYmICcsIFx2YXJfZXhwb3J0KCR0aGlzLT52ZXJzaW9uLCB0cnVlKSkgLiAkY29kZUNvbXBhcmlzb247Cn0KfQoKcmV0dXJuIHNwcmludGYoJyEkYiAmJiAlcycsICRjb2RlQ29tcGFyaXNvbik7Cn0KCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBtYXRjaFNwZWNpZmljKENvbnN0cmFpbnQgJHByb3ZpZGVyLCAkY29tcGFyZUJyYW5jaGVzID0gZmFsc2UpCnsKJG5vRXF1YWxPcCA9IHN0cl9yZXBsYWNlKCc9JywgJycsIHNlbGY6OiR0cmFuc09wSW50WyR0aGlzLT5vcGVyYXRvcl0pOwokcHJvdmlkZXJOb0VxdWFsT3AgPSBzdHJfcmVwbGFjZSgnPScsICcnLCBzZWxmOjokdHJhbnNPcEludFskcHJvdmlkZXItPm9wZXJhdG9yXSk7CgokaXNFcXVhbE9wID0gc2VsZjo6T1BfRVEgPT09ICR0aGlzLT5vcGVyYXRvcjsKJGlzTm9uRXF1YWxPcCA9IHNlbGY6Ok9QX05FID09PSAkdGhpcy0+b3BlcmF0b3I7CiRpc1Byb3ZpZGVyRXF1YWxPcCA9IHNlbGY6Ok9QX0VRID09PSAkcHJvdmlkZXItPm9wZXJhdG9yOwokaXNQcm92aWRlck5vbkVxdWFsT3AgPSBzZWxmOjpPUF9ORSA9PT0gJHByb3ZpZGVyLT5vcGVyYXRvcjsKCgoKaWYgKCRpc05vbkVxdWFsT3AgfHwgJGlzUHJvdmlkZXJOb25FcXVhbE9wKSB7CmlmICgkaXNOb25FcXVhbE9wICYmICEkaXNQcm92aWRlck5vbkVxdWFsT3AgJiYgISRpc1Byb3ZpZGVyRXF1YWxPcCAmJiBzdHJwb3MoJHByb3ZpZGVyLT52ZXJzaW9uLCAnZGV2LScpID09PSAwKSB7CnJldHVybiBmYWxzZTsKfQoKaWYgKCRpc1Byb3ZpZGVyTm9uRXF1YWxPcCAmJiAhJGlzTm9uRXF1YWxPcCAmJiAhJGlzRXF1YWxPcCAmJiBzdHJwb3MoJHRoaXMtPnZlcnNpb24sICdkZXYtJykgPT09IDApIHsKcmV0dXJuIGZhbHNlOwp9CgppZiAoISRpc0VxdWFsT3AgJiYgISRpc1Byb3ZpZGVyRXF1YWxPcCkgewpyZXR1cm4gdHJ1ZTsKfQpyZXR1cm4gJHRoaXMtPnZlcnNpb25Db21wYXJlKCRwcm92aWRlci0+dmVyc2lvbiwgJHRoaXMtPnZlcnNpb24sICchPScsICRjb21wYXJlQnJhbmNoZXMpOwp9CgoKCmlmICgkdGhpcy0+b3BlcmF0b3IgIT09IHNlbGY6Ok9QX0VRICYmICRub0VxdWFsT3AgPT09ICRwcm92aWRlck5vRXF1YWxPcCkgewpyZXR1cm4gIShzdHJwb3MoJHRoaXMtPnZlcnNpb24sICdkZXYtJykgPT09IDAgfHwgc3RycG9zKCRwcm92aWRlci0+dmVyc2lvbiwgJ2Rldi0nKSA9PT0gMCk7Cn0KCiR2ZXJzaW9uMSA9ICRpc0VxdWFsT3AgPyAkdGhpcy0+dmVyc2lvbiA6ICRwcm92aWRlci0+dmVyc2lvbjsKJHZlcnNpb24yID0gJGlzRXF1YWxPcCA/ICRwcm92aWRlci0+dmVyc2lvbiA6ICR0aGlzLT52ZXJzaW9uOwokb3BlcmF0b3IgPSAkaXNFcXVhbE9wID8gJHByb3ZpZGVyLT5vcGVyYXRvciA6ICR0aGlzLT5vcGVyYXRvcjsKCmlmICgkdGhpcy0+dmVyc2lvbkNvbXBhcmUoJHZlcnNpb24xLCAkdmVyc2lvbjIsIHNlbGY6OiR0cmFuc09wSW50WyRvcGVyYXRvcl0sICRjb21wYXJlQnJhbmNoZXMpKSB7CgoKCnJldHVybiAhKHNlbGY6OiR0cmFuc09wSW50WyRwcm92aWRlci0+b3BlcmF0b3JdID09PSAkcHJvdmlkZXJOb0VxdWFsT3AKJiYgc2VsZjo6JHRyYW5zT3BJbnRbJHRoaXMtPm9wZXJhdG9yXSAhPT0gJG5vRXF1YWxPcAomJiBcdmVyc2lvbl9jb21wYXJlKCRwcm92aWRlci0+dmVyc2lvbiwgJHRoaXMtPnZlcnNpb24sICc9PScpKTsKfQoKcmV0dXJuIGZhbHNlOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gX190b1N0cmluZygpCnsKcmV0dXJuIHNlbGY6OiR0cmFuc09wSW50WyR0aGlzLT5vcGVyYXRvcl0gLiAnICcgLiAkdGhpcy0+dmVyc2lvbjsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIGdldExvd2VyQm91bmQoKQp7CiR0aGlzLT5leHRyYWN0Qm91bmRzKCk7CgpyZXR1cm4gJHRoaXMtPmxvd2VyQm91bmQ7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBnZXRVcHBlckJvdW5kKCkKewokdGhpcy0+ZXh0cmFjdEJvdW5kcygpOwoKcmV0dXJuICR0aGlzLT51cHBlckJvdW5kOwp9CgoKCgpwcml2YXRlIGZ1bmN0aW9uIGV4dHJhY3RCb3VuZHMoKQp7CmlmIChudWxsICE9PSAkdGhpcy0+bG93ZXJCb3VuZCkgewpyZXR1cm47Cn0KCgppZiAoc3RycG9zKCR0aGlzLT52ZXJzaW9uLCAnZGV2LScpID09PSAwKSB7CiR0aGlzLT5sb3dlckJvdW5kID0gQm91bmQ6Onplcm8oKTsKJHRoaXMtPnVwcGVyQm91bmQgPSBCb3VuZDo6cG9zaXRpdmVJbmZpbml0eSgpOwoKcmV0dXJuOwp9Cgpzd2l0Y2ggKCR0aGlzLT5vcGVyYXRvcikgewpjYXNlIHNlbGY6Ok9QX0VROgokdGhpcy0+bG93ZXJCb3VuZCA9IG5ldyBCb3VuZCgkdGhpcy0+dmVyc2lvbiwgdHJ1ZSk7CiR0aGlzLT51cHBlckJvdW5kID0gbmV3IEJvdW5kKCR0aGlzLT52ZXJzaW9uLCB0cnVlKTsKYnJlYWs7CmNhc2Ugc2VsZjo6T1BfTFQ6CiR0aGlzLT5sb3dlckJvdW5kID0gQm91bmQ6Onplcm8oKTsKJHRoaXMtPnVwcGVyQm91bmQgPSBuZXcgQm91bmQoJHRoaXMtPnZlcnNpb24sIGZhbHNlKTsKYnJlYWs7CmNhc2Ugc2VsZjo6T1BfTEU6CiR0aGlzLT5sb3dlckJvdW5kID0gQm91bmQ6Onplcm8oKTsKJHRoaXMtPnVwcGVyQm91bmQgPSBuZXcgQm91bmQoJHRoaXMtPnZlcnNpb24sIHRydWUpOwpicmVhazsKY2FzZSBzZWxmOjpPUF9HVDoKJHRoaXMtPmxvd2VyQm91bmQgPSBuZXcgQm91bmQoJHRoaXMtPnZlcnNpb24sIGZhbHNlKTsKJHRoaXMtPnVwcGVyQm91bmQgPSBCb3VuZDo6cG9zaXRpdmVJbmZpbml0eSgpOwpicmVhazsKY2FzZSBzZWxmOjpPUF9HRToKJHRoaXMtPmxvd2VyQm91bmQgPSBuZXcgQm91bmQoJHRoaXMtPnZlcnNpb24sIHRydWUpOwokdGhpcy0+dXBwZXJCb3VuZCA9IEJvdW5kOjpwb3NpdGl2ZUluZmluaXR5KCk7CmJyZWFrOwpjYXNlIHNlbGY6Ok9QX05FOgokdGhpcy0+bG93ZXJCb3VuZCA9IEJvdW5kOjp6ZXJvKCk7CiR0aGlzLT51cHBlckJvdW5kID0gQm91bmQ6OnBvc2l0aXZlSW5maW5pdHkoKTsKYnJlYWs7Cn0KfQp9Cjw/cGhwCgoKCgoKCgoKCgpuYW1lc3BhY2UgQ29tcG9zZXJcU2VtdmVyXENvbnN0cmFpbnQ7CgoKCgoKCgppbnRlcmZhY2UgQ29uc3RyYWludEludGVyZmFjZQp7CgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gbWF0Y2hlcyhDb25zdHJhaW50SW50ZXJmYWNlICRwcm92aWRlcik7CgoKCgoKCgoKCgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIGNvbXBpbGUoJG90aGVyT3BlcmF0b3IpOwoKCgoKcHVibGljIGZ1bmN0aW9uIGdldFVwcGVyQm91bmQoKTsKCgoKCnB1YmxpYyBmdW5jdGlvbiBnZXRMb3dlckJvdW5kKCk7CgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0UHJldHR5U3RyaW5nKCk7CgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBzZXRQcmV0dHlTdHJpbmcoJHByZXR0eVN0cmluZyk7CgoKCgpwdWJsaWMgZnVuY3Rpb24gX190b1N0cmluZygpOwp9Cjw/cGhwCgoKCgoKCgoKCgpuYW1lc3BhY2UgQ29tcG9zZXJcU2VtdmVyXENvbnN0cmFpbnQ7CgoKCgoKCmNsYXNzIE1hdGNoQWxsQ29uc3RyYWludCBpbXBsZW1lbnRzIENvbnN0cmFpbnRJbnRlcmZhY2UKewoKcHJvdGVjdGVkICRwcmV0dHlTdHJpbmc7CgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBtYXRjaGVzKENvbnN0cmFpbnRJbnRlcmZhY2UgJHByb3ZpZGVyKQp7CnJldHVybiB0cnVlOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gY29tcGlsZSgkb3RoZXJPcGVyYXRvcikKewpyZXR1cm4gJ3RydWUnOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gc2V0UHJldHR5U3RyaW5nKCRwcmV0dHlTdHJpbmcpCnsKJHRoaXMtPnByZXR0eVN0cmluZyA9ICRwcmV0dHlTdHJpbmc7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBnZXRQcmV0dHlTdHJpbmcoKQp7CmlmICgkdGhpcy0+cHJldHR5U3RyaW5nKSB7CnJldHVybiAkdGhpcy0+cHJldHR5U3RyaW5nOwp9CgpyZXR1cm4gKHN0cmluZykgJHRoaXM7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBfX3RvU3RyaW5nKCkKewpyZXR1cm4gJyonOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0VXBwZXJCb3VuZCgpCnsKcmV0dXJuIEJvdW5kOjpwb3NpdGl2ZUluZmluaXR5KCk7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBnZXRMb3dlckJvdW5kKCkKewpyZXR1cm4gQm91bmQ6Onplcm8oKTsKfQp9Cjw/cGhwCgoKCgoKCgoKCgpuYW1lc3BhY2UgQ29tcG9zZXJcU2VtdmVyXENvbnN0cmFpbnQ7CgoKCgpjbGFzcyBNYXRjaE5vbmVDb25zdHJhaW50IGltcGxlbWVudHMgQ29uc3RyYWludEludGVyZmFjZQp7Cgpwcm90ZWN0ZWQgJHByZXR0eVN0cmluZzsKCgoKCgoKcHVibGljIGZ1bmN0aW9uIG1hdGNoZXMoQ29uc3RyYWludEludGVyZmFjZSAkcHJvdmlkZXIpCnsKcmV0dXJuIGZhbHNlOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gY29tcGlsZSgkb3RoZXJPcGVyYXRvcikKewpyZXR1cm4gJ2ZhbHNlJzsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIHNldFByZXR0eVN0cmluZygkcHJldHR5U3RyaW5nKQp7CiR0aGlzLT5wcmV0dHlTdHJpbmcgPSAkcHJldHR5U3RyaW5nOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0UHJldHR5U3RyaW5nKCkKewppZiAoJHRoaXMtPnByZXR0eVN0cmluZykgewpyZXR1cm4gJHRoaXMtPnByZXR0eVN0cmluZzsKfQoKcmV0dXJuIChzdHJpbmcpICR0aGlzOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gX190b1N0cmluZygpCnsKcmV0dXJuICdbXSc7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBnZXRVcHBlckJvdW5kKCkKewpyZXR1cm4gbmV3IEJvdW5kKCcwLjAuMC4wLWRldicsIGZhbHNlKTsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIGdldExvd2VyQm91bmQoKQp7CnJldHVybiBuZXcgQm91bmQoJzAuMC4wLjAtZGV2JywgZmFsc2UpOwp9Cn0KPD9waHAKCgoKCgoKCgoKCm5hbWVzcGFjZSBDb21wb3NlclxTZW12ZXJcQ29uc3RyYWludDsKCgoKCmNsYXNzIE11bHRpQ29uc3RyYWludCBpbXBsZW1lbnRzIENvbnN0cmFpbnRJbnRlcmZhY2UKewoKCgoKcHJvdGVjdGVkICRjb25zdHJhaW50czsKCgpwcm90ZWN0ZWQgJHByZXR0eVN0cmluZzsKCgpwcm90ZWN0ZWQgJHN0cmluZzsKCgpwcm90ZWN0ZWQgJGNvbmp1bmN0aXZlOwoKCnByb3RlY3RlZCAkbG93ZXJCb3VuZDsKCgpwcm90ZWN0ZWQgJHVwcGVyQm91bmQ7CgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gX19jb25zdHJ1Y3QoYXJyYXkgJGNvbnN0cmFpbnRzLCAkY29uanVuY3RpdmUgPSB0cnVlKQp7CmlmIChcY291bnQoJGNvbnN0cmFpbnRzKSA8IDIpIHsKdGhyb3cgbmV3IFxJbnZhbGlkQXJndW1lbnRFeGNlcHRpb24oCidNdXN0IHByb3ZpZGUgYXQgbGVhc3QgdHdvIGNvbnN0cmFpbnRzIGZvciBhIE11bHRpQ29uc3RyYWludC4gVXNlICcuCid0aGUgcmVndWxhciBDb25zdHJhaW50IGNsYXNzIGZvciBvbmUgY29uc3RyYWludCBvbmx5IG9yIE1hdGNoQWxsQ29uc3RyYWludCBmb3Igbm9uZS4gWW91IG1heSB1c2UgJy4KJ011bHRpQ29uc3RyYWludDo6Y3JlYXRlKCkgd2hpY2ggb3B0aW1pemVzIGFuZCBoYW5kbGVzIHRob3NlIGNhc2VzIGF1dG9tYXRpY2FsbHkuJwopOwp9CgokdGhpcy0+Y29uc3RyYWludHMgPSAkY29uc3RyYWludHM7CiR0aGlzLT5jb25qdW5jdGl2ZSA9ICRjb25qdW5jdGl2ZTsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIGdldENvbnN0cmFpbnRzKCkKewpyZXR1cm4gJHRoaXMtPmNvbnN0cmFpbnRzOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gaXNDb25qdW5jdGl2ZSgpCnsKcmV0dXJuICR0aGlzLT5jb25qdW5jdGl2ZTsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIGlzRGlzanVuY3RpdmUoKQp7CnJldHVybiAhJHRoaXMtPmNvbmp1bmN0aXZlOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gY29tcGlsZSgkb3RoZXJPcGVyYXRvcikKewokcGFydHMgPSBhcnJheSgpOwpmb3JlYWNoICgkdGhpcy0+Y29uc3RyYWludHMgYXMgJGNvbnN0cmFpbnQpIHsKJGNvZGUgPSAkY29uc3RyYWludC0+Y29tcGlsZSgkb3RoZXJPcGVyYXRvcik7CmlmICgkY29kZSA9PT0gJ3RydWUnKSB7CmlmICghJHRoaXMtPmNvbmp1bmN0aXZlKSB7CnJldHVybiAndHJ1ZSc7Cn0KfSBlbHNlaWYgKCRjb2RlID09PSAnZmFsc2UnKSB7CmlmICgkdGhpcy0+Y29uanVuY3RpdmUpIHsKcmV0dXJuICdmYWxzZSc7Cn0KfSBlbHNlIHsKJHBhcnRzW10gPSAnKCcuJGNvZGUuJyknOwp9Cn0KCmlmICghJHBhcnRzKSB7CnJldHVybiAkdGhpcy0+Y29uanVuY3RpdmUgPyAndHJ1ZScgOiAnZmFsc2UnOwp9CgpyZXR1cm4gJHRoaXMtPmNvbmp1bmN0aXZlID8gaW1wbG9kZSgnJiYnLCAkcGFydHMpIDogaW1wbG9kZSgnfHwnLCAkcGFydHMpOwp9CgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBtYXRjaGVzKENvbnN0cmFpbnRJbnRlcmZhY2UgJHByb3ZpZGVyKQp7CmlmIChmYWxzZSA9PT0gJHRoaXMtPmNvbmp1bmN0aXZlKSB7CmZvcmVhY2ggKCR0aGlzLT5jb25zdHJhaW50cyBhcyAkY29uc3RyYWludCkgewppZiAoJHByb3ZpZGVyLT5tYXRjaGVzKCRjb25zdHJhaW50KSkgewpyZXR1cm4gdHJ1ZTsKfQp9CgpyZXR1cm4gZmFsc2U7Cn0KCgoKCmlmICgkcHJvdmlkZXIgaW5zdGFuY2VvZiBNdWx0aUNvbnN0cmFpbnQgJiYgJHByb3ZpZGVyLT5pc0Rpc2p1bmN0aXZlKCkpIHsKcmV0dXJuICRwcm92aWRlci0+bWF0Y2hlcygkdGhpcyk7Cn0KCmZvcmVhY2ggKCR0aGlzLT5jb25zdHJhaW50cyBhcyAkY29uc3RyYWludCkgewppZiAoISRwcm92aWRlci0+bWF0Y2hlcygkY29uc3RyYWludCkpIHsKcmV0dXJuIGZhbHNlOwp9Cn0KCnJldHVybiB0cnVlOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gc2V0UHJldHR5U3RyaW5nKCRwcmV0dHlTdHJpbmcpCnsKJHRoaXMtPnByZXR0eVN0cmluZyA9ICRwcmV0dHlTdHJpbmc7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBnZXRQcmV0dHlTdHJpbmcoKQp7CmlmICgkdGhpcy0+cHJldHR5U3RyaW5nKSB7CnJldHVybiAkdGhpcy0+cHJldHR5U3RyaW5nOwp9CgpyZXR1cm4gKHN0cmluZykgJHRoaXM7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBfX3RvU3RyaW5nKCkKewppZiAoJHRoaXMtPnN0cmluZyAhPT0gbnVsbCkgewpyZXR1cm4gJHRoaXMtPnN0cmluZzsKfQoKJGNvbnN0cmFpbnRzID0gYXJyYXkoKTsKZm9yZWFjaCAoJHRoaXMtPmNvbnN0cmFpbnRzIGFzICRjb25zdHJhaW50KSB7CiRjb25zdHJhaW50c1tdID0gKHN0cmluZykgJGNvbnN0cmFpbnQ7Cn0KCnJldHVybiAkdGhpcy0+c3RyaW5nID0gJ1snIC4gaW1wbG9kZSgkdGhpcy0+Y29uanVuY3RpdmUgPyAnICcgOiAnIHx8ICcsICRjb25zdHJhaW50cykgLiAnXSc7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBnZXRMb3dlckJvdW5kKCkKewokdGhpcy0+ZXh0cmFjdEJvdW5kcygpOwoKaWYgKG51bGwgPT09ICR0aGlzLT5sb3dlckJvdW5kKSB7CnRocm93IG5ldyBcTG9naWNFeGNlcHRpb24oJ2V4dHJhY3RCb3VuZHMgc2hvdWxkIGhhdmUgcG9wdWxhdGVkIHRoZSBsb3dlckJvdW5kIHByb3BlcnR5Jyk7Cn0KCnJldHVybiAkdGhpcy0+bG93ZXJCb3VuZDsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIGdldFVwcGVyQm91bmQoKQp7CiR0aGlzLT5leHRyYWN0Qm91bmRzKCk7CgppZiAobnVsbCA9PT0gJHRoaXMtPnVwcGVyQm91bmQpIHsKdGhyb3cgbmV3IFxMb2dpY0V4Y2VwdGlvbignZXh0cmFjdEJvdW5kcyBzaG91bGQgaGF2ZSBwb3B1bGF0ZWQgdGhlIHVwcGVyQm91bmQgcHJvcGVydHknKTsKfQoKcmV0dXJuICR0aGlzLT51cHBlckJvdW5kOwp9CgoKCgoKCgoKCgoKCnB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gY3JlYXRlKGFycmF5ICRjb25zdHJhaW50cywgJGNvbmp1bmN0aXZlID0gdHJ1ZSkKewppZiAoMCA9PT0gXGNvdW50KCRjb25zdHJhaW50cykpIHsKcmV0dXJuIG5ldyBNYXRjaEFsbENvbnN0cmFpbnQoKTsKfQoKaWYgKDEgPT09IFxjb3VudCgkY29uc3RyYWludHMpKSB7CnJldHVybiAkY29uc3RyYWludHNbMF07Cn0KCiRvcHRpbWl6ZWQgPSBzZWxmOjpvcHRpbWl6ZUNvbnN0cmFpbnRzKCRjb25zdHJhaW50cywgJGNvbmp1bmN0aXZlKTsKaWYgKCRvcHRpbWl6ZWQgIT09IG51bGwpIHsKbGlzdCgkY29uc3RyYWludHMsICRjb25qdW5jdGl2ZSkgPSAkb3B0aW1pemVkOwppZiAoXGNvdW50KCRjb25zdHJhaW50cykgPT09IDEpIHsKcmV0dXJuICRjb25zdHJhaW50c1swXTsKfQp9CgpyZXR1cm4gbmV3IHNlbGYoJGNvbnN0cmFpbnRzLCAkY29uanVuY3RpdmUpOwp9CgoKCgoKCgoKcHJpdmF0ZSBzdGF0aWMgZnVuY3Rpb24gb3B0aW1pemVDb25zdHJhaW50cyhhcnJheSAkY29uc3RyYWludHMsICRjb25qdW5jdGl2ZSkKewoKCgppZiAoISRjb25qdW5jdGl2ZSkgewokbGVmdCA9ICRjb25zdHJhaW50c1swXTsKJG1lcmdlZENvbnN0cmFpbnRzID0gYXJyYXkoKTsKJG9wdGltaXplZCA9IGZhbHNlOwpmb3IgKCRpID0gMSwgJGwgPSBcY291bnQoJGNvbnN0cmFpbnRzKTsgJGkgPCAkbDsgJGkrKykgewokcmlnaHQgPSAkY29uc3RyYWludHNbJGldOwppZiAoCiRsZWZ0IGluc3RhbmNlb2Ygc2VsZgomJiAkbGVmdC0+Y29uanVuY3RpdmUKJiYgJHJpZ2h0IGluc3RhbmNlb2Ygc2VsZgomJiAkcmlnaHQtPmNvbmp1bmN0aXZlCiYmIFxjb3VudCgkbGVmdC0+Y29uc3RyYWludHMpID09PSAyCiYmIFxjb3VudCgkcmlnaHQtPmNvbnN0cmFpbnRzKSA9PT0gMgomJiAoJGxlZnQwID0gKHN0cmluZykgJGxlZnQtPmNvbnN0cmFpbnRzWzBdKQomJiAkbGVmdDBbMF0gPT09ICc+JyAmJiAkbGVmdDBbMV0gPT09ICc9JwomJiAoJGxlZnQxID0gKHN0cmluZykgJGxlZnQtPmNvbnN0cmFpbnRzWzFdKQomJiAkbGVmdDFbMF0gPT09ICc8JwomJiAoJHJpZ2h0MCA9IChzdHJpbmcpICRyaWdodC0+Y29uc3RyYWludHNbMF0pCiYmICRyaWdodDBbMF0gPT09ICc+JyAmJiAkcmlnaHQwWzFdID09PSAnPScKJiYgKCRyaWdodDEgPSAoc3RyaW5nKSAkcmlnaHQtPmNvbnN0cmFpbnRzWzFdKQomJiAkcmlnaHQxWzBdID09PSAnPCcKJiYgc3Vic3RyKCRsZWZ0MSwgMikgPT09IHN1YnN0cigkcmlnaHQwLCAzKQopIHsKJG9wdGltaXplZCA9IHRydWU7CiRsZWZ0ID0gbmV3IE11bHRpQ29uc3RyYWludCgKYXJyYXkoCiRsZWZ0LT5jb25zdHJhaW50c1swXSwKJHJpZ2h0LT5jb25zdHJhaW50c1sxXSwKKSwKdHJ1ZSk7Cn0gZWxzZSB7CiRtZXJnZWRDb25zdHJhaW50c1tdID0gJGxlZnQ7CiRsZWZ0ID0gJHJpZ2h0Owp9Cn0KaWYgKCRvcHRpbWl6ZWQpIHsKJG1lcmdlZENvbnN0cmFpbnRzW10gPSAkbGVmdDsKcmV0dXJuIGFycmF5KCRtZXJnZWRDb25zdHJhaW50cywgZmFsc2UpOwp9Cn0KCgoKcmV0dXJuIG51bGw7Cn0KCgoKCnByaXZhdGUgZnVuY3Rpb24gZXh0cmFjdEJvdW5kcygpCnsKaWYgKG51bGwgIT09ICR0aGlzLT5sb3dlckJvdW5kKSB7CnJldHVybjsKfQoKZm9yZWFjaCAoJHRoaXMtPmNvbnN0cmFpbnRzIGFzICRjb25zdHJhaW50KSB7CmlmIChudWxsID09PSAkdGhpcy0+bG93ZXJCb3VuZCB8fCBudWxsID09PSAkdGhpcy0+dXBwZXJCb3VuZCkgewokdGhpcy0+bG93ZXJCb3VuZCA9ICRjb25zdHJhaW50LT5nZXRMb3dlckJvdW5kKCk7CiR0aGlzLT51cHBlckJvdW5kID0gJGNvbnN0cmFpbnQtPmdldFVwcGVyQm91bmQoKTsKY29udGludWU7Cn0KCmlmICgkY29uc3RyYWludC0+Z2V0TG93ZXJCb3VuZCgpLT5jb21wYXJlVG8oJHRoaXMtPmxvd2VyQm91bmQsICR0aGlzLT5pc0Nvbmp1bmN0aXZlKCkgPyAnPicgOiAnPCcpKSB7CiR0aGlzLT5sb3dlckJvdW5kID0gJGNvbnN0cmFpbnQtPmdldExvd2VyQm91bmQoKTsKfQoKaWYgKCRjb25zdHJhaW50LT5nZXRVcHBlckJvdW5kKCktPmNvbXBhcmVUbygkdGhpcy0+dXBwZXJCb3VuZCwgJHRoaXMtPmlzQ29uanVuY3RpdmUoKSA/ICc8JyA6ICc+JykpIHsKJHRoaXMtPnVwcGVyQm91bmQgPSAkY29uc3RyYWludC0+Z2V0VXBwZXJCb3VuZCgpOwp9Cn0KfQp9Cjw/cGhwCgoKCgoKCgoKCgpuYW1lc3BhY2UgQ29tcG9zZXJcU2VtdmVyOwoKdXNlIENvbXBvc2VyXFNlbXZlclxDb25zdHJhaW50XENvbnN0cmFpbnQ7CgpjbGFzcyBJbnRlcnZhbAp7Cgpwcml2YXRlICRzdGFydDsKCnByaXZhdGUgJGVuZDsKCnB1YmxpYyBmdW5jdGlvbiBfX2NvbnN0cnVjdChDb25zdHJhaW50ICRzdGFydCwgQ29uc3RyYWludCAkZW5kKQp7CiR0aGlzLT5zdGFydCA9ICRzdGFydDsKJHRoaXMtPmVuZCA9ICRlbmQ7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBnZXRTdGFydCgpCnsKcmV0dXJuICR0aGlzLT5zdGFydDsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIGdldEVuZCgpCnsKcmV0dXJuICR0aGlzLT5lbmQ7Cn0KCgoKCnB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gZnJvbVplcm8oKQp7CnN0YXRpYyAkemVybzsKCmlmIChudWxsID09PSAkemVybykgewokemVybyA9IG5ldyBDb25zdHJhaW50KCc+PScsICcwLjAuMC4wLWRldicpOwp9CgpyZXR1cm4gJHplcm87Cn0KCgoKCnB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gdW50aWxQb3NpdGl2ZUluZmluaXR5KCkKewpzdGF0aWMgJHBvc2l0aXZlSW5maW5pdHk7CgppZiAobnVsbCA9PT0gJHBvc2l0aXZlSW5maW5pdHkpIHsKJHBvc2l0aXZlSW5maW5pdHkgPSBuZXcgQ29uc3RyYWludCgnPCcsIFBIUF9JTlRfTUFYLicuMC4wLjAnKTsKfQoKcmV0dXJuICRwb3NpdGl2ZUluZmluaXR5Owp9CgoKCgpwdWJsaWMgc3RhdGljIGZ1bmN0aW9uIGFueSgpCnsKcmV0dXJuIG5ldyBzZWxmKHNlbGY6OmZyb21aZXJvKCksIHNlbGY6OnVudGlsUG9zaXRpdmVJbmZpbml0eSgpKTsKfQoKCgoKcHVibGljIHN0YXRpYyBmdW5jdGlvbiBhbnlEZXYoKQp7CgpyZXR1cm4gYXJyYXkoJ25hbWVzJyA9PiBhcnJheSgpLCAnZXhjbHVkZScgPT4gdHJ1ZSk7Cn0KCgoKCnB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gbm9EZXYoKQp7CgpyZXR1cm4gYXJyYXkoJ25hbWVzJyA9PiBhcnJheSgpLCAnZXhjbHVkZScgPT4gZmFsc2UpOwp9Cn0KPD9waHAKCgoKCgoKCgoKCm5hbWVzcGFjZSBDb21wb3NlclxTZW12ZXI7Cgp1c2UgQ29tcG9zZXJcU2VtdmVyXENvbnN0cmFpbnRcQ29uc3RyYWludDsKdXNlIENvbXBvc2VyXFNlbXZlclxDb25zdHJhaW50XENvbnN0cmFpbnRJbnRlcmZhY2U7CnVzZSBDb21wb3NlclxTZW12ZXJcQ29uc3RyYWludFxNYXRjaEFsbENvbnN0cmFpbnQ7CnVzZSBDb21wb3NlclxTZW12ZXJcQ29uc3RyYWludFxNYXRjaE5vbmVDb25zdHJhaW50Owp1c2UgQ29tcG9zZXJcU2VtdmVyXENvbnN0cmFpbnRcTXVsdGlDb25zdHJhaW50OwoKCgoKCgoKCgoKCgoKY2xhc3MgSW50ZXJ2YWxzCnsKCgoKcHJpdmF0ZSBzdGF0aWMgJGludGVydmFsc0NhY2hlID0gYXJyYXkoKTsKCgoKCnByaXZhdGUgc3RhdGljICRvcFNvcnRPcmRlciA9IGFycmF5KAonPj0nID0+IC0zLAonPCcgPT4gLTIsCic+JyA9PiAyLAonPD0nID0+IDMsCik7CgoKCgoKCnB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gY2xlYXIoKQp7CnNlbGY6OiRpbnRlcnZhbHNDYWNoZSA9IGFycmF5KCk7Cn0KCgoKCgoKcHVibGljIHN0YXRpYyBmdW5jdGlvbiBpc1N1YnNldE9mKENvbnN0cmFpbnRJbnRlcmZhY2UgJGNhbmRpZGF0ZSwgQ29uc3RyYWludEludGVyZmFjZSAkY29uc3RyYWludCkKewppZiAoJGNvbnN0cmFpbnQgaW5zdGFuY2VvZiBNYXRjaEFsbENvbnN0cmFpbnQpIHsKcmV0dXJuIHRydWU7Cn0KCmlmICgkY2FuZGlkYXRlIGluc3RhbmNlb2YgTWF0Y2hOb25lQ29uc3RyYWludCB8fCAkY29uc3RyYWludCBpbnN0YW5jZW9mIE1hdGNoTm9uZUNvbnN0cmFpbnQpIHsKcmV0dXJuIGZhbHNlOwp9CgokaW50ZXJzZWN0aW9uSW50ZXJ2YWxzID0gc2VsZjo6Z2V0KG5ldyBNdWx0aUNvbnN0cmFpbnQoYXJyYXkoJGNhbmRpZGF0ZSwgJGNvbnN0cmFpbnQpLCB0cnVlKSk7CiRjYW5kaWRhdGVJbnRlcnZhbHMgPSBzZWxmOjpnZXQoJGNhbmRpZGF0ZSk7CmlmIChcY291bnQoJGludGVyc2VjdGlvbkludGVydmFsc1snbnVtZXJpYyddKSAhPT0gXGNvdW50KCRjYW5kaWRhdGVJbnRlcnZhbHNbJ251bWVyaWMnXSkpIHsKcmV0dXJuIGZhbHNlOwp9Cgpmb3JlYWNoICgkaW50ZXJzZWN0aW9uSW50ZXJ2YWxzWydudW1lcmljJ10gYXMgJGluZGV4ID0+ICRpbnRlcnZhbCkgewppZiAoIWlzc2V0KCRjYW5kaWRhdGVJbnRlcnZhbHNbJ251bWVyaWMnXVskaW5kZXhdKSkgewpyZXR1cm4gZmFsc2U7Cn0KCmlmICgoc3RyaW5nKSAkY2FuZGlkYXRlSW50ZXJ2YWxzWydudW1lcmljJ11bJGluZGV4XS0+Z2V0U3RhcnQoKSAhPT0gKHN0cmluZykgJGludGVydmFsLT5nZXRTdGFydCgpKSB7CnJldHVybiBmYWxzZTsKfQoKaWYgKChzdHJpbmcpICRjYW5kaWRhdGVJbnRlcnZhbHNbJ251bWVyaWMnXVskaW5kZXhdLT5nZXRFbmQoKSAhPT0gKHN0cmluZykgJGludGVydmFsLT5nZXRFbmQoKSkgewpyZXR1cm4gZmFsc2U7Cn0KfQoKaWYgKCRpbnRlcnNlY3Rpb25JbnRlcnZhbHNbJ2JyYW5jaGVzJ11bJ2V4Y2x1ZGUnXSAhPT0gJGNhbmRpZGF0ZUludGVydmFsc1snYnJhbmNoZXMnXVsnZXhjbHVkZSddKSB7CnJldHVybiBmYWxzZTsKfQppZiAoXGNvdW50KCRpbnRlcnNlY3Rpb25JbnRlcnZhbHNbJ2JyYW5jaGVzJ11bJ25hbWVzJ10pICE9PSBcY291bnQoJGNhbmRpZGF0ZUludGVydmFsc1snYnJhbmNoZXMnXVsnbmFtZXMnXSkpIHsKcmV0dXJuIGZhbHNlOwp9CmZvcmVhY2ggKCRpbnRlcnNlY3Rpb25JbnRlcnZhbHNbJ2JyYW5jaGVzJ11bJ25hbWVzJ10gYXMgJGluZGV4ID0+ICRuYW1lKSB7CmlmICgkbmFtZSAhPT0gJGNhbmRpZGF0ZUludGVydmFsc1snYnJhbmNoZXMnXVsnbmFtZXMnXVskaW5kZXhdKSB7CnJldHVybiBmYWxzZTsKfQp9CgpyZXR1cm4gdHJ1ZTsKfQoKCgoKCgpwdWJsaWMgc3RhdGljIGZ1bmN0aW9uIGhhdmVJbnRlcnNlY3Rpb25zKENvbnN0cmFpbnRJbnRlcmZhY2UgJGEsIENvbnN0cmFpbnRJbnRlcmZhY2UgJGIpCnsKaWYgKCRhIGluc3RhbmNlb2YgTWF0Y2hBbGxDb25zdHJhaW50IHx8ICRiIGluc3RhbmNlb2YgTWF0Y2hBbGxDb25zdHJhaW50KSB7CnJldHVybiB0cnVlOwp9CgppZiAoJGEgaW5zdGFuY2VvZiBNYXRjaE5vbmVDb25zdHJhaW50IHx8ICRiIGluc3RhbmNlb2YgTWF0Y2hOb25lQ29uc3RyYWludCkgewpyZXR1cm4gZmFsc2U7Cn0KCiRpbnRlcnNlY3Rpb25JbnRlcnZhbHMgPSBzZWxmOjpnZW5lcmF0ZUludGVydmFscyhuZXcgTXVsdGlDb25zdHJhaW50KGFycmF5KCRhLCAkYiksIHRydWUpLCB0cnVlKTsKCnJldHVybiBcY291bnQoJGludGVyc2VjdGlvbkludGVydmFsc1snbnVtZXJpYyddKSA+IDAgfHwgJGludGVyc2VjdGlvbkludGVydmFsc1snYnJhbmNoZXMnXVsnZXhjbHVkZSddIHx8IFxjb3VudCgkaW50ZXJzZWN0aW9uSW50ZXJ2YWxzWydicmFuY2hlcyddWyduYW1lcyddKSA+IDA7Cn0KCgoKCgoKCgoKCgpwdWJsaWMgc3RhdGljIGZ1bmN0aW9uIGNvbXBhY3RDb25zdHJhaW50KENvbnN0cmFpbnRJbnRlcmZhY2UgJGNvbnN0cmFpbnQpCnsKaWYgKCEkY29uc3RyYWludCBpbnN0YW5jZW9mIE11bHRpQ29uc3RyYWludCkgewpyZXR1cm4gJGNvbnN0cmFpbnQ7Cn0KCiRpbnRlcnZhbHMgPSBzZWxmOjpnZW5lcmF0ZUludGVydmFscygkY29uc3RyYWludCk7CiRjb25zdHJhaW50cyA9IGFycmF5KCk7CiRoYXNOdW1lcmljTWF0Y2hBbGwgPSBmYWxzZTsKCmlmIChcY291bnQoJGludGVydmFsc1snbnVtZXJpYyddKSA9PT0gMSAmJiAoc3RyaW5nKSAkaW50ZXJ2YWxzWydudW1lcmljJ11bMF0tPmdldFN0YXJ0KCkgPT09IChzdHJpbmcpIEludGVydmFsOjpmcm9tWmVybygpICYmIChzdHJpbmcpICRpbnRlcnZhbHNbJ251bWVyaWMnXVswXS0+Z2V0RW5kKCkgPT09IChzdHJpbmcpIEludGVydmFsOjp1bnRpbFBvc2l0aXZlSW5maW5pdHkoKSkgewokY29uc3RyYWludHNbXSA9ICRpbnRlcnZhbHNbJ251bWVyaWMnXVswXS0+Z2V0U3RhcnQoKTsKJGhhc051bWVyaWNNYXRjaEFsbCA9IHRydWU7Cn0gZWxzZSB7CiR1bkVxdWFsQ29uc3RyYWludHMgPSBhcnJheSgpOwpmb3IgKCRpID0gMCwgJGNvdW50ID0gXGNvdW50KCRpbnRlcnZhbHNbJ251bWVyaWMnXSk7ICRpIDwgJGNvdW50OyAkaSsrKSB7CiRpbnRlcnZhbCA9ICRpbnRlcnZhbHNbJ251bWVyaWMnXVskaV07CgoKCgoKaWYgKCRpbnRlcnZhbC0+Z2V0RW5kKCktPmdldE9wZXJhdG9yKCkgPT09ICc8JyAmJiAkaSsxIDwgJGNvdW50KSB7CiRuZXh0SW50ZXJ2YWwgPSAkaW50ZXJ2YWxzWydudW1lcmljJ11bJGkrMV07CmlmICgkaW50ZXJ2YWwtPmdldEVuZCgpLT5nZXRWZXJzaW9uKCkgPT09ICRuZXh0SW50ZXJ2YWwtPmdldFN0YXJ0KCktPmdldFZlcnNpb24oKSAmJiAkbmV4dEludGVydmFsLT5nZXRTdGFydCgpLT5nZXRPcGVyYXRvcigpID09PSAnPicpIHsKCgoKaWYgKFxjb3VudCgkdW5FcXVhbENvbnN0cmFpbnRzKSA9PT0gMCAmJiAoc3RyaW5nKSAkaW50ZXJ2YWwtPmdldFN0YXJ0KCkgIT09IChzdHJpbmcpIEludGVydmFsOjpmcm9tWmVybygpKSB7CiR1bkVxdWFsQ29uc3RyYWludHNbXSA9ICRpbnRlcnZhbC0+Z2V0U3RhcnQoKTsKfQokdW5FcXVhbENvbnN0cmFpbnRzW10gPSBuZXcgQ29uc3RyYWludCgnIT0nLCAkaW50ZXJ2YWwtPmdldEVuZCgpLT5nZXRWZXJzaW9uKCkpOwpjb250aW51ZTsKfQp9CgppZiAoXGNvdW50KCR1bkVxdWFsQ29uc3RyYWludHMpID4gMCkgewoKaWYgKChzdHJpbmcpICRpbnRlcnZhbC0+Z2V0RW5kKCkgIT09IChzdHJpbmcpIEludGVydmFsOjp1bnRpbFBvc2l0aXZlSW5maW5pdHkoKSkgewokdW5FcXVhbENvbnN0cmFpbnRzW10gPSAkaW50ZXJ2YWwtPmdldEVuZCgpOwp9CgoKaWYgKFxjb3VudCgkdW5FcXVhbENvbnN0cmFpbnRzKSA+IDEpIHsKJGNvbnN0cmFpbnRzW10gPSBuZXcgTXVsdGlDb25zdHJhaW50KCR1bkVxdWFsQ29uc3RyYWludHMsIHRydWUpOwp9IGVsc2UgewokY29uc3RyYWludHNbXSA9ICR1bkVxdWFsQ29uc3RyYWludHNbMF07Cn0KCiR1bkVxdWFsQ29uc3RyYWludHMgPSBhcnJheSgpOwpjb250aW51ZTsKfQoKCmlmICgkaW50ZXJ2YWwtPmdldFN0YXJ0KCktPmdldFZlcnNpb24oKSA9PT0gJGludGVydmFsLT5nZXRFbmQoKS0+Z2V0VmVyc2lvbigpICYmICRpbnRlcnZhbC0+Z2V0U3RhcnQoKS0+Z2V0T3BlcmF0b3IoKSA9PT0gJz49JyAmJiAkaW50ZXJ2YWwtPmdldEVuZCgpLT5nZXRPcGVyYXRvcigpID09PSAnPD0nKSB7CiRjb25zdHJhaW50c1tdID0gbmV3IENvbnN0cmFpbnQoJz09JywgJGludGVydmFsLT5nZXRTdGFydCgpLT5nZXRWZXJzaW9uKCkpOwpjb250aW51ZTsKfQoKaWYgKChzdHJpbmcpICRpbnRlcnZhbC0+Z2V0U3RhcnQoKSA9PT0gKHN0cmluZykgSW50ZXJ2YWw6OmZyb21aZXJvKCkpIHsKJGNvbnN0cmFpbnRzW10gPSAkaW50ZXJ2YWwtPmdldEVuZCgpOwp9IGVsc2VpZiAoKHN0cmluZykgJGludGVydmFsLT5nZXRFbmQoKSA9PT0gKHN0cmluZykgSW50ZXJ2YWw6OnVudGlsUG9zaXRpdmVJbmZpbml0eSgpKSB7CiRjb25zdHJhaW50c1tdID0gJGludGVydmFsLT5nZXRTdGFydCgpOwp9IGVsc2UgewokY29uc3RyYWludHNbXSA9IG5ldyBNdWx0aUNvbnN0cmFpbnQoYXJyYXkoJGludGVydmFsLT5nZXRTdGFydCgpLCAkaW50ZXJ2YWwtPmdldEVuZCgpKSwgdHJ1ZSk7Cn0KfQp9CgokZGV2Q29uc3RyYWludHMgPSBhcnJheSgpOwoKaWYgKDAgPT09IFxjb3VudCgkaW50ZXJ2YWxzWydicmFuY2hlcyddWyduYW1lcyddKSkgewppZiAoJGludGVydmFsc1snYnJhbmNoZXMnXVsnZXhjbHVkZSddKSB7CmlmICgkaGFzTnVtZXJpY01hdGNoQWxsKSB7CnJldHVybiBuZXcgTWF0Y2hBbGxDb25zdHJhaW50Owp9Cgp9Cn0gZWxzZSB7CmZvcmVhY2ggKCRpbnRlcnZhbHNbJ2JyYW5jaGVzJ11bJ25hbWVzJ10gYXMgJGJyYW5jaE5hbWUpIHsKaWYgKCRpbnRlcnZhbHNbJ2JyYW5jaGVzJ11bJ2V4Y2x1ZGUnXSkgewokZGV2Q29uc3RyYWludHNbXSA9IG5ldyBDb25zdHJhaW50KCchPScsICRicmFuY2hOYW1lKTsKfSBlbHNlIHsKJGRldkNvbnN0cmFpbnRzW10gPSBuZXcgQ29uc3RyYWludCgnPT0nLCAkYnJhbmNoTmFtZSk7Cn0KfQoKCgppZiAoJGludGVydmFsc1snYnJhbmNoZXMnXVsnZXhjbHVkZSddKSB7CmlmIChcY291bnQoJGNvbnN0cmFpbnRzKSA+IDEpIHsKcmV0dXJuIG5ldyBNdWx0aUNvbnN0cmFpbnQoYXJyYXlfbWVyZ2UoCmFycmF5KG5ldyBNdWx0aUNvbnN0cmFpbnQoJGNvbnN0cmFpbnRzLCBmYWxzZSkpLAokZGV2Q29uc3RyYWludHMKKSwgdHJ1ZSk7Cn0KCmlmIChcY291bnQoJGNvbnN0cmFpbnRzKSA9PT0gMSAmJiAoc3RyaW5nKSRjb25zdHJhaW50c1swXSA9PT0gKHN0cmluZylJbnRlcnZhbDo6ZnJvbVplcm8oKSkgewppZiAoXGNvdW50KCRkZXZDb25zdHJhaW50cykgPiAxKSB7CnJldHVybiBuZXcgTXVsdGlDb25zdHJhaW50KCRkZXZDb25zdHJhaW50cywgdHJ1ZSk7Cn0KcmV0dXJuICRkZXZDb25zdHJhaW50c1swXTsKfQoKcmV0dXJuIG5ldyBNdWx0aUNvbnN0cmFpbnQoYXJyYXlfbWVyZ2UoJGNvbnN0cmFpbnRzLCAkZGV2Q29uc3RyYWludHMpLCB0cnVlKTsKfQoKCgokY29uc3RyYWludHMgPSBhcnJheV9tZXJnZSgkY29uc3RyYWludHMsICRkZXZDb25zdHJhaW50cyk7Cn0KCmlmIChcY291bnQoJGNvbnN0cmFpbnRzKSA+IDEpIHsKcmV0dXJuIG5ldyBNdWx0aUNvbnN0cmFpbnQoJGNvbnN0cmFpbnRzLCBmYWxzZSk7Cn0KCmlmIChcY291bnQoJGNvbnN0cmFpbnRzKSA9PT0gMSkgewpyZXR1cm4gJGNvbnN0cmFpbnRzWzBdOwp9CgpyZXR1cm4gbmV3IE1hdGNoTm9uZUNvbnN0cmFpbnQ7Cn0KCgoKCgoKCgoKCgpwdWJsaWMgc3RhdGljIGZ1bmN0aW9uIGdldChDb25zdHJhaW50SW50ZXJmYWNlICRjb25zdHJhaW50KQp7CiRrZXkgPSAoc3RyaW5nKSAkY29uc3RyYWludDsKCmlmICghaXNzZXQoc2VsZjo6JGludGVydmFsc0NhY2hlWyRrZXldKSkgewpzZWxmOjokaW50ZXJ2YWxzQ2FjaGVbJGtleV0gPSBzZWxmOjpnZW5lcmF0ZUludGVydmFscygkY29uc3RyYWludCk7Cn0KCnJldHVybiBzZWxmOjokaW50ZXJ2YWxzQ2FjaGVbJGtleV07Cn0KCgoKCgoKcHJpdmF0ZSBzdGF0aWMgZnVuY3Rpb24gZ2VuZXJhdGVJbnRlcnZhbHMoQ29uc3RyYWludEludGVyZmFjZSAkY29uc3RyYWludCwgJHN0b3BPbkZpcnN0VmFsaWRJbnRlcnZhbCA9IGZhbHNlKQp7CmlmICgkY29uc3RyYWludCBpbnN0YW5jZW9mIE1hdGNoQWxsQ29uc3RyYWludCkgewpyZXR1cm4gYXJyYXkoJ251bWVyaWMnID0+IGFycmF5KG5ldyBJbnRlcnZhbChJbnRlcnZhbDo6ZnJvbVplcm8oKSwgSW50ZXJ2YWw6OnVudGlsUG9zaXRpdmVJbmZpbml0eSgpKSksICdicmFuY2hlcycgPT4gSW50ZXJ2YWw6OmFueURldigpKTsKfQoKaWYgKCRjb25zdHJhaW50IGluc3RhbmNlb2YgTWF0Y2hOb25lQ29uc3RyYWludCkgewpyZXR1cm4gYXJyYXkoJ251bWVyaWMnID0+IGFycmF5KCksICdicmFuY2hlcycgPT4gYXJyYXkoJ25hbWVzJyA9PiBhcnJheSgpLCAnZXhjbHVkZScgPT4gZmFsc2UpKTsKfQoKaWYgKCRjb25zdHJhaW50IGluc3RhbmNlb2YgQ29uc3RyYWludCkgewpyZXR1cm4gc2VsZjo6Z2VuZXJhdGVTaW5nbGVDb25zdHJhaW50SW50ZXJ2YWxzKCRjb25zdHJhaW50KTsKfQoKaWYgKCEkY29uc3RyYWludCBpbnN0YW5jZW9mIE11bHRpQ29uc3RyYWludCkgewp0aHJvdyBuZXcgXFVuZXhwZWN0ZWRWYWx1ZUV4Y2VwdGlvbignVGhlIGNvbnN0cmFpbnQgcGFzc2VkIGluIHNob3VsZCBiZSBhbiBNYXRjaEFsbENvbnN0cmFpbnQsIENvbnN0cmFpbnQgb3IgTXVsdGlDb25zdHJhaW50IGluc3RhbmNlLCBnb3QgJy5cZ2V0X2NsYXNzKCRjb25zdHJhaW50KS4nLicpOwp9CgokY29uc3RyYWludHMgPSAkY29uc3RyYWludC0+Z2V0Q29uc3RyYWludHMoKTsKCiRudW1lcmljR3JvdXBzID0gYXJyYXkoKTsKJGNvbnN0cmFpbnRCcmFuY2hlcyA9IGFycmF5KCk7CmZvcmVhY2ggKCRjb25zdHJhaW50cyBhcyAkYykgewokcmVzID0gc2VsZjo6Z2V0KCRjKTsKJG51bWVyaWNHcm91cHNbXSA9ICRyZXNbJ251bWVyaWMnXTsKJGNvbnN0cmFpbnRCcmFuY2hlc1tdID0gJHJlc1snYnJhbmNoZXMnXTsKfQoKaWYgKCRjb25zdHJhaW50LT5pc0Rpc2p1bmN0aXZlKCkpIHsKJGJyYW5jaGVzID0gSW50ZXJ2YWw6Om5vRGV2KCk7CmZvcmVhY2ggKCRjb25zdHJhaW50QnJhbmNoZXMgYXMgJGIpIHsKaWYgKCRiWydleGNsdWRlJ10pIHsKaWYgKCRicmFuY2hlc1snZXhjbHVkZSddKSB7CgoKJGJyYW5jaGVzWyduYW1lcyddID0gYXJyYXlfaW50ZXJzZWN0KCRicmFuY2hlc1snbmFtZXMnXSwgJGJbJ25hbWVzJ10pOwp9IGVsc2UgewoKCiRicmFuY2hlc1snZXhjbHVkZSddID0gdHJ1ZTsKJGJyYW5jaGVzWyduYW1lcyddID0gYXJyYXlfZGlmZigkYlsnbmFtZXMnXSwgJGJyYW5jaGVzWyduYW1lcyddKTsKfQp9IGVsc2UgewppZiAoJGJyYW5jaGVzWydleGNsdWRlJ10pIHsKCgokYnJhbmNoZXNbJ25hbWVzJ10gPSBhcnJheV9kaWZmKCRicmFuY2hlc1snbmFtZXMnXSwgJGJbJ25hbWVzJ10pOwp9IGVsc2UgewoKCiRicmFuY2hlc1snbmFtZXMnXSA9IGFycmF5X21lcmdlKCRicmFuY2hlc1snbmFtZXMnXSwgJGJbJ25hbWVzJ10pOwp9Cn0KfQp9IGVsc2UgewokYnJhbmNoZXMgPSBJbnRlcnZhbDo6YW55RGV2KCk7CmZvcmVhY2ggKCRjb25zdHJhaW50QnJhbmNoZXMgYXMgJGIpIHsKaWYgKCRiWydleGNsdWRlJ10pIHsKaWYgKCRicmFuY2hlc1snZXhjbHVkZSddKSB7CgoKJGJyYW5jaGVzWyduYW1lcyddID0gYXJyYXlfbWVyZ2UoJGJyYW5jaGVzWyduYW1lcyddLCAkYlsnbmFtZXMnXSk7Cn0gZWxzZSB7CgoKJGJyYW5jaGVzWyduYW1lcyddID0gYXJyYXlfZGlmZigkYnJhbmNoZXNbJ25hbWVzJ10sICRiWyduYW1lcyddKTsKfQp9IGVsc2UgewppZiAoJGJyYW5jaGVzWydleGNsdWRlJ10pIHsKCgokYnJhbmNoZXNbJ25hbWVzJ10gPSBhcnJheV9kaWZmKCRiWyduYW1lcyddLCAkYnJhbmNoZXNbJ25hbWVzJ10pOwokYnJhbmNoZXNbJ2V4Y2x1ZGUnXSA9IGZhbHNlOwp9IGVsc2UgewoKCiRicmFuY2hlc1snbmFtZXMnXSA9IGFycmF5X2ludGVyc2VjdCgkYnJhbmNoZXNbJ25hbWVzJ10sICRiWyduYW1lcyddKTsKfQp9Cn0KfQoKJGJyYW5jaGVzWyduYW1lcyddID0gYXJyYXlfdW5pcXVlKCRicmFuY2hlc1snbmFtZXMnXSk7CgppZiAoXGNvdW50KCRudW1lcmljR3JvdXBzKSA9PT0gMSkgewpyZXR1cm4gYXJyYXkoJ251bWVyaWMnID0+ICRudW1lcmljR3JvdXBzWzBdLCAnYnJhbmNoZXMnID0+ICRicmFuY2hlcyk7Cn0KCiRib3JkZXJzID0gYXJyYXkoKTsKZm9yZWFjaCAoJG51bWVyaWNHcm91cHMgYXMgJGdyb3VwKSB7CmZvcmVhY2ggKCRncm91cCBhcyAkaW50ZXJ2YWwpIHsKJGJvcmRlcnNbXSA9IGFycmF5KCd2ZXJzaW9uJyA9PiAkaW50ZXJ2YWwtPmdldFN0YXJ0KCktPmdldFZlcnNpb24oKSwgJ29wZXJhdG9yJyA9PiAkaW50ZXJ2YWwtPmdldFN0YXJ0KCktPmdldE9wZXJhdG9yKCksICdzaWRlJyA9PiAnc3RhcnQnKTsKJGJvcmRlcnNbXSA9IGFycmF5KCd2ZXJzaW9uJyA9PiAkaW50ZXJ2YWwtPmdldEVuZCgpLT5nZXRWZXJzaW9uKCksICdvcGVyYXRvcicgPT4gJGludGVydmFsLT5nZXRFbmQoKS0+Z2V0T3BlcmF0b3IoKSwgJ3NpZGUnID0+ICdlbmQnKTsKfQp9Cgokb3BTb3J0T3JkZXIgPSBzZWxmOjokb3BTb3J0T3JkZXI7CnVzb3J0KCRib3JkZXJzLCBmdW5jdGlvbiAoJGEsICRiKSB1c2UgKCRvcFNvcnRPcmRlcikgewokb3JkZXIgPSB2ZXJzaW9uX2NvbXBhcmUoJGFbJ3ZlcnNpb24nXSwgJGJbJ3ZlcnNpb24nXSk7CmlmICgkb3JkZXIgPT09IDApIHsKcmV0dXJuICRvcFNvcnRPcmRlclskYVsnb3BlcmF0b3InXV0gLSAkb3BTb3J0T3JkZXJbJGJbJ29wZXJhdG9yJ11dOwp9CgpyZXR1cm4gJG9yZGVyOwp9KTsKCiRhY3RpdmVJbnRlcnZhbHMgPSAwOwokaW50ZXJ2YWxzID0gYXJyYXkoKTsKJGluZGV4ID0gMDsKJGFjdGl2YXRpb25UaHJlc2hvbGQgPSAkY29uc3RyYWludC0+aXNDb25qdW5jdGl2ZSgpID8gXGNvdW50KCRudW1lcmljR3JvdXBzKSA6IDE7CiRzdGFydCA9IG51bGw7CmZvcmVhY2ggKCRib3JkZXJzIGFzICRib3JkZXIpIHsKaWYgKCRib3JkZXJbJ3NpZGUnXSA9PT0gJ3N0YXJ0JykgewokYWN0aXZlSW50ZXJ2YWxzKys7Cn0gZWxzZSB7CiRhY3RpdmVJbnRlcnZhbHMtLTsKfQppZiAoISRzdGFydCAmJiAkYWN0aXZlSW50ZXJ2YWxzID49ICRhY3RpdmF0aW9uVGhyZXNob2xkKSB7CiRzdGFydCA9IG5ldyBDb25zdHJhaW50KCRib3JkZXJbJ29wZXJhdG9yJ10sICRib3JkZXJbJ3ZlcnNpb24nXSk7Cn0gZWxzZWlmICgkc3RhcnQgJiYgJGFjdGl2ZUludGVydmFscyA8ICRhY3RpdmF0aW9uVGhyZXNob2xkKSB7CgppZiAoCnZlcnNpb25fY29tcGFyZSgkc3RhcnQtPmdldFZlcnNpb24oKSwgJGJvcmRlclsndmVyc2lvbiddLCAnPScpCiYmICgKKCRzdGFydC0+Z2V0T3BlcmF0b3IoKSA9PT0gJz4nICYmICRib3JkZXJbJ29wZXJhdG9yJ10gPT09ICc8PScpCnx8ICgkc3RhcnQtPmdldE9wZXJhdG9yKCkgPT09ICc+PScgJiYgJGJvcmRlclsnb3BlcmF0b3InXSA9PT0gJzwnKQopCikgewp1bnNldCgkaW50ZXJ2YWxzWyRpbmRleF0pOwp9IGVsc2UgewokaW50ZXJ2YWxzWyRpbmRleF0gPSBuZXcgSW50ZXJ2YWwoJHN0YXJ0LCBuZXcgQ29uc3RyYWludCgkYm9yZGVyWydvcGVyYXRvciddLCAkYm9yZGVyWyd2ZXJzaW9uJ10pKTsKJGluZGV4Kys7CgppZiAoJHN0b3BPbkZpcnN0VmFsaWRJbnRlcnZhbCkgewpicmVhazsKfQp9Cgokc3RhcnQgPSBudWxsOwp9Cn0KCnJldHVybiBhcnJheSgnbnVtZXJpYycgPT4gJGludGVydmFscywgJ2JyYW5jaGVzJyA9PiAkYnJhbmNoZXMpOwp9CgoKCgpwcml2YXRlIHN0YXRpYyBmdW5jdGlvbiBnZW5lcmF0ZVNpbmdsZUNvbnN0cmFpbnRJbnRlcnZhbHMoQ29uc3RyYWludCAkY29uc3RyYWludCkKewokb3AgPSAkY29uc3RyYWludC0+Z2V0T3BlcmF0b3IoKTsKCgppZiAoc3RycG9zKCRjb25zdHJhaW50LT5nZXRWZXJzaW9uKCksICdkZXYtJykgPT09IDApIHsKJGludGVydmFscyA9IGFycmF5KCk7CiRicmFuY2hlcyA9IGFycmF5KCduYW1lcycgPT4gYXJyYXkoKSwgJ2V4Y2x1ZGUnID0+IGZhbHNlKTsKCgppZiAoJG9wID09PSAnIT0nKSB7CiRpbnRlcnZhbHNbXSA9IG5ldyBJbnRlcnZhbChJbnRlcnZhbDo6ZnJvbVplcm8oKSwgSW50ZXJ2YWw6OnVudGlsUG9zaXRpdmVJbmZpbml0eSgpKTsKJGJyYW5jaGVzID0gYXJyYXkoJ25hbWVzJyA9PiBhcnJheSgkY29uc3RyYWludC0+Z2V0VmVyc2lvbigpKSwgJ2V4Y2x1ZGUnID0+IHRydWUpOwp9IGVsc2VpZiAoJG9wID09PSAnPT0nKSB7CiRicmFuY2hlc1snbmFtZXMnXVtdID0gJGNvbnN0cmFpbnQtPmdldFZlcnNpb24oKTsKfQoKcmV0dXJuIGFycmF5KAonbnVtZXJpYycgPT4gJGludGVydmFscywKJ2JyYW5jaGVzJyA9PiAkYnJhbmNoZXMsCik7Cn0KCmlmICgkb3BbMF0gPT09ICc+JykgeyAKcmV0dXJuIGFycmF5KCdudW1lcmljJyA9PiBhcnJheShuZXcgSW50ZXJ2YWwoJGNvbnN0cmFpbnQsIEludGVydmFsOjp1bnRpbFBvc2l0aXZlSW5maW5pdHkoKSkpLCAnYnJhbmNoZXMnID0+IEludGVydmFsOjpub0RldigpKTsKfQppZiAoJG9wWzBdID09PSAnPCcpIHsgCnJldHVybiBhcnJheSgnbnVtZXJpYycgPT4gYXJyYXkobmV3IEludGVydmFsKEludGVydmFsOjpmcm9tWmVybygpLCAkY29uc3RyYWludCkpLCAnYnJhbmNoZXMnID0+IEludGVydmFsOjpub0RldigpKTsKfQppZiAoJG9wID09PSAnIT0nKSB7CgpyZXR1cm4gYXJyYXkoJ251bWVyaWMnID0+IGFycmF5KApuZXcgSW50ZXJ2YWwoSW50ZXJ2YWw6OmZyb21aZXJvKCksIG5ldyBDb25zdHJhaW50KCc8JywgJGNvbnN0cmFpbnQtPmdldFZlcnNpb24oKSkpLApuZXcgSW50ZXJ2YWwobmV3IENvbnN0cmFpbnQoJz4nLCAkY29uc3RyYWludC0+Z2V0VmVyc2lvbigpKSwgSW50ZXJ2YWw6OnVudGlsUG9zaXRpdmVJbmZpbml0eSgpKSwKKSwgJ2JyYW5jaGVzJyA9PiBJbnRlcnZhbDo6YW55RGV2KCkpOwp9CgoKcmV0dXJuIGFycmF5KCdudW1lcmljJyA9PiBhcnJheSgKbmV3IEludGVydmFsKG5ldyBDb25zdHJhaW50KCc+PScsICRjb25zdHJhaW50LT5nZXRWZXJzaW9uKCkpLCBuZXcgQ29uc3RyYWludCgnPD0nLCAkY29uc3RyYWludC0+Z2V0VmVyc2lvbigpKSksCiksICdicmFuY2hlcycgPT4gSW50ZXJ2YWw6Om5vRGV2KCkpOwp9Cn0KPD9waHAKCgoKCgoKCgoKCm5hbWVzcGFjZSBDb21wb3NlclxTZW12ZXI7Cgp1c2UgQ29tcG9zZXJcU2VtdmVyXENvbnN0cmFpbnRcQ29uc3RyYWludDsKCmNsYXNzIFNlbXZlcgp7CmNvbnN0IFNPUlRfQVNDID0gMTsKY29uc3QgU09SVF9ERVNDID0gLTE7CgoKcHJpdmF0ZSBzdGF0aWMgJHZlcnNpb25QYXJzZXI7CgoKCgoKCgoKCnB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gc2F0aXNmaWVzKCR2ZXJzaW9uLCAkY29uc3RyYWludHMpCnsKaWYgKG51bGwgPT09IHNlbGY6OiR2ZXJzaW9uUGFyc2VyKSB7CnNlbGY6OiR2ZXJzaW9uUGFyc2VyID0gbmV3IFZlcnNpb25QYXJzZXIoKTsKfQoKJHZlcnNpb25QYXJzZXIgPSBzZWxmOjokdmVyc2lvblBhcnNlcjsKJHByb3ZpZGVyID0gbmV3IENvbnN0cmFpbnQoJz09JywgJHZlcnNpb25QYXJzZXItPm5vcm1hbGl6ZSgkdmVyc2lvbikpOwokcGFyc2VkQ29uc3RyYWludHMgPSAkdmVyc2lvblBhcnNlci0+cGFyc2VDb25zdHJhaW50cygkY29uc3RyYWludHMpOwoKcmV0dXJuICRwYXJzZWRDb25zdHJhaW50cy0+bWF0Y2hlcygkcHJvdmlkZXIpOwp9CgoKCgoKCgoKCnB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gc2F0aXNmaWVkQnkoYXJyYXkgJHZlcnNpb25zLCAkY29uc3RyYWludHMpCnsKJHZlcnNpb25zID0gYXJyYXlfZmlsdGVyKCR2ZXJzaW9ucywgZnVuY3Rpb24gKCR2ZXJzaW9uKSB1c2UgKCRjb25zdHJhaW50cykgewpyZXR1cm4gU2VtdmVyOjpzYXRpc2ZpZXMoJHZlcnNpb24sICRjb25zdHJhaW50cyk7Cn0pOwoKcmV0dXJuIGFycmF5X3ZhbHVlcygkdmVyc2lvbnMpOwp9CgoKCgoKCgoKcHVibGljIHN0YXRpYyBmdW5jdGlvbiBzb3J0KGFycmF5ICR2ZXJzaW9ucykKewpyZXR1cm4gc2VsZjo6dXNvcnQoJHZlcnNpb25zLCBzZWxmOjpTT1JUX0FTQyk7Cn0KCgoKCgoKCgpwdWJsaWMgc3RhdGljIGZ1bmN0aW9uIHJzb3J0KGFycmF5ICR2ZXJzaW9ucykKewpyZXR1cm4gc2VsZjo6dXNvcnQoJHZlcnNpb25zLCBzZWxmOjpTT1JUX0RFU0MpOwp9CgoKCgoKCgpwcml2YXRlIHN0YXRpYyBmdW5jdGlvbiB1c29ydChhcnJheSAkdmVyc2lvbnMsICRkaXJlY3Rpb24pCnsKaWYgKG51bGwgPT09IHNlbGY6OiR2ZXJzaW9uUGFyc2VyKSB7CnNlbGY6OiR2ZXJzaW9uUGFyc2VyID0gbmV3IFZlcnNpb25QYXJzZXIoKTsKfQoKJHZlcnNpb25QYXJzZXIgPSBzZWxmOjokdmVyc2lvblBhcnNlcjsKJG5vcm1hbGl6ZWQgPSBhcnJheSgpOwoKCgpmb3JlYWNoICgkdmVyc2lvbnMgYXMgJGtleSA9PiAkdmVyc2lvbikgewokbm9ybWFsaXplZFZlcnNpb24gPSAkdmVyc2lvblBhcnNlci0+bm9ybWFsaXplKCR2ZXJzaW9uKTsKJG5vcm1hbGl6ZWRWZXJzaW9uID0gJHZlcnNpb25QYXJzZXItPm5vcm1hbGl6ZURlZmF1bHRCcmFuY2goJG5vcm1hbGl6ZWRWZXJzaW9uKTsKJG5vcm1hbGl6ZWRbXSA9IGFycmF5KCRub3JtYWxpemVkVmVyc2lvbiwgJGtleSk7Cn0KCnVzb3J0KCRub3JtYWxpemVkLCBmdW5jdGlvbiAoYXJyYXkgJGxlZnQsIGFycmF5ICRyaWdodCkgdXNlICgkZGlyZWN0aW9uKSB7CmlmICgkbGVmdFswXSA9PT0gJHJpZ2h0WzBdKSB7CnJldHVybiAwOwp9CgppZiAoQ29tcGFyYXRvcjo6bGVzc1RoYW4oJGxlZnRbMF0sICRyaWdodFswXSkpIHsKcmV0dXJuIC0kZGlyZWN0aW9uOwp9CgpyZXR1cm4gJGRpcmVjdGlvbjsKfSk7CgoKJHNvcnRlZCA9IGFycmF5KCk7CmZvcmVhY2ggKCRub3JtYWxpemVkIGFzICRpdGVtKSB7CiRzb3J0ZWRbXSA9ICR2ZXJzaW9uc1skaXRlbVsxXV07Cn0KCnJldHVybiAkc29ydGVkOwp9Cn0KPD9waHAKCgoKCgoKCgoKCm5hbWVzcGFjZSBDb21wb3NlclxTZW12ZXI7Cgp1c2UgQ29tcG9zZXJcU2VtdmVyXENvbnN0cmFpbnRcQ29uc3RyYWludEludGVyZmFjZTsKdXNlIENvbXBvc2VyXFNlbXZlclxDb25zdHJhaW50XE1hdGNoQWxsQ29uc3RyYWludDsKdXNlIENvbXBvc2VyXFNlbXZlclxDb25zdHJhaW50XE11bHRpQ29uc3RyYWludDsKdXNlIENvbXBvc2VyXFNlbXZlclxDb25zdHJhaW50XENvbnN0cmFpbnQ7CgoKCgoKCmNsYXNzIFZlcnNpb25QYXJzZXIKewoKCgoKCgoKCgoKCgoKcHJpdmF0ZSBzdGF0aWMgJG1vZGlmaWVyUmVnZXggPSAnWy5fLV0/KD86KHN0YWJsZXxiZXRhfGJ8UkN8YWxwaGF8YXxwYXRjaHxwbHxwKSgoPzpbLi1dP1xkKykqKyk/KT8oWy4tXT9kZXYpPyc7CgoKcHJpdmF0ZSBzdGF0aWMgJHN0YWJpbGl0aWVzUmVnZXggPSAnc3RhYmxlfFJDfGJldGF8YWxwaGF8ZGV2JzsKCgoKCgoKCgpwdWJsaWMgc3RhdGljIGZ1bmN0aW9uIHBhcnNlU3RhYmlsaXR5KCR2ZXJzaW9uKQp7CiR2ZXJzaW9uID0gKHN0cmluZykgcHJlZ19yZXBsYWNlKCd7Iy4rJH0nLCAnJywgJHZlcnNpb24pOwoKaWYgKHN0cnBvcygkdmVyc2lvbiwgJ2Rldi0nKSA9PT0gMCB8fCAnLWRldicgPT09IHN1YnN0cigkdmVyc2lvbiwgLTQpKSB7CnJldHVybiAnZGV2JzsKfQoKcHJlZ19tYXRjaCgneycgLiBzZWxmOjokbW9kaWZpZXJSZWdleCAuICcoPzpcKy4qKT8kfWknLCBzdHJ0b2xvd2VyKCR2ZXJzaW9uKSwgJG1hdGNoKTsKCmlmICghZW1wdHkoJG1hdGNoWzNdKSkgewpyZXR1cm4gJ2Rldic7Cn0KCmlmICghZW1wdHkoJG1hdGNoWzFdKSkgewppZiAoJ2JldGEnID09PSAkbWF0Y2hbMV0gfHwgJ2InID09PSAkbWF0Y2hbMV0pIHsKcmV0dXJuICdiZXRhJzsKfQppZiAoJ2FscGhhJyA9PT0gJG1hdGNoWzFdIHx8ICdhJyA9PT0gJG1hdGNoWzFdKSB7CnJldHVybiAnYWxwaGEnOwp9CmlmICgncmMnID09PSAkbWF0Y2hbMV0pIHsKcmV0dXJuICdSQyc7Cn0KfQoKcmV0dXJuICdzdGFibGUnOwp9CgoKCgoKCnB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gbm9ybWFsaXplU3RhYmlsaXR5KCRzdGFiaWxpdHkpCnsKJHN0YWJpbGl0eSA9IHN0cnRvbG93ZXIoJHN0YWJpbGl0eSk7CgpyZXR1cm4gJHN0YWJpbGl0eSA9PT0gJ3JjJyA/ICdSQycgOiAkc3RhYmlsaXR5Owp9CgoKCgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIG5vcm1hbGl6ZSgkdmVyc2lvbiwgJGZ1bGxWZXJzaW9uID0gbnVsbCkKewokdmVyc2lvbiA9IHRyaW0oJHZlcnNpb24pOwokb3JpZ1ZlcnNpb24gPSAkdmVyc2lvbjsKaWYgKG51bGwgPT09ICRmdWxsVmVyc2lvbikgewokZnVsbFZlcnNpb24gPSAkdmVyc2lvbjsKfQoKCmlmIChwcmVnX21hdGNoKCd7XihbXixcc10rKykgKythcyArKyhbXixcc10rKykkfScsICR2ZXJzaW9uLCAkbWF0Y2gpKSB7CiR2ZXJzaW9uID0gJG1hdGNoWzFdOwp9CgoKaWYgKHByZWdfbWF0Y2goJ3tAKD86JyAuIHNlbGY6OiRzdGFiaWxpdGllc1JlZ2V4IC4gJykkfWknLCAkdmVyc2lvbiwgJG1hdGNoKSkgewokdmVyc2lvbiA9IHN1YnN0cigkdmVyc2lvbiwgMCwgc3RybGVuKCR2ZXJzaW9uKSAtIHN0cmxlbigkbWF0Y2hbMF0pKTsKfQoKCmlmIChcaW5fYXJyYXkoJHZlcnNpb24sIGFycmF5KCdtYXN0ZXInLCAndHJ1bmsnLCAnZGVmYXVsdCcpLCB0cnVlKSkgewokdmVyc2lvbiA9ICdkZXYtJyAuICR2ZXJzaW9uOwp9CgoKaWYgKHN0cmlwb3MoJHZlcnNpb24sICdkZXYtJykgPT09IDApIHsKcmV0dXJuICdkZXYtJyAuIHN1YnN0cigkdmVyc2lvbiwgNCk7Cn0KCgppZiAocHJlZ19tYXRjaCgne14oW14sXHMrXSsrKVwrW15cc10rKyR9JywgJHZlcnNpb24sICRtYXRjaCkpIHsKJHZlcnNpb24gPSAkbWF0Y2hbMV07Cn0KCgppZiAocHJlZ19tYXRjaCgne152PyhcZHsxLDV9KShcLlxkKyspPyhcLlxkKyspPyhcLlxkKyspPycgLiBzZWxmOjokbW9kaWZpZXJSZWdleCAuICckfWknLCAkdmVyc2lvbiwgJG1hdGNoZXMpKSB7CiR2ZXJzaW9uID0gJG1hdGNoZXNbMV0KLiAoIWVtcHR5KCRtYXRjaGVzWzJdKSA/ICRtYXRjaGVzWzJdIDogJy4wJykKLiAoIWVtcHR5KCRtYXRjaGVzWzNdKSA/ICRtYXRjaGVzWzNdIDogJy4wJykKLiAoIWVtcHR5KCRtYXRjaGVzWzRdKSA/ICRtYXRjaGVzWzRdIDogJy4wJyk7CiRpbmRleCA9IDU7Cgp9IGVsc2VpZiAocHJlZ19tYXRjaCgne152PyhcZHs0fSg/OlsuOi1dP1xkezJ9KXsxLDZ9KD86Wy46LV0/XGR7MSwzfSk/KScgLiBzZWxmOjokbW9kaWZpZXJSZWdleCAuICckfWknLCAkdmVyc2lvbiwgJG1hdGNoZXMpKSB7CiR2ZXJzaW9uID0gcHJlZ19yZXBsYWNlKCd7XER9JywgJy4nLCAkbWF0Y2hlc1sxXSk7CiRpbmRleCA9IDI7Cn0KCgppZiAoaXNzZXQoJGluZGV4KSkgewppZiAoIWVtcHR5KCRtYXRjaGVzWyRpbmRleF0pKSB7CmlmICgnc3RhYmxlJyA9PT0gJG1hdGNoZXNbJGluZGV4XSkgewpyZXR1cm4gJHZlcnNpb247Cn0KJHZlcnNpb24gLj0gJy0nIC4gJHRoaXMtPmV4cGFuZFN0YWJpbGl0eSgkbWF0Y2hlc1skaW5kZXhdKSAuIChpc3NldCgkbWF0Y2hlc1skaW5kZXggKyAxXSkgJiYgJycgIT09ICRtYXRjaGVzWyRpbmRleCArIDFdID8gbHRyaW0oJG1hdGNoZXNbJGluZGV4ICsgMV0sICcuLScpIDogJycpOwp9CgppZiAoIWVtcHR5KCRtYXRjaGVzWyRpbmRleCArIDJdKSkgewokdmVyc2lvbiAuPSAnLWRldic7Cn0KCnJldHVybiAkdmVyc2lvbjsKfQoKCmlmIChwcmVnX21hdGNoKCd7KC4qPylbLi1dP2RldiR9aScsICR2ZXJzaW9uLCAkbWF0Y2gpKSB7CnRyeSB7CiRub3JtYWxpemVkID0gJHRoaXMtPm5vcm1hbGl6ZUJyYW5jaCgkbWF0Y2hbMV0pOwoKCgppZiAoc3RycG9zKCRub3JtYWxpemVkLCAnZGV2LScpID09PSBmYWxzZSkgewpyZXR1cm4gJG5vcm1hbGl6ZWQ7Cn0KfSBjYXRjaCAoXEV4Y2VwdGlvbiAkZSkgewp9Cn0KCiRleHRyYU1lc3NhZ2UgPSAnJzsKaWYgKHByZWdfbWF0Y2goJ3sgK2FzICsnIC4gcHJlZ19xdW90ZSgkdmVyc2lvbikgLiAnKD86QCg/Oicuc2VsZjo6JHN0YWJpbGl0aWVzUmVnZXguJykpPyR9JywgJGZ1bGxWZXJzaW9uKSkgewokZXh0cmFNZXNzYWdlID0gJyBpbiAiJyAuICRmdWxsVmVyc2lvbiAuICciLCB0aGUgYWxpYXMgbXVzdCBiZSBhbiBleGFjdCB2ZXJzaW9uJzsKfSBlbHNlaWYgKHByZWdfbWF0Y2goJ3teJyAuIHByZWdfcXVvdGUoJHZlcnNpb24pIC4gJyg/OkAoPzonLnNlbGY6OiRzdGFiaWxpdGllc1JlZ2V4LicpKT8gK2FzICt9JywgJGZ1bGxWZXJzaW9uKSkgewokZXh0cmFNZXNzYWdlID0gJyBpbiAiJyAuICRmdWxsVmVyc2lvbiAuICciLCB0aGUgYWxpYXMgc291cmNlIG11c3QgYmUgYW4gZXhhY3QgdmVyc2lvbiwgaWYgaXQgaXMgYSBicmFuY2ggbmFtZSB5b3Ugc2hvdWxkIHByZWZpeCBpdCB3aXRoIGRldi0nOwp9Cgp0aHJvdyBuZXcgXFVuZXhwZWN0ZWRWYWx1ZUV4Y2VwdGlvbignSW52YWxpZCB2ZXJzaW9uIHN0cmluZyAiJyAuICRvcmlnVmVyc2lvbiAuICciJyAuICRleHRyYU1lc3NhZ2UpOwp9CgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIHBhcnNlTnVtZXJpY0FsaWFzUHJlZml4KCRicmFuY2gpCnsKaWYgKHByZWdfbWF0Y2goJ3teKD9QPHZlcnNpb24+KFxkKytcXC4pKlxkKyspKD86XC54KT8tZGV2JH1pJywgJGJyYW5jaCwgJG1hdGNoZXMpKSB7CnJldHVybiAkbWF0Y2hlc1sndmVyc2lvbiddIC4gJy4nOwp9CgpyZXR1cm4gZmFsc2U7Cn0KCgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gbm9ybWFsaXplQnJhbmNoKCRuYW1lKQp7CiRuYW1lID0gdHJpbSgkbmFtZSk7CgppZiAocHJlZ19tYXRjaCgne152PyhcZCsrKShcLig/OlxkKyt8W3hYKl0pKT8oXC4oPzpcZCsrfFt4WCpdKSk/KFwuKD86XGQrK3xbeFgqXSkpPyR9aScsICRuYW1lLCAkbWF0Y2hlcykpIHsKJHZlcnNpb24gPSAnJzsKZm9yICgkaSA9IDE7ICRpIDwgNTsgKyskaSkgewokdmVyc2lvbiAuPSBpc3NldCgkbWF0Y2hlc1skaV0pID8gc3RyX3JlcGxhY2UoYXJyYXkoJyonLCAnWCcpLCAneCcsICRtYXRjaGVzWyRpXSkgOiAnLngnOwp9CgpyZXR1cm4gc3RyX3JlcGxhY2UoJ3gnLCAnOTk5OTk5OScsICR2ZXJzaW9uKSAuICctZGV2JzsKfQoKcmV0dXJuICdkZXYtJyAuICRuYW1lOwp9CgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIG5vcm1hbGl6ZURlZmF1bHRCcmFuY2goJG5hbWUpCnsKaWYgKCRuYW1lID09PSAnZGV2LW1hc3RlcicgfHwgJG5hbWUgPT09ICdkZXYtZGVmYXVsdCcgfHwgJG5hbWUgPT09ICdkZXYtdHJ1bmsnKSB7CnJldHVybiAnOTk5OTk5OS1kZXYnOwp9CgpyZXR1cm4gJG5hbWU7Cn0KCgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gcGFyc2VDb25zdHJhaW50cygkY29uc3RyYWludHMpCnsKJHByZXR0eUNvbnN0cmFpbnQgPSAkY29uc3RyYWludHM7Cgokb3JDb25zdHJhaW50cyA9IHByZWdfc3BsaXQoJ3tccypcfFx8P1xzKn0nLCB0cmltKCRjb25zdHJhaW50cykpOwppZiAoZmFsc2UgPT09ICRvckNvbnN0cmFpbnRzKSB7CnRocm93IG5ldyBcUnVudGltZUV4Y2VwdGlvbignRmFpbGVkIHRvIHByZWdfc3BsaXQgc3RyaW5nOiAnLiRjb25zdHJhaW50cyk7Cn0KJG9yR3JvdXBzID0gYXJyYXkoKTsKCmZvcmVhY2ggKCRvckNvbnN0cmFpbnRzIGFzICRjb25zdHJhaW50cykgewokYW5kQ29uc3RyYWludHMgPSBwcmVnX3NwbGl0KCd7KD88IV58YXN8Wz0+PCAsXSkgKig/PCEtKVssIF0oPyEtKSAqKD8hLHxhc3wkKX0nLCAkY29uc3RyYWludHMpOwppZiAoZmFsc2UgPT09ICRhbmRDb25zdHJhaW50cykgewp0aHJvdyBuZXcgXFJ1bnRpbWVFeGNlcHRpb24oJ0ZhaWxlZCB0byBwcmVnX3NwbGl0IHN0cmluZzogJy4kY29uc3RyYWludHMpOwp9CmlmIChcY291bnQoJGFuZENvbnN0cmFpbnRzKSA+IDEpIHsKJGNvbnN0cmFpbnRPYmplY3RzID0gYXJyYXkoKTsKZm9yZWFjaCAoJGFuZENvbnN0cmFpbnRzIGFzICRjb25zdHJhaW50KSB7CmZvcmVhY2ggKCR0aGlzLT5wYXJzZUNvbnN0cmFpbnQoJGNvbnN0cmFpbnQpIGFzICRwYXJzZWRDb25zdHJhaW50KSB7CiRjb25zdHJhaW50T2JqZWN0c1tdID0gJHBhcnNlZENvbnN0cmFpbnQ7Cn0KfQp9IGVsc2UgewokY29uc3RyYWludE9iamVjdHMgPSAkdGhpcy0+cGFyc2VDb25zdHJhaW50KCRhbmRDb25zdHJhaW50c1swXSk7Cn0KCmlmICgxID09PSBcY291bnQoJGNvbnN0cmFpbnRPYmplY3RzKSkgewokY29uc3RyYWludCA9ICRjb25zdHJhaW50T2JqZWN0c1swXTsKfSBlbHNlIHsKJGNvbnN0cmFpbnQgPSBuZXcgTXVsdGlDb25zdHJhaW50KCRjb25zdHJhaW50T2JqZWN0cyk7Cn0KCiRvckdyb3Vwc1tdID0gJGNvbnN0cmFpbnQ7Cn0KCiRjb25zdHJhaW50ID0gTXVsdGlDb25zdHJhaW50OjpjcmVhdGUoJG9yR3JvdXBzLCBmYWxzZSk7CgokY29uc3RyYWludC0+c2V0UHJldHR5U3RyaW5nKCRwcmV0dHlDb25zdHJhaW50KTsKCnJldHVybiAkY29uc3RyYWludDsKfQoKCgoKCgoKCgoKcHJpdmF0ZSBmdW5jdGlvbiBwYXJzZUNvbnN0cmFpbnQoJGNvbnN0cmFpbnQpCnsKCmlmIChwcmVnX21hdGNoKCd7XihbXixcc10rKykgKythcyArKyhbXixcc10rKykkfScsICRjb25zdHJhaW50LCAkbWF0Y2gpKSB7CiRjb25zdHJhaW50ID0gJG1hdGNoWzFdOwp9CgoKaWYgKHByZWdfbWF0Y2goJ3teKFteLFxzXSo/KUAoJyAuIHNlbGY6OiRzdGFiaWxpdGllc1JlZ2V4IC4gJykkfWknLCAkY29uc3RyYWludCwgJG1hdGNoKSkgewokY29uc3RyYWludCA9ICcnICE9PSAkbWF0Y2hbMV0gPyAkbWF0Y2hbMV0gOiAnKic7CmlmICgkbWF0Y2hbMl0gIT09ICdzdGFibGUnKSB7CiRzdGFiaWxpdHlNb2RpZmllciA9ICRtYXRjaFsyXTsKfQp9CgoKaWYgKHByZWdfbWF0Y2goJ3teKGRldi1bXixcc0BdKz98W14sXHNAXSs/XC54LWRldikjLiskfWknLCAkY29uc3RyYWludCwgJG1hdGNoKSkgewokY29uc3RyYWludCA9ICRtYXRjaFsxXTsKfQoKaWYgKHByZWdfbWF0Y2goJ3teKHYpP1t4WCpdKFwuW3hYKl0pKiR9aScsICRjb25zdHJhaW50LCAkbWF0Y2gpKSB7CmlmICghZW1wdHkoJG1hdGNoWzFdKSB8fCAhZW1wdHkoJG1hdGNoWzJdKSkgewpyZXR1cm4gYXJyYXkobmV3IENvbnN0cmFpbnQoJz49JywgJzAuMC4wLjAtZGV2JykpOwp9CgpyZXR1cm4gYXJyYXkobmV3IE1hdGNoQWxsQ29uc3RyYWludCgpKTsKfQoKJHZlcnNpb25SZWdleCA9ICd2PyhcZCsrKSg/OlwuKFxkKyspKT8oPzpcLihcZCsrKSk/KD86XC4oXGQrKykpPyg/OicgLiBzZWxmOjokbW9kaWZpZXJSZWdleCAuICd8XC4oW3hYKl1bLi1dP2RldikpKD86XCtbXlxzXSspPyc7CgoKCgoKCmlmIChwcmVnX21hdGNoKCd7Xn4+PycgLiAkdmVyc2lvblJlZ2V4IC4gJyR9aScsICRjb25zdHJhaW50LCAkbWF0Y2hlcykpIHsKaWYgKHN0cnBvcygkY29uc3RyYWludCwgJ34+JykgPT09IDApIHsKdGhyb3cgbmV3IFxVbmV4cGVjdGVkVmFsdWVFeGNlcHRpb24oCidDb3VsZCBub3QgcGFyc2UgdmVyc2lvbiBjb25zdHJhaW50ICcgLiAkY29uc3RyYWludCAuICc6ICcgLgonSW52YWxpZCBvcGVyYXRvciAifj4iLCB5b3UgcHJvYmFibHkgbWVhbnQgdG8gdXNlIHRoZSAifiIgb3BlcmF0b3InCik7Cn0KCgppZiAoaXNzZXQoJG1hdGNoZXNbNF0pICYmICcnICE9PSAkbWF0Y2hlc1s0XSAmJiBudWxsICE9PSAkbWF0Y2hlc1s0XSkgewokcG9zaXRpb24gPSA0Owp9IGVsc2VpZiAoaXNzZXQoJG1hdGNoZXNbM10pICYmICcnICE9PSAkbWF0Y2hlc1szXSAmJiBudWxsICE9PSAkbWF0Y2hlc1szXSkgewokcG9zaXRpb24gPSAzOwp9IGVsc2VpZiAoaXNzZXQoJG1hdGNoZXNbMl0pICYmICcnICE9PSAkbWF0Y2hlc1syXSAmJiBudWxsICE9PSAkbWF0Y2hlc1syXSkgewokcG9zaXRpb24gPSAyOwp9IGVsc2UgewokcG9zaXRpb24gPSAxOwp9CgoKaWYgKCFlbXB0eSgkbWF0Y2hlc1s4XSkpIHsKJHBvc2l0aW9uKys7Cn0KCgokc3RhYmlsaXR5U3VmZml4ID0gJyc7CmlmIChlbXB0eSgkbWF0Y2hlc1s1XSkgJiYgZW1wdHkoJG1hdGNoZXNbN10pICYmIGVtcHR5KCRtYXRjaGVzWzhdKSkgewokc3RhYmlsaXR5U3VmZml4IC49ICctZGV2JzsKfQoKJGxvd1ZlcnNpb24gPSAkdGhpcy0+bm9ybWFsaXplKHN1YnN0cigkY29uc3RyYWludCAuICRzdGFiaWxpdHlTdWZmaXgsIDEpKTsKJGxvd2VyQm91bmQgPSBuZXcgQ29uc3RyYWludCgnPj0nLCAkbG93VmVyc2lvbik7CgoKCiRoaWdoUG9zaXRpb24gPSBtYXgoMSwgJHBvc2l0aW9uIC0gMSk7CiRoaWdoVmVyc2lvbiA9ICR0aGlzLT5tYW5pcHVsYXRlVmVyc2lvblN0cmluZygkbWF0Y2hlcywgJGhpZ2hQb3NpdGlvbiwgMSkgLiAnLWRldic7CiR1cHBlckJvdW5kID0gbmV3IENvbnN0cmFpbnQoJzwnLCAkaGlnaFZlcnNpb24pOwoKcmV0dXJuIGFycmF5KAokbG93ZXJCb3VuZCwKJHVwcGVyQm91bmQsCik7Cn0KCgoKCgoKaWYgKHByZWdfbWF0Y2goJ3teXF4nIC4gJHZlcnNpb25SZWdleCAuICcoJCl9aScsICRjb25zdHJhaW50LCAkbWF0Y2hlcykpIHsKCmlmICgnMCcgIT09ICRtYXRjaGVzWzFdIHx8ICcnID09PSAkbWF0Y2hlc1syXSB8fCBudWxsID09PSAkbWF0Y2hlc1syXSkgewokcG9zaXRpb24gPSAxOwp9IGVsc2VpZiAoJzAnICE9PSAkbWF0Y2hlc1syXSB8fCAnJyA9PT0gJG1hdGNoZXNbM10gfHwgbnVsbCA9PT0gJG1hdGNoZXNbM10pIHsKJHBvc2l0aW9uID0gMjsKfSBlbHNlIHsKJHBvc2l0aW9uID0gMzsKfQoKCiRzdGFiaWxpdHlTdWZmaXggPSAnJzsKaWYgKGVtcHR5KCRtYXRjaGVzWzVdKSAmJiBlbXB0eSgkbWF0Y2hlc1s3XSkgJiYgZW1wdHkoJG1hdGNoZXNbOF0pKSB7CiRzdGFiaWxpdHlTdWZmaXggLj0gJy1kZXYnOwp9CgokbG93VmVyc2lvbiA9ICR0aGlzLT5ub3JtYWxpemUoc3Vic3RyKCRjb25zdHJhaW50IC4gJHN0YWJpbGl0eVN1ZmZpeCwgMSkpOwokbG93ZXJCb3VuZCA9IG5ldyBDb25zdHJhaW50KCc+PScsICRsb3dWZXJzaW9uKTsKCgoKJGhpZ2hWZXJzaW9uID0gJHRoaXMtPm1hbmlwdWxhdGVWZXJzaW9uU3RyaW5nKCRtYXRjaGVzLCAkcG9zaXRpb24sIDEpIC4gJy1kZXYnOwokdXBwZXJCb3VuZCA9IG5ldyBDb25zdHJhaW50KCc8JywgJGhpZ2hWZXJzaW9uKTsKCnJldHVybiBhcnJheSgKJGxvd2VyQm91bmQsCiR1cHBlckJvdW5kLAopOwp9CgoKCgoKaWYgKHByZWdfbWF0Y2goJ3tedj8oXGQrKykoPzpcLihcZCsrKSk/KD86XC4oXGQrKykpPyg/OlwuW3hYKl0pKyskfScsICRjb25zdHJhaW50LCAkbWF0Y2hlcykpIHsKaWYgKGlzc2V0KCRtYXRjaGVzWzNdKSAmJiAnJyAhPT0gJG1hdGNoZXNbM10gJiYgbnVsbCAhPT0gJG1hdGNoZXNbM10pIHsKJHBvc2l0aW9uID0gMzsKfSBlbHNlaWYgKGlzc2V0KCRtYXRjaGVzWzJdKSAmJiAnJyAhPT0gJG1hdGNoZXNbMl0gJiYgbnVsbCAhPT0gJG1hdGNoZXNbMl0pIHsKJHBvc2l0aW9uID0gMjsKfSBlbHNlIHsKJHBvc2l0aW9uID0gMTsKfQoKJGxvd1ZlcnNpb24gPSAkdGhpcy0+bWFuaXB1bGF0ZVZlcnNpb25TdHJpbmcoJG1hdGNoZXMsICRwb3NpdGlvbikgLiAnLWRldic7CiRoaWdoVmVyc2lvbiA9ICR0aGlzLT5tYW5pcHVsYXRlVmVyc2lvblN0cmluZygkbWF0Y2hlcywgJHBvc2l0aW9uLCAxKSAuICctZGV2JzsKCmlmICgkbG93VmVyc2lvbiA9PT0gJzAuMC4wLjAtZGV2JykgewpyZXR1cm4gYXJyYXkobmV3IENvbnN0cmFpbnQoJzwnLCAkaGlnaFZlcnNpb24pKTsKfQoKcmV0dXJuIGFycmF5KApuZXcgQ29uc3RyYWludCgnPj0nLCAkbG93VmVyc2lvbiksCm5ldyBDb25zdHJhaW50KCc8JywgJGhpZ2hWZXJzaW9uKSwKKTsKfQoKCgoKCgoKaWYgKHByZWdfbWF0Y2goJ3teKD9QPGZyb20+JyAuICR2ZXJzaW9uUmVnZXggLiAnKSArLSArKD9QPHRvPicgLiAkdmVyc2lvblJlZ2V4IC4gJykoJCl9aScsICRjb25zdHJhaW50LCAkbWF0Y2hlcykpIHsKCiRsb3dTdGFiaWxpdHlTdWZmaXggPSAnJzsKaWYgKGVtcHR5KCRtYXRjaGVzWzZdKSAmJiBlbXB0eSgkbWF0Y2hlc1s4XSkgJiYgZW1wdHkoJG1hdGNoZXNbOV0pKSB7CiRsb3dTdGFiaWxpdHlTdWZmaXggPSAnLWRldic7Cn0KCiRsb3dWZXJzaW9uID0gJHRoaXMtPm5vcm1hbGl6ZSgkbWF0Y2hlc1snZnJvbSddKTsKJGxvd2VyQm91bmQgPSBuZXcgQ29uc3RyYWludCgnPj0nLCAkbG93VmVyc2lvbiAuICRsb3dTdGFiaWxpdHlTdWZmaXgpOwoKJGVtcHR5ID0gZnVuY3Rpb24gKCR4KSB7CnJldHVybiAoJHggPT09IDAgfHwgJHggPT09ICcwJykgPyBmYWxzZSA6IGVtcHR5KCR4KTsKfTsKCmlmICgoISRlbXB0eSgkbWF0Y2hlc1sxMl0pICYmICEkZW1wdHkoJG1hdGNoZXNbMTNdKSkgfHwgIWVtcHR5KCRtYXRjaGVzWzE1XSkgfHwgIWVtcHR5KCRtYXRjaGVzWzE3XSkgfHwgIWVtcHR5KCRtYXRjaGVzWzE4XSkpIHsKJGhpZ2hWZXJzaW9uID0gJHRoaXMtPm5vcm1hbGl6ZSgkbWF0Y2hlc1sndG8nXSk7CiR1cHBlckJvdW5kID0gbmV3IENvbnN0cmFpbnQoJzw9JywgJGhpZ2hWZXJzaW9uKTsKfSBlbHNlIHsKJGhpZ2hNYXRjaCA9IGFycmF5KCcnLCAkbWF0Y2hlc1sxMV0sICRtYXRjaGVzWzEyXSwgJG1hdGNoZXNbMTNdLCAkbWF0Y2hlc1sxNF0pOwoKCiR0aGlzLT5ub3JtYWxpemUoJG1hdGNoZXNbJ3RvJ10pOwoKJGhpZ2hWZXJzaW9uID0gJHRoaXMtPm1hbmlwdWxhdGVWZXJzaW9uU3RyaW5nKCRoaWdoTWF0Y2gsICRlbXB0eSgkbWF0Y2hlc1sxMl0pID8gMSA6IDIsIDEpIC4gJy1kZXYnOwokdXBwZXJCb3VuZCA9IG5ldyBDb25zdHJhaW50KCc8JywgJGhpZ2hWZXJzaW9uKTsKfQoKcmV0dXJuIGFycmF5KAokbG93ZXJCb3VuZCwKJHVwcGVyQm91bmQsCik7Cn0KCgppZiAocHJlZ19tYXRjaCgne14oPD58IT18Pj0/fDw9P3w9PT8pP1xzKiguKil9JywgJGNvbnN0cmFpbnQsICRtYXRjaGVzKSkgewp0cnkgewp0cnkgewokdmVyc2lvbiA9ICR0aGlzLT5ub3JtYWxpemUoJG1hdGNoZXNbMl0pOwp9IGNhdGNoIChcVW5leHBlY3RlZFZhbHVlRXhjZXB0aW9uICRlKSB7CgoKaWYgKHN1YnN0cigkbWF0Y2hlc1syXSwgLTQpID09PSAnLWRldicgJiYgcHJlZ19tYXRjaCgne15bMC05YS16QS1aLS4vXSskfScsICRtYXRjaGVzWzJdKSkgewokdmVyc2lvbiA9ICR0aGlzLT5ub3JtYWxpemUoJ2Rldi0nLnN1YnN0cigkbWF0Y2hlc1syXSwgMCwgLTQpKTsKfSBlbHNlIHsKdGhyb3cgJGU7Cn0KfQoKJG9wID0gJG1hdGNoZXNbMV0gPzogJz0nOwoKaWYgKCRvcCAhPT0gJz09JyAmJiAkb3AgIT09ICc9JyAmJiAhZW1wdHkoJHN0YWJpbGl0eU1vZGlmaWVyKSAmJiBzZWxmOjpwYXJzZVN0YWJpbGl0eSgkdmVyc2lvbikgPT09ICdzdGFibGUnKSB7CiR2ZXJzaW9uIC49ICctJyAuICRzdGFiaWxpdHlNb2RpZmllcjsKfSBlbHNlaWYgKCc8JyA9PT0gJG9wIHx8ICc+PScgPT09ICRvcCkgewppZiAoIXByZWdfbWF0Y2goJy8tJyAuIHNlbGY6OiRtb2RpZmllclJlZ2V4IC4gJyQvJywgc3RydG9sb3dlcigkbWF0Y2hlc1syXSkpKSB7CmlmIChzdHJwb3MoJG1hdGNoZXNbMl0sICdkZXYtJykgIT09IDApIHsKJHZlcnNpb24gLj0gJy1kZXYnOwp9Cn0KfQoKcmV0dXJuIGFycmF5KG5ldyBDb25zdHJhaW50KCRtYXRjaGVzWzFdID86ICc9JywgJHZlcnNpb24pKTsKfSBjYXRjaCAoXEV4Y2VwdGlvbiAkZSkgewp9Cn0KCiRtZXNzYWdlID0gJ0NvdWxkIG5vdCBwYXJzZSB2ZXJzaW9uIGNvbnN0cmFpbnQgJyAuICRjb25zdHJhaW50OwppZiAoaXNzZXQoJGUpKSB7CiRtZXNzYWdlIC49ICc6ICcgLiAkZS0+Z2V0TWVzc2FnZSgpOwp9Cgp0aHJvdyBuZXcgXFVuZXhwZWN0ZWRWYWx1ZUV4Y2VwdGlvbigkbWVzc2FnZSk7Cn0KCgoKCgoKCgoKCgoKCgoKcHJpdmF0ZSBmdW5jdGlvbiBtYW5pcHVsYXRlVmVyc2lvblN0cmluZyhhcnJheSAkbWF0Y2hlcywgJHBvc2l0aW9uLCAkaW5jcmVtZW50ID0gMCwgJHBhZCA9ICcwJykKewpmb3IgKCRpID0gNDsgJGkgPiAwOyAtLSRpKSB7CmlmICgkaSA+ICRwb3NpdGlvbikgewokbWF0Y2hlc1skaV0gPSAkcGFkOwp9IGVsc2VpZiAoJGkgPT09ICRwb3NpdGlvbiAmJiAkaW5jcmVtZW50KSB7CiRtYXRjaGVzWyRpXSArPSAkaW5jcmVtZW50OwoKaWYgKCRtYXRjaGVzWyRpXSA8IDApIHsKJG1hdGNoZXNbJGldID0gJHBhZDsKLS0kcG9zaXRpb247CgoKaWYgKCRpID09PSAxKSB7CnJldHVybiBudWxsOwp9Cn0KfQp9CgpyZXR1cm4gJG1hdGNoZXNbMV0gLiAnLicgLiAkbWF0Y2hlc1syXSAuICcuJyAuICRtYXRjaGVzWzNdIC4gJy4nIC4gJG1hdGNoZXNbNF07Cn0KCgoKCgoKCgpwcml2YXRlIGZ1bmN0aW9uIGV4cGFuZFN0YWJpbGl0eSgkc3RhYmlsaXR5KQp7CiRzdGFiaWxpdHkgPSBzdHJ0b2xvd2VyKCRzdGFiaWxpdHkpOwoKc3dpdGNoICgkc3RhYmlsaXR5KSB7CmNhc2UgJ2EnOgpyZXR1cm4gJ2FscGhhJzsKY2FzZSAnYic6CnJldHVybiAnYmV0YSc7CmNhc2UgJ3AnOgpjYXNlICdwbCc6CnJldHVybiAncGF0Y2gnOwpjYXNlICdyYyc6CnJldHVybiAnUkMnOwpkZWZhdWx0OgpyZXR1cm4gJHN0YWJpbGl0eTsKfQp9Cn0KCkNvcHlyaWdodCAoQykgMjAxNSBDb21wb3NlcgoKUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGEgY29weSBvZgp0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZSAiU29mdHdhcmUiKSwgdG8gZGVhbCBpbgp0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzIHRvCnVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzCm9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbwpzbywgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6CgpUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZCBpbiBhbGwKY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS4KClRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCAiQVMgSVMiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SCklNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLApGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUKQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUgpMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLApPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRQpTT0ZUV0FSRS4KCnsKICAgICIzODktZXhjZXB0aW9uIjogWwogICAgICAgICIzODkgRGlyZWN0b3J5IFNlcnZlciBFeGNlcHRpb24iCiAgICBdLAogICAgIkF1dG9jb25mLWV4Y2VwdGlvbi0yLjAiOiBbCiAgICAgICAgIkF1dG9jb25mIGV4Y2VwdGlvbiAyLjAiCiAgICBdLAogICAgIkF1dG9jb25mLWV4Y2VwdGlvbi0zLjAiOiBbCiAgICAgICAgIkF1dG9jb25mIGV4Y2VwdGlvbiAzLjAiCiAgICBdLAogICAgIkJpc29uLWV4Y2VwdGlvbi0yLjIiOiBbCiAgICAgICAgIkJpc29uIGV4Y2VwdGlvbiAyLjIiCiAgICBdLAogICAgIkJvb3Rsb2FkZXItZXhjZXB0aW9uIjogWwogICAgICAgICJCb290bG9hZGVyIERpc3RyaWJ1dGlvbiBFeGNlcHRpb24iCiAgICBdLAogICAgIkNsYXNzcGF0aC1leGNlcHRpb24tMi4wIjogWwogICAgICAgICJDbGFzc3BhdGggZXhjZXB0aW9uIDIuMCIKICAgIF0sCiAgICAiQ0xJU1AtZXhjZXB0aW9uLTIuMCI6IFsKICAgICAgICAiQ0xJU1AgZXhjZXB0aW9uIDIuMCIKICAgIF0sCiAgICAiRGlnaVJ1bGUtRk9TUy1leGNlcHRpb24iOiBbCiAgICAgICAgIkRpZ2lSdWxlIEZPU1MgTGljZW5zZSBFeGNlcHRpb24iCiAgICBdLAogICAgImVDb3MtZXhjZXB0aW9uLTIuMCI6IFsKICAgICAgICAiZUNvcyBleGNlcHRpb24gMi4wIgogICAgXSwKICAgICJGYXdrZXMtUnVudGltZS1leGNlcHRpb24iOiBbCiAgICAgICAgIkZhd2tlcyBSdW50aW1lIEV4Y2VwdGlvbiIKICAgIF0sCiAgICAiRkxUSy1leGNlcHRpb24iOiBbCiAgICAgICAgIkZMVEsgZXhjZXB0aW9uIgogICAgXSwKICAgICJGb250LWV4Y2VwdGlvbi0yLjAiOiBbCiAgICAgICAgIkZvbnQgZXhjZXB0aW9uIDIuMCIKICAgIF0sCiAgICAiZnJlZXJ0b3MtZXhjZXB0aW9uLTIuMCI6IFsKICAgICAgICAiRnJlZVJUT1MgRXhjZXB0aW9uIDIuMCIKICAgIF0sCiAgICAiR0NDLWV4Y2VwdGlvbi0yLjAiOiBbCiAgICAgICAgIkdDQyBSdW50aW1lIExpYnJhcnkgZXhjZXB0aW9uIDIuMCIKICAgIF0sCiAgICAiR0NDLWV4Y2VwdGlvbi0zLjEiOiBbCiAgICAgICAgIkdDQyBSdW50aW1lIExpYnJhcnkgZXhjZXB0aW9uIDMuMSIKICAgIF0sCiAgICAiZ251LWphdmFtYWlsLWV4Y2VwdGlvbiI6IFsKICAgICAgICAiR05VIEphdmFNYWlsIGV4Y2VwdGlvbiIKICAgIF0sCiAgICAiR1BMLTMuMC1saW5raW5nLWV4Y2VwdGlvbiI6IFsKICAgICAgICAiR1BMLTMuMCBMaW5raW5nIEV4Y2VwdGlvbiIKICAgIF0sCiAgICAiR1BMLTMuMC1saW5raW5nLXNvdXJjZS1leGNlcHRpb24iOiBbCiAgICAgICAgIkdQTC0zLjAgTGlua2luZyBFeGNlcHRpb24gKHdpdGggQ29ycmVzcG9uZGluZyBTb3VyY2UpIgogICAgXSwKICAgICJHUEwtQ0MtMS4wIjogWwogICAgICAgICJHUEwgQ29vcGVyYXRpb24gQ29tbWl0bWVudCAxLjAiCiAgICBdLAogICAgImkycC1ncGwtamF2YS1leGNlcHRpb24iOiBbCiAgICAgICAgImkycCBHUEwrSmF2YSBFeGNlcHRpb24iCiAgICBdLAogICAgIkxHUEwtMy4wLWxpbmtpbmctZXhjZXB0aW9uIjogWwogICAgICAgICJMR1BMLTMuMCBMaW5raW5nIEV4Y2VwdGlvbiIKICAgIF0sCiAgICAiTGlidG9vbC1leGNlcHRpb24iOiBbCiAgICAgICAgIkxpYnRvb2wgRXhjZXB0aW9uIgogICAgXSwKICAgICJMaW51eC1zeXNjYWxsLW5vdGUiOiBbCiAgICAgICAgIkxpbnV4IFN5c2NhbGwgTm90ZSIKICAgIF0sCiAgICAiTExWTS1leGNlcHRpb24iOiBbCiAgICAgICAgIkxMVk0gRXhjZXB0aW9uIgogICAgXSwKICAgICJMWk1BLWV4Y2VwdGlvbiI6IFsKICAgICAgICAiTFpNQSBleGNlcHRpb24iCiAgICBdLAogICAgIm1pZi1leGNlcHRpb24iOiBbCiAgICAgICAgIk1hY3JvcyBhbmQgSW5saW5lIEZ1bmN0aW9ucyBFeGNlcHRpb24iCiAgICBdLAogICAgIk5va2lhLVF0LWV4Y2VwdGlvbi0xLjEiOiBbCiAgICAgICAgIk5va2lhIFF0IExHUEwgZXhjZXB0aW9uIDEuMSIKICAgIF0sCiAgICAiT0NhbWwtTEdQTC1saW5raW5nLWV4Y2VwdGlvbiI6IFsKICAgICAgICAiT0NhbWwgTEdQTCBMaW5raW5nIEV4Y2VwdGlvbiIKICAgIF0sCiAgICAiT0NDVC1leGNlcHRpb24tMS4wIjogWwogICAgICAgICJPcGVuIENBU0NBREUgRXhjZXB0aW9uIDEuMCIKICAgIF0sCiAgICAiT3BlbkpESy1hc3NlbWJseS1leGNlcHRpb24tMS4wIjogWwogICAgICAgICJPcGVuSkRLIEFzc2VtYmx5IGV4Y2VwdGlvbiAxLjAiCiAgICBdLAogICAgIm9wZW52cG4tb3BlbnNzbC1leGNlcHRpb24iOiBbCiAgICAgICAgIk9wZW5WUE4gT3BlblNTTCBFeGNlcHRpb24iCiAgICBdLAogICAgIlBTLW9yLVBERi1mb250LWV4Y2VwdGlvbi0yMDE3MDgxNyI6IFsKICAgICAgICAiUFMvUERGIGZvbnQgZXhjZXB0aW9uICgyMDE3LTA4LTE3KSIKICAgIF0sCiAgICAiUXQtR1BMLWV4Y2VwdGlvbi0xLjAiOiBbCiAgICAgICAgIlF0IEdQTCBleGNlcHRpb24gMS4wIgogICAgXSwKICAgICJRdC1MR1BMLWV4Y2VwdGlvbi0xLjEiOiBbCiAgICAgICAgIlF0IExHUEwgZXhjZXB0aW9uIDEuMSIKICAgIF0sCiAgICAiUXd0LWV4Y2VwdGlvbi0xLjAiOiBbCiAgICAgICAgIlF3dCBleGNlcHRpb24gMS4wIgogICAgXSwKICAgICJTSEwtMi4wIjogWwogICAgICAgICJTb2xkZXJwYWQgSGFyZHdhcmUgTGljZW5zZSB2Mi4wIgogICAgXSwKICAgICJTSEwtMi4xIjogWwogICAgICAgICJTb2xkZXJwYWQgSGFyZHdhcmUgTGljZW5zZSB2Mi4xIgogICAgXSwKICAgICJTd2lmdC1leGNlcHRpb24iOiBbCiAgICAgICAgIlN3aWZ0IEV4Y2VwdGlvbiIKICAgIF0sCiAgICAidS1ib290LWV4Y2VwdGlvbi0yLjAiOiBbCiAgICAgICAgIlUtQm9vdCBleGNlcHRpb24gMi4wIgogICAgXSwKICAgICJVbml2ZXJzYWwtRk9TUy1leGNlcHRpb24tMS4wIjogWwogICAgICAgICJVbml2ZXJzYWwgRk9TUyBFeGNlcHRpb24sIFZlcnNpb24gMS4wIgogICAgXSwKICAgICJXeFdpbmRvd3MtZXhjZXB0aW9uLTMuMSI6IFsKICAgICAgICAiV3hXaW5kb3dzIExpYnJhcnkgRXhjZXB0aW9uIDMuMSIKICAgIF0KfXsKICAgICIwQlNEIjogWwogICAgICAgICJCU0QgWmVybyBDbGF1c2UgTGljZW5zZSIsCiAgICAgICAgdHJ1ZSwKICAgICAgICBmYWxzZQogICAgXSwKICAgICJBQUwiOiBbCiAgICAgICAgIkF0dHJpYnV0aW9uIEFzc3VyYW5jZSBMaWNlbnNlIiwKICAgICAgICB0cnVlLAogICAgICAgIGZhbHNlCiAgICBdLAogICAgIkFic3R5bGVzIjogWwogICAgICAgICJBYnN0eWxlcyBMaWNlbnNlIiwKICAgICAgICBmYWxzZSwKICAgICAgICBmYWxzZQogICAgXSwKICAgICJBZG9iZS0yMDA2IjogWwogICAgICAgICJBZG9iZSBTeXN0ZW1zIEluY29ycG9yYXRlZCBTb3VyY2UgQ29kZSBMaWNlbnNlIEFncmVlbWVudCIsCiAgICAgICAgZmFsc2UsCiAgICAgICAgZmFsc2UKICAgIF0sCiAgICAiQWRvYmUtR2x5cGgiOiBbCiAgICAgICAgIkFkb2JlIEdseXBoIExpc3QgTGljZW5zZSIsCiAgICAgICAgZmFsc2UsCiAgICAgICAgZmFsc2UKICAgIF0sCiAgICAiQURTTCI6IFsKICAgICAgICAiQW1hem9uIERpZ2l0YWwgU2VydmljZXMgTGljZW5zZSIsCiAgICAgICAgZmFsc2UsCiAgICAgICAgZmFsc2UKICAgIF0sCiAgICAiQUZMLTEuMSI6IFsKICAgICAgICAiQWNhZGVtaWMgRnJlZSBMaWNlbnNlIHYxLjEiLAogICAgICAgIHRydWUsCiAgICAgICAgZmFsc2UKICAgIF0sCiAgICAiQUZMLTEuMiI6IFsKICAgICAgICAiQWNhZGVtaWMgRnJlZSBMaWNlbnNlIHYxLjIiLAogICAgICAgIHRydWUsCiAgICAgICAgZmFsc2UKICAgIF0sCiAgICAiQUZMLTIuMCI6IFsKICAgICAgICAiQWNhZGVtaWMgRnJlZSBMaWNlbnNlIHYyLjAiLAogICAgICAgIHRydWUsCiAgICAgICAgZmFsc2UKICAgIF0sCiAgICAiQUZMLTIuMSI6IFsKICAgICAgICAiQWNhZGVtaWMgRnJlZSBMaWNlbnNlIHYyLjEiLAogICAgICAgIHRydWUsCiAgICAgICAgZmFsc2UKICAgIF0sCiAgICAiQUZMLTMuMCI6IFsKICAgICAgICAiQWNhZGVtaWMgRnJlZSBMaWNlbnNlIHYzLjAiLAogICAgICAgIHRydWUsCiAgICAgICAgZmFsc2UKICAgIF0sCiAgICAiQWZtcGFyc2UiOiBbCiAgICAgICAgIkFmbXBhcnNlIExpY2Vuc2UiLAogICAgICAgIGZhbHNlLAogICAgICAgIGZhbHNlCiAgICBdLAogICAgIkFHUEwtMS4wIjogWwogICAgICAgICJBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSB2MS4wIiwKICAgICAgICBmYWxzZSwKICAgICAgICB0cnVlCiAgICBdLAogICAgIkFHUEwtMS4wLW9ubHkiOiBbCiAgICAgICAgIkFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIHYxLjAgb25seSIsCiAgICAgICAgZmFsc2UsCiAgICAgICAgZmFsc2UKICAgIF0sCiAgICAiQUdQTC0xLjAtb3ItbGF0ZXIiOiBbCiAgICAgICAgIkFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIHYxLjAgb3IgbGF0ZXIiLAogICAgICAgIGZhbHNlLAogICAgICAgIGZhbHNlCiAgICBdLAogICAgIkFHUEwtMy4wIjogWwogICAgICAgICJHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgdjMuMCIsCiAgICAgICAgdHJ1ZSwKICAgICAgICB0cnVlCiAgICBdLAogICAgIkFHUEwtMy4wLW9ubHkiOiBbCiAgICAgICAgIkdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSB2My4wIG9ubHkiLAogICAgICAgIHRydWUsCiAgICAgICAgZmFsc2UKICAgIF0sCiAgICAiQUdQTC0zLjAtb3ItbGF0ZXIiOiBbCiAgICAgICAgIkdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSB2My4wIG9yIGxhdGVyIiwKICAgICAgICB0cnVlLAogICAgICAgIGZhbHNlCiAgICBdLAogICAgIkFsYWRkaW4iOiBbCiAgICAgICAgIkFsYWRkaW4gRnJlZSBQdWJsaWMgTGljZW5zZSIsCiAgICAgICAgZmFsc2UsCiAgICAgICAgZmFsc2UKICAgIF0sCiAgICAiQU1EUExQQSI6IFsKICAgICAgICAiQU1EJ3MgcGxwYV9tYXAuYyBMaWNlbnNlIiwKICAgICAgICBmYWxzZSwKICAgICAgICBmYWxzZQogICAgXSwKICAgICJBTUwiOiBbCiAgICAgICAgIkFwcGxlIE1JVCBMaWNlbnNlIiwKICAgICAgICBmYWxzZSwKICAgICAgICBmYWxzZQogICAgXSwKICAgICJBTVBBUyI6IFsKICAgICAgICAiQWNhZGVteSBvZiBNb3Rpb24gUGljdHVyZSBBcnRzIGFuZCBTY2llbmNlcyBCU0QiLAogICAgICAgIGZhbHNlLAogICAgICAgIGZhbHNlCiAgICBdLAogICAgIkFOVExSLVBEIjogWwogICAgICAgICJBTlRMUiBTb2Z0d2FyZSBSaWdodHMgTm90aWNlIiwKICAgICAgICBmYWxzZSwKICAgICAgICBmYWxzZQogICAgXSwKICAgICJBTlRMUi1QRC1mYWxsYmFjayI6IFsKICAgICAgICAiQU5UTFIgU29mdHdhcmUgUmlnaHRzIE5vdGljZSB3aXRoIGxpY2Vuc2UgZmFsbGJhY2siLAogICAgICAgIGZhbHNlLAogICAgICAgIGZhbHNlCiAgICBdLAogICAgIkFwYWNoZS0xLjAiOiBbCiAgICAgICAgIkFwYWNoZSBMaWNlbnNlIDEuMCIsCiAgICAgICAgZmFsc2UsCiAgICAgICAgZmFsc2UKICAgIF0sCiAgICAiQXBhY2hlLTEuMSI6IFsKICAgICAgICAiQXBhY2hlIExpY2Vuc2UgMS4xIiwKICAgICAgICB0cnVlLAogICAgICAgIGZhbHNlCiAgICBdLAogICAgIkFwYWNoZS0yLjAiOiBbCiAgICAgICAgIkFwYWNoZSBMaWNlbnNlIDIuMCIsCiAgICAgICAgdHJ1ZSwKICAgICAgICBmYWxzZQogICAgXSwKICAgICJBUEFGTUwiOiBbCiAgICAgICAgIkFkb2JlIFBvc3RzY3JpcHQgQUZNIExpY2Vuc2UiLAogICAgICAgIGZhbHNlLAogICAgICAgIGZhbHNlCiAgICBdLAogICAgIkFQTC0xLjAiOiBbCiAgICAgICAgIkFkYXB0aXZlIFB1YmxpYyBMaWNlbnNlIDEuMCIsCiAgICAgICAgdHJ1ZSwKICAgICAgICBmYWxzZQogICAgXSwKICAgICJBUFNMLTEuMCI6IFsKICAgICAgICAiQXBwbGUgUHVibGljIFNvdXJjZSBMaWNlbnNlIDEuMCIsCiAgICAgICAgdHJ1ZSwKICAgICAgICBmYWxzZQogICAgXSwKICAgICJBUFNMLTEuMSI6IFsKICAgICAgICAiQXBwbGUgUHVibGljIFNvdXJjZSBMaWNlbnNlIDEuMSIsCiAgICAgICAgdHJ1ZSwKICAgICAgICBmYWxzZQogICAgXSwKICAgICJBUFNMLTEuMiI6IFsKICAgICAgICAiQXBwbGUgUHVibGljIFNvdXJjZSBMaWNlbnNlIDEuMiIsCiAgICAgICAgdHJ1ZSwKICAgICAgICBmYWxzZQogICAgXSwKICAgICJBUFNMLTIuMCI6IFsKICAgICAgICAiQXBwbGUgUHVibGljIFNvdXJjZSBMaWNlbnNlIDIuMCIsCiAgICAgICAgdHJ1ZSwKICAgICAgICBmYWxzZQogICAgXSwKICAgICJBcnRpc3RpYy0xLjAiOiBbCiAgICAgICAgIkFydGlzdGljIExpY2Vuc2UgMS4wIiwKICAgICAgICB0cnVlLAogICAgICAgIGZhbHNlCiAgICBdLAogICAgIkFydGlzdGljLTEuMC1jbDgiOiBbCiAgICAgICAgIkFydGlzdGljIExpY2Vuc2UgMS4wIHcvY2xhdXNlIDgiLAogICAgICAgIHRydWUsCiAgICAgICAgZmFsc2UKICAgIF0sCiAgICAiQXJ0aXN0aWMtMS4wLVBlcmwiOiBbCiAgICAgICAgIkFydGlzdGljIExpY2Vuc2UgMS4wIChQZXJsKSIsCiAgICAgICAgdHJ1ZSwKICAgICAgICBmYWxzZQogICAgXSwKICAgICJBcnRpc3RpYy0yLjAiOiBbCiAgICAgICAgIkFydGlzdGljIExpY2Vuc2UgMi4wIiwKICAgICAgICB0cnVlLAogICAgICAgIGZhbHNlCiAgICBdLAogICAgIkJhaHlwaCI6IFsKICAgICAgICAiQmFoeXBoIExpY2Vuc2UiLAogICAgICAgIGZhbHNlLAogICAgICAgIGZhbHNlCiAgICBdLAogICAgIkJhcnIiOiBbCiAgICAgICAgIkJhcnIgTGljZW5zZSIsCiAgICAgICAgZmFsc2UsCiAgICAgICAgZmFsc2UKICAgIF0sCiAgICAiQmVlcndhcmUiOiBbCiAgICAgICAgIkJlZXJ3YXJlIExpY2Vuc2UiLAogICAgICAgIGZhbHNlLAogICAgICAgIGZhbHNlCiAgICBdLAogICAgIkJpdFRvcnJlbnQtMS4wIjogWwogICAgICAgICJCaXRUb3JyZW50IE9wZW4gU291cmNlIExpY2Vuc2UgdjEuMCIsCiAgICAgICAgZmFsc2UsCiAgICAgICAgZmFsc2UKICAgIF0sCiAgICAiQml0VG9ycmVudC0xLjEiOiBbCiAgICAgICAgIkJpdFRvcnJlbnQgT3BlbiBTb3VyY2UgTGljZW5zZSB2MS4xIiwKICAgICAgICBmYWxzZSwKICAgICAgICBmYWxzZQogICAgXSwKICAgICJibGVzc2luZyI6IFsKICAgICAgICAiU1FMaXRlIEJsZXNzaW5nIiwKICAgICAgICBmYWxzZSwKICAgICAgICBmYWxzZQogICAgXSwKICAgICJCbHVlT2FrLTEuMC4wIjogWwogICAgICAgICJCbHVlIE9hayBNb2RlbCBMaWNlbnNlIDEuMC4wIiwKICAgICAgICBmYWxzZSwKICAgICAgICBmYWxzZQogICAgXSwKICAgICJCb3JjZXV4IjogWwogICAgICAgICJCb3JjZXV4IGxpY2Vuc2UiLAogICAgICAgIGZhbHNlLAogICAgICAgIGZhbHNlCiAgICBdLAogICAgIkJTRC0xLUNsYXVzZSI6IFsKICAgICAgICAiQlNEIDEtQ2xhdXNlIExpY2Vuc2UiLAogICAgICAgIHRydWUsCiAgICAgICAgZmFsc2UKICAgIF0sCiAgICAiQlNELTItQ2xhdXNlIjogWwogICAgICAgICJCU0QgMi1DbGF1c2UgXCJTaW1wbGlmaWVkXCIgTGljZW5zZSIsCiAgICAgICAgdHJ1ZSwKICAgICAgICBmYWxzZQogICAgXSwKICAgICJCU0QtMi1DbGF1c2UtRnJlZUJTRCI6IFsKICAgICAgICAiQlNEIDItQ2xhdXNlIEZyZWVCU0QgTGljZW5zZSIsCiAgICAgICAgZmFsc2UsCiAgICAgICAgdHJ1ZQogICAgXSwKICAgICJCU0QtMi1DbGF1c2UtTmV0QlNEIjogWwogICAgICAgICJCU0QgMi1DbGF1c2UgTmV0QlNEIExpY2Vuc2UiLAogICAgICAgIGZhbHNlLAogICAgICAgIHRydWUKICAgIF0sCiAgICAiQlNELTItQ2xhdXNlLVBhdGVudCI6IFsKICAgICAgICAiQlNELTItQ2xhdXNlIFBsdXMgUGF0ZW50IExpY2Vuc2UiLAogICAgICAgIHRydWUsCiAgICAgICAgZmFsc2UKICAgIF0sCiAgICAiQlNELTItQ2xhdXNlLVZpZXdzIjogWwogICAgICAgICJCU0QgMi1DbGF1c2Ugd2l0aCB2aWV3cyBzZW50ZW5jZSIsCiAgICAgICAgZmFsc2UsCiAgICAgICAgZmFsc2UKICAgIF0sCiAgICAiQlNELTMtQ2xhdXNlIjogWwogICAgICAgICJCU0QgMy1DbGF1c2UgXCJOZXdcIiBvciBcIlJldmlzZWRcIiBMaWNlbnNlIiwKICAgICAgICB0cnVlLAogICAgICAgIGZhbHNlCiAgICBdLAogICAgIkJTRC0zLUNsYXVzZS1BdHRyaWJ1dGlvbiI6IFsKICAgICAgICAiQlNEIHdpdGggYXR0cmlidXRpb24iLAogICAgICAgIGZhbHNlLAogICAgICAgIGZhbHNlCiAgICBdLAogICAgIkJTRC0zLUNsYXVzZS1DbGVhciI6IFsKICAgICAgICAiQlNEIDMtQ2xhdXNlIENsZWFyIExpY2Vuc2UiLAogICAgICAgIGZhbHNlLAogICAgICAgIGZhbHNlCiAgICBdLAogICAgIkJTRC0zLUNsYXVzZS1MQk5MIjogWwogICAgICAgICJMYXdyZW5jZSBCZXJrZWxleSBOYXRpb25hbCBMYWJzIEJTRCB2YXJpYW50IGxpY2Vuc2UiLAogICAgICAgIHRydWUsCiAgICAgICAgZmFsc2UKICAgIF0sCiAgICAiQlNELTMtQ2xhdXNlLU5vLU51Y2xlYXItTGljZW5zZSI6IFsKICAgICAgICAiQlNEIDMtQ2xhdXNlIE5vIE51Y2xlYXIgTGljZW5zZSIsCiAgICAgICAgZmFsc2UsCiAgICAgICAgZmFsc2UKICAgIF0sCiAgICAiQlNELTMtQ2xhdXNlLU5vLU51Y2xlYXItTGljZW5zZS0yMDE0IjogWwogICAgICAgICJCU0QgMy1DbGF1c2UgTm8gTnVjbGVhciBMaWNlbnNlIDIwMTQiLAogICAgICAgIGZhbHNlLAogICAgICAgIGZhbHNlCiAgICBdLAogICAgIkJTRC0zLUNsYXVzZS1Oby1OdWNsZWFyLVdhcnJhbnR5IjogWwogICAgICAgICJCU0QgMy1DbGF1c2UgTm8gTnVjbGVhciBXYXJyYW50eSIsCiAgICAgICAgZmFsc2UsCiAgICAgICAgZmFsc2UKICAgIF0sCiAgICAiQlNELTMtQ2xhdXNlLU9wZW4tTVBJIjogWwogICAgICAgICJCU0QgMy1DbGF1c2UgT3BlbiBNUEkgdmFyaWFudCIsCiAgICAgICAgZmFsc2UsCiAgICAgICAgZmFsc2UKICAgIF0sCiAgICAiQlNELTQtQ2xhdXNlIjogWwogICAgICAgICJCU0QgNC1DbGF1c2UgXCJPcmlnaW5hbFwiIG9yIFwiT2xkXCIgTGljZW5zZSIsCiAgICAgICAgZmFsc2UsCiAgICAgICAgZmFsc2UKICAgIF0sCiAgICAiQlNELTQtQ2xhdXNlLVVDIjogWwogICAgICAgICJCU0QtNC1DbGF1c2UgKFVuaXZlcnNpdHkgb2YgQ2FsaWZvcm5pYS1TcGVjaWZpYykiLAogICAgICAgIGZhbHNlLAogICAgICAgIGZhbHNlCiAgICBdLAogICAgIkJTRC1Qcm90ZWN0aW9uIjogWwogICAgICAgICJCU0QgUHJvdGVjdGlvbiBMaWNlbnNlIiwKICAgICAgICBmYWxzZSwKICAgICAgICBmYWxzZQogICAgXSwKICAgICJCU0QtU291cmNlLUNvZGUiOiBbCiAgICAgICAgIkJTRCBTb3VyY2UgQ29kZSBBdHRyaWJ1dGlvbiIsCiAgICAgICAgZmFsc2UsCiAgICAgICAgZmFsc2UKICAgIF0sCiAgICAiQlNMLTEuMCI6IFsKICAgICAgICAiQm9vc3QgU29mdHdhcmUgTGljZW5zZSAxLjAiLAogICAgICAgIHRydWUsCiAgICAgICAgZmFsc2UKICAgIF0sCiAgICAiQlVTTC0xLjEiOiBbCiAgICAgICAgIkJ1c2luZXNzIFNvdXJjZSBMaWNlbnNlIDEuMSIsCiAgICAgICAgZmFsc2UsCiAgICAgICAgZmFsc2UKICAgIF0sCiAgICAiYnppcDItMS4wLjUiOiBbCiAgICAgICAgImJ6aXAyIGFuZCBsaWJiemlwMiBMaWNlbnNlIHYxLjAuNSIsCiAgICAgICAgZmFsc2UsCiAgICAgICAgZmFsc2UKICAgIF0sCiAgICAiYnppcDItMS4wLjYiOiBbCiAgICAgICAgImJ6aXAyIGFuZCBsaWJiemlwMiBMaWNlbnNlIHYxLjAuNiIsCiAgICAgICAgZmFsc2UsCiAgICAgICAgZmFsc2UKICAgIF0sCiAgICAiQ0FMLTEuMCI6IFsKICAgICAgICAiQ3J5cHRvZ3JhcGhpYyBBdXRvbm9teSBMaWNlbnNlIDEuMCIsCiAgICAgICAgdHJ1ZSwKICAgICAgICBmYWxzZQogICAgXSwKICAgICJDQUwtMS4wLUNvbWJpbmVkLVdvcmstRXhjZXB0aW9uIjogWwogICAgICAgICJDcnlwdG9ncmFwaGljIEF1dG9ub215IExpY2Vuc2UgMS4wIChDb21iaW5lZCBXb3JrIEV4Y2VwdGlvbikiLAogICAgICAgIHRydWUsCiAgICAgICAgZmFsc2UKICAgIF0sCiAgICAiQ2FsZGVyYSI6IFsKICAgICAgICAiQ2FsZGVyYSBMaWNlbnNlIiwKICAgICAgICBmYWxzZSwKICAgICAgICBmYWxzZQogICAgXSwKICAgICJDQVRPU0wtMS4xIjogWwogICAgICAgICJDb21wdXRlciBBc3NvY2lhdGVzIFRydXN0ZWQgT3BlbiBTb3VyY2UgTGljZW5zZSAxLjEiLAogICAgICAgIHRydWUsCiAgICAgICAgZmFsc2UKICAgIF0sCiAgICAiQ0MtQlktMS4wIjogWwogICAgICAgICJDcmVhdGl2ZSBDb21tb25zIEF0dHJpYnV0aW9uIDEuMCBHZW5lcmljIiwKICAgICAgICBmYWxzZSwKICAgICAgICBmYWxzZQogICAgXSwKICAgICJDQy1CWS0yLjAiOiBbCiAgICAgICAgIkNyZWF0aXZlIENvbW1vbnMgQXR0cmlidXRpb24gMi4wIEdlbmVyaWMiLAogICAgICAgIGZhbHNlLAogICAgICAgIGZhbHNlCiAgICBdLAogICAgIkNDLUJZLTIuNSI6IFsKICAgICAgICAiQ3JlYXRpdmUgQ29tbW9ucyBBdHRyaWJ1dGlvbiAyLjUgR2VuZXJpYyIsCiAgICAgICAgZmFsc2UsCiAgICAgICAgZmFsc2UKICAgIF0sCiAgICAiQ0MtQlktMy4wIjogWwogICAgICAgICJDcmVhdGl2ZSBDb21tb25zIEF0dHJpYnV0aW9uIDMuMCBVbnBvcnRlZCIsCiAgICAgICAgZmFsc2UsCiAgICAgICAgZmFsc2UKICAgIF0sCiAgICAiQ0MtQlktMy4wLUFUIjogWwogICAgICAgICJDcmVhdGl2ZSBDb21tb25zIEF0dHJpYnV0aW9uIDMuMCBBdXN0cmlhIiwKICAgICAgICBmYWxzZSwKICAgICAgICBmYWxzZQogICAgXSwKICAgICJDQy1CWS0zLjAtVVMiOiBbCiAgICAgICAgIkNyZWF0aXZlIENvbW1vbnMgQXR0cmlidXRpb24gMy4wIFVuaXRlZCBTdGF0ZXMiLAogICAgICAgIGZhbHNlLAogICAgICAgIGZhbHNlCiAgICBdLAogICAgIkNDLUJZLTQuMCI6IFsKICAgICAgICAiQ3JlYXRpdmUgQ29tbW9ucyBBdHRyaWJ1dGlvbiA0LjAgSW50ZXJuYXRpb25hbCIsCiAgICAgICAgZmFsc2UsCiAgICAgICAgZmFsc2UKICAgIF0sCiAgICAiQ0MtQlktTkMtMS4wIjogWwogICAgICAgICJDcmVhdGl2ZSBDb21tb25zIEF0dHJpYnV0aW9uIE5vbiBDb21tZXJjaWFsIDEuMCBHZW5lcmljIiwKICAgICAgICBmYWxzZSwKICAgICAgICBmYWxzZQogICAgXSwKICAgICJDQy1CWS1OQy0yLjAiOiBbCiAgICAgICAgIkNyZWF0aXZlIENvbW1vbnMgQXR0cmlidXRpb24gTm9uIENvbW1lcmNpYWwgMi4wIEdlbmVyaWMiLAogICAgICAgIGZhbHNlLAogICAgICAgIGZhbHNlCiAgICBdLAogICAgIkNDLUJZLU5DLTIuNSI6IFsKICAgICAgICAiQ3JlYXRpdmUgQ29tbW9ucyBBdHRyaWJ1dGlvbiBOb24gQ29tbWVyY2lhbCAyLjUgR2VuZXJpYyIsCiAgICAgICAgZmFsc2UsCiAgICAgICAgZmFsc2UKICAgIF0sCiAgICAiQ0MtQlktTkMtMy4wIjogWwogICAgICAgICJDcmVhdGl2ZSBDb21tb25zIEF0dHJpYnV0aW9uIE5vbiBDb21tZXJjaWFsIDMuMCBVbnBvcnRlZCIsCiAgICAgICAgZmFsc2UsCiAgICAgICAgZmFsc2UKICAgIF0sCiAgICAiQ0MtQlktTkMtNC4wIjogWwogICAgICAgICJDcmVhdGl2ZSBDb21tb25zIEF0dHJpYnV0aW9uIE5vbiBDb21tZXJjaWFsIDQuMCBJbnRlcm5hdGlvbmFsIiwKICAgICAgICBmYWxzZSwKICAgICAgICBmYWxzZQogICAgXSwKICAgICJDQy1CWS1OQy1ORC0xLjAiOiBbCiAgICAgICAgIkNyZWF0aXZlIENvbW1vbnMgQXR0cmlidXRpb24gTm9uIENvbW1lcmNpYWwgTm8gRGVyaXZhdGl2ZXMgMS4wIEdlbmVyaWMiLAogICAgICAgIGZhbHNlLAogICAgICAgIGZhbHNlCiAgICBdLAogICAgIkNDLUJZLU5DLU5ELTIuMCI6IFsKICAgICAgICAiQ3JlYXRpdmUgQ29tbW9ucyBBdHRyaWJ1dGlvbiBOb24gQ29tbWVyY2lhbCBObyBEZXJpdmF0aXZlcyAyLjAgR2VuZXJpYyIsCiAgICAgICAgZmFsc2UsCiAgICAgICAgZmFsc2UKICAgIF0sCiAgICAiQ0MtQlktTkMtTkQtMi41IjogWwogICAgICAgICJDcmVhdGl2ZSBDb21tb25zIEF0dHJpYnV0aW9uIE5vbiBDb21tZXJjaWFsIE5vIERlcml2YXRpdmVzIDIuNSBHZW5lcmljIiwKICAgICAgICBmYWxzZSwKICAgICAgICBmYWxzZQogICAgXSwKICAgICJDQy1CWS1OQy1ORC0zLjAiOiBbCiAgICAgICAgIkNyZWF0aXZlIENvbW1vbnMgQXR0cmlidXRpb24gTm9uIENvbW1lcmNpYWwgTm8gRGVyaXZhdGl2ZXMgMy4wIFVucG9ydGVkIiwKICAgICAgICBmYWxzZSwKICAgICAgICBmYWxzZQogICAgXSwKICAgICJDQy1CWS1OQy1ORC0zLjAtSUdPIjogWwogICAgICAgICJDcmVhdGl2ZSBDb21tb25zIEF0dHJpYnV0aW9uIE5vbiBDb21tZXJjaWFsIE5vIERlcml2YXRpdmVzIDMuMCBJR08iLAogICAgICAgIGZhbHNlLAogICAgICAgIGZhbHNlCiAgICBdLAogICAgIkNDLUJZLU5DLU5ELTQuMCI6IFsKICAgICAgICAiQ3JlYXRpdmUgQ29tbW9ucyBBdHRyaWJ1dGlvbiBOb24gQ29tbWVyY2lhbCBObyBEZXJpdmF0aXZlcyA0LjAgSW50ZXJuYXRpb25hbCIsCiAgICAgICAgZmFsc2UsCiAgICAgICAgZmFsc2UKICAgIF0sCiAgICAiQ0MtQlktTkMtU0EtMS4wIjogWwogICAgICAgICJDcmVhdGl2ZSBDb21tb25zIEF0dHJpYnV0aW9uIE5vbiBDb21tZXJjaWFsIFNoYXJlIEFsaWtlIDEuMCBHZW5lcmljIiwKICAgICAgICBmYWxzZSwKICAgICAgICBmYWxzZQogICAgXSwKICAgICJDQy1CWS1OQy1TQS0yLjAiOiBbCiAgICAgICAgIkNyZWF0aXZlIENvbW1vbnMgQXR0cmlidXRpb24gTm9uIENvbW1lcmNpYWwgU2hhcmUgQWxpa2UgMi4wIEdlbmVyaWMiLAogICAgICAgIGZhbHNlLAogICAgICAgIGZhbHNlCiAgICBdLAogICAgIkNDLUJZLU5DLVNBLTIuNSI6IFsKICAgICAgICAiQ3JlYXRpdmUgQ29tbW9ucyBBdHRyaWJ1dGlvbiBOb24gQ29tbWVyY2lhbCBTaGFyZSBBbGlrZSAyLjUgR2VuZXJpYyIsCiAgICAgICAgZmFsc2UsCiAgICAgICAgZmFsc2UKICAgIF0sCiAgICAiQ0MtQlktTkMtU0EtMy4wIjogWwogICAgICAgICJDcmVhdGl2ZSBDb21tb25zIEF0dHJpYnV0aW9uIE5vbiBDb21tZXJjaWFsIFNoYXJlIEFsaWtlIDMuMCBVbnBvcnRlZCIsCiAgICAgICAgZmFsc2UsCiAgICAgICAgZmFsc2UKICAgIF0sCiAgICAiQ0MtQlktTkMtU0EtNC4wIjogWwogICAgICAgICJDcmVhdGl2ZSBDb21tb25zIEF0dHJpYnV0aW9uIE5vbiBDb21tZXJjaWFsIFNoYXJlIEFsaWtlIDQuMCBJbnRlcm5hdGlvbmFsIiwKICAgICAgICBmYWxzZSwKICAgICAgICBmYWxzZQogICAgXSwKICAgICJDQy1CWS1ORC0xLjAiOiBbCiAgICAgICAgIkNyZWF0aXZlIENvbW1vbnMgQXR0cmlidXRpb24gTm8gRGVyaXZhdGl2ZXMgMS4wIEdlbmVyaWMiLAogICAgICAgIGZhbHNlLAogICAgICAgIGZhbHNlCiAgICBdLAogICAgIkNDLUJZLU5ELTIuMCI6IFsKICAgICAgICAiQ3JlYXRpdmUgQ29tbW9ucyBBdHRyaWJ1dGlvbiBObyBEZXJpdmF0aXZlcyAyLjAgR2VuZXJpYyIsCiAgICAgICAgZmFsc2UsCiAgICAgICAgZmFsc2UKICAgIF0sCiAgICAiQ0MtQlktTkQtMi41IjogWwogICAgICAgICJDcmVhdGl2ZSBDb21tb25zIEF0dHJpYnV0aW9uIE5vIERlcml2YXRpdmVzIDIuNSBHZW5lcmljIiwKICAgICAgICBmYWxzZSwKICAgICAgICBmYWxzZQogICAgXSwKICAgICJDQy1CWS1ORC0zLjAiOiBbCiAgICAgICAgIkNyZWF0aXZlIENvbW1vbnMgQXR0cmlidXRpb24gTm8gRGVyaXZhdGl2ZXMgMy4wIFVucG9ydGVkIiwKICAgICAgICBmYWxzZSwKICAgICAgICBmYWxzZQogICAgXSwKICAgICJDQy1CWS1ORC00LjAiOiBbCiAgICAgICAgIkNyZWF0aXZlIENvbW1vbnMgQXR0cmlidXRpb24gTm8gRGVyaXZhdGl2ZXMgNC4wIEludGVybmF0aW9uYWwiLAogICAgICAgIGZhbHNlLAogICAgICAgIGZhbHNlCiAgICBdLAogICAgIkNDLUJZLVNBLTEuMCI6IFsKICAgICAgICAiQ3JlYXRpdmUgQ29tbW9ucyBBdHRyaWJ1dGlvbiBTaGFyZSBBbGlrZSAxLjAgR2VuZXJpYyIsCiAgICAgICAgZmFsc2UsCiAgICAgICAgZmFsc2UKICAgIF0sCiAgICAiQ0MtQlktU0EtMi4wIjogWwogICAgICAgICJDcmVhdGl2ZSBDb21tb25zIEF0dHJpYnV0aW9uIFNoYXJlIEFsaWtlIDIuMCBHZW5lcmljIiwKICAgICAgICBmYWxzZSwKICAgICAgICBmYWxzZQogICAgXSwKICAgICJDQy1CWS1TQS0yLjAtVUsiOiBbCiAgICAgICAgIkNyZWF0aXZlIENvbW1vbnMgQXR0cmlidXRpb24gU2hhcmUgQWxpa2UgMi4wIEVuZ2xhbmQgYW5kIFdhbGVzIiwKICAgICAgICBmYWxzZSwKICAgICAgICBmYWxzZQogICAgXSwKICAgICJDQy1CWS1TQS0yLjUiOiBbCiAgICAgICAgIkNyZWF0aXZlIENvbW1vbnMgQXR0cmlidXRpb24gU2hhcmUgQWxpa2UgMi41IEdlbmVyaWMiLAogICAgICAgIGZhbHNlLAogICAgICAgIGZhbHNlCiAgICBdLAogICAgIkNDLUJZLVNBLTMuMCI6IFsKICAgICAgICAiQ3JlYXRpdmUgQ29tbW9ucyBBdHRyaWJ1dGlvbiBTaGFyZSBBbGlrZSAzLjAgVW5wb3J0ZWQiLAogICAgICAgIGZhbHNlLAogICAgICAgIGZhbHNlCiAgICBdLAogICAgIkNDLUJZLVNBLTMuMC1BVCI6IFsKICAgICAgICAiQ3JlYXRpdmUgQ29tbW9ucyBBdHRyaWJ1dGlvbi1TaGFyZSBBbGlrZSAzLjAgQXVzdHJpYSIsCiAgICAgICAgZmFsc2UsCiAgICAgICAgZmFsc2UKICAgIF0sCiAgICAiQ0MtQlktU0EtNC4wIjogWwogICAgICAgICJDcmVhdGl2ZSBDb21tb25zIEF0dHJpYnV0aW9uIFNoYXJlIEFsaWtlIDQuMCBJbnRlcm5hdGlvbmFsIiwKICAgICAgICBmYWxzZSwKICAgICAgICBmYWxzZQogICAgXSwKICAgICJDQy1QRERDIjogWwogICAgICAgICJDcmVhdGl2ZSBDb21tb25zIFB1YmxpYyBEb21haW4gRGVkaWNhdGlvbiBhbmQgQ2VydGlmaWNhdGlvbiIsCiAgICAgICAgZmFsc2UsCiAgICAgICAgZmFsc2UKICAgIF0sCiAgICAiQ0MwLTEuMCI6IFsKICAgICAgICAiQ3JlYXRpdmUgQ29tbW9ucyBaZXJvIHYxLjAgVW5pdmVyc2FsIiwKICAgICAgICBmYWxzZSwKICAgICAgICBmYWxzZQogICAgXSwKICAgICJDRERMLTEuMCI6IFsKICAgICAgICAiQ29tbW9uIERldmVsb3BtZW50IGFuZCBEaXN0cmlidXRpb24gTGljZW5zZSAxLjAiLAogICAgICAgIHRydWUsCiAgICAgICAgZmFsc2UKICAgIF0sCiAgICAiQ0RETC0xLjEiOiBbCiAgICAgICAgIkNvbW1vbiBEZXZlbG9wbWVudCBhbmQgRGlzdHJpYnV0aW9uIExpY2Vuc2UgMS4xIiwKICAgICAgICBmYWxzZSwKICAgICAgICBmYWxzZQogICAgXSwKICAgICJDRExBLVBlcm1pc3NpdmUtMS4wIjogWwogICAgICAgICJDb21tdW5pdHkgRGF0YSBMaWNlbnNlIEFncmVlbWVudCBQZXJtaXNzaXZlIDEuMCIsCiAgICAgICAgZmFsc2UsCiAgICAgICAgZmFsc2UKICAgIF0sCiAgICAiQ0RMQS1TaGFyaW5nLTEuMCI6IFsKICAgICAgICAiQ29tbXVuaXR5IERhdGEgTGljZW5zZSBBZ3JlZW1lbnQgU2hhcmluZyAxLjAiLAogICAgICAgIGZhbHNlLAogICAgICAgIGZhbHNlCiAgICBdLAogICAgIkNFQ0lMTC0xLjAiOiBbCiAgICAgICAgIkNlQ0lMTCBGcmVlIFNvZnR3YXJlIExpY2Vuc2UgQWdyZWVtZW50IHYxLjAiLAogICAgICAgIGZhbHNlLAogICAgICAgIGZhbHNlCiAgICBdLAogICAgIkNFQ0lMTC0xLjEiOiBbCiAgICAgICAgIkNlQ0lMTCBGcmVlIFNvZnR3YXJlIExpY2Vuc2UgQWdyZWVtZW50IHYxLjEiLAogICAgICAgIGZhbHNlLAogICAgICAgIGZhbHNlCiAgICBdLAogICAgIkNFQ0lMTC0yLjAiOiBbCiAgICAgICAgIkNlQ0lMTCBGcmVlIFNvZnR3YXJlIExpY2Vuc2UgQWdyZWVtZW50IHYyLjAiLAogICAgICAgIGZhbHNlLAogICAgICAgIGZhbHNlCiAgICBdLAogICAgIkNFQ0lMTC0yLjEiOiBbCiAgICAgICAgIkNlQ0lMTCBGcmVlIFNvZnR3YXJlIExpY2Vuc2UgQWdyZWVtZW50IHYyLjEiLAogICAgICAgIHRydWUsCiAgICAgICAgZmFsc2UKICAgIF0sCiAgICAiQ0VDSUxMLUIiOiBbCiAgICAgICAgIkNlQ0lMTC1CIEZyZWUgU29mdHdhcmUgTGljZW5zZSBBZ3JlZW1lbnQiLAogICAgICAgIGZhbHNlLAogICAgICAgIGZhbHNlCiAgICBdLAogICAgIkNFQ0lMTC1DIjogWwogICAgICAgICJDZUNJTEwtQyBGcmVlIFNvZnR3YXJlIExpY2Vuc2UgQWdyZWVtZW50IiwKICAgICAgICBmYWxzZSwKICAgICAgICBmYWxzZQogICAgXSwKICAgICJDRVJOLU9ITC0xLjEiOiBbCiAgICAgICAgIkNFUk4gT3BlbiBIYXJkd2FyZSBMaWNlbmNlIHYxLjEiLAogICAgICAgIGZhbHNlLAogICAgICAgIGZhbHNlCiAgICBdLAogICAgIkNFUk4tT0hMLTEuMiI6IFsKICAgICAgICAiQ0VSTiBPcGVuIEhhcmR3YXJlIExpY2VuY2UgdjEuMiIsCiAgICAgICAgZmFsc2UsCiAgICAgICAgZmFsc2UKICAgIF0sCiAgICAiQ0VSTi1PSEwtUC0yLjAiOiBbCiAgICAgICAgIkNFUk4gT3BlbiBIYXJkd2FyZSBMaWNlbmNlIFZlcnNpb24gMiAtIFBlcm1pc3NpdmUiLAogICAgICAgIGZhbHNlLAogICAgICAgIGZhbHNlCiAgICBdLAogICAgIkNFUk4tT0hMLVMtMi4wIjogWwogICAgICAgICJDRVJOIE9wZW4gSGFyZHdhcmUgTGljZW5jZSBWZXJzaW9uIDIgLSBTdHJvbmdseSBSZWNpcHJvY2FsIiwKICAgICAgICBmYWxzZSwKICAgICAgICBmYWxzZQogICAgXSwKICAgICJDRVJOLU9ITC1XLTIuMCI6IFsKICAgICAgICAiQ0VSTiBPcGVuIEhhcmR3YXJlIExpY2VuY2UgVmVyc2lvbiAyIC0gV2Vha2x5IFJlY2lwcm9jYWwiLAogICAgICAgIGZhbHNlLAogICAgICAgIGZhbHNlCiAgICBdLAogICAgIkNsQXJ0aXN0aWMiOiBbCiAgICAgICAgIkNsYXJpZmllZCBBcnRpc3RpYyBMaWNlbnNlIiwKICAgICAgICBmYWxzZSwKICAgICAgICBmYWxzZQogICAgXSwKICAgICJDTlJJLUp5dGhvbiI6IFsKICAgICAgICAiQ05SSSBKeXRob24gTGljZW5zZSIsCiAgICAgICAgZmFsc2UsCiAgICAgICAgZmFsc2UKICAgIF0sCiAgICAiQ05SSS1QeXRob24iOiBbCiAgICAgICAgIkNOUkkgUHl0aG9uIExpY2Vuc2UiLAogICAgICAgIHRydWUsCiAgICAgICAgZmFsc2UKICAgIF0sCiAgICAiQ05SSS1QeXRob24tR1BMLUNvbXBhdGlibGUiOiBbCiAgICAgICAgIkNOUkkgUHl0aG9uIE9wZW4gU291cmNlIEdQTCBDb21wYXRpYmxlIExpY2Vuc2UgQWdyZWVtZW50IiwKICAgICAgICBmYWxzZSwKICAgICAgICBmYWxzZQogICAgXSwKICAgICJDb25kb3ItMS4xIjogWwogICAgICAgICJDb25kb3IgUHVibGljIExpY2Vuc2UgdjEuMSIsCiAgICAgICAgZmFsc2UsCiAgICAgICAgZmFsc2UKICAgIF0sCiAgICAiY29weWxlZnQtbmV4dC0wLjMuMCI6IFsKICAgICAgICAiY29weWxlZnQtbmV4dCAwLjMuMCIsCiAgICAgICAgZmFsc2UsCiAgICAgICAgZmFsc2UKICAgIF0sCiAgICAiY29weWxlZnQtbmV4dC0wLjMuMSI6IFsKICAgICAgICAiY29weWxlZnQtbmV4dCAwLjMuMSIsCiAgICAgICAgZmFsc2UsCiAgICAgICAgZmFsc2UKICAgIF0sCiAgICAiQ1BBTC0xLjAiOiBbCiAgICAgICAgIkNvbW1vbiBQdWJsaWMgQXR0cmlidXRpb24gTGljZW5zZSAxLjAiLAogICAgICAgIHRydWUsCiAgICAgICAgZmFsc2UKICAgIF0sCiAgICAiQ1BMLTEuMCI6IFsKICAgICAgICAiQ29tbW9uIFB1YmxpYyBMaWNlbnNlIDEuMCIsCiAgICAgICAgdHJ1ZSwKICAgICAgICBmYWxzZQogICAgXSwKICAgICJDUE9MLTEuMDIiOiBbCiAgICAgICAgIkNvZGUgUHJvamVjdCBPcGVuIExpY2Vuc2UgMS4wMiIsCiAgICAgICAgZmFsc2UsCiAgICAgICAgZmFsc2UKICAgIF0sCiAgICAiQ3Jvc3N3b3JkIjogWwogICAgICAgICJDcm9zc3dvcmQgTGljZW5zZSIsCiAgICAgICAgZmFsc2UsCiAgICAgICAgZmFsc2UKICAgIF0sCiAgICAiQ3J5c3RhbFN0YWNrZXIiOiBbCiAgICAgICAgIkNyeXN0YWxTdGFja2VyIExpY2Vuc2UiLAogICAgICAgIGZhbHNlLAogICAgICAgIGZhbHNlCiAgICBdLAogICAgIkNVQS1PUEwtMS4wIjogWwogICAgICAgICJDVUEgT2ZmaWNlIFB1YmxpYyBMaWNlbnNlIHYxLjAiLAogICAgICAgIHRydWUsCiAgICAgICAgZmFsc2UKICAgIF0sCiAgICAiQ3ViZSI6IFsKICAgICAgICAiQ3ViZSBMaWNlbnNlIiwKICAgICAgICBmYWxzZSwKICAgICAgICBmYWxzZQogICAgXSwKICAgICJjdXJsIjogWwogICAgICAgICJjdXJsIExpY2Vuc2UiLAogICAgICAgIGZhbHNlLAogICAgICAgIGZhbHNlCiAgICBdLAogICAgIkQtRlNMLTEuMCI6IFsKICAgICAgICAiRGV1dHNjaGUgRnJlaWUgU29mdHdhcmUgTGl6ZW56IiwKICAgICAgICBmYWxzZSwKICAgICAgICBmYWxzZQogICAgXSwKICAgICJkaWZmbWFyayI6IFsKICAgICAgICAiZGlmZm1hcmsgbGljZW5zZSIsCiAgICAgICAgZmFsc2UsCiAgICAgICAgZmFsc2UKICAgIF0sCiAgICAiRE9DIjogWwogICAgICAgICJET0MgTGljZW5zZSIsCiAgICAgICAgZmFsc2UsCiAgICAgICAgZmFsc2UKICAgIF0sCiAgICAiRG90c2VxbiI6IFsKICAgICAgICAiRG90c2VxbiBMaWNlbnNlIiwKICAgICAgICBmYWxzZSwKICAgICAgICBmYWxzZQogICAgXSwKICAgICJEU0RQIjogWwogICAgICAgICJEU0RQIExpY2Vuc2UiLAogICAgICAgIGZhbHNlLAogICAgICAgIGZhbHNlCiAgICBdLAogICAgImR2aXBkZm0iOiBbCiAgICAgICAgImR2aXBkZm0gTGljZW5zZSIsCiAgICAgICAgZmFsc2UsCiAgICAgICAgZmFsc2UKICAgIF0sCiAgICAiRUNMLTEuMCI6IFsKICAgICAgICAiRWR1Y2F0aW9uYWwgQ29tbXVuaXR5IExpY2Vuc2UgdjEuMCIsCiAgICAgICAgdHJ1ZSwKICAgICAgICBmYWxzZQogICAgXSwKICAgICJFQ0wtMi4wIjogWwogICAgICAgICJFZHVjYXRpb25hbCBDb21tdW5pdHkgTGljZW5zZSB2Mi4wIiwKICAgICAgICB0cnVlLAogICAgICAgIGZhbHNlCiAgICBdLAogICAgImVDb3MtMi4wIjogWwogICAgICAgICJlQ29zIGxpY2Vuc2UgdmVyc2lvbiAyLjAiLAogICAgICAgIGZhbHNlLAogICAgICAgIHRydWUKICAgIF0sCiAgICAiRUZMLTEuMCI6IFsKICAgICAgICAiRWlmZmVsIEZvcnVtIExpY2Vuc2UgdjEuMCIsCiAgICAgICAgdHJ1ZSwKICAgICAgICBmYWxzZQogICAgXSwKICAgICJFRkwtMi4wIjogWwogICAgICAgICJFaWZmZWwgRm9ydW0gTGljZW5zZSB2Mi4wIiwKICAgICAgICB0cnVlLAogICAgICAgIGZhbHNlCiAgICBdLAogICAgImVHZW5peCI6IFsKICAgICAgICAiZUdlbml4LmNvbSBQdWJsaWMgTGljZW5zZSAxLjEuMCIsCiAgICAgICAgZmFsc2UsCiAgICAgICAgZmFsc2UKICAgIF0sCiAgICAiRW50ZXNzYSI6IFsKICAgICAgICAiRW50ZXNzYSBQdWJsaWMgTGljZW5zZSB2MS4wIiwKICAgICAgICB0cnVlLAogICAgICAgIGZhbHNlCiAgICBdLAogICAgIkVQSUNTIjogWwogICAgICAgICJFUElDUyBPcGVuIExpY2Vuc2UiLAogICAgICAgIGZhbHNlLAogICAgICAgIGZhbHNlCiAgICBdLAogICAgIkVQTC0xLjAiOiBbCiAgICAgICAgIkVjbGlwc2UgUHVibGljIExpY2Vuc2UgMS4wIiwKICAgICAgICB0cnVlLAogICAgICAgIGZhbHNlCiAgICBdLAogICAgIkVQTC0yLjAiOiBbCiAgICAgICAgIkVjbGlwc2UgUHVibGljIExpY2Vuc2UgMi4wIiwKICAgICAgICB0cnVlLAogICAgICAgIGZhbHNlCiAgICBdLAogICAgIkVybFBMLTEuMSI6IFsKICAgICAgICAiRXJsYW5nIFB1YmxpYyBMaWNlbnNlIHYxLjEiLAogICAgICAgIGZhbHNlLAogICAgICAgIGZhbHNlCiAgICBdLAogICAgImV0YWxhYi0yLjAiOiBbCiAgICAgICAgIkV0YWxhYiBPcGVuIExpY2Vuc2UgMi4wIiwKICAgICAgICBmYWxzZSwKICAgICAgICBmYWxzZQogICAgXSwKICAgICJFVURhdGFncmlkIjogWwogICAgICAgICJFVSBEYXRhR3JpZCBTb2Z0d2FyZSBMaWNlbnNlIiwKICAgICAgICB0cnVlLAogICAgICAgIGZhbHNlCiAgICBdLAogICAgIkVVUEwtMS4wIjogWwogICAgICAgICJFdXJvcGVhbiBVbmlvbiBQdWJsaWMgTGljZW5zZSAxLjAiLAogICAgICAgIGZhbHNlLAogICAgICAgIGZhbHNlCiAgICBdLAogICAgIkVVUEwtMS4xIjogWwogICAgICAgICJFdXJvcGVhbiBVbmlvbiBQdWJsaWMgTGljZW5zZSAxLjEiLAogICAgICAgIHRydWUsCiAgICAgICAgZmFsc2UKICAgIF0sCiAgICAiRVVQTC0xLjIiOiBbCiAgICAgICAgIkV1cm9wZWFuIFVuaW9uIFB1YmxpYyBMaWNlbnNlIDEuMiIsCiAgICAgICAgdHJ1ZSwKICAgICAgICBmYWxzZQogICAgXSwKICAgICJFdXJvc3ltIjogWwogICAgICAgICJFdXJvc3ltIExpY2Vuc2UiLAogICAgICAgIGZhbHNlLAogICAgICAgIGZhbHNlCiAgICBdLAogICAgIkZhaXIiOiBbCiAgICAgICAgIkZhaXIgTGljZW5zZSIsCiAgICAgICAgdHJ1ZSwKICAgICAgICBmYWxzZQogICAgXSwKICAgICJGcmFtZXdvcngtMS4wIjogWwogICAgICAgICJGcmFtZXdvcnggT3BlbiBMaWNlbnNlIDEuMCIsCiAgICAgICAgdHJ1ZSwKICAgICAgICBmYWxzZQogICAgXSwKICAgICJGcmVlSW1hZ2UiOiBbCiAgICAgICAgIkZyZWVJbWFnZSBQdWJsaWMgTGljZW5zZSB2MS4wIiwKICAgICAgICBmYWxzZSwKICAgICAgICBmYWxzZQogICAgXSwKICAgICJGU0ZBUCI6IFsKICAgICAgICAiRlNGIEFsbCBQZXJtaXNzaXZlIExpY2Vuc2UiLAogICAgICAgIGZhbHNlLAogICAgICAgIGZhbHNlCiAgICBdLAogICAgIkZTRlVMIjogWwogICAgICAgICJGU0YgVW5saW1pdGVkIExpY2Vuc2UiLAogICAgICAgIGZhbHNlLAogICAgICAgIGZhbHNlCiAgICBdLAogICAgIkZTRlVMTFIiOiBbCiAgICAgICAgIkZTRiBVbmxpbWl0ZWQgTGljZW5zZSAod2l0aCBMaWNlbnNlIFJldGVudGlvbikiLAogICAgICAgIGZhbHNlLAogICAgICAgIGZhbHNlCiAgICBdLAogICAgIkZUTCI6IFsKICAgICAgICAiRnJlZXR5cGUgUHJvamVjdCBMaWNlbnNlIiwKICAgICAgICBmYWxzZSwKICAgICAgICBmYWxzZQogICAgXSwKICAgICJHRkRMLTEuMSI6IFsKICAgICAgICAiR05VIEZyZWUgRG9jdW1lbnRhdGlvbiBMaWNlbnNlIHYxLjEiLAogICAgICAgIGZhbHNlLAogICAgICAgIHRydWUKICAgIF0sCiAgICAiR0ZETC0xLjEtaW52YXJpYW50cy1vbmx5IjogWwogICAgICAgICJHTlUgRnJlZSBEb2N1bWVudGF0aW9uIExpY2Vuc2UgdjEuMSBvbmx5IC0gaW52YXJpYW50cyIsCiAgICAgICAgZmFsc2UsCiAgICAgICAgZmFsc2UKICAgIF0sCiAgICAiR0ZETC0xLjEtaW52YXJpYW50cy1vci1sYXRlciI6IFsKICAgICAgICAiR05VIEZyZWUgRG9jdW1lbnRhdGlvbiBMaWNlbnNlIHYxLjEgb3IgbGF0ZXIgLSBpbnZhcmlhbnRzIiwKICAgICAgICBmYWxzZSwKICAgICAgICBmYWxzZQogICAgXSwKICAgICJHRkRMLTEuMS1uby1pbnZhcmlhbnRzLW9ubHkiOiBbCiAgICAgICAgIkdOVSBGcmVlIERvY3VtZW50YXRpb24gTGljZW5zZSB2MS4xIG9ubHkgLSBubyBpbnZhcmlhbnRzIiwKICAgICAgICBmYWxzZSwKICAgICAgICBmYWxzZQogICAgXSwKICAgICJHRkRMLTEuMS1uby1pbnZhcmlhbnRzLW9yLWxhdGVyIjogWwogICAgICAgICJHTlUgRnJlZSBEb2N1bWVudGF0aW9uIExpY2Vuc2UgdjEuMSBvciBsYXRlciAtIG5vIGludmFyaWFudHMiLAogICAgICAgIGZhbHNlLAogICAgICAgIGZhbHNlCiAgICBdLAogICAgIkdGREwtMS4xLW9ubHkiOiBbCiAgICAgICAgIkdOVSBGcmVlIERvY3VtZW50YXRpb24gTGljZW5zZSB2MS4xIG9ubHkiLAogICAgICAgIGZhbHNlLAogICAgICAgIGZhbHNlCiAgICBdLAogICAgIkdGREwtMS4xLW9yLWxhdGVyIjogWwogICAgICAgICJHTlUgRnJlZSBEb2N1bWVudGF0aW9uIExpY2Vuc2UgdjEuMSBvciBsYXRlciIsCiAgICAgICAgZmFsc2UsCiAgICAgICAgZmFsc2UKICAgIF0sCiAgICAiR0ZETC0xLjIiOiBbCiAgICAgICAgIkdOVSBGcmVlIERvY3VtZW50YXRpb24gTGljZW5zZSB2MS4yIiwKICAgICAgICBmYWxzZSwKICAgICAgICB0cnVlCiAgICBdLAogICAgIkdGREwtMS4yLWludmFyaWFudHMtb25seSI6IFsKICAgICAgICAiR05VIEZyZWUgRG9jdW1lbnRhdGlvbiBMaWNlbnNlIHYxLjIgb25seSAtIGludmFyaWFudHMiLAogICAgICAgIGZhbHNlLAogICAgICAgIGZhbHNlCiAgICBdLAogICAgIkdGREwtMS4yLWludmFyaWFudHMtb3ItbGF0ZXIiOiBbCiAgICAgICAgIkdOVSBGcmVlIERvY3VtZW50YXRpb24gTGljZW5zZSB2MS4yIG9yIGxhdGVyIC0gaW52YXJpYW50cyIsCiAgICAgICAgZmFsc2UsCiAgICAgICAgZmFsc2UKICAgIF0sCiAgICAiR0ZETC0xLjItbm8taW52YXJpYW50cy1vbmx5IjogWwogICAgICAgICJHTlUgRnJlZSBEb2N1bWVudGF0aW9uIExpY2Vuc2UgdjEuMiBvbmx5IC0gbm8gaW52YXJpYW50cyIsCiAgICAgICAgZmFsc2UsCiAgICAgICAgZmFsc2UKICAgIF0sCiAgICAiR0ZETC0xLjItbm8taW52YXJpYW50cy1vci1sYXRlciI6IFsKICAgICAgICAiR05VIEZyZWUgRG9jdW1lbnRhdGlvbiBMaWNlbnNlIHYxLjIgb3IgbGF0ZXIgLSBubyBpbnZhcmlhbnRzIiwKICAgICAgICBmYWxzZSwKICAgICAgICBmYWxzZQogICAgXSwKICAgICJHRkRMLTEuMi1vbmx5IjogWwogICAgICAgICJHTlUgRnJlZSBEb2N1bWVudGF0aW9uIExpY2Vuc2UgdjEuMiBvbmx5IiwKICAgICAgICBmYWxzZSwKICAgICAgICBmYWxzZQogICAgXSwKICAgICJHRkRMLTEuMi1vci1sYXRlciI6IFsKICAgICAgICAiR05VIEZyZWUgRG9jdW1lbnRhdGlvbiBMaWNlbnNlIHYxLjIgb3IgbGF0ZXIiLAogICAgICAgIGZhbHNlLAogICAgICAgIGZhbHNlCiAgICBdLAogICAgIkdGREwtMS4zIjogWwogICAgICAgICJHTlUgRnJlZSBEb2N1bWVudGF0aW9uIExpY2Vuc2UgdjEuMyIsCiAgICAgICAgZmFsc2UsCiAgICAgICAgdHJ1ZQogICAgXSwKICAgICJHRkRMLTEuMy1pbnZhcmlhbnRzLW9ubHkiOiBbCiAgICAgICAgIkdOVSBGcmVlIERvY3VtZW50YXRpb24gTGljZW5zZSB2MS4zIG9ubHkgLSBpbnZhcmlhbnRzIiwKICAgICAgICBmYWxzZSwKICAgICAgICBmYWxzZQogICAgXSwKICAgICJHRkRMLTEuMy1pbnZhcmlhbnRzLW9yLWxhdGVyIjogWwogICAgICAgICJHTlUgRnJlZSBEb2N1bWVudGF0aW9uIExpY2Vuc2UgdjEuMyBvciBsYXRlciAtIGludmFyaWFudHMiLAogICAgICAgIGZhbHNlLAogICAgICAgIGZhbHNlCiAgICBdLAogICAgIkdGREwtMS4zLW5vLWludmFyaWFudHMtb25seSI6IFsKICAgICAgICAiR05VIEZyZWUgRG9jdW1lbnRhdGlvbiBMaWNlbnNlIHYxLjMgb25seSAtIG5vIGludmFyaWFudHMiLAogICAgICAgIGZhbHNlLAogICAgICAgIGZhbHNlCiAgICBdLAogICAgIkdGREwtMS4zLW5vLWludmFyaWFudHMtb3ItbGF0ZXIiOiBbCiAgICAgICAgIkdOVSBGcmVlIERvY3VtZW50YXRpb24gTGljZW5zZSB2MS4zIG9yIGxhdGVyIC0gbm8gaW52YXJpYW50cyIsCiAgICAgICAgZmFsc2UsCiAgICAgICAgZmFsc2UKICAgIF0sCiAgICAiR0ZETC0xLjMtb25seSI6IFsKICAgICAgICAiR05VIEZyZWUgRG9jdW1lbnRhdGlvbiBMaWNlbnNlIHYxLjMgb25seSIsCiAgICAgICAgZmFsc2UsCiAgICAgICAgZmFsc2UKICAgIF0sCiAgICAiR0ZETC0xLjMtb3ItbGF0ZXIiOiBbCiAgICAgICAgIkdOVSBGcmVlIERvY3VtZW50YXRpb24gTGljZW5zZSB2MS4zIG9yIGxhdGVyIiwKICAgICAgICBmYWxzZSwKICAgICAgICBmYWxzZQogICAgXSwKICAgICJHaWZ0d2FyZSI6IFsKICAgICAgICAiR2lmdHdhcmUgTGljZW5zZSIsCiAgICAgICAgZmFsc2UsCiAgICAgICAgZmFsc2UKICAgIF0sCiAgICAiR0wyUFMiOiBbCiAgICAgICAgIkdMMlBTIExpY2Vuc2UiLAogICAgICAgIGZhbHNlLAogICAgICAgIGZhbHNlCiAgICBdLAogICAgIkdsaWRlIjogWwogICAgICAgICIzZGZ4IEdsaWRlIExpY2Vuc2UiLAogICAgICAgIGZhbHNlLAogICAgICAgIGZhbHNlCiAgICBdLAogICAgIkdsdWx4ZSI6IFsKICAgICAgICAiR2x1bHhlIExpY2Vuc2UiLAogICAgICAgIGZhbHNlLAogICAgICAgIGZhbHNlCiAgICBdLAogICAgIkdMV1RQTCI6IFsKICAgICAgICAiR29vZCBMdWNrIFdpdGggVGhhdCBQdWJsaWMgTGljZW5zZSIsCiAgICAgICAgZmFsc2UsCiAgICAgICAgZmFsc2UKICAgIF0sCiAgICAiZ251cGxvdCI6IFsKICAgICAgICAiZ251cGxvdCBMaWNlbnNlIiwKICAgICAgICBmYWxzZSwKICAgICAgICBmYWxzZQogICAgXSwKICAgICJHUEwtMS4wIjogWwogICAgICAgICJHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSB2MS4wIG9ubHkiLAogICAgICAgIGZhbHNlLAogICAgICAgIHRydWUKICAgIF0sCiAgICAiR1BMLTEuMCsiOiBbCiAgICAgICAgIkdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIHYxLjAgb3IgbGF0ZXIiLAogICAgICAgIGZhbHNlLAogICAgICAgIHRydWUKICAgIF0sCiAgICAiR1BMLTEuMC1vbmx5IjogWwogICAgICAgICJHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSB2MS4wIG9ubHkiLAogICAgICAgIGZhbHNlLAogICAgICAgIGZhbHNlCiAgICBdLAogICAgIkdQTC0xLjAtb3ItbGF0ZXIiOiBbCiAgICAgICAgIkdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIHYxLjAgb3IgbGF0ZXIiLAogICAgICAgIGZhbHNlLAogICAgICAgIGZhbHNlCiAgICBdLAogICAgIkdQTC0yLjAiOiBbCiAgICAgICAgIkdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIHYyLjAgb25seSIsCiAgICAgICAgdHJ1ZSwKICAgICAgICB0cnVlCiAgICBdLAogICAgIkdQTC0yLjArIjogWwogICAgICAgICJHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSB2Mi4wIG9yIGxhdGVyIiwKICAgICAgICB0cnVlLAogICAgICAgIHRydWUKICAgIF0sCiAgICAiR1BMLTIuMC1vbmx5IjogWwogICAgICAgICJHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSB2Mi4wIG9ubHkiLAogICAgICAgIHRydWUsCiAgICAgICAgZmFsc2UKICAgIF0sCiAgICAiR1BMLTIuMC1vci1sYXRlciI6IFsKICAgICAgICAiR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgdjIuMCBvciBsYXRlciIsCiAgICAgICAgdHJ1ZSwKICAgICAgICBmYWxzZQogICAgXSwKICAgICJHUEwtMi4wLXdpdGgtYXV0b2NvbmYtZXhjZXB0aW9uIjogWwogICAgICAgICJHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSB2Mi4wIHcvQXV0b2NvbmYgZXhjZXB0aW9uIiwKICAgICAgICBmYWxzZSwKICAgICAgICB0cnVlCiAgICBdLAogICAgIkdQTC0yLjAtd2l0aC1iaXNvbi1leGNlcHRpb24iOiBbCiAgICAgICAgIkdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIHYyLjAgdy9CaXNvbiBleGNlcHRpb24iLAogICAgICAgIGZhbHNlLAogICAgICAgIHRydWUKICAgIF0sCiAgICAiR1BMLTIuMC13aXRoLWNsYXNzcGF0aC1leGNlcHRpb24iOiBbCiAgICAgICAgIkdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIHYyLjAgdy9DbGFzc3BhdGggZXhjZXB0aW9uIiwKICAgICAgICBmYWxzZSwKICAgICAgICB0cnVlCiAgICBdLAogICAgIkdQTC0yLjAtd2l0aC1mb250LWV4Y2VwdGlvbiI6IFsKICAgICAgICAiR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgdjIuMCB3L0ZvbnQgZXhjZXB0aW9uIiwKICAgICAgICBmYWxzZSwKICAgICAgICB0cnVlCiAgICBdLAogICAgIkdQTC0yLjAtd2l0aC1HQ0MtZXhjZXB0aW9uIjogWwogICAgICAgICJHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSB2Mi4wIHcvR0NDIFJ1bnRpbWUgTGlicmFyeSBleGNlcHRpb24iLAogICAgICAgIGZhbHNlLAogICAgICAgIHRydWUKICAgIF0sCiAgICAiR1BMLTMuMCI6IFsKICAgICAgICAiR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgdjMuMCBvbmx5IiwKICAgICAgICB0cnVlLAogICAgICAgIHRydWUKICAgIF0sCiAgICAiR1BMLTMuMCsiOiBbCiAgICAgICAgIkdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIHYzLjAgb3IgbGF0ZXIiLAogICAgICAgIHRydWUsCiAgICAgICAgdHJ1ZQogICAgXSwKICAgICJHUEwtMy4wLW9ubHkiOiBbCiAgICAgICAgIkdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIHYzLjAgb25seSIsCiAgICAgICAgdHJ1ZSwKICAgICAgICBmYWxzZQogICAgXSwKICAgICJHUEwtMy4wLW9yLWxhdGVyIjogWwogICAgICAgICJHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSB2My4wIG9yIGxhdGVyIiwKICAgICAgICB0cnVlLAogICAgICAgIGZhbHNlCiAgICBdLAogICAgIkdQTC0zLjAtd2l0aC1hdXRvY29uZi1leGNlcHRpb24iOiBbCiAgICAgICAgIkdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIHYzLjAgdy9BdXRvY29uZiBleGNlcHRpb24iLAogICAgICAgIGZhbHNlLAogICAgICAgIHRydWUKICAgIF0sCiAgICAiR1BMLTMuMC13aXRoLUdDQy1leGNlcHRpb24iOiBbCiAgICAgICAgIkdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIHYzLjAgdy9HQ0MgUnVudGltZSBMaWJyYXJ5IGV4Y2VwdGlvbiIsCiAgICAgICAgdHJ1ZSwKICAgICAgICB0cnVlCiAgICBdLAogICAgImdTT0FQLTEuM2IiOiBbCiAgICAgICAgImdTT0FQIFB1YmxpYyBMaWNlbnNlIHYxLjNiIiwKICAgICAgICBmYWxzZSwKICAgICAgICBmYWxzZQogICAgXSwKICAgICJIYXNrZWxsUmVwb3J0IjogWwogICAgICAgICJIYXNrZWxsIExhbmd1YWdlIFJlcG9ydCBMaWNlbnNlIiwKICAgICAgICBmYWxzZSwKICAgICAgICBmYWxzZQogICAgXSwKICAgICJIaXBwb2NyYXRpYy0yLjEiOiBbCiAgICAgICAgIkhpcHBvY3JhdGljIExpY2Vuc2UgMi4xIiwKICAgICAgICBmYWxzZSwKICAgICAgICBmYWxzZQogICAgXSwKICAgICJIUE5EIjogWwogICAgICAgICJIaXN0b3JpY2FsIFBlcm1pc3Npb24gTm90aWNlIGFuZCBEaXNjbGFpbWVyIiwKICAgICAgICB0cnVlLAogICAgICAgIGZhbHNlCiAgICBdLAogICAgIkhQTkQtc2VsbC12YXJpYW50IjogWwogICAgICAgICJIaXN0b3JpY2FsIFBlcm1pc3Npb24gTm90aWNlIGFuZCBEaXNjbGFpbWVyIC0gc2VsbCB2YXJpYW50IiwKICAgICAgICBmYWxzZSwKICAgICAgICBmYWxzZQogICAgXSwKICAgICJIVE1MVElEWSI6IFsKICAgICAgICAiSFRNTCBUaWR5IExpY2Vuc2UiLAogICAgICAgIGZhbHNlLAogICAgICAgIGZhbHNlCiAgICBdLAogICAgIklCTS1waWJzIjogWwogICAgICAgICJJQk0gUG93ZXJQQyBJbml0aWFsaXphdGlvbiBhbmQgQm9vdCBTb2Z0d2FyZSIsCiAgICAgICAgZmFsc2UsCiAgICAgICAgZmFsc2UKICAgIF0sCiAgICAiSUNVIjogWwogICAgICAgICJJQ1UgTGljZW5zZSIsCiAgICAgICAgZmFsc2UsCiAgICAgICAgZmFsc2UKICAgIF0sCiAgICAiSUpHIjogWwogICAgICAgICJJbmRlcGVuZGVudCBKUEVHIEdyb3VwIExpY2Vuc2UiLAogICAgICAgIGZhbHNlLAogICAgICAgIGZhbHNlCiAgICBdLAogICAgIkltYWdlTWFnaWNrIjogWwogICAgICAgICJJbWFnZU1hZ2ljayBMaWNlbnNlIiwKICAgICAgICBmYWxzZSwKICAgICAgICBmYWxzZQogICAgXSwKICAgICJpTWF0aXgiOiBbCiAgICAgICAgImlNYXRpeCBTdGFuZGFyZCBGdW5jdGlvbiBMaWJyYXJ5IEFncmVlbWVudCIsCiAgICAgICAgZmFsc2UsCiAgICAgICAgZmFsc2UKICAgIF0sCiAgICAiSW1saWIyIjogWwogICAgICAgICJJbWxpYjIgTGljZW5zZSIsCiAgICAgICAgZmFsc2UsCiAgICAgICAgZmFsc2UKICAgIF0sCiAgICAiSW5mby1aSVAiOiBbCiAgICAgICAgIkluZm8tWklQIExpY2Vuc2UiLAogICAgICAgIGZhbHNlLAogICAgICAgIGZhbHNlCiAgICBdLAogICAgIkludGVsIjogWwogICAgICAgICJJbnRlbCBPcGVuIFNvdXJjZSBMaWNlbnNlIiwKICAgICAgICB0cnVlLAogICAgICAgIGZhbHNlCiAgICBdLAogICAgIkludGVsLUFDUEkiOiBbCiAgICAgICAgIkludGVsIEFDUEkgU29mdHdhcmUgTGljZW5zZSBBZ3JlZW1lbnQiLAogICAgICAgIGZhbHNlLAogICAgICAgIGZhbHNlCiAgICBdLAogICAgIkludGVyYmFzZS0xLjAiOiBbCiAgICAgICAgIkludGVyYmFzZSBQdWJsaWMgTGljZW5zZSB2MS4wIiwKICAgICAgICBmYWxzZSwKICAgICAgICBmYWxzZQogICAgXSwKICAgICJJUEEiOiBbCiAgICAgICAgIklQQSBGb250IExpY2Vuc2UiLAogICAgICAgIHRydWUsCiAgICAgICAgZmFsc2UKICAgIF0sCiAgICAiSVBMLTEuMCI6IFsKICAgICAgICAiSUJNIFB1YmxpYyBMaWNlbnNlIHYxLjAiLAogICAgICAgIHRydWUsCiAgICAgICAgZmFsc2UKICAgIF0sCiAgICAiSVNDIjogWwogICAgICAgICJJU0MgTGljZW5zZSIsCiAgICAgICAgdHJ1ZSwKICAgICAgICBmYWxzZQogICAgXSwKICAgICJKYXNQZXItMi4wIjogWwogICAgICAgICJKYXNQZXIgTGljZW5zZSIsCiAgICAgICAgZmFsc2UsCiAgICAgICAgZmFsc2UKICAgIF0sCiAgICAiSlBOSUMiOiBbCiAgICAgICAgIkphcGFuIE5ldHdvcmsgSW5mb3JtYXRpb24gQ2VudGVyIExpY2Vuc2UiLAogICAgICAgIGZhbHNlLAogICAgICAgIGZhbHNlCiAgICBdLAogICAgIkpTT04iOiBbCiAgICAgICAgIkpTT04gTGljZW5zZSIsCiAgICAgICAgZmFsc2UsCiAgICAgICAgZmFsc2UKICAgIF0sCiAgICAiTEFMLTEuMiI6IFsKICAgICAgICAiTGljZW5jZSBBcnQgTGlicmUgMS4yIiwKICAgICAgICBmYWxzZSwKICAgICAgICBmYWxzZQogICAgXSwKICAgICJMQUwtMS4zIjogWwogICAgICAgICJMaWNlbmNlIEFydCBMaWJyZSAxLjMiLAogICAgICAgIGZhbHNlLAogICAgICAgIGZhbHNlCiAgICBdLAogICAgIkxhdGV4MmUiOiBbCiAgICAgICAgIkxhdGV4MmUgTGljZW5zZSIsCiAgICAgICAgZmFsc2UsCiAgICAgICAgZmFsc2UKICAgIF0sCiAgICAiTGVwdG9uaWNhIjogWwogICAgICAgICJMZXB0b25pY2EgTGljZW5zZSIsCiAgICAgICAgZmFsc2UsCiAgICAgICAgZmFsc2UKICAgIF0sCiAgICAiTEdQTC0yLjAiOiBbCiAgICAgICAgIkdOVSBMaWJyYXJ5IEdlbmVyYWwgUHVibGljIExpY2Vuc2UgdjIgb25seSIsCiAgICAgICAgdHJ1ZSwKICAgICAgICB0cnVlCiAgICBdLAogICAgIkxHUEwtMi4wKyI6IFsKICAgICAgICAiR05VIExpYnJhcnkgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSB2MiBvciBsYXRlciIsCiAgICAgICAgdHJ1ZSwKICAgICAgICB0cnVlCiAgICBdLAogICAgIkxHUEwtMi4wLW9ubHkiOiBbCiAgICAgICAgIkdOVSBMaWJyYXJ5IEdlbmVyYWwgUHVibGljIExpY2Vuc2UgdjIgb25seSIsCiAgICAgICAgdHJ1ZSwKICAgICAgICBmYWxzZQogICAgXSwKICAgICJMR1BMLTIuMC1vci1sYXRlciI6IFsKICAgICAgICAiR05VIExpYnJhcnkgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSB2MiBvciBsYXRlciIsCiAgICAgICAgdHJ1ZSwKICAgICAgICBmYWxzZQogICAgXSwKICAgICJMR1BMLTIuMSI6IFsKICAgICAgICAiR05VIExlc3NlciBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIHYyLjEgb25seSIsCiAgICAgICAgdHJ1ZSwKICAgICAgICB0cnVlCiAgICBdLAogICAgIkxHUEwtMi4xKyI6IFsKICAgICAgICAiR05VIExpYnJhcnkgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSB2Mi4xIG9yIGxhdGVyIiwKICAgICAgICB0cnVlLAogICAgICAgIHRydWUKICAgIF0sCiAgICAiTEdQTC0yLjEtb25seSI6IFsKICAgICAgICAiR05VIExlc3NlciBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIHYyLjEgb25seSIsCiAgICAgICAgdHJ1ZSwKICAgICAgICBmYWxzZQogICAgXSwKICAgICJMR1BMLTIuMS1vci1sYXRlciI6IFsKICAgICAgICAiR05VIExlc3NlciBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIHYyLjEgb3IgbGF0ZXIiLAogICAgICAgIHRydWUsCiAgICAgICAgZmFsc2UKICAgIF0sCiAgICAiTEdQTC0zLjAiOiBbCiAgICAgICAgIkdOVSBMZXNzZXIgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSB2My4wIG9ubHkiLAogICAgICAgIHRydWUsCiAgICAgICAgdHJ1ZQogICAgXSwKICAgICJMR1BMLTMuMCsiOiBbCiAgICAgICAgIkdOVSBMZXNzZXIgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSB2My4wIG9yIGxhdGVyIiwKICAgICAgICB0cnVlLAogICAgICAgIHRydWUKICAgIF0sCiAgICAiTEdQTC0zLjAtb25seSI6IFsKICAgICAgICAiR05VIExlc3NlciBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIHYzLjAgb25seSIsCiAgICAgICAgdHJ1ZSwKICAgICAgICBmYWxzZQogICAgXSwKICAgICJMR1BMLTMuMC1vci1sYXRlciI6IFsKICAgICAgICAiR05VIExlc3NlciBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIHYzLjAgb3IgbGF0ZXIiLAogICAgICAgIHRydWUsCiAgICAgICAgZmFsc2UKICAgIF0sCiAgICAiTEdQTExSIjogWwogICAgICAgICJMZXNzZXIgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBGb3IgTGluZ3Vpc3RpYyBSZXNvdXJjZXMiLAogICAgICAgIGZhbHNlLAogICAgICAgIGZhbHNlCiAgICBdLAogICAgIkxpYnBuZyI6IFsKICAgICAgICAibGlicG5nIExpY2Vuc2UiLAogICAgICAgIGZhbHNlLAogICAgICAgIGZhbHNlCiAgICBdLAogICAgImxpYnBuZy0yLjAiOiBbCiAgICAgICAgIlBORyBSZWZlcmVuY2UgTGlicmFyeSB2ZXJzaW9uIDIiLAogICAgICAgIGZhbHNlLAogICAgICAgIGZhbHNlCiAgICBdLAogICAgImxpYnNlbGludXgtMS4wIjogWwogICAgICAgICJsaWJzZWxpbnV4IHB1YmxpYyBkb21haW4gbm90aWNlIiwKICAgICAgICBmYWxzZSwKICAgICAgICBmYWxzZQogICAgXSwKICAgICJsaWJ0aWZmIjogWwogICAgICAgICJsaWJ0aWZmIExpY2Vuc2UiLAogICAgICAgIGZhbHNlLAogICAgICAgIGZhbHNlCiAgICBdLAogICAgIkxpTGlRLVAtMS4xIjogWwogICAgICAgICJMaWNlbmNlIExpYnJlIGR1IFF1XHUwMGU5YmVjIFx1MjAxMyBQZXJtaXNzaXZlIHZlcnNpb24gMS4xIiwKICAgICAgICB0cnVlLAogICAgICAgIGZhbHNlCiAgICBdLAogICAgIkxpTGlRLVItMS4xIjogWwogICAgICAgICJMaWNlbmNlIExpYnJlIGR1IFF1XHUwMGU5YmVjIFx1MjAxMyBSXHUwMGU5Y2lwcm9jaXRcdTAwZTkgdmVyc2lvbiAxLjEiLAogICAgICAgIHRydWUsCiAgICAgICAgZmFsc2UKICAgIF0sCiAgICAiTGlMaVEtUnBsdXMtMS4xIjogWwogICAgICAgICJMaWNlbmNlIExpYnJlIGR1IFF1XHUwMGU5YmVjIFx1MjAxMyBSXHUwMGU5Y2lwcm9jaXRcdTAwZTkgZm9ydGUgdmVyc2lvbiAxLjEiLAogICAgICAgIHRydWUsCiAgICAgICAgZmFsc2UKICAgIF0sCiAgICAiTGludXgtT3BlbklCIjogWwogICAgICAgICJMaW51eCBLZXJuZWwgVmFyaWFudCBvZiBPcGVuSUIub3JnIGxpY2Vuc2UiLAogICAgICAgIGZhbHNlLAogICAgICAgIGZhbHNlCiAgICBdLAogICAgIkxQTC0xLjAiOiBbCiAgICAgICAgIkx1Y2VudCBQdWJsaWMgTGljZW5zZSBWZXJzaW9uIDEuMCIsCiAgICAgICAgdHJ1ZSwKICAgICAgICBmYWxzZQogICAgXSwKICAgICJMUEwtMS4wMiI6IFsKICAgICAgICAiTHVjZW50IFB1YmxpYyBMaWNlbnNlIHYxLjAyIiwKICAgICAgICB0cnVlLAogICAgICAgIGZhbHNlCiAgICBdLAogICAgIkxQUEwtMS4wIjogWwogICAgICAgICJMYVRlWCBQcm9qZWN0IFB1YmxpYyBMaWNlbnNlIHYxLjAiLAogICAgICAgIGZhbHNlLAogICAgICAgIGZhbHNlCiAgICBdLAogICAgIkxQUEwtMS4xIjogWwogICAgICAgICJMYVRlWCBQcm9qZWN0IFB1YmxpYyBMaWNlbnNlIHYxLjEiLAogICAgICAgIGZhbHNlLAogICAgICAgIGZhbHNlCiAgICBdLAogICAgIkxQUEwtMS4yIjogWwogICAgICAgICJMYVRlWCBQcm9qZWN0IFB1YmxpYyBMaWNlbnNlIHYxLjIiLAogICAgICAgIGZhbHNlLAogICAgICAgIGZhbHNlCiAgICBdLAogICAgIkxQUEwtMS4zYSI6IFsKICAgICAgICAiTGFUZVggUHJvamVjdCBQdWJsaWMgTGljZW5zZSB2MS4zYSIsCiAgICAgICAgZmFsc2UsCiAgICAgICAgZmFsc2UKICAgIF0sCiAgICAiTFBQTC0xLjNjIjogWwogICAgICAgICJMYVRlWCBQcm9qZWN0IFB1YmxpYyBMaWNlbnNlIHYxLjNjIiwKICAgICAgICB0cnVlLAogICAgICAgIGZhbHNlCiAgICBdLAogICAgIk1ha2VJbmRleCI6IFsKICAgICAgICAiTWFrZUluZGV4IExpY2Vuc2UiLAogICAgICAgIGZhbHNlLAogICAgICAgIGZhbHNlCiAgICBdLAogICAgIk1pck9TIjogWwogICAgICAgICJUaGUgTWlyT1MgTGljZW5jZSIsCiAgICAgICAgdHJ1ZSwKICAgICAgICBmYWxzZQogICAgXSwKICAgICJNSVQiOiBbCiAgICAgICAgIk1JVCBMaWNlbnNlIiwKICAgICAgICB0cnVlLAogICAgICAgIGZhbHNlCiAgICBdLAogICAgIk1JVC0wIjogWwogICAgICAgICJNSVQgTm8gQXR0cmlidXRpb24iLAogICAgICAgIHRydWUsCiAgICAgICAgZmFsc2UKICAgIF0sCiAgICAiTUlULWFkdmVydGlzaW5nIjogWwogICAgICAgICJFbmxpZ2h0ZW5tZW50IExpY2Vuc2UgKGUxNikiLAogICAgICAgIGZhbHNlLAogICAgICAgIGZhbHNlCiAgICBdLAogICAgIk1JVC1DTVUiOiBbCiAgICAgICAgIkNNVSBMaWNlbnNlIiwKICAgICAgICBmYWxzZSwKICAgICAgICBmYWxzZQogICAgXSwKICAgICJNSVQtZW5uYSI6IFsKICAgICAgICAiZW5uYSBMaWNlbnNlIiwKICAgICAgICBmYWxzZSwKICAgICAgICBmYWxzZQogICAgXSwKICAgICJNSVQtZmVoIjogWwogICAgICAgICJmZWggTGljZW5zZSIsCiAgICAgICAgZmFsc2UsCiAgICAgICAgZmFsc2UKICAgIF0sCiAgICAiTUlULW9wZW4tZ3JvdXAiOiBbCiAgICAgICAgIk1JVCBPcGVuIEdyb3VwIHZhcmlhbnQiLAogICAgICAgIGZhbHNlLAogICAgICAgIGZhbHNlCiAgICBdLAogICAgIk1JVE5GQSI6IFsKICAgICAgICAiTUlUICtuby1mYWxzZS1hdHRyaWJzIGxpY2Vuc2UiLAogICAgICAgIGZhbHNlLAogICAgICAgIGZhbHNlCiAgICBdLAogICAgIk1vdG9zb3RvIjogWwogICAgICAgICJNb3Rvc290byBMaWNlbnNlIiwKICAgICAgICB0cnVlLAogICAgICAgIGZhbHNlCiAgICBdLAogICAgIm1waWNoMiI6IFsKICAgICAgICAibXBpY2gyIExpY2Vuc2UiLAogICAgICAgIGZhbHNlLAogICAgICAgIGZhbHNlCiAgICBdLAogICAgIk1QTC0xLjAiOiBbCiAgICAgICAgIk1vemlsbGEgUHVibGljIExpY2Vuc2UgMS4wIiwKICAgICAgICB0cnVlLAogICAgICAgIGZhbHNlCiAgICBdLAogICAgIk1QTC0xLjEiOiBbCiAgICAgICAgIk1vemlsbGEgUHVibGljIExpY2Vuc2UgMS4xIiwKICAgICAgICB0cnVlLAogICAgICAgIGZhbHNlCiAgICBdLAogICAgIk1QTC0yLjAiOiBbCiAgICAgICAgIk1vemlsbGEgUHVibGljIExpY2Vuc2UgMi4wIiwKICAgICAgICB0cnVlLAogICAgICAgIGZhbHNlCiAgICBdLAogICAgIk1QTC0yLjAtbm8tY29weWxlZnQtZXhjZXB0aW9uIjogWwogICAgICAgICJNb3ppbGxhIFB1YmxpYyBMaWNlbnNlIDIuMCAobm8gY29weWxlZnQgZXhjZXB0aW9uKSIsCiAgICAgICAgdHJ1ZSwKICAgICAgICBmYWxzZQogICAgXSwKICAgICJNUy1QTCI6IFsKICAgICAgICAiTWljcm9zb2Z0IFB1YmxpYyBMaWNlbnNlIiwKICAgICAgICB0cnVlLAogICAgICAgIGZhbHNlCiAgICBdLAogICAgIk1TLVJMIjogWwogICAgICAgICJNaWNyb3NvZnQgUmVjaXByb2NhbCBMaWNlbnNlIiwKICAgICAgICB0cnVlLAogICAgICAgIGZhbHNlCiAgICBdLAogICAgIk1UTEwiOiBbCiAgICAgICAgIk1hdHJpeCBUZW1wbGF0ZSBMaWJyYXJ5IExpY2Vuc2UiLAogICAgICAgIGZhbHNlLAogICAgICAgIGZhbHNlCiAgICBdLAogICAgIk11bGFuUFNMLTEuMCI6IFsKICAgICAgICAiTXVsYW4gUGVybWlzc2l2ZSBTb2Z0d2FyZSBMaWNlbnNlLCBWZXJzaW9uIDEiLAogICAgICAgIGZhbHNlLAogICAgICAgIGZhbHNlCiAgICBdLAogICAgIk11bGFuUFNMLTIuMCI6IFsKICAgICAgICAiTXVsYW4gUGVybWlzc2l2ZSBTb2Z0d2FyZSBMaWNlbnNlLCBWZXJzaW9uIDIiLAogICAgICAgIHRydWUsCiAgICAgICAgZmFsc2UKICAgIF0sCiAgICAiTXVsdGljcyI6IFsKICAgICAgICAiTXVsdGljcyBMaWNlbnNlIiwKICAgICAgICB0cnVlLAogICAgICAgIGZhbHNlCiAgICBdLAogICAgIk11cCI6IFsKICAgICAgICAiTXVwIExpY2Vuc2UiLAogICAgICAgIGZhbHNlLAogICAgICAgIGZhbHNlCiAgICBdLAogICAgIk5BU0EtMS4zIjogWwogICAgICAgICJOQVNBIE9wZW4gU291cmNlIEFncmVlbWVudCAxLjMiLAogICAgICAgIHRydWUsCiAgICAgICAgZmFsc2UKICAgIF0sCiAgICAiTmF1bWVuIjogWwogICAgICAgICJOYXVtZW4gUHVibGljIExpY2Vuc2UiLAogICAgICAgIHRydWUsCiAgICAgICAgZmFsc2UKICAgIF0sCiAgICAiTkJQTC0xLjAiOiBbCiAgICAgICAgIk5ldCBCb29sZWFuIFB1YmxpYyBMaWNlbnNlIHYxIiwKICAgICAgICBmYWxzZSwKICAgICAgICBmYWxzZQogICAgXSwKICAgICJOQ0dMLVVLLTIuMCI6IFsKICAgICAgICAiTm9uLUNvbW1lcmNpYWwgR292ZXJubWVudCBMaWNlbmNlIiwKICAgICAgICBmYWxzZSwKICAgICAgICBmYWxzZQogICAgXSwKICAgICJOQ1NBIjogWwogICAgICAgICJVbml2ZXJzaXR5IG9mIElsbGlub2lzL05DU0EgT3BlbiBTb3VyY2UgTGljZW5zZSIsCiAgICAgICAgdHJ1ZSwKICAgICAgICBmYWxzZQogICAgXSwKICAgICJOZXQtU05NUCI6IFsKICAgICAgICAiTmV0LVNOTVAgTGljZW5zZSIsCiAgICAgICAgZmFsc2UsCiAgICAgICAgZmFsc2UKICAgIF0sCiAgICAiTmV0Q0RGIjogWwogICAgICAgICJOZXRDREYgbGljZW5zZSIsCiAgICAgICAgZmFsc2UsCiAgICAgICAgZmFsc2UKICAgIF0sCiAgICAiTmV3c2xldHIiOiBbCiAgICAgICAgIk5ld3NsZXRyIExpY2Vuc2UiLAogICAgICAgIGZhbHNlLAogICAgICAgIGZhbHNlCiAgICBdLAogICAgIk5HUEwiOiBbCiAgICAgICAgIk5ldGhhY2sgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSIsCiAgICAgICAgdHJ1ZSwKICAgICAgICBmYWxzZQogICAgXSwKICAgICJOSVNULVBEIjogWwogICAgICAgICJOSVNUIFB1YmxpYyBEb21haW4gTm90aWNlIiwKICAgICAgICBmYWxzZSwKICAgICAgICBmYWxzZQogICAgXSwKICAgICJOSVNULVBELWZhbGxiYWNrIjogWwogICAgICAgICJOSVNUIFB1YmxpYyBEb21haW4gTm90aWNlIHdpdGggbGljZW5zZSBmYWxsYmFjayIsCiAgICAgICAgZmFsc2UsCiAgICAgICAgZmFsc2UKICAgIF0sCiAgICAiTkxPRC0xLjAiOiBbCiAgICAgICAgIk5vcndlZ2lhbiBMaWNlbmNlIGZvciBPcGVuIEdvdmVybm1lbnQgRGF0YSIsCiAgICAgICAgZmFsc2UsCiAgICAgICAgZmFsc2UKICAgIF0sCiAgICAiTkxQTCI6IFsKICAgICAgICAiTm8gTGltaXQgUHVibGljIExpY2Vuc2UiLAogICAgICAgIGZhbHNlLAogICAgICAgIGZhbHNlCiAgICBdLAogICAgIk5va2lhIjogWwogICAgICAgICJOb2tpYSBPcGVuIFNvdXJjZSBMaWNlbnNlIiwKICAgICAgICB0cnVlLAogICAgICAgIGZhbHNlCiAgICBdLAogICAgIk5PU0wiOiBbCiAgICAgICAgIk5ldGl6ZW4gT3BlbiBTb3VyY2UgTGljZW5zZSIsCiAgICAgICAgZmFsc2UsCiAgICAgICAgZmFsc2UKICAgIF0sCiAgICAiTm93ZWIiOiBbCiAgICAgICAgIk5vd2ViIExpY2Vuc2UiLAogICAgICAgIGZhbHNlLAogICAgICAgIGZhbHNlCiAgICBdLAogICAgIk5QTC0xLjAiOiBbCiAgICAgICAgIk5ldHNjYXBlIFB1YmxpYyBMaWNlbnNlIHYxLjAiLAogICAgICAgIGZhbHNlLAogICAgICAgIGZhbHNlCiAgICBdLAogICAgIk5QTC0xLjEiOiBbCiAgICAgICAgIk5ldHNjYXBlIFB1YmxpYyBMaWNlbnNlIHYxLjEiLAogICAgICAgIGZhbHNlLAogICAgICAgIGZhbHNlCiAgICBdLAogICAgIk5QT1NMLTMuMCI6IFsKICAgICAgICAiTm9uLVByb2ZpdCBPcGVuIFNvZnR3YXJlIExpY2Vuc2UgMy4wIiwKICAgICAgICB0cnVlLAogICAgICAgIGZhbHNlCiAgICBdLAogICAgIk5STCI6IFsKICAgICAgICAiTlJMIExpY2Vuc2UiLAogICAgICAgIGZhbHNlLAogICAgICAgIGZhbHNlCiAgICBdLAogICAgIk5UUCI6IFsKICAgICAgICAiTlRQIExpY2Vuc2UiLAogICAgICAgIHRydWUsCiAgICAgICAgZmFsc2UKICAgIF0sCiAgICAiTlRQLTAiOiBbCiAgICAgICAgIk5UUCBObyBBdHRyaWJ1dGlvbiIsCiAgICAgICAgZmFsc2UsCiAgICAgICAgZmFsc2UKICAgIF0sCiAgICAiTnVuaXQiOiBbCiAgICAgICAgIk51bml0IExpY2Vuc2UiLAogICAgICAgIGZhbHNlLAogICAgICAgIHRydWUKICAgIF0sCiAgICAiTy1VREEtMS4wIjogWwogICAgICAgICJPcGVuIFVzZSBvZiBEYXRhIEFncmVlbWVudCB2MS4wIiwKICAgICAgICBmYWxzZSwKICAgICAgICBmYWxzZQogICAgXSwKICAgICJPQ0NULVBMIjogWwogICAgICAgICJPcGVuIENBU0NBREUgVGVjaG5vbG9neSBQdWJsaWMgTGljZW5zZSIsCiAgICAgICAgZmFsc2UsCiAgICAgICAgZmFsc2UKICAgIF0sCiAgICAiT0NMQy0yLjAiOiBbCiAgICAgICAgIk9DTEMgUmVzZWFyY2ggUHVibGljIExpY2Vuc2UgMi4wIiwKICAgICAgICB0cnVlLAogICAgICAgIGZhbHNlCiAgICBdLAogICAgIk9EYkwtMS4wIjogWwogICAgICAgICJPREMgT3BlbiBEYXRhYmFzZSBMaWNlbnNlIHYxLjAiLAogICAgICAgIGZhbHNlLAogICAgICAgIGZhbHNlCiAgICBdLAogICAgIk9EQy1CeS0xLjAiOiBbCiAgICAgICAgIk9wZW4gRGF0YSBDb21tb25zIEF0dHJpYnV0aW9uIExpY2Vuc2UgdjEuMCIsCiAgICAgICAgZmFsc2UsCiAgICAgICAgZmFsc2UKICAgIF0sCiAgICAiT0ZMLTEuMCI6IFsKICAgICAgICAiU0lMIE9wZW4gRm9udCBMaWNlbnNlIDEuMCIsCiAgICAgICAgZmFsc2UsCiAgICAgICAgZmFsc2UKICAgIF0sCiAgICAiT0ZMLTEuMC1uby1SRk4iOiBbCiAgICAgICAgIlNJTCBPcGVuIEZvbnQgTGljZW5zZSAxLjAgd2l0aCBubyBSZXNlcnZlZCBGb250IE5hbWUiLAogICAgICAgIGZhbHNlLAogICAgICAgIGZhbHNlCiAgICBdLAogICAgIk9GTC0xLjAtUkZOIjogWwogICAgICAgICJTSUwgT3BlbiBGb250IExpY2Vuc2UgMS4wIHdpdGggUmVzZXJ2ZWQgRm9udCBOYW1lIiwKICAgICAgICBmYWxzZSwKICAgICAgICBmYWxzZQogICAgXSwKICAgICJPRkwtMS4xIjogWwogICAgICAgICJTSUwgT3BlbiBGb250IExpY2Vuc2UgMS4xIiwKICAgICAgICB0cnVlLAogICAgICAgIGZhbHNlCiAgICBdLAogICAgIk9GTC0xLjEtbm8tUkZOIjogWwogICAgICAgICJTSUwgT3BlbiBGb250IExpY2Vuc2UgMS4xIHdpdGggbm8gUmVzZXJ2ZWQgRm9udCBOYW1lIiwKICAgICAgICB0cnVlLAogICAgICAgIGZhbHNlCiAgICBdLAogICAgIk9GTC0xLjEtUkZOIjogWwogICAgICAgICJTSUwgT3BlbiBGb250IExpY2Vuc2UgMS4xIHdpdGggUmVzZXJ2ZWQgRm9udCBOYW1lIiwKICAgICAgICB0cnVlLAogICAgICAgIGZhbHNlCiAgICBdLAogICAgIk9HQy0xLjAiOiBbCiAgICAgICAgIk9HQyBTb2Z0d2FyZSBMaWNlbnNlLCBWZXJzaW9uIDEuMCIsCiAgICAgICAgZmFsc2UsCiAgICAgICAgZmFsc2UKICAgIF0sCiAgICAiT0dMLUNhbmFkYS0yLjAiOiBbCiAgICAgICAgIk9wZW4gR292ZXJubWVudCBMaWNlbmNlIC0gQ2FuYWRhIiwKICAgICAgICBmYWxzZSwKICAgICAgICBmYWxzZQogICAgXSwKICAgICJPR0wtVUstMS4wIjogWwogICAgICAgICJPcGVuIEdvdmVybm1lbnQgTGljZW5jZSB2MS4wIiwKICAgICAgICBmYWxzZSwKICAgICAgICBmYWxzZQogICAgXSwKICAgICJPR0wtVUstMi4wIjogWwogICAgICAgICJPcGVuIEdvdmVybm1lbnQgTGljZW5jZSB2Mi4wIiwKICAgICAgICBmYWxzZSwKICAgICAgICBmYWxzZQogICAgXSwKICAgICJPR0wtVUstMy4wIjogWwogICAgICAgICJPcGVuIEdvdmVybm1lbnQgTGljZW5jZSB2My4wIiwKICAgICAgICBmYWxzZSwKICAgICAgICBmYWxzZQogICAgXSwKICAgICJPR1RTTCI6IFsKICAgICAgICAiT3BlbiBHcm91cCBUZXN0IFN1aXRlIExpY2Vuc2UiLAogICAgICAgIHRydWUsCiAgICAgICAgZmFsc2UKICAgIF0sCiAgICAiT0xEQVAtMS4xIjogWwogICAgICAgICJPcGVuIExEQVAgUHVibGljIExpY2Vuc2UgdjEuMSIsCiAgICAgICAgZmFsc2UsCiAgICAgICAgZmFsc2UKICAgIF0sCiAgICAiT0xEQVAtMS4yIjogWwogICAgICAgICJPcGVuIExEQVAgUHVibGljIExpY2Vuc2UgdjEuMiIsCiAgICAgICAgZmFsc2UsCiAgICAgICAgZmFsc2UKICAgIF0sCiAgICAiT0xEQVAtMS4zIjogWwogICAgICAgICJPcGVuIExEQVAgUHVibGljIExpY2Vuc2UgdjEuMyIsCiAgICAgICAgZmFsc2UsCiAgICAgICAgZmFsc2UKICAgIF0sCiAgICAiT0xEQVAtMS40IjogWwogICAgICAgICJPcGVuIExEQVAgUHVibGljIExpY2Vuc2UgdjEuNCIsCiAgICAgICAgZmFsc2UsCiAgICAgICAgZmFsc2UKICAgIF0sCiAgICAiT0xEQVAtMi4wIjogWwogICAgICAgICJPcGVuIExEQVAgUHVibGljIExpY2Vuc2UgdjIuMCAob3IgcG9zc2libHkgMi4wQSBhbmQgMi4wQikiLAogICAgICAgIGZhbHNlLAogICAgICAgIGZhbHNlCiAgICBdLAogICAgIk9MREFQLTIuMC4xIjogWwogICAgICAgICJPcGVuIExEQVAgUHVibGljIExpY2Vuc2UgdjIuMC4xIiwKICAgICAgICBmYWxzZSwKICAgICAgICBmYWxzZQogICAgXSwKICAgICJPTERBUC0yLjEiOiBbCiAgICAgICAgIk9wZW4gTERBUCBQdWJsaWMgTGljZW5zZSB2Mi4xIiwKICAgICAgICBmYWxzZSwKICAgICAgICBmYWxzZQogICAgXSwKICAgICJPTERBUC0yLjIiOiBbCiAgICAgICAgIk9wZW4gTERBUCBQdWJsaWMgTGljZW5zZSB2Mi4yIiwKICAgICAgICBmYWxzZSwKICAgICAgICBmYWxzZQogICAgXSwKICAgICJPTERBUC0yLjIuMSI6IFsKICAgICAgICAiT3BlbiBMREFQIFB1YmxpYyBMaWNlbnNlIHYyLjIuMSIsCiAgICAgICAgZmFsc2UsCiAgICAgICAgZmFsc2UKICAgIF0sCiAgICAiT0xEQVAtMi4yLjIiOiBbCiAgICAgICAgIk9wZW4gTERBUCBQdWJsaWMgTGljZW5zZSAyLjIuMiIsCiAgICAgICAgZmFsc2UsCiAgICAgICAgZmFsc2UKICAgIF0sCiAgICAiT0xEQVAtMi4zIjogWwogICAgICAgICJPcGVuIExEQVAgUHVibGljIExpY2Vuc2UgdjIuMyIsCiAgICAgICAgZmFsc2UsCiAgICAgICAgZmFsc2UKICAgIF0sCiAgICAiT0xEQVAtMi40IjogWwogICAgICAgICJPcGVuIExEQVAgUHVibGljIExpY2Vuc2UgdjIuNCIsCiAgICAgICAgZmFsc2UsCiAgICAgICAgZmFsc2UKICAgIF0sCiAgICAiT0xEQVAtMi41IjogWwogICAgICAgICJPcGVuIExEQVAgUHVibGljIExpY2Vuc2UgdjIuNSIsCiAgICAgICAgZmFsc2UsCiAgICAgICAgZmFsc2UKICAgIF0sCiAgICAiT0xEQVAtMi42IjogWwogICAgICAgICJPcGVuIExEQVAgUHVibGljIExpY2Vuc2UgdjIuNiIsCiAgICAgICAgZmFsc2UsCiAgICAgICAgZmFsc2UKICAgIF0sCiAgICAiT0xEQVAtMi43IjogWwogICAgICAgICJPcGVuIExEQVAgUHVibGljIExpY2Vuc2UgdjIuNyIsCiAgICAgICAgZmFsc2UsCiAgICAgICAgZmFsc2UKICAgIF0sCiAgICAiT0xEQVAtMi44IjogWwogICAgICAgICJPcGVuIExEQVAgUHVibGljIExpY2Vuc2UgdjIuOCIsCiAgICAgICAgdHJ1ZSwKICAgICAgICBmYWxzZQogICAgXSwKICAgICJPTUwiOiBbCiAgICAgICAgIk9wZW4gTWFya2V0IExpY2Vuc2UiLAogICAgICAgIGZhbHNlLAogICAgICAgIGZhbHNlCiAgICBdLAogICAgIk9wZW5TU0wiOiBbCiAgICAgICAgIk9wZW5TU0wgTGljZW5zZSIsCiAgICAgICAgZmFsc2UsCiAgICAgICAgZmFsc2UKICAgIF0sCiAgICAiT1BMLTEuMCI6IFsKICAgICAgICAiT3BlbiBQdWJsaWMgTGljZW5zZSB2MS4wIiwKICAgICAgICBmYWxzZSwKICAgICAgICBmYWxzZQogICAgXSwKICAgICJPU0VULVBMLTIuMSI6IFsKICAgICAgICAiT1NFVCBQdWJsaWMgTGljZW5zZSB2ZXJzaW9uIDIuMSIsCiAgICAgICAgdHJ1ZSwKICAgICAgICBmYWxzZQogICAgXSwKICAgICJPU0wtMS4wIjogWwogICAgICAgICJPcGVuIFNvZnR3YXJlIExpY2Vuc2UgMS4wIiwKICAgICAgICB0cnVlLAogICAgICAgIGZhbHNlCiAgICBdLAogICAgIk9TTC0xLjEiOiBbCiAgICAgICAgIk9wZW4gU29mdHdhcmUgTGljZW5zZSAxLjEiLAogICAgICAgIGZhbHNlLAogICAgICAgIGZhbHNlCiAgICBdLAogICAgIk9TTC0yLjAiOiBbCiAgICAgICAgIk9wZW4gU29mdHdhcmUgTGljZW5zZSAyLjAiLAogICAgICAgIHRydWUsCiAgICAgICAgZmFsc2UKICAgIF0sCiAgICAiT1NMLTIuMSI6IFsKICAgICAgICAiT3BlbiBTb2Z0d2FyZSBMaWNlbnNlIDIuMSIsCiAgICAgICAgdHJ1ZSwKICAgICAgICBmYWxzZQogICAgXSwKICAgICJPU0wtMy4wIjogWwogICAgICAgICJPcGVuIFNvZnR3YXJlIExpY2Vuc2UgMy4wIiwKICAgICAgICB0cnVlLAogICAgICAgIGZhbHNlCiAgICBdLAogICAgIlBhcml0eS02LjAuMCI6IFsKICAgICAgICAiVGhlIFBhcml0eSBQdWJsaWMgTGljZW5zZSA2LjAuMCIsCiAgICAgICAgZmFsc2UsCiAgICAgICAgZmFsc2UKICAgIF0sCiAgICAiUGFyaXR5LTcuMC4wIjogWwogICAgICAgICJUaGUgUGFyaXR5IFB1YmxpYyBMaWNlbnNlIDcuMC4wIiwKICAgICAgICBmYWxzZSwKICAgICAgICBmYWxzZQogICAgXSwKICAgICJQRERMLTEuMCI6IFsKICAgICAgICAiT0RDIFB1YmxpYyBEb21haW4gRGVkaWNhdGlvbiAmIExpY2Vuc2UgMS4wIiwKICAgICAgICBmYWxzZSwKICAgICAgICBmYWxzZQogICAgXSwKICAgICJQSFAtMy4wIjogWwogICAgICAgICJQSFAgTGljZW5zZSB2My4wIiwKICAgICAgICB0cnVlLAogICAgICAgIGZhbHNlCiAgICBdLAogICAgIlBIUC0zLjAxIjogWwogICAgICAgICJQSFAgTGljZW5zZSB2My4wMSIsCiAgICAgICAgdHJ1ZSwKICAgICAgICBmYWxzZQogICAgXSwKICAgICJQbGV4dXMiOiBbCiAgICAgICAgIlBsZXh1cyBDbGFzc3dvcmxkcyBMaWNlbnNlIiwKICAgICAgICBmYWxzZSwKICAgICAgICBmYWxzZQogICAgXSwKICAgICJQb2x5Rm9ybS1Ob25jb21tZXJjaWFsLTEuMC4wIjogWwogICAgICAgICJQb2x5Rm9ybSBOb25jb21tZXJjaWFsIExpY2Vuc2UgMS4wLjAiLAogICAgICAgIGZhbHNlLAogICAgICAgIGZhbHNlCiAgICBdLAogICAgIlBvbHlGb3JtLVNtYWxsLUJ1c2luZXNzLTEuMC4wIjogWwogICAgICAgICJQb2x5Rm9ybSBTbWFsbCBCdXNpbmVzcyBMaWNlbnNlIDEuMC4wIiwKICAgICAgICBmYWxzZSwKICAgICAgICBmYWxzZQogICAgXSwKICAgICJQb3N0Z3JlU1FMIjogWwogICAgICAgICJQb3N0Z3JlU1FMIExpY2Vuc2UiLAogICAgICAgIHRydWUsCiAgICAgICAgZmFsc2UKICAgIF0sCiAgICAiUFNGLTIuMCI6IFsKICAgICAgICAiUHl0aG9uIFNvZnR3YXJlIEZvdW5kYXRpb24gTGljZW5zZSAyLjAiLAogICAgICAgIGZhbHNlLAogICAgICAgIGZhbHNlCiAgICBdLAogICAgInBzZnJhZyI6IFsKICAgICAgICAicHNmcmFnIExpY2Vuc2UiLAogICAgICAgIGZhbHNlLAogICAgICAgIGZhbHNlCiAgICBdLAogICAgInBzdXRpbHMiOiBbCiAgICAgICAgInBzdXRpbHMgTGljZW5zZSIsCiAgICAgICAgZmFsc2UsCiAgICAgICAgZmFsc2UKICAgIF0sCiAgICAiUHl0aG9uLTIuMCI6IFsKICAgICAgICAiUHl0aG9uIExpY2Vuc2UgMi4wIiwKICAgICAgICB0cnVlLAogICAgICAgIGZhbHNlCiAgICBdLAogICAgIlFodWxsIjogWwogICAgICAgICJRaHVsbCBMaWNlbnNlIiwKICAgICAgICBmYWxzZSwKICAgICAgICBmYWxzZQogICAgXSwKICAgICJRUEwtMS4wIjogWwogICAgICAgICJRIFB1YmxpYyBMaWNlbnNlIDEuMCIsCiAgICAgICAgdHJ1ZSwKICAgICAgICBmYWxzZQogICAgXSwKICAgICJSZGlzYyI6IFsKICAgICAgICAiUmRpc2MgTGljZW5zZSIsCiAgICAgICAgZmFsc2UsCiAgICAgICAgZmFsc2UKICAgIF0sCiAgICAiUkhlQ29zLTEuMSI6IFsKICAgICAgICAiUmVkIEhhdCBlQ29zIFB1YmxpYyBMaWNlbnNlIHYxLjEiLAogICAgICAgIGZhbHNlLAogICAgICAgIGZhbHNlCiAgICBdLAogICAgIlJQTC0xLjEiOiBbCiAgICAgICAgIlJlY2lwcm9jYWwgUHVibGljIExpY2Vuc2UgMS4xIiwKICAgICAgICB0cnVlLAogICAgICAgIGZhbHNlCiAgICBdLAogICAgIlJQTC0xLjUiOiBbCiAgICAgICAgIlJlY2lwcm9jYWwgUHVibGljIExpY2Vuc2UgMS41IiwKICAgICAgICB0cnVlLAogICAgICAgIGZhbHNlCiAgICBdLAogICAgIlJQU0wtMS4wIjogWwogICAgICAgICJSZWFsTmV0d29ya3MgUHVibGljIFNvdXJjZSBMaWNlbnNlIHYxLjAiLAogICAgICAgIHRydWUsCiAgICAgICAgZmFsc2UKICAgIF0sCiAgICAiUlNBLU1EIjogWwogICAgICAgICJSU0EgTWVzc2FnZS1EaWdlc3QgTGljZW5zZSIsCiAgICAgICAgZmFsc2UsCiAgICAgICAgZmFsc2UKICAgIF0sCiAgICAiUlNDUEwiOiBbCiAgICAgICAgIlJpY29oIFNvdXJjZSBDb2RlIFB1YmxpYyBMaWNlbnNlIiwKICAgICAgICB0cnVlLAogICAgICAgIGZhbHNlCiAgICBdLAogICAgIlJ1YnkiOiBbCiAgICAgICAgIlJ1YnkgTGljZW5zZSIsCiAgICAgICAgZmFsc2UsCiAgICAgICAgZmFsc2UKICAgIF0sCiAgICAiU0FYLVBEIjogWwogICAgICAgICJTYXggUHVibGljIERvbWFpbiBOb3RpY2UiLAogICAgICAgIGZhbHNlLAogICAgICAgIGZhbHNlCiAgICBdLAogICAgIlNheHBhdGgiOiBbCiAgICAgICAgIlNheHBhdGggTGljZW5zZSIsCiAgICAgICAgZmFsc2UsCiAgICAgICAgZmFsc2UKICAgIF0sCiAgICAiU0NFQSI6IFsKICAgICAgICAiU0NFQSBTaGFyZWQgU291cmNlIExpY2Vuc2UiLAogICAgICAgIGZhbHNlLAogICAgICAgIGZhbHNlCiAgICBdLAogICAgIlNlbmRtYWlsIjogWwogICAgICAgICJTZW5kbWFpbCBMaWNlbnNlIiwKICAgICAgICBmYWxzZSwKICAgICAgICBmYWxzZQogICAgXSwKICAgICJTZW5kbWFpbC04LjIzIjogWwogICAgICAgICJTZW5kbWFpbCBMaWNlbnNlIDguMjMiLAogICAgICAgIGZhbHNlLAogICAgICAgIGZhbHNlCiAgICBdLAogICAgIlNHSS1CLTEuMCI6IFsKICAgICAgICAiU0dJIEZyZWUgU29mdHdhcmUgTGljZW5zZSBCIHYxLjAiLAogICAgICAgIGZhbHNlLAogICAgICAgIGZhbHNlCiAgICBdLAogICAgIlNHSS1CLTEuMSI6IFsKICAgICAgICAiU0dJIEZyZWUgU29mdHdhcmUgTGljZW5zZSBCIHYxLjEiLAogICAgICAgIGZhbHNlLAogICAgICAgIGZhbHNlCiAgICBdLAogICAgIlNHSS1CLTIuMCI6IFsKICAgICAgICAiU0dJIEZyZWUgU29mdHdhcmUgTGljZW5zZSBCIHYyLjAiLAogICAgICAgIGZhbHNlLAogICAgICAgIGZhbHNlCiAgICBdLAogICAgIlNITC0wLjUiOiBbCiAgICAgICAgIlNvbGRlcnBhZCBIYXJkd2FyZSBMaWNlbnNlIHYwLjUiLAogICAgICAgIGZhbHNlLAogICAgICAgIGZhbHNlCiAgICBdLAogICAgIlNITC0wLjUxIjogWwogICAgICAgICJTb2xkZXJwYWQgSGFyZHdhcmUgTGljZW5zZSwgVmVyc2lvbiAwLjUxIiwKICAgICAgICBmYWxzZSwKICAgICAgICBmYWxzZQogICAgXSwKICAgICJTaW1QTC0yLjAiOiBbCiAgICAgICAgIlNpbXBsZSBQdWJsaWMgTGljZW5zZSAyLjAiLAogICAgICAgIHRydWUsCiAgICAgICAgZmFsc2UKICAgIF0sCiAgICAiU0lTU0wiOiBbCiAgICAgICAgIlN1biBJbmR1c3RyeSBTdGFuZGFyZHMgU291cmNlIExpY2Vuc2UgdjEuMSIsCiAgICAgICAgdHJ1ZSwKICAgICAgICBmYWxzZQogICAgXSwKICAgICJTSVNTTC0xLjIiOiBbCiAgICAgICAgIlN1biBJbmR1c3RyeSBTdGFuZGFyZHMgU291cmNlIExpY2Vuc2UgdjEuMiIsCiAgICAgICAgZmFsc2UsCiAgICAgICAgZmFsc2UKICAgIF0sCiAgICAiU2xlZXB5Y2F0IjogWwogICAgICAgICJTbGVlcHljYXQgTGljZW5zZSIsCiAgICAgICAgdHJ1ZSwKICAgICAgICBmYWxzZQogICAgXSwKICAgICJTTUxOSiI6IFsKICAgICAgICAiU3RhbmRhcmQgTUwgb2YgTmV3IEplcnNleSBMaWNlbnNlIiwKICAgICAgICBmYWxzZSwKICAgICAgICBmYWxzZQogICAgXSwKICAgICJTTVBQTCI6IFsKICAgICAgICAiU2VjdXJlIE1lc3NhZ2luZyBQcm90b2NvbCBQdWJsaWMgTGljZW5zZSIsCiAgICAgICAgZmFsc2UsCiAgICAgICAgZmFsc2UKICAgIF0sCiAgICAiU05JQSI6IFsKICAgICAgICAiU05JQSBQdWJsaWMgTGljZW5zZSAxLjEiLAogICAgICAgIGZhbHNlLAogICAgICAgIGZhbHNlCiAgICBdLAogICAgIlNwZW5jZXItODYiOiBbCiAgICAgICAgIlNwZW5jZXIgTGljZW5zZSA4NiIsCiAgICAgICAgZmFsc2UsCiAgICAgICAgZmFsc2UKICAgIF0sCiAgICAiU3BlbmNlci05NCI6IFsKICAgICAgICAiU3BlbmNlciBMaWNlbnNlIDk0IiwKICAgICAgICBmYWxzZSwKICAgICAgICBmYWxzZQogICAgXSwKICAgICJTcGVuY2VyLTk5IjogWwogICAgICAgICJTcGVuY2VyIExpY2Vuc2UgOTkiLAogICAgICAgIGZhbHNlLAogICAgICAgIGZhbHNlCiAgICBdLAogICAgIlNQTC0xLjAiOiBbCiAgICAgICAgIlN1biBQdWJsaWMgTGljZW5zZSB2MS4wIiwKICAgICAgICB0cnVlLAogICAgICAgIGZhbHNlCiAgICBdLAogICAgIlNTSC1PcGVuU1NIIjogWwogICAgICAgICJTU0ggT3BlblNTSCBsaWNlbnNlIiwKICAgICAgICBmYWxzZSwKICAgICAgICBmYWxzZQogICAgXSwKICAgICJTU0gtc2hvcnQiOiBbCiAgICAgICAgIlNTSCBzaG9ydCBub3RpY2UiLAogICAgICAgIGZhbHNlLAogICAgICAgIGZhbHNlCiAgICBdLAogICAgIlNTUEwtMS4wIjogWwogICAgICAgICJTZXJ2ZXIgU2lkZSBQdWJsaWMgTGljZW5zZSwgdiAxIiwKICAgICAgICBmYWxzZSwKICAgICAgICBmYWxzZQogICAgXSwKICAgICJTdGFuZGFyZE1MLU5KIjogWwogICAgICAgICJTdGFuZGFyZCBNTCBvZiBOZXcgSmVyc2V5IExpY2Vuc2UiLAogICAgICAgIGZhbHNlLAogICAgICAgIHRydWUKICAgIF0sCiAgICAiU3VnYXJDUk0tMS4xLjMiOiBbCiAgICAgICAgIlN1Z2FyQ1JNIFB1YmxpYyBMaWNlbnNlIHYxLjEuMyIsCiAgICAgICAgZmFsc2UsCiAgICAgICAgZmFsc2UKICAgIF0sCiAgICAiU1dMIjogWwogICAgICAgICJTY2hlbWUgV2lkZ2V0IExpYnJhcnkgKFNXTCkgU29mdHdhcmUgTGljZW5zZSBBZ3JlZW1lbnQiLAogICAgICAgIGZhbHNlLAogICAgICAgIGZhbHNlCiAgICBdLAogICAgIlRBUFItT0hMLTEuMCI6IFsKICAgICAgICAiVEFQUiBPcGVuIEhhcmR3YXJlIExpY2Vuc2UgdjEuMCIsCiAgICAgICAgZmFsc2UsCiAgICAgICAgZmFsc2UKICAgIF0sCiAgICAiVENMIjogWwogICAgICAgICJUQ0wvVEsgTGljZW5zZSIsCiAgICAgICAgZmFsc2UsCiAgICAgICAgZmFsc2UKICAgIF0sCiAgICAiVENQLXdyYXBwZXJzIjogWwogICAgICAgICJUQ1AgV3JhcHBlcnMgTGljZW5zZSIsCiAgICAgICAgZmFsc2UsCiAgICAgICAgZmFsc2UKICAgIF0sCiAgICAiVE1hdGUiOiBbCiAgICAgICAgIlRNYXRlIE9wZW4gU291cmNlIExpY2Vuc2UiLAogICAgICAgIGZhbHNlLAogICAgICAgIGZhbHNlCiAgICBdLAogICAgIlRPUlFVRS0xLjEiOiBbCiAgICAgICAgIlRPUlFVRSB2Mi41KyBTb2Z0d2FyZSBMaWNlbnNlIHYxLjEiLAogICAgICAgIGZhbHNlLAogICAgICAgIGZhbHNlCiAgICBdLAogICAgIlRPU0wiOiBbCiAgICAgICAgIlRydXNzdGVyIE9wZW4gU291cmNlIExpY2Vuc2UiLAogICAgICAgIGZhbHNlLAogICAgICAgIGZhbHNlCiAgICBdLAogICAgIlRVLUJlcmxpbi0xLjAiOiBbCiAgICAgICAgIlRlY2huaXNjaGUgVW5pdmVyc2l0YWV0IEJlcmxpbiBMaWNlbnNlIDEuMCIsCiAgICAgICAgZmFsc2UsCiAgICAgICAgZmFsc2UKICAgIF0sCiAgICAiVFUtQmVybGluLTIuMCI6IFsKICAgICAgICAiVGVjaG5pc2NoZSBVbml2ZXJzaXRhZXQgQmVybGluIExpY2Vuc2UgMi4wIiwKICAgICAgICBmYWxzZSwKICAgICAgICBmYWxzZQogICAgXSwKICAgICJVQ0wtMS4wIjogWwogICAgICAgICJVcHN0cmVhbSBDb21wYXRpYmlsaXR5IExpY2Vuc2UgdjEuMCIsCiAgICAgICAgdHJ1ZSwKICAgICAgICBmYWxzZQogICAgXSwKICAgICJVbmljb2RlLURGUy0yMDE1IjogWwogICAgICAgICJVbmljb2RlIExpY2Vuc2UgQWdyZWVtZW50IC0gRGF0YSBGaWxlcyBhbmQgU29mdHdhcmUgKDIwMTUpIiwKICAgICAgICBmYWxzZSwKICAgICAgICBmYWxzZQogICAgXSwKICAgICJVbmljb2RlLURGUy0yMDE2IjogWwogICAgICAgICJVbmljb2RlIExpY2Vuc2UgQWdyZWVtZW50IC0gRGF0YSBGaWxlcyBhbmQgU29mdHdhcmUgKDIwMTYpIiwKICAgICAgICB0cnVlLAogICAgICAgIGZhbHNlCiAgICBdLAogICAgIlVuaWNvZGUtVE9VIjogWwogICAgICAgICJVbmljb2RlIFRlcm1zIG9mIFVzZSIsCiAgICAgICAgZmFsc2UsCiAgICAgICAgZmFsc2UKICAgIF0sCiAgICAiVW5saWNlbnNlIjogWwogICAgICAgICJUaGUgVW5saWNlbnNlIiwKICAgICAgICB0cnVlLAogICAgICAgIGZhbHNlCiAgICBdLAogICAgIlVQTC0xLjAiOiBbCiAgICAgICAgIlVuaXZlcnNhbCBQZXJtaXNzaXZlIExpY2Vuc2UgdjEuMCIsCiAgICAgICAgdHJ1ZSwKICAgICAgICBmYWxzZQogICAgXSwKICAgICJWaW0iOiBbCiAgICAgICAgIlZpbSBMaWNlbnNlIiwKICAgICAgICBmYWxzZSwKICAgICAgICBmYWxzZQogICAgXSwKICAgICJWT1NUUk9NIjogWwogICAgICAgICJWT1NUUk9NIFB1YmxpYyBMaWNlbnNlIGZvciBPcGVuIFNvdXJjZSIsCiAgICAgICAgZmFsc2UsCiAgICAgICAgZmFsc2UKICAgIF0sCiAgICAiVlNMLTEuMCI6IFsKICAgICAgICAiVm92aWRhIFNvZnR3YXJlIExpY2Vuc2UgdjEuMCIsCiAgICAgICAgdHJ1ZSwKICAgICAgICBmYWxzZQogICAgXSwKICAgICJXM0MiOiBbCiAgICAgICAgIlczQyBTb2Z0d2FyZSBOb3RpY2UgYW5kIExpY2Vuc2UgKDIwMDItMTItMzEpIiwKICAgICAgICB0cnVlLAogICAgICAgIGZhbHNlCiAgICBdLAogICAgIlczQy0xOTk4MDcyMCI6IFsKICAgICAgICAiVzNDIFNvZnR3YXJlIE5vdGljZSBhbmQgTGljZW5zZSAoMTk5OC0wNy0yMCkiLAogICAgICAgIGZhbHNlLAogICAgICAgIGZhbHNlCiAgICBdLAogICAgIlczQy0yMDE1MDUxMyI6IFsKICAgICAgICAiVzNDIFNvZnR3YXJlIE5vdGljZSBhbmQgRG9jdW1lbnQgTGljZW5zZSAoMjAxNS0wNS0xMykiLAogICAgICAgIGZhbHNlLAogICAgICAgIGZhbHNlCiAgICBdLAogICAgIldhdGNvbS0xLjAiOiBbCiAgICAgICAgIlN5YmFzZSBPcGVuIFdhdGNvbSBQdWJsaWMgTGljZW5zZSAxLjAiLAogICAgICAgIHRydWUsCiAgICAgICAgZmFsc2UKICAgIF0sCiAgICAiV3N1aXBhIjogWwogICAgICAgICJXc3VpcGEgTGljZW5zZSIsCiAgICAgICAgZmFsc2UsCiAgICAgICAgZmFsc2UKICAgIF0sCiAgICAiV1RGUEwiOiBbCiAgICAgICAgIkRvIFdoYXQgVGhlIEYqY2sgWW91IFdhbnQgVG8gUHVibGljIExpY2Vuc2UiLAogICAgICAgIGZhbHNlLAogICAgICAgIGZhbHNlCiAgICBdLAogICAgInd4V2luZG93cyI6IFsKICAgICAgICAid3hXaW5kb3dzIExpYnJhcnkgTGljZW5zZSIsCiAgICAgICAgZmFsc2UsCiAgICAgICAgdHJ1ZQogICAgXSwKICAgICJYMTEiOiBbCiAgICAgICAgIlgxMSBMaWNlbnNlIiwKICAgICAgICBmYWxzZSwKICAgICAgICBmYWxzZQogICAgXSwKICAgICJYZXJveCI6IFsKICAgICAgICAiWGVyb3ggTGljZW5zZSIsCiAgICAgICAgZmFsc2UsCiAgICAgICAgZmFsc2UKICAgIF0sCiAgICAiWEZyZWU4Ni0xLjEiOiBbCiAgICAgICAgIlhGcmVlODYgTGljZW5zZSAxLjEiLAogICAgICAgIGZhbHNlLAogICAgICAgIGZhbHNlCiAgICBdLAogICAgInhpbmV0ZCI6IFsKICAgICAgICAieGluZXRkIExpY2Vuc2UiLAogICAgICAgIGZhbHNlLAogICAgICAgIGZhbHNlCiAgICBdLAogICAgIlhuZXQiOiBbCiAgICAgICAgIlguTmV0IExpY2Vuc2UiLAogICAgICAgIHRydWUsCiAgICAgICAgZmFsc2UKICAgIF0sCiAgICAieHBwIjogWwogICAgICAgICJYUFAgTGljZW5zZSIsCiAgICAgICAgZmFsc2UsCiAgICAgICAgZmFsc2UKICAgIF0sCiAgICAiWFNrYXQiOiBbCiAgICAgICAgIlhTa2F0IExpY2Vuc2UiLAogICAgICAgIGZhbHNlLAogICAgICAgIGZhbHNlCiAgICBdLAogICAgIllQTC0xLjAiOiBbCiAgICAgICAgIllhaG9vISBQdWJsaWMgTGljZW5zZSB2MS4wIiwKICAgICAgICBmYWxzZSwKICAgICAgICBmYWxzZQogICAgXSwKICAgICJZUEwtMS4xIjogWwogICAgICAgICJZYWhvbyEgUHVibGljIExpY2Vuc2UgdjEuMSIsCiAgICAgICAgZmFsc2UsCiAgICAgICAgZmFsc2UKICAgIF0sCiAgICAiWmVkIjogWwogICAgICAgICJaZWQgTGljZW5zZSIsCiAgICAgICAgZmFsc2UsCiAgICAgICAgZmFsc2UKICAgIF0sCiAgICAiWmVuZC0yLjAiOiBbCiAgICAgICAgIlplbmQgTGljZW5zZSB2Mi4wIiwKICAgICAgICBmYWxzZSwKICAgICAgICBmYWxzZQogICAgXSwKICAgICJaaW1icmEtMS4zIjogWwogICAgICAgICJaaW1icmEgUHVibGljIExpY2Vuc2UgdjEuMyIsCiAgICAgICAgZmFsc2UsCiAgICAgICAgZmFsc2UKICAgIF0sCiAgICAiWmltYnJhLTEuNCI6IFsKICAgICAgICAiWmltYnJhIFB1YmxpYyBMaWNlbnNlIHYxLjQiLAogICAgICAgIGZhbHNlLAogICAgICAgIGZhbHNlCiAgICBdLAogICAgIlpsaWIiOiBbCiAgICAgICAgInpsaWIgTGljZW5zZSIsCiAgICAgICAgdHJ1ZSwKICAgICAgICBmYWxzZQogICAgXSwKICAgICJ6bGliLWFja25vd2xlZGdlbWVudCI6IFsKICAgICAgICAiemxpYi9saWJwbmcgTGljZW5zZSB3aXRoIEFja25vd2xlZGdlbWVudCIsCiAgICAgICAgZmFsc2UsCiAgICAgICAgZmFsc2UKICAgIF0sCiAgICAiWlBMLTEuMSI6IFsKICAgICAgICAiWm9wZSBQdWJsaWMgTGljZW5zZSAxLjEiLAogICAgICAgIGZhbHNlLAogICAgICAgIGZhbHNlCiAgICBdLAogICAgIlpQTC0yLjAiOiBbCiAgICAgICAgIlpvcGUgUHVibGljIExpY2Vuc2UgMi4wIiwKICAgICAgICB0cnVlLAogICAgICAgIGZhbHNlCiAgICBdLAogICAgIlpQTC0yLjEiOiBbCiAgICAgICAgIlpvcGUgUHVibGljIExpY2Vuc2UgMi4xIiwKICAgICAgICBmYWxzZSwKICAgICAgICBmYWxzZQogICAgXQp9PD9waHAKCgoKCgoKCgoKCm5hbWVzcGFjZSBDb21wb3NlclxTcGR4OwoKY2xhc3MgU3BkeExpY2Vuc2VzCnsKCmNvbnN0IExJQ0VOU0VTX0ZJTEUgPSAnc3BkeC1saWNlbnNlcy5qc29uJzsKCgpjb25zdCBFWENFUFRJT05TX0ZJTEUgPSAnc3BkeC1leGNlcHRpb25zLmpzb24nOwoKCgoKCgoKCgoKCgoKCnByaXZhdGUgJGxpY2Vuc2VzOwoKCgoKcHJpdmF0ZSAkbGljZW5zZXNFeHByZXNzaW9uOwoKCgoKCgoKCgoKCgoKCnByaXZhdGUgJGV4Y2VwdGlvbnM7CgoKCgpwcml2YXRlICRleGNlcHRpb25zRXhwcmVzc2lvbjsKCnB1YmxpYyBmdW5jdGlvbiBfX2NvbnN0cnVjdCgpCnsKJHRoaXMtPmxvYWRMaWNlbnNlcygpOwokdGhpcy0+bG9hZEV4Y2VwdGlvbnMoKTsKfQoKCgoKCgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIGdldExpY2Vuc2VCeUlkZW50aWZpZXIoJGlkZW50aWZpZXIpCnsKJGtleSA9IHN0cnRvbG93ZXIoJGlkZW50aWZpZXIpOwoKaWYgKCFpc3NldCgkdGhpcy0+bGljZW5zZXNbJGtleV0pKSB7CnJldHVybjsKfQoKbGlzdCgkaWRlbnRpZmllciwgJG5hbWUsICRpc09zaUFwcHJvdmVkLCAkaXNEZXByZWNhdGVkTGljZW5zZUlkKSA9ICR0aGlzLT5saWNlbnNlc1ska2V5XTsKCnJldHVybiBhcnJheSgKJG5hbWUsCiRpc09zaUFwcHJvdmVkLAonaHR0cHM6Ly9zcGR4Lm9yZy9saWNlbnNlcy8nIC4gJGlkZW50aWZpZXIgLiAnLmh0bWwjbGljZW5zZVRleHQnLAokaXNEZXByZWNhdGVkTGljZW5zZUlkLAopOwp9CgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBnZXRMaWNlbnNlcygpCnsKcmV0dXJuICR0aGlzLT5saWNlbnNlczsKfQoKCgoKCgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIGdldEV4Y2VwdGlvbkJ5SWRlbnRpZmllcigkaWRlbnRpZmllcikKewoka2V5ID0gc3RydG9sb3dlcigkaWRlbnRpZmllcik7CgppZiAoIWlzc2V0KCR0aGlzLT5leGNlcHRpb25zWyRrZXldKSkgewpyZXR1cm47Cn0KCmxpc3QoJGlkZW50aWZpZXIsICRuYW1lKSA9ICR0aGlzLT5leGNlcHRpb25zWyRrZXldOwoKcmV0dXJuIGFycmF5KAokbmFtZSwKJ2h0dHBzOi8vc3BkeC5vcmcvbGljZW5zZXMvJyAuICRpZGVudGlmaWVyIC4gJy5odG1sI2xpY2Vuc2VFeGNlcHRpb25UZXh0JywKKTsKfQoKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBnZXRJZGVudGlmaWVyQnlOYW1lKCRuYW1lKQp7CmZvcmVhY2ggKCR0aGlzLT5saWNlbnNlcyBhcyAkbGljZW5zZURhdGEpIHsKaWYgKCRsaWNlbnNlRGF0YVsxXSA9PT0gJG5hbWUpIHsKcmV0dXJuICRsaWNlbnNlRGF0YVswXTsKfQp9Cgpmb3JlYWNoICgkdGhpcy0+ZXhjZXB0aW9ucyBhcyAkbGljZW5zZURhdGEpIHsKaWYgKCRsaWNlbnNlRGF0YVsxXSA9PT0gJG5hbWUpIHsKcmV0dXJuICRsaWNlbnNlRGF0YVswXTsKfQp9Cn0KCgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gaXNPc2lBcHByb3ZlZEJ5SWRlbnRpZmllcigkaWRlbnRpZmllcikKewpyZXR1cm4gJHRoaXMtPmxpY2Vuc2VzW3N0cnRvbG93ZXIoJGlkZW50aWZpZXIpXVsyXTsKfQoKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBpc0RlcHJlY2F0ZWRCeUlkZW50aWZpZXIoJGlkZW50aWZpZXIpCnsKcmV0dXJuICR0aGlzLT5saWNlbnNlc1tzdHJ0b2xvd2VyKCRpZGVudGlmaWVyKV1bM107Cn0KCgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gdmFsaWRhdGUoJGxpY2Vuc2UpCnsKaWYgKGlzX2FycmF5KCRsaWNlbnNlKSkgewokY291bnQgPSBjb3VudCgkbGljZW5zZSk7CmlmICgkY291bnQgIT09IGNvdW50KGFycmF5X2ZpbHRlcigkbGljZW5zZSwgJ2lzX3N0cmluZycpKSkgewp0aHJvdyBuZXcgXEludmFsaWRBcmd1bWVudEV4Y2VwdGlvbignQXJyYXkgb2Ygc3RyaW5ncyBleHBlY3RlZC4nKTsKfQokbGljZW5zZSA9ICRjb3VudCA+IDEgPyAnKCcgLiBpbXBsb2RlKCcgT1IgJywgJGxpY2Vuc2UpIC4gJyknIDogKHN0cmluZykgcmVzZXQoJGxpY2Vuc2UpOwp9CgppZiAoIWlzX3N0cmluZygkbGljZW5zZSkpIHsKdGhyb3cgbmV3IFxJbnZhbGlkQXJndW1lbnRFeGNlcHRpb24oc3ByaW50ZigKJ0FycmF5IG9yIFN0cmluZyBleHBlY3RlZCwgJXMgZ2l2ZW4uJywKZ2V0dHlwZSgkbGljZW5zZSkKKSk7Cn0KCnJldHVybiAkdGhpcy0+aXNWYWxpZExpY2Vuc2VTdHJpbmcoJGxpY2Vuc2UpOwp9CgoKCgpwdWJsaWMgc3RhdGljIGZ1bmN0aW9uIGdldFJlc291cmNlc0RpcigpCnsKcmV0dXJuIGRpcm5hbWUoX19ESVJfXykgLiAnL3Jlcyc7Cn0KCnByaXZhdGUgZnVuY3Rpb24gbG9hZExpY2Vuc2VzKCkKewppZiAobnVsbCAhPT0gJHRoaXMtPmxpY2Vuc2VzKSB7CnJldHVybjsKfQoKJGpzb24gPSBmaWxlX2dldF9jb250ZW50cyhzZWxmOjpnZXRSZXNvdXJjZXNEaXIoKSAuICcvJyAuIHNlbGY6OkxJQ0VOU0VTX0ZJTEUpOwokdGhpcy0+bGljZW5zZXMgPSBhcnJheSgpOwoKZm9yZWFjaCAoanNvbl9kZWNvZGUoJGpzb24sIHRydWUpIGFzICRpZGVudGlmaWVyID0+ICRsaWNlbnNlKSB7CiR0aGlzLT5saWNlbnNlc1tzdHJ0b2xvd2VyKCRpZGVudGlmaWVyKV0gPSBhcnJheSgkaWRlbnRpZmllciwgJGxpY2Vuc2VbMF0sICRsaWNlbnNlWzFdLCAkbGljZW5zZVsyXSk7Cn0KfQoKcHJpdmF0ZSBmdW5jdGlvbiBsb2FkRXhjZXB0aW9ucygpCnsKaWYgKG51bGwgIT09ICR0aGlzLT5leGNlcHRpb25zKSB7CnJldHVybjsKfQoKJGpzb24gPSBmaWxlX2dldF9jb250ZW50cyhzZWxmOjpnZXRSZXNvdXJjZXNEaXIoKSAuICcvJyAuIHNlbGY6OkVYQ0VQVElPTlNfRklMRSk7CiR0aGlzLT5leGNlcHRpb25zID0gYXJyYXkoKTsKCmZvcmVhY2ggKGpzb25fZGVjb2RlKCRqc29uLCB0cnVlKSBhcyAkaWRlbnRpZmllciA9PiAkZXhjZXB0aW9uKSB7CiR0aGlzLT5leGNlcHRpb25zW3N0cnRvbG93ZXIoJGlkZW50aWZpZXIpXSA9IGFycmF5KCRpZGVudGlmaWVyLCAkZXhjZXB0aW9uWzBdKTsKfQp9CgoKCgpwcml2YXRlIGZ1bmN0aW9uIGdldExpY2Vuc2VzRXhwcmVzc2lvbigpCnsKaWYgKG51bGwgPT09ICR0aGlzLT5saWNlbnNlc0V4cHJlc3Npb24pIHsKJGxpY2Vuc2VzID0gYXJyYXlfbWFwKCdwcmVnX3F1b3RlJywgYXJyYXlfa2V5cygkdGhpcy0+bGljZW5zZXMpKTsKcnNvcnQoJGxpY2Vuc2VzKTsKJGxpY2Vuc2VzID0gaW1wbG9kZSgnfCcsICRsaWNlbnNlcyk7CiR0aGlzLT5saWNlbnNlc0V4cHJlc3Npb24gPSAkbGljZW5zZXM7Cn0KCnJldHVybiAkdGhpcy0+bGljZW5zZXNFeHByZXNzaW9uOwp9CgoKCgpwcml2YXRlIGZ1bmN0aW9uIGdldEV4Y2VwdGlvbnNFeHByZXNzaW9uKCkKewppZiAobnVsbCA9PT0gJHRoaXMtPmV4Y2VwdGlvbnNFeHByZXNzaW9uKSB7CiRleGNlcHRpb25zID0gYXJyYXlfbWFwKCdwcmVnX3F1b3RlJywgYXJyYXlfa2V5cygkdGhpcy0+ZXhjZXB0aW9ucykpOwpyc29ydCgkZXhjZXB0aW9ucyk7CiRleGNlcHRpb25zID0gaW1wbG9kZSgnfCcsICRleGNlcHRpb25zKTsKJHRoaXMtPmV4Y2VwdGlvbnNFeHByZXNzaW9uID0gJGV4Y2VwdGlvbnM7Cn0KCnJldHVybiAkdGhpcy0+ZXhjZXB0aW9uc0V4cHJlc3Npb247Cn0KCgoKCgoKCgpwcml2YXRlIGZ1bmN0aW9uIGlzVmFsaWRMaWNlbnNlU3RyaW5nKCRsaWNlbnNlKQp7CmlmIChpc3NldCgkdGhpcy0+bGljZW5zZXNbc3RydG9sb3dlcigkbGljZW5zZSldKSkgewpyZXR1cm4gdHJ1ZTsKfQoKJGxpY2Vuc2VzID0gJHRoaXMtPmdldExpY2Vuc2VzRXhwcmVzc2lvbigpOwokZXhjZXB0aW9ucyA9ICR0aGlzLT5nZXRFeGNlcHRpb25zRXhwcmVzc2lvbigpOwoKJHJlZ2V4ID0gPDw8UkVHRVgKewooPyhERUZJTkUpCiAgICAjIGlkc3RyaW5nOiAxKiggQUxQSEEgLyBESUdJVCAvIC0gLyAuICkKICAgICg/PGlkc3RyaW5nPltccExccE4uLV17MSx9KQoKICAgICMgbGljZW5zZS1pZDogdGFrZW4gZnJvbSBsaXN0CiAgICAoPzxsaWNlbnNlaWQ+JHtsaWNlbnNlc30pCgogICAgIyBsaWNlbnNlLWV4Y2VwdGlvbi1pZDogdGFrZW4gZnJvbSBsaXN0CiAgICAoPzxsaWNlbnNlZXhjZXB0aW9uaWQ+JHtleGNlcHRpb25zfSkKCiAgICAjIGxpY2Vuc2UtcmVmOiBbRG9jdW1lbnRSZWYtMSooaWRzdHJpbmcpOl1MaWNlbnNlUmVmLTEqKGlkc3RyaW5nKQogICAgKD88bGljZW5zZXJlZj4oPzpEb2N1bWVudFJlZi0oPyZpZHN0cmluZyk6KT9MaWNlbnNlUmVmLSg/Jmlkc3RyaW5nKSkKCiAgICAjIHNpbXBsZS1leHByZXNzc2lvbjogbGljZW5zZS1pZCAvIGxpY2Vuc2UtaWQrIC8gbGljZW5zZS1yZWYKICAgICg/PHNpbXBsZV9leHByZXNzaW9uPig/JmxpY2Vuc2VpZClcKz8gfCAoPyZsaWNlbnNlaWQpIHwgKD8mbGljZW5zZXJlZikpCgogICAgIyBjb21wb3VuZC1leHByZXNzaW9uOiAxKigKICAgICMgICBzaW1wbGUtZXhwcmVzc2lvbiAvCiAgICAjICAgc2ltcGxlLWV4cHJlc3Npb24gV0lUSCBsaWNlbnNlLWV4Y2VwdGlvbi1pZCAvCiAgICAjICAgY29tcG91bmQtZXhwcmVzc2lvbiBBTkQgY29tcG91bmQtZXhwcmVzc2lvbiAvCiAgICAjICAgY29tcG91bmQtZXhwcmVzc2lvbiBPUiBjb21wb3VuZC1leHByZXNzaW9uCiAgICAjICkgLyAoIGNvbXBvdW5kLWV4cHJlc3Npb24gKSApCiAgICAoPzxjb21wb3VuZF9oZWFkPgogICAgICAgICg/JnNpbXBsZV9leHByZXNzaW9uKSAoIFxzKyBXSVRIIFxzKyAoPyZsaWNlbnNlZXhjZXB0aW9uaWQpKT8KICAgICAgICAgICAgfCBcKCBccyogKD8mY29tcG91bmRfZXhwcmVzc2lvbikgXHMqIFwpCiAgICApCiAgICAoPzxjb21wb3VuZF9leHByZXNzaW9uPgogICAgICAgICg/JmNvbXBvdW5kX2hlYWQpICg/OiBccysgKD86QU5EfE9SKSBccysgKD8mY29tcG91bmRfZXhwcmVzc2lvbikpPwogICAgKQoKICAgICMgbGljZW5zZS1leHByZXNzaW9uOiAxKjEoc2ltcGxlLWV4cHJlc3Npb24gLyBjb21wb3VuZC1leHByZXNzaW9uKQogICAgKD88bGljZW5zZV9leHByZXNzaW9uPig/JmNvbXBvdW5kX2V4cHJlc3Npb24pIHwgKD8mc2ltcGxlX2V4cHJlc3Npb24pKQopICMgZW5kIG9mIGRlZmluZQoKXihOT05FIHwgTk9BU1NFUlRJT04gfCAoPyZsaWNlbnNlX2V4cHJlc3Npb24pKSQKfXhpClJFR0VYOwoKJG1hdGNoID0gcHJlZ19tYXRjaCgkcmVnZXgsICRsaWNlbnNlKTsKCmlmICgwID09PSAkbWF0Y2gpIHsKcmV0dXJuIGZhbHNlOwp9CgppZiAoZmFsc2UgPT09ICRtYXRjaCkgewp0aHJvdyBuZXcgXFJ1bnRpbWVFeGNlcHRpb24oJ1JlZ2V4IGZhaWxlZCB0byBjb21waWxlL3J1bi4nKTsKfQoKcmV0dXJuIHRydWU7Cn0KfQoKTUlUIExpY2Vuc2UKCkNvcHlyaWdodCAoYykgMjAxNyBDb21wb3NlcgoKUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGEgY29weQpvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZSAiU29mdHdhcmUiKSwgdG8gZGVhbAppbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzCnRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwKY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzCmZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6CgpUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZCBpbiBhbGwKY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS4KClRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCAiQVMgSVMiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SCklNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLApGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUKQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUgpMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLApPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRQpTT0ZUV0FSRS4KCjw/cGhwCgoKCgoKCgoKCgpuYW1lc3BhY2UgQ29tcG9zZXJcWGRlYnVnSGFuZGxlcjsKCgoKCmNsYXNzIFBocENvbmZpZwp7CgoKCgoKcHVibGljIGZ1bmN0aW9uIHVzZU9yaWdpbmFsKCkKewokdGhpcy0+Z2V0RGF0YUFuZFJlc2V0KCk7CnJldHVybiBhcnJheSgpOwp9CgoKCgoKCnB1YmxpYyBmdW5jdGlvbiB1c2VTdGFuZGFyZCgpCnsKaWYgKCRkYXRhID0gJHRoaXMtPmdldERhdGFBbmRSZXNldCgpKSB7CnJldHVybiBhcnJheSgnLW4nLCAnLWMnLCAkZGF0YVsndG1wSW5pJ10pOwp9CgpyZXR1cm4gYXJyYXkoKTsKfQoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gdXNlUGVyc2lzdGVudCgpCnsKaWYgKCRkYXRhID0gJHRoaXMtPmdldERhdGFBbmRSZXNldCgpKSB7CiR0aGlzLT51cGRhdGVFbnYoJ1BIUFJDJywgJGRhdGFbJ3RtcEluaSddKTsKJHRoaXMtPnVwZGF0ZUVudignUEhQX0lOSV9TQ0FOX0RJUicsICcnKTsKfQoKcmV0dXJuIGFycmF5KCk7Cn0KCgoKCgoKcHJpdmF0ZSBmdW5jdGlvbiBnZXREYXRhQW5kUmVzZXQoKQp7CmlmICgkZGF0YSA9IFhkZWJ1Z0hhbmRsZXI6OmdldFJlc3RhcnRTZXR0aW5ncygpKSB7CiR0aGlzLT51cGRhdGVFbnYoJ1BIUFJDJywgJGRhdGFbJ3BocHJjJ10pOwokdGhpcy0+dXBkYXRlRW52KCdQSFBfSU5JX1NDQU5fRElSJywgJGRhdGFbJ3NjYW5EaXInXSk7Cn0KCnJldHVybiAkZGF0YTsKfQoKCgoKCgoKcHJpdmF0ZSBmdW5jdGlvbiB1cGRhdGVFbnYoJG5hbWUsICR2YWx1ZSkKewpQcm9jZXNzOjpzZXRFbnYoJG5hbWUsIGZhbHNlICE9PSAkdmFsdWUgPyAkdmFsdWUgOiBudWxsKTsKfQp9Cjw/cGhwCgoKCgoKCgoKCgpuYW1lc3BhY2UgQ29tcG9zZXJcWGRlYnVnSGFuZGxlcjsKCgoKCgoKY2xhc3MgUHJvY2Vzcwp7CgoKCgoKCgoKCgoKCnB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gZXNjYXBlKCRhcmcsICRtZXRhID0gdHJ1ZSwgJG1vZHVsZSA9IGZhbHNlKQp7CmlmICghZGVmaW5lZCgnUEhQX1dJTkRPV1NfVkVSU0lPTl9CVUlMRCcpKSB7CnJldHVybiAiJyIuc3RyX3JlcGxhY2UoIiciLCAiJ1xcJyciLCAkYXJnKS4iJyI7Cn0KCiRxdW90ZSA9IHN0cnBicmsoJGFyZywgIiBcdCIpICE9PSBmYWxzZSB8fCAkYXJnID09PSAnJzsKCiRhcmcgPSBwcmVnX3JlcGxhY2UoJy8oXFxcXCopIi8nLCAnJDEkMVxcIicsICRhcmcsIC0xLCAkZHF1b3Rlcyk7CgppZiAoJG1ldGEpIHsKJG1ldGEgPSAkZHF1b3RlcyB8fCBwcmVnX21hdGNoKCcvJVteJV0rJS8nLCAkYXJnKTsKCmlmICghJG1ldGEpIHsKJHF1b3RlID0gJHF1b3RlIHx8IHN0cnBicmsoJGFyZywgJ14mfDw+KCknKSAhPT0gZmFsc2U7Cn0gZWxzZWlmICgkbW9kdWxlICYmICEkZHF1b3RlcyAmJiAkcXVvdGUpIHsKJG1ldGEgPSBmYWxzZTsKfQp9CgppZiAoJHF1b3RlKSB7CiRhcmcgPSAnIicucHJlZ19yZXBsYWNlKCcvKFxcXFwqKSQvJywgJyQxJDEnLCAkYXJnKS4nIic7Cn0KCmlmICgkbWV0YSkgewokYXJnID0gcHJlZ19yZXBsYWNlKCcvKFsiXiZ8PD4oKSVdKS8nLCAnXiQxJywgJGFyZyk7Cn0KCnJldHVybiAkYXJnOwp9CgoKCgoKCgoKcHVibGljIHN0YXRpYyBmdW5jdGlvbiBlc2NhcGVTaGVsbENvbW1hbmQoYXJyYXkgJGFyZ3MpCnsKJGNtZCA9IHNlbGY6OmVzY2FwZShhcnJheV9zaGlmdCgkYXJncyksIHRydWUsIHRydWUpOwpmb3JlYWNoICgkYXJncyBhcyAkYXJnKSB7CiRjbWQgLj0gJyAnLnNlbGY6OmVzY2FwZSgkYXJnKTsKfQoKcmV0dXJuICRjbWQ7Cn0KCgoKCgoKCgoKcHVibGljIHN0YXRpYyBmdW5jdGlvbiBzZXRFbnYoJG5hbWUsICR2YWx1ZSA9IG51bGwpCnsKJHVuc2V0ID0gbnVsbCA9PT0gJHZhbHVlOwoKaWYgKCFwdXRlbnYoJHVuc2V0ID8gJG5hbWUgOiAkbmFtZS4nPScuJHZhbHVlKSkgewpyZXR1cm4gZmFsc2U7Cn0KCmlmICgkdW5zZXQpIHsKdW5zZXQoJF9TRVJWRVJbJG5hbWVdKTsKfSBlbHNlIHsKJF9TRVJWRVJbJG5hbWVdID0gJHZhbHVlOwp9CgoKaWYgKGZhbHNlICE9PSBzdHJpcG9zKChzdHJpbmcpIGluaV9nZXQoJ3ZhcmlhYmxlc19vcmRlcicpLCAnRScpKSB7CmlmICgkdW5zZXQpIHsKdW5zZXQoJF9FTlZbJG5hbWVdKTsKfSBlbHNlIHsKJF9FTlZbJG5hbWVdID0gJHZhbHVlOwp9Cn0KCnJldHVybiB0cnVlOwp9Cn0KPD9waHAKCgoKCgoKCgoKCm5hbWVzcGFjZSBDb21wb3NlclxYZGVidWdIYW5kbGVyOwoKdXNlIFBzclxMb2dcTG9nZ2VySW50ZXJmYWNlOwp1c2UgUHNyXExvZ1xMb2dMZXZlbDsKCgoKCgpjbGFzcyBTdGF0dXMKewpjb25zdCBFTlZfUkVTVEFSVCA9ICdYREVCVUdfSEFORExFUl9SRVNUQVJUJzsKY29uc3QgQ0hFQ0sgPSAnQ2hlY2snOwpjb25zdCBFUlJPUiA9ICdFcnJvcic7CmNvbnN0IElORk8gPSAnSW5mbyc7CmNvbnN0IE5PUkVTVEFSVCA9ICdOb1Jlc3RhcnQnOwpjb25zdCBSRVNUQVJUID0gJ1Jlc3RhcnQnOwpjb25zdCBSRVNUQVJUSU5HID0gJ1Jlc3RhcnRpbmcnOwpjb25zdCBSRVNUQVJURUQgPSAnUmVzdGFydGVkJzsKCnByaXZhdGUgJGRlYnVnOwpwcml2YXRlICRlbnZBbGxvd1hkZWJ1ZzsKcHJpdmF0ZSAkbG9hZGVkOwpwcml2YXRlICRsb2dnZXI7CnByaXZhdGUgJG1vZGVPZmY7CnByaXZhdGUgJHRpbWU7CgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gX19jb25zdHJ1Y3QoJGVudkFsbG93WGRlYnVnLCAkZGVidWcpCnsKJHN0YXJ0ID0gZ2V0ZW52KHNlbGY6OkVOVl9SRVNUQVJUKTsKUHJvY2Vzczo6c2V0RW52KHNlbGY6OkVOVl9SRVNUQVJUKTsKJHRoaXMtPnRpbWUgPSAkc3RhcnQgPyByb3VuZCgobWljcm90aW1lKHRydWUpIC0gJHN0YXJ0KSAqIDEwMDApIDogMDsKCiR0aGlzLT5lbnZBbGxvd1hkZWJ1ZyA9ICRlbnZBbGxvd1hkZWJ1ZzsKJHRoaXMtPmRlYnVnID0gJGRlYnVnICYmIGRlZmluZWQoJ1NUREVSUicpOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gc2V0TG9nZ2VyKExvZ2dlckludGVyZmFjZSAkbG9nZ2VyKQp7CiR0aGlzLT5sb2dnZXIgPSAkbG9nZ2VyOwp9CgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gcmVwb3J0KCRvcCwgJGRhdGEpCnsKaWYgKCR0aGlzLT5sb2dnZXIgfHwgJHRoaXMtPmRlYnVnKSB7CmNhbGxfdXNlcl9mdW5jKGFycmF5KCR0aGlzLCAncmVwb3J0Jy4kb3ApLCAkZGF0YSk7Cn0KfQoKCgoKCgoKcHJpdmF0ZSBmdW5jdGlvbiBvdXRwdXQoJHRleHQsICRsZXZlbCA9IG51bGwpCnsKaWYgKCR0aGlzLT5sb2dnZXIpIHsKJHRoaXMtPmxvZ2dlci0+bG9nKCRsZXZlbCA/OiBMb2dMZXZlbDo6REVCVUcsICR0ZXh0KTsKfQoKaWYgKCR0aGlzLT5kZWJ1Zykgewpmd3JpdGUoU1RERVJSLCBzcHJpbnRmKCd4ZGVidWctaGFuZGxlclslZF0gJXMnLCBnZXRteXBpZCgpLCAkdGV4dC5QSFBfRU9MKSk7Cn0KfQoKcHJpdmF0ZSBmdW5jdGlvbiByZXBvcnRDaGVjaygkbG9hZGVkKQp7Cmxpc3QoJHZlcnNpb24sICRtb2RlKSA9IGV4cGxvZGUoJ3wnLCAkbG9hZGVkKTsKCmlmICgkdmVyc2lvbikgewokdGhpcy0+bG9hZGVkID0gJygnLiR2ZXJzaW9uLicpJy4oJG1vZGUgPyAnIG1vZGU9Jy4kbW9kZSA6ICcnKTsKfQokdGhpcy0+bW9kZU9mZiA9ICRtb2RlID09PSAnb2ZmJzsKJHRoaXMtPm91dHB1dCgnQ2hlY2tpbmcgJy4kdGhpcy0+ZW52QWxsb3dYZGVidWcpOwp9Cgpwcml2YXRlIGZ1bmN0aW9uIHJlcG9ydEVycm9yKCRlcnJvcikKewokdGhpcy0+b3V0cHV0KHNwcmludGYoJ05vIHJlc3RhcnQgKCVzKScsICRlcnJvciksIExvZ0xldmVsOjpXQVJOSU5HKTsKfQoKcHJpdmF0ZSBmdW5jdGlvbiByZXBvcnRJbmZvKCRpbmZvKQp7CiR0aGlzLT5vdXRwdXQoJGluZm8pOwp9Cgpwcml2YXRlIGZ1bmN0aW9uIHJlcG9ydE5vUmVzdGFydCgpCnsKJHRoaXMtPm91dHB1dCgkdGhpcy0+Z2V0TG9hZGVkTWVzc2FnZSgpKTsKCmlmICgkdGhpcy0+bG9hZGVkKSB7CiR0ZXh0ID0gc3ByaW50ZignTm8gcmVzdGFydCAoJXMpJywgJHRoaXMtPmdldEVudkFsbG93KCkpOwppZiAoIWdldGVudigkdGhpcy0+ZW52QWxsb3dYZGVidWcpKSB7CiR0ZXh0IC49ICcgQWxsb3dlZCBieSAnLigkdGhpcy0+bW9kZU9mZiA/ICdtb2RlJyA6ICdhcHBsaWNhdGlvbicpOwp9CiR0aGlzLT5vdXRwdXQoJHRleHQpOwp9Cn0KCnByaXZhdGUgZnVuY3Rpb24gcmVwb3J0UmVzdGFydCgpCnsKJHRoaXMtPm91dHB1dCgkdGhpcy0+Z2V0TG9hZGVkTWVzc2FnZSgpKTsKUHJvY2Vzczo6c2V0RW52KHNlbGY6OkVOVl9SRVNUQVJULCAoc3RyaW5nKSBtaWNyb3RpbWUodHJ1ZSkpOwp9Cgpwcml2YXRlIGZ1bmN0aW9uIHJlcG9ydFJlc3RhcnRlZCgpCnsKJGxvYWRlZCA9ICR0aGlzLT5nZXRMb2FkZWRNZXNzYWdlKCk7CiR0ZXh0ID0gc3ByaW50ZignUmVzdGFydGVkICglZCBtcykuICVzJywgJHRoaXMtPnRpbWUsICRsb2FkZWQpOwokbGV2ZWwgPSAkdGhpcy0+bG9hZGVkID8gTG9nTGV2ZWw6OldBUk5JTkcgOiBudWxsOwokdGhpcy0+b3V0cHV0KCR0ZXh0LCAkbGV2ZWwpOwp9Cgpwcml2YXRlIGZ1bmN0aW9uIHJlcG9ydFJlc3RhcnRpbmcoJGNvbW1hbmQpCnsKJHRleHQgPSBzcHJpbnRmKCdQcm9jZXNzIHJlc3RhcnRpbmcgKCVzKScsICR0aGlzLT5nZXRFbnZBbGxvdygpKTsKJHRoaXMtPm91dHB1dCgkdGV4dCk7CiR0ZXh0ID0gJ1J1bm5pbmcgJy4kY29tbWFuZDsKJHRoaXMtPm91dHB1dCgkdGV4dCk7Cn0KCgoKCgoKcHJpdmF0ZSBmdW5jdGlvbiBnZXRFbnZBbGxvdygpCnsKcmV0dXJuICR0aGlzLT5lbnZBbGxvd1hkZWJ1Zy4nPScuZ2V0ZW52KCR0aGlzLT5lbnZBbGxvd1hkZWJ1Zyk7Cn0KCgoKCgoKcHJpdmF0ZSBmdW5jdGlvbiBnZXRMb2FkZWRNZXNzYWdlKCkKewokbG9hZGVkID0gJHRoaXMtPmxvYWRlZCA/IHNwcmludGYoJ2xvYWRlZCAlcycsICR0aGlzLT5sb2FkZWQpIDogJ25vdCBsb2FkZWQnOwpyZXR1cm4gJ1RoZSBYZGVidWcgZXh0ZW5zaW9uIGlzICcuJGxvYWRlZDsKfQp9Cjw/cGhwCgoKCgoKCgoKCgpuYW1lc3BhY2UgQ29tcG9zZXJcWGRlYnVnSGFuZGxlcjsKCnVzZSBQc3JcTG9nXExvZ2dlckludGVyZmFjZTsKCgoKCmNsYXNzIFhkZWJ1Z0hhbmRsZXIKewpjb25zdCBTVUZGSVhfQUxMT1cgPSAnX0FMTE9XX1hERUJVRyc7CmNvbnN0IFNVRkZJWF9JTklTID0gJ19PUklHSU5BTF9JTklTJzsKY29uc3QgUkVTVEFSVF9JRCA9ICdpbnRlcm5hbCc7CmNvbnN0IFJFU1RBUlRfU0VUVElOR1MgPSAnWERFQlVHX0hBTkRMRVJfU0VUVElOR1MnOwpjb25zdCBERUJVRyA9ICdYREVCVUdfSEFORExFUl9ERUJVRyc7CgoKcHJvdGVjdGVkICR0bXBJbmk7Cgpwcml2YXRlIHN0YXRpYyAkaW5SZXN0YXJ0Owpwcml2YXRlIHN0YXRpYyAkbmFtZTsKcHJpdmF0ZSBzdGF0aWMgJHNraXBwZWQ7CnByaXZhdGUgc3RhdGljICR4ZGVidWdBY3RpdmU7Cgpwcml2YXRlICRjbGk7CnByaXZhdGUgJGRlYnVnOwpwcml2YXRlICRlbnZBbGxvd1hkZWJ1ZzsKcHJpdmF0ZSAkZW52T3JpZ2luYWxJbmlzOwpwcml2YXRlICRsb2FkZWQ7CnByaXZhdGUgJG1vZGU7CnByaXZhdGUgJHBlcnNpc3RlbnQ7CnByaXZhdGUgJHNjcmlwdDsKCnByaXZhdGUgJHN0YXR1c1dyaXRlcjsKCgoKCgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gX19jb25zdHJ1Y3QoJGVudlByZWZpeCkKewppZiAoIWlzX3N0cmluZygkZW52UHJlZml4KSB8fCBlbXB0eSgkZW52UHJlZml4KSkgewp0aHJvdyBuZXcgXFJ1bnRpbWVFeGNlcHRpb24oJ0ludmFsaWQgY29uc3RydWN0b3IgcGFyYW1ldGVyJyk7Cn0KCnNlbGY6OiRuYW1lID0gc3RydG91cHBlcigkZW52UHJlZml4KTsKJHRoaXMtPmVudkFsbG93WGRlYnVnID0gc2VsZjo6JG5hbWUuc2VsZjo6U1VGRklYX0FMTE9XOwokdGhpcy0+ZW52T3JpZ2luYWxJbmlzID0gc2VsZjo6JG5hbWUuc2VsZjo6U1VGRklYX0lOSVM7CgppZiAoZXh0ZW5zaW9uX2xvYWRlZCgneGRlYnVnJykpIHsKJHRoaXMtPmxvYWRlZCA9IHBocHZlcnNpb24oJ3hkZWJ1ZycpID86ICd1bmtub3duJzsKCmlmIChmYWxzZSAhPT0gKCRtb2RlID0gaW5pX2dldCgneGRlYnVnLm1vZGUnKSkpIHsKJHRoaXMtPm1vZGUgPSBnZXRlbnYoJ1hERUJVR19NT0RFJykgPzogKCRtb2RlID86ICdvZmYnKTsKaWYgKHByZWdfbWF0Y2goJy9eLCskLycsIHN0cl9yZXBsYWNlKCcgJywgJycsICR0aGlzLT5tb2RlKSkpIHsKJHRoaXMtPm1vZGUgPSAnb2ZmJzsKfQp9Cn0KCnNlbGY6OiR4ZGVidWdBY3RpdmUgPSAkdGhpcy0+bG9hZGVkICYmICR0aGlzLT5tb2RlICE9PSAnb2ZmJzsKCmlmICgkdGhpcy0+Y2xpID0gUEhQX1NBUEkgPT09ICdjbGknKSB7CiR0aGlzLT5kZWJ1ZyA9IGdldGVudihzZWxmOjpERUJVRyk7Cn0KCiR0aGlzLT5zdGF0dXNXcml0ZXIgPSBuZXcgU3RhdHVzKCR0aGlzLT5lbnZBbGxvd1hkZWJ1ZywgKGJvb2wpICR0aGlzLT5kZWJ1Zyk7Cn0KCgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gc2V0TG9nZ2VyKExvZ2dlckludGVyZmFjZSAkbG9nZ2VyKQp7CiR0aGlzLT5zdGF0dXNXcml0ZXItPnNldExvZ2dlcigkbG9nZ2VyKTsKcmV0dXJuICR0aGlzOwp9CgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIHNldE1haW5TY3JpcHQoJHNjcmlwdCkKewokdGhpcy0+c2NyaXB0ID0gJHNjcmlwdDsKcmV0dXJuICR0aGlzOwp9CgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBzZXRQZXJzaXN0ZW50KCkKewokdGhpcy0+cGVyc2lzdGVudCA9IHRydWU7CnJldHVybiAkdGhpczsKfQoKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBjaGVjaygpCnsKJHRoaXMtPm5vdGlmeShTdGF0dXM6OkNIRUNLLCAkdGhpcy0+bG9hZGVkLid8Jy4kdGhpcy0+bW9kZSk7CiRlbnZBcmdzID0gZXhwbG9kZSgnfCcsIChzdHJpbmcpIGdldGVudigkdGhpcy0+ZW52QWxsb3dYZGVidWcpKTsKCmlmIChlbXB0eSgkZW52QXJnc1swXSkgJiYgJHRoaXMtPnJlcXVpcmVzUmVzdGFydChzZWxmOjokeGRlYnVnQWN0aXZlKSkgewoKJHRoaXMtPm5vdGlmeShTdGF0dXM6OlJFU1RBUlQpOwoKaWYgKCR0aGlzLT5wcmVwYXJlUmVzdGFydCgpKSB7CiRjb21tYW5kID0gJHRoaXMtPmdldENvbW1hbmQoKTsKJHRoaXMtPnJlc3RhcnQoJGNvbW1hbmQpOwp9CnJldHVybjsKfQoKaWYgKHNlbGY6OlJFU1RBUlRfSUQgPT09ICRlbnZBcmdzWzBdICYmIGNvdW50KCRlbnZBcmdzKSA9PT0gNSkgewoKJHRoaXMtPm5vdGlmeShTdGF0dXM6OlJFU1RBUlRFRCk7CgpQcm9jZXNzOjpzZXRFbnYoJHRoaXMtPmVudkFsbG93WGRlYnVnKTsKc2VsZjo6JGluUmVzdGFydCA9IHRydWU7CgppZiAoISR0aGlzLT5sb2FkZWQpIHsKCnNlbGY6OiRza2lwcGVkID0gJGVudkFyZ3NbMV07Cn0KCiR0aGlzLT50cnlFbmFibGVTaWduYWxzKCk7CgoKJHRoaXMtPnNldEVudlJlc3RhcnRTZXR0aW5ncygkZW52QXJncyk7CnJldHVybjsKfQoKJHRoaXMtPm5vdGlmeShTdGF0dXM6Ok5PUkVTVEFSVCk7CgppZiAoJHNldHRpbmdzID0gc2VsZjo6Z2V0UmVzdGFydFNldHRpbmdzKCkpIHsKCiR0aGlzLT5zeW5jU2V0dGluZ3MoJHNldHRpbmdzKTsKfQp9CgoKCgoKCgoKCnB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gZ2V0QWxsSW5pRmlsZXMoKQp7CmlmICghZW1wdHkoc2VsZjo6JG5hbWUpKSB7CiRlbnYgPSBnZXRlbnYoc2VsZjo6JG5hbWUuc2VsZjo6U1VGRklYX0lOSVMpOwoKaWYgKGZhbHNlICE9PSAkZW52KSB7CnJldHVybiBleHBsb2RlKFBBVEhfU0VQQVJBVE9SLCAkZW52KTsKfQp9CgokcGF0aHMgPSBhcnJheSgoc3RyaW5nKSBwaHBfaW5pX2xvYWRlZF9maWxlKCkpOwoKaWYgKCRzY2FubmVkID0gcGhwX2luaV9zY2FubmVkX2ZpbGVzKCkpIHsKJHBhdGhzID0gYXJyYXlfbWVyZ2UoJHBhdGhzLCBhcnJheV9tYXAoJ3RyaW0nLCBleHBsb2RlKCcsJywgJHNjYW5uZWQpKSk7Cn0KCnJldHVybiAkcGF0aHM7Cn0KCgoKCgoKCgoKcHVibGljIHN0YXRpYyBmdW5jdGlvbiBnZXRSZXN0YXJ0U2V0dGluZ3MoKQp7CiRlbnZBcmdzID0gZXhwbG9kZSgnfCcsIChzdHJpbmcpIGdldGVudihzZWxmOjpSRVNUQVJUX1NFVFRJTkdTKSk7CgppZiAoY291bnQoJGVudkFyZ3MpICE9PSA2Cnx8ICghc2VsZjo6JGluUmVzdGFydCAmJiBwaHBfaW5pX2xvYWRlZF9maWxlKCkgIT09ICRlbnZBcmdzWzBdKSkgewpyZXR1cm4gbnVsbDsKfQoKcmV0dXJuIGFycmF5KAondG1wSW5pJyA9PiAkZW52QXJnc1swXSwKJ3NjYW5uZWRJbmlzJyA9PiAoYm9vbCkgJGVudkFyZ3NbMV0sCidzY2FuRGlyJyA9PiAnKicgPT09ICRlbnZBcmdzWzJdID8gZmFsc2UgOiAkZW52QXJnc1syXSwKJ3BocHJjJyA9PiAnKicgPT09ICRlbnZBcmdzWzNdID8gZmFsc2UgOiAkZW52QXJnc1szXSwKJ2luaXMnID0+IGV4cGxvZGUoUEFUSF9TRVBBUkFUT1IsICRlbnZBcmdzWzRdKSwKJ3NraXBwZWQnID0+ICRlbnZBcmdzWzVdLAopOwp9CgoKCgoKCnB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gZ2V0U2tpcHBlZFZlcnNpb24oKQp7CnJldHVybiAoc3RyaW5nKSBzZWxmOjokc2tpcHBlZDsKfQoKCgoKCgoKCgpwdWJsaWMgc3RhdGljIGZ1bmN0aW9uIGlzWGRlYnVnQWN0aXZlKCkKewpyZXR1cm4gc2VsZjo6JHhkZWJ1Z0FjdGl2ZTsKfQoKCgoKCgoKCgoKCnByb3RlY3RlZCBmdW5jdGlvbiByZXF1aXJlc1Jlc3RhcnQoJGRlZmF1bHQpCnsKcmV0dXJuICRkZWZhdWx0Owp9CgoKCgoKCgoKcHJvdGVjdGVkIGZ1bmN0aW9uIHJlc3RhcnQoJGNvbW1hbmQpCnsKJHRoaXMtPmRvUmVzdGFydCgkY29tbWFuZCk7Cn0KCgoKCgoKcHJpdmF0ZSBmdW5jdGlvbiBkb1Jlc3RhcnQoYXJyYXkgJGNvbW1hbmQpCnsKJHRoaXMtPnRyeUVuYWJsZVNpZ25hbHMoKTsKJHRoaXMtPm5vdGlmeShTdGF0dXM6OlJFU1RBUlRJTkcsIGltcGxvZGUoJyAnLCAkY29tbWFuZCkpOwoKaWYgKFBIUF9WRVJTSU9OX0lEID49IDcwNDAwKSB7CiRjbWQgPSAkY29tbWFuZDsKfSBlbHNlIHsKJGNtZCA9IFByb2Nlc3M6OmVzY2FwZVNoZWxsQ29tbWFuZCgkY29tbWFuZCk7CmlmIChkZWZpbmVkKCdQSFBfV0lORE9XU19WRVJTSU9OX0JVSUxEJykpIHsKCiRjbWQgPSAnIicuJGNtZC4nIic7Cn0KfQoKJHByb2Nlc3MgPSBwcm9jX29wZW4oJGNtZCwgYXJyYXkoKSwgJHBpcGVzKTsKaWYgKGlzX3Jlc291cmNlKCRwcm9jZXNzKSkgewokZXhpdENvZGUgPSBwcm9jX2Nsb3NlKCRwcm9jZXNzKTsKfQoKaWYgKCFpc3NldCgkZXhpdENvZGUpKSB7CgokdGhpcy0+bm90aWZ5KFN0YXR1czo6RVJST1IsICdVbmFibGUgdG8gcmVzdGFydCBwcm9jZXNzJyk7CiRleGl0Q29kZSA9IC0xOwp9IGVsc2UgewokdGhpcy0+bm90aWZ5KFN0YXR1czo6SU5GTywgJ1Jlc3RhcnRlZCBwcm9jZXNzIGV4aXRlZCAnLiRleGl0Q29kZSk7Cn0KCmlmICgkdGhpcy0+ZGVidWcgPT09ICcyJykgewokdGhpcy0+bm90aWZ5KFN0YXR1czo6SU5GTywgJ1RlbXAgaW5pIHNhdmVkOiAnLiR0aGlzLT50bXBJbmkpOwp9IGVsc2UgewpAdW5saW5rKCR0aGlzLT50bXBJbmkpOwp9CgpleGl0KCRleGl0Q29kZSk7Cn0KCgoKCgoKCgoKCgpwcml2YXRlIGZ1bmN0aW9uIHByZXBhcmVSZXN0YXJ0KCkKewokZXJyb3IgPSAnJzsKJGluaUZpbGVzID0gc2VsZjo6Z2V0QWxsSW5pRmlsZXMoKTsKJHNjYW5uZWRJbmlzID0gY291bnQoJGluaUZpbGVzKSA+IDE7CiR0bXBEaXIgPSBzeXNfZ2V0X3RlbXBfZGlyKCk7CgppZiAoISR0aGlzLT5jbGkpIHsKJGVycm9yID0gJ1Vuc3VwcG9ydGVkIFNBUEk6ICcuUEhQX1NBUEk7Cn0gZWxzZWlmICghZGVmaW5lZCgnUEhQX0JJTkFSWScpKSB7CiRlcnJvciA9ICdQSFAgdmVyc2lvbiBpcyB0b28gb2xkOiAnLlBIUF9WRVJTSU9OOwp9IGVsc2VpZiAoISR0aGlzLT5jaGVja0NvbmZpZ3VyYXRpb24oJGluZm8pKSB7CiRlcnJvciA9ICRpbmZvOwp9IGVsc2VpZiAoISR0aGlzLT5jaGVja1NjYW5EaXJDb25maWcoKSkgewokZXJyb3IgPSAnUEhQIHZlcnNpb24gZG9lcyBub3QgcmVwb3J0IHNjYW5uZWQgaW5pczogJy5QSFBfVkVSU0lPTjsKfSBlbHNlaWYgKCEkdGhpcy0+Y2hlY2tNYWluU2NyaXB0KCkpIHsKJGVycm9yID0gJ1VuYWJsZSB0byBhY2Nlc3MgbWFpbiBzY3JpcHQ6ICcuJHRoaXMtPnNjcmlwdDsKfSBlbHNlaWYgKCEkdGhpcy0+d3JpdGVUbXBJbmkoJGluaUZpbGVzLCAkdG1wRGlyLCAkZXJyb3IpKSB7CiRlcnJvciA9ICRlcnJvciA/OiAnVW5hYmxlIHRvIGNyZWF0ZSB0ZW1wIGluaSBmaWxlIGF0OiAnLiR0bXBEaXI7Cn0gZWxzZWlmICghJHRoaXMtPnNldEVudmlyb25tZW50KCRzY2FubmVkSW5pcywgJGluaUZpbGVzKSkgewokZXJyb3IgPSAnVW5hYmxlIHRvIHNldCBlbnZpcm9ubWVudCB2YXJpYWJsZXMnOwp9CgppZiAoJGVycm9yKSB7CiR0aGlzLT5ub3RpZnkoU3RhdHVzOjpFUlJPUiwgJGVycm9yKTsKfQoKcmV0dXJuIGVtcHR5KCRlcnJvcik7Cn0KCgoKCgoKCgoKCnByaXZhdGUgZnVuY3Rpb24gd3JpdGVUbXBJbmkoYXJyYXkgJGluaUZpbGVzLCAkdG1wRGlyLCAmJGVycm9yKQp7CmlmICghJHRoaXMtPnRtcEluaSA9IEB0ZW1wbmFtKCR0bXBEaXIsICcnKSkgewpyZXR1cm4gZmFsc2U7Cn0KCgppZiAoZW1wdHkoJGluaUZpbGVzWzBdKSkgewphcnJheV9zaGlmdCgkaW5pRmlsZXMpOwp9CgokY29udGVudCA9ICcnOwokcmVnZXggPSAnL15ccyooemVuZF9leHRlbnNpb25ccyo9Lip4ZGVidWcuKikkL21pJzsKCmZvcmVhY2ggKCRpbmlGaWxlcyBhcyAkZmlsZSkgewoKaWYgKCgkZGF0YSA9IEBmaWxlX2dldF9jb250ZW50cygkZmlsZSkpID09PSBmYWxzZSkgewokZXJyb3IgPSAnVW5hYmxlIHRvIHJlYWQgaW5pOiAnLiRmaWxlOwpyZXR1cm4gZmFsc2U7Cn0KJGNvbnRlbnQgLj0gcHJlZ19yZXBsYWNlKCRyZWdleCwgJzskMScsICRkYXRhKS5QSFBfRU9MOwp9CgoKaWYgKCRjb25maWcgPSBwYXJzZV9pbmlfc3RyaW5nKCRjb250ZW50KSkgewokbG9hZGVkID0gaW5pX2dldF9hbGwobnVsbCwgZmFsc2UpOwokY29udGVudCAuPSAkdGhpcy0+bWVyZ2VMb2FkZWRDb25maWcoJGxvYWRlZCwgJGNvbmZpZyk7Cn0KCgokY29udGVudCAuPSAnb3BjYWNoZS5lbmFibGVfY2xpPTAnLlBIUF9FT0w7CgpyZXR1cm4gQGZpbGVfcHV0X2NvbnRlbnRzKCR0aGlzLT50bXBJbmksICRjb250ZW50KTsKfQoKCgoKCgpwcml2YXRlIGZ1bmN0aW9uIGdldENvbW1hbmQoKQp7CiRwaHAgPSBhcnJheShQSFBfQklOQVJZKTsKJGFyZ3MgPSBhcnJheV9zbGljZSgkX1NFUlZFUlsnYXJndiddLCAxKTsKCmlmICghJHRoaXMtPnBlcnNpc3RlbnQpIHsKCmFycmF5X3B1c2goJHBocCwgJy1uJywgJy1jJywgJHRoaXMtPnRtcEluaSk7Cn0KCnJldHVybiBhcnJheV9tZXJnZSgkcGhwLCBhcnJheSgkdGhpcy0+c2NyaXB0KSwgJGFyZ3MpOwp9CgoKCgoKCgoKCgoKcHJpdmF0ZSBmdW5jdGlvbiBzZXRFbnZpcm9ubWVudCgkc2Nhbm5lZEluaXMsIGFycmF5ICRpbmlGaWxlcykKewokc2NhbkRpciA9IGdldGVudignUEhQX0lOSV9TQ0FOX0RJUicpOwokcGhwcmMgPSBnZXRlbnYoJ1BIUFJDJyk7CgoKaWYgKCFwdXRlbnYoJHRoaXMtPmVudk9yaWdpbmFsSW5pcy4nPScuaW1wbG9kZShQQVRIX1NFUEFSQVRPUiwgJGluaUZpbGVzKSkpIHsKcmV0dXJuIGZhbHNlOwp9CgppZiAoJHRoaXMtPnBlcnNpc3RlbnQpIHsKCmlmICghcHV0ZW52KCdQSFBfSU5JX1NDQU5fRElSPScpIHx8ICFwdXRlbnYoJ1BIUFJDPScuJHRoaXMtPnRtcEluaSkpIHsKcmV0dXJuIGZhbHNlOwp9Cn0KCgokZW52QXJncyA9IGFycmF5KApzZWxmOjpSRVNUQVJUX0lELAokdGhpcy0+bG9hZGVkLAooaW50KSAkc2Nhbm5lZEluaXMsCmZhbHNlID09PSAkc2NhbkRpciA/ICcqJyA6ICRzY2FuRGlyLApmYWxzZSA9PT0gJHBocHJjID8gJyonIDogJHBocHJjLAopOwoKcmV0dXJuIHB1dGVudigkdGhpcy0+ZW52QWxsb3dYZGVidWcuJz0nLmltcGxvZGUoJ3wnLCAkZW52QXJncykpOwp9CgoKCgoKCgpwcml2YXRlIGZ1bmN0aW9uIG5vdGlmeSgkb3AsICRkYXRhID0gbnVsbCkKewokdGhpcy0+c3RhdHVzV3JpdGVyLT5yZXBvcnQoJG9wLCAkZGF0YSk7Cn0KCgoKCgoKCgoKcHJpdmF0ZSBmdW5jdGlvbiBtZXJnZUxvYWRlZENvbmZpZyhhcnJheSAkbG9hZGVkQ29uZmlnLCBhcnJheSAkaW5pQ29uZmlnKQp7CiRjb250ZW50ID0gJyc7Cgpmb3JlYWNoICgkbG9hZGVkQ29uZmlnIGFzICRuYW1lID0+ICR2YWx1ZSkgewoKaWYgKCFpc19zdHJpbmcoJHZhbHVlKQp8fCBzdHJwb3MoJG5hbWUsICd4ZGVidWcnKSA9PT0gMAp8fCAkbmFtZSA9PT0gJ2FwYy5tbWFwX2ZpbGVfbWFzaycpIHsKY29udGludWU7Cn0KCmlmICghaXNzZXQoJGluaUNvbmZpZ1skbmFtZV0pIHx8ICRpbmlDb25maWdbJG5hbWVdICE9PSAkdmFsdWUpIHsKCiRjb250ZW50IC49ICRuYW1lLic9IicuYWRkY3NsYXNoZXMoJHZhbHVlLCAnXFwiJykuJyInLlBIUF9FT0w7Cn0KfQoKcmV0dXJuICRjb250ZW50Owp9CgoKCgoKCnByaXZhdGUgZnVuY3Rpb24gY2hlY2tNYWluU2NyaXB0KCkKewppZiAobnVsbCAhPT0gJHRoaXMtPnNjcmlwdCkgewoKcmV0dXJuIGZpbGVfZXhpc3RzKCR0aGlzLT5zY3JpcHQpIHx8ICctLScgPT09ICR0aGlzLT5zY3JpcHQ7Cn0KCmlmIChmaWxlX2V4aXN0cygkdGhpcy0+c2NyaXB0ID0gJF9TRVJWRVJbJ2FyZ3YnXVswXSkpIHsKcmV0dXJuIHRydWU7Cn0KCgokb3B0aW9ucyA9IFBIUF9WRVJTSU9OX0lEID49IDUwMzA2ID8gREVCVUdfQkFDS1RSQUNFX0lHTk9SRV9BUkdTIDogZmFsc2U7CiR0cmFjZSA9IGRlYnVnX2JhY2t0cmFjZSgkb3B0aW9ucyk7CgppZiAoKCRtYWluID0gZW5kKCR0cmFjZSkpICYmIGlzc2V0KCRtYWluWydmaWxlJ10pKSB7CnJldHVybiBmaWxlX2V4aXN0cygkdGhpcy0+c2NyaXB0ID0gJG1haW5bJ2ZpbGUnXSk7Cn0KCnJldHVybiBmYWxzZTsKfQoKCgoKCgpwcml2YXRlIGZ1bmN0aW9uIHNldEVudlJlc3RhcnRTZXR0aW5ncygkZW52QXJncykKewokc2V0dGluZ3MgPSBhcnJheSgKcGhwX2luaV9sb2FkZWRfZmlsZSgpLAokZW52QXJnc1syXSwKJGVudkFyZ3NbM10sCiRlbnZBcmdzWzRdLApnZXRlbnYoJHRoaXMtPmVudk9yaWdpbmFsSW5pcyksCnNlbGY6OiRza2lwcGVkLAopOwoKUHJvY2Vzczo6c2V0RW52KHNlbGY6OlJFU1RBUlRfU0VUVElOR1MsIGltcGxvZGUoJ3wnLCAkc2V0dGluZ3MpKTsKfQoKCgoKCgpwcml2YXRlIGZ1bmN0aW9uIHN5bmNTZXR0aW5ncyhhcnJheSAkc2V0dGluZ3MpCnsKaWYgKGZhbHNlID09PSBnZXRlbnYoJHRoaXMtPmVudk9yaWdpbmFsSW5pcykpIHsKClByb2Nlc3M6OnNldEVudigkdGhpcy0+ZW52T3JpZ2luYWxJbmlzLCBpbXBsb2RlKFBBVEhfU0VQQVJBVE9SLCAkc2V0dGluZ3NbJ2luaXMnXSkpOwp9CgpzZWxmOjokc2tpcHBlZCA9ICRzZXR0aW5nc1snc2tpcHBlZCddOwokdGhpcy0+bm90aWZ5KFN0YXR1czo6SU5GTywgJ1Byb2Nlc3MgY2FsbGVkIHdpdGggZXhpc3RpbmcgcmVzdGFydCBzZXR0aW5ncycpOwp9CgoKCgoKCgoKCnByaXZhdGUgZnVuY3Rpb24gY2hlY2tTY2FuRGlyQ29uZmlnKCkKewpyZXR1cm4gIShnZXRlbnYoJ1BIUF9JTklfU0NBTl9ESVInKQomJiAhUEhQX0NPTkZJR19GSUxFX1NDQU5fRElSCiYmIChQSFBfVkVSU0lPTl9JRCA8IDcwMTEzCnx8IFBIUF9WRVJTSU9OX0lEID09PSA3MDIwMCkpOwp9CgoKCgoKCgpwcml2YXRlIGZ1bmN0aW9uIGNoZWNrQ29uZmlndXJhdGlvbigmJGluZm8pCnsKaWYgKCFmdW5jdGlvbl9leGlzdHMoJ3Byb2Nfb3BlbicpKSB7CiRpbmZvID0gJ3Byb2Nfb3BlbiBmdW5jdGlvbiBpcyBkaXNhYmxlZCc7CnJldHVybiBmYWxzZTsKfQoKaWYgKGV4dGVuc2lvbl9sb2FkZWQoJ3VvcHonKSAmJiAhaW5pX2dldCgndW9wei5kaXNhYmxlJykpIHsKCmlmIChmdW5jdGlvbl9leGlzdHMoJ3VvcHpfYWxsb3dfZXhpdCcpKSB7CkB1b3B6X2FsbG93X2V4aXQodHJ1ZSk7Cn0gZWxzZSB7CiRpbmZvID0gJ3VvcHogZXh0ZW5zaW9uIGlzIG5vdCBjb21wYXRpYmxlJzsKcmV0dXJuIGZhbHNlOwp9Cn0KCgokd29ya2luZ0RpciA9IGdldGN3ZCgpOwppZiAoMCA9PT0gc3RycG9zKCR3b3JraW5nRGlyLCAnXFxcXCcpKSB7CmlmIChkZWZpbmVkKCdQSFBfV0lORE9XU19WRVJTSU9OX0JVSUxEJykgJiYgUEhQX1ZFUlNJT05fSUQgPCA3MDQwMCkgewokaW5mbyA9ICdjbWQuZXhlIGRvZXMgbm90IHN1cHBvcnQgVU5DIHBhdGhzOiAnLiR3b3JraW5nRGlyOwpyZXR1cm4gZmFsc2U7Cn0KfQoKcmV0dXJuIHRydWU7Cn0KCgoKCgoKcHJpdmF0ZSBmdW5jdGlvbiB0cnlFbmFibGVTaWduYWxzKCkKewppZiAoZnVuY3Rpb25fZXhpc3RzKCdwY250bF9hc3luY19zaWduYWxzJykgJiYgZnVuY3Rpb25fZXhpc3RzKCdwY250bF9zaWduYWwnKSkgewpwY250bF9hc3luY19zaWduYWxzKHRydWUpOwokbWVzc2FnZSA9ICdBc3luYyBzaWduYWxzIGVuYWJsZWQnOwoKaWYgKCFzZWxmOjokaW5SZXN0YXJ0KSB7CgpwY250bF9zaWduYWwoU0lHSU5ULCBTSUdfSUdOKTsKfSBlbHNlaWYgKGlzX2ludChwY250bF9zaWduYWxfZ2V0X2hhbmRsZXIoU0lHSU5UKSkpIHsKCnBjbnRsX3NpZ25hbChTSUdJTlQsIFNJR19ERkwpOwp9Cn0KCmlmICghc2VsZjo6JGluUmVzdGFydCAmJiBmdW5jdGlvbl9leGlzdHMoJ3NhcGlfd2luZG93c19zZXRfY3RybF9oYW5kbGVyJykpIHsKCgoKc2FwaV93aW5kb3dzX3NldF9jdHJsX2hhbmRsZXIoZnVuY3Rpb24gKCRldnQpIHt9KTsKfQp9Cn0KCk1JVCBMaWNlbnNlCgpDb3B5cmlnaHQgKGMpIDIwMTYKClBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhIGNvcHkKb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGUgIlNvZnR3YXJlIiksIHRvIGRlYWwKaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cwp0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsCmNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcwpmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOgoKVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWQgaW4gYWxsCmNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuCgpUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgIkFTIElTIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTUyBPUgpJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSwKRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFCkFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVIKTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSwKT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEUKU09GVFdBUkUuCgo8P3BocAoKCgoKCgoKCm5hbWVzcGFjZSBKc29uU2NoZW1hXENvbnN0cmFpbnRzOwoKdXNlIEpzb25TY2hlbWFcRW50aXR5XEpzb25Qb2ludGVyOwp1c2UgSnNvblNjaGVtYVxFeGNlcHRpb25cSW52YWxpZEFyZ3VtZW50RXhjZXB0aW9uOwp1c2UgSnNvblNjaGVtYVxFeGNlcHRpb25cVmFsaWRhdGlvbkV4Y2VwdGlvbjsKdXNlIEpzb25TY2hlbWFcVmFsaWRhdG9yOwoKCgoKCmNsYXNzIEJhc2VDb25zdHJhaW50CnsKCgoKcHJvdGVjdGVkICRlcnJvcnMgPSBhcnJheSgpOwoKCgoKcHJvdGVjdGVkICRlcnJvck1hc2sgPSBWYWxpZGF0b3I6OkVSUk9SX05PTkU7CgoKCgpwcm90ZWN0ZWQgJGZhY3Rvcnk7CgoKCgpwdWJsaWMgZnVuY3Rpb24gX19jb25zdHJ1Y3QoRmFjdG9yeSAkZmFjdG9yeSA9IG51bGwpCnsKJHRoaXMtPmZhY3RvcnkgPSAkZmFjdG9yeSA/OiBuZXcgRmFjdG9yeSgpOwp9CgpwdWJsaWMgZnVuY3Rpb24gYWRkRXJyb3IoSnNvblBvaW50ZXIgJHBhdGggPSBudWxsLCAkbWVzc2FnZSwgJGNvbnN0cmFpbnQgPSAnJywgYXJyYXkgJG1vcmUgPSBudWxsKQp7CiRlcnJvciA9IGFycmF5KAoncHJvcGVydHknID0+ICR0aGlzLT5jb252ZXJ0SnNvblBvaW50ZXJJbnRvUHJvcGVydHlQYXRoKCRwYXRoID86IG5ldyBKc29uUG9pbnRlcignJykpLAoncG9pbnRlcicgPT4gbHRyaW0oc3RydmFsKCRwYXRoID86IG5ldyBKc29uUG9pbnRlcignJykpLCAnIycpLAonbWVzc2FnZScgPT4gJG1lc3NhZ2UsCidjb25zdHJhaW50JyA9PiAkY29uc3RyYWludCwKJ2NvbnRleHQnID0+ICR0aGlzLT5mYWN0b3J5LT5nZXRFcnJvckNvbnRleHQoKSwKKTsKCmlmICgkdGhpcy0+ZmFjdG9yeS0+Z2V0Q29uZmlnKENvbnN0cmFpbnQ6OkNIRUNLX01PREVfRVhDRVBUSU9OUykpIHsKdGhyb3cgbmV3IFZhbGlkYXRpb25FeGNlcHRpb24oc3ByaW50ZignRXJyb3IgdmFsaWRhdGluZyAlczogJXMnLCAkZXJyb3JbJ3BvaW50ZXInXSwgJGVycm9yWydtZXNzYWdlJ10pKTsKfQoKaWYgKGlzX2FycmF5KCRtb3JlKSAmJiBjb3VudCgkbW9yZSkgPiAwKSB7CiRlcnJvciArPSAkbW9yZTsKfQoKJHRoaXMtPmVycm9yc1tdID0gJGVycm9yOwokdGhpcy0+ZXJyb3JNYXNrIHw9ICRlcnJvclsnY29udGV4dCddOwp9CgpwdWJsaWMgZnVuY3Rpb24gYWRkRXJyb3JzKGFycmF5ICRlcnJvcnMpCnsKaWYgKCRlcnJvcnMpIHsKJHRoaXMtPmVycm9ycyA9IGFycmF5X21lcmdlKCR0aGlzLT5lcnJvcnMsICRlcnJvcnMpOwokZXJyb3JNYXNrID0gJiR0aGlzLT5lcnJvck1hc2s7CmFycmF5X3dhbGsoJGVycm9ycywgZnVuY3Rpb24gKCRlcnJvcikgdXNlICgmJGVycm9yTWFzaykgewppZiAoaXNzZXQoJGVycm9yWydjb250ZXh0J10pKSB7CiRlcnJvck1hc2sgfD0gJGVycm9yWydjb250ZXh0J107Cn0KfSk7Cn0KfQoKcHVibGljIGZ1bmN0aW9uIGdldEVycm9ycygkZXJyb3JDb250ZXh0ID0gVmFsaWRhdG9yOjpFUlJPUl9BTEwpCnsKaWYgKCRlcnJvckNvbnRleHQgPT09IFZhbGlkYXRvcjo6RVJST1JfQUxMKSB7CnJldHVybiAkdGhpcy0+ZXJyb3JzOwp9CgpyZXR1cm4gYXJyYXlfZmlsdGVyKCR0aGlzLT5lcnJvcnMsIGZ1bmN0aW9uICgkZXJyb3IpIHVzZSAoJGVycm9yQ29udGV4dCkgewppZiAoJGVycm9yQ29udGV4dCAmICRlcnJvclsnY29udGV4dCddKSB7CnJldHVybiB0cnVlOwp9Cn0pOwp9CgpwdWJsaWMgZnVuY3Rpb24gbnVtRXJyb3JzKCRlcnJvckNvbnRleHQgPSBWYWxpZGF0b3I6OkVSUk9SX0FMTCkKewppZiAoJGVycm9yQ29udGV4dCA9PT0gVmFsaWRhdG9yOjpFUlJPUl9BTEwpIHsKcmV0dXJuIGNvdW50KCR0aGlzLT5lcnJvcnMpOwp9CgpyZXR1cm4gY291bnQoJHRoaXMtPmdldEVycm9ycygkZXJyb3JDb250ZXh0KSk7Cn0KCnB1YmxpYyBmdW5jdGlvbiBpc1ZhbGlkKCkKewpyZXR1cm4gISR0aGlzLT5nZXRFcnJvcnMoKTsKfQoKCgoKCnB1YmxpYyBmdW5jdGlvbiByZXNldCgpCnsKJHRoaXMtPmVycm9ycyA9IGFycmF5KCk7CiR0aGlzLT5lcnJvck1hc2sgPSBWYWxpZGF0b3I6OkVSUk9SX05PTkU7Cn0KCgoKCgoKcHVibGljIGZ1bmN0aW9uIGdldEVycm9yTWFzaygpCnsKcmV0dXJuICR0aGlzLT5lcnJvck1hc2s7Cn0KCgoKCgoKCgpwdWJsaWMgc3RhdGljIGZ1bmN0aW9uIGFycmF5VG9PYmplY3RSZWN1cnNpdmUoJGFycmF5KQp7CiRqc29uID0ganNvbl9lbmNvZGUoJGFycmF5KTsKaWYgKGpzb25fbGFzdF9lcnJvcigpICE9PSBcSlNPTl9FUlJPUl9OT05FKSB7CiRtZXNzYWdlID0gJ1VuYWJsZSB0byBlbmNvZGUgc2NoZW1hIGFycmF5IGFzIEpTT04nOwppZiAoZnVuY3Rpb25fZXhpc3RzKCdqc29uX2xhc3RfZXJyb3JfbXNnJykpIHsKJG1lc3NhZ2UgLj0gJzogJyAuIGpzb25fbGFzdF9lcnJvcl9tc2coKTsKfQp0aHJvdyBuZXcgSW52YWxpZEFyZ3VtZW50RXhjZXB0aW9uKCRtZXNzYWdlKTsKfQoKcmV0dXJuIChvYmplY3QpIGpzb25fZGVjb2RlKCRqc29uKTsKfQp9Cjw/cGhwCgoKCgoKCgoKbmFtZXNwYWNlIEpzb25TY2hlbWFcQ29uc3RyYWludHM7Cgp1c2UgSnNvblNjaGVtYVxFbnRpdHlcSnNvblBvaW50ZXI7CgoKCgoKCgpjbGFzcyBDb2xsZWN0aW9uQ29uc3RyYWludCBleHRlbmRzIENvbnN0cmFpbnQKewoKCgpwdWJsaWMgZnVuY3Rpb24gY2hlY2soJiR2YWx1ZSwgJHNjaGVtYSA9IG51bGwsIEpzb25Qb2ludGVyICRwYXRoID0gbnVsbCwgJGkgPSBudWxsKQp7CgppZiAoaXNzZXQoJHNjaGVtYS0+bWluSXRlbXMpICYmIGNvdW50KCR2YWx1ZSkgPCAkc2NoZW1hLT5taW5JdGVtcykgewokdGhpcy0+YWRkRXJyb3IoJHBhdGgsICdUaGVyZSBtdXN0IGJlIGEgbWluaW11bSBvZiAnIC4gJHNjaGVtYS0+bWluSXRlbXMgLiAnIGl0ZW1zIGluIHRoZSBhcnJheScsICdtaW5JdGVtcycsIGFycmF5KCdtaW5JdGVtcycgPT4gJHNjaGVtYS0+bWluSXRlbXMpKTsKfQoKCmlmIChpc3NldCgkc2NoZW1hLT5tYXhJdGVtcykgJiYgY291bnQoJHZhbHVlKSA+ICRzY2hlbWEtPm1heEl0ZW1zKSB7CiR0aGlzLT5hZGRFcnJvcigkcGF0aCwgJ1RoZXJlIG11c3QgYmUgYSBtYXhpbXVtIG9mICcgLiAkc2NoZW1hLT5tYXhJdGVtcyAuICcgaXRlbXMgaW4gdGhlIGFycmF5JywgJ21heEl0ZW1zJywgYXJyYXkoJ21heEl0ZW1zJyA9PiAkc2NoZW1hLT5tYXhJdGVtcykpOwp9CgoKaWYgKGlzc2V0KCRzY2hlbWEtPnVuaXF1ZUl0ZW1zKSAmJiAkc2NoZW1hLT51bmlxdWVJdGVtcykgewokdW5pcXVlID0gJHZhbHVlOwppZiAoaXNfYXJyYXkoJHZhbHVlKSAmJiBjb3VudCgkdmFsdWUpKSB7CiR1bmlxdWUgPSBhcnJheV9tYXAoZnVuY3Rpb24gKCRlKSB7CnJldHVybiB2YXJfZXhwb3J0KCRlLCB0cnVlKTsKfSwgJHZhbHVlKTsKfQppZiAoY291bnQoYXJyYXlfdW5pcXVlKCR1bmlxdWUpKSAhPSBjb3VudCgkdmFsdWUpKSB7CiR0aGlzLT5hZGRFcnJvcigkcGF0aCwgJ1RoZXJlIGFyZSBubyBkdXBsaWNhdGVzIGFsbG93ZWQgaW4gdGhlIGFycmF5JywgJ3VuaXF1ZUl0ZW1zJyk7Cn0KfQoKCmlmIChpc3NldCgkc2NoZW1hLT5pdGVtcykpIHsKJHRoaXMtPnZhbGlkYXRlSXRlbXMoJHZhbHVlLCAkc2NoZW1hLCAkcGF0aCwgJGkpOwp9Cn0KCgoKCgoKCgoKcHJvdGVjdGVkIGZ1bmN0aW9uIHZhbGlkYXRlSXRlbXMoJiR2YWx1ZSwgJHNjaGVtYSA9IG51bGwsIEpzb25Qb2ludGVyICRwYXRoID0gbnVsbCwgJGkgPSBudWxsKQp7CmlmIChpc19vYmplY3QoJHNjaGVtYS0+aXRlbXMpKSB7Cgpmb3JlYWNoICgkdmFsdWUgYXMgJGsgPT4gJiR2KSB7CiRpbml0RXJyb3JzID0gJHRoaXMtPmdldEVycm9ycygpOwoKCiR0aGlzLT5jaGVja1VuZGVmaW5lZCgkdiwgJHNjaGVtYS0+aXRlbXMsICRwYXRoLCAkayk7CgoKaWYgKGNvdW50KCRpbml0RXJyb3JzKSA8IGNvdW50KCR0aGlzLT5nZXRFcnJvcnMoKSkgJiYgKGlzc2V0KCRzY2hlbWEtPmFkZGl0aW9uYWxJdGVtcykgJiYgJHNjaGVtYS0+YWRkaXRpb25hbEl0ZW1zICE9PSBmYWxzZSkpIHsKJHNlY29uZEVycm9ycyA9ICR0aGlzLT5nZXRFcnJvcnMoKTsKJHRoaXMtPmNoZWNrVW5kZWZpbmVkKCR2LCAkc2NoZW1hLT5hZGRpdGlvbmFsSXRlbXMsICRwYXRoLCAkayk7Cn0KCgppZiAoaXNzZXQoJHNlY29uZEVycm9ycykgJiYgY291bnQoJHNlY29uZEVycm9ycykgPCBjb3VudCgkdGhpcy0+Z2V0RXJyb3JzKCkpKSB7CiR0aGlzLT5lcnJvcnMgPSAkc2Vjb25kRXJyb3JzOwp9IGVsc2VpZiAoaXNzZXQoJHNlY29uZEVycm9ycykgJiYgY291bnQoJHNlY29uZEVycm9ycykgPT09IGNvdW50KCR0aGlzLT5nZXRFcnJvcnMoKSkpIHsKJHRoaXMtPmVycm9ycyA9ICRpbml0RXJyb3JzOwp9Cn0KdW5zZXQoJHYpOyAKCn0gZWxzZSB7Cgpmb3JlYWNoICgkdmFsdWUgYXMgJGsgPT4gJiR2KSB7CmlmIChhcnJheV9rZXlfZXhpc3RzKCRrLCAkc2NoZW1hLT5pdGVtcykpIHsKJHRoaXMtPmNoZWNrVW5kZWZpbmVkKCR2LCAkc2NoZW1hLT5pdGVtc1ska10sICRwYXRoLCAkayk7Cn0gZWxzZSB7CgppZiAocHJvcGVydHlfZXhpc3RzKCRzY2hlbWEsICdhZGRpdGlvbmFsSXRlbXMnKSkgewppZiAoJHNjaGVtYS0+YWRkaXRpb25hbEl0ZW1zICE9PSBmYWxzZSkgewokdGhpcy0+Y2hlY2tVbmRlZmluZWQoJHYsICRzY2hlbWEtPmFkZGl0aW9uYWxJdGVtcywgJHBhdGgsICRrKTsKfSBlbHNlIHsKJHRoaXMtPmFkZEVycm9yKAokcGF0aCwgJ1RoZSBpdGVtICcgLiAkaSAuICdbJyAuICRrIC4gJ10gaXMgbm90IGRlZmluZWQgYW5kIHRoZSBkZWZpbml0aW9uIGRvZXMgbm90IGFsbG93IGFkZGl0aW9uYWwgaXRlbXMnLCAnYWRkaXRpb25hbEl0ZW1zJywgYXJyYXkoJ2FkZGl0aW9uYWxJdGVtcycgPT4gJHNjaGVtYS0+YWRkaXRpb25hbEl0ZW1zKSk7Cn0KfSBlbHNlIHsKCiR0aGlzLT5jaGVja1VuZGVmaW5lZCgkdiwgbmV3IFxzdGRDbGFzcygpLCAkcGF0aCwgJGspOwp9Cn0KfQp1bnNldCgkdik7IAoKCgppZiAoY291bnQoJHZhbHVlKSA+IDApIHsKZm9yICgkayA9IGNvdW50KCR2YWx1ZSk7ICRrIDwgY291bnQoJHNjaGVtYS0+aXRlbXMpOyAkaysrKSB7CiR1bmRlZmluZWRJbnN0YW5jZSA9ICR0aGlzLT5mYWN0b3J5LT5jcmVhdGVJbnN0YW5jZUZvcigndW5kZWZpbmVkJyk7CiR0aGlzLT5jaGVja1VuZGVmaW5lZCgkdW5kZWZpbmVkSW5zdGFuY2UsICRzY2hlbWEtPml0ZW1zWyRrXSwgJHBhdGgsICRrKTsKfQp9Cn0KfQp9Cjw/cGhwCgoKCgoKCgoKbmFtZXNwYWNlIEpzb25TY2hlbWFcQ29uc3RyYWludHM7Cgp1c2UgSnNvblNjaGVtYVxFbnRpdHlcSnNvblBvaW50ZXI7CgoKCgoKCgphYnN0cmFjdCBjbGFzcyBDb25zdHJhaW50IGV4dGVuZHMgQmFzZUNvbnN0cmFpbnQgaW1wbGVtZW50cyBDb25zdHJhaW50SW50ZXJmYWNlCnsKcHJvdGVjdGVkICRpbmxpbmVTY2hlbWFQcm9wZXJ0eSA9ICckc2NoZW1hJzsKCmNvbnN0IENIRUNLX01PREVfTk9ORSA9IDB4MDAwMDAwMDA7CmNvbnN0IENIRUNLX01PREVfTk9STUFMID0gMHgwMDAwMDAwMTsKY29uc3QgQ0hFQ0tfTU9ERV9UWVBFX0NBU1QgPSAweDAwMDAwMDAyOwpjb25zdCBDSEVDS19NT0RFX0NPRVJDRV9UWVBFUyA9IDB4MDAwMDAwMDQ7CmNvbnN0IENIRUNLX01PREVfQVBQTFlfREVGQVVMVFMgPSAweDAwMDAwMDA4Owpjb25zdCBDSEVDS19NT0RFX0VYQ0VQVElPTlMgPSAweDAwMDAwMDEwOwpjb25zdCBDSEVDS19NT0RFX0RJU0FCTEVfRk9STUFUID0gMHgwMDAwMDAyMDsKY29uc3QgQ0hFQ0tfTU9ERV9PTkxZX1JFUVVJUkVEX0RFRkFVTFRTID0gMHgwMDAwMDA4MDsKY29uc3QgQ0hFQ0tfTU9ERV9WQUxJREFURV9TQ0hFTUEgPSAweDAwMDAwMTAwOwoKCgoKCgoKCgpwcm90ZWN0ZWQgZnVuY3Rpb24gaW5jcmVtZW50UGF0aChKc29uUG9pbnRlciAkcGF0aCA9IG51bGwsICRpKQp7CiRwYXRoID0gJHBhdGggPzogbmV3IEpzb25Qb2ludGVyKCcnKTsKJHBhdGggPSAkcGF0aC0+d2l0aFByb3BlcnR5UGF0aHMoCmFycmF5X21lcmdlKAokcGF0aC0+Z2V0UHJvcGVydHlQYXRocygpLAphcnJheV9maWx0ZXIoYXJyYXkoJGkpLCAnc3RybGVuJykKKQopOwoKcmV0dXJuICRwYXRoOwp9CgoKCgoKCgoKCnByb3RlY3RlZCBmdW5jdGlvbiBjaGVja0FycmF5KCYkdmFsdWUsICRzY2hlbWEgPSBudWxsLCBKc29uUG9pbnRlciAkcGF0aCA9IG51bGwsICRpID0gbnVsbCkKewokdmFsaWRhdG9yID0gJHRoaXMtPmZhY3RvcnktPmNyZWF0ZUluc3RhbmNlRm9yKCdjb2xsZWN0aW9uJyk7CiR2YWxpZGF0b3ItPmNoZWNrKCR2YWx1ZSwgJHNjaGVtYSwgJHBhdGgsICRpKTsKCiR0aGlzLT5hZGRFcnJvcnMoJHZhbGlkYXRvci0+Z2V0RXJyb3JzKCkpOwp9CgoKCgoKCgoKCgoKcHJvdGVjdGVkIGZ1bmN0aW9uIGNoZWNrT2JqZWN0KCYkdmFsdWUsICRzY2hlbWEgPSBudWxsLCBKc29uUG9pbnRlciAkcGF0aCA9IG51bGwsICRwcm9wZXJ0aWVzID0gbnVsbCwKJGFkZGl0aW9uYWxQcm9wZXJ0aWVzID0gbnVsbCwgJHBhdHRlcm5Qcm9wZXJ0aWVzID0gbnVsbCwgJGFwcGxpZWREZWZhdWx0cyA9IGFycmF5KCkpCnsKJHZhbGlkYXRvciA9ICR0aGlzLT5mYWN0b3J5LT5jcmVhdGVJbnN0YW5jZUZvcignb2JqZWN0Jyk7CiR2YWxpZGF0b3ItPmNoZWNrKCR2YWx1ZSwgJHNjaGVtYSwgJHBhdGgsICRwcm9wZXJ0aWVzLCAkYWRkaXRpb25hbFByb3BlcnRpZXMsICRwYXR0ZXJuUHJvcGVydGllcywgJGFwcGxpZWREZWZhdWx0cyk7CgokdGhpcy0+YWRkRXJyb3JzKCR2YWxpZGF0b3ItPmdldEVycm9ycygpKTsKfQoKCgoKCgoKCgpwcm90ZWN0ZWQgZnVuY3Rpb24gY2hlY2tUeXBlKCYkdmFsdWUsICRzY2hlbWEgPSBudWxsLCBKc29uUG9pbnRlciAkcGF0aCA9IG51bGwsICRpID0gbnVsbCkKewokdmFsaWRhdG9yID0gJHRoaXMtPmZhY3RvcnktPmNyZWF0ZUluc3RhbmNlRm9yKCd0eXBlJyk7CiR2YWxpZGF0b3ItPmNoZWNrKCR2YWx1ZSwgJHNjaGVtYSwgJHBhdGgsICRpKTsKCiR0aGlzLT5hZGRFcnJvcnMoJHZhbGlkYXRvci0+Z2V0RXJyb3JzKCkpOwp9CgoKCgoKCgoKCnByb3RlY3RlZCBmdW5jdGlvbiBjaGVja1VuZGVmaW5lZCgmJHZhbHVlLCAkc2NoZW1hID0gbnVsbCwgSnNvblBvaW50ZXIgJHBhdGggPSBudWxsLCAkaSA9IG51bGwsICRmcm9tRGVmYXVsdCA9IGZhbHNlKQp7CiR2YWxpZGF0b3IgPSAkdGhpcy0+ZmFjdG9yeS0+Y3JlYXRlSW5zdGFuY2VGb3IoJ3VuZGVmaW5lZCcpOwoKJHZhbGlkYXRvci0+Y2hlY2soJHZhbHVlLCAkdGhpcy0+ZmFjdG9yeS0+Z2V0U2NoZW1hU3RvcmFnZSgpLT5yZXNvbHZlUmVmU2NoZW1hKCRzY2hlbWEpLCAkcGF0aCwgJGksICRmcm9tRGVmYXVsdCk7CgokdGhpcy0+YWRkRXJyb3JzKCR2YWxpZGF0b3ItPmdldEVycm9ycygpKTsKfQoKCgoKCgoKCgpwcm90ZWN0ZWQgZnVuY3Rpb24gY2hlY2tTdHJpbmcoJHZhbHVlLCAkc2NoZW1hID0gbnVsbCwgSnNvblBvaW50ZXIgJHBhdGggPSBudWxsLCAkaSA9IG51bGwpCnsKJHZhbGlkYXRvciA9ICR0aGlzLT5mYWN0b3J5LT5jcmVhdGVJbnN0YW5jZUZvcignc3RyaW5nJyk7CiR2YWxpZGF0b3ItPmNoZWNrKCR2YWx1ZSwgJHNjaGVtYSwgJHBhdGgsICRpKTsKCiR0aGlzLT5hZGRFcnJvcnMoJHZhbGlkYXRvci0+Z2V0RXJyb3JzKCkpOwp9CgoKCgoKCgoKCnByb3RlY3RlZCBmdW5jdGlvbiBjaGVja051bWJlcigkdmFsdWUsICRzY2hlbWEgPSBudWxsLCBKc29uUG9pbnRlciAkcGF0aCA9IG51bGwsICRpID0gbnVsbCkKewokdmFsaWRhdG9yID0gJHRoaXMtPmZhY3RvcnktPmNyZWF0ZUluc3RhbmNlRm9yKCdudW1iZXInKTsKJHZhbGlkYXRvci0+Y2hlY2soJHZhbHVlLCAkc2NoZW1hLCAkcGF0aCwgJGkpOwoKJHRoaXMtPmFkZEVycm9ycygkdmFsaWRhdG9yLT5nZXRFcnJvcnMoKSk7Cn0KCgoKCgoKCgoKcHJvdGVjdGVkIGZ1bmN0aW9uIGNoZWNrRW51bSgkdmFsdWUsICRzY2hlbWEgPSBudWxsLCBKc29uUG9pbnRlciAkcGF0aCA9IG51bGwsICRpID0gbnVsbCkKewokdmFsaWRhdG9yID0gJHRoaXMtPmZhY3RvcnktPmNyZWF0ZUluc3RhbmNlRm9yKCdlbnVtJyk7CiR2YWxpZGF0b3ItPmNoZWNrKCR2YWx1ZSwgJHNjaGVtYSwgJHBhdGgsICRpKTsKCiR0aGlzLT5hZGRFcnJvcnMoJHZhbGlkYXRvci0+Z2V0RXJyb3JzKCkpOwp9CgoKCgoKCgoKCnByb3RlY3RlZCBmdW5jdGlvbiBjaGVja0Zvcm1hdCgkdmFsdWUsICRzY2hlbWEgPSBudWxsLCBKc29uUG9pbnRlciAkcGF0aCA9IG51bGwsICRpID0gbnVsbCkKewokdmFsaWRhdG9yID0gJHRoaXMtPmZhY3RvcnktPmNyZWF0ZUluc3RhbmNlRm9yKCdmb3JtYXQnKTsKJHZhbGlkYXRvci0+Y2hlY2soJHZhbHVlLCAkc2NoZW1hLCAkcGF0aCwgJGkpOwoKJHRoaXMtPmFkZEVycm9ycygkdmFsaWRhdG9yLT5nZXRFcnJvcnMoKSk7Cn0KCgoKCgoKcHJvdGVjdGVkIGZ1bmN0aW9uIGdldFR5cGVDaGVjaygpCnsKcmV0dXJuICR0aGlzLT5mYWN0b3J5LT5nZXRUeXBlQ2hlY2soKTsKfQoKCgoKCgpwcm90ZWN0ZWQgZnVuY3Rpb24gY29udmVydEpzb25Qb2ludGVySW50b1Byb3BlcnR5UGF0aChKc29uUG9pbnRlciAkcG9pbnRlcikKewokcmVzdWx0ID0gYXJyYXlfbWFwKApmdW5jdGlvbiAoJHBhdGgpIHsKcmV0dXJuIHNwcmludGYoaXNfbnVtZXJpYygkcGF0aCkgPyAnWyVkXScgOiAnLiVzJywgJHBhdGgpOwp9LAokcG9pbnRlci0+Z2V0UHJvcGVydHlQYXRocygpCik7CgpyZXR1cm4gdHJpbShpbXBsb2RlKCcnLCAkcmVzdWx0KSwgJy4nKTsKfQp9Cjw/cGhwCgoKCgoKCgoKbmFtZXNwYWNlIEpzb25TY2hlbWFcQ29uc3RyYWludHM7Cgp1c2UgSnNvblNjaGVtYVxFbnRpdHlcSnNvblBvaW50ZXI7CgoKCgoKCmludGVyZmFjZSBDb25zdHJhaW50SW50ZXJmYWNlCnsKCgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0RXJyb3JzKCk7CgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBhZGRFcnJvcnMoYXJyYXkgJGVycm9ycyk7CgoKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBhZGRFcnJvcihKc29uUG9pbnRlciAkcGF0aCA9IG51bGwsICRtZXNzYWdlLCAkY29uc3RyYWludD0nJywgYXJyYXkgJG1vcmUgPSBudWxsKTsKCgoKCgoKcHVibGljIGZ1bmN0aW9uIGlzVmFsaWQoKTsKCgoKCgoKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBjaGVjaygmJHZhbHVlLCAkc2NoZW1hID0gbnVsbCwgSnNvblBvaW50ZXIgJHBhdGggPSBudWxsLCAkaSA9IG51bGwpOwp9Cjw/cGhwCgoKCgoKCgoKbmFtZXNwYWNlIEpzb25TY2hlbWFcQ29uc3RyYWludHM7Cgp1c2UgSnNvblNjaGVtYVxFbnRpdHlcSnNvblBvaW50ZXI7CgoKCgoKCgpjbGFzcyBFbnVtQ29uc3RyYWludCBleHRlbmRzIENvbnN0cmFpbnQKewoKCgpwdWJsaWMgZnVuY3Rpb24gY2hlY2soJiRlbGVtZW50LCAkc2NoZW1hID0gbnVsbCwgSnNvblBvaW50ZXIgJHBhdGggPSBudWxsLCAkaSA9IG51bGwpCnsKCmlmICgkZWxlbWVudCBpbnN0YW5jZW9mIFVuZGVmaW5lZENvbnN0cmFpbnQgJiYgKCFpc3NldCgkc2NoZW1hLT5yZXF1aXJlZCkgfHwgISRzY2hlbWEtPnJlcXVpcmVkKSkgewpyZXR1cm47Cn0KJHR5cGUgPSBnZXR0eXBlKCRlbGVtZW50KTsKCmZvcmVhY2ggKCRzY2hlbWEtPmVudW0gYXMgJGVudW0pIHsKJGVudW1UeXBlID0gZ2V0dHlwZSgkZW51bSk7CmlmICgkdGhpcy0+ZmFjdG9yeS0+Z2V0Q29uZmlnKHNlbGY6OkNIRUNLX01PREVfVFlQRV9DQVNUKSAmJiAkdHlwZSA9PSAnYXJyYXknICYmICRlbnVtVHlwZSA9PSAnb2JqZWN0JykgewppZiAoKG9iamVjdCkgJGVsZW1lbnQgPT0gJGVudW0pIHsKcmV0dXJuOwp9Cn0KCmlmICgkdHlwZSA9PT0gZ2V0dHlwZSgkZW51bSkpIHsKaWYgKCR0eXBlID09ICdvYmplY3QnKSB7CmlmICgkZWxlbWVudCA9PSAkZW51bSkgewpyZXR1cm47Cn0KfSBlbHNlaWYgKCRlbGVtZW50ID09PSAkZW51bSkgewpyZXR1cm47Cn0KfQp9CgokdGhpcy0+YWRkRXJyb3IoJHBhdGgsICdEb2VzIG5vdCBoYXZlIGEgdmFsdWUgaW4gdGhlIGVudW1lcmF0aW9uICcgLiBqc29uX2VuY29kZSgkc2NoZW1hLT5lbnVtKSwgJ2VudW0nLCBhcnJheSgnZW51bScgPT4gJHNjaGVtYS0+ZW51bSkpOwp9Cn0KPD9waHAKCgoKCgoKCgpuYW1lc3BhY2UgSnNvblNjaGVtYVxDb25zdHJhaW50czsKCnVzZSBKc29uU2NoZW1hXEV4Y2VwdGlvblxJbnZhbGlkQXJndW1lbnRFeGNlcHRpb247CnVzZSBKc29uU2NoZW1hXFNjaGVtYVN0b3JhZ2U7CnVzZSBKc29uU2NoZW1hXFNjaGVtYVN0b3JhZ2VJbnRlcmZhY2U7CnVzZSBKc29uU2NoZW1hXFVyaVxVcmlSZXRyaWV2ZXI7CnVzZSBKc29uU2NoZW1hXFVyaVJldHJpZXZlckludGVyZmFjZTsKdXNlIEpzb25TY2hlbWFcVmFsaWRhdG9yOwoKCgoKY2xhc3MgRmFjdG9yeQp7CgoKCnByb3RlY3RlZCAkc2NoZW1hU3RvcmFnZTsKCgoKCnByb3RlY3RlZCAkdXJpUmV0cmlldmVyOwoKCgoKcHJpdmF0ZSAkY2hlY2tNb2RlID0gQ29uc3RyYWludDo6Q0hFQ0tfTU9ERV9OT1JNQUw7CgoKCgpwcml2YXRlICR0eXBlQ2hlY2sgPSBhcnJheSgpOwoKCgoKcHJvdGVjdGVkICRlcnJvckNvbnRleHQgPSBWYWxpZGF0b3I6OkVSUk9SX0RPQ1VNRU5UX1ZBTElEQVRJT047CgoKCgpwcm90ZWN0ZWQgJGNvbnN0cmFpbnRNYXAgPSBhcnJheSgKJ2FycmF5JyA9PiAnSnNvblNjaGVtYVxDb25zdHJhaW50c1xDb2xsZWN0aW9uQ29uc3RyYWludCcsCidjb2xsZWN0aW9uJyA9PiAnSnNvblNjaGVtYVxDb25zdHJhaW50c1xDb2xsZWN0aW9uQ29uc3RyYWludCcsCidvYmplY3QnID0+ICdKc29uU2NoZW1hXENvbnN0cmFpbnRzXE9iamVjdENvbnN0cmFpbnQnLAondHlwZScgPT4gJ0pzb25TY2hlbWFcQ29uc3RyYWludHNcVHlwZUNvbnN0cmFpbnQnLAondW5kZWZpbmVkJyA9PiAnSnNvblNjaGVtYVxDb25zdHJhaW50c1xVbmRlZmluZWRDb25zdHJhaW50JywKJ3N0cmluZycgPT4gJ0pzb25TY2hlbWFcQ29uc3RyYWludHNcU3RyaW5nQ29uc3RyYWludCcsCidudW1iZXInID0+ICdKc29uU2NoZW1hXENvbnN0cmFpbnRzXE51bWJlckNvbnN0cmFpbnQnLAonZW51bScgPT4gJ0pzb25TY2hlbWFcQ29uc3RyYWludHNcRW51bUNvbnN0cmFpbnQnLAonZm9ybWF0JyA9PiAnSnNvblNjaGVtYVxDb25zdHJhaW50c1xGb3JtYXRDb25zdHJhaW50JywKJ3NjaGVtYScgPT4gJ0pzb25TY2hlbWFcQ29uc3RyYWludHNcU2NoZW1hQ29uc3RyYWludCcsCid2YWxpZGF0b3InID0+ICdKc29uU2NoZW1hXFZhbGlkYXRvcicKKTsKCgoKCnByaXZhdGUgJGluc3RhbmNlQ2FjaGUgPSBhcnJheSgpOwoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gX19jb25zdHJ1Y3QoClNjaGVtYVN0b3JhZ2VJbnRlcmZhY2UgJHNjaGVtYVN0b3JhZ2UgPSBudWxsLApVcmlSZXRyaWV2ZXJJbnRlcmZhY2UgJHVyaVJldHJpZXZlciA9IG51bGwsCiRjaGVja01vZGUgPSBDb25zdHJhaW50OjpDSEVDS19NT0RFX05PUk1BTAopIHsKCiR0aGlzLT5zZXRDb25maWcoJGNoZWNrTW9kZSk7CgokdGhpcy0+dXJpUmV0cmlldmVyID0gJHVyaVJldHJpZXZlciA/OiBuZXcgVXJpUmV0cmlldmVyKCk7CiR0aGlzLT5zY2hlbWFTdG9yYWdlID0gJHNjaGVtYVN0b3JhZ2UgPzogbmV3IFNjaGVtYVN0b3JhZ2UoJHRoaXMtPnVyaVJldHJpZXZlcik7Cn0KCgoKCgoKcHVibGljIGZ1bmN0aW9uIHNldENvbmZpZygkY2hlY2tNb2RlID0gQ29uc3RyYWludDo6Q0hFQ0tfTU9ERV9OT1JNQUwpCnsKJHRoaXMtPmNoZWNrTW9kZSA9ICRjaGVja01vZGU7Cn0KCgoKCgoKcHVibGljIGZ1bmN0aW9uIGFkZENvbmZpZygkb3B0aW9ucykKewokdGhpcy0+Y2hlY2tNb2RlIHw9ICRvcHRpb25zOwp9CgoKCgoKCnB1YmxpYyBmdW5jdGlvbiByZW1vdmVDb25maWcoJG9wdGlvbnMpCnsKJHRoaXMtPmNoZWNrTW9kZSAmPSB+JG9wdGlvbnM7Cn0KCgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0Q29uZmlnKCRvcHRpb25zID0gbnVsbCkKewppZiAoJG9wdGlvbnMgPT09IG51bGwpIHsKcmV0dXJuICR0aGlzLT5jaGVja01vZGU7Cn0KCnJldHVybiAkdGhpcy0+Y2hlY2tNb2RlICYgJG9wdGlvbnM7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBnZXRVcmlSZXRyaWV2ZXIoKQp7CnJldHVybiAkdGhpcy0+dXJpUmV0cmlldmVyOwp9CgpwdWJsaWMgZnVuY3Rpb24gZ2V0U2NoZW1hU3RvcmFnZSgpCnsKcmV0dXJuICR0aGlzLT5zY2hlbWFTdG9yYWdlOwp9CgpwdWJsaWMgZnVuY3Rpb24gZ2V0VHlwZUNoZWNrKCkKewppZiAoIWlzc2V0KCR0aGlzLT50eXBlQ2hlY2tbJHRoaXMtPmNoZWNrTW9kZV0pKSB7CiR0aGlzLT50eXBlQ2hlY2tbJHRoaXMtPmNoZWNrTW9kZV0gPSAoJHRoaXMtPmNoZWNrTW9kZSAmIENvbnN0cmFpbnQ6OkNIRUNLX01PREVfVFlQRV9DQVNUKQo/IG5ldyBUeXBlQ2hlY2tcTG9vc2VUeXBlQ2hlY2soKQo6IG5ldyBUeXBlQ2hlY2tcU3RyaWN0VHlwZUNoZWNrKCk7Cn0KCnJldHVybiAkdGhpcy0+dHlwZUNoZWNrWyR0aGlzLT5jaGVja01vZGVdOwp9CgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gc2V0Q29uc3RyYWludENsYXNzKCRuYW1lLCAkY2xhc3MpCnsKCmlmICghY2xhc3NfZXhpc3RzKCRjbGFzcykpIHsKdGhyb3cgbmV3IEludmFsaWRBcmd1bWVudEV4Y2VwdGlvbignVW5rbm93biBjb25zdHJhaW50ICcgLiAkbmFtZSk7Cn0KCmlmICghaW5fYXJyYXkoJ0pzb25TY2hlbWFcQ29uc3RyYWludHNcQ29uc3RyYWludEludGVyZmFjZScsIGNsYXNzX2ltcGxlbWVudHMoJGNsYXNzKSkpIHsKdGhyb3cgbmV3IEludmFsaWRBcmd1bWVudEV4Y2VwdGlvbignSW52YWxpZCBjbGFzcyAnIC4gJG5hbWUpOwp9CiR0aGlzLT5jb25zdHJhaW50TWFwWyRuYW1lXSA9ICRjbGFzczsKCnJldHVybiAkdGhpczsKfQoKCgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIGNyZWF0ZUluc3RhbmNlRm9yKCRjb25zdHJhaW50TmFtZSkKewppZiAoIWlzc2V0KCR0aGlzLT5jb25zdHJhaW50TWFwWyRjb25zdHJhaW50TmFtZV0pKSB7CnRocm93IG5ldyBJbnZhbGlkQXJndW1lbnRFeGNlcHRpb24oJ1Vua25vd24gY29uc3RyYWludCAnIC4gJGNvbnN0cmFpbnROYW1lKTsKfQoKaWYgKCFpc3NldCgkdGhpcy0+aW5zdGFuY2VDYWNoZVskY29uc3RyYWludE5hbWVdKSkgewokdGhpcy0+aW5zdGFuY2VDYWNoZVskY29uc3RyYWludE5hbWVdID0gbmV3ICR0aGlzLT5jb25zdHJhaW50TWFwWyRjb25zdHJhaW50TmFtZV0oJHRoaXMpOwp9CgpyZXR1cm4gY2xvbmUgJHRoaXMtPmluc3RhbmNlQ2FjaGVbJGNvbnN0cmFpbnROYW1lXTsKfQoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0RXJyb3JDb250ZXh0KCkKewpyZXR1cm4gJHRoaXMtPmVycm9yQ29udGV4dDsKfQoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gc2V0RXJyb3JDb250ZXh0KCRlcnJvckNvbnRleHQpCnsKJHRoaXMtPmVycm9yQ29udGV4dCA9ICRlcnJvckNvbnRleHQ7Cn0KfQo8P3BocAoKCgoKCgoKCm5hbWVzcGFjZSBKc29uU2NoZW1hXENvbnN0cmFpbnRzOwoKdXNlIEpzb25TY2hlbWFcRW50aXR5XEpzb25Qb2ludGVyOwp1c2UgSnNvblNjaGVtYVxSZmMzMzM5OwoKCgoKCgoKCmNsYXNzIEZvcm1hdENvbnN0cmFpbnQgZXh0ZW5kcyBDb25zdHJhaW50CnsKCgoKcHVibGljIGZ1bmN0aW9uIGNoZWNrKCYkZWxlbWVudCwgJHNjaGVtYSA9IG51bGwsIEpzb25Qb2ludGVyICRwYXRoID0gbnVsbCwgJGkgPSBudWxsKQp7CmlmICghaXNzZXQoJHNjaGVtYS0+Zm9ybWF0KSB8fCAkdGhpcy0+ZmFjdG9yeS0+Z2V0Q29uZmlnKHNlbGY6OkNIRUNLX01PREVfRElTQUJMRV9GT1JNQVQpKSB7CnJldHVybjsKfQoKc3dpdGNoICgkc2NoZW1hLT5mb3JtYXQpIHsKY2FzZSAnZGF0ZSc6CmlmICghJGRhdGUgPSAkdGhpcy0+dmFsaWRhdGVEYXRlVGltZSgkZWxlbWVudCwgJ1ktbS1kJykpIHsKJHRoaXMtPmFkZEVycm9yKCRwYXRoLCBzcHJpbnRmKCdJbnZhbGlkIGRhdGUgJXMsIGV4cGVjdGVkIGZvcm1hdCBZWVlZLU1NLUREJywganNvbl9lbmNvZGUoJGVsZW1lbnQpKSwgJ2Zvcm1hdCcsIGFycmF5KCdmb3JtYXQnID0+ICRzY2hlbWEtPmZvcm1hdCkpOwp9CmJyZWFrOwoKY2FzZSAndGltZSc6CmlmICghJHRoaXMtPnZhbGlkYXRlRGF0ZVRpbWUoJGVsZW1lbnQsICdIOmk6cycpKSB7CiR0aGlzLT5hZGRFcnJvcigkcGF0aCwgc3ByaW50ZignSW52YWxpZCB0aW1lICVzLCBleHBlY3RlZCBmb3JtYXQgaGg6bW06c3MnLCBqc29uX2VuY29kZSgkZWxlbWVudCkpLCAnZm9ybWF0JywgYXJyYXkoJ2Zvcm1hdCcgPT4gJHNjaGVtYS0+Zm9ybWF0KSk7Cn0KYnJlYWs7CgpjYXNlICdkYXRlLXRpbWUnOgppZiAobnVsbCA9PT0gUmZjMzMzOTo6Y3JlYXRlRnJvbVN0cmluZygkZWxlbWVudCkpIHsKJHRoaXMtPmFkZEVycm9yKCRwYXRoLCBzcHJpbnRmKCdJbnZhbGlkIGRhdGUtdGltZSAlcywgZXhwZWN0ZWQgZm9ybWF0IFlZWVktTU0tRERUaGg6bW06c3NaIG9yIFlZWVktTU0tRERUaGg6bW06c3MraGg6bW0nLCBqc29uX2VuY29kZSgkZWxlbWVudCkpLCAnZm9ybWF0JywgYXJyYXkoJ2Zvcm1hdCcgPT4gJHNjaGVtYS0+Zm9ybWF0KSk7Cn0KYnJlYWs7CgpjYXNlICd1dGMtbWlsbGlzZWMnOgppZiAoISR0aGlzLT52YWxpZGF0ZURhdGVUaW1lKCRlbGVtZW50LCAnVScpKSB7CiR0aGlzLT5hZGRFcnJvcigkcGF0aCwgc3ByaW50ZignSW52YWxpZCB0aW1lICVzLCBleHBlY3RlZCBpbnRlZ2VyIG9mIG1pbGxpc2Vjb25kcyBzaW5jZSBFcG9jaCcsIGpzb25fZW5jb2RlKCRlbGVtZW50KSksICdmb3JtYXQnLCBhcnJheSgnZm9ybWF0JyA9PiAkc2NoZW1hLT5mb3JtYXQpKTsKfQpicmVhazsKCmNhc2UgJ3JlZ2V4JzoKaWYgKCEkdGhpcy0+dmFsaWRhdGVSZWdleCgkZWxlbWVudCkpIHsKJHRoaXMtPmFkZEVycm9yKCRwYXRoLCAnSW52YWxpZCByZWdleCBmb3JtYXQgJyAuICRlbGVtZW50LCAnZm9ybWF0JywgYXJyYXkoJ2Zvcm1hdCcgPT4gJHNjaGVtYS0+Zm9ybWF0KSk7Cn0KYnJlYWs7CgpjYXNlICdjb2xvcic6CmlmICghJHRoaXMtPnZhbGlkYXRlQ29sb3IoJGVsZW1lbnQpKSB7CiR0aGlzLT5hZGRFcnJvcigkcGF0aCwgJ0ludmFsaWQgY29sb3InLCAnZm9ybWF0JywgYXJyYXkoJ2Zvcm1hdCcgPT4gJHNjaGVtYS0+Zm9ybWF0KSk7Cn0KYnJlYWs7CgpjYXNlICdzdHlsZSc6CmlmICghJHRoaXMtPnZhbGlkYXRlU3R5bGUoJGVsZW1lbnQpKSB7CiR0aGlzLT5hZGRFcnJvcigkcGF0aCwgJ0ludmFsaWQgc3R5bGUnLCAnZm9ybWF0JywgYXJyYXkoJ2Zvcm1hdCcgPT4gJHNjaGVtYS0+Zm9ybWF0KSk7Cn0KYnJlYWs7CgpjYXNlICdwaG9uZSc6CmlmICghJHRoaXMtPnZhbGlkYXRlUGhvbmUoJGVsZW1lbnQpKSB7CiR0aGlzLT5hZGRFcnJvcigkcGF0aCwgJ0ludmFsaWQgcGhvbmUgbnVtYmVyJywgJ2Zvcm1hdCcsIGFycmF5KCdmb3JtYXQnID0+ICRzY2hlbWEtPmZvcm1hdCkpOwp9CmJyZWFrOwoKY2FzZSAndXJpJzoKaWYgKG51bGwgPT09IGZpbHRlcl92YXIoJGVsZW1lbnQsIEZJTFRFUl9WQUxJREFURV9VUkwsIEZJTFRFUl9OVUxMX09OX0ZBSUxVUkUpKSB7CiR0aGlzLT5hZGRFcnJvcigkcGF0aCwgJ0ludmFsaWQgVVJMIGZvcm1hdCcsICdmb3JtYXQnLCBhcnJheSgnZm9ybWF0JyA9PiAkc2NoZW1hLT5mb3JtYXQpKTsKfQpicmVhazsKCmNhc2UgJ3VyaXJlZic6CmNhc2UgJ3VyaS1yZWZlcmVuY2UnOgppZiAobnVsbCA9PT0gZmlsdGVyX3ZhcigkZWxlbWVudCwgRklMVEVSX1ZBTElEQVRFX1VSTCwgRklMVEVSX05VTExfT05fRkFJTFVSRSkpIHsKCgoKaWYgKHN1YnN0cigkZWxlbWVudCwgMCwgMikgPT09ICcvLycpIHsgCiR2YWxpZFVSTCA9IGZpbHRlcl92YXIoJ3NjaGVtZTonIC4gJGVsZW1lbnQsIEZJTFRFUl9WQUxJREFURV9VUkwsIEZJTFRFUl9OVUxMX09OX0ZBSUxVUkUpOwp9IGVsc2VpZiAoc3Vic3RyKCRlbGVtZW50LCAwLCAxKSA9PT0gJy8nKSB7IAokdmFsaWRVUkwgPSBmaWx0ZXJfdmFyKCdzY2hlbWU6Ly9ob3N0JyAuICRlbGVtZW50LCBGSUxURVJfVkFMSURBVEVfVVJMLCBGSUxURVJfTlVMTF9PTl9GQUlMVVJFKTsKfSBlbHNlaWYgKHN0cmxlbigkZWxlbWVudCkpIHsgCiRwYXRoUGFydHMgPSBleHBsb2RlKCcvJywgJGVsZW1lbnQsIDIpOwppZiAoc3RycG9zKCRwYXRoUGFydHNbMF0sICc6JykgIT09IGZhbHNlKSB7CiR2YWxpZFVSTCA9IG51bGw7Cn0gZWxzZSB7CiR2YWxpZFVSTCA9IGZpbHRlcl92YXIoJ3NjaGVtZTovL2hvc3QvJyAuICRlbGVtZW50LCBGSUxURVJfVkFMSURBVEVfVVJMLCBGSUxURVJfTlVMTF9PTl9GQUlMVVJFKTsKfQp9IGVsc2UgewokdmFsaWRVUkwgPSBudWxsOwp9CmlmICgkdmFsaWRVUkwgPT09IG51bGwpIHsKJHRoaXMtPmFkZEVycm9yKCRwYXRoLCAnSW52YWxpZCBVUkwgZm9ybWF0JywgJ2Zvcm1hdCcsIGFycmF5KCdmb3JtYXQnID0+ICRzY2hlbWEtPmZvcm1hdCkpOwp9Cn0KYnJlYWs7CgpjYXNlICdlbWFpbCc6CiRmaWx0ZXJGbGFncyA9IEZJTFRFUl9OVUxMX09OX0ZBSUxVUkU7CmlmIChkZWZpbmVkKCdGSUxURVJfRkxBR19FTUFJTF9VTklDT0RFJykpIHsKCiRmaWx0ZXJGbGFncyB8PSBjb25zdGFudCgnRklMVEVSX0ZMQUdfRU1BSUxfVU5JQ09ERScpOyAKfQppZiAobnVsbCA9PT0gZmlsdGVyX3ZhcigkZWxlbWVudCwgRklMVEVSX1ZBTElEQVRFX0VNQUlMLCAkZmlsdGVyRmxhZ3MpKSB7CiR0aGlzLT5hZGRFcnJvcigkcGF0aCwgJ0ludmFsaWQgZW1haWwnLCAnZm9ybWF0JywgYXJyYXkoJ2Zvcm1hdCcgPT4gJHNjaGVtYS0+Zm9ybWF0KSk7Cn0KYnJlYWs7CgpjYXNlICdpcC1hZGRyZXNzJzoKY2FzZSAnaXB2NCc6CmlmIChudWxsID09PSBmaWx0ZXJfdmFyKCRlbGVtZW50LCBGSUxURVJfVkFMSURBVEVfSVAsIEZJTFRFUl9OVUxMX09OX0ZBSUxVUkUgfCBGSUxURVJfRkxBR19JUFY0KSkgewokdGhpcy0+YWRkRXJyb3IoJHBhdGgsICdJbnZhbGlkIElQIGFkZHJlc3MnLCAnZm9ybWF0JywgYXJyYXkoJ2Zvcm1hdCcgPT4gJHNjaGVtYS0+Zm9ybWF0KSk7Cn0KYnJlYWs7CgpjYXNlICdpcHY2JzoKaWYgKG51bGwgPT09IGZpbHRlcl92YXIoJGVsZW1lbnQsIEZJTFRFUl9WQUxJREFURV9JUCwgRklMVEVSX05VTExfT05fRkFJTFVSRSB8IEZJTFRFUl9GTEFHX0lQVjYpKSB7CiR0aGlzLT5hZGRFcnJvcigkcGF0aCwgJ0ludmFsaWQgSVAgYWRkcmVzcycsICdmb3JtYXQnLCBhcnJheSgnZm9ybWF0JyA9PiAkc2NoZW1hLT5mb3JtYXQpKTsKfQpicmVhazsKCmNhc2UgJ2hvc3QtbmFtZSc6CmNhc2UgJ2hvc3RuYW1lJzoKaWYgKCEkdGhpcy0+dmFsaWRhdGVIb3N0bmFtZSgkZWxlbWVudCkpIHsKJHRoaXMtPmFkZEVycm9yKCRwYXRoLCAnSW52YWxpZCBob3N0bmFtZScsICdmb3JtYXQnLCBhcnJheSgnZm9ybWF0JyA9PiAkc2NoZW1hLT5mb3JtYXQpKTsKfQpicmVhazsKCmRlZmF1bHQ6CgoKCgoKCmJyZWFrOwp9Cn0KCnByb3RlY3RlZCBmdW5jdGlvbiB2YWxpZGF0ZURhdGVUaW1lKCRkYXRldGltZSwgJGZvcm1hdCkKewokZHQgPSBcRGF0ZVRpbWU6OmNyZWF0ZUZyb21Gb3JtYXQoJGZvcm1hdCwgJGRhdGV0aW1lKTsKCmlmICghJGR0KSB7CnJldHVybiBmYWxzZTsKfQoKaWYgKCRkYXRldGltZSA9PT0gJGR0LT5mb3JtYXQoJGZvcm1hdCkpIHsKcmV0dXJuIHRydWU7Cn0KCgoKCgppZiAoKHN0cnBvcygndScsICRmb3JtYXQpICE9PSAtMSkgJiYgKHByZWdfbWF0Y2goJy9cLlxkK1okLycsICRkYXRldGltZSkpKSB7CnJldHVybiB0cnVlOwp9CgpyZXR1cm4gZmFsc2U7Cn0KCnByb3RlY3RlZCBmdW5jdGlvbiB2YWxpZGF0ZVJlZ2V4KCRyZWdleCkKewpyZXR1cm4gZmFsc2UgIT09IEBwcmVnX21hdGNoKCcvJyAuICRyZWdleCAuICcvdScsICcnKTsKfQoKcHJvdGVjdGVkIGZ1bmN0aW9uIHZhbGlkYXRlQ29sb3IoJGNvbG9yKQp7CmlmIChpbl9hcnJheShzdHJ0b2xvd2VyKCRjb2xvciksIGFycmF5KCdhcXVhJywgJ2JsYWNrJywgJ2JsdWUnLCAnZnVjaHNpYScsCidncmF5JywgJ2dyZWVuJywgJ2xpbWUnLCAnbWFyb29uJywgJ25hdnknLCAnb2xpdmUnLCAnb3JhbmdlJywgJ3B1cnBsZScsCidyZWQnLCAnc2lsdmVyJywgJ3RlYWwnLCAnd2hpdGUnLCAneWVsbG93JykpKSB7CnJldHVybiB0cnVlOwp9CgpyZXR1cm4gcHJlZ19tYXRjaCgnL14jKFthLWYwLTldezN9fFthLWYwLTldezZ9KSQvaScsICRjb2xvcik7Cn0KCnByb3RlY3RlZCBmdW5jdGlvbiB2YWxpZGF0ZVN0eWxlKCRzdHlsZSkKewokcHJvcGVydGllcyA9IGV4cGxvZGUoJzsnLCBydHJpbSgkc3R5bGUsICc7JykpOwokaW52YWxpZEVudHJpZXMgPSBwcmVnX2dyZXAoJy9eXHMqWy1hLXpdK1xzKjpccyouKyQvaScsICRwcm9wZXJ0aWVzLCBQUkVHX0dSRVBfSU5WRVJUKTsKCnJldHVybiBlbXB0eSgkaW52YWxpZEVudHJpZXMpOwp9Cgpwcm90ZWN0ZWQgZnVuY3Rpb24gdmFsaWRhdGVQaG9uZSgkcGhvbmUpCnsKcmV0dXJuIHByZWdfbWF0Y2goJy9eXCs/KFwoXGR7M31cKXxcZHszfSkgXGR7M30gXGR7NH0kLycsICRwaG9uZSk7Cn0KCnByb3RlY3RlZCBmdW5jdGlvbiB2YWxpZGF0ZUhvc3RuYW1lKCRob3N0KQp7CiRob3N0bmFtZVJlZ2V4ID0gJy9eKChbYS16QS1aMC05XXxbYS16QS1aMC05XVthLXpBLVowLTlcLV0qW2EtekEtWjAtOV0pXC4pKihbQS1aYS16MC05XXxbQS1aYS16MC05XVtBLVphLXowLTlcLV0qW0EtWmEtejAtOV0pJC9pJzsKCnJldHVybiBwcmVnX21hdGNoKCRob3N0bmFtZVJlZ2V4LCAkaG9zdCk7Cn0KfQo8P3BocAoKCgoKCgoKCm5hbWVzcGFjZSBKc29uU2NoZW1hXENvbnN0cmFpbnRzOwoKdXNlIEpzb25TY2hlbWFcRW50aXR5XEpzb25Qb2ludGVyOwoKCgoKCgoKY2xhc3MgTnVtYmVyQ29uc3RyYWludCBleHRlbmRzIENvbnN0cmFpbnQKewoKCgpwdWJsaWMgZnVuY3Rpb24gY2hlY2soJiRlbGVtZW50LCAkc2NoZW1hID0gbnVsbCwgSnNvblBvaW50ZXIgJHBhdGggPSBudWxsLCAkaSA9IG51bGwpCnsKCmlmIChpc3NldCgkc2NoZW1hLT5leGNsdXNpdmVNaW5pbXVtKSkgewppZiAoaXNzZXQoJHNjaGVtYS0+bWluaW11bSkpIHsKaWYgKCRzY2hlbWEtPmV4Y2x1c2l2ZU1pbmltdW0gJiYgJGVsZW1lbnQgPD0gJHNjaGVtYS0+bWluaW11bSkgewokdGhpcy0+YWRkRXJyb3IoJHBhdGgsICdNdXN0IGhhdmUgYSBtaW5pbXVtIHZhbHVlIG9mICcgLiAkc2NoZW1hLT5taW5pbXVtLCAnZXhjbHVzaXZlTWluaW11bScsIGFycmF5KCdtaW5pbXVtJyA9PiAkc2NoZW1hLT5taW5pbXVtKSk7Cn0gZWxzZWlmICgkZWxlbWVudCA8ICRzY2hlbWEtPm1pbmltdW0pIHsKJHRoaXMtPmFkZEVycm9yKCRwYXRoLCAnTXVzdCBoYXZlIGEgbWluaW11bSB2YWx1ZSBvZiAnIC4gJHNjaGVtYS0+bWluaW11bSwgJ21pbmltdW0nLCBhcnJheSgnbWluaW11bScgPT4gJHNjaGVtYS0+bWluaW11bSkpOwp9Cn0gZWxzZSB7CiR0aGlzLT5hZGRFcnJvcigkcGF0aCwgJ1VzZSBvZiBleGNsdXNpdmVNaW5pbXVtIHJlcXVpcmVzIHByZXNlbmNlIG9mIG1pbmltdW0nLCAnbWlzc2luZ01pbmltdW0nKTsKfQp9IGVsc2VpZiAoaXNzZXQoJHNjaGVtYS0+bWluaW11bSkgJiYgJGVsZW1lbnQgPCAkc2NoZW1hLT5taW5pbXVtKSB7CiR0aGlzLT5hZGRFcnJvcigkcGF0aCwgJ011c3QgaGF2ZSBhIG1pbmltdW0gdmFsdWUgb2YgJyAuICRzY2hlbWEtPm1pbmltdW0sICdtaW5pbXVtJywgYXJyYXkoJ21pbmltdW0nID0+ICRzY2hlbWEtPm1pbmltdW0pKTsKfQoKCmlmIChpc3NldCgkc2NoZW1hLT5leGNsdXNpdmVNYXhpbXVtKSkgewppZiAoaXNzZXQoJHNjaGVtYS0+bWF4aW11bSkpIHsKaWYgKCRzY2hlbWEtPmV4Y2x1c2l2ZU1heGltdW0gJiYgJGVsZW1lbnQgPj0gJHNjaGVtYS0+bWF4aW11bSkgewokdGhpcy0+YWRkRXJyb3IoJHBhdGgsICdNdXN0IGhhdmUgYSBtYXhpbXVtIHZhbHVlIG9mICcgLiAkc2NoZW1hLT5tYXhpbXVtLCAnZXhjbHVzaXZlTWF4aW11bScsIGFycmF5KCdtYXhpbXVtJyA9PiAkc2NoZW1hLT5tYXhpbXVtKSk7Cn0gZWxzZWlmICgkZWxlbWVudCA+ICRzY2hlbWEtPm1heGltdW0pIHsKJHRoaXMtPmFkZEVycm9yKCRwYXRoLCAnTXVzdCBoYXZlIGEgbWF4aW11bSB2YWx1ZSBvZiAnIC4gJHNjaGVtYS0+bWF4aW11bSwgJ21heGltdW0nLCBhcnJheSgnbWF4aW11bScgPT4gJHNjaGVtYS0+bWF4aW11bSkpOwp9Cn0gZWxzZSB7CiR0aGlzLT5hZGRFcnJvcigkcGF0aCwgJ1VzZSBvZiBleGNsdXNpdmVNYXhpbXVtIHJlcXVpcmVzIHByZXNlbmNlIG9mIG1heGltdW0nLCAnbWlzc2luZ01heGltdW0nKTsKfQp9IGVsc2VpZiAoaXNzZXQoJHNjaGVtYS0+bWF4aW11bSkgJiYgJGVsZW1lbnQgPiAkc2NoZW1hLT5tYXhpbXVtKSB7CiR0aGlzLT5hZGRFcnJvcigkcGF0aCwgJ011c3QgaGF2ZSBhIG1heGltdW0gdmFsdWUgb2YgJyAuICRzY2hlbWEtPm1heGltdW0sICdtYXhpbXVtJywgYXJyYXkoJ21heGltdW0nID0+ICRzY2hlbWEtPm1heGltdW0pKTsKfQoKCmlmIChpc3NldCgkc2NoZW1hLT5kaXZpc2libGVCeSkgJiYgJHRoaXMtPmZtb2QoJGVsZW1lbnQsICRzY2hlbWEtPmRpdmlzaWJsZUJ5KSAhPSAwKSB7CiR0aGlzLT5hZGRFcnJvcigkcGF0aCwgJ0lzIG5vdCBkaXZpc2libGUgYnkgJyAuICRzY2hlbWEtPmRpdmlzaWJsZUJ5LCAnZGl2aXNpYmxlQnknLCBhcnJheSgnZGl2aXNpYmxlQnknID0+ICRzY2hlbWEtPmRpdmlzaWJsZUJ5KSk7Cn0KCgppZiAoaXNzZXQoJHNjaGVtYS0+bXVsdGlwbGVPZikgJiYgJHRoaXMtPmZtb2QoJGVsZW1lbnQsICRzY2hlbWEtPm11bHRpcGxlT2YpICE9IDApIHsKJHRoaXMtPmFkZEVycm9yKCRwYXRoLCAnTXVzdCBiZSBhIG11bHRpcGxlIG9mICcgLiAkc2NoZW1hLT5tdWx0aXBsZU9mLCAnbXVsdGlwbGVPZicsIGFycmF5KCdtdWx0aXBsZU9mJyA9PiAkc2NoZW1hLT5tdWx0aXBsZU9mKSk7Cn0KCiR0aGlzLT5jaGVja0Zvcm1hdCgkZWxlbWVudCwgJHNjaGVtYSwgJHBhdGgsICRpKTsKfQoKcHJpdmF0ZSBmdW5jdGlvbiBmbW9kKCRudW1iZXIxLCAkbnVtYmVyMikKewokbW9kdWx1cyA9ICgkbnVtYmVyMSAtIHJvdW5kKCRudW1iZXIxIC8gJG51bWJlcjIpICogJG51bWJlcjIpOwokcHJlY2lzaW9uID0gMC4wMDAwMDAwMDAxOwoKaWYgKC0kcHJlY2lzaW9uIDwgJG1vZHVsdXMgJiYgJG1vZHVsdXMgPCAkcHJlY2lzaW9uKSB7CnJldHVybiAwLjA7Cn0KCnJldHVybiAkbW9kdWx1czsKfQp9Cjw/cGhwCgoKCgoKCgoKbmFtZXNwYWNlIEpzb25TY2hlbWFcQ29uc3RyYWludHM7Cgp1c2UgSnNvblNjaGVtYVxFbnRpdHlcSnNvblBvaW50ZXI7CgoKCgoKCgpjbGFzcyBPYmplY3RDb25zdHJhaW50IGV4dGVuZHMgQ29uc3RyYWludAp7CgoKCnByb3RlY3RlZCAkYXBwbGllZERlZmF1bHRzID0gYXJyYXkoKTsKCgoKCnB1YmxpYyBmdW5jdGlvbiBjaGVjaygmJGVsZW1lbnQsICRzY2hlbWEgPSBudWxsLCBKc29uUG9pbnRlciAkcGF0aCA9IG51bGwsICRwcm9wZXJ0aWVzID0gbnVsbCwKJGFkZGl0aW9uYWxQcm9wID0gbnVsbCwgJHBhdHRlcm5Qcm9wZXJ0aWVzID0gbnVsbCwgJGFwcGxpZWREZWZhdWx0cyA9IGFycmF5KCkpCnsKaWYgKCRlbGVtZW50IGluc3RhbmNlb2YgVW5kZWZpbmVkQ29uc3RyYWludCkgewpyZXR1cm47Cn0KCiR0aGlzLT5hcHBsaWVkRGVmYXVsdHMgPSAkYXBwbGllZERlZmF1bHRzOwoKJG1hdGNoZXMgPSBhcnJheSgpOwppZiAoJHBhdHRlcm5Qcm9wZXJ0aWVzKSB7CgokbWF0Y2hlcyA9ICR0aGlzLT52YWxpZGF0ZVBhdHRlcm5Qcm9wZXJ0aWVzKCRlbGVtZW50LCAkcGF0aCwgJHBhdHRlcm5Qcm9wZXJ0aWVzKTsKfQoKaWYgKCRwcm9wZXJ0aWVzKSB7CgokdGhpcy0+dmFsaWRhdGVQcm9wZXJ0aWVzKCRlbGVtZW50LCAkcHJvcGVydGllcywgJHBhdGgpOwp9CgoKJHRoaXMtPnZhbGlkYXRlRWxlbWVudCgkZWxlbWVudCwgJG1hdGNoZXMsICRzY2hlbWEsICRwYXRoLCAkcHJvcGVydGllcywgJGFkZGl0aW9uYWxQcm9wKTsKfQoKcHVibGljIGZ1bmN0aW9uIHZhbGlkYXRlUGF0dGVyblByb3BlcnRpZXMoJGVsZW1lbnQsIEpzb25Qb2ludGVyICRwYXRoID0gbnVsbCwgJHBhdHRlcm5Qcm9wZXJ0aWVzKQp7CiR0cnkgPSBhcnJheSgnLycsICcjJywgJysnLCAnficsICclJyk7CiRtYXRjaGVzID0gYXJyYXkoKTsKZm9yZWFjaCAoJHBhdHRlcm5Qcm9wZXJ0aWVzIGFzICRwcmVnZXggPT4gJHNjaGVtYSkgewokZGVsaW1pdGVyID0gJy8nOwoKZm9yZWFjaCAoJHRyeSBhcyAkZGVsaW1pdGVyKSB7CmlmIChzdHJwb3MoJHByZWdleCwgJGRlbGltaXRlcikgPT09IGZhbHNlKSB7IApicmVhazsKfQp9CgoKaWYgKEBwcmVnX21hdGNoKCRkZWxpbWl0ZXIgLiAkcHJlZ2V4IC4gJGRlbGltaXRlciAuICd1JywgJycpID09PSBmYWxzZSkgewokdGhpcy0+YWRkRXJyb3IoJHBhdGgsICdUaGUgcGF0dGVybiAiJyAuICRwcmVnZXggLiAnIiBpcyBpbnZhbGlkJywgJ3ByZWdleCcsIGFycmF5KCdwcmVnZXgnID0+ICRwcmVnZXgpKTsKY29udGludWU7Cn0KZm9yZWFjaCAoJGVsZW1lbnQgYXMgJGkgPT4gJHZhbHVlKSB7CmlmIChwcmVnX21hdGNoKCRkZWxpbWl0ZXIgLiAkcHJlZ2V4IC4gJGRlbGltaXRlciAuICd1JywgJGkpKSB7CiRtYXRjaGVzW10gPSAkaTsKJHRoaXMtPmNoZWNrVW5kZWZpbmVkKCR2YWx1ZSwgJHNjaGVtYSA/OiBuZXcgXHN0ZENsYXNzKCksICRwYXRoLCAkaSwgaW5fYXJyYXkoJGksICR0aGlzLT5hcHBsaWVkRGVmYXVsdHMpKTsKfQp9Cn0KCnJldHVybiAkbWF0Y2hlczsKfQoKCgoKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiB2YWxpZGF0ZUVsZW1lbnQoJGVsZW1lbnQsICRtYXRjaGVzLCAkc2NoZW1hID0gbnVsbCwgSnNvblBvaW50ZXIgJHBhdGggPSBudWxsLAokcHJvcGVydGllcyA9IG51bGwsICRhZGRpdGlvbmFsUHJvcCA9IG51bGwpCnsKJHRoaXMtPnZhbGlkYXRlTWluTWF4Q29uc3RyYWludCgkZWxlbWVudCwgJHNjaGVtYSwgJHBhdGgpOwoKZm9yZWFjaCAoJGVsZW1lbnQgYXMgJGkgPT4gJHZhbHVlKSB7CiRkZWZpbml0aW9uID0gJHRoaXMtPmdldFByb3BlcnR5KCRwcm9wZXJ0aWVzLCAkaSk7CgoKaWYgKCFpbl9hcnJheSgkaSwgJG1hdGNoZXMpICYmICRhZGRpdGlvbmFsUHJvcCA9PT0gZmFsc2UgJiYgJHRoaXMtPmlubGluZVNjaGVtYVByb3BlcnR5ICE9PSAkaSAmJiAhJGRlZmluaXRpb24pIHsKJHRoaXMtPmFkZEVycm9yKCRwYXRoLCAnVGhlIHByb3BlcnR5ICcgLiAkaSAuICcgaXMgbm90IGRlZmluZWQgYW5kIHRoZSBkZWZpbml0aW9uIGRvZXMgbm90IGFsbG93IGFkZGl0aW9uYWwgcHJvcGVydGllcycsICdhZGRpdGlvbmFsUHJvcCcpOwp9CgoKaWYgKCFpbl9hcnJheSgkaSwgJG1hdGNoZXMpICYmICRhZGRpdGlvbmFsUHJvcCAmJiAhJGRlZmluaXRpb24pIHsKaWYgKCRhZGRpdGlvbmFsUHJvcCA9PT0gdHJ1ZSkgewokdGhpcy0+Y2hlY2tVbmRlZmluZWQoJHZhbHVlLCBudWxsLCAkcGF0aCwgJGksIGluX2FycmF5KCRpLCAkdGhpcy0+YXBwbGllZERlZmF1bHRzKSk7Cn0gZWxzZSB7CiR0aGlzLT5jaGVja1VuZGVmaW5lZCgkdmFsdWUsICRhZGRpdGlvbmFsUHJvcCwgJHBhdGgsICRpLCBpbl9hcnJheSgkaSwgJHRoaXMtPmFwcGxpZWREZWZhdWx0cykpOwp9Cn0KCgokcmVxdWlyZSA9ICR0aGlzLT5nZXRQcm9wZXJ0eSgkZGVmaW5pdGlvbiwgJ3JlcXVpcmVzJyk7CmlmICgkcmVxdWlyZSAmJiAhJHRoaXMtPmdldFByb3BlcnR5KCRlbGVtZW50LCAkcmVxdWlyZSkpIHsKJHRoaXMtPmFkZEVycm9yKCRwYXRoLCAnVGhlIHByZXNlbmNlIG9mIHRoZSBwcm9wZXJ0eSAnIC4gJGkgLiAnIHJlcXVpcmVzIHRoYXQgJyAuICRyZXF1aXJlIC4gJyBhbHNvIGJlIHByZXNlbnQnLCAncmVxdWlyZXMnKTsKfQoKJHByb3BlcnR5ID0gJHRoaXMtPmdldFByb3BlcnR5KCRlbGVtZW50LCAkaSwgJHRoaXMtPmZhY3RvcnktPmNyZWF0ZUluc3RhbmNlRm9yKCd1bmRlZmluZWQnKSk7CmlmIChpc19vYmplY3QoJHByb3BlcnR5KSkgewokdGhpcy0+dmFsaWRhdGVNaW5NYXhDb25zdHJhaW50KCEoJHByb3BlcnR5IGluc3RhbmNlb2YgVW5kZWZpbmVkQ29uc3RyYWludCkgPyAkcHJvcGVydHkgOiAkZWxlbWVudCwgJGRlZmluaXRpb24sICRwYXRoKTsKfQp9Cn0KCgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gdmFsaWRhdGVQcm9wZXJ0aWVzKCYkZWxlbWVudCwgJHByb3BlcnRpZXMgPSBudWxsLCBKc29uUG9pbnRlciAkcGF0aCA9IG51bGwpCnsKJHVuZGVmaW5lZENvbnN0cmFpbnQgPSAkdGhpcy0+ZmFjdG9yeS0+Y3JlYXRlSW5zdGFuY2VGb3IoJ3VuZGVmaW5lZCcpOwoKZm9yZWFjaCAoJHByb3BlcnRpZXMgYXMgJGkgPT4gJHZhbHVlKSB7CiRwcm9wZXJ0eSA9ICYkdGhpcy0+Z2V0UHJvcGVydHkoJGVsZW1lbnQsICRpLCAkdW5kZWZpbmVkQ29uc3RyYWludCk7CiRkZWZpbml0aW9uID0gJHRoaXMtPmdldFByb3BlcnR5KCRwcm9wZXJ0aWVzLCAkaSk7CgppZiAoaXNfb2JqZWN0KCRkZWZpbml0aW9uKSkgewoKJHRoaXMtPmNoZWNrVW5kZWZpbmVkKCRwcm9wZXJ0eSwgJGRlZmluaXRpb24sICRwYXRoLCAkaSwgaW5fYXJyYXkoJGksICR0aGlzLT5hcHBsaWVkRGVmYXVsdHMpKTsKfQp9Cn0KCgoKCgoKCgoKCnByb3RlY3RlZCBmdW5jdGlvbiAmZ2V0UHJvcGVydHkoJiRlbGVtZW50LCAkcHJvcGVydHksICRmYWxsYmFjayA9IG51bGwpCnsKaWYgKGlzX2FycmF5KCRlbGVtZW50KSAmJiAoaXNzZXQoJGVsZW1lbnRbJHByb3BlcnR5XSkgfHwgYXJyYXlfa2V5X2V4aXN0cygkcHJvcGVydHksICRlbGVtZW50KSkgKSB7CnJldHVybiAkZWxlbWVudFskcHJvcGVydHldOwp9IGVsc2VpZiAoaXNfb2JqZWN0KCRlbGVtZW50KSAmJiBwcm9wZXJ0eV9leGlzdHMoJGVsZW1lbnQsICRwcm9wZXJ0eSkpIHsKcmV0dXJuICRlbGVtZW50LT4kcHJvcGVydHk7Cn0KCnJldHVybiAkZmFsbGJhY2s7Cn0KCgoKCgoKCgpwcm90ZWN0ZWQgZnVuY3Rpb24gdmFsaWRhdGVNaW5NYXhDb25zdHJhaW50KCRlbGVtZW50LCAkb2JqZWN0RGVmaW5pdGlvbiwgSnNvblBvaW50ZXIgJHBhdGggPSBudWxsKQp7CgppZiAoaXNzZXQoJG9iamVjdERlZmluaXRpb24tPm1pblByb3BlcnRpZXMpICYmICFpc19vYmplY3QoJG9iamVjdERlZmluaXRpb24tPm1pblByb3BlcnRpZXMpKSB7CmlmICgkdGhpcy0+Z2V0VHlwZUNoZWNrKCktPnByb3BlcnR5Q291bnQoJGVsZW1lbnQpIDwgJG9iamVjdERlZmluaXRpb24tPm1pblByb3BlcnRpZXMpIHsKJHRoaXMtPmFkZEVycm9yKCRwYXRoLCAnTXVzdCBjb250YWluIGEgbWluaW11bSBvZiAnIC4gJG9iamVjdERlZmluaXRpb24tPm1pblByb3BlcnRpZXMgLiAnIHByb3BlcnRpZXMnLCAnbWluUHJvcGVydGllcycsIGFycmF5KCdtaW5Qcm9wZXJ0aWVzJyA9PiAkb2JqZWN0RGVmaW5pdGlvbi0+bWluUHJvcGVydGllcykpOwp9Cn0KCmlmIChpc3NldCgkb2JqZWN0RGVmaW5pdGlvbi0+bWF4UHJvcGVydGllcykgJiYgIWlzX29iamVjdCgkb2JqZWN0RGVmaW5pdGlvbi0+bWF4UHJvcGVydGllcykpIHsKaWYgKCR0aGlzLT5nZXRUeXBlQ2hlY2soKS0+cHJvcGVydHlDb3VudCgkZWxlbWVudCkgPiAkb2JqZWN0RGVmaW5pdGlvbi0+bWF4UHJvcGVydGllcykgewokdGhpcy0+YWRkRXJyb3IoJHBhdGgsICdNdXN0IGNvbnRhaW4gbm8gbW9yZSB0aGFuICcgLiAkb2JqZWN0RGVmaW5pdGlvbi0+bWF4UHJvcGVydGllcyAuICcgcHJvcGVydGllcycsICdtYXhQcm9wZXJ0aWVzJywgYXJyYXkoJ21heFByb3BlcnRpZXMnID0+ICRvYmplY3REZWZpbml0aW9uLT5tYXhQcm9wZXJ0aWVzKSk7Cn0KfQp9Cn0KPD9waHAKCgoKCgoKCgpuYW1lc3BhY2UgSnNvblNjaGVtYVxDb25zdHJhaW50czsKCnVzZSBKc29uU2NoZW1hXEVudGl0eVxKc29uUG9pbnRlcjsKdXNlIEpzb25TY2hlbWFcRXhjZXB0aW9uXEludmFsaWRBcmd1bWVudEV4Y2VwdGlvbjsKdXNlIEpzb25TY2hlbWFcRXhjZXB0aW9uXEludmFsaWRTY2hlbWFFeGNlcHRpb247CnVzZSBKc29uU2NoZW1hXEV4Y2VwdGlvblxSdW50aW1lRXhjZXB0aW9uOwp1c2UgSnNvblNjaGVtYVxWYWxpZGF0b3I7CgoKCgoKCgpjbGFzcyBTY2hlbWFDb25zdHJhaW50IGV4dGVuZHMgQ29uc3RyYWludAp7CmNvbnN0IERFRkFVTFRfU0NIRU1BX1NQRUMgPSAnaHR0cDovL2pzb24tc2NoZW1hLm9yZy9kcmFmdC0wNC9zY2hlbWEjJzsKCgoKCnB1YmxpYyBmdW5jdGlvbiBjaGVjaygmJGVsZW1lbnQsICRzY2hlbWEgPSBudWxsLCBKc29uUG9pbnRlciAkcGF0aCA9IG51bGwsICRpID0gbnVsbCkKewppZiAoJHNjaGVtYSAhPT0gbnVsbCkgewoKJHZhbGlkYXRpb25TY2hlbWEgPSAkc2NoZW1hOwp9IGVsc2VpZiAoJHRoaXMtPmdldFR5cGVDaGVjaygpLT5wcm9wZXJ0eUV4aXN0cygkZWxlbWVudCwgJHRoaXMtPmlubGluZVNjaGVtYVByb3BlcnR5KSkgewoKJHZhbGlkYXRpb25TY2hlbWEgPSAkdGhpcy0+Z2V0VHlwZUNoZWNrKCktPnByb3BlcnR5R2V0KCRlbGVtZW50LCAkdGhpcy0+aW5saW5lU2NoZW1hUHJvcGVydHkpOwp9IGVsc2Ugewp0aHJvdyBuZXcgSW52YWxpZEFyZ3VtZW50RXhjZXB0aW9uKCdubyBzY2hlbWEgZm91bmQgdG8gdmVyaWZ5IGFnYWluc3QnKTsKfQoKCmlmIChpc19hcnJheSgkdmFsaWRhdGlvblNjaGVtYSkpIHsKJHZhbGlkYXRpb25TY2hlbWEgPSBCYXNlQ29uc3RyYWludDo6YXJyYXlUb09iamVjdFJlY3Vyc2l2ZSgkdmFsaWRhdGlvblNjaGVtYSk7Cn0KCgoKaWYgKCR0aGlzLT5mYWN0b3J5LT5nZXRDb25maWcoc2VsZjo6Q0hFQ0tfTU9ERV9WQUxJREFURV9TQ0hFTUEpKSB7CmlmICghJHRoaXMtPmdldFR5cGVDaGVjaygpLT5pc09iamVjdCgkdmFsaWRhdGlvblNjaGVtYSkpIHsKdGhyb3cgbmV3IFJ1bnRpbWVFeGNlcHRpb24oJ0Nhbm5vdCB2YWxpZGF0ZSB0aGUgc2NoZW1hIG9mIGEgbm9uLW9iamVjdCcpOwp9CmlmICgkdGhpcy0+Z2V0VHlwZUNoZWNrKCktPnByb3BlcnR5RXhpc3RzKCR2YWxpZGF0aW9uU2NoZW1hLCAnJHNjaGVtYScpKSB7CiRzY2hlbWFTcGVjID0gJHRoaXMtPmdldFR5cGVDaGVjaygpLT5wcm9wZXJ0eUdldCgkdmFsaWRhdGlvblNjaGVtYSwgJyRzY2hlbWEnKTsKfSBlbHNlIHsKJHNjaGVtYVNwZWMgPSBzZWxmOjpERUZBVUxUX1NDSEVNQV9TUEVDOwp9CgoKJHNjaGVtYVN0b3JhZ2UgPSAkdGhpcy0+ZmFjdG9yeS0+Z2V0U2NoZW1hU3RvcmFnZSgpOwppZiAoISR0aGlzLT5nZXRUeXBlQ2hlY2soKS0+aXNPYmplY3QoJHNjaGVtYVNwZWMpKSB7CiRzY2hlbWFTcGVjID0gJHNjaGVtYVN0b3JhZ2UtPmdldFNjaGVtYSgkc2NoZW1hU3BlYyk7Cn0KCgokaW5pdGlhbEVycm9yQ291bnQgPSAkdGhpcy0+bnVtRXJyb3JzKCk7CiRpbml0aWFsQ29uZmlnID0gJHRoaXMtPmZhY3RvcnktPmdldENvbmZpZygpOwokaW5pdGlhbENvbnRleHQgPSAkdGhpcy0+ZmFjdG9yeS0+Z2V0RXJyb3JDb250ZXh0KCk7CiR0aGlzLT5mYWN0b3J5LT5yZW1vdmVDb25maWcoc2VsZjo6Q0hFQ0tfTU9ERV9WQUxJREFURV9TQ0hFTUEgfCBzZWxmOjpDSEVDS19NT0RFX0FQUExZX0RFRkFVTFRTKTsKJHRoaXMtPmZhY3RvcnktPmFkZENvbmZpZyhzZWxmOjpDSEVDS19NT0RFX1RZUEVfQ0FTVCk7CiR0aGlzLT5mYWN0b3J5LT5zZXRFcnJvckNvbnRleHQoVmFsaWRhdG9yOjpFUlJPUl9TQ0hFTUFfVkFMSURBVElPTik7CgoKdHJ5IHsKJHRoaXMtPmNoZWNrKCR2YWxpZGF0aW9uU2NoZW1hLCAkc2NoZW1hU3BlYyk7Cn0gY2F0Y2ggKFxFeGNlcHRpb24gJGUpIHsKaWYgKCR0aGlzLT5mYWN0b3J5LT5nZXRDb25maWcoc2VsZjo6Q0hFQ0tfTU9ERV9FWENFUFRJT05TKSkgewp0aHJvdyBuZXcgSW52YWxpZFNjaGVtYUV4Y2VwdGlvbignU2NoZW1hIGRpZCBub3QgcGFzcyB2YWxpZGF0aW9uJywgMCwgJGUpOwp9Cn0KaWYgKCR0aGlzLT5udW1FcnJvcnMoKSA+ICRpbml0aWFsRXJyb3JDb3VudCkgewokdGhpcy0+YWRkRXJyb3IoJHBhdGgsICdTY2hlbWEgaXMgbm90IHZhbGlkJywgJ3NjaGVtYScpOwp9CgoKJHRoaXMtPmZhY3RvcnktPnNldENvbmZpZygkaW5pdGlhbENvbmZpZyk7CiR0aGlzLT5mYWN0b3J5LT5zZXRFcnJvckNvbnRleHQoJGluaXRpYWxDb250ZXh0KTsKfQoKCiR0aGlzLT5jaGVja1VuZGVmaW5lZCgkZWxlbWVudCwgJHZhbGlkYXRpb25TY2hlbWEsICRwYXRoLCAkaSk7Cn0KfQo8P3BocAoKCgoKCgoKCm5hbWVzcGFjZSBKc29uU2NoZW1hXENvbnN0cmFpbnRzOwoKdXNlIEpzb25TY2hlbWFcRW50aXR5XEpzb25Qb2ludGVyOwoKCgoKCgoKY2xhc3MgU3RyaW5nQ29uc3RyYWludCBleHRlbmRzIENvbnN0cmFpbnQKewoKCgpwdWJsaWMgZnVuY3Rpb24gY2hlY2soJiRlbGVtZW50LCAkc2NoZW1hID0gbnVsbCwgSnNvblBvaW50ZXIgJHBhdGggPSBudWxsLCAkaSA9IG51bGwpCnsKCmlmIChpc3NldCgkc2NoZW1hLT5tYXhMZW5ndGgpICYmICR0aGlzLT5zdHJsZW4oJGVsZW1lbnQpID4gJHNjaGVtYS0+bWF4TGVuZ3RoKSB7CiR0aGlzLT5hZGRFcnJvcigkcGF0aCwgJ011c3QgYmUgYXQgbW9zdCAnIC4gJHNjaGVtYS0+bWF4TGVuZ3RoIC4gJyBjaGFyYWN0ZXJzIGxvbmcnLCAnbWF4TGVuZ3RoJywgYXJyYXkoCidtYXhMZW5ndGgnID0+ICRzY2hlbWEtPm1heExlbmd0aCwKKSk7Cn0KCgppZiAoaXNzZXQoJHNjaGVtYS0+bWluTGVuZ3RoKSAmJiAkdGhpcy0+c3RybGVuKCRlbGVtZW50KSA8ICRzY2hlbWEtPm1pbkxlbmd0aCkgewokdGhpcy0+YWRkRXJyb3IoJHBhdGgsICdNdXN0IGJlIGF0IGxlYXN0ICcgLiAkc2NoZW1hLT5taW5MZW5ndGggLiAnIGNoYXJhY3RlcnMgbG9uZycsICdtaW5MZW5ndGgnLCBhcnJheSgKJ21pbkxlbmd0aCcgPT4gJHNjaGVtYS0+bWluTGVuZ3RoLAopKTsKfQoKCmlmIChpc3NldCgkc2NoZW1hLT5wYXR0ZXJuKSAmJiAhcHJlZ19tYXRjaCgnIycgLiBzdHJfcmVwbGFjZSgnIycsICdcXCMnLCAkc2NoZW1hLT5wYXR0ZXJuKSAuICcjdScsICRlbGVtZW50KSkgewokdGhpcy0+YWRkRXJyb3IoJHBhdGgsICdEb2VzIG5vdCBtYXRjaCB0aGUgcmVnZXggcGF0dGVybiAnIC4gJHNjaGVtYS0+cGF0dGVybiwgJ3BhdHRlcm4nLCBhcnJheSgKJ3BhdHRlcm4nID0+ICRzY2hlbWEtPnBhdHRlcm4sCikpOwp9CgokdGhpcy0+Y2hlY2tGb3JtYXQoJGVsZW1lbnQsICRzY2hlbWEsICRwYXRoLCAkaSk7Cn0KCnByaXZhdGUgZnVuY3Rpb24gc3RybGVuKCRzdHJpbmcpCnsKaWYgKGV4dGVuc2lvbl9sb2FkZWQoJ21ic3RyaW5nJykpIHsKcmV0dXJuIG1iX3N0cmxlbigkc3RyaW5nLCBtYl9kZXRlY3RfZW5jb2RpbmcoJHN0cmluZykpOwp9CgoKcmV0dXJuIHN0cmxlbigkc3RyaW5nKTsgCn0KfQo8P3BocAoKbmFtZXNwYWNlIEpzb25TY2hlbWFcQ29uc3RyYWludHNcVHlwZUNoZWNrOwoKY2xhc3MgTG9vc2VUeXBlQ2hlY2sgaW1wbGVtZW50cyBUeXBlQ2hlY2tJbnRlcmZhY2UKewpwdWJsaWMgc3RhdGljIGZ1bmN0aW9uIGlzT2JqZWN0KCR2YWx1ZSkKewpyZXR1cm4KaXNfb2JqZWN0KCR2YWx1ZSkgfHwKKGlzX2FycmF5KCR2YWx1ZSkgJiYgKGNvdW50KCR2YWx1ZSkgPT0gMCB8fCBzZWxmOjppc0Fzc29jaWF0aXZlQXJyYXkoJHZhbHVlKSkpOwp9CgpwdWJsaWMgc3RhdGljIGZ1bmN0aW9uIGlzQXJyYXkoJHZhbHVlKQp7CnJldHVybgppc19hcnJheSgkdmFsdWUpICYmCihjb3VudCgkdmFsdWUpID09IDAgfHwgIXNlbGY6OmlzQXNzb2NpYXRpdmVBcnJheSgkdmFsdWUpKTsKfQoKcHVibGljIHN0YXRpYyBmdW5jdGlvbiBwcm9wZXJ0eUdldCgkdmFsdWUsICRwcm9wZXJ0eSkKewppZiAoaXNfb2JqZWN0KCR2YWx1ZSkpIHsKcmV0dXJuICR2YWx1ZS0+eyRwcm9wZXJ0eX07Cn0KCnJldHVybiAkdmFsdWVbJHByb3BlcnR5XTsKfQoKcHVibGljIHN0YXRpYyBmdW5jdGlvbiBwcm9wZXJ0eVNldCgmJHZhbHVlLCAkcHJvcGVydHksICRkYXRhKQp7CmlmIChpc19vYmplY3QoJHZhbHVlKSkgewokdmFsdWUtPnskcHJvcGVydHl9ID0gJGRhdGE7Cn0gZWxzZSB7CiR2YWx1ZVskcHJvcGVydHldID0gJGRhdGE7Cn0KfQoKcHVibGljIHN0YXRpYyBmdW5jdGlvbiBwcm9wZXJ0eUV4aXN0cygkdmFsdWUsICRwcm9wZXJ0eSkKewppZiAoaXNfb2JqZWN0KCR2YWx1ZSkpIHsKcmV0dXJuIHByb3BlcnR5X2V4aXN0cygkdmFsdWUsICRwcm9wZXJ0eSk7Cn0KCnJldHVybiBhcnJheV9rZXlfZXhpc3RzKCRwcm9wZXJ0eSwgJHZhbHVlKTsKfQoKcHVibGljIHN0YXRpYyBmdW5jdGlvbiBwcm9wZXJ0eUNvdW50KCR2YWx1ZSkKewppZiAoaXNfb2JqZWN0KCR2YWx1ZSkpIHsKcmV0dXJuIGNvdW50KGdldF9vYmplY3RfdmFycygkdmFsdWUpKTsKfQoKcmV0dXJuIGNvdW50KCR2YWx1ZSk7Cn0KCgoKCgoKCgpwcml2YXRlIHN0YXRpYyBmdW5jdGlvbiBpc0Fzc29jaWF0aXZlQXJyYXkoJGFycikKewpyZXR1cm4gYXJyYXlfa2V5cygkYXJyKSAhPT0gcmFuZ2UoMCwgY291bnQoJGFycikgLSAxKTsKfQp9Cjw/cGhwCgpuYW1lc3BhY2UgSnNvblNjaGVtYVxDb25zdHJhaW50c1xUeXBlQ2hlY2s7CgpjbGFzcyBTdHJpY3RUeXBlQ2hlY2sgaW1wbGVtZW50cyBUeXBlQ2hlY2tJbnRlcmZhY2UKewpwdWJsaWMgc3RhdGljIGZ1bmN0aW9uIGlzT2JqZWN0KCR2YWx1ZSkKewpyZXR1cm4gaXNfb2JqZWN0KCR2YWx1ZSk7Cn0KCnB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gaXNBcnJheSgkdmFsdWUpCnsKcmV0dXJuIGlzX2FycmF5KCR2YWx1ZSk7Cn0KCnB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gcHJvcGVydHlHZXQoJHZhbHVlLCAkcHJvcGVydHkpCnsKcmV0dXJuICR2YWx1ZS0+eyRwcm9wZXJ0eX07Cn0KCnB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gcHJvcGVydHlTZXQoJiR2YWx1ZSwgJHByb3BlcnR5LCAkZGF0YSkKewokdmFsdWUtPnskcHJvcGVydHl9ID0gJGRhdGE7Cn0KCnB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gcHJvcGVydHlFeGlzdHMoJHZhbHVlLCAkcHJvcGVydHkpCnsKcmV0dXJuIHByb3BlcnR5X2V4aXN0cygkdmFsdWUsICRwcm9wZXJ0eSk7Cn0KCnB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gcHJvcGVydHlDb3VudCgkdmFsdWUpCnsKaWYgKCFpc19vYmplY3QoJHZhbHVlKSkgewpyZXR1cm4gMDsKfQoKcmV0dXJuIGNvdW50KGdldF9vYmplY3RfdmFycygkdmFsdWUpKTsKfQp9Cjw/cGhwCgpuYW1lc3BhY2UgSnNvblNjaGVtYVxDb25zdHJhaW50c1xUeXBlQ2hlY2s7CgppbnRlcmZhY2UgVHlwZUNoZWNrSW50ZXJmYWNlCnsKcHVibGljIHN0YXRpYyBmdW5jdGlvbiBpc09iamVjdCgkdmFsdWUpOwoKcHVibGljIHN0YXRpYyBmdW5jdGlvbiBpc0FycmF5KCR2YWx1ZSk7CgpwdWJsaWMgc3RhdGljIGZ1bmN0aW9uIHByb3BlcnR5R2V0KCR2YWx1ZSwgJHByb3BlcnR5KTsKCnB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gcHJvcGVydHlTZXQoJiR2YWx1ZSwgJHByb3BlcnR5LCAkZGF0YSk7CgpwdWJsaWMgc3RhdGljIGZ1bmN0aW9uIHByb3BlcnR5RXhpc3RzKCR2YWx1ZSwgJHByb3BlcnR5KTsKCnB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gcHJvcGVydHlDb3VudCgkdmFsdWUpOwp9Cjw/cGhwCgoKCgoKCgoKbmFtZXNwYWNlIEpzb25TY2hlbWFcQ29uc3RyYWludHM7Cgp1c2UgSnNvblNjaGVtYVxFbnRpdHlcSnNvblBvaW50ZXI7CnVzZSBKc29uU2NoZW1hXEV4Y2VwdGlvblxJbnZhbGlkQXJndW1lbnRFeGNlcHRpb247CnVzZSBVbmV4cGVjdGVkVmFsdWVFeGNlcHRpb24gYXMgU3RhbmRhcmRVbmV4cGVjdGVkVmFsdWVFeGNlcHRpb247CgoKCgoKCgpjbGFzcyBUeXBlQ29uc3RyYWludCBleHRlbmRzIENvbnN0cmFpbnQKewoKCgpwdWJsaWMgc3RhdGljICR3b3JkaW5nID0gYXJyYXkoCidpbnRlZ2VyJyA9PiAnYW4gaW50ZWdlcicsCidudW1iZXInID0+ICdhIG51bWJlcicsCidib29sZWFuJyA9PiAnYSBib29sZWFuJywKJ29iamVjdCcgPT4gJ2FuIG9iamVjdCcsCidhcnJheScgPT4gJ2FuIGFycmF5JywKJ3N0cmluZycgPT4gJ2Egc3RyaW5nJywKJ251bGwnID0+ICdhIG51bGwnLAonYW55JyA9PiBudWxsLCAKMCA9PiBudWxsLCAKKTsKCgoKCnB1YmxpYyBmdW5jdGlvbiBjaGVjaygmJHZhbHVlID0gbnVsbCwgJHNjaGVtYSA9IG51bGwsIEpzb25Qb2ludGVyICRwYXRoID0gbnVsbCwgJGkgPSBudWxsKQp7CiR0eXBlID0gaXNzZXQoJHNjaGVtYS0+dHlwZSkgPyAkc2NoZW1hLT50eXBlIDogbnVsbDsKJGlzVmFsaWQgPSBmYWxzZTsKJHdvcmRpbmcgPSBhcnJheSgpOwoKaWYgKGlzX2FycmF5KCR0eXBlKSkgewokdGhpcy0+dmFsaWRhdGVUeXBlc0FycmF5KCR2YWx1ZSwgJHR5cGUsICR3b3JkaW5nLCAkaXNWYWxpZCwgJHBhdGgpOwp9IGVsc2VpZiAoaXNfb2JqZWN0KCR0eXBlKSkgewokdGhpcy0+Y2hlY2tVbmRlZmluZWQoJHZhbHVlLCAkdHlwZSwgJHBhdGgpOwoKcmV0dXJuOwp9IGVsc2UgewokaXNWYWxpZCA9ICR0aGlzLT52YWxpZGF0ZVR5cGUoJHZhbHVlLCAkdHlwZSk7Cn0KCmlmICgkaXNWYWxpZCA9PT0gZmFsc2UpIHsKaWYgKCFpc19hcnJheSgkdHlwZSkpIHsKJHRoaXMtPnZhbGlkYXRlVHlwZU5hbWVXb3JkaW5nKCR0eXBlKTsKJHdvcmRpbmdbXSA9IHNlbGY6OiR3b3JkaW5nWyR0eXBlXTsKfQokdGhpcy0+YWRkRXJyb3IoJHBhdGgsIHVjd29yZHMoZ2V0dHlwZSgkdmFsdWUpKSAuICcgdmFsdWUgZm91bmQsIGJ1dCAnIC4KJHRoaXMtPmltcGxvZGVXaXRoKCR3b3JkaW5nLCAnLCAnLCAnb3InKSAuICcgaXMgcmVxdWlyZWQnLCAndHlwZScpOwp9Cn0KCgoKCgoKCgoKCgoKcHJvdGVjdGVkIGZ1bmN0aW9uIHZhbGlkYXRlVHlwZXNBcnJheSgmJHZhbHVlLCBhcnJheSAkdHlwZSwgJiR2YWxpZFR5cGVzV29yZGluZywgJiRpc1ZhbGlkLCAkcGF0aCkKewpmb3JlYWNoICgkdHlwZSBhcyAkdHApIHsKCgppZiAoaXNfb2JqZWN0KCR0cCkpIHsKaWYgKCEkaXNWYWxpZCkgewokdmFsaWRhdG9yID0gJHRoaXMtPmZhY3RvcnktPmNyZWF0ZUluc3RhbmNlRm9yKCd0eXBlJyk7CiRzdWJTY2hlbWEgPSBuZXcgXHN0ZENsYXNzKCk7CiRzdWJTY2hlbWEtPnR5cGUgPSAkdHA7CiR2YWxpZGF0b3ItPmNoZWNrKCR2YWx1ZSwgJHN1YlNjaGVtYSwgJHBhdGgsIG51bGwpOwokZXJyb3IgPSAkdmFsaWRhdG9yLT5nZXRFcnJvcnMoKTsKJGlzVmFsaWQgPSAhKGJvb2wpICRlcnJvcjsKJHZhbGlkVHlwZXNXb3JkaW5nW10gPSBzZWxmOjokd29yZGluZ1snb2JqZWN0J107Cn0KfSBlbHNlIHsKJHRoaXMtPnZhbGlkYXRlVHlwZU5hbWVXb3JkaW5nKCR0cCk7CiR2YWxpZFR5cGVzV29yZGluZ1tdID0gc2VsZjo6JHdvcmRpbmdbJHRwXTsKaWYgKCEkaXNWYWxpZCkgewokaXNWYWxpZCA9ICR0aGlzLT52YWxpZGF0ZVR5cGUoJHZhbHVlLCAkdHApOwp9Cn0KfQp9CgoKCgoKCgoKCgoKCnByb3RlY3RlZCBmdW5jdGlvbiBpbXBsb2RlV2l0aChhcnJheSAkZWxlbWVudHMsICRkZWxpbWl0ZXIgPSAnLCAnLCAkbGlzdEVuZCA9IGZhbHNlKQp7CmlmICgkbGlzdEVuZCA9PT0gZmFsc2UgfHwgIWlzc2V0KCRlbGVtZW50c1sxXSkpIHsKcmV0dXJuIGltcGxvZGUoJGRlbGltaXRlciwgJGVsZW1lbnRzKTsKfQokbGFzdEVsZW1lbnQgPSBhcnJheV9zbGljZSgkZWxlbWVudHMsIC0xKTsKJGZpcnNFbGVtZW50cyA9IGpvaW4oJGRlbGltaXRlciwgYXJyYXlfc2xpY2UoJGVsZW1lbnRzLCAwLCAtMSkpOwokaW1wbG9kZWRFbGVtZW50cyA9IGFycmF5X21lcmdlKGFycmF5KCRmaXJzRWxlbWVudHMpLCAkbGFzdEVsZW1lbnQpOwoKcmV0dXJuIGpvaW4oIiAkbGlzdEVuZCAiLCAkaW1wbG9kZWRFbGVtZW50cyk7Cn0KCgoKCgoKCgoKcHJvdGVjdGVkIGZ1bmN0aW9uIHZhbGlkYXRlVHlwZU5hbWVXb3JkaW5nKCR0eXBlKQp7CmlmICghaXNzZXQoc2VsZjo6JHdvcmRpbmdbJHR5cGVdKSkgewp0aHJvdyBuZXcgU3RhbmRhcmRVbmV4cGVjdGVkVmFsdWVFeGNlcHRpb24oCnNwcmludGYoCidObyB3b3JkaW5nIGZvciAlcyBhdmFpbGFibGUsIGV4cGVjdGVkIHdvcmRpbmdzIGFyZTogWyVzXScsCnZhcl9leHBvcnQoJHR5cGUsIHRydWUpLAppbXBsb2RlKCcsICcsIGFycmF5X2ZpbHRlcihzZWxmOjokd29yZGluZykpKQopOwp9Cn0KCgoKCgoKCgoKCgpwcm90ZWN0ZWQgZnVuY3Rpb24gdmFsaWRhdGVUeXBlKCYkdmFsdWUsICR0eXBlKQp7CgppZiAoISR0eXBlKSB7CnJldHVybiB0cnVlOwp9CgppZiAoJ2FueScgPT09ICR0eXBlKSB7CnJldHVybiB0cnVlOwp9CgppZiAoJ29iamVjdCcgPT09ICR0eXBlKSB7CnJldHVybiAkdGhpcy0+Z2V0VHlwZUNoZWNrKCktPmlzT2JqZWN0KCR2YWx1ZSk7Cn0KCmlmICgnYXJyYXknID09PSAkdHlwZSkgewpyZXR1cm4gJHRoaXMtPmdldFR5cGVDaGVjaygpLT5pc0FycmF5KCR2YWx1ZSk7Cn0KCiRjb2VyY2UgPSAkdGhpcy0+ZmFjdG9yeS0+Z2V0Q29uZmlnKENvbnN0cmFpbnQ6OkNIRUNLX01PREVfQ09FUkNFX1RZUEVTKTsKCmlmICgnaW50ZWdlcicgPT09ICR0eXBlKSB7CmlmICgkY29lcmNlKSB7CiR2YWx1ZSA9ICR0aGlzLT50b0ludGVnZXIoJHZhbHVlKTsKfQoKcmV0dXJuIGlzX2ludCgkdmFsdWUpOwp9CgppZiAoJ251bWJlcicgPT09ICR0eXBlKSB7CmlmICgkY29lcmNlKSB7CiR2YWx1ZSA9ICR0aGlzLT50b051bWJlcigkdmFsdWUpOwp9CgpyZXR1cm4gaXNfbnVtZXJpYygkdmFsdWUpICYmICFpc19zdHJpbmcoJHZhbHVlKTsKfQoKaWYgKCdib29sZWFuJyA9PT0gJHR5cGUpIHsKaWYgKCRjb2VyY2UpIHsKJHZhbHVlID0gJHRoaXMtPnRvQm9vbGVhbigkdmFsdWUpOwp9CgpyZXR1cm4gaXNfYm9vbCgkdmFsdWUpOwp9CgppZiAoJ3N0cmluZycgPT09ICR0eXBlKSB7CnJldHVybiBpc19zdHJpbmcoJHZhbHVlKTsKfQoKaWYgKCdlbWFpbCcgPT09ICR0eXBlKSB7CnJldHVybiBpc19zdHJpbmcoJHZhbHVlKTsKfQoKaWYgKCdudWxsJyA9PT0gJHR5cGUpIHsKcmV0dXJuIGlzX251bGwoJHZhbHVlKTsKfQoKdGhyb3cgbmV3IEludmFsaWRBcmd1bWVudEV4Y2VwdGlvbigoaXNfb2JqZWN0KCR2YWx1ZSkgPyAnb2JqZWN0JyA6ICR2YWx1ZSkgLiAnIGlzIGFuIGludmFsaWQgdHlwZSBmb3IgJyAuICR0eXBlKTsKfQoKCgoKCgoKCnByb3RlY3RlZCBmdW5jdGlvbiB0b0Jvb2xlYW4oJHZhbHVlKQp7CmlmICgkdmFsdWUgPT09ICd0cnVlJykgewpyZXR1cm4gdHJ1ZTsKfQoKaWYgKCR2YWx1ZSA9PT0gJ2ZhbHNlJykgewpyZXR1cm4gZmFsc2U7Cn0KCnJldHVybiAkdmFsdWU7Cn0KCgoKCgoKCgpwcm90ZWN0ZWQgZnVuY3Rpb24gdG9OdW1iZXIoJHZhbHVlKQp7CmlmIChpc19udW1lcmljKCR2YWx1ZSkpIHsKcmV0dXJuICR2YWx1ZSArIDA7IAp9CgpyZXR1cm4gJHZhbHVlOwp9Cgpwcm90ZWN0ZWQgZnVuY3Rpb24gdG9JbnRlZ2VyKCR2YWx1ZSkKewppZiAoaXNfbnVtZXJpYygkdmFsdWUpICYmIChpbnQpICR2YWx1ZSA9PSAkdmFsdWUpIHsKcmV0dXJuIChpbnQpICR2YWx1ZTsgCn0KCnJldHVybiAkdmFsdWU7Cn0KfQo8P3BocAoKCgoKCgoKCm5hbWVzcGFjZSBKc29uU2NoZW1hXENvbnN0cmFpbnRzOwoKdXNlIEpzb25TY2hlbWFcQ29uc3RyYWludHNcVHlwZUNoZWNrXExvb3NlVHlwZUNoZWNrOwp1c2UgSnNvblNjaGVtYVxFbnRpdHlcSnNvblBvaW50ZXI7CnVzZSBKc29uU2NoZW1hXEV4Y2VwdGlvblxWYWxpZGF0aW9uRXhjZXB0aW9uOwp1c2UgSnNvblNjaGVtYVxVcmlcVXJpUmVzb2x2ZXI7CgoKCgoKCgpjbGFzcyBVbmRlZmluZWRDb25zdHJhaW50IGV4dGVuZHMgQ29uc3RyYWludAp7CgoKCnByb3RlY3RlZCAkYXBwbGllZERlZmF1bHRzID0gYXJyYXkoKTsKCgoKCnB1YmxpYyBmdW5jdGlvbiBjaGVjaygmJHZhbHVlLCAkc2NoZW1hID0gbnVsbCwgSnNvblBvaW50ZXIgJHBhdGggPSBudWxsLCAkaSA9IG51bGwsICRmcm9tRGVmYXVsdCA9IGZhbHNlKQp7CmlmIChpc19udWxsKCRzY2hlbWEpIHx8ICFpc19vYmplY3QoJHNjaGVtYSkpIHsKcmV0dXJuOwp9CgokcGF0aCA9ICR0aGlzLT5pbmNyZW1lbnRQYXRoKCRwYXRoID86IG5ldyBKc29uUG9pbnRlcignJyksICRpKTsKaWYgKCRmcm9tRGVmYXVsdCkgewokcGF0aC0+c2V0RnJvbURlZmF1bHQoKTsKfQoKCiR0aGlzLT52YWxpZGF0ZUNvbW1vblByb3BlcnRpZXMoJHZhbHVlLCAkc2NoZW1hLCAkcGF0aCwgJGkpOwoKCiR0aGlzLT52YWxpZGF0ZU9mUHJvcGVydGllcygkdmFsdWUsICRzY2hlbWEsICRwYXRoLCAnJyk7CgoKJHRoaXMtPnZhbGlkYXRlVHlwZXMoJHZhbHVlLCAkc2NoZW1hLCAkcGF0aCwgJGkpOwp9CgoKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiB2YWxpZGF0ZVR5cGVzKCYkdmFsdWUsICRzY2hlbWEsIEpzb25Qb2ludGVyICRwYXRoLCAkaSA9IG51bGwpCnsKCmlmICgkdGhpcy0+Z2V0VHlwZUNoZWNrKCktPmlzQXJyYXkoJHZhbHVlKSkgewokdGhpcy0+Y2hlY2tBcnJheSgkdmFsdWUsICRzY2hlbWEsICRwYXRoLCAkaSk7Cn0KCgppZiAoTG9vc2VUeXBlQ2hlY2s6OmlzT2JqZWN0KCR2YWx1ZSkpIHsgCgoKJHRoaXMtPmNoZWNrT2JqZWN0KAokdmFsdWUsCiRzY2hlbWEsCiRwYXRoLAppc3NldCgkc2NoZW1hLT5wcm9wZXJ0aWVzKSA/ICRzY2hlbWEtPnByb3BlcnRpZXMgOiBudWxsLAppc3NldCgkc2NoZW1hLT5hZGRpdGlvbmFsUHJvcGVydGllcykgPyAkc2NoZW1hLT5hZGRpdGlvbmFsUHJvcGVydGllcyA6IG51bGwsCmlzc2V0KCRzY2hlbWEtPnBhdHRlcm5Qcm9wZXJ0aWVzKSA/ICRzY2hlbWEtPnBhdHRlcm5Qcm9wZXJ0aWVzIDogbnVsbCwKJHRoaXMtPmFwcGxpZWREZWZhdWx0cwopOwp9CgoKaWYgKGlzX3N0cmluZygkdmFsdWUpKSB7CiR0aGlzLT5jaGVja1N0cmluZygkdmFsdWUsICRzY2hlbWEsICRwYXRoLCAkaSk7Cn0KCgppZiAoaXNfbnVtZXJpYygkdmFsdWUpKSB7CiR0aGlzLT5jaGVja051bWJlcigkdmFsdWUsICRzY2hlbWEsICRwYXRoLCAkaSk7Cn0KCgppZiAoaXNzZXQoJHNjaGVtYS0+ZW51bSkpIHsKJHRoaXMtPmNoZWNrRW51bSgkdmFsdWUsICRzY2hlbWEsICRwYXRoLCAkaSk7Cn0KfQoKCgoKCgoKCgpwcm90ZWN0ZWQgZnVuY3Rpb24gdmFsaWRhdGVDb21tb25Qcm9wZXJ0aWVzKCYkdmFsdWUsICRzY2hlbWEsIEpzb25Qb2ludGVyICRwYXRoLCAkaSA9ICcnKQp7CgppZiAoaXNzZXQoJHNjaGVtYS0+ZXh0ZW5kcykpIHsKaWYgKGlzX3N0cmluZygkc2NoZW1hLT5leHRlbmRzKSkgewokc2NoZW1hLT5leHRlbmRzID0gJHRoaXMtPnZhbGlkYXRlVXJpKCRzY2hlbWEsICRzY2hlbWEtPmV4dGVuZHMpOwp9CmlmIChpc19hcnJheSgkc2NoZW1hLT5leHRlbmRzKSkgewpmb3JlYWNoICgkc2NoZW1hLT5leHRlbmRzIGFzICRleHRlbmRzKSB7CiR0aGlzLT5jaGVja1VuZGVmaW5lZCgkdmFsdWUsICRleHRlbmRzLCAkcGF0aCwgJGkpOwp9Cn0gZWxzZSB7CiR0aGlzLT5jaGVja1VuZGVmaW5lZCgkdmFsdWUsICRzY2hlbWEtPmV4dGVuZHMsICRwYXRoLCAkaSk7Cn0KfQoKCmlmICghJHBhdGgtPmZyb21EZWZhdWx0KCkpIHsKJHRoaXMtPmFwcGx5RGVmYXVsdFZhbHVlcygkdmFsdWUsICRzY2hlbWEsICRwYXRoKTsKfQoKCmlmICgkdGhpcy0+Z2V0VHlwZUNoZWNrKCktPmlzT2JqZWN0KCR2YWx1ZSkpIHsKaWYgKCEoJHZhbHVlIGluc3RhbmNlb2Ygc2VsZikgJiYgaXNzZXQoJHNjaGVtYS0+cmVxdWlyZWQpICYmIGlzX2FycmF5KCRzY2hlbWEtPnJlcXVpcmVkKSkgewoKZm9yZWFjaCAoJHNjaGVtYS0+cmVxdWlyZWQgYXMgJHJlcXVpcmVkKSB7CmlmICghJHRoaXMtPmdldFR5cGVDaGVjaygpLT5wcm9wZXJ0eUV4aXN0cygkdmFsdWUsICRyZXF1aXJlZCkpIHsKJHRoaXMtPmFkZEVycm9yKAokdGhpcy0+aW5jcmVtZW50UGF0aCgkcGF0aCA/OiBuZXcgSnNvblBvaW50ZXIoJycpLCAkcmVxdWlyZWQpLAonVGhlIHByb3BlcnR5ICcgLiAkcmVxdWlyZWQgLiAnIGlzIHJlcXVpcmVkJywKJ3JlcXVpcmVkJwopOwp9Cn0KfSBlbHNlaWYgKGlzc2V0KCRzY2hlbWEtPnJlcXVpcmVkKSAmJiAhaXNfYXJyYXkoJHNjaGVtYS0+cmVxdWlyZWQpKSB7CgppZiAoJHNjaGVtYS0+cmVxdWlyZWQgJiYgJHZhbHVlIGluc3RhbmNlb2Ygc2VsZikgewokcHJvcGVydHlQYXRocyA9ICRwYXRoLT5nZXRQcm9wZXJ0eVBhdGhzKCk7CiRwcm9wZXJ0eU5hbWUgPSBlbmQoJHByb3BlcnR5UGF0aHMpOwokdGhpcy0+YWRkRXJyb3IoCiRwYXRoLAonVGhlIHByb3BlcnR5ICcgLiAkcHJvcGVydHlOYW1lIC4gJyBpcyByZXF1aXJlZCcsCidyZXF1aXJlZCcKKTsKfQp9IGVsc2UgewoKCmlmICgkdmFsdWUgaW5zdGFuY2VvZiBzZWxmKSB7CnJldHVybjsKfQp9Cn0KCgppZiAoISgkdmFsdWUgaW5zdGFuY2VvZiBzZWxmKSkgewokdGhpcy0+Y2hlY2tUeXBlKCR2YWx1ZSwgJHNjaGVtYSwgJHBhdGgsICRpKTsKfQoKCmlmIChpc3NldCgkc2NoZW1hLT5kaXNhbGxvdykpIHsKJGluaXRFcnJvcnMgPSAkdGhpcy0+Z2V0RXJyb3JzKCk7CgokdHlwZVNjaGVtYSA9IG5ldyBcc3RkQ2xhc3MoKTsKJHR5cGVTY2hlbWEtPnR5cGUgPSAkc2NoZW1hLT5kaXNhbGxvdzsKJHRoaXMtPmNoZWNrVHlwZSgkdmFsdWUsICR0eXBlU2NoZW1hLCAkcGF0aCk7CgoKaWYgKGNvdW50KCR0aGlzLT5nZXRFcnJvcnMoKSkgPT0gY291bnQoJGluaXRFcnJvcnMpKSB7CiR0aGlzLT5hZGRFcnJvcigkcGF0aCwgJ0Rpc2FsbG93ZWQgdmFsdWUgd2FzIG1hdGNoZWQnLCAnZGlzYWxsb3cnKTsKfSBlbHNlIHsKJHRoaXMtPmVycm9ycyA9ICRpbml0RXJyb3JzOwp9Cn0KCmlmIChpc3NldCgkc2NoZW1hLT5ub3QpKSB7CiRpbml0RXJyb3JzID0gJHRoaXMtPmdldEVycm9ycygpOwokdGhpcy0+Y2hlY2tVbmRlZmluZWQoJHZhbHVlLCAkc2NoZW1hLT5ub3QsICRwYXRoLCAkaSk7CgoKaWYgKGNvdW50KCR0aGlzLT5nZXRFcnJvcnMoKSkgPT0gY291bnQoJGluaXRFcnJvcnMpKSB7CiR0aGlzLT5hZGRFcnJvcigkcGF0aCwgJ01hdGNoZWQgYSBzY2hlbWEgd2hpY2ggaXQgc2hvdWxkIG5vdCcsICdub3QnKTsKfSBlbHNlIHsKJHRoaXMtPmVycm9ycyA9ICRpbml0RXJyb3JzOwp9Cn0KCgppZiAoaXNzZXQoJHNjaGVtYS0+ZGVwZW5kZW5jaWVzKSAmJiAkdGhpcy0+Z2V0VHlwZUNoZWNrKCktPmlzT2JqZWN0KCR2YWx1ZSkpIHsKJHRoaXMtPnZhbGlkYXRlRGVwZW5kZW5jaWVzKCR2YWx1ZSwgJHNjaGVtYS0+ZGVwZW5kZW5jaWVzLCAkcGF0aCk7Cn0KfQoKCgoKCgoKCgoKcHJpdmF0ZSBmdW5jdGlvbiBzaG91bGRBcHBseURlZmF1bHRWYWx1ZSgkcmVxdWlyZWRPbmx5LCAkc2NoZW1hLCAkbmFtZSA9IG51bGwsICRwYXJlbnRTY2hlbWEgPSBudWxsKQp7CgppZiAoISRyZXF1aXJlZE9ubHkpIHsKcmV0dXJuIHRydWU7Cn0KCmlmICgKJG5hbWUgIT09IG51bGwKJiYgaXNzZXQoJHBhcmVudFNjaGVtYS0+cmVxdWlyZWQpCiYmIGlzX2FycmF5KCRwYXJlbnRTY2hlbWEtPnJlcXVpcmVkKQomJiBpbl9hcnJheSgkbmFtZSwgJHBhcmVudFNjaGVtYS0+cmVxdWlyZWQpCikgewpyZXR1cm4gdHJ1ZTsKfQoKaWYgKGlzc2V0KCRzY2hlbWEtPnJlcXVpcmVkKSAmJiAhaXNfYXJyYXkoJHNjaGVtYS0+cmVxdWlyZWQpICYmICRzY2hlbWEtPnJlcXVpcmVkKSB7CnJldHVybiB0cnVlOwp9CgpyZXR1cm4gZmFsc2U7Cn0KCgoKCgoKCgpwcm90ZWN0ZWQgZnVuY3Rpb24gYXBwbHlEZWZhdWx0VmFsdWVzKCYkdmFsdWUsICRzY2hlbWEsICRwYXRoKQp7CgppZiAoISR0aGlzLT5mYWN0b3J5LT5nZXRDb25maWcoc2VsZjo6Q0hFQ0tfTU9ERV9BUFBMWV9ERUZBVUxUUykpIHsKcmV0dXJuOwp9CgoKJHJlcXVpcmVkT25seSA9ICR0aGlzLT5mYWN0b3J5LT5nZXRDb25maWcoc2VsZjo6Q0hFQ0tfTU9ERV9PTkxZX1JFUVVJUkVEX0RFRkFVTFRTKTsKaWYgKGlzc2V0KCRzY2hlbWEtPnByb3BlcnRpZXMpICYmIExvb3NlVHlwZUNoZWNrOjppc09iamVjdCgkdmFsdWUpKSB7Cgpmb3JlYWNoICgkc2NoZW1hLT5wcm9wZXJ0aWVzIGFzICRjdXJyZW50UHJvcGVydHkgPT4gJHByb3BlcnR5RGVmaW5pdGlvbikgewokcHJvcGVydHlEZWZpbml0aW9uID0gJHRoaXMtPmZhY3RvcnktPmdldFNjaGVtYVN0b3JhZ2UoKS0+cmVzb2x2ZVJlZlNjaGVtYSgkcHJvcGVydHlEZWZpbml0aW9uKTsKaWYgKAohTG9vc2VUeXBlQ2hlY2s6OnByb3BlcnR5RXhpc3RzKCR2YWx1ZSwgJGN1cnJlbnRQcm9wZXJ0eSkKJiYgcHJvcGVydHlfZXhpc3RzKCRwcm9wZXJ0eURlZmluaXRpb24sICdkZWZhdWx0JykKJiYgJHRoaXMtPnNob3VsZEFwcGx5RGVmYXVsdFZhbHVlKCRyZXF1aXJlZE9ubHksICRwcm9wZXJ0eURlZmluaXRpb24sICRjdXJyZW50UHJvcGVydHksICRzY2hlbWEpCikgewoKaWYgKGlzX29iamVjdCgkcHJvcGVydHlEZWZpbml0aW9uLT5kZWZhdWx0KSkgewpMb29zZVR5cGVDaGVjazo6cHJvcGVydHlTZXQoJHZhbHVlLCAkY3VycmVudFByb3BlcnR5LCBjbG9uZSAkcHJvcGVydHlEZWZpbml0aW9uLT5kZWZhdWx0KTsKfSBlbHNlIHsKTG9vc2VUeXBlQ2hlY2s6OnByb3BlcnR5U2V0KCR2YWx1ZSwgJGN1cnJlbnRQcm9wZXJ0eSwgJHByb3BlcnR5RGVmaW5pdGlvbi0+ZGVmYXVsdCk7Cn0KJHRoaXMtPmFwcGxpZWREZWZhdWx0c1tdID0gJGN1cnJlbnRQcm9wZXJ0eTsKfQp9Cn0gZWxzZWlmIChpc3NldCgkc2NoZW1hLT5pdGVtcykgJiYgTG9vc2VUeXBlQ2hlY2s6OmlzQXJyYXkoJHZhbHVlKSkgewokaXRlbXMgPSBhcnJheSgpOwppZiAoTG9vc2VUeXBlQ2hlY2s6OmlzQXJyYXkoJHNjaGVtYS0+aXRlbXMpKSB7CiRpdGVtcyA9ICRzY2hlbWEtPml0ZW1zOwp9IGVsc2VpZiAoaXNzZXQoJHNjaGVtYS0+bWluSXRlbXMpICYmIGNvdW50KCR2YWx1ZSkgPCAkc2NoZW1hLT5taW5JdGVtcykgewokaXRlbXMgPSBhcnJheV9maWxsKGNvdW50KCR2YWx1ZSksICRzY2hlbWEtPm1pbkl0ZW1zIC0gY291bnQoJHZhbHVlKSwgJHNjaGVtYS0+aXRlbXMpOwp9Cgpmb3JlYWNoICgkaXRlbXMgYXMgJGN1cnJlbnRJdGVtID0+ICRpdGVtRGVmaW5pdGlvbikgewokaXRlbURlZmluaXRpb24gPSAkdGhpcy0+ZmFjdG9yeS0+Z2V0U2NoZW1hU3RvcmFnZSgpLT5yZXNvbHZlUmVmU2NoZW1hKCRpdGVtRGVmaW5pdGlvbik7CmlmICgKIWFycmF5X2tleV9leGlzdHMoJGN1cnJlbnRJdGVtLCAkdmFsdWUpCiYmIHByb3BlcnR5X2V4aXN0cygkaXRlbURlZmluaXRpb24sICdkZWZhdWx0JykKJiYgJHRoaXMtPnNob3VsZEFwcGx5RGVmYXVsdFZhbHVlKCRyZXF1aXJlZE9ubHksICRpdGVtRGVmaW5pdGlvbikpIHsKaWYgKGlzX29iamVjdCgkaXRlbURlZmluaXRpb24tPmRlZmF1bHQpKSB7CiR2YWx1ZVskY3VycmVudEl0ZW1dID0gY2xvbmUgJGl0ZW1EZWZpbml0aW9uLT5kZWZhdWx0Owp9IGVsc2UgewokdmFsdWVbJGN1cnJlbnRJdGVtXSA9ICRpdGVtRGVmaW5pdGlvbi0+ZGVmYXVsdDsKfQp9CiRwYXRoLT5zZXRGcm9tRGVmYXVsdCgpOwp9Cn0gZWxzZWlmICgKJHZhbHVlIGluc3RhbmNlb2Ygc2VsZgomJiBwcm9wZXJ0eV9leGlzdHMoJHNjaGVtYSwgJ2RlZmF1bHQnKQomJiAkdGhpcy0+c2hvdWxkQXBwbHlEZWZhdWx0VmFsdWUoJHJlcXVpcmVkT25seSwgJHNjaGVtYSkpIHsKCiR2YWx1ZSA9IGlzX29iamVjdCgkc2NoZW1hLT5kZWZhdWx0KSA/IGNsb25lICRzY2hlbWEtPmRlZmF1bHQgOiAkc2NoZW1hLT5kZWZhdWx0OwokcGF0aC0+c2V0RnJvbURlZmF1bHQoKTsKfQp9CgoKCgoKCgoKCnByb3RlY3RlZCBmdW5jdGlvbiB2YWxpZGF0ZU9mUHJvcGVydGllcygmJHZhbHVlLCAkc2NoZW1hLCBKc29uUG9pbnRlciAkcGF0aCwgJGkgPSAnJykKewoKaWYgKCR2YWx1ZSBpbnN0YW5jZW9mIHNlbGYpIHsKcmV0dXJuOwp9CgppZiAoaXNzZXQoJHNjaGVtYS0+YWxsT2YpKSB7CiRpc1ZhbGlkID0gdHJ1ZTsKZm9yZWFjaCAoJHNjaGVtYS0+YWxsT2YgYXMgJGFsbE9mKSB7CiRpbml0RXJyb3JzID0gJHRoaXMtPmdldEVycm9ycygpOwokdGhpcy0+Y2hlY2tVbmRlZmluZWQoJHZhbHVlLCAkYWxsT2YsICRwYXRoLCAkaSk7CiRpc1ZhbGlkID0gJGlzVmFsaWQgJiYgKGNvdW50KCR0aGlzLT5nZXRFcnJvcnMoKSkgPT0gY291bnQoJGluaXRFcnJvcnMpKTsKfQppZiAoISRpc1ZhbGlkKSB7CiR0aGlzLT5hZGRFcnJvcigkcGF0aCwgJ0ZhaWxlZCB0byBtYXRjaCBhbGwgc2NoZW1hcycsICdhbGxPZicpOwp9Cn0KCmlmIChpc3NldCgkc2NoZW1hLT5hbnlPZikpIHsKJGlzVmFsaWQgPSBmYWxzZTsKJHN0YXJ0RXJyb3JzID0gJHRoaXMtPmdldEVycm9ycygpOwokY2F1Z2h0RXhjZXB0aW9uID0gbnVsbDsKZm9yZWFjaCAoJHNjaGVtYS0+YW55T2YgYXMgJGFueU9mKSB7CiRpbml0RXJyb3JzID0gJHRoaXMtPmdldEVycm9ycygpOwp0cnkgewokdGhpcy0+Y2hlY2tVbmRlZmluZWQoJHZhbHVlLCAkYW55T2YsICRwYXRoLCAkaSk7CmlmICgkaXNWYWxpZCA9IChjb3VudCgkdGhpcy0+Z2V0RXJyb3JzKCkpID09IGNvdW50KCRpbml0RXJyb3JzKSkpIHsKYnJlYWs7Cn0KfSBjYXRjaCAoVmFsaWRhdGlvbkV4Y2VwdGlvbiAkZSkgewokaXNWYWxpZCA9IGZhbHNlOwp9Cn0KaWYgKCEkaXNWYWxpZCkgewokdGhpcy0+YWRkRXJyb3IoJHBhdGgsICdGYWlsZWQgdG8gbWF0Y2ggYXQgbGVhc3Qgb25lIHNjaGVtYScsICdhbnlPZicpOwp9IGVsc2UgewokdGhpcy0+ZXJyb3JzID0gJHN0YXJ0RXJyb3JzOwp9Cn0KCmlmIChpc3NldCgkc2NoZW1hLT5vbmVPZikpIHsKJGFsbEVycm9ycyA9IGFycmF5KCk7CiRtYXRjaGVkU2NoZW1hcyA9IDA7CiRzdGFydEVycm9ycyA9ICR0aGlzLT5nZXRFcnJvcnMoKTsKZm9yZWFjaCAoJHNjaGVtYS0+b25lT2YgYXMgJG9uZU9mKSB7CnRyeSB7CiR0aGlzLT5lcnJvcnMgPSBhcnJheSgpOwokdGhpcy0+Y2hlY2tVbmRlZmluZWQoJHZhbHVlLCAkb25lT2YsICRwYXRoLCAkaSk7CmlmIChjb3VudCgkdGhpcy0+Z2V0RXJyb3JzKCkpID09IDApIHsKJG1hdGNoZWRTY2hlbWFzKys7Cn0KJGFsbEVycm9ycyA9IGFycmF5X21lcmdlKCRhbGxFcnJvcnMsIGFycmF5X3ZhbHVlcygkdGhpcy0+Z2V0RXJyb3JzKCkpKTsKfSBjYXRjaCAoVmFsaWRhdGlvbkV4Y2VwdGlvbiAkZSkgewoKCn0KfQppZiAoJG1hdGNoZWRTY2hlbWFzICE9PSAxKSB7CiR0aGlzLT5hZGRFcnJvcnMoYXJyYXlfbWVyZ2UoJGFsbEVycm9ycywgJHN0YXJ0RXJyb3JzKSk7CiR0aGlzLT5hZGRFcnJvcigkcGF0aCwgJ0ZhaWxlZCB0byBtYXRjaCBleGFjdGx5IG9uZSBzY2hlbWEnLCAnb25lT2YnKTsKfSBlbHNlIHsKJHRoaXMtPmVycm9ycyA9ICRzdGFydEVycm9yczsKfQp9Cn0KCgoKCgoKCgoKcHJvdGVjdGVkIGZ1bmN0aW9uIHZhbGlkYXRlRGVwZW5kZW5jaWVzKCR2YWx1ZSwgJGRlcGVuZGVuY2llcywgSnNvblBvaW50ZXIgJHBhdGgsICRpID0gJycpCnsKZm9yZWFjaCAoJGRlcGVuZGVuY2llcyBhcyAka2V5ID0+ICRkZXBlbmRlbmN5KSB7CmlmICgkdGhpcy0+Z2V0VHlwZUNoZWNrKCktPnByb3BlcnR5RXhpc3RzKCR2YWx1ZSwgJGtleSkpIHsKaWYgKGlzX3N0cmluZygkZGVwZW5kZW5jeSkpIHsKCmlmICghJHRoaXMtPmdldFR5cGVDaGVjaygpLT5wcm9wZXJ0eUV4aXN0cygkdmFsdWUsICRkZXBlbmRlbmN5KSkgewokdGhpcy0+YWRkRXJyb3IoJHBhdGgsICIka2V5IGRlcGVuZHMgb24gJGRlcGVuZGVuY3kgYW5kICRkZXBlbmRlbmN5IGlzIG1pc3NpbmciLCAnZGVwZW5kZW5jaWVzJyk7Cn0KfSBlbHNlaWYgKGlzX2FycmF5KCRkZXBlbmRlbmN5KSkgewoKZm9yZWFjaCAoJGRlcGVuZGVuY3kgYXMgJGQpIHsKaWYgKCEkdGhpcy0+Z2V0VHlwZUNoZWNrKCktPnByb3BlcnR5RXhpc3RzKCR2YWx1ZSwgJGQpKSB7CiR0aGlzLT5hZGRFcnJvcigkcGF0aCwgIiRrZXkgZGVwZW5kcyBvbiAkZCBhbmQgJGQgaXMgbWlzc2luZyIsICdkZXBlbmRlbmNpZXMnKTsKfQp9Cn0gZWxzZWlmIChpc19vYmplY3QoJGRlcGVuZGVuY3kpKSB7CgokdGhpcy0+Y2hlY2tVbmRlZmluZWQoJHZhbHVlLCAkZGVwZW5kZW5jeSwgJHBhdGgsICRpKTsKfQp9Cn0KfQoKcHJvdGVjdGVkIGZ1bmN0aW9uIHZhbGlkYXRlVXJpKCRzY2hlbWEsICRzY2hlbWFVcmkgPSBudWxsKQp7CiRyZXNvbHZlciA9IG5ldyBVcmlSZXNvbHZlcigpOwokcmV0cmlldmVyID0gJHRoaXMtPmZhY3RvcnktPmdldFVyaVJldHJpZXZlcigpOwoKJGpzb25TY2hlbWEgPSBudWxsOwppZiAoJHJlc29sdmVyLT5pc1ZhbGlkKCRzY2hlbWFVcmkpKSB7CiRzY2hlbWFJZCA9IHByb3BlcnR5X2V4aXN0cygkc2NoZW1hLCAnaWQnKSA/ICRzY2hlbWEtPmlkIDogbnVsbDsKJGpzb25TY2hlbWEgPSAkcmV0cmlldmVyLT5yZXRyaWV2ZSgkc2NoZW1hSWQsICRzY2hlbWFVcmkpOwp9CgpyZXR1cm4gJGpzb25TY2hlbWE7Cn0KfQo8P3BocAoKCgoKCgoKCm5hbWVzcGFjZSBKc29uU2NoZW1hXEVudGl0eTsKCnVzZSBKc29uU2NoZW1hXEV4Y2VwdGlvblxJbnZhbGlkQXJndW1lbnRFeGNlcHRpb247CgoKCgoKCmNsYXNzIEpzb25Qb2ludGVyCnsKCnByaXZhdGUgJGZpbGVuYW1lOwoKCnByaXZhdGUgJHByb3BlcnR5UGF0aHMgPSBhcnJheSgpOwoKCgoKcHJpdmF0ZSAkZnJvbURlZmF1bHQgPSBmYWxzZTsKCgoKCgoKcHVibGljIGZ1bmN0aW9uIF9fY29uc3RydWN0KCR2YWx1ZSkKewppZiAoIWlzX3N0cmluZygkdmFsdWUpKSB7CnRocm93IG5ldyBJbnZhbGlkQXJndW1lbnRFeGNlcHRpb24oJ1JlZiB2YWx1ZSBtdXN0IGJlIGEgc3RyaW5nJyk7Cn0KCiRzcGxpdFJlZiA9IGV4cGxvZGUoJyMnLCAkdmFsdWUsIDIpOwokdGhpcy0+ZmlsZW5hbWUgPSAkc3BsaXRSZWZbMF07CmlmIChhcnJheV9rZXlfZXhpc3RzKDEsICRzcGxpdFJlZikpIHsKJHRoaXMtPnByb3BlcnR5UGF0aHMgPSAkdGhpcy0+ZGVjb2RlUHJvcGVydHlQYXRocygkc3BsaXRSZWZbMV0pOwp9Cn0KCgoKCgoKcHJpdmF0ZSBmdW5jdGlvbiBkZWNvZGVQcm9wZXJ0eVBhdGhzKCRwcm9wZXJ0eVBhdGhTdHJpbmcpCnsKJHBhdGhzID0gYXJyYXkoKTsKZm9yZWFjaCAoZXhwbG9kZSgnLycsIHRyaW0oJHByb3BlcnR5UGF0aFN0cmluZywgJy8nKSkgYXMgJHBhdGgpIHsKJHBhdGggPSAkdGhpcy0+ZGVjb2RlUGF0aCgkcGF0aCk7CmlmIChpc19zdHJpbmcoJHBhdGgpICYmICcnICE9PSAkcGF0aCkgewokcGF0aHNbXSA9ICRwYXRoOwp9Cn0KCnJldHVybiAkcGF0aHM7Cn0KCgoKCnByaXZhdGUgZnVuY3Rpb24gZW5jb2RlUHJvcGVydHlQYXRocygpCnsKcmV0dXJuIGFycmF5X21hcCgKYXJyYXkoJHRoaXMsICdlbmNvZGVQYXRoJyksCiR0aGlzLT5nZXRQcm9wZXJ0eVBhdGhzKCkKKTsKfQoKCgoKCgpwcml2YXRlIGZ1bmN0aW9uIGRlY29kZVBhdGgoJHBhdGgpCnsKcmV0dXJuIHN0cnRyKCRwYXRoLCBhcnJheSgnfjEnID0+ICcvJywgJ34wJyA9PiAnficsICclMjUnID0+ICclJykpOwp9CgoKCgoKCnByaXZhdGUgZnVuY3Rpb24gZW5jb2RlUGF0aCgkcGF0aCkKewpyZXR1cm4gc3RydHIoJHBhdGgsIGFycmF5KCcvJyA9PiAnfjEnLCAnficgPT4gJ34wJywgJyUnID0+ICclMjUnKSk7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBnZXRGaWxlbmFtZSgpCnsKcmV0dXJuICR0aGlzLT5maWxlbmFtZTsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIGdldFByb3BlcnR5UGF0aHMoKQp7CnJldHVybiAkdGhpcy0+cHJvcGVydHlQYXRoczsKfQoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gd2l0aFByb3BlcnR5UGF0aHMoYXJyYXkgJHByb3BlcnR5UGF0aHMpCnsKJG5ldyA9IGNsb25lICR0aGlzOwokbmV3LT5wcm9wZXJ0eVBhdGhzID0gJHByb3BlcnR5UGF0aHM7CgpyZXR1cm4gJG5ldzsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIGdldFByb3BlcnR5UGF0aEFzU3RyaW5nKCkKewpyZXR1cm4gcnRyaW0oJyMvJyAuIGltcGxvZGUoJy8nLCAkdGhpcy0+ZW5jb2RlUHJvcGVydHlQYXRocygpKSwgJy8nKTsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIF9fdG9TdHJpbmcoKQp7CnJldHVybiAkdGhpcy0+Z2V0RmlsZW5hbWUoKSAuICR0aGlzLT5nZXRQcm9wZXJ0eVBhdGhBc1N0cmluZygpOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gc2V0RnJvbURlZmF1bHQoKQp7CiR0aGlzLT5mcm9tRGVmYXVsdCA9IHRydWU7Cn0KCgoKCgoKcHVibGljIGZ1bmN0aW9uIGZyb21EZWZhdWx0KCkKewpyZXR1cm4gJHRoaXMtPmZyb21EZWZhdWx0Owp9Cn0KPD9waHAKCm5hbWVzcGFjZSBKc29uU2NoZW1hXEV4Y2VwdGlvbjsKCmludGVyZmFjZSBFeGNlcHRpb25JbnRlcmZhY2UKewp9Cjw/cGhwCgoKCgoKCgoKbmFtZXNwYWNlIEpzb25TY2hlbWFcRXhjZXB0aW9uOwoKCgoKY2xhc3MgSW52YWxpZEFyZ3VtZW50RXhjZXB0aW9uIGV4dGVuZHMgXEludmFsaWRBcmd1bWVudEV4Y2VwdGlvbiBpbXBsZW1lbnRzIEV4Y2VwdGlvbkludGVyZmFjZQp7Cn0KPD9waHAKCgoKCgoKCgpuYW1lc3BhY2UgSnNvblNjaGVtYVxFeGNlcHRpb247CgoKCgpjbGFzcyBJbnZhbGlkQ29uZmlnRXhjZXB0aW9uIGV4dGVuZHMgUnVudGltZUV4Y2VwdGlvbgp7Cn0KPD9waHAKCgoKCgoKCgpuYW1lc3BhY2UgSnNvblNjaGVtYVxFeGNlcHRpb247CgoKCgpjbGFzcyBJbnZhbGlkU2NoZW1hRXhjZXB0aW9uIGV4dGVuZHMgUnVudGltZUV4Y2VwdGlvbgp7Cn0KPD9waHAKCgoKCgoKCgpuYW1lc3BhY2UgSnNvblNjaGVtYVxFeGNlcHRpb247CgoKCgpjbGFzcyBJbnZhbGlkU2NoZW1hTWVkaWFUeXBlRXhjZXB0aW9uIGV4dGVuZHMgUnVudGltZUV4Y2VwdGlvbgp7Cn0KPD9waHAKCgoKCgoKCgpuYW1lc3BhY2UgSnNvblNjaGVtYVxFeGNlcHRpb247CgoKCgpjbGFzcyBJbnZhbGlkU291cmNlVXJpRXhjZXB0aW9uIGV4dGVuZHMgSW52YWxpZEFyZ3VtZW50RXhjZXB0aW9uCnsKfQo8P3BocAoKCgoKCgoKCm5hbWVzcGFjZSBKc29uU2NoZW1hXEV4Y2VwdGlvbjsKCgoKCmNsYXNzIEpzb25EZWNvZGluZ0V4Y2VwdGlvbiBleHRlbmRzIFJ1bnRpbWVFeGNlcHRpb24KewpwdWJsaWMgZnVuY3Rpb24gX19jb25zdHJ1Y3QoJGNvZGUgPSBKU09OX0VSUk9SX05PTkUsIFxFeGNlcHRpb24gJHByZXZpb3VzID0gbnVsbCkKewpzd2l0Y2ggKCRjb2RlKSB7CmNhc2UgSlNPTl9FUlJPUl9ERVBUSDoKJG1lc3NhZ2UgPSAnVGhlIG1heGltdW0gc3RhY2sgZGVwdGggaGFzIGJlZW4gZXhjZWVkZWQnOwpicmVhazsKY2FzZSBKU09OX0VSUk9SX1NUQVRFX01JU01BVENIOgokbWVzc2FnZSA9ICdJbnZhbGlkIG9yIG1hbGZvcm1lZCBKU09OJzsKYnJlYWs7CmNhc2UgSlNPTl9FUlJPUl9DVFJMX0NIQVI6CiRtZXNzYWdlID0gJ0NvbnRyb2wgY2hhcmFjdGVyIGVycm9yLCBwb3NzaWJseSBpbmNvcnJlY3RseSBlbmNvZGVkJzsKYnJlYWs7CmNhc2UgSlNPTl9FUlJPUl9VVEY4OgokbWVzc2FnZSA9ICdNYWxmb3JtZWQgVVRGLTggY2hhcmFjdGVycywgcG9zc2libHkgaW5jb3JyZWN0bHkgZW5jb2RlZCc7CmJyZWFrOwpjYXNlIEpTT05fRVJST1JfU1lOVEFYOgokbWVzc2FnZSA9ICdKU09OIHN5bnRheCBpcyBtYWxmb3JtZWQnOwpicmVhazsKZGVmYXVsdDoKJG1lc3NhZ2UgPSAnU3ludGF4IGVycm9yJzsKfQpwYXJlbnQ6Ol9fY29uc3RydWN0KCRtZXNzYWdlLCAkY29kZSwgJHByZXZpb3VzKTsKfQp9Cjw/cGhwCgoKCgoKCgoKbmFtZXNwYWNlIEpzb25TY2hlbWFcRXhjZXB0aW9uOwoKCgoKY2xhc3MgUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvbiBleHRlbmRzIFJ1bnRpbWVFeGNlcHRpb24Kewp9Cjw/cGhwCgoKCgoKCgoKbmFtZXNwYWNlIEpzb25TY2hlbWFcRXhjZXB0aW9uOwoKCgoKY2xhc3MgUnVudGltZUV4Y2VwdGlvbiBleHRlbmRzIFxSdW50aW1lRXhjZXB0aW9uIGltcGxlbWVudHMgRXhjZXB0aW9uSW50ZXJmYWNlCnsKfQo8P3BocAoKCgoKCgoKCm5hbWVzcGFjZSBKc29uU2NoZW1hXEV4Y2VwdGlvbjsKCgoKCgoKY2xhc3MgVW5yZXNvbHZhYmxlSnNvblBvaW50ZXJFeGNlcHRpb24gZXh0ZW5kcyBJbnZhbGlkQXJndW1lbnRFeGNlcHRpb24Kewp9Cjw/cGhwCgoKCgoKCgoKbmFtZXNwYWNlIEpzb25TY2hlbWFcRXhjZXB0aW9uOwoKCgoKY2xhc3MgVXJpUmVzb2x2ZXJFeGNlcHRpb24gZXh0ZW5kcyBSdW50aW1lRXhjZXB0aW9uCnsKfQo8P3BocAoKCgoKCgoKCm5hbWVzcGFjZSBKc29uU2NoZW1hXEV4Y2VwdGlvbjsKCmNsYXNzIFZhbGlkYXRpb25FeGNlcHRpb24gZXh0ZW5kcyBSdW50aW1lRXhjZXB0aW9uCnsKfQo8P3BocAoKCgoKCgoKCm5hbWVzcGFjZSBKc29uU2NoZW1hXEl0ZXJhdG9yOwoKCgoKCgpjbGFzcyBPYmplY3RJdGVyYXRvciBpbXBsZW1lbnRzIFxJdGVyYXRvciwgXENvdW50YWJsZQp7Cgpwcml2YXRlICRvYmplY3Q7CgoKcHJpdmF0ZSAkcG9zaXRpb24gPSAwOwoKCnByaXZhdGUgJGRhdGEgPSBhcnJheSgpOwoKCnByaXZhdGUgJGluaXRpYWxpemVkID0gZmFsc2U7CgoKCgpwdWJsaWMgZnVuY3Rpb24gX19jb25zdHJ1Y3QoJG9iamVjdCkKewokdGhpcy0+b2JqZWN0ID0gJG9iamVjdDsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIGN1cnJlbnQoKQp7CiR0aGlzLT5pbml0aWFsaXplKCk7CgpyZXR1cm4gJHRoaXMtPmRhdGFbJHRoaXMtPnBvc2l0aW9uXTsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIG5leHQoKQp7CiR0aGlzLT5pbml0aWFsaXplKCk7CiR0aGlzLT5wb3NpdGlvbisrOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24ga2V5KCkKewokdGhpcy0+aW5pdGlhbGl6ZSgpOwoKcmV0dXJuICR0aGlzLT5wb3NpdGlvbjsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIHZhbGlkKCkKewokdGhpcy0+aW5pdGlhbGl6ZSgpOwoKcmV0dXJuIGlzc2V0KCR0aGlzLT5kYXRhWyR0aGlzLT5wb3NpdGlvbl0pOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gcmV3aW5kKCkKewokdGhpcy0+aW5pdGlhbGl6ZSgpOwokdGhpcy0+cG9zaXRpb24gPSAwOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gY291bnQoKQp7CiR0aGlzLT5pbml0aWFsaXplKCk7CgpyZXR1cm4gY291bnQoJHRoaXMtPmRhdGEpOwp9CgoKCgpwcml2YXRlIGZ1bmN0aW9uIGluaXRpYWxpemUoKQp7CmlmICghJHRoaXMtPmluaXRpYWxpemVkKSB7CiR0aGlzLT5kYXRhID0gJHRoaXMtPmJ1aWxkRGF0YUZyb21PYmplY3QoJHRoaXMtPm9iamVjdCk7CiR0aGlzLT5pbml0aWFsaXplZCA9IHRydWU7Cn0KfQoKCgoKCgpwcml2YXRlIGZ1bmN0aW9uIGJ1aWxkRGF0YUZyb21PYmplY3QoJG9iamVjdCkKewokcmVzdWx0ID0gYXJyYXkoKTsKCiRzdGFjayA9IG5ldyBcU3BsU3RhY2soKTsKJHN0YWNrLT5wdXNoKCRvYmplY3QpOwoKd2hpbGUgKCEkc3RhY2stPmlzRW1wdHkoKSkgewokY3VycmVudCA9ICRzdGFjay0+cG9wKCk7CmlmIChpc19vYmplY3QoJGN1cnJlbnQpKSB7CmFycmF5X3B1c2goJHJlc3VsdCwgJGN1cnJlbnQpOwp9Cgpmb3JlYWNoICgkdGhpcy0+Z2V0RGF0YUZyb21JdGVtKCRjdXJyZW50KSBhcyAkcHJvcGVydHlOYW1lID0+ICRwcm9wZXJ0eVZhbHVlKSB7CmlmIChpc19vYmplY3QoJHByb3BlcnR5VmFsdWUpIHx8IGlzX2FycmF5KCRwcm9wZXJ0eVZhbHVlKSkgewokc3RhY2stPnB1c2goJHByb3BlcnR5VmFsdWUpOwp9Cn0KfQoKcmV0dXJuICRyZXN1bHQ7Cn0KCgoKCgoKcHJpdmF0ZSBmdW5jdGlvbiBnZXREYXRhRnJvbUl0ZW0oJGl0ZW0pCnsKaWYgKCFpc19vYmplY3QoJGl0ZW0pICYmICFpc19hcnJheSgkaXRlbSkpIHsKcmV0dXJuIGFycmF5KCk7Cn0KCnJldHVybiBpc19vYmplY3QoJGl0ZW0pID8gZ2V0X29iamVjdF92YXJzKCRpdGVtKSA6ICRpdGVtOwp9Cn0KPD9waHAKCm5hbWVzcGFjZSBKc29uU2NoZW1hOwoKY2xhc3MgUmZjMzMzOQp7CmNvbnN0IFJFR0VYID0gJy9eKFxkezR9LVxkezJ9LVxkezJ9W1QgXXsxfVxkezJ9OlxkezJ9OlxkezJ9KShcLlxkKyk/KFp8KFsrLV1cZHsyfSk6PyhcZHsyfSkpJC8nOwoKCgoKCgoKCnB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gY3JlYXRlRnJvbVN0cmluZygkc3RyaW5nKQp7CmlmICghcHJlZ19tYXRjaChzZWxmOjpSRUdFWCwgc3RydG91cHBlcigkc3RyaW5nKSwgJG1hdGNoZXMpKSB7CnJldHVybiBudWxsOwp9CgokZGF0ZUFuZFRpbWUgPSAkbWF0Y2hlc1sxXTsKJG1pY3Jvc2Vjb25kcyA9ICRtYXRjaGVzWzJdID86ICcuMDAwMDAwJzsKJHRpbWVab25lID0gJ1onICE9PSAkbWF0Y2hlc1szXSA/ICRtYXRjaGVzWzRdIC4gJzonIC4gJG1hdGNoZXNbNV0gOiAnKzAwOjAwJzsKJGRhdGVGb3JtYXQgPSBzdHJwb3MoJGRhdGVBbmRUaW1lLCAnVCcpID09PSBmYWxzZSA/ICdZLW0tZCBIOmk6cy51UCcgOiAnWS1tLWRcVEg6aTpzLnVQJzsKJGRhdGVUaW1lID0gXERhdGVUaW1lOjpjcmVhdGVGcm9tRm9ybWF0KCRkYXRlRm9ybWF0LCAkZGF0ZUFuZFRpbWUgLiAkbWljcm9zZWNvbmRzIC4gJHRpbWVab25lLCBuZXcgXERhdGVUaW1lWm9uZSgnVVRDJykpOwoKcmV0dXJuICRkYXRlVGltZSA/OiBudWxsOwp9Cn0KPD9waHAKCm5hbWVzcGFjZSBKc29uU2NoZW1hOwoKdXNlIEpzb25TY2hlbWFcQ29uc3RyYWludHNcQmFzZUNvbnN0cmFpbnQ7CnVzZSBKc29uU2NoZW1hXEVudGl0eVxKc29uUG9pbnRlcjsKdXNlIEpzb25TY2hlbWFcRXhjZXB0aW9uXFVucmVzb2x2YWJsZUpzb25Qb2ludGVyRXhjZXB0aW9uOwp1c2UgSnNvblNjaGVtYVxVcmlcVXJpUmVzb2x2ZXI7CnVzZSBKc29uU2NoZW1hXFVyaVxVcmlSZXRyaWV2ZXI7CgpjbGFzcyBTY2hlbWFTdG9yYWdlIGltcGxlbWVudHMgU2NoZW1hU3RvcmFnZUludGVyZmFjZQp7CmNvbnN0IElOVEVSTkFMX1BST1ZJREVEX1NDSEVNQV9VUkkgPSAnaW50ZXJuYWw6Ly9wcm92aWRlZC1zY2hlbWEvJzsKCnByb3RlY3RlZCAkdXJpUmV0cmlldmVyOwpwcm90ZWN0ZWQgJHVyaVJlc29sdmVyOwpwcm90ZWN0ZWQgJHNjaGVtYXMgPSBhcnJheSgpOwoKcHVibGljIGZ1bmN0aW9uIF9fY29uc3RydWN0KApVcmlSZXRyaWV2ZXJJbnRlcmZhY2UgJHVyaVJldHJpZXZlciA9IG51bGwsClVyaVJlc29sdmVySW50ZXJmYWNlICR1cmlSZXNvbHZlciA9IG51bGwKKSB7CiR0aGlzLT51cmlSZXRyaWV2ZXIgPSAkdXJpUmV0cmlldmVyID86IG5ldyBVcmlSZXRyaWV2ZXIoKTsKJHRoaXMtPnVyaVJlc29sdmVyID0gJHVyaVJlc29sdmVyID86IG5ldyBVcmlSZXNvbHZlcigpOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0VXJpUmV0cmlldmVyKCkKewpyZXR1cm4gJHRoaXMtPnVyaVJldHJpZXZlcjsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIGdldFVyaVJlc29sdmVyKCkKewpyZXR1cm4gJHRoaXMtPnVyaVJlc29sdmVyOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gYWRkU2NoZW1hKCRpZCwgJHNjaGVtYSA9IG51bGwpCnsKaWYgKGlzX251bGwoJHNjaGVtYSkgJiYgJGlkICE9PSBzZWxmOjpJTlRFUk5BTF9QUk9WSURFRF9TQ0hFTUFfVVJJKSB7CgoKCiRzY2hlbWEgPSAkdGhpcy0+dXJpUmV0cmlldmVyLT5yZXRyaWV2ZSgkaWQpOwp9CgoKaWYgKGlzX2FycmF5KCRzY2hlbWEpKSB7CiRzY2hlbWEgPSBCYXNlQ29uc3RyYWludDo6YXJyYXlUb09iamVjdFJlY3Vyc2l2ZSgkc2NoZW1hKTsKfQoKCgppZiAoaXNfb2JqZWN0KCRzY2hlbWEpICYmIHByb3BlcnR5X2V4aXN0cygkc2NoZW1hLCAnaWQnKSkgewppZiAoJHNjaGVtYS0+aWQgPT0gJ2h0dHA6Ly9qc29uLXNjaGVtYS5vcmcvZHJhZnQtMDQvc2NoZW1hIycpIHsKJHNjaGVtYS0+cHJvcGVydGllcy0+aWQtPmZvcm1hdCA9ICd1cmktcmVmZXJlbmNlJzsKfSBlbHNlaWYgKCRzY2hlbWEtPmlkID09ICdodHRwOi8vanNvbi1zY2hlbWEub3JnL2RyYWZ0LTAzL3NjaGVtYSMnKSB7CiRzY2hlbWEtPnByb3BlcnRpZXMtPmlkLT5mb3JtYXQgPSAndXJpLXJlZmVyZW5jZSc7CiRzY2hlbWEtPnByb3BlcnRpZXMtPnsnJHJlZid9LT5mb3JtYXQgPSAndXJpLXJlZmVyZW5jZSc7Cn0KfQoKCiR0aGlzLT5leHBhbmRSZWZzKCRzY2hlbWEsICRpZCk7CgokdGhpcy0+c2NoZW1hc1skaWRdID0gJHNjaGVtYTsKfQoKCgoKCgoKcHJpdmF0ZSBmdW5jdGlvbiBleHBhbmRSZWZzKCYkc2NoZW1hLCAkYmFzZSA9IG51bGwpCnsKaWYgKCFpc19vYmplY3QoJHNjaGVtYSkpIHsKaWYgKGlzX2FycmF5KCRzY2hlbWEpKSB7CmZvcmVhY2ggKCRzY2hlbWEgYXMgJiRtZW1iZXIpIHsKJHRoaXMtPmV4cGFuZFJlZnMoJG1lbWJlciwgJGJhc2UpOwp9Cn0KCnJldHVybjsKfQoKaWYgKHByb3BlcnR5X2V4aXN0cygkc2NoZW1hLCAnaWQnKSAmJiBpc19zdHJpbmcoJHNjaGVtYS0+aWQpICYmICRiYXNlICE9ICRzY2hlbWEtPmlkKSB7CiRiYXNlID0gJHRoaXMtPnVyaVJlc29sdmVyLT5yZXNvbHZlKCRzY2hlbWEtPmlkLCAkYmFzZSk7Cn0KCmlmIChwcm9wZXJ0eV9leGlzdHMoJHNjaGVtYSwgJyRyZWYnKSAmJiBpc19zdHJpbmcoJHNjaGVtYS0+eyckcmVmJ30pKSB7CiRyZWZQb2ludGVyID0gbmV3IEpzb25Qb2ludGVyKCR0aGlzLT51cmlSZXNvbHZlci0+cmVzb2x2ZSgkc2NoZW1hLT57JyRyZWYnfSwgJGJhc2UpKTsKJHNjaGVtYS0+eyckcmVmJ30gPSAoc3RyaW5nKSAkcmVmUG9pbnRlcjsKfQoKZm9yZWFjaCAoJHNjaGVtYSBhcyAmJG1lbWJlcikgewokdGhpcy0+ZXhwYW5kUmVmcygkbWVtYmVyLCAkYmFzZSk7Cn0KfQoKCgoKcHVibGljIGZ1bmN0aW9uIGdldFNjaGVtYSgkaWQpCnsKaWYgKCFhcnJheV9rZXlfZXhpc3RzKCRpZCwgJHRoaXMtPnNjaGVtYXMpKSB7CiR0aGlzLT5hZGRTY2hlbWEoJGlkKTsKfQoKcmV0dXJuICR0aGlzLT5zY2hlbWFzWyRpZF07Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiByZXNvbHZlUmVmKCRyZWYpCnsKJGpzb25Qb2ludGVyID0gbmV3IEpzb25Qb2ludGVyKCRyZWYpOwoKCiRmaWxlTmFtZSA9ICRqc29uUG9pbnRlci0+Z2V0RmlsZW5hbWUoKTsKaWYgKCFzdHJsZW4oJGZpbGVOYW1lKSkgewp0aHJvdyBuZXcgVW5yZXNvbHZhYmxlSnNvblBvaW50ZXJFeGNlcHRpb24oc3ByaW50ZigKIkNvdWxkIG5vdCByZXNvbHZlIGZyYWdtZW50ICclcyc6IG5vIGZpbGUgaXMgZGVmaW5lZCIsCiRqc29uUG9pbnRlci0+Z2V0UHJvcGVydHlQYXRoQXNTdHJpbmcoKQopKTsKfQoKCiRyZWZTY2hlbWEgPSAkdGhpcy0+Z2V0U2NoZW1hKCRmaWxlTmFtZSk7CmZvcmVhY2ggKCRqc29uUG9pbnRlci0+Z2V0UHJvcGVydHlQYXRocygpIGFzICRwYXRoKSB7CmlmIChpc19vYmplY3QoJHJlZlNjaGVtYSkgJiYgcHJvcGVydHlfZXhpc3RzKCRyZWZTY2hlbWEsICRwYXRoKSkgewokcmVmU2NoZW1hID0gJHRoaXMtPnJlc29sdmVSZWZTY2hlbWEoJHJlZlNjaGVtYS0+eyRwYXRofSk7Cn0gZWxzZWlmIChpc19hcnJheSgkcmVmU2NoZW1hKSAmJiBhcnJheV9rZXlfZXhpc3RzKCRwYXRoLCAkcmVmU2NoZW1hKSkgewokcmVmU2NoZW1hID0gJHRoaXMtPnJlc29sdmVSZWZTY2hlbWEoJHJlZlNjaGVtYVskcGF0aF0pOwp9IGVsc2Ugewp0aHJvdyBuZXcgVW5yZXNvbHZhYmxlSnNvblBvaW50ZXJFeGNlcHRpb24oc3ByaW50ZigKJ0ZpbGU6ICVzIGlzIGZvdW5kLCBidXQgY291bGQgbm90IHJlc29sdmUgZnJhZ21lbnQ6ICVzJywKJGpzb25Qb2ludGVyLT5nZXRGaWxlbmFtZSgpLAokanNvblBvaW50ZXItPmdldFByb3BlcnR5UGF0aEFzU3RyaW5nKCkKKSk7Cn0KfQoKcmV0dXJuICRyZWZTY2hlbWE7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiByZXNvbHZlUmVmU2NoZW1hKCRyZWZTY2hlbWEpCnsKaWYgKGlzX29iamVjdCgkcmVmU2NoZW1hKSAmJiBwcm9wZXJ0eV9leGlzdHMoJHJlZlNjaGVtYSwgJyRyZWYnKSAmJiBpc19zdHJpbmcoJHJlZlNjaGVtYS0+eyckcmVmJ30pKSB7CiRuZXdTY2hlbWEgPSAkdGhpcy0+cmVzb2x2ZVJlZigkcmVmU2NoZW1hLT57JyRyZWYnfSk7CiRyZWZTY2hlbWEgPSAob2JqZWN0KSAoZ2V0X29iamVjdF92YXJzKCRyZWZTY2hlbWEpICsgZ2V0X29iamVjdF92YXJzKCRuZXdTY2hlbWEpKTsKdW5zZXQoJHJlZlNjaGVtYS0+eyckcmVmJ30pOwp9CgpyZXR1cm4gJHJlZlNjaGVtYTsKfQp9Cjw/cGhwCgpuYW1lc3BhY2UgSnNvblNjaGVtYTsKCmludGVyZmFjZSBTY2hlbWFTdG9yYWdlSW50ZXJmYWNlCnsKCgoKCgoKcHVibGljIGZ1bmN0aW9uIGFkZFNjaGVtYSgkaWQsICRzY2hlbWEgPSBudWxsKTsKCgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0U2NoZW1hKCRpZCk7CgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIHJlc29sdmVSZWYoJHJlZik7CgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIHJlc29sdmVSZWZTY2hlbWEoJHJlZlNjaGVtYSk7Cn0KPD9waHAKCgoKCgoKbmFtZXNwYWNlIEpzb25TY2hlbWFcVXJpXFJldHJpZXZlcnM7CgoKCgoKCgphYnN0cmFjdCBjbGFzcyBBYnN0cmFjdFJldHJpZXZlciBpbXBsZW1lbnRzIFVyaVJldHJpZXZlckludGVyZmFjZQp7CgoKCgoKcHJvdGVjdGVkICRjb250ZW50VHlwZTsKCgoKCgoKcHVibGljIGZ1bmN0aW9uIGdldENvbnRlbnRUeXBlKCkKewpyZXR1cm4gJHRoaXMtPmNvbnRlbnRUeXBlOwp9Cn0KPD9waHAKCgoKCgoKCgpuYW1lc3BhY2UgSnNvblNjaGVtYVxVcmlcUmV0cmlldmVyczsKCnVzZSBKc29uU2NoZW1hXEV4Y2VwdGlvblxSdW50aW1lRXhjZXB0aW9uOwp1c2UgSnNvblNjaGVtYVxWYWxpZGF0b3I7CgoKCgoKCmNsYXNzIEN1cmwgZXh0ZW5kcyBBYnN0cmFjdFJldHJpZXZlcgp7CnByb3RlY3RlZCAkbWVzc2FnZUJvZHk7CgpwdWJsaWMgZnVuY3Rpb24gX19jb25zdHJ1Y3QoKQp7CmlmICghZnVuY3Rpb25fZXhpc3RzKCdjdXJsX2luaXQnKSkgewoKdGhyb3cgbmV3IFJ1bnRpbWVFeGNlcHRpb24oJ2NVUkwgbm90IGluc3RhbGxlZCcpOyAKfQp9CgoKCgoKCnB1YmxpYyBmdW5jdGlvbiByZXRyaWV2ZSgkdXJpKQp7CiRjaCA9IGN1cmxfaW5pdCgpOwoKY3VybF9zZXRvcHQoJGNoLCBDVVJMT1BUX1VSTCwgJHVyaSk7CmN1cmxfc2V0b3B0KCRjaCwgQ1VSTE9QVF9IRUFERVIsIHRydWUpOwpjdXJsX3NldG9wdCgkY2gsIENVUkxPUFRfUkVUVVJOVFJBTlNGRVIsIHRydWUpOwpjdXJsX3NldG9wdCgkY2gsIENVUkxPUFRfSFRUUEhFQURFUiwgYXJyYXkoJ0FjY2VwdDogJyAuIFZhbGlkYXRvcjo6U0NIRU1BX01FRElBX1RZUEUpKTsKCiRyZXNwb25zZSA9IGN1cmxfZXhlYygkY2gpOwppZiAoZmFsc2UgPT09ICRyZXNwb25zZSkgewp0aHJvdyBuZXcgXEpzb25TY2hlbWFcRXhjZXB0aW9uXFJlc291cmNlTm90Rm91bmRFeGNlcHRpb24oJ0pTT04gc2NoZW1hIG5vdCBmb3VuZCcpOwp9CgokdGhpcy0+ZmV0Y2hNZXNzYWdlQm9keSgkcmVzcG9uc2UpOwokdGhpcy0+ZmV0Y2hDb250ZW50VHlwZSgkcmVzcG9uc2UpOwoKY3VybF9jbG9zZSgkY2gpOwoKcmV0dXJuICR0aGlzLT5tZXNzYWdlQm9keTsKfQoKCgoKcHJpdmF0ZSBmdW5jdGlvbiBmZXRjaE1lc3NhZ2VCb2R5KCRyZXNwb25zZSkKewpwcmVnX21hdGNoKCIvKD86XHJcbil7Mn0oLiopJC9tcyIsICRyZXNwb25zZSwgJG1hdGNoKTsKJHRoaXMtPm1lc3NhZ2VCb2R5ID0gJG1hdGNoWzFdOwp9CgoKCgoKCnByb3RlY3RlZCBmdW5jdGlvbiBmZXRjaENvbnRlbnRUeXBlKCRyZXNwb25zZSkKewppZiAoMCA8IHByZWdfbWF0Y2goIi9Db250ZW50LVR5cGU6KFxWKikvaW1zIiwgJHJlc3BvbnNlLCAkbWF0Y2gpKSB7CiR0aGlzLT5jb250ZW50VHlwZSA9IHRyaW0oJG1hdGNoWzFdKTsKCnJldHVybiB0cnVlOwp9CgpyZXR1cm4gZmFsc2U7Cn0KfQo8P3BocAoKCgoKCgoKCm5hbWVzcGFjZSBKc29uU2NoZW1hXFVyaVxSZXRyaWV2ZXJzOwoKdXNlIEpzb25TY2hlbWFcRXhjZXB0aW9uXFJlc291cmNlTm90Rm91bmRFeGNlcHRpb247CgoKCgoKCmNsYXNzIEZpbGVHZXRDb250ZW50cyBleHRlbmRzIEFic3RyYWN0UmV0cmlldmVyCnsKcHJvdGVjdGVkICRtZXNzYWdlQm9keTsKCgoKCgoKcHVibGljIGZ1bmN0aW9uIHJldHJpZXZlKCR1cmkpCnsKJGVycm9yTWVzc2FnZSA9IG51bGw7CnNldF9lcnJvcl9oYW5kbGVyKGZ1bmN0aW9uICgkZXJybm8sICRlcnJzdHIpIHVzZSAoJiRlcnJvck1lc3NhZ2UpIHsKJGVycm9yTWVzc2FnZSA9ICRlcnJzdHI7Cn0pOwokcmVzcG9uc2UgPSBmaWxlX2dldF9jb250ZW50cygkdXJpKTsKcmVzdG9yZV9lcnJvcl9oYW5kbGVyKCk7CgppZiAoJGVycm9yTWVzc2FnZSkgewp0aHJvdyBuZXcgUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvbigkZXJyb3JNZXNzYWdlKTsKfQoKaWYgKGZhbHNlID09PSAkcmVzcG9uc2UpIHsKdGhyb3cgbmV3IFJlc291cmNlTm90Rm91bmRFeGNlcHRpb24oJ0pTT04gc2NoZW1hIG5vdCBmb3VuZCBhdCAnIC4gJHVyaSk7Cn0KCmlmICgkcmVzcG9uc2UgPT0gJycKJiYgc3Vic3RyKCR1cmksIDAsIDcpID09ICdmaWxlOi8vJyAmJiBzdWJzdHIoJHVyaSwgLTEpID09ICcvJwopIHsKdGhyb3cgbmV3IFJlc291cmNlTm90Rm91bmRFeGNlcHRpb24oJ0pTT04gc2NoZW1hIG5vdCBmb3VuZCBhdCAnIC4gJHVyaSk7Cn0KCiR0aGlzLT5tZXNzYWdlQm9keSA9ICRyZXNwb25zZTsKaWYgKCFlbXB0eSgkaHR0cF9yZXNwb25zZV9oZWFkZXIpKSB7CgoKJHRoaXMtPmZldGNoQ29udGVudFR5cGUoJGh0dHBfcmVzcG9uc2VfaGVhZGVyKTsgCn0gZWxzZSB7IAoKJHRoaXMtPmNvbnRlbnRUeXBlID0gbnVsbDsKfQoKcmV0dXJuICR0aGlzLT5tZXNzYWdlQm9keTsKfQoKCgoKCgpwcml2YXRlIGZ1bmN0aW9uIGZldGNoQ29udGVudFR5cGUoYXJyYXkgJGhlYWRlcnMpCnsKZm9yZWFjaCAoJGhlYWRlcnMgYXMgJGhlYWRlcikgewppZiAoJHRoaXMtPmNvbnRlbnRUeXBlID0gc2VsZjo6Z2V0Q29udGVudFR5cGVNYXRjaEluSGVhZGVyKCRoZWFkZXIpKSB7CnJldHVybiB0cnVlOwp9Cn0KCnJldHVybiBmYWxzZTsKfQoKCgoKCgpwcm90ZWN0ZWQgc3RhdGljIGZ1bmN0aW9uIGdldENvbnRlbnRUeXBlTWF0Y2hJbkhlYWRlcigkaGVhZGVyKQp7CmlmICgwIDwgcHJlZ19tYXRjaCgiL0NvbnRlbnQtVHlwZTooXFYqKS9pbXMiLCAkaGVhZGVyLCAkbWF0Y2gpKSB7CnJldHVybiB0cmltKCRtYXRjaFsxXSk7Cn0KCnJldHVybiBudWxsOwp9Cn0KPD9waHAKCm5hbWVzcGFjZSBKc29uU2NoZW1hXFVyaVxSZXRyaWV2ZXJzOwoKdXNlIEpzb25TY2hlbWFcVmFsaWRhdG9yOwoKCgoKCgoKCgoKCgoKY2xhc3MgUHJlZGVmaW5lZEFycmF5IGV4dGVuZHMgQWJzdHJhY3RSZXRyaWV2ZXIKewoKCgoKCnByaXZhdGUgJHNjaGVtYXM7CgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gX19jb25zdHJ1Y3QoYXJyYXkgJHNjaGVtYXMsICRjb250ZW50VHlwZSA9IFZhbGlkYXRvcjo6U0NIRU1BX01FRElBX1RZUEUpCnsKJHRoaXMtPnNjaGVtYXMgPSAkc2NoZW1hczsKJHRoaXMtPmNvbnRlbnRUeXBlID0gJGNvbnRlbnRUeXBlOwp9CgoKCgoKCnB1YmxpYyBmdW5jdGlvbiByZXRyaWV2ZSgkdXJpKQp7CmlmICghYXJyYXlfa2V5X2V4aXN0cygkdXJpLCAkdGhpcy0+c2NoZW1hcykpIHsKdGhyb3cgbmV3IFxKc29uU2NoZW1hXEV4Y2VwdGlvblxSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uKHNwcmludGYoCidUaGUgSlNPTiBzY2hlbWEgIiVzIiB3YXMgbm90IGZvdW5kLicsCiR1cmkKKSk7Cn0KCnJldHVybiAkdGhpcy0+c2NoZW1hc1skdXJpXTsKfQp9Cjw/cGhwCgoKCgoKCgoKbmFtZXNwYWNlIEpzb25TY2hlbWFcVXJpXFJldHJpZXZlcnM7CgoKCgoKCmludGVyZmFjZSBVcmlSZXRyaWV2ZXJJbnRlcmZhY2UKewoKCgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gcmV0cmlldmUoJHVyaSk7CgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBnZXRDb250ZW50VHlwZSgpOwp9Cjw/cGhwCgoKCgoKCgoKbmFtZXNwYWNlIEpzb25TY2hlbWFcVXJpOwoKdXNlIEpzb25TY2hlbWFcRXhjZXB0aW9uXFVyaVJlc29sdmVyRXhjZXB0aW9uOwp1c2UgSnNvblNjaGVtYVxVcmlSZXNvbHZlckludGVyZmFjZTsKCgoKCgoKY2xhc3MgVXJpUmVzb2x2ZXIgaW1wbGVtZW50cyBVcmlSZXNvbHZlckludGVyZmFjZQp7CgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gcGFyc2UoJHVyaSkKewpwcmVnX21hdGNoKCd8XigoW146Lz8jXSspOik/KC8vKFteLz8jXSopKT8oW14/I10qKShcPyhbXiNdKikpPygjKC4qKSk/fCcsICR1cmksICRtYXRjaCk7CgokY29tcG9uZW50cyA9IGFycmF5KCk7CmlmICg1IDwgY291bnQoJG1hdGNoKSkgewokY29tcG9uZW50cyA9IGFycmF5KAonc2NoZW1lJyA9PiAkbWF0Y2hbMl0sCidhdXRob3JpdHknID0+ICRtYXRjaFs0XSwKJ3BhdGgnID0+ICRtYXRjaFs1XQopOwp9CmlmICg3IDwgY291bnQoJG1hdGNoKSkgewokY29tcG9uZW50c1sncXVlcnknXSA9ICRtYXRjaFs3XTsKfQppZiAoOSA8IGNvdW50KCRtYXRjaCkpIHsKJGNvbXBvbmVudHNbJ2ZyYWdtZW50J10gPSAkbWF0Y2hbOV07Cn0KCnJldHVybiAkY29tcG9uZW50czsKfQoKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBnZW5lcmF0ZShhcnJheSAkY29tcG9uZW50cykKewokdXJpID0gJGNvbXBvbmVudHNbJ3NjaGVtZSddIC4gJzovLycKLiAkY29tcG9uZW50c1snYXV0aG9yaXR5J10KLiAkY29tcG9uZW50c1sncGF0aCddOwoKaWYgKGFycmF5X2tleV9leGlzdHMoJ3F1ZXJ5JywgJGNvbXBvbmVudHMpICYmIHN0cmxlbigkY29tcG9uZW50c1sncXVlcnknXSkpIHsKJHVyaSAuPSAnPycgLiAkY29tcG9uZW50c1sncXVlcnknXTsKfQppZiAoYXJyYXlfa2V5X2V4aXN0cygnZnJhZ21lbnQnLCAkY29tcG9uZW50cykpIHsKJHVyaSAuPSAnIycgLiAkY29tcG9uZW50c1snZnJhZ21lbnQnXTsKfQoKcmV0dXJuICR1cmk7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiByZXNvbHZlKCR1cmksICRiYXNlVXJpID0gbnVsbCkKewoKaWYgKAohaXNfbnVsbCgkYmFzZVVyaSkgJiYKIWZpbHRlcl92YXIoJGJhc2VVcmksIFxGSUxURVJfVkFMSURBVEVfVVJMKSAmJgohcHJlZ19tYXRjaCgnfF5bXi9dKzovL3x1JywgJGJhc2VVcmkpCikgewppZiAoaXNfZmlsZSgkYmFzZVVyaSkpIHsKJGJhc2VVcmkgPSAnZmlsZTovLycgLiByZWFscGF0aCgkYmFzZVVyaSk7Cn0gZWxzZWlmIChpc19kaXIoJGJhc2VVcmkpKSB7CiRiYXNlVXJpID0gJ2ZpbGU6Ly8nIC4gcmVhbHBhdGgoJGJhc2VVcmkpIC4gJy8nOwp9IGVsc2UgewokYmFzZVVyaSA9ICdmaWxlOi8vJyAuIGdldGN3ZCgpIC4gJy8nIC4gJGJhc2VVcmk7Cn0KfQoKaWYgKCR1cmkgPT0gJycpIHsKcmV0dXJuICRiYXNlVXJpOwp9CgokY29tcG9uZW50cyA9ICR0aGlzLT5wYXJzZSgkdXJpKTsKJHBhdGggPSAkY29tcG9uZW50c1sncGF0aCddOwoKaWYgKCFlbXB0eSgkY29tcG9uZW50c1snc2NoZW1lJ10pKSB7CnJldHVybiAkdXJpOwp9CiRiYXNlQ29tcG9uZW50cyA9ICR0aGlzLT5wYXJzZSgkYmFzZVVyaSk7CiRiYXNlUGF0aCA9ICRiYXNlQ29tcG9uZW50c1sncGF0aCddOwoKJGJhc2VDb21wb25lbnRzWydwYXRoJ10gPSBzZWxmOjpjb21iaW5lUmVsYXRpdmVQYXRoV2l0aEJhc2VQYXRoKCRwYXRoLCAkYmFzZVBhdGgpOwppZiAoaXNzZXQoJGNvbXBvbmVudHNbJ2ZyYWdtZW50J10pKSB7CiRiYXNlQ29tcG9uZW50c1snZnJhZ21lbnQnXSA9ICRjb21wb25lbnRzWydmcmFnbWVudCddOwp9CgpyZXR1cm4gJHRoaXMtPmdlbmVyYXRlKCRiYXNlQ29tcG9uZW50cyk7Cn0KCgoKCgoKCgoKCgpwdWJsaWMgc3RhdGljIGZ1bmN0aW9uIGNvbWJpbmVSZWxhdGl2ZVBhdGhXaXRoQmFzZVBhdGgoJHJlbGF0aXZlUGF0aCwgJGJhc2VQYXRoKQp7CiRyZWxhdGl2ZVBhdGggPSBzZWxmOjpub3JtYWxpemVQYXRoKCRyZWxhdGl2ZVBhdGgpOwppZiAoJHJlbGF0aXZlUGF0aCA9PSAnJykgewpyZXR1cm4gJGJhc2VQYXRoOwp9CmlmICgkcmVsYXRpdmVQYXRoWzBdID09ICcvJykgewpyZXR1cm4gJHJlbGF0aXZlUGF0aDsKfQoKJGJhc2VQYXRoU2VnbWVudHMgPSBleHBsb2RlKCcvJywgJGJhc2VQYXRoKTsKCnByZWdfbWF0Y2goJ3xeLz8oXC5cLi8oPzpcLi8pKikqfCcsICRyZWxhdGl2ZVBhdGgsICRtYXRjaCk7CiRudW1MZXZlbFVwID0gc3RybGVuKCRtYXRjaFswXSkgLzMgKyAxOwppZiAoJG51bUxldmVsVXAgPj0gY291bnQoJGJhc2VQYXRoU2VnbWVudHMpKSB7CnRocm93IG5ldyBVcmlSZXNvbHZlckV4Y2VwdGlvbihzcHJpbnRmKCJVbmFibGUgdG8gcmVzb2x2ZSBVUkkgJyVzJyBmcm9tIGJhc2UgJyVzJyIsICRyZWxhdGl2ZVBhdGgsICRiYXNlUGF0aCkpOwp9CgokYmFzZVBhdGhTZWdtZW50cyA9IGFycmF5X3NsaWNlKCRiYXNlUGF0aFNlZ21lbnRzLCAwLCAtJG51bUxldmVsVXApOwokcGF0aCA9IHByZWdfcmVwbGFjZSgnfF4vPyhcLlwuLyhcLi8pKikqfCcsICcnLCAkcmVsYXRpdmVQYXRoKTsKCnJldHVybiBpbXBsb2RlKCcvJywgJGJhc2VQYXRoU2VnbWVudHMpIC4gJy8nIC4gJHBhdGg7Cn0KCgoKCgoKCgpwcml2YXRlIHN0YXRpYyBmdW5jdGlvbiBub3JtYWxpemVQYXRoKCRwYXRoKQp7CiRwYXRoID0gcHJlZ19yZXBsYWNlKCd8KCg/PCFcLilcLi8pKnwnLCAnJywgJHBhdGgpOwokcGF0aCA9IHByZWdfcmVwbGFjZSgnfC8vfCcsICcvJywgJHBhdGgpOwoKcmV0dXJuICRwYXRoOwp9CgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBpc1ZhbGlkKCR1cmkpCnsKJGNvbXBvbmVudHMgPSAkdGhpcy0+cGFyc2UoJHVyaSk7CgpyZXR1cm4gIWVtcHR5KCRjb21wb25lbnRzKTsKfQp9Cjw/cGhwCgoKCgoKCgoKbmFtZXNwYWNlIEpzb25TY2hlbWFcVXJpOwoKdXNlIEpzb25TY2hlbWFcRXhjZXB0aW9uXEludmFsaWRTY2hlbWFNZWRpYVR5cGVFeGNlcHRpb247CnVzZSBKc29uU2NoZW1hXEV4Y2VwdGlvblxKc29uRGVjb2RpbmdFeGNlcHRpb247CnVzZSBKc29uU2NoZW1hXEV4Y2VwdGlvblxSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uOwp1c2UgSnNvblNjaGVtYVxVcmlcUmV0cmlldmVyc1xGaWxlR2V0Q29udGVudHM7CnVzZSBKc29uU2NoZW1hXFVyaVxSZXRyaWV2ZXJzXFVyaVJldHJpZXZlckludGVyZmFjZTsKdXNlIEpzb25TY2hlbWFcVXJpUmV0cmlldmVySW50ZXJmYWNlIGFzIEJhc2VVcmlSZXRyaWV2ZXJJbnRlcmZhY2U7CnVzZSBKc29uU2NoZW1hXFZhbGlkYXRvcjsKCgoKCgoKY2xhc3MgVXJpUmV0cmlldmVyIGltcGxlbWVudHMgQmFzZVVyaVJldHJpZXZlckludGVyZmFjZQp7CgoKCnByb3RlY3RlZCAkdHJhbnNsYXRpb25NYXAgPSBhcnJheSgKCid8Xmh0dHBzPzovL2pzb24tc2NoZW1hLm9yZy9kcmFmdC0oMFszNF0pL3NjaGVtYSM/fCcgPT4gJ3BhY2thZ2U6Ly9kaXN0L3NjaGVtYS9qc29uLXNjaGVtYS1kcmFmdC0kMS5qc29uJwopOwoKCgoKcHJvdGVjdGVkICRhbGxvd2VkSW52YWxpZENvbnRlbnRUeXBlRW5kcG9pbnRzID0gYXJyYXkoCidodHRwOi8vanNvbi1zY2hlbWEub3JnLycsCidodHRwczovL2pzb24tc2NoZW1hLm9yZy8nCik7CgoKCgpwcm90ZWN0ZWQgJHVyaVJldHJpZXZlciA9IG51bGw7CgoKCgoKCnByaXZhdGUgJHNjaGVtYUNhY2hlID0gYXJyYXkoKTsKCgoKCgoKcHVibGljIGZ1bmN0aW9uIGFkZEludmFsaWRDb250ZW50VHlwZUVuZHBvaW50KCRlbmRwb2ludCkKewokdGhpcy0+YWxsb3dlZEludmFsaWRDb250ZW50VHlwZUVuZHBvaW50c1tdID0gJGVuZHBvaW50Owp9CgoKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBjb25maXJtTWVkaWFUeXBlKCR1cmlSZXRyaWV2ZXIsICR1cmkpCnsKJGNvbnRlbnRUeXBlID0gJHVyaVJldHJpZXZlci0+Z2V0Q29udGVudFR5cGUoKTsKCmlmIChpc19udWxsKCRjb250ZW50VHlwZSkpIHsKCnJldHVybjsKfQoKaWYgKGluX2FycmF5KCRjb250ZW50VHlwZSwgYXJyYXkoVmFsaWRhdG9yOjpTQ0hFTUFfTUVESUFfVFlQRSwgJ2FwcGxpY2F0aW9uL2pzb24nKSkpIHsKcmV0dXJuOwp9Cgpmb3JlYWNoICgkdGhpcy0+YWxsb3dlZEludmFsaWRDb250ZW50VHlwZUVuZHBvaW50cyBhcyAkZW5kcG9pbnQpIHsKaWYgKHN0cnBvcygkdXJpLCAkZW5kcG9pbnQpID09PSAwKSB7CnJldHVybiB0cnVlOwp9Cn0KCnRocm93IG5ldyBJbnZhbGlkU2NoZW1hTWVkaWFUeXBlRXhjZXB0aW9uKHNwcmludGYoJ01lZGlhIHR5cGUgJXMgZXhwZWN0ZWQnLCBWYWxpZGF0b3I6OlNDSEVNQV9NRURJQV9UWVBFKSk7Cn0KCgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIGdldFVyaVJldHJpZXZlcigpCnsKaWYgKGlzX251bGwoJHRoaXMtPnVyaVJldHJpZXZlcikpIHsKJHRoaXMtPnNldFVyaVJldHJpZXZlcihuZXcgRmlsZUdldENvbnRlbnRzKCkpOwp9CgpyZXR1cm4gJHRoaXMtPnVyaVJldHJpZXZlcjsKfQoKCgoKCgoKCgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gcmVzb2x2ZVBvaW50ZXIoJGpzb25TY2hlbWEsICR1cmkpCnsKJHJlc29sdmVyID0gbmV3IFVyaVJlc29sdmVyKCk7CiRwYXJzZWQgPSAkcmVzb2x2ZXItPnBhcnNlKCR1cmkpOwppZiAoZW1wdHkoJHBhcnNlZFsnZnJhZ21lbnQnXSkpIHsKcmV0dXJuICRqc29uU2NoZW1hOwp9CgokcGF0aCA9IGV4cGxvZGUoJy8nLCAkcGFyc2VkWydmcmFnbWVudCddKTsKd2hpbGUgKCRwYXRoKSB7CiRwYXRoRWxlbWVudCA9IGFycmF5X3NoaWZ0KCRwYXRoKTsKaWYgKCFlbXB0eSgkcGF0aEVsZW1lbnQpKSB7CiRwYXRoRWxlbWVudCA9IHN0cl9yZXBsYWNlKCd+MScsICcvJywgJHBhdGhFbGVtZW50KTsKJHBhdGhFbGVtZW50ID0gc3RyX3JlcGxhY2UoJ34wJywgJ34nLCAkcGF0aEVsZW1lbnQpOwppZiAoIWVtcHR5KCRqc29uU2NoZW1hLT4kcGF0aEVsZW1lbnQpKSB7CiRqc29uU2NoZW1hID0gJGpzb25TY2hlbWEtPiRwYXRoRWxlbWVudDsKfSBlbHNlIHsKdGhyb3cgbmV3IFJlc291cmNlTm90Rm91bmRFeGNlcHRpb24oCidGcmFnbWVudCAiJyAuICRwYXJzZWRbJ2ZyYWdtZW50J10gLiAnIiBub3QgZm91bmQnCi4gJyBpbiAnIC4gJHVyaQopOwp9CgppZiAoIWlzX29iamVjdCgkanNvblNjaGVtYSkpIHsKdGhyb3cgbmV3IFJlc291cmNlTm90Rm91bmRFeGNlcHRpb24oCidGcmFnbWVudCBwYXJ0ICInIC4gJHBhdGhFbGVtZW50IC4gJyIgaXMgbm8gb2JqZWN0ICcKLiAnIGluICcgLiAkdXJpCik7Cn0KfQp9CgpyZXR1cm4gJGpzb25TY2hlbWE7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiByZXRyaWV2ZSgkdXJpLCAkYmFzZVVyaSA9IG51bGwsICR0cmFuc2xhdGUgPSB0cnVlKQp7CiRyZXNvbHZlciA9IG5ldyBVcmlSZXNvbHZlcigpOwokcmVzb2x2ZWRVcmkgPSAkZmV0Y2hVcmkgPSAkcmVzb2x2ZXItPnJlc29sdmUoJHVyaSwgJGJhc2VVcmkpOwoKCiRhclBhcnRzID0gJHJlc29sdmVyLT5wYXJzZSgkcmVzb2x2ZWRVcmkpOwppZiAoaXNzZXQoJGFyUGFydHNbJ2ZyYWdtZW50J10pKSB7CnVuc2V0KCRhclBhcnRzWydmcmFnbWVudCddKTsKJGZldGNoVXJpID0gJHJlc29sdmVyLT5nZW5lcmF0ZSgkYXJQYXJ0cyk7Cn0KCgppZiAoJHRyYW5zbGF0ZSkgewokZmV0Y2hVcmkgPSAkdGhpcy0+dHJhbnNsYXRlKCRmZXRjaFVyaSk7Cn0KCiRqc29uU2NoZW1hID0gJHRoaXMtPmxvYWRTY2hlbWEoJGZldGNoVXJpKTsKCgokanNvblNjaGVtYSA9ICR0aGlzLT5yZXNvbHZlUG9pbnRlcigkanNvblNjaGVtYSwgJHJlc29sdmVkVXJpKTsKCmlmICgkanNvblNjaGVtYSBpbnN0YW5jZW9mIFxzdGRDbGFzcykgewokanNvblNjaGVtYS0+aWQgPSAkcmVzb2x2ZWRVcmk7Cn0KCnJldHVybiAkanNvblNjaGVtYTsKfQoKCgoKCgoKCgpwcm90ZWN0ZWQgZnVuY3Rpb24gbG9hZFNjaGVtYSgkZmV0Y2hVcmkpCnsKaWYgKGlzc2V0KCR0aGlzLT5zY2hlbWFDYWNoZVskZmV0Y2hVcmldKSkgewpyZXR1cm4gJHRoaXMtPnNjaGVtYUNhY2hlWyRmZXRjaFVyaV07Cn0KCiR1cmlSZXRyaWV2ZXIgPSAkdGhpcy0+Z2V0VXJpUmV0cmlldmVyKCk7CiRjb250ZW50cyA9ICR0aGlzLT51cmlSZXRyaWV2ZXItPnJldHJpZXZlKCRmZXRjaFVyaSk7CiR0aGlzLT5jb25maXJtTWVkaWFUeXBlKCR1cmlSZXRyaWV2ZXIsICRmZXRjaFVyaSk7CiRqc29uU2NoZW1hID0ganNvbl9kZWNvZGUoJGNvbnRlbnRzKTsKCmlmIChKU09OX0VSUk9SX05PTkUgPCAkZXJyb3IgPSBqc29uX2xhc3RfZXJyb3IoKSkgewp0aHJvdyBuZXcgSnNvbkRlY29kaW5nRXhjZXB0aW9uKCRlcnJvcik7Cn0KCiR0aGlzLT5zY2hlbWFDYWNoZVskZmV0Y2hVcmldID0gJGpzb25TY2hlbWE7CgpyZXR1cm4gJGpzb25TY2hlbWE7Cn0KCgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gc2V0VXJpUmV0cmlldmVyKFVyaVJldHJpZXZlckludGVyZmFjZSAkdXJpUmV0cmlldmVyKQp7CiR0aGlzLT51cmlSZXRyaWV2ZXIgPSAkdXJpUmV0cmlldmVyOwoKcmV0dXJuICR0aGlzOwp9CgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIHBhcnNlKCR1cmkpCnsKcHJlZ19tYXRjaCgnfF4oKFteOi8/I10rKTopPygvLyhbXi8/I10qKSk/KFtePyNdKikoXD8oW14jXSopKT8oIyguKikpP3wnLCAkdXJpLCAkbWF0Y2gpOwoKJGNvbXBvbmVudHMgPSBhcnJheSgpOwppZiAoNSA8IGNvdW50KCRtYXRjaCkpIHsKJGNvbXBvbmVudHMgPSBhcnJheSgKJ3NjaGVtZScgPT4gJG1hdGNoWzJdLAonYXV0aG9yaXR5JyA9PiAkbWF0Y2hbNF0sCidwYXRoJyA9PiAkbWF0Y2hbNV0KKTsKfQoKaWYgKDcgPCBjb3VudCgkbWF0Y2gpKSB7CiRjb21wb25lbnRzWydxdWVyeSddID0gJG1hdGNoWzddOwp9CgppZiAoOSA8IGNvdW50KCRtYXRjaCkpIHsKJGNvbXBvbmVudHNbJ2ZyYWdtZW50J10gPSAkbWF0Y2hbOV07Cn0KCnJldHVybiAkY29tcG9uZW50czsKfQoKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBnZW5lcmF0ZShhcnJheSAkY29tcG9uZW50cykKewokdXJpID0gJGNvbXBvbmVudHNbJ3NjaGVtZSddIC4gJzovLycKLiAkY29tcG9uZW50c1snYXV0aG9yaXR5J10KLiAkY29tcG9uZW50c1sncGF0aCddOwoKaWYgKGFycmF5X2tleV9leGlzdHMoJ3F1ZXJ5JywgJGNvbXBvbmVudHMpKSB7CiR1cmkgLj0gJGNvbXBvbmVudHNbJ3F1ZXJ5J107Cn0KCmlmIChhcnJheV9rZXlfZXhpc3RzKCdmcmFnbWVudCcsICRjb21wb25lbnRzKSkgewokdXJpIC49ICRjb21wb25lbnRzWydmcmFnbWVudCddOwp9CgpyZXR1cm4gJHVyaTsKfQoKCgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gcmVzb2x2ZSgkdXJpLCAkYmFzZVVyaSA9IG51bGwpCnsKJGNvbXBvbmVudHMgPSAkdGhpcy0+cGFyc2UoJHVyaSk7CiRwYXRoID0gJGNvbXBvbmVudHNbJ3BhdGgnXTsKCmlmICgoYXJyYXlfa2V5X2V4aXN0cygnc2NoZW1lJywgJGNvbXBvbmVudHMpKSAmJiAoJ2h0dHAnID09PSAkY29tcG9uZW50c1snc2NoZW1lJ10pKSB7CnJldHVybiAkdXJpOwp9CgokYmFzZUNvbXBvbmVudHMgPSAkdGhpcy0+cGFyc2UoJGJhc2VVcmkpOwokYmFzZVBhdGggPSAkYmFzZUNvbXBvbmVudHNbJ3BhdGgnXTsKCiRiYXNlQ29tcG9uZW50c1sncGF0aCddID0gVXJpUmVzb2x2ZXI6OmNvbWJpbmVSZWxhdGl2ZVBhdGhXaXRoQmFzZVBhdGgoJHBhdGgsICRiYXNlUGF0aCk7CgpyZXR1cm4gJHRoaXMtPmdlbmVyYXRlKCRiYXNlQ29tcG9uZW50cyk7Cn0KCgoKCgoKcHVibGljIGZ1bmN0aW9uIGlzVmFsaWQoJHVyaSkKewokY29tcG9uZW50cyA9ICR0aGlzLT5wYXJzZSgkdXJpKTsKCnJldHVybiAhZW1wdHkoJGNvbXBvbmVudHMpOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gc2V0VHJhbnNsYXRpb24oJGZyb20sICR0bykKewokdGhpcy0+dHJhbnNsYXRpb25NYXBbJGZyb21dID0gJHRvOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gdHJhbnNsYXRlKCR1cmkpCnsKZm9yZWFjaCAoJHRoaXMtPnRyYW5zbGF0aW9uTWFwIGFzICRmcm9tID0+ICR0bykgewokdXJpID0gcHJlZ19yZXBsYWNlKCRmcm9tLCAkdG8sICR1cmkpOwp9CgoKJHVyaSA9IHByZWdfcmVwbGFjZSgnfF5wYWNrYWdlOi8vfCcsIHNwcmludGYoJ2ZpbGU6Ly8lcy8nLCByZWFscGF0aChfX0RJUl9fIC4gJy8uLi8uLi8uLicpKSwgJHVyaSk7CgpyZXR1cm4gJHVyaTsKfQp9Cjw/cGhwCgoKCgoKCgoKbmFtZXNwYWNlIEpzb25TY2hlbWE7CgoKCgppbnRlcmZhY2UgVXJpUmVzb2x2ZXJJbnRlcmZhY2UKewoKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiByZXNvbHZlKCR1cmksICRiYXNlVXJpID0gbnVsbCk7Cn0KPD9waHAKCgoKCgoKCgpuYW1lc3BhY2UgSnNvblNjaGVtYTsKCgoKCmludGVyZmFjZSBVcmlSZXRyaWV2ZXJJbnRlcmZhY2UKewoKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiByZXRyaWV2ZSgkdXJpLCAkYmFzZVVyaSA9IG51bGwpOwp9Cjw/cGhwCgoKCgoKCgoKbmFtZXNwYWNlIEpzb25TY2hlbWE7Cgp1c2UgSnNvblNjaGVtYVxDb25zdHJhaW50c1xCYXNlQ29uc3RyYWludDsKdXNlIEpzb25TY2hlbWFcQ29uc3RyYWludHNcQ29uc3RyYWludDsKCgoKCgoKCgoKY2xhc3MgVmFsaWRhdG9yIGV4dGVuZHMgQmFzZUNvbnN0cmFpbnQKewpjb25zdCBTQ0hFTUFfTUVESUFfVFlQRSA9ICdhcHBsaWNhdGlvbi9zY2hlbWEranNvbic7Cgpjb25zdCBFUlJPUl9OT05FID0gMHgwMDAwMDAwMDsKY29uc3QgRVJST1JfQUxMID0gMHhGRkZGRkZGRjsKY29uc3QgRVJST1JfRE9DVU1FTlRfVkFMSURBVElPTiA9IDB4MDAwMDAwMDE7CmNvbnN0IEVSUk9SX1NDSEVNQV9WQUxJREFUSU9OID0gMHgwMDAwMDAwMjsKCgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gdmFsaWRhdGUoJiR2YWx1ZSwgJHNjaGVtYSA9IG51bGwsICRjaGVja01vZGUgPSBudWxsKQp7CgppZiAoaXNfYXJyYXkoJHNjaGVtYSkpIHsKJHNjaGVtYSA9IHNlbGY6OmFycmF5VG9PYmplY3RSZWN1cnNpdmUoJHNjaGVtYSk7Cn0KCgokaW5pdGlhbENoZWNrTW9kZSA9ICR0aGlzLT5mYWN0b3J5LT5nZXRDb25maWcoKTsKaWYgKCRjaGVja01vZGUgIT09IG51bGwpIHsKJHRoaXMtPmZhY3RvcnktPnNldENvbmZpZygkY2hlY2tNb2RlKTsKfQoKCmlmIChpc19vYmplY3QoJHNjaGVtYSkgJiYgcHJvcGVydHlfZXhpc3RzKCRzY2hlbWEsICdpZCcpKSB7CiRzY2hlbWFVUkkgPSAkc2NoZW1hLT5pZDsKfSBlbHNlIHsKJHNjaGVtYVVSSSA9IFNjaGVtYVN0b3JhZ2U6OklOVEVSTkFMX1BST1ZJREVEX1NDSEVNQV9VUkk7Cn0KJHRoaXMtPmZhY3RvcnktPmdldFNjaGVtYVN0b3JhZ2UoKS0+YWRkU2NoZW1hKCRzY2hlbWFVUkksICRzY2hlbWEpOwoKJHZhbGlkYXRvciA9ICR0aGlzLT5mYWN0b3J5LT5jcmVhdGVJbnN0YW5jZUZvcignc2NoZW1hJyk7CiR2YWxpZGF0b3ItPmNoZWNrKAokdmFsdWUsCiR0aGlzLT5mYWN0b3J5LT5nZXRTY2hlbWFTdG9yYWdlKCktPmdldFNjaGVtYSgkc2NoZW1hVVJJKQopOwoKJHRoaXMtPmZhY3RvcnktPnNldENvbmZpZygkaW5pdGlhbENoZWNrTW9kZSk7CgokdGhpcy0+YWRkRXJyb3JzKGFycmF5X3VuaXF1ZSgkdmFsaWRhdG9yLT5nZXRFcnJvcnMoKSwgU09SVF9SRUdVTEFSKSk7CgpyZXR1cm4gJHZhbGlkYXRvci0+Z2V0RXJyb3JNYXNrKCk7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBjaGVjaygkdmFsdWUsICRzY2hlbWEpCnsKcmV0dXJuICR0aGlzLT52YWxpZGF0ZSgkdmFsdWUsICRzY2hlbWEpOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gY29lcmNlKCYkdmFsdWUsICRzY2hlbWEpCnsKcmV0dXJuICR0aGlzLT52YWxpZGF0ZSgkdmFsdWUsICRzY2hlbWEsIENvbnN0cmFpbnQ6OkNIRUNLX01PREVfQ09FUkNFX1RZUEVTKTsKfQp9CgpDb3B5cmlnaHQgKGMpIDIwMTIgUEhQIEZyYW1ld29yayBJbnRlcm9wZXJhYmlsaXR5IEdyb3VwCgpQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYSBjb3B5IApvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZSAiU29mdHdhcmUiKSwgdG8gZGVhbAppbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzIAp0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsIApjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMgCmZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6CgpUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZCBpbiAKYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuCgpUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgIkFTIElTIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTUyBPUgpJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSwKRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFCkFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVIKTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSwKT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTgpUSEUgU09GVFdBUkUuCgo8P3BocAoKbmFtZXNwYWNlIFBzclxMb2c7CgoKCgoKCgoKYWJzdHJhY3QgY2xhc3MgQWJzdHJhY3RMb2dnZXIgaW1wbGVtZW50cyBMb2dnZXJJbnRlcmZhY2UKewoKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBlbWVyZ2VuY3koJG1lc3NhZ2UsIGFycmF5ICRjb250ZXh0ID0gYXJyYXkoKSkKewokdGhpcy0+bG9nKExvZ0xldmVsOjpFTUVSR0VOQ1ksICRtZXNzYWdlLCAkY29udGV4dCk7Cn0KCgoKCgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIGFsZXJ0KCRtZXNzYWdlLCBhcnJheSAkY29udGV4dCA9IGFycmF5KCkpCnsKJHRoaXMtPmxvZyhMb2dMZXZlbDo6QUxFUlQsICRtZXNzYWdlLCAkY29udGV4dCk7Cn0KCgoKCgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gY3JpdGljYWwoJG1lc3NhZ2UsIGFycmF5ICRjb250ZXh0ID0gYXJyYXkoKSkKewokdGhpcy0+bG9nKExvZ0xldmVsOjpDUklUSUNBTCwgJG1lc3NhZ2UsICRjb250ZXh0KTsKfQoKCgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIGVycm9yKCRtZXNzYWdlLCBhcnJheSAkY29udGV4dCA9IGFycmF5KCkpCnsKJHRoaXMtPmxvZyhMb2dMZXZlbDo6RVJST1IsICRtZXNzYWdlLCAkY29udGV4dCk7Cn0KCgoKCgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIHdhcm5pbmcoJG1lc3NhZ2UsIGFycmF5ICRjb250ZXh0ID0gYXJyYXkoKSkKewokdGhpcy0+bG9nKExvZ0xldmVsOjpXQVJOSU5HLCAkbWVzc2FnZSwgJGNvbnRleHQpOwp9CgoKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBub3RpY2UoJG1lc3NhZ2UsIGFycmF5ICRjb250ZXh0ID0gYXJyYXkoKSkKewokdGhpcy0+bG9nKExvZ0xldmVsOjpOT1RJQ0UsICRtZXNzYWdlLCAkY29udGV4dCk7Cn0KCgoKCgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gaW5mbygkbWVzc2FnZSwgYXJyYXkgJGNvbnRleHQgPSBhcnJheSgpKQp7CiR0aGlzLT5sb2coTG9nTGV2ZWw6OklORk8sICRtZXNzYWdlLCAkY29udGV4dCk7Cn0KCgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIGRlYnVnKCRtZXNzYWdlLCBhcnJheSAkY29udGV4dCA9IGFycmF5KCkpCnsKJHRoaXMtPmxvZyhMb2dMZXZlbDo6REVCVUcsICRtZXNzYWdlLCAkY29udGV4dCk7Cn0KfQo8P3BocAoKbmFtZXNwYWNlIFBzclxMb2c7CgpjbGFzcyBJbnZhbGlkQXJndW1lbnRFeGNlcHRpb24gZXh0ZW5kcyBcSW52YWxpZEFyZ3VtZW50RXhjZXB0aW9uCnsKfQo8P3BocAoKbmFtZXNwYWNlIFBzclxMb2c7CgoKCgpjbGFzcyBMb2dMZXZlbAp7CmNvbnN0IEVNRVJHRU5DWSA9ICdlbWVyZ2VuY3knOwpjb25zdCBBTEVSVCA9ICdhbGVydCc7CmNvbnN0IENSSVRJQ0FMID0gJ2NyaXRpY2FsJzsKY29uc3QgRVJST1IgPSAnZXJyb3InOwpjb25zdCBXQVJOSU5HID0gJ3dhcm5pbmcnOwpjb25zdCBOT1RJQ0UgPSAnbm90aWNlJzsKY29uc3QgSU5GTyA9ICdpbmZvJzsKY29uc3QgREVCVUcgPSAnZGVidWcnOwp9Cjw/cGhwCgpuYW1lc3BhY2UgUHNyXExvZzsKCgoKCmludGVyZmFjZSBMb2dnZXJBd2FyZUludGVyZmFjZQp7CgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gc2V0TG9nZ2VyKExvZ2dlckludGVyZmFjZSAkbG9nZ2VyKTsKfQo8P3BocAoKbmFtZXNwYWNlIFBzclxMb2c7CgoKCgp0cmFpdCBMb2dnZXJBd2FyZVRyYWl0CnsKCgoKCgpwcm90ZWN0ZWQgJGxvZ2dlcjsKCgoKCgoKcHVibGljIGZ1bmN0aW9uIHNldExvZ2dlcihMb2dnZXJJbnRlcmZhY2UgJGxvZ2dlcikKewokdGhpcy0+bG9nZ2VyID0gJGxvZ2dlcjsKfQp9Cjw/cGhwCgpuYW1lc3BhY2UgUHNyXExvZzsKCgoKCgoKCgoKCgoKCgoKCmludGVyZmFjZSBMb2dnZXJJbnRlcmZhY2UKewoKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBlbWVyZ2VuY3koJG1lc3NhZ2UsIGFycmF5ICRjb250ZXh0ID0gYXJyYXkoKSk7CgoKCgoKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBhbGVydCgkbWVzc2FnZSwgYXJyYXkgJGNvbnRleHQgPSBhcnJheSgpKTsKCgoKCgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gY3JpdGljYWwoJG1lc3NhZ2UsIGFycmF5ICRjb250ZXh0ID0gYXJyYXkoKSk7CgoKCgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gZXJyb3IoJG1lc3NhZ2UsIGFycmF5ICRjb250ZXh0ID0gYXJyYXkoKSk7CgoKCgoKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiB3YXJuaW5nKCRtZXNzYWdlLCBhcnJheSAkY29udGV4dCA9IGFycmF5KCkpOwoKCgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gbm90aWNlKCRtZXNzYWdlLCBhcnJheSAkY29udGV4dCA9IGFycmF5KCkpOwoKCgoKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBpbmZvKCRtZXNzYWdlLCBhcnJheSAkY29udGV4dCA9IGFycmF5KCkpOwoKCgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gZGVidWcoJG1lc3NhZ2UsIGFycmF5ICRjb250ZXh0ID0gYXJyYXkoKSk7CgoKCgoKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBsb2coJGxldmVsLCAkbWVzc2FnZSwgYXJyYXkgJGNvbnRleHQgPSBhcnJheSgpKTsKfQo8P3BocAoKbmFtZXNwYWNlIFBzclxMb2c7CgoKCgoKCgoKCnRyYWl0IExvZ2dlclRyYWl0CnsKCgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gZW1lcmdlbmN5KCRtZXNzYWdlLCBhcnJheSAkY29udGV4dCA9IGFycmF5KCkpCnsKJHRoaXMtPmxvZyhMb2dMZXZlbDo6RU1FUkdFTkNZLCAkbWVzc2FnZSwgJGNvbnRleHQpOwp9CgoKCgoKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBhbGVydCgkbWVzc2FnZSwgYXJyYXkgJGNvbnRleHQgPSBhcnJheSgpKQp7CiR0aGlzLT5sb2coTG9nTGV2ZWw6OkFMRVJULCAkbWVzc2FnZSwgJGNvbnRleHQpOwp9CgoKCgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIGNyaXRpY2FsKCRtZXNzYWdlLCBhcnJheSAkY29udGV4dCA9IGFycmF5KCkpCnsKJHRoaXMtPmxvZyhMb2dMZXZlbDo6Q1JJVElDQUwsICRtZXNzYWdlLCAkY29udGV4dCk7Cn0KCgoKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBlcnJvcigkbWVzc2FnZSwgYXJyYXkgJGNvbnRleHQgPSBhcnJheSgpKQp7CiR0aGlzLT5sb2coTG9nTGV2ZWw6OkVSUk9SLCAkbWVzc2FnZSwgJGNvbnRleHQpOwp9CgoKCgoKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiB3YXJuaW5nKCRtZXNzYWdlLCBhcnJheSAkY29udGV4dCA9IGFycmF5KCkpCnsKJHRoaXMtPmxvZyhMb2dMZXZlbDo6V0FSTklORywgJG1lc3NhZ2UsICRjb250ZXh0KTsKfQoKCgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gbm90aWNlKCRtZXNzYWdlLCBhcnJheSAkY29udGV4dCA9IGFycmF5KCkpCnsKJHRoaXMtPmxvZyhMb2dMZXZlbDo6Tk9USUNFLCAkbWVzc2FnZSwgJGNvbnRleHQpOwp9CgoKCgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIGluZm8oJG1lc3NhZ2UsIGFycmF5ICRjb250ZXh0ID0gYXJyYXkoKSkKewokdGhpcy0+bG9nKExvZ0xldmVsOjpJTkZPLCAkbWVzc2FnZSwgJGNvbnRleHQpOwp9CgoKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBkZWJ1ZygkbWVzc2FnZSwgYXJyYXkgJGNvbnRleHQgPSBhcnJheSgpKQp7CiR0aGlzLT5sb2coTG9nTGV2ZWw6OkRFQlVHLCAkbWVzc2FnZSwgJGNvbnRleHQpOwp9CgoKCgoKCgoKCgoKCmFic3RyYWN0IHB1YmxpYyBmdW5jdGlvbiBsb2coJGxldmVsLCAkbWVzc2FnZSwgYXJyYXkgJGNvbnRleHQgPSBhcnJheSgpKTsKfQo8P3BocAoKbmFtZXNwYWNlIFBzclxMb2c7CgoKCgoKCgoKCmNsYXNzIE51bGxMb2dnZXIgZXh0ZW5kcyBBYnN0cmFjdExvZ2dlcgp7CgoKCgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIGxvZygkbGV2ZWwsICRtZXNzYWdlLCBhcnJheSAkY29udGV4dCA9IGFycmF5KCkpCnsKCn0KfQo8P3BocAoKbmFtZXNwYWNlIFBzclxMb2dcVGVzdDsKCgoKCgoKCgpjbGFzcyBEdW1teVRlc3QKewpwdWJsaWMgZnVuY3Rpb24gX190b1N0cmluZygpCnsKcmV0dXJuICdEdW1teVRlc3QnOwp9Cn0KPD9waHAKCm5hbWVzcGFjZSBQc3JcTG9nXFRlc3Q7Cgp1c2UgUHNyXExvZ1xMb2dnZXJJbnRlcmZhY2U7CnVzZSBQc3JcTG9nXExvZ0xldmVsOwp1c2UgUEhQVW5pdFxGcmFtZXdvcmtcVGVzdENhc2U7CgoKCgoKCgphYnN0cmFjdCBjbGFzcyBMb2dnZXJJbnRlcmZhY2VUZXN0IGV4dGVuZHMgVGVzdENhc2UKewoKCgphYnN0cmFjdCBwdWJsaWMgZnVuY3Rpb24gZ2V0TG9nZ2VyKCk7CgoKCgoKCgoKCgphYnN0cmFjdCBwdWJsaWMgZnVuY3Rpb24gZ2V0TG9ncygpOwoKcHVibGljIGZ1bmN0aW9uIHRlc3RJbXBsZW1lbnRzKCkKewokdGhpcy0+YXNzZXJ0SW5zdGFuY2VPZignUHNyXExvZ1xMb2dnZXJJbnRlcmZhY2UnLCAkdGhpcy0+Z2V0TG9nZ2VyKCkpOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gdGVzdExvZ3NBdEFsbExldmVscygkbGV2ZWwsICRtZXNzYWdlKQp7CiRsb2dnZXIgPSAkdGhpcy0+Z2V0TG9nZ2VyKCk7CiRsb2dnZXItPnskbGV2ZWx9KCRtZXNzYWdlLCBhcnJheSgndXNlcicgPT4gJ0JvYicpKTsKJGxvZ2dlci0+bG9nKCRsZXZlbCwgJG1lc3NhZ2UsIGFycmF5KCd1c2VyJyA9PiAnQm9iJykpOwoKJGV4cGVjdGVkID0gYXJyYXkoCiRsZXZlbC4nIG1lc3NhZ2Ugb2YgbGV2ZWwgJy4kbGV2ZWwuJyB3aXRoIGNvbnRleHQ6IEJvYicsCiRsZXZlbC4nIG1lc3NhZ2Ugb2YgbGV2ZWwgJy4kbGV2ZWwuJyB3aXRoIGNvbnRleHQ6IEJvYicsCik7CiR0aGlzLT5hc3NlcnRFcXVhbHMoJGV4cGVjdGVkLCAkdGhpcy0+Z2V0TG9ncygpKTsKfQoKcHVibGljIGZ1bmN0aW9uIHByb3ZpZGVMZXZlbHNBbmRNZXNzYWdlcygpCnsKcmV0dXJuIGFycmF5KApMb2dMZXZlbDo6RU1FUkdFTkNZID0+IGFycmF5KExvZ0xldmVsOjpFTUVSR0VOQ1ksICdtZXNzYWdlIG9mIGxldmVsIGVtZXJnZW5jeSB3aXRoIGNvbnRleHQ6IHt1c2VyfScpLApMb2dMZXZlbDo6QUxFUlQgPT4gYXJyYXkoTG9nTGV2ZWw6OkFMRVJULCAnbWVzc2FnZSBvZiBsZXZlbCBhbGVydCB3aXRoIGNvbnRleHQ6IHt1c2VyfScpLApMb2dMZXZlbDo6Q1JJVElDQUwgPT4gYXJyYXkoTG9nTGV2ZWw6OkNSSVRJQ0FMLCAnbWVzc2FnZSBvZiBsZXZlbCBjcml0aWNhbCB3aXRoIGNvbnRleHQ6IHt1c2VyfScpLApMb2dMZXZlbDo6RVJST1IgPT4gYXJyYXkoTG9nTGV2ZWw6OkVSUk9SLCAnbWVzc2FnZSBvZiBsZXZlbCBlcnJvciB3aXRoIGNvbnRleHQ6IHt1c2VyfScpLApMb2dMZXZlbDo6V0FSTklORyA9PiBhcnJheShMb2dMZXZlbDo6V0FSTklORywgJ21lc3NhZ2Ugb2YgbGV2ZWwgd2FybmluZyB3aXRoIGNvbnRleHQ6IHt1c2VyfScpLApMb2dMZXZlbDo6Tk9USUNFID0+IGFycmF5KExvZ0xldmVsOjpOT1RJQ0UsICdtZXNzYWdlIG9mIGxldmVsIG5vdGljZSB3aXRoIGNvbnRleHQ6IHt1c2VyfScpLApMb2dMZXZlbDo6SU5GTyA9PiBhcnJheShMb2dMZXZlbDo6SU5GTywgJ21lc3NhZ2Ugb2YgbGV2ZWwgaW5mbyB3aXRoIGNvbnRleHQ6IHt1c2VyfScpLApMb2dMZXZlbDo6REVCVUcgPT4gYXJyYXkoTG9nTGV2ZWw6OkRFQlVHLCAnbWVzc2FnZSBvZiBsZXZlbCBkZWJ1ZyB3aXRoIGNvbnRleHQ6IHt1c2VyfScpLAopOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gdGVzdFRocm93c09uSW52YWxpZExldmVsKCkKewokbG9nZ2VyID0gJHRoaXMtPmdldExvZ2dlcigpOwokbG9nZ2VyLT5sb2coJ2ludmFsaWQgbGV2ZWwnLCAnRm9vJyk7Cn0KCnB1YmxpYyBmdW5jdGlvbiB0ZXN0Q29udGV4dFJlcGxhY2VtZW50KCkKewokbG9nZ2VyID0gJHRoaXMtPmdldExvZ2dlcigpOwokbG9nZ2VyLT5pbmZvKCd7TWVzc2FnZSB7bm90aGluZ30ge3VzZXJ9IHtmb28uYmFyfSBhfScsIGFycmF5KCd1c2VyJyA9PiAnQm9iJywgJ2Zvby5iYXInID0+ICdCYXInKSk7CgokZXhwZWN0ZWQgPSBhcnJheSgnaW5mbyB7TWVzc2FnZSB7bm90aGluZ30gQm9iIEJhciBhfScpOwokdGhpcy0+YXNzZXJ0RXF1YWxzKCRleHBlY3RlZCwgJHRoaXMtPmdldExvZ3MoKSk7Cn0KCnB1YmxpYyBmdW5jdGlvbiB0ZXN0T2JqZWN0Q2FzdFRvU3RyaW5nKCkKewppZiAobWV0aG9kX2V4aXN0cygkdGhpcywgJ2NyZWF0ZVBhcnRpYWxNb2NrJykpIHsKJGR1bW15ID0gJHRoaXMtPmNyZWF0ZVBhcnRpYWxNb2NrKCdQc3JcTG9nXFRlc3RcRHVtbXlUZXN0JywgYXJyYXkoJ19fdG9TdHJpbmcnKSk7Cn0gZWxzZSB7CiRkdW1teSA9ICR0aGlzLT5nZXRNb2NrKCdQc3JcTG9nXFRlc3RcRHVtbXlUZXN0JywgYXJyYXkoJ19fdG9TdHJpbmcnKSk7Cn0KJGR1bW15LT5leHBlY3RzKCR0aGlzLT5vbmNlKCkpCi0+bWV0aG9kKCdfX3RvU3RyaW5nJykKLT53aWxsKCR0aGlzLT5yZXR1cm5WYWx1ZSgnRFVNTVknKSk7CgokdGhpcy0+Z2V0TG9nZ2VyKCktPndhcm5pbmcoJGR1bW15KTsKCiRleHBlY3RlZCA9IGFycmF5KCd3YXJuaW5nIERVTU1ZJyk7CiR0aGlzLT5hc3NlcnRFcXVhbHMoJGV4cGVjdGVkLCAkdGhpcy0+Z2V0TG9ncygpKTsKfQoKcHVibGljIGZ1bmN0aW9uIHRlc3RDb250ZXh0Q2FuQ29udGFpbkFueXRoaW5nKCkKewokY2xvc2VkID0gZm9wZW4oJ3BocDovL21lbW9yeScsICdyJyk7CmZjbG9zZSgkY2xvc2VkKTsKCiRjb250ZXh0ID0gYXJyYXkoCidib29sJyA9PiB0cnVlLAonbnVsbCcgPT4gbnVsbCwKJ3N0cmluZycgPT4gJ0ZvbycsCidpbnQnID0+IDAsCidmbG9hdCcgPT4gMC41LAonbmVzdGVkJyA9PiBhcnJheSgnd2l0aCBvYmplY3QnID0+IG5ldyBEdW1teVRlc3QpLAonb2JqZWN0JyA9PiBuZXcgXERhdGVUaW1lLAoncmVzb3VyY2UnID0+IGZvcGVuKCdwaHA6Ly9tZW1vcnknLCAncicpLAonY2xvc2VkJyA9PiAkY2xvc2VkLAopOwoKJHRoaXMtPmdldExvZ2dlcigpLT53YXJuaW5nKCdDcmF6eSBjb250ZXh0IGRhdGEnLCAkY29udGV4dCk7CgokZXhwZWN0ZWQgPSBhcnJheSgnd2FybmluZyBDcmF6eSBjb250ZXh0IGRhdGEnKTsKJHRoaXMtPmFzc2VydEVxdWFscygkZXhwZWN0ZWQsICR0aGlzLT5nZXRMb2dzKCkpOwp9CgpwdWJsaWMgZnVuY3Rpb24gdGVzdENvbnRleHRFeGNlcHRpb25LZXlDYW5CZUV4Y2VwdGlvbk9yT3RoZXJWYWx1ZXMoKQp7CiRsb2dnZXIgPSAkdGhpcy0+Z2V0TG9nZ2VyKCk7CiRsb2dnZXItPndhcm5pbmcoJ1JhbmRvbSBtZXNzYWdlJywgYXJyYXkoJ2V4Y2VwdGlvbicgPT4gJ29vcHMnKSk7CiRsb2dnZXItPmNyaXRpY2FsKCdVbmNhdWdodCBFeGNlcHRpb24hJywgYXJyYXkoJ2V4Y2VwdGlvbicgPT4gbmV3IFxMb2dpY0V4Y2VwdGlvbignRmFpbCcpKSk7CgokZXhwZWN0ZWQgPSBhcnJheSgKJ3dhcm5pbmcgUmFuZG9tIG1lc3NhZ2UnLAonY3JpdGljYWwgVW5jYXVnaHQgRXhjZXB0aW9uIScKKTsKJHRoaXMtPmFzc2VydEVxdWFscygkZXhwZWN0ZWQsICR0aGlzLT5nZXRMb2dzKCkpOwp9Cn0KPD9waHAKCm5hbWVzcGFjZSBQc3JcTG9nXFRlc3Q7Cgp1c2UgUHNyXExvZ1xBYnN0cmFjdExvZ2dlcjsKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKY2xhc3MgVGVzdExvZ2dlciBleHRlbmRzIEFic3RyYWN0TG9nZ2VyCnsKCgoKcHVibGljICRyZWNvcmRzID0gW107CgpwdWJsaWMgJHJlY29yZHNCeUxldmVsID0gW107CgoKCgpwdWJsaWMgZnVuY3Rpb24gbG9nKCRsZXZlbCwgJG1lc3NhZ2UsIGFycmF5ICRjb250ZXh0ID0gW10pCnsKJHJlY29yZCA9IFsKJ2xldmVsJyA9PiAkbGV2ZWwsCidtZXNzYWdlJyA9PiAkbWVzc2FnZSwKJ2NvbnRleHQnID0+ICRjb250ZXh0LApdOwoKJHRoaXMtPnJlY29yZHNCeUxldmVsWyRyZWNvcmRbJ2xldmVsJ11dW10gPSAkcmVjb3JkOwokdGhpcy0+cmVjb3Jkc1tdID0gJHJlY29yZDsKfQoKcHVibGljIGZ1bmN0aW9uIGhhc1JlY29yZHMoJGxldmVsKQp7CnJldHVybiBpc3NldCgkdGhpcy0+cmVjb3Jkc0J5TGV2ZWxbJGxldmVsXSk7Cn0KCnB1YmxpYyBmdW5jdGlvbiBoYXNSZWNvcmQoJHJlY29yZCwgJGxldmVsKQp7CmlmIChpc19zdHJpbmcoJHJlY29yZCkpIHsKJHJlY29yZCA9IFsnbWVzc2FnZScgPT4gJHJlY29yZF07Cn0KcmV0dXJuICR0aGlzLT5oYXNSZWNvcmRUaGF0UGFzc2VzKGZ1bmN0aW9uICgkcmVjKSB1c2UgKCRyZWNvcmQpIHsKaWYgKCRyZWNbJ21lc3NhZ2UnXSAhPT0gJHJlY29yZFsnbWVzc2FnZSddKSB7CnJldHVybiBmYWxzZTsKfQppZiAoaXNzZXQoJHJlY29yZFsnY29udGV4dCddKSAmJiAkcmVjWydjb250ZXh0J10gIT09ICRyZWNvcmRbJ2NvbnRleHQnXSkgewpyZXR1cm4gZmFsc2U7Cn0KcmV0dXJuIHRydWU7Cn0sICRsZXZlbCk7Cn0KCnB1YmxpYyBmdW5jdGlvbiBoYXNSZWNvcmRUaGF0Q29udGFpbnMoJG1lc3NhZ2UsICRsZXZlbCkKewpyZXR1cm4gJHRoaXMtPmhhc1JlY29yZFRoYXRQYXNzZXMoZnVuY3Rpb24gKCRyZWMpIHVzZSAoJG1lc3NhZ2UpIHsKcmV0dXJuIHN0cnBvcygkcmVjWydtZXNzYWdlJ10sICRtZXNzYWdlKSAhPT0gZmFsc2U7Cn0sICRsZXZlbCk7Cn0KCnB1YmxpYyBmdW5jdGlvbiBoYXNSZWNvcmRUaGF0TWF0Y2hlcygkcmVnZXgsICRsZXZlbCkKewpyZXR1cm4gJHRoaXMtPmhhc1JlY29yZFRoYXRQYXNzZXMoZnVuY3Rpb24gKCRyZWMpIHVzZSAoJHJlZ2V4KSB7CnJldHVybiBwcmVnX21hdGNoKCRyZWdleCwgJHJlY1snbWVzc2FnZSddKSA+IDA7Cn0sICRsZXZlbCk7Cn0KCnB1YmxpYyBmdW5jdGlvbiBoYXNSZWNvcmRUaGF0UGFzc2VzKGNhbGxhYmxlICRwcmVkaWNhdGUsICRsZXZlbCkKewppZiAoIWlzc2V0KCR0aGlzLT5yZWNvcmRzQnlMZXZlbFskbGV2ZWxdKSkgewpyZXR1cm4gZmFsc2U7Cn0KZm9yZWFjaCAoJHRoaXMtPnJlY29yZHNCeUxldmVsWyRsZXZlbF0gYXMgJGkgPT4gJHJlYykgewppZiAoY2FsbF91c2VyX2Z1bmMoJHByZWRpY2F0ZSwgJHJlYywgJGkpKSB7CnJldHVybiB0cnVlOwp9Cn0KcmV0dXJuIGZhbHNlOwp9CgpwdWJsaWMgZnVuY3Rpb24gX19jYWxsKCRtZXRob2QsICRhcmdzKQp7CmlmIChwcmVnX21hdGNoKCcvKC4qKShEZWJ1Z3xJbmZvfE5vdGljZXxXYXJuaW5nfEVycm9yfENyaXRpY2FsfEFsZXJ0fEVtZXJnZW5jeSkoLiopLycsICRtZXRob2QsICRtYXRjaGVzKSA+IDApIHsKJGdlbmVyaWNNZXRob2QgPSAkbWF0Y2hlc1sxXSAuICgnUmVjb3JkcycgIT09ICRtYXRjaGVzWzNdID8gJ1JlY29yZCcgOiAnJykgLiAkbWF0Y2hlc1szXTsKJGxldmVsID0gc3RydG9sb3dlcigkbWF0Y2hlc1syXSk7CmlmIChtZXRob2RfZXhpc3RzKCR0aGlzLCAkZ2VuZXJpY01ldGhvZCkpIHsKJGFyZ3NbXSA9ICRsZXZlbDsKcmV0dXJuIGNhbGxfdXNlcl9mdW5jX2FycmF5KFskdGhpcywgJGdlbmVyaWNNZXRob2RdLCAkYXJncyk7Cn0KfQp0aHJvdyBuZXcgXEJhZE1ldGhvZENhbGxFeGNlcHRpb24oJ0NhbGwgdG8gdW5kZWZpbmVkIG1ldGhvZCAnIC4gZ2V0X2NsYXNzKCR0aGlzKSAuICc6OicgLiAkbWV0aG9kIC4gJygpJyk7Cn0KCnB1YmxpYyBmdW5jdGlvbiByZXNldCgpCnsKJHRoaXMtPnJlY29yZHMgPSBbXTsKJHRoaXMtPnJlY29yZHNCeUxldmVsID0gW107Cn0KfQoKQ29weXJpZ2h0IChjKSAyMDEyLTIwMTYgSmFuIFNvcmdhbGxhCgpQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbgpvYnRhaW5pbmcgYSBjb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbgpmaWxlcyAodGhlICJTb2Z0d2FyZSIpLCB0byBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0CnJlc3RyaWN0aW9uLCBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG8gdXNlLApjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbApjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUKU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcKY29uZGl0aW9uczoKClRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlCmluY2x1ZGVkIGluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLgoKVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEICJBUyBJUyIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsCkVYUFJFU1MgT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUwpPRiBNRVJDSEFOVEFCSUxJVFksIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORApOT05JTkZSSU5HRU1FTlQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1JTIE9SIENPUFlSSUdIVApIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSIExJQUJJTElUWSwKV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HCkZST00sIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IKT1RIRVIgREVBTElOR1MgSU4gVEhFIFNPRlRXQVJFLgoKPD9waHAKCm5hbWVzcGFjZSBSZWFjdFxQcm9taXNlOwoKaW50ZXJmYWNlIENhbmNlbGxhYmxlUHJvbWlzZUludGVyZmFjZSBleHRlbmRzIFByb21pc2VJbnRlcmZhY2UKewoKCgpwdWJsaWMgZnVuY3Rpb24gY2FuY2VsKCk7Cn0KPD9waHAKCm5hbWVzcGFjZSBSZWFjdFxQcm9taXNlOwoKY2xhc3MgRGVmZXJyZWQgaW1wbGVtZW50cyBQcm9taXNlSW50ZXJmYWNlLCBSZXNvbHZlckludGVyZmFjZSwgUHJvbWlzb3JJbnRlcmZhY2UsIENhbmNlbGxhYmxlUHJvbWlzZUludGVyZmFjZQp7CnByaXZhdGUgJGNvbXBsZXRlZDsKcHJpdmF0ZSAkcHJvbWlzZTsKcHJpdmF0ZSAkcmVzb2x2ZXI7CnByaXZhdGUgJGhhbmRsZXJzID0gYXJyYXkoKTsKcHJpdmF0ZSAkcHJvZ3Jlc3NIYW5kbGVycyA9IGFycmF5KCk7CnByaXZhdGUgJGNhbmNlbGxlcjsKCnByaXZhdGUgJHJlcXVpcmVkQ2FuY2VsUmVxdWVzdHMgPSAwOwpwcml2YXRlICRjYW5jZWxSZXF1ZXN0cyA9IDA7CgpwdWJsaWMgZnVuY3Rpb24gX19jb25zdHJ1Y3QoJGNhbmNlbGxlciA9IG51bGwpCnsKaWYgKCRjYW5jZWxsZXIgIT09IG51bGwgJiYgIWlzX2NhbGxhYmxlKCRjYW5jZWxsZXIpKSB7CnRocm93IG5ldyBcSW52YWxpZEFyZ3VtZW50RXhjZXB0aW9uKApzcHJpbnRmKAonVGhlIGNhbmNlbGxlciBhcmd1bWVudCBtdXN0IGJlIG51bGwgb3Igb2YgdHlwZSBjYWxsYWJsZSwgJXMgZ2l2ZW4uJywKZ2V0dHlwZSgkY2FuY2VsbGVyKQopCik7Cn0KCiR0aGlzLT5jYW5jZWxsZXIgPSAkY2FuY2VsbGVyOwp9CgpwdWJsaWMgZnVuY3Rpb24gdGhlbigkZnVsZmlsbGVkSGFuZGxlciA9IG51bGwsICRlcnJvckhhbmRsZXIgPSBudWxsLCAkcHJvZ3Jlc3NIYW5kbGVyID0gbnVsbCkKewppZiAobnVsbCAhPT0gJHRoaXMtPmNvbXBsZXRlZCkgewpyZXR1cm4gJHRoaXMtPmNvbXBsZXRlZC0+dGhlbigkZnVsZmlsbGVkSGFuZGxlciwgJGVycm9ySGFuZGxlciwgJHByb2dyZXNzSGFuZGxlcik7Cn0KCiRjYW5jZWxsZXIgPSBudWxsOwppZiAoJHRoaXMtPmNhbmNlbGxlciAhPT0gbnVsbCkgewokdGhpcy0+cmVxdWlyZWRDYW5jZWxSZXF1ZXN0cysrOwoKJHRoYXQgPSAkdGhpczsKJGN1cnJlbnQgPSYgJHRoaXMtPmNhbmNlbFJlcXVlc3RzOwokcmVxdWlyZWQgPSYgJHRoaXMtPnJlcXVpcmVkQ2FuY2VsUmVxdWVzdHM7CgokY2FuY2VsbGVyID0gZnVuY3Rpb24gKCkgdXNlICgkdGhhdCwgJiRjdXJyZW50LCAmJHJlcXVpcmVkKSB7CmlmICgrKyRjdXJyZW50IDwgJHJlcXVpcmVkKSB7CnJldHVybjsKfQoKJHRoYXQtPmNhbmNlbCgpOwp9Owp9CgokZGVmZXJyZWQgPSBuZXcgc3RhdGljKCRjYW5jZWxsZXIpOwoKaWYgKGlzX2NhbGxhYmxlKCRwcm9ncmVzc0hhbmRsZXIpKSB7CiRwcm9nSGFuZGxlciA9IGZ1bmN0aW9uICgkdXBkYXRlKSB1c2UgKCRkZWZlcnJlZCwgJHByb2dyZXNzSGFuZGxlcikgewp0cnkgewokZGVmZXJyZWQtPnByb2dyZXNzKGNhbGxfdXNlcl9mdW5jKCRwcm9ncmVzc0hhbmRsZXIsICR1cGRhdGUpKTsKfSBjYXRjaCAoXEV4Y2VwdGlvbiAkZSkgewokZGVmZXJyZWQtPnByb2dyZXNzKCRlKTsKfQp9Owp9IGVsc2UgewppZiAobnVsbCAhPT0gJHByb2dyZXNzSGFuZGxlcikgewp0cmlnZ2VyX2Vycm9yKCdJbnZhbGlkICRwcm9ncmVzc0hhbmRsZXIgYXJndW1lbnQgcGFzc2VkIHRvIHRoZW4oKSwgbXVzdCBiZSBudWxsIG9yIGNhbGxhYmxlLicsIEVfVVNFUl9OT1RJQ0UpOwp9CgokcHJvZ0hhbmRsZXIgPSBhcnJheSgkZGVmZXJyZWQsICdwcm9ncmVzcycpOwp9CgokdGhpcy0+aGFuZGxlcnNbXSA9IGZ1bmN0aW9uICgkcHJvbWlzZSkgdXNlICgkZnVsZmlsbGVkSGFuZGxlciwgJGVycm9ySGFuZGxlciwgJGRlZmVycmVkLCAkcHJvZ0hhbmRsZXIpIHsKJHByb21pc2UKLT50aGVuKCRmdWxmaWxsZWRIYW5kbGVyLCAkZXJyb3JIYW5kbGVyKQotPnRoZW4oCmFycmF5KCRkZWZlcnJlZCwgJ3Jlc29sdmUnKSwKYXJyYXkoJGRlZmVycmVkLCAncmVqZWN0JyksCiRwcm9nSGFuZGxlcgopOwp9OwoKJHRoaXMtPnByb2dyZXNzSGFuZGxlcnNbXSA9ICRwcm9nSGFuZGxlcjsKCnJldHVybiAkZGVmZXJyZWQtPnByb21pc2UoKTsKfQoKcHVibGljIGZ1bmN0aW9uIHJlc29sdmUoJHJlc3VsdCA9IG51bGwpCnsKaWYgKG51bGwgIT09ICR0aGlzLT5jb21wbGV0ZWQpIHsKcmV0dXJuIHJlc29sdmUoJHJlc3VsdCk7Cn0KCiR0aGlzLT5jb21wbGV0ZWQgPSByZXNvbHZlKCRyZXN1bHQpOwoKJHRoaXMtPnByb2Nlc3NRdWV1ZSgkdGhpcy0+aGFuZGxlcnMsICR0aGlzLT5jb21wbGV0ZWQpOwoKJHRoaXMtPnByb2dyZXNzSGFuZGxlcnMgPSAkdGhpcy0+aGFuZGxlcnMgPSBhcnJheSgpOwoKcmV0dXJuICR0aGlzLT5jb21wbGV0ZWQ7Cn0KCnB1YmxpYyBmdW5jdGlvbiByZWplY3QoJHJlYXNvbiA9IG51bGwpCnsKcmV0dXJuICR0aGlzLT5yZXNvbHZlKHJlamVjdCgkcmVhc29uKSk7Cn0KCnB1YmxpYyBmdW5jdGlvbiBwcm9ncmVzcygkdXBkYXRlID0gbnVsbCkKewppZiAobnVsbCAhPT0gJHRoaXMtPmNvbXBsZXRlZCkgewpyZXR1cm47Cn0KCiR0aGlzLT5wcm9jZXNzUXVldWUoJHRoaXMtPnByb2dyZXNzSGFuZGxlcnMsICR1cGRhdGUpOwp9CgpwdWJsaWMgZnVuY3Rpb24gcHJvbWlzZSgpCnsKaWYgKG51bGwgPT09ICR0aGlzLT5wcm9taXNlKSB7CiR0aGlzLT5wcm9taXNlID0gbmV3IERlZmVycmVkUHJvbWlzZSgkdGhpcyk7Cn0KCnJldHVybiAkdGhpcy0+cHJvbWlzZTsKfQoKcHVibGljIGZ1bmN0aW9uIHJlc29sdmVyKCkKewppZiAobnVsbCA9PT0gJHRoaXMtPnJlc29sdmVyKSB7CiR0aGlzLT5yZXNvbHZlciA9IG5ldyBEZWZlcnJlZFJlc29sdmVyKCR0aGlzKTsKfQoKcmV0dXJuICR0aGlzLT5yZXNvbHZlcjsKfQoKcHVibGljIGZ1bmN0aW9uIGNhbmNlbCgpCnsKaWYgKG51bGwgPT09ICR0aGlzLT5jYW5jZWxsZXIgfHwgbnVsbCAhPT0gJHRoaXMtPmNvbXBsZXRlZCkgewpyZXR1cm47Cn0KCiRjYW5jZWxsZXIgPSAkdGhpcy0+Y2FuY2VsbGVyOwokdGhpcy0+Y2FuY2VsbGVyID0gbnVsbDsKCnRyeSB7CiR0aGF0ID0gJHRoaXM7CgpjYWxsX3VzZXJfZnVuYygKJGNhbmNlbGxlciwKZnVuY3Rpb24gKCR2YWx1ZSA9IG51bGwpIHVzZSAoJHRoYXQpIHsKJHRoYXQtPnJlc29sdmUoJHZhbHVlKTsKfSwKZnVuY3Rpb24gKCRyZWFzb24gPSBudWxsKSB1c2UgKCR0aGF0KSB7CiR0aGF0LT5yZWplY3QoJHJlYXNvbik7Cn0sCmZ1bmN0aW9uICgkdXBkYXRlID0gbnVsbCkgdXNlICgkdGhhdCkgewokdGhhdC0+cHJvZ3Jlc3MoJHVwZGF0ZSk7Cn0KKTsKfSBjYXRjaCAoXEV4Y2VwdGlvbiAkZSkgewokdGhpcy0+cmVqZWN0KCRlKTsKfQp9Cgpwcm90ZWN0ZWQgZnVuY3Rpb24gcHJvY2Vzc1F1ZXVlKCRxdWV1ZSwgJHZhbHVlKQp7CmZvcmVhY2ggKCRxdWV1ZSBhcyAkaGFuZGxlcikgewpjYWxsX3VzZXJfZnVuYygkaGFuZGxlciwgJHZhbHVlKTsKfQp9Cn0KPD9waHAKCm5hbWVzcGFjZSBSZWFjdFxQcm9taXNlOwoKY2xhc3MgRGVmZXJyZWRQcm9taXNlIGltcGxlbWVudHMgUHJvbWlzZUludGVyZmFjZSwgQ2FuY2VsbGFibGVQcm9taXNlSW50ZXJmYWNlCnsKcHJpdmF0ZSAkZGVmZXJyZWQ7CgpwdWJsaWMgZnVuY3Rpb24gX19jb25zdHJ1Y3QoRGVmZXJyZWQgJGRlZmVycmVkKQp7CiR0aGlzLT5kZWZlcnJlZCA9ICRkZWZlcnJlZDsKfQoKcHVibGljIGZ1bmN0aW9uIHRoZW4oJGZ1bGZpbGxlZEhhbmRsZXIgPSBudWxsLCAkZXJyb3JIYW5kbGVyID0gbnVsbCwgJHByb2dyZXNzSGFuZGxlciA9IG51bGwpCnsKcmV0dXJuICR0aGlzLT5kZWZlcnJlZC0+dGhlbigkZnVsZmlsbGVkSGFuZGxlciwgJGVycm9ySGFuZGxlciwgJHByb2dyZXNzSGFuZGxlcik7Cn0KCnB1YmxpYyBmdW5jdGlvbiBjYW5jZWwoKQp7CiR0aGlzLT5kZWZlcnJlZC0+Y2FuY2VsKCk7Cn0KfQo8P3BocAoKbmFtZXNwYWNlIFJlYWN0XFByb21pc2U7CgpjbGFzcyBEZWZlcnJlZFJlc29sdmVyIGltcGxlbWVudHMgUmVzb2x2ZXJJbnRlcmZhY2UKewpwcml2YXRlICRkZWZlcnJlZDsKCnB1YmxpYyBmdW5jdGlvbiBfX2NvbnN0cnVjdChEZWZlcnJlZCAkZGVmZXJyZWQpCnsKJHRoaXMtPmRlZmVycmVkID0gJGRlZmVycmVkOwp9CgpwdWJsaWMgZnVuY3Rpb24gcmVzb2x2ZSgkcmVzdWx0ID0gbnVsbCkKewpyZXR1cm4gJHRoaXMtPmRlZmVycmVkLT5yZXNvbHZlKCRyZXN1bHQpOwp9CgpwdWJsaWMgZnVuY3Rpb24gcmVqZWN0KCRyZWFzb24gPSBudWxsKQp7CnJldHVybiAkdGhpcy0+ZGVmZXJyZWQtPnJlamVjdCgkcmVhc29uKTsKfQoKcHVibGljIGZ1bmN0aW9uIHByb2dyZXNzKCR1cGRhdGUgPSBudWxsKQp7CnJldHVybiAkdGhpcy0+ZGVmZXJyZWQtPnByb2dyZXNzKCR1cGRhdGUpOwp9Cn0KPD9waHAKCm5hbWVzcGFjZSBSZWFjdFxQcm9taXNlOwoKY2xhc3MgRnVsZmlsbGVkUHJvbWlzZSBpbXBsZW1lbnRzIFByb21pc2VJbnRlcmZhY2UsIENhbmNlbGxhYmxlUHJvbWlzZUludGVyZmFjZQp7CnByaXZhdGUgJHJlc3VsdDsKCnB1YmxpYyBmdW5jdGlvbiBfX2NvbnN0cnVjdCgkcmVzdWx0ID0gbnVsbCkKewokdGhpcy0+cmVzdWx0ID0gJHJlc3VsdDsKfQoKcHVibGljIGZ1bmN0aW9uIHRoZW4oJGZ1bGZpbGxlZEhhbmRsZXIgPSBudWxsLCAkZXJyb3JIYW5kbGVyID0gbnVsbCwgJHByb2dyZXNzSGFuZGxlciA9IG51bGwpCnsKdHJ5IHsKJHJlc3VsdCA9ICR0aGlzLT5yZXN1bHQ7CgppZiAoaXNfY2FsbGFibGUoJGZ1bGZpbGxlZEhhbmRsZXIpKSB7CiRyZXN1bHQgPSBjYWxsX3VzZXJfZnVuYygkZnVsZmlsbGVkSGFuZGxlciwgJHJlc3VsdCk7Cn0gZWxzZWlmIChudWxsICE9PSAkZnVsZmlsbGVkSGFuZGxlcikgewp0cmlnZ2VyX2Vycm9yKCdJbnZhbGlkICRmdWxmaWxsZWRIYW5kbGVyIGFyZ3VtZW50IHBhc3NlZCB0byB0aGVuKCksIG11c3QgYmUgbnVsbCBvciBjYWxsYWJsZS4nLCBFX1VTRVJfTk9USUNFKTsKfQoKcmV0dXJuIHJlc29sdmUoJHJlc3VsdCk7Cn0gY2F0Y2ggKFxFeGNlcHRpb24gJGV4Y2VwdGlvbikgewpyZXR1cm4gbmV3IFJlamVjdGVkUHJvbWlzZSgkZXhjZXB0aW9uKTsKfQp9CgpwdWJsaWMgZnVuY3Rpb24gY2FuY2VsKCkKewp9Cn0KPD9waHAKCm5hbWVzcGFjZSBSZWFjdFxQcm9taXNlOwoKY2xhc3MgTGF6eVByb21pc2UgaW1wbGVtZW50cyBQcm9taXNlSW50ZXJmYWNlLCBDYW5jZWxsYWJsZVByb21pc2VJbnRlcmZhY2UKewpwcml2YXRlICRmYWN0b3J5Owpwcml2YXRlICRwcm9taXNlOwoKcHVibGljIGZ1bmN0aW9uIF9fY29uc3RydWN0KCRmYWN0b3J5KQp7CiR0aGlzLT5mYWN0b3J5ID0gJGZhY3Rvcnk7Cn0KCnB1YmxpYyBmdW5jdGlvbiB0aGVuKCRmdWxmaWxsZWRIYW5kbGVyID0gbnVsbCwgJGVycm9ySGFuZGxlciA9IG51bGwsICRwcm9ncmVzc0hhbmRsZXIgPSBudWxsKQp7CnJldHVybiAkdGhpcy0+cHJvbWlzZSgpLT50aGVuKCRmdWxmaWxsZWRIYW5kbGVyLCAkZXJyb3JIYW5kbGVyLCAkcHJvZ3Jlc3NIYW5kbGVyKTsKfQoKcHVibGljIGZ1bmN0aW9uIGNhbmNlbCgpCnsKJHByb21pc2UgPSAkdGhpcy0+cHJvbWlzZSgpOwppZiAoJHByb21pc2UgaW5zdGFuY2VvZiBDYW5jZWxsYWJsZVByb21pc2VJbnRlcmZhY2UpIHsKJHByb21pc2UtPmNhbmNlbCgpOwp9Cn0KCnByaXZhdGUgZnVuY3Rpb24gcHJvbWlzZSgpCnsKaWYgKG51bGwgPT09ICR0aGlzLT5wcm9taXNlKSB7CnRyeSB7CiR0aGlzLT5wcm9taXNlID0gcmVzb2x2ZShjYWxsX3VzZXJfZnVuYygkdGhpcy0+ZmFjdG9yeSkpOwp9IGNhdGNoIChcRXhjZXB0aW9uICRleGNlcHRpb24pIHsKJHRoaXMtPnByb21pc2UgPSBuZXcgUmVqZWN0ZWRQcm9taXNlKCRleGNlcHRpb24pOwp9Cn0KcmV0dXJuICR0aGlzLT5wcm9taXNlOwp9Cn0KPD9waHAKCm5hbWVzcGFjZSBSZWFjdFxQcm9taXNlOwoKY2xhc3MgUHJvbWlzZSBpbXBsZW1lbnRzIFByb21pc2VJbnRlcmZhY2UsIENhbmNlbGxhYmxlUHJvbWlzZUludGVyZmFjZQp7CnByaXZhdGUgJGRlZmVycmVkOwoKcHVibGljIGZ1bmN0aW9uIF9fY29uc3RydWN0KCRyZXNvbHZlciwgJGNhbmNlbGxlciA9IG51bGwpCnsKaWYgKCFpc19jYWxsYWJsZSgkcmVzb2x2ZXIpKSB7CnRocm93IG5ldyBcSW52YWxpZEFyZ3VtZW50RXhjZXB0aW9uKApzcHJpbnRmKAonVGhlIHJlc29sdmVyIGFyZ3VtZW50IG11c3QgYmUgb2YgdHlwZSBjYWxsYWJsZSwgJXMgZ2l2ZW4uJywKZ2V0dHlwZSgkcmVzb2x2ZXIpCikKKTsKfQoKJHRoaXMtPmRlZmVycmVkID0gbmV3IERlZmVycmVkKCRjYW5jZWxsZXIpOwokdGhpcy0+Y2FsbCgkcmVzb2x2ZXIpOwp9CgpwdWJsaWMgZnVuY3Rpb24gdGhlbigkZnVsZmlsbGVkSGFuZGxlciA9IG51bGwsICRlcnJvckhhbmRsZXIgPSBudWxsLCAkcHJvZ3Jlc3NIYW5kbGVyID0gbnVsbCkKewpyZXR1cm4gJHRoaXMtPmRlZmVycmVkLT50aGVuKCRmdWxmaWxsZWRIYW5kbGVyLCAkZXJyb3JIYW5kbGVyLCAkcHJvZ3Jlc3NIYW5kbGVyKTsKfQoKcHVibGljIGZ1bmN0aW9uIGNhbmNlbCgpCnsKJHRoaXMtPmRlZmVycmVkLT5jYW5jZWwoKTsKfQoKcHJpdmF0ZSBmdW5jdGlvbiBjYWxsKCRjYWxsYmFjaykKewokZGVmZXJyZWQgPSAkdGhpcy0+ZGVmZXJyZWQ7Cgp0cnkgewpjYWxsX3VzZXJfZnVuYygKJGNhbGxiYWNrLApmdW5jdGlvbiAoJHJlc3VsdCA9IG51bGwpIHVzZSAoJGRlZmVycmVkKSB7CiRkZWZlcnJlZC0+cmVzb2x2ZSgkcmVzdWx0KTsKfSwKZnVuY3Rpb24gKCRyZWFzb24gPSBudWxsKSB1c2UgKCRkZWZlcnJlZCkgewokZGVmZXJyZWQtPnJlamVjdCgkcmVhc29uKTsKfSwKZnVuY3Rpb24gKCR1cGRhdGUgPSBudWxsKSB1c2UgKCRkZWZlcnJlZCkgewokZGVmZXJyZWQtPnByb2dyZXNzKCR1cGRhdGUpOwp9Cik7Cn0gY2F0Y2ggKFxFeGNlcHRpb24gJGUpIHsKJHRoaXMtPmRlZmVycmVkLT5yZWplY3QoJGUpOwp9Cn0KfQo8P3BocAoKbmFtZXNwYWNlIFJlYWN0XFByb21pc2U7CgppbnRlcmZhY2UgUHJvbWlzZUludGVyZmFjZQp7CnB1YmxpYyBmdW5jdGlvbiB0aGVuKCRmdWxmaWxsZWRIYW5kbGVyID0gbnVsbCwgJGVycm9ySGFuZGxlciA9IG51bGwsICRwcm9ncmVzc0hhbmRsZXIgPSBudWxsKTsKfQo8P3BocAoKbmFtZXNwYWNlIFJlYWN0XFByb21pc2U7CgppbnRlcmZhY2UgUHJvbWlzb3JJbnRlcmZhY2UKewpwdWJsaWMgZnVuY3Rpb24gcHJvbWlzZSgpOwp9Cjw/cGhwCgpuYW1lc3BhY2UgUmVhY3RcUHJvbWlzZTsKCmNsYXNzIFJlamVjdGVkUHJvbWlzZSBpbXBsZW1lbnRzIFByb21pc2VJbnRlcmZhY2UsIENhbmNlbGxhYmxlUHJvbWlzZUludGVyZmFjZQp7CnByaXZhdGUgJHJlYXNvbjsKCnB1YmxpYyBmdW5jdGlvbiBfX2NvbnN0cnVjdCgkcmVhc29uID0gbnVsbCkKewokdGhpcy0+cmVhc29uID0gJHJlYXNvbjsKfQoKcHVibGljIGZ1bmN0aW9uIHRoZW4oJGZ1bGZpbGxlZEhhbmRsZXIgPSBudWxsLCAkZXJyb3JIYW5kbGVyID0gbnVsbCwgJHByb2dyZXNzSGFuZGxlciA9IG51bGwpCnsKdHJ5IHsKaWYgKCFpc19jYWxsYWJsZSgkZXJyb3JIYW5kbGVyKSkgewppZiAobnVsbCAhPT0gJGVycm9ySGFuZGxlcikgewp0cmlnZ2VyX2Vycm9yKCdJbnZhbGlkICRlcnJvckhhbmRsZXIgYXJndW1lbnQgcGFzc2VkIHRvIHRoZW4oKSwgbXVzdCBiZSBudWxsIG9yIGNhbGxhYmxlLicsIEVfVVNFUl9OT1RJQ0UpOwp9CgpyZXR1cm4gbmV3IFJlamVjdGVkUHJvbWlzZSgkdGhpcy0+cmVhc29uKTsKfQoKcmV0dXJuIHJlc29sdmUoY2FsbF91c2VyX2Z1bmMoJGVycm9ySGFuZGxlciwgJHRoaXMtPnJlYXNvbikpOwp9IGNhdGNoIChcRXhjZXB0aW9uICRleGNlcHRpb24pIHsKcmV0dXJuIG5ldyBSZWplY3RlZFByb21pc2UoJGV4Y2VwdGlvbik7Cn0KfQoKcHVibGljIGZ1bmN0aW9uIGNhbmNlbCgpCnsKfQp9Cjw/cGhwCgpuYW1lc3BhY2UgUmVhY3RcUHJvbWlzZTsKCmludGVyZmFjZSBSZXNvbHZlckludGVyZmFjZQp7CnB1YmxpYyBmdW5jdGlvbiByZXNvbHZlKCRyZXN1bHQgPSBudWxsKTsKcHVibGljIGZ1bmN0aW9uIHJlamVjdCgkcmVhc29uID0gbnVsbCk7CnB1YmxpYyBmdW5jdGlvbiBwcm9ncmVzcygkdXBkYXRlID0gbnVsbCk7Cn0KPD9waHAKCm5hbWVzcGFjZSBSZWFjdFxQcm9taXNlOwoKY2xhc3MgVXRpbAp7CnB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gcHJvbWlzZUZvcigkcHJvbWlzZU9yVmFsdWUpCnsKcmV0dXJuIHJlc29sdmUoJHByb21pc2VPclZhbHVlKTsKfQoKcHVibGljIHN0YXRpYyBmdW5jdGlvbiByZWplY3RlZFByb21pc2VGb3IoJHByb21pc2VPclZhbHVlKQp7CnJldHVybiByZWplY3QoJHByb21pc2VPclZhbHVlKTsKfQp9Cjw/cGhwCgpuYW1lc3BhY2UgUmVhY3RcUHJvbWlzZTsKCmNsYXNzIFdoZW4KewpwdWJsaWMgc3RhdGljIGZ1bmN0aW9uIHJlc29sdmUoJHByb21pc2VPclZhbHVlID0gbnVsbCkKewpyZXR1cm4gcmVzb2x2ZSgkcHJvbWlzZU9yVmFsdWUpOwp9CgpwdWJsaWMgc3RhdGljIGZ1bmN0aW9uIHJlamVjdCgkcHJvbWlzZU9yVmFsdWUgPSBudWxsKQp7CnJldHVybiByZWplY3QoJHByb21pc2VPclZhbHVlKTsKfQoKcHVibGljIHN0YXRpYyBmdW5jdGlvbiBsYXp5KCRmYWN0b3J5KQp7CnJldHVybiBuZXcgTGF6eVByb21pc2UoJGZhY3RvcnkpOwp9CgpwdWJsaWMgc3RhdGljIGZ1bmN0aW9uIGFsbCgkcHJvbWlzZXNPclZhbHVlcywgJGZ1bGZpbGxlZEhhbmRsZXIgPSBudWxsLCAkZXJyb3JIYW5kbGVyID0gbnVsbCwgJHByb2dyZXNzSGFuZGxlciA9IG51bGwpCnsKcmV0dXJuIGFsbCgkcHJvbWlzZXNPclZhbHVlcyktPnRoZW4oJGZ1bGZpbGxlZEhhbmRsZXIsICRlcnJvckhhbmRsZXIsICRwcm9ncmVzc0hhbmRsZXIpOwp9CgpwdWJsaWMgc3RhdGljIGZ1bmN0aW9uIGFueSgkcHJvbWlzZXNPclZhbHVlcywgJGZ1bGZpbGxlZEhhbmRsZXIgPSBudWxsLCAkZXJyb3JIYW5kbGVyID0gbnVsbCwgJHByb2dyZXNzSGFuZGxlciA9IG51bGwpCnsKcmV0dXJuIGFueSgkcHJvbWlzZXNPclZhbHVlcyktPnRoZW4oJGZ1bGZpbGxlZEhhbmRsZXIsICRlcnJvckhhbmRsZXIsICRwcm9ncmVzc0hhbmRsZXIpOwp9CgpwdWJsaWMgc3RhdGljIGZ1bmN0aW9uIHNvbWUoJHByb21pc2VzT3JWYWx1ZXMsICRob3dNYW55LCAkZnVsZmlsbGVkSGFuZGxlciA9IG51bGwsICRlcnJvckhhbmRsZXIgPSBudWxsLCAkcHJvZ3Jlc3NIYW5kbGVyID0gbnVsbCkKewpyZXR1cm4gc29tZSgkcHJvbWlzZXNPclZhbHVlcywgJGhvd01hbnkpLT50aGVuKCRmdWxmaWxsZWRIYW5kbGVyLCAkZXJyb3JIYW5kbGVyLCAkcHJvZ3Jlc3NIYW5kbGVyKTsKfQoKcHVibGljIHN0YXRpYyBmdW5jdGlvbiBtYXAoJHByb21pc2VzT3JWYWx1ZXMsICRtYXBGdW5jKQp7CnJldHVybiBtYXAoJHByb21pc2VzT3JWYWx1ZXMsICRtYXBGdW5jKTsKfQoKcHVibGljIHN0YXRpYyBmdW5jdGlvbiByZWR1Y2UoJHByb21pc2VzT3JWYWx1ZXMsICRyZWR1Y2VGdW5jICwgJGluaXRpYWxWYWx1ZSA9IG51bGwpCnsKcmV0dXJuIHJlZHVjZSgkcHJvbWlzZXNPclZhbHVlcywgJHJlZHVjZUZ1bmMsICRpbml0aWFsVmFsdWUpOwp9Cn0KPD9waHAKCm5hbWVzcGFjZSBSZWFjdFxQcm9taXNlOwoKZnVuY3Rpb24gcmVzb2x2ZSgkcHJvbWlzZU9yVmFsdWUgPSBudWxsKQp7CmlmICgkcHJvbWlzZU9yVmFsdWUgaW5zdGFuY2VvZiBQcm9taXNlSW50ZXJmYWNlKSB7CnJldHVybiAkcHJvbWlzZU9yVmFsdWU7Cn0KCnJldHVybiBuZXcgRnVsZmlsbGVkUHJvbWlzZSgkcHJvbWlzZU9yVmFsdWUpOwp9CgpmdW5jdGlvbiByZWplY3QoJHByb21pc2VPclZhbHVlID0gbnVsbCkKewppZiAoJHByb21pc2VPclZhbHVlIGluc3RhbmNlb2YgUHJvbWlzZUludGVyZmFjZSkgewpyZXR1cm4gJHByb21pc2VPclZhbHVlLT50aGVuKGZ1bmN0aW9uICgkdmFsdWUpIHsKcmV0dXJuIG5ldyBSZWplY3RlZFByb21pc2UoJHZhbHVlKTsKfSk7Cn0KCnJldHVybiBuZXcgUmVqZWN0ZWRQcm9taXNlKCRwcm9taXNlT3JWYWx1ZSk7Cn0KCmZ1bmN0aW9uIGFsbCgkcHJvbWlzZXNPclZhbHVlcykKewpyZXR1cm4gbWFwKCRwcm9taXNlc09yVmFsdWVzLCBmdW5jdGlvbiAoJHZhbCkgewpyZXR1cm4gJHZhbDsKfSk7Cn0KCmZ1bmN0aW9uIGFueSgkcHJvbWlzZXNPclZhbHVlcykKewpyZXR1cm4gc29tZSgkcHJvbWlzZXNPclZhbHVlcywgMSktPnRoZW4oZnVuY3Rpb24oJHZhbCkgewpyZXR1cm4gYXJyYXlfc2hpZnQoJHZhbCk7Cn0pOwp9CgpmdW5jdGlvbiBzb21lKCRwcm9taXNlc09yVmFsdWVzLCAkaG93TWFueSkKewpyZXR1cm4gcmVzb2x2ZSgkcHJvbWlzZXNPclZhbHVlcyktPnRoZW4oZnVuY3Rpb24gKCRhcnJheSkgdXNlICgkaG93TWFueSkgewppZiAoIWlzX2FycmF5KCRhcnJheSkpIHsKJGFycmF5ID0gYXJyYXkoKTsKfQoKJGxlbiA9IGNvdW50KCRhcnJheSk7CiR0b1Jlc29sdmUgPSBtYXgoMCwgbWluKCRob3dNYW55LCAkbGVuKSk7CiR2YWx1ZXMgPSBhcnJheSgpOwokZGVmZXJyZWQgPSBuZXcgRGVmZXJyZWQoKTsKCmlmICghJHRvUmVzb2x2ZSkgewokZGVmZXJyZWQtPnJlc29sdmUoJHZhbHVlcyk7Cn0gZWxzZSB7CiR0b1JlamVjdCA9ICgkbGVuIC0gJHRvUmVzb2x2ZSkgKyAxOwokcmVhc29ucyA9IGFycmF5KCk7CgokcHJvZ3Jlc3MgPSBhcnJheSgkZGVmZXJyZWQsICdwcm9ncmVzcycpOwoKJGZ1bGZpbGxPbmUgPSBmdW5jdGlvbiAoJHZhbCwgJGkpIHVzZSAoJiR2YWx1ZXMsICYkdG9SZXNvbHZlLCAkZGVmZXJyZWQpIHsKJHZhbHVlc1skaV0gPSAkdmFsOwoKaWYgKDAgPT09IC0tJHRvUmVzb2x2ZSkgewokZGVmZXJyZWQtPnJlc29sdmUoJHZhbHVlcyk7CgpyZXR1cm4gdHJ1ZTsKfQp9OwoKJHJlamVjdE9uZSA9IGZ1bmN0aW9uICgkcmVhc29uLCAkaSkgdXNlICgmJHJlYXNvbnMsICYkdG9SZWplY3QsICRkZWZlcnJlZCkgewokcmVhc29uc1skaV0gPSAkcmVhc29uOwoKaWYgKDAgPT09IC0tJHRvUmVqZWN0KSB7CiRkZWZlcnJlZC0+cmVqZWN0KCRyZWFzb25zKTsKCnJldHVybiB0cnVlOwp9Cn07Cgpmb3JlYWNoICgkYXJyYXkgYXMgJGkgPT4gJHByb21pc2VPclZhbHVlKSB7CiRmdWxmaWxsZXIgPSBmdW5jdGlvbiAoJHZhbCkgdXNlICgkaSwgJiRmdWxmaWxsT25lLCAmJHJlamVjdE9uZSkgewokcmVzZXQgPSAkZnVsZmlsbE9uZSgkdmFsLCAkaSk7CgppZiAodHJ1ZSA9PT0gJHJlc2V0KSB7CiRmdWxmaWxsT25lID0gJHJlamVjdE9uZSA9IGZ1bmN0aW9uICgpIHt9Owp9Cn07CgokcmVqZWN0ZXIgPSBmdW5jdGlvbiAoJHZhbCkgdXNlICgkaSwgJiRmdWxmaWxsT25lLCAmJHJlamVjdE9uZSkgewokcmVzZXQgPSAkcmVqZWN0T25lKCR2YWwsICRpKTsKCmlmICh0cnVlID09PSAkcmVzZXQpIHsKJGZ1bGZpbGxPbmUgPSAkcmVqZWN0T25lID0gZnVuY3Rpb24gKCkge307Cn0KfTsKCnJlc29sdmUoJHByb21pc2VPclZhbHVlKS0+dGhlbigkZnVsZmlsbGVyLCAkcmVqZWN0ZXIsICRwcm9ncmVzcyk7Cn0KfQoKcmV0dXJuICRkZWZlcnJlZC0+cHJvbWlzZSgpOwp9KTsKfQoKZnVuY3Rpb24gbWFwKCRwcm9taXNlc09yVmFsdWVzLCAkbWFwRnVuYykKewpyZXR1cm4gcmVzb2x2ZSgkcHJvbWlzZXNPclZhbHVlcyktPnRoZW4oZnVuY3Rpb24gKCRhcnJheSkgdXNlICgkbWFwRnVuYykgewppZiAoIWlzX2FycmF5KCRhcnJheSkpIHsKJGFycmF5ID0gYXJyYXkoKTsKfQoKJHRvUmVzb2x2ZSA9IGNvdW50KCRhcnJheSk7CiRyZXN1bHRzID0gYXJyYXkoKTsKJGRlZmVycmVkID0gbmV3IERlZmVycmVkKCk7CgppZiAoISR0b1Jlc29sdmUpIHsKJGRlZmVycmVkLT5yZXNvbHZlKCRyZXN1bHRzKTsKfSBlbHNlIHsKJHJlc29sdmUgPSBmdW5jdGlvbiAoJGl0ZW0sICRpKSB1c2UgKCRtYXBGdW5jLCAmJHJlc3VsdHMsICYkdG9SZXNvbHZlLCAkZGVmZXJyZWQpIHsKcmVzb2x2ZSgkaXRlbSkKLT50aGVuKCRtYXBGdW5jKQotPnRoZW4oCmZ1bmN0aW9uICgkbWFwcGVkKSB1c2UgKCYkcmVzdWx0cywgJGksICYkdG9SZXNvbHZlLCAkZGVmZXJyZWQpIHsKJHJlc3VsdHNbJGldID0gJG1hcHBlZDsKCmlmICgwID09PSAtLSR0b1Jlc29sdmUpIHsKJGRlZmVycmVkLT5yZXNvbHZlKCRyZXN1bHRzKTsKfQp9LAphcnJheSgkZGVmZXJyZWQsICdyZWplY3QnKQopOwp9OwoKZm9yZWFjaCAoJGFycmF5IGFzICRpID0+ICRpdGVtKSB7CiRyZXNvbHZlKCRpdGVtLCAkaSk7Cn0KfQoKcmV0dXJuICRkZWZlcnJlZC0+cHJvbWlzZSgpOwp9KTsKfQoKZnVuY3Rpb24gcmVkdWNlKCRwcm9taXNlc09yVmFsdWVzLCAkcmVkdWNlRnVuYyAsICRpbml0aWFsVmFsdWUgPSBudWxsKQp7CnJldHVybiByZXNvbHZlKCRwcm9taXNlc09yVmFsdWVzKS0+dGhlbihmdW5jdGlvbiAoJGFycmF5KSB1c2UgKCRyZWR1Y2VGdW5jLCAkaW5pdGlhbFZhbHVlKSB7CmlmICghaXNfYXJyYXkoJGFycmF5KSkgewokYXJyYXkgPSBhcnJheSgpOwp9CgokdG90YWwgPSBjb3VudCgkYXJyYXkpOwokaSA9IDA7CgoKCiR3cmFwcGVkUmVkdWNlRnVuYyA9IGZ1bmN0aW9uICgkY3VycmVudCwgJHZhbCkgdXNlICgkcmVkdWNlRnVuYywgJHRvdGFsLCAmJGkpIHsKcmV0dXJuIHJlc29sdmUoJGN1cnJlbnQpLT50aGVuKGZ1bmN0aW9uICgkYykgdXNlICgkcmVkdWNlRnVuYywgJHRvdGFsLCAmJGksICR2YWwpIHsKcmV0dXJuIHJlc29sdmUoJHZhbCktPnRoZW4oZnVuY3Rpb24gKCR2YWx1ZSkgdXNlICgkcmVkdWNlRnVuYywgJHRvdGFsLCAmJGksICRjKSB7CnJldHVybiBjYWxsX3VzZXJfZnVuYygkcmVkdWNlRnVuYywgJGMsICR2YWx1ZSwgJGkrKywgJHRvdGFsKTsKfSk7Cn0pOwp9OwoKcmV0dXJuIGFycmF5X3JlZHVjZSgkYXJyYXksICR3cmFwcGVkUmVkdWNlRnVuYywgJGluaXRpYWxWYWx1ZSk7Cn0pOwp9Cjw/cGhwCgppZiAoIWZ1bmN0aW9uX2V4aXN0cygnUmVhY3RcUHJvbWlzZVxyZXNvbHZlJykpIHsKcmVxdWlyZSBfX0RJUl9fLicvZnVuY3Rpb25zLnBocCc7Cn0KCkNvcHlyaWdodCAoYykgMjAxMSBKb3JkaSBCb2dnaWFubwoKUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGEgY29weQpvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZSAiU29mdHdhcmUiKSwgdG8gZGVhbAppbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzCnRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwKY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZAp0byBkbyBzbywgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6CgpUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZCBpbiBhbGwKY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS4KClRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCAiQVMgSVMiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SCklNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLApGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUKQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUgpMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLApPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOClRIRSBTT0ZUV0FSRS4KCjw/cGhwCgoKCgoKCgoKCgpuYW1lc3BhY2UgU2VsZFxKc29uTGludDsKCmNsYXNzIER1cGxpY2F0ZUtleUV4Y2VwdGlvbiBleHRlbmRzIFBhcnNpbmdFeGNlcHRpb24KewoKCgoKCnB1YmxpYyBmdW5jdGlvbiBfX2NvbnN0cnVjdCgkbWVzc2FnZSwgJGtleSwgYXJyYXkgJGRldGFpbHMgPSBhcnJheSgpKQp7CiRkZXRhaWxzWydrZXknXSA9ICRrZXk7CnBhcmVudDo6X19jb25zdHJ1Y3QoJG1lc3NhZ2UsICRkZXRhaWxzKTsKfQoKcHVibGljIGZ1bmN0aW9uIGdldEtleSgpCnsKcmV0dXJuICR0aGlzLT5kZXRhaWxzWydrZXknXTsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIGdldERldGFpbHMoKQp7CnJldHVybiAkdGhpcy0+ZGV0YWlsczsKfQp9Cjw/cGhwCgoKCgoKCgoKCgpuYW1lc3BhY2UgU2VsZFxKc29uTGludDsKdXNlIHN0ZENsYXNzOwoKCgoKCgoKCgoKCgoKCmNsYXNzIEpzb25QYXJzZXIKewpjb25zdCBERVRFQ1RfS0VZX0NPTkZMSUNUUyA9IDE7CmNvbnN0IEFMTE9XX0RVUExJQ0FURV9LRVlTID0gMjsKY29uc3QgUEFSU0VfVE9fQVNTT0MgPSA0OwoKcHJpdmF0ZSAkbGV4ZXI7Cgpwcml2YXRlICRmbGFnczsKcHJpdmF0ZSAkc3RhY2s7CnByaXZhdGUgJHZzdGFjazsgCnByaXZhdGUgJGxzdGFjazsgCgoKCgpwcml2YXRlICRzeW1ib2xzID0gYXJyYXkoCidlcnJvcicgPT4gMiwKJ0pTT05TdHJpbmcnID0+IDMsCidTVFJJTkcnID0+IDQsCidKU09OTnVtYmVyJyA9PiA1LAonTlVNQkVSJyA9PiA2LAonSlNPTk51bGxMaXRlcmFsJyA9PiA3LAonTlVMTCcgPT4gOCwKJ0pTT05Cb29sZWFuTGl0ZXJhbCcgPT4gOSwKJ1RSVUUnID0+IDEwLAonRkFMU0UnID0+IDExLAonSlNPTlRleHQnID0+IDEyLAonSlNPTlZhbHVlJyA9PiAxMywKJ0VPRicgPT4gMTQsCidKU09OT2JqZWN0JyA9PiAxNSwKJ0pTT05BcnJheScgPT4gMTYsCid7JyA9PiAxNywKJ30nID0+IDE4LAonSlNPTk1lbWJlckxpc3QnID0+IDE5LAonSlNPTk1lbWJlcicgPT4gMjAsCic6JyA9PiAyMSwKJywnID0+IDIyLAonWycgPT4gMjMsCiddJyA9PiAyNCwKJ0pTT05FbGVtZW50TGlzdCcgPT4gMjUsCickYWNjZXB0JyA9PiAwLAonJGVuZCcgPT4gMSwKKTsKCgoKCnByaXZhdGUgJHRlcm1pbmFsc18gPSBhcnJheSgKMiA9PiAiZXJyb3IiLAo0ID0+ICJTVFJJTkciLAo2ID0+ICJOVU1CRVIiLAo4ID0+ICJOVUxMIiwKMTAgPT4gIlRSVUUiLAoxMSA9PiAiRkFMU0UiLAoxNCA9PiAiRU9GIiwKMTcgPT4gInsiLAoxOCA9PiAifSIsCjIxID0+ICI6IiwKMjIgPT4gIiwiLAoyMyA9PiAiWyIsCjI0ID0+ICJdIiwKKTsKCnByaXZhdGUgJHByb2R1Y3Rpb25zXyA9IGFycmF5KAowLAphcnJheSgzLCAxKSwKYXJyYXkoNSwgMSksCmFycmF5KDcsIDEpLAphcnJheSg5LCAxKSwKYXJyYXkoOSwgMSksCmFycmF5KDEyLCAyKSwKYXJyYXkoMTMsIDEpLAphcnJheSgxMywgMSksCmFycmF5KDEzLCAxKSwKYXJyYXkoMTMsIDEpLAphcnJheSgxMywgMSksCmFycmF5KDEzLCAxKSwKYXJyYXkoMTUsIDIpLAphcnJheSgxNSwgMyksCmFycmF5KDIwLCAzKSwKYXJyYXkoMTksIDEpLAphcnJheSgxOSwgMyksCmFycmF5KDE2LCAyKSwKYXJyYXkoMTYsIDMpLAphcnJheSgyNSwgMSksCmFycmF5KDI1LCAzKQopOwoKcHJpdmF0ZSAkdGFibGUgPSBhcnJheShhcnJheSgzID0+IDUsIDQgPT4gYXJyYXkoMSwxMiksIDUgPT4gNiwgNiA9PiBhcnJheSgxLDEzKSwgNyA9PiAzLCA4ID0+IGFycmF5KDEsOSksIDkgPT4gNCwgMTAgPT4gYXJyYXkoMSwxMCksIDExID0+IGFycmF5KDEsMTEpLCAxMiA9PiAxLCAxMyA9PiAyLCAxNSA9PiA3LCAxNiA9PiA4LCAxNyA9PiBhcnJheSgxLDE0KSwgMjMgPT4gYXJyYXkoMSwxNSkpLCBhcnJheSggMSA9PiBhcnJheSgzKSksIGFycmF5KCAxNCA9PiBhcnJheSgxLDE2KSksIGFycmF5KCAxNCA9PiBhcnJheSgyLDcpLCAxOCA9PiBhcnJheSgyLDcpLCAyMiA9PiBhcnJheSgyLDcpLCAyNCA9PiBhcnJheSgyLDcpKSwgYXJyYXkoIDE0ID0+IGFycmF5KDIsOCksIDE4ID0+IGFycmF5KDIsOCksIDIyID0+IGFycmF5KDIsOCksIDI0ID0+IGFycmF5KDIsOCkpLCBhcnJheSggMTQgPT4gYXJyYXkoMiw5KSwgMTggPT4gYXJyYXkoMiw5KSwgMjIgPT4gYXJyYXkoMiw5KSwgMjQgPT4gYXJyYXkoMiw5KSksIGFycmF5KCAxNCA9PiBhcnJheSgyLDEwKSwgMTggPT4gYXJyYXkoMiwxMCksIDIyID0+IGFycmF5KDIsMTApLCAyNCA9PiBhcnJheSgyLDEwKSksIGFycmF5KCAxNCA9PiBhcnJheSgyLDExKSwgMTggPT4gYXJyYXkoMiwxMSksIDIyID0+IGFycmF5KDIsMTEpLCAyNCA9PiBhcnJheSgyLDExKSksIGFycmF5KCAxNCA9PiBhcnJheSgyLDEyKSwgMTggPT4gYXJyYXkoMiwxMiksIDIyID0+IGFycmF5KDIsMTIpLCAyNCA9PiBhcnJheSgyLDEyKSksIGFycmF5KCAxNCA9PiBhcnJheSgyLDMpLCAxOCA9PiBhcnJheSgyLDMpLCAyMiA9PiBhcnJheSgyLDMpLCAyNCA9PiBhcnJheSgyLDMpKSwgYXJyYXkoIDE0ID0+IGFycmF5KDIsNCksIDE4ID0+IGFycmF5KDIsNCksIDIyID0+IGFycmF5KDIsNCksIDI0ID0+IGFycmF5KDIsNCkpLCBhcnJheSggMTQgPT4gYXJyYXkoMiw1KSwgMTggPT4gYXJyYXkoMiw1KSwgMjIgPT4gYXJyYXkoMiw1KSwgMjQgPT4gYXJyYXkoMiw1KSksIGFycmF5KCAxNCA9PiBhcnJheSgyLDEpLCAxOCA9PiBhcnJheSgyLDEpLCAyMSA9PiBhcnJheSgyLDEpLCAyMiA9PiBhcnJheSgyLDEpLCAyNCA9PiBhcnJheSgyLDEpKSwgYXJyYXkoIDE0ID0+IGFycmF5KDIsMiksIDE4ID0+IGFycmF5KDIsMiksIDIyID0+IGFycmF5KDIsMiksIDI0ID0+IGFycmF5KDIsMikpLCBhcnJheSggMyA9PiAyMCwgNCA9PiBhcnJheSgxLDEyKSwgMTggPT4gYXJyYXkoMSwxNyksIDE5ID0+IDE4LCAyMCA9PiAxOSApLCBhcnJheSggMyA9PiA1LCA0ID0+IGFycmF5KDEsMTIpLCA1ID0+IDYsIDYgPT4gYXJyYXkoMSwxMyksIDcgPT4gMywgOCA9PiBhcnJheSgxLDkpLCA5ID0+IDQsIDEwID0+IGFycmF5KDEsMTApLCAxMSA9PiBhcnJheSgxLDExKSwgMTMgPT4gMjMsIDE1ID0+IDcsIDE2ID0+IDgsIDE3ID0+IGFycmF5KDEsMTQpLCAyMyA9PiBhcnJheSgxLDE1KSwgMjQgPT4gYXJyYXkoMSwyMSksIDI1ID0+IDIyICksIGFycmF5KCAxID0+IGFycmF5KDIsNikpLCBhcnJheSggMTQgPT4gYXJyYXkoMiwxMyksIDE4ID0+IGFycmF5KDIsMTMpLCAyMiA9PiBhcnJheSgyLDEzKSwgMjQgPT4gYXJyYXkoMiwxMykpLCBhcnJheSggMTggPT4gYXJyYXkoMSwyNCksIDIyID0+IGFycmF5KDEsMjUpKSwgYXJyYXkoIDE4ID0+IGFycmF5KDIsMTYpLCAyMiA9PiBhcnJheSgyLDE2KSksIGFycmF5KCAyMSA9PiBhcnJheSgxLDI2KSksIGFycmF5KCAxNCA9PiBhcnJheSgyLDE4KSwgMTggPT4gYXJyYXkoMiwxOCksIDIyID0+IGFycmF5KDIsMTgpLCAyNCA9PiBhcnJheSgyLDE4KSksIGFycmF5KCAyMiA9PiBhcnJheSgxLDI4KSwgMjQgPT4gYXJyYXkoMSwyNykpLCBhcnJheSggMjIgPT4gYXJyYXkoMiwyMCksIDI0ID0+IGFycmF5KDIsMjApKSwgYXJyYXkoIDE0ID0+IGFycmF5KDIsMTQpLCAxOCA9PiBhcnJheSgyLDE0KSwgMjIgPT4gYXJyYXkoMiwxNCksIDI0ID0+IGFycmF5KDIsMTQpKSwgYXJyYXkoIDMgPT4gMjAsIDQgPT4gYXJyYXkoMSwxMiksIDIwID0+IDI5ICksIGFycmF5KCAzID0+IDUsIDQgPT4gYXJyYXkoMSwxMiksIDUgPT4gNiwgNiA9PiBhcnJheSgxLDEzKSwgNyA9PiAzLCA4ID0+IGFycmF5KDEsOSksIDkgPT4gNCwgMTAgPT4gYXJyYXkoMSwxMCksIDExID0+IGFycmF5KDEsMTEpLCAxMyA9PiAzMCwgMTUgPT4gNywgMTYgPT4gOCwgMTcgPT4gYXJyYXkoMSwxNCksIDIzID0+IGFycmF5KDEsMTUpKSwgYXJyYXkoIDE0ID0+IGFycmF5KDIsMTkpLCAxOCA9PiBhcnJheSgyLDE5KSwgMjIgPT4gYXJyYXkoMiwxOSksIDI0ID0+IGFycmF5KDIsMTkpKSwgYXJyYXkoIDMgPT4gNSwgNCA9PiBhcnJheSgxLDEyKSwgNSA9PiA2LCA2ID0+IGFycmF5KDEsMTMpLCA3ID0+IDMsIDggPT4gYXJyYXkoMSw5KSwgOSA9PiA0LCAxMCA9PiBhcnJheSgxLDEwKSwgMTEgPT4gYXJyYXkoMSwxMSksIDEzID0+IDMxLCAxNSA9PiA3LCAxNiA9PiA4LCAxNyA9PiBhcnJheSgxLDE0KSwgMjMgPT4gYXJyYXkoMSwxNSkpLCBhcnJheSggMTggPT4gYXJyYXkoMiwxNyksIDIyID0+IGFycmF5KDIsMTcpKSwgYXJyYXkoIDE4ID0+IGFycmF5KDIsMTUpLCAyMiA9PiBhcnJheSgyLDE1KSksIGFycmF5KCAyMiA9PiBhcnJheSgyLDIxKSwgMjQgPT4gYXJyYXkoMiwyMSkpLAopOwoKcHJpdmF0ZSAkZGVmYXVsdEFjdGlvbnMgPSBhcnJheSgKMTYgPT4gYXJyYXkoMiwgNikKKTsKCgoKCgoKcHVibGljIGZ1bmN0aW9uIGxpbnQoJGlucHV0LCAkZmxhZ3MgPSAwKQp7CnRyeSB7CiR0aGlzLT5wYXJzZSgkaW5wdXQsICRmbGFncyk7Cn0gY2F0Y2ggKFBhcnNpbmdFeGNlcHRpb24gJGUpIHsKcmV0dXJuICRlOwp9CnJldHVybiBudWxsOwp9CgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gcGFyc2UoJGlucHV0LCAkZmxhZ3MgPSAwKQp7CiR0aGlzLT5mYWlsT25CT00oJGlucHV0KTsKCiR0aGlzLT5mbGFncyA9ICRmbGFnczsKCiR0aGlzLT5zdGFjayA9IGFycmF5KDApOwokdGhpcy0+dnN0YWNrID0gYXJyYXkobnVsbCk7CiR0aGlzLT5sc3RhY2sgPSBhcnJheSgpOwoKJHl5dGV4dCA9ICcnOwokeXlsaW5lbm8gPSAwOwokeXlsZW5nID0gMDsKJHJlY292ZXJpbmcgPSAwOwokVEVSUk9SID0gMjsKJEVPRiA9IDE7CgokdGhpcy0+bGV4ZXIgPSBuZXcgTGV4ZXIoKTsKJHRoaXMtPmxleGVyLT5zZXRJbnB1dCgkaW5wdXQpOwoKJHl5bG9jID0gJHRoaXMtPmxleGVyLT55eWxsb2M7CiR0aGlzLT5sc3RhY2tbXSA9ICR5eWxvYzsKCiRzeW1ib2wgPSBudWxsOwokcHJlRXJyb3JTeW1ib2wgPSBudWxsOwokc3RhdGUgPSBudWxsOwokYWN0aW9uID0gbnVsbDsKJGEgPSBudWxsOwokciA9IG51bGw7CiR5eXZhbCA9IG5ldyBzdGRDbGFzczsKJHAgPSBudWxsOwokbGVuID0gbnVsbDsKJG5ld1N0YXRlID0gbnVsbDsKJGV4cGVjdGVkID0gbnVsbDsKJGVyclN0ciA9IG51bGw7Cgp3aGlsZSAodHJ1ZSkgewoKJHN0YXRlID0gJHRoaXMtPnN0YWNrW1xjb3VudCgkdGhpcy0+c3RhY2spLTFdOwoKCmlmIChpc3NldCgkdGhpcy0+ZGVmYXVsdEFjdGlvbnNbJHN0YXRlXSkpIHsKJGFjdGlvbiA9ICR0aGlzLT5kZWZhdWx0QWN0aW9uc1skc3RhdGVdOwp9IGVsc2UgewppZiAoJHN5bWJvbCA9PSBudWxsKSB7CiRzeW1ib2wgPSAkdGhpcy0+bGV4KCk7Cn0KCiRhY3Rpb24gPSBpc3NldCgkdGhpcy0+dGFibGVbJHN0YXRlXVskc3ltYm9sXSkgPyAkdGhpcy0+dGFibGVbJHN0YXRlXVskc3ltYm9sXSA6IGZhbHNlOwp9CgoKaWYgKCEkYWN0aW9uIHx8ICEkYWN0aW9uWzBdKSB7CmlmICghJHJlY292ZXJpbmcpIHsKCiRleHBlY3RlZCA9IGFycmF5KCk7CmZvcmVhY2ggKCR0aGlzLT50YWJsZVskc3RhdGVdIGFzICRwID0+ICRpZ25vcmUpIHsKaWYgKGlzc2V0KCR0aGlzLT50ZXJtaW5hbHNfWyRwXSkgJiYgJHAgPiAyKSB7CiRleHBlY3RlZFtdID0gIiciIC4gJHRoaXMtPnRlcm1pbmFsc19bJHBdIC4gIiciOwp9Cn0KCiRtZXNzYWdlID0gbnVsbDsKaWYgKFxpbl9hcnJheSgiJ1NUUklORyciLCAkZXhwZWN0ZWQpICYmIFxpbl9hcnJheShzdWJzdHIoJHRoaXMtPmxleGVyLT5tYXRjaCwgMCwgMSksIGFycmF5KCciJywgIiciKSkpIHsKJG1lc3NhZ2UgPSAiSW52YWxpZCBzdHJpbmciOwppZiAoIiciID09PSBzdWJzdHIoJHRoaXMtPmxleGVyLT5tYXRjaCwgMCwgMSkpIHsKJG1lc3NhZ2UgLj0gIiwgaXQgYXBwZWFycyB5b3UgdXNlZCBzaW5nbGUgcXVvdGVzIGluc3RlYWQgb2YgZG91YmxlIHF1b3RlcyI7Cn0gZWxzZWlmIChwcmVnX21hdGNoKCd7Ii4rPyhcXFxcW14iYmZucnQvXFxcXHVdKC4uLik/KX0nLCAkdGhpcy0+bGV4ZXItPmdldEZ1bGxVcGNvbWluZ0lucHV0KCksICRtYXRjaCkpIHsKJG1lc3NhZ2UgLj0gIiwgaXQgYXBwZWFycyB5b3UgaGF2ZSBhbiB1bmVzY2FwZWQgYmFja3NsYXNoIGF0OiAiLiRtYXRjaFsxXTsKfSBlbHNlaWYgKHByZWdfbWF0Y2goJ3siKD86W14iXSt8XFxcXCIpKiR9bScsICR0aGlzLT5sZXhlci0+Z2V0RnVsbFVwY29taW5nSW5wdXQoKSkpIHsKJG1lc3NhZ2UgLj0gIiwgaXQgYXBwZWFycyB5b3UgZm9yZ290IHRvIHRlcm1pbmF0ZSBhIHN0cmluZywgb3IgYXR0ZW1wdGVkIHRvIHdyaXRlIGEgbXVsdGlsaW5lIHN0cmluZyB3aGljaCBpcyBpbnZhbGlkIjsKfQp9CgokZXJyU3RyID0gJ1BhcnNlIGVycm9yIG9uIGxpbmUgJyAuICgkeXlsaW5lbm8rMSkgLiAiOlxuIjsKJGVyclN0ciAuPSAkdGhpcy0+bGV4ZXItPnNob3dQb3NpdGlvbigpIC4gIlxuIjsKaWYgKCRtZXNzYWdlKSB7CiRlcnJTdHIgLj0gJG1lc3NhZ2U7Cn0gZWxzZSB7CiRlcnJTdHIgLj0gKFxjb3VudCgkZXhwZWN0ZWQpID4gMSkgPyAiRXhwZWN0ZWQgb25lIG9mOiAiIDogIkV4cGVjdGVkOiAiOwokZXJyU3RyIC49IGltcGxvZGUoJywgJywgJGV4cGVjdGVkKTsKfQoKaWYgKCcsJyA9PT0gc3Vic3RyKHRyaW0oJHRoaXMtPmxleGVyLT5nZXRQYXN0SW5wdXQoKSksIC0xKSkgewokZXJyU3RyIC49ICIgLSBJdCBhcHBlYXJzIHlvdSBoYXZlIGFuIGV4dHJhIHRyYWlsaW5nIGNvbW1hIjsKfQoKJHRoaXMtPnBhcnNlRXJyb3IoJGVyclN0ciwgYXJyYXkoCid0ZXh0JyA9PiAkdGhpcy0+bGV4ZXItPm1hdGNoLAondG9rZW4nID0+ICFlbXB0eSgkdGhpcy0+dGVybWluYWxzX1skc3ltYm9sXSkgPyAkdGhpcy0+dGVybWluYWxzX1skc3ltYm9sXSA6ICRzeW1ib2wsCidsaW5lJyA9PiAkdGhpcy0+bGV4ZXItPnl5bGluZW5vLAonbG9jJyA9PiAkeXlsb2MsCidleHBlY3RlZCcgPT4gJGV4cGVjdGVkLAopKTsKfQoKCmlmICgkcmVjb3ZlcmluZyA9PSAzKSB7CmlmICgkc3ltYm9sID09ICRFT0YpIHsKdGhyb3cgbmV3IFBhcnNpbmdFeGNlcHRpb24oJGVyclN0ciA/OiAnUGFyc2luZyBoYWx0ZWQuJyk7Cn0KCgokeXlsZW5nID0gJHRoaXMtPmxleGVyLT55eWxlbmc7CiR5eXRleHQgPSAkdGhpcy0+bGV4ZXItPnl5dGV4dDsKJHl5bGluZW5vID0gJHRoaXMtPmxleGVyLT55eWxpbmVubzsKJHl5bG9jID0gJHRoaXMtPmxleGVyLT55eWxsb2M7CiRzeW1ib2wgPSAkdGhpcy0+bGV4KCk7Cn0KCgp3aGlsZSAodHJ1ZSkgewoKaWYgKFxhcnJheV9rZXlfZXhpc3RzKCRURVJST1IsICR0aGlzLT50YWJsZVskc3RhdGVdKSkgewpicmVhazsKfQppZiAoJHN0YXRlID09IDApIHsKdGhyb3cgbmV3IFBhcnNpbmdFeGNlcHRpb24oJGVyclN0ciA/OiAnUGFyc2luZyBoYWx0ZWQuJyk7Cn0KJHRoaXMtPnBvcFN0YWNrKDEpOwokc3RhdGUgPSAkdGhpcy0+c3RhY2tbXGNvdW50KCR0aGlzLT5zdGFjayktMV07Cn0KCiRwcmVFcnJvclN5bWJvbCA9ICRzeW1ib2w7IAokc3ltYm9sID0gJFRFUlJPUjsgCiRzdGF0ZSA9ICR0aGlzLT5zdGFja1tcY291bnQoJHRoaXMtPnN0YWNrKS0xXTsKJGFjdGlvbiA9IGlzc2V0KCR0aGlzLT50YWJsZVskc3RhdGVdWyRURVJST1JdKSA/ICR0aGlzLT50YWJsZVskc3RhdGVdWyRURVJST1JdIDogZmFsc2U7CiRyZWNvdmVyaW5nID0gMzsgCn0KCgppZiAoXGlzX2FycmF5KCRhY3Rpb25bMF0pICYmIFxjb3VudCgkYWN0aW9uKSA+IDEpIHsKdGhyb3cgbmV3IFBhcnNpbmdFeGNlcHRpb24oJ1BhcnNlIEVycm9yOiBtdWx0aXBsZSBhY3Rpb25zIHBvc3NpYmxlIGF0IHN0YXRlOiAnIC4gJHN0YXRlIC4gJywgdG9rZW46ICcgLiAkc3ltYm9sKTsKfQoKc3dpdGNoICgkYWN0aW9uWzBdKSB7CmNhc2UgMTogCiR0aGlzLT5zdGFja1tdID0gJHN5bWJvbDsKJHRoaXMtPnZzdGFja1tdID0gJHRoaXMtPmxleGVyLT55eXRleHQ7CiR0aGlzLT5sc3RhY2tbXSA9ICR0aGlzLT5sZXhlci0+eXlsbG9jOwokdGhpcy0+c3RhY2tbXSA9ICRhY3Rpb25bMV07IAokc3ltYm9sID0gbnVsbDsKaWYgKCEkcHJlRXJyb3JTeW1ib2wpIHsgCiR5eWxlbmcgPSAkdGhpcy0+bGV4ZXItPnl5bGVuZzsKJHl5dGV4dCA9ICR0aGlzLT5sZXhlci0+eXl0ZXh0OwokeXlsaW5lbm8gPSAkdGhpcy0+bGV4ZXItPnl5bGluZW5vOwokeXlsb2MgPSAkdGhpcy0+bGV4ZXItPnl5bGxvYzsKaWYgKCRyZWNvdmVyaW5nID4gMCkgewokcmVjb3ZlcmluZy0tOwp9Cn0gZWxzZSB7IAokc3ltYm9sID0gJHByZUVycm9yU3ltYm9sOwokcHJlRXJyb3JTeW1ib2wgPSBudWxsOwp9CmJyZWFrOwoKY2FzZSAyOiAKJGxlbiA9ICR0aGlzLT5wcm9kdWN0aW9uc19bJGFjdGlvblsxXV1bMV07CgoKJHl5dmFsLT50b2tlbiA9ICR0aGlzLT52c3RhY2tbXGNvdW50KCR0aGlzLT52c3RhY2spIC0gJGxlbl07IAoKJHl5dmFsLT5zdG9yZSA9IGFycmF5KCAKJ2ZpcnN0X2xpbmUnID0+ICR0aGlzLT5sc3RhY2tbXGNvdW50KCR0aGlzLT5sc3RhY2spIC0gKCRsZW4gPzogMSldWydmaXJzdF9saW5lJ10sCidsYXN0X2xpbmUnID0+ICR0aGlzLT5sc3RhY2tbXGNvdW50KCR0aGlzLT5sc3RhY2spIC0gMV1bJ2xhc3RfbGluZSddLAonZmlyc3RfY29sdW1uJyA9PiAkdGhpcy0+bHN0YWNrW1xjb3VudCgkdGhpcy0+bHN0YWNrKSAtICgkbGVuID86IDEpXVsnZmlyc3RfY29sdW1uJ10sCidsYXN0X2NvbHVtbicgPT4gJHRoaXMtPmxzdGFja1tcY291bnQoJHRoaXMtPmxzdGFjaykgLSAxXVsnbGFzdF9jb2x1bW4nXSwKKTsKJHIgPSAkdGhpcy0+cGVyZm9ybUFjdGlvbigkeXl2YWwsICR5eXRleHQsICR5eWxlbmcsICR5eWxpbmVubywgJGFjdGlvblsxXSwgJHRoaXMtPnZzdGFjayk7CgppZiAoISRyIGluc3RhbmNlb2YgVW5kZWZpbmVkKSB7CnJldHVybiAkcjsKfQoKaWYgKCRsZW4pIHsKJHRoaXMtPnBvcFN0YWNrKCRsZW4pOwp9CgokdGhpcy0+c3RhY2tbXSA9ICR0aGlzLT5wcm9kdWN0aW9uc19bJGFjdGlvblsxXV1bMF07IAokdGhpcy0+dnN0YWNrW10gPSAkeXl2YWwtPnRva2VuOwokdGhpcy0+bHN0YWNrW10gPSAkeXl2YWwtPnN0b3JlOwokbmV3U3RhdGUgPSAkdGhpcy0+dGFibGVbJHRoaXMtPnN0YWNrW1xjb3VudCgkdGhpcy0+c3RhY2spLTJdXVskdGhpcy0+c3RhY2tbXGNvdW50KCR0aGlzLT5zdGFjayktMV1dOwokdGhpcy0+c3RhY2tbXSA9ICRuZXdTdGF0ZTsKYnJlYWs7CgpjYXNlIDM6IAoKcmV0dXJuIHRydWU7Cn0KfQp9Cgpwcm90ZWN0ZWQgZnVuY3Rpb24gcGFyc2VFcnJvcigkc3RyLCAkaGFzaCkKewp0aHJvdyBuZXcgUGFyc2luZ0V4Y2VwdGlvbigkc3RyLCAkaGFzaCk7Cn0KCgoKCnByaXZhdGUgZnVuY3Rpb24gcGVyZm9ybUFjdGlvbihzdGRDbGFzcyAkeXl2YWwsICR5eXRleHQsICR5eWxlbmcsICR5eWxpbmVubywgJHl5c3RhdGUsICYkdG9rZW5zKQp7CgokbGVuID0gXGNvdW50KCR0b2tlbnMpIC0gMTsKc3dpdGNoICgkeXlzdGF0ZSkgewpjYXNlIDE6CiR5eXRleHQgPSBwcmVnX3JlcGxhY2VfY2FsbGJhY2soJ3soPzpcXFxcWyJiZm5ydC9cXFxcXXxcXFxcdVthLWZBLUYwLTldezR9KX0nLCBhcnJheSgkdGhpcywgJ3N0cmluZ0ludGVycG9sYXRpb24nKSwgJHl5dGV4dCk7CiR5eXZhbC0+dG9rZW4gPSAkeXl0ZXh0OwpicmVhazsKY2FzZSAyOgppZiAoc3RycG9zKCR5eXRleHQsICdlJykgIT09IGZhbHNlIHx8IHN0cnBvcygkeXl0ZXh0LCAnRScpICE9PSBmYWxzZSkgewokeXl2YWwtPnRva2VuID0gXGZsb2F0dmFsKCR5eXRleHQpOwp9IGVsc2UgewokeXl2YWwtPnRva2VuID0gc3RycG9zKCR5eXRleHQsICcuJykgPT09IGZhbHNlID8gXGludHZhbCgkeXl0ZXh0KSA6IFxmbG9hdHZhbCgkeXl0ZXh0KTsKfQpicmVhazsKY2FzZSAzOgokeXl2YWwtPnRva2VuID0gbnVsbDsKYnJlYWs7CmNhc2UgNDoKJHl5dmFsLT50b2tlbiA9IHRydWU7CmJyZWFrOwpjYXNlIDU6CiR5eXZhbC0+dG9rZW4gPSBmYWxzZTsKYnJlYWs7CmNhc2UgNjoKcmV0dXJuICR5eXZhbC0+dG9rZW4gPSAkdG9rZW5zWyRsZW4tMV07CmNhc2UgMTM6CmlmICgkdGhpcy0+ZmxhZ3MgJiBzZWxmOjpQQVJTRV9UT19BU1NPQykgewokeXl2YWwtPnRva2VuID0gYXJyYXkoKTsKfSBlbHNlIHsKJHl5dmFsLT50b2tlbiA9IG5ldyBzdGRDbGFzczsKfQpicmVhazsKY2FzZSAxNDoKJHl5dmFsLT50b2tlbiA9ICR0b2tlbnNbJGxlbi0xXTsKYnJlYWs7CmNhc2UgMTU6CiR5eXZhbC0+dG9rZW4gPSBhcnJheSgkdG9rZW5zWyRsZW4tMl0sICR0b2tlbnNbJGxlbl0pOwpicmVhazsKY2FzZSAxNjoKaWYgKFBIUF9WRVJTSU9OX0lEIDwgNzAxMDApIHsKJHByb3BlcnR5ID0gJHRva2Vuc1skbGVuXVswXSA9PT0gJycgPyAnX2VtcHR5XycgOiAkdG9rZW5zWyRsZW5dWzBdOwp9IGVsc2UgewokcHJvcGVydHkgPSAkdG9rZW5zWyRsZW5dWzBdOwp9CmlmICgkdGhpcy0+ZmxhZ3MgJiBzZWxmOjpQQVJTRV9UT19BU1NPQykgewokeXl2YWwtPnRva2VuID0gYXJyYXkoKTsKJHl5dmFsLT50b2tlblskcHJvcGVydHldID0gJHRva2Vuc1skbGVuXVsxXTsKfSBlbHNlIHsKJHl5dmFsLT50b2tlbiA9IG5ldyBzdGRDbGFzczsKJHl5dmFsLT50b2tlbi0+JHByb3BlcnR5ID0gJHRva2Vuc1skbGVuXVsxXTsKfQpicmVhazsKY2FzZSAxNzoKaWYgKCR0aGlzLT5mbGFncyAmIHNlbGY6OlBBUlNFX1RPX0FTU09DKSB7CiR5eXZhbC0+dG9rZW4gPSYgJHRva2Vuc1skbGVuLTJdOwoka2V5ID0gJHRva2Vuc1skbGVuXVswXTsKaWYgKCgkdGhpcy0+ZmxhZ3MgJiBzZWxmOjpERVRFQ1RfS0VZX0NPTkZMSUNUUykgJiYgaXNzZXQoJHRva2Vuc1skbGVuLTJdWyRrZXldKSkgewokZXJyU3RyID0gJ1BhcnNlIGVycm9yIG9uIGxpbmUgJyAuICgkeXlsaW5lbm8rMSkgLiAiOlxuIjsKJGVyclN0ciAuPSAkdGhpcy0+bGV4ZXItPnNob3dQb3NpdGlvbigpIC4gIlxuIjsKJGVyclN0ciAuPSAiRHVwbGljYXRlIGtleTogIi4kdG9rZW5zWyRsZW5dWzBdOwp0aHJvdyBuZXcgRHVwbGljYXRlS2V5RXhjZXB0aW9uKCRlcnJTdHIsICR0b2tlbnNbJGxlbl1bMF0sIGFycmF5KCdsaW5lJyA9PiAkeXlsaW5lbm8rMSkpOwp9IGVsc2VpZiAoKCR0aGlzLT5mbGFncyAmIHNlbGY6OkFMTE9XX0RVUExJQ0FURV9LRVlTKSAmJiBpc3NldCgkdG9rZW5zWyRsZW4tMl1bJGtleV0pKSB7CiRkdXBsaWNhdGVDb3VudCA9IDE7CmRvIHsKJGR1cGxpY2F0ZUtleSA9ICRrZXkgLiAnLicgLiAkZHVwbGljYXRlQ291bnQrKzsKfSB3aGlsZSAoaXNzZXQoJHRva2Vuc1skbGVuLTJdWyRkdXBsaWNhdGVLZXldKSk7CiRrZXkgPSAkZHVwbGljYXRlS2V5Owp9CiR0b2tlbnNbJGxlbi0yXVska2V5XSA9ICR0b2tlbnNbJGxlbl1bMV07Cn0gZWxzZSB7CiR5eXZhbC0+dG9rZW4gPSAkdG9rZW5zWyRsZW4tMl07CmlmIChQSFBfVkVSU0lPTl9JRCA8IDcwMTAwKSB7CiRrZXkgPSAkdG9rZW5zWyRsZW5dWzBdID09PSAnJyA/ICdfZW1wdHlfJyA6ICR0b2tlbnNbJGxlbl1bMF07Cn0gZWxzZSB7CiRrZXkgPSAkdG9rZW5zWyRsZW5dWzBdOwp9CmlmICgoJHRoaXMtPmZsYWdzICYgc2VsZjo6REVURUNUX0tFWV9DT05GTElDVFMpICYmIGlzc2V0KCR0b2tlbnNbJGxlbi0yXS0+eyRrZXl9KSkgewokZXJyU3RyID0gJ1BhcnNlIGVycm9yIG9uIGxpbmUgJyAuICgkeXlsaW5lbm8rMSkgLiAiOlxuIjsKJGVyclN0ciAuPSAkdGhpcy0+bGV4ZXItPnNob3dQb3NpdGlvbigpIC4gIlxuIjsKJGVyclN0ciAuPSAiRHVwbGljYXRlIGtleTogIi4kdG9rZW5zWyRsZW5dWzBdOwp0aHJvdyBuZXcgRHVwbGljYXRlS2V5RXhjZXB0aW9uKCRlcnJTdHIsICR0b2tlbnNbJGxlbl1bMF0sIGFycmF5KCdsaW5lJyA9PiAkeXlsaW5lbm8rMSkpOwp9IGVsc2VpZiAoKCR0aGlzLT5mbGFncyAmIHNlbGY6OkFMTE9XX0RVUExJQ0FURV9LRVlTKSAmJiBpc3NldCgkdG9rZW5zWyRsZW4tMl0tPnska2V5fSkpIHsKJGR1cGxpY2F0ZUNvdW50ID0gMTsKZG8gewokZHVwbGljYXRlS2V5ID0gJGtleSAuICcuJyAuICRkdXBsaWNhdGVDb3VudCsrOwp9IHdoaWxlIChpc3NldCgkdG9rZW5zWyRsZW4tMl0tPiRkdXBsaWNhdGVLZXkpKTsKJGtleSA9ICRkdXBsaWNhdGVLZXk7Cn0KJHRva2Vuc1skbGVuLTJdLT4ka2V5ID0gJHRva2Vuc1skbGVuXVsxXTsKfQpicmVhazsKY2FzZSAxODoKJHl5dmFsLT50b2tlbiA9IGFycmF5KCk7CmJyZWFrOwpjYXNlIDE5OgokeXl2YWwtPnRva2VuID0gJHRva2Vuc1skbGVuLTFdOwpicmVhazsKY2FzZSAyMDoKJHl5dmFsLT50b2tlbiA9IGFycmF5KCR0b2tlbnNbJGxlbl0pOwpicmVhazsKY2FzZSAyMToKJHRva2Vuc1skbGVuLTJdW10gPSAkdG9rZW5zWyRsZW5dOwokeXl2YWwtPnRva2VuID0gJHRva2Vuc1skbGVuLTJdOwpicmVhazsKfQoKcmV0dXJuIG5ldyBVbmRlZmluZWQoKTsKfQoKcHJpdmF0ZSBmdW5jdGlvbiBzdHJpbmdJbnRlcnBvbGF0aW9uKCRtYXRjaCkKewpzd2l0Y2ggKCRtYXRjaFswXSkgewpjYXNlICdcXFxcJzoKcmV0dXJuICdcXCc7CmNhc2UgJ1wiJzoKcmV0dXJuICciJzsKY2FzZSAnXGInOgpyZXR1cm4gXGNocig4KTsKY2FzZSAnXGYnOgpyZXR1cm4gXGNocigxMik7CmNhc2UgJ1xuJzoKcmV0dXJuICJcbiI7CmNhc2UgJ1xyJzoKcmV0dXJuICJcciI7CmNhc2UgJ1x0JzoKcmV0dXJuICJcdCI7CmNhc2UgJ1wvJzoKcmV0dXJuICIvIjsKZGVmYXVsdDoKcmV0dXJuIGh0bWxfZW50aXR5X2RlY29kZSgnJiN4Jy5sdHJpbShzdWJzdHIoJG1hdGNoWzBdLCAyKSwgJzAnKS4nOycsIEVOVF9RVU9URVMsICdVVEYtOCcpOwp9Cn0KCnByaXZhdGUgZnVuY3Rpb24gcG9wU3RhY2soJG4pCnsKJHRoaXMtPnN0YWNrID0gXGFycmF5X3NsaWNlKCR0aGlzLT5zdGFjaywgMCwgLSAoMiAqICRuKSk7CiR0aGlzLT52c3RhY2sgPSBcYXJyYXlfc2xpY2UoJHRoaXMtPnZzdGFjaywgMCwgLSAkbik7CiR0aGlzLT5sc3RhY2sgPSBcYXJyYXlfc2xpY2UoJHRoaXMtPmxzdGFjaywgMCwgLSAkbik7Cn0KCnByaXZhdGUgZnVuY3Rpb24gbGV4KCkKewokdG9rZW4gPSAkdGhpcy0+bGV4ZXItPmxleCgpID86IDE7IAoKaWYgKCFpc19udW1lcmljKCR0b2tlbikpIHsKJHRva2VuID0gaXNzZXQoJHRoaXMtPnN5bWJvbHNbJHRva2VuXSkgPyAkdGhpcy0+c3ltYm9sc1skdG9rZW5dIDogJHRva2VuOwp9CgpyZXR1cm4gJHRva2VuOwp9Cgpwcml2YXRlIGZ1bmN0aW9uIGZhaWxPbkJPTSgkaW5wdXQpCnsKCiRib20gPSAiXHhFRlx4QkJceEJGIjsKCmlmIChzdWJzdHIoJGlucHV0LCAwLCAzKSA9PT0gJGJvbSkgewokdGhpcy0+cGFyc2VFcnJvcigiQk9NIGRldGVjdGVkLCBtYWtlIHN1cmUgeW91ciBpbnB1dCBkb2VzIG5vdCBpbmNsdWRlIGEgVW5pY29kZSBCeXRlLU9yZGVyLU1hcmsiLCBhcnJheSgpKTsKfQp9Cn0KPD9waHAKCgoKCgoKCgoKCm5hbWVzcGFjZSBTZWxkXEpzb25MaW50OwoKCgoKCgpjbGFzcyBMZXhlcgp7CnByaXZhdGUgJEVPRiA9IDE7CgoKCnByaXZhdGUgJHJ1bGVzID0gYXJyYXkoCjAgPT4gJy9cR1xzKy8nLAoxID0+ICcvXEctPyhbMC05XXxbMS05XVswLTldKykoXC5bMC05XSspPyhbZUVdWystXT9bMC05XSspP1xiLycsCjIgPT4gJ3tcRyIoPz5cXFxcWyJiZm5ydC9cXFxcXXxcXFxcdVthLWZBLUYwLTldezR9fFteXDAtXHgxZlxcXFwiXSsrKSorIn0nLAozID0+ICcvXEdcey8nLAo0ID0+ICcvXEdcfS8nLAo1ID0+ICcvXEdcWy8nLAo2ID0+ICcvXEdcXS8nLAo3ID0+ICcvXEcsLycsCjggPT4gJy9cRzovJywKOSA9PiAnL1xHdHJ1ZVxiLycsCjEwID0+ICcvXEdmYWxzZVxiLycsCjExID0+ICcvXEdudWxsXGIvJywKMTIgPT4gJy9cRyQvJywKMTMgPT4gJy9cRy4vJywKKTsKCnByaXZhdGUgJGNvbmRpdGlvbnMgPSBhcnJheSgKIklOSVRJQUwiID0+IGFycmF5KAoicnVsZXMiID0+IGFycmF5KDAsMSwyLDMsNCw1LDYsNyw4LDksMTAsMTEsMTIsMTMpLAoiaW5jbHVzaXZlIiA9PiB0cnVlLAopLAopOwoKcHJpdmF0ZSAkY29uZGl0aW9uU3RhY2s7CnByaXZhdGUgJGlucHV0Owpwcml2YXRlICRtb3JlOwpwcml2YXRlICRkb25lOwpwcml2YXRlICRvZmZzZXQ7CgpwdWJsaWMgJG1hdGNoOwpwdWJsaWMgJHl5bGluZW5vOwpwdWJsaWMgJHl5bGVuZzsKcHVibGljICR5eXRleHQ7CnB1YmxpYyAkeXlsbG9jOwoKcHVibGljIGZ1bmN0aW9uIGxleCgpCnsKJHIgPSAkdGhpcy0+bmV4dCgpOwppZiAoISRyIGluc3RhbmNlb2YgVW5kZWZpbmVkKSB7CnJldHVybiAkcjsKfQoKcmV0dXJuICR0aGlzLT5sZXgoKTsKfQoKcHVibGljIGZ1bmN0aW9uIHNldElucHV0KCRpbnB1dCkKewokdGhpcy0+aW5wdXQgPSAkaW5wdXQ7CiR0aGlzLT5tb3JlID0gZmFsc2U7CiR0aGlzLT5kb25lID0gZmFsc2U7CiR0aGlzLT5vZmZzZXQgPSAwOwokdGhpcy0+eXlsaW5lbm8gPSAkdGhpcy0+eXlsZW5nID0gMDsKJHRoaXMtPnl5dGV4dCA9ICR0aGlzLT5tYXRjaCA9ICcnOwokdGhpcy0+Y29uZGl0aW9uU3RhY2sgPSBhcnJheSgnSU5JVElBTCcpOwokdGhpcy0+eXlsbG9jID0gYXJyYXkoJ2ZpcnN0X2xpbmUnID0+IDEsICdmaXJzdF9jb2x1bW4nID0+IDAsICdsYXN0X2xpbmUnID0+IDEsICdsYXN0X2NvbHVtbicgPT4gMCk7CgpyZXR1cm4gJHRoaXM7Cn0KCnB1YmxpYyBmdW5jdGlvbiBzaG93UG9zaXRpb24oKQp7CiRwcmUgPSBzdHJfcmVwbGFjZSgiXG4iLCAnJywgJHRoaXMtPmdldFBhc3RJbnB1dCgpKTsKJGMgPSBzdHJfcmVwZWF0KCctJywgbWF4KDAsIFxzdHJsZW4oJHByZSkgLSAxKSk7IAoKcmV0dXJuICRwcmUgLiBzdHJfcmVwbGFjZSgiXG4iLCAnJywgJHRoaXMtPmdldFVwY29taW5nSW5wdXQoKSkgLiAiXG4iIC4gJGMgLiAiXiI7Cn0KCnB1YmxpYyBmdW5jdGlvbiBnZXRQYXN0SW5wdXQoKQp7CiRwYXN0TGVuZ3RoID0gJHRoaXMtPm9mZnNldCAtIFxzdHJsZW4oJHRoaXMtPm1hdGNoKTsKCnJldHVybiAoJHBhc3RMZW5ndGggPiAyMCA/ICcuLi4nIDogJycpIC4gc3Vic3RyKCR0aGlzLT5pbnB1dCwgbWF4KDAsICRwYXN0TGVuZ3RoIC0gMjApLCBtaW4oMjAsICRwYXN0TGVuZ3RoKSk7Cn0KCnB1YmxpYyBmdW5jdGlvbiBnZXRVcGNvbWluZ0lucHV0KCkKewokbmV4dCA9ICR0aGlzLT5tYXRjaDsKaWYgKFxzdHJsZW4oJG5leHQpIDwgMjApIHsKJG5leHQgLj0gc3Vic3RyKCR0aGlzLT5pbnB1dCwgJHRoaXMtPm9mZnNldCwgMjAgLSBcc3RybGVuKCRuZXh0KSk7Cn0KCnJldHVybiBzdWJzdHIoJG5leHQsIDAsIDIwKSAuIChcc3RybGVuKCRuZXh0KSA+IDIwID8gJy4uLicgOiAnJyk7Cn0KCnB1YmxpYyBmdW5jdGlvbiBnZXRGdWxsVXBjb21pbmdJbnB1dCgpCnsKJG5leHQgPSAkdGhpcy0+bWF0Y2g7CmlmIChzdWJzdHIoJG5leHQsIDAsIDEpID09PSAnIicgJiYgc3Vic3RyX2NvdW50KCRuZXh0LCAnIicpID09PSAxKSB7CiRsZW4gPSBcc3RybGVuKCR0aGlzLT5pbnB1dCk7CiRzdHJFbmQgPSBtaW4oc3RycG9zKCR0aGlzLT5pbnB1dCwgJyInLCAkdGhpcy0+b2Zmc2V0ICsgMSkgPzogJGxlbiwgc3RycG9zKCR0aGlzLT5pbnB1dCwgIlxuIiwgJHRoaXMtPm9mZnNldCArIDEpID86ICRsZW4pOwokbmV4dCAuPSBzdWJzdHIoJHRoaXMtPmlucHV0LCAkdGhpcy0+b2Zmc2V0LCAkc3RyRW5kIC0gJHRoaXMtPm9mZnNldCk7Cn0gZWxzZWlmIChcc3RybGVuKCRuZXh0KSA8IDIwKSB7CiRuZXh0IC49IHN1YnN0cigkdGhpcy0+aW5wdXQsICR0aGlzLT5vZmZzZXQsIDIwIC0gXHN0cmxlbigkbmV4dCkpOwp9CgpyZXR1cm4gJG5leHQ7Cn0KCnByb3RlY3RlZCBmdW5jdGlvbiBwYXJzZUVycm9yKCRzdHIsICRoYXNoKQp7CnRocm93IG5ldyBcRXhjZXB0aW9uKCRzdHIpOwp9Cgpwcml2YXRlIGZ1bmN0aW9uIG5leHQoKQp7CmlmICgkdGhpcy0+ZG9uZSkgewpyZXR1cm4gJHRoaXMtPkVPRjsKfQppZiAoJHRoaXMtPm9mZnNldCA9PT0gXHN0cmxlbigkdGhpcy0+aW5wdXQpKSB7CiR0aGlzLT5kb25lID0gdHJ1ZTsKfQoKJHRva2VuID0gbnVsbDsKJG1hdGNoID0gbnVsbDsKJGNvbCA9IG51bGw7CiRsaW5lcyA9IG51bGw7CgppZiAoISR0aGlzLT5tb3JlKSB7CiR0aGlzLT55eXRleHQgPSAnJzsKJHRoaXMtPm1hdGNoID0gJyc7Cn0KCiRydWxlcyA9ICR0aGlzLT5nZXRDdXJyZW50UnVsZXMoKTsKJHJ1bGVzTGVuID0gXGNvdW50KCRydWxlcyk7Cgpmb3IgKCRpPTA7ICRpIDwgJHJ1bGVzTGVuOyAkaSsrKSB7CmlmIChwcmVnX21hdGNoKCR0aGlzLT5ydWxlc1skcnVsZXNbJGldXSwgJHRoaXMtPmlucHV0LCAkbWF0Y2gsIDAsICR0aGlzLT5vZmZzZXQpKSB7CnByZWdfbWF0Y2hfYWxsKCcvXG4uKi8nLCAkbWF0Y2hbMF0sICRsaW5lcyk7CiRsaW5lcyA9ICRsaW5lc1swXTsKaWYgKCRsaW5lcykgewokdGhpcy0+eXlsaW5lbm8gKz0gXGNvdW50KCRsaW5lcyk7Cn0KCiR0aGlzLT55eWxsb2MgPSBhcnJheSgKJ2ZpcnN0X2xpbmUnID0+ICR0aGlzLT55eWxsb2NbJ2xhc3RfbGluZSddLAonbGFzdF9saW5lJyA9PiAkdGhpcy0+eXlsaW5lbm8rMSwKJ2ZpcnN0X2NvbHVtbicgPT4gJHRoaXMtPnl5bGxvY1snbGFzdF9jb2x1bW4nXSwKJ2xhc3RfY29sdW1uJyA9PiAkbGluZXMgPyBcc3RybGVuKCRsaW5lc1tcY291bnQoJGxpbmVzKSAtIDFdKSAtIDEgOiAkdGhpcy0+eXlsbG9jWydsYXN0X2NvbHVtbiddICsgXHN0cmxlbigkbWF0Y2hbMF0pLAopOwokdGhpcy0+eXl0ZXh0IC49ICRtYXRjaFswXTsKJHRoaXMtPm1hdGNoIC49ICRtYXRjaFswXTsKJHRoaXMtPnl5bGVuZyA9IFxzdHJsZW4oJHRoaXMtPnl5dGV4dCk7CiR0aGlzLT5tb3JlID0gZmFsc2U7CiR0aGlzLT5vZmZzZXQgKz0gXHN0cmxlbigkbWF0Y2hbMF0pOwokdG9rZW4gPSAkdGhpcy0+cGVyZm9ybUFjdGlvbigkcnVsZXNbJGldLCAkdGhpcy0+Y29uZGl0aW9uU3RhY2tbXGNvdW50KCR0aGlzLT5jb25kaXRpb25TdGFjayktMV0pOwppZiAoJHRva2VuKSB7CnJldHVybiAkdG9rZW47Cn0KCnJldHVybiBuZXcgVW5kZWZpbmVkKCk7Cn0KfQoKaWYgKCR0aGlzLT5vZmZzZXQgPT09IFxzdHJsZW4oJHRoaXMtPmlucHV0KSkgewpyZXR1cm4gJHRoaXMtPkVPRjsKfQoKJHRoaXMtPnBhcnNlRXJyb3IoCidMZXhpY2FsIGVycm9yIG9uIGxpbmUgJyAuICgkdGhpcy0+eXlsaW5lbm8rMSkgLiAiLiBVbnJlY29nbml6ZWQgdGV4dC5cbiIgLiAkdGhpcy0+c2hvd1Bvc2l0aW9uKCksCmFycmF5KAondGV4dCcgPT4gIiIsCid0b2tlbicgPT4gbnVsbCwKJ2xpbmUnID0+ICR0aGlzLT55eWxpbmVubywKKQopOwp9Cgpwcml2YXRlIGZ1bmN0aW9uIGdldEN1cnJlbnRSdWxlcygpCnsKcmV0dXJuICR0aGlzLT5jb25kaXRpb25zWyR0aGlzLT5jb25kaXRpb25TdGFja1tcY291bnQoJHRoaXMtPmNvbmRpdGlvblN0YWNrKS0xXV1bJ3J1bGVzJ107Cn0KCnByaXZhdGUgZnVuY3Rpb24gcGVyZm9ybUFjdGlvbigkYXZvaWRpbmdfbmFtZV9jb2xsaXNpb25zLCAkWVlfU1RBUlQpCnsKc3dpdGNoICgkYXZvaWRpbmdfbmFtZV9jb2xsaXNpb25zKSB7CmNhc2UgMDoKYnJlYWs7CmNhc2UgMToKcmV0dXJuIDY7CmNhc2UgMjoKJHRoaXMtPnl5dGV4dCA9IHN1YnN0cigkdGhpcy0+eXl0ZXh0LCAxLCAkdGhpcy0+eXlsZW5nLTIpOwoKcmV0dXJuIDQ7CmNhc2UgMzoKcmV0dXJuIDE3OwpjYXNlIDQ6CnJldHVybiAxODsKY2FzZSA1OgpyZXR1cm4gMjM7CmNhc2UgNjoKcmV0dXJuIDI0OwpjYXNlIDc6CnJldHVybiAyMjsKY2FzZSA4OgpyZXR1cm4gMjE7CmNhc2UgOToKcmV0dXJuIDEwOwpjYXNlIDEwOgpyZXR1cm4gMTE7CmNhc2UgMTE6CnJldHVybiA4OwpjYXNlIDEyOgpyZXR1cm4gMTQ7CmNhc2UgMTM6CnJldHVybiAnSU5WQUxJRCc7Cn0KfQp9Cjw/cGhwCgoKCgoKCgoKCgpuYW1lc3BhY2UgU2VsZFxKc29uTGludDsKCmNsYXNzIFBhcnNpbmdFeGNlcHRpb24gZXh0ZW5kcyBcRXhjZXB0aW9uCnsKcHJvdGVjdGVkICRkZXRhaWxzOwoKCgoKCnB1YmxpYyBmdW5jdGlvbiBfX2NvbnN0cnVjdCgkbWVzc2FnZSwgJGRldGFpbHMgPSBhcnJheSgpKQp7CiR0aGlzLT5kZXRhaWxzID0gJGRldGFpbHM7CnBhcmVudDo6X19jb25zdHJ1Y3QoJG1lc3NhZ2UpOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0RGV0YWlscygpCnsKcmV0dXJuICR0aGlzLT5kZXRhaWxzOwp9Cn0KPD9waHAKCgoKCgoKCgoKCm5hbWVzcGFjZSBTZWxkXEpzb25MaW50OwoKY2xhc3MgVW5kZWZpbmVkCnsKfQoKQ29weXJpZ2h0IChjKSAyMDE1IEpvcmRpIEJvZ2dpYW5vCgpQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYSBjb3B5Cm9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlICJTb2Z0d2FyZSIpLCB0byBkZWFsCmluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMKdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbApjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMgZnVybmlzaGVkCnRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczoKClRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkIGluIGFsbApjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLgoKVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEICJBUyBJUyIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1IKSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFksCkZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRQpBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSCkxJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sCk9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4KVEhFIFNPRlRXQVJFLgoKPD9waHAKCgoKCgoKCgoKCm5hbWVzcGFjZSBTZWxkXFBoYXJVdGlsczsKCmNsYXNzIExpbnRlcgp7CgoKCgoKcHVibGljIHN0YXRpYyBmdW5jdGlvbiBsaW50KCRwYXRoKQp7CiRwaHAgPSBkZWZpbmVkKCdQSFBfQklOQVJZJykgPyBQSFBfQklOQVJZIDogJ3BocCc7CgppZiAoJGlzV2luZG93cyA9IGRlZmluZWQoJ1BIUF9XSU5ET1dTX1ZFUlNJT05fQlVJTEQnKSkgewokdG1wRmlsZSA9IEB0ZW1wbmFtKHN5c19nZXRfdGVtcF9kaXIoKSwgJycpOwoKaWYgKCEkdG1wRmlsZSB8fCAhaXNfd3JpdGFibGUoJHRtcEZpbGUpKSB7CnRocm93IG5ldyBcUnVudGltZUV4Y2VwdGlvbignVW5hYmxlIHRvIGNyZWF0ZSB0ZW1wIGZpbGUnKTsKfQoKJHBocCA9IHNlbGY6OmVzY2FwZVdpbmRvd3NQYXRoKCRwaHApOwokdG1wRmlsZSA9IHNlbGY6OmVzY2FwZVdpbmRvd3NQYXRoKCR0bXBGaWxlKTsKCgppZiAoUEhQX1ZFUlNJT05fSUQgPj0gODAwMDApIHsKJGZvcm1hdCA9ICclcyAtbCAlcyc7Cn0gZWxzZSB7CiRmb3JtYXQgPSAnIiVzIC1sICVzIic7Cn0KCiRjb21tYW5kID0gc3ByaW50ZigkZm9ybWF0LCAkcGhwLCAkdG1wRmlsZSk7Cn0gZWxzZSB7CiRjb21tYW5kID0gIiciLiRwaHAuIicgLWwiOwp9CgokZGVzY3JpcHRvcnNwZWMgPSBhcnJheSgKMCA9PiBhcnJheSgncGlwZScsICdyJyksCjEgPT4gYXJyYXkoJ3BpcGUnLCAndycpLAoyID0+IGFycmF5KCdwaXBlJywgJ3cnKQopOwoKZm9yZWFjaCAobmV3IFxSZWN1cnNpdmVJdGVyYXRvckl0ZXJhdG9yKG5ldyBcUGhhcigkcGF0aCkpIGFzICRmaWxlKSB7CmlmICgkZmlsZS0+aXNEaXIoKSkgewpjb250aW51ZTsKfQppZiAoc3Vic3RyKCRmaWxlLCAtNCkgPT09ICcucGhwJykgewokZmlsZW5hbWUgPSAoc3RyaW5nKSAkZmlsZTsKCmlmICgkaXNXaW5kb3dzKSB7CmZpbGVfcHV0X2NvbnRlbnRzKCR0bXBGaWxlLCBmaWxlX2dldF9jb250ZW50cygkZmlsZW5hbWUpKTsKfQoKJHByb2Nlc3MgPSBwcm9jX29wZW4oJGNvbW1hbmQsICRkZXNjcmlwdG9yc3BlYywgJHBpcGVzKTsKaWYgKGlzX3Jlc291cmNlKCRwcm9jZXNzKSkgewppZiAoISRpc1dpbmRvd3MpIHsKZndyaXRlKCRwaXBlc1swXSwgZmlsZV9nZXRfY29udGVudHMoJGZpbGVuYW1lKSk7Cn0KZmNsb3NlKCRwaXBlc1swXSk7Cgokc3Rkb3V0ID0gc3RyZWFtX2dldF9jb250ZW50cygkcGlwZXNbMV0pOwpmY2xvc2UoJHBpcGVzWzFdKTsKJHN0ZGVyciA9IHN0cmVhbV9nZXRfY29udGVudHMoJHBpcGVzWzJdKTsKZmNsb3NlKCRwaXBlc1syXSk7CgokZXhpdENvZGUgPSBwcm9jX2Nsb3NlKCRwcm9jZXNzKTsKCmlmICgkZXhpdENvZGUgIT09IDApIHsKaWYgKCRpc1dpbmRvd3MpIHsKJHN0ZGVyciA9IHN0cl9yZXBsYWNlKCR0bXBGaWxlLCAkZmlsZW5hbWUsICRzdGRlcnIpOwp9CnRocm93IG5ldyBcVW5leHBlY3RlZFZhbHVlRXhjZXB0aW9uKCdGYWlsZWQgbGludGluZyAnLiRmaWxlLic6ICcuJHN0ZGVycik7Cn0KfSBlbHNlIHsKdGhyb3cgbmV3IFxSdW50aW1lRXhjZXB0aW9uKCdDb3VsZCBub3Qgc3RhcnQgbGludGVyIHByb2Nlc3MnKTsKfQp9Cn0KCmlmICgkaXNXaW5kb3dzKSB7CkB1bmxpbmsoJHRtcEZpbGUpOwp9Cn0KCgoKCgoKCnByaXZhdGUgc3RhdGljIGZ1bmN0aW9uIGVzY2FwZVdpbmRvd3NQYXRoKCRwYXRoKQp7CgppZiAoc3RycGJyaygkcGF0aCwgIiAoKSIpICE9PSBmYWxzZSkgewokcGF0aCA9ICciJy4kcGF0aC4nIic7Cn0KCnJldHVybiAkcGF0aDsKfQp9Cjw/cGhwCgoKCgoKCgoKCgpuYW1lc3BhY2UgU2VsZFxQaGFyVXRpbHM7CgpjbGFzcyBUaW1lc3RhbXBzCnsKcHJpdmF0ZSAkY29udGVudHM7CgoKCgpwdWJsaWMgZnVuY3Rpb24gX19jb25zdHJ1Y3QoJGZpbGUpCnsKJHRoaXMtPmNvbnRlbnRzID0gZmlsZV9nZXRfY29udGVudHMoJGZpbGUpOwp9CgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIHVwZGF0ZVRpbWVzdGFtcHMoJHRpbWVzdGFtcCA9IG51bGwpCnsKaWYgKCR0aW1lc3RhbXAgaW5zdGFuY2VvZiBcRGF0ZVRpbWUpIHsKJHRpbWVzdGFtcCA9ICR0aW1lc3RhbXAtPmdldFRpbWVzdGFtcCgpOwp9IGVsc2VpZiAoaXNfc3RyaW5nKCR0aW1lc3RhbXApKSB7CiR0aW1lc3RhbXAgPSBzdHJ0b3RpbWUoJHRpbWVzdGFtcCk7Cn0gZWxzZWlmICghaXNfaW50KCR0aW1lc3RhbXApKSB7CiR0aW1lc3RhbXAgPSBzdHJ0b3RpbWUoJzE5ODQtMTItMjRUMDA6MDA6MDBaJyk7Cn0KCgppZiAoIXByZWdfbWF0Y2goJ3tfX0hBTFRfQ09NUElMRVJcKFwpOyg/OiArXD8+KT9ccj9cbn0nLCAkdGhpcy0+Y29udGVudHMsICRtYXRjaCwgUFJFR19PRkZTRVRfQ0FQVFVSRSkpIHsKdGhyb3cgbmV3IFxSdW50aW1lRXhjZXB0aW9uKCdDb3VsZCBub3QgZGV0ZWN0IHRoZSBzdHViXCdzIGVuZCBpbiB0aGUgcGhhcicpOwp9CgoKJHBvcyA9ICRtYXRjaFswXVsxXSArIHN0cmxlbigkbWF0Y2hbMF1bMF0pOwokc3R1YkVuZCA9ICRwb3MgKyAkdGhpcy0+cmVhZFVpbnQoJHBvcywgNCk7CiRwb3MgKz0gNDsKCiRudW1GaWxlcyA9ICR0aGlzLT5yZWFkVWludCgkcG9zLCA0KTsKJHBvcyArPSA0OwoKCiRwb3MgKz0gMjsKCgokcG9zICs9IDQ7CgokYWxpYXNMZW5ndGggPSAkdGhpcy0+cmVhZFVpbnQoJHBvcywgNCk7CiRwb3MgKz0gNCArICRhbGlhc0xlbmd0aDsKCiRtZXRhZGF0YUxlbmd0aCA9ICR0aGlzLT5yZWFkVWludCgkcG9zLCA0KTsKJHBvcyArPSA0ICsgJG1ldGFkYXRhTGVuZ3RoOwoKd2hpbGUgKCRwb3MgPCAkc3R1YkVuZCkgewokZmlsZW5hbWVMZW5ndGggPSAkdGhpcy0+cmVhZFVpbnQoJHBvcywgNCk7CiRwb3MgKz0gNCArICRmaWxlbmFtZUxlbmd0aDsKCgokcG9zICs9IDQ7CgoKJHRoaXMtPmNvbnRlbnRzID0gc3Vic3RyX3JlcGxhY2UoJHRoaXMtPmNvbnRlbnRzLCBwYWNrKCdMJywgJHRpbWVzdGFtcCksICRwb3MsIDQpOwoKCiRwb3MgKz0gNCo0OwoKJG1ldGFkYXRhTGVuZ3RoID0gJHRoaXMtPnJlYWRVaW50KCRwb3MsIDQpOwokcG9zICs9IDQgKyAkbWV0YWRhdGFMZW5ndGg7CgokbnVtRmlsZXMtLTsKfQoKaWYgKCRudW1GaWxlcyAhPT0gMCkgewp0aHJvdyBuZXcgXExvZ2ljRXhjZXB0aW9uKCdBbGwgZmlsZXMgd2VyZSBub3QgcHJvY2Vzc2VkLCBzb21ldGhpbmcgbXVzdCBoYXZlIGdvbmUgd3JvbmcnKTsKfQp9CgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIHNhdmUoJHBhdGgsICRzaWduYXR1cmVBbGdvKQp7CiRwb3MgPSAkdGhpcy0+ZGV0ZXJtaW5lU2lnbmF0dXJlQmVnaW4oKTsKCiRhbGdvcyA9IGFycmF5KApcUGhhcjo6TUQ1ID0+ICdtZDUnLApcUGhhcjo6U0hBMSA9PiAnc2hhMScsClxQaGFyOjpTSEEyNTYgPT4gJ3NoYTI1NicsClxQaGFyOjpTSEE1MTIgPT4gJ3NoYTUxMicsCik7CgppZiAoIWlzc2V0KCRhbGdvc1skc2lnbmF0dXJlQWxnb10pKSB7CnRocm93IG5ldyBcVW5leHBlY3RlZFZhbHVlRXhjZXB0aW9uKCdJbnZhbGlkIGhhc2ggYWxnb3JpdGhtIGdpdmVuOiAnLiRzaWduYXR1cmVBbGdvLicgZXhwZWN0ZWQgb25lIG9mIFBoYXI6Ok1ENSwgUGhhcjo6U0hBMSwgUGhhcjo6U0hBMjU2IG9yIFBoYXI6OlNIQTUxMicpOwp9CiRhbGdvID0gJGFsZ29zWyRzaWduYXR1cmVBbGdvXTsKCgoKJHNpZ25hdHVyZSA9IGhhc2goJGFsZ28sIHN1YnN0cigkdGhpcy0+Y29udGVudHMsIDAsICRwb3MpLCB0cnVlKQoKLiBwYWNrKCdMJywgJHNpZ25hdHVyZUFsZ28pCgouICdHQk1CJzsKCiR0aGlzLT5jb250ZW50cyA9IHN1YnN0cigkdGhpcy0+Y29udGVudHMsIDAsICRwb3MpIC4gJHNpZ25hdHVyZTsKCnJldHVybiBmaWxlX3B1dF9jb250ZW50cygkcGF0aCwgJHRoaXMtPmNvbnRlbnRzKTsKfQoKcHJpdmF0ZSBmdW5jdGlvbiByZWFkVWludCgkcG9zLCAkYnl0ZXMpCnsKJHJlcyA9IHVucGFjaygnVicsIHN1YnN0cigkdGhpcy0+Y29udGVudHMsICRwb3MsICRieXRlcykpOwoKcmV0dXJuICRyZXNbMV07Cn0KCgoKCgoKcHJpdmF0ZSBmdW5jdGlvbiBkZXRlcm1pbmVTaWduYXR1cmVCZWdpbigpCnsKCmlmICghcHJlZ19tYXRjaCgne19fSEFMVF9DT01QSUxFUlwoXCk7KD86ICtcPz4pP1xyP1xufScsICR0aGlzLT5jb250ZW50cywgJG1hdGNoLCBQUkVHX09GRlNFVF9DQVBUVVJFKSkgewp0aHJvdyBuZXcgXFJ1bnRpbWVFeGNlcHRpb24oJ0NvdWxkIG5vdCBkZXRlY3QgdGhlIHN0dWJcJ3MgZW5kIGluIHRoZSBwaGFyJyk7Cn0KCgokcG9zID0gJG1hdGNoWzBdWzFdICsgc3RybGVuKCRtYXRjaFswXVswXSk7CiRtYW5pZmVzdEVuZCA9ICRwb3MgKyA0ICsgJHRoaXMtPnJlYWRVaW50KCRwb3MsIDQpOwoKJHBvcyArPSA0OwokbnVtRmlsZXMgPSAkdGhpcy0+cmVhZFVpbnQoJHBvcywgNCk7CgokcG9zICs9IDQ7CgoKJHBvcyArPSAyOwoKCiRwb3MgKz0gNDsKCiRhbGlhc0xlbmd0aCA9ICR0aGlzLT5yZWFkVWludCgkcG9zLCA0KTsKJHBvcyArPSA0ICsgJGFsaWFzTGVuZ3RoOwoKJG1ldGFkYXRhTGVuZ3RoID0gJHRoaXMtPnJlYWRVaW50KCRwb3MsIDQpOwokcG9zICs9IDQgKyAkbWV0YWRhdGFMZW5ndGg7CgokY29tcHJlc3NlZFNpemVzID0gMDsKd2hpbGUgKCgkbnVtRmlsZXMgPiAwKSAmJiAoJHBvcyA8ICRtYW5pZmVzdEVuZCAtIDI0KSkgewokZmlsZW5hbWVMZW5ndGggPSAkdGhpcy0+cmVhZFVpbnQoJHBvcywgNCk7CiRwb3MgKz0gNCArICRmaWxlbmFtZUxlbmd0aDsKCgokcG9zICs9IDIqNDsKCiRjb21wcmVzc2VkU2l6ZXMgKz0gJHRoaXMtPnJlYWRVaW50KCRwb3MsIDQpOwoKJHBvcyArPSAzKjQ7CgokbWV0YWRhdGFMZW5ndGggPSAkdGhpcy0+cmVhZFVpbnQoJHBvcywgNCk7CiRwb3MgKz0gNCArICRtZXRhZGF0YUxlbmd0aDsKCiRudW1GaWxlcy0tOwp9CgppZiAoJG51bUZpbGVzICE9PSAwKSB7CnRocm93IG5ldyBcTG9naWNFeGNlcHRpb24oJ0FsbCBmaWxlcyB3ZXJlIG5vdCBwcm9jZXNzZWQsIHNvbWV0aGluZyBtdXN0IGhhdmUgZ29uZSB3cm9uZycpOwp9CgpyZXR1cm4gJG1hbmlmZXN0RW5kICsgJGNvbXByZXNzZWRTaXplczsKfQp9Cjw/cGhwCgoKCgoKCgoKCgpuYW1lc3BhY2UgU3ltZm9ueVxDb21wb25lbnRcQ29uc29sZTsKCnVzZSBTeW1mb255XENvbXBvbmVudFxDb25zb2xlXENvbW1hbmRcQ29tbWFuZDsKdXNlIFN5bWZvbnlcQ29tcG9uZW50XENvbnNvbGVcQ29tbWFuZFxIZWxwQ29tbWFuZDsKdXNlIFN5bWZvbnlcQ29tcG9uZW50XENvbnNvbGVcQ29tbWFuZFxMaXN0Q29tbWFuZDsKdXNlIFN5bWZvbnlcQ29tcG9uZW50XENvbnNvbGVcRGVzY3JpcHRvclxUZXh0RGVzY3JpcHRvcjsKdXNlIFN5bWZvbnlcQ29tcG9uZW50XENvbnNvbGVcRGVzY3JpcHRvclxYbWxEZXNjcmlwdG9yOwp1c2UgU3ltZm9ueVxDb21wb25lbnRcQ29uc29sZVxFdmVudFxDb25zb2xlQ29tbWFuZEV2ZW50Owp1c2UgU3ltZm9ueVxDb21wb25lbnRcQ29uc29sZVxFdmVudFxDb25zb2xlRXhjZXB0aW9uRXZlbnQ7CnVzZSBTeW1mb255XENvbXBvbmVudFxDb25zb2xlXEV2ZW50XENvbnNvbGVUZXJtaW5hdGVFdmVudDsKdXNlIFN5bWZvbnlcQ29tcG9uZW50XENvbnNvbGVcRXhjZXB0aW9uXENvbW1hbmROb3RGb3VuZEV4Y2VwdGlvbjsKdXNlIFN5bWZvbnlcQ29tcG9uZW50XENvbnNvbGVcRXhjZXB0aW9uXEV4Y2VwdGlvbkludGVyZmFjZTsKdXNlIFN5bWZvbnlcQ29tcG9uZW50XENvbnNvbGVcRXhjZXB0aW9uXExvZ2ljRXhjZXB0aW9uOwp1c2UgU3ltZm9ueVxDb21wb25lbnRcQ29uc29sZVxGb3JtYXR0ZXJcT3V0cHV0Rm9ybWF0dGVyOwp1c2UgU3ltZm9ueVxDb21wb25lbnRcQ29uc29sZVxIZWxwZXJcRGVidWdGb3JtYXR0ZXJIZWxwZXI7CnVzZSBTeW1mb255XENvbXBvbmVudFxDb25zb2xlXEhlbHBlclxEaWFsb2dIZWxwZXI7CnVzZSBTeW1mb255XENvbXBvbmVudFxDb25zb2xlXEhlbHBlclxGb3JtYXR0ZXJIZWxwZXI7CnVzZSBTeW1mb255XENvbXBvbmVudFxDb25zb2xlXEhlbHBlclxIZWxwZXI7CnVzZSBTeW1mb255XENvbXBvbmVudFxDb25zb2xlXEhlbHBlclxIZWxwZXJTZXQ7CnVzZSBTeW1mb255XENvbXBvbmVudFxDb25zb2xlXEhlbHBlclxQcm9jZXNzSGVscGVyOwp1c2UgU3ltZm9ueVxDb21wb25lbnRcQ29uc29sZVxIZWxwZXJcUHJvZ3Jlc3NIZWxwZXI7CnVzZSBTeW1mb255XENvbXBvbmVudFxDb25zb2xlXEhlbHBlclxRdWVzdGlvbkhlbHBlcjsKdXNlIFN5bWZvbnlcQ29tcG9uZW50XENvbnNvbGVcSGVscGVyXFRhYmxlSGVscGVyOwp1c2UgU3ltZm9ueVxDb21wb25lbnRcQ29uc29sZVxJbnB1dFxBcmd2SW5wdXQ7CnVzZSBTeW1mb255XENvbXBvbmVudFxDb25zb2xlXElucHV0XEFycmF5SW5wdXQ7CnVzZSBTeW1mb255XENvbXBvbmVudFxDb25zb2xlXElucHV0XElucHV0QXJndW1lbnQ7CnVzZSBTeW1mb255XENvbXBvbmVudFxDb25zb2xlXElucHV0XElucHV0QXdhcmVJbnRlcmZhY2U7CnVzZSBTeW1mb255XENvbXBvbmVudFxDb25zb2xlXElucHV0XElucHV0RGVmaW5pdGlvbjsKdXNlIFN5bWZvbnlcQ29tcG9uZW50XENvbnNvbGVcSW5wdXRcSW5wdXRJbnRlcmZhY2U7CnVzZSBTeW1mb255XENvbXBvbmVudFxDb25zb2xlXElucHV0XElucHV0T3B0aW9uOwp1c2UgU3ltZm9ueVxDb21wb25lbnRcQ29uc29sZVxPdXRwdXRcQnVmZmVyZWRPdXRwdXQ7CnVzZSBTeW1mb255XENvbXBvbmVudFxDb25zb2xlXE91dHB1dFxDb25zb2xlT3V0cHV0Owp1c2UgU3ltZm9ueVxDb21wb25lbnRcQ29uc29sZVxPdXRwdXRcQ29uc29sZU91dHB1dEludGVyZmFjZTsKdXNlIFN5bWZvbnlcQ29tcG9uZW50XENvbnNvbGVcT3V0cHV0XE91dHB1dEludGVyZmFjZTsKdXNlIFN5bWZvbnlcQ29tcG9uZW50XERlYnVnXEV4Y2VwdGlvblxGYXRhbFRocm93YWJsZUVycm9yOwp1c2UgU3ltZm9ueVxDb21wb25lbnRcRXZlbnREaXNwYXRjaGVyXEV2ZW50RGlzcGF0Y2hlckludGVyZmFjZTsKCgoKCgoKCgoKCgoKCgoKCmNsYXNzIEFwcGxpY2F0aW9uCnsKcHJpdmF0ZSAkY29tbWFuZHMgPSBhcnJheSgpOwpwcml2YXRlICR3YW50SGVscHMgPSBmYWxzZTsKcHJpdmF0ZSAkcnVubmluZ0NvbW1hbmQ7CnByaXZhdGUgJG5hbWU7CnByaXZhdGUgJHZlcnNpb247CnByaXZhdGUgJGNhdGNoRXhjZXB0aW9ucyA9IHRydWU7CnByaXZhdGUgJGF1dG9FeGl0ID0gdHJ1ZTsKcHJpdmF0ZSAkZGVmaW5pdGlvbjsKcHJpdmF0ZSAkaGVscGVyU2V0Owpwcml2YXRlICRkaXNwYXRjaGVyOwpwcml2YXRlICR0ZXJtaW5hbERpbWVuc2lvbnM7CnByaXZhdGUgJGRlZmF1bHRDb21tYW5kOwpwcml2YXRlICRpbml0aWFsaXplZDsKCgoKCgpwdWJsaWMgZnVuY3Rpb24gX19jb25zdHJ1Y3QoJG5hbWUgPSAnVU5LTk9XTicsICR2ZXJzaW9uID0gJ1VOS05PV04nKQp7CiR0aGlzLT5uYW1lID0gJG5hbWU7CiR0aGlzLT52ZXJzaW9uID0gJHZlcnNpb247CiR0aGlzLT5kZWZhdWx0Q29tbWFuZCA9ICdsaXN0JzsKfQoKcHVibGljIGZ1bmN0aW9uIHNldERpc3BhdGNoZXIoRXZlbnREaXNwYXRjaGVySW50ZXJmYWNlICRkaXNwYXRjaGVyKQp7CiR0aGlzLT5kaXNwYXRjaGVyID0gJGRpc3BhdGNoZXI7Cn0KCgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gcnVuKElucHV0SW50ZXJmYWNlICRpbnB1dCA9IG51bGwsIE91dHB1dEludGVyZmFjZSAkb3V0cHV0ID0gbnVsbCkKewppZiAobnVsbCA9PT0gJGlucHV0KSB7CiRpbnB1dCA9IG5ldyBBcmd2SW5wdXQoKTsKfQoKaWYgKG51bGwgPT09ICRvdXRwdXQpIHsKJG91dHB1dCA9IG5ldyBDb25zb2xlT3V0cHV0KCk7Cn0KCiR0aGlzLT5jb25maWd1cmVJTygkaW5wdXQsICRvdXRwdXQpOwoKdHJ5IHsKJGUgPSBudWxsOwokZXhpdENvZGUgPSAkdGhpcy0+ZG9SdW4oJGlucHV0LCAkb3V0cHV0KTsKfSBjYXRjaCAoXEV4Y2VwdGlvbiAkZSkgewp9CgppZiAobnVsbCAhPT0gJGUpIHsKaWYgKCEkdGhpcy0+Y2F0Y2hFeGNlcHRpb25zKSB7CnRocm93ICRlOwp9CgppZiAoJG91dHB1dCBpbnN0YW5jZW9mIENvbnNvbGVPdXRwdXRJbnRlcmZhY2UpIHsKJHRoaXMtPnJlbmRlckV4Y2VwdGlvbigkZSwgJG91dHB1dC0+Z2V0RXJyb3JPdXRwdXQoKSk7Cn0gZWxzZSB7CiR0aGlzLT5yZW5kZXJFeGNlcHRpb24oJGUsICRvdXRwdXQpOwp9CgokZXhpdENvZGUgPSAkdGhpcy0+Z2V0RXhpdENvZGVGb3JUaHJvd2FibGUoJGUpOwp9CgppZiAoJHRoaXMtPmF1dG9FeGl0KSB7CmlmICgkZXhpdENvZGUgPiAyNTUpIHsKJGV4aXRDb2RlID0gMjU1Owp9CgpleGl0KCRleGl0Q29kZSk7Cn0KCnJldHVybiAkZXhpdENvZGU7Cn0KCgoKCgoKcHVibGljIGZ1bmN0aW9uIGRvUnVuKElucHV0SW50ZXJmYWNlICRpbnB1dCwgT3V0cHV0SW50ZXJmYWNlICRvdXRwdXQpCnsKaWYgKHRydWUgPT09ICRpbnB1dC0+aGFzUGFyYW1ldGVyT3B0aW9uKGFycmF5KCctLXZlcnNpb24nLCAnLVYnKSkpIHsKJG91dHB1dC0+d3JpdGVsbigkdGhpcy0+Z2V0TG9uZ1ZlcnNpb24oKSk7CgpyZXR1cm4gMDsKfQoKJG5hbWUgPSAkdGhpcy0+Z2V0Q29tbWFuZE5hbWUoJGlucHV0KTsKaWYgKHRydWUgPT09ICRpbnB1dC0+aGFzUGFyYW1ldGVyT3B0aW9uKGFycmF5KCctLWhlbHAnLCAnLWgnKSkpIHsKaWYgKCEkbmFtZSkgewokbmFtZSA9ICdoZWxwJzsKJGlucHV0ID0gbmV3IEFycmF5SW5wdXQoYXJyYXkoJ2NvbW1hbmQnID0+ICdoZWxwJykpOwp9IGVsc2UgewokdGhpcy0+d2FudEhlbHBzID0gdHJ1ZTsKfQp9CgppZiAoISRuYW1lKSB7CiRuYW1lID0gJHRoaXMtPmRlZmF1bHRDb21tYW5kOwokZGVmaW5pdGlvbiA9ICR0aGlzLT5nZXREZWZpbml0aW9uKCk7CiRkZWZpbml0aW9uLT5zZXRBcmd1bWVudHMoYXJyYXlfbWVyZ2UoCiRkZWZpbml0aW9uLT5nZXRBcmd1bWVudHMoKSwKYXJyYXkoCidjb21tYW5kJyA9PiBuZXcgSW5wdXRBcmd1bWVudCgnY29tbWFuZCcsIElucHV0QXJndW1lbnQ6Ok9QVElPTkFMLCAkZGVmaW5pdGlvbi0+Z2V0QXJndW1lbnQoJ2NvbW1hbmQnKS0+Z2V0RGVzY3JpcHRpb24oKSwgJG5hbWUpLAopCikpOwp9CgokdGhpcy0+cnVubmluZ0NvbW1hbmQgPSBudWxsOwoKJGNvbW1hbmQgPSAkdGhpcy0+ZmluZCgkbmFtZSk7CgokdGhpcy0+cnVubmluZ0NvbW1hbmQgPSAkY29tbWFuZDsKJGV4aXRDb2RlID0gJHRoaXMtPmRvUnVuQ29tbWFuZCgkY29tbWFuZCwgJGlucHV0LCAkb3V0cHV0KTsKJHRoaXMtPnJ1bm5pbmdDb21tYW5kID0gbnVsbDsKCnJldHVybiAkZXhpdENvZGU7Cn0KCnB1YmxpYyBmdW5jdGlvbiBzZXRIZWxwZXJTZXQoSGVscGVyU2V0ICRoZWxwZXJTZXQpCnsKJHRoaXMtPmhlbHBlclNldCA9ICRoZWxwZXJTZXQ7Cn0KCgoKCgoKcHVibGljIGZ1bmN0aW9uIGdldEhlbHBlclNldCgpCnsKaWYgKCEkdGhpcy0+aGVscGVyU2V0KSB7CiR0aGlzLT5oZWxwZXJTZXQgPSAkdGhpcy0+Z2V0RGVmYXVsdEhlbHBlclNldCgpOwp9CgpyZXR1cm4gJHRoaXMtPmhlbHBlclNldDsKfQoKcHVibGljIGZ1bmN0aW9uIHNldERlZmluaXRpb24oSW5wdXREZWZpbml0aW9uICRkZWZpbml0aW9uKQp7CiR0aGlzLT5kZWZpbml0aW9uID0gJGRlZmluaXRpb247Cn0KCgoKCgoKcHVibGljIGZ1bmN0aW9uIGdldERlZmluaXRpb24oKQp7CmlmICghJHRoaXMtPmRlZmluaXRpb24pIHsKJHRoaXMtPmRlZmluaXRpb24gPSAkdGhpcy0+Z2V0RGVmYXVsdElucHV0RGVmaW5pdGlvbigpOwp9CgpyZXR1cm4gJHRoaXMtPmRlZmluaXRpb247Cn0KCgoKCgoKcHVibGljIGZ1bmN0aW9uIGdldEhlbHAoKQp7CnJldHVybiAkdGhpcy0+Z2V0TG9uZ1ZlcnNpb24oKTsKfQoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gc2V0Q2F0Y2hFeGNlcHRpb25zKCRib29sZWFuKQp7CiR0aGlzLT5jYXRjaEV4Y2VwdGlvbnMgPSAoYm9vbCkgJGJvb2xlYW47Cn0KCgoKCgoKcHVibGljIGZ1bmN0aW9uIHNldEF1dG9FeGl0KCRib29sZWFuKQp7CiR0aGlzLT5hdXRvRXhpdCA9IChib29sKSAkYm9vbGVhbjsKfQoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0TmFtZSgpCnsKcmV0dXJuICR0aGlzLT5uYW1lOwp9CgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBzZXROYW1lKCRuYW1lKQp7CiR0aGlzLT5uYW1lID0gJG5hbWU7Cn0KCgoKCgoKcHVibGljIGZ1bmN0aW9uIGdldFZlcnNpb24oKQp7CnJldHVybiAkdGhpcy0+dmVyc2lvbjsKfQoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gc2V0VmVyc2lvbigkdmVyc2lvbikKewokdGhpcy0+dmVyc2lvbiA9ICR2ZXJzaW9uOwp9CgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBnZXRMb25nVmVyc2lvbigpCnsKaWYgKCdVTktOT1dOJyAhPT0gJHRoaXMtPmdldE5hbWUoKSkgewppZiAoJ1VOS05PV04nICE9PSAkdGhpcy0+Z2V0VmVyc2lvbigpKSB7CnJldHVybiBzcHJpbnRmKCc8aW5mbz4lczwvaW5mbz4gdmVyc2lvbiA8Y29tbWVudD4lczwvY29tbWVudD4nLCAkdGhpcy0+Z2V0TmFtZSgpLCAkdGhpcy0+Z2V0VmVyc2lvbigpKTsKfQoKcmV0dXJuIHNwcmludGYoJzxpbmZvPiVzPC9pbmZvPicsICR0aGlzLT5nZXROYW1lKCkpOwp9CgpyZXR1cm4gJzxpbmZvPkNvbnNvbGUgVG9vbDwvaW5mbz4nOwp9CgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIHJlZ2lzdGVyKCRuYW1lKQp7CnJldHVybiAkdGhpcy0+YWRkKG5ldyBDb21tYW5kKCRuYW1lKSk7Cn0KCgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gYWRkQ29tbWFuZHMoYXJyYXkgJGNvbW1hbmRzKQp7CmZvcmVhY2ggKCRjb21tYW5kcyBhcyAkY29tbWFuZCkgewokdGhpcy0+YWRkKCRjb21tYW5kKTsKfQp9CgoKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBhZGQoQ29tbWFuZCAkY29tbWFuZCkKewokdGhpcy0+aW5pdCgpOwoKJGNvbW1hbmQtPnNldEFwcGxpY2F0aW9uKCR0aGlzKTsKCmlmICghJGNvbW1hbmQtPmlzRW5hYmxlZCgpKSB7CiRjb21tYW5kLT5zZXRBcHBsaWNhdGlvbihudWxsKTsKCnJldHVybjsKfQoKaWYgKG51bGwgPT09ICRjb21tYW5kLT5nZXREZWZpbml0aW9uKCkpIHsKdGhyb3cgbmV3IExvZ2ljRXhjZXB0aW9uKHNwcmludGYoJ0NvbW1hbmQgY2xhc3MgIiVzIiBpcyBub3QgY29ycmVjdGx5IGluaXRpYWxpemVkLiBZb3UgcHJvYmFibHkgZm9yZ290IHRvIGNhbGwgdGhlIHBhcmVudCBjb25zdHJ1Y3Rvci4nLCBcZ2V0X2NsYXNzKCRjb21tYW5kKSkpOwp9CgokdGhpcy0+Y29tbWFuZHNbJGNvbW1hbmQtPmdldE5hbWUoKV0gPSAkY29tbWFuZDsKCmZvcmVhY2ggKCRjb21tYW5kLT5nZXRBbGlhc2VzKCkgYXMgJGFsaWFzKSB7CiR0aGlzLT5jb21tYW5kc1skYWxpYXNdID0gJGNvbW1hbmQ7Cn0KCnJldHVybiAkY29tbWFuZDsKfQoKCgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIGdldCgkbmFtZSkKewokdGhpcy0+aW5pdCgpOwoKaWYgKCFpc3NldCgkdGhpcy0+Y29tbWFuZHNbJG5hbWVdKSkgewp0aHJvdyBuZXcgQ29tbWFuZE5vdEZvdW5kRXhjZXB0aW9uKHNwcmludGYoJ1RoZSBjb21tYW5kICIlcyIgZG9lcyBub3QgZXhpc3QuJywgJG5hbWUpKTsKfQoKJGNvbW1hbmQgPSAkdGhpcy0+Y29tbWFuZHNbJG5hbWVdOwoKaWYgKCR0aGlzLT53YW50SGVscHMpIHsKJHRoaXMtPndhbnRIZWxwcyA9IGZhbHNlOwoKJGhlbHBDb21tYW5kID0gJHRoaXMtPmdldCgnaGVscCcpOwokaGVscENvbW1hbmQtPnNldENvbW1hbmQoJGNvbW1hbmQpOwoKcmV0dXJuICRoZWxwQ29tbWFuZDsKfQoKcmV0dXJuICRjb21tYW5kOwp9CgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIGhhcygkbmFtZSkKewokdGhpcy0+aW5pdCgpOwoKcmV0dXJuIGlzc2V0KCR0aGlzLT5jb21tYW5kc1skbmFtZV0pOwp9CgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIGdldE5hbWVzcGFjZXMoKQp7CiRuYW1lc3BhY2VzID0gYXJyYXkoKTsKZm9yZWFjaCAoJHRoaXMtPmFsbCgpIGFzICRjb21tYW5kKSB7CiRuYW1lc3BhY2VzID0gYXJyYXlfbWVyZ2UoJG5hbWVzcGFjZXMsICR0aGlzLT5leHRyYWN0QWxsTmFtZXNwYWNlcygkY29tbWFuZC0+Z2V0TmFtZSgpKSk7Cgpmb3JlYWNoICgkY29tbWFuZC0+Z2V0QWxpYXNlcygpIGFzICRhbGlhcykgewokbmFtZXNwYWNlcyA9IGFycmF5X21lcmdlKCRuYW1lc3BhY2VzLCAkdGhpcy0+ZXh0cmFjdEFsbE5hbWVzcGFjZXMoJGFsaWFzKSk7Cn0KfQoKcmV0dXJuIGFycmF5X3ZhbHVlcyhhcnJheV91bmlxdWUoYXJyYXlfZmlsdGVyKCRuYW1lc3BhY2VzKSkpOwp9CgoKCgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gZmluZE5hbWVzcGFjZSgkbmFtZXNwYWNlKQp7CiRhbGxOYW1lc3BhY2VzID0gJHRoaXMtPmdldE5hbWVzcGFjZXMoKTsKJGV4cHIgPSBwcmVnX3JlcGxhY2VfY2FsbGJhY2soJ3soW146XSt8KX0nLCBmdW5jdGlvbiAoJG1hdGNoZXMpIHsgcmV0dXJuIHByZWdfcXVvdGUoJG1hdGNoZXNbMV0pLidbXjpdKic7IH0sICRuYW1lc3BhY2UpOwokbmFtZXNwYWNlcyA9IHByZWdfZ3JlcCgne14nLiRleHByLid9JywgJGFsbE5hbWVzcGFjZXMpOwoKaWYgKGVtcHR5KCRuYW1lc3BhY2VzKSkgewokbWVzc2FnZSA9IHNwcmludGYoJ1RoZXJlIGFyZSBubyBjb21tYW5kcyBkZWZpbmVkIGluIHRoZSAiJXMiIG5hbWVzcGFjZS4nLCAkbmFtZXNwYWNlKTsKCmlmICgkYWx0ZXJuYXRpdmVzID0gJHRoaXMtPmZpbmRBbHRlcm5hdGl2ZXMoJG5hbWVzcGFjZSwgJGFsbE5hbWVzcGFjZXMpKSB7CmlmICgxID09IFxjb3VudCgkYWx0ZXJuYXRpdmVzKSkgewokbWVzc2FnZSAuPSAiXG5cbkRpZCB5b3UgbWVhbiB0aGlzP1xuICAgICI7Cn0gZWxzZSB7CiRtZXNzYWdlIC49ICJcblxuRGlkIHlvdSBtZWFuIG9uZSBvZiB0aGVzZT9cbiAgICAiOwp9CgokbWVzc2FnZSAuPSBpbXBsb2RlKCJcbiAgICAiLCAkYWx0ZXJuYXRpdmVzKTsKfQoKdGhyb3cgbmV3IENvbW1hbmROb3RGb3VuZEV4Y2VwdGlvbigkbWVzc2FnZSwgJGFsdGVybmF0aXZlcyk7Cn0KCiRleGFjdCA9IFxpbl9hcnJheSgkbmFtZXNwYWNlLCAkbmFtZXNwYWNlcywgdHJ1ZSk7CmlmIChcY291bnQoJG5hbWVzcGFjZXMpID4gMSAmJiAhJGV4YWN0KSB7CnRocm93IG5ldyBDb21tYW5kTm90Rm91bmRFeGNlcHRpb24oc3ByaW50ZignVGhlIG5hbWVzcGFjZSAiJXMiIGlzIGFtYmlndW91cyAoJXMpLicsICRuYW1lc3BhY2UsICR0aGlzLT5nZXRBYmJyZXZpYXRpb25TdWdnZXN0aW9ucyhhcnJheV92YWx1ZXMoJG5hbWVzcGFjZXMpKSksIGFycmF5X3ZhbHVlcygkbmFtZXNwYWNlcykpOwp9CgpyZXR1cm4gJGV4YWN0ID8gJG5hbWVzcGFjZSA6IHJlc2V0KCRuYW1lc3BhY2VzKTsKfQoKCgoKCgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIGZpbmQoJG5hbWUpCnsKJHRoaXMtPmluaXQoKTsKJGFsaWFzZXMgPSBhcnJheSgpOwokYWxsQ29tbWFuZHMgPSBhcnJheV9rZXlzKCR0aGlzLT5jb21tYW5kcyk7CiRleHByID0gcHJlZ19yZXBsYWNlX2NhbGxiYWNrKCd7KFteOl0rfCl9JywgZnVuY3Rpb24gKCRtYXRjaGVzKSB7IHJldHVybiBwcmVnX3F1b3RlKCRtYXRjaGVzWzFdKS4nW146XSonOyB9LCAkbmFtZSk7CiRjb21tYW5kcyA9IHByZWdfZ3JlcCgne14nLiRleHByLid9JywgJGFsbENvbW1hbmRzKTsKCmlmIChlbXB0eSgkY29tbWFuZHMpIHx8IFxjb3VudChwcmVnX2dyZXAoJ3teJy4kZXhwci4nJH0nLCAkY29tbWFuZHMpKSA8IDEpIHsKaWYgKGZhbHNlICE9PSAkcG9zID0gc3RycnBvcygkbmFtZSwgJzonKSkgewoKJHRoaXMtPmZpbmROYW1lc3BhY2Uoc3Vic3RyKCRuYW1lLCAwLCAkcG9zKSk7Cn0KCiRtZXNzYWdlID0gc3ByaW50ZignQ29tbWFuZCAiJXMiIGlzIG5vdCBkZWZpbmVkLicsICRuYW1lKTsKCmlmICgkYWx0ZXJuYXRpdmVzID0gJHRoaXMtPmZpbmRBbHRlcm5hdGl2ZXMoJG5hbWUsICRhbGxDb21tYW5kcykpIHsKaWYgKDEgPT0gXGNvdW50KCRhbHRlcm5hdGl2ZXMpKSB7CiRtZXNzYWdlIC49ICJcblxuRGlkIHlvdSBtZWFuIHRoaXM/XG4gICAgIjsKfSBlbHNlIHsKJG1lc3NhZ2UgLj0gIlxuXG5EaWQgeW91IG1lYW4gb25lIG9mIHRoZXNlP1xuICAgICI7Cn0KJG1lc3NhZ2UgLj0gaW1wbG9kZSgiXG4gICAgIiwgJGFsdGVybmF0aXZlcyk7Cn0KCnRocm93IG5ldyBDb21tYW5kTm90Rm91bmRFeGNlcHRpb24oJG1lc3NhZ2UsICRhbHRlcm5hdGl2ZXMpOwp9CgoKaWYgKFxjb3VudCgkY29tbWFuZHMpID4gMSkgewokY29tbWFuZExpc3QgPSAkdGhpcy0+Y29tbWFuZHM7CiRjb21tYW5kcyA9IGFycmF5X2ZpbHRlcigkY29tbWFuZHMsIGZ1bmN0aW9uICgkbmFtZU9yQWxpYXMpIHVzZSAoJGNvbW1hbmRMaXN0LCAkY29tbWFuZHMsICYkYWxpYXNlcykgewokY29tbWFuZE5hbWUgPSAkY29tbWFuZExpc3RbJG5hbWVPckFsaWFzXS0+Z2V0TmFtZSgpOwokYWxpYXNlc1skbmFtZU9yQWxpYXNdID0gJGNvbW1hbmROYW1lOwoKcmV0dXJuICRjb21tYW5kTmFtZSA9PT0gJG5hbWVPckFsaWFzIHx8ICFcaW5fYXJyYXkoJGNvbW1hbmROYW1lLCAkY29tbWFuZHMpOwp9KTsKfQoKJGV4YWN0ID0gXGluX2FycmF5KCRuYW1lLCAkY29tbWFuZHMsIHRydWUpIHx8IGlzc2V0KCRhbGlhc2VzWyRuYW1lXSk7CmlmICghJGV4YWN0ICYmIFxjb3VudCgkY29tbWFuZHMpID4gMSkgewokc3VnZ2VzdGlvbnMgPSAkdGhpcy0+Z2V0QWJicmV2aWF0aW9uU3VnZ2VzdGlvbnMoYXJyYXlfdmFsdWVzKCRjb21tYW5kcykpOwoKdGhyb3cgbmV3IENvbW1hbmROb3RGb3VuZEV4Y2VwdGlvbihzcHJpbnRmKCdDb21tYW5kICIlcyIgaXMgYW1iaWd1b3VzICglcykuJywgJG5hbWUsICRzdWdnZXN0aW9ucyksIGFycmF5X3ZhbHVlcygkY29tbWFuZHMpKTsKfQoKcmV0dXJuICR0aGlzLT5nZXQoJGV4YWN0ID8gJG5hbWUgOiByZXNldCgkY29tbWFuZHMpKTsKfQoKCgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIGFsbCgkbmFtZXNwYWNlID0gbnVsbCkKewokdGhpcy0+aW5pdCgpOwoKaWYgKG51bGwgPT09ICRuYW1lc3BhY2UpIHsKcmV0dXJuICR0aGlzLT5jb21tYW5kczsKfQoKJGNvbW1hbmRzID0gYXJyYXkoKTsKZm9yZWFjaCAoJHRoaXMtPmNvbW1hbmRzIGFzICRuYW1lID0+ICRjb21tYW5kKSB7CmlmICgkbmFtZXNwYWNlID09PSAkdGhpcy0+ZXh0cmFjdE5hbWVzcGFjZSgkbmFtZSwgc3Vic3RyX2NvdW50KCRuYW1lc3BhY2UsICc6JykgKyAxKSkgewokY29tbWFuZHNbJG5hbWVdID0gJGNvbW1hbmQ7Cn0KfQoKcmV0dXJuICRjb21tYW5kczsKfQoKCgoKCgoKCnB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gZ2V0QWJicmV2aWF0aW9ucygkbmFtZXMpCnsKJGFiYnJldnMgPSBhcnJheSgpOwpmb3JlYWNoICgkbmFtZXMgYXMgJG5hbWUpIHsKZm9yICgkbGVuID0gXHN0cmxlbigkbmFtZSk7ICRsZW4gPiAwOyAtLSRsZW4pIHsKJGFiYnJldiA9IHN1YnN0cigkbmFtZSwgMCwgJGxlbik7CiRhYmJyZXZzWyRhYmJyZXZdW10gPSAkbmFtZTsKfQp9CgpyZXR1cm4gJGFiYnJldnM7Cn0KCgoKCgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gYXNUZXh0KCRuYW1lc3BhY2UgPSBudWxsLCAkcmF3ID0gZmFsc2UpCnsKQHRyaWdnZXJfZXJyb3IoJ1RoZSAnLl9fTUVUSE9EX18uJyBtZXRob2QgaXMgZGVwcmVjYXRlZCBzaW5jZSBTeW1mb255IDIuMyBhbmQgd2lsbCBiZSByZW1vdmVkIGluIDMuMC4nLCBFX1VTRVJfREVQUkVDQVRFRCk7CgokZGVzY3JpcHRvciA9IG5ldyBUZXh0RGVzY3JpcHRvcigpOwokb3V0cHV0ID0gbmV3IEJ1ZmZlcmVkT3V0cHV0KEJ1ZmZlcmVkT3V0cHV0OjpWRVJCT1NJVFlfTk9STUFMLCAhJHJhdyk7CiRkZXNjcmlwdG9yLT5kZXNjcmliZSgkb3V0cHV0LCAkdGhpcywgYXJyYXkoJ25hbWVzcGFjZScgPT4gJG5hbWVzcGFjZSwgJ3Jhd19vdXRwdXQnID0+IHRydWUpKTsKCnJldHVybiAkb3V0cHV0LT5mZXRjaCgpOwp9CgoKCgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIGFzWG1sKCRuYW1lc3BhY2UgPSBudWxsLCAkYXNEb20gPSBmYWxzZSkKewpAdHJpZ2dlcl9lcnJvcignVGhlICcuX19NRVRIT0RfXy4nIG1ldGhvZCBpcyBkZXByZWNhdGVkIHNpbmNlIFN5bWZvbnkgMi4zIGFuZCB3aWxsIGJlIHJlbW92ZWQgaW4gMy4wLicsIEVfVVNFUl9ERVBSRUNBVEVEKTsKCiRkZXNjcmlwdG9yID0gbmV3IFhtbERlc2NyaXB0b3IoKTsKCmlmICgkYXNEb20pIHsKcmV0dXJuICRkZXNjcmlwdG9yLT5nZXRBcHBsaWNhdGlvbkRvY3VtZW50KCR0aGlzLCAkbmFtZXNwYWNlKTsKfQoKJG91dHB1dCA9IG5ldyBCdWZmZXJlZE91dHB1dCgpOwokZGVzY3JpcHRvci0+ZGVzY3JpYmUoJG91dHB1dCwgJHRoaXMsIGFycmF5KCduYW1lc3BhY2UnID0+ICRuYW1lc3BhY2UpKTsKCnJldHVybiAkb3V0cHV0LT5mZXRjaCgpOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gcmVuZGVyRXhjZXB0aW9uKCRlLCAkb3V0cHV0KQp7CiRvdXRwdXQtPndyaXRlbG4oJycsIE91dHB1dEludGVyZmFjZTo6VkVSQk9TSVRZX1FVSUVUKTsKCmRvIHsKJHRpdGxlID0gc3ByaW50ZignICBbJXNdICAnLCBcZ2V0X2NsYXNzKCRlKSk7CgokbGVuID0gSGVscGVyOjpzdHJsZW4oJHRpdGxlKTsKCiR3aWR0aCA9ICR0aGlzLT5nZXRUZXJtaW5hbFdpZHRoKCkgPyAkdGhpcy0+Z2V0VGVybWluYWxXaWR0aCgpIC0gMSA6IFBIUF9JTlRfTUFYOwoKaWYgKFxkZWZpbmVkKCdISFZNX1ZFUlNJT04nKSAmJiAkd2lkdGggPiAxIDw8IDMxKSB7CiR3aWR0aCA9IDEgPDwgMzE7Cn0KJGxpbmVzID0gYXJyYXkoKTsKZm9yZWFjaCAocHJlZ19zcGxpdCgnL1xyP1xuLycsIHRyaW0oJGUtPmdldE1lc3NhZ2UoKSkpIGFzICRsaW5lKSB7CmZvcmVhY2ggKCR0aGlzLT5zcGxpdFN0cmluZ0J5V2lkdGgoJGxpbmUsICR3aWR0aCAtIDQpIGFzICRsaW5lKSB7CgokbGluZUxlbmd0aCA9IEhlbHBlcjo6c3RybGVuKCRsaW5lKSArIDQ7CiRsaW5lc1tdID0gYXJyYXkoJGxpbmUsICRsaW5lTGVuZ3RoKTsKCiRsZW4gPSBtYXgoJGxpbmVMZW5ndGgsICRsZW4pOwp9Cn0KCiRtZXNzYWdlcyA9IGFycmF5KCk7CiRtZXNzYWdlc1tdID0gJGVtcHR5TGluZSA9IHNwcmludGYoJzxlcnJvcj4lczwvZXJyb3I+Jywgc3RyX3JlcGVhdCgnICcsICRsZW4pKTsKJG1lc3NhZ2VzW10gPSBzcHJpbnRmKCc8ZXJyb3I+JXMlczwvZXJyb3I+JywgJHRpdGxlLCBzdHJfcmVwZWF0KCcgJywgbWF4KDAsICRsZW4gLSBIZWxwZXI6OnN0cmxlbigkdGl0bGUpKSkpOwpmb3JlYWNoICgkbGluZXMgYXMgJGxpbmUpIHsKJG1lc3NhZ2VzW10gPSBzcHJpbnRmKCc8ZXJyb3I+ICAlcyAgJXM8L2Vycm9yPicsIE91dHB1dEZvcm1hdHRlcjo6ZXNjYXBlKCRsaW5lWzBdKSwgc3RyX3JlcGVhdCgnICcsICRsZW4gLSAkbGluZVsxXSkpOwp9CiRtZXNzYWdlc1tdID0gJGVtcHR5TGluZTsKJG1lc3NhZ2VzW10gPSAnJzsKCiRvdXRwdXQtPndyaXRlbG4oJG1lc3NhZ2VzLCBPdXRwdXRJbnRlcmZhY2U6OlZFUkJPU0lUWV9RVUlFVCk7CgppZiAoT3V0cHV0SW50ZXJmYWNlOjpWRVJCT1NJVFlfVkVSQk9TRSA8PSAkb3V0cHV0LT5nZXRWZXJib3NpdHkoKSkgewokb3V0cHV0LT53cml0ZWxuKCc8Y29tbWVudD5FeGNlcHRpb24gdHJhY2U6PC9jb21tZW50PicsIE91dHB1dEludGVyZmFjZTo6VkVSQk9TSVRZX1FVSUVUKTsKCgokdHJhY2UgPSAkZS0+Z2V0VHJhY2UoKTsKYXJyYXlfdW5zaGlmdCgkdHJhY2UsIGFycmF5KAonZnVuY3Rpb24nID0+ICcnLAonZmlsZScgPT4gbnVsbCAhPT0gJGUtPmdldEZpbGUoKSA/ICRlLT5nZXRGaWxlKCkgOiAnbi9hJywKJ2xpbmUnID0+IG51bGwgIT09ICRlLT5nZXRMaW5lKCkgPyAkZS0+Z2V0TGluZSgpIDogJ24vYScsCidhcmdzJyA9PiBhcnJheSgpLAopKTsKCmZvciAoJGkgPSAwLCAkY291bnQgPSBcY291bnQoJHRyYWNlKTsgJGkgPCAkY291bnQ7ICsrJGkpIHsKJGNsYXNzID0gaXNzZXQoJHRyYWNlWyRpXVsnY2xhc3MnXSkgPyAkdHJhY2VbJGldWydjbGFzcyddIDogJyc7CiR0eXBlID0gaXNzZXQoJHRyYWNlWyRpXVsndHlwZSddKSA/ICR0cmFjZVskaV1bJ3R5cGUnXSA6ICcnOwokZnVuY3Rpb24gPSAkdHJhY2VbJGldWydmdW5jdGlvbiddOwokZmlsZSA9IGlzc2V0KCR0cmFjZVskaV1bJ2ZpbGUnXSkgPyAkdHJhY2VbJGldWydmaWxlJ10gOiAnbi9hJzsKJGxpbmUgPSBpc3NldCgkdHJhY2VbJGldWydsaW5lJ10pID8gJHRyYWNlWyRpXVsnbGluZSddIDogJ24vYSc7Cgokb3V0cHV0LT53cml0ZWxuKHNwcmludGYoJyAlcyVzJXMoKSBhdCA8aW5mbz4lczolczwvaW5mbz4nLCAkY2xhc3MsICR0eXBlLCAkZnVuY3Rpb24sICRmaWxlLCAkbGluZSksIE91dHB1dEludGVyZmFjZTo6VkVSQk9TSVRZX1FVSUVUKTsKfQoKJG91dHB1dC0+d3JpdGVsbignJywgT3V0cHV0SW50ZXJmYWNlOjpWRVJCT1NJVFlfUVVJRVQpOwp9Cn0gd2hpbGUgKCRlID0gJGUtPmdldFByZXZpb3VzKCkpOwoKaWYgKG51bGwgIT09ICR0aGlzLT5ydW5uaW5nQ29tbWFuZCkgewokb3V0cHV0LT53cml0ZWxuKHNwcmludGYoJzxpbmZvPiVzPC9pbmZvPicsIHNwcmludGYoJHRoaXMtPnJ1bm5pbmdDb21tYW5kLT5nZXRTeW5vcHNpcygpLCAkdGhpcy0+Z2V0TmFtZSgpKSksIE91dHB1dEludGVyZmFjZTo6VkVSQk9TSVRZX1FVSUVUKTsKJG91dHB1dC0+d3JpdGVsbignJywgT3V0cHV0SW50ZXJmYWNlOjpWRVJCT1NJVFlfUVVJRVQpOwp9Cn0KCgoKCgoKcHJvdGVjdGVkIGZ1bmN0aW9uIGdldFRlcm1pbmFsV2lkdGgoKQp7CiRkaW1lbnNpb25zID0gJHRoaXMtPmdldFRlcm1pbmFsRGltZW5zaW9ucygpOwoKcmV0dXJuICRkaW1lbnNpb25zWzBdOwp9CgoKCgoKCnByb3RlY3RlZCBmdW5jdGlvbiBnZXRUZXJtaW5hbEhlaWdodCgpCnsKJGRpbWVuc2lvbnMgPSAkdGhpcy0+Z2V0VGVybWluYWxEaW1lbnNpb25zKCk7CgpyZXR1cm4gJGRpbWVuc2lvbnNbMV07Cn0KCgoKCgoKcHVibGljIGZ1bmN0aW9uIGdldFRlcm1pbmFsRGltZW5zaW9ucygpCnsKaWYgKCR0aGlzLT50ZXJtaW5hbERpbWVuc2lvbnMpIHsKcmV0dXJuICR0aGlzLT50ZXJtaW5hbERpbWVuc2lvbnM7Cn0KCmlmICgnXFwnID09PSBcRElSRUNUT1JZX1NFUEFSQVRPUikgewoKaWYgKHByZWdfbWF0Y2goJy9eKFxkKyl4XGQrIFwoXGQreChcZCspXCkkLycsIHRyaW0oZ2V0ZW52KCdBTlNJQ09OJykpLCAkbWF0Y2hlcykpIHsKcmV0dXJuIGFycmF5KChpbnQpICRtYXRjaGVzWzFdLCAoaW50KSAkbWF0Y2hlc1syXSk7Cn0KCmlmIChwcmVnX21hdGNoKCcvXihcZCspeChcZCspJC8nLCAkdGhpcy0+Z2V0Q29uc29sZU1vZGUoKSwgJG1hdGNoZXMpKSB7CnJldHVybiBhcnJheSgoaW50KSAkbWF0Y2hlc1sxXSwgKGludCkgJG1hdGNoZXNbMl0pOwp9Cn0KCmlmICgkc3R0eVN0cmluZyA9ICR0aGlzLT5nZXRTdHR5Q29sdW1ucygpKSB7CgppZiAocHJlZ19tYXRjaCgnL3Jvd3MuKFxkKyk7LmNvbHVtbnMuKFxkKyk7L2knLCAkc3R0eVN0cmluZywgJG1hdGNoZXMpKSB7CnJldHVybiBhcnJheSgoaW50KSAkbWF0Y2hlc1syXSwgKGludCkgJG1hdGNoZXNbMV0pOwp9CgppZiAocHJlZ19tYXRjaCgnLzsuKFxkKykucm93czsuKFxkKykuY29sdW1ucy9pJywgJHN0dHlTdHJpbmcsICRtYXRjaGVzKSkgewpyZXR1cm4gYXJyYXkoKGludCkgJG1hdGNoZXNbMl0sIChpbnQpICRtYXRjaGVzWzFdKTsKfQp9CgpyZXR1cm4gYXJyYXkobnVsbCwgbnVsbCk7Cn0KCgoKCgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gc2V0VGVybWluYWxEaW1lbnNpb25zKCR3aWR0aCwgJGhlaWdodCkKewokdGhpcy0+dGVybWluYWxEaW1lbnNpb25zID0gYXJyYXkoJHdpZHRoLCAkaGVpZ2h0KTsKCnJldHVybiAkdGhpczsKfQoKCgoKcHJvdGVjdGVkIGZ1bmN0aW9uIGNvbmZpZ3VyZUlPKElucHV0SW50ZXJmYWNlICRpbnB1dCwgT3V0cHV0SW50ZXJmYWNlICRvdXRwdXQpCnsKaWYgKHRydWUgPT09ICRpbnB1dC0+aGFzUGFyYW1ldGVyT3B0aW9uKGFycmF5KCctLWFuc2knKSkpIHsKJG91dHB1dC0+c2V0RGVjb3JhdGVkKHRydWUpOwp9IGVsc2VpZiAodHJ1ZSA9PT0gJGlucHV0LT5oYXNQYXJhbWV0ZXJPcHRpb24oYXJyYXkoJy0tbm8tYW5zaScpKSkgewokb3V0cHV0LT5zZXREZWNvcmF0ZWQoZmFsc2UpOwp9CgppZiAodHJ1ZSA9PT0gJGlucHV0LT5oYXNQYXJhbWV0ZXJPcHRpb24oYXJyYXkoJy0tbm8taW50ZXJhY3Rpb24nLCAnLW4nKSkpIHsKJGlucHV0LT5zZXRJbnRlcmFjdGl2ZShmYWxzZSk7Cn0gZWxzZWlmIChcZnVuY3Rpb25fZXhpc3RzKCdwb3NpeF9pc2F0dHknKSAmJiAkdGhpcy0+Z2V0SGVscGVyU2V0KCktPmhhcygncXVlc3Rpb24nKSkgewokaW5wdXRTdHJlYW0gPSAkdGhpcy0+Z2V0SGVscGVyU2V0KCktPmdldCgncXVlc3Rpb24nKS0+Z2V0SW5wdXRTdHJlYW0oKTsKaWYgKCFAcG9zaXhfaXNhdHR5KCRpbnB1dFN0cmVhbSkgJiYgZmFsc2UgPT09IGdldGVudignU0hFTExfSU5URVJBQ1RJVkUnKSkgewokaW5wdXQtPnNldEludGVyYWN0aXZlKGZhbHNlKTsKfQp9CgppZiAodHJ1ZSA9PT0gJGlucHV0LT5oYXNQYXJhbWV0ZXJPcHRpb24oYXJyYXkoJy0tcXVpZXQnLCAnLXEnKSkpIHsKJG91dHB1dC0+c2V0VmVyYm9zaXR5KE91dHB1dEludGVyZmFjZTo6VkVSQk9TSVRZX1FVSUVUKTsKJGlucHV0LT5zZXRJbnRlcmFjdGl2ZShmYWxzZSk7Cn0gZWxzZSB7CmlmICgkaW5wdXQtPmhhc1BhcmFtZXRlck9wdGlvbignLXZ2dicpIHx8ICRpbnB1dC0+aGFzUGFyYW1ldGVyT3B0aW9uKCctLXZlcmJvc2U9MycpIHx8IDMgPT09ICRpbnB1dC0+Z2V0UGFyYW1ldGVyT3B0aW9uKCctLXZlcmJvc2UnKSkgewokb3V0cHV0LT5zZXRWZXJib3NpdHkoT3V0cHV0SW50ZXJmYWNlOjpWRVJCT1NJVFlfREVCVUcpOwp9IGVsc2VpZiAoJGlucHV0LT5oYXNQYXJhbWV0ZXJPcHRpb24oJy12dicpIHx8ICRpbnB1dC0+aGFzUGFyYW1ldGVyT3B0aW9uKCctLXZlcmJvc2U9MicpIHx8IDIgPT09ICRpbnB1dC0+Z2V0UGFyYW1ldGVyT3B0aW9uKCctLXZlcmJvc2UnKSkgewokb3V0cHV0LT5zZXRWZXJib3NpdHkoT3V0cHV0SW50ZXJmYWNlOjpWRVJCT1NJVFlfVkVSWV9WRVJCT1NFKTsKfSBlbHNlaWYgKCRpbnB1dC0+aGFzUGFyYW1ldGVyT3B0aW9uKCctdicpIHx8ICRpbnB1dC0+aGFzUGFyYW1ldGVyT3B0aW9uKCctLXZlcmJvc2U9MScpIHx8ICRpbnB1dC0+aGFzUGFyYW1ldGVyT3B0aW9uKCctLXZlcmJvc2UnKSB8fCAkaW5wdXQtPmdldFBhcmFtZXRlck9wdGlvbignLS12ZXJib3NlJykpIHsKJG91dHB1dC0+c2V0VmVyYm9zaXR5KE91dHB1dEludGVyZmFjZTo6VkVSQk9TSVRZX1ZFUkJPU0UpOwp9Cn0KfQoKCgoKCgoKCgpwcm90ZWN0ZWQgZnVuY3Rpb24gZG9SdW5Db21tYW5kKENvbW1hbmQgJGNvbW1hbmQsIElucHV0SW50ZXJmYWNlICRpbnB1dCwgT3V0cHV0SW50ZXJmYWNlICRvdXRwdXQpCnsKZm9yZWFjaCAoJGNvbW1hbmQtPmdldEhlbHBlclNldCgpIGFzICRoZWxwZXIpIHsKaWYgKCRoZWxwZXIgaW5zdGFuY2VvZiBJbnB1dEF3YXJlSW50ZXJmYWNlKSB7CiRoZWxwZXItPnNldElucHV0KCRpbnB1dCk7Cn0KfQoKaWYgKG51bGwgPT09ICR0aGlzLT5kaXNwYXRjaGVyKSB7CnJldHVybiAkY29tbWFuZC0+cnVuKCRpbnB1dCwgJG91dHB1dCk7Cn0KCgp0cnkgewokY29tbWFuZC0+bWVyZ2VBcHBsaWNhdGlvbkRlZmluaXRpb24oKTsKJGlucHV0LT5iaW5kKCRjb21tYW5kLT5nZXREZWZpbml0aW9uKCkpOwp9IGNhdGNoIChFeGNlcHRpb25JbnRlcmZhY2UgJGUpIHsKCn0KCiRldmVudCA9IG5ldyBDb25zb2xlQ29tbWFuZEV2ZW50KCRjb21tYW5kLCAkaW5wdXQsICRvdXRwdXQpOwokZSA9IG51bGw7Cgp0cnkgewokdGhpcy0+ZGlzcGF0Y2hlci0+ZGlzcGF0Y2goQ29uc29sZUV2ZW50czo6Q09NTUFORCwgJGV2ZW50KTsKCmlmICgkZXZlbnQtPmNvbW1hbmRTaG91bGRSdW4oKSkgewokZXhpdENvZGUgPSAkY29tbWFuZC0+cnVuKCRpbnB1dCwgJG91dHB1dCk7Cn0gZWxzZSB7CiRleGl0Q29kZSA9IENvbnNvbGVDb21tYW5kRXZlbnQ6OlJFVFVSTl9DT0RFX0RJU0FCTEVEOwp9Cn0gY2F0Y2ggKFxFeGNlcHRpb24gJGUpIHsKfSBjYXRjaCAoXFRocm93YWJsZSAkZSkgewp9CmlmIChudWxsICE9PSAkZSkgewokeCA9ICRlIGluc3RhbmNlb2YgXEV4Y2VwdGlvbiA/ICRlIDogbmV3IEZhdGFsVGhyb3dhYmxlRXJyb3IoJGUpOwokZXZlbnQgPSBuZXcgQ29uc29sZUV4Y2VwdGlvbkV2ZW50KCRjb21tYW5kLCAkaW5wdXQsICRvdXRwdXQsICR4LCAkeC0+Z2V0Q29kZSgpKTsKJHRoaXMtPmRpc3BhdGNoZXItPmRpc3BhdGNoKENvbnNvbGVFdmVudHM6OkVYQ0VQVElPTiwgJGV2ZW50KTsKCmlmICgkeCAhPT0gJGV2ZW50LT5nZXRFeGNlcHRpb24oKSkgewokZSA9ICRldmVudC0+Z2V0RXhjZXB0aW9uKCk7Cn0KCiRleGl0Q29kZSA9ICR0aGlzLT5nZXRFeGl0Q29kZUZvclRocm93YWJsZSgkZSk7Cn0KCiRldmVudCA9IG5ldyBDb25zb2xlVGVybWluYXRlRXZlbnQoJGNvbW1hbmQsICRpbnB1dCwgJG91dHB1dCwgJGV4aXRDb2RlKTsKJHRoaXMtPmRpc3BhdGNoZXItPmRpc3BhdGNoKENvbnNvbGVFdmVudHM6OlRFUk1JTkFURSwgJGV2ZW50KTsKCmlmIChudWxsICE9PSAkZSkgewp0aHJvdyAkZTsKfQoKcmV0dXJuICRldmVudC0+Z2V0RXhpdENvZGUoKTsKfQoKCgoKCgpwcm90ZWN0ZWQgZnVuY3Rpb24gZ2V0Q29tbWFuZE5hbWUoSW5wdXRJbnRlcmZhY2UgJGlucHV0KQp7CnJldHVybiAkaW5wdXQtPmdldEZpcnN0QXJndW1lbnQoKTsKfQoKCgoKCgpwcm90ZWN0ZWQgZnVuY3Rpb24gZ2V0RGVmYXVsdElucHV0RGVmaW5pdGlvbigpCnsKcmV0dXJuIG5ldyBJbnB1dERlZmluaXRpb24oYXJyYXkoCm5ldyBJbnB1dEFyZ3VtZW50KCdjb21tYW5kJywgSW5wdXRBcmd1bWVudDo6UkVRVUlSRUQsICdUaGUgY29tbWFuZCB0byBleGVjdXRlJyksCgpuZXcgSW5wdXRPcHRpb24oJy0taGVscCcsICctaCcsIElucHV0T3B0aW9uOjpWQUxVRV9OT05FLCAnRGlzcGxheSB0aGlzIGhlbHAgbWVzc2FnZScpLApuZXcgSW5wdXRPcHRpb24oJy0tcXVpZXQnLCAnLXEnLCBJbnB1dE9wdGlvbjo6VkFMVUVfTk9ORSwgJ0RvIG5vdCBvdXRwdXQgYW55IG1lc3NhZ2UnKSwKbmV3IElucHV0T3B0aW9uKCctLXZlcmJvc2UnLCAnLXZ8dnZ8dnZ2JywgSW5wdXRPcHRpb246OlZBTFVFX05PTkUsICdJbmNyZWFzZSB0aGUgdmVyYm9zaXR5IG9mIG1lc3NhZ2VzOiAxIGZvciBub3JtYWwgb3V0cHV0LCAyIGZvciBtb3JlIHZlcmJvc2Ugb3V0cHV0IGFuZCAzIGZvciBkZWJ1ZycpLApuZXcgSW5wdXRPcHRpb24oJy0tdmVyc2lvbicsICctVicsIElucHV0T3B0aW9uOjpWQUxVRV9OT05FLCAnRGlzcGxheSB0aGlzIGFwcGxpY2F0aW9uIHZlcnNpb24nKSwKbmV3IElucHV0T3B0aW9uKCctLWFuc2knLCAnJywgSW5wdXRPcHRpb246OlZBTFVFX05PTkUsICdGb3JjZSBBTlNJIG91dHB1dCcpLApuZXcgSW5wdXRPcHRpb24oJy0tbm8tYW5zaScsICcnLCBJbnB1dE9wdGlvbjo6VkFMVUVfTk9ORSwgJ0Rpc2FibGUgQU5TSSBvdXRwdXQnKSwKbmV3IElucHV0T3B0aW9uKCctLW5vLWludGVyYWN0aW9uJywgJy1uJywgSW5wdXRPcHRpb246OlZBTFVFX05PTkUsICdEbyBub3QgYXNrIGFueSBpbnRlcmFjdGl2ZSBxdWVzdGlvbicpLAopKTsKfQoKCgoKCgpwcm90ZWN0ZWQgZnVuY3Rpb24gZ2V0RGVmYXVsdENvbW1hbmRzKCkKewpyZXR1cm4gYXJyYXkobmV3IEhlbHBDb21tYW5kKCksIG5ldyBMaXN0Q29tbWFuZCgpKTsKfQoKCgoKCgpwcm90ZWN0ZWQgZnVuY3Rpb24gZ2V0RGVmYXVsdEhlbHBlclNldCgpCnsKcmV0dXJuIG5ldyBIZWxwZXJTZXQoYXJyYXkoCm5ldyBGb3JtYXR0ZXJIZWxwZXIoKSwKbmV3IERpYWxvZ0hlbHBlcihmYWxzZSksCm5ldyBQcm9ncmVzc0hlbHBlcihmYWxzZSksCm5ldyBUYWJsZUhlbHBlcihmYWxzZSksCm5ldyBEZWJ1Z0Zvcm1hdHRlckhlbHBlcigpLApuZXcgUHJvY2Vzc0hlbHBlcigpLApuZXcgUXVlc3Rpb25IZWxwZXIoKSwKKSk7Cn0KCgoKCgoKcHJpdmF0ZSBmdW5jdGlvbiBnZXRTdHR5Q29sdW1ucygpCnsKaWYgKCFcZnVuY3Rpb25fZXhpc3RzKCdwcm9jX29wZW4nKSkgewpyZXR1cm47Cn0KCiRkZXNjcmlwdG9yc3BlYyA9IGFycmF5KDEgPT4gYXJyYXkoJ3BpcGUnLCAndycpLCAyID0+IGFycmF5KCdwaXBlJywgJ3cnKSk7CiRwcm9jZXNzID0gcHJvY19vcGVuKCdzdHR5IC1hIHwgZ3JlcCBjb2x1bW5zJywgJGRlc2NyaXB0b3JzcGVjLCAkcGlwZXMsIG51bGwsIG51bGwsIGFycmF5KCdzdXBwcmVzc19lcnJvcnMnID0+IHRydWUpKTsKaWYgKFxpc19yZXNvdXJjZSgkcHJvY2VzcykpIHsKJGluZm8gPSBzdHJlYW1fZ2V0X2NvbnRlbnRzKCRwaXBlc1sxXSk7CmZjbG9zZSgkcGlwZXNbMV0pOwpmY2xvc2UoJHBpcGVzWzJdKTsKcHJvY19jbG9zZSgkcHJvY2Vzcyk7CgpyZXR1cm4gJGluZm87Cn0KfQoKCgoKCgpwcml2YXRlIGZ1bmN0aW9uIGdldENvbnNvbGVNb2RlKCkKewppZiAoIVxmdW5jdGlvbl9leGlzdHMoJ3Byb2Nfb3BlbicpKSB7CnJldHVybjsKfQoKJGRlc2NyaXB0b3JzcGVjID0gYXJyYXkoMSA9PiBhcnJheSgncGlwZScsICd3JyksIDIgPT4gYXJyYXkoJ3BpcGUnLCAndycpKTsKJHByb2Nlc3MgPSBwcm9jX29wZW4oJ21vZGUgQ09OJywgJGRlc2NyaXB0b3JzcGVjLCAkcGlwZXMsIG51bGwsIG51bGwsIGFycmF5KCdzdXBwcmVzc19lcnJvcnMnID0+IHRydWUpKTsKaWYgKFxpc19yZXNvdXJjZSgkcHJvY2VzcykpIHsKJGluZm8gPSBzdHJlYW1fZ2V0X2NvbnRlbnRzKCRwaXBlc1sxXSk7CmZjbG9zZSgkcGlwZXNbMV0pOwpmY2xvc2UoJHBpcGVzWzJdKTsKcHJvY19jbG9zZSgkcHJvY2Vzcyk7CgppZiAocHJlZ19tYXRjaCgnLy0tLS0tLS0tK1xyP1xuLis/KFxkKylccj9cbi4rPyhcZCspXHI/XG4vJywgJGluZm8sICRtYXRjaGVzKSkgewpyZXR1cm4gJG1hdGNoZXNbMl0uJ3gnLiRtYXRjaGVzWzFdOwp9Cn0KfQoKCgoKCgoKCnByaXZhdGUgZnVuY3Rpb24gZ2V0QWJicmV2aWF0aW9uU3VnZ2VzdGlvbnMoJGFiYnJldnMpCnsKcmV0dXJuIHNwcmludGYoJyVzLCAlcyVzJywgJGFiYnJldnNbMF0sICRhYmJyZXZzWzFdLCBcY291bnQoJGFiYnJldnMpID4gMiA/IHNwcmludGYoJyBhbmQgJWQgbW9yZScsIFxjb3VudCgkYWJicmV2cykgLSAyKSA6ICcnKTsKfQoKCgoKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBleHRyYWN0TmFtZXNwYWNlKCRuYW1lLCAkbGltaXQgPSBudWxsKQp7CiRwYXJ0cyA9IGV4cGxvZGUoJzonLCAkbmFtZSk7CmFycmF5X3BvcCgkcGFydHMpOwoKcmV0dXJuIGltcGxvZGUoJzonLCBudWxsID09PSAkbGltaXQgPyAkcGFydHMgOiBcYXJyYXlfc2xpY2UoJHBhcnRzLCAwLCAkbGltaXQpKTsKfQoKCgoKCgoKCgoKcHJpdmF0ZSBmdW5jdGlvbiBmaW5kQWx0ZXJuYXRpdmVzKCRuYW1lLCAkY29sbGVjdGlvbikKewokdGhyZXNob2xkID0gMWUzOwokYWx0ZXJuYXRpdmVzID0gYXJyYXkoKTsKCiRjb2xsZWN0aW9uUGFydHMgPSBhcnJheSgpOwpmb3JlYWNoICgkY29sbGVjdGlvbiBhcyAkaXRlbSkgewokY29sbGVjdGlvblBhcnRzWyRpdGVtXSA9IGV4cGxvZGUoJzonLCAkaXRlbSk7Cn0KCmZvcmVhY2ggKGV4cGxvZGUoJzonLCAkbmFtZSkgYXMgJGkgPT4gJHN1Ym5hbWUpIHsKZm9yZWFjaCAoJGNvbGxlY3Rpb25QYXJ0cyBhcyAkY29sbGVjdGlvbk5hbWUgPT4gJHBhcnRzKSB7CiRleGlzdHMgPSBpc3NldCgkYWx0ZXJuYXRpdmVzWyRjb2xsZWN0aW9uTmFtZV0pOwppZiAoIWlzc2V0KCRwYXJ0c1skaV0pICYmICRleGlzdHMpIHsKJGFsdGVybmF0aXZlc1skY29sbGVjdGlvbk5hbWVdICs9ICR0aHJlc2hvbGQ7CmNvbnRpbnVlOwp9IGVsc2VpZiAoIWlzc2V0KCRwYXJ0c1skaV0pKSB7CmNvbnRpbnVlOwp9CgokbGV2ID0gbGV2ZW5zaHRlaW4oJHN1Ym5hbWUsICRwYXJ0c1skaV0pOwppZiAoJGxldiA8PSBcc3RybGVuKCRzdWJuYW1lKSAvIDMgfHwgJycgIT09ICRzdWJuYW1lICYmIGZhbHNlICE9PSBzdHJwb3MoJHBhcnRzWyRpXSwgJHN1Ym5hbWUpKSB7CiRhbHRlcm5hdGl2ZXNbJGNvbGxlY3Rpb25OYW1lXSA9ICRleGlzdHMgPyAkYWx0ZXJuYXRpdmVzWyRjb2xsZWN0aW9uTmFtZV0gKyAkbGV2IDogJGxldjsKfSBlbHNlaWYgKCRleGlzdHMpIHsKJGFsdGVybmF0aXZlc1skY29sbGVjdGlvbk5hbWVdICs9ICR0aHJlc2hvbGQ7Cn0KfQp9Cgpmb3JlYWNoICgkY29sbGVjdGlvbiBhcyAkaXRlbSkgewokbGV2ID0gbGV2ZW5zaHRlaW4oJG5hbWUsICRpdGVtKTsKaWYgKCRsZXYgPD0gXHN0cmxlbigkbmFtZSkgLyAzIHx8IGZhbHNlICE9PSBzdHJwb3MoJGl0ZW0sICRuYW1lKSkgewokYWx0ZXJuYXRpdmVzWyRpdGVtXSA9IGlzc2V0KCRhbHRlcm5hdGl2ZXNbJGl0ZW1dKSA/ICRhbHRlcm5hdGl2ZXNbJGl0ZW1dIC0gJGxldiA6ICRsZXY7Cn0KfQoKJGFsdGVybmF0aXZlcyA9IGFycmF5X2ZpbHRlcigkYWx0ZXJuYXRpdmVzLCBmdW5jdGlvbiAoJGxldikgdXNlICgkdGhyZXNob2xkKSB7IHJldHVybiAkbGV2IDwgMiAqICR0aHJlc2hvbGQ7IH0pOwphc29ydCgkYWx0ZXJuYXRpdmVzKTsKCnJldHVybiBhcnJheV9rZXlzKCRhbHRlcm5hdGl2ZXMpOwp9CgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBzZXREZWZhdWx0Q29tbWFuZCgkY29tbWFuZE5hbWUpCnsKJHRoaXMtPmRlZmF1bHRDb21tYW5kID0gJGNvbW1hbmROYW1lOwp9Cgpwcml2YXRlIGZ1bmN0aW9uIHNwbGl0U3RyaW5nQnlXaWR0aCgkc3RyaW5nLCAkd2lkdGgpCnsKCgoKaWYgKGZhbHNlID09PSAkZW5jb2RpbmcgPSBtYl9kZXRlY3RfZW5jb2RpbmcoJHN0cmluZywgbnVsbCwgdHJ1ZSkpIHsKcmV0dXJuIHN0cl9zcGxpdCgkc3RyaW5nLCAkd2lkdGgpOwp9CgokdXRmOFN0cmluZyA9IG1iX2NvbnZlcnRfZW5jb2RpbmcoJHN0cmluZywgJ3V0ZjgnLCAkZW5jb2RpbmcpOwokbGluZXMgPSBhcnJheSgpOwokbGluZSA9ICcnOwpmb3JlYWNoIChwcmVnX3NwbGl0KCcvL3UnLCAkdXRmOFN0cmluZykgYXMgJGNoYXIpIHsKCmlmIChtYl9zdHJ3aWR0aCgkbGluZS4kY2hhciwgJ3V0ZjgnKSA8PSAkd2lkdGgpIHsKJGxpbmUgLj0gJGNoYXI7CmNvbnRpbnVlOwp9CgokbGluZXNbXSA9IHN0cl9wYWQoJGxpbmUsICR3aWR0aCk7CiRsaW5lID0gJGNoYXI7Cn0KCiRsaW5lc1tdID0gXGNvdW50KCRsaW5lcykgPyBzdHJfcGFkKCRsaW5lLCAkd2lkdGgpIDogJGxpbmU7CgptYl9jb252ZXJ0X3ZhcmlhYmxlcygkZW5jb2RpbmcsICd1dGY4JywgJGxpbmVzKTsKCnJldHVybiAkbGluZXM7Cn0KCgoKCgoKCgpwcml2YXRlIGZ1bmN0aW9uIGV4dHJhY3RBbGxOYW1lc3BhY2VzKCRuYW1lKQp7CgokcGFydHMgPSBleHBsb2RlKCc6JywgJG5hbWUsIC0xKTsKJG5hbWVzcGFjZXMgPSBhcnJheSgpOwoKZm9yZWFjaCAoJHBhcnRzIGFzICRwYXJ0KSB7CmlmIChcY291bnQoJG5hbWVzcGFjZXMpKSB7CiRuYW1lc3BhY2VzW10gPSBlbmQoJG5hbWVzcGFjZXMpLic6Jy4kcGFydDsKfSBlbHNlIHsKJG5hbWVzcGFjZXNbXSA9ICRwYXJ0Owp9Cn0KCnJldHVybiAkbmFtZXNwYWNlczsKfQoKcHJpdmF0ZSBmdW5jdGlvbiBpbml0KCkKewppZiAoJHRoaXMtPmluaXRpYWxpemVkKSB7CnJldHVybjsKfQokdGhpcy0+aW5pdGlhbGl6ZWQgPSB0cnVlOwoKZm9yZWFjaCAoJHRoaXMtPmdldERlZmF1bHRDb21tYW5kcygpIGFzICRjb21tYW5kKSB7CiR0aGlzLT5hZGQoJGNvbW1hbmQpOwp9Cn0KCgoKCgoKcHJpdmF0ZSBmdW5jdGlvbiBnZXRFeGl0Q29kZUZvclRocm93YWJsZSgkdGhyb3dhYmxlKQp7CiRleGl0Q29kZSA9ICR0aHJvd2FibGUtPmdldENvZGUoKTsKaWYgKGlzX251bWVyaWMoJGV4aXRDb2RlKSkgewokZXhpdENvZGUgPSAoaW50KSAkZXhpdENvZGU7CmlmICgwID09PSAkZXhpdENvZGUpIHsKJGV4aXRDb2RlID0gMTsKfQp9IGVsc2UgewokZXhpdENvZGUgPSAxOwp9CgpyZXR1cm4gJGV4aXRDb2RlOwp9Cn0KPD9waHAKCgoKCgoKCgoKCm5hbWVzcGFjZSBTeW1mb255XENvbXBvbmVudFxDb25zb2xlXENvbW1hbmQ7Cgp1c2UgU3ltZm9ueVxDb21wb25lbnRcQ29uc29sZVxBcHBsaWNhdGlvbjsKdXNlIFN5bWZvbnlcQ29tcG9uZW50XENvbnNvbGVcRGVzY3JpcHRvclxUZXh0RGVzY3JpcHRvcjsKdXNlIFN5bWZvbnlcQ29tcG9uZW50XENvbnNvbGVcRGVzY3JpcHRvclxYbWxEZXNjcmlwdG9yOwp1c2UgU3ltZm9ueVxDb21wb25lbnRcQ29uc29sZVxFeGNlcHRpb25cRXhjZXB0aW9uSW50ZXJmYWNlOwp1c2UgU3ltZm9ueVxDb21wb25lbnRcQ29uc29sZVxFeGNlcHRpb25cSW52YWxpZEFyZ3VtZW50RXhjZXB0aW9uOwp1c2UgU3ltZm9ueVxDb21wb25lbnRcQ29uc29sZVxFeGNlcHRpb25cTG9naWNFeGNlcHRpb247CnVzZSBTeW1mb255XENvbXBvbmVudFxDb25zb2xlXEhlbHBlclxIZWxwZXJTZXQ7CnVzZSBTeW1mb255XENvbXBvbmVudFxDb25zb2xlXElucHV0XElucHV0QXJndW1lbnQ7CnVzZSBTeW1mb255XENvbXBvbmVudFxDb25zb2xlXElucHV0XElucHV0RGVmaW5pdGlvbjsKdXNlIFN5bWZvbnlcQ29tcG9uZW50XENvbnNvbGVcSW5wdXRcSW5wdXRJbnRlcmZhY2U7CnVzZSBTeW1mb255XENvbXBvbmVudFxDb25zb2xlXElucHV0XElucHV0T3B0aW9uOwp1c2UgU3ltZm9ueVxDb21wb25lbnRcQ29uc29sZVxPdXRwdXRcQnVmZmVyZWRPdXRwdXQ7CnVzZSBTeW1mb255XENvbXBvbmVudFxDb25zb2xlXE91dHB1dFxPdXRwdXRJbnRlcmZhY2U7CgoKCgoKCmNsYXNzIENvbW1hbmQKewpwcml2YXRlICRhcHBsaWNhdGlvbjsKcHJpdmF0ZSAkbmFtZTsKcHJpdmF0ZSAkcHJvY2Vzc1RpdGxlOwpwcml2YXRlICRhbGlhc2VzID0gYXJyYXkoKTsKcHJpdmF0ZSAkZGVmaW5pdGlvbjsKcHJpdmF0ZSAkaGVscDsKcHJpdmF0ZSAkZGVzY3JpcHRpb247CnByaXZhdGUgJGlnbm9yZVZhbGlkYXRpb25FcnJvcnMgPSBmYWxzZTsKcHJpdmF0ZSAkYXBwbGljYXRpb25EZWZpbml0aW9uTWVyZ2VkID0gZmFsc2U7CnByaXZhdGUgJGFwcGxpY2F0aW9uRGVmaW5pdGlvbk1lcmdlZFdpdGhBcmdzID0gZmFsc2U7CnByaXZhdGUgJGNvZGU7CnByaXZhdGUgJHN5bm9wc2lzID0gYXJyYXkoKTsKcHJpdmF0ZSAkdXNhZ2VzID0gYXJyYXkoKTsKcHJpdmF0ZSAkaGVscGVyU2V0OwoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gX19jb25zdHJ1Y3QoJG5hbWUgPSBudWxsKQp7CiR0aGlzLT5kZWZpbml0aW9uID0gbmV3IElucHV0RGVmaW5pdGlvbigpOwoKaWYgKG51bGwgIT09ICRuYW1lKSB7CiR0aGlzLT5zZXROYW1lKCRuYW1lKTsKfQoKJHRoaXMtPmNvbmZpZ3VyZSgpOwoKaWYgKCEkdGhpcy0+bmFtZSkgewp0aHJvdyBuZXcgTG9naWNFeGNlcHRpb24oc3ByaW50ZignVGhlIGNvbW1hbmQgZGVmaW5lZCBpbiAiJXMiIGNhbm5vdCBoYXZlIGFuIGVtcHR5IG5hbWUuJywgXGdldF9jbGFzcygkdGhpcykpKTsKfQp9CgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBpZ25vcmVWYWxpZGF0aW9uRXJyb3JzKCkKewokdGhpcy0+aWdub3JlVmFsaWRhdGlvbkVycm9ycyA9IHRydWU7Cn0KCnB1YmxpYyBmdW5jdGlvbiBzZXRBcHBsaWNhdGlvbihBcHBsaWNhdGlvbiAkYXBwbGljYXRpb24gPSBudWxsKQp7CiR0aGlzLT5hcHBsaWNhdGlvbiA9ICRhcHBsaWNhdGlvbjsKaWYgKCRhcHBsaWNhdGlvbikgewokdGhpcy0+c2V0SGVscGVyU2V0KCRhcHBsaWNhdGlvbi0+Z2V0SGVscGVyU2V0KCkpOwp9IGVsc2UgewokdGhpcy0+aGVscGVyU2V0ID0gbnVsbDsKfQp9CgpwdWJsaWMgZnVuY3Rpb24gc2V0SGVscGVyU2V0KEhlbHBlclNldCAkaGVscGVyU2V0KQp7CiR0aGlzLT5oZWxwZXJTZXQgPSAkaGVscGVyU2V0Owp9CgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBnZXRIZWxwZXJTZXQoKQp7CnJldHVybiAkdGhpcy0+aGVscGVyU2V0Owp9CgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBnZXRBcHBsaWNhdGlvbigpCnsKcmV0dXJuICR0aGlzLT5hcHBsaWNhdGlvbjsKfQoKCgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gaXNFbmFibGVkKCkKewpyZXR1cm4gdHJ1ZTsKfQoKCgoKcHJvdGVjdGVkIGZ1bmN0aW9uIGNvbmZpZ3VyZSgpCnsKfQoKCgoKCgoKCgoKCgoKCgpwcm90ZWN0ZWQgZnVuY3Rpb24gZXhlY3V0ZShJbnB1dEludGVyZmFjZSAkaW5wdXQsIE91dHB1dEludGVyZmFjZSAkb3V0cHV0KQp7CnRocm93IG5ldyBMb2dpY0V4Y2VwdGlvbignWW91IG11c3Qgb3ZlcnJpZGUgdGhlIGV4ZWN1dGUoKSBtZXRob2QgaW4gdGhlIGNvbmNyZXRlIGNvbW1hbmQgY2xhc3MuJyk7Cn0KCgoKCgoKCgpwcm90ZWN0ZWQgZnVuY3Rpb24gaW50ZXJhY3QoSW5wdXRJbnRlcmZhY2UgJGlucHV0LCBPdXRwdXRJbnRlcmZhY2UgJG91dHB1dCkKewp9CgoKCgoKCgoKCgoKcHJvdGVjdGVkIGZ1bmN0aW9uIGluaXRpYWxpemUoSW5wdXRJbnRlcmZhY2UgJGlucHV0LCBPdXRwdXRJbnRlcmZhY2UgJG91dHB1dCkKewp9CgoKCgoKCgoKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBydW4oSW5wdXRJbnRlcmZhY2UgJGlucHV0LCBPdXRwdXRJbnRlcmZhY2UgJG91dHB1dCkKewoKJHRoaXMtPmdldFN5bm9wc2lzKHRydWUpOwokdGhpcy0+Z2V0U3lub3BzaXMoZmFsc2UpOwoKCiR0aGlzLT5tZXJnZUFwcGxpY2F0aW9uRGVmaW5pdGlvbigpOwoKCnRyeSB7CiRpbnB1dC0+YmluZCgkdGhpcy0+ZGVmaW5pdGlvbik7Cn0gY2F0Y2ggKEV4Y2VwdGlvbkludGVyZmFjZSAkZSkgewppZiAoISR0aGlzLT5pZ25vcmVWYWxpZGF0aW9uRXJyb3JzKSB7CnRocm93ICRlOwp9Cn0KCiR0aGlzLT5pbml0aWFsaXplKCRpbnB1dCwgJG91dHB1dCk7CgppZiAobnVsbCAhPT0gJHRoaXMtPnByb2Nlc3NUaXRsZSkgewppZiAoXGZ1bmN0aW9uX2V4aXN0cygnY2xpX3NldF9wcm9jZXNzX3RpdGxlJykpIHsKaWYgKCFAY2xpX3NldF9wcm9jZXNzX3RpdGxlKCR0aGlzLT5wcm9jZXNzVGl0bGUpKSB7CmlmICgnRGFyd2luJyA9PT0gUEhQX09TKSB7CiRvdXRwdXQtPndyaXRlbG4oJzxjb21tZW50PlJ1bm5pbmcgImNsaV9zZXRfcHJvY2Vzc190aXRsZSIgYXMgYW4gdW5wcml2aWxlZ2VkIHVzZXIgaXMgbm90IHN1cHBvcnRlZCBvbiBNYWNPUy48L2NvbW1lbnQ+JywgT3V0cHV0SW50ZXJmYWNlOjpWRVJCT1NJVFlfVkVSWV9WRVJCT1NFKTsKfSBlbHNlIHsKY2xpX3NldF9wcm9jZXNzX3RpdGxlKCR0aGlzLT5wcm9jZXNzVGl0bGUpOwp9Cn0KfSBlbHNlaWYgKFxmdW5jdGlvbl9leGlzdHMoJ3NldHByb2N0aXRsZScpKSB7CnNldHByb2N0aXRsZSgkdGhpcy0+cHJvY2Vzc1RpdGxlKTsKfSBlbHNlaWYgKE91dHB1dEludGVyZmFjZTo6VkVSQk9TSVRZX1ZFUllfVkVSQk9TRSA9PT0gJG91dHB1dC0+Z2V0VmVyYm9zaXR5KCkpIHsKJG91dHB1dC0+d3JpdGVsbignPGNvbW1lbnQ+SW5zdGFsbCB0aGUgcHJvY3RpdGxlIFBFQ0wgdG8gYmUgYWJsZSB0byBjaGFuZ2UgdGhlIHByb2Nlc3MgdGl0bGUuPC9jb21tZW50PicpOwp9Cn0KCmlmICgkaW5wdXQtPmlzSW50ZXJhY3RpdmUoKSkgewokdGhpcy0+aW50ZXJhY3QoJGlucHV0LCAkb3V0cHV0KTsKfQoKCgoKaWYgKCRpbnB1dC0+aGFzQXJndW1lbnQoJ2NvbW1hbmQnKSAmJiBudWxsID09PSAkaW5wdXQtPmdldEFyZ3VtZW50KCdjb21tYW5kJykpIHsKJGlucHV0LT5zZXRBcmd1bWVudCgnY29tbWFuZCcsICR0aGlzLT5nZXROYW1lKCkpOwp9CgokaW5wdXQtPnZhbGlkYXRlKCk7CgppZiAoJHRoaXMtPmNvZGUpIHsKJHN0YXR1c0NvZGUgPSBcY2FsbF91c2VyX2Z1bmMoJHRoaXMtPmNvZGUsICRpbnB1dCwgJG91dHB1dCk7Cn0gZWxzZSB7CiRzdGF0dXNDb2RlID0gJHRoaXMtPmV4ZWN1dGUoJGlucHV0LCAkb3V0cHV0KTsKfQoKcmV0dXJuIGlzX251bWVyaWMoJHN0YXR1c0NvZGUpID8gKGludCkgJHN0YXR1c0NvZGUgOiAwOwp9CgoKCgoKCgoKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBzZXRDb2RlKCRjb2RlKQp7CmlmICghXGlzX2NhbGxhYmxlKCRjb2RlKSkgewp0aHJvdyBuZXcgSW52YWxpZEFyZ3VtZW50RXhjZXB0aW9uKCdJbnZhbGlkIGNhbGxhYmxlIHByb3ZpZGVkIHRvIENvbW1hbmQ6OnNldENvZGUuJyk7Cn0KCmlmIChcUEhQX1ZFUlNJT05fSUQgPj0gNTA0MDAgJiYgJGNvZGUgaW5zdGFuY2VvZiBcQ2xvc3VyZSkgewokciA9IG5ldyBcUmVmbGVjdGlvbkZ1bmN0aW9uKCRjb2RlKTsKaWYgKG51bGwgPT09ICRyLT5nZXRDbG9zdXJlVGhpcygpKSB7CmlmIChcUEhQX1ZFUlNJT05fSUQgPCA3MDAwMCkgewoKCgoKJGNvZGUgPSBAXENsb3N1cmU6OmJpbmQoJGNvZGUsICR0aGlzKTsKfSBlbHNlIHsKJGNvZGUgPSBcQ2xvc3VyZTo6YmluZCgkY29kZSwgJHRoaXMpOwp9Cn0KfQoKJHRoaXMtPmNvZGUgPSAkY29kZTsKCnJldHVybiAkdGhpczsKfQoKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBtZXJnZUFwcGxpY2F0aW9uRGVmaW5pdGlvbigkbWVyZ2VBcmdzID0gdHJ1ZSkKewppZiAobnVsbCA9PT0gJHRoaXMtPmFwcGxpY2F0aW9uIHx8ICh0cnVlID09PSAkdGhpcy0+YXBwbGljYXRpb25EZWZpbml0aW9uTWVyZ2VkICYmICgkdGhpcy0+YXBwbGljYXRpb25EZWZpbml0aW9uTWVyZ2VkV2l0aEFyZ3MgfHwgISRtZXJnZUFyZ3MpKSkgewpyZXR1cm47Cn0KCiR0aGlzLT5kZWZpbml0aW9uLT5hZGRPcHRpb25zKCR0aGlzLT5hcHBsaWNhdGlvbi0+Z2V0RGVmaW5pdGlvbigpLT5nZXRPcHRpb25zKCkpOwoKJHRoaXMtPmFwcGxpY2F0aW9uRGVmaW5pdGlvbk1lcmdlZCA9IHRydWU7CgppZiAoJG1lcmdlQXJncykgewokY3VycmVudEFyZ3VtZW50cyA9ICR0aGlzLT5kZWZpbml0aW9uLT5nZXRBcmd1bWVudHMoKTsKJHRoaXMtPmRlZmluaXRpb24tPnNldEFyZ3VtZW50cygkdGhpcy0+YXBwbGljYXRpb24tPmdldERlZmluaXRpb24oKS0+Z2V0QXJndW1lbnRzKCkpOwokdGhpcy0+ZGVmaW5pdGlvbi0+YWRkQXJndW1lbnRzKCRjdXJyZW50QXJndW1lbnRzKTsKCiR0aGlzLT5hcHBsaWNhdGlvbkRlZmluaXRpb25NZXJnZWRXaXRoQXJncyA9IHRydWU7Cn0KfQoKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBzZXREZWZpbml0aW9uKCRkZWZpbml0aW9uKQp7CmlmICgkZGVmaW5pdGlvbiBpbnN0YW5jZW9mIElucHV0RGVmaW5pdGlvbikgewokdGhpcy0+ZGVmaW5pdGlvbiA9ICRkZWZpbml0aW9uOwp9IGVsc2UgewokdGhpcy0+ZGVmaW5pdGlvbi0+c2V0RGVmaW5pdGlvbigkZGVmaW5pdGlvbik7Cn0KCiR0aGlzLT5hcHBsaWNhdGlvbkRlZmluaXRpb25NZXJnZWQgPSBmYWxzZTsKCnJldHVybiAkdGhpczsKfQoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0RGVmaW5pdGlvbigpCnsKcmV0dXJuICR0aGlzLT5kZWZpbml0aW9uOwp9CgoKCgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIGdldE5hdGl2ZURlZmluaXRpb24oKQp7CnJldHVybiAkdGhpcy0+Z2V0RGVmaW5pdGlvbigpOwp9CgoKCgoKCgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gYWRkQXJndW1lbnQoJG5hbWUsICRtb2RlID0gbnVsbCwgJGRlc2NyaXB0aW9uID0gJycsICRkZWZhdWx0ID0gbnVsbCkKewokdGhpcy0+ZGVmaW5pdGlvbi0+YWRkQXJndW1lbnQobmV3IElucHV0QXJndW1lbnQoJG5hbWUsICRtb2RlLCAkZGVzY3JpcHRpb24sICRkZWZhdWx0KSk7CgpyZXR1cm4gJHRoaXM7Cn0KCgoKCgoKCgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gYWRkT3B0aW9uKCRuYW1lLCAkc2hvcnRjdXQgPSBudWxsLCAkbW9kZSA9IG51bGwsICRkZXNjcmlwdGlvbiA9ICcnLCAkZGVmYXVsdCA9IG51bGwpCnsKJHRoaXMtPmRlZmluaXRpb24tPmFkZE9wdGlvbihuZXcgSW5wdXRPcHRpb24oJG5hbWUsICRzaG9ydGN1dCwgJG1vZGUsICRkZXNjcmlwdGlvbiwgJGRlZmF1bHQpKTsKCnJldHVybiAkdGhpczsKfQoKCgoKCgoKCgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gc2V0TmFtZSgkbmFtZSkKewokdGhpcy0+dmFsaWRhdGVOYW1lKCRuYW1lKTsKCiR0aGlzLT5uYW1lID0gJG5hbWU7CgpyZXR1cm4gJHRoaXM7Cn0KCgoKCgoKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBzZXRQcm9jZXNzVGl0bGUoJHRpdGxlKQp7CiR0aGlzLT5wcm9jZXNzVGl0bGUgPSAkdGl0bGU7CgpyZXR1cm4gJHRoaXM7Cn0KCgoKCgoKcHVibGljIGZ1bmN0aW9uIGdldE5hbWUoKQp7CnJldHVybiAkdGhpcy0+bmFtZTsKfQoKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBzZXREZXNjcmlwdGlvbigkZGVzY3JpcHRpb24pCnsKJHRoaXMtPmRlc2NyaXB0aW9uID0gJGRlc2NyaXB0aW9uOwoKcmV0dXJuICR0aGlzOwp9CgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBnZXREZXNjcmlwdGlvbigpCnsKcmV0dXJuICR0aGlzLT5kZXNjcmlwdGlvbjsKfQoKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBzZXRIZWxwKCRoZWxwKQp7CiR0aGlzLT5oZWxwID0gJGhlbHA7CgpyZXR1cm4gJHRoaXM7Cn0KCgoKCgoKcHVibGljIGZ1bmN0aW9uIGdldEhlbHAoKQp7CnJldHVybiAkdGhpcy0+aGVscDsKfQoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIGdldFByb2Nlc3NlZEhlbHAoKQp7CiRuYW1lID0gJHRoaXMtPm5hbWU7CgokcGxhY2Vob2xkZXJzID0gYXJyYXkoCiclY29tbWFuZC5uYW1lJScsCiclY29tbWFuZC5mdWxsX25hbWUlJywKKTsKJHJlcGxhY2VtZW50cyA9IGFycmF5KAokbmFtZSwKJF9TRVJWRVJbJ1BIUF9TRUxGJ10uJyAnLiRuYW1lLAopOwoKcmV0dXJuIHN0cl9yZXBsYWNlKCRwbGFjZWhvbGRlcnMsICRyZXBsYWNlbWVudHMsICR0aGlzLT5nZXRIZWxwKCkgPzogJHRoaXMtPmdldERlc2NyaXB0aW9uKCkpOwp9CgoKCgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gc2V0QWxpYXNlcygkYWxpYXNlcykKewppZiAoIVxpc19hcnJheSgkYWxpYXNlcykgJiYgISRhbGlhc2VzIGluc3RhbmNlb2YgXFRyYXZlcnNhYmxlKSB7CnRocm93IG5ldyBJbnZhbGlkQXJndW1lbnRFeGNlcHRpb24oJyRhbGlhc2VzIG11c3QgYmUgYW4gYXJyYXkgb3IgYW4gaW5zdGFuY2Ugb2YgXFRyYXZlcnNhYmxlJyk7Cn0KCmZvcmVhY2ggKCRhbGlhc2VzIGFzICRhbGlhcykgewokdGhpcy0+dmFsaWRhdGVOYW1lKCRhbGlhcyk7Cn0KCiR0aGlzLT5hbGlhc2VzID0gJGFsaWFzZXM7CgpyZXR1cm4gJHRoaXM7Cn0KCgoKCgoKcHVibGljIGZ1bmN0aW9uIGdldEFsaWFzZXMoKQp7CnJldHVybiAkdGhpcy0+YWxpYXNlczsKfQoKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBnZXRTeW5vcHNpcygkc2hvcnQgPSBmYWxzZSkKewoka2V5ID0gJHNob3J0ID8gJ3Nob3J0JyA6ICdsb25nJzsKCmlmICghaXNzZXQoJHRoaXMtPnN5bm9wc2lzWyRrZXldKSkgewokdGhpcy0+c3lub3BzaXNbJGtleV0gPSB0cmltKHNwcmludGYoJyVzICVzJywgJHRoaXMtPm5hbWUsICR0aGlzLT5kZWZpbml0aW9uLT5nZXRTeW5vcHNpcygkc2hvcnQpKSk7Cn0KCnJldHVybiAkdGhpcy0+c3lub3BzaXNbJGtleV07Cn0KCgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gYWRkVXNhZ2UoJHVzYWdlKQp7CmlmICgwICE9PSBzdHJwb3MoJHVzYWdlLCAkdGhpcy0+bmFtZSkpIHsKJHVzYWdlID0gc3ByaW50ZignJXMgJXMnLCAkdGhpcy0+bmFtZSwgJHVzYWdlKTsKfQoKJHRoaXMtPnVzYWdlc1tdID0gJHVzYWdlOwoKcmV0dXJuICR0aGlzOwp9CgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBnZXRVc2FnZXMoKQp7CnJldHVybiAkdGhpcy0+dXNhZ2VzOwp9CgoKCgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIGdldEhlbHBlcigkbmFtZSkKewppZiAobnVsbCA9PT0gJHRoaXMtPmhlbHBlclNldCkgewp0aHJvdyBuZXcgTG9naWNFeGNlcHRpb24oc3ByaW50ZignQ2Fubm90IHJldHJpZXZlIGhlbHBlciAiJXMiIGJlY2F1c2UgdGhlcmUgaXMgbm8gSGVscGVyU2V0IGRlZmluZWQuIERpZCB5b3UgZm9yZ2V0IHRvIGFkZCB5b3VyIGNvbW1hbmQgdG8gdGhlIGFwcGxpY2F0aW9uIG9yIHRvIHNldCB0aGUgYXBwbGljYXRpb24gb24gdGhlIGNvbW1hbmQgdXNpbmcgdGhlIHNldEFwcGxpY2F0aW9uKCkgbWV0aG9kPyBZb3UgY2FuIGFsc28gc2V0IHRoZSBIZWxwZXJTZXQgZGlyZWN0bHkgdXNpbmcgdGhlIHNldEhlbHBlclNldCgpIG1ldGhvZC4nLCAkbmFtZSkpOwp9CgpyZXR1cm4gJHRoaXMtPmhlbHBlclNldC0+Z2V0KCRuYW1lKTsKfQoKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBhc1RleHQoKQp7CkB0cmlnZ2VyX2Vycm9yKCdUaGUgJy5fX01FVEhPRF9fLicgbWV0aG9kIGlzIGRlcHJlY2F0ZWQgc2luY2UgU3ltZm9ueSAyLjMgYW5kIHdpbGwgYmUgcmVtb3ZlZCBpbiAzLjAuJywgRV9VU0VSX0RFUFJFQ0FURUQpOwoKJGRlc2NyaXB0b3IgPSBuZXcgVGV4dERlc2NyaXB0b3IoKTsKJG91dHB1dCA9IG5ldyBCdWZmZXJlZE91dHB1dChCdWZmZXJlZE91dHB1dDo6VkVSQk9TSVRZX05PUk1BTCwgdHJ1ZSk7CiRkZXNjcmlwdG9yLT5kZXNjcmliZSgkb3V0cHV0LCAkdGhpcywgYXJyYXkoJ3Jhd19vdXRwdXQnID0+IHRydWUpKTsKCnJldHVybiAkb3V0cHV0LT5mZXRjaCgpOwp9CgoKCgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gYXNYbWwoJGFzRG9tID0gZmFsc2UpCnsKQHRyaWdnZXJfZXJyb3IoJ1RoZSAnLl9fTUVUSE9EX18uJyBtZXRob2QgaXMgZGVwcmVjYXRlZCBzaW5jZSBTeW1mb255IDIuMyBhbmQgd2lsbCBiZSByZW1vdmVkIGluIDMuMC4nLCBFX1VTRVJfREVQUkVDQVRFRCk7CgokZGVzY3JpcHRvciA9IG5ldyBYbWxEZXNjcmlwdG9yKCk7CgppZiAoJGFzRG9tKSB7CnJldHVybiAkZGVzY3JpcHRvci0+Z2V0Q29tbWFuZERvY3VtZW50KCR0aGlzKTsKfQoKJG91dHB1dCA9IG5ldyBCdWZmZXJlZE91dHB1dCgpOwokZGVzY3JpcHRvci0+ZGVzY3JpYmUoJG91dHB1dCwgJHRoaXMpOwoKcmV0dXJuICRvdXRwdXQtPmZldGNoKCk7Cn0KCgoKCgoKCgoKCnByaXZhdGUgZnVuY3Rpb24gdmFsaWRhdGVOYW1lKCRuYW1lKQp7CmlmICghcHJlZ19tYXRjaCgnL15bXlw6XSsrKFw6W15cOl0rKykqJC8nLCAkbmFtZSkpIHsKdGhyb3cgbmV3IEludmFsaWRBcmd1bWVudEV4Y2VwdGlvbihzcHJpbnRmKCdDb21tYW5kIG5hbWUgIiVzIiBpcyBpbnZhbGlkLicsICRuYW1lKSk7Cn0KfQp9Cjw/cGhwCgoKCgoKCgoKCgpuYW1lc3BhY2UgU3ltZm9ueVxDb21wb25lbnRcQ29uc29sZVxDb21tYW5kOwoKdXNlIFN5bWZvbnlcQ29tcG9uZW50XENvbnNvbGVcSGVscGVyXERlc2NyaXB0b3JIZWxwZXI7CnVzZSBTeW1mb255XENvbXBvbmVudFxDb25zb2xlXElucHV0XElucHV0QXJndW1lbnQ7CnVzZSBTeW1mb255XENvbXBvbmVudFxDb25zb2xlXElucHV0XElucHV0SW50ZXJmYWNlOwp1c2UgU3ltZm9ueVxDb21wb25lbnRcQ29uc29sZVxJbnB1dFxJbnB1dE9wdGlvbjsKdXNlIFN5bWZvbnlcQ29tcG9uZW50XENvbnNvbGVcT3V0cHV0XE91dHB1dEludGVyZmFjZTsKCgoKCgoKY2xhc3MgSGVscENvbW1hbmQgZXh0ZW5kcyBDb21tYW5kCnsKcHJpdmF0ZSAkY29tbWFuZDsKCgoKCnByb3RlY3RlZCBmdW5jdGlvbiBjb25maWd1cmUoKQp7CiR0aGlzLT5pZ25vcmVWYWxpZGF0aW9uRXJyb3JzKCk7CgokdGhpcwotPnNldE5hbWUoJ2hlbHAnKQotPnNldERlZmluaXRpb24oYXJyYXkoCm5ldyBJbnB1dEFyZ3VtZW50KCdjb21tYW5kX25hbWUnLCBJbnB1dEFyZ3VtZW50OjpPUFRJT05BTCwgJ1RoZSBjb21tYW5kIG5hbWUnLCAnaGVscCcpLApuZXcgSW5wdXRPcHRpb24oJ3htbCcsIG51bGwsIElucHV0T3B0aW9uOjpWQUxVRV9OT05FLCAnVG8gb3V0cHV0IGhlbHAgYXMgWE1MJyksCm5ldyBJbnB1dE9wdGlvbignZm9ybWF0JywgbnVsbCwgSW5wdXRPcHRpb246OlZBTFVFX1JFUVVJUkVELCAnVGhlIG91dHB1dCBmb3JtYXQgKHR4dCwgeG1sLCBqc29uLCBvciBtZCknLCAndHh0JyksCm5ldyBJbnB1dE9wdGlvbigncmF3JywgbnVsbCwgSW5wdXRPcHRpb246OlZBTFVFX05PTkUsICdUbyBvdXRwdXQgcmF3IGNvbW1hbmQgaGVscCcpLAopKQotPnNldERlc2NyaXB0aW9uKCdEaXNwbGF5cyBoZWxwIGZvciBhIGNvbW1hbmQnKQotPnNldEhlbHAoPDw8J0VPRicKVGhlIDxpbmZvPiVjb21tYW5kLm5hbWUlPC9pbmZvPiBjb21tYW5kIGRpc3BsYXlzIGhlbHAgZm9yIGEgZ2l2ZW4gY29tbWFuZDoKCiAgPGluZm8+cGhwICVjb21tYW5kLmZ1bGxfbmFtZSUgbGlzdDwvaW5mbz4KCllvdSBjYW4gYWxzbyBvdXRwdXQgdGhlIGhlbHAgaW4gb3RoZXIgZm9ybWF0cyBieSB1c2luZyB0aGUgPGNvbW1lbnQ+LS1mb3JtYXQ8L2NvbW1lbnQ+IG9wdGlvbjoKCiAgPGluZm8+cGhwICVjb21tYW5kLmZ1bGxfbmFtZSUgLS1mb3JtYXQ9eG1sIGxpc3Q8L2luZm8+CgpUbyBkaXNwbGF5IHRoZSBsaXN0IG9mIGF2YWlsYWJsZSBjb21tYW5kcywgcGxlYXNlIHVzZSB0aGUgPGluZm8+bGlzdDwvaW5mbz4gY29tbWFuZC4KRU9GCikKOwp9CgpwdWJsaWMgZnVuY3Rpb24gc2V0Q29tbWFuZChDb21tYW5kICRjb21tYW5kKQp7CiR0aGlzLT5jb21tYW5kID0gJGNvbW1hbmQ7Cn0KCgoKCnByb3RlY3RlZCBmdW5jdGlvbiBleGVjdXRlKElucHV0SW50ZXJmYWNlICRpbnB1dCwgT3V0cHV0SW50ZXJmYWNlICRvdXRwdXQpCnsKaWYgKG51bGwgPT09ICR0aGlzLT5jb21tYW5kKSB7CiR0aGlzLT5jb21tYW5kID0gJHRoaXMtPmdldEFwcGxpY2F0aW9uKCktPmZpbmQoJGlucHV0LT5nZXRBcmd1bWVudCgnY29tbWFuZF9uYW1lJykpOwp9CgppZiAoJGlucHV0LT5nZXRPcHRpb24oJ3htbCcpKSB7CkB0cmlnZ2VyX2Vycm9yKCdUaGUgLS14bWwgb3B0aW9uIHdhcyBkZXByZWNhdGVkIGluIHZlcnNpb24gMi43IGFuZCB3aWxsIGJlIHJlbW92ZWQgaW4gdmVyc2lvbiAzLjAuIFVzZSB0aGUgLS1mb3JtYXQgb3B0aW9uIGluc3RlYWQuJywgRV9VU0VSX0RFUFJFQ0FURUQpOwoKJGlucHV0LT5zZXRPcHRpb24oJ2Zvcm1hdCcsICd4bWwnKTsKfQoKJGhlbHBlciA9IG5ldyBEZXNjcmlwdG9ySGVscGVyKCk7CiRoZWxwZXItPmRlc2NyaWJlKCRvdXRwdXQsICR0aGlzLT5jb21tYW5kLCBhcnJheSgKJ2Zvcm1hdCcgPT4gJGlucHV0LT5nZXRPcHRpb24oJ2Zvcm1hdCcpLAoncmF3X3RleHQnID0+ICRpbnB1dC0+Z2V0T3B0aW9uKCdyYXcnKSwKKSk7CgokdGhpcy0+Y29tbWFuZCA9IG51bGw7Cn0KfQo8P3BocAoKCgoKCgoKCgoKbmFtZXNwYWNlIFN5bWZvbnlcQ29tcG9uZW50XENvbnNvbGVcQ29tbWFuZDsKCnVzZSBTeW1mb255XENvbXBvbmVudFxDb25zb2xlXEhlbHBlclxEZXNjcmlwdG9ySGVscGVyOwp1c2UgU3ltZm9ueVxDb21wb25lbnRcQ29uc29sZVxJbnB1dFxJbnB1dEFyZ3VtZW50Owp1c2UgU3ltZm9ueVxDb21wb25lbnRcQ29uc29sZVxJbnB1dFxJbnB1dERlZmluaXRpb247CnVzZSBTeW1mb255XENvbXBvbmVudFxDb25zb2xlXElucHV0XElucHV0SW50ZXJmYWNlOwp1c2UgU3ltZm9ueVxDb21wb25lbnRcQ29uc29sZVxJbnB1dFxJbnB1dE9wdGlvbjsKdXNlIFN5bWZvbnlcQ29tcG9uZW50XENvbnNvbGVcT3V0cHV0XE91dHB1dEludGVyZmFjZTsKCgoKCgoKY2xhc3MgTGlzdENvbW1hbmQgZXh0ZW5kcyBDb21tYW5kCnsKCgoKcHJvdGVjdGVkIGZ1bmN0aW9uIGNvbmZpZ3VyZSgpCnsKJHRoaXMKLT5zZXROYW1lKCdsaXN0JykKLT5zZXREZWZpbml0aW9uKCR0aGlzLT5jcmVhdGVEZWZpbml0aW9uKCkpCi0+c2V0RGVzY3JpcHRpb24oJ0xpc3RzIGNvbW1hbmRzJykKLT5zZXRIZWxwKDw8PCdFT0YnClRoZSA8aW5mbz4lY29tbWFuZC5uYW1lJTwvaW5mbz4gY29tbWFuZCBsaXN0cyBhbGwgY29tbWFuZHM6CgogIDxpbmZvPnBocCAlY29tbWFuZC5mdWxsX25hbWUlPC9pbmZvPgoKWW91IGNhbiBhbHNvIGRpc3BsYXkgdGhlIGNvbW1hbmRzIGZvciBhIHNwZWNpZmljIG5hbWVzcGFjZToKCiAgPGluZm8+cGhwICVjb21tYW5kLmZ1bGxfbmFtZSUgdGVzdDwvaW5mbz4KCllvdSBjYW4gYWxzbyBvdXRwdXQgdGhlIGluZm9ybWF0aW9uIGluIG90aGVyIGZvcm1hdHMgYnkgdXNpbmcgdGhlIDxjb21tZW50Pi0tZm9ybWF0PC9jb21tZW50PiBvcHRpb246CgogIDxpbmZvPnBocCAlY29tbWFuZC5mdWxsX25hbWUlIC0tZm9ybWF0PXhtbDwvaW5mbz4KCkl0J3MgYWxzbyBwb3NzaWJsZSB0byBnZXQgcmF3IGxpc3Qgb2YgY29tbWFuZHMgKHVzZWZ1bCBmb3IgZW1iZWRkaW5nIGNvbW1hbmQgcnVubmVyKToKCiAgPGluZm8+cGhwICVjb21tYW5kLmZ1bGxfbmFtZSUgLS1yYXc8L2luZm8+CkVPRgopCjsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIGdldE5hdGl2ZURlZmluaXRpb24oKQp7CnJldHVybiAkdGhpcy0+Y3JlYXRlRGVmaW5pdGlvbigpOwp9CgoKCgpwcm90ZWN0ZWQgZnVuY3Rpb24gZXhlY3V0ZShJbnB1dEludGVyZmFjZSAkaW5wdXQsIE91dHB1dEludGVyZmFjZSAkb3V0cHV0KQp7CmlmICgkaW5wdXQtPmdldE9wdGlvbigneG1sJykpIHsKQHRyaWdnZXJfZXJyb3IoJ1RoZSAtLXhtbCBvcHRpb24gd2FzIGRlcHJlY2F0ZWQgaW4gdmVyc2lvbiAyLjcgYW5kIHdpbGwgYmUgcmVtb3ZlZCBpbiB2ZXJzaW9uIDMuMC4gVXNlIHRoZSAtLWZvcm1hdCBvcHRpb24gaW5zdGVhZC4nLCBFX1VTRVJfREVQUkVDQVRFRCk7CgokaW5wdXQtPnNldE9wdGlvbignZm9ybWF0JywgJ3htbCcpOwp9CgokaGVscGVyID0gbmV3IERlc2NyaXB0b3JIZWxwZXIoKTsKJGhlbHBlci0+ZGVzY3JpYmUoJG91dHB1dCwgJHRoaXMtPmdldEFwcGxpY2F0aW9uKCksIGFycmF5KAonZm9ybWF0JyA9PiAkaW5wdXQtPmdldE9wdGlvbignZm9ybWF0JyksCidyYXdfdGV4dCcgPT4gJGlucHV0LT5nZXRPcHRpb24oJ3JhdycpLAonbmFtZXNwYWNlJyA9PiAkaW5wdXQtPmdldEFyZ3VtZW50KCduYW1lc3BhY2UnKSwKKSk7Cn0KCgoKCnByaXZhdGUgZnVuY3Rpb24gY3JlYXRlRGVmaW5pdGlvbigpCnsKcmV0dXJuIG5ldyBJbnB1dERlZmluaXRpb24oYXJyYXkoCm5ldyBJbnB1dEFyZ3VtZW50KCduYW1lc3BhY2UnLCBJbnB1dEFyZ3VtZW50OjpPUFRJT05BTCwgJ1RoZSBuYW1lc3BhY2UgbmFtZScpLApuZXcgSW5wdXRPcHRpb24oJ3htbCcsIG51bGwsIElucHV0T3B0aW9uOjpWQUxVRV9OT05FLCAnVG8gb3V0cHV0IGxpc3QgYXMgWE1MJyksCm5ldyBJbnB1dE9wdGlvbigncmF3JywgbnVsbCwgSW5wdXRPcHRpb246OlZBTFVFX05PTkUsICdUbyBvdXRwdXQgcmF3IGNvbW1hbmQgbGlzdCcpLApuZXcgSW5wdXRPcHRpb24oJ2Zvcm1hdCcsIG51bGwsIElucHV0T3B0aW9uOjpWQUxVRV9SRVFVSVJFRCwgJ1RoZSBvdXRwdXQgZm9ybWF0ICh0eHQsIHhtbCwganNvbiwgb3IgbWQpJywgJ3R4dCcpLAopKTsKfQp9Cjw/cGhwCgoKCgoKCgoKCgpuYW1lc3BhY2UgU3ltZm9ueVxDb21wb25lbnRcQ29uc29sZTsKCgoKCgoKZmluYWwgY2xhc3MgQ29uc29sZUV2ZW50cwp7CgoKCgoKCgoKCgpjb25zdCBDT01NQU5EID0gJ2NvbnNvbGUuY29tbWFuZCc7CgoKCgoKCgoKCgpjb25zdCBURVJNSU5BVEUgPSAnY29uc29sZS50ZXJtaW5hdGUnOwoKCgoKCgoKCgoKCmNvbnN0IEVYQ0VQVElPTiA9ICdjb25zb2xlLmV4Y2VwdGlvbic7Cn0KPD9waHAKCgoKCgoKCgoKCm5hbWVzcGFjZSBTeW1mb255XENvbXBvbmVudFxDb25zb2xlXERlc2NyaXB0b3I7Cgp1c2UgU3ltZm9ueVxDb21wb25lbnRcQ29uc29sZVxBcHBsaWNhdGlvbjsKdXNlIFN5bWZvbnlcQ29tcG9uZW50XENvbnNvbGVcQ29tbWFuZFxDb21tYW5kOwp1c2UgU3ltZm9ueVxDb21wb25lbnRcQ29uc29sZVxFeGNlcHRpb25cQ29tbWFuZE5vdEZvdW5kRXhjZXB0aW9uOwoKCgoKCgpjbGFzcyBBcHBsaWNhdGlvbkRlc2NyaXB0aW9uCnsKY29uc3QgR0xPQkFMX05BTUVTUEFDRSA9ICdfZ2xvYmFsJzsKCnByaXZhdGUgJGFwcGxpY2F0aW9uOwpwcml2YXRlICRuYW1lc3BhY2U7CgoKCgpwcml2YXRlICRuYW1lc3BhY2VzOwoKCgoKcHJpdmF0ZSAkY29tbWFuZHM7CgoKCgpwcml2YXRlICRhbGlhc2VzOwoKcHVibGljIGZ1bmN0aW9uIF9fY29uc3RydWN0KEFwcGxpY2F0aW9uICRhcHBsaWNhdGlvbiwgJG5hbWVzcGFjZSA9IG51bGwpCnsKJHRoaXMtPmFwcGxpY2F0aW9uID0gJGFwcGxpY2F0aW9uOwokdGhpcy0+bmFtZXNwYWNlID0gJG5hbWVzcGFjZTsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIGdldE5hbWVzcGFjZXMoKQp7CmlmIChudWxsID09PSAkdGhpcy0+bmFtZXNwYWNlcykgewokdGhpcy0+aW5zcGVjdEFwcGxpY2F0aW9uKCk7Cn0KCnJldHVybiAkdGhpcy0+bmFtZXNwYWNlczsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIGdldENvbW1hbmRzKCkKewppZiAobnVsbCA9PT0gJHRoaXMtPmNvbW1hbmRzKSB7CiR0aGlzLT5pbnNwZWN0QXBwbGljYXRpb24oKTsKfQoKcmV0dXJuICR0aGlzLT5jb21tYW5kczsKfQoKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBnZXRDb21tYW5kKCRuYW1lKQp7CmlmICghaXNzZXQoJHRoaXMtPmNvbW1hbmRzWyRuYW1lXSkgJiYgIWlzc2V0KCR0aGlzLT5hbGlhc2VzWyRuYW1lXSkpIHsKdGhyb3cgbmV3IENvbW1hbmROb3RGb3VuZEV4Y2VwdGlvbihzcHJpbnRmKCdDb21tYW5kICVzIGRvZXMgbm90IGV4aXN0LicsICRuYW1lKSk7Cn0KCnJldHVybiBpc3NldCgkdGhpcy0+Y29tbWFuZHNbJG5hbWVdKSA/ICR0aGlzLT5jb21tYW5kc1skbmFtZV0gOiAkdGhpcy0+YWxpYXNlc1skbmFtZV07Cn0KCnByaXZhdGUgZnVuY3Rpb24gaW5zcGVjdEFwcGxpY2F0aW9uKCkKewokdGhpcy0+Y29tbWFuZHMgPSBhcnJheSgpOwokdGhpcy0+bmFtZXNwYWNlcyA9IGFycmF5KCk7CgokYWxsID0gJHRoaXMtPmFwcGxpY2F0aW9uLT5hbGwoJHRoaXMtPm5hbWVzcGFjZSA/ICR0aGlzLT5hcHBsaWNhdGlvbi0+ZmluZE5hbWVzcGFjZSgkdGhpcy0+bmFtZXNwYWNlKSA6IG51bGwpOwpmb3JlYWNoICgkdGhpcy0+c29ydENvbW1hbmRzKCRhbGwpIGFzICRuYW1lc3BhY2UgPT4gJGNvbW1hbmRzKSB7CiRuYW1lcyA9IGFycmF5KCk7CgoKZm9yZWFjaCAoJGNvbW1hbmRzIGFzICRuYW1lID0+ICRjb21tYW5kKSB7CmlmICghJGNvbW1hbmQtPmdldE5hbWUoKSkgewpjb250aW51ZTsKfQoKaWYgKCRjb21tYW5kLT5nZXROYW1lKCkgPT09ICRuYW1lKSB7CiR0aGlzLT5jb21tYW5kc1skbmFtZV0gPSAkY29tbWFuZDsKfSBlbHNlIHsKJHRoaXMtPmFsaWFzZXNbJG5hbWVdID0gJGNvbW1hbmQ7Cn0KCiRuYW1lc1tdID0gJG5hbWU7Cn0KCiR0aGlzLT5uYW1lc3BhY2VzWyRuYW1lc3BhY2VdID0gYXJyYXkoJ2lkJyA9PiAkbmFtZXNwYWNlLCAnY29tbWFuZHMnID0+ICRuYW1lcyk7Cn0KfQoKCgoKcHJpdmF0ZSBmdW5jdGlvbiBzb3J0Q29tbWFuZHMoYXJyYXkgJGNvbW1hbmRzKQp7CiRuYW1lc3BhY2VkQ29tbWFuZHMgPSBhcnJheSgpOwokZ2xvYmFsQ29tbWFuZHMgPSBhcnJheSgpOwpmb3JlYWNoICgkY29tbWFuZHMgYXMgJG5hbWUgPT4gJGNvbW1hbmQpIHsKJGtleSA9ICR0aGlzLT5hcHBsaWNhdGlvbi0+ZXh0cmFjdE5hbWVzcGFjZSgkbmFtZSwgMSk7CmlmICghJGtleSkgewokZ2xvYmFsQ29tbWFuZHNbJ19nbG9iYWwnXVskbmFtZV0gPSAkY29tbWFuZDsKfSBlbHNlIHsKJG5hbWVzcGFjZWRDb21tYW5kc1ska2V5XVskbmFtZV0gPSAkY29tbWFuZDsKfQp9Cmtzb3J0KCRuYW1lc3BhY2VkQ29tbWFuZHMpOwokbmFtZXNwYWNlZENvbW1hbmRzID0gYXJyYXlfbWVyZ2UoJGdsb2JhbENvbW1hbmRzLCAkbmFtZXNwYWNlZENvbW1hbmRzKTsKCmZvcmVhY2ggKCRuYW1lc3BhY2VkQ29tbWFuZHMgYXMgJiRjb21tYW5kc1NldCkgewprc29ydCgkY29tbWFuZHNTZXQpOwp9Cgp1bnNldCgkY29tbWFuZHNTZXQpOwoKcmV0dXJuICRuYW1lc3BhY2VkQ29tbWFuZHM7Cn0KfQo8P3BocAoKCgoKCgoKCgoKbmFtZXNwYWNlIFN5bWZvbnlcQ29tcG9uZW50XENvbnNvbGVcRGVzY3JpcHRvcjsKCnVzZSBTeW1mb255XENvbXBvbmVudFxDb25zb2xlXEFwcGxpY2F0aW9uOwp1c2UgU3ltZm9ueVxDb21wb25lbnRcQ29uc29sZVxDb21tYW5kXENvbW1hbmQ7CnVzZSBTeW1mb255XENvbXBvbmVudFxDb25zb2xlXEV4Y2VwdGlvblxJbnZhbGlkQXJndW1lbnRFeGNlcHRpb247CnVzZSBTeW1mb255XENvbXBvbmVudFxDb25zb2xlXElucHV0XElucHV0QXJndW1lbnQ7CnVzZSBTeW1mb255XENvbXBvbmVudFxDb25zb2xlXElucHV0XElucHV0RGVmaW5pdGlvbjsKdXNlIFN5bWZvbnlcQ29tcG9uZW50XENvbnNvbGVcSW5wdXRcSW5wdXRPcHRpb247CnVzZSBTeW1mb255XENvbXBvbmVudFxDb25zb2xlXE91dHB1dFxPdXRwdXRJbnRlcmZhY2U7CgoKCgoKCmFic3RyYWN0IGNsYXNzIERlc2NyaXB0b3IgaW1wbGVtZW50cyBEZXNjcmlwdG9ySW50ZXJmYWNlCnsKCgoKcHJpdmF0ZSAkb3V0cHV0OwoKCgoKcHVibGljIGZ1bmN0aW9uIGRlc2NyaWJlKE91dHB1dEludGVyZmFjZSAkb3V0cHV0LCAkb2JqZWN0LCBhcnJheSAkb3B0aW9ucyA9IGFycmF5KCkpCnsKJHRoaXMtPm91dHB1dCA9ICRvdXRwdXQ7Cgpzd2l0Y2ggKHRydWUpIHsKY2FzZSAkb2JqZWN0IGluc3RhbmNlb2YgSW5wdXRBcmd1bWVudDoKJHRoaXMtPmRlc2NyaWJlSW5wdXRBcmd1bWVudCgkb2JqZWN0LCAkb3B0aW9ucyk7CmJyZWFrOwpjYXNlICRvYmplY3QgaW5zdGFuY2VvZiBJbnB1dE9wdGlvbjoKJHRoaXMtPmRlc2NyaWJlSW5wdXRPcHRpb24oJG9iamVjdCwgJG9wdGlvbnMpOwpicmVhazsKY2FzZSAkb2JqZWN0IGluc3RhbmNlb2YgSW5wdXREZWZpbml0aW9uOgokdGhpcy0+ZGVzY3JpYmVJbnB1dERlZmluaXRpb24oJG9iamVjdCwgJG9wdGlvbnMpOwpicmVhazsKY2FzZSAkb2JqZWN0IGluc3RhbmNlb2YgQ29tbWFuZDoKJHRoaXMtPmRlc2NyaWJlQ29tbWFuZCgkb2JqZWN0LCAkb3B0aW9ucyk7CmJyZWFrOwpjYXNlICRvYmplY3QgaW5zdGFuY2VvZiBBcHBsaWNhdGlvbjoKJHRoaXMtPmRlc2NyaWJlQXBwbGljYXRpb24oJG9iamVjdCwgJG9wdGlvbnMpOwpicmVhazsKZGVmYXVsdDoKdGhyb3cgbmV3IEludmFsaWRBcmd1bWVudEV4Y2VwdGlvbihzcHJpbnRmKCdPYmplY3Qgb2YgdHlwZSAiJXMiIGlzIG5vdCBkZXNjcmliYWJsZS4nLCBcZ2V0X2NsYXNzKCRvYmplY3QpKSk7Cn0KfQoKCgoKCgoKcHJvdGVjdGVkIGZ1bmN0aW9uIHdyaXRlKCRjb250ZW50LCAkZGVjb3JhdGVkID0gZmFsc2UpCnsKJHRoaXMtPm91dHB1dC0+d3JpdGUoJGNvbnRlbnQsIGZhbHNlLCAkZGVjb3JhdGVkID8gT3V0cHV0SW50ZXJmYWNlOjpPVVRQVVRfTk9STUFMIDogT3V0cHV0SW50ZXJmYWNlOjpPVVRQVVRfUkFXKTsKfQoKCgoKCgphYnN0cmFjdCBwcm90ZWN0ZWQgZnVuY3Rpb24gZGVzY3JpYmVJbnB1dEFyZ3VtZW50KElucHV0QXJndW1lbnQgJGFyZ3VtZW50LCBhcnJheSAkb3B0aW9ucyA9IGFycmF5KCkpOwoKCgoKCgphYnN0cmFjdCBwcm90ZWN0ZWQgZnVuY3Rpb24gZGVzY3JpYmVJbnB1dE9wdGlvbihJbnB1dE9wdGlvbiAkb3B0aW9uLCBhcnJheSAkb3B0aW9ucyA9IGFycmF5KCkpOwoKCgoKCgphYnN0cmFjdCBwcm90ZWN0ZWQgZnVuY3Rpb24gZGVzY3JpYmVJbnB1dERlZmluaXRpb24oSW5wdXREZWZpbml0aW9uICRkZWZpbml0aW9uLCBhcnJheSAkb3B0aW9ucyA9IGFycmF5KCkpOwoKCgoKCgphYnN0cmFjdCBwcm90ZWN0ZWQgZnVuY3Rpb24gZGVzY3JpYmVDb21tYW5kKENvbW1hbmQgJGNvbW1hbmQsIGFycmF5ICRvcHRpb25zID0gYXJyYXkoKSk7CgoKCgoKCmFic3RyYWN0IHByb3RlY3RlZCBmdW5jdGlvbiBkZXNjcmliZUFwcGxpY2F0aW9uKEFwcGxpY2F0aW9uICRhcHBsaWNhdGlvbiwgYXJyYXkgJG9wdGlvbnMgPSBhcnJheSgpKTsKfQo8P3BocAoKCgoKCgoKCgoKbmFtZXNwYWNlIFN5bWZvbnlcQ29tcG9uZW50XENvbnNvbGVcRGVzY3JpcHRvcjsKCnVzZSBTeW1mb255XENvbXBvbmVudFxDb25zb2xlXE91dHB1dFxPdXRwdXRJbnRlcmZhY2U7CgoKCgoKCmludGVyZmFjZSBEZXNjcmlwdG9ySW50ZXJmYWNlCnsKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBkZXNjcmliZShPdXRwdXRJbnRlcmZhY2UgJG91dHB1dCwgJG9iamVjdCwgYXJyYXkgJG9wdGlvbnMgPSBhcnJheSgpKTsKfQo8P3BocAoKCgoKCgoKCgoKbmFtZXNwYWNlIFN5bWZvbnlcQ29tcG9uZW50XENvbnNvbGVcRGVzY3JpcHRvcjsKCnVzZSBTeW1mb255XENvbXBvbmVudFxDb25zb2xlXEFwcGxpY2F0aW9uOwp1c2UgU3ltZm9ueVxDb21wb25lbnRcQ29uc29sZVxDb21tYW5kXENvbW1hbmQ7CnVzZSBTeW1mb255XENvbXBvbmVudFxDb25zb2xlXElucHV0XElucHV0QXJndW1lbnQ7CnVzZSBTeW1mb255XENvbXBvbmVudFxDb25zb2xlXElucHV0XElucHV0RGVmaW5pdGlvbjsKdXNlIFN5bWZvbnlcQ29tcG9uZW50XENvbnNvbGVcSW5wdXRcSW5wdXRPcHRpb247CgoKCgoKCgoKY2xhc3MgSnNvbkRlc2NyaXB0b3IgZXh0ZW5kcyBEZXNjcmlwdG9yCnsKCgoKcHJvdGVjdGVkIGZ1bmN0aW9uIGRlc2NyaWJlSW5wdXRBcmd1bWVudChJbnB1dEFyZ3VtZW50ICRhcmd1bWVudCwgYXJyYXkgJG9wdGlvbnMgPSBhcnJheSgpKQp7CiR0aGlzLT53cml0ZURhdGEoJHRoaXMtPmdldElucHV0QXJndW1lbnREYXRhKCRhcmd1bWVudCksICRvcHRpb25zKTsKfQoKCgoKcHJvdGVjdGVkIGZ1bmN0aW9uIGRlc2NyaWJlSW5wdXRPcHRpb24oSW5wdXRPcHRpb24gJG9wdGlvbiwgYXJyYXkgJG9wdGlvbnMgPSBhcnJheSgpKQp7CiR0aGlzLT53cml0ZURhdGEoJHRoaXMtPmdldElucHV0T3B0aW9uRGF0YSgkb3B0aW9uKSwgJG9wdGlvbnMpOwp9CgoKCgpwcm90ZWN0ZWQgZnVuY3Rpb24gZGVzY3JpYmVJbnB1dERlZmluaXRpb24oSW5wdXREZWZpbml0aW9uICRkZWZpbml0aW9uLCBhcnJheSAkb3B0aW9ucyA9IGFycmF5KCkpCnsKJHRoaXMtPndyaXRlRGF0YSgkdGhpcy0+Z2V0SW5wdXREZWZpbml0aW9uRGF0YSgkZGVmaW5pdGlvbiksICRvcHRpb25zKTsKfQoKCgoKcHJvdGVjdGVkIGZ1bmN0aW9uIGRlc2NyaWJlQ29tbWFuZChDb21tYW5kICRjb21tYW5kLCBhcnJheSAkb3B0aW9ucyA9IGFycmF5KCkpCnsKJHRoaXMtPndyaXRlRGF0YSgkdGhpcy0+Z2V0Q29tbWFuZERhdGEoJGNvbW1hbmQpLCAkb3B0aW9ucyk7Cn0KCgoKCnByb3RlY3RlZCBmdW5jdGlvbiBkZXNjcmliZUFwcGxpY2F0aW9uKEFwcGxpY2F0aW9uICRhcHBsaWNhdGlvbiwgYXJyYXkgJG9wdGlvbnMgPSBhcnJheSgpKQp7CiRkZXNjcmliZWROYW1lc3BhY2UgPSBpc3NldCgkb3B0aW9uc1snbmFtZXNwYWNlJ10pID8gJG9wdGlvbnNbJ25hbWVzcGFjZSddIDogbnVsbDsKJGRlc2NyaXB0aW9uID0gbmV3IEFwcGxpY2F0aW9uRGVzY3JpcHRpb24oJGFwcGxpY2F0aW9uLCAkZGVzY3JpYmVkTmFtZXNwYWNlKTsKJGNvbW1hbmRzID0gYXJyYXkoKTsKCmZvcmVhY2ggKCRkZXNjcmlwdGlvbi0+Z2V0Q29tbWFuZHMoKSBhcyAkY29tbWFuZCkgewokY29tbWFuZHNbXSA9ICR0aGlzLT5nZXRDb21tYW5kRGF0YSgkY29tbWFuZCk7Cn0KCiRkYXRhID0gJGRlc2NyaWJlZE5hbWVzcGFjZQo/IGFycmF5KCdjb21tYW5kcycgPT4gJGNvbW1hbmRzLCAnbmFtZXNwYWNlJyA9PiAkZGVzY3JpYmVkTmFtZXNwYWNlKQo6IGFycmF5KCdjb21tYW5kcycgPT4gJGNvbW1hbmRzLCAnbmFtZXNwYWNlcycgPT4gYXJyYXlfdmFsdWVzKCRkZXNjcmlwdGlvbi0+Z2V0TmFtZXNwYWNlcygpKSk7CgokdGhpcy0+d3JpdGVEYXRhKCRkYXRhLCAkb3B0aW9ucyk7Cn0KCgoKCgoKcHJpdmF0ZSBmdW5jdGlvbiB3cml0ZURhdGEoYXJyYXkgJGRhdGEsIGFycmF5ICRvcHRpb25zKQp7CiR0aGlzLT53cml0ZShqc29uX2VuY29kZSgkZGF0YSwgaXNzZXQoJG9wdGlvbnNbJ2pzb25fZW5jb2RpbmcnXSkgPyAkb3B0aW9uc1snanNvbl9lbmNvZGluZyddIDogMCkpOwp9CgoKCgpwcml2YXRlIGZ1bmN0aW9uIGdldElucHV0QXJndW1lbnREYXRhKElucHV0QXJndW1lbnQgJGFyZ3VtZW50KQp7CnJldHVybiBhcnJheSgKJ25hbWUnID0+ICRhcmd1bWVudC0+Z2V0TmFtZSgpLAonaXNfcmVxdWlyZWQnID0+ICRhcmd1bWVudC0+aXNSZXF1aXJlZCgpLAonaXNfYXJyYXknID0+ICRhcmd1bWVudC0+aXNBcnJheSgpLAonZGVzY3JpcHRpb24nID0+IHByZWdfcmVwbGFjZSgnL1xzKltcclxuXVxzKi8nLCAnICcsICRhcmd1bWVudC0+Z2V0RGVzY3JpcHRpb24oKSksCidkZWZhdWx0JyA9PiBJTkYgPT09ICRhcmd1bWVudC0+Z2V0RGVmYXVsdCgpID8gJ0lORicgOiAkYXJndW1lbnQtPmdldERlZmF1bHQoKSwKKTsKfQoKCgoKcHJpdmF0ZSBmdW5jdGlvbiBnZXRJbnB1dE9wdGlvbkRhdGEoSW5wdXRPcHRpb24gJG9wdGlvbikKewpyZXR1cm4gYXJyYXkoCiduYW1lJyA9PiAnLS0nLiRvcHRpb24tPmdldE5hbWUoKSwKJ3Nob3J0Y3V0JyA9PiAkb3B0aW9uLT5nZXRTaG9ydGN1dCgpID8gJy0nLnN0cl9yZXBsYWNlKCd8JywgJ3wtJywgJG9wdGlvbi0+Z2V0U2hvcnRjdXQoKSkgOiAnJywKJ2FjY2VwdF92YWx1ZScgPT4gJG9wdGlvbi0+YWNjZXB0VmFsdWUoKSwKJ2lzX3ZhbHVlX3JlcXVpcmVkJyA9PiAkb3B0aW9uLT5pc1ZhbHVlUmVxdWlyZWQoKSwKJ2lzX211bHRpcGxlJyA9PiAkb3B0aW9uLT5pc0FycmF5KCksCidkZXNjcmlwdGlvbicgPT4gcHJlZ19yZXBsYWNlKCcvXHMqW1xyXG5dXHMqLycsICcgJywgJG9wdGlvbi0+Z2V0RGVzY3JpcHRpb24oKSksCidkZWZhdWx0JyA9PiBJTkYgPT09ICRvcHRpb24tPmdldERlZmF1bHQoKSA/ICdJTkYnIDogJG9wdGlvbi0+Z2V0RGVmYXVsdCgpLAopOwp9CgoKCgpwcml2YXRlIGZ1bmN0aW9uIGdldElucHV0RGVmaW5pdGlvbkRhdGEoSW5wdXREZWZpbml0aW9uICRkZWZpbml0aW9uKQp7CiRpbnB1dEFyZ3VtZW50cyA9IGFycmF5KCk7CmZvcmVhY2ggKCRkZWZpbml0aW9uLT5nZXRBcmd1bWVudHMoKSBhcyAkbmFtZSA9PiAkYXJndW1lbnQpIHsKJGlucHV0QXJndW1lbnRzWyRuYW1lXSA9ICR0aGlzLT5nZXRJbnB1dEFyZ3VtZW50RGF0YSgkYXJndW1lbnQpOwp9CgokaW5wdXRPcHRpb25zID0gYXJyYXkoKTsKZm9yZWFjaCAoJGRlZmluaXRpb24tPmdldE9wdGlvbnMoKSBhcyAkbmFtZSA9PiAkb3B0aW9uKSB7CiRpbnB1dE9wdGlvbnNbJG5hbWVdID0gJHRoaXMtPmdldElucHV0T3B0aW9uRGF0YSgkb3B0aW9uKTsKfQoKcmV0dXJuIGFycmF5KCdhcmd1bWVudHMnID0+ICRpbnB1dEFyZ3VtZW50cywgJ29wdGlvbnMnID0+ICRpbnB1dE9wdGlvbnMpOwp9CgoKCgpwcml2YXRlIGZ1bmN0aW9uIGdldENvbW1hbmREYXRhKENvbW1hbmQgJGNvbW1hbmQpCnsKJGNvbW1hbmQtPmdldFN5bm9wc2lzKCk7CiRjb21tYW5kLT5tZXJnZUFwcGxpY2F0aW9uRGVmaW5pdGlvbihmYWxzZSk7CgpyZXR1cm4gYXJyYXkoCiduYW1lJyA9PiAkY29tbWFuZC0+Z2V0TmFtZSgpLAondXNhZ2UnID0+IGFycmF5X21lcmdlKGFycmF5KCRjb21tYW5kLT5nZXRTeW5vcHNpcygpKSwgJGNvbW1hbmQtPmdldFVzYWdlcygpLCAkY29tbWFuZC0+Z2V0QWxpYXNlcygpKSwKJ2Rlc2NyaXB0aW9uJyA9PiAkY29tbWFuZC0+Z2V0RGVzY3JpcHRpb24oKSwKJ2hlbHAnID0+ICRjb21tYW5kLT5nZXRQcm9jZXNzZWRIZWxwKCksCidkZWZpbml0aW9uJyA9PiAkdGhpcy0+Z2V0SW5wdXREZWZpbml0aW9uRGF0YSgkY29tbWFuZC0+Z2V0TmF0aXZlRGVmaW5pdGlvbigpKSwKKTsKfQp9Cjw/cGhwCgoKCgoKCgoKCgpuYW1lc3BhY2UgU3ltZm9ueVxDb21wb25lbnRcQ29uc29sZVxEZXNjcmlwdG9yOwoKdXNlIFN5bWZvbnlcQ29tcG9uZW50XENvbnNvbGVcQXBwbGljYXRpb247CnVzZSBTeW1mb255XENvbXBvbmVudFxDb25zb2xlXENvbW1hbmRcQ29tbWFuZDsKdXNlIFN5bWZvbnlcQ29tcG9uZW50XENvbnNvbGVcSGVscGVyXEhlbHBlcjsKdXNlIFN5bWZvbnlcQ29tcG9uZW50XENvbnNvbGVcSW5wdXRcSW5wdXRBcmd1bWVudDsKdXNlIFN5bWZvbnlcQ29tcG9uZW50XENvbnNvbGVcSW5wdXRcSW5wdXREZWZpbml0aW9uOwp1c2UgU3ltZm9ueVxDb21wb25lbnRcQ29uc29sZVxJbnB1dFxJbnB1dE9wdGlvbjsKCgoKCgoKCgpjbGFzcyBNYXJrZG93bkRlc2NyaXB0b3IgZXh0ZW5kcyBEZXNjcmlwdG9yCnsKCgoKcHJvdGVjdGVkIGZ1bmN0aW9uIGRlc2NyaWJlSW5wdXRBcmd1bWVudChJbnB1dEFyZ3VtZW50ICRhcmd1bWVudCwgYXJyYXkgJG9wdGlvbnMgPSBhcnJheSgpKQp7CiR0aGlzLT53cml0ZSgKJyoqJy4kYXJndW1lbnQtPmdldE5hbWUoKS4nOioqJy4iXG5cbiIKLicqIE5hbWU6ICcuKCRhcmd1bWVudC0+Z2V0TmFtZSgpID86ICc8bm9uZT4nKS4iXG4iCi4nKiBJcyByZXF1aXJlZDogJy4oJGFyZ3VtZW50LT5pc1JlcXVpcmVkKCkgPyAneWVzJyA6ICdubycpLiJcbiIKLicqIElzIGFycmF5OiAnLigkYXJndW1lbnQtPmlzQXJyYXkoKSA/ICd5ZXMnIDogJ25vJykuIlxuIgouJyogRGVzY3JpcHRpb246ICcucHJlZ19yZXBsYWNlKCcvXHMqW1xyXG5dXHMqLycsICJcbiAgIiwgJGFyZ3VtZW50LT5nZXREZXNjcmlwdGlvbigpID86ICc8bm9uZT4nKS4iXG4iCi4nKiBEZWZhdWx0OiBgJy5zdHJfcmVwbGFjZSgiXG4iLCAnJywgdmFyX2V4cG9ydCgkYXJndW1lbnQtPmdldERlZmF1bHQoKSwgdHJ1ZSkpLidgJwopOwp9CgoKCgpwcm90ZWN0ZWQgZnVuY3Rpb24gZGVzY3JpYmVJbnB1dE9wdGlvbihJbnB1dE9wdGlvbiAkb3B0aW9uLCBhcnJheSAkb3B0aW9ucyA9IGFycmF5KCkpCnsKJHRoaXMtPndyaXRlKAonKionLiRvcHRpb24tPmdldE5hbWUoKS4nOioqJy4iXG5cbiIKLicqIE5hbWU6IGAtLScuJG9wdGlvbi0+Z2V0TmFtZSgpLidgJy4iXG4iCi4nKiBTaG9ydGN1dDogJy4oJG9wdGlvbi0+Z2V0U2hvcnRjdXQoKSA/ICdgLScuc3RyX3JlcGxhY2UoJ3wnLCAnfC0nLCAkb3B0aW9uLT5nZXRTaG9ydGN1dCgpKS4nYCcgOiAnPG5vbmU+JykuIlxuIgouJyogQWNjZXB0IHZhbHVlOiAnLigkb3B0aW9uLT5hY2NlcHRWYWx1ZSgpID8gJ3llcycgOiAnbm8nKS4iXG4iCi4nKiBJcyB2YWx1ZSByZXF1aXJlZDogJy4oJG9wdGlvbi0+aXNWYWx1ZVJlcXVpcmVkKCkgPyAneWVzJyA6ICdubycpLiJcbiIKLicqIElzIG11bHRpcGxlOiAnLigkb3B0aW9uLT5pc0FycmF5KCkgPyAneWVzJyA6ICdubycpLiJcbiIKLicqIERlc2NyaXB0aW9uOiAnLnByZWdfcmVwbGFjZSgnL1xzKltcclxuXVxzKi8nLCAiXG4gICIsICRvcHRpb24tPmdldERlc2NyaXB0aW9uKCkgPzogJzxub25lPicpLiJcbiIKLicqIERlZmF1bHQ6IGAnLnN0cl9yZXBsYWNlKCJcbiIsICcnLCB2YXJfZXhwb3J0KCRvcHRpb24tPmdldERlZmF1bHQoKSwgdHJ1ZSkpLidgJwopOwp9CgoKCgpwcm90ZWN0ZWQgZnVuY3Rpb24gZGVzY3JpYmVJbnB1dERlZmluaXRpb24oSW5wdXREZWZpbml0aW9uICRkZWZpbml0aW9uLCBhcnJheSAkb3B0aW9ucyA9IGFycmF5KCkpCnsKaWYgKCRzaG93QXJndW1lbnRzID0gXGNvdW50KCRkZWZpbml0aW9uLT5nZXRBcmd1bWVudHMoKSkgPiAwKSB7CiR0aGlzLT53cml0ZSgnIyMjIEFyZ3VtZW50czonKTsKZm9yZWFjaCAoJGRlZmluaXRpb24tPmdldEFyZ3VtZW50cygpIGFzICRhcmd1bWVudCkgewokdGhpcy0+d3JpdGUoIlxuXG4iKTsKJHRoaXMtPndyaXRlKCR0aGlzLT5kZXNjcmliZUlucHV0QXJndW1lbnQoJGFyZ3VtZW50KSk7Cn0KfQoKaWYgKFxjb3VudCgkZGVmaW5pdGlvbi0+Z2V0T3B0aW9ucygpKSA+IDApIHsKaWYgKCRzaG93QXJndW1lbnRzKSB7CiR0aGlzLT53cml0ZSgiXG5cbiIpOwp9CgokdGhpcy0+d3JpdGUoJyMjIyBPcHRpb25zOicpOwpmb3JlYWNoICgkZGVmaW5pdGlvbi0+Z2V0T3B0aW9ucygpIGFzICRvcHRpb24pIHsKJHRoaXMtPndyaXRlKCJcblxuIik7CiR0aGlzLT53cml0ZSgkdGhpcy0+ZGVzY3JpYmVJbnB1dE9wdGlvbigkb3B0aW9uKSk7Cn0KfQp9CgoKCgpwcm90ZWN0ZWQgZnVuY3Rpb24gZGVzY3JpYmVDb21tYW5kKENvbW1hbmQgJGNvbW1hbmQsIGFycmF5ICRvcHRpb25zID0gYXJyYXkoKSkKewokY29tbWFuZC0+Z2V0U3lub3BzaXMoKTsKJGNvbW1hbmQtPm1lcmdlQXBwbGljYXRpb25EZWZpbml0aW9uKGZhbHNlKTsKCiR0aGlzLT53cml0ZSgKJGNvbW1hbmQtPmdldE5hbWUoKS4iXG4iCi5zdHJfcmVwZWF0KCctJywgSGVscGVyOjpzdHJsZW4oJGNvbW1hbmQtPmdldE5hbWUoKSkpLiJcblxuIgouJyogRGVzY3JpcHRpb246ICcuKCRjb21tYW5kLT5nZXREZXNjcmlwdGlvbigpID86ICc8bm9uZT4nKS4iXG4iCi4nKiBVc2FnZTonLiJcblxuIgouYXJyYXlfcmVkdWNlKGFycmF5X21lcmdlKGFycmF5KCRjb21tYW5kLT5nZXRTeW5vcHNpcygpKSwgJGNvbW1hbmQtPmdldEFsaWFzZXMoKSwgJGNvbW1hbmQtPmdldFVzYWdlcygpKSwgZnVuY3Rpb24gKCRjYXJyeSwgJHVzYWdlKSB7CnJldHVybiAkY2FycnkuJyAgKiBgJy4kdXNhZ2UuJ2AnLiJcbiI7Cn0pCik7CgppZiAoJGhlbHAgPSAkY29tbWFuZC0+Z2V0UHJvY2Vzc2VkSGVscCgpKSB7CiR0aGlzLT53cml0ZSgiXG4iKTsKJHRoaXMtPndyaXRlKCRoZWxwKTsKfQoKaWYgKCRjb21tYW5kLT5nZXROYXRpdmVEZWZpbml0aW9uKCkpIHsKJHRoaXMtPndyaXRlKCJcblxuIik7CiR0aGlzLT5kZXNjcmliZUlucHV0RGVmaW5pdGlvbigkY29tbWFuZC0+Z2V0TmF0aXZlRGVmaW5pdGlvbigpKTsKfQp9CgoKCgpwcm90ZWN0ZWQgZnVuY3Rpb24gZGVzY3JpYmVBcHBsaWNhdGlvbihBcHBsaWNhdGlvbiAkYXBwbGljYXRpb24sIGFycmF5ICRvcHRpb25zID0gYXJyYXkoKSkKewokZGVzY3JpYmVkTmFtZXNwYWNlID0gaXNzZXQoJG9wdGlvbnNbJ25hbWVzcGFjZSddKSA/ICRvcHRpb25zWyduYW1lc3BhY2UnXSA6IG51bGw7CiRkZXNjcmlwdGlvbiA9IG5ldyBBcHBsaWNhdGlvbkRlc2NyaXB0aW9uKCRhcHBsaWNhdGlvbiwgJGRlc2NyaWJlZE5hbWVzcGFjZSk7CgokdGhpcy0+d3JpdGUoJGFwcGxpY2F0aW9uLT5nZXROYW1lKCkuIlxuIi5zdHJfcmVwZWF0KCc9JywgSGVscGVyOjpzdHJsZW4oJGFwcGxpY2F0aW9uLT5nZXROYW1lKCkpKSk7Cgpmb3JlYWNoICgkZGVzY3JpcHRpb24tPmdldE5hbWVzcGFjZXMoKSBhcyAkbmFtZXNwYWNlKSB7CmlmIChBcHBsaWNhdGlvbkRlc2NyaXB0aW9uOjpHTE9CQUxfTkFNRVNQQUNFICE9PSAkbmFtZXNwYWNlWydpZCddKSB7CiR0aGlzLT53cml0ZSgiXG5cbiIpOwokdGhpcy0+d3JpdGUoJyoqJy4kbmFtZXNwYWNlWydpZCddLic6KionKTsKfQoKJHRoaXMtPndyaXRlKCJcblxuIik7CiR0aGlzLT53cml0ZShpbXBsb2RlKCJcbiIsIGFycmF5X21hcChmdW5jdGlvbiAoJGNvbW1hbmROYW1lKSB7CnJldHVybiAnKiAnLiRjb21tYW5kTmFtZTsKfSwgJG5hbWVzcGFjZVsnY29tbWFuZHMnXSkpKTsKfQoKZm9yZWFjaCAoJGRlc2NyaXB0aW9uLT5nZXRDb21tYW5kcygpIGFzICRjb21tYW5kKSB7CiR0aGlzLT53cml0ZSgiXG5cbiIpOwokdGhpcy0+d3JpdGUoJHRoaXMtPmRlc2NyaWJlQ29tbWFuZCgkY29tbWFuZCkpOwp9Cn0KfQo8P3BocAoKCgoKCgoKCgoKbmFtZXNwYWNlIFN5bWZvbnlcQ29tcG9uZW50XENvbnNvbGVcRGVzY3JpcHRvcjsKCnVzZSBTeW1mb255XENvbXBvbmVudFxDb25zb2xlXEFwcGxpY2F0aW9uOwp1c2UgU3ltZm9ueVxDb21wb25lbnRcQ29uc29sZVxDb21tYW5kXENvbW1hbmQ7CnVzZSBTeW1mb255XENvbXBvbmVudFxDb25zb2xlXEZvcm1hdHRlclxPdXRwdXRGb3JtYXR0ZXI7CnVzZSBTeW1mb255XENvbXBvbmVudFxDb25zb2xlXEhlbHBlclxIZWxwZXI7CnVzZSBTeW1mb255XENvbXBvbmVudFxDb25zb2xlXElucHV0XElucHV0QXJndW1lbnQ7CnVzZSBTeW1mb255XENvbXBvbmVudFxDb25zb2xlXElucHV0XElucHV0RGVmaW5pdGlvbjsKdXNlIFN5bWZvbnlcQ29tcG9uZW50XENvbnNvbGVcSW5wdXRcSW5wdXRPcHRpb247CgoKCgoKCgoKY2xhc3MgVGV4dERlc2NyaXB0b3IgZXh0ZW5kcyBEZXNjcmlwdG9yCnsKCgoKcHJvdGVjdGVkIGZ1bmN0aW9uIGRlc2NyaWJlSW5wdXRBcmd1bWVudChJbnB1dEFyZ3VtZW50ICRhcmd1bWVudCwgYXJyYXkgJG9wdGlvbnMgPSBhcnJheSgpKQp7CmlmIChudWxsICE9PSAkYXJndW1lbnQtPmdldERlZmF1bHQoKSAmJiAoIVxpc19hcnJheSgkYXJndW1lbnQtPmdldERlZmF1bHQoKSkgfHwgXGNvdW50KCRhcmd1bWVudC0+Z2V0RGVmYXVsdCgpKSkpIHsKJGRlZmF1bHQgPSBzcHJpbnRmKCc8Y29tbWVudD4gW2RlZmF1bHQ6ICVzXTwvY29tbWVudD4nLCAkdGhpcy0+Zm9ybWF0RGVmYXVsdFZhbHVlKCRhcmd1bWVudC0+Z2V0RGVmYXVsdCgpKSk7Cn0gZWxzZSB7CiRkZWZhdWx0ID0gJyc7Cn0KCiR0b3RhbFdpZHRoID0gaXNzZXQoJG9wdGlvbnNbJ3RvdGFsX3dpZHRoJ10pID8gJG9wdGlvbnNbJ3RvdGFsX3dpZHRoJ10gOiBIZWxwZXI6OnN0cmxlbigkYXJndW1lbnQtPmdldE5hbWUoKSk7CiRzcGFjaW5nV2lkdGggPSAkdG90YWxXaWR0aCAtIFxzdHJsZW4oJGFyZ3VtZW50LT5nZXROYW1lKCkpOwoKJHRoaXMtPndyaXRlVGV4dChzcHJpbnRmKCcgIDxpbmZvPiVzPC9pbmZvPiAgJXMlcyVzJywKJGFyZ3VtZW50LT5nZXROYW1lKCksCnN0cl9yZXBlYXQoJyAnLCAkc3BhY2luZ1dpZHRoKSwKCnByZWdfcmVwbGFjZSgnL1xzKltcclxuXVxzKi8nLCAiXG4iLnN0cl9yZXBlYXQoJyAnLCAkdG90YWxXaWR0aCArIDQpLCAkYXJndW1lbnQtPmdldERlc2NyaXB0aW9uKCkpLAokZGVmYXVsdAopLCAkb3B0aW9ucyk7Cn0KCgoKCnByb3RlY3RlZCBmdW5jdGlvbiBkZXNjcmliZUlucHV0T3B0aW9uKElucHV0T3B0aW9uICRvcHRpb24sIGFycmF5ICRvcHRpb25zID0gYXJyYXkoKSkKewppZiAoJG9wdGlvbi0+YWNjZXB0VmFsdWUoKSAmJiBudWxsICE9PSAkb3B0aW9uLT5nZXREZWZhdWx0KCkgJiYgKCFcaXNfYXJyYXkoJG9wdGlvbi0+Z2V0RGVmYXVsdCgpKSB8fCBcY291bnQoJG9wdGlvbi0+Z2V0RGVmYXVsdCgpKSkpIHsKJGRlZmF1bHQgPSBzcHJpbnRmKCc8Y29tbWVudD4gW2RlZmF1bHQ6ICVzXTwvY29tbWVudD4nLCAkdGhpcy0+Zm9ybWF0RGVmYXVsdFZhbHVlKCRvcHRpb24tPmdldERlZmF1bHQoKSkpOwp9IGVsc2UgewokZGVmYXVsdCA9ICcnOwp9CgokdmFsdWUgPSAnJzsKaWYgKCRvcHRpb24tPmFjY2VwdFZhbHVlKCkpIHsKJHZhbHVlID0gJz0nLnN0cnRvdXBwZXIoJG9wdGlvbi0+Z2V0TmFtZSgpKTsKCmlmICgkb3B0aW9uLT5pc1ZhbHVlT3B0aW9uYWwoKSkgewokdmFsdWUgPSAnWycuJHZhbHVlLiddJzsKfQp9CgokdG90YWxXaWR0aCA9IGlzc2V0KCRvcHRpb25zWyd0b3RhbF93aWR0aCddKSA/ICRvcHRpb25zWyd0b3RhbF93aWR0aCddIDogJHRoaXMtPmNhbGN1bGF0ZVRvdGFsV2lkdGhGb3JPcHRpb25zKGFycmF5KCRvcHRpb24pKTsKJHN5bm9wc2lzID0gc3ByaW50ZignJXMlcycsCiRvcHRpb24tPmdldFNob3J0Y3V0KCkgPyBzcHJpbnRmKCctJXMsICcsICRvcHRpb24tPmdldFNob3J0Y3V0KCkpIDogJyAgICAnLApzcHJpbnRmKCctLSVzJXMnLCAkb3B0aW9uLT5nZXROYW1lKCksICR2YWx1ZSkKKTsKCiRzcGFjaW5nV2lkdGggPSAkdG90YWxXaWR0aCAtIEhlbHBlcjo6c3RybGVuKCRzeW5vcHNpcyk7CgokdGhpcy0+d3JpdGVUZXh0KHNwcmludGYoJyAgPGluZm8+JXM8L2luZm8+ICAlcyVzJXMlcycsCiRzeW5vcHNpcywKc3RyX3JlcGVhdCgnICcsICRzcGFjaW5nV2lkdGgpLAoKcHJlZ19yZXBsYWNlKCcvXHMqW1xyXG5dXHMqLycsICJcbiIuc3RyX3JlcGVhdCgnICcsICR0b3RhbFdpZHRoICsgNCksICRvcHRpb24tPmdldERlc2NyaXB0aW9uKCkpLAokZGVmYXVsdCwKJG9wdGlvbi0+aXNBcnJheSgpID8gJzxjb21tZW50PiAobXVsdGlwbGUgdmFsdWVzIGFsbG93ZWQpPC9jb21tZW50PicgOiAnJwopLCAkb3B0aW9ucyk7Cn0KCgoKCnByb3RlY3RlZCBmdW5jdGlvbiBkZXNjcmliZUlucHV0RGVmaW5pdGlvbihJbnB1dERlZmluaXRpb24gJGRlZmluaXRpb24sIGFycmF5ICRvcHRpb25zID0gYXJyYXkoKSkKewokdG90YWxXaWR0aCA9ICR0aGlzLT5jYWxjdWxhdGVUb3RhbFdpZHRoRm9yT3B0aW9ucygkZGVmaW5pdGlvbi0+Z2V0T3B0aW9ucygpKTsKZm9yZWFjaCAoJGRlZmluaXRpb24tPmdldEFyZ3VtZW50cygpIGFzICRhcmd1bWVudCkgewokdG90YWxXaWR0aCA9IG1heCgkdG90YWxXaWR0aCwgSGVscGVyOjpzdHJsZW4oJGFyZ3VtZW50LT5nZXROYW1lKCkpKTsKfQoKaWYgKCRkZWZpbml0aW9uLT5nZXRBcmd1bWVudHMoKSkgewokdGhpcy0+d3JpdGVUZXh0KCc8Y29tbWVudD5Bcmd1bWVudHM6PC9jb21tZW50PicsICRvcHRpb25zKTsKJHRoaXMtPndyaXRlVGV4dCgiXG4iKTsKZm9yZWFjaCAoJGRlZmluaXRpb24tPmdldEFyZ3VtZW50cygpIGFzICRhcmd1bWVudCkgewokdGhpcy0+ZGVzY3JpYmVJbnB1dEFyZ3VtZW50KCRhcmd1bWVudCwgYXJyYXlfbWVyZ2UoJG9wdGlvbnMsIGFycmF5KCd0b3RhbF93aWR0aCcgPT4gJHRvdGFsV2lkdGgpKSk7CiR0aGlzLT53cml0ZVRleHQoIlxuIik7Cn0KfQoKaWYgKCRkZWZpbml0aW9uLT5nZXRBcmd1bWVudHMoKSAmJiAkZGVmaW5pdGlvbi0+Z2V0T3B0aW9ucygpKSB7CiR0aGlzLT53cml0ZVRleHQoIlxuIik7Cn0KCmlmICgkZGVmaW5pdGlvbi0+Z2V0T3B0aW9ucygpKSB7CiRsYXRlck9wdGlvbnMgPSBhcnJheSgpOwoKJHRoaXMtPndyaXRlVGV4dCgnPGNvbW1lbnQ+T3B0aW9uczo8L2NvbW1lbnQ+JywgJG9wdGlvbnMpOwpmb3JlYWNoICgkZGVmaW5pdGlvbi0+Z2V0T3B0aW9ucygpIGFzICRvcHRpb24pIHsKaWYgKFxzdHJsZW4oJG9wdGlvbi0+Z2V0U2hvcnRjdXQoKSkgPiAxKSB7CiRsYXRlck9wdGlvbnNbXSA9ICRvcHRpb247CmNvbnRpbnVlOwp9CiR0aGlzLT53cml0ZVRleHQoIlxuIik7CiR0aGlzLT5kZXNjcmliZUlucHV0T3B0aW9uKCRvcHRpb24sIGFycmF5X21lcmdlKCRvcHRpb25zLCBhcnJheSgndG90YWxfd2lkdGgnID0+ICR0b3RhbFdpZHRoKSkpOwp9CmZvcmVhY2ggKCRsYXRlck9wdGlvbnMgYXMgJG9wdGlvbikgewokdGhpcy0+d3JpdGVUZXh0KCJcbiIpOwokdGhpcy0+ZGVzY3JpYmVJbnB1dE9wdGlvbigkb3B0aW9uLCBhcnJheV9tZXJnZSgkb3B0aW9ucywgYXJyYXkoJ3RvdGFsX3dpZHRoJyA9PiAkdG90YWxXaWR0aCkpKTsKfQp9Cn0KCgoKCnByb3RlY3RlZCBmdW5jdGlvbiBkZXNjcmliZUNvbW1hbmQoQ29tbWFuZCAkY29tbWFuZCwgYXJyYXkgJG9wdGlvbnMgPSBhcnJheSgpKQp7CiRjb21tYW5kLT5nZXRTeW5vcHNpcyh0cnVlKTsKJGNvbW1hbmQtPmdldFN5bm9wc2lzKGZhbHNlKTsKJGNvbW1hbmQtPm1lcmdlQXBwbGljYXRpb25EZWZpbml0aW9uKGZhbHNlKTsKCiR0aGlzLT53cml0ZVRleHQoJzxjb21tZW50PlVzYWdlOjwvY29tbWVudD4nLCAkb3B0aW9ucyk7CmZvcmVhY2ggKGFycmF5X21lcmdlKGFycmF5KCRjb21tYW5kLT5nZXRTeW5vcHNpcyh0cnVlKSksICRjb21tYW5kLT5nZXRBbGlhc2VzKCksICRjb21tYW5kLT5nZXRVc2FnZXMoKSkgYXMgJHVzYWdlKSB7CiR0aGlzLT53cml0ZVRleHQoIlxuIik7CiR0aGlzLT53cml0ZVRleHQoJyAgJy5PdXRwdXRGb3JtYXR0ZXI6OmVzY2FwZSgkdXNhZ2UpLCAkb3B0aW9ucyk7Cn0KJHRoaXMtPndyaXRlVGV4dCgiXG4iKTsKCiRkZWZpbml0aW9uID0gJGNvbW1hbmQtPmdldE5hdGl2ZURlZmluaXRpb24oKTsKaWYgKCRkZWZpbml0aW9uLT5nZXRPcHRpb25zKCkgfHwgJGRlZmluaXRpb24tPmdldEFyZ3VtZW50cygpKSB7CiR0aGlzLT53cml0ZVRleHQoIlxuIik7CiR0aGlzLT5kZXNjcmliZUlucHV0RGVmaW5pdGlvbigkZGVmaW5pdGlvbiwgJG9wdGlvbnMpOwokdGhpcy0+d3JpdGVUZXh0KCJcbiIpOwp9CgppZiAoJGhlbHAgPSAkY29tbWFuZC0+Z2V0UHJvY2Vzc2VkSGVscCgpKSB7CiR0aGlzLT53cml0ZVRleHQoIlxuIik7CiR0aGlzLT53cml0ZVRleHQoJzxjb21tZW50PkhlbHA6PC9jb21tZW50PicsICRvcHRpb25zKTsKJHRoaXMtPndyaXRlVGV4dCgiXG4iKTsKJHRoaXMtPndyaXRlVGV4dCgnICAnLnN0cl9yZXBsYWNlKCJcbiIsICJcbiAgIiwgJGhlbHApLCAkb3B0aW9ucyk7CiR0aGlzLT53cml0ZVRleHQoIlxuIik7Cn0KfQoKCgoKcHJvdGVjdGVkIGZ1bmN0aW9uIGRlc2NyaWJlQXBwbGljYXRpb24oQXBwbGljYXRpb24gJGFwcGxpY2F0aW9uLCBhcnJheSAkb3B0aW9ucyA9IGFycmF5KCkpCnsKJGRlc2NyaWJlZE5hbWVzcGFjZSA9IGlzc2V0KCRvcHRpb25zWyduYW1lc3BhY2UnXSkgPyAkb3B0aW9uc1snbmFtZXNwYWNlJ10gOiBudWxsOwokZGVzY3JpcHRpb24gPSBuZXcgQXBwbGljYXRpb25EZXNjcmlwdGlvbigkYXBwbGljYXRpb24sICRkZXNjcmliZWROYW1lc3BhY2UpOwoKaWYgKGlzc2V0KCRvcHRpb25zWydyYXdfdGV4dCddKSAmJiAkb3B0aW9uc1sncmF3X3RleHQnXSkgewokd2lkdGggPSAkdGhpcy0+Z2V0Q29sdW1uV2lkdGgoJGRlc2NyaXB0aW9uLT5nZXRDb21tYW5kcygpKTsKCmZvcmVhY2ggKCRkZXNjcmlwdGlvbi0+Z2V0Q29tbWFuZHMoKSBhcyAkY29tbWFuZCkgewokdGhpcy0+d3JpdGVUZXh0KHNwcmludGYoIiUteyR3aWR0aH1zICVzIiwgJGNvbW1hbmQtPmdldE5hbWUoKSwgJGNvbW1hbmQtPmdldERlc2NyaXB0aW9uKCkpLCAkb3B0aW9ucyk7CiR0aGlzLT53cml0ZVRleHQoIlxuIik7Cn0KfSBlbHNlIHsKaWYgKCcnICE9ICRoZWxwID0gJGFwcGxpY2F0aW9uLT5nZXRIZWxwKCkpIHsKJHRoaXMtPndyaXRlVGV4dCgiJGhlbHBcblxuIiwgJG9wdGlvbnMpOwp9CgokdGhpcy0+d3JpdGVUZXh0KCI8Y29tbWVudD5Vc2FnZTo8L2NvbW1lbnQ+XG4iLCAkb3B0aW9ucyk7CiR0aGlzLT53cml0ZVRleHQoIiAgY29tbWFuZCBbb3B0aW9uc10gW2FyZ3VtZW50c11cblxuIiwgJG9wdGlvbnMpOwoKJHRoaXMtPmRlc2NyaWJlSW5wdXREZWZpbml0aW9uKG5ldyBJbnB1dERlZmluaXRpb24oJGFwcGxpY2F0aW9uLT5nZXREZWZpbml0aW9uKCktPmdldE9wdGlvbnMoKSksICRvcHRpb25zKTsKCiR0aGlzLT53cml0ZVRleHQoIlxuIik7CiR0aGlzLT53cml0ZVRleHQoIlxuIik7Cgokd2lkdGggPSAkdGhpcy0+Z2V0Q29sdW1uV2lkdGgoJGRlc2NyaXB0aW9uLT5nZXRDb21tYW5kcygpKTsKCmlmICgkZGVzY3JpYmVkTmFtZXNwYWNlKSB7CiR0aGlzLT53cml0ZVRleHQoc3ByaW50ZignPGNvbW1lbnQ+QXZhaWxhYmxlIGNvbW1hbmRzIGZvciB0aGUgIiVzIiBuYW1lc3BhY2U6PC9jb21tZW50PicsICRkZXNjcmliZWROYW1lc3BhY2UpLCAkb3B0aW9ucyk7Cn0gZWxzZSB7CiR0aGlzLT53cml0ZVRleHQoJzxjb21tZW50PkF2YWlsYWJsZSBjb21tYW5kczo8L2NvbW1lbnQ+JywgJG9wdGlvbnMpOwp9CgoKZm9yZWFjaCAoJGRlc2NyaXB0aW9uLT5nZXROYW1lc3BhY2VzKCkgYXMgJG5hbWVzcGFjZSkgewppZiAoISRkZXNjcmliZWROYW1lc3BhY2UgJiYgQXBwbGljYXRpb25EZXNjcmlwdGlvbjo6R0xPQkFMX05BTUVTUEFDRSAhPT0gJG5hbWVzcGFjZVsnaWQnXSkgewokdGhpcy0+d3JpdGVUZXh0KCJcbiIpOwokdGhpcy0+d3JpdGVUZXh0KCcgPGNvbW1lbnQ+Jy4kbmFtZXNwYWNlWydpZCddLic8L2NvbW1lbnQ+JywgJG9wdGlvbnMpOwp9Cgpmb3JlYWNoICgkbmFtZXNwYWNlWydjb21tYW5kcyddIGFzICRuYW1lKSB7CiR0aGlzLT53cml0ZVRleHQoIlxuIik7CiRzcGFjaW5nV2lkdGggPSAkd2lkdGggLSBIZWxwZXI6OnN0cmxlbigkbmFtZSk7CiR0aGlzLT53cml0ZVRleHQoc3ByaW50ZignICA8aW5mbz4lczwvaW5mbz4lcyVzJywgJG5hbWUsIHN0cl9yZXBlYXQoJyAnLCAkc3BhY2luZ1dpZHRoKSwgJGRlc2NyaXB0aW9uLT5nZXRDb21tYW5kKCRuYW1lKS0+Z2V0RGVzY3JpcHRpb24oKSksICRvcHRpb25zKTsKfQp9CgokdGhpcy0+d3JpdGVUZXh0KCJcbiIpOwp9Cn0KCgoKCnByaXZhdGUgZnVuY3Rpb24gd3JpdGVUZXh0KCRjb250ZW50LCBhcnJheSAkb3B0aW9ucyA9IGFycmF5KCkpCnsKJHRoaXMtPndyaXRlKAppc3NldCgkb3B0aW9uc1sncmF3X3RleHQnXSkgJiYgJG9wdGlvbnNbJ3Jhd190ZXh0J10gPyBzdHJpcF90YWdzKCRjb250ZW50KSA6ICRjb250ZW50LAppc3NldCgkb3B0aW9uc1sncmF3X291dHB1dCddKSA/ICEkb3B0aW9uc1sncmF3X291dHB1dCddIDogdHJ1ZQopOwp9CgoKCgoKCgoKcHJpdmF0ZSBmdW5jdGlvbiBmb3JtYXREZWZhdWx0VmFsdWUoJGRlZmF1bHQpCnsKaWYgKElORiA9PT0gJGRlZmF1bHQpIHsKcmV0dXJuICdJTkYnOwp9CgppZiAoXGlzX3N0cmluZygkZGVmYXVsdCkpIHsKJGRlZmF1bHQgPSBPdXRwdXRGb3JtYXR0ZXI6OmVzY2FwZSgkZGVmYXVsdCk7Cn0gZWxzZWlmIChcaXNfYXJyYXkoJGRlZmF1bHQpKSB7CmZvcmVhY2ggKCRkZWZhdWx0IGFzICRrZXkgPT4gJHZhbHVlKSB7CmlmIChcaXNfc3RyaW5nKCR2YWx1ZSkpIHsKJGRlZmF1bHRbJGtleV0gPSBPdXRwdXRGb3JtYXR0ZXI6OmVzY2FwZSgkdmFsdWUpOwp9Cn0KfQoKaWYgKFxQSFBfVkVSU0lPTl9JRCA8IDUwNDAwKSB7CnJldHVybiBzdHJfcmVwbGFjZShhcnJheSgnXC8nLCAnXFxcXCcpLCBhcnJheSgnLycsICdcXCcpLCBqc29uX2VuY29kZSgkZGVmYXVsdCkpOwp9CgpyZXR1cm4gc3RyX3JlcGxhY2UoJ1xcXFwnLCAnXFwnLCBqc29uX2VuY29kZSgkZGVmYXVsdCwgSlNPTl9VTkVTQ0FQRURfU0xBU0hFUyB8IEpTT05fVU5FU0NBUEVEX1VOSUNPREUpKTsKfQoKCgoKCgpwcml2YXRlIGZ1bmN0aW9uIGdldENvbHVtbldpZHRoKGFycmF5ICRjb21tYW5kcykKewokd2lkdGhzID0gYXJyYXkoKTsKCmZvcmVhY2ggKCRjb21tYW5kcyBhcyAkY29tbWFuZCkgewokd2lkdGhzW10gPSBIZWxwZXI6OnN0cmxlbigkY29tbWFuZC0+Z2V0TmFtZSgpKTsKZm9yZWFjaCAoJGNvbW1hbmQtPmdldEFsaWFzZXMoKSBhcyAkYWxpYXMpIHsKJHdpZHRoc1tdID0gSGVscGVyOjpzdHJsZW4oJGFsaWFzKTsKfQp9CgpyZXR1cm4gbWF4KCR3aWR0aHMpICsgMjsKfQoKCgoKCgpwcml2YXRlIGZ1bmN0aW9uIGNhbGN1bGF0ZVRvdGFsV2lkdGhGb3JPcHRpb25zKGFycmF5ICRvcHRpb25zKQp7CiR0b3RhbFdpZHRoID0gMDsKZm9yZWFjaCAoJG9wdGlvbnMgYXMgJG9wdGlvbikgewoKJG5hbWVMZW5ndGggPSAxICsgbWF4KFxzdHJsZW4oJG9wdGlvbi0+Z2V0U2hvcnRjdXQoKSksIDEpICsgNCArIEhlbHBlcjo6c3RybGVuKCRvcHRpb24tPmdldE5hbWUoKSk7CgppZiAoJG9wdGlvbi0+YWNjZXB0VmFsdWUoKSkgewokdmFsdWVMZW5ndGggPSAxICsgSGVscGVyOjpzdHJsZW4oJG9wdGlvbi0+Z2V0TmFtZSgpKTsgCiR2YWx1ZUxlbmd0aCArPSAkb3B0aW9uLT5pc1ZhbHVlT3B0aW9uYWwoKSA/IDIgOiAwOyAKCiRuYW1lTGVuZ3RoICs9ICR2YWx1ZUxlbmd0aDsKfQokdG90YWxXaWR0aCA9IG1heCgkdG90YWxXaWR0aCwgJG5hbWVMZW5ndGgpOwp9CgpyZXR1cm4gJHRvdGFsV2lkdGg7Cn0KfQo8P3BocAoKCgoKCgoKCgoKbmFtZXNwYWNlIFN5bWZvbnlcQ29tcG9uZW50XENvbnNvbGVcRGVzY3JpcHRvcjsKCnVzZSBTeW1mb255XENvbXBvbmVudFxDb25zb2xlXEFwcGxpY2F0aW9uOwp1c2UgU3ltZm9ueVxDb21wb25lbnRcQ29uc29sZVxDb21tYW5kXENvbW1hbmQ7CnVzZSBTeW1mb255XENvbXBvbmVudFxDb25zb2xlXElucHV0XElucHV0QXJndW1lbnQ7CnVzZSBTeW1mb255XENvbXBvbmVudFxDb25zb2xlXElucHV0XElucHV0RGVmaW5pdGlvbjsKdXNlIFN5bWZvbnlcQ29tcG9uZW50XENvbnNvbGVcSW5wdXRcSW5wdXRPcHRpb247CgoKCgoKCgoKY2xhc3MgWG1sRGVzY3JpcHRvciBleHRlbmRzIERlc2NyaXB0b3IKewoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0SW5wdXREZWZpbml0aW9uRG9jdW1lbnQoSW5wdXREZWZpbml0aW9uICRkZWZpbml0aW9uKQp7CiRkb20gPSBuZXcgXERPTURvY3VtZW50KCcxLjAnLCAnVVRGLTgnKTsKJGRvbS0+YXBwZW5kQ2hpbGQoJGRlZmluaXRpb25YTUwgPSAkZG9tLT5jcmVhdGVFbGVtZW50KCdkZWZpbml0aW9uJykpOwoKJGRlZmluaXRpb25YTUwtPmFwcGVuZENoaWxkKCRhcmd1bWVudHNYTUwgPSAkZG9tLT5jcmVhdGVFbGVtZW50KCdhcmd1bWVudHMnKSk7CmZvcmVhY2ggKCRkZWZpbml0aW9uLT5nZXRBcmd1bWVudHMoKSBhcyAkYXJndW1lbnQpIHsKJHRoaXMtPmFwcGVuZERvY3VtZW50KCRhcmd1bWVudHNYTUwsICR0aGlzLT5nZXRJbnB1dEFyZ3VtZW50RG9jdW1lbnQoJGFyZ3VtZW50KSk7Cn0KCiRkZWZpbml0aW9uWE1MLT5hcHBlbmRDaGlsZCgkb3B0aW9uc1hNTCA9ICRkb20tPmNyZWF0ZUVsZW1lbnQoJ29wdGlvbnMnKSk7CmZvcmVhY2ggKCRkZWZpbml0aW9uLT5nZXRPcHRpb25zKCkgYXMgJG9wdGlvbikgewokdGhpcy0+YXBwZW5kRG9jdW1lbnQoJG9wdGlvbnNYTUwsICR0aGlzLT5nZXRJbnB1dE9wdGlvbkRvY3VtZW50KCRvcHRpb24pKTsKfQoKcmV0dXJuICRkb207Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBnZXRDb21tYW5kRG9jdW1lbnQoQ29tbWFuZCAkY29tbWFuZCkKewokZG9tID0gbmV3IFxET01Eb2N1bWVudCgnMS4wJywgJ1VURi04Jyk7CiRkb20tPmFwcGVuZENoaWxkKCRjb21tYW5kWE1MID0gJGRvbS0+Y3JlYXRlRWxlbWVudCgnY29tbWFuZCcpKTsKCiRjb21tYW5kLT5nZXRTeW5vcHNpcygpOwokY29tbWFuZC0+bWVyZ2VBcHBsaWNhdGlvbkRlZmluaXRpb24oZmFsc2UpOwoKJGNvbW1hbmRYTUwtPnNldEF0dHJpYnV0ZSgnaWQnLCAkY29tbWFuZC0+Z2V0TmFtZSgpKTsKJGNvbW1hbmRYTUwtPnNldEF0dHJpYnV0ZSgnbmFtZScsICRjb21tYW5kLT5nZXROYW1lKCkpOwoKJGNvbW1hbmRYTUwtPmFwcGVuZENoaWxkKCR1c2FnZXNYTUwgPSAkZG9tLT5jcmVhdGVFbGVtZW50KCd1c2FnZXMnKSk7Cgpmb3JlYWNoIChhcnJheV9tZXJnZShhcnJheSgkY29tbWFuZC0+Z2V0U3lub3BzaXMoKSksICRjb21tYW5kLT5nZXRBbGlhc2VzKCksICRjb21tYW5kLT5nZXRVc2FnZXMoKSkgYXMgJHVzYWdlKSB7CiR1c2FnZXNYTUwtPmFwcGVuZENoaWxkKCRkb20tPmNyZWF0ZUVsZW1lbnQoJ3VzYWdlJywgJHVzYWdlKSk7Cn0KCiRjb21tYW5kWE1MLT5hcHBlbmRDaGlsZCgkZGVzY3JpcHRpb25YTUwgPSAkZG9tLT5jcmVhdGVFbGVtZW50KCdkZXNjcmlwdGlvbicpKTsKJGRlc2NyaXB0aW9uWE1MLT5hcHBlbmRDaGlsZCgkZG9tLT5jcmVhdGVUZXh0Tm9kZShzdHJfcmVwbGFjZSgiXG4iLCAiXG4gIiwgJGNvbW1hbmQtPmdldERlc2NyaXB0aW9uKCkpKSk7CgokY29tbWFuZFhNTC0+YXBwZW5kQ2hpbGQoJGhlbHBYTUwgPSAkZG9tLT5jcmVhdGVFbGVtZW50KCdoZWxwJykpOwokaGVscFhNTC0+YXBwZW5kQ2hpbGQoJGRvbS0+Y3JlYXRlVGV4dE5vZGUoc3RyX3JlcGxhY2UoIlxuIiwgIlxuICIsICRjb21tYW5kLT5nZXRQcm9jZXNzZWRIZWxwKCkpKSk7CgokZGVmaW5pdGlvblhNTCA9ICR0aGlzLT5nZXRJbnB1dERlZmluaXRpb25Eb2N1bWVudCgkY29tbWFuZC0+Z2V0TmF0aXZlRGVmaW5pdGlvbigpKTsKJHRoaXMtPmFwcGVuZERvY3VtZW50KCRjb21tYW5kWE1MLCAkZGVmaW5pdGlvblhNTC0+Z2V0RWxlbWVudHNCeVRhZ05hbWUoJ2RlZmluaXRpb24nKS0+aXRlbSgwKSk7CgpyZXR1cm4gJGRvbTsKfQoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIGdldEFwcGxpY2F0aW9uRG9jdW1lbnQoQXBwbGljYXRpb24gJGFwcGxpY2F0aW9uLCAkbmFtZXNwYWNlID0gbnVsbCkKewokZG9tID0gbmV3IFxET01Eb2N1bWVudCgnMS4wJywgJ1VURi04Jyk7CiRkb20tPmFwcGVuZENoaWxkKCRyb290WG1sID0gJGRvbS0+Y3JlYXRlRWxlbWVudCgnc3ltZm9ueScpKTsKCmlmICgnVU5LTk9XTicgIT09ICRhcHBsaWNhdGlvbi0+Z2V0TmFtZSgpKSB7CiRyb290WG1sLT5zZXRBdHRyaWJ1dGUoJ25hbWUnLCAkYXBwbGljYXRpb24tPmdldE5hbWUoKSk7CmlmICgnVU5LTk9XTicgIT09ICRhcHBsaWNhdGlvbi0+Z2V0VmVyc2lvbigpKSB7CiRyb290WG1sLT5zZXRBdHRyaWJ1dGUoJ3ZlcnNpb24nLCAkYXBwbGljYXRpb24tPmdldFZlcnNpb24oKSk7Cn0KfQoKJHJvb3RYbWwtPmFwcGVuZENoaWxkKCRjb21tYW5kc1hNTCA9ICRkb20tPmNyZWF0ZUVsZW1lbnQoJ2NvbW1hbmRzJykpOwoKJGRlc2NyaXB0aW9uID0gbmV3IEFwcGxpY2F0aW9uRGVzY3JpcHRpb24oJGFwcGxpY2F0aW9uLCAkbmFtZXNwYWNlKTsKCmlmICgkbmFtZXNwYWNlKSB7CiRjb21tYW5kc1hNTC0+c2V0QXR0cmlidXRlKCduYW1lc3BhY2UnLCAkbmFtZXNwYWNlKTsKfQoKZm9yZWFjaCAoJGRlc2NyaXB0aW9uLT5nZXRDb21tYW5kcygpIGFzICRjb21tYW5kKSB7CiR0aGlzLT5hcHBlbmREb2N1bWVudCgkY29tbWFuZHNYTUwsICR0aGlzLT5nZXRDb21tYW5kRG9jdW1lbnQoJGNvbW1hbmQpKTsKfQoKaWYgKCEkbmFtZXNwYWNlKSB7CiRyb290WG1sLT5hcHBlbmRDaGlsZCgkbmFtZXNwYWNlc1hNTCA9ICRkb20tPmNyZWF0ZUVsZW1lbnQoJ25hbWVzcGFjZXMnKSk7Cgpmb3JlYWNoICgkZGVzY3JpcHRpb24tPmdldE5hbWVzcGFjZXMoKSBhcyAkbmFtZXNwYWNlRGVzY3JpcHRpb24pIHsKJG5hbWVzcGFjZXNYTUwtPmFwcGVuZENoaWxkKCRuYW1lc3BhY2VBcnJheVhNTCA9ICRkb20tPmNyZWF0ZUVsZW1lbnQoJ25hbWVzcGFjZScpKTsKJG5hbWVzcGFjZUFycmF5WE1MLT5zZXRBdHRyaWJ1dGUoJ2lkJywgJG5hbWVzcGFjZURlc2NyaXB0aW9uWydpZCddKTsKCmZvcmVhY2ggKCRuYW1lc3BhY2VEZXNjcmlwdGlvblsnY29tbWFuZHMnXSBhcyAkbmFtZSkgewokbmFtZXNwYWNlQXJyYXlYTUwtPmFwcGVuZENoaWxkKCRjb21tYW5kWE1MID0gJGRvbS0+Y3JlYXRlRWxlbWVudCgnY29tbWFuZCcpKTsKJGNvbW1hbmRYTUwtPmFwcGVuZENoaWxkKCRkb20tPmNyZWF0ZVRleHROb2RlKCRuYW1lKSk7Cn0KfQp9CgpyZXR1cm4gJGRvbTsKfQoKCgoKcHJvdGVjdGVkIGZ1bmN0aW9uIGRlc2NyaWJlSW5wdXRBcmd1bWVudChJbnB1dEFyZ3VtZW50ICRhcmd1bWVudCwgYXJyYXkgJG9wdGlvbnMgPSBhcnJheSgpKQp7CiR0aGlzLT53cml0ZURvY3VtZW50KCR0aGlzLT5nZXRJbnB1dEFyZ3VtZW50RG9jdW1lbnQoJGFyZ3VtZW50KSk7Cn0KCgoKCnByb3RlY3RlZCBmdW5jdGlvbiBkZXNjcmliZUlucHV0T3B0aW9uKElucHV0T3B0aW9uICRvcHRpb24sIGFycmF5ICRvcHRpb25zID0gYXJyYXkoKSkKewokdGhpcy0+d3JpdGVEb2N1bWVudCgkdGhpcy0+Z2V0SW5wdXRPcHRpb25Eb2N1bWVudCgkb3B0aW9uKSk7Cn0KCgoKCnByb3RlY3RlZCBmdW5jdGlvbiBkZXNjcmliZUlucHV0RGVmaW5pdGlvbihJbnB1dERlZmluaXRpb24gJGRlZmluaXRpb24sIGFycmF5ICRvcHRpb25zID0gYXJyYXkoKSkKewokdGhpcy0+d3JpdGVEb2N1bWVudCgkdGhpcy0+Z2V0SW5wdXREZWZpbml0aW9uRG9jdW1lbnQoJGRlZmluaXRpb24pKTsKfQoKCgoKcHJvdGVjdGVkIGZ1bmN0aW9uIGRlc2NyaWJlQ29tbWFuZChDb21tYW5kICRjb21tYW5kLCBhcnJheSAkb3B0aW9ucyA9IGFycmF5KCkpCnsKJHRoaXMtPndyaXRlRG9jdW1lbnQoJHRoaXMtPmdldENvbW1hbmREb2N1bWVudCgkY29tbWFuZCkpOwp9CgoKCgpwcm90ZWN0ZWQgZnVuY3Rpb24gZGVzY3JpYmVBcHBsaWNhdGlvbihBcHBsaWNhdGlvbiAkYXBwbGljYXRpb24sIGFycmF5ICRvcHRpb25zID0gYXJyYXkoKSkKewokdGhpcy0+d3JpdGVEb2N1bWVudCgkdGhpcy0+Z2V0QXBwbGljYXRpb25Eb2N1bWVudCgkYXBwbGljYXRpb24sIGlzc2V0KCRvcHRpb25zWyduYW1lc3BhY2UnXSkgPyAkb3B0aW9uc1snbmFtZXNwYWNlJ10gOiBudWxsKSk7Cn0KCgoKCnByaXZhdGUgZnVuY3Rpb24gYXBwZW5kRG9jdW1lbnQoXERPTU5vZGUgJHBhcmVudE5vZGUsIFxET01Ob2RlICRpbXBvcnRlZFBhcmVudCkKewpmb3JlYWNoICgkaW1wb3J0ZWRQYXJlbnQtPmNoaWxkTm9kZXMgYXMgJGNoaWxkTm9kZSkgewokcGFyZW50Tm9kZS0+YXBwZW5kQ2hpbGQoJHBhcmVudE5vZGUtPm93bmVyRG9jdW1lbnQtPmltcG9ydE5vZGUoJGNoaWxkTm9kZSwgdHJ1ZSkpOwp9Cn0KCgoKCgoKcHJpdmF0ZSBmdW5jdGlvbiB3cml0ZURvY3VtZW50KFxET01Eb2N1bWVudCAkZG9tKQp7CiRkb20tPmZvcm1hdE91dHB1dCA9IHRydWU7CiR0aGlzLT53cml0ZSgkZG9tLT5zYXZlWE1MKCkpOwp9CgoKCgpwcml2YXRlIGZ1bmN0aW9uIGdldElucHV0QXJndW1lbnREb2N1bWVudChJbnB1dEFyZ3VtZW50ICRhcmd1bWVudCkKewokZG9tID0gbmV3IFxET01Eb2N1bWVudCgnMS4wJywgJ1VURi04Jyk7CgokZG9tLT5hcHBlbmRDaGlsZCgkb2JqZWN0WE1MID0gJGRvbS0+Y3JlYXRlRWxlbWVudCgnYXJndW1lbnQnKSk7CiRvYmplY3RYTUwtPnNldEF0dHJpYnV0ZSgnbmFtZScsICRhcmd1bWVudC0+Z2V0TmFtZSgpKTsKJG9iamVjdFhNTC0+c2V0QXR0cmlidXRlKCdpc19yZXF1aXJlZCcsICRhcmd1bWVudC0+aXNSZXF1aXJlZCgpID8gMSA6IDApOwokb2JqZWN0WE1MLT5zZXRBdHRyaWJ1dGUoJ2lzX2FycmF5JywgJGFyZ3VtZW50LT5pc0FycmF5KCkgPyAxIDogMCk7CiRvYmplY3RYTUwtPmFwcGVuZENoaWxkKCRkZXNjcmlwdGlvblhNTCA9ICRkb20tPmNyZWF0ZUVsZW1lbnQoJ2Rlc2NyaXB0aW9uJykpOwokZGVzY3JpcHRpb25YTUwtPmFwcGVuZENoaWxkKCRkb20tPmNyZWF0ZVRleHROb2RlKCRhcmd1bWVudC0+Z2V0RGVzY3JpcHRpb24oKSkpOwoKJG9iamVjdFhNTC0+YXBwZW5kQ2hpbGQoJGRlZmF1bHRzWE1MID0gJGRvbS0+Y3JlYXRlRWxlbWVudCgnZGVmYXVsdHMnKSk7CiRkZWZhdWx0cyA9IFxpc19hcnJheSgkYXJndW1lbnQtPmdldERlZmF1bHQoKSkgPyAkYXJndW1lbnQtPmdldERlZmF1bHQoKSA6IChcaXNfYm9vbCgkYXJndW1lbnQtPmdldERlZmF1bHQoKSkgPyBhcnJheSh2YXJfZXhwb3J0KCRhcmd1bWVudC0+Z2V0RGVmYXVsdCgpLCB0cnVlKSkgOiAoJGFyZ3VtZW50LT5nZXREZWZhdWx0KCkgPyBhcnJheSgkYXJndW1lbnQtPmdldERlZmF1bHQoKSkgOiBhcnJheSgpKSk7CmZvcmVhY2ggKCRkZWZhdWx0cyBhcyAkZGVmYXVsdCkgewokZGVmYXVsdHNYTUwtPmFwcGVuZENoaWxkKCRkZWZhdWx0WE1MID0gJGRvbS0+Y3JlYXRlRWxlbWVudCgnZGVmYXVsdCcpKTsKJGRlZmF1bHRYTUwtPmFwcGVuZENoaWxkKCRkb20tPmNyZWF0ZVRleHROb2RlKCRkZWZhdWx0KSk7Cn0KCnJldHVybiAkZG9tOwp9CgoKCgpwcml2YXRlIGZ1bmN0aW9uIGdldElucHV0T3B0aW9uRG9jdW1lbnQoSW5wdXRPcHRpb24gJG9wdGlvbikKewokZG9tID0gbmV3IFxET01Eb2N1bWVudCgnMS4wJywgJ1VURi04Jyk7CgokZG9tLT5hcHBlbmRDaGlsZCgkb2JqZWN0WE1MID0gJGRvbS0+Y3JlYXRlRWxlbWVudCgnb3B0aW9uJykpOwokb2JqZWN0WE1MLT5zZXRBdHRyaWJ1dGUoJ25hbWUnLCAnLS0nLiRvcHRpb24tPmdldE5hbWUoKSk7CiRwb3MgPSBzdHJwb3MoJG9wdGlvbi0+Z2V0U2hvcnRjdXQoKSwgJ3wnKTsKaWYgKGZhbHNlICE9PSAkcG9zKSB7CiRvYmplY3RYTUwtPnNldEF0dHJpYnV0ZSgnc2hvcnRjdXQnLCAnLScuc3Vic3RyKCRvcHRpb24tPmdldFNob3J0Y3V0KCksIDAsICRwb3MpKTsKJG9iamVjdFhNTC0+c2V0QXR0cmlidXRlKCdzaG9ydGN1dHMnLCAnLScuc3RyX3JlcGxhY2UoJ3wnLCAnfC0nLCAkb3B0aW9uLT5nZXRTaG9ydGN1dCgpKSk7Cn0gZWxzZSB7CiRvYmplY3RYTUwtPnNldEF0dHJpYnV0ZSgnc2hvcnRjdXQnLCAkb3B0aW9uLT5nZXRTaG9ydGN1dCgpID8gJy0nLiRvcHRpb24tPmdldFNob3J0Y3V0KCkgOiAnJyk7Cn0KJG9iamVjdFhNTC0+c2V0QXR0cmlidXRlKCdhY2NlcHRfdmFsdWUnLCAkb3B0aW9uLT5hY2NlcHRWYWx1ZSgpID8gMSA6IDApOwokb2JqZWN0WE1MLT5zZXRBdHRyaWJ1dGUoJ2lzX3ZhbHVlX3JlcXVpcmVkJywgJG9wdGlvbi0+aXNWYWx1ZVJlcXVpcmVkKCkgPyAxIDogMCk7CiRvYmplY3RYTUwtPnNldEF0dHJpYnV0ZSgnaXNfbXVsdGlwbGUnLCAkb3B0aW9uLT5pc0FycmF5KCkgPyAxIDogMCk7CiRvYmplY3RYTUwtPmFwcGVuZENoaWxkKCRkZXNjcmlwdGlvblhNTCA9ICRkb20tPmNyZWF0ZUVsZW1lbnQoJ2Rlc2NyaXB0aW9uJykpOwokZGVzY3JpcHRpb25YTUwtPmFwcGVuZENoaWxkKCRkb20tPmNyZWF0ZVRleHROb2RlKCRvcHRpb24tPmdldERlc2NyaXB0aW9uKCkpKTsKCmlmICgkb3B0aW9uLT5hY2NlcHRWYWx1ZSgpKSB7CiRkZWZhdWx0cyA9IFxpc19hcnJheSgkb3B0aW9uLT5nZXREZWZhdWx0KCkpID8gJG9wdGlvbi0+Z2V0RGVmYXVsdCgpIDogKFxpc19ib29sKCRvcHRpb24tPmdldERlZmF1bHQoKSkgPyBhcnJheSh2YXJfZXhwb3J0KCRvcHRpb24tPmdldERlZmF1bHQoKSwgdHJ1ZSkpIDogKCRvcHRpb24tPmdldERlZmF1bHQoKSA/IGFycmF5KCRvcHRpb24tPmdldERlZmF1bHQoKSkgOiBhcnJheSgpKSk7CiRvYmplY3RYTUwtPmFwcGVuZENoaWxkKCRkZWZhdWx0c1hNTCA9ICRkb20tPmNyZWF0ZUVsZW1lbnQoJ2RlZmF1bHRzJykpOwoKaWYgKCFlbXB0eSgkZGVmYXVsdHMpKSB7CmZvcmVhY2ggKCRkZWZhdWx0cyBhcyAkZGVmYXVsdCkgewokZGVmYXVsdHNYTUwtPmFwcGVuZENoaWxkKCRkZWZhdWx0WE1MID0gJGRvbS0+Y3JlYXRlRWxlbWVudCgnZGVmYXVsdCcpKTsKJGRlZmF1bHRYTUwtPmFwcGVuZENoaWxkKCRkb20tPmNyZWF0ZVRleHROb2RlKCRkZWZhdWx0KSk7Cn0KfQp9CgpyZXR1cm4gJGRvbTsKfQp9Cjw/cGhwCgoKCgoKCgoKCgpuYW1lc3BhY2UgU3ltZm9ueVxDb21wb25lbnRcQ29uc29sZVxFdmVudDsKCgoKCgoKY2xhc3MgQ29uc29sZUNvbW1hbmRFdmVudCBleHRlbmRzIENvbnNvbGVFdmVudAp7CgoKCmNvbnN0IFJFVFVSTl9DT0RFX0RJU0FCTEVEID0gMTEzOwoKCgoKcHJpdmF0ZSAkY29tbWFuZFNob3VsZFJ1biA9IHRydWU7CgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBkaXNhYmxlQ29tbWFuZCgpCnsKcmV0dXJuICR0aGlzLT5jb21tYW5kU2hvdWxkUnVuID0gZmFsc2U7Cn0KCgoKCgoKcHVibGljIGZ1bmN0aW9uIGVuYWJsZUNvbW1hbmQoKQp7CnJldHVybiAkdGhpcy0+Y29tbWFuZFNob3VsZFJ1biA9IHRydWU7Cn0KCgoKCgoKcHVibGljIGZ1bmN0aW9uIGNvbW1hbmRTaG91bGRSdW4oKQp7CnJldHVybiAkdGhpcy0+Y29tbWFuZFNob3VsZFJ1bjsKfQp9Cjw/cGhwCgoKCgoKCgoKCgpuYW1lc3BhY2UgU3ltZm9ueVxDb21wb25lbnRcQ29uc29sZVxFdmVudDsKCnVzZSBTeW1mb255XENvbXBvbmVudFxDb25zb2xlXENvbW1hbmRcQ29tbWFuZDsKdXNlIFN5bWZvbnlcQ29tcG9uZW50XENvbnNvbGVcSW5wdXRcSW5wdXRJbnRlcmZhY2U7CnVzZSBTeW1mb255XENvbXBvbmVudFxDb25zb2xlXE91dHB1dFxPdXRwdXRJbnRlcmZhY2U7CnVzZSBTeW1mb255XENvbXBvbmVudFxFdmVudERpc3BhdGNoZXJcRXZlbnQ7CgoKCgoKCmNsYXNzIENvbnNvbGVFdmVudCBleHRlbmRzIEV2ZW50CnsKcHJvdGVjdGVkICRjb21tYW5kOwoKcHJpdmF0ZSAkaW5wdXQ7CnByaXZhdGUgJG91dHB1dDsKCnB1YmxpYyBmdW5jdGlvbiBfX2NvbnN0cnVjdChDb21tYW5kICRjb21tYW5kLCBJbnB1dEludGVyZmFjZSAkaW5wdXQsIE91dHB1dEludGVyZmFjZSAkb3V0cHV0KQp7CiR0aGlzLT5jb21tYW5kID0gJGNvbW1hbmQ7CiR0aGlzLT5pbnB1dCA9ICRpbnB1dDsKJHRoaXMtPm91dHB1dCA9ICRvdXRwdXQ7Cn0KCgoKCgoKcHVibGljIGZ1bmN0aW9uIGdldENvbW1hbmQoKQp7CnJldHVybiAkdGhpcy0+Y29tbWFuZDsKfQoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0SW5wdXQoKQp7CnJldHVybiAkdGhpcy0+aW5wdXQ7Cn0KCgoKCgoKcHVibGljIGZ1bmN0aW9uIGdldE91dHB1dCgpCnsKcmV0dXJuICR0aGlzLT5vdXRwdXQ7Cn0KfQo8P3BocAoKCgoKCgoKCgoKbmFtZXNwYWNlIFN5bWZvbnlcQ29tcG9uZW50XENvbnNvbGVcRXZlbnQ7Cgp1c2UgU3ltZm9ueVxDb21wb25lbnRcQ29uc29sZVxDb21tYW5kXENvbW1hbmQ7CnVzZSBTeW1mb255XENvbXBvbmVudFxDb25zb2xlXElucHV0XElucHV0SW50ZXJmYWNlOwp1c2UgU3ltZm9ueVxDb21wb25lbnRcQ29uc29sZVxPdXRwdXRcT3V0cHV0SW50ZXJmYWNlOwoKCgoKCgpjbGFzcyBDb25zb2xlRXhjZXB0aW9uRXZlbnQgZXh0ZW5kcyBDb25zb2xlRXZlbnQKewpwcml2YXRlICRleGNlcHRpb247CnByaXZhdGUgJGV4aXRDb2RlOwoKcHVibGljIGZ1bmN0aW9uIF9fY29uc3RydWN0KENvbW1hbmQgJGNvbW1hbmQsIElucHV0SW50ZXJmYWNlICRpbnB1dCwgT3V0cHV0SW50ZXJmYWNlICRvdXRwdXQsIFxFeGNlcHRpb24gJGV4Y2VwdGlvbiwgJGV4aXRDb2RlKQp7CnBhcmVudDo6X19jb25zdHJ1Y3QoJGNvbW1hbmQsICRpbnB1dCwgJG91dHB1dCk7CgokdGhpcy0+c2V0RXhjZXB0aW9uKCRleGNlcHRpb24pOwokdGhpcy0+ZXhpdENvZGUgPSAoaW50KSAkZXhpdENvZGU7Cn0KCgoKCgoKcHVibGljIGZ1bmN0aW9uIGdldEV4Y2VwdGlvbigpCnsKcmV0dXJuICR0aGlzLT5leGNlcHRpb247Cn0KCgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gc2V0RXhjZXB0aW9uKFxFeGNlcHRpb24gJGV4Y2VwdGlvbikKewokdGhpcy0+ZXhjZXB0aW9uID0gJGV4Y2VwdGlvbjsKfQoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0RXhpdENvZGUoKQp7CnJldHVybiAkdGhpcy0+ZXhpdENvZGU7Cn0KfQo8P3BocAoKCgoKCgoKCgoKbmFtZXNwYWNlIFN5bWZvbnlcQ29tcG9uZW50XENvbnNvbGVcRXZlbnQ7Cgp1c2UgU3ltZm9ueVxDb21wb25lbnRcQ29uc29sZVxDb21tYW5kXENvbW1hbmQ7CnVzZSBTeW1mb255XENvbXBvbmVudFxDb25zb2xlXElucHV0XElucHV0SW50ZXJmYWNlOwp1c2UgU3ltZm9ueVxDb21wb25lbnRcQ29uc29sZVxPdXRwdXRcT3V0cHV0SW50ZXJmYWNlOwoKCgoKCgpjbGFzcyBDb25zb2xlVGVybWluYXRlRXZlbnQgZXh0ZW5kcyBDb25zb2xlRXZlbnQKewoKCgoKCnByaXZhdGUgJGV4aXRDb2RlOwoKcHVibGljIGZ1bmN0aW9uIF9fY29uc3RydWN0KENvbW1hbmQgJGNvbW1hbmQsIElucHV0SW50ZXJmYWNlICRpbnB1dCwgT3V0cHV0SW50ZXJmYWNlICRvdXRwdXQsICRleGl0Q29kZSkKewpwYXJlbnQ6Ol9fY29uc3RydWN0KCRjb21tYW5kLCAkaW5wdXQsICRvdXRwdXQpOwoKJHRoaXMtPnNldEV4aXRDb2RlKCRleGl0Q29kZSk7Cn0KCgoKCgoKcHVibGljIGZ1bmN0aW9uIHNldEV4aXRDb2RlKCRleGl0Q29kZSkKewokdGhpcy0+ZXhpdENvZGUgPSAoaW50KSAkZXhpdENvZGU7Cn0KCgoKCgoKcHVibGljIGZ1bmN0aW9uIGdldEV4aXRDb2RlKCkKewpyZXR1cm4gJHRoaXMtPmV4aXRDb2RlOwp9Cn0KPD9waHAKCgoKCgoKCgoKCm5hbWVzcGFjZSBTeW1mb255XENvbXBvbmVudFxDb25zb2xlXEV4Y2VwdGlvbjsKCgoKCgoKY2xhc3MgQ29tbWFuZE5vdEZvdW5kRXhjZXB0aW9uIGV4dGVuZHMgXEludmFsaWRBcmd1bWVudEV4Y2VwdGlvbiBpbXBsZW1lbnRzIEV4Y2VwdGlvbkludGVyZmFjZQp7CnByaXZhdGUgJGFsdGVybmF0aXZlczsKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBfX2NvbnN0cnVjdCgkbWVzc2FnZSwgYXJyYXkgJGFsdGVybmF0aXZlcyA9IGFycmF5KCksICRjb2RlID0gMCwgXEV4Y2VwdGlvbiAkcHJldmlvdXMgPSBudWxsKQp7CnBhcmVudDo6X19jb25zdHJ1Y3QoJG1lc3NhZ2UsICRjb2RlLCAkcHJldmlvdXMpOwoKJHRoaXMtPmFsdGVybmF0aXZlcyA9ICRhbHRlcm5hdGl2ZXM7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBnZXRBbHRlcm5hdGl2ZXMoKQp7CnJldHVybiAkdGhpcy0+YWx0ZXJuYXRpdmVzOwp9Cn0KPD9waHAKCgoKCgoKCgoKCm5hbWVzcGFjZSBTeW1mb255XENvbXBvbmVudFxDb25zb2xlXEV4Y2VwdGlvbjsKCgoKCgoKaW50ZXJmYWNlIEV4Y2VwdGlvbkludGVyZmFjZQp7Cn0KPD9waHAKCgoKCgoKCgoKCm5hbWVzcGFjZSBTeW1mb255XENvbXBvbmVudFxDb25zb2xlXEV4Y2VwdGlvbjsKCgoKCmNsYXNzIEludmFsaWRBcmd1bWVudEV4Y2VwdGlvbiBleHRlbmRzIFxJbnZhbGlkQXJndW1lbnRFeGNlcHRpb24gaW1wbGVtZW50cyBFeGNlcHRpb25JbnRlcmZhY2UKewp9Cjw/cGhwCgoKCgoKCgoKCgpuYW1lc3BhY2UgU3ltZm9ueVxDb21wb25lbnRcQ29uc29sZVxFeGNlcHRpb247CgoKCgoKCmNsYXNzIEludmFsaWRPcHRpb25FeGNlcHRpb24gZXh0ZW5kcyBcSW52YWxpZEFyZ3VtZW50RXhjZXB0aW9uIGltcGxlbWVudHMgRXhjZXB0aW9uSW50ZXJmYWNlCnsKfQo8P3BocAoKCgoKCgoKCgoKbmFtZXNwYWNlIFN5bWZvbnlcQ29tcG9uZW50XENvbnNvbGVcRXhjZXB0aW9uOwoKCgoKY2xhc3MgTG9naWNFeGNlcHRpb24gZXh0ZW5kcyBcTG9naWNFeGNlcHRpb24gaW1wbGVtZW50cyBFeGNlcHRpb25JbnRlcmZhY2UKewp9Cjw/cGhwCgoKCgoKCgoKCgpuYW1lc3BhY2UgU3ltZm9ueVxDb21wb25lbnRcQ29uc29sZVxFeGNlcHRpb247CgoKCgpjbGFzcyBSdW50aW1lRXhjZXB0aW9uIGV4dGVuZHMgXFJ1bnRpbWVFeGNlcHRpb24gaW1wbGVtZW50cyBFeGNlcHRpb25JbnRlcmZhY2UKewp9Cjw/cGhwCgoKCgoKCgoKCgpuYW1lc3BhY2UgU3ltZm9ueVxDb21wb25lbnRcQ29uc29sZVxGb3JtYXR0ZXI7Cgp1c2UgU3ltZm9ueVxDb21wb25lbnRcQ29uc29sZVxFeGNlcHRpb25cSW52YWxpZEFyZ3VtZW50RXhjZXB0aW9uOwoKCgoKCgpjbGFzcyBPdXRwdXRGb3JtYXR0ZXIgaW1wbGVtZW50cyBPdXRwdXRGb3JtYXR0ZXJJbnRlcmZhY2UKewpwcml2YXRlICRkZWNvcmF0ZWQ7CnByaXZhdGUgJHN0eWxlcyA9IGFycmF5KCk7CnByaXZhdGUgJHN0eWxlU3RhY2s7CgoKCgoKCgoKcHVibGljIHN0YXRpYyBmdW5jdGlvbiBlc2NhcGUoJHRleHQpCnsKJHRleHQgPSBwcmVnX3JlcGxhY2UoJy8oW15cXFxcXT8pPC8nLCAnJDFcXDwnLCAkdGV4dCk7CgpyZXR1cm4gc2VsZjo6ZXNjYXBlVHJhaWxpbmdCYWNrc2xhc2goJHRleHQpOwp9CgoKCgoKCgoKCgpwdWJsaWMgc3RhdGljIGZ1bmN0aW9uIGVzY2FwZVRyYWlsaW5nQmFja3NsYXNoKCR0ZXh0KQp7CmlmICgnXFwnID09PSBzdWJzdHIoJHRleHQsIC0xKSkgewokbGVuID0gXHN0cmxlbigkdGV4dCk7CiR0ZXh0ID0gcnRyaW0oJHRleHQsICdcXCcpOwokdGV4dCA9IHN0cl9yZXBsYWNlKCJcMCIsICcnLCAkdGV4dCk7CiR0ZXh0IC49IHN0cl9yZXBlYXQoIlwwIiwgJGxlbiAtIFxzdHJsZW4oJHRleHQpKTsKfQoKcmV0dXJuICR0ZXh0Owp9CgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gX19jb25zdHJ1Y3QoJGRlY29yYXRlZCA9IGZhbHNlLCBhcnJheSAkc3R5bGVzID0gYXJyYXkoKSkKewokdGhpcy0+ZGVjb3JhdGVkID0gKGJvb2wpICRkZWNvcmF0ZWQ7CgokdGhpcy0+c2V0U3R5bGUoJ2Vycm9yJywgbmV3IE91dHB1dEZvcm1hdHRlclN0eWxlKCd3aGl0ZScsICdyZWQnKSk7CiR0aGlzLT5zZXRTdHlsZSgnaW5mbycsIG5ldyBPdXRwdXRGb3JtYXR0ZXJTdHlsZSgnZ3JlZW4nKSk7CiR0aGlzLT5zZXRTdHlsZSgnY29tbWVudCcsIG5ldyBPdXRwdXRGb3JtYXR0ZXJTdHlsZSgneWVsbG93JykpOwokdGhpcy0+c2V0U3R5bGUoJ3F1ZXN0aW9uJywgbmV3IE91dHB1dEZvcm1hdHRlclN0eWxlKCdibGFjaycsICdjeWFuJykpOwoKZm9yZWFjaCAoJHN0eWxlcyBhcyAkbmFtZSA9PiAkc3R5bGUpIHsKJHRoaXMtPnNldFN0eWxlKCRuYW1lLCAkc3R5bGUpOwp9CgokdGhpcy0+c3R5bGVTdGFjayA9IG5ldyBPdXRwdXRGb3JtYXR0ZXJTdHlsZVN0YWNrKCk7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBzZXREZWNvcmF0ZWQoJGRlY29yYXRlZCkKewokdGhpcy0+ZGVjb3JhdGVkID0gKGJvb2wpICRkZWNvcmF0ZWQ7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBpc0RlY29yYXRlZCgpCnsKcmV0dXJuICR0aGlzLT5kZWNvcmF0ZWQ7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBzZXRTdHlsZSgkbmFtZSwgT3V0cHV0Rm9ybWF0dGVyU3R5bGVJbnRlcmZhY2UgJHN0eWxlKQp7CiR0aGlzLT5zdHlsZXNbc3RydG9sb3dlcigkbmFtZSldID0gJHN0eWxlOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gaGFzU3R5bGUoJG5hbWUpCnsKcmV0dXJuIGlzc2V0KCR0aGlzLT5zdHlsZXNbc3RydG9sb3dlcigkbmFtZSldKTsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIGdldFN0eWxlKCRuYW1lKQp7CmlmICghJHRoaXMtPmhhc1N0eWxlKCRuYW1lKSkgewp0aHJvdyBuZXcgSW52YWxpZEFyZ3VtZW50RXhjZXB0aW9uKHNwcmludGYoJ1VuZGVmaW5lZCBzdHlsZTogJXMnLCAkbmFtZSkpOwp9CgpyZXR1cm4gJHRoaXMtPnN0eWxlc1tzdHJ0b2xvd2VyKCRuYW1lKV07Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBmb3JtYXQoJG1lc3NhZ2UpCnsKJG1lc3NhZ2UgPSAoc3RyaW5nKSAkbWVzc2FnZTsKJG9mZnNldCA9IDA7CiRvdXRwdXQgPSAnJzsKJHRhZ1JlZ2V4ID0gJ1thLXpdW2EtejAtOV89Oy1dKisnOwpwcmVnX21hdGNoX2FsbCgiIzwoKCR0YWdSZWdleCkgfCAvKCR0YWdSZWdleCk/KT4jaXgiLCAkbWVzc2FnZSwgJG1hdGNoZXMsIFBSRUdfT0ZGU0VUX0NBUFRVUkUpOwpmb3JlYWNoICgkbWF0Y2hlc1swXSBhcyAkaSA9PiAkbWF0Y2gpIHsKJHBvcyA9ICRtYXRjaFsxXTsKJHRleHQgPSAkbWF0Y2hbMF07CgppZiAoMCAhPSAkcG9zICYmICdcXCcgPT0gJG1lc3NhZ2VbJHBvcyAtIDFdKSB7CmNvbnRpbnVlOwp9CgoKJG91dHB1dCAuPSAkdGhpcy0+YXBwbHlDdXJyZW50U3R5bGUoc3Vic3RyKCRtZXNzYWdlLCAkb2Zmc2V0LCAkcG9zIC0gJG9mZnNldCkpOwokb2Zmc2V0ID0gJHBvcyArIFxzdHJsZW4oJHRleHQpOwoKCmlmICgkb3BlbiA9ICcvJyAhPSAkdGV4dFsxXSkgewokdGFnID0gJG1hdGNoZXNbMV1bJGldWzBdOwp9IGVsc2UgewokdGFnID0gaXNzZXQoJG1hdGNoZXNbM11bJGldWzBdKSA/ICRtYXRjaGVzWzNdWyRpXVswXSA6ICcnOwp9CgppZiAoISRvcGVuICYmICEkdGFnKSB7CgokdGhpcy0+c3R5bGVTdGFjay0+cG9wKCk7Cn0gZWxzZWlmIChmYWxzZSA9PT0gJHN0eWxlID0gJHRoaXMtPmNyZWF0ZVN0eWxlRnJvbVN0cmluZyhzdHJ0b2xvd2VyKCR0YWcpKSkgewokb3V0cHV0IC49ICR0aGlzLT5hcHBseUN1cnJlbnRTdHlsZSgkdGV4dCk7Cn0gZWxzZWlmICgkb3BlbikgewokdGhpcy0+c3R5bGVTdGFjay0+cHVzaCgkc3R5bGUpOwp9IGVsc2UgewokdGhpcy0+c3R5bGVTdGFjay0+cG9wKCRzdHlsZSk7Cn0KfQoKJG91dHB1dCAuPSAkdGhpcy0+YXBwbHlDdXJyZW50U3R5bGUoc3Vic3RyKCRtZXNzYWdlLCAkb2Zmc2V0KSk7CgppZiAoZmFsc2UgIT09IHN0cnBvcygkb3V0cHV0LCAiXDAiKSkgewpyZXR1cm4gc3RydHIoJG91dHB1dCwgYXJyYXkoIlwwIiA9PiAnXFwnLCAnXFw8JyA9PiAnPCcpKTsKfQoKcmV0dXJuIHN0cl9yZXBsYWNlKCdcXDwnLCAnPCcsICRvdXRwdXQpOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0U3R5bGVTdGFjaygpCnsKcmV0dXJuICR0aGlzLT5zdHlsZVN0YWNrOwp9CgoKCgoKCgoKcHJpdmF0ZSBmdW5jdGlvbiBjcmVhdGVTdHlsZUZyb21TdHJpbmcoJHN0cmluZykKewppZiAoaXNzZXQoJHRoaXMtPnN0eWxlc1skc3RyaW5nXSkpIHsKcmV0dXJuICR0aGlzLT5zdHlsZXNbJHN0cmluZ107Cn0KCmlmICghcHJlZ19tYXRjaF9hbGwoJy8oW149XSspPShbXjtdKykoO3wkKS8nLCBzdHJ0b2xvd2VyKCRzdHJpbmcpLCAkbWF0Y2hlcywgUFJFR19TRVRfT1JERVIpKSB7CnJldHVybiBmYWxzZTsKfQoKJHN0eWxlID0gbmV3IE91dHB1dEZvcm1hdHRlclN0eWxlKCk7CmZvcmVhY2ggKCRtYXRjaGVzIGFzICRtYXRjaCkgewphcnJheV9zaGlmdCgkbWF0Y2gpOwoKaWYgKCdmZycgPT0gJG1hdGNoWzBdKSB7CiRzdHlsZS0+c2V0Rm9yZWdyb3VuZCgkbWF0Y2hbMV0pOwp9IGVsc2VpZiAoJ2JnJyA9PSAkbWF0Y2hbMF0pIHsKJHN0eWxlLT5zZXRCYWNrZ3JvdW5kKCRtYXRjaFsxXSk7Cn0gZWxzZSB7CnRyeSB7CiRzdHlsZS0+c2V0T3B0aW9uKCRtYXRjaFsxXSk7Cn0gY2F0Y2ggKFxJbnZhbGlkQXJndW1lbnRFeGNlcHRpb24gJGUpIHsKcmV0dXJuIGZhbHNlOwp9Cn0KfQoKcmV0dXJuICRzdHlsZTsKfQoKCgoKCgoKCnByaXZhdGUgZnVuY3Rpb24gYXBwbHlDdXJyZW50U3R5bGUoJHRleHQpCnsKcmV0dXJuICR0aGlzLT5pc0RlY29yYXRlZCgpICYmIFxzdHJsZW4oJHRleHQpID4gMCA/ICR0aGlzLT5zdHlsZVN0YWNrLT5nZXRDdXJyZW50KCktPmFwcGx5KCR0ZXh0KSA6ICR0ZXh0Owp9Cn0KPD9waHAKCgoKCgoKCgoKCm5hbWVzcGFjZSBTeW1mb255XENvbXBvbmVudFxDb25zb2xlXEZvcm1hdHRlcjsKCgoKCgoKaW50ZXJmYWNlIE91dHB1dEZvcm1hdHRlckludGVyZmFjZQp7CgoKCgoKcHVibGljIGZ1bmN0aW9uIHNldERlY29yYXRlZCgkZGVjb3JhdGVkKTsKCgoKCgoKcHVibGljIGZ1bmN0aW9uIGlzRGVjb3JhdGVkKCk7CgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gc2V0U3R5bGUoJG5hbWUsIE91dHB1dEZvcm1hdHRlclN0eWxlSW50ZXJmYWNlICRzdHlsZSk7CgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIGhhc1N0eWxlKCRuYW1lKTsKCgoKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBnZXRTdHlsZSgkbmFtZSk7CgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIGZvcm1hdCgkbWVzc2FnZSk7Cn0KPD9waHAKCgoKCgoKCgoKCm5hbWVzcGFjZSBTeW1mb255XENvbXBvbmVudFxDb25zb2xlXEZvcm1hdHRlcjsKCnVzZSBTeW1mb255XENvbXBvbmVudFxDb25zb2xlXEV4Y2VwdGlvblxJbnZhbGlkQXJndW1lbnRFeGNlcHRpb247CgoKCgoKCmNsYXNzIE91dHB1dEZvcm1hdHRlclN0eWxlIGltcGxlbWVudHMgT3V0cHV0Rm9ybWF0dGVyU3R5bGVJbnRlcmZhY2UKewpwcml2YXRlIHN0YXRpYyAkYXZhaWxhYmxlRm9yZWdyb3VuZENvbG9ycyA9IGFycmF5KAonYmxhY2snID0+IGFycmF5KCdzZXQnID0+IDMwLCAndW5zZXQnID0+IDM5KSwKJ3JlZCcgPT4gYXJyYXkoJ3NldCcgPT4gMzEsICd1bnNldCcgPT4gMzkpLAonZ3JlZW4nID0+IGFycmF5KCdzZXQnID0+IDMyLCAndW5zZXQnID0+IDM5KSwKJ3llbGxvdycgPT4gYXJyYXkoJ3NldCcgPT4gMzMsICd1bnNldCcgPT4gMzkpLAonYmx1ZScgPT4gYXJyYXkoJ3NldCcgPT4gMzQsICd1bnNldCcgPT4gMzkpLAonbWFnZW50YScgPT4gYXJyYXkoJ3NldCcgPT4gMzUsICd1bnNldCcgPT4gMzkpLAonY3lhbicgPT4gYXJyYXkoJ3NldCcgPT4gMzYsICd1bnNldCcgPT4gMzkpLAond2hpdGUnID0+IGFycmF5KCdzZXQnID0+IDM3LCAndW5zZXQnID0+IDM5KSwKJ2RlZmF1bHQnID0+IGFycmF5KCdzZXQnID0+IDM5LCAndW5zZXQnID0+IDM5KSwKKTsKcHJpdmF0ZSBzdGF0aWMgJGF2YWlsYWJsZUJhY2tncm91bmRDb2xvcnMgPSBhcnJheSgKJ2JsYWNrJyA9PiBhcnJheSgnc2V0JyA9PiA0MCwgJ3Vuc2V0JyA9PiA0OSksCidyZWQnID0+IGFycmF5KCdzZXQnID0+IDQxLCAndW5zZXQnID0+IDQ5KSwKJ2dyZWVuJyA9PiBhcnJheSgnc2V0JyA9PiA0MiwgJ3Vuc2V0JyA9PiA0OSksCid5ZWxsb3cnID0+IGFycmF5KCdzZXQnID0+IDQzLCAndW5zZXQnID0+IDQ5KSwKJ2JsdWUnID0+IGFycmF5KCdzZXQnID0+IDQ0LCAndW5zZXQnID0+IDQ5KSwKJ21hZ2VudGEnID0+IGFycmF5KCdzZXQnID0+IDQ1LCAndW5zZXQnID0+IDQ5KSwKJ2N5YW4nID0+IGFycmF5KCdzZXQnID0+IDQ2LCAndW5zZXQnID0+IDQ5KSwKJ3doaXRlJyA9PiBhcnJheSgnc2V0JyA9PiA0NywgJ3Vuc2V0JyA9PiA0OSksCidkZWZhdWx0JyA9PiBhcnJheSgnc2V0JyA9PiA0OSwgJ3Vuc2V0JyA9PiA0OSksCik7CnByaXZhdGUgc3RhdGljICRhdmFpbGFibGVPcHRpb25zID0gYXJyYXkoCidib2xkJyA9PiBhcnJheSgnc2V0JyA9PiAxLCAndW5zZXQnID0+IDIyKSwKJ3VuZGVyc2NvcmUnID0+IGFycmF5KCdzZXQnID0+IDQsICd1bnNldCcgPT4gMjQpLAonYmxpbmsnID0+IGFycmF5KCdzZXQnID0+IDUsICd1bnNldCcgPT4gMjUpLAoncmV2ZXJzZScgPT4gYXJyYXkoJ3NldCcgPT4gNywgJ3Vuc2V0JyA9PiAyNyksCidjb25jZWFsJyA9PiBhcnJheSgnc2V0JyA9PiA4LCAndW5zZXQnID0+IDI4KSwKKTsKCnByaXZhdGUgJGZvcmVncm91bmQ7CnByaXZhdGUgJGJhY2tncm91bmQ7CnByaXZhdGUgJG9wdGlvbnMgPSBhcnJheSgpOwoKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBfX2NvbnN0cnVjdCgkZm9yZWdyb3VuZCA9IG51bGwsICRiYWNrZ3JvdW5kID0gbnVsbCwgYXJyYXkgJG9wdGlvbnMgPSBhcnJheSgpKQp7CmlmIChudWxsICE9PSAkZm9yZWdyb3VuZCkgewokdGhpcy0+c2V0Rm9yZWdyb3VuZCgkZm9yZWdyb3VuZCk7Cn0KaWYgKG51bGwgIT09ICRiYWNrZ3JvdW5kKSB7CiR0aGlzLT5zZXRCYWNrZ3JvdW5kKCRiYWNrZ3JvdW5kKTsKfQppZiAoXGNvdW50KCRvcHRpb25zKSkgewokdGhpcy0+c2V0T3B0aW9ucygkb3B0aW9ucyk7Cn0KfQoKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBzZXRGb3JlZ3JvdW5kKCRjb2xvciA9IG51bGwpCnsKaWYgKG51bGwgPT09ICRjb2xvcikgewokdGhpcy0+Zm9yZWdyb3VuZCA9IG51bGw7CgpyZXR1cm47Cn0KCmlmICghaXNzZXQoc3RhdGljOjokYXZhaWxhYmxlRm9yZWdyb3VuZENvbG9yc1skY29sb3JdKSkgewp0aHJvdyBuZXcgSW52YWxpZEFyZ3VtZW50RXhjZXB0aW9uKHNwcmludGYoJ0ludmFsaWQgZm9yZWdyb3VuZCBjb2xvciBzcGVjaWZpZWQ6ICIlcyIuIEV4cGVjdGVkIG9uZSBvZiAoJXMpJywgJGNvbG9yLCBpbXBsb2RlKCcsICcsIGFycmF5X2tleXMoc3RhdGljOjokYXZhaWxhYmxlRm9yZWdyb3VuZENvbG9ycykpKSk7Cn0KCiR0aGlzLT5mb3JlZ3JvdW5kID0gc3RhdGljOjokYXZhaWxhYmxlRm9yZWdyb3VuZENvbG9yc1skY29sb3JdOwp9CgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIHNldEJhY2tncm91bmQoJGNvbG9yID0gbnVsbCkKewppZiAobnVsbCA9PT0gJGNvbG9yKSB7CiR0aGlzLT5iYWNrZ3JvdW5kID0gbnVsbDsKCnJldHVybjsKfQoKaWYgKCFpc3NldChzdGF0aWM6OiRhdmFpbGFibGVCYWNrZ3JvdW5kQ29sb3JzWyRjb2xvcl0pKSB7CnRocm93IG5ldyBJbnZhbGlkQXJndW1lbnRFeGNlcHRpb24oc3ByaW50ZignSW52YWxpZCBiYWNrZ3JvdW5kIGNvbG9yIHNwZWNpZmllZDogIiVzIi4gRXhwZWN0ZWQgb25lIG9mICglcyknLCAkY29sb3IsIGltcGxvZGUoJywgJywgYXJyYXlfa2V5cyhzdGF0aWM6OiRhdmFpbGFibGVCYWNrZ3JvdW5kQ29sb3JzKSkpKTsKfQoKJHRoaXMtPmJhY2tncm91bmQgPSBzdGF0aWM6OiRhdmFpbGFibGVCYWNrZ3JvdW5kQ29sb3JzWyRjb2xvcl07Cn0KCgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gc2V0T3B0aW9uKCRvcHRpb24pCnsKaWYgKCFpc3NldChzdGF0aWM6OiRhdmFpbGFibGVPcHRpb25zWyRvcHRpb25dKSkgewp0aHJvdyBuZXcgSW52YWxpZEFyZ3VtZW50RXhjZXB0aW9uKHNwcmludGYoJ0ludmFsaWQgb3B0aW9uIHNwZWNpZmllZDogIiVzIi4gRXhwZWN0ZWQgb25lIG9mICglcyknLCAkb3B0aW9uLCBpbXBsb2RlKCcsICcsIGFycmF5X2tleXMoc3RhdGljOjokYXZhaWxhYmxlT3B0aW9ucykpKSk7Cn0KCmlmICghXGluX2FycmF5KHN0YXRpYzo6JGF2YWlsYWJsZU9wdGlvbnNbJG9wdGlvbl0sICR0aGlzLT5vcHRpb25zKSkgewokdGhpcy0+b3B0aW9uc1tdID0gc3RhdGljOjokYXZhaWxhYmxlT3B0aW9uc1skb3B0aW9uXTsKfQp9CgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIHVuc2V0T3B0aW9uKCRvcHRpb24pCnsKaWYgKCFpc3NldChzdGF0aWM6OiRhdmFpbGFibGVPcHRpb25zWyRvcHRpb25dKSkgewp0aHJvdyBuZXcgSW52YWxpZEFyZ3VtZW50RXhjZXB0aW9uKHNwcmludGYoJ0ludmFsaWQgb3B0aW9uIHNwZWNpZmllZDogIiVzIi4gRXhwZWN0ZWQgb25lIG9mICglcyknLCAkb3B0aW9uLCBpbXBsb2RlKCcsICcsIGFycmF5X2tleXMoc3RhdGljOjokYXZhaWxhYmxlT3B0aW9ucykpKSk7Cn0KCiRwb3MgPSBhcnJheV9zZWFyY2goc3RhdGljOjokYXZhaWxhYmxlT3B0aW9uc1skb3B0aW9uXSwgJHRoaXMtPm9wdGlvbnMpOwppZiAoZmFsc2UgIT09ICRwb3MpIHsKdW5zZXQoJHRoaXMtPm9wdGlvbnNbJHBvc10pOwp9Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBzZXRPcHRpb25zKGFycmF5ICRvcHRpb25zKQp7CiR0aGlzLT5vcHRpb25zID0gYXJyYXkoKTsKCmZvcmVhY2ggKCRvcHRpb25zIGFzICRvcHRpb24pIHsKJHRoaXMtPnNldE9wdGlvbigkb3B0aW9uKTsKfQp9CgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIGFwcGx5KCR0ZXh0KQp7CiRzZXRDb2RlcyA9IGFycmF5KCk7CiR1bnNldENvZGVzID0gYXJyYXkoKTsKCmlmIChudWxsICE9PSAkdGhpcy0+Zm9yZWdyb3VuZCkgewokc2V0Q29kZXNbXSA9ICR0aGlzLT5mb3JlZ3JvdW5kWydzZXQnXTsKJHVuc2V0Q29kZXNbXSA9ICR0aGlzLT5mb3JlZ3JvdW5kWyd1bnNldCddOwp9CmlmIChudWxsICE9PSAkdGhpcy0+YmFja2dyb3VuZCkgewokc2V0Q29kZXNbXSA9ICR0aGlzLT5iYWNrZ3JvdW5kWydzZXQnXTsKJHVuc2V0Q29kZXNbXSA9ICR0aGlzLT5iYWNrZ3JvdW5kWyd1bnNldCddOwp9CmlmIChcY291bnQoJHRoaXMtPm9wdGlvbnMpKSB7CmZvcmVhY2ggKCR0aGlzLT5vcHRpb25zIGFzICRvcHRpb24pIHsKJHNldENvZGVzW10gPSAkb3B0aW9uWydzZXQnXTsKJHVuc2V0Q29kZXNbXSA9ICRvcHRpb25bJ3Vuc2V0J107Cn0KfQoKaWYgKDAgPT09IFxjb3VudCgkc2V0Q29kZXMpKSB7CnJldHVybiAkdGV4dDsKfQoKcmV0dXJuIHNwcmludGYoIlwwMzNbJXNtJXNcMDMzWyVzbSIsIGltcGxvZGUoJzsnLCAkc2V0Q29kZXMpLCAkdGV4dCwgaW1wbG9kZSgnOycsICR1bnNldENvZGVzKSk7Cn0KfQo8P3BocAoKCgoKCgoKCgoKbmFtZXNwYWNlIFN5bWZvbnlcQ29tcG9uZW50XENvbnNvbGVcRm9ybWF0dGVyOwoKCgoKCgppbnRlcmZhY2UgT3V0cHV0Rm9ybWF0dGVyU3R5bGVJbnRlcmZhY2UKewoKCgoKCnB1YmxpYyBmdW5jdGlvbiBzZXRGb3JlZ3JvdW5kKCRjb2xvciA9IG51bGwpOwoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gc2V0QmFja2dyb3VuZCgkY29sb3IgPSBudWxsKTsKCgoKCgoKcHVibGljIGZ1bmN0aW9uIHNldE9wdGlvbigkb3B0aW9uKTsKCgoKCgoKcHVibGljIGZ1bmN0aW9uIHVuc2V0T3B0aW9uKCRvcHRpb24pOwoKCgoKcHVibGljIGZ1bmN0aW9uIHNldE9wdGlvbnMoYXJyYXkgJG9wdGlvbnMpOwoKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBhcHBseSgkdGV4dCk7Cn0KPD9waHAKCgoKCgoKCgoKCm5hbWVzcGFjZSBTeW1mb255XENvbXBvbmVudFxDb25zb2xlXEZvcm1hdHRlcjsKCnVzZSBTeW1mb255XENvbXBvbmVudFxDb25zb2xlXEV4Y2VwdGlvblxJbnZhbGlkQXJndW1lbnRFeGNlcHRpb247CgoKCgpjbGFzcyBPdXRwdXRGb3JtYXR0ZXJTdHlsZVN0YWNrCnsKCgoKcHJpdmF0ZSAkc3R5bGVzOwoKcHJpdmF0ZSAkZW1wdHlTdHlsZTsKCnB1YmxpYyBmdW5jdGlvbiBfX2NvbnN0cnVjdChPdXRwdXRGb3JtYXR0ZXJTdHlsZUludGVyZmFjZSAkZW1wdHlTdHlsZSA9IG51bGwpCnsKJHRoaXMtPmVtcHR5U3R5bGUgPSAkZW1wdHlTdHlsZSA/OiBuZXcgT3V0cHV0Rm9ybWF0dGVyU3R5bGUoKTsKJHRoaXMtPnJlc2V0KCk7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiByZXNldCgpCnsKJHRoaXMtPnN0eWxlcyA9IGFycmF5KCk7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBwdXNoKE91dHB1dEZvcm1hdHRlclN0eWxlSW50ZXJmYWNlICRzdHlsZSkKewokdGhpcy0+c3R5bGVzW10gPSAkc3R5bGU7Cn0KCgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gcG9wKE91dHB1dEZvcm1hdHRlclN0eWxlSW50ZXJmYWNlICRzdHlsZSA9IG51bGwpCnsKaWYgKGVtcHR5KCR0aGlzLT5zdHlsZXMpKSB7CnJldHVybiAkdGhpcy0+ZW1wdHlTdHlsZTsKfQoKaWYgKG51bGwgPT09ICRzdHlsZSkgewpyZXR1cm4gYXJyYXlfcG9wKCR0aGlzLT5zdHlsZXMpOwp9Cgpmb3JlYWNoIChhcnJheV9yZXZlcnNlKCR0aGlzLT5zdHlsZXMsIHRydWUpIGFzICRpbmRleCA9PiAkc3RhY2tlZFN0eWxlKSB7CmlmICgkc3R5bGUtPmFwcGx5KCcnKSA9PT0gJHN0YWNrZWRTdHlsZS0+YXBwbHkoJycpKSB7CiR0aGlzLT5zdHlsZXMgPSBcYXJyYXlfc2xpY2UoJHRoaXMtPnN0eWxlcywgMCwgJGluZGV4KTsKCnJldHVybiAkc3RhY2tlZFN0eWxlOwp9Cn0KCnRocm93IG5ldyBJbnZhbGlkQXJndW1lbnRFeGNlcHRpb24oJ0luY29ycmVjdGx5IG5lc3RlZCBzdHlsZSB0YWcgZm91bmQuJyk7Cn0KCgoKCgoKcHVibGljIGZ1bmN0aW9uIGdldEN1cnJlbnQoKQp7CmlmIChlbXB0eSgkdGhpcy0+c3R5bGVzKSkgewpyZXR1cm4gJHRoaXMtPmVtcHR5U3R5bGU7Cn0KCnJldHVybiAkdGhpcy0+c3R5bGVzW1xjb3VudCgkdGhpcy0+c3R5bGVzKSAtIDFdOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gc2V0RW1wdHlTdHlsZShPdXRwdXRGb3JtYXR0ZXJTdHlsZUludGVyZmFjZSAkZW1wdHlTdHlsZSkKewokdGhpcy0+ZW1wdHlTdHlsZSA9ICRlbXB0eVN0eWxlOwoKcmV0dXJuICR0aGlzOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0RW1wdHlTdHlsZSgpCnsKcmV0dXJuICR0aGlzLT5lbXB0eVN0eWxlOwp9Cn0KPD9waHAKCgoKCgoKCgoKCm5hbWVzcGFjZSBTeW1mb255XENvbXBvbmVudFxDb25zb2xlXEhlbHBlcjsKCgoKCgoKCgpjbGFzcyBEZWJ1Z0Zvcm1hdHRlckhlbHBlciBleHRlbmRzIEhlbHBlcgp7CnByaXZhdGUgJGNvbG9ycyA9IGFycmF5KCdibGFjaycsICdyZWQnLCAnZ3JlZW4nLCAneWVsbG93JywgJ2JsdWUnLCAnbWFnZW50YScsICdjeWFuJywgJ3doaXRlJywgJ2RlZmF1bHQnKTsKcHJpdmF0ZSAkc3RhcnRlZCA9IGFycmF5KCk7CnByaXZhdGUgJGNvdW50ID0gLTE7CgoKCgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gc3RhcnQoJGlkLCAkbWVzc2FnZSwgJHByZWZpeCA9ICdSVU4nKQp7CiR0aGlzLT5zdGFydGVkWyRpZF0gPSBhcnJheSgnYm9yZGVyJyA9PiArKyR0aGlzLT5jb3VudCAlIFxjb3VudCgkdGhpcy0+Y29sb3JzKSk7CgpyZXR1cm4gc3ByaW50ZigiJXM8Ymc9Ymx1ZTtmZz13aGl0ZT4gJXMgPC8+IDxmZz1ibHVlPiVzPC8+XG4iLCAkdGhpcy0+Z2V0Qm9yZGVyKCRpZCksICRwcmVmaXgsICRtZXNzYWdlKTsKfQoKCgoKCgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gcHJvZ3Jlc3MoJGlkLCAkYnVmZmVyLCAkZXJyb3IgPSBmYWxzZSwgJHByZWZpeCA9ICdPVVQnLCAkZXJyb3JQcmVmaXggPSAnRVJSJykKewokbWVzc2FnZSA9ICcnOwoKaWYgKCRlcnJvcikgewppZiAoaXNzZXQoJHRoaXMtPnN0YXJ0ZWRbJGlkXVsnb3V0J10pKSB7CiRtZXNzYWdlIC49ICJcbiI7CnVuc2V0KCR0aGlzLT5zdGFydGVkWyRpZF1bJ291dCddKTsKfQppZiAoIWlzc2V0KCR0aGlzLT5zdGFydGVkWyRpZF1bJ2VyciddKSkgewokbWVzc2FnZSAuPSBzcHJpbnRmKCclczxiZz1yZWQ7Zmc9d2hpdGU+ICVzIDwvPiAnLCAkdGhpcy0+Z2V0Qm9yZGVyKCRpZCksICRlcnJvclByZWZpeCk7CiR0aGlzLT5zdGFydGVkWyRpZF1bJ2VyciddID0gdHJ1ZTsKfQoKJG1lc3NhZ2UgLj0gc3RyX3JlcGxhY2UoIlxuIiwgc3ByaW50ZigiXG4lczxiZz1yZWQ7Zmc9d2hpdGU+ICVzIDwvPiAiLCAkdGhpcy0+Z2V0Qm9yZGVyKCRpZCksICRlcnJvclByZWZpeCksICRidWZmZXIpOwp9IGVsc2UgewppZiAoaXNzZXQoJHRoaXMtPnN0YXJ0ZWRbJGlkXVsnZXJyJ10pKSB7CiRtZXNzYWdlIC49ICJcbiI7CnVuc2V0KCR0aGlzLT5zdGFydGVkWyRpZF1bJ2VyciddKTsKfQppZiAoIWlzc2V0KCR0aGlzLT5zdGFydGVkWyRpZF1bJ291dCddKSkgewokbWVzc2FnZSAuPSBzcHJpbnRmKCclczxiZz1ncmVlbjtmZz13aGl0ZT4gJXMgPC8+ICcsICR0aGlzLT5nZXRCb3JkZXIoJGlkKSwgJHByZWZpeCk7CiR0aGlzLT5zdGFydGVkWyRpZF1bJ291dCddID0gdHJ1ZTsKfQoKJG1lc3NhZ2UgLj0gc3RyX3JlcGxhY2UoIlxuIiwgc3ByaW50ZigiXG4lczxiZz1ncmVlbjtmZz13aGl0ZT4gJXMgPC8+ICIsICR0aGlzLT5nZXRCb3JkZXIoJGlkKSwgJHByZWZpeCksICRidWZmZXIpOwp9CgpyZXR1cm4gJG1lc3NhZ2U7Cn0KCgoKCgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gc3RvcCgkaWQsICRtZXNzYWdlLCAkc3VjY2Vzc2Z1bCwgJHByZWZpeCA9ICdSRVMnKQp7CiR0cmFpbGluZ0VPTCA9IGlzc2V0KCR0aGlzLT5zdGFydGVkWyRpZF1bJ291dCddKSB8fCBpc3NldCgkdGhpcy0+c3RhcnRlZFskaWRdWydlcnInXSkgPyAiXG4iIDogJyc7CgppZiAoJHN1Y2Nlc3NmdWwpIHsKcmV0dXJuIHNwcmludGYoIiVzJXM8Ymc9Z3JlZW47Zmc9d2hpdGU+ICVzIDwvPiA8Zmc9Z3JlZW4+JXM8Lz5cbiIsICR0cmFpbGluZ0VPTCwgJHRoaXMtPmdldEJvcmRlcigkaWQpLCAkcHJlZml4LCAkbWVzc2FnZSk7Cn0KCiRtZXNzYWdlID0gc3ByaW50ZigiJXMlczxiZz1yZWQ7Zmc9d2hpdGU+ICVzIDwvPiA8Zmc9cmVkPiVzPC8+XG4iLCAkdHJhaWxpbmdFT0wsICR0aGlzLT5nZXRCb3JkZXIoJGlkKSwgJHByZWZpeCwgJG1lc3NhZ2UpOwoKdW5zZXQoJHRoaXMtPnN0YXJ0ZWRbJGlkXVsnb3V0J10sICR0aGlzLT5zdGFydGVkWyRpZF1bJ2VyciddKTsKCnJldHVybiAkbWVzc2FnZTsKfQoKCgoKCgpwcml2YXRlIGZ1bmN0aW9uIGdldEJvcmRlcigkaWQpCnsKcmV0dXJuIHNwcmludGYoJzxiZz0lcz4gPC8+JywgJHRoaXMtPmNvbG9yc1skdGhpcy0+c3RhcnRlZFskaWRdWydib3JkZXInXV0pOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0TmFtZSgpCnsKcmV0dXJuICdkZWJ1Z19mb3JtYXR0ZXInOwp9Cn0KPD9waHAKCgoKCgoKCgoKCm5hbWVzcGFjZSBTeW1mb255XENvbXBvbmVudFxDb25zb2xlXEhlbHBlcjsKCnVzZSBTeW1mb255XENvbXBvbmVudFxDb25zb2xlXERlc2NyaXB0b3JcRGVzY3JpcHRvckludGVyZmFjZTsKdXNlIFN5bWZvbnlcQ29tcG9uZW50XENvbnNvbGVcRGVzY3JpcHRvclxKc29uRGVzY3JpcHRvcjsKdXNlIFN5bWZvbnlcQ29tcG9uZW50XENvbnNvbGVcRGVzY3JpcHRvclxNYXJrZG93bkRlc2NyaXB0b3I7CnVzZSBTeW1mb255XENvbXBvbmVudFxDb25zb2xlXERlc2NyaXB0b3JcVGV4dERlc2NyaXB0b3I7CnVzZSBTeW1mb255XENvbXBvbmVudFxDb25zb2xlXERlc2NyaXB0b3JcWG1sRGVzY3JpcHRvcjsKdXNlIFN5bWZvbnlcQ29tcG9uZW50XENvbnNvbGVcRXhjZXB0aW9uXEludmFsaWRBcmd1bWVudEV4Y2VwdGlvbjsKdXNlIFN5bWZvbnlcQ29tcG9uZW50XENvbnNvbGVcT3V0cHV0XE91dHB1dEludGVyZmFjZTsKCgoKCgoKY2xhc3MgRGVzY3JpcHRvckhlbHBlciBleHRlbmRzIEhlbHBlcgp7CgoKCnByaXZhdGUgJGRlc2NyaXB0b3JzID0gYXJyYXkoKTsKCnB1YmxpYyBmdW5jdGlvbiBfX2NvbnN0cnVjdCgpCnsKJHRoaXMKLT5yZWdpc3RlcigndHh0JywgbmV3IFRleHREZXNjcmlwdG9yKCkpCi0+cmVnaXN0ZXIoJ3htbCcsIG5ldyBYbWxEZXNjcmlwdG9yKCkpCi0+cmVnaXN0ZXIoJ2pzb24nLCBuZXcgSnNvbkRlc2NyaXB0b3IoKSkKLT5yZWdpc3RlcignbWQnLCBuZXcgTWFya2Rvd25EZXNjcmlwdG9yKCkpCjsKfQoKCgoKCgoKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBkZXNjcmliZShPdXRwdXRJbnRlcmZhY2UgJG91dHB1dCwgJG9iamVjdCwgYXJyYXkgJG9wdGlvbnMgPSBhcnJheSgpKQp7CiRvcHRpb25zID0gYXJyYXlfbWVyZ2UoYXJyYXkoCidyYXdfdGV4dCcgPT4gZmFsc2UsCidmb3JtYXQnID0+ICd0eHQnLAopLCAkb3B0aW9ucyk7CgppZiAoIWlzc2V0KCR0aGlzLT5kZXNjcmlwdG9yc1skb3B0aW9uc1snZm9ybWF0J11dKSkgewp0aHJvdyBuZXcgSW52YWxpZEFyZ3VtZW50RXhjZXB0aW9uKHNwcmludGYoJ1Vuc3VwcG9ydGVkIGZvcm1hdCAiJXMiLicsICRvcHRpb25zWydmb3JtYXQnXSkpOwp9CgokZGVzY3JpcHRvciA9ICR0aGlzLT5kZXNjcmlwdG9yc1skb3B0aW9uc1snZm9ybWF0J11dOwokZGVzY3JpcHRvci0+ZGVzY3JpYmUoJG91dHB1dCwgJG9iamVjdCwgJG9wdGlvbnMpOwp9CgoKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiByZWdpc3RlcigkZm9ybWF0LCBEZXNjcmlwdG9ySW50ZXJmYWNlICRkZXNjcmlwdG9yKQp7CiR0aGlzLT5kZXNjcmlwdG9yc1skZm9ybWF0XSA9ICRkZXNjcmlwdG9yOwoKcmV0dXJuICR0aGlzOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0TmFtZSgpCnsKcmV0dXJuICdkZXNjcmlwdG9yJzsKfQp9Cjw/cGhwCgoKCgoKCgoKCgpuYW1lc3BhY2UgU3ltZm9ueVxDb21wb25lbnRcQ29uc29sZVxIZWxwZXI7Cgp1c2UgU3ltZm9ueVxDb21wb25lbnRcQ29uc29sZVxFeGNlcHRpb25cSW52YWxpZEFyZ3VtZW50RXhjZXB0aW9uOwp1c2UgU3ltZm9ueVxDb21wb25lbnRcQ29uc29sZVxFeGNlcHRpb25cUnVudGltZUV4Y2VwdGlvbjsKdXNlIFN5bWZvbnlcQ29tcG9uZW50XENvbnNvbGVcRm9ybWF0dGVyXE91dHB1dEZvcm1hdHRlclN0eWxlOwp1c2UgU3ltZm9ueVxDb21wb25lbnRcQ29uc29sZVxPdXRwdXRcQ29uc29sZU91dHB1dEludGVyZmFjZTsKdXNlIFN5bWZvbnlcQ29tcG9uZW50XENvbnNvbGVcT3V0cHV0XE91dHB1dEludGVyZmFjZTsKCgoKCgoKCgoKY2xhc3MgRGlhbG9nSGVscGVyIGV4dGVuZHMgSW5wdXRBd2FyZUhlbHBlcgp7CnByaXZhdGUgJGlucHV0U3RyZWFtOwpwcml2YXRlIHN0YXRpYyAkc2hlbGw7CnByaXZhdGUgc3RhdGljICRzdHR5OwoKcHVibGljIGZ1bmN0aW9uIF9fY29uc3RydWN0KCR0cmlnZ2VyRGVwcmVjYXRpb25FcnJvciA9IHRydWUpCnsKaWYgKCR0cmlnZ2VyRGVwcmVjYXRpb25FcnJvcikgewpAdHJpZ2dlcl9lcnJvcignIlN5bWZvbnlcQ29tcG9uZW50XENvbnNvbGVcSGVscGVyXERpYWxvZ0hlbHBlciIgaXMgZGVwcmVjYXRlZCBzaW5jZSBTeW1mb255IDIuNSBhbmQgd2lsbCBiZSByZW1vdmVkIGluIDMuMC4gVXNlICJTeW1mb255XENvbXBvbmVudFxDb25zb2xlXEhlbHBlclxRdWVzdGlvbkhlbHBlciIgaW5zdGVhZC4nLCBFX1VTRVJfREVQUkVDQVRFRCk7Cn0KfQoKCgoKCgoKCgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIHNlbGVjdChPdXRwdXRJbnRlcmZhY2UgJG91dHB1dCwgJHF1ZXN0aW9uLCAkY2hvaWNlcywgJGRlZmF1bHQgPSBudWxsLCAkYXR0ZW1wdHMgPSBmYWxzZSwgJGVycm9yTWVzc2FnZSA9ICdWYWx1ZSAiJXMiIGlzIGludmFsaWQnLCAkbXVsdGlzZWxlY3QgPSBmYWxzZSkKewppZiAoJG91dHB1dCBpbnN0YW5jZW9mIENvbnNvbGVPdXRwdXRJbnRlcmZhY2UpIHsKJG91dHB1dCA9ICRvdXRwdXQtPmdldEVycm9yT3V0cHV0KCk7Cn0KCiR3aWR0aCA9IG1heChhcnJheV9tYXAoJ3N0cmxlbicsIGFycmF5X2tleXMoJGNob2ljZXMpKSk7CgokbWVzc2FnZXMgPSAoYXJyYXkpICRxdWVzdGlvbjsKZm9yZWFjaCAoJGNob2ljZXMgYXMgJGtleSA9PiAkdmFsdWUpIHsKJG1lc3NhZ2VzW10gPSBzcHJpbnRmKCIgIFs8aW5mbz4lLXskd2lkdGh9czwvaW5mbz5dICVzIiwgJGtleSwgJHZhbHVlKTsKfQoKJG91dHB1dC0+d3JpdGVsbigkbWVzc2FnZXMpOwoKJHJlc3VsdCA9ICR0aGlzLT5hc2tBbmRWYWxpZGF0ZSgkb3V0cHV0LCAnPiAnLCBmdW5jdGlvbiAoJHBpY2tlZCkgdXNlICgkY2hvaWNlcywgJGVycm9yTWVzc2FnZSwgJG11bHRpc2VsZWN0KSB7Cgokc2VsZWN0ZWRDaG9pY2VzID0gc3RyX3JlcGxhY2UoJyAnLCAnJywgJHBpY2tlZCk7CgppZiAoJG11bHRpc2VsZWN0KSB7CgppZiAoIXByZWdfbWF0Y2goJy9eW2EtekEtWjAtOV8tXSsoPzosW2EtekEtWjAtOV8tXSspKiQvJywgJHNlbGVjdGVkQ2hvaWNlcywgJG1hdGNoZXMpKSB7CnRocm93IG5ldyBJbnZhbGlkQXJndW1lbnRFeGNlcHRpb24oc3ByaW50ZigkZXJyb3JNZXNzYWdlLCAkcGlja2VkKSk7Cn0KJHNlbGVjdGVkQ2hvaWNlcyA9IGV4cGxvZGUoJywnLCAkc2VsZWN0ZWRDaG9pY2VzKTsKfSBlbHNlIHsKJHNlbGVjdGVkQ2hvaWNlcyA9IGFycmF5KCRwaWNrZWQpOwp9CgokbXVsdGlzZWxlY3RDaG9pY2VzID0gYXJyYXkoKTsKCmZvcmVhY2ggKCRzZWxlY3RlZENob2ljZXMgYXMgJHZhbHVlKSB7CmlmIChlbXB0eSgkY2hvaWNlc1skdmFsdWVdKSkgewp0aHJvdyBuZXcgSW52YWxpZEFyZ3VtZW50RXhjZXB0aW9uKHNwcmludGYoJGVycm9yTWVzc2FnZSwgJHZhbHVlKSk7Cn0KJG11bHRpc2VsZWN0Q2hvaWNlc1tdID0gJHZhbHVlOwp9CgppZiAoJG11bHRpc2VsZWN0KSB7CnJldHVybiAkbXVsdGlzZWxlY3RDaG9pY2VzOwp9CgpyZXR1cm4gJHBpY2tlZDsKfSwgJGF0dGVtcHRzLCAkZGVmYXVsdCk7CgpyZXR1cm4gJHJlc3VsdDsKfQoKCgoKCgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIGFzayhPdXRwdXRJbnRlcmZhY2UgJG91dHB1dCwgJHF1ZXN0aW9uLCAkZGVmYXVsdCA9IG51bGwsIGFycmF5ICRhdXRvY29tcGxldGUgPSBudWxsKQp7CmlmICgkdGhpcy0+aW5wdXQgJiYgISR0aGlzLT5pbnB1dC0+aXNJbnRlcmFjdGl2ZSgpKSB7CnJldHVybiAkZGVmYXVsdDsKfQoKaWYgKCRvdXRwdXQgaW5zdGFuY2VvZiBDb25zb2xlT3V0cHV0SW50ZXJmYWNlKSB7CiRvdXRwdXQgPSAkb3V0cHV0LT5nZXRFcnJvck91dHB1dCgpOwp9Cgokb3V0cHV0LT53cml0ZSgkcXVlc3Rpb24pOwoKJGlucHV0U3RyZWFtID0gJHRoaXMtPmlucHV0U3RyZWFtID86IFNURElOOwoKaWYgKG51bGwgPT09ICRhdXRvY29tcGxldGUgfHwgISR0aGlzLT5oYXNTdHR5QXZhaWxhYmxlKCkpIHsKJHJldCA9IGZnZXRzKCRpbnB1dFN0cmVhbSwgNDA5Nik7CmlmIChmYWxzZSA9PT0gJHJldCkgewp0aHJvdyBuZXcgUnVudGltZUV4Y2VwdGlvbignQWJvcnRlZCcpOwp9CiRyZXQgPSB0cmltKCRyZXQpOwp9IGVsc2UgewokcmV0ID0gJyc7CgokaSA9IDA7CiRvZnMgPSAtMTsKJG1hdGNoZXMgPSAkYXV0b2NvbXBsZXRlOwokbnVtTWF0Y2hlcyA9IFxjb3VudCgkbWF0Y2hlcyk7Cgokc3R0eU1vZGUgPSBzaGVsbF9leGVjKCdzdHR5IC1nJyk7CgoKc2hlbGxfZXhlYygnc3R0eSAtaWNhbm9uIC1lY2hvJyk7CgoKJG91dHB1dC0+Z2V0Rm9ybWF0dGVyKCktPnNldFN0eWxlKCdobCcsIG5ldyBPdXRwdXRGb3JtYXR0ZXJTdHlsZSgnYmxhY2snLCAnd2hpdGUnKSk7CgoKd2hpbGUgKCFmZW9mKCRpbnB1dFN0cmVhbSkpIHsKJGMgPSBmcmVhZCgkaW5wdXRTdHJlYW0sIDEpOwoKCmlmICgiXDE3NyIgPT09ICRjKSB7CmlmICgwID09PSAkbnVtTWF0Y2hlcyAmJiAwICE9PSAkaSkgewotLSRpOwoKJG91dHB1dC0+d3JpdGUoIlwwMzNbMUQiKTsKfQoKaWYgKDAgPT09ICRpKSB7CiRvZnMgPSAtMTsKJG1hdGNoZXMgPSAkYXV0b2NvbXBsZXRlOwokbnVtTWF0Y2hlcyA9IFxjb3VudCgkbWF0Y2hlcyk7Cn0gZWxzZSB7CiRudW1NYXRjaGVzID0gMDsKfQoKCiRyZXQgPSBzdWJzdHIoJHJldCwgMCwgJGkpOwp9IGVsc2VpZiAoIlwwMzMiID09PSAkYykgewoKJGMgLj0gZnJlYWQoJGlucHV0U3RyZWFtLCAyKTsKCgppZiAoaXNzZXQoJGNbMl0pICYmICgnQScgPT09ICRjWzJdIHx8ICdCJyA9PT0gJGNbMl0pKSB7CmlmICgnQScgPT09ICRjWzJdICYmIC0xID09PSAkb2ZzKSB7CiRvZnMgPSAwOwp9CgppZiAoMCA9PT0gJG51bU1hdGNoZXMpIHsKY29udGludWU7Cn0KCiRvZnMgKz0gKCdBJyA9PT0gJGNbMl0pID8gLTEgOiAxOwokb2ZzID0gKCRudW1NYXRjaGVzICsgJG9mcykgJSAkbnVtTWF0Y2hlczsKfQp9IGVsc2VpZiAoXG9yZCgkYykgPCAzMikgewppZiAoIlx0IiA9PT0gJGMgfHwgIlxuIiA9PT0gJGMpIHsKaWYgKCRudW1NYXRjaGVzID4gMCAmJiAtMSAhPT0gJG9mcykgewokcmV0ID0gJG1hdGNoZXNbJG9mc107Cgokb3V0cHV0LT53cml0ZShzdWJzdHIoJHJldCwgJGkpKTsKJGkgPSBcc3RybGVuKCRyZXQpOwp9CgppZiAoIlxuIiA9PT0gJGMpIHsKJG91dHB1dC0+d3JpdGUoJGMpOwpicmVhazsKfQoKJG51bU1hdGNoZXMgPSAwOwp9Cgpjb250aW51ZTsKfSBlbHNlIHsKJG91dHB1dC0+d3JpdGUoJGMpOwokcmV0IC49ICRjOworKyRpOwoKJG51bU1hdGNoZXMgPSAwOwokb2ZzID0gMDsKCmZvcmVhY2ggKCRhdXRvY29tcGxldGUgYXMgJHZhbHVlKSB7CgppZiAoMCA9PT0gc3RycG9zKCR2YWx1ZSwgJHJldCkgJiYgJGkgIT09IFxzdHJsZW4oJHZhbHVlKSkgewokbWF0Y2hlc1skbnVtTWF0Y2hlcysrXSA9ICR2YWx1ZTsKfQp9Cn0KCgokb3V0cHV0LT53cml0ZSgiXDAzM1tLIik7CgppZiAoJG51bU1hdGNoZXMgPiAwICYmIC0xICE9PSAkb2ZzKSB7Cgokb3V0cHV0LT53cml0ZSgiXDAzMzciKTsKCiRvdXRwdXQtPndyaXRlKCc8aGw+Jy5zdWJzdHIoJG1hdGNoZXNbJG9mc10sICRpKS4nPC9obD4nKTsKCiRvdXRwdXQtPndyaXRlKCJcMDMzOCIpOwp9Cn0KCgpzaGVsbF9leGVjKHNwcmludGYoJ3N0dHkgJXMnLCAkc3R0eU1vZGUpKTsKfQoKcmV0dXJuIFxzdHJsZW4oJHJldCkgPiAwID8gJHJldCA6ICRkZWZhdWx0Owp9CgoKCgoKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBhc2tDb25maXJtYXRpb24oT3V0cHV0SW50ZXJmYWNlICRvdXRwdXQsICRxdWVzdGlvbiwgJGRlZmF1bHQgPSB0cnVlKQp7CiRhbnN3ZXIgPSAneic7CndoaWxlICgkYW5zd2VyICYmICFcaW5fYXJyYXkoc3RydG9sb3dlcigkYW5zd2VyWzBdKSwgYXJyYXkoJ3knLCAnbicpKSkgewokYW5zd2VyID0gJHRoaXMtPmFzaygkb3V0cHV0LCAkcXVlc3Rpb24pOwp9CgppZiAoZmFsc2UgPT09ICRkZWZhdWx0KSB7CnJldHVybiAkYW5zd2VyICYmICd5JyA9PSBzdHJ0b2xvd2VyKCRhbnN3ZXJbMF0pOwp9CgpyZXR1cm4gISRhbnN3ZXIgfHwgJ3knID09IHN0cnRvbG93ZXIoJGFuc3dlclswXSk7Cn0KCgoKCgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIGFza0hpZGRlblJlc3BvbnNlKE91dHB1dEludGVyZmFjZSAkb3V0cHV0LCAkcXVlc3Rpb24sICRmYWxsYmFjayA9IHRydWUpCnsKaWYgKCRvdXRwdXQgaW5zdGFuY2VvZiBDb25zb2xlT3V0cHV0SW50ZXJmYWNlKSB7CiRvdXRwdXQgPSAkb3V0cHV0LT5nZXRFcnJvck91dHB1dCgpOwp9CgppZiAoJ1xcJyA9PT0gXERJUkVDVE9SWV9TRVBBUkFUT1IpIHsKJGV4ZSA9IF9fRElSX18uJy8uLi9SZXNvdXJjZXMvYmluL2hpZGRlbmlucHV0LmV4ZSc7CgoKaWYgKCdwaGFyOicgPT09IHN1YnN0cihfX0ZJTEVfXywgMCwgNSkpIHsKJHRtcEV4ZSA9IHN5c19nZXRfdGVtcF9kaXIoKS4nL2hpZGRlbmlucHV0LmV4ZSc7CmNvcHkoJGV4ZSwgJHRtcEV4ZSk7CiRleGUgPSAkdG1wRXhlOwp9Cgokb3V0cHV0LT53cml0ZSgkcXVlc3Rpb24pOwokdmFsdWUgPSBydHJpbShzaGVsbF9leGVjKCRleGUpKTsKJG91dHB1dC0+d3JpdGVsbignJyk7CgppZiAoaXNzZXQoJHRtcEV4ZSkpIHsKdW5saW5rKCR0bXBFeGUpOwp9CgpyZXR1cm4gJHZhbHVlOwp9CgppZiAoJHRoaXMtPmhhc1N0dHlBdmFpbGFibGUoKSkgewokb3V0cHV0LT53cml0ZSgkcXVlc3Rpb24pOwoKJHN0dHlNb2RlID0gc2hlbGxfZXhlYygnc3R0eSAtZycpOwoKc2hlbGxfZXhlYygnc3R0eSAtZWNobycpOwokdmFsdWUgPSBmZ2V0cygkdGhpcy0+aW5wdXRTdHJlYW0gPzogU1RESU4sIDQwOTYpOwpzaGVsbF9leGVjKHNwcmludGYoJ3N0dHkgJXMnLCAkc3R0eU1vZGUpKTsKCmlmIChmYWxzZSA9PT0gJHZhbHVlKSB7CnRocm93IG5ldyBSdW50aW1lRXhjZXB0aW9uKCdBYm9ydGVkJyk7Cn0KCiR2YWx1ZSA9IHRyaW0oJHZhbHVlKTsKJG91dHB1dC0+d3JpdGVsbignJyk7CgpyZXR1cm4gJHZhbHVlOwp9CgppZiAoZmFsc2UgIT09ICRzaGVsbCA9ICR0aGlzLT5nZXRTaGVsbCgpKSB7CiRvdXRwdXQtPndyaXRlKCRxdWVzdGlvbik7CiRyZWFkQ21kID0gJ2NzaCcgPT09ICRzaGVsbCA/ICdzZXQgbXlwYXNzd29yZCA9ICQ8JyA6ICdyZWFkIC1yIG15cGFzc3dvcmQnOwokY29tbWFuZCA9IHNwcmludGYoIi91c3IvYmluL2VudiAlcyAtYyAnc3R0eSAtZWNobzsgJXM7IHN0dHkgZWNobzsgZWNobyBcJG15cGFzc3dvcmQnIiwgJHNoZWxsLCAkcmVhZENtZCk7CiR2YWx1ZSA9IHJ0cmltKHNoZWxsX2V4ZWMoJGNvbW1hbmQpKTsKJG91dHB1dC0+d3JpdGVsbignJyk7CgpyZXR1cm4gJHZhbHVlOwp9CgppZiAoJGZhbGxiYWNrKSB7CnJldHVybiAkdGhpcy0+YXNrKCRvdXRwdXQsICRxdWVzdGlvbik7Cn0KCnRocm93IG5ldyBSdW50aW1lRXhjZXB0aW9uKCdVbmFibGUgdG8gaGlkZSB0aGUgcmVzcG9uc2UnKTsKfQoKCgoKCgoKCgoKCgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIGFza0FuZFZhbGlkYXRlKE91dHB1dEludGVyZmFjZSAkb3V0cHV0LCAkcXVlc3Rpb24sICR2YWxpZGF0b3IsICRhdHRlbXB0cyA9IGZhbHNlLCAkZGVmYXVsdCA9IG51bGwsIGFycmF5ICRhdXRvY29tcGxldGUgPSBudWxsKQp7CiR0aGF0ID0gJHRoaXM7CgokaW50ZXJ2aWV3ZXIgPSBmdW5jdGlvbiAoKSB1c2UgKCRvdXRwdXQsICRxdWVzdGlvbiwgJGRlZmF1bHQsICRhdXRvY29tcGxldGUsICR0aGF0KSB7CnJldHVybiAkdGhhdC0+YXNrKCRvdXRwdXQsICRxdWVzdGlvbiwgJGRlZmF1bHQsICRhdXRvY29tcGxldGUpOwp9OwoKcmV0dXJuICR0aGlzLT52YWxpZGF0ZUF0dGVtcHRzKCRpbnRlcnZpZXdlciwgJG91dHB1dCwgJHZhbGlkYXRvciwgJGF0dGVtcHRzKTsKfQoKCgoKCgoKCgoKCgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIGFza0hpZGRlblJlc3BvbnNlQW5kVmFsaWRhdGUoT3V0cHV0SW50ZXJmYWNlICRvdXRwdXQsICRxdWVzdGlvbiwgJHZhbGlkYXRvciwgJGF0dGVtcHRzID0gZmFsc2UsICRmYWxsYmFjayA9IHRydWUpCnsKJHRoYXQgPSAkdGhpczsKCiRpbnRlcnZpZXdlciA9IGZ1bmN0aW9uICgpIHVzZSAoJG91dHB1dCwgJHF1ZXN0aW9uLCAkZmFsbGJhY2ssICR0aGF0KSB7CnJldHVybiAkdGhhdC0+YXNrSGlkZGVuUmVzcG9uc2UoJG91dHB1dCwgJHF1ZXN0aW9uLCAkZmFsbGJhY2spOwp9OwoKcmV0dXJuICR0aGlzLT52YWxpZGF0ZUF0dGVtcHRzKCRpbnRlcnZpZXdlciwgJG91dHB1dCwgJHZhbGlkYXRvciwgJGF0dGVtcHRzKTsKfQoKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBzZXRJbnB1dFN0cmVhbSgkc3RyZWFtKQp7CiR0aGlzLT5pbnB1dFN0cmVhbSA9ICRzdHJlYW07Cn0KCgoKCgoKcHVibGljIGZ1bmN0aW9uIGdldElucHV0U3RyZWFtKCkKewpyZXR1cm4gJHRoaXMtPmlucHV0U3RyZWFtOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0TmFtZSgpCnsKcmV0dXJuICdkaWFsb2cnOwp9CgoKCgoKCnByaXZhdGUgZnVuY3Rpb24gZ2V0U2hlbGwoKQp7CmlmIChudWxsICE9PSBzZWxmOjokc2hlbGwpIHsKcmV0dXJuIHNlbGY6OiRzaGVsbDsKfQoKc2VsZjo6JHNoZWxsID0gZmFsc2U7CgppZiAoZmlsZV9leGlzdHMoJy91c3IvYmluL2VudicpKSB7CgokdGVzdCA9ICIvdXNyL2Jpbi9lbnYgJXMgLWMgJ2VjaG8gT0snIDI+IC9kZXYvbnVsbCI7CmZvcmVhY2ggKGFycmF5KCdiYXNoJywgJ3pzaCcsICdrc2gnLCAnY3NoJykgYXMgJHNoKSB7CmlmICgnT0snID09PSBydHJpbShzaGVsbF9leGVjKHNwcmludGYoJHRlc3QsICRzaCkpKSkgewpzZWxmOjokc2hlbGwgPSAkc2g7CmJyZWFrOwp9Cn0KfQoKcmV0dXJuIHNlbGY6OiRzaGVsbDsKfQoKcHJpdmF0ZSBmdW5jdGlvbiBoYXNTdHR5QXZhaWxhYmxlKCkKewppZiAobnVsbCAhPT0gc2VsZjo6JHN0dHkpIHsKcmV0dXJuIHNlbGY6OiRzdHR5Owp9CgpleGVjKCdzdHR5IDI+JjEnLCAkb3V0cHV0LCAkZXhpdGNvZGUpOwoKcmV0dXJuIHNlbGY6OiRzdHR5ID0gMCA9PT0gJGV4aXRjb2RlOwp9CgoKCgoKCgoKCgoKCgpwcml2YXRlIGZ1bmN0aW9uIHZhbGlkYXRlQXR0ZW1wdHMoJGludGVydmlld2VyLCBPdXRwdXRJbnRlcmZhY2UgJG91dHB1dCwgJHZhbGlkYXRvciwgJGF0dGVtcHRzKQp7CmlmICgkb3V0cHV0IGluc3RhbmNlb2YgQ29uc29sZU91dHB1dEludGVyZmFjZSkgewokb3V0cHV0ID0gJG91dHB1dC0+Z2V0RXJyb3JPdXRwdXQoKTsKfQoKJGUgPSBudWxsOwp3aGlsZSAoZmFsc2UgPT09ICRhdHRlbXB0cyB8fCAkYXR0ZW1wdHMtLSkgewppZiAobnVsbCAhPT0gJGUpIHsKJG91dHB1dC0+d3JpdGVsbigkdGhpcy0+Z2V0SGVscGVyU2V0KCktPmdldCgnZm9ybWF0dGVyJyktPmZvcm1hdEJsb2NrKCRlLT5nZXRNZXNzYWdlKCksICdlcnJvcicpKTsKfQoKdHJ5IHsKcmV0dXJuIFxjYWxsX3VzZXJfZnVuYygkdmFsaWRhdG9yLCAkaW50ZXJ2aWV3ZXIoKSk7Cn0gY2F0Y2ggKFxFeGNlcHRpb24gJGUpIHsKfQp9Cgp0aHJvdyAkZTsKfQp9Cjw/cGhwCgoKCgoKCgoKCgpuYW1lc3BhY2UgU3ltZm9ueVxDb21wb25lbnRcQ29uc29sZVxIZWxwZXI7Cgp1c2UgU3ltZm9ueVxDb21wb25lbnRcQ29uc29sZVxGb3JtYXR0ZXJcT3V0cHV0Rm9ybWF0dGVyOwoKCgoKCgpjbGFzcyBGb3JtYXR0ZXJIZWxwZXIgZXh0ZW5kcyBIZWxwZXIKewoKCgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gZm9ybWF0U2VjdGlvbigkc2VjdGlvbiwgJG1lc3NhZ2UsICRzdHlsZSA9ICdpbmZvJykKewpyZXR1cm4gc3ByaW50ZignPCVzPlslc108LyVzPiAlcycsICRzdHlsZSwgJHNlY3Rpb24sICRzdHlsZSwgJG1lc3NhZ2UpOwp9CgoKCgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gZm9ybWF0QmxvY2soJG1lc3NhZ2VzLCAkc3R5bGUsICRsYXJnZSA9IGZhbHNlKQp7CmlmICghXGlzX2FycmF5KCRtZXNzYWdlcykpIHsKJG1lc3NhZ2VzID0gYXJyYXkoJG1lc3NhZ2VzKTsKfQoKJGxlbiA9IDA7CiRsaW5lcyA9IGFycmF5KCk7CmZvcmVhY2ggKCRtZXNzYWdlcyBhcyAkbWVzc2FnZSkgewokbWVzc2FnZSA9IE91dHB1dEZvcm1hdHRlcjo6ZXNjYXBlKCRtZXNzYWdlKTsKJGxpbmVzW10gPSBzcHJpbnRmKCRsYXJnZSA/ICcgICVzICAnIDogJyAlcyAnLCAkbWVzc2FnZSk7CiRsZW4gPSBtYXgoJHRoaXMtPnN0cmxlbigkbWVzc2FnZSkgKyAoJGxhcmdlID8gNCA6IDIpLCAkbGVuKTsKfQoKJG1lc3NhZ2VzID0gJGxhcmdlID8gYXJyYXkoc3RyX3JlcGVhdCgnICcsICRsZW4pKSA6IGFycmF5KCk7CmZvciAoJGkgPSAwOyBpc3NldCgkbGluZXNbJGldKTsgKyskaSkgewokbWVzc2FnZXNbXSA9ICRsaW5lc1skaV0uc3RyX3JlcGVhdCgnICcsICRsZW4gLSAkdGhpcy0+c3RybGVuKCRsaW5lc1skaV0pKTsKfQppZiAoJGxhcmdlKSB7CiRtZXNzYWdlc1tdID0gc3RyX3JlcGVhdCgnICcsICRsZW4pOwp9Cgpmb3IgKCRpID0gMDsgaXNzZXQoJG1lc3NhZ2VzWyRpXSk7ICsrJGkpIHsKJG1lc3NhZ2VzWyRpXSA9IHNwcmludGYoJzwlcz4lczwvJXM+JywgJHN0eWxlLCAkbWVzc2FnZXNbJGldLCAkc3R5bGUpOwp9CgpyZXR1cm4gaW1wbG9kZSgiXG4iLCAkbWVzc2FnZXMpOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0TmFtZSgpCnsKcmV0dXJuICdmb3JtYXR0ZXInOwp9Cn0KPD9waHAKCgoKCgoKCgoKCm5hbWVzcGFjZSBTeW1mb255XENvbXBvbmVudFxDb25zb2xlXEhlbHBlcjsKCnVzZSBTeW1mb255XENvbXBvbmVudFxDb25zb2xlXEZvcm1hdHRlclxPdXRwdXRGb3JtYXR0ZXJJbnRlcmZhY2U7CgoKCgoKCmFic3RyYWN0IGNsYXNzIEhlbHBlciBpbXBsZW1lbnRzIEhlbHBlckludGVyZmFjZQp7CnByb3RlY3RlZCAkaGVscGVyU2V0ID0gbnVsbDsKCgoKCnB1YmxpYyBmdW5jdGlvbiBzZXRIZWxwZXJTZXQoSGVscGVyU2V0ICRoZWxwZXJTZXQgPSBudWxsKQp7CiR0aGlzLT5oZWxwZXJTZXQgPSAkaGVscGVyU2V0Owp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0SGVscGVyU2V0KCkKewpyZXR1cm4gJHRoaXMtPmhlbHBlclNldDsKfQoKCgoKCgoKCnB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gc3RybGVuKCRzdHJpbmcpCnsKaWYgKGZhbHNlID09PSAkZW5jb2RpbmcgPSBtYl9kZXRlY3RfZW5jb2RpbmcoJHN0cmluZywgbnVsbCwgdHJ1ZSkpIHsKcmV0dXJuIFxzdHJsZW4oJHN0cmluZyk7Cn0KCnJldHVybiBtYl9zdHJ3aWR0aCgkc3RyaW5nLCAkZW5jb2RpbmcpOwp9CgpwdWJsaWMgc3RhdGljIGZ1bmN0aW9uIGZvcm1hdFRpbWUoJHNlY3MpCnsKc3RhdGljICR0aW1lRm9ybWF0cyA9IGFycmF5KAphcnJheSgwLCAnPCAxIHNlYycpLAphcnJheSgxLCAnMSBzZWMnKSwKYXJyYXkoMiwgJ3NlY3MnLCAxKSwKYXJyYXkoNjAsICcxIG1pbicpLAphcnJheSgxMjAsICdtaW5zJywgNjApLAphcnJheSgzNjAwLCAnMSBocicpLAphcnJheSg3MjAwLCAnaHJzJywgMzYwMCksCmFycmF5KDg2NDAwLCAnMSBkYXknKSwKYXJyYXkoMTcyODAwLCAnZGF5cycsIDg2NDAwKSwKKTsKCmZvcmVhY2ggKCR0aW1lRm9ybWF0cyBhcyAkaW5kZXggPT4gJGZvcm1hdCkgewppZiAoJHNlY3MgPj0gJGZvcm1hdFswXSkgewppZiAoKGlzc2V0KCR0aW1lRm9ybWF0c1skaW5kZXggKyAxXSkgJiYgJHNlY3MgPCAkdGltZUZvcm1hdHNbJGluZGV4ICsgMV1bMF0pCnx8ICRpbmRleCA9PSBcY291bnQoJHRpbWVGb3JtYXRzKSAtIDEKKSB7CmlmICgyID09IFxjb3VudCgkZm9ybWF0KSkgewpyZXR1cm4gJGZvcm1hdFsxXTsKfQoKcmV0dXJuIGZsb29yKCRzZWNzIC8gJGZvcm1hdFsyXSkuJyAnLiRmb3JtYXRbMV07Cn0KfQp9Cn0KCnB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gZm9ybWF0TWVtb3J5KCRtZW1vcnkpCnsKaWYgKCRtZW1vcnkgPj0gMTAyNCAqIDEwMjQgKiAxMDI0KSB7CnJldHVybiBzcHJpbnRmKCclLjFmIEdpQicsICRtZW1vcnkgLyAxMDI0IC8gMTAyNCAvIDEwMjQpOwp9CgppZiAoJG1lbW9yeSA+PSAxMDI0ICogMTAyNCkgewpyZXR1cm4gc3ByaW50ZignJS4xZiBNaUInLCAkbWVtb3J5IC8gMTAyNCAvIDEwMjQpOwp9CgppZiAoJG1lbW9yeSA+PSAxMDI0KSB7CnJldHVybiBzcHJpbnRmKCclZCBLaUInLCAkbWVtb3J5IC8gMTAyNCk7Cn0KCnJldHVybiBzcHJpbnRmKCclZCBCJywgJG1lbW9yeSk7Cn0KCnB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gc3RybGVuV2l0aG91dERlY29yYXRpb24oT3V0cHV0Rm9ybWF0dGVySW50ZXJmYWNlICRmb3JtYXR0ZXIsICRzdHJpbmcpCnsKcmV0dXJuIHNlbGY6OnN0cmxlbihzZWxmOjpyZW1vdmVEZWNvcmF0aW9uKCRmb3JtYXR0ZXIsICRzdHJpbmcpKTsKfQoKcHVibGljIHN0YXRpYyBmdW5jdGlvbiByZW1vdmVEZWNvcmF0aW9uKE91dHB1dEZvcm1hdHRlckludGVyZmFjZSAkZm9ybWF0dGVyLCAkc3RyaW5nKQp7CiRpc0RlY29yYXRlZCA9ICRmb3JtYXR0ZXItPmlzRGVjb3JhdGVkKCk7CiRmb3JtYXR0ZXItPnNldERlY29yYXRlZChmYWxzZSk7Cgokc3RyaW5nID0gJGZvcm1hdHRlci0+Zm9ybWF0KCRzdHJpbmcpOwoKJHN0cmluZyA9IHByZWdfcmVwbGFjZSgiL1wwMzNcW1tebV0qbS8iLCAnJywgJHN0cmluZyk7CiRmb3JtYXR0ZXItPnNldERlY29yYXRlZCgkaXNEZWNvcmF0ZWQpOwoKcmV0dXJuICRzdHJpbmc7Cn0KfQo8P3BocAoKCgoKCgoKCgoKbmFtZXNwYWNlIFN5bWZvbnlcQ29tcG9uZW50XENvbnNvbGVcSGVscGVyOwoKCgoKCgppbnRlcmZhY2UgSGVscGVySW50ZXJmYWNlCnsKCgoKcHVibGljIGZ1bmN0aW9uIHNldEhlbHBlclNldChIZWxwZXJTZXQgJGhlbHBlclNldCA9IG51bGwpOwoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0SGVscGVyU2V0KCk7CgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBnZXROYW1lKCk7Cn0KPD9waHAKCgoKCgoKCgoKCm5hbWVzcGFjZSBTeW1mb255XENvbXBvbmVudFxDb25zb2xlXEhlbHBlcjsKCnVzZSBTeW1mb255XENvbXBvbmVudFxDb25zb2xlXENvbW1hbmRcQ29tbWFuZDsKdXNlIFN5bWZvbnlcQ29tcG9uZW50XENvbnNvbGVcRXhjZXB0aW9uXEludmFsaWRBcmd1bWVudEV4Y2VwdGlvbjsKCgoKCgoKY2xhc3MgSGVscGVyU2V0IGltcGxlbWVudHMgXEl0ZXJhdG9yQWdncmVnYXRlCnsKCgoKcHJpdmF0ZSAkaGVscGVycyA9IGFycmF5KCk7CnByaXZhdGUgJGNvbW1hbmQ7CgoKCgpwdWJsaWMgZnVuY3Rpb24gX19jb25zdHJ1Y3QoYXJyYXkgJGhlbHBlcnMgPSBhcnJheSgpKQp7CmZvcmVhY2ggKCRoZWxwZXJzIGFzICRhbGlhcyA9PiAkaGVscGVyKSB7CiR0aGlzLT5zZXQoJGhlbHBlciwgXGlzX2ludCgkYWxpYXMpID8gbnVsbCA6ICRhbGlhcyk7Cn0KfQoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIHNldChIZWxwZXJJbnRlcmZhY2UgJGhlbHBlciwgJGFsaWFzID0gbnVsbCkKewokdGhpcy0+aGVscGVyc1skaGVscGVyLT5nZXROYW1lKCldID0gJGhlbHBlcjsKaWYgKG51bGwgIT09ICRhbGlhcykgewokdGhpcy0+aGVscGVyc1skYWxpYXNdID0gJGhlbHBlcjsKfQoKJGhlbHBlci0+c2V0SGVscGVyU2V0KCR0aGlzKTsKfQoKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBoYXMoJG5hbWUpCnsKcmV0dXJuIGlzc2V0KCR0aGlzLT5oZWxwZXJzWyRuYW1lXSk7Cn0KCgoKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBnZXQoJG5hbWUpCnsKaWYgKCEkdGhpcy0+aGFzKCRuYW1lKSkgewp0aHJvdyBuZXcgSW52YWxpZEFyZ3VtZW50RXhjZXB0aW9uKHNwcmludGYoJ1RoZSBoZWxwZXIgIiVzIiBpcyBub3QgZGVmaW5lZC4nLCAkbmFtZSkpOwp9CgppZiAoJ2RpYWxvZycgPT09ICRuYW1lICYmICR0aGlzLT5oZWxwZXJzWyRuYW1lXSBpbnN0YW5jZW9mIERpYWxvZ0hlbHBlcikgewpAdHJpZ2dlcl9lcnJvcignIlN5bWZvbnlcQ29tcG9uZW50XENvbnNvbGVcSGVscGVyXERpYWxvZ0hlbHBlciIgaXMgZGVwcmVjYXRlZCBzaW5jZSBTeW1mb255IDIuNSBhbmQgd2lsbCBiZSByZW1vdmVkIGluIDMuMC4gVXNlICJTeW1mb255XENvbXBvbmVudFxDb25zb2xlXEhlbHBlclxRdWVzdGlvbkhlbHBlciIgaW5zdGVhZC4nLCBFX1VTRVJfREVQUkVDQVRFRCk7Cn0gZWxzZWlmICgncHJvZ3Jlc3MnID09PSAkbmFtZSAmJiAkdGhpcy0+aGVscGVyc1skbmFtZV0gaW5zdGFuY2VvZiBQcm9ncmVzc0hlbHBlcikgewpAdHJpZ2dlcl9lcnJvcignIlN5bWZvbnlcQ29tcG9uZW50XENvbnNvbGVcSGVscGVyXFByb2dyZXNzSGVscGVyIiBpcyBkZXByZWNhdGVkIHNpbmNlIFN5bWZvbnkgMi41IGFuZCB3aWxsIGJlIHJlbW92ZWQgaW4gMy4wLiBVc2UgIlN5bWZvbnlcQ29tcG9uZW50XENvbnNvbGVcSGVscGVyXFByb2dyZXNzQmFyIiBpbnN0ZWFkLicsIEVfVVNFUl9ERVBSRUNBVEVEKTsKfSBlbHNlaWYgKCd0YWJsZScgPT09ICRuYW1lICYmICR0aGlzLT5oZWxwZXJzWyRuYW1lXSBpbnN0YW5jZW9mIFRhYmxlSGVscGVyKSB7CkB0cmlnZ2VyX2Vycm9yKCciU3ltZm9ueVxDb21wb25lbnRcQ29uc29sZVxIZWxwZXJcVGFibGVIZWxwZXIiIGlzIGRlcHJlY2F0ZWQgc2luY2UgU3ltZm9ueSAyLjUgYW5kIHdpbGwgYmUgcmVtb3ZlZCBpbiAzLjAuIFVzZSAiU3ltZm9ueVxDb21wb25lbnRcQ29uc29sZVxIZWxwZXJcVGFibGUiIGluc3RlYWQuJywgRV9VU0VSX0RFUFJFQ0FURUQpOwp9CgpyZXR1cm4gJHRoaXMtPmhlbHBlcnNbJG5hbWVdOwp9CgpwdWJsaWMgZnVuY3Rpb24gc2V0Q29tbWFuZChDb21tYW5kICRjb21tYW5kID0gbnVsbCkKewokdGhpcy0+Y29tbWFuZCA9ICRjb21tYW5kOwp9CgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBnZXRDb21tYW5kKCkKewpyZXR1cm4gJHRoaXMtPmNvbW1hbmQ7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBnZXRJdGVyYXRvcigpCnsKcmV0dXJuIG5ldyBcQXJyYXlJdGVyYXRvcigkdGhpcy0+aGVscGVycyk7Cn0KfQo8P3BocAoKCgoKCgoKCgoKbmFtZXNwYWNlIFN5bWZvbnlcQ29tcG9uZW50XENvbnNvbGVcSGVscGVyOwoKdXNlIFN5bWZvbnlcQ29tcG9uZW50XENvbnNvbGVcSW5wdXRcSW5wdXRBd2FyZUludGVyZmFjZTsKdXNlIFN5bWZvbnlcQ29tcG9uZW50XENvbnNvbGVcSW5wdXRcSW5wdXRJbnRlcmZhY2U7CgoKCgoKCmFic3RyYWN0IGNsYXNzIElucHV0QXdhcmVIZWxwZXIgZXh0ZW5kcyBIZWxwZXIgaW1wbGVtZW50cyBJbnB1dEF3YXJlSW50ZXJmYWNlCnsKcHJvdGVjdGVkICRpbnB1dDsKCgoKCnB1YmxpYyBmdW5jdGlvbiBzZXRJbnB1dChJbnB1dEludGVyZmFjZSAkaW5wdXQpCnsKJHRoaXMtPmlucHV0ID0gJGlucHV0Owp9Cn0KPD9waHAKCgoKCgoKCgoKCm5hbWVzcGFjZSBTeW1mb255XENvbXBvbmVudFxDb25zb2xlXEhlbHBlcjsKCnVzZSBTeW1mb255XENvbXBvbmVudFxDb25zb2xlXE91dHB1dFxDb25zb2xlT3V0cHV0SW50ZXJmYWNlOwp1c2UgU3ltZm9ueVxDb21wb25lbnRcQ29uc29sZVxPdXRwdXRcT3V0cHV0SW50ZXJmYWNlOwp1c2UgU3ltZm9ueVxDb21wb25lbnRcUHJvY2Vzc1xFeGNlcHRpb25cUHJvY2Vzc0ZhaWxlZEV4Y2VwdGlvbjsKdXNlIFN5bWZvbnlcQ29tcG9uZW50XFByb2Nlc3NcUHJvY2VzczsKdXNlIFN5bWZvbnlcQ29tcG9uZW50XFByb2Nlc3NcUHJvY2Vzc0J1aWxkZXI7CgoKCgoKCmNsYXNzIFByb2Nlc3NIZWxwZXIgZXh0ZW5kcyBIZWxwZXIKewoKCgoKCgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gcnVuKE91dHB1dEludGVyZmFjZSAkb3V0cHV0LCAkY21kLCAkZXJyb3IgPSBudWxsLCAkY2FsbGJhY2sgPSBudWxsLCAkdmVyYm9zaXR5ID0gT3V0cHV0SW50ZXJmYWNlOjpWRVJCT1NJVFlfVkVSWV9WRVJCT1NFKQp7CmlmICgkb3V0cHV0IGluc3RhbmNlb2YgQ29uc29sZU91dHB1dEludGVyZmFjZSkgewokb3V0cHV0ID0gJG91dHB1dC0+Z2V0RXJyb3JPdXRwdXQoKTsKfQoKJGZvcm1hdHRlciA9ICR0aGlzLT5nZXRIZWxwZXJTZXQoKS0+Z2V0KCdkZWJ1Z19mb3JtYXR0ZXInKTsKCmlmIChcaXNfYXJyYXkoJGNtZCkpIHsKJHByb2Nlc3MgPSBQcm9jZXNzQnVpbGRlcjo6Y3JlYXRlKCRjbWQpLT5nZXRQcm9jZXNzKCk7Cn0gZWxzZWlmICgkY21kIGluc3RhbmNlb2YgUHJvY2VzcykgewokcHJvY2VzcyA9ICRjbWQ7Cn0gZWxzZSB7CiRwcm9jZXNzID0gbmV3IFByb2Nlc3MoJGNtZCk7Cn0KCmlmICgkdmVyYm9zaXR5IDw9ICRvdXRwdXQtPmdldFZlcmJvc2l0eSgpKSB7CiRvdXRwdXQtPndyaXRlKCRmb3JtYXR0ZXItPnN0YXJ0KHNwbF9vYmplY3RfaGFzaCgkcHJvY2VzcyksICR0aGlzLT5lc2NhcGVTdHJpbmcoJHByb2Nlc3MtPmdldENvbW1hbmRMaW5lKCkpKSk7Cn0KCmlmICgkb3V0cHV0LT5pc0RlYnVnKCkpIHsKJGNhbGxiYWNrID0gJHRoaXMtPndyYXBDYWxsYmFjaygkb3V0cHV0LCAkcHJvY2VzcywgJGNhbGxiYWNrKTsKfQoKJHByb2Nlc3MtPnJ1bigkY2FsbGJhY2spOwoKaWYgKCR2ZXJib3NpdHkgPD0gJG91dHB1dC0+Z2V0VmVyYm9zaXR5KCkpIHsKJG1lc3NhZ2UgPSAkcHJvY2Vzcy0+aXNTdWNjZXNzZnVsKCkgPyAnQ29tbWFuZCByYW4gc3VjY2Vzc2Z1bGx5JyA6IHNwcmludGYoJyVzIENvbW1hbmQgZGlkIG5vdCBydW4gc3VjY2Vzc2Z1bGx5JywgJHByb2Nlc3MtPmdldEV4aXRDb2RlKCkpOwokb3V0cHV0LT53cml0ZSgkZm9ybWF0dGVyLT5zdG9wKHNwbF9vYmplY3RfaGFzaCgkcHJvY2VzcyksICRtZXNzYWdlLCAkcHJvY2Vzcy0+aXNTdWNjZXNzZnVsKCkpKTsKfQoKaWYgKCEkcHJvY2Vzcy0+aXNTdWNjZXNzZnVsKCkgJiYgbnVsbCAhPT0gJGVycm9yKSB7CiRvdXRwdXQtPndyaXRlbG4oc3ByaW50ZignPGVycm9yPiVzPC9lcnJvcj4nLCAkdGhpcy0+ZXNjYXBlU3RyaW5nKCRlcnJvcikpKTsKfQoKcmV0dXJuICRwcm9jZXNzOwp9CgoKCgoKCgoKCgoKCgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gbXVzdFJ1bihPdXRwdXRJbnRlcmZhY2UgJG91dHB1dCwgJGNtZCwgJGVycm9yID0gbnVsbCwgJGNhbGxiYWNrID0gbnVsbCkKewokcHJvY2VzcyA9ICR0aGlzLT5ydW4oJG91dHB1dCwgJGNtZCwgJGVycm9yLCAkY2FsbGJhY2spOwoKaWYgKCEkcHJvY2Vzcy0+aXNTdWNjZXNzZnVsKCkpIHsKdGhyb3cgbmV3IFByb2Nlc3NGYWlsZWRFeGNlcHRpb24oJHByb2Nlc3MpOwp9CgpyZXR1cm4gJHByb2Nlc3M7Cn0KCgoKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiB3cmFwQ2FsbGJhY2soT3V0cHV0SW50ZXJmYWNlICRvdXRwdXQsIFByb2Nlc3MgJHByb2Nlc3MsICRjYWxsYmFjayA9IG51bGwpCnsKaWYgKCRvdXRwdXQgaW5zdGFuY2VvZiBDb25zb2xlT3V0cHV0SW50ZXJmYWNlKSB7CiRvdXRwdXQgPSAkb3V0cHV0LT5nZXRFcnJvck91dHB1dCgpOwp9CgokZm9ybWF0dGVyID0gJHRoaXMtPmdldEhlbHBlclNldCgpLT5nZXQoJ2RlYnVnX2Zvcm1hdHRlcicpOwoKJHRoYXQgPSAkdGhpczsKCnJldHVybiBmdW5jdGlvbiAoJHR5cGUsICRidWZmZXIpIHVzZSAoJG91dHB1dCwgJHByb2Nlc3MsICRjYWxsYmFjaywgJGZvcm1hdHRlciwgJHRoYXQpIHsKJG91dHB1dC0+d3JpdGUoJGZvcm1hdHRlci0+cHJvZ3Jlc3Moc3BsX29iamVjdF9oYXNoKCRwcm9jZXNzKSwgJHRoYXQtPmVzY2FwZVN0cmluZygkYnVmZmVyKSwgUHJvY2Vzczo6RVJSID09PSAkdHlwZSkpOwoKaWYgKG51bGwgIT09ICRjYWxsYmFjaykgewpcY2FsbF91c2VyX2Z1bmMoJGNhbGxiYWNrLCAkdHlwZSwgJGJ1ZmZlcik7Cn0KfTsKfQoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gZXNjYXBlU3RyaW5nKCRzdHIpCnsKcmV0dXJuIHN0cl9yZXBsYWNlKCc8JywgJ1xcPCcsICRzdHIpOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0TmFtZSgpCnsKcmV0dXJuICdwcm9jZXNzJzsKfQp9Cjw/cGhwCgoKCgoKCgoKCgpuYW1lc3BhY2UgU3ltZm9ueVxDb21wb25lbnRcQ29uc29sZVxIZWxwZXI7Cgp1c2UgU3ltZm9ueVxDb21wb25lbnRcQ29uc29sZVxFeGNlcHRpb25cTG9naWNFeGNlcHRpb247CnVzZSBTeW1mb255XENvbXBvbmVudFxDb25zb2xlXE91dHB1dFxDb25zb2xlT3V0cHV0SW50ZXJmYWNlOwp1c2UgU3ltZm9ueVxDb21wb25lbnRcQ29uc29sZVxPdXRwdXRcT3V0cHV0SW50ZXJmYWNlOwoKCgoKCgoKY2xhc3MgUHJvZ3Jlc3NCYXIKewpwcml2YXRlICRiYXJXaWR0aCA9IDI4Owpwcml2YXRlICRiYXJDaGFyOwpwcml2YXRlICRlbXB0eUJhckNoYXIgPSAnLSc7CnByaXZhdGUgJHByb2dyZXNzQ2hhciA9ICc+JzsKcHJpdmF0ZSAkZm9ybWF0Owpwcml2YXRlICRpbnRlcm5hbEZvcm1hdDsKcHJpdmF0ZSAkcmVkcmF3RnJlcSA9IDE7CnByaXZhdGUgJG91dHB1dDsKcHJpdmF0ZSAkc3RlcCA9IDA7CnByaXZhdGUgJG1heDsKcHJpdmF0ZSAkc3RhcnRUaW1lOwpwcml2YXRlICRzdGVwV2lkdGg7CnByaXZhdGUgJHBlcmNlbnQgPSAwLjA7CnByaXZhdGUgJGZvcm1hdExpbmVDb3VudDsKcHJpdmF0ZSAkbWVzc2FnZXMgPSBhcnJheSgpOwpwcml2YXRlICRvdmVyd3JpdGUgPSB0cnVlOwpwcml2YXRlICRmaXJzdFJ1biA9IHRydWU7Cgpwcml2YXRlIHN0YXRpYyAkZm9ybWF0dGVyczsKcHJpdmF0ZSBzdGF0aWMgJGZvcm1hdHM7CgoKCgoKcHVibGljIGZ1bmN0aW9uIF9fY29uc3RydWN0KE91dHB1dEludGVyZmFjZSAkb3V0cHV0LCAkbWF4ID0gMCkKewppZiAoJG91dHB1dCBpbnN0YW5jZW9mIENvbnNvbGVPdXRwdXRJbnRlcmZhY2UpIHsKJG91dHB1dCA9ICRvdXRwdXQtPmdldEVycm9yT3V0cHV0KCk7Cn0KCiR0aGlzLT5vdXRwdXQgPSAkb3V0cHV0OwokdGhpcy0+c2V0TWF4U3RlcHMoJG1heCk7CgppZiAoISR0aGlzLT5vdXRwdXQtPmlzRGVjb3JhdGVkKCkpIHsKCiR0aGlzLT5vdmVyd3JpdGUgPSBmYWxzZTsKCgokdGhpcy0+c2V0UmVkcmF3RnJlcXVlbmN5KCRtYXggLyAxMCk7Cn0KCiR0aGlzLT5zdGFydFRpbWUgPSB0aW1lKCk7Cn0KCgoKCgoKCgoKcHVibGljIHN0YXRpYyBmdW5jdGlvbiBzZXRQbGFjZWhvbGRlckZvcm1hdHRlckRlZmluaXRpb24oJG5hbWUsICRjYWxsYWJsZSkKewppZiAoIXNlbGY6OiRmb3JtYXR0ZXJzKSB7CnNlbGY6OiRmb3JtYXR0ZXJzID0gc2VsZjo6aW5pdFBsYWNlaG9sZGVyRm9ybWF0dGVycygpOwp9CgpzZWxmOjokZm9ybWF0dGVyc1skbmFtZV0gPSAkY2FsbGFibGU7Cn0KCgoKCgoKCgpwdWJsaWMgc3RhdGljIGZ1bmN0aW9uIGdldFBsYWNlaG9sZGVyRm9ybWF0dGVyRGVmaW5pdGlvbigkbmFtZSkKewppZiAoIXNlbGY6OiRmb3JtYXR0ZXJzKSB7CnNlbGY6OiRmb3JtYXR0ZXJzID0gc2VsZjo6aW5pdFBsYWNlaG9sZGVyRm9ybWF0dGVycygpOwp9CgpyZXR1cm4gaXNzZXQoc2VsZjo6JGZvcm1hdHRlcnNbJG5hbWVdKSA/IHNlbGY6OiRmb3JtYXR0ZXJzWyRuYW1lXSA6IG51bGw7Cn0KCgoKCgoKCgoKcHVibGljIHN0YXRpYyBmdW5jdGlvbiBzZXRGb3JtYXREZWZpbml0aW9uKCRuYW1lLCAkZm9ybWF0KQp7CmlmICghc2VsZjo6JGZvcm1hdHMpIHsKc2VsZjo6JGZvcm1hdHMgPSBzZWxmOjppbml0Rm9ybWF0cygpOwp9CgpzZWxmOjokZm9ybWF0c1skbmFtZV0gPSAkZm9ybWF0Owp9CgoKCgoKCgoKcHVibGljIHN0YXRpYyBmdW5jdGlvbiBnZXRGb3JtYXREZWZpbml0aW9uKCRuYW1lKQp7CmlmICghc2VsZjo6JGZvcm1hdHMpIHsKc2VsZjo6JGZvcm1hdHMgPSBzZWxmOjppbml0Rm9ybWF0cygpOwp9CgpyZXR1cm4gaXNzZXQoc2VsZjo6JGZvcm1hdHNbJG5hbWVdKSA/IHNlbGY6OiRmb3JtYXRzWyRuYW1lXSA6IG51bGw7Cn0KCgoKCgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gc2V0TWVzc2FnZSgkbWVzc2FnZSwgJG5hbWUgPSAnbWVzc2FnZScpCnsKJHRoaXMtPm1lc3NhZ2VzWyRuYW1lXSA9ICRtZXNzYWdlOwp9CgpwdWJsaWMgZnVuY3Rpb24gZ2V0TWVzc2FnZSgkbmFtZSA9ICdtZXNzYWdlJykKewpyZXR1cm4gJHRoaXMtPm1lc3NhZ2VzWyRuYW1lXTsKfQoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0U3RhcnRUaW1lKCkKewpyZXR1cm4gJHRoaXMtPnN0YXJ0VGltZTsKfQoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0TWF4U3RlcHMoKQp7CnJldHVybiAkdGhpcy0+bWF4Owp9CgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIGdldFN0ZXAoKQp7CkB0cmlnZ2VyX2Vycm9yKCdUaGUgJy5fX01FVEhPRF9fLicgbWV0aG9kIGlzIGRlcHJlY2F0ZWQgc2luY2UgU3ltZm9ueSAyLjYgYW5kIHdpbGwgYmUgcmVtb3ZlZCBpbiAzLjAuIFVzZSB0aGUgZ2V0UHJvZ3Jlc3MoKSBtZXRob2QgaW5zdGVhZC4nLCBFX1VTRVJfREVQUkVDQVRFRCk7CgpyZXR1cm4gJHRoaXMtPmdldFByb2dyZXNzKCk7Cn0KCgoKCgoKcHVibGljIGZ1bmN0aW9uIGdldFByb2dyZXNzKCkKewpyZXR1cm4gJHRoaXMtPnN0ZXA7Cn0KCgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0U3RlcFdpZHRoKCkKewpyZXR1cm4gJHRoaXMtPnN0ZXBXaWR0aDsKfQoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0UHJvZ3Jlc3NQZXJjZW50KCkKewpyZXR1cm4gJHRoaXMtPnBlcmNlbnQ7Cn0KCgoKCgoKcHVibGljIGZ1bmN0aW9uIHNldEJhcldpZHRoKCRzaXplKQp7CiR0aGlzLT5iYXJXaWR0aCA9IChpbnQpICRzaXplOwp9CgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBnZXRCYXJXaWR0aCgpCnsKcmV0dXJuICR0aGlzLT5iYXJXaWR0aDsKfQoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gc2V0QmFyQ2hhcmFjdGVyKCRjaGFyKQp7CiR0aGlzLT5iYXJDaGFyID0gJGNoYXI7Cn0KCgoKCgoKcHVibGljIGZ1bmN0aW9uIGdldEJhckNoYXJhY3RlcigpCnsKaWYgKG51bGwgPT09ICR0aGlzLT5iYXJDaGFyKSB7CnJldHVybiAkdGhpcy0+bWF4ID8gJz0nIDogJHRoaXMtPmVtcHR5QmFyQ2hhcjsKfQoKcmV0dXJuICR0aGlzLT5iYXJDaGFyOwp9CgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBzZXRFbXB0eUJhckNoYXJhY3RlcigkY2hhcikKewokdGhpcy0+ZW1wdHlCYXJDaGFyID0gJGNoYXI7Cn0KCgoKCgoKcHVibGljIGZ1bmN0aW9uIGdldEVtcHR5QmFyQ2hhcmFjdGVyKCkKewpyZXR1cm4gJHRoaXMtPmVtcHR5QmFyQ2hhcjsKfQoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gc2V0UHJvZ3Jlc3NDaGFyYWN0ZXIoJGNoYXIpCnsKJHRoaXMtPnByb2dyZXNzQ2hhciA9ICRjaGFyOwp9CgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBnZXRQcm9ncmVzc0NoYXJhY3RlcigpCnsKcmV0dXJuICR0aGlzLT5wcm9ncmVzc0NoYXI7Cn0KCgoKCgoKcHVibGljIGZ1bmN0aW9uIHNldEZvcm1hdCgkZm9ybWF0KQp7CiR0aGlzLT5mb3JtYXQgPSBudWxsOwokdGhpcy0+aW50ZXJuYWxGb3JtYXQgPSAkZm9ybWF0Owp9CgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBzZXRSZWRyYXdGcmVxdWVuY3koJGZyZXEpCnsKJHRoaXMtPnJlZHJhd0ZyZXEgPSBtYXgoKGludCkgJGZyZXEsIDEpOwp9CgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBzdGFydCgkbWF4ID0gbnVsbCkKewokdGhpcy0+c3RhcnRUaW1lID0gdGltZSgpOwokdGhpcy0+c3RlcCA9IDA7CiR0aGlzLT5wZXJjZW50ID0gMC4wOwoKaWYgKG51bGwgIT09ICRtYXgpIHsKJHRoaXMtPnNldE1heFN0ZXBzKCRtYXgpOwp9CgokdGhpcy0+ZGlzcGxheSgpOwp9CgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIGFkdmFuY2UoJHN0ZXAgPSAxKQp7CiR0aGlzLT5zZXRQcm9ncmVzcygkdGhpcy0+c3RlcCArICRzdGVwKTsKfQoKCgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIHNldEN1cnJlbnQoJHN0ZXApCnsKQHRyaWdnZXJfZXJyb3IoJ1RoZSAnLl9fTUVUSE9EX18uJyBtZXRob2QgaXMgZGVwcmVjYXRlZCBzaW5jZSBTeW1mb255IDIuNiBhbmQgd2lsbCBiZSByZW1vdmVkIGluIDMuMC4gVXNlIHRoZSBzZXRQcm9ncmVzcygpIG1ldGhvZCBpbnN0ZWFkLicsIEVfVVNFUl9ERVBSRUNBVEVEKTsKCiR0aGlzLT5zZXRQcm9ncmVzcygkc3RlcCk7Cn0KCgoKCgoKcHVibGljIGZ1bmN0aW9uIHNldE92ZXJ3cml0ZSgkb3ZlcndyaXRlKQp7CiR0aGlzLT5vdmVyd3JpdGUgPSAoYm9vbCkgJG92ZXJ3cml0ZTsKfQoKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBzZXRQcm9ncmVzcygkc3RlcCkKewokc3RlcCA9IChpbnQpICRzdGVwOwppZiAoJHN0ZXAgPCAkdGhpcy0+c3RlcCkgewp0aHJvdyBuZXcgTG9naWNFeGNlcHRpb24oJ1lvdSBjYW5cJ3QgcmVncmVzcyB0aGUgcHJvZ3Jlc3MgYmFyLicpOwp9CgppZiAoJHRoaXMtPm1heCAmJiAkc3RlcCA+ICR0aGlzLT5tYXgpIHsKJHRoaXMtPm1heCA9ICRzdGVwOwp9CgokcHJldlBlcmlvZCA9IChpbnQpICgkdGhpcy0+c3RlcCAvICR0aGlzLT5yZWRyYXdGcmVxKTsKJGN1cnJQZXJpb2QgPSAoaW50KSAoJHN0ZXAgLyAkdGhpcy0+cmVkcmF3RnJlcSk7CiR0aGlzLT5zdGVwID0gJHN0ZXA7CiR0aGlzLT5wZXJjZW50ID0gJHRoaXMtPm1heCA/IChmbG9hdCkgJHRoaXMtPnN0ZXAgLyAkdGhpcy0+bWF4IDogMDsKaWYgKCRwcmV2UGVyaW9kICE9PSAkY3VyclBlcmlvZCB8fCAkdGhpcy0+bWF4ID09PSAkc3RlcCkgewokdGhpcy0+ZGlzcGxheSgpOwp9Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBmaW5pc2goKQp7CmlmICghJHRoaXMtPm1heCkgewokdGhpcy0+bWF4ID0gJHRoaXMtPnN0ZXA7Cn0KCmlmICgkdGhpcy0+c3RlcCA9PT0gJHRoaXMtPm1heCAmJiAhJHRoaXMtPm92ZXJ3cml0ZSkgewoKcmV0dXJuOwp9CgokdGhpcy0+c2V0UHJvZ3Jlc3MoJHRoaXMtPm1heCk7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBkaXNwbGF5KCkKewppZiAoT3V0cHV0SW50ZXJmYWNlOjpWRVJCT1NJVFlfUVVJRVQgPT09ICR0aGlzLT5vdXRwdXQtPmdldFZlcmJvc2l0eSgpKSB7CnJldHVybjsKfQoKaWYgKG51bGwgPT09ICR0aGlzLT5mb3JtYXQpIHsKJHRoaXMtPnNldFJlYWxGb3JtYXQoJHRoaXMtPmludGVybmFsRm9ybWF0ID86ICR0aGlzLT5kZXRlcm1pbmVCZXN0Rm9ybWF0KCkpOwp9CgoKJHNlbGYgPSAkdGhpczsKJG91dHB1dCA9ICR0aGlzLT5vdXRwdXQ7CiRtZXNzYWdlcyA9ICR0aGlzLT5tZXNzYWdlczsKJHRoaXMtPm92ZXJ3cml0ZShwcmVnX3JlcGxhY2VfY2FsbGJhY2soInslKFthLXpcLV9dKykoPzpcOihbXiVdKykpPyV9aSIsIGZ1bmN0aW9uICgkbWF0Y2hlcykgdXNlICgkc2VsZiwgJG91dHB1dCwgJG1lc3NhZ2VzKSB7CmlmICgkZm9ybWF0dGVyID0gJHNlbGY6OmdldFBsYWNlaG9sZGVyRm9ybWF0dGVyRGVmaW5pdGlvbigkbWF0Y2hlc1sxXSkpIHsKJHRleHQgPSBcY2FsbF91c2VyX2Z1bmMoJGZvcm1hdHRlciwgJHNlbGYsICRvdXRwdXQpOwp9IGVsc2VpZiAoaXNzZXQoJG1lc3NhZ2VzWyRtYXRjaGVzWzFdXSkpIHsKJHRleHQgPSAkbWVzc2FnZXNbJG1hdGNoZXNbMV1dOwp9IGVsc2UgewpyZXR1cm4gJG1hdGNoZXNbMF07Cn0KCmlmIChpc3NldCgkbWF0Y2hlc1syXSkpIHsKJHRleHQgPSBzcHJpbnRmKCclJy4kbWF0Y2hlc1syXSwgJHRleHQpOwp9CgpyZXR1cm4gJHRleHQ7Cn0sICR0aGlzLT5mb3JtYXQpKTsKfQoKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBjbGVhcigpCnsKaWYgKCEkdGhpcy0+b3ZlcndyaXRlKSB7CnJldHVybjsKfQoKaWYgKG51bGwgPT09ICR0aGlzLT5mb3JtYXQpIHsKJHRoaXMtPnNldFJlYWxGb3JtYXQoJHRoaXMtPmludGVybmFsRm9ybWF0ID86ICR0aGlzLT5kZXRlcm1pbmVCZXN0Rm9ybWF0KCkpOwp9CgokdGhpcy0+b3ZlcndyaXRlKCcnKTsKfQoKCgoKCgpwcml2YXRlIGZ1bmN0aW9uIHNldFJlYWxGb3JtYXQoJGZvcm1hdCkKewoKaWYgKCEkdGhpcy0+bWF4ICYmIG51bGwgIT09IHNlbGY6OmdldEZvcm1hdERlZmluaXRpb24oJGZvcm1hdC4nX25vbWF4JykpIHsKJHRoaXMtPmZvcm1hdCA9IHNlbGY6OmdldEZvcm1hdERlZmluaXRpb24oJGZvcm1hdC4nX25vbWF4Jyk7Cn0gZWxzZWlmIChudWxsICE9PSBzZWxmOjpnZXRGb3JtYXREZWZpbml0aW9uKCRmb3JtYXQpKSB7CiR0aGlzLT5mb3JtYXQgPSBzZWxmOjpnZXRGb3JtYXREZWZpbml0aW9uKCRmb3JtYXQpOwp9IGVsc2UgewokdGhpcy0+Zm9ybWF0ID0gJGZvcm1hdDsKfQoKJHRoaXMtPmZvcm1hdExpbmVDb3VudCA9IHN1YnN0cl9jb3VudCgkdGhpcy0+Zm9ybWF0LCAiXG4iKTsKfQoKCgoKCgpwcml2YXRlIGZ1bmN0aW9uIHNldE1heFN0ZXBzKCRtYXgpCnsKJHRoaXMtPm1heCA9IG1heCgwLCAoaW50KSAkbWF4KTsKJHRoaXMtPnN0ZXBXaWR0aCA9ICR0aGlzLT5tYXggPyBIZWxwZXI6OnN0cmxlbigkdGhpcy0+bWF4KSA6IDQ7Cn0KCgoKCgoKcHJpdmF0ZSBmdW5jdGlvbiBvdmVyd3JpdGUoJG1lc3NhZ2UpCnsKaWYgKCR0aGlzLT5vdmVyd3JpdGUpIHsKaWYgKCEkdGhpcy0+Zmlyc3RSdW4pIHsKCiR0aGlzLT5vdXRwdXQtPndyaXRlKCJceDBEIik7CgoKJHRoaXMtPm91dHB1dC0+d3JpdGUoIlx4MUJbMksiKTsKCgppZiAoJHRoaXMtPmZvcm1hdExpbmVDb3VudCA+IDApIHsKJHRoaXMtPm91dHB1dC0+d3JpdGUoc3RyX3JlcGVhdCgiXHgxQlsxQVx4MUJbMksiLCAkdGhpcy0+Zm9ybWF0TGluZUNvdW50KSk7Cn0KfQp9IGVsc2VpZiAoJHRoaXMtPnN0ZXAgPiAwKSB7CiR0aGlzLT5vdXRwdXQtPndyaXRlbG4oJycpOwp9CgokdGhpcy0+Zmlyc3RSdW4gPSBmYWxzZTsKCiR0aGlzLT5vdXRwdXQtPndyaXRlKCRtZXNzYWdlKTsKfQoKcHJpdmF0ZSBmdW5jdGlvbiBkZXRlcm1pbmVCZXN0Rm9ybWF0KCkKewpzd2l0Y2ggKCR0aGlzLT5vdXRwdXQtPmdldFZlcmJvc2l0eSgpKSB7CgpjYXNlIE91dHB1dEludGVyZmFjZTo6VkVSQk9TSVRZX1ZFUkJPU0U6CnJldHVybiAkdGhpcy0+bWF4ID8gJ3ZlcmJvc2UnIDogJ3ZlcmJvc2Vfbm9tYXgnOwpjYXNlIE91dHB1dEludGVyZmFjZTo6VkVSQk9TSVRZX1ZFUllfVkVSQk9TRToKcmV0dXJuICR0aGlzLT5tYXggPyAndmVyeV92ZXJib3NlJyA6ICd2ZXJ5X3ZlcmJvc2Vfbm9tYXgnOwpjYXNlIE91dHB1dEludGVyZmFjZTo6VkVSQk9TSVRZX0RFQlVHOgpyZXR1cm4gJHRoaXMtPm1heCA/ICdkZWJ1ZycgOiAnZGVidWdfbm9tYXgnOwpkZWZhdWx0OgpyZXR1cm4gJHRoaXMtPm1heCA/ICdub3JtYWwnIDogJ25vcm1hbF9ub21heCc7Cn0KfQoKcHJpdmF0ZSBzdGF0aWMgZnVuY3Rpb24gaW5pdFBsYWNlaG9sZGVyRm9ybWF0dGVycygpCnsKcmV0dXJuIGFycmF5KAonYmFyJyA9PiBmdW5jdGlvbiAoUHJvZ3Jlc3NCYXIgJGJhciwgT3V0cHV0SW50ZXJmYWNlICRvdXRwdXQpIHsKJGNvbXBsZXRlQmFycyA9IGZsb29yKCRiYXItPmdldE1heFN0ZXBzKCkgPiAwID8gJGJhci0+Z2V0UHJvZ3Jlc3NQZXJjZW50KCkgKiAkYmFyLT5nZXRCYXJXaWR0aCgpIDogJGJhci0+Z2V0UHJvZ3Jlc3MoKSAlICRiYXItPmdldEJhcldpZHRoKCkpOwokZGlzcGxheSA9IHN0cl9yZXBlYXQoJGJhci0+Z2V0QmFyQ2hhcmFjdGVyKCksICRjb21wbGV0ZUJhcnMpOwppZiAoJGNvbXBsZXRlQmFycyA8ICRiYXItPmdldEJhcldpZHRoKCkpIHsKJGVtcHR5QmFycyA9ICRiYXItPmdldEJhcldpZHRoKCkgLSAkY29tcGxldGVCYXJzIC0gSGVscGVyOjpzdHJsZW5XaXRob3V0RGVjb3JhdGlvbigkb3V0cHV0LT5nZXRGb3JtYXR0ZXIoKSwgJGJhci0+Z2V0UHJvZ3Jlc3NDaGFyYWN0ZXIoKSk7CiRkaXNwbGF5IC49ICRiYXItPmdldFByb2dyZXNzQ2hhcmFjdGVyKCkuc3RyX3JlcGVhdCgkYmFyLT5nZXRFbXB0eUJhckNoYXJhY3RlcigpLCAkZW1wdHlCYXJzKTsKfQoKcmV0dXJuICRkaXNwbGF5Owp9LAonZWxhcHNlZCcgPT4gZnVuY3Rpb24gKFByb2dyZXNzQmFyICRiYXIpIHsKcmV0dXJuIEhlbHBlcjo6Zm9ybWF0VGltZSh0aW1lKCkgLSAkYmFyLT5nZXRTdGFydFRpbWUoKSk7Cn0sCidyZW1haW5pbmcnID0+IGZ1bmN0aW9uIChQcm9ncmVzc0JhciAkYmFyKSB7CmlmICghJGJhci0+Z2V0TWF4U3RlcHMoKSkgewp0aHJvdyBuZXcgTG9naWNFeGNlcHRpb24oJ1VuYWJsZSB0byBkaXNwbGF5IHRoZSByZW1haW5pbmcgdGltZSBpZiB0aGUgbWF4aW11bSBudW1iZXIgb2Ygc3RlcHMgaXMgbm90IHNldC4nKTsKfQoKaWYgKCEkYmFyLT5nZXRQcm9ncmVzcygpKSB7CiRyZW1haW5pbmcgPSAwOwp9IGVsc2UgewokcmVtYWluaW5nID0gcm91bmQoKHRpbWUoKSAtICRiYXItPmdldFN0YXJ0VGltZSgpKSAvICRiYXItPmdldFByb2dyZXNzKCkgKiAoJGJhci0+Z2V0TWF4U3RlcHMoKSAtICRiYXItPmdldFByb2dyZXNzKCkpKTsKfQoKcmV0dXJuIEhlbHBlcjo6Zm9ybWF0VGltZSgkcmVtYWluaW5nKTsKfSwKJ2VzdGltYXRlZCcgPT4gZnVuY3Rpb24gKFByb2dyZXNzQmFyICRiYXIpIHsKaWYgKCEkYmFyLT5nZXRNYXhTdGVwcygpKSB7CnRocm93IG5ldyBMb2dpY0V4Y2VwdGlvbignVW5hYmxlIHRvIGRpc3BsYXkgdGhlIGVzdGltYXRlZCB0aW1lIGlmIHRoZSBtYXhpbXVtIG51bWJlciBvZiBzdGVwcyBpcyBub3Qgc2V0LicpOwp9CgppZiAoISRiYXItPmdldFByb2dyZXNzKCkpIHsKJGVzdGltYXRlZCA9IDA7Cn0gZWxzZSB7CiRlc3RpbWF0ZWQgPSByb3VuZCgodGltZSgpIC0gJGJhci0+Z2V0U3RhcnRUaW1lKCkpIC8gJGJhci0+Z2V0UHJvZ3Jlc3MoKSAqICRiYXItPmdldE1heFN0ZXBzKCkpOwp9CgpyZXR1cm4gSGVscGVyOjpmb3JtYXRUaW1lKCRlc3RpbWF0ZWQpOwp9LAonbWVtb3J5JyA9PiBmdW5jdGlvbiAoUHJvZ3Jlc3NCYXIgJGJhcikgewpyZXR1cm4gSGVscGVyOjpmb3JtYXRNZW1vcnkobWVtb3J5X2dldF91c2FnZSh0cnVlKSk7Cn0sCidjdXJyZW50JyA9PiBmdW5jdGlvbiAoUHJvZ3Jlc3NCYXIgJGJhcikgewpyZXR1cm4gc3RyX3BhZCgkYmFyLT5nZXRQcm9ncmVzcygpLCAkYmFyLT5nZXRTdGVwV2lkdGgoKSwgJyAnLCBTVFJfUEFEX0xFRlQpOwp9LAonbWF4JyA9PiBmdW5jdGlvbiAoUHJvZ3Jlc3NCYXIgJGJhcikgewpyZXR1cm4gJGJhci0+Z2V0TWF4U3RlcHMoKTsKfSwKJ3BlcmNlbnQnID0+IGZ1bmN0aW9uIChQcm9ncmVzc0JhciAkYmFyKSB7CnJldHVybiBmbG9vcigkYmFyLT5nZXRQcm9ncmVzc1BlcmNlbnQoKSAqIDEwMCk7Cn0sCik7Cn0KCnByaXZhdGUgc3RhdGljIGZ1bmN0aW9uIGluaXRGb3JtYXRzKCkKewpyZXR1cm4gYXJyYXkoCidub3JtYWwnID0+ICcgJWN1cnJlbnQlLyVtYXglIFslYmFyJV0gJXBlcmNlbnQ6M3MlJScsCidub3JtYWxfbm9tYXgnID0+ICcgJWN1cnJlbnQlIFslYmFyJV0nLAoKJ3ZlcmJvc2UnID0+ICcgJWN1cnJlbnQlLyVtYXglIFslYmFyJV0gJXBlcmNlbnQ6M3MlJSAlZWxhcHNlZDo2cyUnLAondmVyYm9zZV9ub21heCcgPT4gJyAlY3VycmVudCUgWyViYXIlXSAlZWxhcHNlZDo2cyUnLAoKJ3ZlcnlfdmVyYm9zZScgPT4gJyAlY3VycmVudCUvJW1heCUgWyViYXIlXSAlcGVyY2VudDozcyUlICVlbGFwc2VkOjZzJS8lZXN0aW1hdGVkOi02cyUnLAondmVyeV92ZXJib3NlX25vbWF4JyA9PiAnICVjdXJyZW50JSBbJWJhciVdICVlbGFwc2VkOjZzJScsCgonZGVidWcnID0+ICcgJWN1cnJlbnQlLyVtYXglIFslYmFyJV0gJXBlcmNlbnQ6M3MlJSAlZWxhcHNlZDo2cyUvJWVzdGltYXRlZDotNnMlICVtZW1vcnk6NnMlJywKJ2RlYnVnX25vbWF4JyA9PiAnICVjdXJyZW50JSBbJWJhciVdICVlbGFwc2VkOjZzJSAlbWVtb3J5OjZzJScsCik7Cn0KfQo8P3BocAoKCgoKCgoKCgoKbmFtZXNwYWNlIFN5bWZvbnlcQ29tcG9uZW50XENvbnNvbGVcSGVscGVyOwoKdXNlIFN5bWZvbnlcQ29tcG9uZW50XENvbnNvbGVcRXhjZXB0aW9uXExvZ2ljRXhjZXB0aW9uOwp1c2UgU3ltZm9ueVxDb21wb25lbnRcQ29uc29sZVxPdXRwdXRcQ29uc29sZU91dHB1dEludGVyZmFjZTsKdXNlIFN5bWZvbnlcQ29tcG9uZW50XENvbnNvbGVcT3V0cHV0XE51bGxPdXRwdXQ7CnVzZSBTeW1mb255XENvbXBvbmVudFxDb25zb2xlXE91dHB1dFxPdXRwdXRJbnRlcmZhY2U7CgoKCgoKCgoKCgpjbGFzcyBQcm9ncmVzc0hlbHBlciBleHRlbmRzIEhlbHBlcgp7CmNvbnN0IEZPUk1BVF9RVUlFVCA9ICcgJXBlcmNlbnQlJSc7CmNvbnN0IEZPUk1BVF9OT1JNQUwgPSAnICVjdXJyZW50JS8lbWF4JSBbJWJhciVdICVwZXJjZW50JSUnOwpjb25zdCBGT1JNQVRfVkVSQk9TRSA9ICcgJWN1cnJlbnQlLyVtYXglIFslYmFyJV0gJXBlcmNlbnQlJSBFbGFwc2VkOiAlZWxhcHNlZCUnOwpjb25zdCBGT1JNQVRfUVVJRVRfTk9NQVggPSAnICVjdXJyZW50JSc7CmNvbnN0IEZPUk1BVF9OT1JNQUxfTk9NQVggPSAnICVjdXJyZW50JSBbJWJhciVdJzsKY29uc3QgRk9STUFUX1ZFUkJPU0VfTk9NQVggPSAnICVjdXJyZW50JSBbJWJhciVdIEVsYXBzZWQ6ICVlbGFwc2VkJSc7CgoKcHJpdmF0ZSAkYmFyV2lkdGggPSAyODsKcHJpdmF0ZSAkYmFyQ2hhciA9ICc9JzsKcHJpdmF0ZSAkZW1wdHlCYXJDaGFyID0gJy0nOwpwcml2YXRlICRwcm9ncmVzc0NoYXIgPSAnPic7CnByaXZhdGUgJGZvcm1hdCA9IG51bGw7CnByaXZhdGUgJHJlZHJhd0ZyZXEgPSAxOwoKcHJpdmF0ZSAkbGFzdE1lc3NhZ2VzTGVuZ3RoOwpwcml2YXRlICRiYXJDaGFyT3JpZ2luYWw7CgoKCgpwcml2YXRlICRvdXRwdXQ7CgoKCgoKCnByaXZhdGUgJGN1cnJlbnQ7CgoKCgoKCnByaXZhdGUgJG1heDsKCgoKCgoKcHJpdmF0ZSAkc3RhcnRUaW1lOwoKCgoKCgpwcml2YXRlICRkZWZhdWx0Rm9ybWF0VmFycyA9IGFycmF5KAonY3VycmVudCcsCidtYXgnLAonYmFyJywKJ3BlcmNlbnQnLAonZWxhcHNlZCcsCik7CgoKCgoKCnByaXZhdGUgJGZvcm1hdFZhcnM7CgoKCgoKCnByaXZhdGUgJHdpZHRocyA9IGFycmF5KAonY3VycmVudCcgPT4gNCwKJ21heCcgPT4gNCwKJ3BlcmNlbnQnID0+IDMsCidlbGFwc2VkJyA9PiA2LAopOwoKCgoKCgpwcml2YXRlICR0aW1lRm9ybWF0cyA9IGFycmF5KAphcnJheSgwLCAnPz8/JyksCmFycmF5KDIsICcxIHNlYycpLAphcnJheSg1OSwgJ3NlY3MnLCAxKSwKYXJyYXkoNjAsICcxIG1pbicpLAphcnJheSgzNjAwLCAnbWlucycsIDYwKSwKYXJyYXkoNTQwMCwgJzEgaHInKSwKYXJyYXkoODY0MDAsICdocnMnLCAzNjAwKSwKYXJyYXkoMTI5NjAwLCAnMSBkYXknKSwKYXJyYXkoNjA0ODAwLCAnZGF5cycsIDg2NDAwKSwKKTsKCnB1YmxpYyBmdW5jdGlvbiBfX2NvbnN0cnVjdCgkdHJpZ2dlckRlcHJlY2F0aW9uRXJyb3IgPSB0cnVlKQp7CmlmICgkdHJpZ2dlckRlcHJlY2F0aW9uRXJyb3IpIHsKQHRyaWdnZXJfZXJyb3IoJ1RoZSAnLl9fQ0xBU1NfXy4nIGNsYXNzIGlzIGRlcHJlY2F0ZWQgc2luY2UgU3ltZm9ueSAyLjUgYW5kIHdpbGwgYmUgcmVtb3ZlZCBpbiAzLjAuIFVzZSB0aGUgU3ltZm9ueVxDb21wb25lbnRcQ29uc29sZVxIZWxwZXJcUHJvZ3Jlc3NCYXIgY2xhc3MgaW5zdGVhZC4nLCBFX1VTRVJfREVQUkVDQVRFRCk7Cn0KfQoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gc2V0QmFyV2lkdGgoJHNpemUpCnsKJHRoaXMtPmJhcldpZHRoID0gKGludCkgJHNpemU7Cn0KCgoKCgoKcHVibGljIGZ1bmN0aW9uIHNldEJhckNoYXJhY3RlcigkY2hhcikKewokdGhpcy0+YmFyQ2hhciA9ICRjaGFyOwp9CgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBzZXRFbXB0eUJhckNoYXJhY3RlcigkY2hhcikKewokdGhpcy0+ZW1wdHlCYXJDaGFyID0gJGNoYXI7Cn0KCgoKCgoKcHVibGljIGZ1bmN0aW9uIHNldFByb2dyZXNzQ2hhcmFjdGVyKCRjaGFyKQp7CiR0aGlzLT5wcm9ncmVzc0NoYXIgPSAkY2hhcjsKfQoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gc2V0Rm9ybWF0KCRmb3JtYXQpCnsKJHRoaXMtPmZvcm1hdCA9ICRmb3JtYXQ7Cn0KCgoKCgoKcHVibGljIGZ1bmN0aW9uIHNldFJlZHJhd0ZyZXF1ZW5jeSgkZnJlcSkKewokdGhpcy0+cmVkcmF3RnJlcSA9IChpbnQpICRmcmVxOwp9CgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gc3RhcnQoT3V0cHV0SW50ZXJmYWNlICRvdXRwdXQsICRtYXggPSBudWxsKQp7CmlmICgkb3V0cHV0IGluc3RhbmNlb2YgQ29uc29sZU91dHB1dEludGVyZmFjZSkgewokb3V0cHV0ID0gJG91dHB1dC0+Z2V0RXJyb3JPdXRwdXQoKTsKfQoKJHRoaXMtPnN0YXJ0VGltZSA9IHRpbWUoKTsKJHRoaXMtPmN1cnJlbnQgPSAwOwokdGhpcy0+bWF4ID0gKGludCkgJG1heDsKCgokdGhpcy0+b3V0cHV0ID0gJG91dHB1dC0+aXNEZWNvcmF0ZWQoKSA/ICRvdXRwdXQgOiBuZXcgTnVsbE91dHB1dCgpOwokdGhpcy0+bGFzdE1lc3NhZ2VzTGVuZ3RoID0gMDsKJHRoaXMtPmJhckNoYXJPcmlnaW5hbCA9ICcnOwoKaWYgKG51bGwgPT09ICR0aGlzLT5mb3JtYXQpIHsKc3dpdGNoICgkb3V0cHV0LT5nZXRWZXJib3NpdHkoKSkgewpjYXNlIE91dHB1dEludGVyZmFjZTo6VkVSQk9TSVRZX1FVSUVUOgokdGhpcy0+Zm9ybWF0ID0gc2VsZjo6Rk9STUFUX1FVSUVUX05PTUFYOwppZiAoJHRoaXMtPm1heCA+IDApIHsKJHRoaXMtPmZvcm1hdCA9IHNlbGY6OkZPUk1BVF9RVUlFVDsKfQpicmVhazsKY2FzZSBPdXRwdXRJbnRlcmZhY2U6OlZFUkJPU0lUWV9WRVJCT1NFOgpjYXNlIE91dHB1dEludGVyZmFjZTo6VkVSQk9TSVRZX1ZFUllfVkVSQk9TRToKY2FzZSBPdXRwdXRJbnRlcmZhY2U6OlZFUkJPU0lUWV9ERUJVRzoKJHRoaXMtPmZvcm1hdCA9IHNlbGY6OkZPUk1BVF9WRVJCT1NFX05PTUFYOwppZiAoJHRoaXMtPm1heCA+IDApIHsKJHRoaXMtPmZvcm1hdCA9IHNlbGY6OkZPUk1BVF9WRVJCT1NFOwp9CmJyZWFrOwpkZWZhdWx0OgokdGhpcy0+Zm9ybWF0ID0gc2VsZjo6Rk9STUFUX05PUk1BTF9OT01BWDsKaWYgKCR0aGlzLT5tYXggPiAwKSB7CiR0aGlzLT5mb3JtYXQgPSBzZWxmOjpGT1JNQVRfTk9STUFMOwp9CmJyZWFrOwp9Cn0KCiR0aGlzLT5pbml0aWFsaXplKCk7Cn0KCgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIGFkdmFuY2UoJHN0ZXAgPSAxLCAkcmVkcmF3ID0gZmFsc2UpCnsKJHRoaXMtPnNldEN1cnJlbnQoJHRoaXMtPmN1cnJlbnQgKyAkc3RlcCwgJHJlZHJhdyk7Cn0KCgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIHNldEN1cnJlbnQoJGN1cnJlbnQsICRyZWRyYXcgPSBmYWxzZSkKewppZiAobnVsbCA9PT0gJHRoaXMtPnN0YXJ0VGltZSkgewp0aHJvdyBuZXcgTG9naWNFeGNlcHRpb24oJ1lvdSBtdXN0IHN0YXJ0IHRoZSBwcm9ncmVzcyBiYXIgYmVmb3JlIGNhbGxpbmcgc2V0Q3VycmVudCgpLicpOwp9CgokY3VycmVudCA9IChpbnQpICRjdXJyZW50OwoKaWYgKCRjdXJyZW50IDwgJHRoaXMtPmN1cnJlbnQpIHsKdGhyb3cgbmV3IExvZ2ljRXhjZXB0aW9uKCdZb3UgY2FuXCd0IHJlZ3Jlc3MgdGhlIHByb2dyZXNzIGJhcicpOwp9CgppZiAoMCA9PT0gJHRoaXMtPmN1cnJlbnQpIHsKJHJlZHJhdyA9IHRydWU7Cn0KCiRwcmV2UGVyaW9kID0gKGludCkgKCR0aGlzLT5jdXJyZW50IC8gJHRoaXMtPnJlZHJhd0ZyZXEpOwoKJHRoaXMtPmN1cnJlbnQgPSAkY3VycmVudDsKCiRjdXJyUGVyaW9kID0gKGludCkgKCR0aGlzLT5jdXJyZW50IC8gJHRoaXMtPnJlZHJhd0ZyZXEpOwppZiAoJHJlZHJhdyB8fCAkcHJldlBlcmlvZCAhPT0gJGN1cnJQZXJpb2QgfHwgJHRoaXMtPm1heCA9PT0gJHRoaXMtPmN1cnJlbnQpIHsKJHRoaXMtPmRpc3BsYXkoKTsKfQp9CgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIGRpc3BsYXkoJGZpbmlzaCA9IGZhbHNlKQp7CmlmIChudWxsID09PSAkdGhpcy0+c3RhcnRUaW1lKSB7CnRocm93IG5ldyBMb2dpY0V4Y2VwdGlvbignWW91IG11c3Qgc3RhcnQgdGhlIHByb2dyZXNzIGJhciBiZWZvcmUgY2FsbGluZyBkaXNwbGF5KCkuJyk7Cn0KCiRtZXNzYWdlID0gJHRoaXMtPmZvcm1hdDsKZm9yZWFjaCAoJHRoaXMtPmdlbmVyYXRlKCRmaW5pc2gpIGFzICRuYW1lID0+ICR2YWx1ZSkgewokbWVzc2FnZSA9IHN0cl9yZXBsYWNlKCIleyRuYW1lfSUiLCAkdmFsdWUsICRtZXNzYWdlKTsKfQokdGhpcy0+b3ZlcndyaXRlKCR0aGlzLT5vdXRwdXQsICRtZXNzYWdlKTsKfQoKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBjbGVhcigpCnsKJHRoaXMtPm92ZXJ3cml0ZSgkdGhpcy0+b3V0cHV0LCAnJyk7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBmaW5pc2goKQp7CmlmIChudWxsID09PSAkdGhpcy0+c3RhcnRUaW1lKSB7CnRocm93IG5ldyBMb2dpY0V4Y2VwdGlvbignWW91IG11c3Qgc3RhcnQgdGhlIHByb2dyZXNzIGJhciBiZWZvcmUgY2FsbGluZyBmaW5pc2goKS4nKTsKfQoKaWYgKG51bGwgIT09ICR0aGlzLT5zdGFydFRpbWUpIHsKaWYgKCEkdGhpcy0+bWF4KSB7CiR0aGlzLT5iYXJDaGFyID0gJHRoaXMtPmJhckNoYXJPcmlnaW5hbDsKJHRoaXMtPmRpc3BsYXkodHJ1ZSk7Cn0KJHRoaXMtPnN0YXJ0VGltZSA9IG51bGw7CiR0aGlzLT5vdXRwdXQtPndyaXRlbG4oJycpOwokdGhpcy0+b3V0cHV0ID0gbnVsbDsKfQp9CgoKCgpwcml2YXRlIGZ1bmN0aW9uIGluaXRpYWxpemUoKQp7CiR0aGlzLT5mb3JtYXRWYXJzID0gYXJyYXkoKTsKZm9yZWFjaCAoJHRoaXMtPmRlZmF1bHRGb3JtYXRWYXJzIGFzICR2YXIpIHsKaWYgKGZhbHNlICE9PSBzdHJwb3MoJHRoaXMtPmZvcm1hdCwgIiV7JHZhcn0lIikpIHsKJHRoaXMtPmZvcm1hdFZhcnNbJHZhcl0gPSB0cnVlOwp9Cn0KCmlmICgkdGhpcy0+bWF4ID4gMCkgewokdGhpcy0+d2lkdGhzWydtYXgnXSA9ICR0aGlzLT5zdHJsZW4oJHRoaXMtPm1heCk7CiR0aGlzLT53aWR0aHNbJ2N1cnJlbnQnXSA9ICR0aGlzLT53aWR0aHNbJ21heCddOwp9IGVsc2UgewokdGhpcy0+YmFyQ2hhck9yaWdpbmFsID0gJHRoaXMtPmJhckNoYXI7CiR0aGlzLT5iYXJDaGFyID0gJHRoaXMtPmVtcHR5QmFyQ2hhcjsKfQp9CgoKCgoKCgoKcHJpdmF0ZSBmdW5jdGlvbiBnZW5lcmF0ZSgkZmluaXNoID0gZmFsc2UpCnsKJHZhcnMgPSBhcnJheSgpOwokcGVyY2VudCA9IDA7CmlmICgkdGhpcy0+bWF4ID4gMCkgewokcGVyY2VudCA9IChmbG9hdCkgJHRoaXMtPmN1cnJlbnQgLyAkdGhpcy0+bWF4Owp9CgppZiAoaXNzZXQoJHRoaXMtPmZvcm1hdFZhcnNbJ2JhciddKSkgewppZiAoJHRoaXMtPm1heCA+IDApIHsKJGNvbXBsZXRlQmFycyA9IGZsb29yKCRwZXJjZW50ICogJHRoaXMtPmJhcldpZHRoKTsKfSBlbHNlIHsKaWYgKCEkZmluaXNoKSB7CiRjb21wbGV0ZUJhcnMgPSBmbG9vcigkdGhpcy0+Y3VycmVudCAlICR0aGlzLT5iYXJXaWR0aCk7Cn0gZWxzZSB7CiRjb21wbGV0ZUJhcnMgPSAkdGhpcy0+YmFyV2lkdGg7Cn0KfQoKJGVtcHR5QmFycyA9ICR0aGlzLT5iYXJXaWR0aCAtICRjb21wbGV0ZUJhcnMgLSAkdGhpcy0+c3RybGVuKCR0aGlzLT5wcm9ncmVzc0NoYXIpOwokYmFyID0gc3RyX3JlcGVhdCgkdGhpcy0+YmFyQ2hhciwgJGNvbXBsZXRlQmFycyk7CmlmICgkY29tcGxldGVCYXJzIDwgJHRoaXMtPmJhcldpZHRoKSB7CiRiYXIgLj0gJHRoaXMtPnByb2dyZXNzQ2hhcjsKJGJhciAuPSBzdHJfcmVwZWF0KCR0aGlzLT5lbXB0eUJhckNoYXIsICRlbXB0eUJhcnMpOwp9CgokdmFyc1snYmFyJ10gPSAkYmFyOwp9CgppZiAoaXNzZXQoJHRoaXMtPmZvcm1hdFZhcnNbJ2VsYXBzZWQnXSkpIHsKJGVsYXBzZWQgPSB0aW1lKCkgLSAkdGhpcy0+c3RhcnRUaW1lOwokdmFyc1snZWxhcHNlZCddID0gc3RyX3BhZCgkdGhpcy0+aHVtYW5lVGltZSgkZWxhcHNlZCksICR0aGlzLT53aWR0aHNbJ2VsYXBzZWQnXSwgJyAnLCBTVFJfUEFEX0xFRlQpOwp9CgppZiAoaXNzZXQoJHRoaXMtPmZvcm1hdFZhcnNbJ2N1cnJlbnQnXSkpIHsKJHZhcnNbJ2N1cnJlbnQnXSA9IHN0cl9wYWQoJHRoaXMtPmN1cnJlbnQsICR0aGlzLT53aWR0aHNbJ2N1cnJlbnQnXSwgJyAnLCBTVFJfUEFEX0xFRlQpOwp9CgppZiAoaXNzZXQoJHRoaXMtPmZvcm1hdFZhcnNbJ21heCddKSkgewokdmFyc1snbWF4J10gPSAkdGhpcy0+bWF4Owp9CgppZiAoaXNzZXQoJHRoaXMtPmZvcm1hdFZhcnNbJ3BlcmNlbnQnXSkpIHsKJHZhcnNbJ3BlcmNlbnQnXSA9IHN0cl9wYWQoZmxvb3IoJHBlcmNlbnQgKiAxMDApLCAkdGhpcy0+d2lkdGhzWydwZXJjZW50J10sICcgJywgU1RSX1BBRF9MRUZUKTsKfQoKcmV0dXJuICR2YXJzOwp9CgoKCgoKCgoKcHJpdmF0ZSBmdW5jdGlvbiBodW1hbmVUaW1lKCRzZWNzKQp7CiR0ZXh0ID0gJyc7CmZvcmVhY2ggKCR0aGlzLT50aW1lRm9ybWF0cyBhcyAkZm9ybWF0KSB7CmlmICgkc2VjcyA8ICRmb3JtYXRbMF0pIHsKaWYgKDIgPT0gXGNvdW50KCRmb3JtYXQpKSB7CiR0ZXh0ID0gJGZvcm1hdFsxXTsKYnJlYWs7Cn0gZWxzZSB7CiR0ZXh0ID0gY2VpbCgkc2VjcyAvICRmb3JtYXRbMl0pLicgJy4kZm9ybWF0WzFdOwpicmVhazsKfQp9Cn0KCnJldHVybiAkdGV4dDsKfQoKCgoKCgoKcHJpdmF0ZSBmdW5jdGlvbiBvdmVyd3JpdGUoT3V0cHV0SW50ZXJmYWNlICRvdXRwdXQsICRtZXNzYWdlKQp7CiRsZW5ndGggPSAkdGhpcy0+c3RybGVuKCRtZXNzYWdlKTsKCgppZiAobnVsbCAhPT0gJHRoaXMtPmxhc3RNZXNzYWdlc0xlbmd0aCAmJiAkdGhpcy0+bGFzdE1lc3NhZ2VzTGVuZ3RoID4gJGxlbmd0aCkgewokbWVzc2FnZSA9IHN0cl9wYWQoJG1lc3NhZ2UsICR0aGlzLT5sYXN0TWVzc2FnZXNMZW5ndGgsICJceDIwIiwgU1RSX1BBRF9SSUdIVCk7Cn0KCgokb3V0cHV0LT53cml0ZSgiXHgwRCIpOwokb3V0cHV0LT53cml0ZSgkbWVzc2FnZSk7CgokdGhpcy0+bGFzdE1lc3NhZ2VzTGVuZ3RoID0gJHRoaXMtPnN0cmxlbigkbWVzc2FnZSk7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBnZXROYW1lKCkKewpyZXR1cm4gJ3Byb2dyZXNzJzsKfQp9Cjw/cGhwCgoKCgoKCgoKCgpuYW1lc3BhY2UgU3ltZm9ueVxDb21wb25lbnRcQ29uc29sZVxIZWxwZXI7Cgp1c2UgU3ltZm9ueVxDb21wb25lbnRcQ29uc29sZVxFeGNlcHRpb25cSW52YWxpZEFyZ3VtZW50RXhjZXB0aW9uOwp1c2UgU3ltZm9ueVxDb21wb25lbnRcQ29uc29sZVxFeGNlcHRpb25cTG9naWNFeGNlcHRpb247CnVzZSBTeW1mb255XENvbXBvbmVudFxDb25zb2xlXE91dHB1dFxPdXRwdXRJbnRlcmZhY2U7CgoKCgpjbGFzcyBQcm9ncmVzc0luZGljYXRvcgp7CnByaXZhdGUgJG91dHB1dDsKcHJpdmF0ZSAkc3RhcnRUaW1lOwpwcml2YXRlICRmb3JtYXQ7CnByaXZhdGUgJG1lc3NhZ2U7CnByaXZhdGUgJGluZGljYXRvclZhbHVlczsKcHJpdmF0ZSAkaW5kaWNhdG9yQ3VycmVudDsKcHJpdmF0ZSAkaW5kaWNhdG9yQ2hhbmdlSW50ZXJ2YWw7CnByaXZhdGUgJGluZGljYXRvclVwZGF0ZVRpbWU7CnByaXZhdGUgJHN0YXJ0ZWQgPSBmYWxzZTsKCnByaXZhdGUgc3RhdGljICRmb3JtYXR0ZXJzOwpwcml2YXRlIHN0YXRpYyAkZm9ybWF0czsKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBfX2NvbnN0cnVjdChPdXRwdXRJbnRlcmZhY2UgJG91dHB1dCwgJGZvcm1hdCA9IG51bGwsICRpbmRpY2F0b3JDaGFuZ2VJbnRlcnZhbCA9IDEwMCwgJGluZGljYXRvclZhbHVlcyA9IG51bGwpCnsKJHRoaXMtPm91dHB1dCA9ICRvdXRwdXQ7CgppZiAobnVsbCA9PT0gJGZvcm1hdCkgewokZm9ybWF0ID0gJHRoaXMtPmRldGVybWluZUJlc3RGb3JtYXQoKTsKfQoKaWYgKG51bGwgPT09ICRpbmRpY2F0b3JWYWx1ZXMpIHsKJGluZGljYXRvclZhbHVlcyA9IGFycmF5KCctJywgJ1xcJywgJ3wnLCAnLycpOwp9CgokaW5kaWNhdG9yVmFsdWVzID0gYXJyYXlfdmFsdWVzKCRpbmRpY2F0b3JWYWx1ZXMpOwoKaWYgKDIgPiBcY291bnQoJGluZGljYXRvclZhbHVlcykpIHsKdGhyb3cgbmV3IEludmFsaWRBcmd1bWVudEV4Y2VwdGlvbignTXVzdCBoYXZlIGF0IGxlYXN0IDIgaW5kaWNhdG9yIHZhbHVlIGNoYXJhY3RlcnMuJyk7Cn0KCiR0aGlzLT5mb3JtYXQgPSBzZWxmOjpnZXRGb3JtYXREZWZpbml0aW9uKCRmb3JtYXQpOwokdGhpcy0+aW5kaWNhdG9yQ2hhbmdlSW50ZXJ2YWwgPSAkaW5kaWNhdG9yQ2hhbmdlSW50ZXJ2YWw7CiR0aGlzLT5pbmRpY2F0b3JWYWx1ZXMgPSAkaW5kaWNhdG9yVmFsdWVzOwokdGhpcy0+c3RhcnRUaW1lID0gdGltZSgpOwp9CgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBzZXRNZXNzYWdlKCRtZXNzYWdlKQp7CiR0aGlzLT5tZXNzYWdlID0gJG1lc3NhZ2U7CgokdGhpcy0+ZGlzcGxheSgpOwp9CgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIGdldE1lc3NhZ2UoKQp7CnJldHVybiAkdGhpcy0+bWVzc2FnZTsKfQoKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBnZXRTdGFydFRpbWUoKQp7CnJldHVybiAkdGhpcy0+c3RhcnRUaW1lOwp9CgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIGdldEN1cnJlbnRWYWx1ZSgpCnsKcmV0dXJuICR0aGlzLT5pbmRpY2F0b3JWYWx1ZXNbJHRoaXMtPmluZGljYXRvckN1cnJlbnQgJSBcY291bnQoJHRoaXMtPmluZGljYXRvclZhbHVlcyldOwp9CgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBzdGFydCgkbWVzc2FnZSkKewppZiAoJHRoaXMtPnN0YXJ0ZWQpIHsKdGhyb3cgbmV3IExvZ2ljRXhjZXB0aW9uKCdQcm9ncmVzcyBpbmRpY2F0b3IgYWxyZWFkeSBzdGFydGVkLicpOwp9CgokdGhpcy0+bWVzc2FnZSA9ICRtZXNzYWdlOwokdGhpcy0+c3RhcnRlZCA9IHRydWU7CiR0aGlzLT5zdGFydFRpbWUgPSB0aW1lKCk7CiR0aGlzLT5pbmRpY2F0b3JVcGRhdGVUaW1lID0gJHRoaXMtPmdldEN1cnJlbnRUaW1lSW5NaWxsaXNlY29uZHMoKSArICR0aGlzLT5pbmRpY2F0b3JDaGFuZ2VJbnRlcnZhbDsKJHRoaXMtPmluZGljYXRvckN1cnJlbnQgPSAwOwoKJHRoaXMtPmRpc3BsYXkoKTsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIGFkdmFuY2UoKQp7CmlmICghJHRoaXMtPnN0YXJ0ZWQpIHsKdGhyb3cgbmV3IExvZ2ljRXhjZXB0aW9uKCdQcm9ncmVzcyBpbmRpY2F0b3IgaGFzIG5vdCB5ZXQgYmVlbiBzdGFydGVkLicpOwp9CgppZiAoISR0aGlzLT5vdXRwdXQtPmlzRGVjb3JhdGVkKCkpIHsKcmV0dXJuOwp9CgokY3VycmVudFRpbWUgPSAkdGhpcy0+Z2V0Q3VycmVudFRpbWVJbk1pbGxpc2Vjb25kcygpOwoKaWYgKCRjdXJyZW50VGltZSA8ICR0aGlzLT5pbmRpY2F0b3JVcGRhdGVUaW1lKSB7CnJldHVybjsKfQoKJHRoaXMtPmluZGljYXRvclVwZGF0ZVRpbWUgPSAkY3VycmVudFRpbWUgKyAkdGhpcy0+aW5kaWNhdG9yQ2hhbmdlSW50ZXJ2YWw7CisrJHRoaXMtPmluZGljYXRvckN1cnJlbnQ7CgokdGhpcy0+ZGlzcGxheSgpOwp9CgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBmaW5pc2goJG1lc3NhZ2UpCnsKaWYgKCEkdGhpcy0+c3RhcnRlZCkgewp0aHJvdyBuZXcgTG9naWNFeGNlcHRpb24oJ1Byb2dyZXNzIGluZGljYXRvciBoYXMgbm90IHlldCBiZWVuIHN0YXJ0ZWQuJyk7Cn0KCiR0aGlzLT5tZXNzYWdlID0gJG1lc3NhZ2U7CiR0aGlzLT5kaXNwbGF5KCk7CiR0aGlzLT5vdXRwdXQtPndyaXRlbG4oJycpOwokdGhpcy0+c3RhcnRlZCA9IGZhbHNlOwp9CgoKCgoKCgoKcHVibGljIHN0YXRpYyBmdW5jdGlvbiBnZXRGb3JtYXREZWZpbml0aW9uKCRuYW1lKQp7CmlmICghc2VsZjo6JGZvcm1hdHMpIHsKc2VsZjo6JGZvcm1hdHMgPSBzZWxmOjppbml0Rm9ybWF0cygpOwp9CgpyZXR1cm4gaXNzZXQoc2VsZjo6JGZvcm1hdHNbJG5hbWVdKSA/IHNlbGY6OiRmb3JtYXRzWyRuYW1lXSA6IG51bGw7Cn0KCgoKCgoKCgoKcHVibGljIHN0YXRpYyBmdW5jdGlvbiBzZXRQbGFjZWhvbGRlckZvcm1hdHRlckRlZmluaXRpb24oJG5hbWUsICRjYWxsYWJsZSkKewppZiAoIXNlbGY6OiRmb3JtYXR0ZXJzKSB7CnNlbGY6OiRmb3JtYXR0ZXJzID0gc2VsZjo6aW5pdFBsYWNlaG9sZGVyRm9ybWF0dGVycygpOwp9CgpzZWxmOjokZm9ybWF0dGVyc1skbmFtZV0gPSAkY2FsbGFibGU7Cn0KCgoKCgoKCgpwdWJsaWMgc3RhdGljIGZ1bmN0aW9uIGdldFBsYWNlaG9sZGVyRm9ybWF0dGVyRGVmaW5pdGlvbigkbmFtZSkKewppZiAoIXNlbGY6OiRmb3JtYXR0ZXJzKSB7CnNlbGY6OiRmb3JtYXR0ZXJzID0gc2VsZjo6aW5pdFBsYWNlaG9sZGVyRm9ybWF0dGVycygpOwp9CgpyZXR1cm4gaXNzZXQoc2VsZjo6JGZvcm1hdHRlcnNbJG5hbWVdKSA/IHNlbGY6OiRmb3JtYXR0ZXJzWyRuYW1lXSA6IG51bGw7Cn0KCnByaXZhdGUgZnVuY3Rpb24gZGlzcGxheSgpCnsKaWYgKE91dHB1dEludGVyZmFjZTo6VkVSQk9TSVRZX1FVSUVUID09PSAkdGhpcy0+b3V0cHV0LT5nZXRWZXJib3NpdHkoKSkgewpyZXR1cm47Cn0KCiRzZWxmID0gJHRoaXM7CgokdGhpcy0+b3ZlcndyaXRlKHByZWdfcmVwbGFjZV9jYWxsYmFjaygieyUoW2EtelwtX10rKSg/Olw6KFteJV0rKSk/JX1pIiwgZnVuY3Rpb24gKCRtYXRjaGVzKSB1c2UgKCRzZWxmKSB7CmlmICgkZm9ybWF0dGVyID0gJHNlbGY6OmdldFBsYWNlaG9sZGVyRm9ybWF0dGVyRGVmaW5pdGlvbigkbWF0Y2hlc1sxXSkpIHsKcmV0dXJuIFxjYWxsX3VzZXJfZnVuYygkZm9ybWF0dGVyLCAkc2VsZik7Cn0KCnJldHVybiAkbWF0Y2hlc1swXTsKfSwgJHRoaXMtPmZvcm1hdCkpOwp9Cgpwcml2YXRlIGZ1bmN0aW9uIGRldGVybWluZUJlc3RGb3JtYXQoKQp7CnN3aXRjaCAoJHRoaXMtPm91dHB1dC0+Z2V0VmVyYm9zaXR5KCkpIHsKCmNhc2UgT3V0cHV0SW50ZXJmYWNlOjpWRVJCT1NJVFlfVkVSQk9TRToKcmV0dXJuICR0aGlzLT5vdXRwdXQtPmlzRGVjb3JhdGVkKCkgPyAndmVyYm9zZScgOiAndmVyYm9zZV9ub19hbnNpJzsKY2FzZSBPdXRwdXRJbnRlcmZhY2U6OlZFUkJPU0lUWV9WRVJZX1ZFUkJPU0U6CmNhc2UgT3V0cHV0SW50ZXJmYWNlOjpWRVJCT1NJVFlfREVCVUc6CnJldHVybiAkdGhpcy0+b3V0cHV0LT5pc0RlY29yYXRlZCgpID8gJ3ZlcnlfdmVyYm9zZScgOiAndmVyeV92ZXJib3NlX25vX2Fuc2knOwpkZWZhdWx0OgpyZXR1cm4gJHRoaXMtPm91dHB1dC0+aXNEZWNvcmF0ZWQoKSA/ICdub3JtYWwnIDogJ25vcm1hbF9ub19hbnNpJzsKfQp9CgoKCgoKCnByaXZhdGUgZnVuY3Rpb24gb3ZlcndyaXRlKCRtZXNzYWdlKQp7CmlmICgkdGhpcy0+b3V0cHV0LT5pc0RlY29yYXRlZCgpKSB7CiR0aGlzLT5vdXRwdXQtPndyaXRlKCJceDBEXHgxQlsySyIpOwokdGhpcy0+b3V0cHV0LT53cml0ZSgkbWVzc2FnZSk7Cn0gZWxzZSB7CiR0aGlzLT5vdXRwdXQtPndyaXRlbG4oJG1lc3NhZ2UpOwp9Cn0KCnByaXZhdGUgZnVuY3Rpb24gZ2V0Q3VycmVudFRpbWVJbk1pbGxpc2Vjb25kcygpCnsKcmV0dXJuIHJvdW5kKG1pY3JvdGltZSh0cnVlKSAqIDEwMDApOwp9Cgpwcml2YXRlIHN0YXRpYyBmdW5jdGlvbiBpbml0UGxhY2Vob2xkZXJGb3JtYXR0ZXJzKCkKewpyZXR1cm4gYXJyYXkoCidpbmRpY2F0b3InID0+IGZ1bmN0aW9uIChQcm9ncmVzc0luZGljYXRvciAkaW5kaWNhdG9yKSB7CnJldHVybiAkaW5kaWNhdG9yLT5nZXRDdXJyZW50VmFsdWUoKTsKfSwKJ21lc3NhZ2UnID0+IGZ1bmN0aW9uIChQcm9ncmVzc0luZGljYXRvciAkaW5kaWNhdG9yKSB7CnJldHVybiAkaW5kaWNhdG9yLT5nZXRNZXNzYWdlKCk7Cn0sCidlbGFwc2VkJyA9PiBmdW5jdGlvbiAoUHJvZ3Jlc3NJbmRpY2F0b3IgJGluZGljYXRvcikgewpyZXR1cm4gSGVscGVyOjpmb3JtYXRUaW1lKHRpbWUoKSAtICRpbmRpY2F0b3ItPmdldFN0YXJ0VGltZSgpKTsKfSwKJ21lbW9yeScgPT4gZnVuY3Rpb24gKCkgewpyZXR1cm4gSGVscGVyOjpmb3JtYXRNZW1vcnkobWVtb3J5X2dldF91c2FnZSh0cnVlKSk7Cn0sCik7Cn0KCnByaXZhdGUgc3RhdGljIGZ1bmN0aW9uIGluaXRGb3JtYXRzKCkKewpyZXR1cm4gYXJyYXkoCidub3JtYWwnID0+ICcgJWluZGljYXRvciUgJW1lc3NhZ2UlJywKJ25vcm1hbF9ub19hbnNpJyA9PiAnICVtZXNzYWdlJScsCgondmVyYm9zZScgPT4gJyAlaW5kaWNhdG9yJSAlbWVzc2FnZSUgKCVlbGFwc2VkOjZzJSknLAondmVyYm9zZV9ub19hbnNpJyA9PiAnICVtZXNzYWdlJSAoJWVsYXBzZWQ6NnMlKScsCgondmVyeV92ZXJib3NlJyA9PiAnICVpbmRpY2F0b3IlICVtZXNzYWdlJSAoJWVsYXBzZWQ6NnMlLCAlbWVtb3J5OjZzJSknLAondmVyeV92ZXJib3NlX25vX2Fuc2knID0+ICcgJW1lc3NhZ2UlICglZWxhcHNlZDo2cyUsICVtZW1vcnk6NnMlKScsCik7Cn0KfQo8P3BocAoKCgoKCgoKCgoKbmFtZXNwYWNlIFN5bWZvbnlcQ29tcG9uZW50XENvbnNvbGVcSGVscGVyOwoKdXNlIFN5bWZvbnlcQ29tcG9uZW50XENvbnNvbGVcRXhjZXB0aW9uXEludmFsaWRBcmd1bWVudEV4Y2VwdGlvbjsKdXNlIFN5bWZvbnlcQ29tcG9uZW50XENvbnNvbGVcRXhjZXB0aW9uXFJ1bnRpbWVFeGNlcHRpb247CnVzZSBTeW1mb255XENvbXBvbmVudFxDb25zb2xlXEZvcm1hdHRlclxPdXRwdXRGb3JtYXR0ZXI7CnVzZSBTeW1mb255XENvbXBvbmVudFxDb25zb2xlXEZvcm1hdHRlclxPdXRwdXRGb3JtYXR0ZXJTdHlsZTsKdXNlIFN5bWZvbnlcQ29tcG9uZW50XENvbnNvbGVcSW5wdXRcSW5wdXRJbnRlcmZhY2U7CnVzZSBTeW1mb255XENvbXBvbmVudFxDb25zb2xlXE91dHB1dFxDb25zb2xlT3V0cHV0SW50ZXJmYWNlOwp1c2UgU3ltZm9ueVxDb21wb25lbnRcQ29uc29sZVxPdXRwdXRcT3V0cHV0SW50ZXJmYWNlOwp1c2UgU3ltZm9ueVxDb21wb25lbnRcQ29uc29sZVxRdWVzdGlvblxDaG9pY2VRdWVzdGlvbjsKdXNlIFN5bWZvbnlcQ29tcG9uZW50XENvbnNvbGVcUXVlc3Rpb25cUXVlc3Rpb247CgoKCgoKCmNsYXNzIFF1ZXN0aW9uSGVscGVyIGV4dGVuZHMgSGVscGVyCnsKcHJpdmF0ZSAkaW5wdXRTdHJlYW07CnByaXZhdGUgc3RhdGljICRzaGVsbDsKcHJpdmF0ZSBzdGF0aWMgJHN0dHk7CgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIGFzayhJbnB1dEludGVyZmFjZSAkaW5wdXQsIE91dHB1dEludGVyZmFjZSAkb3V0cHV0LCBRdWVzdGlvbiAkcXVlc3Rpb24pCnsKaWYgKCRvdXRwdXQgaW5zdGFuY2VvZiBDb25zb2xlT3V0cHV0SW50ZXJmYWNlKSB7CiRvdXRwdXQgPSAkb3V0cHV0LT5nZXRFcnJvck91dHB1dCgpOwp9CgppZiAoISRpbnB1dC0+aXNJbnRlcmFjdGl2ZSgpKSB7CiRkZWZhdWx0ID0gJHF1ZXN0aW9uLT5nZXREZWZhdWx0KCk7CgppZiAobnVsbCAhPT0gJGRlZmF1bHQgJiYgJHF1ZXN0aW9uIGluc3RhbmNlb2YgQ2hvaWNlUXVlc3Rpb24pIHsKJGNob2ljZXMgPSAkcXVlc3Rpb24tPmdldENob2ljZXMoKTsKCmlmICghJHF1ZXN0aW9uLT5pc011bHRpc2VsZWN0KCkpIHsKcmV0dXJuIGlzc2V0KCRjaG9pY2VzWyRkZWZhdWx0XSkgPyAkY2hvaWNlc1skZGVmYXVsdF0gOiAkZGVmYXVsdDsKfQoKJGRlZmF1bHQgPSBleHBsb2RlKCcsJywgJGRlZmF1bHQpOwpmb3JlYWNoICgkZGVmYXVsdCBhcyAkayA9PiAkdikgewokdiA9IHRyaW0oJHYpOwokZGVmYXVsdFska10gPSBpc3NldCgkY2hvaWNlc1skdl0pID8gJGNob2ljZXNbJHZdIDogJHY7Cn0KfQoKcmV0dXJuICRkZWZhdWx0Owp9CgppZiAoISRxdWVzdGlvbi0+Z2V0VmFsaWRhdG9yKCkpIHsKcmV0dXJuICR0aGlzLT5kb0Fzaygkb3V0cHV0LCAkcXVlc3Rpb24pOwp9CgokdGhhdCA9ICR0aGlzOwoKJGludGVydmlld2VyID0gZnVuY3Rpb24gKCkgdXNlICgkb3V0cHV0LCAkcXVlc3Rpb24sICR0aGF0KSB7CnJldHVybiAkdGhhdC0+ZG9Bc2soJG91dHB1dCwgJHF1ZXN0aW9uKTsKfTsKCnJldHVybiAkdGhpcy0+dmFsaWRhdGVBdHRlbXB0cygkaW50ZXJ2aWV3ZXIsICRvdXRwdXQsICRxdWVzdGlvbik7Cn0KCgoKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBzZXRJbnB1dFN0cmVhbSgkc3RyZWFtKQp7CmlmICghXGlzX3Jlc291cmNlKCRzdHJlYW0pKSB7CnRocm93IG5ldyBJbnZhbGlkQXJndW1lbnRFeGNlcHRpb24oJ0lucHV0IHN0cmVhbSBtdXN0IGJlIGEgdmFsaWQgcmVzb3VyY2UuJyk7Cn0KCiR0aGlzLT5pbnB1dFN0cmVhbSA9ICRzdHJlYW07Cn0KCgoKCgoKcHVibGljIGZ1bmN0aW9uIGdldElucHV0U3RyZWFtKCkKewpyZXR1cm4gJHRoaXMtPmlucHV0U3RyZWFtOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0TmFtZSgpCnsKcmV0dXJuICdxdWVzdGlvbic7Cn0KCgoKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBkb0FzayhPdXRwdXRJbnRlcmZhY2UgJG91dHB1dCwgUXVlc3Rpb24gJHF1ZXN0aW9uKQp7CiR0aGlzLT53cml0ZVByb21wdCgkb3V0cHV0LCAkcXVlc3Rpb24pOwoKJGlucHV0U3RyZWFtID0gJHRoaXMtPmlucHV0U3RyZWFtID86IFNURElOOwokYXV0b2NvbXBsZXRlID0gJHF1ZXN0aW9uLT5nZXRBdXRvY29tcGxldGVyVmFsdWVzKCk7CgppZiAobnVsbCA9PT0gJGF1dG9jb21wbGV0ZSB8fCAhJHRoaXMtPmhhc1N0dHlBdmFpbGFibGUoKSkgewokcmV0ID0gZmFsc2U7CmlmICgkcXVlc3Rpb24tPmlzSGlkZGVuKCkpIHsKdHJ5IHsKJHJldCA9IHRyaW0oJHRoaXMtPmdldEhpZGRlblJlc3BvbnNlKCRvdXRwdXQsICRpbnB1dFN0cmVhbSkpOwp9IGNhdGNoIChSdW50aW1lRXhjZXB0aW9uICRlKSB7CmlmICghJHF1ZXN0aW9uLT5pc0hpZGRlbkZhbGxiYWNrKCkpIHsKdGhyb3cgJGU7Cn0KfQp9CgppZiAoZmFsc2UgPT09ICRyZXQpIHsKJHJldCA9IGZnZXRzKCRpbnB1dFN0cmVhbSwgNDA5Nik7CmlmIChmYWxzZSA9PT0gJHJldCkgewp0aHJvdyBuZXcgUnVudGltZUV4Y2VwdGlvbignQWJvcnRlZCcpOwp9CiRyZXQgPSB0cmltKCRyZXQpOwp9Cn0gZWxzZSB7CiRyZXQgPSB0cmltKCR0aGlzLT5hdXRvY29tcGxldGUoJG91dHB1dCwgJHF1ZXN0aW9uLCAkaW5wdXRTdHJlYW0sIFxpc19hcnJheSgkYXV0b2NvbXBsZXRlKSA/ICRhdXRvY29tcGxldGUgOiBpdGVyYXRvcl90b19hcnJheSgkYXV0b2NvbXBsZXRlLCBmYWxzZSkpKTsKfQoKJHJldCA9IFxzdHJsZW4oJHJldCkgPiAwID8gJHJldCA6ICRxdWVzdGlvbi0+Z2V0RGVmYXVsdCgpOwoKaWYgKCRub3JtYWxpemVyID0gJHF1ZXN0aW9uLT5nZXROb3JtYWxpemVyKCkpIHsKcmV0dXJuICRub3JtYWxpemVyKCRyZXQpOwp9CgpyZXR1cm4gJHJldDsKfQoKCgoKcHJvdGVjdGVkIGZ1bmN0aW9uIHdyaXRlUHJvbXB0KE91dHB1dEludGVyZmFjZSAkb3V0cHV0LCBRdWVzdGlvbiAkcXVlc3Rpb24pCnsKJG1lc3NhZ2UgPSAkcXVlc3Rpb24tPmdldFF1ZXN0aW9uKCk7CgppZiAoJHF1ZXN0aW9uIGluc3RhbmNlb2YgQ2hvaWNlUXVlc3Rpb24pIHsKJG1heFdpZHRoID0gbWF4KGFycmF5X21hcChhcnJheSgkdGhpcywgJ3N0cmxlbicpLCBhcnJheV9rZXlzKCRxdWVzdGlvbi0+Z2V0Q2hvaWNlcygpKSkpOwoKJG1lc3NhZ2VzID0gKGFycmF5KSAkcXVlc3Rpb24tPmdldFF1ZXN0aW9uKCk7CmZvcmVhY2ggKCRxdWVzdGlvbi0+Z2V0Q2hvaWNlcygpIGFzICRrZXkgPT4gJHZhbHVlKSB7CiR3aWR0aCA9ICRtYXhXaWR0aCAtICR0aGlzLT5zdHJsZW4oJGtleSk7CiRtZXNzYWdlc1tdID0gJyAgWzxpbmZvPicuJGtleS5zdHJfcmVwZWF0KCcgJywgJHdpZHRoKS4nPC9pbmZvPl0gJy4kdmFsdWU7Cn0KCiRvdXRwdXQtPndyaXRlbG4oJG1lc3NhZ2VzKTsKCiRtZXNzYWdlID0gJHF1ZXN0aW9uLT5nZXRQcm9tcHQoKTsKfQoKJG91dHB1dC0+d3JpdGUoJG1lc3NhZ2UpOwp9CgoKCgpwcm90ZWN0ZWQgZnVuY3Rpb24gd3JpdGVFcnJvcihPdXRwdXRJbnRlcmZhY2UgJG91dHB1dCwgXEV4Y2VwdGlvbiAkZXJyb3IpCnsKaWYgKG51bGwgIT09ICR0aGlzLT5nZXRIZWxwZXJTZXQoKSAmJiAkdGhpcy0+Z2V0SGVscGVyU2V0KCktPmhhcygnZm9ybWF0dGVyJykpIHsKJG1lc3NhZ2UgPSAkdGhpcy0+Z2V0SGVscGVyU2V0KCktPmdldCgnZm9ybWF0dGVyJyktPmZvcm1hdEJsb2NrKCRlcnJvci0+Z2V0TWVzc2FnZSgpLCAnZXJyb3InKTsKfSBlbHNlIHsKJG1lc3NhZ2UgPSAnPGVycm9yPicuJGVycm9yLT5nZXRNZXNzYWdlKCkuJzwvZXJyb3I+JzsKfQoKJG91dHB1dC0+d3JpdGVsbigkbWVzc2FnZSk7Cn0KCgoKCgoKCgoKCgpwcml2YXRlIGZ1bmN0aW9uIGF1dG9jb21wbGV0ZShPdXRwdXRJbnRlcmZhY2UgJG91dHB1dCwgUXVlc3Rpb24gJHF1ZXN0aW9uLCAkaW5wdXRTdHJlYW0sIGFycmF5ICRhdXRvY29tcGxldGUpCnsKJHJldCA9ICcnOwoKJGkgPSAwOwokb2ZzID0gLTE7CiRtYXRjaGVzID0gJGF1dG9jb21wbGV0ZTsKJG51bU1hdGNoZXMgPSBcY291bnQoJG1hdGNoZXMpOwoKJHN0dHlNb2RlID0gc2hlbGxfZXhlYygnc3R0eSAtZycpOwoKCnNoZWxsX2V4ZWMoJ3N0dHkgLWljYW5vbiAtZWNobycpOwoKCiRvdXRwdXQtPmdldEZvcm1hdHRlcigpLT5zZXRTdHlsZSgnaGwnLCBuZXcgT3V0cHV0Rm9ybWF0dGVyU3R5bGUoJ2JsYWNrJywgJ3doaXRlJykpOwoKCndoaWxlICghZmVvZigkaW5wdXRTdHJlYW0pKSB7CiRjID0gZnJlYWQoJGlucHV0U3RyZWFtLCAxKTsKCgppZiAoIlwxNzciID09PSAkYykgewppZiAoMCA9PT0gJG51bU1hdGNoZXMgJiYgMCAhPT0gJGkpIHsKLS0kaTsKCiRvdXRwdXQtPndyaXRlKCJcMDMzWzFEIik7Cn0KCmlmICgwID09PSAkaSkgewokb2ZzID0gLTE7CiRtYXRjaGVzID0gJGF1dG9jb21wbGV0ZTsKJG51bU1hdGNoZXMgPSBcY291bnQoJG1hdGNoZXMpOwp9IGVsc2UgewokbnVtTWF0Y2hlcyA9IDA7Cn0KCgokcmV0ID0gc3Vic3RyKCRyZXQsIDAsICRpKTsKfSBlbHNlaWYgKCJcMDMzIiA9PT0gJGMpIHsKCiRjIC49IGZyZWFkKCRpbnB1dFN0cmVhbSwgMik7CgoKaWYgKGlzc2V0KCRjWzJdKSAmJiAoJ0EnID09PSAkY1syXSB8fCAnQicgPT09ICRjWzJdKSkgewppZiAoJ0EnID09PSAkY1syXSAmJiAtMSA9PT0gJG9mcykgewokb2ZzID0gMDsKfQoKaWYgKDAgPT09ICRudW1NYXRjaGVzKSB7CmNvbnRpbnVlOwp9Cgokb2ZzICs9ICgnQScgPT09ICRjWzJdKSA/IC0xIDogMTsKJG9mcyA9ICgkbnVtTWF0Y2hlcyArICRvZnMpICUgJG51bU1hdGNoZXM7Cn0KfSBlbHNlaWYgKFxvcmQoJGMpIDwgMzIpIHsKaWYgKCJcdCIgPT09ICRjIHx8ICJcbiIgPT09ICRjKSB7CmlmICgkbnVtTWF0Y2hlcyA+IDAgJiYgLTEgIT09ICRvZnMpIHsKJHJldCA9ICRtYXRjaGVzWyRvZnNdOwoKJG91dHB1dC0+d3JpdGUoc3Vic3RyKCRyZXQsICRpKSk7CiRpID0gXHN0cmxlbigkcmV0KTsKfQoKaWYgKCJcbiIgPT09ICRjKSB7CiRvdXRwdXQtPndyaXRlKCRjKTsKYnJlYWs7Cn0KCiRudW1NYXRjaGVzID0gMDsKfQoKY29udGludWU7Cn0gZWxzZSB7CiRvdXRwdXQtPndyaXRlKCRjKTsKJHJldCAuPSAkYzsKKyskaTsKCiRudW1NYXRjaGVzID0gMDsKJG9mcyA9IDA7Cgpmb3JlYWNoICgkYXV0b2NvbXBsZXRlIGFzICR2YWx1ZSkgewoKaWYgKDAgPT09IHN0cnBvcygkdmFsdWUsICRyZXQpKSB7CiRtYXRjaGVzWyRudW1NYXRjaGVzKytdID0gJHZhbHVlOwp9Cn0KfQoKCiRvdXRwdXQtPndyaXRlKCJcMDMzW0siKTsKCmlmICgkbnVtTWF0Y2hlcyA+IDAgJiYgLTEgIT09ICRvZnMpIHsKCiRvdXRwdXQtPndyaXRlKCJcMDMzNyIpOwoKJG91dHB1dC0+d3JpdGUoJzxobD4nLk91dHB1dEZvcm1hdHRlcjo6ZXNjYXBlVHJhaWxpbmdCYWNrc2xhc2goc3Vic3RyKCRtYXRjaGVzWyRvZnNdLCAkaSkpLic8L2hsPicpOwoKJG91dHB1dC0+d3JpdGUoIlwwMzM4Iik7Cn0KfQoKCnNoZWxsX2V4ZWMoc3ByaW50Zignc3R0eSAlcycsICRzdHR5TW9kZSkpOwoKcmV0dXJuICRyZXQ7Cn0KCgoKCgoKCgoKCgpwcml2YXRlIGZ1bmN0aW9uIGdldEhpZGRlblJlc3BvbnNlKE91dHB1dEludGVyZmFjZSAkb3V0cHV0LCAkaW5wdXRTdHJlYW0pCnsKaWYgKCdcXCcgPT09IFxESVJFQ1RPUllfU0VQQVJBVE9SKSB7CiRleGUgPSBfX0RJUl9fLicvLi4vUmVzb3VyY2VzL2Jpbi9oaWRkZW5pbnB1dC5leGUnOwoKCmlmICgncGhhcjonID09PSBzdWJzdHIoX19GSUxFX18sIDAsIDUpKSB7CiR0bXBFeGUgPSBzeXNfZ2V0X3RlbXBfZGlyKCkuJy9oaWRkZW5pbnB1dC5leGUnOwpjb3B5KCRleGUsICR0bXBFeGUpOwokZXhlID0gJHRtcEV4ZTsKfQoKJHZhbHVlID0gcnRyaW0oc2hlbGxfZXhlYygkZXhlKSk7CiRvdXRwdXQtPndyaXRlbG4oJycpOwoKaWYgKGlzc2V0KCR0bXBFeGUpKSB7CnVubGluaygkdG1wRXhlKTsKfQoKcmV0dXJuICR2YWx1ZTsKfQoKaWYgKCR0aGlzLT5oYXNTdHR5QXZhaWxhYmxlKCkpIHsKJHN0dHlNb2RlID0gc2hlbGxfZXhlYygnc3R0eSAtZycpOwoKc2hlbGxfZXhlYygnc3R0eSAtZWNobycpOwokdmFsdWUgPSBmZ2V0cygkaW5wdXRTdHJlYW0sIDQwOTYpOwpzaGVsbF9leGVjKHNwcmludGYoJ3N0dHkgJXMnLCAkc3R0eU1vZGUpKTsKCmlmIChmYWxzZSA9PT0gJHZhbHVlKSB7CnRocm93IG5ldyBSdW50aW1lRXhjZXB0aW9uKCdBYm9ydGVkJyk7Cn0KCiR2YWx1ZSA9IHRyaW0oJHZhbHVlKTsKJG91dHB1dC0+d3JpdGVsbignJyk7CgpyZXR1cm4gJHZhbHVlOwp9CgppZiAoZmFsc2UgIT09ICRzaGVsbCA9ICR0aGlzLT5nZXRTaGVsbCgpKSB7CiRyZWFkQ21kID0gJ2NzaCcgPT09ICRzaGVsbCA/ICdzZXQgbXlwYXNzd29yZCA9ICQ8JyA6ICdyZWFkIC1yIG15cGFzc3dvcmQnOwokY29tbWFuZCA9IHNwcmludGYoIi91c3IvYmluL2VudiAlcyAtYyAnc3R0eSAtZWNobzsgJXM7IHN0dHkgZWNobzsgZWNobyBcJG15cGFzc3dvcmQnIiwgJHNoZWxsLCAkcmVhZENtZCk7CiR2YWx1ZSA9IHJ0cmltKHNoZWxsX2V4ZWMoJGNvbW1hbmQpKTsKJG91dHB1dC0+d3JpdGVsbignJyk7CgpyZXR1cm4gJHZhbHVlOwp9Cgp0aHJvdyBuZXcgUnVudGltZUV4Y2VwdGlvbignVW5hYmxlIHRvIGhpZGUgdGhlIHJlc3BvbnNlLicpOwp9CgoKCgoKCgoKCgoKCnByaXZhdGUgZnVuY3Rpb24gdmFsaWRhdGVBdHRlbXB0cygkaW50ZXJ2aWV3ZXIsIE91dHB1dEludGVyZmFjZSAkb3V0cHV0LCBRdWVzdGlvbiAkcXVlc3Rpb24pCnsKJGVycm9yID0gbnVsbDsKJGF0dGVtcHRzID0gJHF1ZXN0aW9uLT5nZXRNYXhBdHRlbXB0cygpOwp3aGlsZSAobnVsbCA9PT0gJGF0dGVtcHRzIHx8ICRhdHRlbXB0cy0tKSB7CmlmIChudWxsICE9PSAkZXJyb3IpIHsKJHRoaXMtPndyaXRlRXJyb3IoJG91dHB1dCwgJGVycm9yKTsKfQoKdHJ5IHsKcmV0dXJuIFxjYWxsX3VzZXJfZnVuYygkcXVlc3Rpb24tPmdldFZhbGlkYXRvcigpLCAkaW50ZXJ2aWV3ZXIoKSk7Cn0gY2F0Y2ggKFJ1bnRpbWVFeGNlcHRpb24gJGUpIHsKdGhyb3cgJGU7Cn0gY2F0Y2ggKFxFeGNlcHRpb24gJGVycm9yKSB7Cn0KfQoKdGhyb3cgJGVycm9yOwp9CgoKCgoKCnByaXZhdGUgZnVuY3Rpb24gZ2V0U2hlbGwoKQp7CmlmIChudWxsICE9PSBzZWxmOjokc2hlbGwpIHsKcmV0dXJuIHNlbGY6OiRzaGVsbDsKfQoKc2VsZjo6JHNoZWxsID0gZmFsc2U7CgppZiAoZmlsZV9leGlzdHMoJy91c3IvYmluL2VudicpKSB7CgokdGVzdCA9ICIvdXNyL2Jpbi9lbnYgJXMgLWMgJ2VjaG8gT0snIDI+IC9kZXYvbnVsbCI7CmZvcmVhY2ggKGFycmF5KCdiYXNoJywgJ3pzaCcsICdrc2gnLCAnY3NoJykgYXMgJHNoKSB7CmlmICgnT0snID09PSBydHJpbShzaGVsbF9leGVjKHNwcmludGYoJHRlc3QsICRzaCkpKSkgewpzZWxmOjokc2hlbGwgPSAkc2g7CmJyZWFrOwp9Cn0KfQoKcmV0dXJuIHNlbGY6OiRzaGVsbDsKfQoKCgoKCgpwcml2YXRlIGZ1bmN0aW9uIGhhc1N0dHlBdmFpbGFibGUoKQp7CmlmIChudWxsICE9PSBzZWxmOjokc3R0eSkgewpyZXR1cm4gc2VsZjo6JHN0dHk7Cn0KCmV4ZWMoJ3N0dHkgMj4mMScsICRvdXRwdXQsICRleGl0Y29kZSk7CgpyZXR1cm4gc2VsZjo6JHN0dHkgPSAwID09PSAkZXhpdGNvZGU7Cn0KfQo8P3BocAoKCgoKCgoKCgoKbmFtZXNwYWNlIFN5bWZvbnlcQ29tcG9uZW50XENvbnNvbGVcSGVscGVyOwoKdXNlIFN5bWZvbnlcQ29tcG9uZW50XENvbnNvbGVcRXhjZXB0aW9uXExvZ2ljRXhjZXB0aW9uOwp1c2UgU3ltZm9ueVxDb21wb25lbnRcQ29uc29sZVxGb3JtYXR0ZXJcT3V0cHV0Rm9ybWF0dGVyOwp1c2UgU3ltZm9ueVxDb21wb25lbnRcQ29uc29sZVxJbnB1dFxJbnB1dEludGVyZmFjZTsKdXNlIFN5bWZvbnlcQ29tcG9uZW50XENvbnNvbGVcT3V0cHV0XE91dHB1dEludGVyZmFjZTsKdXNlIFN5bWZvbnlcQ29tcG9uZW50XENvbnNvbGVcUXVlc3Rpb25cQ2hvaWNlUXVlc3Rpb247CnVzZSBTeW1mb255XENvbXBvbmVudFxDb25zb2xlXFF1ZXN0aW9uXENvbmZpcm1hdGlvblF1ZXN0aW9uOwp1c2UgU3ltZm9ueVxDb21wb25lbnRcQ29uc29sZVxRdWVzdGlvblxRdWVzdGlvbjsKdXNlIFN5bWZvbnlcQ29tcG9uZW50XENvbnNvbGVcU3R5bGVcU3ltZm9ueVN0eWxlOwoKCgoKCgpjbGFzcyBTeW1mb255UXVlc3Rpb25IZWxwZXIgZXh0ZW5kcyBRdWVzdGlvbkhlbHBlcgp7CgoKCnB1YmxpYyBmdW5jdGlvbiBhc2soSW5wdXRJbnRlcmZhY2UgJGlucHV0LCBPdXRwdXRJbnRlcmZhY2UgJG91dHB1dCwgUXVlc3Rpb24gJHF1ZXN0aW9uKQp7CiR2YWxpZGF0b3IgPSAkcXVlc3Rpb24tPmdldFZhbGlkYXRvcigpOwokcXVlc3Rpb24tPnNldFZhbGlkYXRvcihmdW5jdGlvbiAoJHZhbHVlKSB1c2UgKCR2YWxpZGF0b3IpIHsKaWYgKG51bGwgIT09ICR2YWxpZGF0b3IpIHsKJHZhbHVlID0gJHZhbGlkYXRvcigkdmFsdWUpOwp9IGVsc2UgewoKaWYgKCFcaXNfYXJyYXkoJHZhbHVlKSAmJiAhXGlzX2Jvb2woJHZhbHVlKSAmJiAwID09PSBcc3RybGVuKCR2YWx1ZSkpIHsKdGhyb3cgbmV3IExvZ2ljRXhjZXB0aW9uKCdBIHZhbHVlIGlzIHJlcXVpcmVkLicpOwp9Cn0KCnJldHVybiAkdmFsdWU7Cn0pOwoKcmV0dXJuIHBhcmVudDo6YXNrKCRpbnB1dCwgJG91dHB1dCwgJHF1ZXN0aW9uKTsKfQoKCgoKcHJvdGVjdGVkIGZ1bmN0aW9uIHdyaXRlUHJvbXB0KE91dHB1dEludGVyZmFjZSAkb3V0cHV0LCBRdWVzdGlvbiAkcXVlc3Rpb24pCnsKJHRleHQgPSBPdXRwdXRGb3JtYXR0ZXI6OmVzY2FwZVRyYWlsaW5nQmFja3NsYXNoKCRxdWVzdGlvbi0+Z2V0UXVlc3Rpb24oKSk7CiRkZWZhdWx0ID0gJHF1ZXN0aW9uLT5nZXREZWZhdWx0KCk7Cgpzd2l0Y2ggKHRydWUpIHsKY2FzZSBudWxsID09PSAkZGVmYXVsdDoKJHRleHQgPSBzcHJpbnRmKCcgPGluZm8+JXM8L2luZm8+OicsICR0ZXh0KTsKCmJyZWFrOwoKY2FzZSAkcXVlc3Rpb24gaW5zdGFuY2VvZiBDb25maXJtYXRpb25RdWVzdGlvbjoKJHRleHQgPSBzcHJpbnRmKCcgPGluZm8+JXMgKHllcy9ubyk8L2luZm8+IFs8Y29tbWVudD4lczwvY29tbWVudD5dOicsICR0ZXh0LCAkZGVmYXVsdCA/ICd5ZXMnIDogJ25vJyk7CgpicmVhazsKCmNhc2UgJHF1ZXN0aW9uIGluc3RhbmNlb2YgQ2hvaWNlUXVlc3Rpb24gJiYgJHF1ZXN0aW9uLT5pc011bHRpc2VsZWN0KCk6CiRjaG9pY2VzID0gJHF1ZXN0aW9uLT5nZXRDaG9pY2VzKCk7CiRkZWZhdWx0ID0gZXhwbG9kZSgnLCcsICRkZWZhdWx0KTsKCmZvcmVhY2ggKCRkZWZhdWx0IGFzICRrZXkgPT4gJHZhbHVlKSB7CiRkZWZhdWx0WyRrZXldID0gJGNob2ljZXNbdHJpbSgkdmFsdWUpXTsKfQoKJHRleHQgPSBzcHJpbnRmKCcgPGluZm8+JXM8L2luZm8+IFs8Y29tbWVudD4lczwvY29tbWVudD5dOicsICR0ZXh0LCBPdXRwdXRGb3JtYXR0ZXI6OmVzY2FwZShpbXBsb2RlKCcsICcsICRkZWZhdWx0KSkpOwoKYnJlYWs7CgpjYXNlICRxdWVzdGlvbiBpbnN0YW5jZW9mIENob2ljZVF1ZXN0aW9uOgokY2hvaWNlcyA9ICRxdWVzdGlvbi0+Z2V0Q2hvaWNlcygpOwokdGV4dCA9IHNwcmludGYoJyA8aW5mbz4lczwvaW5mbz4gWzxjb21tZW50PiVzPC9jb21tZW50Pl06JywgJHRleHQsIE91dHB1dEZvcm1hdHRlcjo6ZXNjYXBlKGlzc2V0KCRjaG9pY2VzWyRkZWZhdWx0XSkgPyAkY2hvaWNlc1skZGVmYXVsdF0gOiAkZGVmYXVsdCkpOwoKYnJlYWs7CgpkZWZhdWx0OgokdGV4dCA9IHNwcmludGYoJyA8aW5mbz4lczwvaW5mbz4gWzxjb21tZW50PiVzPC9jb21tZW50Pl06JywgJHRleHQsIE91dHB1dEZvcm1hdHRlcjo6ZXNjYXBlKCRkZWZhdWx0KSk7Cn0KCiRvdXRwdXQtPndyaXRlbG4oJHRleHQpOwoKaWYgKCRxdWVzdGlvbiBpbnN0YW5jZW9mIENob2ljZVF1ZXN0aW9uKSB7CiR3aWR0aCA9IG1heChhcnJheV9tYXAoJ3N0cmxlbicsIGFycmF5X2tleXMoJHF1ZXN0aW9uLT5nZXRDaG9pY2VzKCkpKSk7Cgpmb3JlYWNoICgkcXVlc3Rpb24tPmdldENob2ljZXMoKSBhcyAka2V5ID0+ICR2YWx1ZSkgewokb3V0cHV0LT53cml0ZWxuKHNwcmludGYoIiAgWzxjb21tZW50PiUtJHt3aWR0aH1zPC9jb21tZW50Pl0gJXMiLCAka2V5LCAkdmFsdWUpKTsKfQp9Cgokb3V0cHV0LT53cml0ZSgnID4gJyk7Cn0KCgoKCnByb3RlY3RlZCBmdW5jdGlvbiB3cml0ZUVycm9yKE91dHB1dEludGVyZmFjZSAkb3V0cHV0LCBcRXhjZXB0aW9uICRlcnJvcikKewppZiAoJG91dHB1dCBpbnN0YW5jZW9mIFN5bWZvbnlTdHlsZSkgewokb3V0cHV0LT5uZXdMaW5lKCk7CiRvdXRwdXQtPmVycm9yKCRlcnJvci0+Z2V0TWVzc2FnZSgpKTsKCnJldHVybjsKfQoKcGFyZW50Ojp3cml0ZUVycm9yKCRvdXRwdXQsICRlcnJvcik7Cn0KfQo8P3BocAoKCgoKCgoKCgoKbmFtZXNwYWNlIFN5bWZvbnlcQ29tcG9uZW50XENvbnNvbGVcSGVscGVyOwoKdXNlIFN5bWZvbnlcQ29tcG9uZW50XENvbnNvbGVcRXhjZXB0aW9uXEludmFsaWRBcmd1bWVudEV4Y2VwdGlvbjsKdXNlIFN5bWZvbnlcQ29tcG9uZW50XENvbnNvbGVcT3V0cHV0XE91dHB1dEludGVyZmFjZTsKCgoKCgoKCgoKY2xhc3MgVGFibGUKewoKCgpwcml2YXRlICRoZWFkZXJzID0gYXJyYXkoKTsKCgoKCnByaXZhdGUgJHJvd3MgPSBhcnJheSgpOwoKCgoKcHJpdmF0ZSAkY29sdW1uV2lkdGhzID0gYXJyYXkoKTsKCgoKCgoKcHJpdmF0ZSAkbnVtYmVyT2ZDb2x1bW5zOwoKCgoKcHJpdmF0ZSAkb3V0cHV0OwoKCgoKcHJpdmF0ZSAkc3R5bGU7CgoKCgpwcml2YXRlICRjb2x1bW5TdHlsZXMgPSBhcnJheSgpOwoKcHJpdmF0ZSBzdGF0aWMgJHN0eWxlczsKCnB1YmxpYyBmdW5jdGlvbiBfX2NvbnN0cnVjdChPdXRwdXRJbnRlcmZhY2UgJG91dHB1dCkKewokdGhpcy0+b3V0cHV0ID0gJG91dHB1dDsKCmlmICghc2VsZjo6JHN0eWxlcykgewpzZWxmOjokc3R5bGVzID0gc2VsZjo6aW5pdFN0eWxlcygpOwp9CgokdGhpcy0+c2V0U3R5bGUoJ2RlZmF1bHQnKTsKfQoKCgoKCgoKcHVibGljIHN0YXRpYyBmdW5jdGlvbiBzZXRTdHlsZURlZmluaXRpb24oJG5hbWUsIFRhYmxlU3R5bGUgJHN0eWxlKQp7CmlmICghc2VsZjo6JHN0eWxlcykgewpzZWxmOjokc3R5bGVzID0gc2VsZjo6aW5pdFN0eWxlcygpOwp9CgpzZWxmOjokc3R5bGVzWyRuYW1lXSA9ICRzdHlsZTsKfQoKCgoKCgoKCnB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gZ2V0U3R5bGVEZWZpbml0aW9uKCRuYW1lKQp7CmlmICghc2VsZjo6JHN0eWxlcykgewpzZWxmOjokc3R5bGVzID0gc2VsZjo6aW5pdFN0eWxlcygpOwp9CgppZiAoaXNzZXQoc2VsZjo6JHN0eWxlc1skbmFtZV0pKSB7CnJldHVybiBzZWxmOjokc3R5bGVzWyRuYW1lXTsKfQoKdGhyb3cgbmV3IEludmFsaWRBcmd1bWVudEV4Y2VwdGlvbihzcHJpbnRmKCdTdHlsZSAiJXMiIGlzIG5vdCBkZWZpbmVkLicsICRuYW1lKSk7Cn0KCgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gc2V0U3R5bGUoJG5hbWUpCnsKJHRoaXMtPnN0eWxlID0gJHRoaXMtPnJlc29sdmVTdHlsZSgkbmFtZSk7CgpyZXR1cm4gJHRoaXM7Cn0KCgoKCgoKcHVibGljIGZ1bmN0aW9uIGdldFN0eWxlKCkKewpyZXR1cm4gJHRoaXMtPnN0eWxlOwp9CgoKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBzZXRDb2x1bW5TdHlsZSgkY29sdW1uSW5kZXgsICRuYW1lKQp7CiRjb2x1bW5JbmRleCA9IChpbnQpICRjb2x1bW5JbmRleDsKCiR0aGlzLT5jb2x1bW5TdHlsZXNbJGNvbHVtbkluZGV4XSA9ICR0aGlzLT5yZXNvbHZlU3R5bGUoJG5hbWUpOwoKcmV0dXJuICR0aGlzOwp9CgoKCgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0Q29sdW1uU3R5bGUoJGNvbHVtbkluZGV4KQp7CmlmIChpc3NldCgkdGhpcy0+Y29sdW1uU3R5bGVzWyRjb2x1bW5JbmRleF0pKSB7CnJldHVybiAkdGhpcy0+Y29sdW1uU3R5bGVzWyRjb2x1bW5JbmRleF07Cn0KCnJldHVybiAkdGhpcy0+Z2V0U3R5bGUoKTsKfQoKcHVibGljIGZ1bmN0aW9uIHNldEhlYWRlcnMoYXJyYXkgJGhlYWRlcnMpCnsKJGhlYWRlcnMgPSBhcnJheV92YWx1ZXMoJGhlYWRlcnMpOwppZiAoIWVtcHR5KCRoZWFkZXJzKSAmJiAhXGlzX2FycmF5KCRoZWFkZXJzWzBdKSkgewokaGVhZGVycyA9IGFycmF5KCRoZWFkZXJzKTsKfQoKJHRoaXMtPmhlYWRlcnMgPSAkaGVhZGVyczsKCnJldHVybiAkdGhpczsKfQoKcHVibGljIGZ1bmN0aW9uIHNldFJvd3MoYXJyYXkgJHJvd3MpCnsKJHRoaXMtPnJvd3MgPSBhcnJheSgpOwoKcmV0dXJuICR0aGlzLT5hZGRSb3dzKCRyb3dzKTsKfQoKcHVibGljIGZ1bmN0aW9uIGFkZFJvd3MoYXJyYXkgJHJvd3MpCnsKZm9yZWFjaCAoJHJvd3MgYXMgJHJvdykgewokdGhpcy0+YWRkUm93KCRyb3cpOwp9CgpyZXR1cm4gJHRoaXM7Cn0KCnB1YmxpYyBmdW5jdGlvbiBhZGRSb3coJHJvdykKewppZiAoJHJvdyBpbnN0YW5jZW9mIFRhYmxlU2VwYXJhdG9yKSB7CiR0aGlzLT5yb3dzW10gPSAkcm93OwoKcmV0dXJuICR0aGlzOwp9CgppZiAoIVxpc19hcnJheSgkcm93KSkgewp0aHJvdyBuZXcgSW52YWxpZEFyZ3VtZW50RXhjZXB0aW9uKCdBIHJvdyBtdXN0IGJlIGFuIGFycmF5IG9yIGEgVGFibGVTZXBhcmF0b3IgaW5zdGFuY2UuJyk7Cn0KCiR0aGlzLT5yb3dzW10gPSBhcnJheV92YWx1ZXMoJHJvdyk7CgpyZXR1cm4gJHRoaXM7Cn0KCnB1YmxpYyBmdW5jdGlvbiBzZXRSb3coJGNvbHVtbiwgYXJyYXkgJHJvdykKewokdGhpcy0+cm93c1skY29sdW1uXSA9ICRyb3c7CgpyZXR1cm4gJHRoaXM7Cn0KCgoKCgoKCgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gcmVuZGVyKCkKewokdGhpcy0+Y2FsY3VsYXRlTnVtYmVyT2ZDb2x1bW5zKCk7CiRyb3dzID0gJHRoaXMtPmJ1aWxkVGFibGVSb3dzKCR0aGlzLT5yb3dzKTsKJGhlYWRlcnMgPSAkdGhpcy0+YnVpbGRUYWJsZVJvd3MoJHRoaXMtPmhlYWRlcnMpOwoKJHRoaXMtPmNhbGN1bGF0ZUNvbHVtbnNXaWR0aChhcnJheV9tZXJnZSgkaGVhZGVycywgJHJvd3MpKTsKCiR0aGlzLT5yZW5kZXJSb3dTZXBhcmF0b3IoKTsKaWYgKCFlbXB0eSgkaGVhZGVycykpIHsKZm9yZWFjaCAoJGhlYWRlcnMgYXMgJGhlYWRlcikgewokdGhpcy0+cmVuZGVyUm93KCRoZWFkZXIsICR0aGlzLT5zdHlsZS0+Z2V0Q2VsbEhlYWRlckZvcm1hdCgpKTsKJHRoaXMtPnJlbmRlclJvd1NlcGFyYXRvcigpOwp9Cn0KZm9yZWFjaCAoJHJvd3MgYXMgJHJvdykgewppZiAoJHJvdyBpbnN0YW5jZW9mIFRhYmxlU2VwYXJhdG9yKSB7CiR0aGlzLT5yZW5kZXJSb3dTZXBhcmF0b3IoKTsKfSBlbHNlIHsKJHRoaXMtPnJlbmRlclJvdygkcm93LCAkdGhpcy0+c3R5bGUtPmdldENlbGxSb3dGb3JtYXQoKSk7Cn0KfQppZiAoIWVtcHR5KCRyb3dzKSkgewokdGhpcy0+cmVuZGVyUm93U2VwYXJhdG9yKCk7Cn0KCiR0aGlzLT5jbGVhbnVwKCk7Cn0KCgoKCgoKCgpwcml2YXRlIGZ1bmN0aW9uIHJlbmRlclJvd1NlcGFyYXRvcigpCnsKaWYgKDAgPT09ICRjb3VudCA9ICR0aGlzLT5udW1iZXJPZkNvbHVtbnMpIHsKcmV0dXJuOwp9CgppZiAoISR0aGlzLT5zdHlsZS0+Z2V0SG9yaXpvbnRhbEJvcmRlckNoYXIoKSAmJiAhJHRoaXMtPnN0eWxlLT5nZXRDcm9zc2luZ0NoYXIoKSkgewpyZXR1cm47Cn0KCiRtYXJrdXAgPSAkdGhpcy0+c3R5bGUtPmdldENyb3NzaW5nQ2hhcigpOwpmb3IgKCRjb2x1bW4gPSAwOyAkY29sdW1uIDwgJGNvdW50OyArKyRjb2x1bW4pIHsKJG1hcmt1cCAuPSBzdHJfcmVwZWF0KCR0aGlzLT5zdHlsZS0+Z2V0SG9yaXpvbnRhbEJvcmRlckNoYXIoKSwgJHRoaXMtPmNvbHVtbldpZHRoc1skY29sdW1uXSkuJHRoaXMtPnN0eWxlLT5nZXRDcm9zc2luZ0NoYXIoKTsKfQoKJHRoaXMtPm91dHB1dC0+d3JpdGVsbihzcHJpbnRmKCR0aGlzLT5zdHlsZS0+Z2V0Qm9yZGVyRm9ybWF0KCksICRtYXJrdXApKTsKfQoKCgoKcHJpdmF0ZSBmdW5jdGlvbiByZW5kZXJDb2x1bW5TZXBhcmF0b3IoKQp7CnJldHVybiBzcHJpbnRmKCR0aGlzLT5zdHlsZS0+Z2V0Qm9yZGVyRm9ybWF0KCksICR0aGlzLT5zdHlsZS0+Z2V0VmVydGljYWxCb3JkZXJDaGFyKCkpOwp9CgoKCgoKCgoKCgoKcHJpdmF0ZSBmdW5jdGlvbiByZW5kZXJSb3coYXJyYXkgJHJvdywgJGNlbGxGb3JtYXQpCnsKaWYgKGVtcHR5KCRyb3cpKSB7CnJldHVybjsKfQoKJHJvd0NvbnRlbnQgPSAkdGhpcy0+cmVuZGVyQ29sdW1uU2VwYXJhdG9yKCk7CmZvcmVhY2ggKCR0aGlzLT5nZXRSb3dDb2x1bW5zKCRyb3cpIGFzICRjb2x1bW4pIHsKJHJvd0NvbnRlbnQgLj0gJHRoaXMtPnJlbmRlckNlbGwoJHJvdywgJGNvbHVtbiwgJGNlbGxGb3JtYXQpOwokcm93Q29udGVudCAuPSAkdGhpcy0+cmVuZGVyQ29sdW1uU2VwYXJhdG9yKCk7Cn0KJHRoaXMtPm91dHB1dC0+d3JpdGVsbigkcm93Q29udGVudCk7Cn0KCgoKCgoKCgpwcml2YXRlIGZ1bmN0aW9uIHJlbmRlckNlbGwoYXJyYXkgJHJvdywgJGNvbHVtbiwgJGNlbGxGb3JtYXQpCnsKJGNlbGwgPSBpc3NldCgkcm93WyRjb2x1bW5dKSA/ICRyb3dbJGNvbHVtbl0gOiAnJzsKJHdpZHRoID0gJHRoaXMtPmNvbHVtbldpZHRoc1skY29sdW1uXTsKaWYgKCRjZWxsIGluc3RhbmNlb2YgVGFibGVDZWxsICYmICRjZWxsLT5nZXRDb2xzcGFuKCkgPiAxKSB7Cgpmb3JlYWNoIChyYW5nZSgkY29sdW1uICsgMSwgJGNvbHVtbiArICRjZWxsLT5nZXRDb2xzcGFuKCkgLSAxKSBhcyAkbmV4dENvbHVtbikgewokd2lkdGggKz0gJHRoaXMtPmdldENvbHVtblNlcGFyYXRvcldpZHRoKCkgKyAkdGhpcy0+Y29sdW1uV2lkdGhzWyRuZXh0Q29sdW1uXTsKfQp9CgoKaWYgKGZhbHNlICE9PSAkZW5jb2RpbmcgPSBtYl9kZXRlY3RfZW5jb2RpbmcoJGNlbGwsIG51bGwsIHRydWUpKSB7CiR3aWR0aCArPSBcc3RybGVuKCRjZWxsKSAtIG1iX3N0cndpZHRoKCRjZWxsLCAkZW5jb2RpbmcpOwp9Cgokc3R5bGUgPSAkdGhpcy0+Z2V0Q29sdW1uU3R5bGUoJGNvbHVtbik7CgppZiAoJGNlbGwgaW5zdGFuY2VvZiBUYWJsZVNlcGFyYXRvcikgewpyZXR1cm4gc3ByaW50Zigkc3R5bGUtPmdldEJvcmRlckZvcm1hdCgpLCBzdHJfcmVwZWF0KCRzdHlsZS0+Z2V0SG9yaXpvbnRhbEJvcmRlckNoYXIoKSwgJHdpZHRoKSk7Cn0KCiR3aWR0aCArPSBIZWxwZXI6OnN0cmxlbigkY2VsbCkgLSBIZWxwZXI6OnN0cmxlbldpdGhvdXREZWNvcmF0aW9uKCR0aGlzLT5vdXRwdXQtPmdldEZvcm1hdHRlcigpLCAkY2VsbCk7CiRjb250ZW50ID0gc3ByaW50Zigkc3R5bGUtPmdldENlbGxSb3dDb250ZW50Rm9ybWF0KCksICRjZWxsKTsKCnJldHVybiBzcHJpbnRmKCRjZWxsRm9ybWF0LCBzdHJfcGFkKCRjb250ZW50LCAkd2lkdGgsICRzdHlsZS0+Z2V0UGFkZGluZ0NoYXIoKSwgJHN0eWxlLT5nZXRQYWRUeXBlKCkpKTsKfQoKCgoKcHJpdmF0ZSBmdW5jdGlvbiBjYWxjdWxhdGVOdW1iZXJPZkNvbHVtbnMoKQp7CmlmIChudWxsICE9PSAkdGhpcy0+bnVtYmVyT2ZDb2x1bW5zKSB7CnJldHVybjsKfQoKJGNvbHVtbnMgPSBhcnJheSgwKTsKZm9yZWFjaCAoYXJyYXlfbWVyZ2UoJHRoaXMtPmhlYWRlcnMsICR0aGlzLT5yb3dzKSBhcyAkcm93KSB7CmlmICgkcm93IGluc3RhbmNlb2YgVGFibGVTZXBhcmF0b3IpIHsKY29udGludWU7Cn0KCiRjb2x1bW5zW10gPSAkdGhpcy0+Z2V0TnVtYmVyT2ZDb2x1bW5zKCRyb3cpOwp9CgokdGhpcy0+bnVtYmVyT2ZDb2x1bW5zID0gbWF4KCRjb2x1bW5zKTsKfQoKcHJpdmF0ZSBmdW5jdGlvbiBidWlsZFRhYmxlUm93cygkcm93cykKewokdW5tZXJnZWRSb3dzID0gYXJyYXkoKTsKZm9yICgkcm93S2V5ID0gMDsgJHJvd0tleSA8IFxjb3VudCgkcm93cyk7ICsrJHJvd0tleSkgewokcm93cyA9ICR0aGlzLT5maWxsTmV4dFJvd3MoJHJvd3MsICRyb3dLZXkpOwoKCmZvcmVhY2ggKCRyb3dzWyRyb3dLZXldIGFzICRjb2x1bW4gPT4gJGNlbGwpIHsKaWYgKCFzdHJzdHIoJGNlbGwsICJcbiIpKSB7CmNvbnRpbnVlOwp9CiRsaW5lcyA9IGV4cGxvZGUoIlxuIiwgc3RyX3JlcGxhY2UoIlxuIiwgIjxmZz1kZWZhdWx0O2JnPWRlZmF1bHQ+XG48Lz4iLCAkY2VsbCkpOwpmb3JlYWNoICgkbGluZXMgYXMgJGxpbmVLZXkgPT4gJGxpbmUpIHsKaWYgKCRjZWxsIGluc3RhbmNlb2YgVGFibGVDZWxsKSB7CiRsaW5lID0gbmV3IFRhYmxlQ2VsbCgkbGluZSwgYXJyYXkoJ2NvbHNwYW4nID0+ICRjZWxsLT5nZXRDb2xzcGFuKCkpKTsKfQppZiAoMCA9PT0gJGxpbmVLZXkpIHsKJHJvd3NbJHJvd0tleV1bJGNvbHVtbl0gPSAkbGluZTsKfSBlbHNlIHsKJHVubWVyZ2VkUm93c1skcm93S2V5XVskbGluZUtleV1bJGNvbHVtbl0gPSAkbGluZTsKfQp9Cn0KfQoKJHRhYmxlUm93cyA9IGFycmF5KCk7CmZvcmVhY2ggKCRyb3dzIGFzICRyb3dLZXkgPT4gJHJvdykgewokdGFibGVSb3dzW10gPSAkdGhpcy0+ZmlsbENlbGxzKCRyb3cpOwppZiAoaXNzZXQoJHVubWVyZ2VkUm93c1skcm93S2V5XSkpIHsKJHRhYmxlUm93cyA9IGFycmF5X21lcmdlKCR0YWJsZVJvd3MsICR1bm1lcmdlZFJvd3NbJHJvd0tleV0pOwp9Cn0KCnJldHVybiAkdGFibGVSb3dzOwp9CgoKCgoKCgoKCnByaXZhdGUgZnVuY3Rpb24gZmlsbE5leHRSb3dzKGFycmF5ICRyb3dzLCAkbGluZSkKewokdW5tZXJnZWRSb3dzID0gYXJyYXkoKTsKZm9yZWFjaCAoJHJvd3NbJGxpbmVdIGFzICRjb2x1bW4gPT4gJGNlbGwpIHsKaWYgKCRjZWxsIGluc3RhbmNlb2YgVGFibGVDZWxsICYmICRjZWxsLT5nZXRSb3dzcGFuKCkgPiAxKSB7CiRuYkxpbmVzID0gJGNlbGwtPmdldFJvd3NwYW4oKSAtIDE7CiRsaW5lcyA9IGFycmF5KCRjZWxsKTsKaWYgKHN0cnN0cigkY2VsbCwgIlxuIikpIHsKJGxpbmVzID0gZXhwbG9kZSgiXG4iLCBzdHJfcmVwbGFjZSgiXG4iLCAiPGZnPWRlZmF1bHQ7Ymc9ZGVmYXVsdD5cbjwvPiIsICRjZWxsKSk7CiRuYkxpbmVzID0gXGNvdW50KCRsaW5lcykgPiAkbmJMaW5lcyA/IHN1YnN0cl9jb3VudCgkY2VsbCwgIlxuIikgOiAkbmJMaW5lczsKCiRyb3dzWyRsaW5lXVskY29sdW1uXSA9IG5ldyBUYWJsZUNlbGwoJGxpbmVzWzBdLCBhcnJheSgnY29sc3BhbicgPT4gJGNlbGwtPmdldENvbHNwYW4oKSkpOwp1bnNldCgkbGluZXNbMF0pOwp9CgoKJHVubWVyZ2VkUm93cyA9IGFycmF5X3JlcGxhY2VfcmVjdXJzaXZlKGFycmF5X2ZpbGwoJGxpbmUgKyAxLCAkbmJMaW5lcywgYXJyYXkoKSksICR1bm1lcmdlZFJvd3MpOwpmb3JlYWNoICgkdW5tZXJnZWRSb3dzIGFzICR1bm1lcmdlZFJvd0tleSA9PiAkdW5tZXJnZWRSb3cpIHsKJHZhbHVlID0gaXNzZXQoJGxpbmVzWyR1bm1lcmdlZFJvd0tleSAtICRsaW5lXSkgPyAkbGluZXNbJHVubWVyZ2VkUm93S2V5IC0gJGxpbmVdIDogJyc7CiR1bm1lcmdlZFJvd3NbJHVubWVyZ2VkUm93S2V5XVskY29sdW1uXSA9IG5ldyBUYWJsZUNlbGwoJHZhbHVlLCBhcnJheSgnY29sc3BhbicgPT4gJGNlbGwtPmdldENvbHNwYW4oKSkpOwppZiAoJG5iTGluZXMgPT09ICR1bm1lcmdlZFJvd0tleSAtICRsaW5lKSB7CmJyZWFrOwp9Cn0KfQp9Cgpmb3JlYWNoICgkdW5tZXJnZWRSb3dzIGFzICR1bm1lcmdlZFJvd0tleSA9PiAkdW5tZXJnZWRSb3cpIHsKCmlmIChpc3NldCgkcm93c1skdW5tZXJnZWRSb3dLZXldKSAmJiBcaXNfYXJyYXkoJHJvd3NbJHVubWVyZ2VkUm93S2V5XSkgJiYgKCR0aGlzLT5nZXROdW1iZXJPZkNvbHVtbnMoJHJvd3NbJHVubWVyZ2VkUm93S2V5XSkgKyAkdGhpcy0+Z2V0TnVtYmVyT2ZDb2x1bW5zKCR1bm1lcmdlZFJvd3NbJHVubWVyZ2VkUm93S2V5XSkgPD0gJHRoaXMtPm51bWJlck9mQ29sdW1ucykpIHsKZm9yZWFjaCAoJHVubWVyZ2VkUm93IGFzICRjZWxsS2V5ID0+ICRjZWxsKSB7CgphcnJheV9zcGxpY2UoJHJvd3NbJHVubWVyZ2VkUm93S2V5XSwgJGNlbGxLZXksIDAsIGFycmF5KCRjZWxsKSk7Cn0KfSBlbHNlIHsKJHJvdyA9ICR0aGlzLT5jb3B5Um93KCRyb3dzLCAkdW5tZXJnZWRSb3dLZXkgLSAxKTsKZm9yZWFjaCAoJHVubWVyZ2VkUm93IGFzICRjb2x1bW4gPT4gJGNlbGwpIHsKaWYgKCFlbXB0eSgkY2VsbCkpIHsKJHJvd1skY29sdW1uXSA9ICR1bm1lcmdlZFJvd1skY29sdW1uXTsKfQp9CmFycmF5X3NwbGljZSgkcm93cywgJHVubWVyZ2VkUm93S2V5LCAwLCBhcnJheSgkcm93KSk7Cn0KfQoKcmV0dXJuICRyb3dzOwp9CgoKCgoKCnByaXZhdGUgZnVuY3Rpb24gZmlsbENlbGxzKCRyb3cpCnsKJG5ld1JvdyA9IGFycmF5KCk7CmZvcmVhY2ggKCRyb3cgYXMgJGNvbHVtbiA9PiAkY2VsbCkgewokbmV3Um93W10gPSAkY2VsbDsKaWYgKCRjZWxsIGluc3RhbmNlb2YgVGFibGVDZWxsICYmICRjZWxsLT5nZXRDb2xzcGFuKCkgPiAxKSB7CmZvcmVhY2ggKHJhbmdlKCRjb2x1bW4gKyAxLCAkY29sdW1uICsgJGNlbGwtPmdldENvbHNwYW4oKSAtIDEpIGFzICRwb3NpdGlvbikgewoKJG5ld1Jvd1tdID0gJyc7Cn0KfQp9CgpyZXR1cm4gJG5ld1JvdyA/OiAkcm93Owp9CgoKCgoKCgpwcml2YXRlIGZ1bmN0aW9uIGNvcHlSb3coYXJyYXkgJHJvd3MsICRsaW5lKQp7CiRyb3cgPSAkcm93c1skbGluZV07CmZvcmVhY2ggKCRyb3cgYXMgJGNlbGxLZXkgPT4gJGNlbGxWYWx1ZSkgewokcm93WyRjZWxsS2V5XSA9ICcnOwppZiAoJGNlbGxWYWx1ZSBpbnN0YW5jZW9mIFRhYmxlQ2VsbCkgewokcm93WyRjZWxsS2V5XSA9IG5ldyBUYWJsZUNlbGwoJycsIGFycmF5KCdjb2xzcGFuJyA9PiAkY2VsbFZhbHVlLT5nZXRDb2xzcGFuKCkpKTsKfQp9CgpyZXR1cm4gJHJvdzsKfQoKCgoKCgpwcml2YXRlIGZ1bmN0aW9uIGdldE51bWJlck9mQ29sdW1ucyhhcnJheSAkcm93KQp7CiRjb2x1bW5zID0gXGNvdW50KCRyb3cpOwpmb3JlYWNoICgkcm93IGFzICRjb2x1bW4pIHsKJGNvbHVtbnMgKz0gJGNvbHVtbiBpbnN0YW5jZW9mIFRhYmxlQ2VsbCA/ICgkY29sdW1uLT5nZXRDb2xzcGFuKCkgLSAxKSA6IDA7Cn0KCnJldHVybiAkY29sdW1uczsKfQoKCgoKCgpwcml2YXRlIGZ1bmN0aW9uIGdldFJvd0NvbHVtbnMoYXJyYXkgJHJvdykKewokY29sdW1ucyA9IHJhbmdlKDAsICR0aGlzLT5udW1iZXJPZkNvbHVtbnMgLSAxKTsKZm9yZWFjaCAoJHJvdyBhcyAkY2VsbEtleSA9PiAkY2VsbCkgewppZiAoJGNlbGwgaW5zdGFuY2VvZiBUYWJsZUNlbGwgJiYgJGNlbGwtPmdldENvbHNwYW4oKSA+IDEpIHsKCiRjb2x1bW5zID0gYXJyYXlfZGlmZigkY29sdW1ucywgcmFuZ2UoJGNlbGxLZXkgKyAxLCAkY2VsbEtleSArICRjZWxsLT5nZXRDb2xzcGFuKCkgLSAxKSk7Cn0KfQoKcmV0dXJuICRjb2x1bW5zOwp9CgoKCgoKCnByaXZhdGUgZnVuY3Rpb24gY2FsY3VsYXRlQ29sdW1uc1dpZHRoKCRyb3dzKQp7CmZvciAoJGNvbHVtbiA9IDA7ICRjb2x1bW4gPCAkdGhpcy0+bnVtYmVyT2ZDb2x1bW5zOyArKyRjb2x1bW4pIHsKJGxlbmd0aHMgPSBhcnJheSgpOwpmb3JlYWNoICgkcm93cyBhcyAkcm93KSB7CmlmICgkcm93IGluc3RhbmNlb2YgVGFibGVTZXBhcmF0b3IpIHsKY29udGludWU7Cn0KCmZvcmVhY2ggKCRyb3cgYXMgJGkgPT4gJGNlbGwpIHsKaWYgKCRjZWxsIGluc3RhbmNlb2YgVGFibGVDZWxsKSB7CiR0ZXh0Q29udGVudCA9IEhlbHBlcjo6cmVtb3ZlRGVjb3JhdGlvbigkdGhpcy0+b3V0cHV0LT5nZXRGb3JtYXR0ZXIoKSwgJGNlbGwpOwokdGV4dExlbmd0aCA9IEhlbHBlcjo6c3RybGVuKCR0ZXh0Q29udGVudCk7CmlmICgkdGV4dExlbmd0aCA+IDApIHsKJGNvbnRlbnRDb2x1bW5zID0gc3RyX3NwbGl0KCR0ZXh0Q29udGVudCwgY2VpbCgkdGV4dExlbmd0aCAvICRjZWxsLT5nZXRDb2xzcGFuKCkpKTsKZm9yZWFjaCAoJGNvbnRlbnRDb2x1bW5zIGFzICRwb3NpdGlvbiA9PiAkY29udGVudCkgewokcm93WyRpICsgJHBvc2l0aW9uXSA9ICRjb250ZW50Owp9Cn0KfQp9CgokbGVuZ3Roc1tdID0gJHRoaXMtPmdldENlbGxXaWR0aCgkcm93LCAkY29sdW1uKTsKfQoKJHRoaXMtPmNvbHVtbldpZHRoc1skY29sdW1uXSA9IG1heCgkbGVuZ3RocykgKyBIZWxwZXI6OnN0cmxlbigkdGhpcy0+c3R5bGUtPmdldENlbGxSb3dDb250ZW50Rm9ybWF0KCkpIC0gMjsKfQp9CgoKCgoKCnByaXZhdGUgZnVuY3Rpb24gZ2V0Q29sdW1uU2VwYXJhdG9yV2lkdGgoKQp7CnJldHVybiBIZWxwZXI6OnN0cmxlbihzcHJpbnRmKCR0aGlzLT5zdHlsZS0+Z2V0Qm9yZGVyRm9ybWF0KCksICR0aGlzLT5zdHlsZS0+Z2V0VmVydGljYWxCb3JkZXJDaGFyKCkpKTsKfQoKCgoKCgoKCgpwcml2YXRlIGZ1bmN0aW9uIGdldENlbGxXaWR0aChhcnJheSAkcm93LCAkY29sdW1uKQp7CmlmIChpc3NldCgkcm93WyRjb2x1bW5dKSkgewokY2VsbCA9ICRyb3dbJGNvbHVtbl07CiRjZWxsV2lkdGggPSBIZWxwZXI6OnN0cmxlbldpdGhvdXREZWNvcmF0aW9uKCR0aGlzLT5vdXRwdXQtPmdldEZvcm1hdHRlcigpLCAkY2VsbCk7CgpyZXR1cm4gJGNlbGxXaWR0aDsKfQoKcmV0dXJuIDA7Cn0KCgoKCnByaXZhdGUgZnVuY3Rpb24gY2xlYW51cCgpCnsKJHRoaXMtPmNvbHVtbldpZHRocyA9IGFycmF5KCk7CiR0aGlzLT5udW1iZXJPZkNvbHVtbnMgPSBudWxsOwp9Cgpwcml2YXRlIHN0YXRpYyBmdW5jdGlvbiBpbml0U3R5bGVzKCkKewokYm9yZGVybGVzcyA9IG5ldyBUYWJsZVN0eWxlKCk7CiRib3JkZXJsZXNzCi0+c2V0SG9yaXpvbnRhbEJvcmRlckNoYXIoJz0nKQotPnNldFZlcnRpY2FsQm9yZGVyQ2hhcignICcpCi0+c2V0Q3Jvc3NpbmdDaGFyKCcgJykKOwoKJGNvbXBhY3QgPSBuZXcgVGFibGVTdHlsZSgpOwokY29tcGFjdAotPnNldEhvcml6b250YWxCb3JkZXJDaGFyKCcnKQotPnNldFZlcnRpY2FsQm9yZGVyQ2hhcignICcpCi0+c2V0Q3Jvc3NpbmdDaGFyKCcnKQotPnNldENlbGxSb3dDb250ZW50Rm9ybWF0KCclcycpCjsKCiRzdHlsZUd1aWRlID0gbmV3IFRhYmxlU3R5bGUoKTsKJHN0eWxlR3VpZGUKLT5zZXRIb3Jpem9udGFsQm9yZGVyQ2hhcignLScpCi0+c2V0VmVydGljYWxCb3JkZXJDaGFyKCcgJykKLT5zZXRDcm9zc2luZ0NoYXIoJyAnKQotPnNldENlbGxIZWFkZXJGb3JtYXQoJyVzJykKOwoKcmV0dXJuIGFycmF5KAonZGVmYXVsdCcgPT4gbmV3IFRhYmxlU3R5bGUoKSwKJ2JvcmRlcmxlc3MnID0+ICRib3JkZXJsZXNzLAonY29tcGFjdCcgPT4gJGNvbXBhY3QsCidzeW1mb255LXN0eWxlLWd1aWRlJyA9PiAkc3R5bGVHdWlkZSwKKTsKfQoKcHJpdmF0ZSBmdW5jdGlvbiByZXNvbHZlU3R5bGUoJG5hbWUpCnsKaWYgKCRuYW1lIGluc3RhbmNlb2YgVGFibGVTdHlsZSkgewpyZXR1cm4gJG5hbWU7Cn0KCmlmIChpc3NldChzZWxmOjokc3R5bGVzWyRuYW1lXSkpIHsKcmV0dXJuIHNlbGY6OiRzdHlsZXNbJG5hbWVdOwp9Cgp0aHJvdyBuZXcgSW52YWxpZEFyZ3VtZW50RXhjZXB0aW9uKHNwcmludGYoJ1N0eWxlICIlcyIgaXMgbm90IGRlZmluZWQuJywgJG5hbWUpKTsKfQp9Cjw/cGhwCgoKCgoKCgoKCgpuYW1lc3BhY2UgU3ltZm9ueVxDb21wb25lbnRcQ29uc29sZVxIZWxwZXI7Cgp1c2UgU3ltZm9ueVxDb21wb25lbnRcQ29uc29sZVxFeGNlcHRpb25cSW52YWxpZEFyZ3VtZW50RXhjZXB0aW9uOwoKCgoKY2xhc3MgVGFibGVDZWxsCnsKcHJpdmF0ZSAkdmFsdWU7CnByaXZhdGUgJG9wdGlvbnMgPSBhcnJheSgKJ3Jvd3NwYW4nID0+IDEsCidjb2xzcGFuJyA9PiAxLAopOwoKCgoKCnB1YmxpYyBmdW5jdGlvbiBfX2NvbnN0cnVjdCgkdmFsdWUgPSAnJywgYXJyYXkgJG9wdGlvbnMgPSBhcnJheSgpKQp7CmlmIChpc19udW1lcmljKCR2YWx1ZSkgJiYgIVxpc19zdHJpbmcoJHZhbHVlKSkgewokdmFsdWUgPSAoc3RyaW5nKSAkdmFsdWU7Cn0KCiR0aGlzLT52YWx1ZSA9ICR2YWx1ZTsKCgppZiAoJGRpZmYgPSBhcnJheV9kaWZmKGFycmF5X2tleXMoJG9wdGlvbnMpLCBhcnJheV9rZXlzKCR0aGlzLT5vcHRpb25zKSkpIHsKdGhyb3cgbmV3IEludmFsaWRBcmd1bWVudEV4Y2VwdGlvbihzcHJpbnRmKCdUaGUgVGFibGVDZWxsIGRvZXMgbm90IHN1cHBvcnQgdGhlIGZvbGxvd2luZyBvcHRpb25zOiBcJyVzXCcuJywgaW1wbG9kZSgnXCcsIFwnJywgJGRpZmYpKSk7Cn0KCiR0aGlzLT5vcHRpb25zID0gYXJyYXlfbWVyZ2UoJHRoaXMtPm9wdGlvbnMsICRvcHRpb25zKTsKfQoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gX190b1N0cmluZygpCnsKcmV0dXJuICR0aGlzLT52YWx1ZTsKfQoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0Q29sc3BhbigpCnsKcmV0dXJuIChpbnQpICR0aGlzLT5vcHRpb25zWydjb2xzcGFuJ107Cn0KCgoKCgoKcHVibGljIGZ1bmN0aW9uIGdldFJvd3NwYW4oKQp7CnJldHVybiAoaW50KSAkdGhpcy0+b3B0aW9uc1sncm93c3BhbiddOwp9Cn0KPD9waHAKCgoKCgoKCgoKCm5hbWVzcGFjZSBTeW1mb255XENvbXBvbmVudFxDb25zb2xlXEhlbHBlcjsKCnVzZSBTeW1mb255XENvbXBvbmVudFxDb25zb2xlXEV4Y2VwdGlvblxJbnZhbGlkQXJndW1lbnRFeGNlcHRpb247CnVzZSBTeW1mb255XENvbXBvbmVudFxDb25zb2xlXE91dHB1dFxOdWxsT3V0cHV0Owp1c2UgU3ltZm9ueVxDb21wb25lbnRcQ29uc29sZVxPdXRwdXRcT3V0cHV0SW50ZXJmYWNlOwoKCgoKCgoKCgoKY2xhc3MgVGFibGVIZWxwZXIgZXh0ZW5kcyBIZWxwZXIKewpjb25zdCBMQVlPVVRfREVGQVVMVCA9IDA7CmNvbnN0IExBWU9VVF9CT1JERVJMRVNTID0gMTsKY29uc3QgTEFZT1VUX0NPTVBBQ1QgPSAyOwoKcHJpdmF0ZSAkdGFibGU7CgpwdWJsaWMgZnVuY3Rpb24gX19jb25zdHJ1Y3QoJHRyaWdnZXJEZXByZWNhdGlvbkVycm9yID0gdHJ1ZSkKewppZiAoJHRyaWdnZXJEZXByZWNhdGlvbkVycm9yKSB7CkB0cmlnZ2VyX2Vycm9yKCdUaGUgJy5fX0NMQVNTX18uJyBjbGFzcyBpcyBkZXByZWNhdGVkIHNpbmNlIFN5bWZvbnkgMi41IGFuZCB3aWxsIGJlIHJlbW92ZWQgaW4gMy4wLiBVc2UgdGhlIFN5bWZvbnlcQ29tcG9uZW50XENvbnNvbGVcSGVscGVyXFRhYmxlIGNsYXNzIGluc3RlYWQuJywgRV9VU0VSX0RFUFJFQ0FURUQpOwp9CgokdGhpcy0+dGFibGUgPSBuZXcgVGFibGUobmV3IE51bGxPdXRwdXQoKSk7Cn0KCgoKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBzZXRMYXlvdXQoJGxheW91dCkKewpzd2l0Y2ggKCRsYXlvdXQpIHsKY2FzZSBzZWxmOjpMQVlPVVRfQk9SREVSTEVTUzoKJHRoaXMtPnRhYmxlLT5zZXRTdHlsZSgnYm9yZGVybGVzcycpOwpicmVhazsKCmNhc2Ugc2VsZjo6TEFZT1VUX0NPTVBBQ1Q6CiR0aGlzLT50YWJsZS0+c2V0U3R5bGUoJ2NvbXBhY3QnKTsKYnJlYWs7CgpjYXNlIHNlbGY6OkxBWU9VVF9ERUZBVUxUOgokdGhpcy0+dGFibGUtPnNldFN0eWxlKCdkZWZhdWx0Jyk7CmJyZWFrOwoKZGVmYXVsdDoKdGhyb3cgbmV3IEludmFsaWRBcmd1bWVudEV4Y2VwdGlvbihzcHJpbnRmKCdJbnZhbGlkIHRhYmxlIGxheW91dCAiJXMiLicsICRsYXlvdXQpKTsKfQoKcmV0dXJuICR0aGlzOwp9CgpwdWJsaWMgZnVuY3Rpb24gc2V0SGVhZGVycyhhcnJheSAkaGVhZGVycykKewokdGhpcy0+dGFibGUtPnNldEhlYWRlcnMoJGhlYWRlcnMpOwoKcmV0dXJuICR0aGlzOwp9CgpwdWJsaWMgZnVuY3Rpb24gc2V0Um93cyhhcnJheSAkcm93cykKewokdGhpcy0+dGFibGUtPnNldFJvd3MoJHJvd3MpOwoKcmV0dXJuICR0aGlzOwp9CgpwdWJsaWMgZnVuY3Rpb24gYWRkUm93cyhhcnJheSAkcm93cykKewokdGhpcy0+dGFibGUtPmFkZFJvd3MoJHJvd3MpOwoKcmV0dXJuICR0aGlzOwp9CgpwdWJsaWMgZnVuY3Rpb24gYWRkUm93KGFycmF5ICRyb3cpCnsKJHRoaXMtPnRhYmxlLT5hZGRSb3coJHJvdyk7CgpyZXR1cm4gJHRoaXM7Cn0KCnB1YmxpYyBmdW5jdGlvbiBzZXRSb3coJGNvbHVtbiwgYXJyYXkgJHJvdykKewokdGhpcy0+dGFibGUtPnNldFJvdygkY29sdW1uLCAkcm93KTsKCnJldHVybiAkdGhpczsKfQoKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBzZXRQYWRkaW5nQ2hhcigkcGFkZGluZ0NoYXIpCnsKJHRoaXMtPnRhYmxlLT5nZXRTdHlsZSgpLT5zZXRQYWRkaW5nQ2hhcigkcGFkZGluZ0NoYXIpOwoKcmV0dXJuICR0aGlzOwp9CgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIHNldEhvcml6b250YWxCb3JkZXJDaGFyKCRob3Jpem9udGFsQm9yZGVyQ2hhcikKewokdGhpcy0+dGFibGUtPmdldFN0eWxlKCktPnNldEhvcml6b250YWxCb3JkZXJDaGFyKCRob3Jpem9udGFsQm9yZGVyQ2hhcik7CgpyZXR1cm4gJHRoaXM7Cn0KCgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gc2V0VmVydGljYWxCb3JkZXJDaGFyKCR2ZXJ0aWNhbEJvcmRlckNoYXIpCnsKJHRoaXMtPnRhYmxlLT5nZXRTdHlsZSgpLT5zZXRWZXJ0aWNhbEJvcmRlckNoYXIoJHZlcnRpY2FsQm9yZGVyQ2hhcik7CgpyZXR1cm4gJHRoaXM7Cn0KCgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gc2V0Q3Jvc3NpbmdDaGFyKCRjcm9zc2luZ0NoYXIpCnsKJHRoaXMtPnRhYmxlLT5nZXRTdHlsZSgpLT5zZXRDcm9zc2luZ0NoYXIoJGNyb3NzaW5nQ2hhcik7CgpyZXR1cm4gJHRoaXM7Cn0KCgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gc2V0Q2VsbEhlYWRlckZvcm1hdCgkY2VsbEhlYWRlckZvcm1hdCkKewokdGhpcy0+dGFibGUtPmdldFN0eWxlKCktPnNldENlbGxIZWFkZXJGb3JtYXQoJGNlbGxIZWFkZXJGb3JtYXQpOwoKcmV0dXJuICR0aGlzOwp9CgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIHNldENlbGxSb3dGb3JtYXQoJGNlbGxSb3dGb3JtYXQpCnsKJHRoaXMtPnRhYmxlLT5nZXRTdHlsZSgpLT5zZXRDZWxsSGVhZGVyRm9ybWF0KCRjZWxsUm93Rm9ybWF0KTsKCnJldHVybiAkdGhpczsKfQoKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBzZXRDZWxsUm93Q29udGVudEZvcm1hdCgkY2VsbFJvd0NvbnRlbnRGb3JtYXQpCnsKJHRoaXMtPnRhYmxlLT5nZXRTdHlsZSgpLT5zZXRDZWxsUm93Q29udGVudEZvcm1hdCgkY2VsbFJvd0NvbnRlbnRGb3JtYXQpOwoKcmV0dXJuICR0aGlzOwp9CgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIHNldEJvcmRlckZvcm1hdCgkYm9yZGVyRm9ybWF0KQp7CiR0aGlzLT50YWJsZS0+Z2V0U3R5bGUoKS0+c2V0Qm9yZGVyRm9ybWF0KCRib3JkZXJGb3JtYXQpOwoKcmV0dXJuICR0aGlzOwp9CgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIHNldFBhZFR5cGUoJHBhZFR5cGUpCnsKJHRoaXMtPnRhYmxlLT5nZXRTdHlsZSgpLT5zZXRQYWRUeXBlKCRwYWRUeXBlKTsKCnJldHVybiAkdGhpczsKfQoKCgoKCgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIHJlbmRlcihPdXRwdXRJbnRlcmZhY2UgJG91dHB1dCkKewokcCA9IG5ldyBcUmVmbGVjdGlvblByb3BlcnR5KCR0aGlzLT50YWJsZSwgJ291dHB1dCcpOwokcC0+c2V0QWNjZXNzaWJsZSh0cnVlKTsKJHAtPnNldFZhbHVlKCR0aGlzLT50YWJsZSwgJG91dHB1dCk7CgokdGhpcy0+dGFibGUtPnJlbmRlcigpOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0TmFtZSgpCnsKcmV0dXJuICd0YWJsZSc7Cn0KfQo8P3BocAoKCgoKCgoKCgoKbmFtZXNwYWNlIFN5bWZvbnlcQ29tcG9uZW50XENvbnNvbGVcSGVscGVyOwoKCgoKCgpjbGFzcyBUYWJsZVNlcGFyYXRvciBleHRlbmRzIFRhYmxlQ2VsbAp7CnB1YmxpYyBmdW5jdGlvbiBfX2NvbnN0cnVjdChhcnJheSAkb3B0aW9ucyA9IGFycmF5KCkpCnsKcGFyZW50OjpfX2NvbnN0cnVjdCgnJywgJG9wdGlvbnMpOwp9Cn0KPD9waHAKCgoKCgoKCgoKCm5hbWVzcGFjZSBTeW1mb255XENvbXBvbmVudFxDb25zb2xlXEhlbHBlcjsKCnVzZSBTeW1mb255XENvbXBvbmVudFxDb25zb2xlXEV4Y2VwdGlvblxJbnZhbGlkQXJndW1lbnRFeGNlcHRpb247CnVzZSBTeW1mb255XENvbXBvbmVudFxDb25zb2xlXEV4Y2VwdGlvblxMb2dpY0V4Y2VwdGlvbjsKCgoKCgoKCmNsYXNzIFRhYmxlU3R5bGUKewpwcml2YXRlICRwYWRkaW5nQ2hhciA9ICcgJzsKcHJpdmF0ZSAkaG9yaXpvbnRhbEJvcmRlckNoYXIgPSAnLSc7CnByaXZhdGUgJHZlcnRpY2FsQm9yZGVyQ2hhciA9ICd8JzsKcHJpdmF0ZSAkY3Jvc3NpbmdDaGFyID0gJysnOwpwcml2YXRlICRjZWxsSGVhZGVyRm9ybWF0ID0gJzxpbmZvPiVzPC9pbmZvPic7CnByaXZhdGUgJGNlbGxSb3dGb3JtYXQgPSAnJXMnOwpwcml2YXRlICRjZWxsUm93Q29udGVudEZvcm1hdCA9ICcgJXMgJzsKcHJpdmF0ZSAkYm9yZGVyRm9ybWF0ID0gJyVzJzsKcHJpdmF0ZSAkcGFkVHlwZSA9IFNUUl9QQURfUklHSFQ7CgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIHNldFBhZGRpbmdDaGFyKCRwYWRkaW5nQ2hhcikKewppZiAoISRwYWRkaW5nQ2hhcikgewp0aHJvdyBuZXcgTG9naWNFeGNlcHRpb24oJ1RoZSBwYWRkaW5nIGNoYXIgbXVzdCBub3QgYmUgZW1wdHknKTsKfQoKJHRoaXMtPnBhZGRpbmdDaGFyID0gJHBhZGRpbmdDaGFyOwoKcmV0dXJuICR0aGlzOwp9CgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBnZXRQYWRkaW5nQ2hhcigpCnsKcmV0dXJuICR0aGlzLT5wYWRkaW5nQ2hhcjsKfQoKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBzZXRIb3Jpem9udGFsQm9yZGVyQ2hhcigkaG9yaXpvbnRhbEJvcmRlckNoYXIpCnsKJHRoaXMtPmhvcml6b250YWxCb3JkZXJDaGFyID0gJGhvcml6b250YWxCb3JkZXJDaGFyOwoKcmV0dXJuICR0aGlzOwp9CgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBnZXRIb3Jpem9udGFsQm9yZGVyQ2hhcigpCnsKcmV0dXJuICR0aGlzLT5ob3Jpem9udGFsQm9yZGVyQ2hhcjsKfQoKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBzZXRWZXJ0aWNhbEJvcmRlckNoYXIoJHZlcnRpY2FsQm9yZGVyQ2hhcikKewokdGhpcy0+dmVydGljYWxCb3JkZXJDaGFyID0gJHZlcnRpY2FsQm9yZGVyQ2hhcjsKCnJldHVybiAkdGhpczsKfQoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0VmVydGljYWxCb3JkZXJDaGFyKCkKewpyZXR1cm4gJHRoaXMtPnZlcnRpY2FsQm9yZGVyQ2hhcjsKfQoKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBzZXRDcm9zc2luZ0NoYXIoJGNyb3NzaW5nQ2hhcikKewokdGhpcy0+Y3Jvc3NpbmdDaGFyID0gJGNyb3NzaW5nQ2hhcjsKCnJldHVybiAkdGhpczsKfQoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0Q3Jvc3NpbmdDaGFyKCkKewpyZXR1cm4gJHRoaXMtPmNyb3NzaW5nQ2hhcjsKfQoKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBzZXRDZWxsSGVhZGVyRm9ybWF0KCRjZWxsSGVhZGVyRm9ybWF0KQp7CiR0aGlzLT5jZWxsSGVhZGVyRm9ybWF0ID0gJGNlbGxIZWFkZXJGb3JtYXQ7CgpyZXR1cm4gJHRoaXM7Cn0KCgoKCgoKcHVibGljIGZ1bmN0aW9uIGdldENlbGxIZWFkZXJGb3JtYXQoKQp7CnJldHVybiAkdGhpcy0+Y2VsbEhlYWRlckZvcm1hdDsKfQoKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBzZXRDZWxsUm93Rm9ybWF0KCRjZWxsUm93Rm9ybWF0KQp7CiR0aGlzLT5jZWxsUm93Rm9ybWF0ID0gJGNlbGxSb3dGb3JtYXQ7CgpyZXR1cm4gJHRoaXM7Cn0KCgoKCgoKcHVibGljIGZ1bmN0aW9uIGdldENlbGxSb3dGb3JtYXQoKQp7CnJldHVybiAkdGhpcy0+Y2VsbFJvd0Zvcm1hdDsKfQoKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBzZXRDZWxsUm93Q29udGVudEZvcm1hdCgkY2VsbFJvd0NvbnRlbnRGb3JtYXQpCnsKJHRoaXMtPmNlbGxSb3dDb250ZW50Rm9ybWF0ID0gJGNlbGxSb3dDb250ZW50Rm9ybWF0OwoKcmV0dXJuICR0aGlzOwp9CgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBnZXRDZWxsUm93Q29udGVudEZvcm1hdCgpCnsKcmV0dXJuICR0aGlzLT5jZWxsUm93Q29udGVudEZvcm1hdDsKfQoKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBzZXRCb3JkZXJGb3JtYXQoJGJvcmRlckZvcm1hdCkKewokdGhpcy0+Ym9yZGVyRm9ybWF0ID0gJGJvcmRlckZvcm1hdDsKCnJldHVybiAkdGhpczsKfQoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0Qm9yZGVyRm9ybWF0KCkKewpyZXR1cm4gJHRoaXMtPmJvcmRlckZvcm1hdDsKfQoKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBzZXRQYWRUeXBlKCRwYWRUeXBlKQp7CmlmICghXGluX2FycmF5KCRwYWRUeXBlLCBhcnJheShTVFJfUEFEX0xFRlQsIFNUUl9QQURfUklHSFQsIFNUUl9QQURfQk9USCksIHRydWUpKSB7CnRocm93IG5ldyBJbnZhbGlkQXJndW1lbnRFeGNlcHRpb24oJ0ludmFsaWQgcGFkZGluZyB0eXBlLiBFeHBlY3RlZCBvbmUgb2YgKFNUUl9QQURfTEVGVCwgU1RSX1BBRF9SSUdIVCwgU1RSX1BBRF9CT1RIKS4nKTsKfQoKJHRoaXMtPnBhZFR5cGUgPSAkcGFkVHlwZTsKCnJldHVybiAkdGhpczsKfQoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0UGFkVHlwZSgpCnsKcmV0dXJuICR0aGlzLT5wYWRUeXBlOwp9Cn0KPD9waHAKCgoKCgoKCgoKCm5hbWVzcGFjZSBTeW1mb255XENvbXBvbmVudFxDb25zb2xlXElucHV0OwoKdXNlIFN5bWZvbnlcQ29tcG9uZW50XENvbnNvbGVcRXhjZXB0aW9uXFJ1bnRpbWVFeGNlcHRpb247CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKY2xhc3MgQXJndklucHV0IGV4dGVuZHMgSW5wdXQKewpwcml2YXRlICR0b2tlbnM7CnByaXZhdGUgJHBhcnNlZDsKCgoKCgpwdWJsaWMgZnVuY3Rpb24gX19jb25zdHJ1Y3QoYXJyYXkgJGFyZ3YgPSBudWxsLCBJbnB1dERlZmluaXRpb24gJGRlZmluaXRpb24gPSBudWxsKQp7CmlmIChudWxsID09PSAkYXJndikgewokYXJndiA9ICRfU0VSVkVSWydhcmd2J107Cn0KCgphcnJheV9zaGlmdCgkYXJndik7CgokdGhpcy0+dG9rZW5zID0gJGFyZ3Y7CgpwYXJlbnQ6Ol9fY29uc3RydWN0KCRkZWZpbml0aW9uKTsKfQoKcHJvdGVjdGVkIGZ1bmN0aW9uIHNldFRva2VucyhhcnJheSAkdG9rZW5zKQp7CiR0aGlzLT50b2tlbnMgPSAkdG9rZW5zOwp9CgoKCgpwcm90ZWN0ZWQgZnVuY3Rpb24gcGFyc2UoKQp7CiRwYXJzZU9wdGlvbnMgPSB0cnVlOwokdGhpcy0+cGFyc2VkID0gJHRoaXMtPnRva2VuczsKd2hpbGUgKG51bGwgIT09ICR0b2tlbiA9IGFycmF5X3NoaWZ0KCR0aGlzLT5wYXJzZWQpKSB7CmlmICgkcGFyc2VPcHRpb25zICYmICcnID09ICR0b2tlbikgewokdGhpcy0+cGFyc2VBcmd1bWVudCgkdG9rZW4pOwp9IGVsc2VpZiAoJHBhcnNlT3B0aW9ucyAmJiAnLS0nID09ICR0b2tlbikgewokcGFyc2VPcHRpb25zID0gZmFsc2U7Cn0gZWxzZWlmICgkcGFyc2VPcHRpb25zICYmIDAgPT09IHN0cnBvcygkdG9rZW4sICctLScpKSB7CiR0aGlzLT5wYXJzZUxvbmdPcHRpb24oJHRva2VuKTsKfSBlbHNlaWYgKCRwYXJzZU9wdGlvbnMgJiYgJy0nID09PSAkdG9rZW5bMF0gJiYgJy0nICE9PSAkdG9rZW4pIHsKJHRoaXMtPnBhcnNlU2hvcnRPcHRpb24oJHRva2VuKTsKfSBlbHNlIHsKJHRoaXMtPnBhcnNlQXJndW1lbnQoJHRva2VuKTsKfQp9Cn0KCgoKCgoKcHJpdmF0ZSBmdW5jdGlvbiBwYXJzZVNob3J0T3B0aW9uKCR0b2tlbikKewokbmFtZSA9IHN1YnN0cigkdG9rZW4sIDEpOwoKaWYgKFxzdHJsZW4oJG5hbWUpID4gMSkgewppZiAoJHRoaXMtPmRlZmluaXRpb24tPmhhc1Nob3J0Y3V0KCRuYW1lWzBdKSAmJiAkdGhpcy0+ZGVmaW5pdGlvbi0+Z2V0T3B0aW9uRm9yU2hvcnRjdXQoJG5hbWVbMF0pLT5hY2NlcHRWYWx1ZSgpKSB7CgokdGhpcy0+YWRkU2hvcnRPcHRpb24oJG5hbWVbMF0sIHN1YnN0cigkbmFtZSwgMSkpOwp9IGVsc2UgewokdGhpcy0+cGFyc2VTaG9ydE9wdGlvblNldCgkbmFtZSk7Cn0KfSBlbHNlIHsKJHRoaXMtPmFkZFNob3J0T3B0aW9uKCRuYW1lLCBudWxsKTsKfQp9CgoKCgoKCgoKcHJpdmF0ZSBmdW5jdGlvbiBwYXJzZVNob3J0T3B0aW9uU2V0KCRuYW1lKQp7CiRsZW4gPSBcc3RybGVuKCRuYW1lKTsKZm9yICgkaSA9IDA7ICRpIDwgJGxlbjsgKyskaSkgewppZiAoISR0aGlzLT5kZWZpbml0aW9uLT5oYXNTaG9ydGN1dCgkbmFtZVskaV0pKSB7CiRlbmNvZGluZyA9IG1iX2RldGVjdF9lbmNvZGluZygkbmFtZSwgbnVsbCwgdHJ1ZSk7CnRocm93IG5ldyBSdW50aW1lRXhjZXB0aW9uKHNwcmludGYoJ1RoZSAiLSVzIiBvcHRpb24gZG9lcyBub3QgZXhpc3QuJywgZmFsc2UgPT09ICRlbmNvZGluZyA/ICRuYW1lWyRpXSA6IG1iX3N1YnN0cigkbmFtZSwgJGksIDEsICRlbmNvZGluZykpKTsKfQoKJG9wdGlvbiA9ICR0aGlzLT5kZWZpbml0aW9uLT5nZXRPcHRpb25Gb3JTaG9ydGN1dCgkbmFtZVskaV0pOwppZiAoJG9wdGlvbi0+YWNjZXB0VmFsdWUoKSkgewokdGhpcy0+YWRkTG9uZ09wdGlvbigkb3B0aW9uLT5nZXROYW1lKCksICRpID09PSAkbGVuIC0gMSA/IG51bGwgOiBzdWJzdHIoJG5hbWUsICRpICsgMSkpOwoKYnJlYWs7Cn0gZWxzZSB7CiR0aGlzLT5hZGRMb25nT3B0aW9uKCRvcHRpb24tPmdldE5hbWUoKSwgbnVsbCk7Cn0KfQp9CgoKCgoKCnByaXZhdGUgZnVuY3Rpb24gcGFyc2VMb25nT3B0aW9uKCR0b2tlbikKewokbmFtZSA9IHN1YnN0cigkdG9rZW4sIDIpOwoKaWYgKGZhbHNlICE9PSAkcG9zID0gc3RycG9zKCRuYW1lLCAnPScpKSB7CmlmICgwID09PSBcc3RybGVuKCR2YWx1ZSA9IHN1YnN0cigkbmFtZSwgJHBvcyArIDEpKSkgewphcnJheV91bnNoaWZ0KCR0aGlzLT5wYXJzZWQsIG51bGwpOwp9CiR0aGlzLT5hZGRMb25nT3B0aW9uKHN1YnN0cigkbmFtZSwgMCwgJHBvcyksICR2YWx1ZSk7Cn0gZWxzZSB7CiR0aGlzLT5hZGRMb25nT3B0aW9uKCRuYW1lLCBudWxsKTsKfQp9CgoKCgoKCgoKcHJpdmF0ZSBmdW5jdGlvbiBwYXJzZUFyZ3VtZW50KCR0b2tlbikKewokYyA9IFxjb3VudCgkdGhpcy0+YXJndW1lbnRzKTsKCgppZiAoJHRoaXMtPmRlZmluaXRpb24tPmhhc0FyZ3VtZW50KCRjKSkgewokYXJnID0gJHRoaXMtPmRlZmluaXRpb24tPmdldEFyZ3VtZW50KCRjKTsKJHRoaXMtPmFyZ3VtZW50c1skYXJnLT5nZXROYW1lKCldID0gJGFyZy0+aXNBcnJheSgpID8gYXJyYXkoJHRva2VuKSA6ICR0b2tlbjsKCgp9IGVsc2VpZiAoJHRoaXMtPmRlZmluaXRpb24tPmhhc0FyZ3VtZW50KCRjIC0gMSkgJiYgJHRoaXMtPmRlZmluaXRpb24tPmdldEFyZ3VtZW50KCRjIC0gMSktPmlzQXJyYXkoKSkgewokYXJnID0gJHRoaXMtPmRlZmluaXRpb24tPmdldEFyZ3VtZW50KCRjIC0gMSk7CiR0aGlzLT5hcmd1bWVudHNbJGFyZy0+Z2V0TmFtZSgpXVtdID0gJHRva2VuOwoKCn0gZWxzZSB7CiRhbGwgPSAkdGhpcy0+ZGVmaW5pdGlvbi0+Z2V0QXJndW1lbnRzKCk7CmlmIChcY291bnQoJGFsbCkpIHsKdGhyb3cgbmV3IFJ1bnRpbWVFeGNlcHRpb24oc3ByaW50ZignVG9vIG1hbnkgYXJndW1lbnRzLCBleHBlY3RlZCBhcmd1bWVudHMgIiVzIi4nLCBpbXBsb2RlKCciICInLCBhcnJheV9rZXlzKCRhbGwpKSkpOwp9Cgp0aHJvdyBuZXcgUnVudGltZUV4Y2VwdGlvbihzcHJpbnRmKCdObyBhcmd1bWVudHMgZXhwZWN0ZWQsIGdvdCAiJXMiLicsICR0b2tlbikpOwp9Cn0KCgoKCgoKCgoKcHJpdmF0ZSBmdW5jdGlvbiBhZGRTaG9ydE9wdGlvbigkc2hvcnRjdXQsICR2YWx1ZSkKewppZiAoISR0aGlzLT5kZWZpbml0aW9uLT5oYXNTaG9ydGN1dCgkc2hvcnRjdXQpKSB7CnRocm93IG5ldyBSdW50aW1lRXhjZXB0aW9uKHNwcmludGYoJ1RoZSAiLSVzIiBvcHRpb24gZG9lcyBub3QgZXhpc3QuJywgJHNob3J0Y3V0KSk7Cn0KCiR0aGlzLT5hZGRMb25nT3B0aW9uKCR0aGlzLT5kZWZpbml0aW9uLT5nZXRPcHRpb25Gb3JTaG9ydGN1dCgkc2hvcnRjdXQpLT5nZXROYW1lKCksICR2YWx1ZSk7Cn0KCgoKCgoKCgoKcHJpdmF0ZSBmdW5jdGlvbiBhZGRMb25nT3B0aW9uKCRuYW1lLCAkdmFsdWUpCnsKaWYgKCEkdGhpcy0+ZGVmaW5pdGlvbi0+aGFzT3B0aW9uKCRuYW1lKSkgewp0aHJvdyBuZXcgUnVudGltZUV4Y2VwdGlvbihzcHJpbnRmKCdUaGUgIi0tJXMiIG9wdGlvbiBkb2VzIG5vdCBleGlzdC4nLCAkbmFtZSkpOwp9Cgokb3B0aW9uID0gJHRoaXMtPmRlZmluaXRpb24tPmdldE9wdGlvbigkbmFtZSk7CgoKaWYgKCFpc3NldCgkdmFsdWVbMF0pKSB7CiR2YWx1ZSA9IG51bGw7Cn0KCmlmIChudWxsICE9PSAkdmFsdWUgJiYgISRvcHRpb24tPmFjY2VwdFZhbHVlKCkpIHsKdGhyb3cgbmV3IFJ1bnRpbWVFeGNlcHRpb24oc3ByaW50ZignVGhlICItLSVzIiBvcHRpb24gZG9lcyBub3QgYWNjZXB0IGEgdmFsdWUuJywgJG5hbWUpKTsKfQoKaWYgKG51bGwgPT09ICR2YWx1ZSAmJiAkb3B0aW9uLT5hY2NlcHRWYWx1ZSgpICYmIFxjb3VudCgkdGhpcy0+cGFyc2VkKSkgewoKCiRuZXh0ID0gYXJyYXlfc2hpZnQoJHRoaXMtPnBhcnNlZCk7CmlmIChpc3NldCgkbmV4dFswXSkgJiYgJy0nICE9PSAkbmV4dFswXSkgewokdmFsdWUgPSAkbmV4dDsKfSBlbHNlaWYgKGVtcHR5KCRuZXh0KSkgewokdmFsdWUgPSBudWxsOwp9IGVsc2UgewphcnJheV91bnNoaWZ0KCR0aGlzLT5wYXJzZWQsICRuZXh0KTsKfQp9CgppZiAobnVsbCA9PT0gJHZhbHVlKSB7CmlmICgkb3B0aW9uLT5pc1ZhbHVlUmVxdWlyZWQoKSkgewp0aHJvdyBuZXcgUnVudGltZUV4Y2VwdGlvbihzcHJpbnRmKCdUaGUgIi0tJXMiIG9wdGlvbiByZXF1aXJlcyBhIHZhbHVlLicsICRuYW1lKSk7Cn0KCmlmICghJG9wdGlvbi0+aXNBcnJheSgpKSB7CiR2YWx1ZSA9ICRvcHRpb24tPmlzVmFsdWVPcHRpb25hbCgpID8gJG9wdGlvbi0+Z2V0RGVmYXVsdCgpIDogdHJ1ZTsKfQp9CgppZiAoJG9wdGlvbi0+aXNBcnJheSgpKSB7CiR0aGlzLT5vcHRpb25zWyRuYW1lXVtdID0gJHZhbHVlOwp9IGVsc2UgewokdGhpcy0+b3B0aW9uc1skbmFtZV0gPSAkdmFsdWU7Cn0KfQoKCgoKcHVibGljIGZ1bmN0aW9uIGdldEZpcnN0QXJndW1lbnQoKQp7CmZvcmVhY2ggKCR0aGlzLT50b2tlbnMgYXMgJHRva2VuKSB7CmlmICgkdG9rZW4gJiYgJy0nID09PSAkdG9rZW5bMF0pIHsKY29udGludWU7Cn0KCnJldHVybiAkdG9rZW47Cn0KfQoKCgoKcHVibGljIGZ1bmN0aW9uIGhhc1BhcmFtZXRlck9wdGlvbigkdmFsdWVzKQp7CiR2YWx1ZXMgPSAoYXJyYXkpICR2YWx1ZXM7Cgpmb3JlYWNoICgkdGhpcy0+dG9rZW5zIGFzICR0b2tlbikgewpmb3JlYWNoICgkdmFsdWVzIGFzICR2YWx1ZSkgewoKCgokbGVhZGluZyA9IDAgPT09IHN0cnBvcygkdmFsdWUsICctLScpID8gJHZhbHVlLic9JyA6ICR2YWx1ZTsKaWYgKCR0b2tlbiA9PT0gJHZhbHVlIHx8ICcnICE9PSAkbGVhZGluZyAmJiAwID09PSBzdHJwb3MoJHRva2VuLCAkbGVhZGluZykpIHsKcmV0dXJuIHRydWU7Cn0KfQp9CgpyZXR1cm4gZmFsc2U7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBnZXRQYXJhbWV0ZXJPcHRpb24oJHZhbHVlcywgJGRlZmF1bHQgPSBmYWxzZSkKewokdmFsdWVzID0gKGFycmF5KSAkdmFsdWVzOwokdG9rZW5zID0gJHRoaXMtPnRva2VuczsKCndoaWxlICgwIDwgXGNvdW50KCR0b2tlbnMpKSB7CiR0b2tlbiA9IGFycmF5X3NoaWZ0KCR0b2tlbnMpOwoKZm9yZWFjaCAoJHZhbHVlcyBhcyAkdmFsdWUpIHsKaWYgKCR0b2tlbiA9PT0gJHZhbHVlKSB7CnJldHVybiBhcnJheV9zaGlmdCgkdG9rZW5zKTsKfQoKCgokbGVhZGluZyA9IDAgPT09IHN0cnBvcygkdmFsdWUsICctLScpID8gJHZhbHVlLic9JyA6ICR2YWx1ZTsKaWYgKCcnICE9PSAkbGVhZGluZyAmJiAwID09PSBzdHJwb3MoJHRva2VuLCAkbGVhZGluZykpIHsKcmV0dXJuIHN1YnN0cigkdG9rZW4sIFxzdHJsZW4oJGxlYWRpbmcpKTsKfQp9Cn0KCnJldHVybiAkZGVmYXVsdDsKfQoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gX190b1N0cmluZygpCnsKJHNlbGYgPSAkdGhpczsKJHRva2VucyA9IGFycmF5X21hcChmdW5jdGlvbiAoJHRva2VuKSB1c2UgKCRzZWxmKSB7CmlmIChwcmVnX21hdGNoKCd7XigtW149XSs9KSguKyl9JywgJHRva2VuLCAkbWF0Y2gpKSB7CnJldHVybiAkbWF0Y2hbMV0uJHNlbGYtPmVzY2FwZVRva2VuKCRtYXRjaFsyXSk7Cn0KCmlmICgkdG9rZW4gJiYgJy0nICE9PSAkdG9rZW5bMF0pIHsKcmV0dXJuICRzZWxmLT5lc2NhcGVUb2tlbigkdG9rZW4pOwp9CgpyZXR1cm4gJHRva2VuOwp9LCAkdGhpcy0+dG9rZW5zKTsKCnJldHVybiBpbXBsb2RlKCcgJywgJHRva2Vucyk7Cn0KfQo8P3BocAoKCgoKCgoKCgoKbmFtZXNwYWNlIFN5bWZvbnlcQ29tcG9uZW50XENvbnNvbGVcSW5wdXQ7Cgp1c2UgU3ltZm9ueVxDb21wb25lbnRcQ29uc29sZVxFeGNlcHRpb25cSW52YWxpZEFyZ3VtZW50RXhjZXB0aW9uOwp1c2UgU3ltZm9ueVxDb21wb25lbnRcQ29uc29sZVxFeGNlcHRpb25cSW52YWxpZE9wdGlvbkV4Y2VwdGlvbjsKCgoKCgoKCgoKCmNsYXNzIEFycmF5SW5wdXQgZXh0ZW5kcyBJbnB1dAp7CnByaXZhdGUgJHBhcmFtZXRlcnM7CgpwdWJsaWMgZnVuY3Rpb24gX19jb25zdHJ1Y3QoYXJyYXkgJHBhcmFtZXRlcnMsIElucHV0RGVmaW5pdGlvbiAkZGVmaW5pdGlvbiA9IG51bGwpCnsKJHRoaXMtPnBhcmFtZXRlcnMgPSAkcGFyYW1ldGVyczsKCnBhcmVudDo6X19jb25zdHJ1Y3QoJGRlZmluaXRpb24pOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0Rmlyc3RBcmd1bWVudCgpCnsKZm9yZWFjaCAoJHRoaXMtPnBhcmFtZXRlcnMgYXMgJGtleSA9PiAkdmFsdWUpIHsKaWYgKCRrZXkgJiYgJy0nID09PSAka2V5WzBdKSB7CmNvbnRpbnVlOwp9CgpyZXR1cm4gJHZhbHVlOwp9Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBoYXNQYXJhbWV0ZXJPcHRpb24oJHZhbHVlcykKewokdmFsdWVzID0gKGFycmF5KSAkdmFsdWVzOwoKZm9yZWFjaCAoJHRoaXMtPnBhcmFtZXRlcnMgYXMgJGsgPT4gJHYpIHsKaWYgKCFcaXNfaW50KCRrKSkgewokdiA9ICRrOwp9CgppZiAoXGluX2FycmF5KCR2LCAkdmFsdWVzKSkgewpyZXR1cm4gdHJ1ZTsKfQp9CgpyZXR1cm4gZmFsc2U7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBnZXRQYXJhbWV0ZXJPcHRpb24oJHZhbHVlcywgJGRlZmF1bHQgPSBmYWxzZSkKewokdmFsdWVzID0gKGFycmF5KSAkdmFsdWVzOwoKZm9yZWFjaCAoJHRoaXMtPnBhcmFtZXRlcnMgYXMgJGsgPT4gJHYpIHsKaWYgKFxpc19pbnQoJGspKSB7CmlmIChcaW5fYXJyYXkoJHYsICR2YWx1ZXMpKSB7CnJldHVybiB0cnVlOwp9Cn0gZWxzZWlmIChcaW5fYXJyYXkoJGssICR2YWx1ZXMpKSB7CnJldHVybiAkdjsKfQp9CgpyZXR1cm4gJGRlZmF1bHQ7Cn0KCgoKCgoKcHVibGljIGZ1bmN0aW9uIF9fdG9TdHJpbmcoKQp7CiRwYXJhbXMgPSBhcnJheSgpOwpmb3JlYWNoICgkdGhpcy0+cGFyYW1ldGVycyBhcyAkcGFyYW0gPT4gJHZhbCkgewppZiAoJHBhcmFtICYmICctJyA9PT0gJHBhcmFtWzBdKSB7CmlmIChcaXNfYXJyYXkoJHZhbCkpIHsKZm9yZWFjaCAoJHZhbCBhcyAkdikgewokcGFyYW1zW10gPSAkcGFyYW0uKCcnICE9ICR2ID8gJz0nLiR0aGlzLT5lc2NhcGVUb2tlbigkdikgOiAnJyk7Cn0KfSBlbHNlIHsKJHBhcmFtc1tdID0gJHBhcmFtLignJyAhPSAkdmFsID8gJz0nLiR0aGlzLT5lc2NhcGVUb2tlbigkdmFsKSA6ICcnKTsKfQp9IGVsc2UgewokcGFyYW1zW10gPSBcaXNfYXJyYXkoJHZhbCkgPyBpbXBsb2RlKCcgJywgYXJyYXlfbWFwKGFycmF5KCR0aGlzLCAnZXNjYXBlVG9rZW4nKSwgJHZhbCkpIDogJHRoaXMtPmVzY2FwZVRva2VuKCR2YWwpOwp9Cn0KCnJldHVybiBpbXBsb2RlKCcgJywgJHBhcmFtcyk7Cn0KCgoKCnByb3RlY3RlZCBmdW5jdGlvbiBwYXJzZSgpCnsKZm9yZWFjaCAoJHRoaXMtPnBhcmFtZXRlcnMgYXMgJGtleSA9PiAkdmFsdWUpIHsKaWYgKDAgPT09IHN0cnBvcygka2V5LCAnLS0nKSkgewokdGhpcy0+YWRkTG9uZ09wdGlvbihzdWJzdHIoJGtleSwgMiksICR2YWx1ZSk7Cn0gZWxzZWlmICgnLScgPT09ICRrZXlbMF0pIHsKJHRoaXMtPmFkZFNob3J0T3B0aW9uKHN1YnN0cigka2V5LCAxKSwgJHZhbHVlKTsKfSBlbHNlIHsKJHRoaXMtPmFkZEFyZ3VtZW50KCRrZXksICR2YWx1ZSk7Cn0KfQp9CgoKCgoKCgoKCnByaXZhdGUgZnVuY3Rpb24gYWRkU2hvcnRPcHRpb24oJHNob3J0Y3V0LCAkdmFsdWUpCnsKaWYgKCEkdGhpcy0+ZGVmaW5pdGlvbi0+aGFzU2hvcnRjdXQoJHNob3J0Y3V0KSkgewp0aHJvdyBuZXcgSW52YWxpZE9wdGlvbkV4Y2VwdGlvbihzcHJpbnRmKCdUaGUgIi0lcyIgb3B0aW9uIGRvZXMgbm90IGV4aXN0LicsICRzaG9ydGN1dCkpOwp9CgokdGhpcy0+YWRkTG9uZ09wdGlvbigkdGhpcy0+ZGVmaW5pdGlvbi0+Z2V0T3B0aW9uRm9yU2hvcnRjdXQoJHNob3J0Y3V0KS0+Z2V0TmFtZSgpLCAkdmFsdWUpOwp9CgoKCgoKCgoKCgpwcml2YXRlIGZ1bmN0aW9uIGFkZExvbmdPcHRpb24oJG5hbWUsICR2YWx1ZSkKewppZiAoISR0aGlzLT5kZWZpbml0aW9uLT5oYXNPcHRpb24oJG5hbWUpKSB7CnRocm93IG5ldyBJbnZhbGlkT3B0aW9uRXhjZXB0aW9uKHNwcmludGYoJ1RoZSAiLS0lcyIgb3B0aW9uIGRvZXMgbm90IGV4aXN0LicsICRuYW1lKSk7Cn0KCiRvcHRpb24gPSAkdGhpcy0+ZGVmaW5pdGlvbi0+Z2V0T3B0aW9uKCRuYW1lKTsKCmlmIChudWxsID09PSAkdmFsdWUpIHsKaWYgKCRvcHRpb24tPmlzVmFsdWVSZXF1aXJlZCgpKSB7CnRocm93IG5ldyBJbnZhbGlkT3B0aW9uRXhjZXB0aW9uKHNwcmludGYoJ1RoZSAiLS0lcyIgb3B0aW9uIHJlcXVpcmVzIGEgdmFsdWUuJywgJG5hbWUpKTsKfQoKJHZhbHVlID0gJG9wdGlvbi0+aXNWYWx1ZU9wdGlvbmFsKCkgPyAkb3B0aW9uLT5nZXREZWZhdWx0KCkgOiB0cnVlOwp9CgokdGhpcy0+b3B0aW9uc1skbmFtZV0gPSAkdmFsdWU7Cn0KCgoKCgoKCgoKcHJpdmF0ZSBmdW5jdGlvbiBhZGRBcmd1bWVudCgkbmFtZSwgJHZhbHVlKQp7CmlmICghJHRoaXMtPmRlZmluaXRpb24tPmhhc0FyZ3VtZW50KCRuYW1lKSkgewp0aHJvdyBuZXcgSW52YWxpZEFyZ3VtZW50RXhjZXB0aW9uKHNwcmludGYoJ1RoZSAiJXMiIGFyZ3VtZW50IGRvZXMgbm90IGV4aXN0LicsICRuYW1lKSk7Cn0KCiR0aGlzLT5hcmd1bWVudHNbJG5hbWVdID0gJHZhbHVlOwp9Cn0KPD9waHAKCgoKCgoKCgoKCm5hbWVzcGFjZSBTeW1mb255XENvbXBvbmVudFxDb25zb2xlXElucHV0OwoKdXNlIFN5bWZvbnlcQ29tcG9uZW50XENvbnNvbGVcRXhjZXB0aW9uXEludmFsaWRBcmd1bWVudEV4Y2VwdGlvbjsKdXNlIFN5bWZvbnlcQ29tcG9uZW50XENvbnNvbGVcRXhjZXB0aW9uXFJ1bnRpbWVFeGNlcHRpb247CgoKCgoKCgoKCgoKCmFic3RyYWN0IGNsYXNzIElucHV0IGltcGxlbWVudHMgSW5wdXRJbnRlcmZhY2UKewpwcm90ZWN0ZWQgJGRlZmluaXRpb247CnByb3RlY3RlZCAkb3B0aW9ucyA9IGFycmF5KCk7CnByb3RlY3RlZCAkYXJndW1lbnRzID0gYXJyYXkoKTsKcHJvdGVjdGVkICRpbnRlcmFjdGl2ZSA9IHRydWU7CgpwdWJsaWMgZnVuY3Rpb24gX19jb25zdHJ1Y3QoSW5wdXREZWZpbml0aW9uICRkZWZpbml0aW9uID0gbnVsbCkKewppZiAobnVsbCA9PT0gJGRlZmluaXRpb24pIHsKJHRoaXMtPmRlZmluaXRpb24gPSBuZXcgSW5wdXREZWZpbml0aW9uKCk7Cn0gZWxzZSB7CiR0aGlzLT5iaW5kKCRkZWZpbml0aW9uKTsKJHRoaXMtPnZhbGlkYXRlKCk7Cn0KfQoKCgoKcHVibGljIGZ1bmN0aW9uIGJpbmQoSW5wdXREZWZpbml0aW9uICRkZWZpbml0aW9uKQp7CiR0aGlzLT5hcmd1bWVudHMgPSBhcnJheSgpOwokdGhpcy0+b3B0aW9ucyA9IGFycmF5KCk7CiR0aGlzLT5kZWZpbml0aW9uID0gJGRlZmluaXRpb247CgokdGhpcy0+cGFyc2UoKTsKfQoKCgoKYWJzdHJhY3QgcHJvdGVjdGVkIGZ1bmN0aW9uIHBhcnNlKCk7CgoKCgpwdWJsaWMgZnVuY3Rpb24gdmFsaWRhdGUoKQp7CiRkZWZpbml0aW9uID0gJHRoaXMtPmRlZmluaXRpb247CiRnaXZlbkFyZ3VtZW50cyA9ICR0aGlzLT5hcmd1bWVudHM7CgokbWlzc2luZ0FyZ3VtZW50cyA9IGFycmF5X2ZpbHRlcihhcnJheV9rZXlzKCRkZWZpbml0aW9uLT5nZXRBcmd1bWVudHMoKSksIGZ1bmN0aW9uICgkYXJndW1lbnQpIHVzZSAoJGRlZmluaXRpb24sICRnaXZlbkFyZ3VtZW50cykgewpyZXR1cm4gIWFycmF5X2tleV9leGlzdHMoJGFyZ3VtZW50LCAkZ2l2ZW5Bcmd1bWVudHMpICYmICRkZWZpbml0aW9uLT5nZXRBcmd1bWVudCgkYXJndW1lbnQpLT5pc1JlcXVpcmVkKCk7Cn0pOwoKaWYgKFxjb3VudCgkbWlzc2luZ0FyZ3VtZW50cykgPiAwKSB7CnRocm93IG5ldyBSdW50aW1lRXhjZXB0aW9uKHNwcmludGYoJ05vdCBlbm91Z2ggYXJndW1lbnRzIChtaXNzaW5nOiAiJXMiKS4nLCBpbXBsb2RlKCcsICcsICRtaXNzaW5nQXJndW1lbnRzKSkpOwp9Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBpc0ludGVyYWN0aXZlKCkKewpyZXR1cm4gJHRoaXMtPmludGVyYWN0aXZlOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gc2V0SW50ZXJhY3RpdmUoJGludGVyYWN0aXZlKQp7CiR0aGlzLT5pbnRlcmFjdGl2ZSA9IChib29sKSAkaW50ZXJhY3RpdmU7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBnZXRBcmd1bWVudHMoKQp7CnJldHVybiBhcnJheV9tZXJnZSgkdGhpcy0+ZGVmaW5pdGlvbi0+Z2V0QXJndW1lbnREZWZhdWx0cygpLCAkdGhpcy0+YXJndW1lbnRzKTsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIGdldEFyZ3VtZW50KCRuYW1lKQp7CmlmICghJHRoaXMtPmRlZmluaXRpb24tPmhhc0FyZ3VtZW50KCRuYW1lKSkgewp0aHJvdyBuZXcgSW52YWxpZEFyZ3VtZW50RXhjZXB0aW9uKHNwcmludGYoJ1RoZSAiJXMiIGFyZ3VtZW50IGRvZXMgbm90IGV4aXN0LicsICRuYW1lKSk7Cn0KCnJldHVybiBpc3NldCgkdGhpcy0+YXJndW1lbnRzWyRuYW1lXSkgPyAkdGhpcy0+YXJndW1lbnRzWyRuYW1lXSA6ICR0aGlzLT5kZWZpbml0aW9uLT5nZXRBcmd1bWVudCgkbmFtZSktPmdldERlZmF1bHQoKTsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIHNldEFyZ3VtZW50KCRuYW1lLCAkdmFsdWUpCnsKaWYgKCEkdGhpcy0+ZGVmaW5pdGlvbi0+aGFzQXJndW1lbnQoJG5hbWUpKSB7CnRocm93IG5ldyBJbnZhbGlkQXJndW1lbnRFeGNlcHRpb24oc3ByaW50ZignVGhlICIlcyIgYXJndW1lbnQgZG9lcyBub3QgZXhpc3QuJywgJG5hbWUpKTsKfQoKJHRoaXMtPmFyZ3VtZW50c1skbmFtZV0gPSAkdmFsdWU7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBoYXNBcmd1bWVudCgkbmFtZSkKewpyZXR1cm4gJHRoaXMtPmRlZmluaXRpb24tPmhhc0FyZ3VtZW50KCRuYW1lKTsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIGdldE9wdGlvbnMoKQp7CnJldHVybiBhcnJheV9tZXJnZSgkdGhpcy0+ZGVmaW5pdGlvbi0+Z2V0T3B0aW9uRGVmYXVsdHMoKSwgJHRoaXMtPm9wdGlvbnMpOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0T3B0aW9uKCRuYW1lKQp7CmlmICghJHRoaXMtPmRlZmluaXRpb24tPmhhc09wdGlvbigkbmFtZSkpIHsKdGhyb3cgbmV3IEludmFsaWRBcmd1bWVudEV4Y2VwdGlvbihzcHJpbnRmKCdUaGUgIiVzIiBvcHRpb24gZG9lcyBub3QgZXhpc3QuJywgJG5hbWUpKTsKfQoKcmV0dXJuIGlzc2V0KCR0aGlzLT5vcHRpb25zWyRuYW1lXSkgPyAkdGhpcy0+b3B0aW9uc1skbmFtZV0gOiAkdGhpcy0+ZGVmaW5pdGlvbi0+Z2V0T3B0aW9uKCRuYW1lKS0+Z2V0RGVmYXVsdCgpOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gc2V0T3B0aW9uKCRuYW1lLCAkdmFsdWUpCnsKaWYgKCEkdGhpcy0+ZGVmaW5pdGlvbi0+aGFzT3B0aW9uKCRuYW1lKSkgewp0aHJvdyBuZXcgSW52YWxpZEFyZ3VtZW50RXhjZXB0aW9uKHNwcmludGYoJ1RoZSAiJXMiIG9wdGlvbiBkb2VzIG5vdCBleGlzdC4nLCAkbmFtZSkpOwp9CgokdGhpcy0+b3B0aW9uc1skbmFtZV0gPSAkdmFsdWU7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBoYXNPcHRpb24oJG5hbWUpCnsKcmV0dXJuICR0aGlzLT5kZWZpbml0aW9uLT5oYXNPcHRpb24oJG5hbWUpOwp9CgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIGVzY2FwZVRva2VuKCR0b2tlbikKewpyZXR1cm4gcHJlZ19tYXRjaCgne15bXHctXSskfScsICR0b2tlbikgPyAkdG9rZW4gOiBlc2NhcGVzaGVsbGFyZygkdG9rZW4pOwp9Cn0KPD9waHAKCgoKCgoKCgoKCm5hbWVzcGFjZSBTeW1mb255XENvbXBvbmVudFxDb25zb2xlXElucHV0OwoKdXNlIFN5bWZvbnlcQ29tcG9uZW50XENvbnNvbGVcRXhjZXB0aW9uXEludmFsaWRBcmd1bWVudEV4Y2VwdGlvbjsKdXNlIFN5bWZvbnlcQ29tcG9uZW50XENvbnNvbGVcRXhjZXB0aW9uXExvZ2ljRXhjZXB0aW9uOwoKCgoKCgpjbGFzcyBJbnB1dEFyZ3VtZW50CnsKY29uc3QgUkVRVUlSRUQgPSAxOwpjb25zdCBPUFRJT05BTCA9IDI7CmNvbnN0IElTX0FSUkFZID0gNDsKCnByaXZhdGUgJG5hbWU7CnByaXZhdGUgJG1vZGU7CnByaXZhdGUgJGRlZmF1bHQ7CnByaXZhdGUgJGRlc2NyaXB0aW9uOwoKCgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gX19jb25zdHJ1Y3QoJG5hbWUsICRtb2RlID0gbnVsbCwgJGRlc2NyaXB0aW9uID0gJycsICRkZWZhdWx0ID0gbnVsbCkKewppZiAobnVsbCA9PT0gJG1vZGUpIHsKJG1vZGUgPSBzZWxmOjpPUFRJT05BTDsKfSBlbHNlaWYgKCFcaXNfaW50KCRtb2RlKSB8fCAkbW9kZSA+IDcgfHwgJG1vZGUgPCAxKSB7CnRocm93IG5ldyBJbnZhbGlkQXJndW1lbnRFeGNlcHRpb24oc3ByaW50ZignQXJndW1lbnQgbW9kZSAiJXMiIGlzIG5vdCB2YWxpZC4nLCAkbW9kZSkpOwp9CgokdGhpcy0+bmFtZSA9ICRuYW1lOwokdGhpcy0+bW9kZSA9ICRtb2RlOwokdGhpcy0+ZGVzY3JpcHRpb24gPSAkZGVzY3JpcHRpb247CgokdGhpcy0+c2V0RGVmYXVsdCgkZGVmYXVsdCk7Cn0KCgoKCgoKcHVibGljIGZ1bmN0aW9uIGdldE5hbWUoKQp7CnJldHVybiAkdGhpcy0+bmFtZTsKfQoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gaXNSZXF1aXJlZCgpCnsKcmV0dXJuIHNlbGY6OlJFUVVJUkVEID09PSAoc2VsZjo6UkVRVUlSRUQgJiAkdGhpcy0+bW9kZSk7Cn0KCgoKCgoKcHVibGljIGZ1bmN0aW9uIGlzQXJyYXkoKQp7CnJldHVybiBzZWxmOjpJU19BUlJBWSA9PT0gKHNlbGY6OklTX0FSUkFZICYgJHRoaXMtPm1vZGUpOwp9CgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIHNldERlZmF1bHQoJGRlZmF1bHQgPSBudWxsKQp7CmlmIChzZWxmOjpSRVFVSVJFRCA9PT0gJHRoaXMtPm1vZGUgJiYgbnVsbCAhPT0gJGRlZmF1bHQpIHsKdGhyb3cgbmV3IExvZ2ljRXhjZXB0aW9uKCdDYW5ub3Qgc2V0IGEgZGVmYXVsdCB2YWx1ZSBleGNlcHQgZm9yIElucHV0QXJndW1lbnQ6Ok9QVElPTkFMIG1vZGUuJyk7Cn0KCmlmICgkdGhpcy0+aXNBcnJheSgpKSB7CmlmIChudWxsID09PSAkZGVmYXVsdCkgewokZGVmYXVsdCA9IGFycmF5KCk7Cn0gZWxzZWlmICghXGlzX2FycmF5KCRkZWZhdWx0KSkgewp0aHJvdyBuZXcgTG9naWNFeGNlcHRpb24oJ0EgZGVmYXVsdCB2YWx1ZSBmb3IgYW4gYXJyYXkgYXJndW1lbnQgbXVzdCBiZSBhbiBhcnJheS4nKTsKfQp9CgokdGhpcy0+ZGVmYXVsdCA9ICRkZWZhdWx0Owp9CgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBnZXREZWZhdWx0KCkKewpyZXR1cm4gJHRoaXMtPmRlZmF1bHQ7Cn0KCgoKCgoKcHVibGljIGZ1bmN0aW9uIGdldERlc2NyaXB0aW9uKCkKewpyZXR1cm4gJHRoaXMtPmRlc2NyaXB0aW9uOwp9Cn0KPD9waHAKCgoKCgoKCgoKCm5hbWVzcGFjZSBTeW1mb255XENvbXBvbmVudFxDb25zb2xlXElucHV0OwoKCgoKCgoKaW50ZXJmYWNlIElucHV0QXdhcmVJbnRlcmZhY2UKewoKCgpwdWJsaWMgZnVuY3Rpb24gc2V0SW5wdXQoSW5wdXRJbnRlcmZhY2UgJGlucHV0KTsKfQo8P3BocAoKCgoKCgoKCgoKbmFtZXNwYWNlIFN5bWZvbnlcQ29tcG9uZW50XENvbnNvbGVcSW5wdXQ7Cgp1c2UgU3ltZm9ueVxDb21wb25lbnRcQ29uc29sZVxEZXNjcmlwdG9yXFRleHREZXNjcmlwdG9yOwp1c2UgU3ltZm9ueVxDb21wb25lbnRcQ29uc29sZVxEZXNjcmlwdG9yXFhtbERlc2NyaXB0b3I7CnVzZSBTeW1mb255XENvbXBvbmVudFxDb25zb2xlXEV4Y2VwdGlvblxJbnZhbGlkQXJndW1lbnRFeGNlcHRpb247CnVzZSBTeW1mb255XENvbXBvbmVudFxDb25zb2xlXEV4Y2VwdGlvblxMb2dpY0V4Y2VwdGlvbjsKdXNlIFN5bWZvbnlcQ29tcG9uZW50XENvbnNvbGVcT3V0cHV0XEJ1ZmZlcmVkT3V0cHV0OwoKCgoKCgoKCgoKCgoKY2xhc3MgSW5wdXREZWZpbml0aW9uCnsKcHJpdmF0ZSAkYXJndW1lbnRzOwpwcml2YXRlICRyZXF1aXJlZENvdW50Owpwcml2YXRlICRoYXNBbkFycmF5QXJndW1lbnQgPSBmYWxzZTsKcHJpdmF0ZSAkaGFzT3B0aW9uYWw7CnByaXZhdGUgJG9wdGlvbnM7CnByaXZhdGUgJHNob3J0Y3V0czsKCgoKCnB1YmxpYyBmdW5jdGlvbiBfX2NvbnN0cnVjdChhcnJheSAkZGVmaW5pdGlvbiA9IGFycmF5KCkpCnsKJHRoaXMtPnNldERlZmluaXRpb24oJGRlZmluaXRpb24pOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gc2V0RGVmaW5pdGlvbihhcnJheSAkZGVmaW5pdGlvbikKewokYXJndW1lbnRzID0gYXJyYXkoKTsKJG9wdGlvbnMgPSBhcnJheSgpOwpmb3JlYWNoICgkZGVmaW5pdGlvbiBhcyAkaXRlbSkgewppZiAoJGl0ZW0gaW5zdGFuY2VvZiBJbnB1dE9wdGlvbikgewokb3B0aW9uc1tdID0gJGl0ZW07Cn0gZWxzZSB7CiRhcmd1bWVudHNbXSA9ICRpdGVtOwp9Cn0KCiR0aGlzLT5zZXRBcmd1bWVudHMoJGFyZ3VtZW50cyk7CiR0aGlzLT5zZXRPcHRpb25zKCRvcHRpb25zKTsKfQoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gc2V0QXJndW1lbnRzKCRhcmd1bWVudHMgPSBhcnJheSgpKQp7CiR0aGlzLT5hcmd1bWVudHMgPSBhcnJheSgpOwokdGhpcy0+cmVxdWlyZWRDb3VudCA9IDA7CiR0aGlzLT5oYXNPcHRpb25hbCA9IGZhbHNlOwokdGhpcy0+aGFzQW5BcnJheUFyZ3VtZW50ID0gZmFsc2U7CiR0aGlzLT5hZGRBcmd1bWVudHMoJGFyZ3VtZW50cyk7Cn0KCgoKCgoKcHVibGljIGZ1bmN0aW9uIGFkZEFyZ3VtZW50cygkYXJndW1lbnRzID0gYXJyYXkoKSkKewppZiAobnVsbCAhPT0gJGFyZ3VtZW50cykgewpmb3JlYWNoICgkYXJndW1lbnRzIGFzICRhcmd1bWVudCkgewokdGhpcy0+YWRkQXJndW1lbnQoJGFyZ3VtZW50KTsKfQp9Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBhZGRBcmd1bWVudChJbnB1dEFyZ3VtZW50ICRhcmd1bWVudCkKewppZiAoaXNzZXQoJHRoaXMtPmFyZ3VtZW50c1skYXJndW1lbnQtPmdldE5hbWUoKV0pKSB7CnRocm93IG5ldyBMb2dpY0V4Y2VwdGlvbihzcHJpbnRmKCdBbiBhcmd1bWVudCB3aXRoIG5hbWUgIiVzIiBhbHJlYWR5IGV4aXN0cy4nLCAkYXJndW1lbnQtPmdldE5hbWUoKSkpOwp9CgppZiAoJHRoaXMtPmhhc0FuQXJyYXlBcmd1bWVudCkgewp0aHJvdyBuZXcgTG9naWNFeGNlcHRpb24oJ0Nhbm5vdCBhZGQgYW4gYXJndW1lbnQgYWZ0ZXIgYW4gYXJyYXkgYXJndW1lbnQuJyk7Cn0KCmlmICgkYXJndW1lbnQtPmlzUmVxdWlyZWQoKSAmJiAkdGhpcy0+aGFzT3B0aW9uYWwpIHsKdGhyb3cgbmV3IExvZ2ljRXhjZXB0aW9uKCdDYW5ub3QgYWRkIGEgcmVxdWlyZWQgYXJndW1lbnQgYWZ0ZXIgYW4gb3B0aW9uYWwgb25lLicpOwp9CgppZiAoJGFyZ3VtZW50LT5pc0FycmF5KCkpIHsKJHRoaXMtPmhhc0FuQXJyYXlBcmd1bWVudCA9IHRydWU7Cn0KCmlmICgkYXJndW1lbnQtPmlzUmVxdWlyZWQoKSkgeworKyR0aGlzLT5yZXF1aXJlZENvdW50Owp9IGVsc2UgewokdGhpcy0+aGFzT3B0aW9uYWwgPSB0cnVlOwp9CgokdGhpcy0+YXJndW1lbnRzWyRhcmd1bWVudC0+Z2V0TmFtZSgpXSA9ICRhcmd1bWVudDsKfQoKCgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIGdldEFyZ3VtZW50KCRuYW1lKQp7CmlmICghJHRoaXMtPmhhc0FyZ3VtZW50KCRuYW1lKSkgewp0aHJvdyBuZXcgSW52YWxpZEFyZ3VtZW50RXhjZXB0aW9uKHNwcmludGYoJ1RoZSAiJXMiIGFyZ3VtZW50IGRvZXMgbm90IGV4aXN0LicsICRuYW1lKSk7Cn0KCiRhcmd1bWVudHMgPSBcaXNfaW50KCRuYW1lKSA/IGFycmF5X3ZhbHVlcygkdGhpcy0+YXJndW1lbnRzKSA6ICR0aGlzLT5hcmd1bWVudHM7CgpyZXR1cm4gJGFyZ3VtZW50c1skbmFtZV07Cn0KCgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gaGFzQXJndW1lbnQoJG5hbWUpCnsKJGFyZ3VtZW50cyA9IFxpc19pbnQoJG5hbWUpID8gYXJyYXlfdmFsdWVzKCR0aGlzLT5hcmd1bWVudHMpIDogJHRoaXMtPmFyZ3VtZW50czsKCnJldHVybiBpc3NldCgkYXJndW1lbnRzWyRuYW1lXSk7Cn0KCgoKCgoKcHVibGljIGZ1bmN0aW9uIGdldEFyZ3VtZW50cygpCnsKcmV0dXJuICR0aGlzLT5hcmd1bWVudHM7Cn0KCgoKCgoKcHVibGljIGZ1bmN0aW9uIGdldEFyZ3VtZW50Q291bnQoKQp7CnJldHVybiAkdGhpcy0+aGFzQW5BcnJheUFyZ3VtZW50ID8gUEhQX0lOVF9NQVggOiBcY291bnQoJHRoaXMtPmFyZ3VtZW50cyk7Cn0KCgoKCgoKcHVibGljIGZ1bmN0aW9uIGdldEFyZ3VtZW50UmVxdWlyZWRDb3VudCgpCnsKcmV0dXJuICR0aGlzLT5yZXF1aXJlZENvdW50Owp9CgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBnZXRBcmd1bWVudERlZmF1bHRzKCkKewokdmFsdWVzID0gYXJyYXkoKTsKZm9yZWFjaCAoJHRoaXMtPmFyZ3VtZW50cyBhcyAkYXJndW1lbnQpIHsKJHZhbHVlc1skYXJndW1lbnQtPmdldE5hbWUoKV0gPSAkYXJndW1lbnQtPmdldERlZmF1bHQoKTsKfQoKcmV0dXJuICR2YWx1ZXM7Cn0KCgoKCgoKcHVibGljIGZ1bmN0aW9uIHNldE9wdGlvbnMoJG9wdGlvbnMgPSBhcnJheSgpKQp7CiR0aGlzLT5vcHRpb25zID0gYXJyYXkoKTsKJHRoaXMtPnNob3J0Y3V0cyA9IGFycmF5KCk7CiR0aGlzLT5hZGRPcHRpb25zKCRvcHRpb25zKTsKfQoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gYWRkT3B0aW9ucygkb3B0aW9ucyA9IGFycmF5KCkpCnsKZm9yZWFjaCAoJG9wdGlvbnMgYXMgJG9wdGlvbikgewokdGhpcy0+YWRkT3B0aW9uKCRvcHRpb24pOwp9Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBhZGRPcHRpb24oSW5wdXRPcHRpb24gJG9wdGlvbikKewppZiAoaXNzZXQoJHRoaXMtPm9wdGlvbnNbJG9wdGlvbi0+Z2V0TmFtZSgpXSkgJiYgISRvcHRpb24tPmVxdWFscygkdGhpcy0+b3B0aW9uc1skb3B0aW9uLT5nZXROYW1lKCldKSkgewp0aHJvdyBuZXcgTG9naWNFeGNlcHRpb24oc3ByaW50ZignQW4gb3B0aW9uIG5hbWVkICIlcyIgYWxyZWFkeSBleGlzdHMuJywgJG9wdGlvbi0+Z2V0TmFtZSgpKSk7Cn0KCmlmICgkb3B0aW9uLT5nZXRTaG9ydGN1dCgpKSB7CmZvcmVhY2ggKGV4cGxvZGUoJ3wnLCAkb3B0aW9uLT5nZXRTaG9ydGN1dCgpKSBhcyAkc2hvcnRjdXQpIHsKaWYgKGlzc2V0KCR0aGlzLT5zaG9ydGN1dHNbJHNob3J0Y3V0XSkgJiYgISRvcHRpb24tPmVxdWFscygkdGhpcy0+b3B0aW9uc1skdGhpcy0+c2hvcnRjdXRzWyRzaG9ydGN1dF1dKSkgewp0aHJvdyBuZXcgTG9naWNFeGNlcHRpb24oc3ByaW50ZignQW4gb3B0aW9uIHdpdGggc2hvcnRjdXQgIiVzIiBhbHJlYWR5IGV4aXN0cy4nLCAkc2hvcnRjdXQpKTsKfQp9Cn0KCiR0aGlzLT5vcHRpb25zWyRvcHRpb24tPmdldE5hbWUoKV0gPSAkb3B0aW9uOwppZiAoJG9wdGlvbi0+Z2V0U2hvcnRjdXQoKSkgewpmb3JlYWNoIChleHBsb2RlKCd8JywgJG9wdGlvbi0+Z2V0U2hvcnRjdXQoKSkgYXMgJHNob3J0Y3V0KSB7CiR0aGlzLT5zaG9ydGN1dHNbJHNob3J0Y3V0XSA9ICRvcHRpb24tPmdldE5hbWUoKTsKfQp9Cn0KCgoKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBnZXRPcHRpb24oJG5hbWUpCnsKaWYgKCEkdGhpcy0+aGFzT3B0aW9uKCRuYW1lKSkgewp0aHJvdyBuZXcgSW52YWxpZEFyZ3VtZW50RXhjZXB0aW9uKHNwcmludGYoJ1RoZSAiLS0lcyIgb3B0aW9uIGRvZXMgbm90IGV4aXN0LicsICRuYW1lKSk7Cn0KCnJldHVybiAkdGhpcy0+b3B0aW9uc1skbmFtZV07Cn0KCgoKCgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gaGFzT3B0aW9uKCRuYW1lKQp7CnJldHVybiBpc3NldCgkdGhpcy0+b3B0aW9uc1skbmFtZV0pOwp9CgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBnZXRPcHRpb25zKCkKewpyZXR1cm4gJHRoaXMtPm9wdGlvbnM7Cn0KCgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gaGFzU2hvcnRjdXQoJG5hbWUpCnsKcmV0dXJuIGlzc2V0KCR0aGlzLT5zaG9ydGN1dHNbJG5hbWVdKTsKfQoKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBnZXRPcHRpb25Gb3JTaG9ydGN1dCgkc2hvcnRjdXQpCnsKcmV0dXJuICR0aGlzLT5nZXRPcHRpb24oJHRoaXMtPnNob3J0Y3V0VG9OYW1lKCRzaG9ydGN1dCkpOwp9CgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBnZXRPcHRpb25EZWZhdWx0cygpCnsKJHZhbHVlcyA9IGFycmF5KCk7CmZvcmVhY2ggKCR0aGlzLT5vcHRpb25zIGFzICRvcHRpb24pIHsKJHZhbHVlc1skb3B0aW9uLT5nZXROYW1lKCldID0gJG9wdGlvbi0+Z2V0RGVmYXVsdCgpOwp9CgpyZXR1cm4gJHZhbHVlczsKfQoKCgoKCgoKCgoKcHJpdmF0ZSBmdW5jdGlvbiBzaG9ydGN1dFRvTmFtZSgkc2hvcnRjdXQpCnsKaWYgKCFpc3NldCgkdGhpcy0+c2hvcnRjdXRzWyRzaG9ydGN1dF0pKSB7CnRocm93IG5ldyBJbnZhbGlkQXJndW1lbnRFeGNlcHRpb24oc3ByaW50ZignVGhlICItJXMiIG9wdGlvbiBkb2VzIG5vdCBleGlzdC4nLCAkc2hvcnRjdXQpKTsKfQoKcmV0dXJuICR0aGlzLT5zaG9ydGN1dHNbJHNob3J0Y3V0XTsKfQoKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBnZXRTeW5vcHNpcygkc2hvcnQgPSBmYWxzZSkKewokZWxlbWVudHMgPSBhcnJheSgpOwoKaWYgKCRzaG9ydCAmJiAkdGhpcy0+Z2V0T3B0aW9ucygpKSB7CiRlbGVtZW50c1tdID0gJ1tvcHRpb25zXSc7Cn0gZWxzZWlmICghJHNob3J0KSB7CmZvcmVhY2ggKCR0aGlzLT5nZXRPcHRpb25zKCkgYXMgJG9wdGlvbikgewokdmFsdWUgPSAnJzsKaWYgKCRvcHRpb24tPmFjY2VwdFZhbHVlKCkpIHsKJHZhbHVlID0gc3ByaW50ZigKJyAlcyVzJXMnLAokb3B0aW9uLT5pc1ZhbHVlT3B0aW9uYWwoKSA/ICdbJyA6ICcnLApzdHJ0b3VwcGVyKCRvcHRpb24tPmdldE5hbWUoKSksCiRvcHRpb24tPmlzVmFsdWVPcHRpb25hbCgpID8gJ10nIDogJycKKTsKfQoKJHNob3J0Y3V0ID0gJG9wdGlvbi0+Z2V0U2hvcnRjdXQoKSA/IHNwcmludGYoJy0lc3wnLCAkb3B0aW9uLT5nZXRTaG9ydGN1dCgpKSA6ICcnOwokZWxlbWVudHNbXSA9IHNwcmludGYoJ1slcy0tJXMlc10nLCAkc2hvcnRjdXQsICRvcHRpb24tPmdldE5hbWUoKSwgJHZhbHVlKTsKfQp9CgppZiAoXGNvdW50KCRlbGVtZW50cykgJiYgJHRoaXMtPmdldEFyZ3VtZW50cygpKSB7CiRlbGVtZW50c1tdID0gJ1stLV0nOwp9Cgpmb3JlYWNoICgkdGhpcy0+Z2V0QXJndW1lbnRzKCkgYXMgJGFyZ3VtZW50KSB7CiRlbGVtZW50ID0gJzwnLiRhcmd1bWVudC0+Z2V0TmFtZSgpLic+JzsKaWYgKCEkYXJndW1lbnQtPmlzUmVxdWlyZWQoKSkgewokZWxlbWVudCA9ICdbJy4kZWxlbWVudC4nXSc7Cn0gZWxzZWlmICgkYXJndW1lbnQtPmlzQXJyYXkoKSkgewokZWxlbWVudCAuPSAnICgnLiRlbGVtZW50LicpJzsKfQoKaWYgKCRhcmd1bWVudC0+aXNBcnJheSgpKSB7CiRlbGVtZW50IC49ICcuLi4nOwp9CgokZWxlbWVudHNbXSA9ICRlbGVtZW50Owp9CgpyZXR1cm4gaW1wbG9kZSgnICcsICRlbGVtZW50cyk7Cn0KCgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gYXNUZXh0KCkKewpAdHJpZ2dlcl9lcnJvcignVGhlICcuX19NRVRIT0RfXy4nIG1ldGhvZCBpcyBkZXByZWNhdGVkIHNpbmNlIFN5bWZvbnkgMi4zIGFuZCB3aWxsIGJlIHJlbW92ZWQgaW4gMy4wLicsIEVfVVNFUl9ERVBSRUNBVEVEKTsKCiRkZXNjcmlwdG9yID0gbmV3IFRleHREZXNjcmlwdG9yKCk7CiRvdXRwdXQgPSBuZXcgQnVmZmVyZWRPdXRwdXQoQnVmZmVyZWRPdXRwdXQ6OlZFUkJPU0lUWV9OT1JNQUwsIHRydWUpOwokZGVzY3JpcHRvci0+ZGVzY3JpYmUoJG91dHB1dCwgJHRoaXMsIGFycmF5KCdyYXdfb3V0cHV0JyA9PiB0cnVlKSk7CgpyZXR1cm4gJG91dHB1dC0+ZmV0Y2goKTsKfQoKCgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIGFzWG1sKCRhc0RvbSA9IGZhbHNlKQp7CkB0cmlnZ2VyX2Vycm9yKCdUaGUgJy5fX01FVEhPRF9fLicgbWV0aG9kIGlzIGRlcHJlY2F0ZWQgc2luY2UgU3ltZm9ueSAyLjMgYW5kIHdpbGwgYmUgcmVtb3ZlZCBpbiAzLjAuJywgRV9VU0VSX0RFUFJFQ0FURUQpOwoKJGRlc2NyaXB0b3IgPSBuZXcgWG1sRGVzY3JpcHRvcigpOwoKaWYgKCRhc0RvbSkgewpyZXR1cm4gJGRlc2NyaXB0b3ItPmdldElucHV0RGVmaW5pdGlvbkRvY3VtZW50KCR0aGlzKTsKfQoKJG91dHB1dCA9IG5ldyBCdWZmZXJlZE91dHB1dCgpOwokZGVzY3JpcHRvci0+ZGVzY3JpYmUoJG91dHB1dCwgJHRoaXMpOwoKcmV0dXJuICRvdXRwdXQtPmZldGNoKCk7Cn0KfQo8P3BocAoKCgoKCgoKCgoKbmFtZXNwYWNlIFN5bWZvbnlcQ29tcG9uZW50XENvbnNvbGVcSW5wdXQ7Cgp1c2UgU3ltZm9ueVxDb21wb25lbnRcQ29uc29sZVxFeGNlcHRpb25cSW52YWxpZEFyZ3VtZW50RXhjZXB0aW9uOwp1c2UgU3ltZm9ueVxDb21wb25lbnRcQ29uc29sZVxFeGNlcHRpb25cUnVudGltZUV4Y2VwdGlvbjsKCgoKCgoKaW50ZXJmYWNlIElucHV0SW50ZXJmYWNlCnsKCgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0Rmlyc3RBcmd1bWVudCgpOwoKCgoKCgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIGhhc1BhcmFtZXRlck9wdGlvbigkdmFsdWVzKTsKCgoKCgoKCgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0UGFyYW1ldGVyT3B0aW9uKCR2YWx1ZXMsICRkZWZhdWx0ID0gZmFsc2UpOwoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gYmluZChJbnB1dERlZmluaXRpb24gJGRlZmluaXRpb24pOwoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gdmFsaWRhdGUoKTsKCgoKCgoKcHVibGljIGZ1bmN0aW9uIGdldEFyZ3VtZW50cygpOwoKCgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIGdldEFyZ3VtZW50KCRuYW1lKTsKCgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIHNldEFyZ3VtZW50KCRuYW1lLCAkdmFsdWUpOwoKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBoYXNBcmd1bWVudCgkbmFtZSk7CgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBnZXRPcHRpb25zKCk7CgoKCgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0T3B0aW9uKCRuYW1lKTsKCgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIHNldE9wdGlvbigkbmFtZSwgJHZhbHVlKTsKCgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gaGFzT3B0aW9uKCRuYW1lKTsKCgoKCgoKcHVibGljIGZ1bmN0aW9uIGlzSW50ZXJhY3RpdmUoKTsKCgoKCgoKcHVibGljIGZ1bmN0aW9uIHNldEludGVyYWN0aXZlKCRpbnRlcmFjdGl2ZSk7Cn0KPD9waHAKCgoKCgoKCgoKCm5hbWVzcGFjZSBTeW1mb255XENvbXBvbmVudFxDb25zb2xlXElucHV0OwoKdXNlIFN5bWZvbnlcQ29tcG9uZW50XENvbnNvbGVcRXhjZXB0aW9uXEludmFsaWRBcmd1bWVudEV4Y2VwdGlvbjsKdXNlIFN5bWZvbnlcQ29tcG9uZW50XENvbnNvbGVcRXhjZXB0aW9uXExvZ2ljRXhjZXB0aW9uOwoKCgoKCgpjbGFzcyBJbnB1dE9wdGlvbgp7CmNvbnN0IFZBTFVFX05PTkUgPSAxOwpjb25zdCBWQUxVRV9SRVFVSVJFRCA9IDI7CmNvbnN0IFZBTFVFX09QVElPTkFMID0gNDsKY29uc3QgVkFMVUVfSVNfQVJSQVkgPSA4OwoKcHJpdmF0ZSAkbmFtZTsKcHJpdmF0ZSAkc2hvcnRjdXQ7CnByaXZhdGUgJG1vZGU7CnByaXZhdGUgJGRlZmF1bHQ7CnByaXZhdGUgJGRlc2NyaXB0aW9uOwoKCgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIF9fY29uc3RydWN0KCRuYW1lLCAkc2hvcnRjdXQgPSBudWxsLCAkbW9kZSA9IG51bGwsICRkZXNjcmlwdGlvbiA9ICcnLCAkZGVmYXVsdCA9IG51bGwpCnsKaWYgKDAgPT09IHN0cnBvcygkbmFtZSwgJy0tJykpIHsKJG5hbWUgPSBzdWJzdHIoJG5hbWUsIDIpOwp9CgppZiAoZW1wdHkoJG5hbWUpKSB7CnRocm93IG5ldyBJbnZhbGlkQXJndW1lbnRFeGNlcHRpb24oJ0FuIG9wdGlvbiBuYW1lIGNhbm5vdCBiZSBlbXB0eS4nKTsKfQoKaWYgKGVtcHR5KCRzaG9ydGN1dCkpIHsKJHNob3J0Y3V0ID0gbnVsbDsKfQoKaWYgKG51bGwgIT09ICRzaG9ydGN1dCkgewppZiAoXGlzX2FycmF5KCRzaG9ydGN1dCkpIHsKJHNob3J0Y3V0ID0gaW1wbG9kZSgnfCcsICRzaG9ydGN1dCk7Cn0KJHNob3J0Y3V0cyA9IHByZWdfc3BsaXQoJ3soXHwpLT99JywgbHRyaW0oJHNob3J0Y3V0LCAnLScpKTsKJHNob3J0Y3V0cyA9IGFycmF5X2ZpbHRlcigkc2hvcnRjdXRzKTsKJHNob3J0Y3V0ID0gaW1wbG9kZSgnfCcsICRzaG9ydGN1dHMpOwoKaWYgKGVtcHR5KCRzaG9ydGN1dCkpIHsKdGhyb3cgbmV3IEludmFsaWRBcmd1bWVudEV4Y2VwdGlvbignQW4gb3B0aW9uIHNob3J0Y3V0IGNhbm5vdCBiZSBlbXB0eS4nKTsKfQp9CgppZiAobnVsbCA9PT0gJG1vZGUpIHsKJG1vZGUgPSBzZWxmOjpWQUxVRV9OT05FOwp9IGVsc2VpZiAoIVxpc19pbnQoJG1vZGUpIHx8ICRtb2RlID4gMTUgfHwgJG1vZGUgPCAxKSB7CnRocm93IG5ldyBJbnZhbGlkQXJndW1lbnRFeGNlcHRpb24oc3ByaW50ZignT3B0aW9uIG1vZGUgIiVzIiBpcyBub3QgdmFsaWQuJywgJG1vZGUpKTsKfQoKJHRoaXMtPm5hbWUgPSAkbmFtZTsKJHRoaXMtPnNob3J0Y3V0ID0gJHNob3J0Y3V0OwokdGhpcy0+bW9kZSA9ICRtb2RlOwokdGhpcy0+ZGVzY3JpcHRpb24gPSAkZGVzY3JpcHRpb247CgppZiAoJHRoaXMtPmlzQXJyYXkoKSAmJiAhJHRoaXMtPmFjY2VwdFZhbHVlKCkpIHsKdGhyb3cgbmV3IEludmFsaWRBcmd1bWVudEV4Y2VwdGlvbignSW1wb3NzaWJsZSB0byBoYXZlIGFuIG9wdGlvbiBtb2RlIFZBTFVFX0lTX0FSUkFZIGlmIHRoZSBvcHRpb24gZG9lcyBub3QgYWNjZXB0IGEgdmFsdWUuJyk7Cn0KCiR0aGlzLT5zZXREZWZhdWx0KCRkZWZhdWx0KTsKfQoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0U2hvcnRjdXQoKQp7CnJldHVybiAkdGhpcy0+c2hvcnRjdXQ7Cn0KCgoKCgoKcHVibGljIGZ1bmN0aW9uIGdldE5hbWUoKQp7CnJldHVybiAkdGhpcy0+bmFtZTsKfQoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gYWNjZXB0VmFsdWUoKQp7CnJldHVybiAkdGhpcy0+aXNWYWx1ZVJlcXVpcmVkKCkgfHwgJHRoaXMtPmlzVmFsdWVPcHRpb25hbCgpOwp9CgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBpc1ZhbHVlUmVxdWlyZWQoKQp7CnJldHVybiBzZWxmOjpWQUxVRV9SRVFVSVJFRCA9PT0gKHNlbGY6OlZBTFVFX1JFUVVJUkVEICYgJHRoaXMtPm1vZGUpOwp9CgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBpc1ZhbHVlT3B0aW9uYWwoKQp7CnJldHVybiBzZWxmOjpWQUxVRV9PUFRJT05BTCA9PT0gKHNlbGY6OlZBTFVFX09QVElPTkFMICYgJHRoaXMtPm1vZGUpOwp9CgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBpc0FycmF5KCkKewpyZXR1cm4gc2VsZjo6VkFMVUVfSVNfQVJSQVkgPT09IChzZWxmOjpWQUxVRV9JU19BUlJBWSAmICR0aGlzLT5tb2RlKTsKfQoKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBzZXREZWZhdWx0KCRkZWZhdWx0ID0gbnVsbCkKewppZiAoc2VsZjo6VkFMVUVfTk9ORSA9PT0gKHNlbGY6OlZBTFVFX05PTkUgJiAkdGhpcy0+bW9kZSkgJiYgbnVsbCAhPT0gJGRlZmF1bHQpIHsKdGhyb3cgbmV3IExvZ2ljRXhjZXB0aW9uKCdDYW5ub3Qgc2V0IGEgZGVmYXVsdCB2YWx1ZSB3aGVuIHVzaW5nIElucHV0T3B0aW9uOjpWQUxVRV9OT05FIG1vZGUuJyk7Cn0KCmlmICgkdGhpcy0+aXNBcnJheSgpKSB7CmlmIChudWxsID09PSAkZGVmYXVsdCkgewokZGVmYXVsdCA9IGFycmF5KCk7Cn0gZWxzZWlmICghXGlzX2FycmF5KCRkZWZhdWx0KSkgewp0aHJvdyBuZXcgTG9naWNFeGNlcHRpb24oJ0EgZGVmYXVsdCB2YWx1ZSBmb3IgYW4gYXJyYXkgb3B0aW9uIG11c3QgYmUgYW4gYXJyYXkuJyk7Cn0KfQoKJHRoaXMtPmRlZmF1bHQgPSAkdGhpcy0+YWNjZXB0VmFsdWUoKSA/ICRkZWZhdWx0IDogZmFsc2U7Cn0KCgoKCgoKcHVibGljIGZ1bmN0aW9uIGdldERlZmF1bHQoKQp7CnJldHVybiAkdGhpcy0+ZGVmYXVsdDsKfQoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0RGVzY3JpcHRpb24oKQp7CnJldHVybiAkdGhpcy0+ZGVzY3JpcHRpb247Cn0KCgoKCgoKcHVibGljIGZ1bmN0aW9uIGVxdWFscyhzZWxmICRvcHRpb24pCnsKcmV0dXJuICRvcHRpb24tPmdldE5hbWUoKSA9PT0gJHRoaXMtPmdldE5hbWUoKQomJiAkb3B0aW9uLT5nZXRTaG9ydGN1dCgpID09PSAkdGhpcy0+Z2V0U2hvcnRjdXQoKQomJiAkb3B0aW9uLT5nZXREZWZhdWx0KCkgPT09ICR0aGlzLT5nZXREZWZhdWx0KCkKJiYgJG9wdGlvbi0+aXNBcnJheSgpID09PSAkdGhpcy0+aXNBcnJheSgpCiYmICRvcHRpb24tPmlzVmFsdWVSZXF1aXJlZCgpID09PSAkdGhpcy0+aXNWYWx1ZVJlcXVpcmVkKCkKJiYgJG9wdGlvbi0+aXNWYWx1ZU9wdGlvbmFsKCkgPT09ICR0aGlzLT5pc1ZhbHVlT3B0aW9uYWwoKQo7Cn0KfQo8P3BocAoKCgoKCgoKCgoKbmFtZXNwYWNlIFN5bWZvbnlcQ29tcG9uZW50XENvbnNvbGVcSW5wdXQ7Cgp1c2UgU3ltZm9ueVxDb21wb25lbnRcQ29uc29sZVxFeGNlcHRpb25cSW52YWxpZEFyZ3VtZW50RXhjZXB0aW9uOwoKCgoKCgoKCgoKY2xhc3MgU3RyaW5nSW5wdXQgZXh0ZW5kcyBBcmd2SW5wdXQKewpjb25zdCBSRUdFWF9TVFJJTkcgPSAnKFteXHNdKz8pKD86XHN8KD88IVxcXFwpInwoPzwhXFxcXClcJ3wkKSc7CmNvbnN0IFJFR0VYX1FVT1RFRF9TVFJJTkcgPSAnKD86IihbXiJcXFxcXSooPzpcXFxcLlteIlxcXFxdKikqKSJ8XCcoW15cJ1xcXFxdKig/OlxcXFwuW15cJ1xcXFxdKikqKVwnKSc7CgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gX19jb25zdHJ1Y3QoJGlucHV0LCBJbnB1dERlZmluaXRpb24gJGRlZmluaXRpb24gPSBudWxsKQp7CmlmICgkZGVmaW5pdGlvbikgewpAdHJpZ2dlcl9lcnJvcignVGhlICRkZWZpbml0aW9uIGFyZ3VtZW50IG9mIHRoZSAnLl9fTUVUSE9EX18uJyBtZXRob2QgaXMgZGVwcmVjYXRlZCBhbmQgd2lsbCBiZSByZW1vdmVkIGluIDMuMC4gU2V0IHRoaXMgcGFyYW1ldGVyIHdpdGggdGhlIGJpbmQoKSBtZXRob2QgaW5zdGVhZC4nLCBFX1VTRVJfREVQUkVDQVRFRCk7Cn0KCnBhcmVudDo6X19jb25zdHJ1Y3QoYXJyYXkoKSwgbnVsbCk7CgokdGhpcy0+c2V0VG9rZW5zKCR0aGlzLT50b2tlbml6ZSgkaW5wdXQpKTsKCmlmIChudWxsICE9PSAkZGVmaW5pdGlvbikgewokdGhpcy0+YmluZCgkZGVmaW5pdGlvbik7Cn0KfQoKCgoKCgoKCgoKcHJpdmF0ZSBmdW5jdGlvbiB0b2tlbml6ZSgkaW5wdXQpCnsKJHRva2VucyA9IGFycmF5KCk7CiRsZW5ndGggPSBcc3RybGVuKCRpbnB1dCk7CiRjdXJzb3IgPSAwOwp3aGlsZSAoJGN1cnNvciA8ICRsZW5ndGgpIHsKaWYgKHByZWdfbWF0Y2goJy9ccysvQScsICRpbnB1dCwgJG1hdGNoLCBudWxsLCAkY3Vyc29yKSkgewp9IGVsc2VpZiAocHJlZ19tYXRjaCgnLyhbXj0iXCdcc10rPykoPT8pKCcuc2VsZjo6UkVHRVhfUVVPVEVEX1NUUklORy4nKykvQScsICRpbnB1dCwgJG1hdGNoLCBudWxsLCAkY3Vyc29yKSkgewokdG9rZW5zW10gPSAkbWF0Y2hbMV0uJG1hdGNoWzJdLnN0cmlwY3NsYXNoZXMoc3RyX3JlcGxhY2UoYXJyYXkoJyJcJycsICdcJyInLCAnXCdcJycsICciIicpLCAnJywgc3Vic3RyKCRtYXRjaFszXSwgMSwgXHN0cmxlbigkbWF0Y2hbM10pIC0gMikpKTsKfSBlbHNlaWYgKHByZWdfbWF0Y2goJy8nLnNlbGY6OlJFR0VYX1FVT1RFRF9TVFJJTkcuJy9BJywgJGlucHV0LCAkbWF0Y2gsIG51bGwsICRjdXJzb3IpKSB7CiR0b2tlbnNbXSA9IHN0cmlwY3NsYXNoZXMoc3Vic3RyKCRtYXRjaFswXSwgMSwgXHN0cmxlbigkbWF0Y2hbMF0pIC0gMikpOwp9IGVsc2VpZiAocHJlZ19tYXRjaCgnLycuc2VsZjo6UkVHRVhfU1RSSU5HLicvQScsICRpbnB1dCwgJG1hdGNoLCBudWxsLCAkY3Vyc29yKSkgewokdG9rZW5zW10gPSBzdHJpcGNzbGFzaGVzKCRtYXRjaFsxXSk7Cn0gZWxzZSB7Cgp0aHJvdyBuZXcgSW52YWxpZEFyZ3VtZW50RXhjZXB0aW9uKHNwcmludGYoJ1VuYWJsZSB0byBwYXJzZSBpbnB1dCBuZWFyICIuLi4gJXMgLi4uIicsIHN1YnN0cigkaW5wdXQsICRjdXJzb3IsIDEwKSkpOwp9CgokY3Vyc29yICs9IFxzdHJsZW4oJG1hdGNoWzBdKTsKfQoKcmV0dXJuICR0b2tlbnM7Cn0KfQoKQ29weXJpZ2h0IChjKSAyMDA0LTIwMTggRmFiaWVuIFBvdGVuY2llcgoKUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGEgY29weQpvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZSAiU29mdHdhcmUiKSwgdG8gZGVhbAppbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzCnRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwKY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZAp0byBkbyBzbywgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6CgpUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZCBpbiBhbGwKY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS4KClRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCAiQVMgSVMiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SCklNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLApGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUKQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUgpMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLApPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOClRIRSBTT0ZUV0FSRS4KCjw/cGhwCgoKCgoKCgoKCgpuYW1lc3BhY2UgU3ltZm9ueVxDb21wb25lbnRcQ29uc29sZVxMb2dnZXI7Cgp1c2UgUHNyXExvZ1xBYnN0cmFjdExvZ2dlcjsKdXNlIFBzclxMb2dcSW52YWxpZEFyZ3VtZW50RXhjZXB0aW9uOwp1c2UgUHNyXExvZ1xMb2dMZXZlbDsKdXNlIFN5bWZvbnlcQ29tcG9uZW50XENvbnNvbGVcT3V0cHV0XENvbnNvbGVPdXRwdXRJbnRlcmZhY2U7CnVzZSBTeW1mb255XENvbXBvbmVudFxDb25zb2xlXE91dHB1dFxPdXRwdXRJbnRlcmZhY2U7CgoKCgoKCgoKY2xhc3MgQ29uc29sZUxvZ2dlciBleHRlbmRzIEFic3RyYWN0TG9nZ2VyCnsKY29uc3QgSU5GTyA9ICdpbmZvJzsKY29uc3QgRVJST1IgPSAnZXJyb3InOwoKcHJpdmF0ZSAkb3V0cHV0Owpwcml2YXRlICR2ZXJib3NpdHlMZXZlbE1hcCA9IGFycmF5KApMb2dMZXZlbDo6RU1FUkdFTkNZID0+IE91dHB1dEludGVyZmFjZTo6VkVSQk9TSVRZX05PUk1BTCwKTG9nTGV2ZWw6OkFMRVJUID0+IE91dHB1dEludGVyZmFjZTo6VkVSQk9TSVRZX05PUk1BTCwKTG9nTGV2ZWw6OkNSSVRJQ0FMID0+IE91dHB1dEludGVyZmFjZTo6VkVSQk9TSVRZX05PUk1BTCwKTG9nTGV2ZWw6OkVSUk9SID0+IE91dHB1dEludGVyZmFjZTo6VkVSQk9TSVRZX05PUk1BTCwKTG9nTGV2ZWw6OldBUk5JTkcgPT4gT3V0cHV0SW50ZXJmYWNlOjpWRVJCT1NJVFlfTk9STUFMLApMb2dMZXZlbDo6Tk9USUNFID0+IE91dHB1dEludGVyZmFjZTo6VkVSQk9TSVRZX1ZFUkJPU0UsCkxvZ0xldmVsOjpJTkZPID0+IE91dHB1dEludGVyZmFjZTo6VkVSQk9TSVRZX1ZFUllfVkVSQk9TRSwKTG9nTGV2ZWw6OkRFQlVHID0+IE91dHB1dEludGVyZmFjZTo6VkVSQk9TSVRZX0RFQlVHLAopOwpwcml2YXRlICRmb3JtYXRMZXZlbE1hcCA9IGFycmF5KApMb2dMZXZlbDo6RU1FUkdFTkNZID0+IHNlbGY6OkVSUk9SLApMb2dMZXZlbDo6QUxFUlQgPT4gc2VsZjo6RVJST1IsCkxvZ0xldmVsOjpDUklUSUNBTCA9PiBzZWxmOjpFUlJPUiwKTG9nTGV2ZWw6OkVSUk9SID0+IHNlbGY6OkVSUk9SLApMb2dMZXZlbDo6V0FSTklORyA9PiBzZWxmOjpJTkZPLApMb2dMZXZlbDo6Tk9USUNFID0+IHNlbGY6OklORk8sCkxvZ0xldmVsOjpJTkZPID0+IHNlbGY6OklORk8sCkxvZ0xldmVsOjpERUJVRyA9PiBzZWxmOjpJTkZPLAopOwoKcHVibGljIGZ1bmN0aW9uIF9fY29uc3RydWN0KE91dHB1dEludGVyZmFjZSAkb3V0cHV0LCBhcnJheSAkdmVyYm9zaXR5TGV2ZWxNYXAgPSBhcnJheSgpLCBhcnJheSAkZm9ybWF0TGV2ZWxNYXAgPSBhcnJheSgpKQp7CiR0aGlzLT5vdXRwdXQgPSAkb3V0cHV0OwokdGhpcy0+dmVyYm9zaXR5TGV2ZWxNYXAgPSAkdmVyYm9zaXR5TGV2ZWxNYXAgKyAkdGhpcy0+dmVyYm9zaXR5TGV2ZWxNYXA7CiR0aGlzLT5mb3JtYXRMZXZlbE1hcCA9ICRmb3JtYXRMZXZlbE1hcCArICR0aGlzLT5mb3JtYXRMZXZlbE1hcDsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIGxvZygkbGV2ZWwsICRtZXNzYWdlLCBhcnJheSAkY29udGV4dCA9IGFycmF5KCkpCnsKaWYgKCFpc3NldCgkdGhpcy0+dmVyYm9zaXR5TGV2ZWxNYXBbJGxldmVsXSkpIHsKdGhyb3cgbmV3IEludmFsaWRBcmd1bWVudEV4Y2VwdGlvbihzcHJpbnRmKCdUaGUgbG9nIGxldmVsICIlcyIgZG9lcyBub3QgZXhpc3QuJywgJGxldmVsKSk7Cn0KCgppZiAoc2VsZjo6RVJST1IgPT09ICR0aGlzLT5mb3JtYXRMZXZlbE1hcFskbGV2ZWxdICYmICR0aGlzLT5vdXRwdXQgaW5zdGFuY2VvZiBDb25zb2xlT3V0cHV0SW50ZXJmYWNlKSB7CiRvdXRwdXQgPSAkdGhpcy0+b3V0cHV0LT5nZXRFcnJvck91dHB1dCgpOwp9IGVsc2Ugewokb3V0cHV0ID0gJHRoaXMtPm91dHB1dDsKfQoKaWYgKCRvdXRwdXQtPmdldFZlcmJvc2l0eSgpID49ICR0aGlzLT52ZXJib3NpdHlMZXZlbE1hcFskbGV2ZWxdKSB7CiRvdXRwdXQtPndyaXRlbG4oc3ByaW50ZignPCUxJHM+WyUyJHNdICUzJHM8LyUxJHM+JywgJHRoaXMtPmZvcm1hdExldmVsTWFwWyRsZXZlbF0sICRsZXZlbCwgJHRoaXMtPmludGVycG9sYXRlKCRtZXNzYWdlLCAkY29udGV4dCkpKTsKfQp9CgoKCgoKCgoKCgoKcHJpdmF0ZSBmdW5jdGlvbiBpbnRlcnBvbGF0ZSgkbWVzc2FnZSwgYXJyYXkgJGNvbnRleHQpCnsKCiRyZXBsYWNlID0gYXJyYXkoKTsKZm9yZWFjaCAoJGNvbnRleHQgYXMgJGtleSA9PiAkdmFsKSB7CmlmICghXGlzX2FycmF5KCR2YWwpICYmICghXGlzX29iamVjdCgkdmFsKSB8fCBtZXRob2RfZXhpc3RzKCR2YWwsICdfX3RvU3RyaW5nJykpKSB7CiRyZXBsYWNlW3NwcmludGYoJ3slc30nLCAka2V5KV0gPSAkdmFsOwp9Cn0KCgpyZXR1cm4gc3RydHIoJG1lc3NhZ2UsICRyZXBsYWNlKTsKfQp9Cjw/cGhwCgoKCgoKCgoKCgpuYW1lc3BhY2UgU3ltZm9ueVxDb21wb25lbnRcQ29uc29sZVxPdXRwdXQ7CgoKCgpjbGFzcyBCdWZmZXJlZE91dHB1dCBleHRlbmRzIE91dHB1dAp7CnByaXZhdGUgJGJ1ZmZlciA9ICcnOwoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gZmV0Y2goKQp7CiRjb250ZW50ID0gJHRoaXMtPmJ1ZmZlcjsKJHRoaXMtPmJ1ZmZlciA9ICcnOwoKcmV0dXJuICRjb250ZW50Owp9CgoKCgpwcm90ZWN0ZWQgZnVuY3Rpb24gZG9Xcml0ZSgkbWVzc2FnZSwgJG5ld2xpbmUpCnsKJHRoaXMtPmJ1ZmZlciAuPSAkbWVzc2FnZTsKCmlmICgkbmV3bGluZSkgewokdGhpcy0+YnVmZmVyIC49IFBIUF9FT0w7Cn0KfQp9Cjw/cGhwCgoKCgoKCgoKCgpuYW1lc3BhY2UgU3ltZm9ueVxDb21wb25lbnRcQ29uc29sZVxPdXRwdXQ7Cgp1c2UgU3ltZm9ueVxDb21wb25lbnRcQ29uc29sZVxGb3JtYXR0ZXJcT3V0cHV0Rm9ybWF0dGVySW50ZXJmYWNlOwoKCgoKCgoKCgoKCgoKCmNsYXNzIENvbnNvbGVPdXRwdXQgZXh0ZW5kcyBTdHJlYW1PdXRwdXQgaW1wbGVtZW50cyBDb25zb2xlT3V0cHV0SW50ZXJmYWNlCnsKcHJpdmF0ZSAkc3RkZXJyOwoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gX19jb25zdHJ1Y3QoJHZlcmJvc2l0eSA9IHNlbGY6OlZFUkJPU0lUWV9OT1JNQUwsICRkZWNvcmF0ZWQgPSBudWxsLCBPdXRwdXRGb3JtYXR0ZXJJbnRlcmZhY2UgJGZvcm1hdHRlciA9IG51bGwpCnsKcGFyZW50OjpfX2NvbnN0cnVjdCgkdGhpcy0+b3Blbk91dHB1dFN0cmVhbSgpLCAkdmVyYm9zaXR5LCAkZGVjb3JhdGVkLCAkZm9ybWF0dGVyKTsKCiRhY3R1YWxEZWNvcmF0ZWQgPSAkdGhpcy0+aXNEZWNvcmF0ZWQoKTsKJHRoaXMtPnN0ZGVyciA9IG5ldyBTdHJlYW1PdXRwdXQoJHRoaXMtPm9wZW5FcnJvclN0cmVhbSgpLCAkdmVyYm9zaXR5LCAkZGVjb3JhdGVkLCAkdGhpcy0+Z2V0Rm9ybWF0dGVyKCkpOwoKaWYgKG51bGwgPT09ICRkZWNvcmF0ZWQpIHsKJHRoaXMtPnNldERlY29yYXRlZCgkYWN0dWFsRGVjb3JhdGVkICYmICR0aGlzLT5zdGRlcnItPmlzRGVjb3JhdGVkKCkpOwp9Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBzZXREZWNvcmF0ZWQoJGRlY29yYXRlZCkKewpwYXJlbnQ6OnNldERlY29yYXRlZCgkZGVjb3JhdGVkKTsKJHRoaXMtPnN0ZGVyci0+c2V0RGVjb3JhdGVkKCRkZWNvcmF0ZWQpOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gc2V0Rm9ybWF0dGVyKE91dHB1dEZvcm1hdHRlckludGVyZmFjZSAkZm9ybWF0dGVyKQp7CnBhcmVudDo6c2V0Rm9ybWF0dGVyKCRmb3JtYXR0ZXIpOwokdGhpcy0+c3RkZXJyLT5zZXRGb3JtYXR0ZXIoJGZvcm1hdHRlcik7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBzZXRWZXJib3NpdHkoJGxldmVsKQp7CnBhcmVudDo6c2V0VmVyYm9zaXR5KCRsZXZlbCk7CiR0aGlzLT5zdGRlcnItPnNldFZlcmJvc2l0eSgkbGV2ZWwpOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0RXJyb3JPdXRwdXQoKQp7CnJldHVybiAkdGhpcy0+c3RkZXJyOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gc2V0RXJyb3JPdXRwdXQoT3V0cHV0SW50ZXJmYWNlICRlcnJvcikKewokdGhpcy0+c3RkZXJyID0gJGVycm9yOwp9CgoKCgoKCgpwcm90ZWN0ZWQgZnVuY3Rpb24gaGFzU3Rkb3V0U3VwcG9ydCgpCnsKcmV0dXJuIGZhbHNlID09PSAkdGhpcy0+aXNSdW5uaW5nT1M0MDAoKTsKfQoKCgoKCgoKcHJvdGVjdGVkIGZ1bmN0aW9uIGhhc1N0ZGVyclN1cHBvcnQoKQp7CnJldHVybiBmYWxzZSA9PT0gJHRoaXMtPmlzUnVubmluZ09TNDAwKCk7Cn0KCgoKCgoKCnByaXZhdGUgZnVuY3Rpb24gaXNSdW5uaW5nT1M0MDAoKQp7CiRjaGVja3MgPSBhcnJheSgKXGZ1bmN0aW9uX2V4aXN0cygncGhwX3VuYW1lJykgPyBwaHBfdW5hbWUoJ3MnKSA6ICcnLApnZXRlbnYoJ09TVFlQRScpLApQSFBfT1MsCik7CgpyZXR1cm4gZmFsc2UgIT09IHN0cmlwb3MoaW1wbG9kZSgnOycsICRjaGVja3MpLCAnT1M0MDAnKTsKfQoKCgoKcHJpdmF0ZSBmdW5jdGlvbiBvcGVuT3V0cHV0U3RyZWFtKCkKewokb3V0cHV0U3RyZWFtID0gJHRoaXMtPmhhc1N0ZG91dFN1cHBvcnQoKSA/ICdwaHA6Ly9zdGRvdXQnIDogJ3BocDovL291dHB1dCc7CgpyZXR1cm4gQGZvcGVuKCRvdXRwdXRTdHJlYW0sICd3JykgPzogZm9wZW4oJ3BocDovL291dHB1dCcsICd3Jyk7Cn0KCgoKCnByaXZhdGUgZnVuY3Rpb24gb3BlbkVycm9yU3RyZWFtKCkKewokZXJyb3JTdHJlYW0gPSAkdGhpcy0+aGFzU3RkZXJyU3VwcG9ydCgpID8gJ3BocDovL3N0ZGVycicgOiAncGhwOi8vb3V0cHV0JzsKCnJldHVybiBmb3BlbigkZXJyb3JTdHJlYW0sICd3Jyk7Cn0KfQo8P3BocAoKCgoKCgoKCgoKbmFtZXNwYWNlIFN5bWZvbnlcQ29tcG9uZW50XENvbnNvbGVcT3V0cHV0OwoKCgoKCgoKaW50ZXJmYWNlIENvbnNvbGVPdXRwdXRJbnRlcmZhY2UgZXh0ZW5kcyBPdXRwdXRJbnRlcmZhY2UKewoKCgoKCnB1YmxpYyBmdW5jdGlvbiBnZXRFcnJvck91dHB1dCgpOwoKcHVibGljIGZ1bmN0aW9uIHNldEVycm9yT3V0cHV0KE91dHB1dEludGVyZmFjZSAkZXJyb3IpOwp9Cjw/cGhwCgoKCgoKCgoKCgpuYW1lc3BhY2UgU3ltZm9ueVxDb21wb25lbnRcQ29uc29sZVxPdXRwdXQ7Cgp1c2UgU3ltZm9ueVxDb21wb25lbnRcQ29uc29sZVxGb3JtYXR0ZXJcT3V0cHV0Rm9ybWF0dGVyOwp1c2UgU3ltZm9ueVxDb21wb25lbnRcQ29uc29sZVxGb3JtYXR0ZXJcT3V0cHV0Rm9ybWF0dGVySW50ZXJmYWNlOwoKCgoKCgoKCgpjbGFzcyBOdWxsT3V0cHV0IGltcGxlbWVudHMgT3V0cHV0SW50ZXJmYWNlCnsKCgoKcHVibGljIGZ1bmN0aW9uIHNldEZvcm1hdHRlcihPdXRwdXRGb3JtYXR0ZXJJbnRlcmZhY2UgJGZvcm1hdHRlcikKewoKfQoKCgoKcHVibGljIGZ1bmN0aW9uIGdldEZvcm1hdHRlcigpCnsKCnJldHVybiBuZXcgT3V0cHV0Rm9ybWF0dGVyKCk7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBzZXREZWNvcmF0ZWQoJGRlY29yYXRlZCkKewoKfQoKCgoKcHVibGljIGZ1bmN0aW9uIGlzRGVjb3JhdGVkKCkKewpyZXR1cm4gZmFsc2U7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBzZXRWZXJib3NpdHkoJGxldmVsKQp7Cgp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0VmVyYm9zaXR5KCkKewpyZXR1cm4gc2VsZjo6VkVSQk9TSVRZX1FVSUVUOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gaXNRdWlldCgpCnsKcmV0dXJuIHRydWU7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBpc1ZlcmJvc2UoKQp7CnJldHVybiBmYWxzZTsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIGlzVmVyeVZlcmJvc2UoKQp7CnJldHVybiBmYWxzZTsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIGlzRGVidWcoKQp7CnJldHVybiBmYWxzZTsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIHdyaXRlbG4oJG1lc3NhZ2VzLCAkb3B0aW9ucyA9IHNlbGY6Ok9VVFBVVF9OT1JNQUwpCnsKCn0KCgoKCnB1YmxpYyBmdW5jdGlvbiB3cml0ZSgkbWVzc2FnZXMsICRuZXdsaW5lID0gZmFsc2UsICRvcHRpb25zID0gc2VsZjo6T1VUUFVUX05PUk1BTCkKewoKfQp9Cjw/cGhwCgoKCgoKCgoKCgpuYW1lc3BhY2UgU3ltZm9ueVxDb21wb25lbnRcQ29uc29sZVxPdXRwdXQ7Cgp1c2UgU3ltZm9ueVxDb21wb25lbnRcQ29uc29sZVxGb3JtYXR0ZXJcT3V0cHV0Rm9ybWF0dGVyOwp1c2UgU3ltZm9ueVxDb21wb25lbnRcQ29uc29sZVxGb3JtYXR0ZXJcT3V0cHV0Rm9ybWF0dGVySW50ZXJmYWNlOwoKCgoKCgoKCgoKCgoKCmFic3RyYWN0IGNsYXNzIE91dHB1dCBpbXBsZW1lbnRzIE91dHB1dEludGVyZmFjZQp7CnByaXZhdGUgJHZlcmJvc2l0eTsKcHJpdmF0ZSAkZm9ybWF0dGVyOwoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gX19jb25zdHJ1Y3QoJHZlcmJvc2l0eSA9IHNlbGY6OlZFUkJPU0lUWV9OT1JNQUwsICRkZWNvcmF0ZWQgPSBmYWxzZSwgT3V0cHV0Rm9ybWF0dGVySW50ZXJmYWNlICRmb3JtYXR0ZXIgPSBudWxsKQp7CiR0aGlzLT52ZXJib3NpdHkgPSBudWxsID09PSAkdmVyYm9zaXR5ID8gc2VsZjo6VkVSQk9TSVRZX05PUk1BTCA6ICR2ZXJib3NpdHk7CiR0aGlzLT5mb3JtYXR0ZXIgPSAkZm9ybWF0dGVyID86IG5ldyBPdXRwdXRGb3JtYXR0ZXIoKTsKJHRoaXMtPmZvcm1hdHRlci0+c2V0RGVjb3JhdGVkKCRkZWNvcmF0ZWQpOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gc2V0Rm9ybWF0dGVyKE91dHB1dEZvcm1hdHRlckludGVyZmFjZSAkZm9ybWF0dGVyKQp7CiR0aGlzLT5mb3JtYXR0ZXIgPSAkZm9ybWF0dGVyOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0Rm9ybWF0dGVyKCkKewpyZXR1cm4gJHRoaXMtPmZvcm1hdHRlcjsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIHNldERlY29yYXRlZCgkZGVjb3JhdGVkKQp7CiR0aGlzLT5mb3JtYXR0ZXItPnNldERlY29yYXRlZCgkZGVjb3JhdGVkKTsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIGlzRGVjb3JhdGVkKCkKewpyZXR1cm4gJHRoaXMtPmZvcm1hdHRlci0+aXNEZWNvcmF0ZWQoKTsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIHNldFZlcmJvc2l0eSgkbGV2ZWwpCnsKJHRoaXMtPnZlcmJvc2l0eSA9IChpbnQpICRsZXZlbDsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIGdldFZlcmJvc2l0eSgpCnsKcmV0dXJuICR0aGlzLT52ZXJib3NpdHk7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBpc1F1aWV0KCkKewpyZXR1cm4gc2VsZjo6VkVSQk9TSVRZX1FVSUVUID09PSAkdGhpcy0+dmVyYm9zaXR5Owp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gaXNWZXJib3NlKCkKewpyZXR1cm4gc2VsZjo6VkVSQk9TSVRZX1ZFUkJPU0UgPD0gJHRoaXMtPnZlcmJvc2l0eTsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIGlzVmVyeVZlcmJvc2UoKQp7CnJldHVybiBzZWxmOjpWRVJCT1NJVFlfVkVSWV9WRVJCT1NFIDw9ICR0aGlzLT52ZXJib3NpdHk7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBpc0RlYnVnKCkKewpyZXR1cm4gc2VsZjo6VkVSQk9TSVRZX0RFQlVHIDw9ICR0aGlzLT52ZXJib3NpdHk7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiB3cml0ZWxuKCRtZXNzYWdlcywgJG9wdGlvbnMgPSBzZWxmOjpPVVRQVVRfTk9STUFMKQp7CiR0aGlzLT53cml0ZSgkbWVzc2FnZXMsIHRydWUsICRvcHRpb25zKTsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIHdyaXRlKCRtZXNzYWdlcywgJG5ld2xpbmUgPSBmYWxzZSwgJG9wdGlvbnMgPSBzZWxmOjpPVVRQVVRfTk9STUFMKQp7CiRtZXNzYWdlcyA9IChhcnJheSkgJG1lc3NhZ2VzOwoKJHR5cGVzID0gc2VsZjo6T1VUUFVUX05PUk1BTCB8IHNlbGY6Ok9VVFBVVF9SQVcgfCBzZWxmOjpPVVRQVVRfUExBSU47CiR0eXBlID0gJHR5cGVzICYgJG9wdGlvbnMgPzogc2VsZjo6T1VUUFVUX05PUk1BTDsKCiR2ZXJib3NpdGllcyA9IHNlbGY6OlZFUkJPU0lUWV9RVUlFVCB8IHNlbGY6OlZFUkJPU0lUWV9OT1JNQUwgfCBzZWxmOjpWRVJCT1NJVFlfVkVSQk9TRSB8IHNlbGY6OlZFUkJPU0lUWV9WRVJZX1ZFUkJPU0UgfCBzZWxmOjpWRVJCT1NJVFlfREVCVUc7CiR2ZXJib3NpdHkgPSAkdmVyYm9zaXRpZXMgJiAkb3B0aW9ucyA/OiBzZWxmOjpWRVJCT1NJVFlfTk9STUFMOwoKaWYgKCR2ZXJib3NpdHkgPiAkdGhpcy0+Z2V0VmVyYm9zaXR5KCkpIHsKcmV0dXJuOwp9Cgpmb3JlYWNoICgkbWVzc2FnZXMgYXMgJG1lc3NhZ2UpIHsKc3dpdGNoICgkdHlwZSkgewpjYXNlIE91dHB1dEludGVyZmFjZTo6T1VUUFVUX05PUk1BTDoKJG1lc3NhZ2UgPSAkdGhpcy0+Zm9ybWF0dGVyLT5mb3JtYXQoJG1lc3NhZ2UpOwpicmVhazsKY2FzZSBPdXRwdXRJbnRlcmZhY2U6Ok9VVFBVVF9SQVc6CmJyZWFrOwpjYXNlIE91dHB1dEludGVyZmFjZTo6T1VUUFVUX1BMQUlOOgokbWVzc2FnZSA9IHN0cmlwX3RhZ3MoJHRoaXMtPmZvcm1hdHRlci0+Zm9ybWF0KCRtZXNzYWdlKSk7CmJyZWFrOwp9CgokdGhpcy0+ZG9Xcml0ZSgkbWVzc2FnZSwgJG5ld2xpbmUpOwp9Cn0KCgoKCgoKCmFic3RyYWN0IHByb3RlY3RlZCBmdW5jdGlvbiBkb1dyaXRlKCRtZXNzYWdlLCAkbmV3bGluZSk7Cn0KPD9waHAKCgoKCgoKCgoKCm5hbWVzcGFjZSBTeW1mb255XENvbXBvbmVudFxDb25zb2xlXE91dHB1dDsKCnVzZSBTeW1mb255XENvbXBvbmVudFxDb25zb2xlXEZvcm1hdHRlclxPdXRwdXRGb3JtYXR0ZXJJbnRlcmZhY2U7CgoKCgoKCmludGVyZmFjZSBPdXRwdXRJbnRlcmZhY2UKewpjb25zdCBWRVJCT1NJVFlfUVVJRVQgPSAxNjsKY29uc3QgVkVSQk9TSVRZX05PUk1BTCA9IDMyOwpjb25zdCBWRVJCT1NJVFlfVkVSQk9TRSA9IDY0Owpjb25zdCBWRVJCT1NJVFlfVkVSWV9WRVJCT1NFID0gMTI4Owpjb25zdCBWRVJCT1NJVFlfREVCVUcgPSAyNTY7Cgpjb25zdCBPVVRQVVRfTk9STUFMID0gMTsKY29uc3QgT1VUUFVUX1JBVyA9IDI7CmNvbnN0IE9VVFBVVF9QTEFJTiA9IDQ7CgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIHdyaXRlKCRtZXNzYWdlcywgJG5ld2xpbmUgPSBmYWxzZSwgJG9wdGlvbnMgPSAwKTsKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiB3cml0ZWxuKCRtZXNzYWdlcywgJG9wdGlvbnMgPSAwKTsKCgoKCgoKcHVibGljIGZ1bmN0aW9uIHNldFZlcmJvc2l0eSgkbGV2ZWwpOwoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0VmVyYm9zaXR5KCk7CgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBzZXREZWNvcmF0ZWQoJGRlY29yYXRlZCk7CgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBpc0RlY29yYXRlZCgpOwoKcHVibGljIGZ1bmN0aW9uIHNldEZvcm1hdHRlcihPdXRwdXRGb3JtYXR0ZXJJbnRlcmZhY2UgJGZvcm1hdHRlcik7CgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBnZXRGb3JtYXR0ZXIoKTsKfQo8P3BocAoKCgoKCgoKCgoKbmFtZXNwYWNlIFN5bWZvbnlcQ29tcG9uZW50XENvbnNvbGVcT3V0cHV0OwoKdXNlIFN5bWZvbnlcQ29tcG9uZW50XENvbnNvbGVcRXhjZXB0aW9uXEludmFsaWRBcmd1bWVudEV4Y2VwdGlvbjsKdXNlIFN5bWZvbnlcQ29tcG9uZW50XENvbnNvbGVcRXhjZXB0aW9uXFJ1bnRpbWVFeGNlcHRpb247CnVzZSBTeW1mb255XENvbXBvbmVudFxDb25zb2xlXEZvcm1hdHRlclxPdXRwdXRGb3JtYXR0ZXJJbnRlcmZhY2U7CgoKCgoKCgoKCgoKCgoKY2xhc3MgU3RyZWFtT3V0cHV0IGV4dGVuZHMgT3V0cHV0CnsKcHJpdmF0ZSAkc3RyZWFtOwoKCgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gX19jb25zdHJ1Y3QoJHN0cmVhbSwgJHZlcmJvc2l0eSA9IHNlbGY6OlZFUkJPU0lUWV9OT1JNQUwsICRkZWNvcmF0ZWQgPSBudWxsLCBPdXRwdXRGb3JtYXR0ZXJJbnRlcmZhY2UgJGZvcm1hdHRlciA9IG51bGwpCnsKaWYgKCFcaXNfcmVzb3VyY2UoJHN0cmVhbSkgfHwgJ3N0cmVhbScgIT09IGdldF9yZXNvdXJjZV90eXBlKCRzdHJlYW0pKSB7CnRocm93IG5ldyBJbnZhbGlkQXJndW1lbnRFeGNlcHRpb24oJ1RoZSBTdHJlYW1PdXRwdXQgY2xhc3MgbmVlZHMgYSBzdHJlYW0gYXMgaXRzIGZpcnN0IGFyZ3VtZW50LicpOwp9CgokdGhpcy0+c3RyZWFtID0gJHN0cmVhbTsKCmlmIChudWxsID09PSAkZGVjb3JhdGVkKSB7CiRkZWNvcmF0ZWQgPSAkdGhpcy0+aGFzQ29sb3JTdXBwb3J0KCk7Cn0KCnBhcmVudDo6X19jb25zdHJ1Y3QoJHZlcmJvc2l0eSwgJGRlY29yYXRlZCwgJGZvcm1hdHRlcik7Cn0KCgoKCgoKcHVibGljIGZ1bmN0aW9uIGdldFN0cmVhbSgpCnsKcmV0dXJuICR0aGlzLT5zdHJlYW07Cn0KCgoKCnByb3RlY3RlZCBmdW5jdGlvbiBkb1dyaXRlKCRtZXNzYWdlLCAkbmV3bGluZSkKewppZiAoJG5ld2xpbmUpIHsKJG1lc3NhZ2UgLj0gUEhQX0VPTDsKfQoKaWYgKGZhbHNlID09PSBAZndyaXRlKCR0aGlzLT5zdHJlYW0sICRtZXNzYWdlKSkgewoKdGhyb3cgbmV3IFJ1bnRpbWVFeGNlcHRpb24oJ1VuYWJsZSB0byB3cml0ZSBvdXRwdXQuJyk7Cn0KCmZmbHVzaCgkdGhpcy0+c3RyZWFtKTsKfQoKCgoKCgoKCgoKCgoKCnByb3RlY3RlZCBmdW5jdGlvbiBoYXNDb2xvclN1cHBvcnQoKQp7CmlmICgnSHlwZXInID09PSBnZXRlbnYoJ1RFUk1fUFJPR1JBTScpKSB7CnJldHVybiB0cnVlOwp9CgppZiAoXERJUkVDVE9SWV9TRVBBUkFUT1IgPT09ICdcXCcpIHsKcmV0dXJuIChcZnVuY3Rpb25fZXhpc3RzKCdzYXBpX3dpbmRvd3NfdnQxMDBfc3VwcG9ydCcpCiYmIEBzYXBpX3dpbmRvd3NfdnQxMDBfc3VwcG9ydCgkdGhpcy0+c3RyZWFtKSkKfHwgZmFsc2UgIT09IGdldGVudignQU5TSUNPTicpCnx8ICdPTicgPT09IGdldGVudignQ29uRW11QU5TSScpCnx8ICd4dGVybScgPT09IGdldGVudignVEVSTScpOwp9CgppZiAoXGZ1bmN0aW9uX2V4aXN0cygnc3RyZWFtX2lzYXR0eScpKSB7CnJldHVybiBAc3RyZWFtX2lzYXR0eSgkdGhpcy0+c3RyZWFtKTsKfQoKaWYgKFxmdW5jdGlvbl9leGlzdHMoJ3Bvc2l4X2lzYXR0eScpKSB7CnJldHVybiBAcG9zaXhfaXNhdHR5KCR0aGlzLT5zdHJlYW0pOwp9Cgokc3RhdCA9IEBmc3RhdCgkdGhpcy0+c3RyZWFtKTsKCnJldHVybiAkc3RhdCA/IDAwMjAwMDAgPT09ICgkc3RhdFsnbW9kZSddICYgMDE3MDAwMCkgOiBmYWxzZTsKfQp9Cjw/cGhwCgoKCgoKCgoKCgpuYW1lc3BhY2UgU3ltZm9ueVxDb21wb25lbnRcQ29uc29sZVxRdWVzdGlvbjsKCnVzZSBTeW1mb255XENvbXBvbmVudFxDb25zb2xlXEV4Y2VwdGlvblxJbnZhbGlkQXJndW1lbnRFeGNlcHRpb247CgoKCgoKCmNsYXNzIENob2ljZVF1ZXN0aW9uIGV4dGVuZHMgUXVlc3Rpb24Kewpwcml2YXRlICRjaG9pY2VzOwpwcml2YXRlICRtdWx0aXNlbGVjdCA9IGZhbHNlOwpwcml2YXRlICRwcm9tcHQgPSAnID4gJzsKcHJpdmF0ZSAkZXJyb3JNZXNzYWdlID0gJ1ZhbHVlICIlcyIgaXMgaW52YWxpZCc7CgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBfX2NvbnN0cnVjdCgkcXVlc3Rpb24sIGFycmF5ICRjaG9pY2VzLCAkZGVmYXVsdCA9IG51bGwpCnsKaWYgKCEkY2hvaWNlcykgewp0aHJvdyBuZXcgXExvZ2ljRXhjZXB0aW9uKCdDaG9pY2UgcXVlc3Rpb24gbXVzdCBoYXZlIGF0IGxlYXN0IDEgY2hvaWNlIGF2YWlsYWJsZS4nKTsKfQoKcGFyZW50OjpfX2NvbnN0cnVjdCgkcXVlc3Rpb24sICRkZWZhdWx0KTsKCiR0aGlzLT5jaG9pY2VzID0gJGNob2ljZXM7CiR0aGlzLT5zZXRWYWxpZGF0b3IoJHRoaXMtPmdldERlZmF1bHRWYWxpZGF0b3IoKSk7CiR0aGlzLT5zZXRBdXRvY29tcGxldGVyVmFsdWVzKCRjaG9pY2VzKTsKfQoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0Q2hvaWNlcygpCnsKcmV0dXJuICR0aGlzLT5jaG9pY2VzOwp9CgoKCgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gc2V0TXVsdGlzZWxlY3QoJG11bHRpc2VsZWN0KQp7CiR0aGlzLT5tdWx0aXNlbGVjdCA9ICRtdWx0aXNlbGVjdDsKJHRoaXMtPnNldFZhbGlkYXRvcigkdGhpcy0+Z2V0RGVmYXVsdFZhbGlkYXRvcigpKTsKCnJldHVybiAkdGhpczsKfQoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gaXNNdWx0aXNlbGVjdCgpCnsKcmV0dXJuICR0aGlzLT5tdWx0aXNlbGVjdDsKfQoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0UHJvbXB0KCkKewpyZXR1cm4gJHRoaXMtPnByb21wdDsKfQoKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBzZXRQcm9tcHQoJHByb21wdCkKewokdGhpcy0+cHJvbXB0ID0gJHByb21wdDsKCnJldHVybiAkdGhpczsKfQoKCgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIHNldEVycm9yTWVzc2FnZSgkZXJyb3JNZXNzYWdlKQp7CiR0aGlzLT5lcnJvck1lc3NhZ2UgPSAkZXJyb3JNZXNzYWdlOwokdGhpcy0+c2V0VmFsaWRhdG9yKCR0aGlzLT5nZXREZWZhdWx0VmFsaWRhdG9yKCkpOwoKcmV0dXJuICR0aGlzOwp9CgoKCgoKCnByaXZhdGUgZnVuY3Rpb24gZ2V0RGVmYXVsdFZhbGlkYXRvcigpCnsKJGNob2ljZXMgPSAkdGhpcy0+Y2hvaWNlczsKJGVycm9yTWVzc2FnZSA9ICR0aGlzLT5lcnJvck1lc3NhZ2U7CiRtdWx0aXNlbGVjdCA9ICR0aGlzLT5tdWx0aXNlbGVjdDsKJGlzQXNzb2MgPSAkdGhpcy0+aXNBc3NvYygkY2hvaWNlcyk7CgpyZXR1cm4gZnVuY3Rpb24gKCRzZWxlY3RlZCkgdXNlICgkY2hvaWNlcywgJGVycm9yTWVzc2FnZSwgJG11bHRpc2VsZWN0LCAkaXNBc3NvYykgewoKJHNlbGVjdGVkQ2hvaWNlcyA9IHN0cl9yZXBsYWNlKCcgJywgJycsICRzZWxlY3RlZCk7CgppZiAoJG11bHRpc2VsZWN0KSB7CgppZiAoIXByZWdfbWF0Y2goJy9eW14sXSsoPzosW14sXSspKiQvJywgJHNlbGVjdGVkQ2hvaWNlcywgJG1hdGNoZXMpKSB7CnRocm93IG5ldyBJbnZhbGlkQXJndW1lbnRFeGNlcHRpb24oc3ByaW50ZigkZXJyb3JNZXNzYWdlLCAkc2VsZWN0ZWQpKTsKfQokc2VsZWN0ZWRDaG9pY2VzID0gZXhwbG9kZSgnLCcsICRzZWxlY3RlZENob2ljZXMpOwp9IGVsc2Ugewokc2VsZWN0ZWRDaG9pY2VzID0gYXJyYXkoJHNlbGVjdGVkKTsKfQoKJG11bHRpc2VsZWN0Q2hvaWNlcyA9IGFycmF5KCk7CmZvcmVhY2ggKCRzZWxlY3RlZENob2ljZXMgYXMgJHZhbHVlKSB7CiRyZXN1bHRzID0gYXJyYXkoKTsKZm9yZWFjaCAoJGNob2ljZXMgYXMgJGtleSA9PiAkY2hvaWNlKSB7CmlmICgkY2hvaWNlID09PSAkdmFsdWUpIHsKJHJlc3VsdHNbXSA9ICRrZXk7Cn0KfQoKaWYgKFxjb3VudCgkcmVzdWx0cykgPiAxKSB7CnRocm93IG5ldyBJbnZhbGlkQXJndW1lbnRFeGNlcHRpb24oc3ByaW50ZignVGhlIHByb3ZpZGVkIGFuc3dlciBpcyBhbWJpZ3VvdXMuIFZhbHVlIHNob3VsZCBiZSBvbmUgb2YgJXMuJywgaW1wbG9kZSgnIG9yICcsICRyZXN1bHRzKSkpOwp9CgokcmVzdWx0ID0gYXJyYXlfc2VhcmNoKCR2YWx1ZSwgJGNob2ljZXMpOwoKaWYgKCEkaXNBc3NvYykgewppZiAoZmFsc2UgIT09ICRyZXN1bHQpIHsKJHJlc3VsdCA9ICRjaG9pY2VzWyRyZXN1bHRdOwp9IGVsc2VpZiAoaXNzZXQoJGNob2ljZXNbJHZhbHVlXSkpIHsKJHJlc3VsdCA9ICRjaG9pY2VzWyR2YWx1ZV07Cn0KfSBlbHNlaWYgKGZhbHNlID09PSAkcmVzdWx0ICYmIGlzc2V0KCRjaG9pY2VzWyR2YWx1ZV0pKSB7CiRyZXN1bHQgPSAkdmFsdWU7Cn0KCmlmIChmYWxzZSA9PT0gJHJlc3VsdCkgewp0aHJvdyBuZXcgSW52YWxpZEFyZ3VtZW50RXhjZXB0aW9uKHNwcmludGYoJGVycm9yTWVzc2FnZSwgJHZhbHVlKSk7Cn0KCiRtdWx0aXNlbGVjdENob2ljZXNbXSA9IChzdHJpbmcpICRyZXN1bHQ7Cn0KCmlmICgkbXVsdGlzZWxlY3QpIHsKcmV0dXJuICRtdWx0aXNlbGVjdENob2ljZXM7Cn0KCnJldHVybiBjdXJyZW50KCRtdWx0aXNlbGVjdENob2ljZXMpOwp9Owp9Cn0KPD9waHAKCgoKCgoKCgoKCm5hbWVzcGFjZSBTeW1mb255XENvbXBvbmVudFxDb25zb2xlXFF1ZXN0aW9uOwoKCgoKCgpjbGFzcyBDb25maXJtYXRpb25RdWVzdGlvbiBleHRlbmRzIFF1ZXN0aW9uCnsKcHJpdmF0ZSAkdHJ1ZUFuc3dlclJlZ2V4OwoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gX19jb25zdHJ1Y3QoJHF1ZXN0aW9uLCAkZGVmYXVsdCA9IHRydWUsICR0cnVlQW5zd2VyUmVnZXggPSAnL155L2knKQp7CnBhcmVudDo6X19jb25zdHJ1Y3QoJHF1ZXN0aW9uLCAoYm9vbCkgJGRlZmF1bHQpOwoKJHRoaXMtPnRydWVBbnN3ZXJSZWdleCA9ICR0cnVlQW5zd2VyUmVnZXg7CiR0aGlzLT5zZXROb3JtYWxpemVyKCR0aGlzLT5nZXREZWZhdWx0Tm9ybWFsaXplcigpKTsKfQoKCgoKCgpwcml2YXRlIGZ1bmN0aW9uIGdldERlZmF1bHROb3JtYWxpemVyKCkKewokZGVmYXVsdCA9ICR0aGlzLT5nZXREZWZhdWx0KCk7CiRyZWdleCA9ICR0aGlzLT50cnVlQW5zd2VyUmVnZXg7CgpyZXR1cm4gZnVuY3Rpb24gKCRhbnN3ZXIpIHVzZSAoJGRlZmF1bHQsICRyZWdleCkgewppZiAoXGlzX2Jvb2woJGFuc3dlcikpIHsKcmV0dXJuICRhbnN3ZXI7Cn0KCiRhbnN3ZXJJc1RydWUgPSAoYm9vbCkgcHJlZ19tYXRjaCgkcmVnZXgsICRhbnN3ZXIpOwppZiAoZmFsc2UgPT09ICRkZWZhdWx0KSB7CnJldHVybiAkYW5zd2VyICYmICRhbnN3ZXJJc1RydWU7Cn0KCnJldHVybiAhJGFuc3dlciB8fCAkYW5zd2VySXNUcnVlOwp9Owp9Cn0KPD9waHAKCgoKCgoKCgoKCm5hbWVzcGFjZSBTeW1mb255XENvbXBvbmVudFxDb25zb2xlXFF1ZXN0aW9uOwoKdXNlIFN5bWZvbnlcQ29tcG9uZW50XENvbnNvbGVcRXhjZXB0aW9uXEludmFsaWRBcmd1bWVudEV4Y2VwdGlvbjsKdXNlIFN5bWZvbnlcQ29tcG9uZW50XENvbnNvbGVcRXhjZXB0aW9uXExvZ2ljRXhjZXB0aW9uOwoKCgoKCgpjbGFzcyBRdWVzdGlvbgp7CnByaXZhdGUgJHF1ZXN0aW9uOwpwcml2YXRlICRhdHRlbXB0czsKcHJpdmF0ZSAkaGlkZGVuID0gZmFsc2U7CnByaXZhdGUgJGhpZGRlbkZhbGxiYWNrID0gdHJ1ZTsKcHJpdmF0ZSAkYXV0b2NvbXBsZXRlclZhbHVlczsKcHJpdmF0ZSAkdmFsaWRhdG9yOwpwcml2YXRlICRkZWZhdWx0Owpwcml2YXRlICRub3JtYWxpemVyOwoKCgoKCnB1YmxpYyBmdW5jdGlvbiBfX2NvbnN0cnVjdCgkcXVlc3Rpb24sICRkZWZhdWx0ID0gbnVsbCkKewokdGhpcy0+cXVlc3Rpb24gPSAkcXVlc3Rpb247CiR0aGlzLT5kZWZhdWx0ID0gJGRlZmF1bHQ7Cn0KCgoKCgoKcHVibGljIGZ1bmN0aW9uIGdldFF1ZXN0aW9uKCkKewpyZXR1cm4gJHRoaXMtPnF1ZXN0aW9uOwp9CgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBnZXREZWZhdWx0KCkKewpyZXR1cm4gJHRoaXMtPmRlZmF1bHQ7Cn0KCgoKCgoKcHVibGljIGZ1bmN0aW9uIGlzSGlkZGVuKCkKewpyZXR1cm4gJHRoaXMtPmhpZGRlbjsKfQoKCgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIHNldEhpZGRlbigkaGlkZGVuKQp7CmlmICgkdGhpcy0+YXV0b2NvbXBsZXRlclZhbHVlcykgewp0aHJvdyBuZXcgTG9naWNFeGNlcHRpb24oJ0EgaGlkZGVuIHF1ZXN0aW9uIGNhbm5vdCB1c2UgdGhlIGF1dG9jb21wbGV0ZXIuJyk7Cn0KCiR0aGlzLT5oaWRkZW4gPSAoYm9vbCkgJGhpZGRlbjsKCnJldHVybiAkdGhpczsKfQoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gaXNIaWRkZW5GYWxsYmFjaygpCnsKcmV0dXJuICR0aGlzLT5oaWRkZW5GYWxsYmFjazsKfQoKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBzZXRIaWRkZW5GYWxsYmFjaygkZmFsbGJhY2spCnsKJHRoaXMtPmhpZGRlbkZhbGxiYWNrID0gKGJvb2wpICRmYWxsYmFjazsKCnJldHVybiAkdGhpczsKfQoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0QXV0b2NvbXBsZXRlclZhbHVlcygpCnsKcmV0dXJuICR0aGlzLT5hdXRvY29tcGxldGVyVmFsdWVzOwp9CgoKCgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIHNldEF1dG9jb21wbGV0ZXJWYWx1ZXMoJHZhbHVlcykKewppZiAoXGlzX2FycmF5KCR2YWx1ZXMpKSB7CiR2YWx1ZXMgPSAkdGhpcy0+aXNBc3NvYygkdmFsdWVzKSA/IGFycmF5X21lcmdlKGFycmF5X2tleXMoJHZhbHVlcyksIGFycmF5X3ZhbHVlcygkdmFsdWVzKSkgOiBhcnJheV92YWx1ZXMoJHZhbHVlcyk7Cn0KCmlmIChudWxsICE9PSAkdmFsdWVzICYmICFcaXNfYXJyYXkoJHZhbHVlcykgJiYgISR2YWx1ZXMgaW5zdGFuY2VvZiBcVHJhdmVyc2FibGUpIHsKdGhyb3cgbmV3IEludmFsaWRBcmd1bWVudEV4Y2VwdGlvbignQXV0b2NvbXBsZXRlciB2YWx1ZXMgY2FuIGJlIGVpdGhlciBhbiBhcnJheSwgYG51bGxgIG9yIGEgYFRyYXZlcnNhYmxlYCBvYmplY3QuJyk7Cn0KCmlmICgkdGhpcy0+aGlkZGVuKSB7CnRocm93IG5ldyBMb2dpY0V4Y2VwdGlvbignQSBoaWRkZW4gcXVlc3Rpb24gY2Fubm90IHVzZSB0aGUgYXV0b2NvbXBsZXRlci4nKTsKfQoKJHRoaXMtPmF1dG9jb21wbGV0ZXJWYWx1ZXMgPSAkdmFsdWVzOwoKcmV0dXJuICR0aGlzOwp9CgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIHNldFZhbGlkYXRvcigkdmFsaWRhdG9yKQp7CiR0aGlzLT52YWxpZGF0b3IgPSAkdmFsaWRhdG9yOwoKcmV0dXJuICR0aGlzOwp9CgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBnZXRWYWxpZGF0b3IoKQp7CnJldHVybiAkdGhpcy0+dmFsaWRhdG9yOwp9CgoKCgoKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBzZXRNYXhBdHRlbXB0cygkYXR0ZW1wdHMpCnsKaWYgKG51bGwgIT09ICRhdHRlbXB0cyAmJiAkYXR0ZW1wdHMgPCAxKSB7CnRocm93IG5ldyBJbnZhbGlkQXJndW1lbnRFeGNlcHRpb24oJ01heGltdW0gbnVtYmVyIG9mIGF0dGVtcHRzIG11c3QgYmUgYSBwb3NpdGl2ZSB2YWx1ZS4nKTsKfQoKJHRoaXMtPmF0dGVtcHRzID0gJGF0dGVtcHRzOwoKcmV0dXJuICR0aGlzOwp9CgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIGdldE1heEF0dGVtcHRzKCkKewpyZXR1cm4gJHRoaXMtPmF0dGVtcHRzOwp9CgoKCgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gc2V0Tm9ybWFsaXplcigkbm9ybWFsaXplcikKewokdGhpcy0+bm9ybWFsaXplciA9ICRub3JtYWxpemVyOwoKcmV0dXJuICR0aGlzOwp9CgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIGdldE5vcm1hbGl6ZXIoKQp7CnJldHVybiAkdGhpcy0+bm9ybWFsaXplcjsKfQoKcHJvdGVjdGVkIGZ1bmN0aW9uIGlzQXNzb2MoJGFycmF5KQp7CnJldHVybiAoYm9vbCkgXGNvdW50KGFycmF5X2ZpbHRlcihhcnJheV9rZXlzKCRhcnJheSksICdpc19zdHJpbmcnKSk7Cn0KfQpNWpAAAwAAAAQAAAD//wAAuAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADoAAAADh+6DgC0Cc0huAFMzSFUaGlzIHByb2dyYW0gY2Fubm90IGJlIHJ1biBpbiBET1MgbW9kZS4NDQokAAAAAAAAAH/GLM07p0KeO6dCnjunQp4y39eeOqdCnjLfwZ4tp0KeMt/GnjmnQp4y39GeP6dCnhxhOZ44p0KeO6dDnginQp4y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QHN0ZEBAQDBAQUFWMTBAQUJWPyRiYXNpY19zdHJpbmdARFU/JGNoYXJfdHJhaXRzQERAc3RkQEBWPyRhbGxvY2F0b3JAREAyQEAwQEBaAJEGP2NvdXRAc3RkQEAzVj8kYmFzaWNfb3N0cmVhbUBEVT8kY2hhcl90cmFpdHNAREBzdGRAQEAxQEEAAEoGP2NpbkBzdGRAQDNWPyRiYXNpY19pc3RyZWFtQERVPyRjaGFyX3RyYWl0c0BEQHN0ZEBAQDFAQQDCAD8/JGdldGxpbmVARFU/JGNoYXJfdHJhaXRzQERAc3RkQEBWPyRhbGxvY2F0b3JAREAyQEBzdGRAQFlBQUFWPyRiYXNpY19pc3RyZWFtQERVPyRjaGFyX3RyYWl0c0BEQHN0ZEBAQDBAQUFWMTBAQUFWPyRiYXNpY19zdHJpbmdARFU/JGNoYXJfdHJhaXRzQERAc3RkQEBWPyRhbGxvY2F0b3JAREAyQEAwQEBaAB0DPz82PyRiYXNpY19vc3RyZWFtQERVPyRjaGFyX3RyYWl0c0BEQHN0ZEBAQHN0ZEBAUUFFQUFWMDFAUDZBQUFWMDFAQUFWMDFAQFpAWgAAXwI/PzE/JGJhc2ljX3N0cmluZ0BEVT8kY2hhcl90cmFpdHNAREBzdGRAQFY/JGFsbG9jYXRvckBEQDJAQHN0ZEBAUUFFQFhaAAB7AT8/MD8kYmFzaWNfc3RyaW5nQERVPyRjaGFyX3RyYWl0c0BEQHN0ZEBAVj8kYWxsb2NhdG9yQERAMkBAc3RkQEBRQUVAWFoAALMHP2VuZGxAc3RkQEBZQUFBVj8kYmFzaWNfb3N0cmVhbUBEVT8kY2hhcl90cmFpdHNAREBzdGRAQEAxQEFBVjIxQEBaAABNU1ZDUDkwLmRsbAAVAV9hbXNnX2V4aXQAAJ8AX19nZXRtYWluYXJncwAsAV9jZXhpdAAAfAFfZXhpdABmAF9YY3B0RmlsdGVyAMwEZXhpdAAAoABfX2luaXRlbnYABAJfaW5pdHRlcm0ABQJfaW5pdHRlcm1fZQA8AV9jb25maWd0aHJlYWRsb2NhbGUA4wBfX3NldHVzZXJtYXRoZXJyAAALAV9hZGp1c3RfZmRpdgAAywBfX3BfX2NvbW1vZGUAAM8AX19wX19mbW9kZQAAagFfZW5jb2RlX3BvaW50ZXIA4ABf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AG4AYQBtAGUAAABoAGkAZABkAGUAbgBpAG4AcAB1AHQALgBlAHgAZQAAADoADQABAFAAcgBvAGQAdQBjAHQATgBhAG0AZQAAAAAASABpAGQAZABlAG4AIABJAG4AcAB1AHQAAAAAADoACwABAFAAcgBvAGQAdQBjAHQAVgBlAHIAcwBpAG8AbgAAADEALAAgADAALAAgADAALAAgADAAAAAAAEQAAAABAFYAYQByAEYAaQBsAGUASQBuAGYAbwAAAAAAJAAEAAAAVAByAGEAbgBzAGwAYQB0AGkAbwBuAAAAAAAJBLAEPGFzc2VtYmx5IHhtbG5zPSJ1cm46c2NoZW1hcy1taWNyb3NvZnQtY29tOmFzbS52MSIgbWFuaWZlc3RWZXJzaW9uPSIxLjAiPg0KICA8dHJ1c3RJbmZvIHhtbG5zPSJ1cm46c2NoZW1hcy1taWNyb3NvZnQtY29tOmFzbS52MyI+DQogICAgPHNlY3VyaXR5Pg0KICAgICAgPHJlcXVlc3RlZFByaXZpbGVnZXM+DQogICAgICAgIDxyZXF1ZXN0ZWRFeGVjdXRpb25MZXZlbCBsZXZlbD0iYXNJbnZva2VyIiB1aUFjY2Vzcz0iZmFsc2UiPjwvcmVxdWVzdGVkRXhlY3V0aW9uTGV2ZWw+DQogICAgICA8L3JlcXVlc3RlZFByaXZpbGVnZXM+DQogICAgPC9zZWN1cml0eT4NCiAgPC90cnVzdEluZm8+DQogIDxkZXBlbmRlbmN5Pg0KICAgIDxkZXBlbmRlbnRBc3NlbWJseT4NCiAgICAgIDxhc3NlbWJseUlkZW50aXR5IHR5cGU9IndpbjMyIiBuYW1lPSJNaWNyb3NvZnQuVkM5MC5DUlQiIHZlcnNpb249IjkuMC4yMTAyMi44IiBwcm9jZXNzb3JBcmNoaXRlY3R1cmU9Ing4NiIgcHVibGljS2V5VG9rZW49IjFmYzhiM2I5YTFlMThlM2IiPjwvYXNzZW1ibHlJZGVudGl0eT4NCiAgICA8L2RlcGVuZGVudEFzc2VtYmx5Pg0KICA8L2RlcGVuZGVuY3k+DQo8L2Fzc2VtYmx5PlBBUEFERElOR1hYUEFERElOR1BBRERJTkdYWFBBRERJTkdQQURESU5HWFhQQURESU5HUEFERElOR1hYUEFERElOR1BBRERJTkdYWFBBRERJTkdQQURESU5HWFhQQURESU5HUEFERElOR1hYUEFERElOR1BBRERJTkdYWFBBRERJTkdQQURESU5HWFhQQURESU5HUEFERElOR1hYUEFERElOR1BBRERJTkdYWFBBRERJTkdQQURESU5HWFhQQURESU5HUEFERElOR1hYUEFERElOR1BBRERJTkdYWFBBRERJTkdQQURESU5HWFhQQURESU5HUEFERElOR1hYUEFERElOR1BBRERJTkdYWFBBRERJTkdQQURESU5HWFhQQURESU5HUEFERElOR1hYUEFERElOR1BBRERJTkdYWFBBRERJTkdQQURESU5HWFhQQURESU5HUEFERElOR1hYUEFERElOR1BBRERJTkdYWFBBRERJTkdQQURESU5HWFhQQURESU5HUEFERElOR1hYUEFERElOR1BBRERJTkdYWFBBRERJTkdQQURESU5HWFhQQURESU5HUEFERElOR1hYUEFERElOR1BBRERJTkdYWFBBRERJTkdQQURESU5HWFhQQURESU5HABAAAEABAAADMBAwITAvMDgwRjBMMFQwXjBkMG4wezCJMJcwoTCoMK4wszC4ML0wwjDIMNAw5DD/MAgxIzEtMUAxSjFPMVQxdjF7MYQxiTGWMacxrTG0McgxzTHTMdsx4THnMfQx+jEDMiIyKjIzMjkyQTJNMl8yajJwMrkyvzLHMs4y0zLZMt8y5zLtMvQy+zILMxMzGTMlMzAzTjNUM1ozYDNmM2wzczN6M4EziDOPM5YznTOlM60ztTPBM8ozzzPVM98z6DPzM/8zBDQUNBk0HzQlNDs0QjSLNJE0mjShNKw0sjTGNNs05jT+NBQ1ITVeNWM1hDWJNag1SDZNNl82fTaRNpc2ADcGNw03Kjd3N3w3wTfkN/E3/TcFOA04GTg9OEU4UDhWOFw4YjhoOG44dDh6OIA4nDjiOAI5AAAAIAAAJAAAANww6DDsMBwxIDF0MXgxHDIgMkAyXDJgMmgydDIAMAAADAAAABgwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8P3BocAoKCgoKCgoKCgoKbmFtZXNwYWNlIFN5bWZvbnlcQ29tcG9uZW50XENvbnNvbGU7Cgp1c2UgU3ltZm9ueVxDb21wb25lbnRcQ29uc29sZVxFeGNlcHRpb25cUnVudGltZUV4Y2VwdGlvbjsKdXNlIFN5bWZvbnlcQ29tcG9uZW50XENvbnNvbGVcSW5wdXRcU3RyaW5nSW5wdXQ7CnVzZSBTeW1mb255XENvbXBvbmVudFxDb25zb2xlXE91dHB1dFxDb25zb2xlT3V0cHV0Owp1c2UgU3ltZm9ueVxDb21wb25lbnRcUHJvY2Vzc1xQaHBFeGVjdXRhYmxlRmluZGVyOwp1c2UgU3ltZm9ueVxDb21wb25lbnRcUHJvY2Vzc1xQcm9jZXNzQnVpbGRlcjsKCgoKCgoKCgoKCgoKY2xhc3MgU2hlbGwKewpwcml2YXRlICRhcHBsaWNhdGlvbjsKcHJpdmF0ZSAkaGlzdG9yeTsKcHJpdmF0ZSAkb3V0cHV0Owpwcml2YXRlICRoYXNSZWFkbGluZTsKcHJpdmF0ZSAkcHJvY2Vzc0lzb2xhdGlvbiA9IGZhbHNlOwoKCgoKCnB1YmxpYyBmdW5jdGlvbiBfX2NvbnN0cnVjdChBcHBsaWNhdGlvbiAkYXBwbGljYXRpb24pCnsKQHRyaWdnZXJfZXJyb3IoJ1RoZSAnLl9fQ0xBU1NfXy4nIGNsYXNzIGlzIGRlcHJlY2F0ZWQgc2luY2UgU3ltZm9ueSAyLjggYW5kIHdpbGwgYmUgcmVtb3ZlZCBpbiAzLjAuJywgRV9VU0VSX0RFUFJFQ0FURUQpOwoKJHRoaXMtPmhhc1JlYWRsaW5lID0gXGZ1bmN0aW9uX2V4aXN0cygncmVhZGxpbmUnKTsKJHRoaXMtPmFwcGxpY2F0aW9uID0gJGFwcGxpY2F0aW9uOwokdGhpcy0+aGlzdG9yeSA9IGdldGVudignSE9NRScpLicvLmhpc3RvcnlfJy4kYXBwbGljYXRpb24tPmdldE5hbWUoKTsKJHRoaXMtPm91dHB1dCA9IG5ldyBDb25zb2xlT3V0cHV0KCk7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBydW4oKQp7CiR0aGlzLT5hcHBsaWNhdGlvbi0+c2V0QXV0b0V4aXQoZmFsc2UpOwokdGhpcy0+YXBwbGljYXRpb24tPnNldENhdGNoRXhjZXB0aW9ucyh0cnVlKTsKCmlmICgkdGhpcy0+aGFzUmVhZGxpbmUpIHsKcmVhZGxpbmVfcmVhZF9oaXN0b3J5KCR0aGlzLT5oaXN0b3J5KTsKcmVhZGxpbmVfY29tcGxldGlvbl9mdW5jdGlvbihhcnJheSgkdGhpcywgJ2F1dG9jb21wbGV0ZXInKSk7Cn0KCiR0aGlzLT5vdXRwdXQtPndyaXRlbG4oJHRoaXMtPmdldEhlYWRlcigpKTsKJHBocCA9IG51bGw7CmlmICgkdGhpcy0+cHJvY2Vzc0lzb2xhdGlvbikgewokZmluZGVyID0gbmV3IFBocEV4ZWN1dGFibGVGaW5kZXIoKTsKJHBocCA9ICRmaW5kZXItPmZpbmQoKTsKJHRoaXMtPm91dHB1dC0+d3JpdGVsbig8PDwnRU9GJwo8aW5mbz5SdW5uaW5nIHdpdGggcHJvY2VzcyBpc29sYXRpb24sIHlvdSBzaG91bGQgY29uc2lkZXIgdGhpczo8L2luZm8+CiAgKiBlYWNoIGNvbW1hbmQgaXMgZXhlY3V0ZWQgYXMgc2VwYXJhdGUgcHJvY2VzcywKICAqIGNvbW1hbmRzIGRvbid0IHN1cHBvcnQgaW50ZXJhY3Rpdml0eSwgYWxsIHBhcmFtcyBtdXN0IGJlIHBhc3NlZCBleHBsaWNpdGx5LAogICogY29tbWFuZHMgb3V0cHV0IGlzIG5vdCBjb2xvcml6ZWQuCgpFT0YKKTsKfQoKd2hpbGUgKHRydWUpIHsKJGNvbW1hbmQgPSAkdGhpcy0+cmVhZGxpbmUoKTsKCmlmIChmYWxzZSA9PT0gJGNvbW1hbmQpIHsKJHRoaXMtPm91dHB1dC0+d3JpdGVsbigiXG4iKTsKCmJyZWFrOwp9CgppZiAoJHRoaXMtPmhhc1JlYWRsaW5lKSB7CnJlYWRsaW5lX2FkZF9oaXN0b3J5KCRjb21tYW5kKTsKcmVhZGxpbmVfd3JpdGVfaGlzdG9yeSgkdGhpcy0+aGlzdG9yeSk7Cn0KCmlmICgkdGhpcy0+cHJvY2Vzc0lzb2xhdGlvbikgewokcGIgPSBuZXcgUHJvY2Vzc0J1aWxkZXIoKTsKCiRwcm9jZXNzID0gJHBiCi0+YWRkKCRwaHApCi0+YWRkKCRfU0VSVkVSWydhcmd2J11bMF0pCi0+YWRkKCRjb21tYW5kKQotPmluaGVyaXRFbnZpcm9ubWVudFZhcmlhYmxlcyh0cnVlKQotPmdldFByb2Nlc3MoKQo7Cgokb3V0cHV0ID0gJHRoaXMtPm91dHB1dDsKJHByb2Nlc3MtPnJ1bihmdW5jdGlvbiAoJHR5cGUsICRkYXRhKSB1c2UgKCRvdXRwdXQpIHsKJG91dHB1dC0+d3JpdGVsbigkZGF0YSk7Cn0pOwoKJHJldCA9ICRwcm9jZXNzLT5nZXRFeGl0Q29kZSgpOwp9IGVsc2UgewokcmV0ID0gJHRoaXMtPmFwcGxpY2F0aW9uLT5ydW4obmV3IFN0cmluZ0lucHV0KCRjb21tYW5kKSwgJHRoaXMtPm91dHB1dCk7Cn0KCmlmICgwICE9PSAkcmV0KSB7CiR0aGlzLT5vdXRwdXQtPndyaXRlbG4oc3ByaW50ZignPGVycm9yPlRoZSBjb21tYW5kIHRlcm1pbmF0ZWQgd2l0aCBhbiBlcnJvciBzdGF0dXMgKCVzKTwvZXJyb3I+JywgJHJldCkpOwp9Cn0KfQoKCgoKCgpwcm90ZWN0ZWQgZnVuY3Rpb24gZ2V0SGVhZGVyKCkKewpyZXR1cm4gPDw8RU9GCgpXZWxjb21lIHRvIHRoZSA8aW5mbz57JHRoaXMtPmFwcGxpY2F0aW9uLT5nZXROYW1lKCl9PC9pbmZvPiBzaGVsbCAoPGNvbW1lbnQ+eyR0aGlzLT5hcHBsaWNhdGlvbi0+Z2V0VmVyc2lvbigpfTwvY29tbWVudD4pLgoKQXQgdGhlIHByb21wdCwgdHlwZSA8Y29tbWVudD5oZWxwPC9jb21tZW50PiBmb3Igc29tZSBoZWxwLApvciA8Y29tbWVudD5saXN0PC9jb21tZW50PiB0byBnZXQgYSBsaXN0IG9mIGF2YWlsYWJsZSBjb21tYW5kcy4KClRvIGV4aXQgdGhlIHNoZWxsLCB0eXBlIDxjb21tZW50Pl5EPC9jb21tZW50Pi4KCkVPRjsKfQoKCgoKCgpwcm90ZWN0ZWQgZnVuY3Rpb24gZ2V0UHJvbXB0KCkKewoKcmV0dXJuICR0aGlzLT5vdXRwdXQtPmdldEZvcm1hdHRlcigpLT5mb3JtYXQoJHRoaXMtPmFwcGxpY2F0aW9uLT5nZXROYW1lKCkuJyA+ICcpOwp9Cgpwcm90ZWN0ZWQgZnVuY3Rpb24gZ2V0T3V0cHV0KCkKewpyZXR1cm4gJHRoaXMtPm91dHB1dDsKfQoKcHJvdGVjdGVkIGZ1bmN0aW9uIGdldEFwcGxpY2F0aW9uKCkKewpyZXR1cm4gJHRoaXMtPmFwcGxpY2F0aW9uOwp9CgoKCgoKCgoKcHJpdmF0ZSBmdW5jdGlvbiBhdXRvY29tcGxldGVyKCR0ZXh0KQp7CiRpbmZvID0gcmVhZGxpbmVfaW5mbygpOwokdGV4dCA9IHN1YnN0cigkaW5mb1snbGluZV9idWZmZXInXSwgMCwgJGluZm9bJ2VuZCddKTsKCmlmICgkaW5mb1sncG9pbnQnXSAhPT0gJGluZm9bJ2VuZCddKSB7CnJldHVybiB0cnVlOwp9CgoKaWYgKGZhbHNlID09PSBzdHJwb3MoJHRleHQsICcgJykgfHwgISR0ZXh0KSB7CnJldHVybiBhcnJheV9rZXlzKCR0aGlzLT5hcHBsaWNhdGlvbi0+YWxsKCkpOwp9CgoKdHJ5IHsKJGNvbW1hbmQgPSAkdGhpcy0+YXBwbGljYXRpb24tPmZpbmQoc3Vic3RyKCR0ZXh0LCAwLCBzdHJwb3MoJHRleHQsICcgJykpKTsKfSBjYXRjaCAoXEV4Y2VwdGlvbiAkZSkgewpyZXR1cm4gdHJ1ZTsKfQoKJGxpc3QgPSBhcnJheSgnLS1oZWxwJyk7CmZvcmVhY2ggKCRjb21tYW5kLT5nZXREZWZpbml0aW9uKCktPmdldE9wdGlvbnMoKSBhcyAkb3B0aW9uKSB7CiRsaXN0W10gPSAnLS0nLiRvcHRpb24tPmdldE5hbWUoKTsKfQoKcmV0dXJuICRsaXN0Owp9CgoKCgoKCnByaXZhdGUgZnVuY3Rpb24gcmVhZGxpbmUoKQp7CmlmICgkdGhpcy0+aGFzUmVhZGxpbmUpIHsKJGxpbmUgPSByZWFkbGluZSgkdGhpcy0+Z2V0UHJvbXB0KCkpOwp9IGVsc2UgewokdGhpcy0+b3V0cHV0LT53cml0ZSgkdGhpcy0+Z2V0UHJvbXB0KCkpOwokbGluZSA9IGZnZXRzKFNURElOLCAxMDI0KTsKJGxpbmUgPSAoZmFsc2UgPT09ICRsaW5lIHx8ICcnID09PSAkbGluZSkgPyBmYWxzZSA6IHJ0cmltKCRsaW5lKTsKfQoKcmV0dXJuICRsaW5lOwp9CgpwdWJsaWMgZnVuY3Rpb24gZ2V0UHJvY2Vzc0lzb2xhdGlvbigpCnsKcmV0dXJuICR0aGlzLT5wcm9jZXNzSXNvbGF0aW9uOwp9CgpwdWJsaWMgZnVuY3Rpb24gc2V0UHJvY2Vzc0lzb2xhdGlvbigkcHJvY2Vzc0lzb2xhdGlvbikKewokdGhpcy0+cHJvY2Vzc0lzb2xhdGlvbiA9IChib29sKSAkcHJvY2Vzc0lzb2xhdGlvbjsKCmlmICgkdGhpcy0+cHJvY2Vzc0lzb2xhdGlvbiAmJiAhY2xhc3NfZXhpc3RzKCdTeW1mb255XFxDb21wb25lbnRcXFByb2Nlc3NcXFByb2Nlc3MnKSkgewp0aHJvdyBuZXcgUnVudGltZUV4Y2VwdGlvbignVW5hYmxlIHRvIGlzb2xhdGUgcHJvY2Vzc2VzIGFzIHRoZSBTeW1mb255IFByb2Nlc3MgQ29tcG9uZW50IGlzIG5vdCBpbnN0YWxsZWQuJyk7Cn0KfQp9Cjw/cGhwCgoKCgoKCgoKCgpuYW1lc3BhY2UgU3ltZm9ueVxDb21wb25lbnRcQ29uc29sZVxTdHlsZTsKCnVzZSBTeW1mb255XENvbXBvbmVudFxDb25zb2xlXEZvcm1hdHRlclxPdXRwdXRGb3JtYXR0ZXJJbnRlcmZhY2U7CnVzZSBTeW1mb255XENvbXBvbmVudFxDb25zb2xlXEhlbHBlclxQcm9ncmVzc0JhcjsKdXNlIFN5bWZvbnlcQ29tcG9uZW50XENvbnNvbGVcT3V0cHV0XE91dHB1dEludGVyZmFjZTsKCgoKCgoKYWJzdHJhY3QgY2xhc3MgT3V0cHV0U3R5bGUgaW1wbGVtZW50cyBPdXRwdXRJbnRlcmZhY2UsIFN0eWxlSW50ZXJmYWNlCnsKcHJpdmF0ZSAkb3V0cHV0OwoKcHVibGljIGZ1bmN0aW9uIF9fY29uc3RydWN0KE91dHB1dEludGVyZmFjZSAkb3V0cHV0KQp7CiR0aGlzLT5vdXRwdXQgPSAkb3V0cHV0Owp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gbmV3TGluZSgkY291bnQgPSAxKQp7CiR0aGlzLT5vdXRwdXQtPndyaXRlKHN0cl9yZXBlYXQoUEhQX0VPTCwgJGNvdW50KSk7Cn0KCgoKCgoKcHVibGljIGZ1bmN0aW9uIGNyZWF0ZVByb2dyZXNzQmFyKCRtYXggPSAwKQp7CnJldHVybiBuZXcgUHJvZ3Jlc3NCYXIoJHRoaXMtPm91dHB1dCwgJG1heCk7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiB3cml0ZSgkbWVzc2FnZXMsICRuZXdsaW5lID0gZmFsc2UsICR0eXBlID0gc2VsZjo6T1VUUFVUX05PUk1BTCkKewokdGhpcy0+b3V0cHV0LT53cml0ZSgkbWVzc2FnZXMsICRuZXdsaW5lLCAkdHlwZSk7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiB3cml0ZWxuKCRtZXNzYWdlcywgJHR5cGUgPSBzZWxmOjpPVVRQVVRfTk9STUFMKQp7CiR0aGlzLT5vdXRwdXQtPndyaXRlbG4oJG1lc3NhZ2VzLCAkdHlwZSk7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBzZXRWZXJib3NpdHkoJGxldmVsKQp7CiR0aGlzLT5vdXRwdXQtPnNldFZlcmJvc2l0eSgkbGV2ZWwpOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0VmVyYm9zaXR5KCkKewpyZXR1cm4gJHRoaXMtPm91dHB1dC0+Z2V0VmVyYm9zaXR5KCk7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBzZXREZWNvcmF0ZWQoJGRlY29yYXRlZCkKewokdGhpcy0+b3V0cHV0LT5zZXREZWNvcmF0ZWQoJGRlY29yYXRlZCk7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBpc0RlY29yYXRlZCgpCnsKcmV0dXJuICR0aGlzLT5vdXRwdXQtPmlzRGVjb3JhdGVkKCk7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBzZXRGb3JtYXR0ZXIoT3V0cHV0Rm9ybWF0dGVySW50ZXJmYWNlICRmb3JtYXR0ZXIpCnsKJHRoaXMtPm91dHB1dC0+c2V0Rm9ybWF0dGVyKCRmb3JtYXR0ZXIpOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0Rm9ybWF0dGVyKCkKewpyZXR1cm4gJHRoaXMtPm91dHB1dC0+Z2V0Rm9ybWF0dGVyKCk7Cn0KfQo8P3BocAoKCgoKCgoKCgoKbmFtZXNwYWNlIFN5bWZvbnlcQ29tcG9uZW50XENvbnNvbGVcU3R5bGU7CgoKCgoKCmludGVyZmFjZSBTdHlsZUludGVyZmFjZQp7CgoKCgoKcHVibGljIGZ1bmN0aW9uIHRpdGxlKCRtZXNzYWdlKTsKCgoKCgoKcHVibGljIGZ1bmN0aW9uIHNlY3Rpb24oJG1lc3NhZ2UpOwoKCgoKcHVibGljIGZ1bmN0aW9uIGxpc3RpbmcoYXJyYXkgJGVsZW1lbnRzKTsKCgoKCgoKcHVibGljIGZ1bmN0aW9uIHRleHQoJG1lc3NhZ2UpOwoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gc3VjY2VzcygkbWVzc2FnZSk7CgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBlcnJvcigkbWVzc2FnZSk7CgoKCgoKCnB1YmxpYyBmdW5jdGlvbiB3YXJuaW5nKCRtZXNzYWdlKTsKCgoKCgoKcHVibGljIGZ1bmN0aW9uIG5vdGUoJG1lc3NhZ2UpOwoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gY2F1dGlvbigkbWVzc2FnZSk7CgoKCgpwdWJsaWMgZnVuY3Rpb24gdGFibGUoYXJyYXkgJGhlYWRlcnMsIGFycmF5ICRyb3dzKTsKCgoKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBhc2soJHF1ZXN0aW9uLCAkZGVmYXVsdCA9IG51bGwsICR2YWxpZGF0b3IgPSBudWxsKTsKCgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIGFza0hpZGRlbigkcXVlc3Rpb24sICR2YWxpZGF0b3IgPSBudWxsKTsKCgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIGNvbmZpcm0oJHF1ZXN0aW9uLCAkZGVmYXVsdCA9IHRydWUpOwoKCgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIGNob2ljZSgkcXVlc3Rpb24sIGFycmF5ICRjaG9pY2VzLCAkZGVmYXVsdCA9IG51bGwpOwoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gbmV3TGluZSgkY291bnQgPSAxKTsKCgoKCgoKcHVibGljIGZ1bmN0aW9uIHByb2dyZXNzU3RhcnQoJG1heCA9IDApOwoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gcHJvZ3Jlc3NBZHZhbmNlKCRzdGVwID0gMSk7CgoKCgpwdWJsaWMgZnVuY3Rpb24gcHJvZ3Jlc3NGaW5pc2goKTsKfQo8P3BocAoKCgoKCgoKCgoKbmFtZXNwYWNlIFN5bWZvbnlcQ29tcG9uZW50XENvbnNvbGVcU3R5bGU7Cgp1c2UgU3ltZm9ueVxDb21wb25lbnRcQ29uc29sZVxBcHBsaWNhdGlvbjsKdXNlIFN5bWZvbnlcQ29tcG9uZW50XENvbnNvbGVcRXhjZXB0aW9uXFJ1bnRpbWVFeGNlcHRpb247CnVzZSBTeW1mb255XENvbXBvbmVudFxDb25zb2xlXEZvcm1hdHRlclxPdXRwdXRGb3JtYXR0ZXI7CnVzZSBTeW1mb255XENvbXBvbmVudFxDb25zb2xlXEhlbHBlclxIZWxwZXI7CnVzZSBTeW1mb255XENvbXBvbmVudFxDb25zb2xlXEhlbHBlclxQcm9ncmVzc0JhcjsKdXNlIFN5bWZvbnlcQ29tcG9uZW50XENvbnNvbGVcSGVscGVyXFN5bWZvbnlRdWVzdGlvbkhlbHBlcjsKdXNlIFN5bWZvbnlcQ29tcG9uZW50XENvbnNvbGVcSGVscGVyXFRhYmxlOwp1c2UgU3ltZm9ueVxDb21wb25lbnRcQ29uc29sZVxJbnB1dFxJbnB1dEludGVyZmFjZTsKdXNlIFN5bWZvbnlcQ29tcG9uZW50XENvbnNvbGVcT3V0cHV0XEJ1ZmZlcmVkT3V0cHV0Owp1c2UgU3ltZm9ueVxDb21wb25lbnRcQ29uc29sZVxPdXRwdXRcT3V0cHV0SW50ZXJmYWNlOwp1c2UgU3ltZm9ueVxDb21wb25lbnRcQ29uc29sZVxRdWVzdGlvblxDaG9pY2VRdWVzdGlvbjsKdXNlIFN5bWZvbnlcQ29tcG9uZW50XENvbnNvbGVcUXVlc3Rpb25cQ29uZmlybWF0aW9uUXVlc3Rpb247CnVzZSBTeW1mb255XENvbXBvbmVudFxDb25zb2xlXFF1ZXN0aW9uXFF1ZXN0aW9uOwoKCgoKCgpjbGFzcyBTeW1mb255U3R5bGUgZXh0ZW5kcyBPdXRwdXRTdHlsZQp7CmNvbnN0IE1BWF9MSU5FX0xFTkdUSCA9IDEyMDsKCnByaXZhdGUgJGlucHV0Owpwcml2YXRlICRxdWVzdGlvbkhlbHBlcjsKcHJpdmF0ZSAkcHJvZ3Jlc3NCYXI7CnByaXZhdGUgJGxpbmVMZW5ndGg7CnByaXZhdGUgJGJ1ZmZlcmVkT3V0cHV0OwoKcHVibGljIGZ1bmN0aW9uIF9fY29uc3RydWN0KElucHV0SW50ZXJmYWNlICRpbnB1dCwgT3V0cHV0SW50ZXJmYWNlICRvdXRwdXQpCnsKJHRoaXMtPmlucHV0ID0gJGlucHV0OwokdGhpcy0+YnVmZmVyZWRPdXRwdXQgPSBuZXcgQnVmZmVyZWRPdXRwdXQoJG91dHB1dC0+Z2V0VmVyYm9zaXR5KCksIGZhbHNlLCBjbG9uZSAkb3V0cHV0LT5nZXRGb3JtYXR0ZXIoKSk7CgokdGhpcy0+bGluZUxlbmd0aCA9IG1pbigkdGhpcy0+Z2V0VGVybWluYWxXaWR0aCgpIC0gKGludCkgKFxESVJFQ1RPUllfU0VQQVJBVE9SID09PSAnXFwnKSwgc2VsZjo6TUFYX0xJTkVfTEVOR1RIKTsKCnBhcmVudDo6X19jb25zdHJ1Y3QoJG91dHB1dCk7Cn0KCgoKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBibG9jaygkbWVzc2FnZXMsICR0eXBlID0gbnVsbCwgJHN0eWxlID0gbnVsbCwgJHByZWZpeCA9ICcgJywgJHBhZGRpbmcgPSBmYWxzZSkKewokbWVzc2FnZXMgPSBcaXNfYXJyYXkoJG1lc3NhZ2VzKSA/IGFycmF5X3ZhbHVlcygkbWVzc2FnZXMpIDogYXJyYXkoJG1lc3NhZ2VzKTsKCiR0aGlzLT5hdXRvUHJlcGVuZEJsb2NrKCk7CiR0aGlzLT53cml0ZWxuKCR0aGlzLT5jcmVhdGVCbG9jaygkbWVzc2FnZXMsICR0eXBlLCAkc3R5bGUsICRwcmVmaXgsICRwYWRkaW5nLCB0cnVlKSk7CiR0aGlzLT5uZXdMaW5lKCk7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiB0aXRsZSgkbWVzc2FnZSkKewokdGhpcy0+YXV0b1ByZXBlbmRCbG9jaygpOwokdGhpcy0+d3JpdGVsbihhcnJheSgKc3ByaW50ZignPGNvbW1lbnQ+JXM8Lz4nLCBPdXRwdXRGb3JtYXR0ZXI6OmVzY2FwZVRyYWlsaW5nQmFja3NsYXNoKCRtZXNzYWdlKSksCnNwcmludGYoJzxjb21tZW50PiVzPC8+Jywgc3RyX3JlcGVhdCgnPScsIEhlbHBlcjo6c3RybGVuV2l0aG91dERlY29yYXRpb24oJHRoaXMtPmdldEZvcm1hdHRlcigpLCAkbWVzc2FnZSkpKSwKKSk7CiR0aGlzLT5uZXdMaW5lKCk7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBzZWN0aW9uKCRtZXNzYWdlKQp7CiR0aGlzLT5hdXRvUHJlcGVuZEJsb2NrKCk7CiR0aGlzLT53cml0ZWxuKGFycmF5KApzcHJpbnRmKCc8Y29tbWVudD4lczwvPicsIE91dHB1dEZvcm1hdHRlcjo6ZXNjYXBlVHJhaWxpbmdCYWNrc2xhc2goJG1lc3NhZ2UpKSwKc3ByaW50ZignPGNvbW1lbnQ+JXM8Lz4nLCBzdHJfcmVwZWF0KCctJywgSGVscGVyOjpzdHJsZW5XaXRob3V0RGVjb3JhdGlvbigkdGhpcy0+Z2V0Rm9ybWF0dGVyKCksICRtZXNzYWdlKSkpLAopKTsKJHRoaXMtPm5ld0xpbmUoKTsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIGxpc3RpbmcoYXJyYXkgJGVsZW1lbnRzKQp7CiR0aGlzLT5hdXRvUHJlcGVuZFRleHQoKTsKJGVsZW1lbnRzID0gYXJyYXlfbWFwKGZ1bmN0aW9uICgkZWxlbWVudCkgewpyZXR1cm4gc3ByaW50ZignICogJXMnLCAkZWxlbWVudCk7Cn0sICRlbGVtZW50cyk7CgokdGhpcy0+d3JpdGVsbigkZWxlbWVudHMpOwokdGhpcy0+bmV3TGluZSgpOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gdGV4dCgkbWVzc2FnZSkKewokdGhpcy0+YXV0b1ByZXBlbmRUZXh0KCk7CgokbWVzc2FnZXMgPSBcaXNfYXJyYXkoJG1lc3NhZ2UpID8gYXJyYXlfdmFsdWVzKCRtZXNzYWdlKSA6IGFycmF5KCRtZXNzYWdlKTsKZm9yZWFjaCAoJG1lc3NhZ2VzIGFzICRtZXNzYWdlKSB7CiR0aGlzLT53cml0ZWxuKHNwcmludGYoJyAlcycsICRtZXNzYWdlKSk7Cn0KfQoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gY29tbWVudCgkbWVzc2FnZSkKewokbWVzc2FnZXMgPSBcaXNfYXJyYXkoJG1lc3NhZ2UpID8gYXJyYXlfdmFsdWVzKCRtZXNzYWdlKSA6IGFycmF5KCRtZXNzYWdlKTsKCiR0aGlzLT5hdXRvUHJlcGVuZEJsb2NrKCk7CiR0aGlzLT53cml0ZWxuKCR0aGlzLT5jcmVhdGVCbG9jaygkbWVzc2FnZXMsIG51bGwsIG51bGwsICc8Zmc9ZGVmYXVsdDtiZz1kZWZhdWx0PiAvLyA8Lz4nKSk7CiR0aGlzLT5uZXdMaW5lKCk7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBzdWNjZXNzKCRtZXNzYWdlKQp7CiR0aGlzLT5ibG9jaygkbWVzc2FnZSwgJ09LJywgJ2ZnPWJsYWNrO2JnPWdyZWVuJywgJyAnLCB0cnVlKTsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIGVycm9yKCRtZXNzYWdlKQp7CiR0aGlzLT5ibG9jaygkbWVzc2FnZSwgJ0VSUk9SJywgJ2ZnPXdoaXRlO2JnPXJlZCcsICcgJywgdHJ1ZSk7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiB3YXJuaW5nKCRtZXNzYWdlKQp7CiR0aGlzLT5ibG9jaygkbWVzc2FnZSwgJ1dBUk5JTkcnLCAnZmc9d2hpdGU7Ymc9cmVkJywgJyAnLCB0cnVlKTsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIG5vdGUoJG1lc3NhZ2UpCnsKJHRoaXMtPmJsb2NrKCRtZXNzYWdlLCAnTk9URScsICdmZz15ZWxsb3cnLCAnICEgJyk7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBjYXV0aW9uKCRtZXNzYWdlKQp7CiR0aGlzLT5ibG9jaygkbWVzc2FnZSwgJ0NBVVRJT04nLCAnZmc9d2hpdGU7Ymc9cmVkJywgJyAhICcsIHRydWUpOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gdGFibGUoYXJyYXkgJGhlYWRlcnMsIGFycmF5ICRyb3dzKQp7CiRzdHlsZSA9IGNsb25lIFRhYmxlOjpnZXRTdHlsZURlZmluaXRpb24oJ3N5bWZvbnktc3R5bGUtZ3VpZGUnKTsKJHN0eWxlLT5zZXRDZWxsSGVhZGVyRm9ybWF0KCc8aW5mbz4lczwvaW5mbz4nKTsKCiR0YWJsZSA9IG5ldyBUYWJsZSgkdGhpcyk7CiR0YWJsZS0+c2V0SGVhZGVycygkaGVhZGVycyk7CiR0YWJsZS0+c2V0Um93cygkcm93cyk7CiR0YWJsZS0+c2V0U3R5bGUoJHN0eWxlKTsKCiR0YWJsZS0+cmVuZGVyKCk7CiR0aGlzLT5uZXdMaW5lKCk7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBhc2soJHF1ZXN0aW9uLCAkZGVmYXVsdCA9IG51bGwsICR2YWxpZGF0b3IgPSBudWxsKQp7CiRxdWVzdGlvbiA9IG5ldyBRdWVzdGlvbigkcXVlc3Rpb24sICRkZWZhdWx0KTsKJHF1ZXN0aW9uLT5zZXRWYWxpZGF0b3IoJHZhbGlkYXRvcik7CgpyZXR1cm4gJHRoaXMtPmFza1F1ZXN0aW9uKCRxdWVzdGlvbik7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBhc2tIaWRkZW4oJHF1ZXN0aW9uLCAkdmFsaWRhdG9yID0gbnVsbCkKewokcXVlc3Rpb24gPSBuZXcgUXVlc3Rpb24oJHF1ZXN0aW9uKTsKCiRxdWVzdGlvbi0+c2V0SGlkZGVuKHRydWUpOwokcXVlc3Rpb24tPnNldFZhbGlkYXRvcigkdmFsaWRhdG9yKTsKCnJldHVybiAkdGhpcy0+YXNrUXVlc3Rpb24oJHF1ZXN0aW9uKTsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIGNvbmZpcm0oJHF1ZXN0aW9uLCAkZGVmYXVsdCA9IHRydWUpCnsKcmV0dXJuICR0aGlzLT5hc2tRdWVzdGlvbihuZXcgQ29uZmlybWF0aW9uUXVlc3Rpb24oJHF1ZXN0aW9uLCAkZGVmYXVsdCkpOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gY2hvaWNlKCRxdWVzdGlvbiwgYXJyYXkgJGNob2ljZXMsICRkZWZhdWx0ID0gbnVsbCkKewppZiAobnVsbCAhPT0gJGRlZmF1bHQpIHsKJHZhbHVlcyA9IGFycmF5X2ZsaXAoJGNob2ljZXMpOwokZGVmYXVsdCA9ICR2YWx1ZXNbJGRlZmF1bHRdOwp9CgpyZXR1cm4gJHRoaXMtPmFza1F1ZXN0aW9uKG5ldyBDaG9pY2VRdWVzdGlvbigkcXVlc3Rpb24sICRjaG9pY2VzLCAkZGVmYXVsdCkpOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gcHJvZ3Jlc3NTdGFydCgkbWF4ID0gMCkKewokdGhpcy0+cHJvZ3Jlc3NCYXIgPSAkdGhpcy0+Y3JlYXRlUHJvZ3Jlc3NCYXIoJG1heCk7CiR0aGlzLT5wcm9ncmVzc0Jhci0+c3RhcnQoKTsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIHByb2dyZXNzQWR2YW5jZSgkc3RlcCA9IDEpCnsKJHRoaXMtPmdldFByb2dyZXNzQmFyKCktPmFkdmFuY2UoJHN0ZXApOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gcHJvZ3Jlc3NGaW5pc2goKQp7CiR0aGlzLT5nZXRQcm9ncmVzc0JhcigpLT5maW5pc2goKTsKJHRoaXMtPm5ld0xpbmUoMik7CiR0aGlzLT5wcm9ncmVzc0JhciA9IG51bGw7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBjcmVhdGVQcm9ncmVzc0JhcigkbWF4ID0gMCkKewokcHJvZ3Jlc3NCYXIgPSBwYXJlbnQ6OmNyZWF0ZVByb2dyZXNzQmFyKCRtYXgpOwoKaWYgKCdcXCcgIT09IFxESVJFQ1RPUllfU0VQQVJBVE9SIHx8ICdIeXBlcicgPT09IGdldGVudignVEVSTV9QUk9HUkFNJykpIHsKJHByb2dyZXNzQmFyLT5zZXRFbXB0eUJhckNoYXJhY3Rlcign4paRJyk7IAokcHJvZ3Jlc3NCYXItPnNldFByb2dyZXNzQ2hhcmFjdGVyKCcnKTsKJHByb2dyZXNzQmFyLT5zZXRCYXJDaGFyYWN0ZXIoJ+KWkycpOyAKfQoKcmV0dXJuICRwcm9ncmVzc0JhcjsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIGFza1F1ZXN0aW9uKFF1ZXN0aW9uICRxdWVzdGlvbikKewppZiAoJHRoaXMtPmlucHV0LT5pc0ludGVyYWN0aXZlKCkpIHsKJHRoaXMtPmF1dG9QcmVwZW5kQmxvY2soKTsKfQoKaWYgKCEkdGhpcy0+cXVlc3Rpb25IZWxwZXIpIHsKJHRoaXMtPnF1ZXN0aW9uSGVscGVyID0gbmV3IFN5bWZvbnlRdWVzdGlvbkhlbHBlcigpOwp9CgokYW5zd2VyID0gJHRoaXMtPnF1ZXN0aW9uSGVscGVyLT5hc2soJHRoaXMtPmlucHV0LCAkdGhpcywgJHF1ZXN0aW9uKTsKCmlmICgkdGhpcy0+aW5wdXQtPmlzSW50ZXJhY3RpdmUoKSkgewokdGhpcy0+bmV3TGluZSgpOwokdGhpcy0+YnVmZmVyZWRPdXRwdXQtPndyaXRlKCJcbiIpOwp9CgpyZXR1cm4gJGFuc3dlcjsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIHdyaXRlbG4oJG1lc3NhZ2VzLCAkdHlwZSA9IHNlbGY6Ok9VVFBVVF9OT1JNQUwpCnsKcGFyZW50Ojp3cml0ZWxuKCRtZXNzYWdlcywgJHR5cGUpOwokdGhpcy0+YnVmZmVyZWRPdXRwdXQtPndyaXRlbG4oJHRoaXMtPnJlZHVjZUJ1ZmZlcigkbWVzc2FnZXMpLCAkdHlwZSk7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiB3cml0ZSgkbWVzc2FnZXMsICRuZXdsaW5lID0gZmFsc2UsICR0eXBlID0gc2VsZjo6T1VUUFVUX05PUk1BTCkKewpwYXJlbnQ6OndyaXRlKCRtZXNzYWdlcywgJG5ld2xpbmUsICR0eXBlKTsKJHRoaXMtPmJ1ZmZlcmVkT3V0cHV0LT53cml0ZSgkdGhpcy0+cmVkdWNlQnVmZmVyKCRtZXNzYWdlcyksICRuZXdsaW5lLCAkdHlwZSk7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBuZXdMaW5lKCRjb3VudCA9IDEpCnsKcGFyZW50OjpuZXdMaW5lKCRjb3VudCk7CiR0aGlzLT5idWZmZXJlZE91dHB1dC0+d3JpdGUoc3RyX3JlcGVhdCgiXG4iLCAkY291bnQpKTsKfQoKCgoKcHJpdmF0ZSBmdW5jdGlvbiBnZXRQcm9ncmVzc0JhcigpCnsKaWYgKCEkdGhpcy0+cHJvZ3Jlc3NCYXIpIHsKdGhyb3cgbmV3IFJ1bnRpbWVFeGNlcHRpb24oJ1RoZSBQcm9ncmVzc0JhciBpcyBub3Qgc3RhcnRlZC4nKTsKfQoKcmV0dXJuICR0aGlzLT5wcm9ncmVzc0JhcjsKfQoKcHJpdmF0ZSBmdW5jdGlvbiBnZXRUZXJtaW5hbFdpZHRoKCkKewokYXBwbGljYXRpb24gPSBuZXcgQXBwbGljYXRpb24oKTsKJGRpbWVuc2lvbnMgPSAkYXBwbGljYXRpb24tPmdldFRlcm1pbmFsRGltZW5zaW9ucygpOwoKcmV0dXJuICRkaW1lbnNpb25zWzBdID86IHNlbGY6Ok1BWF9MSU5FX0xFTkdUSDsKfQoKcHJpdmF0ZSBmdW5jdGlvbiBhdXRvUHJlcGVuZEJsb2NrKCkKewokY2hhcnMgPSBzdWJzdHIoc3RyX3JlcGxhY2UoUEhQX0VPTCwgIlxuIiwgJHRoaXMtPmJ1ZmZlcmVkT3V0cHV0LT5mZXRjaCgpKSwgLTIpOwoKaWYgKCFpc3NldCgkY2hhcnNbMF0pKSB7CnJldHVybiAkdGhpcy0+bmV3TGluZSgpOyAKfQoKJHRoaXMtPm5ld0xpbmUoMiAtIHN1YnN0cl9jb3VudCgkY2hhcnMsICJcbiIpKTsKfQoKcHJpdmF0ZSBmdW5jdGlvbiBhdXRvUHJlcGVuZFRleHQoKQp7CiRmZXRjaGVkID0gJHRoaXMtPmJ1ZmZlcmVkT3V0cHV0LT5mZXRjaCgpOwoKaWYgKCJcbiIgIT09IHN1YnN0cigkZmV0Y2hlZCwgLTEpKSB7CiR0aGlzLT5uZXdMaW5lKCk7Cn0KfQoKcHJpdmF0ZSBmdW5jdGlvbiByZWR1Y2VCdWZmZXIoJG1lc3NhZ2VzKQp7CgoKcmV0dXJuIGFycmF5X21hcChmdW5jdGlvbiAoJHZhbHVlKSB7CnJldHVybiBzdWJzdHIoJHZhbHVlLCAtNCk7Cn0sIGFycmF5X21lcmdlKGFycmF5KCR0aGlzLT5idWZmZXJlZE91dHB1dC0+ZmV0Y2goKSksIChhcnJheSkgJG1lc3NhZ2VzKSk7Cn0KCnByaXZhdGUgZnVuY3Rpb24gY3JlYXRlQmxvY2soJG1lc3NhZ2VzLCAkdHlwZSA9IG51bGwsICRzdHlsZSA9IG51bGwsICRwcmVmaXggPSAnICcsICRwYWRkaW5nID0gZmFsc2UsICRlc2NhcGUgPSBmYWxzZSkKewokaW5kZW50TGVuZ3RoID0gMDsKJHByZWZpeExlbmd0aCA9IEhlbHBlcjo6c3RybGVuV2l0aG91dERlY29yYXRpb24oJHRoaXMtPmdldEZvcm1hdHRlcigpLCAkcHJlZml4KTsKJGxpbmVzID0gYXJyYXkoKTsKCmlmIChudWxsICE9PSAkdHlwZSkgewokdHlwZSA9IHNwcmludGYoJ1slc10gJywgJHR5cGUpOwokaW5kZW50TGVuZ3RoID0gXHN0cmxlbigkdHlwZSk7CiRsaW5lSW5kZW50YXRpb24gPSBzdHJfcmVwZWF0KCcgJywgJGluZGVudExlbmd0aCk7Cn0KCgpmb3JlYWNoICgkbWVzc2FnZXMgYXMgJGtleSA9PiAkbWVzc2FnZSkgewppZiAoJGVzY2FwZSkgewokbWVzc2FnZSA9IE91dHB1dEZvcm1hdHRlcjo6ZXNjYXBlKCRtZXNzYWdlKTsKfQoKJGxpbmVzID0gYXJyYXlfbWVyZ2UoJGxpbmVzLCBleHBsb2RlKFBIUF9FT0wsIHdvcmR3cmFwKCRtZXNzYWdlLCAkdGhpcy0+bGluZUxlbmd0aCAtICRwcmVmaXhMZW5ndGggLSAkaW5kZW50TGVuZ3RoLCBQSFBfRU9MLCB0cnVlKSkpOwoKaWYgKFxjb3VudCgkbWVzc2FnZXMpID4gMSAmJiAka2V5IDwgXGNvdW50KCRtZXNzYWdlcykgLSAxKSB7CiRsaW5lc1tdID0gJyc7Cn0KfQoKJGZpcnN0TGluZUluZGV4ID0gMDsKaWYgKCRwYWRkaW5nICYmICR0aGlzLT5pc0RlY29yYXRlZCgpKSB7CiRmaXJzdExpbmVJbmRleCA9IDE7CmFycmF5X3Vuc2hpZnQoJGxpbmVzLCAnJyk7CiRsaW5lc1tdID0gJyc7Cn0KCmZvcmVhY2ggKCRsaW5lcyBhcyAkaSA9PiAmJGxpbmUpIHsKaWYgKG51bGwgIT09ICR0eXBlKSB7CiRsaW5lID0gJGZpcnN0TGluZUluZGV4ID09PSAkaSA/ICR0eXBlLiRsaW5lIDogJGxpbmVJbmRlbnRhdGlvbi4kbGluZTsKfQoKJGxpbmUgPSAkcHJlZml4LiRsaW5lOwokbGluZSAuPSBzdHJfcmVwZWF0KCcgJywgJHRoaXMtPmxpbmVMZW5ndGggLSBIZWxwZXI6OnN0cmxlbldpdGhvdXREZWNvcmF0aW9uKCR0aGlzLT5nZXRGb3JtYXR0ZXIoKSwgJGxpbmUpKTsKCmlmICgkc3R5bGUpIHsKJGxpbmUgPSBzcHJpbnRmKCc8JXM+JXM8Lz4nLCAkc3R5bGUsICRsaW5lKTsKfQp9CgpyZXR1cm4gJGxpbmVzOwp9Cn0KPD9waHAKCgoKCgoKCgoKCm5hbWVzcGFjZSBTeW1mb255XENvbXBvbmVudFxDb25zb2xlXFRlc3RlcjsKCnVzZSBTeW1mb255XENvbXBvbmVudFxDb25zb2xlXEFwcGxpY2F0aW9uOwp1c2UgU3ltZm9ueVxDb21wb25lbnRcQ29uc29sZVxJbnB1dFxBcnJheUlucHV0Owp1c2UgU3ltZm9ueVxDb21wb25lbnRcQ29uc29sZVxJbnB1dFxJbnB1dEludGVyZmFjZTsKdXNlIFN5bWZvbnlcQ29tcG9uZW50XENvbnNvbGVcT3V0cHV0XE91dHB1dEludGVyZmFjZTsKdXNlIFN5bWZvbnlcQ29tcG9uZW50XENvbnNvbGVcT3V0cHV0XFN0cmVhbU91dHB1dDsKCgoKCgoKCgoKCgpjbGFzcyBBcHBsaWNhdGlvblRlc3Rlcgp7CnByaXZhdGUgJGFwcGxpY2F0aW9uOwpwcml2YXRlICRpbnB1dDsKcHJpdmF0ZSAkb3V0cHV0Owpwcml2YXRlICRzdGF0dXNDb2RlOwoKcHVibGljIGZ1bmN0aW9uIF9fY29uc3RydWN0KEFwcGxpY2F0aW9uICRhcHBsaWNhdGlvbikKewokdGhpcy0+YXBwbGljYXRpb24gPSAkYXBwbGljYXRpb247Cn0KCgoKCgoKCgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIHJ1bihhcnJheSAkaW5wdXQsICRvcHRpb25zID0gYXJyYXkoKSkKewokdGhpcy0+aW5wdXQgPSBuZXcgQXJyYXlJbnB1dCgkaW5wdXQpOwppZiAoaXNzZXQoJG9wdGlvbnNbJ2ludGVyYWN0aXZlJ10pKSB7CiR0aGlzLT5pbnB1dC0+c2V0SW50ZXJhY3RpdmUoJG9wdGlvbnNbJ2ludGVyYWN0aXZlJ10pOwp9CgokdGhpcy0+b3V0cHV0ID0gbmV3IFN0cmVhbU91dHB1dChmb3BlbigncGhwOi8vbWVtb3J5JywgJ3cnLCBmYWxzZSkpOwppZiAoaXNzZXQoJG9wdGlvbnNbJ2RlY29yYXRlZCddKSkgewokdGhpcy0+b3V0cHV0LT5zZXREZWNvcmF0ZWQoJG9wdGlvbnNbJ2RlY29yYXRlZCddKTsKfQppZiAoaXNzZXQoJG9wdGlvbnNbJ3ZlcmJvc2l0eSddKSkgewokdGhpcy0+b3V0cHV0LT5zZXRWZXJib3NpdHkoJG9wdGlvbnNbJ3ZlcmJvc2l0eSddKTsKfQoKcmV0dXJuICR0aGlzLT5zdGF0dXNDb2RlID0gJHRoaXMtPmFwcGxpY2F0aW9uLT5ydW4oJHRoaXMtPmlucHV0LCAkdGhpcy0+b3V0cHV0KTsKfQoKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBnZXREaXNwbGF5KCRub3JtYWxpemUgPSBmYWxzZSkKewpyZXdpbmQoJHRoaXMtPm91dHB1dC0+Z2V0U3RyZWFtKCkpOwoKJGRpc3BsYXkgPSBzdHJlYW1fZ2V0X2NvbnRlbnRzKCR0aGlzLT5vdXRwdXQtPmdldFN0cmVhbSgpKTsKCmlmICgkbm9ybWFsaXplKSB7CiRkaXNwbGF5ID0gc3RyX3JlcGxhY2UoUEhQX0VPTCwgIlxuIiwgJGRpc3BsYXkpOwp9CgpyZXR1cm4gJGRpc3BsYXk7Cn0KCgoKCgoKcHVibGljIGZ1bmN0aW9uIGdldElucHV0KCkKewpyZXR1cm4gJHRoaXMtPmlucHV0Owp9CgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBnZXRPdXRwdXQoKQp7CnJldHVybiAkdGhpcy0+b3V0cHV0Owp9CgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBnZXRTdGF0dXNDb2RlKCkKewpyZXR1cm4gJHRoaXMtPnN0YXR1c0NvZGU7Cn0KfQo8P3BocAoKCgoKCgoKCgoKbmFtZXNwYWNlIFN5bWZvbnlcQ29tcG9uZW50XENvbnNvbGVcVGVzdGVyOwoKdXNlIFN5bWZvbnlcQ29tcG9uZW50XENvbnNvbGVcQ29tbWFuZFxDb21tYW5kOwp1c2UgU3ltZm9ueVxDb21wb25lbnRcQ29uc29sZVxJbnB1dFxBcnJheUlucHV0Owp1c2UgU3ltZm9ueVxDb21wb25lbnRcQ29uc29sZVxJbnB1dFxJbnB1dEludGVyZmFjZTsKdXNlIFN5bWZvbnlcQ29tcG9uZW50XENvbnNvbGVcT3V0cHV0XE91dHB1dEludGVyZmFjZTsKdXNlIFN5bWZvbnlcQ29tcG9uZW50XENvbnNvbGVcT3V0cHV0XFN0cmVhbU91dHB1dDsKCgoKCgoKY2xhc3MgQ29tbWFuZFRlc3Rlcgp7CnByaXZhdGUgJGNvbW1hbmQ7CnByaXZhdGUgJGlucHV0Owpwcml2YXRlICRvdXRwdXQ7CnByaXZhdGUgJHN0YXR1c0NvZGU7CgpwdWJsaWMgZnVuY3Rpb24gX19jb25zdHJ1Y3QoQ29tbWFuZCAkY29tbWFuZCkKewokdGhpcy0+Y29tbWFuZCA9ICRjb21tYW5kOwp9CgoKCgoKCgoKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBleGVjdXRlKGFycmF5ICRpbnB1dCwgYXJyYXkgJG9wdGlvbnMgPSBhcnJheSgpKQp7CgoKaWYgKCFpc3NldCgkaW5wdXRbJ2NvbW1hbmQnXSkKJiYgKG51bGwgIT09ICRhcHBsaWNhdGlvbiA9ICR0aGlzLT5jb21tYW5kLT5nZXRBcHBsaWNhdGlvbigpKQomJiAkYXBwbGljYXRpb24tPmdldERlZmluaXRpb24oKS0+aGFzQXJndW1lbnQoJ2NvbW1hbmQnKQopIHsKJGlucHV0ID0gYXJyYXlfbWVyZ2UoYXJyYXkoJ2NvbW1hbmQnID0+ICR0aGlzLT5jb21tYW5kLT5nZXROYW1lKCkpLCAkaW5wdXQpOwp9CgokdGhpcy0+aW5wdXQgPSBuZXcgQXJyYXlJbnB1dCgkaW5wdXQpOwppZiAoaXNzZXQoJG9wdGlvbnNbJ2ludGVyYWN0aXZlJ10pKSB7CiR0aGlzLT5pbnB1dC0+c2V0SW50ZXJhY3RpdmUoJG9wdGlvbnNbJ2ludGVyYWN0aXZlJ10pOwp9CgokdGhpcy0+b3V0cHV0ID0gbmV3IFN0cmVhbU91dHB1dChmb3BlbigncGhwOi8vbWVtb3J5JywgJ3cnLCBmYWxzZSkpOwokdGhpcy0+b3V0cHV0LT5zZXREZWNvcmF0ZWQoaXNzZXQoJG9wdGlvbnNbJ2RlY29yYXRlZCddKSA/ICRvcHRpb25zWydkZWNvcmF0ZWQnXSA6IGZhbHNlKTsKaWYgKGlzc2V0KCRvcHRpb25zWyd2ZXJib3NpdHknXSkpIHsKJHRoaXMtPm91dHB1dC0+c2V0VmVyYm9zaXR5KCRvcHRpb25zWyd2ZXJib3NpdHknXSk7Cn0KCnJldHVybiAkdGhpcy0+c3RhdHVzQ29kZSA9ICR0aGlzLT5jb21tYW5kLT5ydW4oJHRoaXMtPmlucHV0LCAkdGhpcy0+b3V0cHV0KTsKfQoKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBnZXREaXNwbGF5KCRub3JtYWxpemUgPSBmYWxzZSkKewpyZXdpbmQoJHRoaXMtPm91dHB1dC0+Z2V0U3RyZWFtKCkpOwoKJGRpc3BsYXkgPSBzdHJlYW1fZ2V0X2NvbnRlbnRzKCR0aGlzLT5vdXRwdXQtPmdldFN0cmVhbSgpKTsKCmlmICgkbm9ybWFsaXplKSB7CiRkaXNwbGF5ID0gc3RyX3JlcGxhY2UoUEhQX0VPTCwgIlxuIiwgJGRpc3BsYXkpOwp9CgpyZXR1cm4gJGRpc3BsYXk7Cn0KCgoKCgoKcHVibGljIGZ1bmN0aW9uIGdldElucHV0KCkKewpyZXR1cm4gJHRoaXMtPmlucHV0Owp9CgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBnZXRPdXRwdXQoKQp7CnJldHVybiAkdGhpcy0+b3V0cHV0Owp9CgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBnZXRTdGF0dXNDb2RlKCkKewpyZXR1cm4gJHRoaXMtPnN0YXR1c0NvZGU7Cn0KfQo8P3BocAoKCgoKCgoKCgoKbmFtZXNwYWNlIFN5bWZvbnlcQ29tcG9uZW50XERlYnVnOwoKdXNlIFBzclxMb2dcQWJzdHJhY3RMb2dnZXI7CgoKCgoKCmNsYXNzIEJ1ZmZlcmluZ0xvZ2dlciBleHRlbmRzIEFic3RyYWN0TG9nZ2VyCnsKcHJpdmF0ZSAkbG9ncyA9IGFycmF5KCk7CgpwdWJsaWMgZnVuY3Rpb24gbG9nKCRsZXZlbCwgJG1lc3NhZ2UsIGFycmF5ICRjb250ZXh0ID0gYXJyYXkoKSkKewokdGhpcy0+bG9nc1tdID0gYXJyYXkoJGxldmVsLCAkbWVzc2FnZSwgJGNvbnRleHQpOwp9CgpwdWJsaWMgZnVuY3Rpb24gY2xlYW5Mb2dzKCkKewokbG9ncyA9ICR0aGlzLT5sb2dzOwokdGhpcy0+bG9ncyA9IGFycmF5KCk7CgpyZXR1cm4gJGxvZ3M7Cn0KfQo8P3BocAoKCgoKCgoKCgoKbmFtZXNwYWNlIFN5bWZvbnlcQ29tcG9uZW50XERlYnVnOwoKCgoKCgpjbGFzcyBEZWJ1Zwp7CnByaXZhdGUgc3RhdGljICRlbmFibGVkID0gZmFsc2U7CgoKCgoKCgoKCnB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gZW5hYmxlKCRlcnJvclJlcG9ydGluZ0xldmVsID0gbnVsbCwgJGRpc3BsYXlFcnJvcnMgPSB0cnVlKQp7CmlmIChzdGF0aWM6OiRlbmFibGVkKSB7CnJldHVybjsKfQoKc3RhdGljOjokZW5hYmxlZCA9IHRydWU7CgppZiAobnVsbCAhPT0gJGVycm9yUmVwb3J0aW5nTGV2ZWwpIHsKZXJyb3JfcmVwb3J0aW5nKCRlcnJvclJlcG9ydGluZ0xldmVsKTsKfSBlbHNlIHsKZXJyb3JfcmVwb3J0aW5nKC0xKTsKfQoKaWYgKCFcaW5fYXJyYXkoXFBIUF9TQVBJLCBhcnJheSgnY2xpJywgJ3BocGRiZycpLCB0cnVlKSkgewppbmlfc2V0KCdkaXNwbGF5X2Vycm9ycycsIDApOwpFeGNlcHRpb25IYW5kbGVyOjpyZWdpc3RlcigpOwp9IGVsc2VpZiAoJGRpc3BsYXlFcnJvcnMgJiYgKCFmaWx0ZXJfdmFyKGluaV9nZXQoJ2xvZ19lcnJvcnMnKSwgRklMVEVSX1ZBTElEQVRFX0JPT0xFQU4pIHx8IGluaV9nZXQoJ2Vycm9yX2xvZycpKSkgewoKaW5pX3NldCgnZGlzcGxheV9lcnJvcnMnLCAxKTsKfQppZiAoJGRpc3BsYXlFcnJvcnMpIHsKRXJyb3JIYW5kbGVyOjpyZWdpc3RlcihuZXcgRXJyb3JIYW5kbGVyKG5ldyBCdWZmZXJpbmdMb2dnZXIoKSkpOwp9IGVsc2UgewpFcnJvckhhbmRsZXI6OnJlZ2lzdGVyKCktPnRocm93QXQoMCwgdHJ1ZSk7Cn0KCkRlYnVnQ2xhc3NMb2FkZXI6OmVuYWJsZSgpOwp9Cn0KPD9waHAKCgoKCgoKCgoKCm5hbWVzcGFjZSBTeW1mb255XENvbXBvbmVudFxEZWJ1ZzsKCgoKCgoKCgoKCgoKY2xhc3MgRGVidWdDbGFzc0xvYWRlcgp7CnByaXZhdGUgJGNsYXNzTG9hZGVyOwpwcml2YXRlICRpc0ZpbmRlcjsKcHJpdmF0ZSAkbG9hZGVkID0gYXJyYXkoKTsKcHJpdmF0ZSAkd2FzRmluZGVyOwpwcml2YXRlIHN0YXRpYyAkY2FzZUNoZWNrOwpwcml2YXRlIHN0YXRpYyAkZGVwcmVjYXRlZCA9IGFycmF5KCk7CnByaXZhdGUgc3RhdGljICRwaHA3UmVzZXJ2ZWQgPSBhcnJheSgnaW50JywgJ2Zsb2F0JywgJ2Jvb2wnLCAnc3RyaW5nJywgJ3RydWUnLCAnZmFsc2UnLCAnbnVsbCcpOwpwcml2YXRlIHN0YXRpYyAkZGFyd2luQ2FjaGUgPSBhcnJheSgnLycgPT4gYXJyYXkoJy8nLCBhcnJheSgpKSk7CgoKCgpwdWJsaWMgZnVuY3Rpb24gX19jb25zdHJ1Y3QoJGNsYXNzTG9hZGVyKQp7CiR0aGlzLT53YXNGaW5kZXIgPSBcaXNfb2JqZWN0KCRjbGFzc0xvYWRlcikgJiYgbWV0aG9kX2V4aXN0cygkY2xhc3NMb2FkZXIsICdmaW5kRmlsZScpOwoKaWYgKCR0aGlzLT53YXNGaW5kZXIpIHsKQHRyaWdnZXJfZXJyb3IoJ1RoZSAnLl9fTUVUSE9EX18uJyBtZXRob2Qgd2lsbCBubyBsb25nZXIgc3VwcG9ydCByZWNlaXZpbmcgYW4gb2JqZWN0IGludG8gaXRzICRjbGFzc0xvYWRlciBhcmd1bWVudCBpbiAzLjAuJywgRV9VU0VSX0RFUFJFQ0FURUQpOwokdGhpcy0+Y2xhc3NMb2FkZXIgPSBhcnJheSgkY2xhc3NMb2FkZXIsICdsb2FkQ2xhc3MnKTsKJHRoaXMtPmlzRmluZGVyID0gdHJ1ZTsKfSBlbHNlIHsKJHRoaXMtPmNsYXNzTG9hZGVyID0gJGNsYXNzTG9hZGVyOwokdGhpcy0+aXNGaW5kZXIgPSBcaXNfYXJyYXkoJGNsYXNzTG9hZGVyKSAmJiBtZXRob2RfZXhpc3RzKCRjbGFzc0xvYWRlclswXSwgJ2ZpbmRGaWxlJyk7Cn0KCmlmICghaXNzZXQoc2VsZjo6JGNhc2VDaGVjaykpIHsKJGZpbGUgPSBmaWxlX2V4aXN0cyhfX0ZJTEVfXykgPyBfX0ZJTEVfXyA6IHJ0cmltKHJlYWxwYXRoKCcuJyksIFxESVJFQ1RPUllfU0VQQVJBVE9SKTsKJGkgPSBzdHJycG9zKCRmaWxlLCBcRElSRUNUT1JZX1NFUEFSQVRPUik7CiRkaXIgPSBzdWJzdHIoJGZpbGUsIDAsIDEgKyAkaSk7CiRmaWxlID0gc3Vic3RyKCRmaWxlLCAxICsgJGkpOwokdGVzdCA9IHN0cnRvdXBwZXIoJGZpbGUpID09PSAkZmlsZSA/IHN0cnRvbG93ZXIoJGZpbGUpIDogc3RydG91cHBlcigkZmlsZSk7CiR0ZXN0ID0gcmVhbHBhdGgoJGRpci4kdGVzdCk7CgppZiAoZmFsc2UgPT09ICR0ZXN0IHx8IGZhbHNlID09PSAkaSkgewoKc2VsZjo6JGNhc2VDaGVjayA9IDA7Cn0gZWxzZWlmIChzdWJzdHIoJHRlc3QsIC1cc3RybGVuKCRmaWxlKSkgPT09ICRmaWxlKSB7CgpzZWxmOjokY2FzZUNoZWNrID0gMTsKfSBlbHNlaWYgKGZhbHNlICE9PSBzdHJpcG9zKFBIUF9PUywgJ2RhcndpbicpKSB7CgpzZWxmOjokY2FzZUNoZWNrID0gMjsKfSBlbHNlIHsKCnNlbGY6OiRjYXNlQ2hlY2sgPSAwOwp9Cn0KfQoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0Q2xhc3NMb2FkZXIoKQp7CnJldHVybiAkdGhpcy0+d2FzRmluZGVyID8gJHRoaXMtPmNsYXNzTG9hZGVyWzBdIDogJHRoaXMtPmNsYXNzTG9hZGVyOwp9CgoKCgpwdWJsaWMgc3RhdGljIGZ1bmN0aW9uIGVuYWJsZSgpCnsKCmNsYXNzX2V4aXN0cygnU3ltZm9ueVxDb21wb25lbnRcRGVidWdcRXJyb3JIYW5kbGVyJyk7CmNsYXNzX2V4aXN0cygnUHNyXExvZ1xMb2dMZXZlbCcpOwoKaWYgKCFcaXNfYXJyYXkoJGZ1bmN0aW9ucyA9IHNwbF9hdXRvbG9hZF9mdW5jdGlvbnMoKSkpIHsKcmV0dXJuOwp9Cgpmb3JlYWNoICgkZnVuY3Rpb25zIGFzICRmdW5jdGlvbikgewpzcGxfYXV0b2xvYWRfdW5yZWdpc3RlcigkZnVuY3Rpb24pOwp9Cgpmb3JlYWNoICgkZnVuY3Rpb25zIGFzICRmdW5jdGlvbikgewppZiAoIVxpc19hcnJheSgkZnVuY3Rpb24pIHx8ICEkZnVuY3Rpb25bMF0gaW5zdGFuY2VvZiBzZWxmKSB7CiRmdW5jdGlvbiA9IGFycmF5KG5ldyBzdGF0aWMoJGZ1bmN0aW9uKSwgJ2xvYWRDbGFzcycpOwp9CgpzcGxfYXV0b2xvYWRfcmVnaXN0ZXIoJGZ1bmN0aW9uKTsKfQp9CgoKCgpwdWJsaWMgc3RhdGljIGZ1bmN0aW9uIGRpc2FibGUoKQp7CmlmICghXGlzX2FycmF5KCRmdW5jdGlvbnMgPSBzcGxfYXV0b2xvYWRfZnVuY3Rpb25zKCkpKSB7CnJldHVybjsKfQoKZm9yZWFjaCAoJGZ1bmN0aW9ucyBhcyAkZnVuY3Rpb24pIHsKc3BsX2F1dG9sb2FkX3VucmVnaXN0ZXIoJGZ1bmN0aW9uKTsKfQoKZm9yZWFjaCAoJGZ1bmN0aW9ucyBhcyAkZnVuY3Rpb24pIHsKaWYgKFxpc19hcnJheSgkZnVuY3Rpb24pICYmICRmdW5jdGlvblswXSBpbnN0YW5jZW9mIHNlbGYpIHsKJGZ1bmN0aW9uID0gJGZ1bmN0aW9uWzBdLT5nZXRDbGFzc0xvYWRlcigpOwp9CgpzcGxfYXV0b2xvYWRfcmVnaXN0ZXIoJGZ1bmN0aW9uKTsKfQp9CgoKCgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gZmluZEZpbGUoJGNsYXNzKQp7CkB0cmlnZ2VyX2Vycm9yKCdUaGUgJy5fX01FVEhPRF9fLicgbWV0aG9kIGlzIGRlcHJlY2F0ZWQgc2luY2UgU3ltZm9ueSAyLjUgYW5kIHdpbGwgYmUgcmVtb3ZlZCBpbiAzLjAuJywgRV9VU0VSX0RFUFJFQ0FURUQpOwoKaWYgKCR0aGlzLT53YXNGaW5kZXIpIHsKcmV0dXJuICR0aGlzLT5jbGFzc0xvYWRlclswXS0+ZmluZEZpbGUoJGNsYXNzKTsKfQp9CgoKCgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gbG9hZENsYXNzKCRjbGFzcykKewpFcnJvckhhbmRsZXI6OnN0YWNrRXJyb3JzKCk7Cgp0cnkgewppZiAoJHRoaXMtPmlzRmluZGVyICYmICFpc3NldCgkdGhpcy0+bG9hZGVkWyRjbGFzc10pKSB7CiR0aGlzLT5sb2FkZWRbJGNsYXNzXSA9IHRydWU7CmlmICgkZmlsZSA9ICR0aGlzLT5jbGFzc0xvYWRlclswXS0+ZmluZEZpbGUoJGNsYXNzKSkgewpyZXF1aXJlICRmaWxlOwp9Cn0gZWxzZSB7ClxjYWxsX3VzZXJfZnVuYygkdGhpcy0+Y2xhc3NMb2FkZXIsICRjbGFzcyk7CiRmaWxlID0gZmFsc2U7Cn0KfSBjYXRjaCAoXEV4Y2VwdGlvbiAkZSkgewpFcnJvckhhbmRsZXI6OnVuc3RhY2tFcnJvcnMoKTsKCnRocm93ICRlOwp9IGNhdGNoIChcVGhyb3dhYmxlICRlKSB7CkVycm9ySGFuZGxlcjo6dW5zdGFja0Vycm9ycygpOwoKdGhyb3cgJGU7Cn0KCkVycm9ySGFuZGxlcjo6dW5zdGFja0Vycm9ycygpOwoKJGV4aXN0cyA9IGNsYXNzX2V4aXN0cygkY2xhc3MsIGZhbHNlKSB8fCBpbnRlcmZhY2VfZXhpc3RzKCRjbGFzcywgZmFsc2UpIHx8IChcZnVuY3Rpb25fZXhpc3RzKCd0cmFpdF9leGlzdHMnKSAmJiB0cmFpdF9leGlzdHMoJGNsYXNzLCBmYWxzZSkpOwoKaWYgKCRjbGFzcyAmJiAnXFwnID09PSAkY2xhc3NbMF0pIHsKJGNsYXNzID0gc3Vic3RyKCRjbGFzcywgMSk7Cn0KCmlmICgkZXhpc3RzKSB7CiRyZWZsID0gbmV3IFxSZWZsZWN0aW9uQ2xhc3MoJGNsYXNzKTsKJG5hbWUgPSAkcmVmbC0+Z2V0TmFtZSgpOwoKaWYgKCRuYW1lICE9PSAkY2xhc3MgJiYgMCA9PT0gc3RyY2FzZWNtcCgkbmFtZSwgJGNsYXNzKSkgewp0aHJvdyBuZXcgXFJ1bnRpbWVFeGNlcHRpb24oc3ByaW50ZignQ2FzZSBtaXNtYXRjaCBiZXR3ZWVuIGxvYWRlZCBhbmQgZGVjbGFyZWQgY2xhc3MgbmFtZXM6ICVzIHZzICVzJywgJGNsYXNzLCAkbmFtZSkpOwp9CgppZiAoXGluX2FycmF5KHN0cnRvbG93ZXIoJHJlZmwtPmdldFNob3J0TmFtZSgpKSwgc2VsZjo6JHBocDdSZXNlcnZlZCkpIHsKQHRyaWdnZXJfZXJyb3Ioc3ByaW50ZignJXMgdXNlcyBhIHJlc2VydmVkIGNsYXNzIG5hbWUgKCVzKSB0aGF0IHdpbGwgYnJlYWsgb24gUEhQIDcgYW5kIGhpZ2hlcicsICRuYW1lLCAkcmVmbC0+Z2V0U2hvcnROYW1lKCkpLCBFX1VTRVJfREVQUkVDQVRFRCk7Cn0gZWxzZWlmIChwcmVnX21hdGNoKCcjXG4gXCogQGRlcHJlY2F0ZWQgKC4qPylccj9cbiBcKig/OiBAfC8kKSNzJywgJHJlZmwtPmdldERvY0NvbW1lbnQoKSwgJG5vdGljZSkpIHsKc2VsZjo6JGRlcHJlY2F0ZWRbJG5hbWVdID0gcHJlZ19yZXBsYWNlKCcjXHMqXHI/XG4gXCogKyMnLCAnICcsICRub3RpY2VbMV0pOwp9IGVsc2UgewppZiAoMiA+ICRsZW4gPSAxICsgKHN0cnBvcygkbmFtZSwgJ1xcJykgPzogc3RycG9zKCRuYW1lLCAnXycpKSkgewokbGVuID0gMDsKJG5zID0gJyc7Cn0gZWxzZSB7CiRucyA9IHN1YnN0cigkbmFtZSwgMCwgJGxlbik7Cn0KJHBhcmVudCA9IGdldF9wYXJlbnRfY2xhc3MoJGNsYXNzKTsKCmlmICghJHBhcmVudCB8fCBzdHJuY21wKCRucywgJHBhcmVudCwgJGxlbikpIHsKaWYgKCRwYXJlbnQgJiYgaXNzZXQoc2VsZjo6JGRlcHJlY2F0ZWRbJHBhcmVudF0pICYmIHN0cm5jbXAoJG5zLCAkcGFyZW50LCAkbGVuKSkgewpAdHJpZ2dlcl9lcnJvcihzcHJpbnRmKCdUaGUgJXMgY2xhc3MgZXh0ZW5kcyAlcyB0aGF0IGlzIGRlcHJlY2F0ZWQgJXMnLCAkbmFtZSwgJHBhcmVudCwgc2VsZjo6JGRlcHJlY2F0ZWRbJHBhcmVudF0pLCBFX1VTRVJfREVQUkVDQVRFRCk7Cn0KCiRwYXJlbnRJbnRlcmZhY2VzID0gYXJyYXkoKTsKJGRlcHJlY2F0ZWRJbnRlcmZhY2VzID0gYXJyYXkoKTsKaWYgKCRwYXJlbnQpIHsKZm9yZWFjaCAoY2xhc3NfaW1wbGVtZW50cygkcGFyZW50KSBhcyAkaW50ZXJmYWNlKSB7CiRwYXJlbnRJbnRlcmZhY2VzWyRpbnRlcmZhY2VdID0gMTsKfQp9Cgpmb3JlYWNoICgkcmVmbC0+Z2V0SW50ZXJmYWNlTmFtZXMoKSBhcyAkaW50ZXJmYWNlKSB7CmlmIChpc3NldChzZWxmOjokZGVwcmVjYXRlZFskaW50ZXJmYWNlXSkgJiYgc3RybmNtcCgkbnMsICRpbnRlcmZhY2UsICRsZW4pKSB7CiRkZXByZWNhdGVkSW50ZXJmYWNlc1tdID0gJGludGVyZmFjZTsKfQpmb3JlYWNoIChjbGFzc19pbXBsZW1lbnRzKCRpbnRlcmZhY2UpIGFzICRpbnRlcmZhY2UpIHsKJHBhcmVudEludGVyZmFjZXNbJGludGVyZmFjZV0gPSAxOwp9Cn0KCmZvcmVhY2ggKCRkZXByZWNhdGVkSW50ZXJmYWNlcyBhcyAkaW50ZXJmYWNlKSB7CmlmICghaXNzZXQoJHBhcmVudEludGVyZmFjZXNbJGludGVyZmFjZV0pKSB7CkB0cmlnZ2VyX2Vycm9yKHNwcmludGYoJ1RoZSAlcyAlcyAlcyB0aGF0IGlzIGRlcHJlY2F0ZWQgJXMnLCAkbmFtZSwgJHJlZmwtPmlzSW50ZXJmYWNlKCkgPyAnaW50ZXJmYWNlIGV4dGVuZHMnIDogJ2NsYXNzIGltcGxlbWVudHMnLCAkaW50ZXJmYWNlLCBzZWxmOjokZGVwcmVjYXRlZFskaW50ZXJmYWNlXSksIEVfVVNFUl9ERVBSRUNBVEVEKTsKfQp9Cn0KfQp9CgppZiAoJGZpbGUpIHsKaWYgKCEkZXhpc3RzKSB7CmlmIChmYWxzZSAhPT0gc3RycG9zKCRjbGFzcywgJy8nKSkgewp0aHJvdyBuZXcgXFJ1bnRpbWVFeGNlcHRpb24oc3ByaW50ZignVHJ5aW5nIHRvIGF1dG9sb2FkIGEgY2xhc3Mgd2l0aCBhbiBpbnZhbGlkIG5hbWUgIiVzIi4gQmUgY2FyZWZ1bCB0aGF0IHRoZSBuYW1lc3BhY2Ugc2VwYXJhdG9yIGlzICJcIiBpbiBQSFAsIG5vdCAiLyIuJywgJGNsYXNzKSk7Cn0KCnRocm93IG5ldyBcUnVudGltZUV4Y2VwdGlvbihzcHJpbnRmKCdUaGUgYXV0b2xvYWRlciBleHBlY3RlZCBjbGFzcyAiJXMiIHRvIGJlIGRlZmluZWQgaW4gZmlsZSAiJXMiLiBUaGUgZmlsZSB3YXMgZm91bmQgYnV0IHRoZSBjbGFzcyB3YXMgbm90IGluIGl0LCB0aGUgY2xhc3MgbmFtZSBvciBuYW1lc3BhY2UgcHJvYmFibHkgaGFzIGEgdHlwby4nLCAkY2xhc3MsICRmaWxlKSk7Cn0KaWYgKHNlbGY6OiRjYXNlQ2hlY2spIHsKJHJlYWwgPSBleHBsb2RlKCdcXCcsICRjbGFzcy5zdHJyY2hyKCRmaWxlLCAnLicpKTsKJHRhaWwgPSBleHBsb2RlKFxESVJFQ1RPUllfU0VQQVJBVE9SLCBzdHJfcmVwbGFjZSgnLycsIFxESVJFQ1RPUllfU0VQQVJBVE9SLCAkZmlsZSkpOwoKJGkgPSBcY291bnQoJHRhaWwpIC0gMTsKJGogPSBcY291bnQoJHJlYWwpIC0gMTsKCndoaWxlIChpc3NldCgkdGFpbFskaV0sICRyZWFsWyRqXSkgJiYgJHRhaWxbJGldID09PSAkcmVhbFskal0pIHsKLS0kaTsKLS0kajsKfQoKYXJyYXlfc3BsaWNlKCR0YWlsLCAwLCAkaSArIDEpOwp9CmlmIChzZWxmOjokY2FzZUNoZWNrICYmICR0YWlsKSB7CiR0YWlsID0gXERJUkVDVE9SWV9TRVBBUkFUT1IuaW1wbG9kZShcRElSRUNUT1JZX1NFUEFSQVRPUiwgJHRhaWwpOwokdGFpbExlbiA9IFxzdHJsZW4oJHRhaWwpOwokcmVhbCA9ICRyZWZsLT5nZXRGaWxlTmFtZSgpOwoKaWYgKDIgPT09IHNlbGY6OiRjYXNlQ2hlY2spIHsKCgokaSA9IDEgKyBzdHJycG9zKCRyZWFsLCAnLycpOwokZmlsZSA9IHN1YnN0cigkcmVhbCwgJGkpOwokcmVhbCA9IHN1YnN0cigkcmVhbCwgMCwgJGkpOwoKaWYgKGlzc2V0KHNlbGY6OiRkYXJ3aW5DYWNoZVskcmVhbF0pKSB7CiRrRGlyID0gJHJlYWw7Cn0gZWxzZSB7CiRrRGlyID0gc3RydG9sb3dlcigkcmVhbCk7CgppZiAoaXNzZXQoc2VsZjo6JGRhcndpbkNhY2hlWyRrRGlyXSkpIHsKJHJlYWwgPSBzZWxmOjokZGFyd2luQ2FjaGVbJGtEaXJdWzBdOwp9IGVsc2UgewokZGlyID0gZ2V0Y3dkKCk7CmNoZGlyKCRyZWFsKTsKJHJlYWwgPSBnZXRjd2QoKS4nLyc7CmNoZGlyKCRkaXIpOwoKJGRpciA9ICRyZWFsOwokayA9ICRrRGlyOwokaSA9IFxzdHJsZW4oJGRpcikgLSAxOwp3aGlsZSAoIWlzc2V0KHNlbGY6OiRkYXJ3aW5DYWNoZVska10pKSB7CnNlbGY6OiRkYXJ3aW5DYWNoZVska10gPSBhcnJheSgkZGlyLCBhcnJheSgpKTsKc2VsZjo6JGRhcndpbkNhY2hlWyRkaXJdID0gJnNlbGY6OiRkYXJ3aW5DYWNoZVska107Cgp3aGlsZSAoJy8nICE9PSAkZGlyWy0tJGldKSB7Cn0KJGsgPSBzdWJzdHIoJGssIDAsICsrJGkpOwokZGlyID0gc3Vic3RyKCRkaXIsIDAsICRpLS0pOwp9Cn0KfQoKJGRpckZpbGVzID0gc2VsZjo6JGRhcndpbkNhY2hlWyRrRGlyXVsxXTsKCmlmIChpc3NldCgkZGlyRmlsZXNbJGZpbGVdKSkgewoka0ZpbGUgPSAkZmlsZTsKfSBlbHNlIHsKJGtGaWxlID0gc3RydG9sb3dlcigkZmlsZSk7CgppZiAoIWlzc2V0KCRkaXJGaWxlc1ska0ZpbGVdKSkgewpmb3JlYWNoIChzY2FuZGlyKCRyZWFsLCAyKSBhcyAkZikgewppZiAoJy4nICE9PSAkZlswXSkgewokZGlyRmlsZXNbJGZdID0gJGY7CmlmICgkZiA9PT0gJGZpbGUpIHsKJGtGaWxlID0gJGsgPSAkZmlsZTsKfSBlbHNlaWYgKCRmICE9PSAkayA9IHN0cnRvbG93ZXIoJGYpKSB7CiRkaXJGaWxlc1ska10gPSAkZjsKfQp9Cn0Kc2VsZjo6JGRhcndpbkNhY2hlWyRrRGlyXVsxXSA9ICRkaXJGaWxlczsKfQp9CgokcmVhbCAuPSAkZGlyRmlsZXNbJGtGaWxlXTsKfQoKaWYgKDAgPT09IHN1YnN0cl9jb21wYXJlKCRyZWFsLCAkdGFpbCwgLSR0YWlsTGVuLCAkdGFpbExlbiwgdHJ1ZSkKJiYgMCAhPT0gc3Vic3RyX2NvbXBhcmUoJHJlYWwsICR0YWlsLCAtJHRhaWxMZW4sICR0YWlsTGVuLCBmYWxzZSkKKSB7CnRocm93IG5ldyBcUnVudGltZUV4Y2VwdGlvbihzcHJpbnRmKCdDYXNlIG1pc21hdGNoIGJldHdlZW4gY2xhc3MgYW5kIHJlYWwgZmlsZSBuYW1lczogJXMgdnMgJXMgaW4gJXMnLCBzdWJzdHIoJHRhaWwsIC0kdGFpbExlbiArIDEpLCBzdWJzdHIoJHJlYWwsIC0kdGFpbExlbiArIDEpLCBzdWJzdHIoJHJlYWwsIDAsIC0kdGFpbExlbiArIDEpKSk7Cn0KfQoKcmV0dXJuIHRydWU7Cn0KfQp9Cjw/cGhwCgoKCgoKCgoKCgpuYW1lc3BhY2UgU3ltZm9ueVxDb21wb25lbnRcRGVidWc7Cgp1c2UgUHNyXExvZ1xMb2dnZXJJbnRlcmZhY2U7CnVzZSBQc3JcTG9nXExvZ0xldmVsOwp1c2UgU3ltZm9ueVxDb21wb25lbnRcRGVidWdcRXhjZXB0aW9uXENvbnRleHRFcnJvckV4Y2VwdGlvbjsKdXNlIFN5bWZvbnlcQ29tcG9uZW50XERlYnVnXEV4Y2VwdGlvblxGYXRhbEVycm9yRXhjZXB0aW9uOwp1c2UgU3ltZm9ueVxDb21wb25lbnRcRGVidWdcRXhjZXB0aW9uXEZhdGFsVGhyb3dhYmxlRXJyb3I7CnVzZSBTeW1mb255XENvbXBvbmVudFxEZWJ1Z1xFeGNlcHRpb25cT3V0T2ZNZW1vcnlFeGNlcHRpb247CnVzZSBTeW1mb255XENvbXBvbmVudFxEZWJ1Z1xGYXRhbEVycm9ySGFuZGxlclxDbGFzc05vdEZvdW5kRmF0YWxFcnJvckhhbmRsZXI7CnVzZSBTeW1mb255XENvbXBvbmVudFxEZWJ1Z1xGYXRhbEVycm9ySGFuZGxlclxGYXRhbEVycm9ySGFuZGxlckludGVyZmFjZTsKdXNlIFN5bWZvbnlcQ29tcG9uZW50XERlYnVnXEZhdGFsRXJyb3JIYW5kbGVyXFVuZGVmaW5lZEZ1bmN0aW9uRmF0YWxFcnJvckhhbmRsZXI7CnVzZSBTeW1mb255XENvbXBvbmVudFxEZWJ1Z1xGYXRhbEVycm9ySGFuZGxlclxVbmRlZmluZWRNZXRob2RGYXRhbEVycm9ySGFuZGxlcjsKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgpjbGFzcyBFcnJvckhhbmRsZXIKewoKCgpjb25zdCBUWVBFX0RFUFJFQ0FUSU9OID0gLTEwMDsKCnByaXZhdGUgJGxldmVscyA9IGFycmF5KApFX0RFUFJFQ0FURUQgPT4gJ0RlcHJlY2F0ZWQnLApFX1VTRVJfREVQUkVDQVRFRCA9PiAnVXNlciBEZXByZWNhdGVkJywKRV9OT1RJQ0UgPT4gJ05vdGljZScsCkVfVVNFUl9OT1RJQ0UgPT4gJ1VzZXIgTm90aWNlJywKRV9TVFJJQ1QgPT4gJ1J1bnRpbWUgTm90aWNlJywKRV9XQVJOSU5HID0+ICdXYXJuaW5nJywKRV9VU0VSX1dBUk5JTkcgPT4gJ1VzZXIgV2FybmluZycsCkVfQ09NUElMRV9XQVJOSU5HID0+ICdDb21waWxlIFdhcm5pbmcnLApFX0NPUkVfV0FSTklORyA9PiAnQ29yZSBXYXJuaW5nJywKRV9VU0VSX0VSUk9SID0+ICdVc2VyIEVycm9yJywKRV9SRUNPVkVSQUJMRV9FUlJPUiA9PiAnQ2F0Y2hhYmxlIEZhdGFsIEVycm9yJywKRV9DT01QSUxFX0VSUk9SID0+ICdDb21waWxlIEVycm9yJywKRV9QQVJTRSA9PiAnUGFyc2UgRXJyb3InLApFX0VSUk9SID0+ICdFcnJvcicsCkVfQ09SRV9FUlJPUiA9PiAnQ29yZSBFcnJvcicsCik7Cgpwcml2YXRlICRsb2dnZXJzID0gYXJyYXkoCkVfREVQUkVDQVRFRCA9PiBhcnJheShudWxsLCBMb2dMZXZlbDo6SU5GTyksCkVfVVNFUl9ERVBSRUNBVEVEID0+IGFycmF5KG51bGwsIExvZ0xldmVsOjpJTkZPKSwKRV9OT1RJQ0UgPT4gYXJyYXkobnVsbCwgTG9nTGV2ZWw6OldBUk5JTkcpLApFX1VTRVJfTk9USUNFID0+IGFycmF5KG51bGwsIExvZ0xldmVsOjpXQVJOSU5HKSwKRV9TVFJJQ1QgPT4gYXJyYXkobnVsbCwgTG9nTGV2ZWw6OldBUk5JTkcpLApFX1dBUk5JTkcgPT4gYXJyYXkobnVsbCwgTG9nTGV2ZWw6OldBUk5JTkcpLApFX1VTRVJfV0FSTklORyA9PiBhcnJheShudWxsLCBMb2dMZXZlbDo6V0FSTklORyksCkVfQ09NUElMRV9XQVJOSU5HID0+IGFycmF5KG51bGwsIExvZ0xldmVsOjpXQVJOSU5HKSwKRV9DT1JFX1dBUk5JTkcgPT4gYXJyYXkobnVsbCwgTG9nTGV2ZWw6OldBUk5JTkcpLApFX1VTRVJfRVJST1IgPT4gYXJyYXkobnVsbCwgTG9nTGV2ZWw6OkNSSVRJQ0FMKSwKRV9SRUNPVkVSQUJMRV9FUlJPUiA9PiBhcnJheShudWxsLCBMb2dMZXZlbDo6Q1JJVElDQUwpLApFX0NPTVBJTEVfRVJST1IgPT4gYXJyYXkobnVsbCwgTG9nTGV2ZWw6OkNSSVRJQ0FMKSwKRV9QQVJTRSA9PiBhcnJheShudWxsLCBMb2dMZXZlbDo6Q1JJVElDQUwpLApFX0VSUk9SID0+IGFycmF5KG51bGwsIExvZ0xldmVsOjpDUklUSUNBTCksCkVfQ09SRV9FUlJPUiA9PiBhcnJheShudWxsLCBMb2dMZXZlbDo6Q1JJVElDQUwpLAopOwoKcHJpdmF0ZSAkdGhyb3duRXJyb3JzID0gMHgxRkZGOyAKcHJpdmF0ZSAkc2NvcGVkRXJyb3JzID0gMHgxRkZGOyAKcHJpdmF0ZSAkdHJhY2VkRXJyb3JzID0gMHg3N0ZCOyAKcHJpdmF0ZSAkc2NyZWFtZWRFcnJvcnMgPSAweDU1OyAKcHJpdmF0ZSAkbG9nZ2VkRXJyb3JzID0gMDsKCnByaXZhdGUgJGxvZ2dlZFRyYWNlcyA9IGFycmF5KCk7CnByaXZhdGUgJGlzUmVjdXJzaXZlID0gMDsKcHJpdmF0ZSAkaXNSb290ID0gZmFsc2U7CnByaXZhdGUgJGV4Y2VwdGlvbkhhbmRsZXI7CnByaXZhdGUgJGJvb3RzdHJhcHBpbmdMb2dnZXI7Cgpwcml2YXRlIHN0YXRpYyAkcmVzZXJ2ZWRNZW1vcnk7CnByaXZhdGUgc3RhdGljICRzdGFja2VkRXJyb3JzID0gYXJyYXkoKTsKcHJpdmF0ZSBzdGF0aWMgJHN0YWNrZWRFcnJvckxldmVscyA9IGFycmF5KCk7CnByaXZhdGUgc3RhdGljICR0b1N0cmluZ0V4Y2VwdGlvbiA9IG51bGw7CnByaXZhdGUgc3RhdGljICRleGl0Q29kZSA9IDA7CgoKCgoKCnByaXZhdGUgJGRpc3BsYXlFcnJvcnMgPSAweDFGRkY7CgoKCgoKCgoKCnB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gcmVnaXN0ZXIoJGhhbmRsZXIgPSBudWxsLCAkcmVwbGFjZSA9IHRydWUpCnsKaWYgKG51bGwgPT09IHNlbGY6OiRyZXNlcnZlZE1lbW9yeSkgewpzZWxmOjokcmVzZXJ2ZWRNZW1vcnkgPSBzdHJfcmVwZWF0KCd4JywgMTAyNDApOwpyZWdpc3Rlcl9zaHV0ZG93bl9mdW5jdGlvbihfX0NMQVNTX18uJzo6aGFuZGxlRmF0YWxFcnJvcicpOwp9CgokbGV2ZWxzID0gLTE7CgppZiAoJGhhbmRsZXJJc05ldyA9ICEkaGFuZGxlciBpbnN0YW5jZW9mIHNlbGYpIHsKCmlmIChudWxsICE9PSAkaGFuZGxlcikgewokbGV2ZWxzID0gJHJlcGxhY2UgPyAkaGFuZGxlciA6IDA7CiRyZXBsYWNlID0gdHJ1ZTsKfQokaGFuZGxlciA9IG5ldyBzdGF0aWMoKTsKfQoKaWYgKG51bGwgPT09ICRwcmV2ID0gc2V0X2Vycm9yX2hhbmRsZXIoYXJyYXkoJGhhbmRsZXIsICdoYW5kbGVFcnJvcicpKSkgewpyZXN0b3JlX2Vycm9yX2hhbmRsZXIoKTsKCnNldF9lcnJvcl9oYW5kbGVyKGFycmF5KCRoYW5kbGVyLCAnaGFuZGxlRXJyb3InKSwgJGhhbmRsZXItPnRocm93bkVycm9ycyB8ICRoYW5kbGVyLT5sb2dnZWRFcnJvcnMpOwokaGFuZGxlci0+aXNSb290ID0gdHJ1ZTsKfQoKaWYgKCRoYW5kbGVySXNOZXcgJiYgXGlzX2FycmF5KCRwcmV2KSAmJiAkcHJldlswXSBpbnN0YW5jZW9mIHNlbGYpIHsKJGhhbmRsZXIgPSAkcHJldlswXTsKJHJlcGxhY2UgPSBmYWxzZTsKfQppZiAoISRyZXBsYWNlICYmICRwcmV2KSB7CnJlc3RvcmVfZXJyb3JfaGFuZGxlcigpOwokaGFuZGxlcklzUmVnaXN0ZXJlZCA9IFxpc19hcnJheSgkcHJldikgJiYgJGhhbmRsZXIgPT09ICRwcmV2WzBdOwp9IGVsc2UgewokaGFuZGxlcklzUmVnaXN0ZXJlZCA9IHRydWU7Cn0KaWYgKFxpc19hcnJheSgkcHJldiA9IHNldF9leGNlcHRpb25faGFuZGxlcihhcnJheSgkaGFuZGxlciwgJ2hhbmRsZUV4Y2VwdGlvbicpKSkgJiYgJHByZXZbMF0gaW5zdGFuY2VvZiBzZWxmKSB7CnJlc3RvcmVfZXhjZXB0aW9uX2hhbmRsZXIoKTsKaWYgKCEkaGFuZGxlcklzUmVnaXN0ZXJlZCkgewokaGFuZGxlciA9ICRwcmV2WzBdOwp9IGVsc2VpZiAoJGhhbmRsZXIgIT09ICRwcmV2WzBdICYmICRyZXBsYWNlKSB7CnNldF9leGNlcHRpb25faGFuZGxlcihhcnJheSgkaGFuZGxlciwgJ2hhbmRsZUV4Y2VwdGlvbicpKTsKJHAgPSAkcHJldlswXS0+c2V0RXhjZXB0aW9uSGFuZGxlcihudWxsKTsKJGhhbmRsZXItPnNldEV4Y2VwdGlvbkhhbmRsZXIoJHApOwokcHJldlswXS0+c2V0RXhjZXB0aW9uSGFuZGxlcigkcCk7Cn0KfSBlbHNlIHsKJGhhbmRsZXItPnNldEV4Y2VwdGlvbkhhbmRsZXIoJHByZXYpOwp9CgokaGFuZGxlci0+dGhyb3dBdCgkbGV2ZWxzICYgJGhhbmRsZXItPnRocm93bkVycm9ycywgdHJ1ZSk7CgpyZXR1cm4gJGhhbmRsZXI7Cn0KCnB1YmxpYyBmdW5jdGlvbiBfX2NvbnN0cnVjdChCdWZmZXJpbmdMb2dnZXIgJGJvb3RzdHJhcHBpbmdMb2dnZXIgPSBudWxsKQp7CmlmICgkYm9vdHN0cmFwcGluZ0xvZ2dlcikgewokdGhpcy0+Ym9vdHN0cmFwcGluZ0xvZ2dlciA9ICRib290c3RyYXBwaW5nTG9nZ2VyOwokdGhpcy0+c2V0RGVmYXVsdExvZ2dlcigkYm9vdHN0cmFwcGluZ0xvZ2dlcik7Cn0KfQoKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBzZXREZWZhdWx0TG9nZ2VyKExvZ2dlckludGVyZmFjZSAkbG9nZ2VyLCAkbGV2ZWxzID0gbnVsbCwgJHJlcGxhY2UgPSBmYWxzZSkKewokbG9nZ2VycyA9IGFycmF5KCk7CgppZiAoXGlzX2FycmF5KCRsZXZlbHMpKSB7CmZvcmVhY2ggKCRsZXZlbHMgYXMgJHR5cGUgPT4gJGxvZ0xldmVsKSB7CmlmIChlbXB0eSgkdGhpcy0+bG9nZ2Vyc1skdHlwZV1bMF0pIHx8ICRyZXBsYWNlIHx8ICR0aGlzLT5sb2dnZXJzWyR0eXBlXVswXSA9PT0gJHRoaXMtPmJvb3RzdHJhcHBpbmdMb2dnZXIpIHsKJGxvZ2dlcnNbJHR5cGVdID0gYXJyYXkoJGxvZ2dlciwgJGxvZ0xldmVsKTsKfQp9Cn0gZWxzZSB7CmlmIChudWxsID09PSAkbGV2ZWxzKSB7CiRsZXZlbHMgPSBFX0FMTCB8IEVfU1RSSUNUOwp9CmZvcmVhY2ggKCR0aGlzLT5sb2dnZXJzIGFzICR0eXBlID0+ICRsb2cpIHsKaWYgKCgkdHlwZSAmICRsZXZlbHMpICYmIChlbXB0eSgkbG9nWzBdKSB8fCAkcmVwbGFjZSB8fCAkbG9nWzBdID09PSAkdGhpcy0+Ym9vdHN0cmFwcGluZ0xvZ2dlcikpIHsKJGxvZ1swXSA9ICRsb2dnZXI7CiRsb2dnZXJzWyR0eXBlXSA9ICRsb2c7Cn0KfQp9CgokdGhpcy0+c2V0TG9nZ2VycygkbG9nZ2Vycyk7Cn0KCgoKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBzZXRMb2dnZXJzKGFycmF5ICRsb2dnZXJzKQp7CiRwcmV2TG9nZ2VkID0gJHRoaXMtPmxvZ2dlZEVycm9yczsKJHByZXYgPSAkdGhpcy0+bG9nZ2VyczsKJGZsdXNoID0gYXJyYXkoKTsKCmZvcmVhY2ggKCRsb2dnZXJzIGFzICR0eXBlID0+ICRsb2cpIHsKaWYgKCFpc3NldCgkcHJldlskdHlwZV0pKSB7CnRocm93IG5ldyBcSW52YWxpZEFyZ3VtZW50RXhjZXB0aW9uKCdVbmtub3duIGVycm9yIHR5cGU6ICcuJHR5cGUpOwp9CmlmICghXGlzX2FycmF5KCRsb2cpKSB7CiRsb2cgPSBhcnJheSgkbG9nKTsKfSBlbHNlaWYgKCFhcnJheV9rZXlfZXhpc3RzKDAsICRsb2cpKSB7CnRocm93IG5ldyBcSW52YWxpZEFyZ3VtZW50RXhjZXB0aW9uKCdObyBsb2dnZXIgcHJvdmlkZWQnKTsKfQppZiAobnVsbCA9PT0gJGxvZ1swXSkgewokdGhpcy0+bG9nZ2VkRXJyb3JzICY9IH4kdHlwZTsKfSBlbHNlaWYgKCRsb2dbMF0gaW5zdGFuY2VvZiBMb2dnZXJJbnRlcmZhY2UpIHsKJHRoaXMtPmxvZ2dlZEVycm9ycyB8PSAkdHlwZTsKfSBlbHNlIHsKdGhyb3cgbmV3IFxJbnZhbGlkQXJndW1lbnRFeGNlcHRpb24oJ0ludmFsaWQgbG9nZ2VyIHByb3ZpZGVkJyk7Cn0KJHRoaXMtPmxvZ2dlcnNbJHR5cGVdID0gJGxvZyArICRwcmV2WyR0eXBlXTsKCmlmICgkdGhpcy0+Ym9vdHN0cmFwcGluZ0xvZ2dlciAmJiAkcHJldlskdHlwZV1bMF0gPT09ICR0aGlzLT5ib290c3RyYXBwaW5nTG9nZ2VyKSB7CiRmbHVzaFskdHlwZV0gPSAkdHlwZTsKfQp9CiR0aGlzLT5yZVJlZ2lzdGVyKCRwcmV2TG9nZ2VkIHwgJHRoaXMtPnRocm93bkVycm9ycyk7CgppZiAoJGZsdXNoKSB7CmZvcmVhY2ggKCR0aGlzLT5ib290c3RyYXBwaW5nTG9nZ2VyLT5jbGVhbkxvZ3MoKSBhcyAkbG9nKSB7CiR0eXBlID0gJGxvZ1syXVsndHlwZSddOwppZiAoIWlzc2V0KCRmbHVzaFskdHlwZV0pKSB7CiR0aGlzLT5ib290c3RyYXBwaW5nTG9nZ2VyLT5sb2coJGxvZ1swXSwgJGxvZ1sxXSwgJGxvZ1syXSk7Cn0gZWxzZWlmICgkdGhpcy0+bG9nZ2Vyc1skdHlwZV1bMF0pIHsKJHRoaXMtPmxvZ2dlcnNbJHR5cGVdWzBdLT5sb2coJHRoaXMtPmxvZ2dlcnNbJHR5cGVdWzFdLCAkbG9nWzFdLCAkbG9nWzJdKTsKfQp9Cn0KCnJldHVybiAkcHJldjsKfQoKCgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIHNldEV4Y2VwdGlvbkhhbmRsZXIoJGhhbmRsZXIpCnsKaWYgKG51bGwgIT09ICRoYW5kbGVyICYmICFcaXNfY2FsbGFibGUoJGhhbmRsZXIpKSB7CnRocm93IG5ldyBcTG9naWNFeGNlcHRpb24oJ1RoZSBleGNlcHRpb24gaGFuZGxlciBtdXN0IGJlIGEgdmFsaWQgUEhQIGNhbGxhYmxlLicpOwp9CiRwcmV2ID0gJHRoaXMtPmV4Y2VwdGlvbkhhbmRsZXI7CiR0aGlzLT5leGNlcHRpb25IYW5kbGVyID0gJGhhbmRsZXI7CgpyZXR1cm4gJHByZXY7Cn0KCgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIHRocm93QXQoJGxldmVscywgJHJlcGxhY2UgPSBmYWxzZSkKewokcHJldiA9ICR0aGlzLT50aHJvd25FcnJvcnM7CiR0aGlzLT50aHJvd25FcnJvcnMgPSAoJGxldmVscyB8IEVfUkVDT1ZFUkFCTEVfRVJST1IgfCBFX1VTRVJfRVJST1IpICYgfkVfVVNFUl9ERVBSRUNBVEVEICYgfkVfREVQUkVDQVRFRDsKaWYgKCEkcmVwbGFjZSkgewokdGhpcy0+dGhyb3duRXJyb3JzIHw9ICRwcmV2Owp9CiR0aGlzLT5yZVJlZ2lzdGVyKCRwcmV2IHwgJHRoaXMtPmxvZ2dlZEVycm9ycyk7CgoKJHRoaXMtPmRpc3BsYXlFcnJvcnMgPSAkdGhpcy0+dGhyb3duRXJyb3JzOwoKcmV0dXJuICRwcmV2Owp9CgoKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBzY29wZUF0KCRsZXZlbHMsICRyZXBsYWNlID0gZmFsc2UpCnsKJHByZXYgPSAkdGhpcy0+c2NvcGVkRXJyb3JzOwokdGhpcy0+c2NvcGVkRXJyb3JzID0gKGludCkgJGxldmVsczsKaWYgKCEkcmVwbGFjZSkgewokdGhpcy0+c2NvcGVkRXJyb3JzIHw9ICRwcmV2Owp9CgpyZXR1cm4gJHByZXY7Cn0KCgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIHRyYWNlQXQoJGxldmVscywgJHJlcGxhY2UgPSBmYWxzZSkKewokcHJldiA9ICR0aGlzLT50cmFjZWRFcnJvcnM7CiR0aGlzLT50cmFjZWRFcnJvcnMgPSAoaW50KSAkbGV2ZWxzOwppZiAoISRyZXBsYWNlKSB7CiR0aGlzLT50cmFjZWRFcnJvcnMgfD0gJHByZXY7Cn0KCnJldHVybiAkcHJldjsKfQoKCgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gc2NyZWFtQXQoJGxldmVscywgJHJlcGxhY2UgPSBmYWxzZSkKewokcHJldiA9ICR0aGlzLT5zY3JlYW1lZEVycm9yczsKJHRoaXMtPnNjcmVhbWVkRXJyb3JzID0gKGludCkgJGxldmVsczsKaWYgKCEkcmVwbGFjZSkgewokdGhpcy0+c2NyZWFtZWRFcnJvcnMgfD0gJHByZXY7Cn0KCnJldHVybiAkcHJldjsKfQoKCgoKcHJpdmF0ZSBmdW5jdGlvbiByZVJlZ2lzdGVyKCRwcmV2KQp7CmlmICgkcHJldiAhPT0gJHRoaXMtPnRocm93bkVycm9ycyB8ICR0aGlzLT5sb2dnZWRFcnJvcnMpIHsKJGhhbmRsZXIgPSBzZXRfZXJyb3JfaGFuZGxlcigndmFyX2R1bXAnKTsKJGhhbmRsZXIgPSBcaXNfYXJyYXkoJGhhbmRsZXIpID8gJGhhbmRsZXJbMF0gOiBudWxsOwpyZXN0b3JlX2Vycm9yX2hhbmRsZXIoKTsKaWYgKCRoYW5kbGVyID09PSAkdGhpcykgewpyZXN0b3JlX2Vycm9yX2hhbmRsZXIoKTsKaWYgKCR0aGlzLT5pc1Jvb3QpIHsKc2V0X2Vycm9yX2hhbmRsZXIoYXJyYXkoJHRoaXMsICdoYW5kbGVFcnJvcicpLCAkdGhpcy0+dGhyb3duRXJyb3JzIHwgJHRoaXMtPmxvZ2dlZEVycm9ycyk7Cn0gZWxzZSB7CnNldF9lcnJvcl9oYW5kbGVyKGFycmF5KCR0aGlzLCAnaGFuZGxlRXJyb3InKSk7Cn0KfQp9Cn0KCgoKCgoKCgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIGhhbmRsZUVycm9yKCR0eXBlLCAkbWVzc2FnZSwgJGZpbGUsICRsaW5lKQp7CiRsZXZlbCA9IGVycm9yX3JlcG9ydGluZygpOwokc2lsZW5jZWQgPSAwID09PSAoJGxldmVsICYgJHR5cGUpOwokbGV2ZWwgfD0gRV9SRUNPVkVSQUJMRV9FUlJPUiB8IEVfVVNFUl9FUlJPUiB8IEVfREVQUkVDQVRFRCB8IEVfVVNFUl9ERVBSRUNBVEVEOwokbG9nID0gJHRoaXMtPmxvZ2dlZEVycm9ycyAmICR0eXBlOwokdGhyb3cgPSAkdGhpcy0+dGhyb3duRXJyb3JzICYgJHR5cGUgJiAkbGV2ZWw7CiR0eXBlICY9ICRsZXZlbCB8ICR0aGlzLT5zY3JlYW1lZEVycm9yczsKCmlmICghJHR5cGUgfHwgKCEkbG9nICYmICEkdGhyb3cpKSB7CnJldHVybiAhJHNpbGVuY2VkICYmICR0eXBlICYmICRsb2c7Cn0KJHNjb3BlID0gJHRoaXMtPnNjb3BlZEVycm9ycyAmICR0eXBlOwoKaWYgKDQgPCAkbnVtQXJncyA9IFxmdW5jX251bV9hcmdzKCkpIHsKJGNvbnRleHQgPSAkc2NvcGUgPyAoZnVuY19nZXRfYXJnKDQpID86IGFycmF5KCkpIDogYXJyYXkoKTsKJGJhY2t0cmFjZSA9IDUgPCAkbnVtQXJncyA/IGZ1bmNfZ2V0X2FyZyg1KSA6IG51bGw7IAp9IGVsc2UgewokY29udGV4dCA9IGFycmF5KCk7CiRiYWNrdHJhY2UgPSBudWxsOwp9CgppZiAoaXNzZXQoJGNvbnRleHRbJ0dMT0JBTFMnXSkgJiYgJHNjb3BlKSB7CiRlID0gJGNvbnRleHQ7IAp1bnNldCgkZVsnR0xPQkFMUyddLCAkY29udGV4dCk7IAokY29udGV4dCA9ICRlOwp9CgppZiAobnVsbCAhPT0gJGJhY2t0cmFjZSAmJiAkdHlwZSAmIEVfRVJST1IpIHsKCgoKJHRoaXMtPmhhbmRsZUZhdGFsRXJyb3IoY29tcGFjdCgndHlwZScsICdtZXNzYWdlJywgJ2ZpbGUnLCAnbGluZScsICdiYWNrdHJhY2UnKSk7CgpyZXR1cm4gdHJ1ZTsKfQoKaWYgKCR0aHJvdykgewppZiAobnVsbCAhPT0gc2VsZjo6JHRvU3RyaW5nRXhjZXB0aW9uKSB7CiR0aHJvdyA9IHNlbGY6OiR0b1N0cmluZ0V4Y2VwdGlvbjsKc2VsZjo6JHRvU3RyaW5nRXhjZXB0aW9uID0gbnVsbDsKfSBlbHNlaWYgKCRzY29wZSAmJiBjbGFzc19leGlzdHMoJ1N5bWZvbnlcQ29tcG9uZW50XERlYnVnXEV4Y2VwdGlvblxDb250ZXh0RXJyb3JFeGNlcHRpb24nKSkgewoKJHRocm93ID0gbmV3IENvbnRleHRFcnJvckV4Y2VwdGlvbigkdGhpcy0+bGV2ZWxzWyR0eXBlXS4nOiAnLiRtZXNzYWdlLCAwLCAkdHlwZSwgJGZpbGUsICRsaW5lLCAkY29udGV4dCk7Cn0gZWxzZSB7CiR0aHJvdyA9IG5ldyBcRXJyb3JFeGNlcHRpb24oJHRoaXMtPmxldmVsc1skdHlwZV0uJzogJy4kbWVzc2FnZSwgMCwgJHR5cGUsICRmaWxlLCAkbGluZSk7Cn0KCmlmIChcUEhQX1ZFUlNJT05fSUQgPD0gNTA0MDcgJiYgKFxQSFBfVkVSU0lPTl9JRCA+PSA1MDQwMCB8fCBcUEhQX1ZFUlNJT05fSUQgPD0gNTAzMTcpKSB7CgoKCgokdGhyb3ctPmVycm9ySGFuZGxlckNhbmFyeSA9IG5ldyBFcnJvckhhbmRsZXJDYW5hcnkoKTsKfQoKaWYgKEVfVVNFUl9FUlJPUiAmICR0eXBlKSB7CiRiYWNrdHJhY2UgPSAkYmFja3RyYWNlID86ICR0aHJvdy0+Z2V0VHJhY2UoKTsKCmZvciAoJGkgPSAxOyBpc3NldCgkYmFja3RyYWNlWyRpXSk7ICsrJGkpIHsKaWYgKGlzc2V0KCRiYWNrdHJhY2VbJGldWydmdW5jdGlvbiddLCAkYmFja3RyYWNlWyRpXVsndHlwZSddLCAkYmFja3RyYWNlWyRpIC0gMV1bJ2Z1bmN0aW9uJ10pCiYmICdfX3RvU3RyaW5nJyA9PT0gJGJhY2t0cmFjZVskaV1bJ2Z1bmN0aW9uJ10KJiYgJy0+JyA9PT0gJGJhY2t0cmFjZVskaV1bJ3R5cGUnXQomJiAhaXNzZXQoJGJhY2t0cmFjZVskaSAtIDFdWydjbGFzcyddKQomJiAoJ3RyaWdnZXJfZXJyb3InID09PSAkYmFja3RyYWNlWyRpIC0gMV1bJ2Z1bmN0aW9uJ10gfHwgJ3VzZXJfZXJyb3InID09PSAkYmFja3RyYWNlWyRpIC0gMV1bJ2Z1bmN0aW9uJ10pCikgewoKCgoKCgoKZm9yZWFjaCAoJGNvbnRleHQgYXMgJGUpIHsKaWYgKCgkZSBpbnN0YW5jZW9mIFxFeGNlcHRpb24gfHwgJGUgaW5zdGFuY2VvZiBcVGhyb3dhYmxlKSAmJiAkZS0+X190b1N0cmluZygpID09PSAkbWVzc2FnZSkgewppZiAoMSA9PT0gJGkpIHsKCiR0aHJvdyA9ICRlOwpicmVhazsKfQpzZWxmOjokdG9TdHJpbmdFeGNlcHRpb24gPSAkZTsKCnJldHVybiB0cnVlOwp9Cn0KCmlmICgxIDwgJGkpIHsKCiR0aGlzLT5oYW5kbGVFeGNlcHRpb24oJHRocm93KTsKCgpyZXR1cm4gZmFsc2U7Cn0KfQp9Cn0KCnRocm93ICR0aHJvdzsKfQoKCiRlID0gbWQ1KCJ7JHR5cGV9L3skbGluZX0veyRmaWxlfVx4MDB7JG1lc3NhZ2V9IiwgdHJ1ZSk7CiR0cmFjZSA9IHRydWU7CgppZiAoISgkdGhpcy0+dHJhY2VkRXJyb3JzICYgJHR5cGUpIHx8IGlzc2V0KCR0aGlzLT5sb2dnZWRUcmFjZXNbJGVdKSkgewokdHJhY2UgPSBmYWxzZTsKfSBlbHNlIHsKJHRoaXMtPmxvZ2dlZFRyYWNlc1skZV0gPSAxOwp9CgokZSA9IGNvbXBhY3QoJ3R5cGUnLCAnZmlsZScsICdsaW5lJywgJ2xldmVsJyk7CgppZiAoJHR5cGUgJiAkbGV2ZWwpIHsKaWYgKCRzY29wZSkgewokZVsnc2NvcGVfdmFycyddID0gJGNvbnRleHQ7CmlmICgkdHJhY2UpIHsKJGVbJ3N0YWNrJ10gPSAkYmFja3RyYWNlID86IGRlYnVnX2JhY2t0cmFjZShERUJVR19CQUNLVFJBQ0VfUFJPVklERV9PQkpFQ1QpOwp9Cn0gZWxzZWlmICgkdHJhY2UpIHsKaWYgKG51bGwgPT09ICRiYWNrdHJhY2UpIHsKJGVbJ3N0YWNrJ10gPSBkZWJ1Z19iYWNrdHJhY2UoREVCVUdfQkFDS1RSQUNFX0lHTk9SRV9BUkdTKTsKfSBlbHNlIHsKZm9yZWFjaCAoJGJhY2t0cmFjZSBhcyAmJGZyYW1lKSB7CnVuc2V0KCRmcmFtZVsnYXJncyddLCAkZnJhbWUpOwp9CiRlWydzdGFjayddID0gJGJhY2t0cmFjZTsKfQp9Cn0KCmlmICgkdGhpcy0+aXNSZWN1cnNpdmUpIHsKJGxvZyA9IDA7Cn0gZWxzZWlmIChzZWxmOjokc3RhY2tlZEVycm9yTGV2ZWxzKSB7CnNlbGY6OiRzdGFja2VkRXJyb3JzW10gPSBhcnJheSgkdGhpcy0+bG9nZ2Vyc1skdHlwZV1bMF0sICgkdHlwZSAmICRsZXZlbCkgPyAkdGhpcy0+bG9nZ2Vyc1skdHlwZV1bMV0gOiBMb2dMZXZlbDo6REVCVUcsICRtZXNzYWdlLCAkZSk7Cn0gZWxzZSB7CnRyeSB7CiR0aGlzLT5pc1JlY3Vyc2l2ZSA9IHRydWU7CiR0aGlzLT5sb2dnZXJzWyR0eXBlXVswXS0+bG9nKCgkdHlwZSAmICRsZXZlbCkgPyAkdGhpcy0+bG9nZ2Vyc1skdHlwZV1bMV0gOiBMb2dMZXZlbDo6REVCVUcsICRtZXNzYWdlLCAkZSk7CiR0aGlzLT5pc1JlY3Vyc2l2ZSA9IGZhbHNlOwp9IGNhdGNoIChcRXhjZXB0aW9uICRlKSB7CiR0aGlzLT5pc1JlY3Vyc2l2ZSA9IGZhbHNlOwoKdGhyb3cgJGU7Cn0gY2F0Y2ggKFxUaHJvd2FibGUgJGUpIHsKJHRoaXMtPmlzUmVjdXJzaXZlID0gZmFsc2U7Cgp0aHJvdyAkZTsKfQp9CgpyZXR1cm4gISRzaWxlbmNlZCAmJiAkdHlwZSAmJiAkbG9nOwp9CgoKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBoYW5kbGVFeGNlcHRpb24oJGV4Y2VwdGlvbiwgYXJyYXkgJGVycm9yID0gbnVsbCkKewppZiAobnVsbCA9PT0gJGVycm9yKSB7CnNlbGY6OiRleGl0Q29kZSA9IDI1NTsKfQppZiAoISRleGNlcHRpb24gaW5zdGFuY2VvZiBcRXhjZXB0aW9uKSB7CiRleGNlcHRpb24gPSBuZXcgRmF0YWxUaHJvd2FibGVFcnJvcigkZXhjZXB0aW9uKTsKfQokdHlwZSA9ICRleGNlcHRpb24gaW5zdGFuY2VvZiBGYXRhbEVycm9yRXhjZXB0aW9uID8gJGV4Y2VwdGlvbi0+Z2V0U2V2ZXJpdHkoKSA6IEVfRVJST1I7CiRoYW5kbGVyRXhjZXB0aW9uID0gbnVsbDsKCmlmICgoJHRoaXMtPmxvZ2dlZEVycm9ycyAmICR0eXBlKSB8fCAkZXhjZXB0aW9uIGluc3RhbmNlb2YgRmF0YWxUaHJvd2FibGVFcnJvcikgewokZSA9IGFycmF5KAondHlwZScgPT4gJHR5cGUsCidmaWxlJyA9PiAkZXhjZXB0aW9uLT5nZXRGaWxlKCksCidsaW5lJyA9PiAkZXhjZXB0aW9uLT5nZXRMaW5lKCksCidsZXZlbCcgPT4gZXJyb3JfcmVwb3J0aW5nKCksCidzdGFjaycgPT4gJGV4Y2VwdGlvbi0+Z2V0VHJhY2UoKSwKKTsKaWYgKCRleGNlcHRpb24gaW5zdGFuY2VvZiBGYXRhbEVycm9yRXhjZXB0aW9uKSB7CmlmICgkZXhjZXB0aW9uIGluc3RhbmNlb2YgRmF0YWxUaHJvd2FibGVFcnJvcikgewokZXJyb3IgPSBhcnJheSgKJ3R5cGUnID0+ICR0eXBlLAonbWVzc2FnZScgPT4gJG1lc3NhZ2UgPSAkZXhjZXB0aW9uLT5nZXRNZXNzYWdlKCksCidmaWxlJyA9PiAkZVsnZmlsZSddLAonbGluZScgPT4gJGVbJ2xpbmUnXSwKKTsKfSBlbHNlIHsKJG1lc3NhZ2UgPSAnRmF0YWwgJy4kZXhjZXB0aW9uLT5nZXRNZXNzYWdlKCk7Cn0KfSBlbHNlaWYgKCRleGNlcHRpb24gaW5zdGFuY2VvZiBcRXJyb3JFeGNlcHRpb24pIHsKJG1lc3NhZ2UgPSAnVW5jYXVnaHQgJy4kZXhjZXB0aW9uLT5nZXRNZXNzYWdlKCk7CmlmICgkZXhjZXB0aW9uIGluc3RhbmNlb2YgQ29udGV4dEVycm9yRXhjZXB0aW9uKSB7CiRlWydjb250ZXh0J10gPSAkZXhjZXB0aW9uLT5nZXRDb250ZXh0KCk7Cn0KfSBlbHNlIHsKJG1lc3NhZ2UgPSAnVW5jYXVnaHQgRXhjZXB0aW9uOiAnLiRleGNlcHRpb24tPmdldE1lc3NhZ2UoKTsKfQp9CmlmICgkdGhpcy0+bG9nZ2VkRXJyb3JzICYgJHR5cGUpIHsKdHJ5IHsKJHRoaXMtPmxvZ2dlcnNbJHR5cGVdWzBdLT5sb2coJHRoaXMtPmxvZ2dlcnNbJHR5cGVdWzFdLCAkbWVzc2FnZSwgJGUpOwp9IGNhdGNoIChcRXhjZXB0aW9uICRoYW5kbGVyRXhjZXB0aW9uKSB7Cn0gY2F0Y2ggKFxUaHJvd2FibGUgJGhhbmRsZXJFeGNlcHRpb24pIHsKfQp9CmlmICgkZXhjZXB0aW9uIGluc3RhbmNlb2YgRmF0YWxFcnJvckV4Y2VwdGlvbiAmJiAhJGV4Y2VwdGlvbiBpbnN0YW5jZW9mIE91dE9mTWVtb3J5RXhjZXB0aW9uICYmICRlcnJvcikgewpmb3JlYWNoICgkdGhpcy0+Z2V0RmF0YWxFcnJvckhhbmRsZXJzKCkgYXMgJGhhbmRsZXIpIHsKaWYgKCRlID0gJGhhbmRsZXItPmhhbmRsZUVycm9yKCRlcnJvciwgJGV4Y2VwdGlvbikpIHsKJGV4Y2VwdGlvbiA9ICRlOwpicmVhazsKfQp9Cn0KJGV4Y2VwdGlvbkhhbmRsZXIgPSAkdGhpcy0+ZXhjZXB0aW9uSGFuZGxlcjsKJHRoaXMtPmV4Y2VwdGlvbkhhbmRsZXIgPSBudWxsOwp0cnkgewppZiAobnVsbCAhPT0gJGV4Y2VwdGlvbkhhbmRsZXIpIHsKcmV0dXJuIFxjYWxsX3VzZXJfZnVuYygkZXhjZXB0aW9uSGFuZGxlciwgJGV4Y2VwdGlvbik7Cn0KJGhhbmRsZXJFeGNlcHRpb24gPSAkaGFuZGxlckV4Y2VwdGlvbiA/OiAkZXhjZXB0aW9uOwp9IGNhdGNoIChcRXhjZXB0aW9uICRoYW5kbGVyRXhjZXB0aW9uKSB7Cn0gY2F0Y2ggKFxUaHJvd2FibGUgJGhhbmRsZXJFeGNlcHRpb24pIHsKfQppZiAoJGV4Y2VwdGlvbiA9PT0gJGhhbmRsZXJFeGNlcHRpb24pIHsKc2VsZjo6JHJlc2VydmVkTWVtb3J5ID0gbnVsbDsgCnRocm93ICRleGNlcHRpb247IAp9CiR0aGlzLT5oYW5kbGVFeGNlcHRpb24oJGhhbmRsZXJFeGNlcHRpb24pOwp9CgoKCgoKCgoKcHVibGljIHN0YXRpYyBmdW5jdGlvbiBoYW5kbGVGYXRhbEVycm9yKGFycmF5ICRlcnJvciA9IG51bGwpCnsKaWYgKG51bGwgPT09IHNlbGY6OiRyZXNlcnZlZE1lbW9yeSkgewpyZXR1cm47Cn0KCiRoYW5kbGVyID0gc2VsZjo6JHJlc2VydmVkTWVtb3J5ID0gbnVsbDsKJGhhbmRsZXJzID0gYXJyYXkoKTsKJHByZXZpb3VzSGFuZGxlciA9IG51bGw7CiRzYW1lSGFuZGxlckxpbWl0ID0gMTA7Cgp3aGlsZSAoIVxpc19hcnJheSgkaGFuZGxlcikgfHwgISRoYW5kbGVyWzBdIGluc3RhbmNlb2Ygc2VsZikgewokaGFuZGxlciA9IHNldF9leGNlcHRpb25faGFuZGxlcigndmFyX2R1bXAnKTsKcmVzdG9yZV9leGNlcHRpb25faGFuZGxlcigpOwoKaWYgKCEkaGFuZGxlcikgewpicmVhazsKfQpyZXN0b3JlX2V4Y2VwdGlvbl9oYW5kbGVyKCk7CgppZiAoJGhhbmRsZXIgIT09ICRwcmV2aW91c0hhbmRsZXIpIHsKYXJyYXlfdW5zaGlmdCgkaGFuZGxlcnMsICRoYW5kbGVyKTsKJHByZXZpb3VzSGFuZGxlciA9ICRoYW5kbGVyOwp9IGVsc2VpZiAoMCA9PT0gLS0kc2FtZUhhbmRsZXJMaW1pdCkgewokaGFuZGxlciA9IG51bGw7CmJyZWFrOwp9Cn0KZm9yZWFjaCAoJGhhbmRsZXJzIGFzICRoKSB7CnNldF9leGNlcHRpb25faGFuZGxlcigkaCk7Cn0KaWYgKCEkaGFuZGxlcikgewpyZXR1cm47Cn0KaWYgKCRoYW5kbGVyICE9PSAkaCkgewokaGFuZGxlclswXS0+c2V0RXhjZXB0aW9uSGFuZGxlcigkaCk7Cn0KJGhhbmRsZXIgPSAkaGFuZGxlclswXTsKJGhhbmRsZXJzID0gYXJyYXkoKTsKCmlmICgkZXhpdCA9IG51bGwgPT09ICRlcnJvcikgewokZXJyb3IgPSBlcnJvcl9nZXRfbGFzdCgpOwp9Cgp0cnkgewp3aGlsZSAoc2VsZjo6JHN0YWNrZWRFcnJvckxldmVscykgewpzdGF0aWM6OnVuc3RhY2tFcnJvcnMoKTsKfQp9IGNhdGNoIChcRXhjZXB0aW9uICRleGNlcHRpb24pIHsKCn0gY2F0Y2ggKFxUaHJvd2FibGUgJGV4Y2VwdGlvbikgewoKfQoKaWYgKCRlcnJvciAmJiAkZXJyb3JbJ3R5cGUnXSAmPSBFX1BBUlNFIHwgRV9FUlJPUiB8IEVfQ09SRV9FUlJPUiB8IEVfQ09NUElMRV9FUlJPUikgewoKJGhhbmRsZXItPnRocm93QXQoMCwgdHJ1ZSk7CiR0cmFjZSA9IGlzc2V0KCRlcnJvclsnYmFja3RyYWNlJ10pID8gJGVycm9yWydiYWNrdHJhY2UnXSA6IG51bGw7CgppZiAoMCA9PT0gc3RycG9zKCRlcnJvclsnbWVzc2FnZSddLCAnQWxsb3dlZCBtZW1vcnknKSB8fCAwID09PSBzdHJwb3MoJGVycm9yWydtZXNzYWdlJ10sICdPdXQgb2YgbWVtb3J5JykpIHsKJGV4Y2VwdGlvbiA9IG5ldyBPdXRPZk1lbW9yeUV4Y2VwdGlvbigkaGFuZGxlci0+bGV2ZWxzWyRlcnJvclsndHlwZSddXS4nOiAnLiRlcnJvclsnbWVzc2FnZSddLCAwLCAkZXJyb3JbJ3R5cGUnXSwgJGVycm9yWydmaWxlJ10sICRlcnJvclsnbGluZSddLCAyLCBmYWxzZSwgJHRyYWNlKTsKfSBlbHNlIHsKJGV4Y2VwdGlvbiA9IG5ldyBGYXRhbEVycm9yRXhjZXB0aW9uKCRoYW5kbGVyLT5sZXZlbHNbJGVycm9yWyd0eXBlJ11dLic6ICcuJGVycm9yWydtZXNzYWdlJ10sIDAsICRlcnJvclsndHlwZSddLCAkZXJyb3JbJ2ZpbGUnXSwgJGVycm9yWydsaW5lJ10sIDIsIHRydWUsICR0cmFjZSk7Cn0KfQoKdHJ5IHsKaWYgKGlzc2V0KCRleGNlcHRpb24pKSB7CnNlbGY6OiRleGl0Q29kZSA9IDI1NTsKJGhhbmRsZXItPmhhbmRsZUV4Y2VwdGlvbigkZXhjZXB0aW9uLCAkZXJyb3IpOwp9Cn0gY2F0Y2ggKEZhdGFsRXJyb3JFeGNlcHRpb24gJGUpIHsKCn0KCmlmICgkZXhpdCAmJiBzZWxmOjokZXhpdENvZGUpIHsKJGV4aXRDb2RlID0gc2VsZjo6JGV4aXRDb2RlOwpyZWdpc3Rlcl9zaHV0ZG93bl9mdW5jdGlvbigncmVnaXN0ZXJfc2h1dGRvd25fZnVuY3Rpb24nLCBmdW5jdGlvbiAoKSB1c2UgKCRleGl0Q29kZSkgeyBleGl0KCRleGl0Q29kZSk7IH0pOwp9Cn0KCgoKCgoKCgoKCgoKcHVibGljIHN0YXRpYyBmdW5jdGlvbiBzdGFja0Vycm9ycygpCnsKc2VsZjo6JHN0YWNrZWRFcnJvckxldmVsc1tdID0gZXJyb3JfcmVwb3J0aW5nKGVycm9yX3JlcG9ydGluZygpIHwgRV9QQVJTRSB8IEVfRVJST1IgfCBFX0NPUkVfRVJST1IgfCBFX0NPTVBJTEVfRVJST1IpOwp9CgoKCgpwdWJsaWMgc3RhdGljIGZ1bmN0aW9uIHVuc3RhY2tFcnJvcnMoKQp7CiRsZXZlbCA9IGFycmF5X3BvcChzZWxmOjokc3RhY2tlZEVycm9yTGV2ZWxzKTsKCmlmIChudWxsICE9PSAkbGV2ZWwpIHsKJGUgPSBlcnJvcl9yZXBvcnRpbmcoJGxldmVsKTsKaWYgKCRlICE9PSAoJGxldmVsIHwgRV9QQVJTRSB8IEVfRVJST1IgfCBFX0NPUkVfRVJST1IgfCBFX0NPTVBJTEVfRVJST1IpKSB7CgplcnJvcl9yZXBvcnRpbmcoJGUpOwp9Cn0KCmlmIChlbXB0eShzZWxmOjokc3RhY2tlZEVycm9yTGV2ZWxzKSkgewokZXJyb3JzID0gc2VsZjo6JHN0YWNrZWRFcnJvcnM7CnNlbGY6OiRzdGFja2VkRXJyb3JzID0gYXJyYXkoKTsKCmZvcmVhY2ggKCRlcnJvcnMgYXMgJGUpIHsKJGVbMF0tPmxvZygkZVsxXSwgJGVbMl0sICRlWzNdKTsKfQp9Cn0KCgoKCgoKCgpwcm90ZWN0ZWQgZnVuY3Rpb24gZ2V0RmF0YWxFcnJvckhhbmRsZXJzKCkKewpyZXR1cm4gYXJyYXkoCm5ldyBVbmRlZmluZWRGdW5jdGlvbkZhdGFsRXJyb3JIYW5kbGVyKCksCm5ldyBVbmRlZmluZWRNZXRob2RGYXRhbEVycm9ySGFuZGxlcigpLApuZXcgQ2xhc3NOb3RGb3VuZEZhdGFsRXJyb3JIYW5kbGVyKCksCik7Cn0KCgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gc2V0TGV2ZWwoJGxldmVsKQp7CkB0cmlnZ2VyX2Vycm9yKCdUaGUgJy5fX01FVEhPRF9fLicgbWV0aG9kIGlzIGRlcHJlY2F0ZWQgc2luY2UgU3ltZm9ueSAyLjYgYW5kIHdpbGwgYmUgcmVtb3ZlZCBpbiAzLjAuIFVzZSB0aGUgdGhyb3dBdCgpIG1ldGhvZCBpbnN0ZWFkLicsIEVfVVNFUl9ERVBSRUNBVEVEKTsKCiRsZXZlbCA9IG51bGwgPT09ICRsZXZlbCA/IGVycm9yX3JlcG9ydGluZygpIDogJGxldmVsOwokdGhpcy0+dGhyb3dBdCgkbGV2ZWwsIHRydWUpOwp9CgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIHNldERpc3BsYXlFcnJvcnMoJGRpc3BsYXlFcnJvcnMpCnsKQHRyaWdnZXJfZXJyb3IoJ1RoZSAnLl9fTUVUSE9EX18uJyBtZXRob2QgaXMgZGVwcmVjYXRlZCBzaW5jZSBTeW1mb255IDIuNiBhbmQgd2lsbCBiZSByZW1vdmVkIGluIDMuMC4gVXNlIHRoZSB0aHJvd0F0KCkgbWV0aG9kIGluc3RlYWQuJywgRV9VU0VSX0RFUFJFQ0FURUQpOwoKaWYgKCRkaXNwbGF5RXJyb3JzKSB7CiR0aGlzLT50aHJvd0F0KCR0aGlzLT5kaXNwbGF5RXJyb3JzLCB0cnVlKTsKfSBlbHNlIHsKJGRpc3BsYXlFcnJvcnMgPSAkdGhpcy0+ZGlzcGxheUVycm9yczsKJHRoaXMtPnRocm93QXQoMCwgdHJ1ZSk7CiR0aGlzLT5kaXNwbGF5RXJyb3JzID0gJGRpc3BsYXlFcnJvcnM7Cn0KfQoKCgoKCgoKCgpwdWJsaWMgc3RhdGljIGZ1bmN0aW9uIHNldExvZ2dlcihMb2dnZXJJbnRlcmZhY2UgJGxvZ2dlciwgJGNoYW5uZWwgPSAnZGVwcmVjYXRpb24nKQp7CkB0cmlnZ2VyX2Vycm9yKCdUaGUgJy5fX01FVEhPRF9fLicgc3RhdGljIG1ldGhvZCBpcyBkZXByZWNhdGVkIHNpbmNlIFN5bWZvbnkgMi42IGFuZCB3aWxsIGJlIHJlbW92ZWQgaW4gMy4wLiBVc2UgdGhlIHNldExvZ2dlcnMoKSBvciBzZXREZWZhdWx0TG9nZ2VyKCkgbWV0aG9kcyBpbnN0ZWFkLicsIEVfVVNFUl9ERVBSRUNBVEVEKTsKCiRoYW5kbGVyID0gc2V0X2Vycm9yX2hhbmRsZXIoJ3Zhcl9kdW1wJyk7CiRoYW5kbGVyID0gXGlzX2FycmF5KCRoYW5kbGVyKSA/ICRoYW5kbGVyWzBdIDogbnVsbDsKcmVzdG9yZV9lcnJvcl9oYW5kbGVyKCk7CmlmICghJGhhbmRsZXIgaW5zdGFuY2VvZiBzZWxmKSB7CnJldHVybjsKfQppZiAoJ2RlcHJlY2F0aW9uJyA9PT0gJGNoYW5uZWwpIHsKJGhhbmRsZXItPnNldERlZmF1bHRMb2dnZXIoJGxvZ2dlciwgRV9ERVBSRUNBVEVEIHwgRV9VU0VSX0RFUFJFQ0FURUQsIHRydWUpOwokaGFuZGxlci0+c2NyZWFtQXQoRV9ERVBSRUNBVEVEIHwgRV9VU0VSX0RFUFJFQ0FURUQpOwp9IGVsc2VpZiAoJ3NjcmVhbScgPT09ICRjaGFubmVsKSB7CiRoYW5kbGVyLT5zZXREZWZhdWx0TG9nZ2VyKCRsb2dnZXIsIEVfQUxMIHwgRV9TVFJJQ1QsIGZhbHNlKTsKJGhhbmRsZXItPnNjcmVhbUF0KEVfQUxMIHwgRV9TVFJJQ1QpOwp9IGVsc2VpZiAoJ2VtZXJnZW5jeScgPT09ICRjaGFubmVsKSB7CiRoYW5kbGVyLT5zZXREZWZhdWx0TG9nZ2VyKCRsb2dnZXIsIEVfUEFSU0UgfCBFX0VSUk9SIHwgRV9DT1JFX0VSUk9SIHwgRV9DT01QSUxFX0VSUk9SLCB0cnVlKTsKJGhhbmRsZXItPnNjcmVhbUF0KEVfUEFSU0UgfCBFX0VSUk9SIHwgRV9DT1JFX0VSUk9SIHwgRV9DT01QSUxFX0VSUk9SKTsKfQp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gaGFuZGxlKCRsZXZlbCwgJG1lc3NhZ2UsICRmaWxlID0gJ3Vua25vd24nLCAkbGluZSA9IDAsICRjb250ZXh0ID0gYXJyYXkoKSkKewokdGhpcy0+aGFuZGxlRXJyb3IoRV9VU0VSX0RFUFJFQ0FURUQsICdUaGUgJy5fX01FVEhPRF9fLicgbWV0aG9kIGlzIGRlcHJlY2F0ZWQgc2luY2UgU3ltZm9ueSAyLjYgYW5kIHdpbGwgYmUgcmVtb3ZlZCBpbiAzLjAuIFVzZSB0aGUgaGFuZGxlRXJyb3IoKSBtZXRob2QgaW5zdGVhZC4nLCBfX0ZJTEVfXywgX19MSU5FX18sIGFycmF5KCkpOwoKcmV0dXJuICR0aGlzLT5oYW5kbGVFcnJvcigkbGV2ZWwsICRtZXNzYWdlLCAkZmlsZSwgJGxpbmUsIChhcnJheSkgJGNvbnRleHQpOwp9CgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBoYW5kbGVGYXRhbCgpCnsKQHRyaWdnZXJfZXJyb3IoJ1RoZSAnLl9fTUVUSE9EX18uJyBtZXRob2QgaXMgZGVwcmVjYXRlZCBzaW5jZSBTeW1mb255IDIuNiBhbmQgd2lsbCBiZSByZW1vdmVkIGluIDMuMC4gVXNlIHRoZSBoYW5kbGVGYXRhbEVycm9yKCkgbWV0aG9kIGluc3RlYWQuJywgRV9VU0VSX0RFUFJFQ0FURUQpOwoKc3RhdGljOjpoYW5kbGVGYXRhbEVycm9yKCk7Cn0KfQoKCgoKCgoKCmNsYXNzIEVycm9ySGFuZGxlckNhbmFyeQp7CnByaXZhdGUgc3RhdGljICRkaXNwbGF5RXJyb3JzID0gbnVsbDsKCnB1YmxpYyBmdW5jdGlvbiBfX2NvbnN0cnVjdCgpCnsKaWYgKG51bGwgPT09IHNlbGY6OiRkaXNwbGF5RXJyb3JzKSB7CnNlbGY6OiRkaXNwbGF5RXJyb3JzID0gaW5pX3NldCgnZGlzcGxheV9lcnJvcnMnLCAxKTsKfQp9CgpwdWJsaWMgZnVuY3Rpb24gX19kZXN0cnVjdCgpCnsKaWYgKG51bGwgIT09IHNlbGY6OiRkaXNwbGF5RXJyb3JzKSB7CmluaV9zZXQoJ2Rpc3BsYXlfZXJyb3JzJywgc2VsZjo6JGRpc3BsYXlFcnJvcnMpOwpzZWxmOjokZGlzcGxheUVycm9ycyA9IG51bGw7Cn0KfQp9Cjw/cGhwCgoKCgoKCgoKCgpuYW1lc3BhY2UgU3ltZm9ueVxDb21wb25lbnRcRGVidWdcRXhjZXB0aW9uOwoKCgoKCgpjbGFzcyBDbGFzc05vdEZvdW5kRXhjZXB0aW9uIGV4dGVuZHMgRmF0YWxFcnJvckV4Y2VwdGlvbgp7CnB1YmxpYyBmdW5jdGlvbiBfX2NvbnN0cnVjdCgkbWVzc2FnZSwgXEVycm9yRXhjZXB0aW9uICRwcmV2aW91cykKewpwYXJlbnQ6Ol9fY29uc3RydWN0KAokbWVzc2FnZSwKJHByZXZpb3VzLT5nZXRDb2RlKCksCiRwcmV2aW91cy0+Z2V0U2V2ZXJpdHkoKSwKJHByZXZpb3VzLT5nZXRGaWxlKCksCiRwcmV2aW91cy0+Z2V0TGluZSgpLApudWxsLAp0cnVlLApudWxsLAokcHJldmlvdXMtPmdldFByZXZpb3VzKCkKKTsKJHRoaXMtPnNldFRyYWNlKCRwcmV2aW91cy0+Z2V0VHJhY2UoKSk7Cn0KfQo8P3BocAoKCgoKCgoKCgoKbmFtZXNwYWNlIFN5bWZvbnlcQ29tcG9uZW50XERlYnVnXEV4Y2VwdGlvbjsKCgoKCgoKY2xhc3MgQ29udGV4dEVycm9yRXhjZXB0aW9uIGV4dGVuZHMgXEVycm9yRXhjZXB0aW9uCnsKcHJpdmF0ZSAkY29udGV4dCA9IGFycmF5KCk7CgpwdWJsaWMgZnVuY3Rpb24gX19jb25zdHJ1Y3QoJG1lc3NhZ2UsICRjb2RlLCAkc2V2ZXJpdHksICRmaWxlbmFtZSwgJGxpbmVubywgJGNvbnRleHQgPSBhcnJheSgpKQp7CnBhcmVudDo6X19jb25zdHJ1Y3QoJG1lc3NhZ2UsICRjb2RlLCAkc2V2ZXJpdHksICRmaWxlbmFtZSwgJGxpbmVubyk7CiR0aGlzLT5jb250ZXh0ID0gJGNvbnRleHQ7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBnZXRDb250ZXh0KCkKewpyZXR1cm4gJHRoaXMtPmNvbnRleHQ7Cn0KfQo8P3BocAoKCgoKCgoKCgoKbmFtZXNwYWNlIFN5bWZvbnlcQ29tcG9uZW50XERlYnVnXEV4Y2VwdGlvbjsKCkB0cmlnZ2VyX2Vycm9yKCdUaGUgJy5fX05BTUVTUEFDRV9fLidcRHVtbXlFeGNlcHRpb24gY2xhc3MgaXMgZGVwcmVjYXRlZCBzaW5jZSBTeW1mb255IDIuNSBhbmQgd2lsbCBiZSByZW1vdmVkIGluIDMuMC4nLCBFX1VTRVJfREVQUkVDQVRFRCk7CgoKCgoKCmNsYXNzIER1bW15RXhjZXB0aW9uIGV4dGVuZHMgXEVycm9yRXhjZXB0aW9uCnsKfQo8P3BocAoKCgoKCgoKCgoKbmFtZXNwYWNlIFN5bWZvbnlcQ29tcG9uZW50XEh0dHBLZXJuZWxcRXhjZXB0aW9uOwoKCgoKCgoKCgoKY2xhc3MgRmF0YWxFcnJvckV4Y2VwdGlvbiBleHRlbmRzIFxFcnJvckV4Y2VwdGlvbgp7Cn0KCm5hbWVzcGFjZSBTeW1mb255XENvbXBvbmVudFxEZWJ1Z1xFeGNlcHRpb247Cgp1c2UgU3ltZm9ueVxDb21wb25lbnRcSHR0cEtlcm5lbFxFeGNlcHRpb25cRmF0YWxFcnJvckV4Y2VwdGlvbiBhcyBMZWdhY3lGYXRhbEVycm9yRXhjZXB0aW9uOwoKCgoKCgpjbGFzcyBGYXRhbEVycm9yRXhjZXB0aW9uIGV4dGVuZHMgTGVnYWN5RmF0YWxFcnJvckV4Y2VwdGlvbgp7CnB1YmxpYyBmdW5jdGlvbiBfX2NvbnN0cnVjdCgkbWVzc2FnZSwgJGNvZGUsICRzZXZlcml0eSwgJGZpbGVuYW1lLCAkbGluZW5vLCAkdHJhY2VPZmZzZXQgPSBudWxsLCAkdHJhY2VBcmdzID0gdHJ1ZSwgYXJyYXkgJHRyYWNlID0gbnVsbCwgJHByZXZpb3VzID0gbnVsbCkKewpwYXJlbnQ6Ol9fY29uc3RydWN0KCRtZXNzYWdlLCAkY29kZSwgJHNldmVyaXR5LCAkZmlsZW5hbWUsICRsaW5lbm8sICRwcmV2aW91cyk7CgppZiAobnVsbCAhPT0gJHRyYWNlKSB7CmlmICghJHRyYWNlQXJncykgewpmb3JlYWNoICgkdHJhY2UgYXMgJiRmcmFtZSkgewp1bnNldCgkZnJhbWVbJ2FyZ3MnXSwgJGZyYW1lWyd0aGlzJ10sICRmcmFtZSk7Cn0KfQoKJHRoaXMtPnNldFRyYWNlKCR0cmFjZSk7Cn0gZWxzZWlmIChudWxsICE9PSAkdHJhY2VPZmZzZXQpIHsKaWYgKFxmdW5jdGlvbl9leGlzdHMoJ3hkZWJ1Z19nZXRfZnVuY3Rpb25fc3RhY2snKSkgewokdHJhY2UgPSB4ZGVidWdfZ2V0X2Z1bmN0aW9uX3N0YWNrKCk7CmlmICgwIDwgJHRyYWNlT2Zmc2V0KSB7CmFycmF5X3NwbGljZSgkdHJhY2UsIC0kdHJhY2VPZmZzZXQpOwp9Cgpmb3JlYWNoICgkdHJhY2UgYXMgJiRmcmFtZSkgewppZiAoIWlzc2V0KCRmcmFtZVsndHlwZSddKSkgewoKaWYgKGlzc2V0KCRmcmFtZVsnY2xhc3MnXSkpIHsKJGZyYW1lWyd0eXBlJ10gPSAnOjonOwp9Cn0gZWxzZWlmICgnZHluYW1pYycgPT09ICRmcmFtZVsndHlwZSddKSB7CiRmcmFtZVsndHlwZSddID0gJy0+JzsKfSBlbHNlaWYgKCdzdGF0aWMnID09PSAkZnJhbWVbJ3R5cGUnXSkgewokZnJhbWVbJ3R5cGUnXSA9ICc6Oic7Cn0KCgppZiAoISR0cmFjZUFyZ3MpIHsKdW5zZXQoJGZyYW1lWydwYXJhbXMnXSwgJGZyYW1lWydhcmdzJ10pOwp9IGVsc2VpZiAoaXNzZXQoJGZyYW1lWydwYXJhbXMnXSkgJiYgIWlzc2V0KCRmcmFtZVsnYXJncyddKSkgewokZnJhbWVbJ2FyZ3MnXSA9ICRmcmFtZVsncGFyYW1zJ107CnVuc2V0KCRmcmFtZVsncGFyYW1zJ10pOwp9Cn0KCnVuc2V0KCRmcmFtZSk7CiR0cmFjZSA9IGFycmF5X3JldmVyc2UoJHRyYWNlKTsKfSBlbHNlaWYgKFxmdW5jdGlvbl9leGlzdHMoJ3N5bWZvbnlfZGVidWdfYmFja3RyYWNlJykpIHsKJHRyYWNlID0gc3ltZm9ueV9kZWJ1Z19iYWNrdHJhY2UoKTsKaWYgKDAgPCAkdHJhY2VPZmZzZXQpIHsKYXJyYXlfc3BsaWNlKCR0cmFjZSwgMCwgJHRyYWNlT2Zmc2V0KTsKfQp9IGVsc2UgewokdHJhY2UgPSBhcnJheSgpOwp9CgokdGhpcy0+c2V0VHJhY2UoJHRyYWNlKTsKfQp9Cgpwcm90ZWN0ZWQgZnVuY3Rpb24gc2V0VHJhY2UoJHRyYWNlKQp7CiR0cmFjZVJlZmxlY3RvciA9IG5ldyBcUmVmbGVjdGlvblByb3BlcnR5KCdFeGNlcHRpb24nLCAndHJhY2UnKTsKJHRyYWNlUmVmbGVjdG9yLT5zZXRBY2Nlc3NpYmxlKHRydWUpOwokdHJhY2VSZWZsZWN0b3ItPnNldFZhbHVlKCR0aGlzLCAkdHJhY2UpOwp9Cn0KPD9waHAKCgoKCgoKCgoKCm5hbWVzcGFjZSBTeW1mb255XENvbXBvbmVudFxEZWJ1Z1xFeGNlcHRpb247CgoKCgoKCmNsYXNzIEZhdGFsVGhyb3dhYmxlRXJyb3IgZXh0ZW5kcyBGYXRhbEVycm9yRXhjZXB0aW9uCnsKcHVibGljIGZ1bmN0aW9uIF9fY29uc3RydWN0KFxUaHJvd2FibGUgJGUpCnsKaWYgKCRlIGluc3RhbmNlb2YgXFBhcnNlRXJyb3IpIHsKJG1lc3NhZ2UgPSAnUGFyc2UgZXJyb3I6ICcuJGUtPmdldE1lc3NhZ2UoKTsKJHNldmVyaXR5ID0gRV9QQVJTRTsKfSBlbHNlaWYgKCRlIGluc3RhbmNlb2YgXFR5cGVFcnJvcikgewokbWVzc2FnZSA9ICdUeXBlIGVycm9yOiAnLiRlLT5nZXRNZXNzYWdlKCk7CiRzZXZlcml0eSA9IEVfUkVDT1ZFUkFCTEVfRVJST1I7Cn0gZWxzZSB7CiRtZXNzYWdlID0gJGUtPmdldE1lc3NhZ2UoKTsKJHNldmVyaXR5ID0gRV9FUlJPUjsKfQoKXEVycm9yRXhjZXB0aW9uOjpfX2NvbnN0cnVjdCgKJG1lc3NhZ2UsCiRlLT5nZXRDb2RlKCksCiRzZXZlcml0eSwKJGUtPmdldEZpbGUoKSwKJGUtPmdldExpbmUoKSwKJGUtPmdldFByZXZpb3VzKCkKKTsKCiR0aGlzLT5zZXRUcmFjZSgkZS0+Z2V0VHJhY2UoKSk7Cn0KfQo8P3BocAoKCgoKCgoKCgoKbmFtZXNwYWNlIFN5bWZvbnlcQ29tcG9uZW50XEh0dHBLZXJuZWxcRXhjZXB0aW9uOwoKdXNlIFN5bWZvbnlcQ29tcG9uZW50XERlYnVnXEV4Y2VwdGlvblxGbGF0dGVuRXhjZXB0aW9uIGFzIERlYnVnRmxhdHRlbkV4Y2VwdGlvbjsKCgoKCgoKCgoKCmNsYXNzIEZsYXR0ZW5FeGNlcHRpb24Kewpwcml2YXRlICRoYW5kbGVyOwoKcHVibGljIHN0YXRpYyBmdW5jdGlvbiBfX2NhbGxTdGF0aWMoJG1ldGhvZCwgJGFyZ3MpCnsKaWYgKCFtZXRob2RfZXhpc3RzKCdTeW1mb255XENvbXBvbmVudFxEZWJ1Z1xFeGNlcHRpb25cRmxhdHRlbkV4Y2VwdGlvbicsICRtZXRob2QpKSB7CnRocm93IG5ldyBcQmFkTWV0aG9kQ2FsbEV4Y2VwdGlvbihzcHJpbnRmKCdDYWxsIHRvIHVuZGVmaW5lZCBtZXRob2QgJXM6OiVzKCknLCBcZ2V0X2NhbGxlZF9jbGFzcygpLCAkbWV0aG9kKSk7Cn0KCnJldHVybiBcY2FsbF91c2VyX2Z1bmNfYXJyYXkoYXJyYXkoJ1N5bWZvbnlcQ29tcG9uZW50XERlYnVnXEV4Y2VwdGlvblxGbGF0dGVuRXhjZXB0aW9uJywgJG1ldGhvZCksICRhcmdzKTsKfQoKcHVibGljIGZ1bmN0aW9uIF9fY2FsbCgkbWV0aG9kLCAkYXJncykKewppZiAoIWlzc2V0KCR0aGlzLT5oYW5kbGVyKSkgewokdGhpcy0+aGFuZGxlciA9IG5ldyBEZWJ1Z0ZsYXR0ZW5FeGNlcHRpb24oKTsKfQoKaWYgKCFtZXRob2RfZXhpc3RzKCR0aGlzLT5oYW5kbGVyLCAkbWV0aG9kKSkgewp0aHJvdyBuZXcgXEJhZE1ldGhvZENhbGxFeGNlcHRpb24oc3ByaW50ZignQ2FsbCB0byB1bmRlZmluZWQgbWV0aG9kICVzOjolcygpJywgXGdldF9jbGFzcygkdGhpcyksICRtZXRob2QpKTsKfQoKcmV0dXJuIFxjYWxsX3VzZXJfZnVuY19hcnJheShhcnJheSgkdGhpcy0+aGFuZGxlciwgJG1ldGhvZCksICRhcmdzKTsKfQp9CgpuYW1lc3BhY2UgU3ltZm9ueVxDb21wb25lbnRcRGVidWdcRXhjZXB0aW9uOwoKdXNlIFN5bWZvbnlcQ29tcG9uZW50XEh0dHBLZXJuZWxcRXhjZXB0aW9uXEZsYXR0ZW5FeGNlcHRpb24gYXMgTGVnYWN5RmxhdHRlbkV4Y2VwdGlvbjsKdXNlIFN5bWZvbnlcQ29tcG9uZW50XEh0dHBLZXJuZWxcRXhjZXB0aW9uXEh0dHBFeGNlcHRpb25JbnRlcmZhY2U7CgoKCgoKCgoKY2xhc3MgRmxhdHRlbkV4Y2VwdGlvbiBleHRlbmRzIExlZ2FjeUZsYXR0ZW5FeGNlcHRpb24Kewpwcml2YXRlICRtZXNzYWdlOwpwcml2YXRlICRjb2RlOwpwcml2YXRlICRwcmV2aW91czsKcHJpdmF0ZSAkdHJhY2U7CnByaXZhdGUgJGNsYXNzOwpwcml2YXRlICRzdGF0dXNDb2RlOwpwcml2YXRlICRoZWFkZXJzOwpwcml2YXRlICRmaWxlOwpwcml2YXRlICRsaW5lOwoKcHVibGljIHN0YXRpYyBmdW5jdGlvbiBjcmVhdGUoXEV4Y2VwdGlvbiAkZXhjZXB0aW9uLCAkc3RhdHVzQ29kZSA9IG51bGwsIGFycmF5ICRoZWFkZXJzID0gYXJyYXkoKSkKewokZSA9IG5ldyBzdGF0aWMoKTsKJGUtPnNldE1lc3NhZ2UoJGV4Y2VwdGlvbi0+Z2V0TWVzc2FnZSgpKTsKJGUtPnNldENvZGUoJGV4Y2VwdGlvbi0+Z2V0Q29kZSgpKTsKCmlmICgkZXhjZXB0aW9uIGluc3RhbmNlb2YgSHR0cEV4Y2VwdGlvbkludGVyZmFjZSkgewokc3RhdHVzQ29kZSA9ICRleGNlcHRpb24tPmdldFN0YXR1c0NvZGUoKTsKJGhlYWRlcnMgPSBhcnJheV9tZXJnZSgkaGVhZGVycywgJGV4Y2VwdGlvbi0+Z2V0SGVhZGVycygpKTsKfQoKaWYgKG51bGwgPT09ICRzdGF0dXNDb2RlKSB7CiRzdGF0dXNDb2RlID0gNTAwOwp9CgokZS0+c2V0U3RhdHVzQ29kZSgkc3RhdHVzQ29kZSk7CiRlLT5zZXRIZWFkZXJzKCRoZWFkZXJzKTsKJGUtPnNldFRyYWNlRnJvbUV4Y2VwdGlvbigkZXhjZXB0aW9uKTsKJGUtPnNldENsYXNzKFxnZXRfY2xhc3MoJGV4Y2VwdGlvbikpOwokZS0+c2V0RmlsZSgkZXhjZXB0aW9uLT5nZXRGaWxlKCkpOwokZS0+c2V0TGluZSgkZXhjZXB0aW9uLT5nZXRMaW5lKCkpOwoKJHByZXZpb3VzID0gJGV4Y2VwdGlvbi0+Z2V0UHJldmlvdXMoKTsKCmlmICgkcHJldmlvdXMgaW5zdGFuY2VvZiBcRXhjZXB0aW9uKSB7CiRlLT5zZXRQcmV2aW91cyhzdGF0aWM6OmNyZWF0ZSgkcHJldmlvdXMpKTsKfSBlbHNlaWYgKCRwcmV2aW91cyBpbnN0YW5jZW9mIFxUaHJvd2FibGUpIHsKJGUtPnNldFByZXZpb3VzKHN0YXRpYzo6Y3JlYXRlKG5ldyBGYXRhbFRocm93YWJsZUVycm9yKCRwcmV2aW91cykpKTsKfQoKcmV0dXJuICRlOwp9CgpwdWJsaWMgZnVuY3Rpb24gdG9BcnJheSgpCnsKJGV4Y2VwdGlvbnMgPSBhcnJheSgpOwpmb3JlYWNoIChhcnJheV9tZXJnZShhcnJheSgkdGhpcyksICR0aGlzLT5nZXRBbGxQcmV2aW91cygpKSBhcyAkZXhjZXB0aW9uKSB7CiRleGNlcHRpb25zW10gPSBhcnJheSgKJ21lc3NhZ2UnID0+ICRleGNlcHRpb24tPmdldE1lc3NhZ2UoKSwKJ2NsYXNzJyA9PiAkZXhjZXB0aW9uLT5nZXRDbGFzcygpLAondHJhY2UnID0+ICRleGNlcHRpb24tPmdldFRyYWNlKCksCik7Cn0KCnJldHVybiAkZXhjZXB0aW9uczsKfQoKcHVibGljIGZ1bmN0aW9uIGdldFN0YXR1c0NvZGUoKQp7CnJldHVybiAkdGhpcy0+c3RhdHVzQ29kZTsKfQoKcHVibGljIGZ1bmN0aW9uIHNldFN0YXR1c0NvZGUoJGNvZGUpCnsKJHRoaXMtPnN0YXR1c0NvZGUgPSAkY29kZTsKfQoKcHVibGljIGZ1bmN0aW9uIGdldEhlYWRlcnMoKQp7CnJldHVybiAkdGhpcy0+aGVhZGVyczsKfQoKcHVibGljIGZ1bmN0aW9uIHNldEhlYWRlcnMoYXJyYXkgJGhlYWRlcnMpCnsKJHRoaXMtPmhlYWRlcnMgPSAkaGVhZGVyczsKfQoKcHVibGljIGZ1bmN0aW9uIGdldENsYXNzKCkKewpyZXR1cm4gJHRoaXMtPmNsYXNzOwp9CgpwdWJsaWMgZnVuY3Rpb24gc2V0Q2xhc3MoJGNsYXNzKQp7CiR0aGlzLT5jbGFzcyA9ICRjbGFzczsKfQoKcHVibGljIGZ1bmN0aW9uIGdldEZpbGUoKQp7CnJldHVybiAkdGhpcy0+ZmlsZTsKfQoKcHVibGljIGZ1bmN0aW9uIHNldEZpbGUoJGZpbGUpCnsKJHRoaXMtPmZpbGUgPSAkZmlsZTsKfQoKcHVibGljIGZ1bmN0aW9uIGdldExpbmUoKQp7CnJldHVybiAkdGhpcy0+bGluZTsKfQoKcHVibGljIGZ1bmN0aW9uIHNldExpbmUoJGxpbmUpCnsKJHRoaXMtPmxpbmUgPSAkbGluZTsKfQoKcHVibGljIGZ1bmN0aW9uIGdldE1lc3NhZ2UoKQp7CnJldHVybiAkdGhpcy0+bWVzc2FnZTsKfQoKcHVibGljIGZ1bmN0aW9uIHNldE1lc3NhZ2UoJG1lc3NhZ2UpCnsKJHRoaXMtPm1lc3NhZ2UgPSAkbWVzc2FnZTsKfQoKcHVibGljIGZ1bmN0aW9uIGdldENvZGUoKQp7CnJldHVybiAkdGhpcy0+Y29kZTsKfQoKcHVibGljIGZ1bmN0aW9uIHNldENvZGUoJGNvZGUpCnsKJHRoaXMtPmNvZGUgPSAkY29kZTsKfQoKcHVibGljIGZ1bmN0aW9uIGdldFByZXZpb3VzKCkKewpyZXR1cm4gJHRoaXMtPnByZXZpb3VzOwp9CgpwdWJsaWMgZnVuY3Rpb24gc2V0UHJldmlvdXMoRmxhdHRlbkV4Y2VwdGlvbiAkcHJldmlvdXMpCnsKJHRoaXMtPnByZXZpb3VzID0gJHByZXZpb3VzOwp9CgpwdWJsaWMgZnVuY3Rpb24gZ2V0QWxsUHJldmlvdXMoKQp7CiRleGNlcHRpb25zID0gYXJyYXkoKTsKJGUgPSAkdGhpczsKd2hpbGUgKCRlID0gJGUtPmdldFByZXZpb3VzKCkpIHsKJGV4Y2VwdGlvbnNbXSA9ICRlOwp9CgpyZXR1cm4gJGV4Y2VwdGlvbnM7Cn0KCnB1YmxpYyBmdW5jdGlvbiBnZXRUcmFjZSgpCnsKcmV0dXJuICR0aGlzLT50cmFjZTsKfQoKcHVibGljIGZ1bmN0aW9uIHNldFRyYWNlRnJvbUV4Y2VwdGlvbihcRXhjZXB0aW9uICRleGNlcHRpb24pCnsKJHRoaXMtPnNldFRyYWNlKCRleGNlcHRpb24tPmdldFRyYWNlKCksICRleGNlcHRpb24tPmdldEZpbGUoKSwgJGV4Y2VwdGlvbi0+Z2V0TGluZSgpKTsKfQoKcHVibGljIGZ1bmN0aW9uIHNldFRyYWNlKCR0cmFjZSwgJGZpbGUsICRsaW5lKQp7CiR0aGlzLT50cmFjZSA9IGFycmF5KCk7CiR0aGlzLT50cmFjZVtdID0gYXJyYXkoCiduYW1lc3BhY2UnID0+ICcnLAonc2hvcnRfY2xhc3MnID0+ICcnLAonY2xhc3MnID0+ICcnLAondHlwZScgPT4gJycsCidmdW5jdGlvbicgPT4gJycsCidmaWxlJyA9PiAkZmlsZSwKJ2xpbmUnID0+ICRsaW5lLAonYXJncycgPT4gYXJyYXkoKSwKKTsKZm9yZWFjaCAoJHRyYWNlIGFzICRlbnRyeSkgewokY2xhc3MgPSAnJzsKJG5hbWVzcGFjZSA9ICcnOwppZiAoaXNzZXQoJGVudHJ5WydjbGFzcyddKSkgewokcGFydHMgPSBleHBsb2RlKCdcXCcsICRlbnRyeVsnY2xhc3MnXSk7CiRjbGFzcyA9IGFycmF5X3BvcCgkcGFydHMpOwokbmFtZXNwYWNlID0gaW1wbG9kZSgnXFwnLCAkcGFydHMpOwp9CgokdGhpcy0+dHJhY2VbXSA9IGFycmF5KAonbmFtZXNwYWNlJyA9PiAkbmFtZXNwYWNlLAonc2hvcnRfY2xhc3MnID0+ICRjbGFzcywKJ2NsYXNzJyA9PiBpc3NldCgkZW50cnlbJ2NsYXNzJ10pID8gJGVudHJ5WydjbGFzcyddIDogJycsCid0eXBlJyA9PiBpc3NldCgkZW50cnlbJ3R5cGUnXSkgPyAkZW50cnlbJ3R5cGUnXSA6ICcnLAonZnVuY3Rpb24nID0+IGlzc2V0KCRlbnRyeVsnZnVuY3Rpb24nXSkgPyAkZW50cnlbJ2Z1bmN0aW9uJ10gOiBudWxsLAonZmlsZScgPT4gaXNzZXQoJGVudHJ5WydmaWxlJ10pID8gJGVudHJ5WydmaWxlJ10gOiBudWxsLAonbGluZScgPT4gaXNzZXQoJGVudHJ5WydsaW5lJ10pID8gJGVudHJ5WydsaW5lJ10gOiBudWxsLAonYXJncycgPT4gaXNzZXQoJGVudHJ5WydhcmdzJ10pID8gJHRoaXMtPmZsYXR0ZW5BcmdzKCRlbnRyeVsnYXJncyddKSA6IGFycmF5KCksCik7Cn0KfQoKcHJpdmF0ZSBmdW5jdGlvbiBmbGF0dGVuQXJncygkYXJncywgJGxldmVsID0gMCwgJiRjb3VudCA9IDApCnsKJHJlc3VsdCA9IGFycmF5KCk7CmZvcmVhY2ggKCRhcmdzIGFzICRrZXkgPT4gJHZhbHVlKSB7CmlmICgrKyRjb3VudCA+IDFlNCkgewpyZXR1cm4gYXJyYXkoJ2FycmF5JywgJypTS0lQUEVEIG92ZXIgMTAwMDAgZW50cmllcyonKTsKfQppZiAoJHZhbHVlIGluc3RhbmNlb2YgXF9fUEhQX0luY29tcGxldGVfQ2xhc3MpIHsKCiRyZXN1bHRbJGtleV0gPSBhcnJheSgnaW5jb21wbGV0ZS1vYmplY3QnLCAkdGhpcy0+Z2V0Q2xhc3NOYW1lRnJvbUluY29tcGxldGUoJHZhbHVlKSk7Cn0gZWxzZWlmIChcaXNfb2JqZWN0KCR2YWx1ZSkpIHsKJHJlc3VsdFska2V5XSA9IGFycmF5KCdvYmplY3QnLCBcZ2V0X2NsYXNzKCR2YWx1ZSkpOwp9IGVsc2VpZiAoXGlzX2FycmF5KCR2YWx1ZSkpIHsKaWYgKCRsZXZlbCA+IDEwKSB7CiRyZXN1bHRbJGtleV0gPSBhcnJheSgnYXJyYXknLCAnKkRFRVAgTkVTVEVEIEFSUkFZKicpOwp9IGVsc2UgewokcmVzdWx0WyRrZXldID0gYXJyYXkoJ2FycmF5JywgJHRoaXMtPmZsYXR0ZW5BcmdzKCR2YWx1ZSwgJGxldmVsICsgMSwgJGNvdW50KSk7Cn0KfSBlbHNlaWYgKG51bGwgPT09ICR2YWx1ZSkgewokcmVzdWx0WyRrZXldID0gYXJyYXkoJ251bGwnLCBudWxsKTsKfSBlbHNlaWYgKFxpc19ib29sKCR2YWx1ZSkpIHsKJHJlc3VsdFska2V5XSA9IGFycmF5KCdib29sZWFuJywgJHZhbHVlKTsKfSBlbHNlaWYgKFxpc19yZXNvdXJjZSgkdmFsdWUpKSB7CiRyZXN1bHRbJGtleV0gPSBhcnJheSgncmVzb3VyY2UnLCBnZXRfcmVzb3VyY2VfdHlwZSgkdmFsdWUpKTsKfSBlbHNlIHsKJHJlc3VsdFska2V5XSA9IGFycmF5KCdzdHJpbmcnLCAoc3RyaW5nKSAkdmFsdWUpOwp9Cn0KCnJldHVybiAkcmVzdWx0Owp9Cgpwcml2YXRlIGZ1bmN0aW9uIGdldENsYXNzTmFtZUZyb21JbmNvbXBsZXRlKFxfX1BIUF9JbmNvbXBsZXRlX0NsYXNzICR2YWx1ZSkKewokYXJyYXkgPSBuZXcgXEFycmF5T2JqZWN0KCR2YWx1ZSk7CgpyZXR1cm4gJGFycmF5WydfX1BIUF9JbmNvbXBsZXRlX0NsYXNzX05hbWUnXTsKfQp9Cjw/cGhwCgoKCgoKCgoKCgpuYW1lc3BhY2UgU3ltZm9ueVxDb21wb25lbnRcRGVidWdcRXhjZXB0aW9uOwoKCgoKCgpjbGFzcyBPdXRPZk1lbW9yeUV4Y2VwdGlvbiBleHRlbmRzIEZhdGFsRXJyb3JFeGNlcHRpb24Kewp9Cjw/cGhwCgoKCgoKCgoKCgpuYW1lc3BhY2UgU3ltZm9ueVxDb21wb25lbnRcRGVidWdcRXhjZXB0aW9uOwoKCgoKCgpjbGFzcyBVbmRlZmluZWRGdW5jdGlvbkV4Y2VwdGlvbiBleHRlbmRzIEZhdGFsRXJyb3JFeGNlcHRpb24KewpwdWJsaWMgZnVuY3Rpb24gX19jb25zdHJ1Y3QoJG1lc3NhZ2UsIFxFcnJvckV4Y2VwdGlvbiAkcHJldmlvdXMpCnsKcGFyZW50OjpfX2NvbnN0cnVjdCgKJG1lc3NhZ2UsCiRwcmV2aW91cy0+Z2V0Q29kZSgpLAokcHJldmlvdXMtPmdldFNldmVyaXR5KCksCiRwcmV2aW91cy0+Z2V0RmlsZSgpLAokcHJldmlvdXMtPmdldExpbmUoKSwKbnVsbCwKdHJ1ZSwKbnVsbCwKJHByZXZpb3VzLT5nZXRQcmV2aW91cygpCik7CiR0aGlzLT5zZXRUcmFjZSgkcHJldmlvdXMtPmdldFRyYWNlKCkpOwp9Cn0KPD9waHAKCgoKCgoKCgoKCm5hbWVzcGFjZSBTeW1mb255XENvbXBvbmVudFxEZWJ1Z1xFeGNlcHRpb247CgoKCgoKCmNsYXNzIFVuZGVmaW5lZE1ldGhvZEV4Y2VwdGlvbiBleHRlbmRzIEZhdGFsRXJyb3JFeGNlcHRpb24KewpwdWJsaWMgZnVuY3Rpb24gX19jb25zdHJ1Y3QoJG1lc3NhZ2UsIFxFcnJvckV4Y2VwdGlvbiAkcHJldmlvdXMpCnsKcGFyZW50OjpfX2NvbnN0cnVjdCgKJG1lc3NhZ2UsCiRwcmV2aW91cy0+Z2V0Q29kZSgpLAokcHJldmlvdXMtPmdldFNldmVyaXR5KCksCiRwcmV2aW91cy0+Z2V0RmlsZSgpLAokcHJldmlvdXMtPmdldExpbmUoKSwKbnVsbCwKdHJ1ZSwKbnVsbCwKJHByZXZpb3VzLT5nZXRQcmV2aW91cygpCik7CiR0aGlzLT5zZXRUcmFjZSgkcHJldmlvdXMtPmdldFRyYWNlKCkpOwp9Cn0KPD9waHAKCgoKCgoKCgoKCm5hbWVzcGFjZSBTeW1mb255XENvbXBvbmVudFxEZWJ1ZzsKCnVzZSBTeW1mb255XENvbXBvbmVudFxEZWJ1Z1xFeGNlcHRpb25cRmxhdHRlbkV4Y2VwdGlvbjsKdXNlIFN5bWZvbnlcQ29tcG9uZW50XERlYnVnXEV4Y2VwdGlvblxPdXRPZk1lbW9yeUV4Y2VwdGlvbjsKdXNlIFN5bWZvbnlcQ29tcG9uZW50XEh0dHBGb3VuZGF0aW9uXFJlc3BvbnNlOwoKCgoKCgoKCgoKCgoKY2xhc3MgRXhjZXB0aW9uSGFuZGxlcgp7CnByaXZhdGUgJGRlYnVnOwpwcml2YXRlICRjaGFyc2V0Owpwcml2YXRlICRoYW5kbGVyOwpwcml2YXRlICRjYXVnaHRCdWZmZXI7CnByaXZhdGUgJGNhdWdodExlbmd0aDsKcHJpdmF0ZSAkZmlsZUxpbmtGb3JtYXQ7CgpwdWJsaWMgZnVuY3Rpb24gX19jb25zdHJ1Y3QoJGRlYnVnID0gdHJ1ZSwgJGNoYXJzZXQgPSBudWxsLCAkZmlsZUxpbmtGb3JtYXQgPSBudWxsKQp7CmlmIChmYWxzZSAhPT0gc3RycG9zKCRjaGFyc2V0LCAnJScpKSB7CkB0cmlnZ2VyX2Vycm9yKCdQcm92aWRpbmcgJGZpbGVMaW5rRm9ybWF0IGFzIHNlY29uZCBhcmd1bWVudCB0byAnLl9fTUVUSE9EX18uJyBpcyBkZXByZWNhdGVkIHNpbmNlIFN5bWZvbnkgMi44IGFuZCB3aWxsIGJlIHVuc3VwcG9ydGVkIGluIDMuMC4gUGxlYXNlIHByb3ZpZGUgaXQgYXMgdGhpcmQgYXJndW1lbnQsIGFmdGVyICRjaGFyc2V0LicsIEVfVVNFUl9ERVBSRUNBVEVEKTsKCgokcGl2b3QgPSAkZmlsZUxpbmtGb3JtYXQ7CiRmaWxlTGlua0Zvcm1hdCA9ICRjaGFyc2V0OwokY2hhcnNldCA9ICRwaXZvdDsKfQokdGhpcy0+ZGVidWcgPSAkZGVidWc7CiR0aGlzLT5jaGFyc2V0ID0gJGNoYXJzZXQgPzogaW5pX2dldCgnZGVmYXVsdF9jaGFyc2V0JykgPzogJ1VURi04JzsKJHRoaXMtPmZpbGVMaW5rRm9ybWF0ID0gJGZpbGVMaW5rRm9ybWF0ID86IGluaV9nZXQoJ3hkZWJ1Zy5maWxlX2xpbmtfZm9ybWF0JykgPzogZ2V0X2NmZ192YXIoJ3hkZWJ1Zy5maWxlX2xpbmtfZm9ybWF0Jyk7Cn0KCgoKCgoKCgoKCnB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gcmVnaXN0ZXIoJGRlYnVnID0gdHJ1ZSwgJGNoYXJzZXQgPSBudWxsLCAkZmlsZUxpbmtGb3JtYXQgPSBudWxsKQp7CiRoYW5kbGVyID0gbmV3IHN0YXRpYygkZGVidWcsICRjaGFyc2V0LCAkZmlsZUxpbmtGb3JtYXQpOwoKJHByZXYgPSBzZXRfZXhjZXB0aW9uX2hhbmRsZXIoYXJyYXkoJGhhbmRsZXIsICdoYW5kbGUnKSk7CmlmIChcaXNfYXJyYXkoJHByZXYpICYmICRwcmV2WzBdIGluc3RhbmNlb2YgRXJyb3JIYW5kbGVyKSB7CnJlc3RvcmVfZXhjZXB0aW9uX2hhbmRsZXIoKTsKJHByZXZbMF0tPnNldEV4Y2VwdGlvbkhhbmRsZXIoYXJyYXkoJGhhbmRsZXIsICdoYW5kbGUnKSk7Cn0KCnJldHVybiAkaGFuZGxlcjsKfQoKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBzZXRIYW5kbGVyKCRoYW5kbGVyKQp7CmlmIChudWxsICE9PSAkaGFuZGxlciAmJiAhXGlzX2NhbGxhYmxlKCRoYW5kbGVyKSkgewp0aHJvdyBuZXcgXExvZ2ljRXhjZXB0aW9uKCdUaGUgZXhjZXB0aW9uIGhhbmRsZXIgbXVzdCBiZSBhIHZhbGlkIFBIUCBjYWxsYWJsZS4nKTsKfQokb2xkID0gJHRoaXMtPmhhbmRsZXI7CiR0aGlzLT5oYW5kbGVyID0gJGhhbmRsZXI7CgpyZXR1cm4gJG9sZDsKfQoKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBzZXRGaWxlTGlua0Zvcm1hdCgkZm9ybWF0KQp7CiRvbGQgPSAkdGhpcy0+ZmlsZUxpbmtGb3JtYXQ7CiR0aGlzLT5maWxlTGlua0Zvcm1hdCA9ICRmb3JtYXQ7CgpyZXR1cm4gJG9sZDsKfQoKCgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gaGFuZGxlKFxFeGNlcHRpb24gJGV4Y2VwdGlvbikKewppZiAobnVsbCA9PT0gJHRoaXMtPmhhbmRsZXIgfHwgJGV4Y2VwdGlvbiBpbnN0YW5jZW9mIE91dE9mTWVtb3J5RXhjZXB0aW9uKSB7CiR0aGlzLT5mYWlsU2FmZUhhbmRsZSgkZXhjZXB0aW9uKTsKCnJldHVybjsKfQoKJGNhdWdodExlbmd0aCA9ICR0aGlzLT5jYXVnaHRMZW5ndGggPSAwOwoKb2Jfc3RhcnQoYXJyYXkoJHRoaXMsICdjYXRjaE91dHB1dCcpKTsKJHRoaXMtPmZhaWxTYWZlSGFuZGxlKCRleGNlcHRpb24pOwp3aGlsZSAobnVsbCA9PT0gJHRoaXMtPmNhdWdodEJ1ZmZlciAmJiBvYl9lbmRfZmx1c2goKSkgewoKfQppZiAoaXNzZXQoJHRoaXMtPmNhdWdodEJ1ZmZlclswXSkpIHsKb2Jfc3RhcnQoYXJyYXkoJHRoaXMsICdjbGVhbk91dHB1dCcpKTsKZWNobyAkdGhpcy0+Y2F1Z2h0QnVmZmVyOwokY2F1Z2h0TGVuZ3RoID0gb2JfZ2V0X2xlbmd0aCgpOwp9CiR0aGlzLT5jYXVnaHRCdWZmZXIgPSBudWxsOwoKdHJ5IHsKXGNhbGxfdXNlcl9mdW5jKCR0aGlzLT5oYW5kbGVyLCAkZXhjZXB0aW9uKTsKJHRoaXMtPmNhdWdodExlbmd0aCA9ICRjYXVnaHRMZW5ndGg7Cn0gY2F0Y2ggKFxFeGNlcHRpb24gJGUpIHsKaWYgKCEkY2F1Z2h0TGVuZ3RoKSB7Cgp0aHJvdyAkZXhjZXB0aW9uOwp9Cn0KfQoKCgoKCgoKCnByaXZhdGUgZnVuY3Rpb24gZmFpbFNhZmVIYW5kbGUoXEV4Y2VwdGlvbiAkZXhjZXB0aW9uKQp7CmlmIChjbGFzc19leGlzdHMoJ1N5bWZvbnlcQ29tcG9uZW50XEh0dHBGb3VuZGF0aW9uXFJlc3BvbnNlJywgZmFsc2UpCiYmIF9fQ0xBU1NfXyAhPT0gXGdldF9jbGFzcygkdGhpcykKJiYgKCRyZWZsZWN0b3IgPSBuZXcgXFJlZmxlY3Rpb25NZXRob2QoJHRoaXMsICdjcmVhdGVSZXNwb25zZScpKQomJiBfX0NMQVNTX18gIT09ICRyZWZsZWN0b3ItPmNsYXNzCikgewokcmVzcG9uc2UgPSAkdGhpcy0+Y3JlYXRlUmVzcG9uc2UoJGV4Y2VwdGlvbik7CiRyZXNwb25zZS0+c2VuZEhlYWRlcnMoKTsKJHJlc3BvbnNlLT5zZW5kQ29udGVudCgpOwpAdHJpZ2dlcl9lcnJvcihzcHJpbnRmKCJUaGUgJXM6OmNyZWF0ZVJlc3BvbnNlIG1ldGhvZCBpcyBkZXByZWNhdGVkIHNpbmNlIFN5bWZvbnkgMi44IGFuZCB3b24ndCBiZSBjYWxsZWQgYW55bW9yZSB3aGVuIGhhbmRsaW5nIGFuIGV4Y2VwdGlvbiBpbiAzLjAuIiwgJHJlZmxlY3Rvci0+Y2xhc3MpLCBFX1VTRVJfREVQUkVDQVRFRCk7CgpyZXR1cm47Cn0KCiR0aGlzLT5zZW5kUGhwUmVzcG9uc2UoJGV4Y2VwdGlvbik7Cn0KCgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIHNlbmRQaHBSZXNwb25zZSgkZXhjZXB0aW9uKQp7CmlmICghJGV4Y2VwdGlvbiBpbnN0YW5jZW9mIEZsYXR0ZW5FeGNlcHRpb24pIHsKJGV4Y2VwdGlvbiA9IEZsYXR0ZW5FeGNlcHRpb246OmNyZWF0ZSgkZXhjZXB0aW9uKTsKfQoKaWYgKCFoZWFkZXJzX3NlbnQoKSkgewpoZWFkZXIoc3ByaW50ZignSFRUUC8xLjAgJXMnLCAkZXhjZXB0aW9uLT5nZXRTdGF0dXNDb2RlKCkpKTsKZm9yZWFjaCAoJGV4Y2VwdGlvbi0+Z2V0SGVhZGVycygpIGFzICRuYW1lID0+ICR2YWx1ZSkgewpoZWFkZXIoJG5hbWUuJzogJy4kdmFsdWUsIGZhbHNlKTsKfQpoZWFkZXIoJ0NvbnRlbnQtVHlwZTogdGV4dC9odG1sOyBjaGFyc2V0PScuJHRoaXMtPmNoYXJzZXQpOwp9CgplY2hvICR0aGlzLT5kZWNvcmF0ZSgkdGhpcy0+Z2V0Q29udGVudCgkZXhjZXB0aW9uKSwgJHRoaXMtPmdldFN0eWxlc2hlZXQoJGV4Y2VwdGlvbikpOwp9CgoKCgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gY3JlYXRlUmVzcG9uc2UoJGV4Y2VwdGlvbikKewpAdHJpZ2dlcl9lcnJvcignVGhlICcuX19NRVRIT0RfXy4nIG1ldGhvZCBpcyBkZXByZWNhdGVkIHNpbmNlIFN5bWZvbnkgMi44IGFuZCB3aWxsIGJlIHJlbW92ZWQgaW4gMy4wLicsIEVfVVNFUl9ERVBSRUNBVEVEKTsKCmlmICghJGV4Y2VwdGlvbiBpbnN0YW5jZW9mIEZsYXR0ZW5FeGNlcHRpb24pIHsKJGV4Y2VwdGlvbiA9IEZsYXR0ZW5FeGNlcHRpb246OmNyZWF0ZSgkZXhjZXB0aW9uKTsKfQoKcmV0dXJuIFJlc3BvbnNlOjpjcmVhdGUoJHRoaXMtPmdldEh0bWwoJGV4Y2VwdGlvbiksICRleGNlcHRpb24tPmdldFN0YXR1c0NvZGUoKSwgJGV4Y2VwdGlvbi0+Z2V0SGVhZGVycygpKS0+c2V0Q2hhcnNldCgkdGhpcy0+Y2hhcnNldCk7Cn0KCgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0SHRtbCgkZXhjZXB0aW9uKQp7CmlmICghJGV4Y2VwdGlvbiBpbnN0YW5jZW9mIEZsYXR0ZW5FeGNlcHRpb24pIHsKJGV4Y2VwdGlvbiA9IEZsYXR0ZW5FeGNlcHRpb246OmNyZWF0ZSgkZXhjZXB0aW9uKTsKfQoKcmV0dXJuICR0aGlzLT5kZWNvcmF0ZSgkdGhpcy0+Z2V0Q29udGVudCgkZXhjZXB0aW9uKSwgJHRoaXMtPmdldFN0eWxlc2hlZXQoJGV4Y2VwdGlvbikpOwp9CgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBnZXRDb250ZW50KEZsYXR0ZW5FeGNlcHRpb24gJGV4Y2VwdGlvbikKewpzd2l0Y2ggKCRleGNlcHRpb24tPmdldFN0YXR1c0NvZGUoKSkgewpjYXNlIDQwNDoKJHRpdGxlID0gJ1NvcnJ5LCB0aGUgcGFnZSB5b3UgYXJlIGxvb2tpbmcgZm9yIGNvdWxkIG5vdCBiZSBmb3VuZC4nOwpicmVhazsKZGVmYXVsdDoKJHRpdGxlID0gJ1dob29wcywgbG9va3MgbGlrZSBzb21ldGhpbmcgd2VudCB3cm9uZy4nOwp9CgokY29udGVudCA9ICcnOwppZiAoJHRoaXMtPmRlYnVnKSB7CnRyeSB7CiRjb3VudCA9IFxjb3VudCgkZXhjZXB0aW9uLT5nZXRBbGxQcmV2aW91cygpKTsKJHRvdGFsID0gJGNvdW50ICsgMTsKZm9yZWFjaCAoJGV4Y2VwdGlvbi0+dG9BcnJheSgpIGFzICRwb3NpdGlvbiA9PiAkZSkgewokaW5kID0gJGNvdW50IC0gJHBvc2l0aW9uICsgMTsKJGNsYXNzID0gJHRoaXMtPmZvcm1hdENsYXNzKCRlWydjbGFzcyddKTsKJG1lc3NhZ2UgPSBubDJicigkdGhpcy0+ZXNjYXBlSHRtbCgkZVsnbWVzc2FnZSddKSk7CiRjb250ZW50IC49IHNwcmludGYoPDw8J0VPRicKICAgICAgICAgICAgICAgICAgICAgICAgPGgyIGNsYXNzPSJibG9ja19leGNlcHRpb24gY2xlYXJfZml4Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJleGNlcHRpb25fY291bnRlciI+JWQvJWQ8L3NwYW4+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0iZXhjZXB0aW9uX3RpdGxlIj4lcyVzOjwvc3Bhbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJleGNlcHRpb25fbWVzc2FnZSI+JXM8L3NwYW4+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvaDI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImJsb2NrIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxvbCBjbGFzcz0idHJhY2VzIGxpc3RfZXhjZXB0aW9uIj4KCkVPRgosICRpbmQsICR0b3RhbCwgJGNsYXNzLCAkdGhpcy0+Zm9ybWF0UGF0aCgkZVsndHJhY2UnXVswXVsnZmlsZSddLCAkZVsndHJhY2UnXVswXVsnbGluZSddKSwgJG1lc3NhZ2UpOwpmb3JlYWNoICgkZVsndHJhY2UnXSBhcyAkdHJhY2UpIHsKJGNvbnRlbnQgLj0gJyAgICAgICA8bGk+JzsKaWYgKCR0cmFjZVsnZnVuY3Rpb24nXSkgewokY29udGVudCAuPSBzcHJpbnRmKCdhdCAlcyVzJXMoJXMpJywgJHRoaXMtPmZvcm1hdENsYXNzKCR0cmFjZVsnY2xhc3MnXSksICR0cmFjZVsndHlwZSddLCAkdHJhY2VbJ2Z1bmN0aW9uJ10sICR0aGlzLT5mb3JtYXRBcmdzKCR0cmFjZVsnYXJncyddKSk7Cn0KaWYgKGlzc2V0KCR0cmFjZVsnZmlsZSddKSAmJiBpc3NldCgkdHJhY2VbJ2xpbmUnXSkpIHsKJGNvbnRlbnQgLj0gJHRoaXMtPmZvcm1hdFBhdGgoJHRyYWNlWydmaWxlJ10sICR0cmFjZVsnbGluZSddKTsKfQokY29udGVudCAuPSAiPC9saT5cbiI7Cn0KCiRjb250ZW50IC49ICIgICAgPC9vbD5cbjwvZGl2PlxuIjsKfQp9IGNhdGNoIChcRXhjZXB0aW9uICRlKSB7CgppZiAoJHRoaXMtPmRlYnVnKSB7CiR0aXRsZSA9IHNwcmludGYoJ0V4Y2VwdGlvbiB0aHJvd24gd2hlbiBoYW5kbGluZyBhbiBleGNlcHRpb24gKCVzOiAlcyknLCBcZ2V0X2NsYXNzKCRlKSwgJHRoaXMtPmVzY2FwZUh0bWwoJGUtPmdldE1lc3NhZ2UoKSkpOwp9IGVsc2UgewokdGl0bGUgPSAnV2hvb3BzLCBsb29rcyBsaWtlIHNvbWV0aGluZyB3ZW50IHdyb25nLic7Cn0KfQp9CgpyZXR1cm4gPDw8RU9GCiAgICAgICAgICAgIDxkaXYgaWQ9InNmLXJlc2V0Y29udGVudCIgY2xhc3M9InNmLXJlc2V0Ij4KICAgICAgICAgICAgICAgIDxoMT4kdGl0bGU8L2gxPgogICAgICAgICAgICAgICAgJGNvbnRlbnQKICAgICAgICAgICAgPC9kaXY+CkVPRjsKfQoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0U3R5bGVzaGVldChGbGF0dGVuRXhjZXB0aW9uICRleGNlcHRpb24pCnsKcmV0dXJuIDw8PCdFT0YnCiAgICAgICAgICAgIC5zZi1yZXNldCB7IGZvbnQ6IDExcHggVmVyZGFuYSwgQXJpYWwsIHNhbnMtc2VyaWY7IGNvbG9yOiAjMzMzIH0KICAgICAgICAgICAgLnNmLXJlc2V0IC5jbGVhciB7IGNsZWFyOmJvdGg7IGhlaWdodDowOyBmb250LXNpemU6MDsgbGluZS1oZWlnaHQ6MDsgfQogICAgICAgICAgICAuc2YtcmVzZXQgLmNsZWFyX2ZpeDphZnRlciB7IGRpc3BsYXk6YmxvY2s7IGhlaWdodDowOyBjbGVhcjpib3RoOyB2aXNpYmlsaXR5OmhpZGRlbjsgfQogICAgICAgICAgICAuc2YtcmVzZXQgLmNsZWFyX2ZpeCB7IGRpc3BsYXk6aW5saW5lLWJsb2NrOyB9CiAgICAgICAgICAgIC5zZi1yZXNldCAqIGh0bWwgLmNsZWFyX2ZpeCB7IGhlaWdodDoxJTsgfQogICAgICAgICAgICAuc2YtcmVzZXQgLmNsZWFyX2ZpeCB7IGRpc3BsYXk6YmxvY2s7IH0KICAgICAgICAgICAgLnNmLXJlc2V0LCAuc2YtcmVzZXQgLmJsb2NrIHsgbWFyZ2luOiBhdXRvIH0KICAgICAgICAgICAgLnNmLXJlc2V0IGFiYnIgeyBib3JkZXItYm90dG9tOiAxcHggZG90dGVkICMwMDA7IGN1cnNvcjogaGVscDsgfQogICAgICAgICAgICAuc2YtcmVzZXQgcCB7IGZvbnQtc2l6ZToxNHB4OyBsaW5lLWhlaWdodDoyMHB4OyBjb2xvcjojODY4Njg2OyBwYWRkaW5nLWJvdHRvbToyMHB4IH0KICAgICAgICAgICAgLnNmLXJlc2V0IHN0cm9uZyB7IGZvbnQtd2VpZ2h0OmJvbGQ7IH0KICAgICAgICAgICAgLnNmLXJlc2V0IGEgeyBjb2xvcjojNmM2MTU5OyBjdXJzb3I6IGRlZmF1bHQ7IH0KICAgICAgICAgICAgLnNmLXJlc2V0IGEgaW1nIHsgYm9yZGVyOm5vbmU7IH0KICAgICAgICAgICAgLnNmLXJlc2V0IGE6aG92ZXIgeyB0ZXh0LWRlY29yYXRpb246dW5kZXJsaW5lOyB9CiAgICAgICAgICAgIC5zZi1yZXNldCBlbSB7IGZvbnQtc3R5bGU6aXRhbGljOyB9CiAgICAgICAgICAgIC5zZi1yZXNldCBoMSwgLnNmLXJlc2V0IGgyIHsgZm9udDogMjBweCBHZW9yZ2lhLCAiVGltZXMgTmV3IFJvbWFuIiwgVGltZXMsIHNlcmlmIH0KICAgICAgICAgICAgLnNmLXJlc2V0IC5leGNlcHRpb25fY291bnRlciB7IGJhY2tncm91bmQtY29sb3I6ICNmZmY7IGNvbG9yOiAjMzMzOyBwYWRkaW5nOiA2cHg7IGZsb2F0OiBsZWZ0OyBtYXJnaW4tcmlnaHQ6IDEwcHg7IGZsb2F0OiBsZWZ0OyBkaXNwbGF5OiBibG9jazsgfQogICAgICAgICAgICAuc2YtcmVzZXQgLmV4Y2VwdGlvbl90aXRsZSB7IG1hcmdpbi1sZWZ0OiAzZW07IG1hcmdpbi1ib3R0b206IDAuN2VtOyBkaXNwbGF5OiBibG9jazsgfQogICAgICAgICAgICAuc2YtcmVzZXQgLmV4Y2VwdGlvbl9tZXNzYWdlIHsgbWFyZ2luLWxlZnQ6IDNlbTsgZGlzcGxheTogYmxvY2s7IH0KICAgICAgICAgICAgLnNmLXJlc2V0IC50cmFjZXMgbGkgeyBmb250LXNpemU6MTJweDsgcGFkZGluZzogMnB4IDRweDsgbGlzdC1zdHlsZS10eXBlOmRlY2ltYWw7IG1hcmdpbi1sZWZ0OjIwcHg7IH0KICAgICAgICAgICAgLnNmLXJlc2V0IC5ibG9jayB7IGJhY2tncm91bmQtY29sb3I6I0ZGRkZGRjsgcGFkZGluZzoxMHB4IDI4cHg7IG1hcmdpbi1ib3R0b206MjBweDsKICAgICAgICAgICAgICAgIC13ZWJraXQtYm9yZGVyLWJvdHRvbS1yaWdodC1yYWRpdXM6IDE2cHg7CiAgICAgICAgICAgICAgICAtd2Via2l0LWJvcmRlci1ib3R0b20tbGVmdC1yYWRpdXM6IDE2cHg7CiAgICAgICAgICAgICAgICAtbW96LWJvcmRlci1yYWRpdXMtYm90dG9tcmlnaHQ6IDE2cHg7CiAgICAgICAgICAgICAgICAtbW96LWJvcmRlci1yYWRpdXMtYm90dG9tbGVmdDogMTZweDsKICAgICAgICAgICAgICAgIGJvcmRlci1ib3R0b20tcmlnaHQtcmFkaXVzOiAxNnB4OwogICAgICAgICAgICAgICAgYm9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1czogMTZweDsKICAgICAgICAgICAgICAgIGJvcmRlci1ib3R0b206MXB4IHNvbGlkICNjY2M7CiAgICAgICAgICAgICAgICBib3JkZXItcmlnaHQ6MXB4IHNvbGlkICNjY2M7CiAgICAgICAgICAgICAgICBib3JkZXItbGVmdDoxcHggc29saWQgI2NjYzsKICAgICAgICAgICAgICAgIHdvcmQtd3JhcDogYnJlYWstd29yZDsKICAgICAgICAgICAgfQogICAgICAgICAgICAuc2YtcmVzZXQgLmJsb2NrX2V4Y2VwdGlvbiB7IGJhY2tncm91bmQtY29sb3I6I2RkZDsgY29sb3I6ICMzMzM7IHBhZGRpbmc6MjBweDsKICAgICAgICAgICAgICAgIC13ZWJraXQtYm9yZGVyLXRvcC1sZWZ0LXJhZGl1czogMTZweDsKICAgICAgICAgICAgICAgIC13ZWJraXQtYm9yZGVyLXRvcC1yaWdodC1yYWRpdXM6IDE2cHg7CiAgICAgICAgICAgICAgICAtbW96LWJvcmRlci1yYWRpdXMtdG9wbGVmdDogMTZweDsKICAgICAgICAgICAgICAgIC1tb3otYm9yZGVyLXJhZGl1cy10b3ByaWdodDogMTZweDsKICAgICAgICAgICAgICAgIGJvcmRlci10b3AtbGVmdC1yYWRpdXM6IDE2cHg7CiAgICAgICAgICAgICAgICBib3JkZXItdG9wLXJpZ2h0LXJhZGl1czogMTZweDsKICAgICAgICAgICAgICAgIGJvcmRlci10b3A6MXB4IHNvbGlkICNjY2M7CiAgICAgICAgICAgICAgICBib3JkZXItcmlnaHQ6MXB4IHNvbGlkICNjY2M7CiAgICAgICAgICAgICAgICBib3JkZXItbGVmdDoxcHggc29saWQgI2NjYzsKICAgICAgICAgICAgICAgIG92ZXJmbG93OiBoaWRkZW47CiAgICAgICAgICAgICAgICB3b3JkLXdyYXA6IGJyZWFrLXdvcmQ7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgLnNmLXJlc2V0IGEgeyBiYWNrZ3JvdW5kOm5vbmU7IGNvbG9yOiM4Njg2ODY7IHRleHQtZGVjb3JhdGlvbjpub25lOyB9CiAgICAgICAgICAgIC5zZi1yZXNldCBhOmhvdmVyIHsgYmFja2dyb3VuZDpub25lOyBjb2xvcjojMzEzMTMxOyB0ZXh0LWRlY29yYXRpb246dW5kZXJsaW5lOyB9CiAgICAgICAgICAgIC5zZi1yZXNldCBvbCB7IHBhZGRpbmc6IDEwcHggMDsgfQogICAgICAgICAgICAuc2YtcmVzZXQgaDEgeyBiYWNrZ3JvdW5kLWNvbG9yOiNGRkZGRkY7IHBhZGRpbmc6IDE1cHggMjhweDsgbWFyZ2luLWJvdHRvbTogMjBweDsKICAgICAgICAgICAgICAgIC13ZWJraXQtYm9yZGVyLXJhZGl1czogMTBweDsKICAgICAgICAgICAgICAgIC1tb3otYm9yZGVyLXJhZGl1czogMTBweDsKICAgICAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDEwcHg7CiAgICAgICAgICAgICAgICBib3JkZXI6IDFweCBzb2xpZCAjY2NjOwogICAgICAgICAgICB9CkVPRjsKfQoKcHJpdmF0ZSBmdW5jdGlvbiBkZWNvcmF0ZSgkY29udGVudCwgJGNzcykKewpyZXR1cm4gPDw8RU9GCjwhRE9DVFlQRSBodG1sPgo8aHRtbD4KICAgIDxoZWFkPgogICAgICAgIDxtZXRhIGNoYXJzZXQ9InskdGhpcy0+Y2hhcnNldH0iIC8+CiAgICAgICAgPG1ldGEgbmFtZT0icm9ib3RzIiBjb250ZW50PSJub2luZGV4LG5vZm9sbG93IiAvPgogICAgICAgIDxzdHlsZT4KICAgICAgICAgICAgLyogQ29weXJpZ2h0IChjKSAyMDEwLCBZYWhvbyEgSW5jLiBBbGwgcmlnaHRzIHJlc2VydmVkLiBDb2RlIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0QgTGljZW5zZTogaHR0cDovL2RldmVsb3Blci55YWhvby5jb20veXVpL2xpY2Vuc2UuaHRtbCAqLwogICAgICAgICAgICBodG1se2NvbG9yOiMwMDA7YmFja2dyb3VuZDojRkZGO31ib2R5LGRpdixkbCxkdCxkZCx1bCxvbCxsaSxoMSxoMixoMyxoNCxoNSxoNixwcmUsY29kZSxmb3JtLGZpZWxkc2V0LGxlZ2VuZCxpbnB1dCx0ZXh0YXJlYSxwLGJsb2NrcXVvdGUsdGgsdGR7bWFyZ2luOjA7cGFkZGluZzowO310YWJsZXtib3JkZXItY29sbGFwc2U6Y29sbGFwc2U7Ym9yZGVyLXNwYWNpbmc6MDt9ZmllbGRzZXQsaW1ne2JvcmRlcjowO31hZGRyZXNzLGNhcHRpb24sY2l0ZSxjb2RlLGRmbixlbSxzdHJvbmcsdGgsdmFye2ZvbnQtc3R5bGU6bm9ybWFsO2ZvbnQtd2VpZ2h0Om5vcm1hbDt9bGl7bGlzdC1zdHlsZTpub25lO31jYXB0aW9uLHRoe3RleHQtYWxpZ246bGVmdDt9aDEsaDIsaDMsaDQsaDUsaDZ7Zm9udC1zaXplOjEwMCU7Zm9udC13ZWlnaHQ6bm9ybWFsO31xOmJlZm9yZSxxOmFmdGVye2NvbnRlbnQ6Jyc7fWFiYnIsYWNyb255bXtib3JkZXI6MDtmb250LXZhcmlhbnQ6bm9ybWFsO31zdXB7dmVydGljYWwtYWxpZ246dGV4dC10b3A7fXN1Ynt2ZXJ0aWNhbC1hbGlnbjp0ZXh0LWJvdHRvbTt9aW5wdXQsdGV4dGFyZWEsc2VsZWN0e2ZvbnQtZmFtaWx5OmluaGVyaXQ7Zm9udC1zaXplOmluaGVyaXQ7Zm9udC13ZWlnaHQ6aW5oZXJpdDt9aW5wdXQsdGV4dGFyZWEsc2VsZWN0eypmb250LXNpemU6MTAwJTt9bGVnZW5ke2NvbG9yOiMwMDA7fQoKICAgICAgICAgICAgaHRtbCB7IGJhY2tncm91bmQ6ICNlZWU7IHBhZGRpbmc6IDEwcHggfQogICAgICAgICAgICBpbWcgeyBib3JkZXI6IDA7IH0KICAgICAgICAgICAgI3NmLXJlc2V0Y29udGVudCB7IHdpZHRoOjk3MHB4OyBtYXJnaW46MCBhdXRvOyB9CiAgICAgICAgICAgICRjc3MKICAgICAgICA8L3N0eWxlPgogICAgPC9oZWFkPgogICAgPGJvZHk+CiAgICAgICAgJGNvbnRlbnQKICAgIDwvYm9keT4KPC9odG1sPgpFT0Y7Cn0KCnByaXZhdGUgZnVuY3Rpb24gZm9ybWF0Q2xhc3MoJGNsYXNzKQp7CiRwYXJ0cyA9IGV4cGxvZGUoJ1xcJywgJGNsYXNzKTsKCnJldHVybiBzcHJpbnRmKCc8YWJiciB0aXRsZT0iJXMiPiVzPC9hYmJyPicsICRjbGFzcywgYXJyYXlfcG9wKCRwYXJ0cykpOwp9Cgpwcml2YXRlIGZ1bmN0aW9uIGZvcm1hdFBhdGgoJHBhdGgsICRsaW5lKQp7CiRwYXRoID0gJHRoaXMtPmVzY2FwZUh0bWwoJHBhdGgpOwokZmlsZSA9IHByZWdfbWF0Y2goJyNbXi9cXFxcXSokIycsICRwYXRoLCAkZmlsZSkgPyAkZmlsZVswXSA6ICRwYXRoOwoKaWYgKCRsaW5rRm9ybWF0ID0gJHRoaXMtPmZpbGVMaW5rRm9ybWF0KSB7CiRsaW5rID0gc3RydHIoJHRoaXMtPmVzY2FwZUh0bWwoJGxpbmtGb3JtYXQpLCBhcnJheSgnJWYnID0+ICRwYXRoLCAnJWwnID0+IChpbnQpICRsaW5lKSk7CgpyZXR1cm4gc3ByaW50ZignIGluIDxhIGhyZWY9IiVzIiB0aXRsZT0iR28gdG8gc291cmNlIj4lcyBsaW5lICVkPC9hPicsICRsaW5rLCAkZmlsZSwgJGxpbmUpOwp9CgpyZXR1cm4gc3ByaW50ZignIGluIDxhIHRpdGxlPSIlcyBsaW5lICUzJGQiIG9uZGJsY2xpY2s9InZhciBmPXRoaXMuaW5uZXJIVE1MO3RoaXMuaW5uZXJIVE1MPXRoaXMudGl0bGU7dGhpcy50aXRsZT1mOyI+JXMgbGluZSAlZDwvYT4nLCAkcGF0aCwgJGZpbGUsICRsaW5lKTsKfQoKCgoKCgoKCnByaXZhdGUgZnVuY3Rpb24gZm9ybWF0QXJncyhhcnJheSAkYXJncykKewokcmVzdWx0ID0gYXJyYXkoKTsKZm9yZWFjaCAoJGFyZ3MgYXMgJGtleSA9PiAkaXRlbSkgewppZiAoJ29iamVjdCcgPT09ICRpdGVtWzBdKSB7CiRmb3JtYXR0ZWRWYWx1ZSA9IHNwcmludGYoJzxlbT5vYmplY3Q8L2VtPiglcyknLCAkdGhpcy0+Zm9ybWF0Q2xhc3MoJGl0ZW1bMV0pKTsKfSBlbHNlaWYgKCdhcnJheScgPT09ICRpdGVtWzBdKSB7CiRmb3JtYXR0ZWRWYWx1ZSA9IHNwcmludGYoJzxlbT5hcnJheTwvZW0+KCVzKScsIFxpc19hcnJheSgkaXRlbVsxXSkgPyAkdGhpcy0+Zm9ybWF0QXJncygkaXRlbVsxXSkgOiAkaXRlbVsxXSk7Cn0gZWxzZWlmICgnc3RyaW5nJyA9PT0gJGl0ZW1bMF0pIHsKJGZvcm1hdHRlZFZhbHVlID0gc3ByaW50ZigiJyVzJyIsICR0aGlzLT5lc2NhcGVIdG1sKCRpdGVtWzFdKSk7Cn0gZWxzZWlmICgnbnVsbCcgPT09ICRpdGVtWzBdKSB7CiRmb3JtYXR0ZWRWYWx1ZSA9ICc8ZW0+bnVsbDwvZW0+JzsKfSBlbHNlaWYgKCdib29sZWFuJyA9PT0gJGl0ZW1bMF0pIHsKJGZvcm1hdHRlZFZhbHVlID0gJzxlbT4nLnN0cnRvbG93ZXIodmFyX2V4cG9ydCgkaXRlbVsxXSwgdHJ1ZSkpLic8L2VtPic7Cn0gZWxzZWlmICgncmVzb3VyY2UnID09PSAkaXRlbVswXSkgewokZm9ybWF0dGVkVmFsdWUgPSAnPGVtPnJlc291cmNlPC9lbT4nOwp9IGVsc2UgewokZm9ybWF0dGVkVmFsdWUgPSBzdHJfcmVwbGFjZSgiXG4iLCAnJywgdmFyX2V4cG9ydCgkdGhpcy0+ZXNjYXBlSHRtbCgoc3RyaW5nKSAkaXRlbVsxXSksIHRydWUpKTsKfQoKJHJlc3VsdFtdID0gXGlzX2ludCgka2V5KSA/ICRmb3JtYXR0ZWRWYWx1ZSA6IHNwcmludGYoIiclcycgPT4gJXMiLCAkdGhpcy0+ZXNjYXBlSHRtbCgka2V5KSwgJGZvcm1hdHRlZFZhbHVlKTsKfQoKcmV0dXJuIGltcGxvZGUoJywgJywgJHJlc3VsdCk7Cn0KCgoKCgoKcHJvdGVjdGVkIHN0YXRpYyBmdW5jdGlvbiB1dGY4SHRtbGl6ZSgkc3RyKQp7CkB0cmlnZ2VyX2Vycm9yKCdUaGUgJy5fX01FVEhPRF9fLicgbWV0aG9kIGlzIGRlcHJlY2F0ZWQgc2luY2UgU3ltZm9ueSAyLjcgYW5kIHdpbGwgYmUgcmVtb3ZlZCBpbiAzLjAuJywgRV9VU0VSX0RFUFJFQ0FURUQpOwoKcmV0dXJuIGh0bWxzcGVjaWFsY2hhcnMoJHN0ciwgRU5UX1FVT1RFUyB8IChcUEhQX1ZFUlNJT05fSUQgPj0gNTA0MDAgPyBFTlRfU1VCU1RJVFVURSA6IDApLCAnVVRGLTgnKTsKfQoKCgoKcHJpdmF0ZSBmdW5jdGlvbiBlc2NhcGVIdG1sKCRzdHIpCnsKcmV0dXJuIGh0bWxzcGVjaWFsY2hhcnMoJHN0ciwgRU5UX1FVT1RFUyB8IChcUEhQX1ZFUlNJT05fSUQgPj0gNTA0MDAgPyBFTlRfU1VCU1RJVFVURSA6IDApLCAkdGhpcy0+Y2hhcnNldCk7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBjYXRjaE91dHB1dCgkYnVmZmVyKQp7CiR0aGlzLT5jYXVnaHRCdWZmZXIgPSAkYnVmZmVyOwoKcmV0dXJuICcnOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gY2xlYW5PdXRwdXQoJGJ1ZmZlcikKewppZiAoJHRoaXMtPmNhdWdodExlbmd0aCkgewoKJGNsZWFuQnVmZmVyID0gc3Vic3RyX3JlcGxhY2UoJGJ1ZmZlciwgJycsIDAsICR0aGlzLT5jYXVnaHRMZW5ndGgpOwppZiAoaXNzZXQoJGNsZWFuQnVmZmVyWzBdKSkgewokYnVmZmVyID0gJGNsZWFuQnVmZmVyOwp9Cn0KCnJldHVybiAkYnVmZmVyOwp9Cn0KPD9waHAKCgoKCgoKCgoKCm5hbWVzcGFjZSBTeW1mb255XENvbXBvbmVudFxEZWJ1Z1xGYXRhbEVycm9ySGFuZGxlcjsKCnVzZSBDb21wb3NlclxBdXRvbG9hZFxDbGFzc0xvYWRlciBhcyBDb21wb3NlckNsYXNzTG9hZGVyOwp1c2UgU3ltZm9ueVxDb21wb25lbnRcQ2xhc3NMb2FkZXJcQ2xhc3NMb2FkZXIgYXMgU3ltZm9ueUNsYXNzTG9hZGVyOwp1c2UgU3ltZm9ueVxDb21wb25lbnRcQ2xhc3NMb2FkZXJcVW5pdmVyc2FsQ2xhc3NMb2FkZXIgYXMgU3ltZm9ueVVuaXZlcnNhbENsYXNzTG9hZGVyOwp1c2UgU3ltZm9ueVxDb21wb25lbnRcRGVidWdcRGVidWdDbGFzc0xvYWRlcjsKdXNlIFN5bWZvbnlcQ29tcG9uZW50XERlYnVnXEV4Y2VwdGlvblxDbGFzc05vdEZvdW5kRXhjZXB0aW9uOwp1c2UgU3ltZm9ueVxDb21wb25lbnRcRGVidWdcRXhjZXB0aW9uXEZhdGFsRXJyb3JFeGNlcHRpb247CgoKCgoKCmNsYXNzIENsYXNzTm90Rm91bmRGYXRhbEVycm9ySGFuZGxlciBpbXBsZW1lbnRzIEZhdGFsRXJyb3JIYW5kbGVySW50ZXJmYWNlCnsKCgoKcHVibGljIGZ1bmN0aW9uIGhhbmRsZUVycm9yKGFycmF5ICRlcnJvciwgRmF0YWxFcnJvckV4Y2VwdGlvbiAkZXhjZXB0aW9uKQp7CiRtZXNzYWdlTGVuID0gXHN0cmxlbigkZXJyb3JbJ21lc3NhZ2UnXSk7CiRub3RGb3VuZFN1ZmZpeCA9ICdcJyBub3QgZm91bmQnOwokbm90Rm91bmRTdWZmaXhMZW4gPSBcc3RybGVuKCRub3RGb3VuZFN1ZmZpeCk7CmlmICgkbm90Rm91bmRTdWZmaXhMZW4gPiAkbWVzc2FnZUxlbikgewpyZXR1cm47Cn0KCmlmICgwICE9PSBzdWJzdHJfY29tcGFyZSgkZXJyb3JbJ21lc3NhZ2UnXSwgJG5vdEZvdW5kU3VmZml4LCAtJG5vdEZvdW5kU3VmZml4TGVuKSkgewpyZXR1cm47Cn0KCmZvcmVhY2ggKGFycmF5KCdjbGFzcycsICdpbnRlcmZhY2UnLCAndHJhaXQnKSBhcyAkdHlwZU5hbWUpIHsKJHByZWZpeCA9IHVjZmlyc3QoJHR5cGVOYW1lKS4nIFwnJzsKJHByZWZpeExlbiA9IFxzdHJsZW4oJHByZWZpeCk7CmlmICgwICE9PSBzdHJwb3MoJGVycm9yWydtZXNzYWdlJ10sICRwcmVmaXgpKSB7CmNvbnRpbnVlOwp9CgokZnVsbHlRdWFsaWZpZWRDbGFzc05hbWUgPSBzdWJzdHIoJGVycm9yWydtZXNzYWdlJ10sICRwcmVmaXhMZW4sIC0kbm90Rm91bmRTdWZmaXhMZW4pOwppZiAoZmFsc2UgIT09ICRuYW1lc3BhY2VTZXBhcmF0b3JJbmRleCA9IHN0cnJwb3MoJGZ1bGx5UXVhbGlmaWVkQ2xhc3NOYW1lLCAnXFwnKSkgewokY2xhc3NOYW1lID0gc3Vic3RyKCRmdWxseVF1YWxpZmllZENsYXNzTmFtZSwgJG5hbWVzcGFjZVNlcGFyYXRvckluZGV4ICsgMSk7CiRuYW1lc3BhY2VQcmVmaXggPSBzdWJzdHIoJGZ1bGx5UXVhbGlmaWVkQ2xhc3NOYW1lLCAwLCAkbmFtZXNwYWNlU2VwYXJhdG9ySW5kZXgpOwokbWVzc2FnZSA9IHNwcmludGYoJ0F0dGVtcHRlZCB0byBsb2FkICVzICIlcyIgZnJvbSBuYW1lc3BhY2UgIiVzIi4nLCAkdHlwZU5hbWUsICRjbGFzc05hbWUsICRuYW1lc3BhY2VQcmVmaXgpOwokdGFpbCA9ICcgZm9yIGFub3RoZXIgbmFtZXNwYWNlPyc7Cn0gZWxzZSB7CiRjbGFzc05hbWUgPSAkZnVsbHlRdWFsaWZpZWRDbGFzc05hbWU7CiRtZXNzYWdlID0gc3ByaW50ZignQXR0ZW1wdGVkIHRvIGxvYWQgJXMgIiVzIiBmcm9tIHRoZSBnbG9iYWwgbmFtZXNwYWNlLicsICR0eXBlTmFtZSwgJGNsYXNzTmFtZSk7CiR0YWlsID0gJz8nOwp9CgppZiAoJGNhbmRpZGF0ZXMgPSAkdGhpcy0+Z2V0Q2xhc3NDYW5kaWRhdGVzKCRjbGFzc05hbWUpKSB7CiR0YWlsID0gYXJyYXlfcG9wKCRjYW5kaWRhdGVzKS4nIj8nOwppZiAoJGNhbmRpZGF0ZXMpIHsKJHRhaWwgPSAnIGZvciBlLmcuICInLmltcGxvZGUoJyIsICInLCAkY2FuZGlkYXRlcykuJyIgb3IgIicuJHRhaWw7Cn0gZWxzZSB7CiR0YWlsID0gJyBmb3IgIicuJHRhaWw7Cn0KfQokbWVzc2FnZSAuPSAiXG5EaWQgeW91IGZvcmdldCBhIFwidXNlXCIgc3RhdGVtZW50Ii4kdGFpbDsKCnJldHVybiBuZXcgQ2xhc3NOb3RGb3VuZEV4Y2VwdGlvbigkbWVzc2FnZSwgJGV4Y2VwdGlvbik7Cn0KfQoKCgoKCgoKCgoKCnByaXZhdGUgZnVuY3Rpb24gZ2V0Q2xhc3NDYW5kaWRhdGVzKCRjbGFzcykKewppZiAoIVxpc19hcnJheSgkZnVuY3Rpb25zID0gc3BsX2F1dG9sb2FkX2Z1bmN0aW9ucygpKSkgewpyZXR1cm4gYXJyYXkoKTsKfQoKCiRjbGFzc2VzID0gYXJyYXkoKTsKCmZvcmVhY2ggKCRmdW5jdGlvbnMgYXMgJGZ1bmN0aW9uKSB7CmlmICghXGlzX2FycmF5KCRmdW5jdGlvbikpIHsKY29udGludWU7Cn0KCmlmICgkZnVuY3Rpb25bMF0gaW5zdGFuY2VvZiBEZWJ1Z0NsYXNzTG9hZGVyKSB7CiRmdW5jdGlvbiA9ICRmdW5jdGlvblswXS0+Z2V0Q2xhc3NMb2FkZXIoKTsKCgppZiAoXGlzX29iamVjdCgkZnVuY3Rpb24pKSB7CiRmdW5jdGlvbiA9IGFycmF5KCRmdW5jdGlvbik7Cn0KCmlmICghXGlzX2FycmF5KCRmdW5jdGlvbikpIHsKY29udGludWU7Cn0KfQoKaWYgKCRmdW5jdGlvblswXSBpbnN0YW5jZW9mIENvbXBvc2VyQ2xhc3NMb2FkZXIgfHwgJGZ1bmN0aW9uWzBdIGluc3RhbmNlb2YgU3ltZm9ueUNsYXNzTG9hZGVyIHx8ICRmdW5jdGlvblswXSBpbnN0YW5jZW9mIFN5bWZvbnlVbml2ZXJzYWxDbGFzc0xvYWRlcikgewpmb3JlYWNoICgkZnVuY3Rpb25bMF0tPmdldFByZWZpeGVzKCkgYXMgJHByZWZpeCA9PiAkcGF0aHMpIHsKZm9yZWFjaCAoJHBhdGhzIGFzICRwYXRoKSB7CiRjbGFzc2VzID0gYXJyYXlfbWVyZ2UoJGNsYXNzZXMsICR0aGlzLT5maW5kQ2xhc3NJblBhdGgoJHBhdGgsICRjbGFzcywgJHByZWZpeCkpOwp9Cn0KfQppZiAoJGZ1bmN0aW9uWzBdIGluc3RhbmNlb2YgQ29tcG9zZXJDbGFzc0xvYWRlcikgewpmb3JlYWNoICgkZnVuY3Rpb25bMF0tPmdldFByZWZpeGVzUHNyNCgpIGFzICRwcmVmaXggPT4gJHBhdGhzKSB7CmZvcmVhY2ggKCRwYXRocyBhcyAkcGF0aCkgewokY2xhc3NlcyA9IGFycmF5X21lcmdlKCRjbGFzc2VzLCAkdGhpcy0+ZmluZENsYXNzSW5QYXRoKCRwYXRoLCAkY2xhc3MsICRwcmVmaXgpKTsKfQp9Cn0KfQoKcmV0dXJuIGFycmF5X3VuaXF1ZSgkY2xhc3Nlcyk7Cn0KCgoKCgoKCgpwcml2YXRlIGZ1bmN0aW9uIGZpbmRDbGFzc0luUGF0aCgkcGF0aCwgJGNsYXNzLCAkcHJlZml4KQp7CmlmICghJHBhdGggPSByZWFscGF0aCgkcGF0aC4nLycuc3RydHIoJHByZWZpeCwgJ1xcXycsICcvLycpKSA/OiByZWFscGF0aCgkcGF0aC4nLycuXGRpcm5hbWUoc3RydHIoJHByZWZpeCwgJ1xcXycsICcvLycpKSkgPzogcmVhbHBhdGgoJHBhdGgpKSB7CnJldHVybiBhcnJheSgpOwp9CgokY2xhc3NlcyA9IGFycmF5KCk7CiRmaWxlbmFtZSA9ICRjbGFzcy4nLnBocCc7CmZvcmVhY2ggKG5ldyBcUmVjdXJzaXZlSXRlcmF0b3JJdGVyYXRvcihuZXcgXFJlY3Vyc2l2ZURpcmVjdG9yeUl0ZXJhdG9yKCRwYXRoLCBcUmVjdXJzaXZlRGlyZWN0b3J5SXRlcmF0b3I6OlNLSVBfRE9UUyksIFxSZWN1cnNpdmVJdGVyYXRvckl0ZXJhdG9yOjpMRUFWRVNfT05MWSkgYXMgJGZpbGUpIHsKaWYgKCRmaWxlbmFtZSA9PSAkZmlsZS0+Z2V0RmlsZU5hbWUoKSAmJiAkY2xhc3MgPSAkdGhpcy0+Y29udmVydEZpbGVUb0NsYXNzKCRwYXRoLCAkZmlsZS0+Z2V0UGF0aE5hbWUoKSwgJHByZWZpeCkpIHsKJGNsYXNzZXNbXSA9ICRjbGFzczsKfQp9CgpyZXR1cm4gJGNsYXNzZXM7Cn0KCgoKCgoKCgpwcml2YXRlIGZ1bmN0aW9uIGNvbnZlcnRGaWxlVG9DbGFzcygkcGF0aCwgJGZpbGUsICRwcmVmaXgpCnsKJGNhbmRpZGF0ZXMgPSBhcnJheSgKCiRuYW1lc3BhY2VkQ2xhc3MgPSBzdHJfcmVwbGFjZShhcnJheSgkcGF0aC5cRElSRUNUT1JZX1NFUEFSQVRPUiwgJy5waHAnLCAnLycpLCBhcnJheSgnJywgJycsICdcXCcpLCAkZmlsZSksCgokcHJlZml4LiRuYW1lc3BhY2VkQ2xhc3MsCgokcHJlZml4LidcXCcuJG5hbWVzcGFjZWRDbGFzcywKCnN0cl9yZXBsYWNlKCdcXCcsICdfJywgJG5hbWVzcGFjZWRDbGFzcyksCgpzdHJfcmVwbGFjZSgnXFwnLCAnXycsICRwcmVmaXguJG5hbWVzcGFjZWRDbGFzcyksCgpzdHJfcmVwbGFjZSgnXFwnLCAnXycsICRwcmVmaXguJ1xcJy4kbmFtZXNwYWNlZENsYXNzKSwKKTsKCmlmICgkcHJlZml4KSB7CiRjYW5kaWRhdGVzID0gYXJyYXlfZmlsdGVyKCRjYW5kaWRhdGVzLCBmdW5jdGlvbiAoJGNhbmRpZGF0ZSkgdXNlICgkcHJlZml4KSB7IHJldHVybiAwID09PSBzdHJwb3MoJGNhbmRpZGF0ZSwgJHByZWZpeCk7IH0pOwp9CgoKCgpmb3JlYWNoICgkY2FuZGlkYXRlcyBhcyAkY2FuZGlkYXRlKSB7CmlmICgkdGhpcy0+Y2xhc3NFeGlzdHMoJGNhbmRpZGF0ZSkpIHsKcmV0dXJuICRjYW5kaWRhdGU7Cn0KfQoKcmVxdWlyZV9vbmNlICRmaWxlOwoKZm9yZWFjaCAoJGNhbmRpZGF0ZXMgYXMgJGNhbmRpZGF0ZSkgewppZiAoJHRoaXMtPmNsYXNzRXhpc3RzKCRjYW5kaWRhdGUpKSB7CnJldHVybiAkY2FuZGlkYXRlOwp9Cn0KfQoKCgoKCgpwcml2YXRlIGZ1bmN0aW9uIGNsYXNzRXhpc3RzKCRjbGFzcykKewpyZXR1cm4gY2xhc3NfZXhpc3RzKCRjbGFzcywgZmFsc2UpIHx8IGludGVyZmFjZV9leGlzdHMoJGNsYXNzLCBmYWxzZSkgfHwgKFxmdW5jdGlvbl9leGlzdHMoJ3RyYWl0X2V4aXN0cycpICYmIHRyYWl0X2V4aXN0cygkY2xhc3MsIGZhbHNlKSk7Cn0KfQo8P3BocAoKCgoKCgoKCgoKbmFtZXNwYWNlIFN5bWZvbnlcQ29tcG9uZW50XERlYnVnXEZhdGFsRXJyb3JIYW5kbGVyOwoKdXNlIFN5bWZvbnlcQ29tcG9uZW50XERlYnVnXEV4Y2VwdGlvblxGYXRhbEVycm9yRXhjZXB0aW9uOwoKCgoKCgppbnRlcmZhY2UgRmF0YWxFcnJvckhhbmRsZXJJbnRlcmZhY2UKewoKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBoYW5kbGVFcnJvcihhcnJheSAkZXJyb3IsIEZhdGFsRXJyb3JFeGNlcHRpb24gJGV4Y2VwdGlvbik7Cn0KPD9waHAKCgoKCgoKCgoKCm5hbWVzcGFjZSBTeW1mb255XENvbXBvbmVudFxEZWJ1Z1xGYXRhbEVycm9ySGFuZGxlcjsKCnVzZSBTeW1mb255XENvbXBvbmVudFxEZWJ1Z1xFeGNlcHRpb25cRmF0YWxFcnJvckV4Y2VwdGlvbjsKdXNlIFN5bWZvbnlcQ29tcG9uZW50XERlYnVnXEV4Y2VwdGlvblxVbmRlZmluZWRGdW5jdGlvbkV4Y2VwdGlvbjsKCgoKCgoKY2xhc3MgVW5kZWZpbmVkRnVuY3Rpb25GYXRhbEVycm9ySGFuZGxlciBpbXBsZW1lbnRzIEZhdGFsRXJyb3JIYW5kbGVySW50ZXJmYWNlCnsKCgoKcHVibGljIGZ1bmN0aW9uIGhhbmRsZUVycm9yKGFycmF5ICRlcnJvciwgRmF0YWxFcnJvckV4Y2VwdGlvbiAkZXhjZXB0aW9uKQp7CiRtZXNzYWdlTGVuID0gXHN0cmxlbigkZXJyb3JbJ21lc3NhZ2UnXSk7CiRub3RGb3VuZFN1ZmZpeCA9ICcoKSc7CiRub3RGb3VuZFN1ZmZpeExlbiA9IFxzdHJsZW4oJG5vdEZvdW5kU3VmZml4KTsKaWYgKCRub3RGb3VuZFN1ZmZpeExlbiA+ICRtZXNzYWdlTGVuKSB7CnJldHVybjsKfQoKaWYgKDAgIT09IHN1YnN0cl9jb21wYXJlKCRlcnJvclsnbWVzc2FnZSddLCAkbm90Rm91bmRTdWZmaXgsIC0kbm90Rm91bmRTdWZmaXhMZW4pKSB7CnJldHVybjsKfQoKJHByZWZpeCA9ICdDYWxsIHRvIHVuZGVmaW5lZCBmdW5jdGlvbiAnOwokcHJlZml4TGVuID0gXHN0cmxlbigkcHJlZml4KTsKaWYgKDAgIT09IHN0cnBvcygkZXJyb3JbJ21lc3NhZ2UnXSwgJHByZWZpeCkpIHsKcmV0dXJuOwp9CgokZnVsbHlRdWFsaWZpZWRGdW5jdGlvbk5hbWUgPSBzdWJzdHIoJGVycm9yWydtZXNzYWdlJ10sICRwcmVmaXhMZW4sIC0kbm90Rm91bmRTdWZmaXhMZW4pOwppZiAoZmFsc2UgIT09ICRuYW1lc3BhY2VTZXBhcmF0b3JJbmRleCA9IHN0cnJwb3MoJGZ1bGx5UXVhbGlmaWVkRnVuY3Rpb25OYW1lLCAnXFwnKSkgewokZnVuY3Rpb25OYW1lID0gc3Vic3RyKCRmdWxseVF1YWxpZmllZEZ1bmN0aW9uTmFtZSwgJG5hbWVzcGFjZVNlcGFyYXRvckluZGV4ICsgMSk7CiRuYW1lc3BhY2VQcmVmaXggPSBzdWJzdHIoJGZ1bGx5UXVhbGlmaWVkRnVuY3Rpb25OYW1lLCAwLCAkbmFtZXNwYWNlU2VwYXJhdG9ySW5kZXgpOwokbWVzc2FnZSA9IHNwcmludGYoJ0F0dGVtcHRlZCB0byBjYWxsIGZ1bmN0aW9uICIlcyIgZnJvbSBuYW1lc3BhY2UgIiVzIi4nLCAkZnVuY3Rpb25OYW1lLCAkbmFtZXNwYWNlUHJlZml4KTsKfSBlbHNlIHsKJGZ1bmN0aW9uTmFtZSA9ICRmdWxseVF1YWxpZmllZEZ1bmN0aW9uTmFtZTsKJG1lc3NhZ2UgPSBzcHJpbnRmKCdBdHRlbXB0ZWQgdG8gY2FsbCBmdW5jdGlvbiAiJXMiIGZyb20gdGhlIGdsb2JhbCBuYW1lc3BhY2UuJywgJGZ1bmN0aW9uTmFtZSk7Cn0KCiRjYW5kaWRhdGVzID0gYXJyYXkoKTsKZm9yZWFjaCAoZ2V0X2RlZmluZWRfZnVuY3Rpb25zKCkgYXMgJHR5cGUgPT4gJGRlZmluZWRGdW5jdGlvbk5hbWVzKSB7CmZvcmVhY2ggKCRkZWZpbmVkRnVuY3Rpb25OYW1lcyBhcyAkZGVmaW5lZEZ1bmN0aW9uTmFtZSkgewppZiAoZmFsc2UgIT09ICRuYW1lc3BhY2VTZXBhcmF0b3JJbmRleCA9IHN0cnJwb3MoJGRlZmluZWRGdW5jdGlvbk5hbWUsICdcXCcpKSB7CiRkZWZpbmVkRnVuY3Rpb25OYW1lQmFzZW5hbWUgPSBzdWJzdHIoJGRlZmluZWRGdW5jdGlvbk5hbWUsICRuYW1lc3BhY2VTZXBhcmF0b3JJbmRleCArIDEpOwp9IGVsc2UgewokZGVmaW5lZEZ1bmN0aW9uTmFtZUJhc2VuYW1lID0gJGRlZmluZWRGdW5jdGlvbk5hbWU7Cn0KCmlmICgkZGVmaW5lZEZ1bmN0aW9uTmFtZUJhc2VuYW1lID09PSAkZnVuY3Rpb25OYW1lKSB7CiRjYW5kaWRhdGVzW10gPSAnXFwnLiRkZWZpbmVkRnVuY3Rpb25OYW1lOwp9Cn0KfQoKaWYgKCRjYW5kaWRhdGVzKSB7CnNvcnQoJGNhbmRpZGF0ZXMpOwokbGFzdCA9IGFycmF5X3BvcCgkY2FuZGlkYXRlcykuJyI/JzsKaWYgKCRjYW5kaWRhdGVzKSB7CiRjYW5kaWRhdGVzID0gJ2UuZy4gIicuaW1wbG9kZSgnIiwgIicsICRjYW5kaWRhdGVzKS4nIiBvciAiJy4kbGFzdDsKfSBlbHNlIHsKJGNhbmRpZGF0ZXMgPSAnIicuJGxhc3Q7Cn0KJG1lc3NhZ2UgLj0gIlxuRGlkIHlvdSBtZWFuIHRvIGNhbGwgIi4kY2FuZGlkYXRlczsKfQoKcmV0dXJuIG5ldyBVbmRlZmluZWRGdW5jdGlvbkV4Y2VwdGlvbigkbWVzc2FnZSwgJGV4Y2VwdGlvbik7Cn0KfQo8P3BocAoKCgoKCgoKCgoKbmFtZXNwYWNlIFN5bWZvbnlcQ29tcG9uZW50XERlYnVnXEZhdGFsRXJyb3JIYW5kbGVyOwoKdXNlIFN5bWZvbnlcQ29tcG9uZW50XERlYnVnXEV4Y2VwdGlvblxGYXRhbEVycm9yRXhjZXB0aW9uOwp1c2UgU3ltZm9ueVxDb21wb25lbnRcRGVidWdcRXhjZXB0aW9uXFVuZGVmaW5lZE1ldGhvZEV4Y2VwdGlvbjsKCgoKCgoKY2xhc3MgVW5kZWZpbmVkTWV0aG9kRmF0YWxFcnJvckhhbmRsZXIgaW1wbGVtZW50cyBGYXRhbEVycm9ySGFuZGxlckludGVyZmFjZQp7CgoKCnB1YmxpYyBmdW5jdGlvbiBoYW5kbGVFcnJvcihhcnJheSAkZXJyb3IsIEZhdGFsRXJyb3JFeGNlcHRpb24gJGV4Y2VwdGlvbikKewpwcmVnX21hdGNoKCcvXkNhbGwgdG8gdW5kZWZpbmVkIG1ldGhvZCAoLiopOjooLiopXChcKSQvJywgJGVycm9yWydtZXNzYWdlJ10sICRtYXRjaGVzKTsKaWYgKCEkbWF0Y2hlcykgewpyZXR1cm47Cn0KCiRjbGFzc05hbWUgPSAkbWF0Y2hlc1sxXTsKJG1ldGhvZE5hbWUgPSAkbWF0Y2hlc1syXTsKCiRtZXNzYWdlID0gc3ByaW50ZignQXR0ZW1wdGVkIHRvIGNhbGwgYW4gdW5kZWZpbmVkIG1ldGhvZCBuYW1lZCAiJXMiIG9mIGNsYXNzICIlcyIuJywgJG1ldGhvZE5hbWUsICRjbGFzc05hbWUpOwoKaWYgKCFjbGFzc19leGlzdHMoJGNsYXNzTmFtZSkgfHwgbnVsbCA9PT0gJG1ldGhvZHMgPSBnZXRfY2xhc3NfbWV0aG9kcygkY2xhc3NOYW1lKSkgewoKcmV0dXJuIG5ldyBVbmRlZmluZWRNZXRob2RFeGNlcHRpb24oJG1lc3NhZ2UsICRleGNlcHRpb24pOwp9CgokY2FuZGlkYXRlcyA9IGFycmF5KCk7CmZvcmVhY2ggKCRtZXRob2RzIGFzICRkZWZpbmVkTWV0aG9kTmFtZSkgewokbGV2ID0gbGV2ZW5zaHRlaW4oJG1ldGhvZE5hbWUsICRkZWZpbmVkTWV0aG9kTmFtZSk7CmlmICgkbGV2IDw9IFxzdHJsZW4oJG1ldGhvZE5hbWUpIC8gMyB8fCBmYWxzZSAhPT0gc3RycG9zKCRkZWZpbmVkTWV0aG9kTmFtZSwgJG1ldGhvZE5hbWUpKSB7CiRjYW5kaWRhdGVzW10gPSAkZGVmaW5lZE1ldGhvZE5hbWU7Cn0KfQoKaWYgKCRjYW5kaWRhdGVzKSB7CnNvcnQoJGNhbmRpZGF0ZXMpOwokbGFzdCA9IGFycmF5X3BvcCgkY2FuZGlkYXRlcykuJyI/JzsKaWYgKCRjYW5kaWRhdGVzKSB7CiRjYW5kaWRhdGVzID0gJ2UuZy4gIicuaW1wbG9kZSgnIiwgIicsICRjYW5kaWRhdGVzKS4nIiBvciAiJy4kbGFzdDsKfSBlbHNlIHsKJGNhbmRpZGF0ZXMgPSAnIicuJGxhc3Q7Cn0KCiRtZXNzYWdlIC49ICJcbkRpZCB5b3UgbWVhbiB0byBjYWxsICIuJGNhbmRpZGF0ZXM7Cn0KCnJldHVybiBuZXcgVW5kZWZpbmVkTWV0aG9kRXhjZXB0aW9uKCRtZXNzYWdlLCAkZXhjZXB0aW9uKTsKfQp9CgpDb3B5cmlnaHQgKGMpIDIwMDQtMjAxOCBGYWJpZW4gUG90ZW5jaWVyCgpQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYSBjb3B5Cm9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlICJTb2Z0d2FyZSIpLCB0byBkZWFsCmluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMKdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbApjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMgZnVybmlzaGVkCnRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczoKClRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkIGluIGFsbApjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLgoKVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEICJBUyBJUyIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1IKSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFksCkZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRQpBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSCkxJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sCk9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4KVEhFIFNPRlRXQVJFLgoKPD9waHAKCgoKCgoKCgoKCm5hbWVzcGFjZSBTeW1mb255XENvbXBvbmVudFxGaWxlc3lzdGVtXEV4Y2VwdGlvbjsKCgoKCgoKaW50ZXJmYWNlIEV4Y2VwdGlvbkludGVyZmFjZQp7Cn0KPD9waHAKCgoKCgoKCgoKCm5hbWVzcGFjZSBTeW1mb255XENvbXBvbmVudFxGaWxlc3lzdGVtXEV4Y2VwdGlvbjsKCgoKCgoKCmNsYXNzIEZpbGVOb3RGb3VuZEV4Y2VwdGlvbiBleHRlbmRzIElPRXhjZXB0aW9uCnsKcHVibGljIGZ1bmN0aW9uIF9fY29uc3RydWN0KCRtZXNzYWdlID0gbnVsbCwgJGNvZGUgPSAwLCBcRXhjZXB0aW9uICRwcmV2aW91cyA9IG51bGwsICRwYXRoID0gbnVsbCkKewppZiAobnVsbCA9PT0gJG1lc3NhZ2UpIHsKaWYgKG51bGwgPT09ICRwYXRoKSB7CiRtZXNzYWdlID0gJ0ZpbGUgY291bGQgbm90IGJlIGZvdW5kLic7Cn0gZWxzZSB7CiRtZXNzYWdlID0gc3ByaW50ZignRmlsZSAiJXMiIGNvdWxkIG5vdCBiZSBmb3VuZC4nLCAkcGF0aCk7Cn0KfQoKcGFyZW50OjpfX2NvbnN0cnVjdCgkbWVzc2FnZSwgJGNvZGUsICRwcmV2aW91cywgJHBhdGgpOwp9Cn0KPD9waHAKCgoKCgoKCgoKCm5hbWVzcGFjZSBTeW1mb255XENvbXBvbmVudFxGaWxlc3lzdGVtXEV4Y2VwdGlvbjsKCgoKCgoKCgpjbGFzcyBJT0V4Y2VwdGlvbiBleHRlbmRzIFxSdW50aW1lRXhjZXB0aW9uIGltcGxlbWVudHMgSU9FeGNlcHRpb25JbnRlcmZhY2UKewpwcml2YXRlICRwYXRoOwoKcHVibGljIGZ1bmN0aW9uIF9fY29uc3RydWN0KCRtZXNzYWdlLCAkY29kZSA9IDAsIFxFeGNlcHRpb24gJHByZXZpb3VzID0gbnVsbCwgJHBhdGggPSBudWxsKQp7CiR0aGlzLT5wYXRoID0gJHBhdGg7CgpwYXJlbnQ6Ol9fY29uc3RydWN0KCRtZXNzYWdlLCAkY29kZSwgJHByZXZpb3VzKTsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIGdldFBhdGgoKQp7CnJldHVybiAkdGhpcy0+cGF0aDsKfQp9Cjw/cGhwCgoKCgoKCgoKCgpuYW1lc3BhY2UgU3ltZm9ueVxDb21wb25lbnRcRmlsZXN5c3RlbVxFeGNlcHRpb247CgoKCgoKCmludGVyZmFjZSBJT0V4Y2VwdGlvbkludGVyZmFjZSBleHRlbmRzIEV4Y2VwdGlvbkludGVyZmFjZQp7CgoKCgoKcHVibGljIGZ1bmN0aW9uIGdldFBhdGgoKTsKfQo8P3BocAoKCgoKCgoKCgoKbmFtZXNwYWNlIFN5bWZvbnlcQ29tcG9uZW50XEZpbGVzeXN0ZW07Cgp1c2UgU3ltZm9ueVxDb21wb25lbnRcRmlsZXN5c3RlbVxFeGNlcHRpb25cRmlsZU5vdEZvdW5kRXhjZXB0aW9uOwp1c2UgU3ltZm9ueVxDb21wb25lbnRcRmlsZXN5c3RlbVxFeGNlcHRpb25cSU9FeGNlcHRpb247CgoKCgoKCmNsYXNzIEZpbGVzeXN0ZW0Kewpwcml2YXRlIHN0YXRpYyAkbGFzdEVycm9yOwoKCgoKCgoKCgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gY29weSgkb3JpZ2luRmlsZSwgJHRhcmdldEZpbGUsICRvdmVyd3JpdGVOZXdlckZpbGVzID0gZmFsc2UpCnsKJG9yaWdpbklzTG9jYWwgPSBzdHJlYW1faXNfbG9jYWwoJG9yaWdpbkZpbGUpIHx8IDAgPT09IHN0cmlwb3MoJG9yaWdpbkZpbGUsICdmaWxlOi8vJyk7CmlmICgkb3JpZ2luSXNMb2NhbCAmJiAhaXNfZmlsZSgkb3JpZ2luRmlsZSkpIHsKdGhyb3cgbmV3IEZpbGVOb3RGb3VuZEV4Y2VwdGlvbihzcHJpbnRmKCdGYWlsZWQgdG8gY29weSAiJXMiIGJlY2F1c2UgZmlsZSBkb2VzIG5vdCBleGlzdC4nLCAkb3JpZ2luRmlsZSksIDAsIG51bGwsICRvcmlnaW5GaWxlKTsKfQoKJHRoaXMtPm1rZGlyKFxkaXJuYW1lKCR0YXJnZXRGaWxlKSk7CgokZG9Db3B5ID0gdHJ1ZTsKaWYgKCEkb3ZlcndyaXRlTmV3ZXJGaWxlcyAmJiBudWxsID09PSBwYXJzZV91cmwoJG9yaWdpbkZpbGUsIFBIUF9VUkxfSE9TVCkgJiYgaXNfZmlsZSgkdGFyZ2V0RmlsZSkpIHsKJGRvQ29weSA9IGZpbGVtdGltZSgkb3JpZ2luRmlsZSkgPiBmaWxlbXRpbWUoJHRhcmdldEZpbGUpOwp9CgppZiAoJGRvQ29weSkgewoKaWYgKGZhbHNlID09PSAkc291cmNlID0gQGZvcGVuKCRvcmlnaW5GaWxlLCAncicpKSB7CnRocm93IG5ldyBJT0V4Y2VwdGlvbihzcHJpbnRmKCdGYWlsZWQgdG8gY29weSAiJXMiIHRvICIlcyIgYmVjYXVzZSBzb3VyY2UgZmlsZSBjb3VsZCBub3QgYmUgb3BlbmVkIGZvciByZWFkaW5nLicsICRvcmlnaW5GaWxlLCAkdGFyZ2V0RmlsZSksIDAsIG51bGwsICRvcmlnaW5GaWxlKTsKfQoKCmlmIChmYWxzZSA9PT0gJHRhcmdldCA9IEBmb3BlbigkdGFyZ2V0RmlsZSwgJ3cnLCBudWxsLCBzdHJlYW1fY29udGV4dF9jcmVhdGUoYXJyYXkoJ2Z0cCcgPT4gYXJyYXkoJ292ZXJ3cml0ZScgPT4gdHJ1ZSkpKSkpIHsKdGhyb3cgbmV3IElPRXhjZXB0aW9uKHNwcmludGYoJ0ZhaWxlZCB0byBjb3B5ICIlcyIgdG8gIiVzIiBiZWNhdXNlIHRhcmdldCBmaWxlIGNvdWxkIG5vdCBiZSBvcGVuZWQgZm9yIHdyaXRpbmcuJywgJG9yaWdpbkZpbGUsICR0YXJnZXRGaWxlKSwgMCwgbnVsbCwgJG9yaWdpbkZpbGUpOwp9CgokYnl0ZXNDb3BpZWQgPSBzdHJlYW1fY29weV90b19zdHJlYW0oJHNvdXJjZSwgJHRhcmdldCk7CmZjbG9zZSgkc291cmNlKTsKZmNsb3NlKCR0YXJnZXQpOwp1bnNldCgkc291cmNlLCAkdGFyZ2V0KTsKCmlmICghaXNfZmlsZSgkdGFyZ2V0RmlsZSkpIHsKdGhyb3cgbmV3IElPRXhjZXB0aW9uKHNwcmludGYoJ0ZhaWxlZCB0byBjb3B5ICIlcyIgdG8gIiVzIi4nLCAkb3JpZ2luRmlsZSwgJHRhcmdldEZpbGUpLCAwLCBudWxsLCAkb3JpZ2luRmlsZSk7Cn0KCmlmICgkb3JpZ2luSXNMb2NhbCkgewoKQGNobW9kKCR0YXJnZXRGaWxlLCBmaWxlcGVybXMoJHRhcmdldEZpbGUpIHwgKGZpbGVwZXJtcygkb3JpZ2luRmlsZSkgJiAwMTExKSk7CgppZiAoJGJ5dGVzQ29waWVkICE9PSAkYnl0ZXNPcmlnaW4gPSBmaWxlc2l6ZSgkb3JpZ2luRmlsZSkpIHsKdGhyb3cgbmV3IElPRXhjZXB0aW9uKHNwcmludGYoJ0ZhaWxlZCB0byBjb3B5IHRoZSB3aG9sZSBjb250ZW50IG9mICIlcyIgdG8gIiVzIiAoJWcgb2YgJWcgYnl0ZXMgY29waWVkKS4nLCAkb3JpZ2luRmlsZSwgJHRhcmdldEZpbGUsICRieXRlc0NvcGllZCwgJGJ5dGVzT3JpZ2luKSwgMCwgbnVsbCwgJG9yaWdpbkZpbGUpOwp9Cn0KfQp9CgoKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBta2RpcigkZGlycywgJG1vZGUgPSAwNzc3KQp7CmZvcmVhY2ggKCR0aGlzLT50b0l0ZXJhdG9yKCRkaXJzKSBhcyAkZGlyKSB7CmlmIChpc19kaXIoJGRpcikpIHsKY29udGludWU7Cn0KCmlmICghc2VsZjo6Ym94KCdta2RpcicsICRkaXIsICRtb2RlLCB0cnVlKSkgewppZiAoIWlzX2RpcigkZGlyKSkgewoKaWYgKHNlbGY6OiRsYXN0RXJyb3IpIHsKdGhyb3cgbmV3IElPRXhjZXB0aW9uKHNwcmludGYoJ0ZhaWxlZCB0byBjcmVhdGUgIiVzIjogJXMuJywgJGRpciwgc2VsZjo6JGxhc3RFcnJvciksIDAsIG51bGwsICRkaXIpOwp9CnRocm93IG5ldyBJT0V4Y2VwdGlvbihzcHJpbnRmKCdGYWlsZWQgdG8gY3JlYXRlICIlcyInLCAkZGlyKSwgMCwgbnVsbCwgJGRpcik7Cn0KfQp9Cn0KCgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gZXhpc3RzKCRmaWxlcykKewokbWF4UGF0aExlbmd0aCA9IFBIUF9NQVhQQVRITEVOIC0gMjsKCmZvcmVhY2ggKCR0aGlzLT50b0l0ZXJhdG9yKCRmaWxlcykgYXMgJGZpbGUpIHsKaWYgKFxzdHJsZW4oJGZpbGUpID4gJG1heFBhdGhMZW5ndGgpIHsKdGhyb3cgbmV3IElPRXhjZXB0aW9uKHNwcmludGYoJ0NvdWxkIG5vdCBjaGVjayBpZiBmaWxlIGV4aXN0IGJlY2F1c2UgcGF0aCBsZW5ndGggZXhjZWVkcyAlZCBjaGFyYWN0ZXJzLicsICRtYXhQYXRoTGVuZ3RoKSwgMCwgbnVsbCwgJGZpbGUpOwp9CgppZiAoIWZpbGVfZXhpc3RzKCRmaWxlKSkgewpyZXR1cm4gZmFsc2U7Cn0KfQoKcmV0dXJuIHRydWU7Cn0KCgoKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiB0b3VjaCgkZmlsZXMsICR0aW1lID0gbnVsbCwgJGF0aW1lID0gbnVsbCkKewpmb3JlYWNoICgkdGhpcy0+dG9JdGVyYXRvcigkZmlsZXMpIGFzICRmaWxlKSB7CiR0b3VjaCA9ICR0aW1lID8gQHRvdWNoKCRmaWxlLCAkdGltZSwgJGF0aW1lKSA6IEB0b3VjaCgkZmlsZSk7CmlmICh0cnVlICE9PSAkdG91Y2gpIHsKdGhyb3cgbmV3IElPRXhjZXB0aW9uKHNwcmludGYoJ0ZhaWxlZCB0byB0b3VjaCAiJXMiLicsICRmaWxlKSwgMCwgbnVsbCwgJGZpbGUpOwp9Cn0KfQoKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiByZW1vdmUoJGZpbGVzKQp7CmlmICgkZmlsZXMgaW5zdGFuY2VvZiBcVHJhdmVyc2FibGUpIHsKJGZpbGVzID0gaXRlcmF0b3JfdG9fYXJyYXkoJGZpbGVzLCBmYWxzZSk7Cn0gZWxzZWlmICghXGlzX2FycmF5KCRmaWxlcykpIHsKJGZpbGVzID0gYXJyYXkoJGZpbGVzKTsKfQokZmlsZXMgPSBhcnJheV9yZXZlcnNlKCRmaWxlcyk7CmZvcmVhY2ggKCRmaWxlcyBhcyAkZmlsZSkgewppZiAoaXNfbGluaygkZmlsZSkpIHsKCmlmICghKHNlbGY6OmJveCgndW5saW5rJywgJGZpbGUpIHx8ICdcXCcgIT09IFxESVJFQ1RPUllfU0VQQVJBVE9SIHx8IHNlbGY6OmJveCgncm1kaXInLCAkZmlsZSkpICYmIGZpbGVfZXhpc3RzKCRmaWxlKSkgewp0aHJvdyBuZXcgSU9FeGNlcHRpb24oc3ByaW50ZignRmFpbGVkIHRvIHJlbW92ZSBzeW1saW5rICIlcyI6ICVzLicsICRmaWxlLCBzZWxmOjokbGFzdEVycm9yKSk7Cn0KfSBlbHNlaWYgKGlzX2RpcigkZmlsZSkpIHsKJHRoaXMtPnJlbW92ZShuZXcgXEZpbGVzeXN0ZW1JdGVyYXRvcigkZmlsZSwgXEZpbGVzeXN0ZW1JdGVyYXRvcjo6Q1VSUkVOVF9BU19QQVRITkFNRSB8IFxGaWxlc3lzdGVtSXRlcmF0b3I6OlNLSVBfRE9UUykpOwoKaWYgKCFzZWxmOjpib3goJ3JtZGlyJywgJGZpbGUpICYmIGZpbGVfZXhpc3RzKCRmaWxlKSkgewp0aHJvdyBuZXcgSU9FeGNlcHRpb24oc3ByaW50ZignRmFpbGVkIHRvIHJlbW92ZSBkaXJlY3RvcnkgIiVzIjogJXMuJywgJGZpbGUsIHNlbGY6OiRsYXN0RXJyb3IpKTsKfQp9IGVsc2VpZiAoIXNlbGY6OmJveCgndW5saW5rJywgJGZpbGUpICYmIGZpbGVfZXhpc3RzKCRmaWxlKSkgewp0aHJvdyBuZXcgSU9FeGNlcHRpb24oc3ByaW50ZignRmFpbGVkIHRvIHJlbW92ZSBmaWxlICIlcyI6ICVzLicsICRmaWxlLCBzZWxmOjokbGFzdEVycm9yKSk7Cn0KfQp9CgoKCgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIGNobW9kKCRmaWxlcywgJG1vZGUsICR1bWFzayA9IDAwMDAsICRyZWN1cnNpdmUgPSBmYWxzZSkKewpmb3JlYWNoICgkdGhpcy0+dG9JdGVyYXRvcigkZmlsZXMpIGFzICRmaWxlKSB7CmlmICh0cnVlICE9PSBAY2htb2QoJGZpbGUsICRtb2RlICYgfiR1bWFzaykpIHsKdGhyb3cgbmV3IElPRXhjZXB0aW9uKHNwcmludGYoJ0ZhaWxlZCB0byBjaG1vZCBmaWxlICIlcyIuJywgJGZpbGUpLCAwLCBudWxsLCAkZmlsZSk7Cn0KaWYgKCRyZWN1cnNpdmUgJiYgaXNfZGlyKCRmaWxlKSAmJiAhaXNfbGluaygkZmlsZSkpIHsKJHRoaXMtPmNobW9kKG5ldyBcRmlsZXN5c3RlbUl0ZXJhdG9yKCRmaWxlKSwgJG1vZGUsICR1bWFzaywgdHJ1ZSk7Cn0KfQp9CgoKCgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gY2hvd24oJGZpbGVzLCAkdXNlciwgJHJlY3Vyc2l2ZSA9IGZhbHNlKQp7CmZvcmVhY2ggKCR0aGlzLT50b0l0ZXJhdG9yKCRmaWxlcykgYXMgJGZpbGUpIHsKaWYgKCRyZWN1cnNpdmUgJiYgaXNfZGlyKCRmaWxlKSAmJiAhaXNfbGluaygkZmlsZSkpIHsKJHRoaXMtPmNob3duKG5ldyBcRmlsZXN5c3RlbUl0ZXJhdG9yKCRmaWxlKSwgJHVzZXIsIHRydWUpOwp9CmlmIChpc19saW5rKCRmaWxlKSAmJiBcZnVuY3Rpb25fZXhpc3RzKCdsY2hvd24nKSkgewppZiAodHJ1ZSAhPT0gQGxjaG93bigkZmlsZSwgJHVzZXIpKSB7CnRocm93IG5ldyBJT0V4Y2VwdGlvbihzcHJpbnRmKCdGYWlsZWQgdG8gY2hvd24gZmlsZSAiJXMiLicsICRmaWxlKSwgMCwgbnVsbCwgJGZpbGUpOwp9Cn0gZWxzZSB7CmlmICh0cnVlICE9PSBAY2hvd24oJGZpbGUsICR1c2VyKSkgewp0aHJvdyBuZXcgSU9FeGNlcHRpb24oc3ByaW50ZignRmFpbGVkIHRvIGNob3duIGZpbGUgIiVzIi4nLCAkZmlsZSksIDAsIG51bGwsICRmaWxlKTsKfQp9Cn0KfQoKCgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIGNoZ3JwKCRmaWxlcywgJGdyb3VwLCAkcmVjdXJzaXZlID0gZmFsc2UpCnsKZm9yZWFjaCAoJHRoaXMtPnRvSXRlcmF0b3IoJGZpbGVzKSBhcyAkZmlsZSkgewppZiAoJHJlY3Vyc2l2ZSAmJiBpc19kaXIoJGZpbGUpICYmICFpc19saW5rKCRmaWxlKSkgewokdGhpcy0+Y2hncnAobmV3IFxGaWxlc3lzdGVtSXRlcmF0b3IoJGZpbGUpLCAkZ3JvdXAsIHRydWUpOwp9CmlmIChpc19saW5rKCRmaWxlKSAmJiBcZnVuY3Rpb25fZXhpc3RzKCdsY2hncnAnKSkgewppZiAodHJ1ZSAhPT0gQGxjaGdycCgkZmlsZSwgJGdyb3VwKSB8fCAoXGRlZmluZWQoJ0hIVk1fVkVSU0lPTicpICYmICFwb3NpeF9nZXRncm5hbSgkZ3JvdXApKSkgewp0aHJvdyBuZXcgSU9FeGNlcHRpb24oc3ByaW50ZignRmFpbGVkIHRvIGNoZ3JwIGZpbGUgIiVzIi4nLCAkZmlsZSksIDAsIG51bGwsICRmaWxlKTsKfQp9IGVsc2UgewppZiAodHJ1ZSAhPT0gQGNoZ3JwKCRmaWxlLCAkZ3JvdXApKSB7CnRocm93IG5ldyBJT0V4Y2VwdGlvbihzcHJpbnRmKCdGYWlsZWQgdG8gY2hncnAgZmlsZSAiJXMiLicsICRmaWxlKSwgMCwgbnVsbCwgJGZpbGUpOwp9Cn0KfQp9CgoKCgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIHJlbmFtZSgkb3JpZ2luLCAkdGFyZ2V0LCAkb3ZlcndyaXRlID0gZmFsc2UpCnsKCmlmICghJG92ZXJ3cml0ZSAmJiAkdGhpcy0+aXNSZWFkYWJsZSgkdGFyZ2V0KSkgewp0aHJvdyBuZXcgSU9FeGNlcHRpb24oc3ByaW50ZignQ2Fubm90IHJlbmFtZSBiZWNhdXNlIHRoZSB0YXJnZXQgIiVzIiBhbHJlYWR5IGV4aXN0cy4nLCAkdGFyZ2V0KSwgMCwgbnVsbCwgJHRhcmdldCk7Cn0KCmlmICh0cnVlICE9PSBAcmVuYW1lKCRvcmlnaW4sICR0YXJnZXQpKSB7CmlmIChpc19kaXIoJG9yaWdpbikpIHsKCiR0aGlzLT5taXJyb3IoJG9yaWdpbiwgJHRhcmdldCwgbnVsbCwgYXJyYXkoJ292ZXJyaWRlJyA9PiAkb3ZlcndyaXRlLCAnZGVsZXRlJyA9PiAkb3ZlcndyaXRlKSk7CiR0aGlzLT5yZW1vdmUoJG9yaWdpbik7CgpyZXR1cm47Cn0KdGhyb3cgbmV3IElPRXhjZXB0aW9uKHNwcmludGYoJ0Nhbm5vdCByZW5hbWUgIiVzIiB0byAiJXMiLicsICRvcmlnaW4sICR0YXJnZXQpLCAwLCBudWxsLCAkdGFyZ2V0KTsKfQp9CgoKCgoKCgoKCgpwcml2YXRlIGZ1bmN0aW9uIGlzUmVhZGFibGUoJGZpbGVuYW1lKQp7CiRtYXhQYXRoTGVuZ3RoID0gUEhQX01BWFBBVEhMRU4gLSAyOwoKaWYgKFxzdHJsZW4oJGZpbGVuYW1lKSA+ICRtYXhQYXRoTGVuZ3RoKSB7CnRocm93IG5ldyBJT0V4Y2VwdGlvbihzcHJpbnRmKCdDb3VsZCBub3QgY2hlY2sgaWYgZmlsZSBpcyByZWFkYWJsZSBiZWNhdXNlIHBhdGggbGVuZ3RoIGV4Y2VlZHMgJWQgY2hhcmFjdGVycy4nLCAkbWF4UGF0aExlbmd0aCksIDAsIG51bGwsICRmaWxlbmFtZSk7Cn0KCnJldHVybiBpc19yZWFkYWJsZSgkZmlsZW5hbWUpOwp9CgoKCgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gc3ltbGluaygkb3JpZ2luRGlyLCAkdGFyZ2V0RGlyLCAkY29weU9uV2luZG93cyA9IGZhbHNlKQp7CmlmICgnXFwnID09PSBcRElSRUNUT1JZX1NFUEFSQVRPUikgewokb3JpZ2luRGlyID0gc3RydHIoJG9yaWdpbkRpciwgJy8nLCAnXFwnKTsKJHRhcmdldERpciA9IHN0cnRyKCR0YXJnZXREaXIsICcvJywgJ1xcJyk7CgppZiAoJGNvcHlPbldpbmRvd3MpIHsKJHRoaXMtPm1pcnJvcigkb3JpZ2luRGlyLCAkdGFyZ2V0RGlyKTsKCnJldHVybjsKfQp9CgokdGhpcy0+bWtkaXIoXGRpcm5hbWUoJHRhcmdldERpcikpOwoKaWYgKGlzX2xpbmsoJHRhcmdldERpcikpIHsKaWYgKHJlYWRsaW5rKCR0YXJnZXREaXIpID09PSAkb3JpZ2luRGlyKSB7CnJldHVybjsKfQokdGhpcy0+cmVtb3ZlKCR0YXJnZXREaXIpOwp9CgppZiAoIXNlbGY6OmJveCgnc3ltbGluaycsICRvcmlnaW5EaXIsICR0YXJnZXREaXIpKSB7CmlmIChudWxsICE9PSBzZWxmOjokbGFzdEVycm9yKSB7CmlmICgnXFwnID09PSBcRElSRUNUT1JZX1NFUEFSQVRPUiAmJiBmYWxzZSAhPT0gc3RycG9zKHNlbGY6OiRsYXN0RXJyb3IsICdlcnJvciBjb2RlKDEzMTQpJykpIHsKdGhyb3cgbmV3IElPRXhjZXB0aW9uKCdVbmFibGUgdG8gY3JlYXRlIHN5bWxpbmsgZHVlIHRvIGVycm9yIGNvZGUgMTMxNDogXCdBIHJlcXVpcmVkIHByaXZpbGVnZSBpcyBub3QgaGVsZCBieSB0aGUgY2xpZW50XCcuIERvIHlvdSBoYXZlIHRoZSByZXF1aXJlZCBBZG1pbmlzdHJhdG9yLXJpZ2h0cz8nLCAwLCBudWxsLCAkdGFyZ2V0RGlyKTsKfQp9CnRocm93IG5ldyBJT0V4Y2VwdGlvbihzcHJpbnRmKCdGYWlsZWQgdG8gY3JlYXRlIHN5bWJvbGljIGxpbmsgZnJvbSAiJXMiIHRvICIlcyIuJywgJG9yaWdpbkRpciwgJHRhcmdldERpciksIDAsIG51bGwsICR0YXJnZXREaXIpOwp9Cn0KCgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIG1ha2VQYXRoUmVsYXRpdmUoJGVuZFBhdGgsICRzdGFydFBhdGgpCnsKCmlmICgnXFwnID09PSBcRElSRUNUT1JZX1NFUEFSQVRPUikgewokZW5kUGF0aCA9IHN0cl9yZXBsYWNlKCdcXCcsICcvJywgJGVuZFBhdGgpOwokc3RhcnRQYXRoID0gc3RyX3JlcGxhY2UoJ1xcJywgJy8nLCAkc3RhcnRQYXRoKTsKfQoKJHN0cmlwRHJpdmVMZXR0ZXIgPSBmdW5jdGlvbiAoJHBhdGgpIHsKaWYgKFxzdHJsZW4oJHBhdGgpID4gMiAmJiAnOicgPT09ICRwYXRoWzFdICYmICcvJyA9PT0gJHBhdGhbMl0gJiYgY3R5cGVfYWxwaGEoJHBhdGhbMF0pKSB7CnJldHVybiBzdWJzdHIoJHBhdGgsIDIpOwp9CgpyZXR1cm4gJHBhdGg7Cn07CgokZW5kUGF0aCA9ICRzdHJpcERyaXZlTGV0dGVyKCRlbmRQYXRoKTsKJHN0YXJ0UGF0aCA9ICRzdHJpcERyaXZlTGV0dGVyKCRzdGFydFBhdGgpOwoKCiRzdGFydFBhdGhBcnIgPSBleHBsb2RlKCcvJywgdHJpbSgkc3RhcnRQYXRoLCAnLycpKTsKJGVuZFBhdGhBcnIgPSBleHBsb2RlKCcvJywgdHJpbSgkZW5kUGF0aCwgJy8nKSk7Cgokbm9ybWFsaXplUGF0aEFycmF5ID0gZnVuY3Rpb24gKCRwYXRoU2VnbWVudHMsICRhYnNvbHV0ZSkgewokcmVzdWx0ID0gYXJyYXkoKTsKCmZvcmVhY2ggKCRwYXRoU2VnbWVudHMgYXMgJHNlZ21lbnQpIHsKaWYgKCcuLicgPT09ICRzZWdtZW50ICYmICgkYWJzb2x1dGUgfHwgXGNvdW50KCRyZXN1bHQpKSkgewphcnJheV9wb3AoJHJlc3VsdCk7Cn0gZWxzZWlmICgnLicgIT09ICRzZWdtZW50KSB7CiRyZXN1bHRbXSA9ICRzZWdtZW50Owp9Cn0KCnJldHVybiAkcmVzdWx0Owp9OwoKJHN0YXJ0UGF0aEFyciA9ICRub3JtYWxpemVQYXRoQXJyYXkoJHN0YXJ0UGF0aEFyciwgc3RhdGljOjppc0Fic29sdXRlUGF0aCgkc3RhcnRQYXRoKSk7CiRlbmRQYXRoQXJyID0gJG5vcm1hbGl6ZVBhdGhBcnJheSgkZW5kUGF0aEFyciwgc3RhdGljOjppc0Fic29sdXRlUGF0aCgkZW5kUGF0aCkpOwoKCiRpbmRleCA9IDA7CndoaWxlIChpc3NldCgkc3RhcnRQYXRoQXJyWyRpbmRleF0pICYmIGlzc2V0KCRlbmRQYXRoQXJyWyRpbmRleF0pICYmICRzdGFydFBhdGhBcnJbJGluZGV4XSA9PT0gJGVuZFBhdGhBcnJbJGluZGV4XSkgeworKyRpbmRleDsKfQoKCmlmICgxID09PSBcY291bnQoJHN0YXJ0UGF0aEFycikgJiYgJycgPT09ICRzdGFydFBhdGhBcnJbMF0pIHsKJGRlcHRoID0gMDsKfSBlbHNlIHsKJGRlcHRoID0gXGNvdW50KCRzdGFydFBhdGhBcnIpIC0gJGluZGV4Owp9CgoKJHRyYXZlcnNlciA9IHN0cl9yZXBlYXQoJy4uLycsICRkZXB0aCk7CgokZW5kUGF0aFJlbWFpbmRlciA9IGltcGxvZGUoJy8nLCBcYXJyYXlfc2xpY2UoJGVuZFBhdGhBcnIsICRpbmRleCkpOwoKCiRyZWxhdGl2ZVBhdGggPSAkdHJhdmVyc2VyLignJyAhPT0gJGVuZFBhdGhSZW1haW5kZXIgPyAkZW5kUGF0aFJlbWFpbmRlci4nLycgOiAnJyk7CgpyZXR1cm4gJycgPT09ICRyZWxhdGl2ZVBhdGggPyAnLi8nIDogJHJlbGF0aXZlUGF0aDsKfQoKCgoKCgoKCgoKCgoKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBtaXJyb3IoJG9yaWdpbkRpciwgJHRhcmdldERpciwgXFRyYXZlcnNhYmxlICRpdGVyYXRvciA9IG51bGwsICRvcHRpb25zID0gYXJyYXkoKSkKewokdGFyZ2V0RGlyID0gcnRyaW0oJHRhcmdldERpciwgJy9cXCcpOwokb3JpZ2luRGlyID0gcnRyaW0oJG9yaWdpbkRpciwgJy9cXCcpOwokb3JpZ2luRGlyTGVuID0gXHN0cmxlbigkb3JpZ2luRGlyKTsKCgppZiAoJHRoaXMtPmV4aXN0cygkdGFyZ2V0RGlyKSAmJiBpc3NldCgkb3B0aW9uc1snZGVsZXRlJ10pICYmICRvcHRpb25zWydkZWxldGUnXSkgewokZGVsZXRlSXRlcmF0b3IgPSAkaXRlcmF0b3I7CmlmIChudWxsID09PSAkZGVsZXRlSXRlcmF0b3IpIHsKJGZsYWdzID0gXEZpbGVzeXN0ZW1JdGVyYXRvcjo6U0tJUF9ET1RTOwokZGVsZXRlSXRlcmF0b3IgPSBuZXcgXFJlY3Vyc2l2ZUl0ZXJhdG9ySXRlcmF0b3IobmV3IFxSZWN1cnNpdmVEaXJlY3RvcnlJdGVyYXRvcigkdGFyZ2V0RGlyLCAkZmxhZ3MpLCBcUmVjdXJzaXZlSXRlcmF0b3JJdGVyYXRvcjo6Q0hJTERfRklSU1QpOwp9CiR0YXJnZXREaXJMZW4gPSBcc3RybGVuKCR0YXJnZXREaXIpOwpmb3JlYWNoICgkZGVsZXRlSXRlcmF0b3IgYXMgJGZpbGUpIHsKJG9yaWdpbiA9ICRvcmlnaW5EaXIuc3Vic3RyKCRmaWxlLT5nZXRQYXRobmFtZSgpLCAkdGFyZ2V0RGlyTGVuKTsKaWYgKCEkdGhpcy0+ZXhpc3RzKCRvcmlnaW4pKSB7CiR0aGlzLT5yZW1vdmUoJGZpbGUpOwp9Cn0KfQoKJGNvcHlPbldpbmRvd3MgPSBmYWxzZTsKaWYgKGlzc2V0KCRvcHRpb25zWydjb3B5X29uX3dpbmRvd3MnXSkpIHsKJGNvcHlPbldpbmRvd3MgPSAkb3B0aW9uc1snY29weV9vbl93aW5kb3dzJ107Cn0KCmlmIChudWxsID09PSAkaXRlcmF0b3IpIHsKJGZsYWdzID0gJGNvcHlPbldpbmRvd3MgPyBcRmlsZXN5c3RlbUl0ZXJhdG9yOjpTS0lQX0RPVFMgfCBcRmlsZXN5c3RlbUl0ZXJhdG9yOjpGT0xMT1dfU1lNTElOS1MgOiBcRmlsZXN5c3RlbUl0ZXJhdG9yOjpTS0lQX0RPVFM7CiRpdGVyYXRvciA9IG5ldyBcUmVjdXJzaXZlSXRlcmF0b3JJdGVyYXRvcihuZXcgXFJlY3Vyc2l2ZURpcmVjdG9yeUl0ZXJhdG9yKCRvcmlnaW5EaXIsICRmbGFncyksIFxSZWN1cnNpdmVJdGVyYXRvckl0ZXJhdG9yOjpTRUxGX0ZJUlNUKTsKfQoKaWYgKCR0aGlzLT5leGlzdHMoJG9yaWdpbkRpcikpIHsKJHRoaXMtPm1rZGlyKCR0YXJnZXREaXIpOwp9Cgpmb3JlYWNoICgkaXRlcmF0b3IgYXMgJGZpbGUpIHsKJHRhcmdldCA9ICR0YXJnZXREaXIuc3Vic3RyKCRmaWxlLT5nZXRQYXRobmFtZSgpLCAkb3JpZ2luRGlyTGVuKTsKCmlmICgkY29weU9uV2luZG93cykgewppZiAoaXNfZmlsZSgkZmlsZSkpIHsKJHRoaXMtPmNvcHkoJGZpbGUsICR0YXJnZXQsIGlzc2V0KCRvcHRpb25zWydvdmVycmlkZSddKSA/ICRvcHRpb25zWydvdmVycmlkZSddIDogZmFsc2UpOwp9IGVsc2VpZiAoaXNfZGlyKCRmaWxlKSkgewokdGhpcy0+bWtkaXIoJHRhcmdldCk7Cn0gZWxzZSB7CnRocm93IG5ldyBJT0V4Y2VwdGlvbihzcHJpbnRmKCdVbmFibGUgdG8gZ3Vlc3MgIiVzIiBmaWxlIHR5cGUuJywgJGZpbGUpLCAwLCBudWxsLCAkZmlsZSk7Cn0KfSBlbHNlIHsKaWYgKGlzX2xpbmsoJGZpbGUpKSB7CiR0aGlzLT5zeW1saW5rKCRmaWxlLT5nZXRMaW5rVGFyZ2V0KCksICR0YXJnZXQpOwp9IGVsc2VpZiAoaXNfZGlyKCRmaWxlKSkgewokdGhpcy0+bWtkaXIoJHRhcmdldCk7Cn0gZWxzZWlmIChpc19maWxlKCRmaWxlKSkgewokdGhpcy0+Y29weSgkZmlsZSwgJHRhcmdldCwgaXNzZXQoJG9wdGlvbnNbJ292ZXJyaWRlJ10pID8gJG9wdGlvbnNbJ292ZXJyaWRlJ10gOiBmYWxzZSk7Cn0gZWxzZSB7CnRocm93IG5ldyBJT0V4Y2VwdGlvbihzcHJpbnRmKCdVbmFibGUgdG8gZ3Vlc3MgIiVzIiBmaWxlIHR5cGUuJywgJGZpbGUpLCAwLCBudWxsLCAkZmlsZSk7Cn0KfQp9Cn0KCgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gaXNBYnNvbHV0ZVBhdGgoJGZpbGUpCnsKcmV0dXJuIHN0cnNwbigkZmlsZSwgJy9cXCcsIDAsIDEpCnx8IChcc3RybGVuKCRmaWxlKSA+IDMgJiYgY3R5cGVfYWxwaGEoJGZpbGVbMF0pCiYmICc6JyA9PT0gc3Vic3RyKCRmaWxlLCAxLCAxKQomJiBzdHJzcG4oJGZpbGUsICcvXFwnLCAyLCAxKQopCnx8IG51bGwgIT09IHBhcnNlX3VybCgkZmlsZSwgUEhQX1VSTF9TQ0hFTUUpCjsKfQoKCgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIHRlbXBuYW0oJGRpciwgJHByZWZpeCkKewpsaXN0KCRzY2hlbWUsICRoaWVyYXJjaHkpID0gJHRoaXMtPmdldFNjaGVtZUFuZEhpZXJhcmNoeSgkZGlyKTsKCgppZiAobnVsbCA9PT0gJHNjaGVtZSB8fCAnZmlsZScgPT09ICRzY2hlbWUgfHwgJ2dzJyA9PT0gJHNjaGVtZSkgewokdG1wRmlsZSA9IEB0ZW1wbmFtKCRoaWVyYXJjaHksICRwcmVmaXgpOwoKCmlmIChmYWxzZSAhPT0gJHRtcEZpbGUpIHsKaWYgKG51bGwgIT09ICRzY2hlbWUgJiYgJ2dzJyAhPT0gJHNjaGVtZSkgewpyZXR1cm4gJHNjaGVtZS4nOi8vJy4kdG1wRmlsZTsKfQoKcmV0dXJuICR0bXBGaWxlOwp9Cgp0aHJvdyBuZXcgSU9FeGNlcHRpb24oJ0EgdGVtcG9yYXJ5IGZpbGUgY291bGQgbm90IGJlIGNyZWF0ZWQuJyk7Cn0KCgpmb3IgKCRpID0gMDsgJGkgPCAxMDsgKyskaSkgewoKJHRtcEZpbGUgPSAkZGlyLicvJy4kcHJlZml4LnVuaXFpZChtdF9yYW5kKCksIHRydWUpOwoKCgokaGFuZGxlID0gQGZvcGVuKCR0bXBGaWxlLCAneCsnKTsKCgppZiAoZmFsc2UgPT09ICRoYW5kbGUpIHsKY29udGludWU7Cn0KCgpAZmNsb3NlKCRoYW5kbGUpOwoKcmV0dXJuICR0bXBGaWxlOwp9Cgp0aHJvdyBuZXcgSU9FeGNlcHRpb24oJ0EgdGVtcG9yYXJ5IGZpbGUgY291bGQgbm90IGJlIGNyZWF0ZWQuJyk7Cn0KCgoKCgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gZHVtcEZpbGUoJGZpbGVuYW1lLCAkY29udGVudCwgJG1vZGUgPSAwNjY2KQp7CiRkaXIgPSBcZGlybmFtZSgkZmlsZW5hbWUpOwoKaWYgKCFpc19kaXIoJGRpcikpIHsKJHRoaXMtPm1rZGlyKCRkaXIpOwp9CgppZiAoIWlzX3dyaXRhYmxlKCRkaXIpKSB7CnRocm93IG5ldyBJT0V4Y2VwdGlvbihzcHJpbnRmKCdVbmFibGUgdG8gd3JpdGUgdG8gdGhlICIlcyIgZGlyZWN0b3J5LicsICRkaXIpLCAwLCBudWxsLCAkZGlyKTsKfQoKJHRtcEZpbGUgPSAkdGhpcy0+dGVtcG5hbSgkZGlyLCBiYXNlbmFtZSgkZmlsZW5hbWUpKTsKCmlmIChmYWxzZSA9PT0gQGZpbGVfcHV0X2NvbnRlbnRzKCR0bXBGaWxlLCAkY29udGVudCkpIHsKdGhyb3cgbmV3IElPRXhjZXB0aW9uKHNwcmludGYoJ0ZhaWxlZCB0byB3cml0ZSBmaWxlICIlcyIuJywgJGZpbGVuYW1lKSwgMCwgbnVsbCwgJGZpbGVuYW1lKTsKfQoKaWYgKG51bGwgIT09ICRtb2RlKSB7CmlmIChcZnVuY19udW1fYXJncygpID4gMikgewpAdHJpZ2dlcl9lcnJvcignU3VwcG9ydCBmb3IgbW9kaWZ5aW5nIGZpbGUgcGVybWlzc2lvbnMgaXMgZGVwcmVjYXRlZCBzaW5jZSBTeW1mb255IDIuMy4xMiBhbmQgd2lsbCBiZSByZW1vdmVkIGluIDMuMC4nLCBFX1VTRVJfREVQUkVDQVRFRCk7Cn0KCiR0aGlzLT5jaG1vZCgkdG1wRmlsZSwgJG1vZGUpOwp9IGVsc2VpZiAoZmlsZV9leGlzdHMoJGZpbGVuYW1lKSkgewpAY2htb2QoJHRtcEZpbGUsIGZpbGVwZXJtcygkZmlsZW5hbWUpKTsKfQoKJHRoaXMtPnJlbmFtZSgkdG1wRmlsZSwgJGZpbGVuYW1lLCB0cnVlKTsKfQoKCgoKCgpwcml2YXRlIGZ1bmN0aW9uIHRvSXRlcmF0b3IoJGZpbGVzKQp7CmlmICghJGZpbGVzIGluc3RhbmNlb2YgXFRyYXZlcnNhYmxlKSB7CiRmaWxlcyA9IG5ldyBcQXJyYXlPYmplY3QoXGlzX2FycmF5KCRmaWxlcykgPyAkZmlsZXMgOiBhcnJheSgkZmlsZXMpKTsKfQoKcmV0dXJuICRmaWxlczsKfQoKCgoKCgoKCnByaXZhdGUgZnVuY3Rpb24gZ2V0U2NoZW1lQW5kSGllcmFyY2h5KCRmaWxlbmFtZSkKewokY29tcG9uZW50cyA9IGV4cGxvZGUoJzovLycsICRmaWxlbmFtZSwgMik7CgpyZXR1cm4gMiA9PT0gXGNvdW50KCRjb21wb25lbnRzKSA/IGFycmF5KCRjb21wb25lbnRzWzBdLCAkY29tcG9uZW50c1sxXSkgOiBhcnJheShudWxsLCAkY29tcG9uZW50c1swXSk7Cn0KCnByaXZhdGUgc3RhdGljIGZ1bmN0aW9uIGJveCgkZnVuYykKewpzZWxmOjokbGFzdEVycm9yID0gbnVsbDsKXHNldF9lcnJvcl9oYW5kbGVyKF9fQ0xBU1NfXy4nOjpoYW5kbGVFcnJvcicpOwp0cnkgewokcmVzdWx0ID0gXGNhbGxfdXNlcl9mdW5jX2FycmF5KCRmdW5jLCBcYXJyYXlfc2xpY2UoXGZ1bmNfZ2V0X2FyZ3MoKSwgMSkpOwpccmVzdG9yZV9lcnJvcl9oYW5kbGVyKCk7CgpyZXR1cm4gJHJlc3VsdDsKfSBjYXRjaCAoXFRocm93YWJsZSAkZSkgewp9IGNhdGNoIChcRXhjZXB0aW9uICRlKSB7Cn0KXHJlc3RvcmVfZXJyb3JfaGFuZGxlcigpOwoKdGhyb3cgJGU7Cn0KCgoKCnB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gaGFuZGxlRXJyb3IoJHR5cGUsICRtc2cpCnsKc2VsZjo6JGxhc3RFcnJvciA9ICRtc2c7Cn0KfQoKQ29weXJpZ2h0IChjKSAyMDA0LTIwMTggRmFiaWVuIFBvdGVuY2llcgoKUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGEgY29weQpvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZSAiU29mdHdhcmUiKSwgdG8gZGVhbAppbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzCnRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwKY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZAp0byBkbyBzbywgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6CgpUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZCBpbiBhbGwKY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS4KClRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCAiQVMgSVMiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SCklNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLApGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUKQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUgpMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLApPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOClRIRSBTT0ZUV0FSRS4KCjw/cGhwCgoKCgoKCgoKCgpuYW1lc3BhY2UgU3ltZm9ueVxDb21wb25lbnRcRmlsZXN5c3RlbTsKCnVzZSBTeW1mb255XENvbXBvbmVudFxGaWxlc3lzdGVtXEV4Y2VwdGlvblxJT0V4Y2VwdGlvbjsKCgoKCgoKCgoKCgoKCgpjbGFzcyBMb2NrSGFuZGxlcgp7CnByaXZhdGUgJGZpbGU7CnByaXZhdGUgJGhhbmRsZTsKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBfX2NvbnN0cnVjdCgkbmFtZSwgJGxvY2tQYXRoID0gbnVsbCkKewokbG9ja1BhdGggPSAkbG9ja1BhdGggPzogc3lzX2dldF90ZW1wX2RpcigpOwoKaWYgKCFpc19kaXIoJGxvY2tQYXRoKSkgewokZnMgPSBuZXcgRmlsZXN5c3RlbSgpOwokZnMtPm1rZGlyKCRsb2NrUGF0aCk7Cn0KCmlmICghaXNfd3JpdGFibGUoJGxvY2tQYXRoKSkgewp0aHJvdyBuZXcgSU9FeGNlcHRpb24oc3ByaW50ZignVGhlIGRpcmVjdG9yeSAiJXMiIGlzIG5vdCB3cml0YWJsZS4nLCAkbG9ja1BhdGgpLCAwLCBudWxsLCAkbG9ja1BhdGgpOwp9CgokdGhpcy0+ZmlsZSA9IHNwcmludGYoJyVzL3NmLiVzLiVzLmxvY2snLCAkbG9ja1BhdGgsIHByZWdfcmVwbGFjZSgnL1teYS16MC05XC5fLV0rL2knLCAnLScsICRuYW1lKSwgaGFzaCgnc2hhMjU2JywgJG5hbWUpKTsKfQoKCgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIGxvY2soJGJsb2NraW5nID0gZmFsc2UpCnsKaWYgKCR0aGlzLT5oYW5kbGUpIHsKcmV0dXJuIHRydWU7Cn0KCiRlcnJvciA9IG51bGw7CgoKc2V0X2Vycm9yX2hhbmRsZXIoZnVuY3Rpb24gKCRlcnJubywgJG1zZykgdXNlICgmJGVycm9yKSB7CiRlcnJvciA9ICRtc2c7Cn0pOwoKaWYgKCEkdGhpcy0+aGFuZGxlID0gZm9wZW4oJHRoaXMtPmZpbGUsICdyKycpID86IGZvcGVuKCR0aGlzLT5maWxlLCAncicpKSB7CmlmICgkdGhpcy0+aGFuZGxlID0gZm9wZW4oJHRoaXMtPmZpbGUsICd4JykpIHsKY2htb2QoJHRoaXMtPmZpbGUsIDA2NjYpOwp9IGVsc2VpZiAoISR0aGlzLT5oYW5kbGUgPSBmb3BlbigkdGhpcy0+ZmlsZSwgJ3IrJykgPzogZm9wZW4oJHRoaXMtPmZpbGUsICdyJykpIHsKdXNsZWVwKDEwMCk7IAokdGhpcy0+aGFuZGxlID0gZm9wZW4oJHRoaXMtPmZpbGUsICdyKycpID86IGZvcGVuKCR0aGlzLT5maWxlLCAncicpOwp9Cn0KcmVzdG9yZV9lcnJvcl9oYW5kbGVyKCk7CgppZiAoISR0aGlzLT5oYW5kbGUpIHsKdGhyb3cgbmV3IElPRXhjZXB0aW9uKCRlcnJvciwgMCwgbnVsbCwgJHRoaXMtPmZpbGUpOwp9CgoKCmlmICghZmxvY2soJHRoaXMtPmhhbmRsZSwgTE9DS19FWCB8ICgkYmxvY2tpbmcgPyAwIDogTE9DS19OQikpKSB7CmZjbG9zZSgkdGhpcy0+aGFuZGxlKTsKJHRoaXMtPmhhbmRsZSA9IG51bGw7CgpyZXR1cm4gZmFsc2U7Cn0KCnJldHVybiB0cnVlOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gcmVsZWFzZSgpCnsKaWYgKCR0aGlzLT5oYW5kbGUpIHsKZmxvY2soJHRoaXMtPmhhbmRsZSwgTE9DS19VTiB8IExPQ0tfTkIpOwpmY2xvc2UoJHRoaXMtPmhhbmRsZSk7CiR0aGlzLT5oYW5kbGUgPSBudWxsOwp9Cn0KfQo8P3BocAoKCgoKCgoKCgoKbmFtZXNwYWNlIFN5bWZvbnlcQ29tcG9uZW50XEZpbmRlclxBZGFwdGVyOwoKQHRyaWdnZXJfZXJyb3IoJ1RoZSAnLl9fTkFNRVNQQUNFX18uJ1xBYnN0cmFjdEFkYXB0ZXIgY2xhc3MgaXMgZGVwcmVjYXRlZCBzaW5jZSBTeW1mb255IDIuOCBhbmQgd2lsbCBiZSByZW1vdmVkIGluIDMuMC4gVXNlIGRpcmVjdGx5IHRoZSBGaW5kZXIgY2xhc3MgaW5zdGVhZC4nLCBFX1VTRVJfREVQUkVDQVRFRCk7CgoKCgoKCgoKYWJzdHJhY3QgY2xhc3MgQWJzdHJhY3RBZGFwdGVyIGltcGxlbWVudHMgQWRhcHRlckludGVyZmFjZQp7CnByb3RlY3RlZCAkZm9sbG93TGlua3MgPSBmYWxzZTsKcHJvdGVjdGVkICRtb2RlID0gMDsKcHJvdGVjdGVkICRtaW5EZXB0aCA9IDA7CnByb3RlY3RlZCAkbWF4RGVwdGggPSBQSFBfSU5UX01BWDsKcHJvdGVjdGVkICRleGNsdWRlID0gYXJyYXkoKTsKcHJvdGVjdGVkICRuYW1lcyA9IGFycmF5KCk7CnByb3RlY3RlZCAkbm90TmFtZXMgPSBhcnJheSgpOwpwcm90ZWN0ZWQgJGNvbnRhaW5zID0gYXJyYXkoKTsKcHJvdGVjdGVkICRub3RDb250YWlucyA9IGFycmF5KCk7CnByb3RlY3RlZCAkc2l6ZXMgPSBhcnJheSgpOwpwcm90ZWN0ZWQgJGRhdGVzID0gYXJyYXkoKTsKcHJvdGVjdGVkICRmaWx0ZXJzID0gYXJyYXkoKTsKcHJvdGVjdGVkICRzb3J0ID0gZmFsc2U7CnByb3RlY3RlZCAkcGF0aHMgPSBhcnJheSgpOwpwcm90ZWN0ZWQgJG5vdFBhdGhzID0gYXJyYXkoKTsKcHJvdGVjdGVkICRpZ25vcmVVbnJlYWRhYmxlRGlycyA9IGZhbHNlOwoKcHJpdmF0ZSBzdGF0aWMgJGFyZVN1cHBvcnRlZCA9IGFycmF5KCk7CgoKCgpwdWJsaWMgZnVuY3Rpb24gaXNTdXBwb3J0ZWQoKQp7CiRuYW1lID0gJHRoaXMtPmdldE5hbWUoKTsKCmlmICghYXJyYXlfa2V5X2V4aXN0cygkbmFtZSwgc2VsZjo6JGFyZVN1cHBvcnRlZCkpIHsKc2VsZjo6JGFyZVN1cHBvcnRlZFskbmFtZV0gPSAkdGhpcy0+Y2FuQmVVc2VkKCk7Cn0KCnJldHVybiBzZWxmOjokYXJlU3VwcG9ydGVkWyRuYW1lXTsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIHNldEZvbGxvd0xpbmtzKCRmb2xsb3dMaW5rcykKewokdGhpcy0+Zm9sbG93TGlua3MgPSAkZm9sbG93TGlua3M7CgpyZXR1cm4gJHRoaXM7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBzZXRNb2RlKCRtb2RlKQp7CiR0aGlzLT5tb2RlID0gJG1vZGU7CgpyZXR1cm4gJHRoaXM7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBzZXREZXB0aHMoYXJyYXkgJGRlcHRocykKewokdGhpcy0+bWluRGVwdGggPSAwOwokdGhpcy0+bWF4RGVwdGggPSBQSFBfSU5UX01BWDsKCmZvcmVhY2ggKCRkZXB0aHMgYXMgJGNvbXBhcmF0b3IpIHsKc3dpdGNoICgkY29tcGFyYXRvci0+Z2V0T3BlcmF0b3IoKSkgewpjYXNlICc+JzoKJHRoaXMtPm1pbkRlcHRoID0gJGNvbXBhcmF0b3ItPmdldFRhcmdldCgpICsgMTsKYnJlYWs7CmNhc2UgJz49JzoKJHRoaXMtPm1pbkRlcHRoID0gJGNvbXBhcmF0b3ItPmdldFRhcmdldCgpOwpicmVhazsKY2FzZSAnPCc6CiR0aGlzLT5tYXhEZXB0aCA9ICRjb21wYXJhdG9yLT5nZXRUYXJnZXQoKSAtIDE7CmJyZWFrOwpjYXNlICc8PSc6CiR0aGlzLT5tYXhEZXB0aCA9ICRjb21wYXJhdG9yLT5nZXRUYXJnZXQoKTsKYnJlYWs7CmRlZmF1bHQ6CiR0aGlzLT5taW5EZXB0aCA9ICR0aGlzLT5tYXhEZXB0aCA9ICRjb21wYXJhdG9yLT5nZXRUYXJnZXQoKTsKfQp9CgpyZXR1cm4gJHRoaXM7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBzZXRFeGNsdWRlKGFycmF5ICRleGNsdWRlKQp7CiR0aGlzLT5leGNsdWRlID0gJGV4Y2x1ZGU7CgpyZXR1cm4gJHRoaXM7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBzZXROYW1lcyhhcnJheSAkbmFtZXMpCnsKJHRoaXMtPm5hbWVzID0gJG5hbWVzOwoKcmV0dXJuICR0aGlzOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gc2V0Tm90TmFtZXMoYXJyYXkgJG5vdE5hbWVzKQp7CiR0aGlzLT5ub3ROYW1lcyA9ICRub3ROYW1lczsKCnJldHVybiAkdGhpczsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIHNldENvbnRhaW5zKGFycmF5ICRjb250YWlucykKewokdGhpcy0+Y29udGFpbnMgPSAkY29udGFpbnM7CgpyZXR1cm4gJHRoaXM7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBzZXROb3RDb250YWlucyhhcnJheSAkbm90Q29udGFpbnMpCnsKJHRoaXMtPm5vdENvbnRhaW5zID0gJG5vdENvbnRhaW5zOwoKcmV0dXJuICR0aGlzOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gc2V0U2l6ZXMoYXJyYXkgJHNpemVzKQp7CiR0aGlzLT5zaXplcyA9ICRzaXplczsKCnJldHVybiAkdGhpczsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIHNldERhdGVzKGFycmF5ICRkYXRlcykKewokdGhpcy0+ZGF0ZXMgPSAkZGF0ZXM7CgpyZXR1cm4gJHRoaXM7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBzZXRGaWx0ZXJzKGFycmF5ICRmaWx0ZXJzKQp7CiR0aGlzLT5maWx0ZXJzID0gJGZpbHRlcnM7CgpyZXR1cm4gJHRoaXM7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBzZXRTb3J0KCRzb3J0KQp7CiR0aGlzLT5zb3J0ID0gJHNvcnQ7CgpyZXR1cm4gJHRoaXM7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBzZXRQYXRoKGFycmF5ICRwYXRocykKewokdGhpcy0+cGF0aHMgPSAkcGF0aHM7CgpyZXR1cm4gJHRoaXM7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBzZXROb3RQYXRoKGFycmF5ICRub3RQYXRocykKewokdGhpcy0+bm90UGF0aHMgPSAkbm90UGF0aHM7CgpyZXR1cm4gJHRoaXM7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBpZ25vcmVVbnJlYWRhYmxlRGlycygkaWdub3JlID0gdHJ1ZSkKewokdGhpcy0+aWdub3JlVW5yZWFkYWJsZURpcnMgPSAoYm9vbCkgJGlnbm9yZTsKCnJldHVybiAkdGhpczsKfQoKCgoKCgoKCgoKCgphYnN0cmFjdCBwcm90ZWN0ZWQgZnVuY3Rpb24gY2FuQmVVc2VkKCk7Cn0KPD9waHAKCgoKCgoKCgoKCm5hbWVzcGFjZSBTeW1mb255XENvbXBvbmVudFxGaW5kZXJcQWRhcHRlcjsKCkB0cmlnZ2VyX2Vycm9yKCdUaGUgJy5fX05BTUVTUEFDRV9fLidcQWJzdHJhY3RGaW5kQWRhcHRlciBjbGFzcyBpcyBkZXByZWNhdGVkIHNpbmNlIFN5bWZvbnkgMi44IGFuZCB3aWxsIGJlIHJlbW92ZWQgaW4gMy4wLiBVc2UgZGlyZWN0bHkgdGhlIEZpbmRlciBjbGFzcyBpbnN0ZWFkLicsIEVfVVNFUl9ERVBSRUNBVEVEKTsKCnVzZSBTeW1mb255XENvbXBvbmVudFxGaW5kZXJcQ29tcGFyYXRvclxEYXRlQ29tcGFyYXRvcjsKdXNlIFN5bWZvbnlcQ29tcG9uZW50XEZpbmRlclxDb21wYXJhdG9yXE51bWJlckNvbXBhcmF0b3I7CnVzZSBTeW1mb255XENvbXBvbmVudFxGaW5kZXJcRXhjZXB0aW9uXEFjY2Vzc0RlbmllZEV4Y2VwdGlvbjsKdXNlIFN5bWZvbnlcQ29tcG9uZW50XEZpbmRlclxFeHByZXNzaW9uXEV4cHJlc3Npb247CnVzZSBTeW1mb255XENvbXBvbmVudFxGaW5kZXJcSXRlcmF0b3I7CnVzZSBTeW1mb255XENvbXBvbmVudFxGaW5kZXJcU2hlbGxcQ29tbWFuZDsKdXNlIFN5bWZvbnlcQ29tcG9uZW50XEZpbmRlclxTaGVsbFxTaGVsbDsKCgoKCgoKCgphYnN0cmFjdCBjbGFzcyBBYnN0cmFjdEZpbmRBZGFwdGVyIGV4dGVuZHMgQWJzdHJhY3RBZGFwdGVyCnsKcHJvdGVjdGVkICRzaGVsbDsKCnB1YmxpYyBmdW5jdGlvbiBfX2NvbnN0cnVjdCgpCnsKJHRoaXMtPnNoZWxsID0gbmV3IFNoZWxsKCk7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBzZWFyY2hJbkRpcmVjdG9yeSgkZGlyKQp7CgokZGlyID0gcmVhbHBhdGgoJGRpcik7CgoKaWYgKEl0ZXJhdG9yXEZpbGVUeXBlRmlsdGVySXRlcmF0b3I6Ok9OTFlfRElSRUNUT1JJRVMgPT09ICR0aGlzLT5tb2RlICYmICgkdGhpcy0+Y29udGFpbnMgfHwgJHRoaXMtPm5vdENvbnRhaW5zKSkgewpyZXR1cm4gbmV3IEl0ZXJhdG9yXEZpbGVQYXRoc0l0ZXJhdG9yKGFycmF5KCksICRkaXIpOwp9CgokY29tbWFuZCA9IENvbW1hbmQ6OmNyZWF0ZSgpOwokZmluZCA9ICR0aGlzLT5idWlsZEZpbmRDb21tYW5kKCRjb21tYW5kLCAkZGlyKTsKCmlmICgkdGhpcy0+Zm9sbG93TGlua3MpIHsKJGZpbmQtPmFkZCgnLWZvbGxvdycpOwp9CgokZmluZC0+YWRkKCctbWluZGVwdGgnKS0+YWRkKCR0aGlzLT5taW5EZXB0aCArIDEpOwoKaWYgKFBIUF9JTlRfTUFYICE9PSAkdGhpcy0+bWF4RGVwdGgpIHsKJGZpbmQtPmFkZCgnLW1heGRlcHRoJyktPmFkZCgkdGhpcy0+bWF4RGVwdGggKyAxKTsKfQoKaWYgKEl0ZXJhdG9yXEZpbGVUeXBlRmlsdGVySXRlcmF0b3I6Ok9OTFlfRElSRUNUT1JJRVMgPT09ICR0aGlzLT5tb2RlKSB7CiRmaW5kLT5hZGQoJy10eXBlIGQnKTsKfSBlbHNlaWYgKEl0ZXJhdG9yXEZpbGVUeXBlRmlsdGVySXRlcmF0b3I6Ok9OTFlfRklMRVMgPT09ICR0aGlzLT5tb2RlKSB7CiRmaW5kLT5hZGQoJy10eXBlIGYnKTsKfQoKJHRoaXMtPmJ1aWxkTmFtZXNGaWx0ZXJpbmcoJGZpbmQsICR0aGlzLT5uYW1lcyk7CiR0aGlzLT5idWlsZE5hbWVzRmlsdGVyaW5nKCRmaW5kLCAkdGhpcy0+bm90TmFtZXMsIHRydWUpOwokdGhpcy0+YnVpbGRQYXRoc0ZpbHRlcmluZygkZmluZCwgJGRpciwgJHRoaXMtPnBhdGhzKTsKJHRoaXMtPmJ1aWxkUGF0aHNGaWx0ZXJpbmcoJGZpbmQsICRkaXIsICR0aGlzLT5ub3RQYXRocywgdHJ1ZSk7CiR0aGlzLT5idWlsZFNpemVzRmlsdGVyaW5nKCRmaW5kLCAkdGhpcy0+c2l6ZXMpOwokdGhpcy0+YnVpbGREYXRlc0ZpbHRlcmluZygkZmluZCwgJHRoaXMtPmRhdGVzKTsKCiR1c2VHcmVwID0gJHRoaXMtPnNoZWxsLT50ZXN0Q29tbWFuZCgnZ3JlcCcpICYmICR0aGlzLT5zaGVsbC0+dGVzdENvbW1hbmQoJ3hhcmdzJyk7CiR1c2VTb3J0ID0gXGlzX2ludCgkdGhpcy0+c29ydCkgJiYgJHRoaXMtPnNoZWxsLT50ZXN0Q29tbWFuZCgnc29ydCcpICYmICR0aGlzLT5zaGVsbC0+dGVzdENvbW1hbmQoJ2N1dCcpOwoKaWYgKCR1c2VHcmVwICYmICgkdGhpcy0+Y29udGFpbnMgfHwgJHRoaXMtPm5vdENvbnRhaW5zKSkgewokZ3JlcCA9ICRjb21tYW5kLT5pbnMoJ2dyZXAnKTsKJHRoaXMtPmJ1aWxkQ29udGVudEZpbHRlcmluZygkZ3JlcCwgJHRoaXMtPmNvbnRhaW5zKTsKJHRoaXMtPmJ1aWxkQ29udGVudEZpbHRlcmluZygkZ3JlcCwgJHRoaXMtPm5vdENvbnRhaW5zLCB0cnVlKTsKfQoKaWYgKCR1c2VTb3J0KSB7CiR0aGlzLT5idWlsZFNvcnRpbmcoJGNvbW1hbmQsICR0aGlzLT5zb3J0KTsKfQoKJGNvbW1hbmQtPnNldEVycm9ySGFuZGxlcigKJHRoaXMtPmlnbm9yZVVucmVhZGFibGVEaXJzCgo/IGZ1bmN0aW9uICgkc3RkZXJyKSB7IH0KOiBmdW5jdGlvbiAoJHN0ZGVycikgeyB0aHJvdyBuZXcgQWNjZXNzRGVuaWVkRXhjZXB0aW9uKCRzdGRlcnIpOyB9Cik7CgokcGF0aHMgPSAkdGhpcy0+c2hlbGwtPnRlc3RDb21tYW5kKCd1bmlxJykgPyAkY29tbWFuZC0+YWRkKCd8IHVuaXEnKS0+ZXhlY3V0ZSgpIDogYXJyYXlfdW5pcXVlKCRjb21tYW5kLT5leGVjdXRlKCkpOwokaXRlcmF0b3IgPSBuZXcgSXRlcmF0b3JcRmlsZVBhdGhzSXRlcmF0b3IoJHBhdGhzLCAkZGlyKTsKCmlmICgkdGhpcy0+ZXhjbHVkZSkgewokaXRlcmF0b3IgPSBuZXcgSXRlcmF0b3JcRXhjbHVkZURpcmVjdG9yeUZpbHRlckl0ZXJhdG9yKCRpdGVyYXRvciwgJHRoaXMtPmV4Y2x1ZGUpOwp9CgppZiAoISR1c2VHcmVwICYmICgkdGhpcy0+Y29udGFpbnMgfHwgJHRoaXMtPm5vdENvbnRhaW5zKSkgewokaXRlcmF0b3IgPSBuZXcgSXRlcmF0b3JcRmlsZWNvbnRlbnRGaWx0ZXJJdGVyYXRvcigkaXRlcmF0b3IsICR0aGlzLT5jb250YWlucywgJHRoaXMtPm5vdENvbnRhaW5zKTsKfQoKaWYgKCR0aGlzLT5maWx0ZXJzKSB7CiRpdGVyYXRvciA9IG5ldyBJdGVyYXRvclxDdXN0b21GaWx0ZXJJdGVyYXRvcigkaXRlcmF0b3IsICR0aGlzLT5maWx0ZXJzKTsKfQoKaWYgKCEkdXNlU29ydCAmJiAkdGhpcy0+c29ydCkgewokaXRlcmF0b3JBZ2dyZWdhdGUgPSBuZXcgSXRlcmF0b3JcU29ydGFibGVJdGVyYXRvcigkaXRlcmF0b3IsICR0aGlzLT5zb3J0KTsKJGl0ZXJhdG9yID0gJGl0ZXJhdG9yQWdncmVnYXRlLT5nZXRJdGVyYXRvcigpOwp9CgpyZXR1cm4gJGl0ZXJhdG9yOwp9CgoKCgpwcm90ZWN0ZWQgZnVuY3Rpb24gY2FuQmVVc2VkKCkKewpyZXR1cm4gJHRoaXMtPnNoZWxsLT50ZXN0Q29tbWFuZCgnZmluZCcpOwp9CgoKCgoKCgpwcm90ZWN0ZWQgZnVuY3Rpb24gYnVpbGRGaW5kQ29tbWFuZChDb21tYW5kICRjb21tYW5kLCAkZGlyKQp7CnJldHVybiAkY29tbWFuZAotPmlucygnZmluZCcpCi0+YWRkKCdmaW5kICcpCi0+YXJnKCRkaXIpCi0+YWRkKCctbm9sZWFmJyk7IAp9CgoKCgoKCnByaXZhdGUgZnVuY3Rpb24gYnVpbGROYW1lc0ZpbHRlcmluZyhDb21tYW5kICRjb21tYW5kLCBhcnJheSAkbmFtZXMsICRub3QgPSBmYWxzZSkKewppZiAoMCA9PT0gXGNvdW50KCRuYW1lcykpIHsKcmV0dXJuOwp9CgokY29tbWFuZC0+YWRkKCRub3QgPyAnLW5vdCcgOiBudWxsKS0+Y21kKCcoJyk7Cgpmb3JlYWNoICgkbmFtZXMgYXMgJGkgPT4gJG5hbWUpIHsKJGV4cHIgPSBFeHByZXNzaW9uOjpjcmVhdGUoJG5hbWUpOwoKCmlmICgkZXhwci0+aXNHbG9iKCkgJiYgJGV4cHItPmdldEdsb2IoKS0+aXNFeHBhbmRhYmxlKCkpIHsKJGV4cHIgPSBFeHByZXNzaW9uOjpjcmVhdGUoJGV4cHItPmdldEdsb2IoKS0+dG9SZWdleChmYWxzZSkpOwp9CgoKCgppZiAoJGV4cHItPmlzUmVnZXgoKSkgewokcmVnZXggPSAkZXhwci0+Z2V0UmVnZXgoKTsKJHJlZ2V4LT5wcmVwZW5kKCRyZWdleC0+aGFzU3RhcnRGbGFnKCkgPyAnLycgOiAnL1teL10qJykKLT5zZXRTdGFydEZsYWcoZmFsc2UpCi0+c2V0U3RhcnRKb2tlcih0cnVlKQotPnJlcGxhY2VKb2tlcnMoJ1teL10nKTsKaWYgKCEkcmVnZXgtPmhhc0VuZEZsYWcoKSB8fCAkcmVnZXgtPmhhc0VuZEpva2VyKCkpIHsKJHJlZ2V4LT5zZXRFbmRKb2tlcihmYWxzZSktPmFwcGVuZCgnW14vXSonKTsKfQp9CgokY29tbWFuZAotPmFkZCgkaSA+IDAgPyAnLW9yJyA6IG51bGwpCi0+YWRkKCRleHByLT5pc1JlZ2V4KCkKPyAoJGV4cHItPmlzQ2FzZVNlbnNpdGl2ZSgpID8gJy1yZWdleCcgOiAnLWlyZWdleCcpCjogKCRleHByLT5pc0Nhc2VTZW5zaXRpdmUoKSA/ICctbmFtZScgOiAnLWluYW1lJykKKQotPmFyZygkZXhwci0+cmVuZGVyUGF0dGVybigpKTsKfQoKJGNvbW1hbmQtPmNtZCgnKScpOwp9CgoKCgoKCgpwcml2YXRlIGZ1bmN0aW9uIGJ1aWxkUGF0aHNGaWx0ZXJpbmcoQ29tbWFuZCAkY29tbWFuZCwgJGRpciwgYXJyYXkgJHBhdGhzLCAkbm90ID0gZmFsc2UpCnsKaWYgKDAgPT09IFxjb3VudCgkcGF0aHMpKSB7CnJldHVybjsKfQoKJGNvbW1hbmQtPmFkZCgkbm90ID8gJy1ub3QnIDogbnVsbCktPmNtZCgnKCcpOwoKZm9yZWFjaCAoJHBhdGhzIGFzICRpID0+ICRwYXRoKSB7CiRleHByID0gRXhwcmVzc2lvbjo6Y3JlYXRlKCRwYXRoKTsKCgppZiAoJGV4cHItPmlzR2xvYigpICYmICRleHByLT5nZXRHbG9iKCktPmlzRXhwYW5kYWJsZSgpKSB7CiRleHByID0gRXhwcmVzc2lvbjo6Y3JlYXRlKCRleHByLT5nZXRHbG9iKCktPnRvUmVnZXgoZmFsc2UpKTsKfQoKCmlmICgkZXhwci0+aXNSZWdleCgpKSB7CiRyZWdleCA9ICRleHByLT5nZXRSZWdleCgpOwokcmVnZXgtPnByZXBlbmQoJHJlZ2V4LT5oYXNTdGFydEZsYWcoKSA/IHByZWdfcXVvdGUoJGRpcikuXERJUkVDVE9SWV9TRVBBUkFUT1IgOiAnLionKS0+c2V0RW5kSm9rZXIoISRyZWdleC0+aGFzRW5kRmxhZygpKTsKfSBlbHNlIHsKJGV4cHItPnByZXBlbmQoJyonKS0+YXBwZW5kKCcqJyk7Cn0KCiRjb21tYW5kCi0+YWRkKCRpID4gMCA/ICctb3InIDogbnVsbCkKLT5hZGQoJGV4cHItPmlzUmVnZXgoKQo/ICgkZXhwci0+aXNDYXNlU2Vuc2l0aXZlKCkgPyAnLXJlZ2V4JyA6ICctaXJlZ2V4JykKOiAoJGV4cHItPmlzQ2FzZVNlbnNpdGl2ZSgpID8gJy1wYXRoJyA6ICctaXBhdGgnKQopCi0+YXJnKCRleHByLT5yZW5kZXJQYXR0ZXJuKCkpOwp9CgokY29tbWFuZC0+Y21kKCcpJyk7Cn0KCgoKCgpwcml2YXRlIGZ1bmN0aW9uIGJ1aWxkU2l6ZXNGaWx0ZXJpbmcoQ29tbWFuZCAkY29tbWFuZCwgYXJyYXkgJHNpemVzKQp7CmZvcmVhY2ggKCRzaXplcyBhcyAkaSA9PiAkc2l6ZSkgewokY29tbWFuZC0+YWRkKCRpID4gMCA/ICctYW5kJyA6IG51bGwpOwoKc3dpdGNoICgkc2l6ZS0+Z2V0T3BlcmF0b3IoKSkgewpjYXNlICc8PSc6CiRjb21tYW5kLT5hZGQoJy1zaXplIC0nLigkc2l6ZS0+Z2V0VGFyZ2V0KCkgKyAxKS4nYycpOwpicmVhazsKY2FzZSAnPj0nOgokY29tbWFuZC0+YWRkKCctc2l6ZSArJy4oJHNpemUtPmdldFRhcmdldCgpIC0gMSkuJ2MnKTsKYnJlYWs7CmNhc2UgJz4nOgokY29tbWFuZC0+YWRkKCctc2l6ZSArJy4kc2l6ZS0+Z2V0VGFyZ2V0KCkuJ2MnKTsKYnJlYWs7CmNhc2UgJyE9JzoKJGNvbW1hbmQtPmFkZCgnLXNpemUgLScuJHNpemUtPmdldFRhcmdldCgpLidjJyk7CiRjb21tYW5kLT5hZGQoJy1zaXplICsnLiRzaXplLT5nZXRUYXJnZXQoKS4nYycpOwpicmVhazsKY2FzZSAnPCc6CmRlZmF1bHQ6CiRjb21tYW5kLT5hZGQoJy1zaXplIC0nLiRzaXplLT5nZXRUYXJnZXQoKS4nYycpOwp9Cn0KfQoKCgoKCnByaXZhdGUgZnVuY3Rpb24gYnVpbGREYXRlc0ZpbHRlcmluZyhDb21tYW5kICRjb21tYW5kLCBhcnJheSAkZGF0ZXMpCnsKZm9yZWFjaCAoJGRhdGVzIGFzICRpID0+ICRkYXRlKSB7CiRjb21tYW5kLT5hZGQoJGkgPiAwID8gJy1hbmQnIDogbnVsbCk7CgokbWlucyA9IChpbnQpIHJvdW5kKCh0aW1lKCkgLSAkZGF0ZS0+Z2V0VGFyZ2V0KCkpIC8gNjApOwoKaWYgKDAgPiAkbWlucykgewoKJGNvbW1hbmQtPmFkZCgnIC1tbWluIC0wJyk7CgpyZXR1cm47Cn0KCnN3aXRjaCAoJGRhdGUtPmdldE9wZXJhdG9yKCkpIHsKY2FzZSAnPD0nOgokY29tbWFuZC0+YWRkKCctbW1pbiArJy4oJG1pbnMgLSAxKSk7CmJyZWFrOwpjYXNlICc+PSc6CiRjb21tYW5kLT5hZGQoJy1tbWluIC0nLigkbWlucyArIDEpKTsKYnJlYWs7CmNhc2UgJz4nOgokY29tbWFuZC0+YWRkKCctbW1pbiAtJy4kbWlucyk7CmJyZWFrOwpjYXNlICchPSc6CiRjb21tYW5kLT5hZGQoJy1tbWluICsnLiRtaW5zLicgLW9yIC1tbWluIC0nLiRtaW5zKTsKYnJlYWs7CmNhc2UgJzwnOgpkZWZhdWx0OgokY29tbWFuZC0+YWRkKCctbW1pbiArJy4kbWlucyk7Cn0KfQp9CgoKCgoKCgpwcml2YXRlIGZ1bmN0aW9uIGJ1aWxkU29ydGluZyhDb21tYW5kICRjb21tYW5kLCAkc29ydCkKewokdGhpcy0+YnVpbGRGb3JtYXRTb3J0aW5nKCRjb21tYW5kLCAkc29ydCk7Cn0KCgoKCgphYnN0cmFjdCBwcm90ZWN0ZWQgZnVuY3Rpb24gYnVpbGRGb3JtYXRTb3J0aW5nKENvbW1hbmQgJGNvbW1hbmQsICRzb3J0KTsKCgoKCgoKYWJzdHJhY3QgcHJvdGVjdGVkIGZ1bmN0aW9uIGJ1aWxkQ29udGVudEZpbHRlcmluZyhDb21tYW5kICRjb21tYW5kLCBhcnJheSAkY29udGFpbnMsICRub3QgPSBmYWxzZSk7Cn0KPD9waHAKCgoKCgoKCgoKCm5hbWVzcGFjZSBTeW1mb255XENvbXBvbmVudFxGaW5kZXJcQWRhcHRlcjsKCgoKCgoKaW50ZXJmYWNlIEFkYXB0ZXJJbnRlcmZhY2UKewoKCgoKCnB1YmxpYyBmdW5jdGlvbiBzZXRGb2xsb3dMaW5rcygkZm9sbG93TGlua3MpOwoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gc2V0TW9kZSgkbW9kZSk7CgoKCgpwdWJsaWMgZnVuY3Rpb24gc2V0RXhjbHVkZShhcnJheSAkZXhjbHVkZSk7CgoKCgpwdWJsaWMgZnVuY3Rpb24gc2V0RGVwdGhzKGFycmF5ICRkZXB0aHMpOwoKCgoKcHVibGljIGZ1bmN0aW9uIHNldE5hbWVzKGFycmF5ICRuYW1lcyk7CgoKCgpwdWJsaWMgZnVuY3Rpb24gc2V0Tm90TmFtZXMoYXJyYXkgJG5vdE5hbWVzKTsKCgoKCnB1YmxpYyBmdW5jdGlvbiBzZXRDb250YWlucyhhcnJheSAkY29udGFpbnMpOwoKCgoKcHVibGljIGZ1bmN0aW9uIHNldE5vdENvbnRhaW5zKGFycmF5ICRub3RDb250YWlucyk7CgoKCgpwdWJsaWMgZnVuY3Rpb24gc2V0U2l6ZXMoYXJyYXkgJHNpemVzKTsKCgoKCnB1YmxpYyBmdW5jdGlvbiBzZXREYXRlcyhhcnJheSAkZGF0ZXMpOwoKCgoKcHVibGljIGZ1bmN0aW9uIHNldEZpbHRlcnMoYXJyYXkgJGZpbHRlcnMpOwoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gc2V0U29ydCgkc29ydCk7CgoKCgpwdWJsaWMgZnVuY3Rpb24gc2V0UGF0aChhcnJheSAkcGF0aHMpOwoKCgoKcHVibGljIGZ1bmN0aW9uIHNldE5vdFBhdGgoYXJyYXkgJG5vdFBhdGhzKTsKCgoKCgoKcHVibGljIGZ1bmN0aW9uIGlnbm9yZVVucmVhZGFibGVEaXJzKCRpZ25vcmUgPSB0cnVlKTsKCgoKCgoKcHVibGljIGZ1bmN0aW9uIHNlYXJjaEluRGlyZWN0b3J5KCRkaXIpOwoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gaXNTdXBwb3J0ZWQoKTsKCgoKCgoKcHVibGljIGZ1bmN0aW9uIGdldE5hbWUoKTsKfQo8P3BocAoKCgoKCgoKCgoKbmFtZXNwYWNlIFN5bWZvbnlcQ29tcG9uZW50XEZpbmRlclxBZGFwdGVyOwoKQHRyaWdnZXJfZXJyb3IoJ1RoZSAnLl9fTkFNRVNQQUNFX18uJ1xCc2RGaW5kQWRhcHRlciBjbGFzcyBpcyBkZXByZWNhdGVkIHNpbmNlIFN5bWZvbnkgMi44IGFuZCB3aWxsIGJlIHJlbW92ZWQgaW4gMy4wLiBVc2UgZGlyZWN0bHkgdGhlIEZpbmRlciBjbGFzcyBpbnN0ZWFkLicsIEVfVVNFUl9ERVBSRUNBVEVEKTsKCnVzZSBTeW1mb255XENvbXBvbmVudFxGaW5kZXJcRXhwcmVzc2lvblxFeHByZXNzaW9uOwp1c2UgU3ltZm9ueVxDb21wb25lbnRcRmluZGVyXEl0ZXJhdG9yXFNvcnRhYmxlSXRlcmF0b3I7CnVzZSBTeW1mb255XENvbXBvbmVudFxGaW5kZXJcU2hlbGxcQ29tbWFuZDsKdXNlIFN5bWZvbnlcQ29tcG9uZW50XEZpbmRlclxTaGVsbFxTaGVsbDsKCgoKCgoKCgpjbGFzcyBCc2RGaW5kQWRhcHRlciBleHRlbmRzIEFic3RyYWN0RmluZEFkYXB0ZXIKewoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0TmFtZSgpCnsKcmV0dXJuICdic2RfZmluZCc7Cn0KCgoKCnByb3RlY3RlZCBmdW5jdGlvbiBjYW5CZVVzZWQoKQp7CnJldHVybiBcaW5fYXJyYXkoJHRoaXMtPnNoZWxsLT5nZXRUeXBlKCksIGFycmF5KFNoZWxsOjpUWVBFX0JTRCwgU2hlbGw6OlRZUEVfREFSV0lOKSkgJiYgcGFyZW50OjpjYW5CZVVzZWQoKTsKfQoKCgoKcHJvdGVjdGVkIGZ1bmN0aW9uIGJ1aWxkRm9ybWF0U29ydGluZyhDb21tYW5kICRjb21tYW5kLCAkc29ydCkKewpzd2l0Y2ggKCRzb3J0KSB7CmNhc2UgU29ydGFibGVJdGVyYXRvcjo6U09SVF9CWV9OQU1FOgokY29tbWFuZC0+aW5zKCdzb3J0JyktPmFkZCgnfCBzb3J0Jyk7CgpyZXR1cm47CmNhc2UgU29ydGFibGVJdGVyYXRvcjo6U09SVF9CWV9UWVBFOgokZm9ybWF0ID0gJyVIVCc7CmJyZWFrOwpjYXNlIFNvcnRhYmxlSXRlcmF0b3I6OlNPUlRfQllfQUNDRVNTRURfVElNRToKJGZvcm1hdCA9ICclYSc7CmJyZWFrOwpjYXNlIFNvcnRhYmxlSXRlcmF0b3I6OlNPUlRfQllfQ0hBTkdFRF9USU1FOgokZm9ybWF0ID0gJyVjJzsKYnJlYWs7CmNhc2UgU29ydGFibGVJdGVyYXRvcjo6U09SVF9CWV9NT0RJRklFRF9USU1FOgokZm9ybWF0ID0gJyVtJzsKYnJlYWs7CmRlZmF1bHQ6CnRocm93IG5ldyBcSW52YWxpZEFyZ3VtZW50RXhjZXB0aW9uKHNwcmludGYoJ1Vua25vd24gc29ydCBvcHRpb25zOiAlcy4nLCAkc29ydCkpOwp9CgokY29tbWFuZAotPmFkZCgnLXByaW50MCB8IHhhcmdzIC0wIHN0YXQgLWYnKQotPmFyZygkZm9ybWF0LicldCVOJykKLT5hZGQoJ3wgc29ydCB8IGN1dCAtZiAyJyk7Cn0KCgoKCnByb3RlY3RlZCBmdW5jdGlvbiBidWlsZEZpbmRDb21tYW5kKENvbW1hbmQgJGNvbW1hbmQsICRkaXIpCnsKcGFyZW50OjpidWlsZEZpbmRDb21tYW5kKCRjb21tYW5kLCAkZGlyKS0+YWRkQXRJbmRleCgnLUUnLCAxKTsKCnJldHVybiAkY29tbWFuZDsKfQoKCgoKcHJvdGVjdGVkIGZ1bmN0aW9uIGJ1aWxkQ29udGVudEZpbHRlcmluZyhDb21tYW5kICRjb21tYW5kLCBhcnJheSAkY29udGFpbnMsICRub3QgPSBmYWxzZSkKewpmb3JlYWNoICgkY29udGFpbnMgYXMgJGNvbnRhaW4pIHsKJGV4cHIgPSBFeHByZXNzaW9uOjpjcmVhdGUoJGNvbnRhaW4pOwoKCiRjb21tYW5kCi0+YWRkKCd8IGdyZXAgLXYgXCdeJFwnJykKLT5hZGQoJ3wgeGFyZ3MgLUl7fSBncmVwIC1JJykKLT5hZGQoJGV4cHItPmlzQ2FzZVNlbnNpdGl2ZSgpID8gbnVsbCA6ICctaScpCi0+YWRkKCRub3QgPyAnLUwnIDogJy1sJykKLT5hZGQoJy1FZScpLT5hcmcoJGV4cHItPnJlbmRlclBhdHRlcm4oKSkKLT5hZGQoJ3t9JykKOwp9Cn0KfQo8P3BocAoKCgoKCgoKCgoKbmFtZXNwYWNlIFN5bWZvbnlcQ29tcG9uZW50XEZpbmRlclxBZGFwdGVyOwoKQHRyaWdnZXJfZXJyb3IoJ1RoZSAnLl9fTkFNRVNQQUNFX18uJ1xHbnVGaW5kQWRhcHRlciBjbGFzcyBpcyBkZXByZWNhdGVkIHNpbmNlIFN5bWZvbnkgMi44IGFuZCB3aWxsIGJlIHJlbW92ZWQgaW4gMy4wLiBVc2UgZGlyZWN0bHkgdGhlIEZpbmRlciBjbGFzcyBpbnN0ZWFkLicsIEVfVVNFUl9ERVBSRUNBVEVEKTsKCnVzZSBTeW1mb255XENvbXBvbmVudFxGaW5kZXJcRXhwcmVzc2lvblxFeHByZXNzaW9uOwp1c2UgU3ltZm9ueVxDb21wb25lbnRcRmluZGVyXEl0ZXJhdG9yXFNvcnRhYmxlSXRlcmF0b3I7CnVzZSBTeW1mb255XENvbXBvbmVudFxGaW5kZXJcU2hlbGxcQ29tbWFuZDsKdXNlIFN5bWZvbnlcQ29tcG9uZW50XEZpbmRlclxTaGVsbFxTaGVsbDsKCgoKCgoKCgpjbGFzcyBHbnVGaW5kQWRhcHRlciBleHRlbmRzIEFic3RyYWN0RmluZEFkYXB0ZXIKewoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0TmFtZSgpCnsKcmV0dXJuICdnbnVfZmluZCc7Cn0KCgoKCnByb3RlY3RlZCBmdW5jdGlvbiBidWlsZEZvcm1hdFNvcnRpbmcoQ29tbWFuZCAkY29tbWFuZCwgJHNvcnQpCnsKc3dpdGNoICgkc29ydCkgewpjYXNlIFNvcnRhYmxlSXRlcmF0b3I6OlNPUlRfQllfTkFNRToKJGNvbW1hbmQtPmlucygnc29ydCcpLT5hZGQoJ3wgc29ydCcpOwoKcmV0dXJuOwpjYXNlIFNvcnRhYmxlSXRlcmF0b3I6OlNPUlRfQllfVFlQRToKJGZvcm1hdCA9ICcleSc7CmJyZWFrOwpjYXNlIFNvcnRhYmxlSXRlcmF0b3I6OlNPUlRfQllfQUNDRVNTRURfVElNRToKJGZvcm1hdCA9ICclQUAnOwpicmVhazsKY2FzZSBTb3J0YWJsZUl0ZXJhdG9yOjpTT1JUX0JZX0NIQU5HRURfVElNRToKJGZvcm1hdCA9ICclQ0AnOwpicmVhazsKY2FzZSBTb3J0YWJsZUl0ZXJhdG9yOjpTT1JUX0JZX01PRElGSUVEX1RJTUU6CiRmb3JtYXQgPSAnJVRAJzsKYnJlYWs7CmRlZmF1bHQ6CnRocm93IG5ldyBcSW52YWxpZEFyZ3VtZW50RXhjZXB0aW9uKHNwcmludGYoJ1Vua25vd24gc29ydCBvcHRpb25zOiAlcy4nLCAkc29ydCkpOwp9CgokY29tbWFuZAotPmdldCgnZmluZCcpCi0+YWRkKCctcHJpbnRmJykKLT5hcmcoJGZvcm1hdC4nICVoLyVmXFxuJykKLT5hZGQoJ3wgc29ydCB8IGN1dCcpCi0+YXJnKCctZCAnKQotPmFyZygnLWYyLScpCjsKfQoKCgoKcHJvdGVjdGVkIGZ1bmN0aW9uIGNhbkJlVXNlZCgpCnsKcmV0dXJuIFNoZWxsOjpUWVBFX1VOSVggPT09ICR0aGlzLT5zaGVsbC0+Z2V0VHlwZSgpICYmIHBhcmVudDo6Y2FuQmVVc2VkKCk7Cn0KCgoKCnByb3RlY3RlZCBmdW5jdGlvbiBidWlsZEZpbmRDb21tYW5kKENvbW1hbmQgJGNvbW1hbmQsICRkaXIpCnsKcmV0dXJuIHBhcmVudDo6YnVpbGRGaW5kQ29tbWFuZCgkY29tbWFuZCwgJGRpciktPmFkZCgnLXJlZ2V4dHlwZSBwb3NpeC1leHRlbmRlZCcpOwp9CgoKCgpwcm90ZWN0ZWQgZnVuY3Rpb24gYnVpbGRDb250ZW50RmlsdGVyaW5nKENvbW1hbmQgJGNvbW1hbmQsIGFycmF5ICRjb250YWlucywgJG5vdCA9IGZhbHNlKQp7CmZvcmVhY2ggKCRjb250YWlucyBhcyAkY29udGFpbikgewokZXhwciA9IEV4cHJlc3Npb246OmNyZWF0ZSgkY29udGFpbik7CgoKJGNvbW1hbmQKLT5hZGQoJ3wgeGFyZ3MgLUl7fSAtciBncmVwIC1JJykKLT5hZGQoJGV4cHItPmlzQ2FzZVNlbnNpdGl2ZSgpID8gbnVsbCA6ICctaScpCi0+YWRkKCRub3QgPyAnLUwnIDogJy1sJykKLT5hZGQoJy1FZScpLT5hcmcoJGV4cHItPnJlbmRlclBhdHRlcm4oKSkKLT5hZGQoJ3t9JykKOwp9Cn0KfQo8P3BocAoKCgoKCgoKCgoKbmFtZXNwYWNlIFN5bWZvbnlcQ29tcG9uZW50XEZpbmRlclxBZGFwdGVyOwoKQHRyaWdnZXJfZXJyb3IoJ1RoZSAnLl9fTkFNRVNQQUNFX18uJ1xQaHBBZGFwdGVyIGNsYXNzIGlzIGRlcHJlY2F0ZWQgc2luY2UgU3ltZm9ueSAyLjggYW5kIHdpbGwgYmUgcmVtb3ZlZCBpbiAzLjAuIFVzZSBkaXJlY3RseSB0aGUgRmluZGVyIGNsYXNzIGluc3RlYWQuJywgRV9VU0VSX0RFUFJFQ0FURUQpOwoKdXNlIFN5bWZvbnlcQ29tcG9uZW50XEZpbmRlclxJdGVyYXRvcjsKCgoKCgoKCgpjbGFzcyBQaHBBZGFwdGVyIGV4dGVuZHMgQWJzdHJhY3RBZGFwdGVyCnsKCgoKcHVibGljIGZ1bmN0aW9uIHNlYXJjaEluRGlyZWN0b3J5KCRkaXIpCnsKJGZsYWdzID0gXFJlY3Vyc2l2ZURpcmVjdG9yeUl0ZXJhdG9yOjpTS0lQX0RPVFM7CgppZiAoJHRoaXMtPmZvbGxvd0xpbmtzKSB7CiRmbGFncyB8PSBcUmVjdXJzaXZlRGlyZWN0b3J5SXRlcmF0b3I6OkZPTExPV19TWU1MSU5LUzsKfQoKJGl0ZXJhdG9yID0gbmV3IEl0ZXJhdG9yXFJlY3Vyc2l2ZURpcmVjdG9yeUl0ZXJhdG9yKCRkaXIsICRmbGFncywgJHRoaXMtPmlnbm9yZVVucmVhZGFibGVEaXJzKTsKCmlmICgkdGhpcy0+ZXhjbHVkZSkgewokaXRlcmF0b3IgPSBuZXcgSXRlcmF0b3JcRXhjbHVkZURpcmVjdG9yeUZpbHRlckl0ZXJhdG9yKCRpdGVyYXRvciwgJHRoaXMtPmV4Y2x1ZGUpOwp9CgokaXRlcmF0b3IgPSBuZXcgXFJlY3Vyc2l2ZUl0ZXJhdG9ySXRlcmF0b3IoJGl0ZXJhdG9yLCBcUmVjdXJzaXZlSXRlcmF0b3JJdGVyYXRvcjo6U0VMRl9GSVJTVCk7CgppZiAoJHRoaXMtPm1pbkRlcHRoID4gMCB8fCAkdGhpcy0+bWF4RGVwdGggPCBQSFBfSU5UX01BWCkgewokaXRlcmF0b3IgPSBuZXcgSXRlcmF0b3JcRGVwdGhSYW5nZUZpbHRlckl0ZXJhdG9yKCRpdGVyYXRvciwgJHRoaXMtPm1pbkRlcHRoLCAkdGhpcy0+bWF4RGVwdGgpOwp9CgppZiAoJHRoaXMtPm1vZGUpIHsKJGl0ZXJhdG9yID0gbmV3IEl0ZXJhdG9yXEZpbGVUeXBlRmlsdGVySXRlcmF0b3IoJGl0ZXJhdG9yLCAkdGhpcy0+bW9kZSk7Cn0KCmlmICgkdGhpcy0+bmFtZXMgfHwgJHRoaXMtPm5vdE5hbWVzKSB7CiRpdGVyYXRvciA9IG5ldyBJdGVyYXRvclxGaWxlbmFtZUZpbHRlckl0ZXJhdG9yKCRpdGVyYXRvciwgJHRoaXMtPm5hbWVzLCAkdGhpcy0+bm90TmFtZXMpOwp9CgppZiAoJHRoaXMtPmNvbnRhaW5zIHx8ICR0aGlzLT5ub3RDb250YWlucykgewokaXRlcmF0b3IgPSBuZXcgSXRlcmF0b3JcRmlsZWNvbnRlbnRGaWx0ZXJJdGVyYXRvcigkaXRlcmF0b3IsICR0aGlzLT5jb250YWlucywgJHRoaXMtPm5vdENvbnRhaW5zKTsKfQoKaWYgKCR0aGlzLT5zaXplcykgewokaXRlcmF0b3IgPSBuZXcgSXRlcmF0b3JcU2l6ZVJhbmdlRmlsdGVySXRlcmF0b3IoJGl0ZXJhdG9yLCAkdGhpcy0+c2l6ZXMpOwp9CgppZiAoJHRoaXMtPmRhdGVzKSB7CiRpdGVyYXRvciA9IG5ldyBJdGVyYXRvclxEYXRlUmFuZ2VGaWx0ZXJJdGVyYXRvcigkaXRlcmF0b3IsICR0aGlzLT5kYXRlcyk7Cn0KCmlmICgkdGhpcy0+ZmlsdGVycykgewokaXRlcmF0b3IgPSBuZXcgSXRlcmF0b3JcQ3VzdG9tRmlsdGVySXRlcmF0b3IoJGl0ZXJhdG9yLCAkdGhpcy0+ZmlsdGVycyk7Cn0KCmlmICgkdGhpcy0+cGF0aHMgfHwgJHRoaXMtPm5vdFBhdGhzKSB7CiRpdGVyYXRvciA9IG5ldyBJdGVyYXRvclxQYXRoRmlsdGVySXRlcmF0b3IoJGl0ZXJhdG9yLCAkdGhpcy0+cGF0aHMsICR0aGlzLT5ub3RQYXRocyk7Cn0KCmlmICgkdGhpcy0+c29ydCkgewokaXRlcmF0b3JBZ2dyZWdhdGUgPSBuZXcgSXRlcmF0b3JcU29ydGFibGVJdGVyYXRvcigkaXRlcmF0b3IsICR0aGlzLT5zb3J0KTsKJGl0ZXJhdG9yID0gJGl0ZXJhdG9yQWdncmVnYXRlLT5nZXRJdGVyYXRvcigpOwp9CgpyZXR1cm4gJGl0ZXJhdG9yOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0TmFtZSgpCnsKcmV0dXJuICdwaHAnOwp9CgoKCgpwcm90ZWN0ZWQgZnVuY3Rpb24gY2FuQmVVc2VkKCkKewpyZXR1cm4gdHJ1ZTsKfQp9Cjw/cGhwCgoKCgoKCgoKCgpuYW1lc3BhY2UgU3ltZm9ueVxDb21wb25lbnRcRmluZGVyXENvbXBhcmF0b3I7CgoKCgoKCmNsYXNzIENvbXBhcmF0b3IKewpwcml2YXRlICR0YXJnZXQ7CnByaXZhdGUgJG9wZXJhdG9yID0gJz09JzsKCgoKCgoKcHVibGljIGZ1bmN0aW9uIGdldFRhcmdldCgpCnsKcmV0dXJuICR0aGlzLT50YXJnZXQ7Cn0KCgoKCgoKcHVibGljIGZ1bmN0aW9uIHNldFRhcmdldCgkdGFyZ2V0KQp7CiR0aGlzLT50YXJnZXQgPSAkdGFyZ2V0Owp9CgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBnZXRPcGVyYXRvcigpCnsKcmV0dXJuICR0aGlzLT5vcGVyYXRvcjsKfQoKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBzZXRPcGVyYXRvcigkb3BlcmF0b3IpCnsKaWYgKCEkb3BlcmF0b3IpIHsKJG9wZXJhdG9yID0gJz09JzsKfQoKaWYgKCFcaW5fYXJyYXkoJG9wZXJhdG9yLCBhcnJheSgnPicsICc8JywgJz49JywgJzw9JywgJz09JywgJyE9JykpKSB7CnRocm93IG5ldyBcSW52YWxpZEFyZ3VtZW50RXhjZXB0aW9uKHNwcmludGYoJ0ludmFsaWQgb3BlcmF0b3IgIiVzIi4nLCAkb3BlcmF0b3IpKTsKfQoKJHRoaXMtPm9wZXJhdG9yID0gJG9wZXJhdG9yOwp9CgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIHRlc3QoJHRlc3QpCnsKc3dpdGNoICgkdGhpcy0+b3BlcmF0b3IpIHsKY2FzZSAnPic6CnJldHVybiAkdGVzdCA+ICR0aGlzLT50YXJnZXQ7CmNhc2UgJz49JzoKcmV0dXJuICR0ZXN0ID49ICR0aGlzLT50YXJnZXQ7CmNhc2UgJzwnOgpyZXR1cm4gJHRlc3QgPCAkdGhpcy0+dGFyZ2V0OwpjYXNlICc8PSc6CnJldHVybiAkdGVzdCA8PSAkdGhpcy0+dGFyZ2V0OwpjYXNlICchPSc6CnJldHVybiAkdGVzdCAhPSAkdGhpcy0+dGFyZ2V0Owp9CgpyZXR1cm4gJHRlc3QgPT0gJHRoaXMtPnRhcmdldDsKfQp9Cjw/cGhwCgoKCgoKCgoKCgpuYW1lc3BhY2UgU3ltZm9ueVxDb21wb25lbnRcRmluZGVyXENvbXBhcmF0b3I7CgoKCgoKCmNsYXNzIERhdGVDb21wYXJhdG9yIGV4dGVuZHMgQ29tcGFyYXRvcgp7CgoKCgoKcHVibGljIGZ1bmN0aW9uIF9fY29uc3RydWN0KCR0ZXN0KQp7CmlmICghcHJlZ19tYXRjaCgnI15ccyooPT18IT18Wzw+XT0/fGFmdGVyfHNpbmNlfGJlZm9yZXx1bnRpbCk/XHMqKC4rPylccyokI2knLCAkdGVzdCwgJG1hdGNoZXMpKSB7CnRocm93IG5ldyBcSW52YWxpZEFyZ3VtZW50RXhjZXB0aW9uKHNwcmludGYoJ0RvblwndCB1bmRlcnN0YW5kICIlcyIgYXMgYSBkYXRlIHRlc3QuJywgJHRlc3QpKTsKfQoKdHJ5IHsKJGRhdGUgPSBuZXcgXERhdGVUaW1lKCRtYXRjaGVzWzJdKTsKJHRhcmdldCA9ICRkYXRlLT5mb3JtYXQoJ1UnKTsKfSBjYXRjaCAoXEV4Y2VwdGlvbiAkZSkgewp0aHJvdyBuZXcgXEludmFsaWRBcmd1bWVudEV4Y2VwdGlvbihzcHJpbnRmKCciJXMiIGlzIG5vdCBhIHZhbGlkIGRhdGUuJywgJG1hdGNoZXNbMl0pKTsKfQoKJG9wZXJhdG9yID0gaXNzZXQoJG1hdGNoZXNbMV0pID8gJG1hdGNoZXNbMV0gOiAnPT0nOwppZiAoJ3NpbmNlJyA9PT0gJG9wZXJhdG9yIHx8ICdhZnRlcicgPT09ICRvcGVyYXRvcikgewokb3BlcmF0b3IgPSAnPic7Cn0KCmlmICgndW50aWwnID09PSAkb3BlcmF0b3IgfHwgJ2JlZm9yZScgPT09ICRvcGVyYXRvcikgewokb3BlcmF0b3IgPSAnPCc7Cn0KCiR0aGlzLT5zZXRPcGVyYXRvcigkb3BlcmF0b3IpOwokdGhpcy0+c2V0VGFyZ2V0KCR0YXJnZXQpOwp9Cn0KPD9waHAKCgoKCgoKCgoKCm5hbWVzcGFjZSBTeW1mb255XENvbXBvbmVudFxGaW5kZXJcQ29tcGFyYXRvcjsKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCmNsYXNzIE51bWJlckNvbXBhcmF0b3IgZXh0ZW5kcyBDb21wYXJhdG9yCnsKCgoKCgpwdWJsaWMgZnVuY3Rpb24gX19jb25zdHJ1Y3QoJHRlc3QpCnsKaWYgKCFwcmVnX21hdGNoKCcjXlxzKig9PXwhPXxbPD5dPT8pP1xzKihbMC05XC5dKylccyooW2ttZ11pPyk/XHMqJCNpJywgJHRlc3QsICRtYXRjaGVzKSkgewp0aHJvdyBuZXcgXEludmFsaWRBcmd1bWVudEV4Y2VwdGlvbihzcHJpbnRmKCdEb25cJ3QgdW5kZXJzdGFuZCAiJXMiIGFzIGEgbnVtYmVyIHRlc3QuJywgJHRlc3QpKTsKfQoKJHRhcmdldCA9ICRtYXRjaGVzWzJdOwppZiAoIWlzX251bWVyaWMoJHRhcmdldCkpIHsKdGhyb3cgbmV3IFxJbnZhbGlkQXJndW1lbnRFeGNlcHRpb24oc3ByaW50ZignSW52YWxpZCBudW1iZXIgIiVzIi4nLCAkdGFyZ2V0KSk7Cn0KaWYgKGlzc2V0KCRtYXRjaGVzWzNdKSkgewoKc3dpdGNoIChzdHJ0b2xvd2VyKCRtYXRjaGVzWzNdKSkgewpjYXNlICdrJzoKJHRhcmdldCAqPSAxMDAwOwpicmVhazsKY2FzZSAna2knOgokdGFyZ2V0ICo9IDEwMjQ7CmJyZWFrOwpjYXNlICdtJzoKJHRhcmdldCAqPSAxMDAwMDAwOwpicmVhazsKY2FzZSAnbWknOgokdGFyZ2V0ICo9IDEwMjQgKiAxMDI0OwpicmVhazsKY2FzZSAnZyc6CiR0YXJnZXQgKj0gMTAwMDAwMDAwMDsKYnJlYWs7CmNhc2UgJ2dpJzoKJHRhcmdldCAqPSAxMDI0ICogMTAyNCAqIDEwMjQ7CmJyZWFrOwp9Cn0KCiR0aGlzLT5zZXRUYXJnZXQoJHRhcmdldCk7CiR0aGlzLT5zZXRPcGVyYXRvcihpc3NldCgkbWF0Y2hlc1sxXSkgPyAkbWF0Y2hlc1sxXSA6ICc9PScpOwp9Cn0KPD9waHAKCgoKCgoKCgoKCm5hbWVzcGFjZSBTeW1mb255XENvbXBvbmVudFxGaW5kZXJcRXhjZXB0aW9uOwoKCgoKY2xhc3MgQWNjZXNzRGVuaWVkRXhjZXB0aW9uIGV4dGVuZHMgXFVuZXhwZWN0ZWRWYWx1ZUV4Y2VwdGlvbgp7Cn0KPD9waHAKCgoKCgoKCgoKCm5hbWVzcGFjZSBTeW1mb255XENvbXBvbmVudFxGaW5kZXJcRXhjZXB0aW9uOwoKQHRyaWdnZXJfZXJyb3IoJ1RoZSAnLl9fTkFNRVNQQUNFX18uJ1xBZGFwdGVyRmFpbHVyZUV4Y2VwdGlvbiBjbGFzcyBpcyBkZXByZWNhdGVkIHNpbmNlIFN5bWZvbnkgMi44IGFuZCB3aWxsIGJlIHJlbW92ZWQgaW4gMy4wLicsIEVfVVNFUl9ERVBSRUNBVEVEKTsKCnVzZSBTeW1mb255XENvbXBvbmVudFxGaW5kZXJcQWRhcHRlclxBZGFwdGVySW50ZXJmYWNlOwoKCgoKCgoKCmNsYXNzIEFkYXB0ZXJGYWlsdXJlRXhjZXB0aW9uIGV4dGVuZHMgXFJ1bnRpbWVFeGNlcHRpb24gaW1wbGVtZW50cyBFeGNlcHRpb25JbnRlcmZhY2UKewpwcml2YXRlICRhZGFwdGVyOwoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gX19jb25zdHJ1Y3QoQWRhcHRlckludGVyZmFjZSAkYWRhcHRlciwgJG1lc3NhZ2UgPSBudWxsLCBcRXhjZXB0aW9uICRwcmV2aW91cyA9IG51bGwpCnsKJHRoaXMtPmFkYXB0ZXIgPSAkYWRhcHRlcjsKcGFyZW50OjpfX2NvbnN0cnVjdCgkbWVzc2FnZSA/OiAnU2VhcmNoIGZhaWxlZCB3aXRoICInLiRhZGFwdGVyLT5nZXROYW1lKCkuJyIgYWRhcHRlci4nLCAkcHJldmlvdXMpOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0QWRhcHRlcigpCnsKcmV0dXJuICR0aGlzLT5hZGFwdGVyOwp9Cn0KPD9waHAKCgoKCgoKCgoKCm5hbWVzcGFjZSBTeW1mb255XENvbXBvbmVudFxGaW5kZXJcRXhjZXB0aW9uOwoKCgoKaW50ZXJmYWNlIEV4Y2VwdGlvbkludGVyZmFjZQp7CgoKCnB1YmxpYyBmdW5jdGlvbiBnZXRBZGFwdGVyKCk7Cn0KPD9waHAKCgoKCgoKCgoKCm5hbWVzcGFjZSBTeW1mb255XENvbXBvbmVudFxGaW5kZXJcRXhjZXB0aW9uOwoKQHRyaWdnZXJfZXJyb3IoJ1RoZSAnLl9fTkFNRVNQQUNFX18uJ1xPcGVyYXRpb25Ob3RQZXJtaXRlZEV4Y2VwdGlvbiBjbGFzcyBpcyBkZXByZWNhdGVkIHNpbmNlIFN5bWZvbnkgMi44IGFuZCB3aWxsIGJlIHJlbW92ZWQgaW4gMy4wLicsIEVfVVNFUl9ERVBSRUNBVEVEKTsKCgoKCgoKY2xhc3MgT3BlcmF0aW9uTm90UGVybWl0ZWRFeGNlcHRpb24gZXh0ZW5kcyBBZGFwdGVyRmFpbHVyZUV4Y2VwdGlvbgp7Cn0KPD9waHAKCgoKCgoKCgoKCm5hbWVzcGFjZSBTeW1mb255XENvbXBvbmVudFxGaW5kZXJcRXhjZXB0aW9uOwoKQHRyaWdnZXJfZXJyb3IoJ1RoZSAnLl9fTkFNRVNQQUNFX18uJ1xTaGVsbENvbW1hbmRGYWlsdXJlRXhjZXB0aW9uIGNsYXNzIGlzIGRlcHJlY2F0ZWQgc2luY2UgU3ltZm9ueSAyLjggYW5kIHdpbGwgYmUgcmVtb3ZlZCBpbiAzLjAuJywgRV9VU0VSX0RFUFJFQ0FURUQpOwoKdXNlIFN5bWZvbnlcQ29tcG9uZW50XEZpbmRlclxBZGFwdGVyXEFkYXB0ZXJJbnRlcmZhY2U7CnVzZSBTeW1mb255XENvbXBvbmVudFxGaW5kZXJcU2hlbGxcQ29tbWFuZDsKCgoKCgoKY2xhc3MgU2hlbGxDb21tYW5kRmFpbHVyZUV4Y2VwdGlvbiBleHRlbmRzIEFkYXB0ZXJGYWlsdXJlRXhjZXB0aW9uCnsKcHJpdmF0ZSAkY29tbWFuZDsKCnB1YmxpYyBmdW5jdGlvbiBfX2NvbnN0cnVjdChBZGFwdGVySW50ZXJmYWNlICRhZGFwdGVyLCBDb21tYW5kICRjb21tYW5kLCBcRXhjZXB0aW9uICRwcmV2aW91cyA9IG51bGwpCnsKJHRoaXMtPmNvbW1hbmQgPSAkY29tbWFuZDsKcGFyZW50OjpfX2NvbnN0cnVjdCgkYWRhcHRlciwgJ1NoZWxsIGNvbW1hbmQgZmFpbGVkOiAiJy4kY29tbWFuZC0+am9pbigpLiciLicsICRwcmV2aW91cyk7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBnZXRDb21tYW5kKCkKewpyZXR1cm4gJHRoaXMtPmNvbW1hbmQ7Cn0KfQo8P3BocAoKCgoKCgoKCgoKbmFtZXNwYWNlIFN5bWZvbnlcQ29tcG9uZW50XEZpbmRlclxFeHByZXNzaW9uOwoKQHRyaWdnZXJfZXJyb3IoJ1RoZSAnLl9fTkFNRVNQQUNFX18uJ1xFeHByZXNzaW9uIGNsYXNzIGlzIGRlcHJlY2F0ZWQgc2luY2UgU3ltZm9ueSAyLjggYW5kIHdpbGwgYmUgcmVtb3ZlZCBpbiAzLjAuJywgRV9VU0VSX0RFUFJFQ0FURUQpOwoKCgoKY2xhc3MgRXhwcmVzc2lvbiBpbXBsZW1lbnRzIFZhbHVlSW50ZXJmYWNlCnsKY29uc3QgVFlQRV9SRUdFWCA9IDE7CmNvbnN0IFRZUEVfR0xPQiA9IDI7CgoKCgpwcml2YXRlICR2YWx1ZTsKCgoKCgoKcHVibGljIHN0YXRpYyBmdW5jdGlvbiBjcmVhdGUoJGV4cHIpCnsKcmV0dXJuIG5ldyBzZWxmKCRleHByKTsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIF9fY29uc3RydWN0KCRleHByKQp7CnRyeSB7CiR0aGlzLT52YWx1ZSA9IFJlZ2V4OjpjcmVhdGUoJGV4cHIpOwp9IGNhdGNoIChcSW52YWxpZEFyZ3VtZW50RXhjZXB0aW9uICRlKSB7CiR0aGlzLT52YWx1ZSA9IG5ldyBHbG9iKCRleHByKTsKfQp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gX190b1N0cmluZygpCnsKcmV0dXJuICR0aGlzLT5yZW5kZXIoKTsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIHJlbmRlcigpCnsKcmV0dXJuICR0aGlzLT52YWx1ZS0+cmVuZGVyKCk7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiByZW5kZXJQYXR0ZXJuKCkKewpyZXR1cm4gJHRoaXMtPnZhbHVlLT5yZW5kZXJQYXR0ZXJuKCk7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBpc0Nhc2VTZW5zaXRpdmUoKQp7CnJldHVybiAkdGhpcy0+dmFsdWUtPmlzQ2FzZVNlbnNpdGl2ZSgpOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0VHlwZSgpCnsKcmV0dXJuICR0aGlzLT52YWx1ZS0+Z2V0VHlwZSgpOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gcHJlcGVuZCgkZXhwcikKewokdGhpcy0+dmFsdWUtPnByZXBlbmQoJGV4cHIpOwoKcmV0dXJuICR0aGlzOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gYXBwZW5kKCRleHByKQp7CiR0aGlzLT52YWx1ZS0+YXBwZW5kKCRleHByKTsKCnJldHVybiAkdGhpczsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIGlzUmVnZXgoKQp7CnJldHVybiBzZWxmOjpUWVBFX1JFR0VYID09PSAkdGhpcy0+dmFsdWUtPmdldFR5cGUoKTsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIGlzR2xvYigpCnsKcmV0dXJuIHNlbGY6OlRZUEVfR0xPQiA9PT0gJHRoaXMtPnZhbHVlLT5nZXRUeXBlKCk7Cn0KCgoKCgoKcHVibGljIGZ1bmN0aW9uIGdldEdsb2IoKQp7CmlmIChzZWxmOjpUWVBFX0dMT0IgIT09ICR0aGlzLT52YWx1ZS0+Z2V0VHlwZSgpKSB7CnRocm93IG5ldyBcTG9naWNFeGNlcHRpb24oJ1JlZ2V4IGNhblwndCBiZSB0cmFuc2Zvcm1lZCB0byBnbG9iLicpOwp9CgpyZXR1cm4gJHRoaXMtPnZhbHVlOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0UmVnZXgoKQp7CnJldHVybiBzZWxmOjpUWVBFX1JFR0VYID09PSAkdGhpcy0+dmFsdWUtPmdldFR5cGUoKSA/ICR0aGlzLT52YWx1ZSA6ICR0aGlzLT52YWx1ZS0+dG9SZWdleCgpOwp9Cn0KPD9waHAKCgoKCgoKCgoKCm5hbWVzcGFjZSBTeW1mb255XENvbXBvbmVudFxGaW5kZXJcRXhwcmVzc2lvbjsKCkB0cmlnZ2VyX2Vycm9yKCdUaGUgJy5fX05BTUVTUEFDRV9fLidcR2xvYiBjbGFzcyBpcyBkZXByZWNhdGVkIHNpbmNlIFN5bWZvbnkgMi44IGFuZCB3aWxsIGJlIHJlbW92ZWQgaW4gMy4wLicsIEVfVVNFUl9ERVBSRUNBVEVEKTsKCnVzZSBTeW1mb255XENvbXBvbmVudFxGaW5kZXJcR2xvYiBhcyBGaW5kZXJHbG9iOwoKCgoKY2xhc3MgR2xvYiBpbXBsZW1lbnRzIFZhbHVlSW50ZXJmYWNlCnsKcHJpdmF0ZSAkcGF0dGVybjsKCgoKCnB1YmxpYyBmdW5jdGlvbiBfX2NvbnN0cnVjdCgkcGF0dGVybikKewokdGhpcy0+cGF0dGVybiA9ICRwYXR0ZXJuOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gcmVuZGVyKCkKewpyZXR1cm4gJHRoaXMtPnBhdHRlcm47Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiByZW5kZXJQYXR0ZXJuKCkKewpyZXR1cm4gJHRoaXMtPnBhdHRlcm47Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBnZXRUeXBlKCkKewpyZXR1cm4gRXhwcmVzc2lvbjo6VFlQRV9HTE9COwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gaXNDYXNlU2Vuc2l0aXZlKCkKewpyZXR1cm4gdHJ1ZTsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIHByZXBlbmQoJGV4cHIpCnsKJHRoaXMtPnBhdHRlcm4gPSAkZXhwci4kdGhpcy0+cGF0dGVybjsKCnJldHVybiAkdGhpczsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIGFwcGVuZCgkZXhwcikKewokdGhpcy0+cGF0dGVybiAuPSAkZXhwcjsKCnJldHVybiAkdGhpczsKfQoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gaXNFeHBhbmRhYmxlKCkKewpyZXR1cm4gZmFsc2UgIT09IHN0cnBvcygkdGhpcy0+cGF0dGVybiwgJ3snKQomJiBmYWxzZSAhPT0gc3RycG9zKCR0aGlzLT5wYXR0ZXJuLCAnfScpOwp9CgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gdG9SZWdleCgkc3RyaWN0TGVhZGluZ0RvdCA9IHRydWUsICRzdHJpY3RXaWxkY2FyZFNsYXNoID0gdHJ1ZSkKewokcmVnZXggPSBGaW5kZXJHbG9iOjp0b1JlZ2V4KCR0aGlzLT5wYXR0ZXJuLCAkc3RyaWN0TGVhZGluZ0RvdCwgJHN0cmljdFdpbGRjYXJkU2xhc2gsICcnKTsKCnJldHVybiBuZXcgUmVnZXgoJHJlZ2V4KTsKfQp9Cjw/cGhwCgoKCgoKCgoKCgpuYW1lc3BhY2UgU3ltZm9ueVxDb21wb25lbnRcRmluZGVyXEV4cHJlc3Npb247CgpAdHJpZ2dlcl9lcnJvcignVGhlICcuX19OQU1FU1BBQ0VfXy4nXFJlZ2V4IGNsYXNzIGlzIGRlcHJlY2F0ZWQgc2luY2UgU3ltZm9ueSAyLjggYW5kIHdpbGwgYmUgcmVtb3ZlZCBpbiAzLjAuJywgRV9VU0VSX0RFUFJFQ0FURUQpOwoKCgoKY2xhc3MgUmVnZXggaW1wbGVtZW50cyBWYWx1ZUludGVyZmFjZQp7CmNvbnN0IFNUQVJUX0ZMQUcgPSAnXic7CmNvbnN0IEVORF9GTEFHID0gJyQnOwpjb25zdCBCT1VOREFSWSA9ICd+JzsKY29uc3QgSk9LRVIgPSAnLionOwpjb25zdCBFU0NBUElORyA9ICdcXCc7CgoKCgpwcml2YXRlICRwYXR0ZXJuOwoKCgoKcHJpdmF0ZSAkb3B0aW9uczsKCgoKCnByaXZhdGUgJHN0YXJ0RmxhZzsKCgoKCnByaXZhdGUgJGVuZEZsYWc7CgoKCgpwcml2YXRlICRzdGFydEpva2VyOwoKCgoKcHJpdmF0ZSAkZW5kSm9rZXI7CgoKCgoKCgoKcHVibGljIHN0YXRpYyBmdW5jdGlvbiBjcmVhdGUoJGV4cHIpCnsKaWYgKHByZWdfbWF0Y2goJy9eKC57Myx9PykoW2ltc3h1QURVXSopJC8nLCAkZXhwciwgJG0pKSB7CiRzdGFydCA9IHN1YnN0cigkbVsxXSwgMCwgMSk7CiRlbmQgPSBzdWJzdHIoJG1bMV0sIC0xKTsKCmlmICgKKCRzdGFydCA9PT0gJGVuZCAmJiAhcHJlZ19tYXRjaCgnL1sqP1s6YWxudW06XSBcXFxcXS8nLCAkc3RhcnQpKQp8fCAoJ3snID09PSAkc3RhcnQgJiYgJ30nID09PSAkZW5kKQp8fCAoJygnID09PSAkc3RhcnQgJiYgJyknID09PSAkZW5kKQopIHsKcmV0dXJuIG5ldyBzZWxmKHN1YnN0cigkbVsxXSwgMSwgLTEpLCAkbVsyXSwgJGVuZCk7Cn0KfQoKdGhyb3cgbmV3IFxJbnZhbGlkQXJndW1lbnRFeGNlcHRpb24oJ0dpdmVuIGV4cHJlc3Npb24gaXMgbm90IGEgcmVnZXguJyk7Cn0KCgoKCgoKcHVibGljIGZ1bmN0aW9uIF9fY29uc3RydWN0KCRwYXR0ZXJuLCAkb3B0aW9ucyA9ICcnLCAkZGVsaW1pdGVyID0gbnVsbCkKewppZiAobnVsbCAhPT0gJGRlbGltaXRlcikgewoKJHBhdHRlcm4gPSBzdHJfcmVwbGFjZSgnXFwnLiRkZWxpbWl0ZXIsICRkZWxpbWl0ZXIsICRwYXR0ZXJuKTsKfQoKJHRoaXMtPnBhcnNlUGF0dGVybigkcGF0dGVybik7CiR0aGlzLT5vcHRpb25zID0gJG9wdGlvbnM7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBfX3RvU3RyaW5nKCkKewpyZXR1cm4gJHRoaXMtPnJlbmRlcigpOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gcmVuZGVyKCkKewpyZXR1cm4gc2VsZjo6Qk9VTkRBUlkKLiR0aGlzLT5yZW5kZXJQYXR0ZXJuKCkKLnNlbGY6OkJPVU5EQVJZCi4kdGhpcy0+b3B0aW9uczsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIHJlbmRlclBhdHRlcm4oKQp7CnJldHVybiAoJHRoaXMtPnN0YXJ0RmxhZyA/IHNlbGY6OlNUQVJUX0ZMQUcgOiAnJykKLigkdGhpcy0+c3RhcnRKb2tlciA/IHNlbGY6OkpPS0VSIDogJycpCi5zdHJfcmVwbGFjZShzZWxmOjpCT1VOREFSWSwgJ1xcJy5zZWxmOjpCT1VOREFSWSwgJHRoaXMtPnBhdHRlcm4pCi4oJHRoaXMtPmVuZEpva2VyID8gc2VsZjo6Sk9LRVIgOiAnJykKLigkdGhpcy0+ZW5kRmxhZyA/IHNlbGY6OkVORF9GTEFHIDogJycpOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gaXNDYXNlU2Vuc2l0aXZlKCkKewpyZXR1cm4gISR0aGlzLT5oYXNPcHRpb24oJ2knKTsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIGdldFR5cGUoKQp7CnJldHVybiBFeHByZXNzaW9uOjpUWVBFX1JFR0VYOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gcHJlcGVuZCgkZXhwcikKewokdGhpcy0+cGF0dGVybiA9ICRleHByLiR0aGlzLT5wYXR0ZXJuOwoKcmV0dXJuICR0aGlzOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gYXBwZW5kKCRleHByKQp7CiR0aGlzLT5wYXR0ZXJuIC49ICRleHByOwoKcmV0dXJuICR0aGlzOwp9CgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBoYXNPcHRpb24oJG9wdGlvbikKewpyZXR1cm4gZmFsc2UgIT09IHN0cnBvcygkdGhpcy0+b3B0aW9ucywgJG9wdGlvbik7Cn0KCgoKCgoKcHVibGljIGZ1bmN0aW9uIGFkZE9wdGlvbigkb3B0aW9uKQp7CmlmICghJHRoaXMtPmhhc09wdGlvbigkb3B0aW9uKSkgewokdGhpcy0+b3B0aW9ucyAuPSAkb3B0aW9uOwp9CgpyZXR1cm4gJHRoaXM7Cn0KCgoKCgoKcHVibGljIGZ1bmN0aW9uIHJlbW92ZU9wdGlvbigkb3B0aW9uKQp7CiR0aGlzLT5vcHRpb25zID0gc3RyX3JlcGxhY2UoJG9wdGlvbiwgJycsICR0aGlzLT5vcHRpb25zKTsKCnJldHVybiAkdGhpczsKfQoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gc2V0U3RhcnRGbGFnKCRzdGFydEZsYWcpCnsKJHRoaXMtPnN0YXJ0RmxhZyA9ICRzdGFydEZsYWc7CgpyZXR1cm4gJHRoaXM7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBoYXNTdGFydEZsYWcoKQp7CnJldHVybiAkdGhpcy0+c3RhcnRGbGFnOwp9CgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBzZXRFbmRGbGFnKCRlbmRGbGFnKQp7CiR0aGlzLT5lbmRGbGFnID0gKGJvb2wpICRlbmRGbGFnOwoKcmV0dXJuICR0aGlzOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gaGFzRW5kRmxhZygpCnsKcmV0dXJuICR0aGlzLT5lbmRGbGFnOwp9CgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBzZXRTdGFydEpva2VyKCRzdGFydEpva2VyKQp7CiR0aGlzLT5zdGFydEpva2VyID0gJHN0YXJ0Sm9rZXI7CgpyZXR1cm4gJHRoaXM7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBoYXNTdGFydEpva2VyKCkKewpyZXR1cm4gJHRoaXMtPnN0YXJ0Sm9rZXI7Cn0KCgoKCgoKcHVibGljIGZ1bmN0aW9uIHNldEVuZEpva2VyKCRlbmRKb2tlcikKewokdGhpcy0+ZW5kSm9rZXIgPSAoYm9vbCkgJGVuZEpva2VyOwoKcmV0dXJuICR0aGlzOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gaGFzRW5kSm9rZXIoKQp7CnJldHVybiAkdGhpcy0+ZW5kSm9rZXI7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiByZXBsYWNlSm9rZXJzKCRyZXBsYWNlbWVudCkKewokcmVwbGFjZSA9IGZ1bmN0aW9uICgkc3ViamVjdCkgdXNlICgkcmVwbGFjZW1lbnQpIHsKJHN1YmplY3QgPSAkc3ViamVjdFswXTsKJHJlcGxhY2UgPSAwID09PSBzdWJzdHJfY291bnQoJHN1YmplY3QsICdcXCcpICUgMjsKCnJldHVybiAkcmVwbGFjZSA/IHN0cl9yZXBsYWNlKCcuJywgJHJlcGxhY2VtZW50LCAkc3ViamVjdCkgOiAkc3ViamVjdDsKfTsKCiR0aGlzLT5wYXR0ZXJuID0gcHJlZ19yZXBsYWNlX2NhbGxiYWNrKCd+W1xcXFxdKlxcLn4nLCAkcmVwbGFjZSwgJHRoaXMtPnBhdHRlcm4pOwoKcmV0dXJuICR0aGlzOwp9CgoKCgpwcml2YXRlIGZ1bmN0aW9uIHBhcnNlUGF0dGVybigkcGF0dGVybikKewppZiAoJHRoaXMtPnN0YXJ0RmxhZyA9IHNlbGY6OlNUQVJUX0ZMQUcgPT09IHN1YnN0cigkcGF0dGVybiwgMCwgMSkpIHsKJHBhdHRlcm4gPSBzdWJzdHIoJHBhdHRlcm4sIDEpOwp9CgppZiAoJHRoaXMtPnN0YXJ0Sm9rZXIgPSBzZWxmOjpKT0tFUiA9PT0gc3Vic3RyKCRwYXR0ZXJuLCAwLCAyKSkgewokcGF0dGVybiA9IHN1YnN0cigkcGF0dGVybiwgMik7Cn0KCmlmICgkdGhpcy0+ZW5kRmxhZyA9IChzZWxmOjpFTkRfRkxBRyA9PT0gc3Vic3RyKCRwYXR0ZXJuLCAtMSkgJiYgc2VsZjo6RVNDQVBJTkcgIT09IHN1YnN0cigkcGF0dGVybiwgLTIsIC0xKSkpIHsKJHBhdHRlcm4gPSBzdWJzdHIoJHBhdHRlcm4sIDAsIC0xKTsKfQoKaWYgKCR0aGlzLT5lbmRKb2tlciA9IChzZWxmOjpKT0tFUiA9PT0gc3Vic3RyKCRwYXR0ZXJuLCAtMikgJiYgc2VsZjo6RVNDQVBJTkcgIT09IHN1YnN0cigkcGF0dGVybiwgLTMsIC0yKSkpIHsKJHBhdHRlcm4gPSBzdWJzdHIoJHBhdHRlcm4sIDAsIC0yKTsKfQoKJHRoaXMtPnBhdHRlcm4gPSAkcGF0dGVybjsKfQp9Cjw/cGhwCgoKCgoKCgoKCgpuYW1lc3BhY2UgU3ltZm9ueVxDb21wb25lbnRcRmluZGVyXEV4cHJlc3Npb247CgpAdHJpZ2dlcl9lcnJvcignVGhlICcuX19OQU1FU1BBQ0VfXy4nXFZhbHVlSW50ZXJmYWNlIGludGVyZmFjZSBpcyBkZXByZWNhdGVkIHNpbmNlIFN5bWZvbnkgMi44IGFuZCB3aWxsIGJlIHJlbW92ZWQgaW4gMy4wLicsIEVfVVNFUl9ERVBSRUNBVEVEKTsKCgoKCmludGVyZmFjZSBWYWx1ZUludGVyZmFjZQp7CgoKCgoKcHVibGljIGZ1bmN0aW9uIHJlbmRlcigpOwoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gcmVuZGVyUGF0dGVybigpOwoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gaXNDYXNlU2Vuc2l0aXZlKCk7CgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBnZXRUeXBlKCk7CgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBwcmVwZW5kKCRleHByKTsKCgoKCgoKcHVibGljIGZ1bmN0aW9uIGFwcGVuZCgkZXhwcik7Cn0KPD9waHAKCgoKCgoKCgoKCm5hbWVzcGFjZSBTeW1mb255XENvbXBvbmVudFxGaW5kZXI7Cgp1c2UgU3ltZm9ueVxDb21wb25lbnRcRmluZGVyXEFkYXB0ZXJcQWRhcHRlckludGVyZmFjZTsKdXNlIFN5bWZvbnlcQ29tcG9uZW50XEZpbmRlclxBZGFwdGVyXEJzZEZpbmRBZGFwdGVyOwp1c2UgU3ltZm9ueVxDb21wb25lbnRcRmluZGVyXEFkYXB0ZXJcR251RmluZEFkYXB0ZXI7CnVzZSBTeW1mb255XENvbXBvbmVudFxGaW5kZXJcQWRhcHRlclxQaHBBZGFwdGVyOwp1c2UgU3ltZm9ueVxDb21wb25lbnRcRmluZGVyXENvbXBhcmF0b3JcRGF0ZUNvbXBhcmF0b3I7CnVzZSBTeW1mb255XENvbXBvbmVudFxGaW5kZXJcQ29tcGFyYXRvclxOdW1iZXJDb21wYXJhdG9yOwp1c2UgU3ltZm9ueVxDb21wb25lbnRcRmluZGVyXEV4Y2VwdGlvblxFeGNlcHRpb25JbnRlcmZhY2U7CnVzZSBTeW1mb255XENvbXBvbmVudFxGaW5kZXJcSXRlcmF0b3JcQ3VzdG9tRmlsdGVySXRlcmF0b3I7CnVzZSBTeW1mb255XENvbXBvbmVudFxGaW5kZXJcSXRlcmF0b3JcRGF0ZVJhbmdlRmlsdGVySXRlcmF0b3I7CnVzZSBTeW1mb255XENvbXBvbmVudFxGaW5kZXJcSXRlcmF0b3JcRGVwdGhSYW5nZUZpbHRlckl0ZXJhdG9yOwp1c2UgU3ltZm9ueVxDb21wb25lbnRcRmluZGVyXEl0ZXJhdG9yXEV4Y2x1ZGVEaXJlY3RvcnlGaWx0ZXJJdGVyYXRvcjsKdXNlIFN5bWZvbnlcQ29tcG9uZW50XEZpbmRlclxJdGVyYXRvclxGaWxlY29udGVudEZpbHRlckl0ZXJhdG9yOwp1c2UgU3ltZm9ueVxDb21wb25lbnRcRmluZGVyXEl0ZXJhdG9yXEZpbGVuYW1lRmlsdGVySXRlcmF0b3I7CnVzZSBTeW1mb255XENvbXBvbmVudFxGaW5kZXJcSXRlcmF0b3JcU2l6ZVJhbmdlRmlsdGVySXRlcmF0b3I7CnVzZSBTeW1mb255XENvbXBvbmVudFxGaW5kZXJcSXRlcmF0b3JcU29ydGFibGVJdGVyYXRvcjsKCgoKCgoKCgoKCgoKCgpjbGFzcyBGaW5kZXIgaW1wbGVtZW50cyBcSXRlcmF0b3JBZ2dyZWdhdGUsIFxDb3VudGFibGUKewpjb25zdCBJR05PUkVfVkNTX0ZJTEVTID0gMTsKY29uc3QgSUdOT1JFX0RPVF9GSUxFUyA9IDI7Cgpwcml2YXRlICRtb2RlID0gMDsKcHJpdmF0ZSAkbmFtZXMgPSBhcnJheSgpOwpwcml2YXRlICRub3ROYW1lcyA9IGFycmF5KCk7CnByaXZhdGUgJGV4Y2x1ZGUgPSBhcnJheSgpOwpwcml2YXRlICRmaWx0ZXJzID0gYXJyYXkoKTsKcHJpdmF0ZSAkZGVwdGhzID0gYXJyYXkoKTsKcHJpdmF0ZSAkc2l6ZXMgPSBhcnJheSgpOwpwcml2YXRlICRmb2xsb3dMaW5rcyA9IGZhbHNlOwpwcml2YXRlICRzb3J0ID0gZmFsc2U7CnByaXZhdGUgJGlnbm9yZSA9IDA7CnByaXZhdGUgJGRpcnMgPSBhcnJheSgpOwpwcml2YXRlICRkYXRlcyA9IGFycmF5KCk7CnByaXZhdGUgJGl0ZXJhdG9ycyA9IGFycmF5KCk7CnByaXZhdGUgJGNvbnRhaW5zID0gYXJyYXkoKTsKcHJpdmF0ZSAkbm90Q29udGFpbnMgPSBhcnJheSgpOwpwcml2YXRlICRhZGFwdGVycyA9IG51bGw7CnByaXZhdGUgJHBhdGhzID0gYXJyYXkoKTsKcHJpdmF0ZSAkbm90UGF0aHMgPSBhcnJheSgpOwpwcml2YXRlICRpZ25vcmVVbnJlYWRhYmxlRGlycyA9IGZhbHNlOwoKcHJpdmF0ZSBzdGF0aWMgJHZjc1BhdHRlcm5zID0gYXJyYXkoJy5zdm4nLCAnX3N2bicsICdDVlMnLCAnX2RhcmNzJywgJy5hcmNoLXBhcmFtcycsICcubW9ub3RvbmUnLCAnLmJ6cicsICcuZ2l0JywgJy5oZycpOwoKcHVibGljIGZ1bmN0aW9uIF9fY29uc3RydWN0KCkKewokdGhpcy0+aWdub3JlID0gc3RhdGljOjpJR05PUkVfVkNTX0ZJTEVTIHwgc3RhdGljOjpJR05PUkVfRE9UX0ZJTEVTOwp9CgoKCgoKCnB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gY3JlYXRlKCkKewpyZXR1cm4gbmV3IHN0YXRpYygpOwp9CgoKCgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIGFkZEFkYXB0ZXIoQWRhcHRlckludGVyZmFjZSAkYWRhcHRlciwgJHByaW9yaXR5ID0gMCkKewpAdHJpZ2dlcl9lcnJvcignVGhlICcuX19NRVRIT0RfXy4nIG1ldGhvZCBpcyBkZXByZWNhdGVkIHNpbmNlIFN5bWZvbnkgMi44IGFuZCB3aWxsIGJlIHJlbW92ZWQgaW4gMy4wLicsIEVfVVNFUl9ERVBSRUNBVEVEKTsKCiR0aGlzLT5pbml0RGVmYXVsdEFkYXB0ZXJzKCk7CgokdGhpcy0+YWRhcHRlcnNbJGFkYXB0ZXItPmdldE5hbWUoKV0gPSBhcnJheSgKJ2FkYXB0ZXInID0+ICRhZGFwdGVyLAoncHJpb3JpdHknID0+ICRwcmlvcml0eSwKJ3NlbGVjdGVkJyA9PiBmYWxzZSwKKTsKCnJldHVybiAkdGhpcy0+c29ydEFkYXB0ZXJzKCk7Cn0KCgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gdXNlQmVzdEFkYXB0ZXIoKQp7CkB0cmlnZ2VyX2Vycm9yKCdUaGUgJy5fX01FVEhPRF9fLicgbWV0aG9kIGlzIGRlcHJlY2F0ZWQgc2luY2UgU3ltZm9ueSAyLjggYW5kIHdpbGwgYmUgcmVtb3ZlZCBpbiAzLjAuJywgRV9VU0VSX0RFUFJFQ0FURUQpOwoKJHRoaXMtPmluaXREZWZhdWx0QWRhcHRlcnMoKTsKCiR0aGlzLT5yZXNldEFkYXB0ZXJTZWxlY3Rpb24oKTsKCnJldHVybiAkdGhpcy0+c29ydEFkYXB0ZXJzKCk7Cn0KCgoKCgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIHNldEFkYXB0ZXIoJG5hbWUpCnsKQHRyaWdnZXJfZXJyb3IoJ1RoZSAnLl9fTUVUSE9EX18uJyBtZXRob2QgaXMgZGVwcmVjYXRlZCBzaW5jZSBTeW1mb255IDIuOCBhbmQgd2lsbCBiZSByZW1vdmVkIGluIDMuMC4nLCBFX1VTRVJfREVQUkVDQVRFRCk7CgokdGhpcy0+aW5pdERlZmF1bHRBZGFwdGVycygpOwoKaWYgKCFpc3NldCgkdGhpcy0+YWRhcHRlcnNbJG5hbWVdKSkgewp0aHJvdyBuZXcgXEludmFsaWRBcmd1bWVudEV4Y2VwdGlvbihzcHJpbnRmKCdBZGFwdGVyICIlcyIgZG9lcyBub3QgZXhpc3QuJywgJG5hbWUpKTsKfQoKJHRoaXMtPnJlc2V0QWRhcHRlclNlbGVjdGlvbigpOwokdGhpcy0+YWRhcHRlcnNbJG5hbWVdWydzZWxlY3RlZCddID0gdHJ1ZTsKCnJldHVybiAkdGhpcy0+c29ydEFkYXB0ZXJzKCk7Cn0KCgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gcmVtb3ZlQWRhcHRlcnMoKQp7CkB0cmlnZ2VyX2Vycm9yKCdUaGUgJy5fX01FVEhPRF9fLicgbWV0aG9kIGlzIGRlcHJlY2F0ZWQgc2luY2UgU3ltZm9ueSAyLjggYW5kIHdpbGwgYmUgcmVtb3ZlZCBpbiAzLjAuJywgRV9VU0VSX0RFUFJFQ0FURUQpOwoKJHRoaXMtPmFkYXB0ZXJzID0gYXJyYXkoKTsKCnJldHVybiAkdGhpczsKfQoKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBnZXRBZGFwdGVycygpCnsKQHRyaWdnZXJfZXJyb3IoJ1RoZSAnLl9fTUVUSE9EX18uJyBtZXRob2QgaXMgZGVwcmVjYXRlZCBzaW5jZSBTeW1mb255IDIuOCBhbmQgd2lsbCBiZSByZW1vdmVkIGluIDMuMC4nLCBFX1VTRVJfREVQUkVDQVRFRCk7CgokdGhpcy0+aW5pdERlZmF1bHRBZGFwdGVycygpOwoKcmV0dXJuIGFycmF5X3ZhbHVlcyhhcnJheV9tYXAoZnVuY3Rpb24gKGFycmF5ICRhZGFwdGVyKSB7CnJldHVybiAkYWRhcHRlclsnYWRhcHRlciddOwp9LCAkdGhpcy0+YWRhcHRlcnMpKTsKfQoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gZGlyZWN0b3JpZXMoKQp7CiR0aGlzLT5tb2RlID0gSXRlcmF0b3JcRmlsZVR5cGVGaWx0ZXJJdGVyYXRvcjo6T05MWV9ESVJFQ1RPUklFUzsKCnJldHVybiAkdGhpczsKfQoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gZmlsZXMoKQp7CiR0aGlzLT5tb2RlID0gSXRlcmF0b3JcRmlsZVR5cGVGaWx0ZXJJdGVyYXRvcjo6T05MWV9GSUxFUzsKCnJldHVybiAkdGhpczsKfQoKCgoKCgoKCgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIGRlcHRoKCRsZXZlbCkKewokdGhpcy0+ZGVwdGhzW10gPSBuZXcgQ29tcGFyYXRvclxOdW1iZXJDb21wYXJhdG9yKCRsZXZlbCk7CgpyZXR1cm4gJHRoaXM7Cn0KCgoKCgoKCgoKCgoKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBkYXRlKCRkYXRlKQp7CiR0aGlzLT5kYXRlc1tdID0gbmV3IENvbXBhcmF0b3JcRGF0ZUNvbXBhcmF0b3IoJGRhdGUpOwoKcmV0dXJuICR0aGlzOwp9CgoKCgoKCgoKCgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gbmFtZSgkcGF0dGVybikKewokdGhpcy0+bmFtZXNbXSA9ICRwYXR0ZXJuOwoKcmV0dXJuICR0aGlzOwp9CgoKCgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gbm90TmFtZSgkcGF0dGVybikKewokdGhpcy0+bm90TmFtZXNbXSA9ICRwYXR0ZXJuOwoKcmV0dXJuICR0aGlzOwp9CgoKCgoKCgoKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBjb250YWlucygkcGF0dGVybikKewokdGhpcy0+Y29udGFpbnNbXSA9ICRwYXR0ZXJuOwoKcmV0dXJuICR0aGlzOwp9CgoKCgoKCgoKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBub3RDb250YWlucygkcGF0dGVybikKewokdGhpcy0+bm90Q29udGFpbnNbXSA9ICRwYXR0ZXJuOwoKcmV0dXJuICR0aGlzOwp9CgoKCgoKCgoKCgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIHBhdGgoJHBhdHRlcm4pCnsKJHRoaXMtPnBhdGhzW10gPSAkcGF0dGVybjsKCnJldHVybiAkdGhpczsKfQoKCgoKCgoKCgoKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBub3RQYXRoKCRwYXR0ZXJuKQp7CiR0aGlzLT5ub3RQYXRoc1tdID0gJHBhdHRlcm47CgpyZXR1cm4gJHRoaXM7Cn0KCgoKCgoKCgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIHNpemUoJHNpemUpCnsKJHRoaXMtPnNpemVzW10gPSBuZXcgQ29tcGFyYXRvclxOdW1iZXJDb21wYXJhdG9yKCRzaXplKTsKCnJldHVybiAkdGhpczsKfQoKCgoKCgoKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBleGNsdWRlKCRkaXJzKQp7CiR0aGlzLT5leGNsdWRlID0gYXJyYXlfbWVyZ2UoJHRoaXMtPmV4Y2x1ZGUsIChhcnJheSkgJGRpcnMpOwoKcmV0dXJuICR0aGlzOwp9CgoKCgoKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBpZ25vcmVEb3RGaWxlcygkaWdub3JlRG90RmlsZXMpCnsKaWYgKCRpZ25vcmVEb3RGaWxlcykgewokdGhpcy0+aWdub3JlIHw9IHN0YXRpYzo6SUdOT1JFX0RPVF9GSUxFUzsKfSBlbHNlIHsKJHRoaXMtPmlnbm9yZSAmPSB+c3RhdGljOjpJR05PUkVfRE9UX0ZJTEVTOwp9CgpyZXR1cm4gJHRoaXM7Cn0KCgoKCgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIGlnbm9yZVZDUygkaWdub3JlVkNTKQp7CmlmICgkaWdub3JlVkNTKSB7CiR0aGlzLT5pZ25vcmUgfD0gc3RhdGljOjpJR05PUkVfVkNTX0ZJTEVTOwp9IGVsc2UgewokdGhpcy0+aWdub3JlICY9IH5zdGF0aWM6OklHTk9SRV9WQ1NfRklMRVM7Cn0KCnJldHVybiAkdGhpczsKfQoKCgoKCgoKCnB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gYWRkVkNTUGF0dGVybigkcGF0dGVybikKewpmb3JlYWNoICgoYXJyYXkpICRwYXR0ZXJuIGFzICRwKSB7CnNlbGY6OiR2Y3NQYXR0ZXJuc1tdID0gJHA7Cn0KCnNlbGY6OiR2Y3NQYXR0ZXJucyA9IGFycmF5X3VuaXF1ZShzZWxmOjokdmNzUGF0dGVybnMpOwp9CgoKCgoKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBzb3J0KFxDbG9zdXJlICRjbG9zdXJlKQp7CiR0aGlzLT5zb3J0ID0gJGNsb3N1cmU7CgpyZXR1cm4gJHRoaXM7Cn0KCgoKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBzb3J0QnlOYW1lKCkKewokdGhpcy0+c29ydCA9IEl0ZXJhdG9yXFNvcnRhYmxlSXRlcmF0b3I6OlNPUlRfQllfTkFNRTsKCnJldHVybiAkdGhpczsKfQoKCgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIHNvcnRCeVR5cGUoKQp7CiR0aGlzLT5zb3J0ID0gSXRlcmF0b3JcU29ydGFibGVJdGVyYXRvcjo6U09SVF9CWV9UWVBFOwoKcmV0dXJuICR0aGlzOwp9CgoKCgoKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBzb3J0QnlBY2Nlc3NlZFRpbWUoKQp7CiR0aGlzLT5zb3J0ID0gSXRlcmF0b3JcU29ydGFibGVJdGVyYXRvcjo6U09SVF9CWV9BQ0NFU1NFRF9USU1FOwoKcmV0dXJuICR0aGlzOwp9CgoKCgoKCgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIHNvcnRCeUNoYW5nZWRUaW1lKCkKewokdGhpcy0+c29ydCA9IEl0ZXJhdG9yXFNvcnRhYmxlSXRlcmF0b3I6OlNPUlRfQllfQ0hBTkdFRF9USU1FOwoKcmV0dXJuICR0aGlzOwp9CgoKCgoKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBzb3J0QnlNb2RpZmllZFRpbWUoKQp7CiR0aGlzLT5zb3J0ID0gSXRlcmF0b3JcU29ydGFibGVJdGVyYXRvcjo6U09SVF9CWV9NT0RJRklFRF9USU1FOwoKcmV0dXJuICR0aGlzOwp9CgoKCgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIGZpbHRlcihcQ2xvc3VyZSAkY2xvc3VyZSkKewokdGhpcy0+ZmlsdGVyc1tdID0gJGNsb3N1cmU7CgpyZXR1cm4gJHRoaXM7Cn0KCgoKCgoKcHVibGljIGZ1bmN0aW9uIGZvbGxvd0xpbmtzKCkKewokdGhpcy0+Zm9sbG93TGlua3MgPSB0cnVlOwoKcmV0dXJuICR0aGlzOwp9CgoKCgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gaWdub3JlVW5yZWFkYWJsZURpcnMoJGlnbm9yZSA9IHRydWUpCnsKJHRoaXMtPmlnbm9yZVVucmVhZGFibGVEaXJzID0gKGJvb2wpICRpZ25vcmU7CgpyZXR1cm4gJHRoaXM7Cn0KCgoKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBpbigkZGlycykKewokcmVzb2x2ZWREaXJzID0gYXJyYXkoKTsKCmZvcmVhY2ggKChhcnJheSkgJGRpcnMgYXMgJGRpcikgewppZiAoaXNfZGlyKCRkaXIpKSB7CiRyZXNvbHZlZERpcnNbXSA9ICR0aGlzLT5ub3JtYWxpemVEaXIoJGRpcik7Cn0gZWxzZWlmICgkZ2xvYiA9IGdsb2IoJGRpciwgKFxkZWZpbmVkKCdHTE9CX0JSQUNFJykgPyBHTE9CX0JSQUNFIDogMCkgfCBHTE9CX09OTFlESVIpKSB7CiRyZXNvbHZlZERpcnMgPSBhcnJheV9tZXJnZSgkcmVzb2x2ZWREaXJzLCBhcnJheV9tYXAoYXJyYXkoJHRoaXMsICdub3JtYWxpemVEaXInKSwgJGdsb2IpKTsKfSBlbHNlIHsKdGhyb3cgbmV3IFxJbnZhbGlkQXJndW1lbnRFeGNlcHRpb24oc3ByaW50ZignVGhlICIlcyIgZGlyZWN0b3J5IGRvZXMgbm90IGV4aXN0LicsICRkaXIpKTsKfQp9CgokdGhpcy0+ZGlycyA9IGFycmF5X21lcmdlKCR0aGlzLT5kaXJzLCAkcmVzb2x2ZWREaXJzKTsKCnJldHVybiAkdGhpczsKfQoKCgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIGdldEl0ZXJhdG9yKCkKewppZiAoMCA9PT0gXGNvdW50KCR0aGlzLT5kaXJzKSAmJiAwID09PSBcY291bnQoJHRoaXMtPml0ZXJhdG9ycykpIHsKdGhyb3cgbmV3IFxMb2dpY0V4Y2VwdGlvbignWW91IG11c3QgY2FsbCBvbmUgb2YgaW4oKSBvciBhcHBlbmQoKSBtZXRob2RzIGJlZm9yZSBpdGVyYXRpbmcgb3ZlciBhIEZpbmRlci4nKTsKfQoKaWYgKDEgPT09IFxjb3VudCgkdGhpcy0+ZGlycykgJiYgMCA9PT0gXGNvdW50KCR0aGlzLT5pdGVyYXRvcnMpKSB7CnJldHVybiAkdGhpcy0+c2VhcmNoSW5EaXJlY3RvcnkoJHRoaXMtPmRpcnNbMF0pOwp9CgokaXRlcmF0b3IgPSBuZXcgXEFwcGVuZEl0ZXJhdG9yKCk7CmZvcmVhY2ggKCR0aGlzLT5kaXJzIGFzICRkaXIpIHsKJGl0ZXJhdG9yLT5hcHBlbmQoJHRoaXMtPnNlYXJjaEluRGlyZWN0b3J5KCRkaXIpKTsKfQoKZm9yZWFjaCAoJHRoaXMtPml0ZXJhdG9ycyBhcyAkaXQpIHsKJGl0ZXJhdG9yLT5hcHBlbmQoJGl0KTsKfQoKcmV0dXJuICRpdGVyYXRvcjsKfQoKCgoKCgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gYXBwZW5kKCRpdGVyYXRvcikKewppZiAoJGl0ZXJhdG9yIGluc3RhbmNlb2YgXEl0ZXJhdG9yQWdncmVnYXRlKSB7CiR0aGlzLT5pdGVyYXRvcnNbXSA9ICRpdGVyYXRvci0+Z2V0SXRlcmF0b3IoKTsKfSBlbHNlaWYgKCRpdGVyYXRvciBpbnN0YW5jZW9mIFxJdGVyYXRvcikgewokdGhpcy0+aXRlcmF0b3JzW10gPSAkaXRlcmF0b3I7Cn0gZWxzZWlmICgkaXRlcmF0b3IgaW5zdGFuY2VvZiBcVHJhdmVyc2FibGUgfHwgXGlzX2FycmF5KCRpdGVyYXRvcikpIHsKJGl0ID0gbmV3IFxBcnJheUl0ZXJhdG9yKCk7CmZvcmVhY2ggKCRpdGVyYXRvciBhcyAkZmlsZSkgewokaXQtPmFwcGVuZCgkZmlsZSBpbnN0YW5jZW9mIFxTcGxGaWxlSW5mbyA/ICRmaWxlIDogbmV3IFxTcGxGaWxlSW5mbygkZmlsZSkpOwp9CiR0aGlzLT5pdGVyYXRvcnNbXSA9ICRpdDsKfSBlbHNlIHsKdGhyb3cgbmV3IFxJbnZhbGlkQXJndW1lbnRFeGNlcHRpb24oJ0ZpbmRlcjo6YXBwZW5kKCkgbWV0aG9kIHdyb25nIGFyZ3VtZW50IHR5cGUuJyk7Cn0KCnJldHVybiAkdGhpczsKfQoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gY291bnQoKQp7CnJldHVybiBpdGVyYXRvcl9jb3VudCgkdGhpcy0+Z2V0SXRlcmF0b3IoKSk7Cn0KCgoKCnByaXZhdGUgZnVuY3Rpb24gc29ydEFkYXB0ZXJzKCkKewp1YXNvcnQoJHRoaXMtPmFkYXB0ZXJzLCBmdW5jdGlvbiAoYXJyYXkgJGEsIGFycmF5ICRiKSB7CmlmICgkYVsnc2VsZWN0ZWQnXSB8fCAkYlsnc2VsZWN0ZWQnXSkgewpyZXR1cm4gJGFbJ3NlbGVjdGVkJ10gPyAtMSA6IDE7Cn0KCnJldHVybiAkYVsncHJpb3JpdHknXSA+ICRiWydwcmlvcml0eSddID8gLTEgOiAxOwp9KTsKCnJldHVybiAkdGhpczsKfQoKCgoKCgpwcml2YXRlIGZ1bmN0aW9uIHNlYXJjaEluRGlyZWN0b3J5KCRkaXIpCnsKaWYgKHN0YXRpYzo6SUdOT1JFX1ZDU19GSUxFUyA9PT0gKHN0YXRpYzo6SUdOT1JFX1ZDU19GSUxFUyAmICR0aGlzLT5pZ25vcmUpKSB7CiR0aGlzLT5leGNsdWRlID0gYXJyYXlfbWVyZ2UoJHRoaXMtPmV4Y2x1ZGUsIHNlbGY6OiR2Y3NQYXR0ZXJucyk7Cn0KCmlmIChzdGF0aWM6OklHTk9SRV9ET1RfRklMRVMgPT09IChzdGF0aWM6OklHTk9SRV9ET1RfRklMRVMgJiAkdGhpcy0+aWdub3JlKSkgewokdGhpcy0+bm90UGF0aHNbXSA9ICcjKF58LylcLi4rKC98JCkjJzsKfQoKaWYgKCR0aGlzLT5hZGFwdGVycykgewpmb3JlYWNoICgkdGhpcy0+YWRhcHRlcnMgYXMgJGFkYXB0ZXIpIHsKaWYgKCRhZGFwdGVyWydhZGFwdGVyJ10tPmlzU3VwcG9ydGVkKCkpIHsKdHJ5IHsKcmV0dXJuICR0aGlzCi0+YnVpbGRBZGFwdGVyKCRhZGFwdGVyWydhZGFwdGVyJ10pCi0+c2VhcmNoSW5EaXJlY3RvcnkoJGRpcik7Cn0gY2F0Y2ggKEV4Y2VwdGlvbkludGVyZmFjZSAkZSkgewp9Cn0KfQp9CgokbWluRGVwdGggPSAwOwokbWF4RGVwdGggPSBQSFBfSU5UX01BWDsKCmZvcmVhY2ggKCR0aGlzLT5kZXB0aHMgYXMgJGNvbXBhcmF0b3IpIHsKc3dpdGNoICgkY29tcGFyYXRvci0+Z2V0T3BlcmF0b3IoKSkgewpjYXNlICc+JzoKJG1pbkRlcHRoID0gJGNvbXBhcmF0b3ItPmdldFRhcmdldCgpICsgMTsKYnJlYWs7CmNhc2UgJz49JzoKJG1pbkRlcHRoID0gJGNvbXBhcmF0b3ItPmdldFRhcmdldCgpOwpicmVhazsKY2FzZSAnPCc6CiRtYXhEZXB0aCA9ICRjb21wYXJhdG9yLT5nZXRUYXJnZXQoKSAtIDE7CmJyZWFrOwpjYXNlICc8PSc6CiRtYXhEZXB0aCA9ICRjb21wYXJhdG9yLT5nZXRUYXJnZXQoKTsKYnJlYWs7CmRlZmF1bHQ6CiRtaW5EZXB0aCA9ICRtYXhEZXB0aCA9ICRjb21wYXJhdG9yLT5nZXRUYXJnZXQoKTsKfQp9CgokZmxhZ3MgPSBcUmVjdXJzaXZlRGlyZWN0b3J5SXRlcmF0b3I6OlNLSVBfRE9UUzsKCmlmICgkdGhpcy0+Zm9sbG93TGlua3MpIHsKJGZsYWdzIHw9IFxSZWN1cnNpdmVEaXJlY3RvcnlJdGVyYXRvcjo6Rk9MTE9XX1NZTUxJTktTOwp9CgokaXRlcmF0b3IgPSBuZXcgSXRlcmF0b3JcUmVjdXJzaXZlRGlyZWN0b3J5SXRlcmF0b3IoJGRpciwgJGZsYWdzLCAkdGhpcy0+aWdub3JlVW5yZWFkYWJsZURpcnMpOwoKaWYgKCR0aGlzLT5leGNsdWRlKSB7CiRpdGVyYXRvciA9IG5ldyBJdGVyYXRvclxFeGNsdWRlRGlyZWN0b3J5RmlsdGVySXRlcmF0b3IoJGl0ZXJhdG9yLCAkdGhpcy0+ZXhjbHVkZSk7Cn0KCiRpdGVyYXRvciA9IG5ldyBcUmVjdXJzaXZlSXRlcmF0b3JJdGVyYXRvcigkaXRlcmF0b3IsIFxSZWN1cnNpdmVJdGVyYXRvckl0ZXJhdG9yOjpTRUxGX0ZJUlNUKTsKCmlmICgkbWluRGVwdGggPiAwIHx8ICRtYXhEZXB0aCA8IFBIUF9JTlRfTUFYKSB7CiRpdGVyYXRvciA9IG5ldyBJdGVyYXRvclxEZXB0aFJhbmdlRmlsdGVySXRlcmF0b3IoJGl0ZXJhdG9yLCAkbWluRGVwdGgsICRtYXhEZXB0aCk7Cn0KCmlmICgkdGhpcy0+bW9kZSkgewokaXRlcmF0b3IgPSBuZXcgSXRlcmF0b3JcRmlsZVR5cGVGaWx0ZXJJdGVyYXRvcigkaXRlcmF0b3IsICR0aGlzLT5tb2RlKTsKfQoKaWYgKCR0aGlzLT5uYW1lcyB8fCAkdGhpcy0+bm90TmFtZXMpIHsKJGl0ZXJhdG9yID0gbmV3IEl0ZXJhdG9yXEZpbGVuYW1lRmlsdGVySXRlcmF0b3IoJGl0ZXJhdG9yLCAkdGhpcy0+bmFtZXMsICR0aGlzLT5ub3ROYW1lcyk7Cn0KCmlmICgkdGhpcy0+Y29udGFpbnMgfHwgJHRoaXMtPm5vdENvbnRhaW5zKSB7CiRpdGVyYXRvciA9IG5ldyBJdGVyYXRvclxGaWxlY29udGVudEZpbHRlckl0ZXJhdG9yKCRpdGVyYXRvciwgJHRoaXMtPmNvbnRhaW5zLCAkdGhpcy0+bm90Q29udGFpbnMpOwp9CgppZiAoJHRoaXMtPnNpemVzKSB7CiRpdGVyYXRvciA9IG5ldyBJdGVyYXRvclxTaXplUmFuZ2VGaWx0ZXJJdGVyYXRvcigkaXRlcmF0b3IsICR0aGlzLT5zaXplcyk7Cn0KCmlmICgkdGhpcy0+ZGF0ZXMpIHsKJGl0ZXJhdG9yID0gbmV3IEl0ZXJhdG9yXERhdGVSYW5nZUZpbHRlckl0ZXJhdG9yKCRpdGVyYXRvciwgJHRoaXMtPmRhdGVzKTsKfQoKaWYgKCR0aGlzLT5maWx0ZXJzKSB7CiRpdGVyYXRvciA9IG5ldyBJdGVyYXRvclxDdXN0b21GaWx0ZXJJdGVyYXRvcigkaXRlcmF0b3IsICR0aGlzLT5maWx0ZXJzKTsKfQoKaWYgKCR0aGlzLT5wYXRocyB8fCAkdGhpcy0+bm90UGF0aHMpIHsKJGl0ZXJhdG9yID0gbmV3IEl0ZXJhdG9yXFBhdGhGaWx0ZXJJdGVyYXRvcigkaXRlcmF0b3IsICR0aGlzLT5wYXRocywgJHRoaXMtPm5vdFBhdGhzKTsKfQoKaWYgKCR0aGlzLT5zb3J0KSB7CiRpdGVyYXRvckFnZ3JlZ2F0ZSA9IG5ldyBJdGVyYXRvclxTb3J0YWJsZUl0ZXJhdG9yKCRpdGVyYXRvciwgJHRoaXMtPnNvcnQpOwokaXRlcmF0b3IgPSAkaXRlcmF0b3JBZ2dyZWdhdGUtPmdldEl0ZXJhdG9yKCk7Cn0KCnJldHVybiAkaXRlcmF0b3I7Cn0KCgoKCnByaXZhdGUgZnVuY3Rpb24gYnVpbGRBZGFwdGVyKEFkYXB0ZXJJbnRlcmZhY2UgJGFkYXB0ZXIpCnsKcmV0dXJuICRhZGFwdGVyCi0+c2V0Rm9sbG93TGlua3MoJHRoaXMtPmZvbGxvd0xpbmtzKQotPnNldERlcHRocygkdGhpcy0+ZGVwdGhzKQotPnNldE1vZGUoJHRoaXMtPm1vZGUpCi0+c2V0RXhjbHVkZSgkdGhpcy0+ZXhjbHVkZSkKLT5zZXROYW1lcygkdGhpcy0+bmFtZXMpCi0+c2V0Tm90TmFtZXMoJHRoaXMtPm5vdE5hbWVzKQotPnNldENvbnRhaW5zKCR0aGlzLT5jb250YWlucykKLT5zZXROb3RDb250YWlucygkdGhpcy0+bm90Q29udGFpbnMpCi0+c2V0U2l6ZXMoJHRoaXMtPnNpemVzKQotPnNldERhdGVzKCR0aGlzLT5kYXRlcykKLT5zZXRGaWx0ZXJzKCR0aGlzLT5maWx0ZXJzKQotPnNldFNvcnQoJHRoaXMtPnNvcnQpCi0+c2V0UGF0aCgkdGhpcy0+cGF0aHMpCi0+c2V0Tm90UGF0aCgkdGhpcy0+bm90UGF0aHMpCi0+aWdub3JlVW5yZWFkYWJsZURpcnMoJHRoaXMtPmlnbm9yZVVucmVhZGFibGVEaXJzKTsKfQoKCgoKcHJpdmF0ZSBmdW5jdGlvbiByZXNldEFkYXB0ZXJTZWxlY3Rpb24oKQp7CiR0aGlzLT5hZGFwdGVycyA9IGFycmF5X21hcChmdW5jdGlvbiAoYXJyYXkgJHByb3BlcnRpZXMpIHsKJHByb3BlcnRpZXNbJ3NlbGVjdGVkJ10gPSBmYWxzZTsKCnJldHVybiAkcHJvcGVydGllczsKfSwgJHRoaXMtPmFkYXB0ZXJzKTsKfQoKcHJpdmF0ZSBmdW5jdGlvbiBpbml0RGVmYXVsdEFkYXB0ZXJzKCkKewppZiAobnVsbCA9PT0gJHRoaXMtPmFkYXB0ZXJzKSB7CiR0aGlzLT5hZGFwdGVycyA9IGFycmF5KCk7CiR0aGlzCi0+YWRkQWRhcHRlcihuZXcgR251RmluZEFkYXB0ZXIoKSkKLT5hZGRBZGFwdGVyKG5ldyBCc2RGaW5kQWRhcHRlcigpKQotPmFkZEFkYXB0ZXIobmV3IFBocEFkYXB0ZXIoKSwgLTUwKQotPnNldEFkYXB0ZXIoJ3BocCcpCjsKfQp9CgoKCgoKCgoKcHJpdmF0ZSBmdW5jdGlvbiBub3JtYWxpemVEaXIoJGRpcikKewpyZXR1cm4gcnRyaW0oJGRpciwgJy8nLlxESVJFQ1RPUllfU0VQQVJBVE9SKTsKfQp9Cjw/cGhwCgoKCgoKCgoKCgpuYW1lc3BhY2UgU3ltZm9ueVxDb21wb25lbnRcRmluZGVyOwoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCmNsYXNzIEdsb2IKewoKCgoKCgoKCgoKcHVibGljIHN0YXRpYyBmdW5jdGlvbiB0b1JlZ2V4KCRnbG9iLCAkc3RyaWN0TGVhZGluZ0RvdCA9IHRydWUsICRzdHJpY3RXaWxkY2FyZFNsYXNoID0gdHJ1ZSwgJGRlbGltaXRlciA9ICcjJykKewokZmlyc3RCeXRlID0gdHJ1ZTsKJGVzY2FwaW5nID0gZmFsc2U7CiRpbkN1cmxpZXMgPSAwOwokcmVnZXggPSAnJzsKJHNpemVHbG9iID0gXHN0cmxlbigkZ2xvYik7CmZvciAoJGkgPSAwOyAkaSA8ICRzaXplR2xvYjsgKyskaSkgewokY2FyID0gJGdsb2JbJGldOwppZiAoJGZpcnN0Qnl0ZSkgewppZiAoJHN0cmljdExlYWRpbmdEb3QgJiYgJy4nICE9PSAkY2FyKSB7CiRyZWdleCAuPSAnKD89W15cLl0pJzsKfQoKJGZpcnN0Qnl0ZSA9IGZhbHNlOwp9CgppZiAoJy8nID09PSAkY2FyKSB7CiRmaXJzdEJ5dGUgPSB0cnVlOwp9CgppZiAoJGRlbGltaXRlciA9PT0gJGNhciB8fCAnLicgPT09ICRjYXIgfHwgJygnID09PSAkY2FyIHx8ICcpJyA9PT0gJGNhciB8fCAnfCcgPT09ICRjYXIgfHwgJysnID09PSAkY2FyIHx8ICdeJyA9PT0gJGNhciB8fCAnJCcgPT09ICRjYXIpIHsKJHJlZ2V4IC49ICJcXCRjYXIiOwp9IGVsc2VpZiAoJyonID09PSAkY2FyKSB7CiRyZWdleCAuPSAkZXNjYXBpbmcgPyAnXFwqJyA6ICgkc3RyaWN0V2lsZGNhcmRTbGFzaCA/ICdbXi9dKicgOiAnLionKTsKfSBlbHNlaWYgKCc/JyA9PT0gJGNhcikgewokcmVnZXggLj0gJGVzY2FwaW5nID8gJ1xcPycgOiAoJHN0cmljdFdpbGRjYXJkU2xhc2ggPyAnW14vXScgOiAnLicpOwp9IGVsc2VpZiAoJ3snID09PSAkY2FyKSB7CiRyZWdleCAuPSAkZXNjYXBpbmcgPyAnXFx7JyA6ICcoJzsKaWYgKCEkZXNjYXBpbmcpIHsKKyskaW5DdXJsaWVzOwp9Cn0gZWxzZWlmICgnfScgPT09ICRjYXIgJiYgJGluQ3VybGllcykgewokcmVnZXggLj0gJGVzY2FwaW5nID8gJ30nIDogJyknOwppZiAoISRlc2NhcGluZykgewotLSRpbkN1cmxpZXM7Cn0KfSBlbHNlaWYgKCcsJyA9PT0gJGNhciAmJiAkaW5DdXJsaWVzKSB7CiRyZWdleCAuPSAkZXNjYXBpbmcgPyAnLCcgOiAnfCc7Cn0gZWxzZWlmICgnXFwnID09PSAkY2FyKSB7CmlmICgkZXNjYXBpbmcpIHsKJHJlZ2V4IC49ICdcXFxcJzsKJGVzY2FwaW5nID0gZmFsc2U7Cn0gZWxzZSB7CiRlc2NhcGluZyA9IHRydWU7Cn0KCmNvbnRpbnVlOwp9IGVsc2UgewokcmVnZXggLj0gJGNhcjsKfQokZXNjYXBpbmcgPSBmYWxzZTsKfQoKcmV0dXJuICRkZWxpbWl0ZXIuJ14nLiRyZWdleC4nJCcuJGRlbGltaXRlcjsKfQp9Cjw/cGhwCgoKCgoKCgoKCgpuYW1lc3BhY2UgU3ltZm9ueVxDb21wb25lbnRcRmluZGVyXEl0ZXJhdG9yOwoKCgoKCgoKCgpjbGFzcyBDdXN0b21GaWx0ZXJJdGVyYXRvciBleHRlbmRzIEZpbHRlckl0ZXJhdG9yCnsKcHJpdmF0ZSAkZmlsdGVycyA9IGFycmF5KCk7CgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gX19jb25zdHJ1Y3QoXEl0ZXJhdG9yICRpdGVyYXRvciwgYXJyYXkgJGZpbHRlcnMpCnsKZm9yZWFjaCAoJGZpbHRlcnMgYXMgJGZpbHRlcikgewppZiAoIVxpc19jYWxsYWJsZSgkZmlsdGVyKSkgewp0aHJvdyBuZXcgXEludmFsaWRBcmd1bWVudEV4Y2VwdGlvbignSW52YWxpZCBQSFAgY2FsbGJhY2suJyk7Cn0KfQokdGhpcy0+ZmlsdGVycyA9ICRmaWx0ZXJzOwoKcGFyZW50OjpfX2NvbnN0cnVjdCgkaXRlcmF0b3IpOwp9CgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBhY2NlcHQoKQp7CiRmaWxlaW5mbyA9ICR0aGlzLT5jdXJyZW50KCk7Cgpmb3JlYWNoICgkdGhpcy0+ZmlsdGVycyBhcyAkZmlsdGVyKSB7CmlmIChmYWxzZSA9PT0gXGNhbGxfdXNlcl9mdW5jKCRmaWx0ZXIsICRmaWxlaW5mbykpIHsKcmV0dXJuIGZhbHNlOwp9Cn0KCnJldHVybiB0cnVlOwp9Cn0KPD9waHAKCgoKCgoKCgoKCm5hbWVzcGFjZSBTeW1mb255XENvbXBvbmVudFxGaW5kZXJcSXRlcmF0b3I7Cgp1c2UgU3ltZm9ueVxDb21wb25lbnRcRmluZGVyXENvbXBhcmF0b3JcRGF0ZUNvbXBhcmF0b3I7CgoKCgoKCmNsYXNzIERhdGVSYW5nZUZpbHRlckl0ZXJhdG9yIGV4dGVuZHMgRmlsdGVySXRlcmF0b3IKewpwcml2YXRlICRjb21wYXJhdG9ycyA9IGFycmF5KCk7CgoKCgoKcHVibGljIGZ1bmN0aW9uIF9fY29uc3RydWN0KFxJdGVyYXRvciAkaXRlcmF0b3IsIGFycmF5ICRjb21wYXJhdG9ycykKewokdGhpcy0+Y29tcGFyYXRvcnMgPSAkY29tcGFyYXRvcnM7CgpwYXJlbnQ6Ol9fY29uc3RydWN0KCRpdGVyYXRvcik7Cn0KCgoKCgoKcHVibGljIGZ1bmN0aW9uIGFjY2VwdCgpCnsKJGZpbGVpbmZvID0gJHRoaXMtPmN1cnJlbnQoKTsKCmlmICghZmlsZV9leGlzdHMoJGZpbGVpbmZvLT5nZXRQYXRobmFtZSgpKSkgewpyZXR1cm4gZmFsc2U7Cn0KCiRmaWxlZGF0ZSA9ICRmaWxlaW5mby0+Z2V0TVRpbWUoKTsKZm9yZWFjaCAoJHRoaXMtPmNvbXBhcmF0b3JzIGFzICRjb21wYXJlKSB7CmlmICghJGNvbXBhcmUtPnRlc3QoJGZpbGVkYXRlKSkgewpyZXR1cm4gZmFsc2U7Cn0KfQoKcmV0dXJuIHRydWU7Cn0KfQo8P3BocAoKCgoKCgoKCgoKbmFtZXNwYWNlIFN5bWZvbnlcQ29tcG9uZW50XEZpbmRlclxJdGVyYXRvcjsKCgoKCgoKY2xhc3MgRGVwdGhSYW5nZUZpbHRlckl0ZXJhdG9yIGV4dGVuZHMgRmlsdGVySXRlcmF0b3IKewpwcml2YXRlICRtaW5EZXB0aCA9IDA7CgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBfX2NvbnN0cnVjdChcUmVjdXJzaXZlSXRlcmF0b3JJdGVyYXRvciAkaXRlcmF0b3IsICRtaW5EZXB0aCA9IDAsICRtYXhEZXB0aCA9IFBIUF9JTlRfTUFYKQp7CiR0aGlzLT5taW5EZXB0aCA9ICRtaW5EZXB0aDsKJGl0ZXJhdG9yLT5zZXRNYXhEZXB0aChQSFBfSU5UX01BWCA9PT0gJG1heERlcHRoID8gLTEgOiAkbWF4RGVwdGgpOwoKcGFyZW50OjpfX2NvbnN0cnVjdCgkaXRlcmF0b3IpOwp9CgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBhY2NlcHQoKQp7CnJldHVybiAkdGhpcy0+Z2V0SW5uZXJJdGVyYXRvcigpLT5nZXREZXB0aCgpID49ICR0aGlzLT5taW5EZXB0aDsKfQp9Cjw/cGhwCgoKCgoKCgoKCgpuYW1lc3BhY2UgU3ltZm9ueVxDb21wb25lbnRcRmluZGVyXEl0ZXJhdG9yOwoKCgoKCgpjbGFzcyBFeGNsdWRlRGlyZWN0b3J5RmlsdGVySXRlcmF0b3IgZXh0ZW5kcyBGaWx0ZXJJdGVyYXRvciBpbXBsZW1lbnRzIFxSZWN1cnNpdmVJdGVyYXRvcgp7CnByaXZhdGUgJGl0ZXJhdG9yOwpwcml2YXRlICRpc1JlY3Vyc2l2ZTsKcHJpdmF0ZSAkZXhjbHVkZWREaXJzID0gYXJyYXkoKTsKcHJpdmF0ZSAkZXhjbHVkZWRQYXR0ZXJuOwoKCgoKCnB1YmxpYyBmdW5jdGlvbiBfX2NvbnN0cnVjdChcSXRlcmF0b3IgJGl0ZXJhdG9yLCBhcnJheSAkZGlyZWN0b3JpZXMpCnsKJHRoaXMtPml0ZXJhdG9yID0gJGl0ZXJhdG9yOwokdGhpcy0+aXNSZWN1cnNpdmUgPSAkaXRlcmF0b3IgaW5zdGFuY2VvZiBcUmVjdXJzaXZlSXRlcmF0b3I7CiRwYXR0ZXJucyA9IGFycmF5KCk7CmZvcmVhY2ggKCRkaXJlY3RvcmllcyBhcyAkZGlyZWN0b3J5KSB7CiRkaXJlY3RvcnkgPSBydHJpbSgkZGlyZWN0b3J5LCAnLycpOwppZiAoISR0aGlzLT5pc1JlY3Vyc2l2ZSB8fCBmYWxzZSAhPT0gc3RycG9zKCRkaXJlY3RvcnksICcvJykpIHsKJHBhdHRlcm5zW10gPSBwcmVnX3F1b3RlKCRkaXJlY3RvcnksICcjJyk7Cn0gZWxzZSB7CiR0aGlzLT5leGNsdWRlZERpcnNbJGRpcmVjdG9yeV0gPSB0cnVlOwp9Cn0KaWYgKCRwYXR0ZXJucykgewokdGhpcy0+ZXhjbHVkZWRQYXR0ZXJuID0gJyMoPzpefC8pKD86Jy5pbXBsb2RlKCd8JywgJHBhdHRlcm5zKS4nKSg/Oi98JCkjJzsKfQoKcGFyZW50OjpfX2NvbnN0cnVjdCgkaXRlcmF0b3IpOwp9CgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBhY2NlcHQoKQp7CmlmICgkdGhpcy0+aXNSZWN1cnNpdmUgJiYgaXNzZXQoJHRoaXMtPmV4Y2x1ZGVkRGlyc1skdGhpcy0+Z2V0RmlsZW5hbWUoKV0pICYmICR0aGlzLT5pc0RpcigpKSB7CnJldHVybiBmYWxzZTsKfQoKaWYgKCR0aGlzLT5leGNsdWRlZFBhdHRlcm4pIHsKJHBhdGggPSAkdGhpcy0+aXNEaXIoKSA/ICR0aGlzLT5jdXJyZW50KCktPmdldFJlbGF0aXZlUGF0aG5hbWUoKSA6ICR0aGlzLT5jdXJyZW50KCktPmdldFJlbGF0aXZlUGF0aCgpOwokcGF0aCA9IHN0cl9yZXBsYWNlKCdcXCcsICcvJywgJHBhdGgpOwoKcmV0dXJuICFwcmVnX21hdGNoKCR0aGlzLT5leGNsdWRlZFBhdHRlcm4sICRwYXRoKTsKfQoKcmV0dXJuIHRydWU7Cn0KCnB1YmxpYyBmdW5jdGlvbiBoYXNDaGlsZHJlbigpCnsKcmV0dXJuICR0aGlzLT5pc1JlY3Vyc2l2ZSAmJiAkdGhpcy0+aXRlcmF0b3ItPmhhc0NoaWxkcmVuKCk7Cn0KCnB1YmxpYyBmdW5jdGlvbiBnZXRDaGlsZHJlbigpCnsKJGNoaWxkcmVuID0gbmV3IHNlbGYoJHRoaXMtPml0ZXJhdG9yLT5nZXRDaGlsZHJlbigpLCBhcnJheSgpKTsKJGNoaWxkcmVuLT5leGNsdWRlZERpcnMgPSAkdGhpcy0+ZXhjbHVkZWREaXJzOwokY2hpbGRyZW4tPmV4Y2x1ZGVkUGF0dGVybiA9ICR0aGlzLT5leGNsdWRlZFBhdHRlcm47CgpyZXR1cm4gJGNoaWxkcmVuOwp9Cn0KPD9waHAKCgoKCgoKCgoKCm5hbWVzcGFjZSBTeW1mb255XENvbXBvbmVudFxGaW5kZXJcSXRlcmF0b3I7CgpAdHJpZ2dlcl9lcnJvcignVGhlICcuX19OQU1FU1BBQ0VfXy4nXEZpbGVQYXRoc0l0ZXJhdG9yIGNsYXNzIGlzIGRlcHJlY2F0ZWQgc2luY2UgU3ltZm9ueSAyLjggYW5kIHdpbGwgYmUgcmVtb3ZlZCBpbiAzLjAuJywgRV9VU0VSX0RFUFJFQ0FURUQpOwoKdXNlIFN5bWZvbnlcQ29tcG9uZW50XEZpbmRlclxTcGxGaWxlSW5mbzsKCgoKCgoKCgpjbGFzcyBGaWxlUGF0aHNJdGVyYXRvciBleHRlbmRzIFxBcnJheUl0ZXJhdG9yCnsKCgoKcHJpdmF0ZSAkYmFzZURpcjsKCgoKCnByaXZhdGUgJGJhc2VEaXJMZW5ndGg7CgoKCgpwcml2YXRlICRzdWJQYXRoOwoKCgoKcHJpdmF0ZSAkc3ViUGF0aG5hbWU7CgoKCgpwcml2YXRlICRjdXJyZW50OwoKCgoKCnB1YmxpYyBmdW5jdGlvbiBfX2NvbnN0cnVjdChhcnJheSAkcGF0aHMsICRiYXNlRGlyKQp7CiR0aGlzLT5iYXNlRGlyID0gJGJhc2VEaXI7CiR0aGlzLT5iYXNlRGlyTGVuZ3RoID0gXHN0cmxlbigkYmFzZURpcik7CgpwYXJlbnQ6Ol9fY29uc3RydWN0KCRwYXRocyk7Cn0KCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBfX2NhbGwoJG5hbWUsIGFycmF5ICRhcmd1bWVudHMpCnsKcmV0dXJuIFxjYWxsX3VzZXJfZnVuY19hcnJheShhcnJheSgkdGhpcy0+Y3VycmVudCgpLCAkbmFtZSksICRhcmd1bWVudHMpOwp9CgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBjdXJyZW50KCkKewpyZXR1cm4gJHRoaXMtPmN1cnJlbnQ7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBrZXkoKQp7CnJldHVybiAkdGhpcy0+Y3VycmVudC0+Z2V0UGF0aG5hbWUoKTsKfQoKcHVibGljIGZ1bmN0aW9uIG5leHQoKQp7CnBhcmVudDo6bmV4dCgpOwokdGhpcy0+YnVpbGRQcm9wZXJ0aWVzKCk7Cn0KCnB1YmxpYyBmdW5jdGlvbiByZXdpbmQoKQp7CnBhcmVudDo6cmV3aW5kKCk7CiR0aGlzLT5idWlsZFByb3BlcnRpZXMoKTsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIGdldFN1YlBhdGgoKQp7CnJldHVybiAkdGhpcy0+c3ViUGF0aDsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIGdldFN1YlBhdGhuYW1lKCkKewpyZXR1cm4gJHRoaXMtPnN1YlBhdGhuYW1lOwp9Cgpwcml2YXRlIGZ1bmN0aW9uIGJ1aWxkUHJvcGVydGllcygpCnsKJGFic29sdXRlUGF0aCA9IHBhcmVudDo6Y3VycmVudCgpOwoKaWYgKCR0aGlzLT5iYXNlRGlyID09PSBzdWJzdHIoJGFic29sdXRlUGF0aCwgMCwgJHRoaXMtPmJhc2VEaXJMZW5ndGgpKSB7CiR0aGlzLT5zdWJQYXRobmFtZSA9IGx0cmltKHN1YnN0cigkYWJzb2x1dGVQYXRoLCAkdGhpcy0+YmFzZURpckxlbmd0aCksICcvXFwnKTsKJGRpciA9IFxkaXJuYW1lKCR0aGlzLT5zdWJQYXRobmFtZSk7CiR0aGlzLT5zdWJQYXRoID0gJy4nID09PSAkZGlyID8gJycgOiAkZGlyOwp9IGVsc2UgewokdGhpcy0+c3ViUGF0aCA9ICR0aGlzLT5zdWJQYXRobmFtZSA9ICcnOwp9CgokdGhpcy0+Y3VycmVudCA9IG5ldyBTcGxGaWxlSW5mbyhwYXJlbnQ6OmN1cnJlbnQoKSwgJHRoaXMtPnN1YlBhdGgsICR0aGlzLT5zdWJQYXRobmFtZSk7Cn0KfQo8P3BocAoKCgoKCgoKCgoKbmFtZXNwYWNlIFN5bWZvbnlcQ29tcG9uZW50XEZpbmRlclxJdGVyYXRvcjsKCgoKCgoKY2xhc3MgRmlsZVR5cGVGaWx0ZXJJdGVyYXRvciBleHRlbmRzIEZpbHRlckl0ZXJhdG9yCnsKY29uc3QgT05MWV9GSUxFUyA9IDE7CmNvbnN0IE9OTFlfRElSRUNUT1JJRVMgPSAyOwoKcHJpdmF0ZSAkbW9kZTsKCgoKCgpwdWJsaWMgZnVuY3Rpb24gX19jb25zdHJ1Y3QoXEl0ZXJhdG9yICRpdGVyYXRvciwgJG1vZGUpCnsKJHRoaXMtPm1vZGUgPSAkbW9kZTsKCnBhcmVudDo6X19jb25zdHJ1Y3QoJGl0ZXJhdG9yKTsKfQoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gYWNjZXB0KCkKewokZmlsZWluZm8gPSAkdGhpcy0+Y3VycmVudCgpOwppZiAoc2VsZjo6T05MWV9ESVJFQ1RPUklFUyA9PT0gKHNlbGY6Ok9OTFlfRElSRUNUT1JJRVMgJiAkdGhpcy0+bW9kZSkgJiYgJGZpbGVpbmZvLT5pc0ZpbGUoKSkgewpyZXR1cm4gZmFsc2U7Cn0gZWxzZWlmIChzZWxmOjpPTkxZX0ZJTEVTID09PSAoc2VsZjo6T05MWV9GSUxFUyAmICR0aGlzLT5tb2RlKSAmJiAkZmlsZWluZm8tPmlzRGlyKCkpIHsKcmV0dXJuIGZhbHNlOwp9CgpyZXR1cm4gdHJ1ZTsKfQp9Cjw/cGhwCgoKCgoKCgoKCgpuYW1lc3BhY2UgU3ltZm9ueVxDb21wb25lbnRcRmluZGVyXEl0ZXJhdG9yOwoKCgoKCgoKY2xhc3MgRmlsZWNvbnRlbnRGaWx0ZXJJdGVyYXRvciBleHRlbmRzIE11bHRpcGxlUGNyZUZpbHRlckl0ZXJhdG9yCnsKCgoKCgpwdWJsaWMgZnVuY3Rpb24gYWNjZXB0KCkKewppZiAoISR0aGlzLT5tYXRjaFJlZ2V4cHMgJiYgISR0aGlzLT5ub01hdGNoUmVnZXhwcykgewpyZXR1cm4gdHJ1ZTsKfQoKJGZpbGVpbmZvID0gJHRoaXMtPmN1cnJlbnQoKTsKCmlmICgkZmlsZWluZm8tPmlzRGlyKCkgfHwgISRmaWxlaW5mby0+aXNSZWFkYWJsZSgpKSB7CnJldHVybiBmYWxzZTsKfQoKJGNvbnRlbnQgPSAkZmlsZWluZm8tPmdldENvbnRlbnRzKCk7CmlmICghJGNvbnRlbnQpIHsKcmV0dXJuIGZhbHNlOwp9CgpyZXR1cm4gJHRoaXMtPmlzQWNjZXB0ZWQoJGNvbnRlbnQpOwp9CgoKCgoKCgoKcHJvdGVjdGVkIGZ1bmN0aW9uIHRvUmVnZXgoJHN0cikKewpyZXR1cm4gJHRoaXMtPmlzUmVnZXgoJHN0cikgPyAkc3RyIDogJy8nLnByZWdfcXVvdGUoJHN0ciwgJy8nKS4nLyc7Cn0KfQo8P3BocAoKCgoKCgoKCgoKbmFtZXNwYWNlIFN5bWZvbnlcQ29tcG9uZW50XEZpbmRlclxJdGVyYXRvcjsKCnVzZSBTeW1mb255XENvbXBvbmVudFxGaW5kZXJcR2xvYjsKCgoKCgoKY2xhc3MgRmlsZW5hbWVGaWx0ZXJJdGVyYXRvciBleHRlbmRzIE11bHRpcGxlUGNyZUZpbHRlckl0ZXJhdG9yCnsKCgoKCgpwdWJsaWMgZnVuY3Rpb24gYWNjZXB0KCkKewpyZXR1cm4gJHRoaXMtPmlzQWNjZXB0ZWQoJHRoaXMtPmN1cnJlbnQoKS0+Z2V0RmlsZW5hbWUoKSk7Cn0KCgoKCgoKCgoKCgpwcm90ZWN0ZWQgZnVuY3Rpb24gdG9SZWdleCgkc3RyKQp7CnJldHVybiAkdGhpcy0+aXNSZWdleCgkc3RyKSA/ICRzdHIgOiBHbG9iOjp0b1JlZ2V4KCRzdHIpOwp9Cn0KPD9waHAKCgoKCgoKCgoKCm5hbWVzcGFjZSBTeW1mb255XENvbXBvbmVudFxGaW5kZXJcSXRlcmF0b3I7CgoKCgoKCgoKCmFic3RyYWN0IGNsYXNzIEZpbHRlckl0ZXJhdG9yIGV4dGVuZHMgXEZpbHRlckl0ZXJhdG9yCnsKCgoKCgoKcHVibGljIGZ1bmN0aW9uIHJld2luZCgpCnsKaWYgKFxQSFBfVkVSU0lPTl9JRCA+IDUwNjA3IHx8IChcUEhQX1ZFUlNJT05fSUQgPiA1MDUyMyAmJiBcUEhQX1ZFUlNJT05fSUQgPCA1MDYwMCkpIHsKcGFyZW50OjpyZXdpbmQoKTsKCnJldHVybjsKfQoKJGl0ZXJhdG9yID0gJHRoaXM7CndoaWxlICgkaXRlcmF0b3IgaW5zdGFuY2VvZiBcT3V0ZXJJdGVyYXRvcikgewokaW5uZXJJdGVyYXRvciA9ICRpdGVyYXRvci0+Z2V0SW5uZXJJdGVyYXRvcigpOwoKaWYgKCRpbm5lckl0ZXJhdG9yIGluc3RhbmNlb2YgUmVjdXJzaXZlRGlyZWN0b3J5SXRlcmF0b3IpIHsKCmlmICgkaW5uZXJJdGVyYXRvci0+aXNSZXdpbmRhYmxlKCkpIHsKJGlubmVySXRlcmF0b3ItPm5leHQoKTsKJGlubmVySXRlcmF0b3ItPnJld2luZCgpOwp9Cn0gZWxzZWlmICgkaW5uZXJJdGVyYXRvciBpbnN0YW5jZW9mIFxGaWxlc3lzdGVtSXRlcmF0b3IpIHsKJGlubmVySXRlcmF0b3ItPm5leHQoKTsKJGlubmVySXRlcmF0b3ItPnJld2luZCgpOwp9CgokaXRlcmF0b3IgPSAkaW5uZXJJdGVyYXRvcjsKfQoKcGFyZW50OjpyZXdpbmQoKTsKfQp9Cjw/cGhwCgoKCgoKCgoKCgpuYW1lc3BhY2UgU3ltZm9ueVxDb21wb25lbnRcRmluZGVyXEl0ZXJhdG9yOwoKCgoKCgphYnN0cmFjdCBjbGFzcyBNdWx0aXBsZVBjcmVGaWx0ZXJJdGVyYXRvciBleHRlbmRzIEZpbHRlckl0ZXJhdG9yCnsKcHJvdGVjdGVkICRtYXRjaFJlZ2V4cHMgPSBhcnJheSgpOwpwcm90ZWN0ZWQgJG5vTWF0Y2hSZWdleHBzID0gYXJyYXkoKTsKCgoKCgoKcHVibGljIGZ1bmN0aW9uIF9fY29uc3RydWN0KFxJdGVyYXRvciAkaXRlcmF0b3IsIGFycmF5ICRtYXRjaFBhdHRlcm5zLCBhcnJheSAkbm9NYXRjaFBhdHRlcm5zKQp7CmZvcmVhY2ggKCRtYXRjaFBhdHRlcm5zIGFzICRwYXR0ZXJuKSB7CiR0aGlzLT5tYXRjaFJlZ2V4cHNbXSA9ICR0aGlzLT50b1JlZ2V4KCRwYXR0ZXJuKTsKfQoKZm9yZWFjaCAoJG5vTWF0Y2hQYXR0ZXJucyBhcyAkcGF0dGVybikgewokdGhpcy0+bm9NYXRjaFJlZ2V4cHNbXSA9ICR0aGlzLT50b1JlZ2V4KCRwYXR0ZXJuKTsKfQoKcGFyZW50OjpfX2NvbnN0cnVjdCgkaXRlcmF0b3IpOwp9CgoKCgoKCgoKCgoKCnByb3RlY3RlZCBmdW5jdGlvbiBpc0FjY2VwdGVkKCRzdHJpbmcpCnsKCmZvcmVhY2ggKCR0aGlzLT5ub01hdGNoUmVnZXhwcyBhcyAkcmVnZXgpIHsKaWYgKHByZWdfbWF0Y2goJHJlZ2V4LCAkc3RyaW5nKSkgewpyZXR1cm4gZmFsc2U7Cn0KfQoKCmlmICgkdGhpcy0+bWF0Y2hSZWdleHBzKSB7CmZvcmVhY2ggKCR0aGlzLT5tYXRjaFJlZ2V4cHMgYXMgJHJlZ2V4KSB7CmlmIChwcmVnX21hdGNoKCRyZWdleCwgJHN0cmluZykpIHsKcmV0dXJuIHRydWU7Cn0KfQoKcmV0dXJuIGZhbHNlOwp9CgoKcmV0dXJuIHRydWU7Cn0KCgoKCgoKCgpwcm90ZWN0ZWQgZnVuY3Rpb24gaXNSZWdleCgkc3RyKQp7CmlmIChwcmVnX21hdGNoKCcvXiguezMsfT8pW2ltc3h1QURVXSokLycsICRzdHIsICRtKSkgewokc3RhcnQgPSBzdWJzdHIoJG1bMV0sIDAsIDEpOwokZW5kID0gc3Vic3RyKCRtWzFdLCAtMSk7CgppZiAoJHN0YXJ0ID09PSAkZW5kKSB7CnJldHVybiAhcHJlZ19tYXRjaCgnL1sqP1s6YWxudW06XSBcXFxcXS8nLCAkc3RhcnQpOwp9Cgpmb3JlYWNoIChhcnJheShhcnJheSgneycsICd9JyksIGFycmF5KCcoJywgJyknKSwgYXJyYXkoJ1snLCAnXScpLCBhcnJheSgnPCcsICc+JykpIGFzICRkZWxpbWl0ZXJzKSB7CmlmICgkc3RhcnQgPT09ICRkZWxpbWl0ZXJzWzBdICYmICRlbmQgPT09ICRkZWxpbWl0ZXJzWzFdKSB7CnJldHVybiB0cnVlOwp9Cn0KfQoKcmV0dXJuIGZhbHNlOwp9CgoKCgoKCgoKYWJzdHJhY3QgcHJvdGVjdGVkIGZ1bmN0aW9uIHRvUmVnZXgoJHN0cik7Cn0KPD9waHAKCgoKCgoKCgoKCm5hbWVzcGFjZSBTeW1mb255XENvbXBvbmVudFxGaW5kZXJcSXRlcmF0b3I7CgoKCgoKCgpjbGFzcyBQYXRoRmlsdGVySXRlcmF0b3IgZXh0ZW5kcyBNdWx0aXBsZVBjcmVGaWx0ZXJJdGVyYXRvcgp7CgoKCgoKcHVibGljIGZ1bmN0aW9uIGFjY2VwdCgpCnsKJGZpbGVuYW1lID0gJHRoaXMtPmN1cnJlbnQoKS0+Z2V0UmVsYXRpdmVQYXRobmFtZSgpOwoKaWYgKCdcXCcgPT09IFxESVJFQ1RPUllfU0VQQVJBVE9SKSB7CiRmaWxlbmFtZSA9IHN0cl9yZXBsYWNlKCdcXCcsICcvJywgJGZpbGVuYW1lKTsKfQoKcmV0dXJuICR0aGlzLT5pc0FjY2VwdGVkKCRmaWxlbmFtZSk7Cn0KCgoKCgoKCgoKCgoKCgoKcHJvdGVjdGVkIGZ1bmN0aW9uIHRvUmVnZXgoJHN0cikKewpyZXR1cm4gJHRoaXMtPmlzUmVnZXgoJHN0cikgPyAkc3RyIDogJy8nLnByZWdfcXVvdGUoJHN0ciwgJy8nKS4nLyc7Cn0KfQo8P3BocAoKCgoKCgoKCgoKbmFtZXNwYWNlIFN5bWZvbnlcQ29tcG9uZW50XEZpbmRlclxJdGVyYXRvcjsKCnVzZSBTeW1mb255XENvbXBvbmVudFxGaW5kZXJcRXhjZXB0aW9uXEFjY2Vzc0RlbmllZEV4Y2VwdGlvbjsKdXNlIFN5bWZvbnlcQ29tcG9uZW50XEZpbmRlclxTcGxGaWxlSW5mbzsKCgoKCgoKY2xhc3MgUmVjdXJzaXZlRGlyZWN0b3J5SXRlcmF0b3IgZXh0ZW5kcyBcUmVjdXJzaXZlRGlyZWN0b3J5SXRlcmF0b3IKewoKCgpwcml2YXRlICRpZ25vcmVVbnJlYWRhYmxlRGlyczsKCgoKCnByaXZhdGUgJHJld2luZGFibGU7CgoKcHJpdmF0ZSAkcm9vdFBhdGg7CnByaXZhdGUgJHN1YlBhdGg7CnByaXZhdGUgJGRpcmVjdG9yeVNlcGFyYXRvciA9ICcvJzsKCgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gX19jb25zdHJ1Y3QoJHBhdGgsICRmbGFncywgJGlnbm9yZVVucmVhZGFibGVEaXJzID0gZmFsc2UpCnsKaWYgKCRmbGFncyAmIChzZWxmOjpDVVJSRU5UX0FTX1BBVEhOQU1FIHwgc2VsZjo6Q1VSUkVOVF9BU19TRUxGKSkgewp0aHJvdyBuZXcgXFJ1bnRpbWVFeGNlcHRpb24oJ1RoaXMgaXRlcmF0b3Igb25seSBzdXBwb3J0IHJldHVybmluZyBjdXJyZW50IGFzIGZpbGVpbmZvLicpOwp9CgpwYXJlbnQ6Ol9fY29uc3RydWN0KCRwYXRoLCAkZmxhZ3MpOwokdGhpcy0+aWdub3JlVW5yZWFkYWJsZURpcnMgPSAkaWdub3JlVW5yZWFkYWJsZURpcnM7CiR0aGlzLT5yb290UGF0aCA9IChzdHJpbmcpICRwYXRoOwppZiAoJy8nICE9PSBcRElSRUNUT1JZX1NFUEFSQVRPUiAmJiAhKCRmbGFncyAmIHNlbGY6OlVOSVhfUEFUSFMpKSB7CiR0aGlzLT5kaXJlY3RvcnlTZXBhcmF0b3IgPSBcRElSRUNUT1JZX1NFUEFSQVRPUjsKfQp9CgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBjdXJyZW50KCkKewoKCmlmIChudWxsID09PSAkc3ViUGF0aG5hbWUgPSAkdGhpcy0+c3ViUGF0aCkgewokc3ViUGF0aG5hbWUgPSAkdGhpcy0+c3ViUGF0aCA9IChzdHJpbmcpICR0aGlzLT5nZXRTdWJQYXRoKCk7Cn0KaWYgKCcnICE9PSAkc3ViUGF0aG5hbWUpIHsKJHN1YlBhdGhuYW1lIC49ICR0aGlzLT5kaXJlY3RvcnlTZXBhcmF0b3I7Cn0KJHN1YlBhdGhuYW1lIC49ICR0aGlzLT5nZXRGaWxlbmFtZSgpOwoKcmV0dXJuIG5ldyBTcGxGaWxlSW5mbygkdGhpcy0+cm9vdFBhdGguJHRoaXMtPmRpcmVjdG9yeVNlcGFyYXRvci4kc3ViUGF0aG5hbWUsICR0aGlzLT5zdWJQYXRoLCAkc3ViUGF0aG5hbWUpOwp9CgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBnZXRDaGlsZHJlbigpCnsKdHJ5IHsKJGNoaWxkcmVuID0gcGFyZW50OjpnZXRDaGlsZHJlbigpOwoKaWYgKCRjaGlsZHJlbiBpbnN0YW5jZW9mIHNlbGYpIHsKCiRjaGlsZHJlbi0+aWdub3JlVW5yZWFkYWJsZURpcnMgPSAkdGhpcy0+aWdub3JlVW5yZWFkYWJsZURpcnM7CgoKJGNoaWxkcmVuLT5yZXdpbmRhYmxlID0gJiR0aGlzLT5yZXdpbmRhYmxlOwokY2hpbGRyZW4tPnJvb3RQYXRoID0gJHRoaXMtPnJvb3RQYXRoOwp9CgpyZXR1cm4gJGNoaWxkcmVuOwp9IGNhdGNoIChcVW5leHBlY3RlZFZhbHVlRXhjZXB0aW9uICRlKSB7CmlmICgkdGhpcy0+aWdub3JlVW5yZWFkYWJsZURpcnMpIHsKCnJldHVybiBuZXcgXFJlY3Vyc2l2ZUFycmF5SXRlcmF0b3IoYXJyYXkoKSk7Cn0gZWxzZSB7CnRocm93IG5ldyBBY2Nlc3NEZW5pZWRFeGNlcHRpb24oJGUtPmdldE1lc3NhZ2UoKSwgJGUtPmdldENvZGUoKSwgJGUpOwp9Cn0KfQoKCgoKcHVibGljIGZ1bmN0aW9uIHJld2luZCgpCnsKaWYgKGZhbHNlID09PSAkdGhpcy0+aXNSZXdpbmRhYmxlKCkpIHsKcmV0dXJuOwp9CgoKaWYgKFxQSFBfVkVSU0lPTl9JRCA8IDUwNTIzIHx8IFxQSFBfVkVSU0lPTl9JRCA+PSA1MDYwMCAmJiBcUEhQX1ZFUlNJT05fSUQgPCA1MDYwNykgewpwYXJlbnQ6Om5leHQoKTsKfQoKcGFyZW50OjpyZXdpbmQoKTsKfQoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gaXNSZXdpbmRhYmxlKCkKewppZiAobnVsbCAhPT0gJHRoaXMtPnJld2luZGFibGUpIHsKcmV0dXJuICR0aGlzLT5yZXdpbmRhYmxlOwp9CgoKaWYgKCcnID09PSAkdGhpcy0+Z2V0UGF0aCgpKSB7CnJldHVybiAkdGhpcy0+cmV3aW5kYWJsZSA9IGZhbHNlOwp9CgppZiAoZmFsc2UgIT09ICRzdHJlYW0gPSBAb3BlbmRpcigkdGhpcy0+Z2V0UGF0aCgpKSkgewokaW5mb3MgPSBzdHJlYW1fZ2V0X21ldGFfZGF0YSgkc3RyZWFtKTsKY2xvc2VkaXIoJHN0cmVhbSk7CgppZiAoJGluZm9zWydzZWVrYWJsZSddKSB7CnJldHVybiAkdGhpcy0+cmV3aW5kYWJsZSA9IHRydWU7Cn0KfQoKcmV0dXJuICR0aGlzLT5yZXdpbmRhYmxlID0gZmFsc2U7Cn0KfQo8P3BocAoKCgoKCgoKCgoKbmFtZXNwYWNlIFN5bWZvbnlcQ29tcG9uZW50XEZpbmRlclxJdGVyYXRvcjsKCnVzZSBTeW1mb255XENvbXBvbmVudFxGaW5kZXJcQ29tcGFyYXRvclxOdW1iZXJDb21wYXJhdG9yOwoKCgoKCgpjbGFzcyBTaXplUmFuZ2VGaWx0ZXJJdGVyYXRvciBleHRlbmRzIEZpbHRlckl0ZXJhdG9yCnsKcHJpdmF0ZSAkY29tcGFyYXRvcnMgPSBhcnJheSgpOwoKCgoKCnB1YmxpYyBmdW5jdGlvbiBfX2NvbnN0cnVjdChcSXRlcmF0b3IgJGl0ZXJhdG9yLCBhcnJheSAkY29tcGFyYXRvcnMpCnsKJHRoaXMtPmNvbXBhcmF0b3JzID0gJGNvbXBhcmF0b3JzOwoKcGFyZW50OjpfX2NvbnN0cnVjdCgkaXRlcmF0b3IpOwp9CgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBhY2NlcHQoKQp7CiRmaWxlaW5mbyA9ICR0aGlzLT5jdXJyZW50KCk7CmlmICghJGZpbGVpbmZvLT5pc0ZpbGUoKSkgewpyZXR1cm4gdHJ1ZTsKfQoKJGZpbGVzaXplID0gJGZpbGVpbmZvLT5nZXRTaXplKCk7CmZvcmVhY2ggKCR0aGlzLT5jb21wYXJhdG9ycyBhcyAkY29tcGFyZSkgewppZiAoISRjb21wYXJlLT50ZXN0KCRmaWxlc2l6ZSkpIHsKcmV0dXJuIGZhbHNlOwp9Cn0KCnJldHVybiB0cnVlOwp9Cn0KPD9waHAKCgoKCgoKCgoKCm5hbWVzcGFjZSBTeW1mb255XENvbXBvbmVudFxGaW5kZXJcSXRlcmF0b3I7CgoKCgoKCmNsYXNzIFNvcnRhYmxlSXRlcmF0b3IgaW1wbGVtZW50cyBcSXRlcmF0b3JBZ2dyZWdhdGUKewpjb25zdCBTT1JUX0JZX05BTUUgPSAxOwpjb25zdCBTT1JUX0JZX1RZUEUgPSAyOwpjb25zdCBTT1JUX0JZX0FDQ0VTU0VEX1RJTUUgPSAzOwpjb25zdCBTT1JUX0JZX0NIQU5HRURfVElNRSA9IDQ7CmNvbnN0IFNPUlRfQllfTU9ESUZJRURfVElNRSA9IDU7Cgpwcml2YXRlICRpdGVyYXRvcjsKcHJpdmF0ZSAkc29ydDsKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBfX2NvbnN0cnVjdChcVHJhdmVyc2FibGUgJGl0ZXJhdG9yLCAkc29ydCkKewokdGhpcy0+aXRlcmF0b3IgPSAkaXRlcmF0b3I7CgppZiAoc2VsZjo6U09SVF9CWV9OQU1FID09PSAkc29ydCkgewokdGhpcy0+c29ydCA9IGZ1bmN0aW9uICgkYSwgJGIpIHsKcmV0dXJuIHN0cmNtcCgkYS0+Z2V0UmVhbHBhdGgoKSA/OiAkYS0+Z2V0UGF0aG5hbWUoKSwgJGItPmdldFJlYWxwYXRoKCkgPzogJGItPmdldFBhdGhuYW1lKCkpOwp9Owp9IGVsc2VpZiAoc2VsZjo6U09SVF9CWV9UWVBFID09PSAkc29ydCkgewokdGhpcy0+c29ydCA9IGZ1bmN0aW9uICgkYSwgJGIpIHsKaWYgKCRhLT5pc0RpcigpICYmICRiLT5pc0ZpbGUoKSkgewpyZXR1cm4gLTE7Cn0gZWxzZWlmICgkYS0+aXNGaWxlKCkgJiYgJGItPmlzRGlyKCkpIHsKcmV0dXJuIDE7Cn0KCnJldHVybiBzdHJjbXAoJGEtPmdldFJlYWxwYXRoKCkgPzogJGEtPmdldFBhdGhuYW1lKCksICRiLT5nZXRSZWFscGF0aCgpID86ICRiLT5nZXRQYXRobmFtZSgpKTsKfTsKfSBlbHNlaWYgKHNlbGY6OlNPUlRfQllfQUNDRVNTRURfVElNRSA9PT0gJHNvcnQpIHsKJHRoaXMtPnNvcnQgPSBmdW5jdGlvbiAoJGEsICRiKSB7CnJldHVybiAkYS0+Z2V0QVRpbWUoKSAtICRiLT5nZXRBVGltZSgpOwp9Owp9IGVsc2VpZiAoc2VsZjo6U09SVF9CWV9DSEFOR0VEX1RJTUUgPT09ICRzb3J0KSB7CiR0aGlzLT5zb3J0ID0gZnVuY3Rpb24gKCRhLCAkYikgewpyZXR1cm4gJGEtPmdldENUaW1lKCkgLSAkYi0+Z2V0Q1RpbWUoKTsKfTsKfSBlbHNlaWYgKHNlbGY6OlNPUlRfQllfTU9ESUZJRURfVElNRSA9PT0gJHNvcnQpIHsKJHRoaXMtPnNvcnQgPSBmdW5jdGlvbiAoJGEsICRiKSB7CnJldHVybiAkYS0+Z2V0TVRpbWUoKSAtICRiLT5nZXRNVGltZSgpOwp9Owp9IGVsc2VpZiAoXGlzX2NhbGxhYmxlKCRzb3J0KSkgewokdGhpcy0+c29ydCA9ICRzb3J0Owp9IGVsc2Ugewp0aHJvdyBuZXcgXEludmFsaWRBcmd1bWVudEV4Y2VwdGlvbignVGhlIFNvcnRhYmxlSXRlcmF0b3IgdGFrZXMgYSBQSFAgY2FsbGFibGUgb3IgYSB2YWxpZCBidWlsdC1pbiBzb3J0IGFsZ29yaXRobSBhcyBhbiBhcmd1bWVudC4nKTsKfQp9CgpwdWJsaWMgZnVuY3Rpb24gZ2V0SXRlcmF0b3IoKQp7CiRhcnJheSA9IGl0ZXJhdG9yX3RvX2FycmF5KCR0aGlzLT5pdGVyYXRvciwgdHJ1ZSk7CnVhc29ydCgkYXJyYXksICR0aGlzLT5zb3J0KTsKCnJldHVybiBuZXcgXEFycmF5SXRlcmF0b3IoJGFycmF5KTsKfQp9CgpDb3B5cmlnaHQgKGMpIDIwMDQtMjAxOCBGYWJpZW4gUG90ZW5jaWVyCgpQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYSBjb3B5Cm9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlICJTb2Z0d2FyZSIpLCB0byBkZWFsCmluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMKdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbApjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMgZnVybmlzaGVkCnRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczoKClRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkIGluIGFsbApjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLgoKVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEICJBUyBJUyIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1IKSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFksCkZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRQpBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSCkxJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sCk9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4KVEhFIFNPRlRXQVJFLgoKPD9waHAKCgoKCgoKCgoKCm5hbWVzcGFjZSBTeW1mb255XENvbXBvbmVudFxGaW5kZXJcU2hlbGw7CgpAdHJpZ2dlcl9lcnJvcignVGhlICcuX19OQU1FU1BBQ0VfXy4nXENvbW1hbmQgY2xhc3MgaXMgZGVwcmVjYXRlZCBzaW5jZSBTeW1mb255IDIuOCBhbmQgd2lsbCBiZSByZW1vdmVkIGluIDMuMC4nLCBFX1VTRVJfREVQUkVDQVRFRCk7CgoKCgoKCmNsYXNzIENvbW1hbmQKewpwcml2YXRlICRwYXJlbnQ7CnByaXZhdGUgJGJpdHMgPSBhcnJheSgpOwpwcml2YXRlICRsYWJlbHMgPSBhcnJheSgpOwoKCgoKcHJpdmF0ZSAkZXJyb3JIYW5kbGVyOwoKcHVibGljIGZ1bmN0aW9uIF9fY29uc3RydWN0KENvbW1hbmQgJHBhcmVudCA9IG51bGwpCnsKJHRoaXMtPnBhcmVudCA9ICRwYXJlbnQ7Cn0KCgoKCgoKcHVibGljIGZ1bmN0aW9uIF9fdG9TdHJpbmcoKQp7CnJldHVybiAkdGhpcy0+am9pbigpOwp9CgoKCgoKCnB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gY3JlYXRlKENvbW1hbmQgJHBhcmVudCA9IG51bGwpCnsKcmV0dXJuIG5ldyBzZWxmKCRwYXJlbnQpOwp9CgoKCgoKCgoKcHVibGljIHN0YXRpYyBmdW5jdGlvbiBlc2NhcGUoJGlucHV0KQp7CnJldHVybiBlc2NhcGVzaGVsbGNtZCgkaW5wdXQpOwp9CgoKCgoKCgoKcHVibGljIHN0YXRpYyBmdW5jdGlvbiBxdW90ZSgkaW5wdXQpCnsKcmV0dXJuIGVzY2FwZXNoZWxsYXJnKCRpbnB1dCk7Cn0KCgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gYWRkKCRiaXQpCnsKJHRoaXMtPmJpdHNbXSA9ICRiaXQ7CgpyZXR1cm4gJHRoaXM7Cn0KCgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gdG9wKCRiaXQpCnsKYXJyYXlfdW5zaGlmdCgkdGhpcy0+Yml0cywgJGJpdCk7Cgpmb3JlYWNoICgkdGhpcy0+bGFiZWxzIGFzICRsYWJlbCA9PiAkaW5kZXgpIHsKKyskdGhpcy0+bGFiZWxzWyRsYWJlbF07Cn0KCnJldHVybiAkdGhpczsKfQoKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBhcmcoJGFyZykKewokdGhpcy0+Yml0c1tdID0gc2VsZjo6cXVvdGUoJGFyZyk7CgpyZXR1cm4gJHRoaXM7Cn0KCgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gY21kKCRlc2MpCnsKJHRoaXMtPmJpdHNbXSA9IHNlbGY6OmVzY2FwZSgkZXNjKTsKCnJldHVybiAkdGhpczsKfQoKCgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIGlucygkbGFiZWwpCnsKaWYgKGlzc2V0KCR0aGlzLT5sYWJlbHNbJGxhYmVsXSkpIHsKdGhyb3cgbmV3IFxSdW50aW1lRXhjZXB0aW9uKHNwcmludGYoJ0xhYmVsICIlcyIgYWxyZWFkeSBleGlzdHMuJywgJGxhYmVsKSk7Cn0KCiR0aGlzLT5iaXRzW10gPSBzZWxmOjpjcmVhdGUoJHRoaXMpOwokdGhpcy0+bGFiZWxzWyRsYWJlbF0gPSBcY291bnQoJHRoaXMtPmJpdHMpIC0gMTsKCnJldHVybiAkdGhpcy0+Yml0c1skdGhpcy0+bGFiZWxzWyRsYWJlbF1dOwp9CgoKCgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0KCRsYWJlbCkKewppZiAoIWlzc2V0KCR0aGlzLT5sYWJlbHNbJGxhYmVsXSkpIHsKdGhyb3cgbmV3IFxSdW50aW1lRXhjZXB0aW9uKHNwcmludGYoJ0xhYmVsICIlcyIgZG9lcyBub3QgZXhpc3QuJywgJGxhYmVsKSk7Cn0KCnJldHVybiAkdGhpcy0+Yml0c1skdGhpcy0+bGFiZWxzWyRsYWJlbF1dOwp9CgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIGVuZCgpCnsKaWYgKG51bGwgPT09ICR0aGlzLT5wYXJlbnQpIHsKdGhyb3cgbmV3IFxSdW50aW1lRXhjZXB0aW9uKCdDYWxsaW5nIGVuZCBvbiByb290IGNvbW1hbmQgZG9lc25cJ3QgbWFrZSBzZW5zZS4nKTsKfQoKcmV0dXJuICR0aGlzLT5wYXJlbnQ7Cn0KCgoKCgoKcHVibGljIGZ1bmN0aW9uIGxlbmd0aCgpCnsKcmV0dXJuIFxjb3VudCgkdGhpcy0+Yml0cyk7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBzZXRFcnJvckhhbmRsZXIoXENsb3N1cmUgJGVycm9ySGFuZGxlcikKewokdGhpcy0+ZXJyb3JIYW5kbGVyID0gJGVycm9ySGFuZGxlcjsKCnJldHVybiAkdGhpczsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIGdldEVycm9ySGFuZGxlcigpCnsKcmV0dXJuICR0aGlzLT5lcnJvckhhbmRsZXI7Cn0KCgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gZXhlY3V0ZSgpCnsKaWYgKG51bGwgPT09ICRlcnJvckhhbmRsZXIgPSAkdGhpcy0+ZXJyb3JIYW5kbGVyKSB7CmV4ZWMoJHRoaXMtPmpvaW4oKSwgJG91dHB1dCk7Cn0gZWxzZSB7CiRwcm9jZXNzID0gcHJvY19vcGVuKCR0aGlzLT5qb2luKCksIGFycmF5KDAgPT4gYXJyYXkoJ3BpcGUnLCAncicpLCAxID0+IGFycmF5KCdwaXBlJywgJ3cnKSwgMiA9PiBhcnJheSgncGlwZScsICd3JykpLCAkcGlwZXMpOwokb3V0cHV0ID0gcHJlZ19zcGxpdCgnfihcclxufFxyfFxuKX4nLCBzdHJlYW1fZ2V0X2NvbnRlbnRzKCRwaXBlc1sxXSksIC0xLCBQUkVHX1NQTElUX05PX0VNUFRZKTsKCmlmICgkZXJyb3IgPSBzdHJlYW1fZ2V0X2NvbnRlbnRzKCRwaXBlc1syXSkpIHsKJGVycm9ySGFuZGxlcigkZXJyb3IpOwp9Cgpwcm9jX2Nsb3NlKCRwcm9jZXNzKTsKfQoKcmV0dXJuICRvdXRwdXQgPzogYXJyYXkoKTsKfQoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gam9pbigpCnsKcmV0dXJuIGltcGxvZGUoJyAnLCBhcnJheV9maWx0ZXIoCmFycmF5X21hcChmdW5jdGlvbiAoJGJpdCkgewpyZXR1cm4gJGJpdCBpbnN0YW5jZW9mIENvbW1hbmQgPyAkYml0LT5qb2luKCkgOiAoJGJpdCA/OiBudWxsKTsKfSwgJHRoaXMtPmJpdHMpLApmdW5jdGlvbiAoJGJpdCkgeyByZXR1cm4gbnVsbCAhPT0gJGJpdDsgfQopKTsKfQoKCgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gYWRkQXRJbmRleCgkYml0LCAkaW5kZXgpCnsKYXJyYXlfc3BsaWNlKCR0aGlzLT5iaXRzLCAkaW5kZXgsIDAsICRiaXQgaW5zdGFuY2VvZiBzZWxmID8gYXJyYXkoJGJpdCkgOiAkYml0KTsKCnJldHVybiAkdGhpczsKfQp9Cjw/cGhwCgoKCgoKCgoKCgpuYW1lc3BhY2UgU3ltZm9ueVxDb21wb25lbnRcRmluZGVyXFNoZWxsOwoKQHRyaWdnZXJfZXJyb3IoJ1RoZSAnLl9fTkFNRVNQQUNFX18uJ1xTaGVsbCBjbGFzcyBpcyBkZXByZWNhdGVkIHNpbmNlIFN5bWZvbnkgMi44IGFuZCB3aWxsIGJlIHJlbW92ZWQgaW4gMy4wLicsIEVfVVNFUl9ERVBSRUNBVEVEKTsKCgoKCgoKY2xhc3MgU2hlbGwKewpjb25zdCBUWVBFX1VOSVggPSAxOwpjb25zdCBUWVBFX0RBUldJTiA9IDI7CmNvbnN0IFRZUEVfQ1lHV0lOID0gMzsKY29uc3QgVFlQRV9XSU5ET1dTID0gNDsKY29uc3QgVFlQRV9CU0QgPSA1OwoKCgoKcHJpdmF0ZSAkdHlwZTsKCgoKCgoKcHVibGljIGZ1bmN0aW9uIGdldFR5cGUoKQp7CmlmIChudWxsID09PSAkdGhpcy0+dHlwZSkgewokdGhpcy0+dHlwZSA9ICR0aGlzLT5ndWVzc1R5cGUoKTsKfQoKcmV0dXJuICR0aGlzLT50eXBlOwp9CgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIHRlc3RDb21tYW5kKCRjb21tYW5kKQp7CmlmICghXGZ1bmN0aW9uX2V4aXN0cygnZXhlYycpKSB7CnJldHVybiBmYWxzZTsKfQoKCiR0ZXN0Q29tbWFuZCA9ICd3aGljaCAnOwppZiAoc2VsZjo6VFlQRV9XSU5ET1dTID09PSAkdGhpcy0+dHlwZSkgewokdGVzdENvbW1hbmQgPSAnd2hlcmUgJzsKfQoKJGNvbW1hbmQgPSBlc2NhcGVzaGVsbGNtZCgkY29tbWFuZCk7CgpleGVjKCR0ZXN0Q29tbWFuZC4kY29tbWFuZCwgJG91dHB1dCwgJGNvZGUpOwoKcmV0dXJuIDAgPT09ICRjb2RlICYmIFxjb3VudCgkb3V0cHV0KSA+IDA7Cn0KCgoKCgoKcHJpdmF0ZSBmdW5jdGlvbiBndWVzc1R5cGUoKQp7CiRvcyA9IHN0cnRvbG93ZXIoUEhQX09TKTsKCmlmIChmYWxzZSAhPT0gc3RycG9zKCRvcywgJ2N5Z3dpbicpKSB7CnJldHVybiBzZWxmOjpUWVBFX0NZR1dJTjsKfQoKaWYgKGZhbHNlICE9PSBzdHJwb3MoJG9zLCAnZGFyd2luJykpIHsKcmV0dXJuIHNlbGY6OlRZUEVfREFSV0lOOwp9CgppZiAoZmFsc2UgIT09IHN0cnBvcygkb3MsICdic2QnKSkgewpyZXR1cm4gc2VsZjo6VFlQRV9CU0Q7Cn0KCmlmICgwID09PSBzdHJwb3MoJG9zLCAnd2luJykpIHsKcmV0dXJuIHNlbGY6OlRZUEVfV0lORE9XUzsKfQoKcmV0dXJuIHNlbGY6OlRZUEVfVU5JWDsKfQp9Cjw/cGhwCgoKCgoKCgoKCgpuYW1lc3BhY2UgU3ltZm9ueVxDb21wb25lbnRcRmluZGVyOwoKCgoKCgpjbGFzcyBTcGxGaWxlSW5mbyBleHRlbmRzIFxTcGxGaWxlSW5mbwp7CnByaXZhdGUgJHJlbGF0aXZlUGF0aDsKcHJpdmF0ZSAkcmVsYXRpdmVQYXRobmFtZTsKCgoKCgoKcHVibGljIGZ1bmN0aW9uIF9fY29uc3RydWN0KCRmaWxlLCAkcmVsYXRpdmVQYXRoLCAkcmVsYXRpdmVQYXRobmFtZSkKewpwYXJlbnQ6Ol9fY29uc3RydWN0KCRmaWxlKTsKJHRoaXMtPnJlbGF0aXZlUGF0aCA9ICRyZWxhdGl2ZVBhdGg7CiR0aGlzLT5yZWxhdGl2ZVBhdGhuYW1lID0gJHJlbGF0aXZlUGF0aG5hbWU7Cn0KCgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0UmVsYXRpdmVQYXRoKCkKewpyZXR1cm4gJHRoaXMtPnJlbGF0aXZlUGF0aDsKfQoKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBnZXRSZWxhdGl2ZVBhdGhuYW1lKCkKewpyZXR1cm4gJHRoaXMtPnJlbGF0aXZlUGF0aG5hbWU7Cn0KCgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0Q29udGVudHMoKQp7CnNldF9lcnJvcl9oYW5kbGVyKGZ1bmN0aW9uICgkdHlwZSwgJG1zZykgdXNlICgmJGVycm9yKSB7ICRlcnJvciA9ICRtc2c7IH0pOwokY29udGVudCA9IGZpbGVfZ2V0X2NvbnRlbnRzKCR0aGlzLT5nZXRQYXRobmFtZSgpKTsKcmVzdG9yZV9lcnJvcl9oYW5kbGVyKCk7CmlmIChmYWxzZSA9PT0gJGNvbnRlbnQpIHsKdGhyb3cgbmV3IFxSdW50aW1lRXhjZXB0aW9uKCRlcnJvcik7Cn0KCnJldHVybiAkY29udGVudDsKfQp9Cjw/cGhwCgoKCgoKCgoKCgpuYW1lc3BhY2UgU3ltZm9ueVxQb2x5ZmlsbFxDdHlwZTsKCgoKCgoKCgpmaW5hbCBjbGFzcyBDdHlwZQp7CgoKCgoKCgoKCnB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gY3R5cGVfYWxudW0oJHRleHQpCnsKJHRleHQgPSBzZWxmOjpjb252ZXJ0X2ludF90b19jaGFyX2Zvcl9jdHlwZSgkdGV4dCk7CgpyZXR1cm4gXGlzX3N0cmluZygkdGV4dCkgJiYgJycgIT09ICR0ZXh0ICYmICFwcmVnX21hdGNoKCcvW15BLVphLXowLTldLycsICR0ZXh0KTsKfQoKCgoKCgoKCgoKcHVibGljIHN0YXRpYyBmdW5jdGlvbiBjdHlwZV9hbHBoYSgkdGV4dCkKewokdGV4dCA9IHNlbGY6OmNvbnZlcnRfaW50X3RvX2NoYXJfZm9yX2N0eXBlKCR0ZXh0KTsKCnJldHVybiBcaXNfc3RyaW5nKCR0ZXh0KSAmJiAnJyAhPT0gJHRleHQgJiYgIXByZWdfbWF0Y2goJy9bXkEtWmEtel0vJywgJHRleHQpOwp9CgoKCgoKCgoKCgpwdWJsaWMgc3RhdGljIGZ1bmN0aW9uIGN0eXBlX2NudHJsKCR0ZXh0KQp7CiR0ZXh0ID0gc2VsZjo6Y29udmVydF9pbnRfdG9fY2hhcl9mb3JfY3R5cGUoJHRleHQpOwoKcmV0dXJuIFxpc19zdHJpbmcoJHRleHQpICYmICcnICE9PSAkdGV4dCAmJiAhcHJlZ19tYXRjaCgnL1teXHgwMC1ceDFmXHg3Zl0vJywgJHRleHQpOwp9CgoKCgoKCgoKCgpwdWJsaWMgc3RhdGljIGZ1bmN0aW9uIGN0eXBlX2RpZ2l0KCR0ZXh0KQp7CiR0ZXh0ID0gc2VsZjo6Y29udmVydF9pbnRfdG9fY2hhcl9mb3JfY3R5cGUoJHRleHQpOwoKcmV0dXJuIFxpc19zdHJpbmcoJHRleHQpICYmICcnICE9PSAkdGV4dCAmJiAhcHJlZ19tYXRjaCgnL1teMC05XS8nLCAkdGV4dCk7Cn0KCgoKCgoKCgoKCnB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gY3R5cGVfZ3JhcGgoJHRleHQpCnsKJHRleHQgPSBzZWxmOjpjb252ZXJ0X2ludF90b19jaGFyX2Zvcl9jdHlwZSgkdGV4dCk7CgpyZXR1cm4gXGlzX3N0cmluZygkdGV4dCkgJiYgJycgIT09ICR0ZXh0ICYmICFwcmVnX21hdGNoKCcvW14hLX5dLycsICR0ZXh0KTsKfQoKCgoKCgoKCgoKcHVibGljIHN0YXRpYyBmdW5jdGlvbiBjdHlwZV9sb3dlcigkdGV4dCkKewokdGV4dCA9IHNlbGY6OmNvbnZlcnRfaW50X3RvX2NoYXJfZm9yX2N0eXBlKCR0ZXh0KTsKCnJldHVybiBcaXNfc3RyaW5nKCR0ZXh0KSAmJiAnJyAhPT0gJHRleHQgJiYgIXByZWdfbWF0Y2goJy9bXmEtel0vJywgJHRleHQpOwp9CgoKCgoKCgoKCgpwdWJsaWMgc3RhdGljIGZ1bmN0aW9uIGN0eXBlX3ByaW50KCR0ZXh0KQp7CiR0ZXh0ID0gc2VsZjo6Y29udmVydF9pbnRfdG9fY2hhcl9mb3JfY3R5cGUoJHRleHQpOwoKcmV0dXJuIFxpc19zdHJpbmcoJHRleHQpICYmICcnICE9PSAkdGV4dCAmJiAhcHJlZ19tYXRjaCgnL1teIC1+XS8nLCAkdGV4dCk7Cn0KCgoKCgoKCgoKCnB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gY3R5cGVfcHVuY3QoJHRleHQpCnsKJHRleHQgPSBzZWxmOjpjb252ZXJ0X2ludF90b19jaGFyX2Zvcl9jdHlwZSgkdGV4dCk7CgpyZXR1cm4gXGlzX3N0cmluZygkdGV4dCkgJiYgJycgIT09ICR0ZXh0ICYmICFwcmVnX21hdGNoKCcvW14hLVwvXDotQFxbLWBcey1+XS8nLCAkdGV4dCk7Cn0KCgoKCgoKCgoKCnB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gY3R5cGVfc3BhY2UoJHRleHQpCnsKJHRleHQgPSBzZWxmOjpjb252ZXJ0X2ludF90b19jaGFyX2Zvcl9jdHlwZSgkdGV4dCk7CgpyZXR1cm4gXGlzX3N0cmluZygkdGV4dCkgJiYgJycgIT09ICR0ZXh0ICYmICFwcmVnX21hdGNoKCcvW15cc10vJywgJHRleHQpOwp9CgoKCgoKCgoKCgpwdWJsaWMgc3RhdGljIGZ1bmN0aW9uIGN0eXBlX3VwcGVyKCR0ZXh0KQp7CiR0ZXh0ID0gc2VsZjo6Y29udmVydF9pbnRfdG9fY2hhcl9mb3JfY3R5cGUoJHRleHQpOwoKcmV0dXJuIFxpc19zdHJpbmcoJHRleHQpICYmICcnICE9PSAkdGV4dCAmJiAhcHJlZ19tYXRjaCgnL1teQS1aXS8nLCAkdGV4dCk7Cn0KCgoKCgoKCgoKCnB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gY3R5cGVfeGRpZ2l0KCR0ZXh0KQp7CiR0ZXh0ID0gc2VsZjo6Y29udmVydF9pbnRfdG9fY2hhcl9mb3JfY3R5cGUoJHRleHQpOwoKcmV0dXJuIFxpc19zdHJpbmcoJHRleHQpICYmICcnICE9PSAkdGV4dCAmJiAhcHJlZ19tYXRjaCgnL1teQS1GYS1mMC05XS8nLCAkdGV4dCk7Cn0KCgoKCgoKCgoKCgoKCnByaXZhdGUgc3RhdGljIGZ1bmN0aW9uIGNvbnZlcnRfaW50X3RvX2NoYXJfZm9yX2N0eXBlKCRpbnQpCnsKaWYgKCFcaXNfaW50KCRpbnQpKSB7CnJldHVybiAkaW50Owp9CgppZiAoJGludCA8IC0xMjggfHwgJGludCA+IDI1NSkgewpyZXR1cm4gKHN0cmluZykgJGludDsKfQoKaWYgKCRpbnQgPCAwKSB7CiRpbnQgKz0gMjU2Owp9CgpyZXR1cm4gXGNocigkaW50KTsKfQp9CgpDb3B5cmlnaHQgKGMpIDIwMTgtMjAxOSBGYWJpZW4gUG90ZW5jaWVyCgpQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYSBjb3B5Cm9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlICJTb2Z0d2FyZSIpLCB0byBkZWFsCmluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMKdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbApjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMgZnVybmlzaGVkCnRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczoKClRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkIGluIGFsbApjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLgoKVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEICJBUyBJUyIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1IKSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFksCkZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRQpBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSCkxJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sCk9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4KVEhFIFNPRlRXQVJFLgoKPD9waHAKCgoKCgoKCgoKCnVzZSBTeW1mb255XFBvbHlmaWxsXEN0eXBlIGFzIHA7CgppZiAoIWZ1bmN0aW9uX2V4aXN0cygnY3R5cGVfYWxudW0nKSkgewpmdW5jdGlvbiBjdHlwZV9hbG51bSgkaW5wdXQpIHsgcmV0dXJuIHBcQ3R5cGU6OmN0eXBlX2FsbnVtKCRpbnB1dCk7IH0KfQppZiAoIWZ1bmN0aW9uX2V4aXN0cygnY3R5cGVfYWxwaGEnKSkgewpmdW5jdGlvbiBjdHlwZV9hbHBoYSgkaW5wdXQpIHsgcmV0dXJuIHBcQ3R5cGU6OmN0eXBlX2FscGhhKCRpbnB1dCk7IH0KfQppZiAoIWZ1bmN0aW9uX2V4aXN0cygnY3R5cGVfY250cmwnKSkgewpmdW5jdGlvbiBjdHlwZV9jbnRybCgkaW5wdXQpIHsgcmV0dXJuIHBcQ3R5cGU6OmN0eXBlX2NudHJsKCRpbnB1dCk7IH0KfQppZiAoIWZ1bmN0aW9uX2V4aXN0cygnY3R5cGVfZGlnaXQnKSkgewpmdW5jdGlvbiBjdHlwZV9kaWdpdCgkaW5wdXQpIHsgcmV0dXJuIHBcQ3R5cGU6OmN0eXBlX2RpZ2l0KCRpbnB1dCk7IH0KfQppZiAoIWZ1bmN0aW9uX2V4aXN0cygnY3R5cGVfZ3JhcGgnKSkgewpmdW5jdGlvbiBjdHlwZV9ncmFwaCgkaW5wdXQpIHsgcmV0dXJuIHBcQ3R5cGU6OmN0eXBlX2dyYXBoKCRpbnB1dCk7IH0KfQppZiAoIWZ1bmN0aW9uX2V4aXN0cygnY3R5cGVfbG93ZXInKSkgewpmdW5jdGlvbiBjdHlwZV9sb3dlcigkaW5wdXQpIHsgcmV0dXJuIHBcQ3R5cGU6OmN0eXBlX2xvd2VyKCRpbnB1dCk7IH0KfQppZiAoIWZ1bmN0aW9uX2V4aXN0cygnY3R5cGVfcHJpbnQnKSkgewpmdW5jdGlvbiBjdHlwZV9wcmludCgkaW5wdXQpIHsgcmV0dXJuIHBcQ3R5cGU6OmN0eXBlX3ByaW50KCRpbnB1dCk7IH0KfQppZiAoIWZ1bmN0aW9uX2V4aXN0cygnY3R5cGVfcHVuY3QnKSkgewpmdW5jdGlvbiBjdHlwZV9wdW5jdCgkaW5wdXQpIHsgcmV0dXJuIHBcQ3R5cGU6OmN0eXBlX3B1bmN0KCRpbnB1dCk7IH0KfQppZiAoIWZ1bmN0aW9uX2V4aXN0cygnY3R5cGVfc3BhY2UnKSkgewpmdW5jdGlvbiBjdHlwZV9zcGFjZSgkaW5wdXQpIHsgcmV0dXJuIHBcQ3R5cGU6OmN0eXBlX3NwYWNlKCRpbnB1dCk7IH0KfQppZiAoIWZ1bmN0aW9uX2V4aXN0cygnY3R5cGVfdXBwZXInKSkgewpmdW5jdGlvbiBjdHlwZV91cHBlcigkaW5wdXQpIHsgcmV0dXJuIHBcQ3R5cGU6OmN0eXBlX3VwcGVyKCRpbnB1dCk7IH0KfQppZiAoIWZ1bmN0aW9uX2V4aXN0cygnY3R5cGVfeGRpZ2l0JykpIHsKZnVuY3Rpb24gY3R5cGVfeGRpZ2l0KCRpbnB1dCkgeyByZXR1cm4gcFxDdHlwZTo6Y3R5cGVfeGRpZ2l0KCRpbnB1dCk7IH0KfQoKQ29weXJpZ2h0IChjKSAyMDE1LTIwMTkgRmFiaWVuIFBvdGVuY2llcgoKUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGEgY29weQpvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZSAiU29mdHdhcmUiKSwgdG8gZGVhbAppbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzCnRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwKY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZAp0byBkbyBzbywgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6CgpUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZCBpbiBhbGwKY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS4KClRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCAiQVMgSVMiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SCklNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLApGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUKQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUgpMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLApPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOClRIRSBTT0ZUV0FSRS4KCjw/cGhwCgoKCgoKCgoKCgpuYW1lc3BhY2UgU3ltZm9ueVxQb2x5ZmlsbFxNYnN0cmluZzsKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCmZpbmFsIGNsYXNzIE1ic3RyaW5nCnsKY29uc3QgTUJfQ0FTRV9GT0xEID0gUEhQX0lOVF9NQVg7Cgpwcml2YXRlIHN0YXRpYyAkZW5jb2RpbmdMaXN0ID0gYXJyYXkoJ0FTQ0lJJywgJ1VURi04Jyk7CnByaXZhdGUgc3RhdGljICRsYW5ndWFnZSA9ICduZXV0cmFsJzsKcHJpdmF0ZSBzdGF0aWMgJGludGVybmFsRW5jb2RpbmcgPSAnVVRGLTgnOwpwcml2YXRlIHN0YXRpYyAkY2FzZUZvbGQgPSBhcnJheSgKYXJyYXkoJ8K1JywgJ8W/JywgIlx4Q0RceDg1IiwgJ8+CJywgIlx4Q0ZceDkwIiwgIlx4Q0ZceDkxIiwgIlx4Q0ZceDk1IiwgIlx4Q0ZceDk2IiwgIlx4Q0ZceEIwIiwgIlx4Q0ZceEIxIiwgIlx4Q0ZceEI1IiwgIlx4RTFceEJBXHg5QiIsICJceEUxXHhCRVx4QkUiKSwKYXJyYXkoJ868JywgJ3MnLCAnzrknLCAnz4MnLCAnzrInLCAnzrgnLCAnz4YnLCAnz4AnLCAnzronLCAnz4EnLCAnzrUnLCAiXHhFMVx4QjlceEExIiwgJ865JyksCik7CgpwdWJsaWMgc3RhdGljIGZ1bmN0aW9uIG1iX2NvbnZlcnRfZW5jb2RpbmcoJHMsICR0b0VuY29kaW5nLCAkZnJvbUVuY29kaW5nID0gbnVsbCkKewppZiAoXGlzX2FycmF5KCRmcm9tRW5jb2RpbmcpIHx8IGZhbHNlICE9PSBzdHJwb3MoJGZyb21FbmNvZGluZywgJywnKSkgewokZnJvbUVuY29kaW5nID0gc2VsZjo6bWJfZGV0ZWN0X2VuY29kaW5nKCRzLCAkZnJvbUVuY29kaW5nKTsKfSBlbHNlIHsKJGZyb21FbmNvZGluZyA9IHNlbGY6OmdldEVuY29kaW5nKCRmcm9tRW5jb2RpbmcpOwp9CgokdG9FbmNvZGluZyA9IHNlbGY6OmdldEVuY29kaW5nKCR0b0VuY29kaW5nKTsKCmlmICgnQkFTRTY0JyA9PT0gJGZyb21FbmNvZGluZykgewokcyA9IGJhc2U2NF9kZWNvZGUoJHMpOwokZnJvbUVuY29kaW5nID0gJHRvRW5jb2Rpbmc7Cn0KCmlmICgnQkFTRTY0JyA9PT0gJHRvRW5jb2RpbmcpIHsKcmV0dXJuIGJhc2U2NF9lbmNvZGUoJHMpOwp9CgppZiAoJ0hUTUwtRU5USVRJRVMnID09PSAkdG9FbmNvZGluZyB8fCAnSFRNTCcgPT09ICR0b0VuY29kaW5nKSB7CmlmICgnSFRNTC1FTlRJVElFUycgPT09ICRmcm9tRW5jb2RpbmcgfHwgJ0hUTUwnID09PSAkZnJvbUVuY29kaW5nKSB7CiRmcm9tRW5jb2RpbmcgPSAnV2luZG93cy0xMjUyJzsKfQppZiAoJ1VURi04JyAhPT0gJGZyb21FbmNvZGluZykgewokcyA9IGljb252KCRmcm9tRW5jb2RpbmcsICdVVEYtOC8vSUdOT1JFJywgJHMpOwp9CgpyZXR1cm4gcHJlZ19yZXBsYWNlX2NhbGxiYWNrKCcvW1x4ODAtXHhGRl0rLycsIGFycmF5KF9fQ0xBU1NfXywgJ2h0bWxfZW5jb2RpbmdfY2FsbGJhY2snKSwgJHMpOwp9CgppZiAoJ0hUTUwtRU5USVRJRVMnID09PSAkZnJvbUVuY29kaW5nKSB7CiRzID0gaHRtbF9lbnRpdHlfZGVjb2RlKCRzLCBFTlRfQ09NUEFULCAnVVRGLTgnKTsKJGZyb21FbmNvZGluZyA9ICdVVEYtOCc7Cn0KCnJldHVybiBpY29udigkZnJvbUVuY29kaW5nLCAkdG9FbmNvZGluZy4nLy9JR05PUkUnLCAkcyk7Cn0KCnB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gbWJfY29udmVydF92YXJpYWJsZXMoJHRvRW5jb2RpbmcsICRmcm9tRW5jb2RpbmcsICYkYSA9IG51bGwsICYkYiA9IG51bGwsICYkYyA9IG51bGwsICYkZCA9IG51bGwsICYkZSA9IG51bGwsICYkZiA9IG51bGwpCnsKJHZhcnMgPSBhcnJheSgmJGEsICYkYiwgJiRjLCAmJGQsICYkZSwgJiRmKTsKCiRvayA9IHRydWU7CmFycmF5X3dhbGtfcmVjdXJzaXZlKCR2YXJzLCBmdW5jdGlvbiAoJiR2KSB1c2UgKCYkb2ssICR0b0VuY29kaW5nLCAkZnJvbUVuY29kaW5nKSB7CmlmIChmYWxzZSA9PT0gJHYgPSBNYnN0cmluZzo6bWJfY29udmVydF9lbmNvZGluZygkdiwgJHRvRW5jb2RpbmcsICRmcm9tRW5jb2RpbmcpKSB7CiRvayA9IGZhbHNlOwp9Cn0pOwoKcmV0dXJuICRvayA/ICRmcm9tRW5jb2RpbmcgOiBmYWxzZTsKfQoKcHVibGljIHN0YXRpYyBmdW5jdGlvbiBtYl9kZWNvZGVfbWltZWhlYWRlcigkcykKewpyZXR1cm4gaWNvbnZfbWltZV9kZWNvZGUoJHMsIDIsIHNlbGY6OiRpbnRlcm5hbEVuY29kaW5nKTsKfQoKcHVibGljIHN0YXRpYyBmdW5jdGlvbiBtYl9lbmNvZGVfbWltZWhlYWRlcigkcywgJGNoYXJzZXQgPSBudWxsLCAkdHJhbnNmZXJFbmNvZGluZyA9IG51bGwsICRsaW5lZmVlZCA9IG51bGwsICRpbmRlbnQgPSBudWxsKQp7CnRyaWdnZXJfZXJyb3IoJ21iX2VuY29kZV9taW1laGVhZGVyKCkgaXMgYnVnZ2VkLiBQbGVhc2UgdXNlIGljb252X21pbWVfZW5jb2RlKCkgaW5zdGVhZCcsIEVfVVNFUl9XQVJOSU5HKTsKfQoKcHVibGljIHN0YXRpYyBmdW5jdGlvbiBtYl9kZWNvZGVfbnVtZXJpY2VudGl0eSgkcywgJGNvbnZtYXAsICRlbmNvZGluZyA9IG51bGwpCnsKaWYgKG51bGwgIT09ICRzICYmICFcaXNfc2NhbGFyKCRzKSAmJiAhKFxpc19vYmplY3QoJHMpICYmIFxtZXRob2RfZXhpc3RzKCRzLCAnX190b1N0cmluZycpKSkgewp0cmlnZ2VyX2Vycm9yKCdtYl9kZWNvZGVfbnVtZXJpY2VudGl0eSgpIGV4cGVjdHMgcGFyYW1ldGVyIDEgdG8gYmUgc3RyaW5nLCAnLlxnZXR0eXBlKCRzKS4nIGdpdmVuJywgRV9VU0VSX1dBUk5JTkcpOwoKcmV0dXJuIG51bGw7Cn0KCmlmICghXGlzX2FycmF5KCRjb252bWFwKSB8fCAhJGNvbnZtYXApIHsKcmV0dXJuIGZhbHNlOwp9CgppZiAobnVsbCAhPT0gJGVuY29kaW5nICYmICFcaXNfc2NhbGFyKCRlbmNvZGluZykpIHsKdHJpZ2dlcl9lcnJvcignbWJfZGVjb2RlX251bWVyaWNlbnRpdHkoKSBleHBlY3RzIHBhcmFtZXRlciAzIHRvIGJlIHN0cmluZywgJy5cZ2V0dHlwZSgkcykuJyBnaXZlbicsIEVfVVNFUl9XQVJOSU5HKTsKCnJldHVybiAnJzsgCn0KCiRzID0gKHN0cmluZykgJHM7CmlmICgnJyA9PT0gJHMpIHsKcmV0dXJuICcnOwp9CgokZW5jb2RpbmcgPSBzZWxmOjpnZXRFbmNvZGluZygkZW5jb2RpbmcpOwoKaWYgKCdVVEYtOCcgPT09ICRlbmNvZGluZykgewokZW5jb2RpbmcgPSBudWxsOwppZiAoIXByZWdfbWF0Y2goJy8vdScsICRzKSkgewokcyA9IEBpY29udignVVRGLTgnLCAnVVRGLTgvL0lHTk9SRScsICRzKTsKfQp9IGVsc2UgewokcyA9IGljb252KCRlbmNvZGluZywgJ1VURi04Ly9JR05PUkUnLCAkcyk7Cn0KCiRjbnQgPSBmbG9vcihcY291bnQoJGNvbnZtYXApIC8gNCkgKiA0OwoKZm9yICgkaSA9IDA7ICRpIDwgJGNudDsgJGkgKz0gNCkgewoKJGNvbnZtYXBbJGldICs9ICRjb252bWFwWyRpICsgMl07CiRjb252bWFwWyRpICsgMV0gKz0gJGNvbnZtYXBbJGkgKyAyXTsKfQoKJHMgPSBwcmVnX3JlcGxhY2VfY2FsbGJhY2soJy8mIyg/OjAqKFswLTldKyl8eDAqKFswLTlhLWZBLUZdKykpKD8hJik7Py8nLCBmdW5jdGlvbiAoYXJyYXkgJG0pIHVzZSAoJGNudCwgJGNvbnZtYXApIHsKJGMgPSBpc3NldCgkbVsyXSkgPyAoaW50KSBoZXhkZWMoJG1bMl0pIDogJG1bMV07CmZvciAoJGkgPSAwOyAkaSA8ICRjbnQ7ICRpICs9IDQpIHsKaWYgKCRjID49ICRjb252bWFwWyRpXSAmJiAkYyA8PSAkY29udm1hcFskaSArIDFdKSB7CnJldHVybiBNYnN0cmluZzo6bWJfY2hyKCRjIC0gJGNvbnZtYXBbJGkgKyAyXSk7Cn0KfQoKcmV0dXJuICRtWzBdOwp9LCAkcyk7CgppZiAobnVsbCA9PT0gJGVuY29kaW5nKSB7CnJldHVybiAkczsKfQoKcmV0dXJuIGljb252KCdVVEYtOCcsICRlbmNvZGluZy4nLy9JR05PUkUnLCAkcyk7Cn0KCnB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gbWJfZW5jb2RlX251bWVyaWNlbnRpdHkoJHMsICRjb252bWFwLCAkZW5jb2RpbmcgPSBudWxsLCAkaXNfaGV4ID0gZmFsc2UpCnsKaWYgKG51bGwgIT09ICRzICYmICFcaXNfc2NhbGFyKCRzKSAmJiAhKFxpc19vYmplY3QoJHMpICYmIFxtZXRob2RfZXhpc3RzKCRzLCAnX190b1N0cmluZycpKSkgewp0cmlnZ2VyX2Vycm9yKCdtYl9lbmNvZGVfbnVtZXJpY2VudGl0eSgpIGV4cGVjdHMgcGFyYW1ldGVyIDEgdG8gYmUgc3RyaW5nLCAnLlxnZXR0eXBlKCRzKS4nIGdpdmVuJywgRV9VU0VSX1dBUk5JTkcpOwoKcmV0dXJuIG51bGw7Cn0KCmlmICghXGlzX2FycmF5KCRjb252bWFwKSB8fCAhJGNvbnZtYXApIHsKcmV0dXJuIGZhbHNlOwp9CgppZiAobnVsbCAhPT0gJGVuY29kaW5nICYmICFcaXNfc2NhbGFyKCRlbmNvZGluZykpIHsKdHJpZ2dlcl9lcnJvcignbWJfZW5jb2RlX251bWVyaWNlbnRpdHkoKSBleHBlY3RzIHBhcmFtZXRlciAzIHRvIGJlIHN0cmluZywgJy5cZ2V0dHlwZSgkcykuJyBnaXZlbicsIEVfVVNFUl9XQVJOSU5HKTsKCnJldHVybiBudWxsOyAKfQoKaWYgKG51bGwgIT09ICRpc19oZXggJiYgIVxpc19zY2FsYXIoJGlzX2hleCkpIHsKdHJpZ2dlcl9lcnJvcignbWJfZW5jb2RlX251bWVyaWNlbnRpdHkoKSBleHBlY3RzIHBhcmFtZXRlciA0IHRvIGJlIGJvb2xlYW4sICcuXGdldHR5cGUoJHMpLicgZ2l2ZW4nLCBFX1VTRVJfV0FSTklORyk7CgpyZXR1cm4gbnVsbDsKfQoKJHMgPSAoc3RyaW5nKSAkczsKaWYgKCcnID09PSAkcykgewpyZXR1cm4gJyc7Cn0KCiRlbmNvZGluZyA9IHNlbGY6OmdldEVuY29kaW5nKCRlbmNvZGluZyk7CgppZiAoJ1VURi04JyA9PT0gJGVuY29kaW5nKSB7CiRlbmNvZGluZyA9IG51bGw7CmlmICghcHJlZ19tYXRjaCgnLy91JywgJHMpKSB7CiRzID0gQGljb252KCdVVEYtOCcsICdVVEYtOC8vSUdOT1JFJywgJHMpOwp9Cn0gZWxzZSB7CiRzID0gaWNvbnYoJGVuY29kaW5nLCAnVVRGLTgvL0lHTk9SRScsICRzKTsKfQoKc3RhdGljICR1bGVuTWFzayA9IGFycmF5KCJceEMwIiA9PiAyLCAiXHhEMCIgPT4gMiwgIlx4RTAiID0+IDMsICJceEYwIiA9PiA0KTsKCiRjbnQgPSBmbG9vcihcY291bnQoJGNvbnZtYXApIC8gNCkgKiA0OwokaSA9IDA7CiRsZW4gPSBcc3RybGVuKCRzKTsKJHJlc3VsdCA9ICcnOwoKd2hpbGUgKCRpIDwgJGxlbikgewokdWxlbiA9ICRzWyRpXSA8ICJceDgwIiA/IDEgOiAkdWxlbk1hc2tbJHNbJGldICYgIlx4RjAiXTsKJHVjaHIgPSBzdWJzdHIoJHMsICRpLCAkdWxlbik7CiRpICs9ICR1bGVuOwokYyA9IHNlbGY6Om1iX29yZCgkdWNocik7Cgpmb3IgKCRqID0gMDsgJGogPCAkY250OyAkaiArPSA0KSB7CmlmICgkYyA+PSAkY29udm1hcFskal0gJiYgJGMgPD0gJGNvbnZtYXBbJGogKyAxXSkgewokY09mZnNldCA9ICgkYyArICRjb252bWFwWyRqICsgMl0pICYgJGNvbnZtYXBbJGogKyAzXTsKJHJlc3VsdCAuPSAkaXNfaGV4ID8gc3ByaW50ZignJiN4JVg7JywgJGNPZmZzZXQpIDogJyYjJy4kY09mZnNldC4nOyc7CmNvbnRpbnVlIDI7Cn0KfQokcmVzdWx0IC49ICR1Y2hyOwp9CgppZiAobnVsbCA9PT0gJGVuY29kaW5nKSB7CnJldHVybiAkcmVzdWx0Owp9CgpyZXR1cm4gaWNvbnYoJ1VURi04JywgJGVuY29kaW5nLicvL0lHTk9SRScsICRyZXN1bHQpOwp9CgpwdWJsaWMgc3RhdGljIGZ1bmN0aW9uIG1iX2NvbnZlcnRfY2FzZSgkcywgJG1vZGUsICRlbmNvZGluZyA9IG51bGwpCnsKJHMgPSAoc3RyaW5nKSAkczsKaWYgKCcnID09PSAkcykgewpyZXR1cm4gJyc7Cn0KCiRlbmNvZGluZyA9IHNlbGY6OmdldEVuY29kaW5nKCRlbmNvZGluZyk7CgppZiAoJ1VURi04JyA9PT0gJGVuY29kaW5nKSB7CiRlbmNvZGluZyA9IG51bGw7CmlmICghcHJlZ19tYXRjaCgnLy91JywgJHMpKSB7CiRzID0gQGljb252KCdVVEYtOCcsICdVVEYtOC8vSUdOT1JFJywgJHMpOwp9Cn0gZWxzZSB7CiRzID0gaWNvbnYoJGVuY29kaW5nLCAnVVRGLTgvL0lHTk9SRScsICRzKTsKfQoKaWYgKE1CX0NBU0VfVElUTEUgPT0gJG1vZGUpIHsKc3RhdGljICR0aXRsZVJlZ2V4cCA9IG51bGw7CmlmIChudWxsID09PSAkdGl0bGVSZWdleHApIHsKJHRpdGxlUmVnZXhwID0gc2VsZjo6Z2V0RGF0YSgndGl0bGVDYXNlUmVnZXhwJyk7Cn0KJHMgPSBwcmVnX3JlcGxhY2VfY2FsbGJhY2soJHRpdGxlUmVnZXhwLCBhcnJheShfX0NMQVNTX18sICd0aXRsZV9jYXNlJyksICRzKTsKfSBlbHNlIHsKaWYgKE1CX0NBU0VfVVBQRVIgPT0gJG1vZGUpIHsKc3RhdGljICR1cHBlciA9IG51bGw7CmlmIChudWxsID09PSAkdXBwZXIpIHsKJHVwcGVyID0gc2VsZjo6Z2V0RGF0YSgndXBwZXJDYXNlJyk7Cn0KJG1hcCA9ICR1cHBlcjsKfSBlbHNlIHsKaWYgKHNlbGY6Ok1CX0NBU0VfRk9MRCA9PT0gJG1vZGUpIHsKJHMgPSBzdHJfcmVwbGFjZShzZWxmOjokY2FzZUZvbGRbMF0sIHNlbGY6OiRjYXNlRm9sZFsxXSwgJHMpOwp9CgpzdGF0aWMgJGxvd2VyID0gbnVsbDsKaWYgKG51bGwgPT09ICRsb3dlcikgewokbG93ZXIgPSBzZWxmOjpnZXREYXRhKCdsb3dlckNhc2UnKTsKfQokbWFwID0gJGxvd2VyOwp9CgpzdGF0aWMgJHVsZW5NYXNrID0gYXJyYXkoIlx4QzAiID0+IDIsICJceEQwIiA9PiAyLCAiXHhFMCIgPT4gMywgIlx4RjAiID0+IDQpOwoKJGkgPSAwOwokbGVuID0gXHN0cmxlbigkcyk7Cgp3aGlsZSAoJGkgPCAkbGVuKSB7CiR1bGVuID0gJHNbJGldIDwgIlx4ODAiID8gMSA6ICR1bGVuTWFza1skc1skaV0gJiAiXHhGMCJdOwokdWNociA9IHN1YnN0cigkcywgJGksICR1bGVuKTsKJGkgKz0gJHVsZW47CgppZiAoaXNzZXQoJG1hcFskdWNocl0pKSB7CiR1Y2hyID0gJG1hcFskdWNocl07CiRubGVuID0gXHN0cmxlbigkdWNocik7CgppZiAoJG5sZW4gPT0gJHVsZW4pIHsKJG5sZW4gPSAkaTsKZG8gewokc1stLSRubGVuXSA9ICR1Y2hyWy0tJHVsZW5dOwp9IHdoaWxlICgkdWxlbik7Cn0gZWxzZSB7CiRzID0gc3Vic3RyX3JlcGxhY2UoJHMsICR1Y2hyLCAkaSAtICR1bGVuLCAkdWxlbik7CiRsZW4gKz0gJG5sZW4gLSAkdWxlbjsKJGkgKz0gJG5sZW4gLSAkdWxlbjsKfQp9Cn0KfQoKaWYgKG51bGwgPT09ICRlbmNvZGluZykgewpyZXR1cm4gJHM7Cn0KCnJldHVybiBpY29udignVVRGLTgnLCAkZW5jb2RpbmcuJy8vSUdOT1JFJywgJHMpOwp9CgpwdWJsaWMgc3RhdGljIGZ1bmN0aW9uIG1iX2ludGVybmFsX2VuY29kaW5nKCRlbmNvZGluZyA9IG51bGwpCnsKaWYgKG51bGwgPT09ICRlbmNvZGluZykgewpyZXR1cm4gc2VsZjo6JGludGVybmFsRW5jb2Rpbmc7Cn0KCiRlbmNvZGluZyA9IHNlbGY6OmdldEVuY29kaW5nKCRlbmNvZGluZyk7CgppZiAoJ1VURi04JyA9PT0gJGVuY29kaW5nIHx8IGZhbHNlICE9PSBAaWNvbnYoJGVuY29kaW5nLCAkZW5jb2RpbmcsICcgJykpIHsKc2VsZjo6JGludGVybmFsRW5jb2RpbmcgPSAkZW5jb2Rpbmc7CgpyZXR1cm4gdHJ1ZTsKfQoKcmV0dXJuIGZhbHNlOwp9CgpwdWJsaWMgc3RhdGljIGZ1bmN0aW9uIG1iX2xhbmd1YWdlKCRsYW5nID0gbnVsbCkKewppZiAobnVsbCA9PT0gJGxhbmcpIHsKcmV0dXJuIHNlbGY6OiRsYW5ndWFnZTsKfQoKc3dpdGNoICgkbGFuZyA9IHN0cnRvbG93ZXIoJGxhbmcpKSB7CmNhc2UgJ3VuaSc6CmNhc2UgJ25ldXRyYWwnOgpzZWxmOjokbGFuZ3VhZ2UgPSAkbGFuZzsKCnJldHVybiB0cnVlOwp9CgpyZXR1cm4gZmFsc2U7Cn0KCnB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gbWJfbGlzdF9lbmNvZGluZ3MoKQp7CnJldHVybiBhcnJheSgnVVRGLTgnKTsKfQoKcHVibGljIHN0YXRpYyBmdW5jdGlvbiBtYl9lbmNvZGluZ19hbGlhc2VzKCRlbmNvZGluZykKewpzd2l0Y2ggKHN0cnRvdXBwZXIoJGVuY29kaW5nKSkgewpjYXNlICdVVEY4JzoKY2FzZSAnVVRGLTgnOgpyZXR1cm4gYXJyYXkoJ3V0ZjgnKTsKfQoKcmV0dXJuIGZhbHNlOwp9CgpwdWJsaWMgc3RhdGljIGZ1bmN0aW9uIG1iX2NoZWNrX2VuY29kaW5nKCR2YXIgPSBudWxsLCAkZW5jb2RpbmcgPSBudWxsKQp7CmlmIChudWxsID09PSAkZW5jb2RpbmcpIHsKaWYgKG51bGwgPT09ICR2YXIpIHsKcmV0dXJuIGZhbHNlOwp9CiRlbmNvZGluZyA9IHNlbGY6OiRpbnRlcm5hbEVuY29kaW5nOwp9CgpyZXR1cm4gc2VsZjo6bWJfZGV0ZWN0X2VuY29kaW5nKCR2YXIsIGFycmF5KCRlbmNvZGluZykpIHx8IGZhbHNlICE9PSBAaWNvbnYoJGVuY29kaW5nLCAkZW5jb2RpbmcsICR2YXIpOwp9CgpwdWJsaWMgc3RhdGljIGZ1bmN0aW9uIG1iX2RldGVjdF9lbmNvZGluZygkc3RyLCAkZW5jb2RpbmdMaXN0ID0gbnVsbCwgJHN0cmljdCA9IGZhbHNlKQp7CmlmIChudWxsID09PSAkZW5jb2RpbmdMaXN0KSB7CiRlbmNvZGluZ0xpc3QgPSBzZWxmOjokZW5jb2RpbmdMaXN0Owp9IGVsc2UgewppZiAoIVxpc19hcnJheSgkZW5jb2RpbmdMaXN0KSkgewokZW5jb2RpbmdMaXN0ID0gYXJyYXlfbWFwKCd0cmltJywgZXhwbG9kZSgnLCcsICRlbmNvZGluZ0xpc3QpKTsKfQokZW5jb2RpbmdMaXN0ID0gYXJyYXlfbWFwKCdzdHJ0b3VwcGVyJywgJGVuY29kaW5nTGlzdCk7Cn0KCmZvcmVhY2ggKCRlbmNvZGluZ0xpc3QgYXMgJGVuYykgewpzd2l0Y2ggKCRlbmMpIHsKY2FzZSAnQVNDSUknOgppZiAoIXByZWdfbWF0Y2goJy9bXHg4MC1ceEZGXS8nLCAkc3RyKSkgewpyZXR1cm4gJGVuYzsKfQpicmVhazsKCmNhc2UgJ1VURjgnOgpjYXNlICdVVEYtOCc6CmlmIChwcmVnX21hdGNoKCcvL3UnLCAkc3RyKSkgewpyZXR1cm4gJ1VURi04JzsKfQpicmVhazsKCmRlZmF1bHQ6CmlmICgwID09PSBzdHJuY21wKCRlbmMsICdJU08tODg1OS0nLCA5KSkgewpyZXR1cm4gJGVuYzsKfQp9Cn0KCnJldHVybiBmYWxzZTsKfQoKcHVibGljIHN0YXRpYyBmdW5jdGlvbiBtYl9kZXRlY3Rfb3JkZXIoJGVuY29kaW5nTGlzdCA9IG51bGwpCnsKaWYgKG51bGwgPT09ICRlbmNvZGluZ0xpc3QpIHsKcmV0dXJuIHNlbGY6OiRlbmNvZGluZ0xpc3Q7Cn0KCmlmICghXGlzX2FycmF5KCRlbmNvZGluZ0xpc3QpKSB7CiRlbmNvZGluZ0xpc3QgPSBhcnJheV9tYXAoJ3RyaW0nLCBleHBsb2RlKCcsJywgJGVuY29kaW5nTGlzdCkpOwp9CiRlbmNvZGluZ0xpc3QgPSBhcnJheV9tYXAoJ3N0cnRvdXBwZXInLCAkZW5jb2RpbmdMaXN0KTsKCmZvcmVhY2ggKCRlbmNvZGluZ0xpc3QgYXMgJGVuYykgewpzd2l0Y2ggKCRlbmMpIHsKZGVmYXVsdDoKaWYgKHN0cm5jbXAoJGVuYywgJ0lTTy04ODU5LScsIDkpKSB7CnJldHVybiBmYWxzZTsKfQoKY2FzZSAnQVNDSUknOgpjYXNlICdVVEY4JzoKY2FzZSAnVVRGLTgnOgp9Cn0KCnNlbGY6OiRlbmNvZGluZ0xpc3QgPSAkZW5jb2RpbmdMaXN0OwoKcmV0dXJuIHRydWU7Cn0KCnB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gbWJfc3RybGVuKCRzLCAkZW5jb2RpbmcgPSBudWxsKQp7CiRlbmNvZGluZyA9IHNlbGY6OmdldEVuY29kaW5nKCRlbmNvZGluZyk7CmlmICgnQ1A4NTAnID09PSAkZW5jb2RpbmcgfHwgJ0FTQ0lJJyA9PT0gJGVuY29kaW5nKSB7CnJldHVybiBcc3RybGVuKCRzKTsKfQoKcmV0dXJuIEBpY29udl9zdHJsZW4oJHMsICRlbmNvZGluZyk7Cn0KCnB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gbWJfc3RycG9zKCRoYXlzdGFjaywgJG5lZWRsZSwgJG9mZnNldCA9IDAsICRlbmNvZGluZyA9IG51bGwpCnsKJGVuY29kaW5nID0gc2VsZjo6Z2V0RW5jb2RpbmcoJGVuY29kaW5nKTsKaWYgKCdDUDg1MCcgPT09ICRlbmNvZGluZyB8fCAnQVNDSUknID09PSAkZW5jb2RpbmcpIHsKcmV0dXJuIHN0cnBvcygkaGF5c3RhY2ssICRuZWVkbGUsICRvZmZzZXQpOwp9CgokbmVlZGxlID0gKHN0cmluZykgJG5lZWRsZTsKaWYgKCcnID09PSAkbmVlZGxlKSB7CnRyaWdnZXJfZXJyb3IoX19NRVRIT0RfXy4nOiBFbXB0eSBkZWxpbWl0ZXInLCBFX1VTRVJfV0FSTklORyk7CgpyZXR1cm4gZmFsc2U7Cn0KCnJldHVybiBpY29udl9zdHJwb3MoJGhheXN0YWNrLCAkbmVlZGxlLCAkb2Zmc2V0LCAkZW5jb2RpbmcpOwp9CgpwdWJsaWMgc3RhdGljIGZ1bmN0aW9uIG1iX3N0cnJwb3MoJGhheXN0YWNrLCAkbmVlZGxlLCAkb2Zmc2V0ID0gMCwgJGVuY29kaW5nID0gbnVsbCkKewokZW5jb2RpbmcgPSBzZWxmOjpnZXRFbmNvZGluZygkZW5jb2RpbmcpOwppZiAoJ0NQODUwJyA9PT0gJGVuY29kaW5nIHx8ICdBU0NJSScgPT09ICRlbmNvZGluZykgewpyZXR1cm4gc3RycnBvcygkaGF5c3RhY2ssICRuZWVkbGUsICRvZmZzZXQpOwp9CgppZiAoJG9mZnNldCAhPSAoaW50KSAkb2Zmc2V0KSB7CiRvZmZzZXQgPSAwOwp9IGVsc2VpZiAoJG9mZnNldCA9IChpbnQpICRvZmZzZXQpIHsKaWYgKCRvZmZzZXQgPCAwKSB7CmlmICgwID4gJG9mZnNldCArPSBzZWxmOjptYl9zdHJsZW4oJG5lZWRsZSkpIHsKJGhheXN0YWNrID0gc2VsZjo6bWJfc3Vic3RyKCRoYXlzdGFjaywgMCwgJG9mZnNldCwgJGVuY29kaW5nKTsKfQokb2Zmc2V0ID0gMDsKfSBlbHNlIHsKJGhheXN0YWNrID0gc2VsZjo6bWJfc3Vic3RyKCRoYXlzdGFjaywgJG9mZnNldCwgMjE0NzQ4MzY0NywgJGVuY29kaW5nKTsKfQp9CgokcG9zID0gaWNvbnZfc3RycnBvcygkaGF5c3RhY2ssICRuZWVkbGUsICRlbmNvZGluZyk7CgpyZXR1cm4gZmFsc2UgIT09ICRwb3MgPyAkb2Zmc2V0ICsgJHBvcyA6IGZhbHNlOwp9CgpwdWJsaWMgc3RhdGljIGZ1bmN0aW9uIG1iX3N0cl9zcGxpdCgkc3RyaW5nLCAkc3BsaXRfbGVuZ3RoID0gMSwgJGVuY29kaW5nID0gbnVsbCkKewppZiAobnVsbCAhPT0gJHN0cmluZyAmJiAhXGlzX3NjYWxhcigkc3RyaW5nKSAmJiAhKFxpc19vYmplY3QoJHN0cmluZykgJiYgXG1ldGhvZF9leGlzdHMoJHN0cmluZywgJ19fdG9TdHJpbmcnKSkpIHsKdHJpZ2dlcl9lcnJvcignbWJfc3RyX3NwbGl0KCkgZXhwZWN0cyBwYXJhbWV0ZXIgMSB0byBiZSBzdHJpbmcsICcuXGdldHR5cGUoJHN0cmluZykuJyBnaXZlbicsIEVfVVNFUl9XQVJOSU5HKTsKCnJldHVybiBudWxsOwp9CgppZiAoMSA+ICRzcGxpdF9sZW5ndGggPSAoaW50KSAkc3BsaXRfbGVuZ3RoKSB7CnRyaWdnZXJfZXJyb3IoJ1RoZSBsZW5ndGggb2YgZWFjaCBzZWdtZW50IG11c3QgYmUgZ3JlYXRlciB0aGFuIHplcm8nLCBFX1VTRVJfV0FSTklORyk7CgpyZXR1cm4gZmFsc2U7Cn0KCmlmIChudWxsID09PSAkZW5jb2RpbmcpIHsKJGVuY29kaW5nID0gbWJfaW50ZXJuYWxfZW5jb2RpbmcoKTsKfQoKaWYgKCdVVEYtOCcgPT09ICRlbmNvZGluZyA9IHNlbGY6OmdldEVuY29kaW5nKCRlbmNvZGluZykpIHsKJHJ4ID0gJy8oJzsKd2hpbGUgKDY1NTM1IDwgJHNwbGl0X2xlbmd0aCkgewokcnggLj0gJy57NjU1MzV9JzsKJHNwbGl0X2xlbmd0aCAtPSA2NTUzNTsKfQokcnggLj0gJy57Jy4kc3BsaXRfbGVuZ3RoLid9KS91cyc7CgpyZXR1cm4gcHJlZ19zcGxpdCgkcngsICRzdHJpbmcsIG51bGwsIFBSRUdfU1BMSVRfREVMSU1fQ0FQVFVSRSB8IFBSRUdfU1BMSVRfTk9fRU1QVFkpOwp9CgokcmVzdWx0ID0gYXJyYXkoKTsKJGxlbmd0aCA9IG1iX3N0cmxlbigkc3RyaW5nLCAkZW5jb2RpbmcpOwoKZm9yICgkaSA9IDA7ICRpIDwgJGxlbmd0aDsgJGkgKz0gJHNwbGl0X2xlbmd0aCkgewokcmVzdWx0W10gPSBtYl9zdWJzdHIoJHN0cmluZywgJGksICRzcGxpdF9sZW5ndGgsICRlbmNvZGluZyk7Cn0KCnJldHVybiAkcmVzdWx0Owp9CgpwdWJsaWMgc3RhdGljIGZ1bmN0aW9uIG1iX3N0cnRvbG93ZXIoJHMsICRlbmNvZGluZyA9IG51bGwpCnsKcmV0dXJuIHNlbGY6Om1iX2NvbnZlcnRfY2FzZSgkcywgTUJfQ0FTRV9MT1dFUiwgJGVuY29kaW5nKTsKfQoKcHVibGljIHN0YXRpYyBmdW5jdGlvbiBtYl9zdHJ0b3VwcGVyKCRzLCAkZW5jb2RpbmcgPSBudWxsKQp7CnJldHVybiBzZWxmOjptYl9jb252ZXJ0X2Nhc2UoJHMsIE1CX0NBU0VfVVBQRVIsICRlbmNvZGluZyk7Cn0KCnB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gbWJfc3Vic3RpdHV0ZV9jaGFyYWN0ZXIoJGMgPSBudWxsKQp7CmlmICgwID09PSBzdHJjYXNlY21wKCRjLCAnbm9uZScpKSB7CnJldHVybiB0cnVlOwp9CgpyZXR1cm4gbnVsbCAhPT0gJGMgPyBmYWxzZSA6ICdub25lJzsKfQoKcHVibGljIHN0YXRpYyBmdW5jdGlvbiBtYl9zdWJzdHIoJHMsICRzdGFydCwgJGxlbmd0aCA9IG51bGwsICRlbmNvZGluZyA9IG51bGwpCnsKJGVuY29kaW5nID0gc2VsZjo6Z2V0RW5jb2RpbmcoJGVuY29kaW5nKTsKaWYgKCdDUDg1MCcgPT09ICRlbmNvZGluZyB8fCAnQVNDSUknID09PSAkZW5jb2RpbmcpIHsKcmV0dXJuIChzdHJpbmcpIHN1YnN0cigkcywgJHN0YXJ0LCBudWxsID09PSAkbGVuZ3RoID8gMjE0NzQ4MzY0NyA6ICRsZW5ndGgpOwp9CgppZiAoJHN0YXJ0IDwgMCkgewokc3RhcnQgPSBpY29udl9zdHJsZW4oJHMsICRlbmNvZGluZykgKyAkc3RhcnQ7CmlmICgkc3RhcnQgPCAwKSB7CiRzdGFydCA9IDA7Cn0KfQoKaWYgKG51bGwgPT09ICRsZW5ndGgpIHsKJGxlbmd0aCA9IDIxNDc0ODM2NDc7Cn0gZWxzZWlmICgkbGVuZ3RoIDwgMCkgewokbGVuZ3RoID0gaWNvbnZfc3RybGVuKCRzLCAkZW5jb2RpbmcpICsgJGxlbmd0aCAtICRzdGFydDsKaWYgKCRsZW5ndGggPCAwKSB7CnJldHVybiAnJzsKfQp9CgpyZXR1cm4gKHN0cmluZykgaWNvbnZfc3Vic3RyKCRzLCAkc3RhcnQsICRsZW5ndGgsICRlbmNvZGluZyk7Cn0KCnB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gbWJfc3RyaXBvcygkaGF5c3RhY2ssICRuZWVkbGUsICRvZmZzZXQgPSAwLCAkZW5jb2RpbmcgPSBudWxsKQp7CiRoYXlzdGFjayA9IHNlbGY6Om1iX2NvbnZlcnRfY2FzZSgkaGF5c3RhY2ssIHNlbGY6Ok1CX0NBU0VfRk9MRCwgJGVuY29kaW5nKTsKJG5lZWRsZSA9IHNlbGY6Om1iX2NvbnZlcnRfY2FzZSgkbmVlZGxlLCBzZWxmOjpNQl9DQVNFX0ZPTEQsICRlbmNvZGluZyk7CgpyZXR1cm4gc2VsZjo6bWJfc3RycG9zKCRoYXlzdGFjaywgJG5lZWRsZSwgJG9mZnNldCwgJGVuY29kaW5nKTsKfQoKcHVibGljIHN0YXRpYyBmdW5jdGlvbiBtYl9zdHJpc3RyKCRoYXlzdGFjaywgJG5lZWRsZSwgJHBhcnQgPSBmYWxzZSwgJGVuY29kaW5nID0gbnVsbCkKewokcG9zID0gc2VsZjo6bWJfc3RyaXBvcygkaGF5c3RhY2ssICRuZWVkbGUsIDAsICRlbmNvZGluZyk7CgpyZXR1cm4gc2VsZjo6Z2V0U3VicGFydCgkcG9zLCAkcGFydCwgJGhheXN0YWNrLCAkZW5jb2RpbmcpOwp9CgpwdWJsaWMgc3RhdGljIGZ1bmN0aW9uIG1iX3N0cnJjaHIoJGhheXN0YWNrLCAkbmVlZGxlLCAkcGFydCA9IGZhbHNlLCAkZW5jb2RpbmcgPSBudWxsKQp7CiRlbmNvZGluZyA9IHNlbGY6OmdldEVuY29kaW5nKCRlbmNvZGluZyk7CmlmICgnQ1A4NTAnID09PSAkZW5jb2RpbmcgfHwgJ0FTQ0lJJyA9PT0gJGVuY29kaW5nKSB7CiRwb3MgPSBzdHJycG9zKCRoYXlzdGFjaywgJG5lZWRsZSk7Cn0gZWxzZSB7CiRuZWVkbGUgPSBzZWxmOjptYl9zdWJzdHIoJG5lZWRsZSwgMCwgMSwgJGVuY29kaW5nKTsKJHBvcyA9IGljb252X3N0cnJwb3MoJGhheXN0YWNrLCAkbmVlZGxlLCAkZW5jb2RpbmcpOwp9CgpyZXR1cm4gc2VsZjo6Z2V0U3VicGFydCgkcG9zLCAkcGFydCwgJGhheXN0YWNrLCAkZW5jb2RpbmcpOwp9CgpwdWJsaWMgc3RhdGljIGZ1bmN0aW9uIG1iX3N0cnJpY2hyKCRoYXlzdGFjaywgJG5lZWRsZSwgJHBhcnQgPSBmYWxzZSwgJGVuY29kaW5nID0gbnVsbCkKewokbmVlZGxlID0gc2VsZjo6bWJfc3Vic3RyKCRuZWVkbGUsIDAsIDEsICRlbmNvZGluZyk7CiRwb3MgPSBzZWxmOjptYl9zdHJyaXBvcygkaGF5c3RhY2ssICRuZWVkbGUsICRlbmNvZGluZyk7CgpyZXR1cm4gc2VsZjo6Z2V0U3VicGFydCgkcG9zLCAkcGFydCwgJGhheXN0YWNrLCAkZW5jb2RpbmcpOwp9CgpwdWJsaWMgc3RhdGljIGZ1bmN0aW9uIG1iX3N0cnJpcG9zKCRoYXlzdGFjaywgJG5lZWRsZSwgJG9mZnNldCA9IDAsICRlbmNvZGluZyA9IG51bGwpCnsKJGhheXN0YWNrID0gc2VsZjo6bWJfY29udmVydF9jYXNlKCRoYXlzdGFjaywgc2VsZjo6TUJfQ0FTRV9GT0xELCAkZW5jb2RpbmcpOwokbmVlZGxlID0gc2VsZjo6bWJfY29udmVydF9jYXNlKCRuZWVkbGUsIHNlbGY6Ok1CX0NBU0VfRk9MRCwgJGVuY29kaW5nKTsKCnJldHVybiBzZWxmOjptYl9zdHJycG9zKCRoYXlzdGFjaywgJG5lZWRsZSwgJG9mZnNldCwgJGVuY29kaW5nKTsKfQoKcHVibGljIHN0YXRpYyBmdW5jdGlvbiBtYl9zdHJzdHIoJGhheXN0YWNrLCAkbmVlZGxlLCAkcGFydCA9IGZhbHNlLCAkZW5jb2RpbmcgPSBudWxsKQp7CiRwb3MgPSBzdHJwb3MoJGhheXN0YWNrLCAkbmVlZGxlKTsKaWYgKGZhbHNlID09PSAkcG9zKSB7CnJldHVybiBmYWxzZTsKfQppZiAoJHBhcnQpIHsKcmV0dXJuIHN1YnN0cigkaGF5c3RhY2ssIDAsICRwb3MpOwp9CgpyZXR1cm4gc3Vic3RyKCRoYXlzdGFjaywgJHBvcyk7Cn0KCnB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gbWJfZ2V0X2luZm8oJHR5cGUgPSAnYWxsJykKewokaW5mbyA9IGFycmF5KAonaW50ZXJuYWxfZW5jb2RpbmcnID0+IHNlbGY6OiRpbnRlcm5hbEVuY29kaW5nLAonaHR0cF9vdXRwdXQnID0+ICdwYXNzJywKJ2h0dHBfb3V0cHV0X2NvbnZfbWltZXR5cGVzJyA9PiAnXih0ZXh0L3xhcHBsaWNhdGlvbi94aHRtbFwreG1sKScsCidmdW5jX292ZXJsb2FkJyA9PiAwLAonZnVuY19vdmVybG9hZF9saXN0JyA9PiAnbm8gb3ZlcmxvYWQnLAonbWFpbF9jaGFyc2V0JyA9PiAnVVRGLTgnLAonbWFpbF9oZWFkZXJfZW5jb2RpbmcnID0+ICdCQVNFNjQnLAonbWFpbF9ib2R5X2VuY29kaW5nJyA9PiAnQkFTRTY0JywKJ2lsbGVnYWxfY2hhcnMnID0+IDAsCidlbmNvZGluZ190cmFuc2xhdGlvbicgPT4gJ09mZicsCidsYW5ndWFnZScgPT4gc2VsZjo6JGxhbmd1YWdlLAonZGV0ZWN0X29yZGVyJyA9PiBzZWxmOjokZW5jb2RpbmdMaXN0LAonc3Vic3RpdHV0ZV9jaGFyYWN0ZXInID0+ICdub25lJywKJ3N0cmljdF9kZXRlY3Rpb24nID0+ICdPZmYnLAopOwoKaWYgKCdhbGwnID09PSAkdHlwZSkgewpyZXR1cm4gJGluZm87Cn0KaWYgKGlzc2V0KCRpbmZvWyR0eXBlXSkpIHsKcmV0dXJuICRpbmZvWyR0eXBlXTsKfQoKcmV0dXJuIGZhbHNlOwp9CgpwdWJsaWMgc3RhdGljIGZ1bmN0aW9uIG1iX2h0dHBfaW5wdXQoJHR5cGUgPSAnJykKewpyZXR1cm4gZmFsc2U7Cn0KCnB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gbWJfaHR0cF9vdXRwdXQoJGVuY29kaW5nID0gbnVsbCkKewpyZXR1cm4gbnVsbCAhPT0gJGVuY29kaW5nID8gJ3Bhc3MnID09PSAkZW5jb2RpbmcgOiAncGFzcyc7Cn0KCnB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gbWJfc3Ryd2lkdGgoJHMsICRlbmNvZGluZyA9IG51bGwpCnsKJGVuY29kaW5nID0gc2VsZjo6Z2V0RW5jb2RpbmcoJGVuY29kaW5nKTsKCmlmICgnVVRGLTgnICE9PSAkZW5jb2RpbmcpIHsKJHMgPSBpY29udigkZW5jb2RpbmcsICdVVEYtOC8vSUdOT1JFJywgJHMpOwp9CgokcyA9IHByZWdfcmVwbGFjZSgnL1tceHsxMTAwfS1ceHsxMTVGfVx4ezIzMjl9XHh7MjMyQX1ceHsyRTgwfS1ceHszMDNFfVx4ezMwNDB9LVx4e0E0Q0Z9XHh7QUMwMH0tXHh7RDdBM31ceHtGOTAwfS1ceHtGQUZGfVx4e0ZFMTB9LVx4e0ZFMTl9XHh7RkUzMH0tXHh7RkU2Rn1ceHtGRjAwfS1ceHtGRjYwfVx4e0ZGRTB9LVx4e0ZGRTZ9XHh7MjAwMDB9LVx4ezJGRkZEfVx4ezMwMDAwfS1ceHszRkZGRH1dL3UnLCAnJywgJHMsIC0xLCAkd2lkZSk7CgpyZXR1cm4gKCR3aWRlIDw8IDEpICsgaWNvbnZfc3RybGVuKCRzLCAnVVRGLTgnKTsKfQoKcHVibGljIHN0YXRpYyBmdW5jdGlvbiBtYl9zdWJzdHJfY291bnQoJGhheXN0YWNrLCAkbmVlZGxlLCAkZW5jb2RpbmcgPSBudWxsKQp7CnJldHVybiBzdWJzdHJfY291bnQoJGhheXN0YWNrLCAkbmVlZGxlKTsKfQoKcHVibGljIHN0YXRpYyBmdW5jdGlvbiBtYl9vdXRwdXRfaGFuZGxlcigkY29udGVudHMsICRzdGF0dXMpCnsKcmV0dXJuICRjb250ZW50czsKfQoKcHVibGljIHN0YXRpYyBmdW5jdGlvbiBtYl9jaHIoJGNvZGUsICRlbmNvZGluZyA9IG51bGwpCnsKaWYgKDB4ODAgPiAkY29kZSAlPSAweDIwMDAwMCkgewokcyA9IFxjaHIoJGNvZGUpOwp9IGVsc2VpZiAoMHg4MDAgPiAkY29kZSkgewokcyA9IFxjaHIoMHhDMCB8ICRjb2RlID4+IDYpLlxjaHIoMHg4MCB8ICRjb2RlICYgMHgzRik7Cn0gZWxzZWlmICgweDEwMDAwID4gJGNvZGUpIHsKJHMgPSBcY2hyKDB4RTAgfCAkY29kZSA+PiAxMikuXGNocigweDgwIHwgJGNvZGUgPj4gNiAmIDB4M0YpLlxjaHIoMHg4MCB8ICRjb2RlICYgMHgzRik7Cn0gZWxzZSB7CiRzID0gXGNocigweEYwIHwgJGNvZGUgPj4gMTgpLlxjaHIoMHg4MCB8ICRjb2RlID4+IDEyICYgMHgzRikuXGNocigweDgwIHwgJGNvZGUgPj4gNiAmIDB4M0YpLlxjaHIoMHg4MCB8ICRjb2RlICYgMHgzRik7Cn0KCmlmICgnVVRGLTgnICE9PSAkZW5jb2RpbmcgPSBzZWxmOjpnZXRFbmNvZGluZygkZW5jb2RpbmcpKSB7CiRzID0gbWJfY29udmVydF9lbmNvZGluZygkcywgJGVuY29kaW5nLCAnVVRGLTgnKTsKfQoKcmV0dXJuICRzOwp9CgpwdWJsaWMgc3RhdGljIGZ1bmN0aW9uIG1iX29yZCgkcywgJGVuY29kaW5nID0gbnVsbCkKewppZiAoJ1VURi04JyAhPT0gJGVuY29kaW5nID0gc2VsZjo6Z2V0RW5jb2RpbmcoJGVuY29kaW5nKSkgewokcyA9IG1iX2NvbnZlcnRfZW5jb2RpbmcoJHMsICdVVEYtOCcsICRlbmNvZGluZyk7Cn0KCmlmICgxID09PSBcc3RybGVuKCRzKSkgewpyZXR1cm4gXG9yZCgkcyk7Cn0KCiRjb2RlID0gKCRzID0gdW5wYWNrKCdDKicsIHN1YnN0cigkcywgMCwgNCkpKSA/ICRzWzFdIDogMDsKaWYgKDB4RjAgPD0gJGNvZGUpIHsKcmV0dXJuICgoJGNvZGUgLSAweEYwKSA8PCAxOCkgKyAoKCRzWzJdIC0gMHg4MCkgPDwgMTIpICsgKCgkc1szXSAtIDB4ODApIDw8IDYpICsgJHNbNF0gLSAweDgwOwp9CmlmICgweEUwIDw9ICRjb2RlKSB7CnJldHVybiAoKCRjb2RlIC0gMHhFMCkgPDwgMTIpICsgKCgkc1syXSAtIDB4ODApIDw8IDYpICsgJHNbM10gLSAweDgwOwp9CmlmICgweEMwIDw9ICRjb2RlKSB7CnJldHVybiAoKCRjb2RlIC0gMHhDMCkgPDwgNikgKyAkc1syXSAtIDB4ODA7Cn0KCnJldHVybiAkY29kZTsKfQoKcHJpdmF0ZSBzdGF0aWMgZnVuY3Rpb24gZ2V0U3VicGFydCgkcG9zLCAkcGFydCwgJGhheXN0YWNrLCAkZW5jb2RpbmcpCnsKaWYgKGZhbHNlID09PSAkcG9zKSB7CnJldHVybiBmYWxzZTsKfQppZiAoJHBhcnQpIHsKcmV0dXJuIHNlbGY6Om1iX3N1YnN0cigkaGF5c3RhY2ssIDAsICRwb3MsICRlbmNvZGluZyk7Cn0KCnJldHVybiBzZWxmOjptYl9zdWJzdHIoJGhheXN0YWNrLCAkcG9zLCBudWxsLCAkZW5jb2RpbmcpOwp9Cgpwcml2YXRlIHN0YXRpYyBmdW5jdGlvbiBodG1sX2VuY29kaW5nX2NhbGxiYWNrKGFycmF5ICRtKQp7CiRpID0gMTsKJGVudGl0aWVzID0gJyc7CiRtID0gdW5wYWNrKCdDKicsIGh0bWxlbnRpdGllcygkbVswXSwgRU5UX0NPTVBBVCwgJ1VURi04JykpOwoKd2hpbGUgKGlzc2V0KCRtWyRpXSkpIHsKaWYgKDB4ODAgPiAkbVskaV0pIHsKJGVudGl0aWVzIC49IFxjaHIoJG1bJGkrK10pOwpjb250aW51ZTsKfQppZiAoMHhGMCA8PSAkbVskaV0pIHsKJGMgPSAoKCRtWyRpKytdIC0gMHhGMCkgPDwgMTgpICsgKCgkbVskaSsrXSAtIDB4ODApIDw8IDEyKSArICgoJG1bJGkrK10gLSAweDgwKSA8PCA2KSArICRtWyRpKytdIC0gMHg4MDsKfSBlbHNlaWYgKDB4RTAgPD0gJG1bJGldKSB7CiRjID0gKCgkbVskaSsrXSAtIDB4RTApIDw8IDEyKSArICgoJG1bJGkrK10gLSAweDgwKSA8PCA2KSArICRtWyRpKytdIC0gMHg4MDsKfSBlbHNlIHsKJGMgPSAoKCRtWyRpKytdIC0gMHhDMCkgPDwgNikgKyAkbVskaSsrXSAtIDB4ODA7Cn0KCiRlbnRpdGllcyAuPSAnJiMnLiRjLic7JzsKfQoKcmV0dXJuICRlbnRpdGllczsKfQoKcHJpdmF0ZSBzdGF0aWMgZnVuY3Rpb24gdGl0bGVfY2FzZShhcnJheSAkcykKewpyZXR1cm4gc2VsZjo6bWJfY29udmVydF9jYXNlKCRzWzFdLCBNQl9DQVNFX1VQUEVSLCAnVVRGLTgnKS5zZWxmOjptYl9jb252ZXJ0X2Nhc2UoJHNbMl0sIE1CX0NBU0VfTE9XRVIsICdVVEYtOCcpOwp9Cgpwcml2YXRlIHN0YXRpYyBmdW5jdGlvbiBnZXREYXRhKCRmaWxlKQp7CmlmIChmaWxlX2V4aXN0cygkZmlsZSA9IF9fRElSX18uJy9SZXNvdXJjZXMvdW5pZGF0YS8nLiRmaWxlLicucGhwJykpIHsKcmV0dXJuIHJlcXVpcmUgJGZpbGU7Cn0KCnJldHVybiBmYWxzZTsKfQoKcHJpdmF0ZSBzdGF0aWMgZnVuY3Rpb24gZ2V0RW5jb2RpbmcoJGVuY29kaW5nKQp7CmlmIChudWxsID09PSAkZW5jb2RpbmcpIHsKcmV0dXJuIHNlbGY6OiRpbnRlcm5hbEVuY29kaW5nOwp9CgppZiAoJ1VURi04JyA9PT0gJGVuY29kaW5nKSB7CnJldHVybiAnVVRGLTgnOwp9CgokZW5jb2RpbmcgPSBzdHJ0b3VwcGVyKCRlbmNvZGluZyk7CgppZiAoJzhCSVQnID09PSAkZW5jb2RpbmcgfHwgJ0JJTkFSWScgPT09ICRlbmNvZGluZykgewpyZXR1cm4gJ0NQODUwJzsKfQoKaWYgKCdVVEY4JyA9PT0gJGVuY29kaW5nKSB7CnJldHVybiAnVVRGLTgnOwp9CgpyZXR1cm4gJGVuY29kaW5nOwp9Cn0KPD9waHAKCgoKCgoKCgoKCnVzZSBTeW1mb255XFBvbHlmaWxsXE1ic3RyaW5nIGFzIHA7CgppZiAoIWZ1bmN0aW9uX2V4aXN0cygnbWJfY29udmVydF92YXJpYWJsZXMnKSkgewoKCgpmdW5jdGlvbiBtYl9jb252ZXJ0X3ZhcmlhYmxlcygkdG9fZW5jb2RpbmcsICRmcm9tX2VuY29kaW5nLCAmJHZhciwgJi4uLiR2YXJzKQp7CiR2YXJzID0gWyYkdmFyLCAuLi4kdmFyc107Cgokb2sgPSB0cnVlOwphcnJheV93YWxrX3JlY3Vyc2l2ZSgkdmFycywgZnVuY3Rpb24gKCYkdikgdXNlICgmJG9rLCAkdG9fZW5jb2RpbmcsICRmcm9tX2VuY29kaW5nKSB7CmlmIChmYWxzZSA9PT0gJHYgPSBwXE1ic3RyaW5nOjptYl9jb252ZXJ0X2VuY29kaW5nKCR2LCAkdG9fZW5jb2RpbmcsICRmcm9tX2VuY29kaW5nKSkgewokb2sgPSBmYWxzZTsKfQp9KTsKCnJldHVybiAkb2sgPyAkZnJvbV9lbmNvZGluZyA6IGZhbHNlOwp9Cn0KPD9waHAKCnJldHVybiBhcnJheSAoCidBJyA9PiAnYScsCidCJyA9PiAnYicsCidDJyA9PiAnYycsCidEJyA9PiAnZCcsCidFJyA9PiAnZScsCidGJyA9PiAnZicsCidHJyA9PiAnZycsCidIJyA9PiAnaCcsCidJJyA9PiAnaScsCidKJyA9PiAnaicsCidLJyA9PiAnaycsCidMJyA9PiAnbCcsCidNJyA9PiAnbScsCidOJyA9PiAnbicsCidPJyA9PiAnbycsCidQJyA9PiAncCcsCidRJyA9PiAncScsCidSJyA9PiAncicsCidTJyA9PiAncycsCidUJyA9PiAndCcsCidVJyA9PiAndScsCidWJyA9PiAndicsCidXJyA9PiAndycsCidYJyA9PiAneCcsCidZJyA9PiAneScsCidaJyA9PiAneicsCifDgCcgPT4gJ8OgJywKJ8OBJyA9PiAnw6EnLAonw4InID0+ICfDoicsCifDgycgPT4gJ8OjJywKJ8OEJyA9PiAnw6QnLAonw4UnID0+ICfDpScsCifDhicgPT4gJ8OmJywKJ8OHJyA9PiAnw6cnLAonw4gnID0+ICfDqCcsCifDiScgPT4gJ8OpJywKJ8OKJyA9PiAnw6onLAonw4snID0+ICfDqycsCifDjCcgPT4gJ8OsJywKJ8ONJyA9PiAnw60nLAonw44nID0+ICfDricsCifDjycgPT4gJ8OvJywKJ8OQJyA9PiAnw7AnLAonw5EnID0+ICfDsScsCifDkicgPT4gJ8OyJywKJ8OTJyA9PiAnw7MnLAonw5QnID0+ICfDtCcsCifDlScgPT4gJ8O1JywKJ8OWJyA9PiAnw7YnLAonw5gnID0+ICfDuCcsCifDmScgPT4gJ8O5JywKJ8OaJyA9PiAnw7onLAonw5snID0+ICfDuycsCifDnCcgPT4gJ8O8JywKJ8OdJyA9PiAnw70nLAonw54nID0+ICfDvicsCifEgCcgPT4gJ8SBJywKJ8SCJyA9PiAnxIMnLAonxIQnID0+ICfEhScsCifEhicgPT4gJ8SHJywKJ8SIJyA9PiAnxIknLAonxIonID0+ICfEiycsCifEjCcgPT4gJ8SNJywKJ8SOJyA9PiAnxI8nLAonxJAnID0+ICfEkScsCifEkicgPT4gJ8STJywKJ8SUJyA9PiAnxJUnLAonxJYnID0+ICfElycsCifEmCcgPT4gJ8SZJywKJ8SaJyA9PiAnxJsnLAonxJwnID0+ICfEnScsCifEnicgPT4gJ8SfJywKJ8SgJyA9PiAnxKEnLAonxKInID0+ICfEoycsCifEpCcgPT4gJ8SlJywKJ8SmJyA9PiAnxKcnLAonxKgnID0+ICfEqScsCifEqicgPT4gJ8SrJywKJ8SsJyA9PiAnxK0nLAonxK4nID0+ICfErycsCifEsCcgPT4gJ2knLAonxLInID0+ICfEsycsCifEtCcgPT4gJ8S1JywKJ8S2JyA9PiAnxLcnLAonxLknID0+ICfEuicsCifEuycgPT4gJ8S8JywKJ8S9JyA9PiAnxL4nLAonxL8nID0+ICfFgCcsCifFgScgPT4gJ8WCJywKJ8WDJyA9PiAnxYQnLAonxYUnID0+ICfFhicsCifFhycgPT4gJ8WIJywKJ8WKJyA9PiAnxYsnLAonxYwnID0+ICfFjScsCifFjicgPT4gJ8WPJywKJ8WQJyA9PiAnxZEnLAonxZInID0+ICfFkycsCifFlCcgPT4gJ8WVJywKJ8WWJyA9PiAnxZcnLAonxZgnID0+ICfFmScsCifFmicgPT4gJ8WbJywKJ8WcJyA9PiAnxZ0nLAonxZ4nID0+ICfFnycsCifFoCcgPT4gJ8WhJywKJ8WiJyA9PiAnxaMnLAonxaQnID0+ICfFpScsCifFpicgPT4gJ8WnJywKJ8WoJyA9PiAnxaknLAonxaonID0+ICfFqycsCifFrCcgPT4gJ8WtJywKJ8WuJyA9PiAnxa8nLAonxbAnID0+ICfFsScsCifFsicgPT4gJ8WzJywKJ8W0JyA9PiAnxbUnLAonxbYnID0+ICfFtycsCifFuCcgPT4gJ8O/JywKJ8W5JyA9PiAnxbonLAonxbsnID0+ICfFvCcsCifFvScgPT4gJ8W+JywKJ8aBJyA9PiAnyZMnLAonxoInID0+ICfGgycsCifGhCcgPT4gJ8aFJywKJ8aGJyA9PiAnyZQnLAonxocnID0+ICfGiCcsCifGiScgPT4gJ8mWJywKJ8aKJyA9PiAnyZcnLAonxosnID0+ICfGjCcsCifGjicgPT4gJ8edJywKJ8aPJyA9PiAnyZknLAonxpAnID0+ICfJmycsCifGkScgPT4gJ8aSJywKJ8aTJyA9PiAnyaAnLAonxpQnID0+ICfJoycsCifGlicgPT4gJ8mpJywKJ8aXJyA9PiAnyagnLAonxpgnID0+ICfGmScsCifGnCcgPT4gJ8mvJywKJ8adJyA9PiAnybInLAonxp8nID0+ICfJtScsCifGoCcgPT4gJ8ahJywKJ8aiJyA9PiAnxqMnLAonxqQnID0+ICfGpScsCifGpicgPT4gJ8qAJywKJ8anJyA9PiAnxqgnLAonxqknID0+ICfKgycsCifGrCcgPT4gJ8atJywKJ8auJyA9PiAnyognLAonxq8nID0+ICfGsCcsCifGsScgPT4gJ8qKJywKJ8ayJyA9PiAnyosnLAonxrMnID0+ICfGtCcsCifGtScgPT4gJ8a2JywKJ8a3JyA9PiAnypInLAonxrgnID0+ICfGuScsCifGvCcgPT4gJ8a9JywKJ8eEJyA9PiAnx4YnLAonx4UnID0+ICfHhicsCifHhycgPT4gJ8eJJywKJ8eIJyA9PiAnx4knLAonx4onID0+ICfHjCcsCifHiycgPT4gJ8eMJywKJ8eNJyA9PiAnx44nLAonx48nID0+ICfHkCcsCifHkScgPT4gJ8eSJywKJ8eTJyA9PiAnx5QnLAonx5UnID0+ICfHlicsCifHlycgPT4gJ8eYJywKJ8eZJyA9PiAnx5onLAonx5snID0+ICfHnCcsCifHnicgPT4gJ8efJywKJ8egJyA9PiAnx6EnLAonx6InID0+ICfHoycsCifHpCcgPT4gJ8elJywKJ8emJyA9PiAnx6cnLAonx6gnID0+ICfHqScsCifHqicgPT4gJ8erJywKJ8esJyA9PiAnx60nLAonx64nID0+ICfHrycsCifHsScgPT4gJ8ezJywKJ8eyJyA9PiAnx7MnLAonx7QnID0+ICfHtScsCifHticgPT4gJ8aVJywKJ8e3JyA9PiAnxr8nLAonx7gnID0+ICfHuScsCifHuicgPT4gJ8e7JywKJ8e8JyA9PiAnx70nLAonx74nID0+ICfHvycsCifIgCcgPT4gJ8iBJywKJ8iCJyA9PiAnyIMnLAonyIQnID0+ICfIhScsCifIhicgPT4gJ8iHJywKJ8iIJyA9PiAnyIknLAonyIonID0+ICfIiycsCifIjCcgPT4gJ8iNJywKJ8iOJyA9PiAnyI8nLAonyJAnID0+ICfIkScsCifIkicgPT4gJ8iTJywKJ8iUJyA9PiAnyJUnLAonyJYnID0+ICfIlycsCifImCcgPT4gJ8iZJywKJ8iaJyA9PiAnyJsnLAonyJwnID0+ICfInScsCifInicgPT4gJ8ifJywKJ8igJyA9PiAnxp4nLAonyKInID0+ICfIoycsCifIpCcgPT4gJ8ilJywKJ8imJyA9PiAnyKcnLAonyKgnID0+ICfIqScsCifIqicgPT4gJ8irJywKJ8isJyA9PiAnyK0nLAonyK4nID0+ICfIrycsCifIsCcgPT4gJ8ixJywKJ8iyJyA9PiAnyLMnLAonyLonID0+ICfisaUnLAonyLsnID0+ICfIvCcsCifIvScgPT4gJ8aaJywKJ8i+JyA9PiAn4rGmJywKJ8mBJyA9PiAnyYInLAonyYMnID0+ICfGgCcsCifJhCcgPT4gJ8qJJywKJ8mFJyA9PiAnyownLAonyYYnID0+ICfJhycsCifJiCcgPT4gJ8mJJywKJ8mKJyA9PiAnyYsnLAonyYwnID0+ICfJjScsCifJjicgPT4gJ8mPJywKJ82wJyA9PiAnzbEnLAonzbInID0+ICfNsycsCifNticgPT4gJ823JywKJ82/JyA9PiAnz7MnLAonzoYnID0+ICfOrCcsCifOiCcgPT4gJ86tJywKJ86JJyA9PiAnzq4nLAonzoonID0+ICfOrycsCifOjCcgPT4gJ8+MJywKJ86OJyA9PiAnz40nLAonzo8nID0+ICfPjicsCifOkScgPT4gJ86xJywKJ86SJyA9PiAnzrInLAonzpMnID0+ICfOsycsCifOlCcgPT4gJ860JywKJ86VJyA9PiAnzrUnLAonzpYnID0+ICfOticsCifOlycgPT4gJ863JywKJ86YJyA9PiAnzrgnLAonzpknID0+ICfOuScsCifOmicgPT4gJ866JywKJ86bJyA9PiAnzrsnLAonzpwnID0+ICfOvCcsCifOnScgPT4gJ869JywKJ86eJyA9PiAnzr4nLAonzp8nID0+ICfOvycsCifOoCcgPT4gJ8+AJywKJ86hJyA9PiAnz4EnLAonzqMnID0+ICfPgycsCifOpCcgPT4gJ8+EJywKJ86lJyA9PiAnz4UnLAonzqYnID0+ICfPhicsCifOpycgPT4gJ8+HJywKJ86oJyA9PiAnz4gnLAonzqknID0+ICfPiScsCifOqicgPT4gJ8+KJywKJ86rJyA9PiAnz4snLAonz48nID0+ICfPlycsCifPmCcgPT4gJ8+ZJywKJ8+aJyA9PiAnz5snLAonz5wnID0+ICfPnScsCifPnicgPT4gJ8+fJywKJ8+gJyA9PiAnz6EnLAonz6InID0+ICfPoycsCifPpCcgPT4gJ8+lJywKJ8+mJyA9PiAnz6cnLAonz6gnID0+ICfPqScsCifPqicgPT4gJ8+rJywKJ8+sJyA9PiAnz60nLAonz64nID0+ICfPrycsCifPtCcgPT4gJ864JywKJ8+3JyA9PiAnz7gnLAonz7knID0+ICfPsicsCifPuicgPT4gJ8+7JywKJ8+9JyA9PiAnzbsnLAonz74nID0+ICfNvCcsCifPvycgPT4gJ829JywKJ9CAJyA9PiAn0ZAnLAon0IEnID0+ICfRkScsCifQgicgPT4gJ9GSJywKJ9CDJyA9PiAn0ZMnLAon0IQnID0+ICfRlCcsCifQhScgPT4gJ9GVJywKJ9CGJyA9PiAn0ZYnLAon0IcnID0+ICfRlycsCifQiCcgPT4gJ9GYJywKJ9CJJyA9PiAn0ZknLAon0IonID0+ICfRmicsCifQiycgPT4gJ9GbJywKJ9CMJyA9PiAn0ZwnLAon0I0nID0+ICfRnScsCifQjicgPT4gJ9GeJywKJ9CPJyA9PiAn0Z8nLAon0JAnID0+ICfQsCcsCifQkScgPT4gJ9CxJywKJ9CSJyA9PiAn0LInLAon0JMnID0+ICfQsycsCifQlCcgPT4gJ9C0JywKJ9CVJyA9PiAn0LUnLAon0JYnID0+ICfQticsCifQlycgPT4gJ9C3JywKJ9CYJyA9PiAn0LgnLAon0JknID0+ICfQuScsCifQmicgPT4gJ9C6JywKJ9CbJyA9PiAn0LsnLAon0JwnID0+ICfQvCcsCifQnScgPT4gJ9C9JywKJ9CeJyA9PiAn0L4nLAon0J8nID0+ICfQvycsCifQoCcgPT4gJ9GAJywKJ9ChJyA9PiAn0YEnLAon0KInID0+ICfRgicsCifQoycgPT4gJ9GDJywKJ9CkJyA9PiAn0YQnLAon0KUnID0+ICfRhScsCifQpicgPT4gJ9GGJywKJ9CnJyA9PiAn0YcnLAon0KgnID0+ICfRiCcsCifQqScgPT4gJ9GJJywKJ9CqJyA9PiAn0YonLAon0KsnID0+ICfRiycsCifQrCcgPT4gJ9GMJywKJ9CtJyA9PiAn0Y0nLAon0K4nID0+ICfRjicsCifQrycgPT4gJ9GPJywKJ9GgJyA9PiAn0aEnLAon0aInID0+ICfRoycsCifRpCcgPT4gJ9GlJywKJ9GmJyA9PiAn0acnLAon0agnID0+ICfRqScsCifRqicgPT4gJ9GrJywKJ9GsJyA9PiAn0a0nLAon0a4nID0+ICfRrycsCifRsCcgPT4gJ9GxJywKJ9GyJyA9PiAn0bMnLAon0bQnID0+ICfRtScsCifRticgPT4gJ9G3JywKJ9G4JyA9PiAn0bknLAon0bonID0+ICfRuycsCifRvCcgPT4gJ9G9JywKJ9G+JyA9PiAn0b8nLAon0oAnID0+ICfSgScsCifSiicgPT4gJ9KLJywKJ9KMJyA9PiAn0o0nLAon0o4nID0+ICfSjycsCifSkCcgPT4gJ9KRJywKJ9KSJyA9PiAn0pMnLAon0pQnID0+ICfSlScsCifSlicgPT4gJ9KXJywKJ9KYJyA9PiAn0pknLAon0ponID0+ICfSmycsCifSnCcgPT4gJ9KdJywKJ9KeJyA9PiAn0p8nLAon0qAnID0+ICfSoScsCifSoicgPT4gJ9KjJywKJ9KkJyA9PiAn0qUnLAon0qYnID0+ICfSpycsCifSqCcgPT4gJ9KpJywKJ9KqJyA9PiAn0qsnLAon0qwnID0+ICfSrScsCifSricgPT4gJ9KvJywKJ9KwJyA9PiAn0rEnLAon0rInID0+ICfSsycsCifStCcgPT4gJ9K1JywKJ9K2JyA9PiAn0rcnLAon0rgnID0+ICfSuScsCifSuicgPT4gJ9K7JywKJ9K8JyA9PiAn0r0nLAon0r4nID0+ICfSvycsCifTgCcgPT4gJ9OPJywKJ9OBJyA9PiAn04InLAon04MnID0+ICfThCcsCifThScgPT4gJ9OGJywKJ9OHJyA9PiAn04gnLAon04knID0+ICfTiicsCifTiycgPT4gJ9OMJywKJ9ONJyA9PiAn044nLAon05AnID0+ICfTkScsCifTkicgPT4gJ9OTJywKJ9OUJyA9PiAn05UnLAon05YnID0+ICfTlycsCifTmCcgPT4gJ9OZJywKJ9OaJyA9PiAn05snLAon05wnID0+ICfTnScsCifTnicgPT4gJ9OfJywKJ9OgJyA9PiAn06EnLAon06InID0+ICfToycsCifTpCcgPT4gJ9OlJywKJ9OmJyA9PiAn06cnLAon06gnID0+ICfTqScsCifTqicgPT4gJ9OrJywKJ9OsJyA9PiAn060nLAon064nID0+ICfTrycsCifTsCcgPT4gJ9OxJywKJ9OyJyA9PiAn07MnLAon07QnID0+ICfTtScsCifTticgPT4gJ9O3JywKJ9O4JyA9PiAn07knLAon07onID0+ICfTuycsCifTvCcgPT4gJ9O9JywKJ9O+JyA9PiAn078nLAon1IAnID0+ICfUgScsCifUgicgPT4gJ9SDJywKJ9SEJyA9PiAn1IUnLAon1IYnID0+ICfUhycsCifUiCcgPT4gJ9SJJywKJ9SKJyA9PiAn1IsnLAon1IwnID0+ICfUjScsCifUjicgPT4gJ9SPJywKJ9SQJyA9PiAn1JEnLAon1JInID0+ICfUkycsCifUlCcgPT4gJ9SVJywKJ9SWJyA9PiAn1JcnLAon1JgnID0+ICfUmScsCifUmicgPT4gJ9SbJywKJ9ScJyA9PiAn1J0nLAon1J4nID0+ICfUnycsCifUoCcgPT4gJ9ShJywKJ9SiJyA9PiAn1KMnLAon1KQnID0+ICfUpScsCifUpicgPT4gJ9SnJywKJ9SoJyA9PiAn1KknLAon1KonID0+ICfUqycsCifUrCcgPT4gJ9StJywKJ9SuJyA9PiAn1K8nLAon1LEnID0+ICfVoScsCifUsicgPT4gJ9WiJywKJ9SzJyA9PiAn1aMnLAon1LQnID0+ICfVpCcsCifUtScgPT4gJ9WlJywKJ9S2JyA9PiAn1aYnLAon1LcnID0+ICfVpycsCifUuCcgPT4gJ9WoJywKJ9S5JyA9PiAn1aknLAon1LonID0+ICfVqicsCifUuycgPT4gJ9WrJywKJ9S8JyA9PiAn1awnLAon1L0nID0+ICfVrScsCifUvicgPT4gJ9WuJywKJ9S/JyA9PiAn1a8nLAon1YAnID0+ICfVsCcsCifVgScgPT4gJ9WxJywKJ9WCJyA9PiAn1bInLAon1YMnID0+ICfVsycsCifVhCcgPT4gJ9W0JywKJ9WFJyA9PiAn1bUnLAon1YYnID0+ICfVticsCifVhycgPT4gJ9W3JywKJ9WIJyA9PiAn1bgnLAon1YknID0+ICfVuScsCifViicgPT4gJ9W6JywKJ9WLJyA9PiAn1bsnLAon1YwnID0+ICfVvCcsCifVjScgPT4gJ9W9JywKJ9WOJyA9PiAn1b4nLAon1Y8nID0+ICfVvycsCifVkCcgPT4gJ9aAJywKJ9WRJyA9PiAn1oEnLAon1ZInID0+ICfWgicsCifVkycgPT4gJ9aDJywKJ9WUJyA9PiAn1oQnLAon1ZUnID0+ICfWhScsCifVlicgPT4gJ9aGJywKJ+GCoCcgPT4gJ+K0gCcsCifhgqEnID0+ICfitIEnLAon4YKiJyA9PiAn4rSCJywKJ+GCoycgPT4gJ+K0gycsCifhgqQnID0+ICfitIQnLAon4YKlJyA9PiAn4rSFJywKJ+GCpicgPT4gJ+K0hicsCifhgqcnID0+ICfitIcnLAon4YKoJyA9PiAn4rSIJywKJ+GCqScgPT4gJ+K0iScsCifhgqonID0+ICfitIonLAon4YKrJyA9PiAn4rSLJywKJ+GCrCcgPT4gJ+K0jCcsCifhgq0nID0+ICfitI0nLAon4YKuJyA9PiAn4rSOJywKJ+GCrycgPT4gJ+K0jycsCifhgrAnID0+ICfitJAnLAon4YKxJyA9PiAn4rSRJywKJ+GCsicgPT4gJ+K0kicsCifhgrMnID0+ICfitJMnLAon4YK0JyA9PiAn4rSUJywKJ+GCtScgPT4gJ+K0lScsCifhgrYnID0+ICfitJYnLAon4YK3JyA9PiAn4rSXJywKJ+GCuCcgPT4gJ+K0mCcsCifhgrknID0+ICfitJknLAon4YK6JyA9PiAn4rSaJywKJ+GCuycgPT4gJ+K0mycsCifhgrwnID0+ICfitJwnLAon4YK9JyA9PiAn4rSdJywKJ+GCvicgPT4gJ+K0nicsCifhgr8nID0+ICfitJ8nLAon4YOAJyA9PiAn4rSgJywKJ+GDgScgPT4gJ+K0oScsCifhg4InID0+ICfitKInLAon4YODJyA9PiAn4rSjJywKJ+GDhCcgPT4gJ+K0pCcsCifhg4UnID0+ICfitKUnLAon4YOHJyA9PiAn4rSnJywKJ+GDjScgPT4gJ+K0rScsCifhjqAnID0+ICfqrbAnLAon4Y6hJyA9PiAn6q2xJywKJ+GOoicgPT4gJ+qtsicsCifhjqMnID0+ICfqrbMnLAon4Y6kJyA9PiAn6q20JywKJ+GOpScgPT4gJ+qttScsCifhjqYnID0+ICfqrbYnLAon4Y6nJyA9PiAn6q23JywKJ+GOqCcgPT4gJ+qtuCcsCifhjqknID0+ICfqrbknLAon4Y6qJyA9PiAn6q26JywKJ+GOqycgPT4gJ+qtuycsCifhjqwnID0+ICfqrbwnLAon4Y6tJyA9PiAn6q29JywKJ+GOricgPT4gJ+qtvicsCifhjq8nID0+ICfqrb8nLAon4Y6wJyA9PiAn6q6AJywKJ+GOsScgPT4gJ+qugScsCifhjrInID0+ICfqroInLAon4Y6zJyA9PiAn6q6DJywKJ+GOtCcgPT4gJ+quhCcsCifhjrUnID0+ICfqroUnLAon4Y62JyA9PiAn6q6GJywKJ+GOtycgPT4gJ+quhycsCifhjrgnID0+ICfqrognLAon4Y65JyA9PiAn6q6JJywKJ+GOuicgPT4gJ+quiicsCifhjrsnID0+ICfqrosnLAon4Y68JyA9PiAn6q6MJywKJ+GOvScgPT4gJ+qujScsCifhjr4nID0+ICfqro4nLAon4Y6/JyA9PiAn6q6PJywKJ+GPgCcgPT4gJ+qukCcsCifhj4EnID0+ICfqrpEnLAon4Y+CJyA9PiAn6q6SJywKJ+GPgycgPT4gJ+qukycsCifhj4QnID0+ICfqrpQnLAon4Y+FJyA9PiAn6q6VJywKJ+GPhicgPT4gJ+qulicsCifhj4cnID0+ICfqrpcnLAon4Y+IJyA9PiAn6q6YJywKJ+GPiScgPT4gJ+qumScsCifhj4onID0+ICfqrponLAon4Y+LJyA9PiAn6q6bJywKJ+GPjCcgPT4gJ+qunCcsCifhj40nID0+ICfqrp0nLAon4Y+OJyA9PiAn6q6eJywKJ+GPjycgPT4gJ+qunycsCifhj5AnID0+ICfqrqAnLAon4Y+RJyA9PiAn6q6hJywKJ+GPkicgPT4gJ+quoicsCifhj5MnID0+ICfqrqMnLAon4Y+UJyA9PiAn6q6kJywKJ+GPlScgPT4gJ+qupScsCifhj5YnID0+ICfqrqYnLAon4Y+XJyA9PiAn6q6nJywKJ+GPmCcgPT4gJ+quqCcsCifhj5knID0+ICfqrqknLAon4Y+aJyA9PiAn6q6qJywKJ+GPmycgPT4gJ+quqycsCifhj5wnID0+ICfqrqwnLAon4Y+dJyA9PiAn6q6tJywKJ+GPnicgPT4gJ+quricsCifhj58nID0+ICfqrq8nLAon4Y+gJyA9PiAn6q6wJywKJ+GPoScgPT4gJ+qusScsCifhj6InID0+ICfqrrInLAon4Y+jJyA9PiAn6q6zJywKJ+GPpCcgPT4gJ+qutCcsCifhj6UnID0+ICfqrrUnLAon4Y+mJyA9PiAn6q62JywKJ+GPpycgPT4gJ+qutycsCifhj6gnID0+ICfqrrgnLAon4Y+pJyA9PiAn6q65JywKJ+GPqicgPT4gJ+quuicsCifhj6snID0+ICfqrrsnLAon4Y+sJyA9PiAn6q68JywKJ+GPrScgPT4gJ+quvScsCifhj64nID0+ICfqrr4nLAon4Y+vJyA9PiAn6q6/JywKJ+GPsCcgPT4gJ+GPuCcsCifhj7EnID0+ICfhj7knLAon4Y+yJyA9PiAn4Y+6JywKJ+GPsycgPT4gJ+GPuycsCifhj7QnID0+ICfhj7wnLAon4Y+1JyA9PiAn4Y+9JywKJ+GykCcgPT4gJ+GDkCcsCifhspEnID0+ICfhg5EnLAon4bKSJyA9PiAn4YOSJywKJ+GykycgPT4gJ+GDkycsCifhspQnID0+ICfhg5QnLAon4bKVJyA9PiAn4YOVJywKJ+GylicgPT4gJ+GDlicsCifhspcnID0+ICfhg5cnLAon4bKYJyA9PiAn4YOYJywKJ+GymScgPT4gJ+GDmScsCifhsponID0+ICfhg5onLAon4bKbJyA9PiAn4YObJywKJ+GynCcgPT4gJ+GDnCcsCifhsp0nID0+ICfhg50nLAon4bKeJyA9PiAn4YOeJywKJ+GynycgPT4gJ+GDnycsCifhsqAnID0+ICfhg6AnLAon4bKhJyA9PiAn4YOhJywKJ+GyoicgPT4gJ+GDoicsCifhsqMnID0+ICfhg6MnLAon4bKkJyA9PiAn4YOkJywKJ+GypScgPT4gJ+GDpScsCifhsqYnID0+ICfhg6YnLAon4bKnJyA9PiAn4YOnJywKJ+GyqCcgPT4gJ+GDqCcsCifhsqknID0+ICfhg6knLAon4bKqJyA9PiAn4YOqJywKJ+GyqycgPT4gJ+GDqycsCifhsqwnID0+ICfhg6wnLAon4bKtJyA9PiAn4YOtJywKJ+GyricgPT4gJ+GDricsCifhsq8nID0+ICfhg68nLAon4bKwJyA9PiAn4YOwJywKJ+GysScgPT4gJ+GDsScsCifhsrInID0+ICfhg7InLAon4bKzJyA9PiAn4YOzJywKJ+GytCcgPT4gJ+GDtCcsCifhsrUnID0+ICfhg7UnLAon4bK2JyA9PiAn4YO2JywKJ+GytycgPT4gJ+GDtycsCifhsrgnID0+ICfhg7gnLAon4bK5JyA9PiAn4YO5JywKJ+GyuicgPT4gJ+GDuicsCifhsr0nID0+ICfhg70nLAon4bK+JyA9PiAn4YO+JywKJ+GyvycgPT4gJ+GDvycsCifhuIAnID0+ICfhuIEnLAon4biCJyA9PiAn4biDJywKJ+G4hCcgPT4gJ+G4hScsCifhuIYnID0+ICfhuIcnLAon4biIJyA9PiAn4biJJywKJ+G4iicgPT4gJ+G4iycsCifhuIwnID0+ICfhuI0nLAon4biOJyA9PiAn4biPJywKJ+G4kCcgPT4gJ+G4kScsCifhuJInID0+ICfhuJMnLAon4biUJyA9PiAn4biVJywKJ+G4licgPT4gJ+G4lycsCifhuJgnID0+ICfhuJknLAon4biaJyA9PiAn4bibJywKJ+G4nCcgPT4gJ+G4nScsCifhuJ4nID0+ICfhuJ8nLAon4bigJyA9PiAn4bihJywKJ+G4oicgPT4gJ+G4oycsCifhuKQnID0+ICfhuKUnLAon4bimJyA9PiAn4binJywKJ+G4qCcgPT4gJ+G4qScsCifhuKonID0+ICfhuKsnLAon4bisJyA9PiAn4bitJywKJ+G4ricgPT4gJ+G4rycsCifhuLAnID0+ICfhuLEnLAon4biyJyA9PiAn4bizJywKJ+G4tCcgPT4gJ+G4tScsCifhuLYnID0+ICfhuLcnLAon4bi4JyA9PiAn4bi5JywKJ+G4uicgPT4gJ+G4uycsCifhuLwnID0+ICfhuL0nLAon4bi+JyA9PiAn4bi/JywKJ+G5gCcgPT4gJ+G5gScsCifhuYInID0+ICfhuYMnLAon4bmEJyA9PiAn4bmFJywKJ+G5hicgPT4gJ+G5hycsCifhuYgnID0+ICfhuYknLAon4bmKJyA9PiAn4bmLJywKJ+G5jCcgPT4gJ+G5jScsCifhuY4nID0+ICfhuY8nLAon4bmQJyA9PiAn4bmRJywKJ+G5kicgPT4gJ+G5kycsCifhuZQnID0+ICfhuZUnLAon4bmWJyA9PiAn4bmXJywKJ+G5mCcgPT4gJ+G5mScsCifhuZonID0+ICfhuZsnLAon4bmcJyA9PiAn4bmdJywKJ+G5nicgPT4gJ+G5nycsCifhuaAnID0+ICfhuaEnLAon4bmiJyA9PiAn4bmjJywKJ+G5pCcgPT4gJ+G5pScsCifhuaYnID0+ICfhuacnLAon4bmoJyA9PiAn4bmpJywKJ+G5qicgPT4gJ+G5qycsCifhuawnID0+ICfhua0nLAon4bmuJyA9PiAn4bmvJywKJ+G5sCcgPT4gJ+G5sScsCifhubInID0+ICfhubMnLAon4bm0JyA9PiAn4bm1JywKJ+G5ticgPT4gJ+G5tycsCifhubgnID0+ICfhubknLAon4bm6JyA9PiAn4bm7JywKJ+G5vCcgPT4gJ+G5vScsCifhub4nID0+ICfhub8nLAon4bqAJyA9PiAn4bqBJywKJ+G6gicgPT4gJ+G6gycsCifhuoQnID0+ICfhuoUnLAon4bqGJyA9PiAn4bqHJywKJ+G6iCcgPT4gJ+G6iScsCifhuoonID0+ICfhuosnLAon4bqMJyA9PiAn4bqNJywKJ+G6jicgPT4gJ+G6jycsCifhupAnID0+ICfhupEnLAon4bqSJyA9PiAn4bqTJywKJ+G6lCcgPT4gJ+G6lScsCifhup4nID0+ICfDnycsCifhuqAnID0+ICfhuqEnLAon4bqiJyA9PiAn4bqjJywKJ+G6pCcgPT4gJ+G6pScsCifhuqYnID0+ICfhuqcnLAon4bqoJyA9PiAn4bqpJywKJ+G6qicgPT4gJ+G6qycsCifhuqwnID0+ICfhuq0nLAon4bquJyA9PiAn4bqvJywKJ+G6sCcgPT4gJ+G6sScsCifhurInID0+ICfhurMnLAon4bq0JyA9PiAn4bq1JywKJ+G6ticgPT4gJ+G6tycsCifhurgnID0+ICfhurknLAon4bq6JyA9PiAn4bq7JywKJ+G6vCcgPT4gJ+G6vScsCifhur4nID0+ICfhur8nLAon4buAJyA9PiAn4buBJywKJ+G7gicgPT4gJ+G7gycsCifhu4QnID0+ICfhu4UnLAon4buGJyA9PiAn4buHJywKJ+G7iCcgPT4gJ+G7iScsCifhu4onID0+ICfhu4snLAon4buMJyA9PiAn4buNJywKJ+G7jicgPT4gJ+G7jycsCifhu5AnID0+ICfhu5EnLAon4buSJyA9PiAn4buTJywKJ+G7lCcgPT4gJ+G7lScsCifhu5YnID0+ICfhu5cnLAon4buYJyA9PiAn4buZJywKJ+G7micgPT4gJ+G7mycsCifhu5wnID0+ICfhu50nLAon4bueJyA9PiAn4bufJywKJ+G7oCcgPT4gJ+G7oScsCifhu6InID0+ICfhu6MnLAon4bukJyA9PiAn4bulJywKJ+G7picgPT4gJ+G7pycsCifhu6gnID0+ICfhu6knLAon4buqJyA9PiAn4burJywKJ+G7rCcgPT4gJ+G7rScsCifhu64nID0+ICfhu68nLAon4buwJyA9PiAn4buxJywKJ+G7sicgPT4gJ+G7sycsCifhu7QnID0+ICfhu7UnLAon4bu2JyA9PiAn4bu3JywKJ+G7uCcgPT4gJ+G7uScsCifhu7onID0+ICfhu7snLAon4bu8JyA9PiAn4bu9JywKJ+G7vicgPT4gJ+G7vycsCifhvIgnID0+ICfhvIAnLAon4byJJyA9PiAn4byBJywKJ+G8iicgPT4gJ+G8gicsCifhvIsnID0+ICfhvIMnLAon4byMJyA9PiAn4byEJywKJ+G8jScgPT4gJ+G8hScsCifhvI4nID0+ICfhvIYnLAon4byPJyA9PiAn4byHJywKJ+G8mCcgPT4gJ+G8kCcsCifhvJknID0+ICfhvJEnLAon4byaJyA9PiAn4bySJywKJ+G8mycgPT4gJ+G8kycsCifhvJwnID0+ICfhvJQnLAon4bydJyA9PiAn4byVJywKJ+G8qCcgPT4gJ+G8oCcsCifhvKknID0+ICfhvKEnLAon4byqJyA9PiAn4byiJywKJ+G8qycgPT4gJ+G8oycsCifhvKwnID0+ICfhvKQnLAon4bytJyA9PiAn4bylJywKJ+G8ricgPT4gJ+G8picsCifhvK8nID0+ICfhvKcnLAon4by4JyA9PiAn4bywJywKJ+G8uScgPT4gJ+G8sScsCifhvLonID0+ICfhvLInLAon4by7JyA9PiAn4byzJywKJ+G8vCcgPT4gJ+G8tCcsCifhvL0nID0+ICfhvLUnLAon4by+JyA9PiAn4by2JywKJ+G8vycgPT4gJ+G8tycsCifhvYgnID0+ICfhvYAnLAon4b2JJyA9PiAn4b2BJywKJ+G9iicgPT4gJ+G9gicsCifhvYsnID0+ICfhvYMnLAon4b2MJyA9PiAn4b2EJywKJ+G9jScgPT4gJ+G9hScsCifhvZknID0+ICfhvZEnLAon4b2bJyA9PiAn4b2TJywKJ+G9nScgPT4gJ+G9lScsCifhvZ8nID0+ICfhvZcnLAon4b2oJyA9PiAn4b2gJywKJ+G9qScgPT4gJ+G9oScsCifhvaonID0+ICfhvaInLAon4b2rJyA9PiAn4b2jJywKJ+G9rCcgPT4gJ+G9pCcsCifhva0nID0+ICfhvaUnLAon4b2uJyA9PiAn4b2mJywKJ+G9rycgPT4gJ+G9pycsCifhvognID0+ICfhvoAnLAon4b6JJyA9PiAn4b6BJywKJ+G+iicgPT4gJ+G+gicsCifhvosnID0+ICfhvoMnLAon4b6MJyA9PiAn4b6EJywKJ+G+jScgPT4gJ+G+hScsCifhvo4nID0+ICfhvoYnLAon4b6PJyA9PiAn4b6HJywKJ+G+mCcgPT4gJ+G+kCcsCifhvpknID0+ICfhvpEnLAon4b6aJyA9PiAn4b6SJywKJ+G+mycgPT4gJ+G+kycsCifhvpwnID0+ICfhvpQnLAon4b6dJyA9PiAn4b6VJywKJ+G+nicgPT4gJ+G+licsCifhvp8nID0+ICfhvpcnLAon4b6oJyA9PiAn4b6gJywKJ+G+qScgPT4gJ+G+oScsCifhvqonID0+ICfhvqInLAon4b6rJyA9PiAn4b6jJywKJ+G+rCcgPT4gJ+G+pCcsCifhvq0nID0+ICfhvqUnLAon4b6uJyA9PiAn4b6mJywKJ+G+rycgPT4gJ+G+pycsCifhvrgnID0+ICfhvrAnLAon4b65JyA9PiAn4b6xJywKJ+G+uicgPT4gJ+G9sCcsCifhvrsnID0+ICfhvbEnLAon4b68JyA9PiAn4b6zJywKJ+G/iCcgPT4gJ+G9sicsCifhv4knID0+ICfhvbMnLAon4b+KJyA9PiAn4b20JywKJ+G/iycgPT4gJ+G9tScsCifhv4wnID0+ICfhv4MnLAon4b+YJyA9PiAn4b+QJywKJ+G/mScgPT4gJ+G/kScsCifhv5onID0+ICfhvbYnLAon4b+bJyA9PiAn4b23JywKJ+G/qCcgPT4gJ+G/oCcsCifhv6knID0+ICfhv6EnLAon4b+qJyA9PiAn4b26JywKJ+G/qycgPT4gJ+G9uycsCifhv6wnID0+ICfhv6UnLAon4b+4JyA9PiAn4b24JywKJ+G/uScgPT4gJ+G9uScsCifhv7onID0+ICfhvbwnLAon4b+7JyA9PiAn4b29JywKJ+G/vCcgPT4gJ+G/sycsCifihKYnID0+ICfPiScsCifihKonID0+ICdrJywKJ+KEqycgPT4gJ8OlJywKJ+KEsicgPT4gJ+KFjicsCifihaAnID0+ICfihbAnLAon4oWhJyA9PiAn4oWxJywKJ+KFoicgPT4gJ+KFsicsCifihaMnID0+ICfihbMnLAon4oWkJyA9PiAn4oW0JywKJ+KFpScgPT4gJ+KFtScsCifihaYnID0+ICfihbYnLAon4oWnJyA9PiAn4oW3JywKJ+KFqCcgPT4gJ+KFuCcsCifihaknID0+ICfihbknLAon4oWqJyA9PiAn4oW6JywKJ+KFqycgPT4gJ+KFuycsCifihawnID0+ICfihbwnLAon4oWtJyA9PiAn4oW9JywKJ+KFricgPT4gJ+KFvicsCifiha8nID0+ICfihb8nLAon4oaDJyA9PiAn4oaEJywKJ+KSticgPT4gJ+KTkCcsCifikrcnID0+ICfik5EnLAon4pK4JyA9PiAn4pOSJywKJ+KSuScgPT4gJ+KTkycsCifikronID0+ICfik5QnLAon4pK7JyA9PiAn4pOVJywKJ+KSvCcgPT4gJ+KTlicsCifikr0nID0+ICfik5cnLAon4pK+JyA9PiAn4pOYJywKJ+KSvycgPT4gJ+KTmScsCifik4AnID0+ICfik5onLAon4pOBJyA9PiAn4pObJywKJ+KTgicgPT4gJ+KTnCcsCifik4MnID0+ICfik50nLAon4pOEJyA9PiAn4pOeJywKJ+KThScgPT4gJ+KTnycsCifik4YnID0+ICfik6AnLAon4pOHJyA9PiAn4pOhJywKJ+KTiCcgPT4gJ+KToicsCifik4knID0+ICfik6MnLAon4pOKJyA9PiAn4pOkJywKJ+KTiycgPT4gJ+KTpScsCifik4wnID0+ICfik6YnLAon4pONJyA9PiAn4pOnJywKJ+KTjicgPT4gJ+KTqCcsCifik48nID0+ICfik6knLAon4rCAJyA9PiAn4rCwJywKJ+KwgScgPT4gJ+KwsScsCifisIInID0+ICfisLInLAon4rCDJyA9PiAn4rCzJywKJ+KwhCcgPT4gJ+KwtCcsCifisIUnID0+ICfisLUnLAon4rCGJyA9PiAn4rC2JywKJ+KwhycgPT4gJ+KwtycsCifisIgnID0+ICfisLgnLAon4rCJJyA9PiAn4rC5JywKJ+KwiicgPT4gJ+KwuicsCifisIsnID0+ICfisLsnLAon4rCMJyA9PiAn4rC8JywKJ+KwjScgPT4gJ+KwvScsCifisI4nID0+ICfisL4nLAon4rCPJyA9PiAn4rC/JywKJ+KwkCcgPT4gJ+KxgCcsCifisJEnID0+ICfisYEnLAon4rCSJyA9PiAn4rGCJywKJ+KwkycgPT4gJ+KxgycsCifisJQnID0+ICfisYQnLAon4rCVJyA9PiAn4rGFJywKJ+KwlicgPT4gJ+KxhicsCifisJcnID0+ICfisYcnLAon4rCYJyA9PiAn4rGIJywKJ+KwmScgPT4gJ+KxiScsCifisJonID0+ICfisYonLAon4rCbJyA9PiAn4rGLJywKJ+KwnCcgPT4gJ+KxjCcsCifisJ0nID0+ICfisY0nLAon4rCeJyA9PiAn4rGOJywKJ+KwnycgPT4gJ+KxjycsCifisKAnID0+ICfisZAnLAon4rChJyA9PiAn4rGRJywKJ+KwoicgPT4gJ+KxkicsCifisKMnID0+ICfisZMnLAon4rCkJyA9PiAn4rGUJywKJ+KwpScgPT4gJ+KxlScsCifisKYnID0+ICfisZYnLAon4rCnJyA9PiAn4rGXJywKJ+KwqCcgPT4gJ+KxmCcsCifisKknID0+ICfisZknLAon4rCqJyA9PiAn4rGaJywKJ+KwqycgPT4gJ+KxmycsCifisKwnID0+ICfisZwnLAon4rCtJyA9PiAn4rGdJywKJ+KwricgPT4gJ+KxnicsCifisaAnID0+ICfisaEnLAon4rGiJyA9PiAnyasnLAon4rGjJyA9PiAn4bW9JywKJ+KxpCcgPT4gJ8m9JywKJ+KxpycgPT4gJ+KxqCcsCifisaknID0+ICfisaonLAon4rGrJyA9PiAn4rGsJywKJ+KxrScgPT4gJ8mRJywKJ+KxricgPT4gJ8mxJywKJ+KxrycgPT4gJ8mQJywKJ+KxsCcgPT4gJ8mSJywKJ+KxsicgPT4gJ+KxsycsCifisbUnID0+ICfisbYnLAon4rG+JyA9PiAnyL8nLAon4rG/JyA9PiAnyYAnLAon4rKAJyA9PiAn4rKBJywKJ+KygicgPT4gJ+KygycsCifisoQnID0+ICfisoUnLAon4rKGJyA9PiAn4rKHJywKJ+KyiCcgPT4gJ+KyiScsCifisoonID0+ICfisosnLAon4rKMJyA9PiAn4rKNJywKJ+KyjicgPT4gJ+KyjycsCifispAnID0+ICfispEnLAon4rKSJyA9PiAn4rKTJywKJ+KylCcgPT4gJ+KylScsCifispYnID0+ICfispcnLAon4rKYJyA9PiAn4rKZJywKJ+KymicgPT4gJ+KymycsCifispwnID0+ICfisp0nLAon4rKeJyA9PiAn4rKfJywKJ+KyoCcgPT4gJ+KyoScsCifisqInID0+ICfisqMnLAon4rKkJyA9PiAn4rKlJywKJ+KypicgPT4gJ+KypycsCifisqgnID0+ICfisqknLAon4rKqJyA9PiAn4rKrJywKJ+KyrCcgPT4gJ+KyrScsCifisq4nID0+ICfisq8nLAon4rKwJyA9PiAn4rKxJywKJ+KysicgPT4gJ+KysycsCifisrQnID0+ICfisrUnLAon4rK2JyA9PiAn4rK3JywKJ+KyuCcgPT4gJ+KyuScsCifisronID0+ICfisrsnLAon4rK8JyA9PiAn4rK9JywKJ+KyvicgPT4gJ+KyvycsCifis4AnID0+ICfis4EnLAon4rOCJyA9PiAn4rODJywKJ+KzhCcgPT4gJ+KzhScsCifis4YnID0+ICfis4cnLAon4rOIJyA9PiAn4rOJJywKJ+KziicgPT4gJ+KziycsCifis4wnID0+ICfis40nLAon4rOOJyA9PiAn4rOPJywKJ+KzkCcgPT4gJ+KzkScsCifis5InID0+ICfis5MnLAon4rOUJyA9PiAn4rOVJywKJ+KzlicgPT4gJ+KzlycsCifis5gnID0+ICfis5knLAon4rOaJyA9PiAn4rObJywKJ+KznCcgPT4gJ+KznScsCifis54nID0+ICfis58nLAon4rOgJyA9PiAn4rOhJywKJ+KzoicgPT4gJ+KzoycsCifis6snID0+ICfis6wnLAon4rOtJyA9PiAn4rOuJywKJ+KzsicgPT4gJ+KzsycsCifqmYAnID0+ICfqmYEnLAon6pmCJyA9PiAn6pmDJywKJ+qZhCcgPT4gJ+qZhScsCifqmYYnID0+ICfqmYcnLAon6pmIJyA9PiAn6pmJJywKJ+qZiicgPT4gJ+qZiycsCifqmYwnID0+ICfqmY0nLAon6pmOJyA9PiAn6pmPJywKJ+qZkCcgPT4gJ+qZkScsCifqmZInID0+ICfqmZMnLAon6pmUJyA9PiAn6pmVJywKJ+qZlicgPT4gJ+qZlycsCifqmZgnID0+ICfqmZknLAon6pmaJyA9PiAn6pmbJywKJ+qZnCcgPT4gJ+qZnScsCifqmZ4nID0+ICfqmZ8nLAon6pmgJyA9PiAn6pmhJywKJ+qZoicgPT4gJ+qZoycsCifqmaQnID0+ICfqmaUnLAon6pmmJyA9PiAn6pmnJywKJ+qZqCcgPT4gJ+qZqScsCifqmaonID0+ICfqmasnLAon6pmsJyA9PiAn6pmtJywKJ+qagCcgPT4gJ+qagScsCifqmoInID0+ICfqmoMnLAon6pqEJyA9PiAn6pqFJywKJ+qahicgPT4gJ+qahycsCifqmognID0+ICfqmoknLAon6pqKJyA9PiAn6pqLJywKJ+qajCcgPT4gJ+qajScsCifqmo4nID0+ICfqmo8nLAon6pqQJyA9PiAn6pqRJywKJ+qakicgPT4gJ+qakycsCifqmpQnID0+ICfqmpUnLAon6pqWJyA9PiAn6pqXJywKJ+qamCcgPT4gJ+qamScsCifqmponID0+ICfqmpsnLAon6pyiJyA9PiAn6pyjJywKJ+qcpCcgPT4gJ+qcpScsCifqnKYnID0+ICfqnKcnLAon6pyoJyA9PiAn6pypJywKJ+qcqicgPT4gJ+qcqycsCifqnKwnID0+ICfqnK0nLAon6pyuJyA9PiAn6pyvJywKJ+qcsicgPT4gJ+qcsycsCifqnLQnID0+ICfqnLUnLAon6py2JyA9PiAn6py3JywKJ+qcuCcgPT4gJ+qcuScsCifqnLonID0+ICfqnLsnLAon6py8JyA9PiAn6py9JywKJ+qcvicgPT4gJ+qcvycsCifqnYAnID0+ICfqnYEnLAon6p2CJyA9PiAn6p2DJywKJ+qdhCcgPT4gJ+qdhScsCifqnYYnID0+ICfqnYcnLAon6p2IJyA9PiAn6p2JJywKJ+qdiicgPT4gJ+qdiycsCifqnYwnID0+ICfqnY0nLAon6p2OJyA9PiAn6p2PJywKJ+qdkCcgPT4gJ+qdkScsCifqnZInID0+ICfqnZMnLAon6p2UJyA9PiAn6p2VJywKJ+qdlicgPT4gJ+qdlycsCifqnZgnID0+ICfqnZknLAon6p2aJyA9PiAn6p2bJywKJ+qdnCcgPT4gJ+qdnScsCifqnZ4nID0+ICfqnZ8nLAon6p2gJyA9PiAn6p2hJywKJ+qdoicgPT4gJ+qdoycsCifqnaQnID0+ICfqnaUnLAon6p2mJyA9PiAn6p2nJywKJ+qdqCcgPT4gJ+qdqScsCifqnaonID0+ICfqnasnLAon6p2sJyA9PiAn6p2tJywKJ+qdricgPT4gJ+qdrycsCifqnbknID0+ICfqnbonLAon6p27JyA9PiAn6p28JywKJ+qdvScgPT4gJ+G1uScsCifqnb4nID0+ICfqnb8nLAon6p6AJyA9PiAn6p6BJywKJ+qegicgPT4gJ+qegycsCifqnoQnID0+ICfqnoUnLAon6p6GJyA9PiAn6p6HJywKJ+qeiycgPT4gJ+qejCcsCifqno0nID0+ICfJpScsCifqnpAnID0+ICfqnpEnLAon6p6SJyA9PiAn6p6TJywKJ+qelicgPT4gJ+qelycsCifqnpgnID0+ICfqnpknLAon6p6aJyA9PiAn6p6bJywKJ+qenCcgPT4gJ+qenScsCifqnp4nID0+ICfqnp8nLAon6p6gJyA9PiAn6p6hJywKJ+qeoicgPT4gJ+qeoycsCifqnqQnID0+ICfqnqUnLAon6p6mJyA9PiAn6p6nJywKJ+qeqCcgPT4gJ+qeqScsCifqnqonID0+ICfJpicsCifqnqsnID0+ICfJnCcsCifqnqwnID0+ICfJoScsCifqnq0nID0+ICfJrCcsCifqnq4nID0+ICfJqicsCifqnrAnID0+ICfKnicsCifqnrEnID0+ICfKhycsCifqnrInID0+ICfKnScsCifqnrMnID0+ICfqrZMnLAon6p60JyA9PiAn6p61JywKJ+qeticgPT4gJ+qetycsCifqnrgnID0+ICfqnrknLAon6p66JyA9PiAn6p67JywKJ+qevCcgPT4gJ+qevScsCifqnr4nID0+ICfqnr8nLAon6p+CJyA9PiAn6p+DJywKJ+qfhCcgPT4gJ+qelCcsCifqn4UnID0+ICfKgicsCifqn4YnID0+ICfhto4nLAon6p+HJyA9PiAn6p+IJywKJ+qfiScgPT4gJ+qfiicsCifqn7UnID0+ICfqn7YnLAon77yhJyA9PiAn772BJywKJ++8oicgPT4gJ++9gicsCifvvKMnID0+ICfvvYMnLAon77ykJyA9PiAn772EJywKJ++8pScgPT4gJ++9hScsCifvvKYnID0+ICfvvYYnLAon77ynJyA9PiAn772HJywKJ++8qCcgPT4gJ++9iCcsCifvvKknID0+ICfvvYknLAon77yqJyA9PiAn772KJywKJ++8qycgPT4gJ++9iycsCifvvKwnID0+ICfvvYwnLAon77ytJyA9PiAn772NJywKJ++8ricgPT4gJ++9jicsCifvvK8nID0+ICfvvY8nLAon77ywJyA9PiAn772QJywKJ++8sScgPT4gJ++9kScsCifvvLInID0+ICfvvZInLAon77yzJyA9PiAn772TJywKJ++8tCcgPT4gJ++9lCcsCifvvLUnID0+ICfvvZUnLAon77y2JyA9PiAn772WJywKJ++8tycgPT4gJ++9lycsCifvvLgnID0+ICfvvZgnLAon77y5JyA9PiAn772ZJywKJ++8uicgPT4gJ++9micsCifwkJCAJyA9PiAn8JCQqCcsCifwkJCBJyA9PiAn8JCQqScsCifwkJCCJyA9PiAn8JCQqicsCifwkJCDJyA9PiAn8JCQqycsCifwkJCEJyA9PiAn8JCQrCcsCifwkJCFJyA9PiAn8JCQrScsCifwkJCGJyA9PiAn8JCQricsCifwkJCHJyA9PiAn8JCQrycsCifwkJCIJyA9PiAn8JCQsCcsCifwkJCJJyA9PiAn8JCQsScsCifwkJCKJyA9PiAn8JCQsicsCifwkJCLJyA9PiAn8JCQsycsCifwkJCMJyA9PiAn8JCQtCcsCifwkJCNJyA9PiAn8JCQtScsCifwkJCOJyA9PiAn8JCQticsCifwkJCPJyA9PiAn8JCQtycsCifwkJCQJyA9PiAn8JCQuCcsCifwkJCRJyA9PiAn8JCQuScsCifwkJCSJyA9PiAn8JCQuicsCifwkJCTJyA9PiAn8JCQuycsCifwkJCUJyA9PiAn8JCQvCcsCifwkJCVJyA9PiAn8JCQvScsCifwkJCWJyA9PiAn8JCQvicsCifwkJCXJyA9PiAn8JCQvycsCifwkJCYJyA9PiAn8JCRgCcsCifwkJCZJyA9PiAn8JCRgScsCifwkJCaJyA9PiAn8JCRgicsCifwkJCbJyA9PiAn8JCRgycsCifwkJCcJyA9PiAn8JCRhCcsCifwkJCdJyA9PiAn8JCRhScsCifwkJCeJyA9PiAn8JCRhicsCifwkJCfJyA9PiAn8JCRhycsCifwkJCgJyA9PiAn8JCRiCcsCifwkJChJyA9PiAn8JCRiScsCifwkJCiJyA9PiAn8JCRiicsCifwkJCjJyA9PiAn8JCRiycsCifwkJCkJyA9PiAn8JCRjCcsCifwkJClJyA9PiAn8JCRjScsCifwkJCmJyA9PiAn8JCRjicsCifwkJCnJyA9PiAn8JCRjycsCifwkJKwJyA9PiAn8JCTmCcsCifwkJKxJyA9PiAn8JCTmScsCifwkJKyJyA9PiAn8JCTmicsCifwkJKzJyA9PiAn8JCTmycsCifwkJK0JyA9PiAn8JCTnCcsCifwkJK1JyA9PiAn8JCTnScsCifwkJK2JyA9PiAn8JCTnicsCifwkJK3JyA9PiAn8JCTnycsCifwkJK4JyA9PiAn8JCToCcsCifwkJK5JyA9PiAn8JCToScsCifwkJK6JyA9PiAn8JCToicsCifwkJK7JyA9PiAn8JCToycsCifwkJK8JyA9PiAn8JCTpCcsCifwkJK9JyA9PiAn8JCTpScsCifwkJK+JyA9PiAn8JCTpicsCifwkJK/JyA9PiAn8JCTpycsCifwkJOAJyA9PiAn8JCTqCcsCifwkJOBJyA9PiAn8JCTqScsCifwkJOCJyA9PiAn8JCTqicsCifwkJODJyA9PiAn8JCTqycsCifwkJOEJyA9PiAn8JCTrCcsCifwkJOFJyA9PiAn8JCTrScsCifwkJOGJyA9PiAn8JCTricsCifwkJOHJyA9PiAn8JCTrycsCifwkJOIJyA9PiAn8JCTsCcsCifwkJOJJyA9PiAn8JCTsScsCifwkJOKJyA9PiAn8JCTsicsCifwkJOLJyA9PiAn8JCTsycsCifwkJOMJyA9PiAn8JCTtCcsCifwkJONJyA9PiAn8JCTtScsCifwkJOOJyA9PiAn8JCTticsCifwkJOPJyA9PiAn8JCTtycsCifwkJOQJyA9PiAn8JCTuCcsCifwkJORJyA9PiAn8JCTuScsCifwkJOSJyA9PiAn8JCTuicsCifwkJOTJyA9PiAn8JCTuycsCifwkLKAJyA9PiAn8JCzgCcsCifwkLKBJyA9PiAn8JCzgScsCifwkLKCJyA9PiAn8JCzgicsCifwkLKDJyA9PiAn8JCzgycsCifwkLKEJyA9PiAn8JCzhCcsCifwkLKFJyA9PiAn8JCzhScsCifwkLKGJyA9PiAn8JCzhicsCifwkLKHJyA9PiAn8JCzhycsCifwkLKIJyA9PiAn8JCziCcsCifwkLKJJyA9PiAn8JCziScsCifwkLKKJyA9PiAn8JCziicsCifwkLKLJyA9PiAn8JCziycsCifwkLKMJyA9PiAn8JCzjCcsCifwkLKNJyA9PiAn8JCzjScsCifwkLKOJyA9PiAn8JCzjicsCifwkLKPJyA9PiAn8JCzjycsCifwkLKQJyA9PiAn8JCzkCcsCifwkLKRJyA9PiAn8JCzkScsCifwkLKSJyA9PiAn8JCzkicsCifwkLKTJyA9PiAn8JCzkycsCifwkLKUJyA9PiAn8JCzlCcsCifwkLKVJyA9PiAn8JCzlScsCifwkLKWJyA9PiAn8JCzlicsCifwkLKXJyA9PiAn8JCzlycsCifwkLKYJyA9PiAn8JCzmCcsCifwkLKZJyA9PiAn8JCzmScsCifwkLKaJyA9PiAn8JCzmicsCifwkLKbJyA9PiAn8JCzmycsCifwkLKcJyA9PiAn8JCznCcsCifwkLKdJyA9PiAn8JCznScsCifwkLKeJyA9PiAn8JCznicsCifwkLKfJyA9PiAn8JCznycsCifwkLKgJyA9PiAn8JCzoCcsCifwkLKhJyA9PiAn8JCzoScsCifwkLKiJyA9PiAn8JCzoicsCifwkLKjJyA9PiAn8JCzoycsCifwkLKkJyA9PiAn8JCzpCcsCifwkLKlJyA9PiAn8JCzpScsCifwkLKmJyA9PiAn8JCzpicsCifwkLKnJyA9PiAn8JCzpycsCifwkLKoJyA9PiAn8JCzqCcsCifwkLKpJyA9PiAn8JCzqScsCifwkLKqJyA9PiAn8JCzqicsCifwkLKrJyA9PiAn8JCzqycsCifwkLKsJyA9PiAn8JCzrCcsCifwkLKtJyA9PiAn8JCzrScsCifwkLKuJyA9PiAn8JCzricsCifwkLKvJyA9PiAn8JCzrycsCifwkLKwJyA9PiAn8JCzsCcsCifwkLKxJyA9PiAn8JCzsScsCifwkLKyJyA9PiAn8JCzsicsCifwkaKgJyA9PiAn8JGjgCcsCifwkaKhJyA9PiAn8JGjgScsCifwkaKiJyA9PiAn8JGjgicsCifwkaKjJyA9PiAn8JGjgycsCifwkaKkJyA9PiAn8JGjhCcsCifwkaKlJyA9PiAn8JGjhScsCifwkaKmJyA9PiAn8JGjhicsCifwkaKnJyA9PiAn8JGjhycsCifwkaKoJyA9PiAn8JGjiCcsCifwkaKpJyA9PiAn8JGjiScsCifwkaKqJyA9PiAn8JGjiicsCifwkaKrJyA9PiAn8JGjiycsCifwkaKsJyA9PiAn8JGjjCcsCifwkaKtJyA9PiAn8JGjjScsCifwkaKuJyA9PiAn8JGjjicsCifwkaKvJyA9PiAn8JGjjycsCifwkaKwJyA9PiAn8JGjkCcsCifwkaKxJyA9PiAn8JGjkScsCifwkaKyJyA9PiAn8JGjkicsCifwkaKzJyA9PiAn8JGjkycsCifwkaK0JyA9PiAn8JGjlCcsCifwkaK1JyA9PiAn8JGjlScsCifwkaK2JyA9PiAn8JGjlicsCifwkaK3JyA9PiAn8JGjlycsCifwkaK4JyA9PiAn8JGjmCcsCifwkaK5JyA9PiAn8JGjmScsCifwkaK6JyA9PiAn8JGjmicsCifwkaK7JyA9PiAn8JGjmycsCifwkaK8JyA9PiAn8JGjnCcsCifwkaK9JyA9PiAn8JGjnScsCifwkaK+JyA9PiAn8JGjnicsCifwkaK/JyA9PiAn8JGjnycsCifwlrmAJyA9PiAn8Ja5oCcsCifwlrmBJyA9PiAn8Ja5oScsCifwlrmCJyA9PiAn8Ja5oicsCifwlrmDJyA9PiAn8Ja5oycsCifwlrmEJyA9PiAn8Ja5pCcsCifwlrmFJyA9PiAn8Ja5pScsCifwlrmGJyA9PiAn8Ja5picsCifwlrmHJyA9PiAn8Ja5pycsCifwlrmIJyA9PiAn8Ja5qCcsCifwlrmJJyA9PiAn8Ja5qScsCifwlrmKJyA9PiAn8Ja5qicsCifwlrmLJyA9PiAn8Ja5qycsCifwlrmMJyA9PiAn8Ja5rCcsCifwlrmNJyA9PiAn8Ja5rScsCifwlrmOJyA9PiAn8Ja5ricsCifwlrmPJyA9PiAn8Ja5rycsCifwlrmQJyA9PiAn8Ja5sCcsCifwlrmRJyA9PiAn8Ja5sScsCifwlrmSJyA9PiAn8Ja5sicsCifwlrmTJyA9PiAn8Ja5sycsCifwlrmUJyA9PiAn8Ja5tCcsCifwlrmVJyA9PiAn8Ja5tScsCifwlrmWJyA9PiAn8Ja5ticsCifwlrmXJyA9PiAn8Ja5tycsCifwlrmYJyA9PiAn8Ja5uCcsCifwlrmZJyA9PiAn8Ja5uScsCifwlrmaJyA9PiAn8Ja5uicsCifwlrmbJyA9PiAn8Ja5uycsCifwlrmcJyA9PiAn8Ja5vCcsCifwlrmdJyA9PiAn8Ja5vScsCifwlrmeJyA9PiAn8Ja5vicsCifwlrmfJyA9PiAn8Ja5vycsCifwnqSAJyA9PiAn8J6koicsCifwnqSBJyA9PiAn8J6koycsCifwnqSCJyA9PiAn8J6kpCcsCifwnqSDJyA9PiAn8J6kpScsCifwnqSEJyA9PiAn8J6kpicsCifwnqSFJyA9PiAn8J6kpycsCifwnqSGJyA9PiAn8J6kqCcsCifwnqSHJyA9PiAn8J6kqScsCifwnqSIJyA9PiAn8J6kqicsCifwnqSJJyA9PiAn8J6kqycsCifwnqSKJyA9PiAn8J6krCcsCifwnqSLJyA9PiAn8J6krScsCifwnqSMJyA9PiAn8J6kricsCifwnqSNJyA9PiAn8J6krycsCifwnqSOJyA9PiAn8J6ksCcsCifwnqSPJyA9PiAn8J6ksScsCifwnqSQJyA9PiAn8J6ksicsCifwnqSRJyA9PiAn8J6ksycsCifwnqSSJyA9PiAn8J6ktCcsCifwnqSTJyA9PiAn8J6ktScsCifwnqSUJyA9PiAn8J6kticsCifwnqSVJyA9PiAn8J6ktycsCifwnqSWJyA9PiAn8J6kuCcsCifwnqSXJyA9PiAn8J6kuScsCifwnqSYJyA9PiAn8J6kuicsCifwnqSZJyA9PiAn8J6kuycsCifwnqSaJyA9PiAn8J6kvCcsCifwnqSbJyA9PiAn8J6kvScsCifwnqScJyA9PiAn8J6kvicsCifwnqSdJyA9PiAn8J6kvycsCifwnqSeJyA9PiAn8J6lgCcsCifwnqSfJyA9PiAn8J6lgScsCifwnqSgJyA9PiAn8J6lgicsCifwnqShJyA9PiAn8J6lgycsCik7Cjw/cGhwCgoKCnJldHVybiAnLyg/PCFbXHh7MDAyN31ceHswMDJFfVx4ezAwM0F9XHh7MDA1RX1ceHswMDYwfVx4ezAwQTh9XHh7MDBBRH1ceHswMEFGfVx4ezAwQjR9XHh7MDBCN31ceHswMEI4fVx4ezAyQjB9LVx4ezAyQzF9XHh7MDJDMn0tXHh7MDJDNX1ceHswMkM2fS1ceHswMkQxfVx4ezAyRDJ9LVx4ezAyREZ9XHh7MDJFMH0tXHh7MDJFNH1ceHswMkU1fS1ceHswMkVCfVx4ezAyRUN9XHh7MDJFRH1ceHswMkVFfVx4ezAyRUZ9LVx4ezAyRkZ9XHh7MDMwMH0tXHh7MDM2Rn1ceHswMzc0fVx4ezAzNzV9XHh7MDM3QX1ceHswMzg0fS1ceHswMzg1fVx4ezAzODd9XHh7MDQ4M30tXHh7MDQ4N31ceHswNDg4fS1ceHswNDg5fVx4ezA1NTl9XHh7MDU5MX0tXHh7MDVCRH1ceHswNUJGfVx4ezA1QzF9LVx4ezA1QzJ9XHh7MDVDNH0tXHh7MDVDNX1ceHswNUM3fVx4ezA1RjR9XHh7MDYwMH0tXHh7MDYwNX1ceHswNjEwfS1ceHswNjFBfVx4ezA2MUN9XHh7MDY0MH1ceHswNjRCfS1ceHswNjVGfVx4ezA2NzB9XHh7MDZENn0tXHh7MDZEQ31ceHswNkREfVx4ezA2REZ9LVx4ezA2RTR9XHh7MDZFNX0tXHh7MDZFNn1ceHswNkU3fS1ceHswNkU4fVx4ezA2RUF9LVx4ezA2RUR9XHh7MDcwRn1ceHswNzExfVx4ezA3MzB9LVx4ezA3NEF9XHh7MDdBNn0tXHh7MDdCMH1ceHswN0VCfS1ceHswN0YzfVx4ezA3RjR9LVx4ezA3RjV9XHh7MDdGQX1ceHswN0ZEfVx4ezA4MTZ9LVx4ezA4MTl9XHh7MDgxQX1ceHswODFCfS1ceHswODIzfVx4ezA4MjR9XHh7MDgyNX0tXHh7MDgyN31ceHswODI4fVx4ezA4Mjl9LVx4ezA4MkR9XHh7MDg1OX0tXHh7MDg1Qn1ceHswOEQzfS1ceHswOEUxfVx4ezA4RTJ9XHh7MDhFM30tXHh7MDkwMn1ceHswOTNBfVx4ezA5M0N9XHh7MDk0MX0tXHh7MDk0OH1ceHswOTREfVx4ezA5NTF9LVx4ezA5NTd9XHh7MDk2Mn0tXHh7MDk2M31ceHswOTcxfVx4ezA5ODF9XHh7MDlCQ31ceHswOUMxfS1ceHswOUM0fVx4ezA5Q0R9XHh7MDlFMn0tXHh7MDlFM31ceHswOUZFfVx4ezBBMDF9LVx4ezBBMDJ9XHh7MEEzQ31ceHswQTQxfS1ceHswQTQyfVx4ezBBNDd9LVx4ezBBNDh9XHh7MEE0Qn0tXHh7MEE0RH1ceHswQTUxfVx4ezBBNzB9LVx4ezBBNzF9XHh7MEE3NX1ceHswQTgxfS1ceHswQTgyfVx4ezBBQkN9XHh7MEFDMX0tXHh7MEFDNX1ceHswQUM3fS1ceHswQUM4fVx4ezBBQ0R9XHh7MEFFMn0tXHh7MEFFM31ceHswQUZBfS1ceHswQUZGfVx4ezBCMDF9XHh7MEIzQ31ceHswQjNGfVx4ezBCNDF9LVx4ezBCNDR9XHh7MEI0RH1ceHswQjU2fVx4ezBCNjJ9LVx4ezBCNjN9XHh7MEI4Mn1ceHswQkMwfVx4ezBCQ0R9XHh7MEMwMH1ceHswQzA0fVx4ezBDM0V9LVx4ezBDNDB9XHh7MEM0Nn0tXHh7MEM0OH1ceHswQzRBfS1ceHswQzREfVx4ezBDNTV9LVx4ezBDNTZ9XHh7MEM2Mn0tXHh7MEM2M31ceHswQzgxfVx4ezBDQkN9XHh7MENCRn1ceHswQ0M2fVx4ezBDQ0N9LVx4ezBDQ0R9XHh7MENFMn0tXHh7MENFM31ceHswRDAwfS1ceHswRDAxfVx4ezBEM0J9LVx4ezBEM0N9XHh7MEQ0MX0tXHh7MEQ0NH1ceHswRDREfVx4ezBENjJ9LVx4ezBENjN9XHh7MERDQX1ceHswREQyfS1ceHswREQ0fVx4ezBERDZ9XHh7MEUzMX1ceHswRTM0fS1ceHswRTNBfVx4ezBFNDZ9XHh7MEU0N30tXHh7MEU0RX1ceHswRUIxfVx4ezBFQjR9LVx4ezBFQjl9XHh7MEVCQn0tXHh7MEVCQ31ceHswRUM2fVx4ezBFQzh9LVx4ezBFQ0R9XHh7MEYxOH0tXHh7MEYxOX1ceHswRjM1fVx4ezBGMzd9XHh7MEYzOX1ceHswRjcxfS1ceHswRjdFfVx4ezBGODB9LVx4ezBGODR9XHh7MEY4Nn0tXHh7MEY4N31ceHswRjhEfS1ceHswRjk3fVx4ezBGOTl9LVx4ezBGQkN9XHh7MEZDNn1ceHsxMDJEfS1ceHsxMDMwfVx4ezEwMzJ9LVx4ezEwMzd9XHh7MTAzOX0tXHh7MTAzQX1ceHsxMDNEfS1ceHsxMDNFfVx4ezEwNTh9LVx4ezEwNTl9XHh7MTA1RX0tXHh7MTA2MH1ceHsxMDcxfS1ceHsxMDc0fVx4ezEwODJ9XHh7MTA4NX0tXHh7MTA4Nn1ceHsxMDhEfVx4ezEwOUR9XHh7MTBGQ31ceHsxMzVEfS1ceHsxMzVGfVx4ezE3MTJ9LVx4ezE3MTR9XHh7MTczMn0tXHh7MTczNH1ceHsxNzUyfS1ceHsxNzUzfVx4ezE3NzJ9LVx4ezE3NzN9XHh7MTdCNH0tXHh7MTdCNX1ceHsxN0I3fS1ceHsxN0JEfVx4ezE3QzZ9XHh7MTdDOX0tXHh7MTdEM31ceHsxN0Q3fVx4ezE3RER9XHh7MTgwQn0tXHh7MTgwRH1ceHsxODBFfVx4ezE4NDN9XHh7MTg4NX0tXHh7MTg4Nn1ceHsxOEE5fVx4ezE5MjB9LVx4ezE5MjJ9XHh7MTkyN30tXHh7MTkyOH1ceHsxOTMyfVx4ezE5Mzl9LVx4ezE5M0J9XHh7MUExN30tXHh7MUExOH1ceHsxQTFCfVx4ezFBNTZ9XHh7MUE1OH0tXHh7MUE1RX1ceHsxQTYwfVx4ezFBNjJ9XHh7MUE2NX0tXHh7MUE2Q31ceHsxQTczfS1ceHsxQTdDfVx4ezFBN0Z9XHh7MUFBN31ceHsxQUIwfS1ceHsxQUJEfVx4ezFBQkV9XHh7MUIwMH0tXHh7MUIwM31ceHsxQjM0fVx4ezFCMzZ9LVx4ezFCM0F9XHh7MUIzQ31ceHsxQjQyfVx4ezFCNkJ9LVx4ezFCNzN9XHh7MUI4MH0tXHh7MUI4MX1ceHsxQkEyfS1ceHsxQkE1fVx4ezFCQTh9LVx4ezFCQTl9XHh7MUJBQn0tXHh7MUJBRH1ceHsxQkU2fVx4ezFCRTh9LVx4ezFCRTl9XHh7MUJFRH1ceHsxQkVGfS1ceHsxQkYxfVx4ezFDMkN9LVx4ezFDMzN9XHh7MUMzNn0tXHh7MUMzN31ceHsxQzc4fS1ceHsxQzdEfVx4ezFDRDB9LVx4ezFDRDJ9XHh7MUNENH0tXHh7MUNFMH1ceHsxQ0UyfS1ceHsxQ0U4fVx4ezFDRUR9XHh7MUNGNH1ceHsxQ0Y4fS1ceHsxQ0Y5fVx4ezFEMkN9LVx4ezFENkF9XHh7MUQ3OH1ceHsxRDlCfS1ceHsxREJGfVx4ezFEQzB9LVx4ezFERjl9XHh7MURGQn0tXHh7MURGRn1ceHsxRkJEfVx4ezFGQkZ9LVx4ezFGQzF9XHh7MUZDRH0tXHh7MUZDRn1ceHsxRkREfS1ceHsxRkRGfVx4ezFGRUR9LVx4ezFGRUZ9XHh7MUZGRH0tXHh7MUZGRX1ceHsyMDBCfS1ceHsyMDBGfVx4ezIwMTh9XHh7MjAxOX1ceHsyMDI0fVx4ezIwMjd9XHh7MjAyQX0tXHh7MjAyRX1ceHsyMDYwfS1ceHsyMDY0fVx4ezIwNjZ9LVx4ezIwNkZ9XHh7MjA3MX1ceHsyMDdGfVx4ezIwOTB9LVx4ezIwOUN9XHh7MjBEMH0tXHh7MjBEQ31ceHsyMEREfS1ceHsyMEUwfVx4ezIwRTF9XHh7MjBFMn0tXHh7MjBFNH1ceHsyMEU1fS1ceHsyMEYwfVx4ezJDN0N9LVx4ezJDN0R9XHh7MkNFRn0tXHh7MkNGMX1ceHsyRDZGfVx4ezJEN0Z9XHh7MkRFMH0tXHh7MkRGRn1ceHsyRTJGfVx4ezMwMDV9XHh7MzAyQX0tXHh7MzAyRH1ceHszMDMxfS1ceHszMDM1fVx4ezMwM0J9XHh7MzA5OX0tXHh7MzA5QX1ceHszMDlCfS1ceHszMDlDfVx4ezMwOUR9LVx4ezMwOUV9XHh7MzBGQ30tXHh7MzBGRX1ceHtBMDE1fVx4e0E0Rjh9LVx4e0E0RkR9XHh7QTYwQ31ceHtBNjZGfVx4e0E2NzB9LVx4e0E2NzJ9XHh7QTY3NH0tXHh7QTY3RH1ceHtBNjdGfVx4e0E2OUN9LVx4e0E2OUR9XHh7QTY5RX0tXHh7QTY5Rn1ceHtBNkYwfS1ceHtBNkYxfVx4e0E3MDB9LVx4e0E3MTZ9XHh7QTcxN30tXHh7QTcxRn1ceHtBNzIwfS1ceHtBNzIxfVx4e0E3NzB9XHh7QTc4OH1ceHtBNzg5fS1ceHtBNzhBfVx4e0E3Rjh9LVx4e0E3Rjl9XHh7QTgwMn1ceHtBODA2fVx4e0E4MEJ9XHh7QTgyNX0tXHh7QTgyNn1ceHtBOEM0fS1ceHtBOEM1fVx4e0E4RTB9LVx4e0E4RjF9XHh7QThGRn1ceHtBOTI2fS1ceHtBOTJEfVx4e0E5NDd9LVx4e0E5NTF9XHh7QTk4MH0tXHh7QTk4Mn1ceHtBOUIzfVx4e0E5QjZ9LVx4e0E5Qjl9XHh7QTlCQ31ceHtBOUNGfVx4e0E5RTV9XHh7QTlFNn1ceHtBQTI5fS1ceHtBQTJFfVx4e0FBMzF9LVx4e0FBMzJ9XHh7QUEzNX0tXHh7QUEzNn1ceHtBQTQzfVx4e0FBNEN9XHh7QUE3MH1ceHtBQTdDfVx4e0FBQjB9XHh7QUFCMn0tXHh7QUFCNH1ceHtBQUI3fS1ceHtBQUI4fVx4e0FBQkV9LVx4e0FBQkZ9XHh7QUFDMX1ceHtBQUREfVx4e0FBRUN9LVx4e0FBRUR9XHh7QUFGM30tXHh7QUFGNH1ceHtBQUY2fVx4e0FCNUJ9XHh7QUI1Q30tXHh7QUI1Rn1ceHtBQkU1fVx4e0FCRTh9XHh7QUJFRH1ceHtGQjFFfVx4e0ZCQjJ9LVx4e0ZCQzF9XHh7RkUwMH0tXHh7RkUwRn1ceHtGRTEzfVx4e0ZFMjB9LVx4e0ZFMkZ9XHh7RkU1Mn1ceHtGRTU1fVx4e0ZFRkZ9XHh7RkYwN31ceHtGRjBFfVx4e0ZGMUF9XHh7RkYzRX1ceHtGRjQwfVx4e0ZGNzB9XHh7RkY5RX0tXHh7RkY5Rn1ceHtGRkUzfVx4e0ZGRjl9LVx4e0ZGRkJ9XHh7MTAxRkR9XHh7MTAyRTB9XHh7MTAzNzZ9LVx4ezEwMzdBfVx4ezEwQTAxfS1ceHsxMEEwM31ceHsxMEEwNX0tXHh7MTBBMDZ9XHh7MTBBMEN9LVx4ezEwQTBGfVx4ezEwQTM4fS1ceHsxMEEzQX1ceHsxMEEzRn1ceHsxMEFFNX0tXHh7MTBBRTZ9XHh7MTBEMjR9LVx4ezEwRDI3fVx4ezEwRjQ2fS1ceHsxMEY1MH1ceHsxMTAwMX1ceHsxMTAzOH0tXHh7MTEwNDZ9XHh7MTEwN0Z9LVx4ezExMDgxfVx4ezExMEIzfS1ceHsxMTBCNn1ceHsxMTBCOX0tXHh7MTEwQkF9XHh7MTEwQkR9XHh7MTEwQ0R9XHh7MTExMDB9LVx4ezExMTAyfVx4ezExMTI3fS1ceHsxMTEyQn1ceHsxMTEyRH0tXHh7MTExMzR9XHh7MTExNzN9XHh7MTExODB9LVx4ezExMTgxfVx4ezExMUI2fS1ceHsxMTFCRX1ceHsxMTFDOX0tXHh7MTExQ0N9XHh7MTEyMkZ9LVx4ezExMjMxfVx4ezExMjM0fVx4ezExMjM2fS1ceHsxMTIzN31ceHsxMTIzRX1ceHsxMTJERn1ceHsxMTJFM30tXHh7MTEyRUF9XHh7MTEzMDB9LVx4ezExMzAxfVx4ezExMzNCfS1ceHsxMTMzQ31ceHsxMTM0MH1ceHsxMTM2Nn0tXHh7MTEzNkN9XHh7MTEzNzB9LVx4ezExMzc0fVx4ezExNDM4fS1ceHsxMTQzRn1ceHsxMTQ0Mn0tXHh7MTE0NDR9XHh7MTE0NDZ9XHh7MTE0NUV9XHh7MTE0QjN9LVx4ezExNEI4fVx4ezExNEJBfVx4ezExNEJGfS1ceHsxMTRDMH1ceHsxMTRDMn0tXHh7MTE0QzN9XHh7MTE1QjJ9LVx4ezExNUI1fVx4ezExNUJDfS1ceHsxMTVCRH1ceHsxMTVCRn0tXHh7MTE1QzB9XHh7MTE1REN9LVx4ezExNUREfVx4ezExNjMzfS1ceHsxMTYzQX1ceHsxMTYzRH1ceHsxMTYzRn0tXHh7MTE2NDB9XHh7MTE2QUJ9XHh7MTE2QUR9XHh7MTE2QjB9LVx4ezExNkI1fVx4ezExNkI3fVx4ezExNzFEfS1ceHsxMTcxRn1ceHsxMTcyMn0tXHh7MTE3MjV9XHh7MTE3Mjd9LVx4ezExNzJCfVx4ezExODJGfS1ceHsxMTgzN31ceHsxMTgzOX0tXHh7MTE4M0F9XHh7MTFBMDF9LVx4ezExQTBBfVx4ezExQTMzfS1ceHsxMUEzOH1ceHsxMUEzQn0tXHh7MTFBM0V9XHh7MTFBNDd9XHh7MTFBNTF9LVx4ezExQTU2fVx4ezExQTU5fS1ceHsxMUE1Qn1ceHsxMUE4QX0tXHh7MTFBOTZ9XHh7MTFBOTh9LVx4ezExQTk5fVx4ezExQzMwfS1ceHsxMUMzNn1ceHsxMUMzOH0tXHh7MTFDM0R9XHh7MTFDM0Z9XHh7MTFDOTJ9LVx4ezExQ0E3fVx4ezExQ0FBfS1ceHsxMUNCMH1ceHsxMUNCMn0tXHh7MTFDQjN9XHh7MTFDQjV9LVx4ezExQ0I2fVx4ezExRDMxfS1ceHsxMUQzNn1ceHsxMUQzQX1ceHsxMUQzQ30tXHh7MTFEM0R9XHh7MTFEM0Z9LVx4ezExRDQ1fVx4ezExRDQ3fVx4ezExRDkwfS1ceHsxMUQ5MX1ceHsxMUQ5NX1ceHsxMUQ5N31ceHsxMUVGM30tXHh7MTFFRjR9XHh7MTZBRjB9LVx4ezE2QUY0fVx4ezE2QjMwfS1ceHsxNkIzNn1ceHsxNkI0MH0tXHh7MTZCNDN9XHh7MTZGOEZ9LVx4ezE2RjkyfVx4ezE2RjkzfS1ceHsxNkY5Rn1ceHsxNkZFMH0tXHh7MTZGRTF9XHh7MUJDOUR9LVx4ezFCQzlFfVx4ezFCQ0EwfS1ceHsxQkNBM31ceHsxRDE2N30tXHh7MUQxNjl9XHh7MUQxNzN9LVx4ezFEMTdBfVx4ezFEMTdCfS1ceHsxRDE4Mn1ceHsxRDE4NX0tXHh7MUQxOEJ9XHh7MUQxQUF9LVx4ezFEMUFEfVx4ezFEMjQyfS1ceHsxRDI0NH1ceHsxREEwMH0tXHh7MURBMzZ9XHh7MURBM0J9LVx4ezFEQTZDfVx4ezFEQTc1fVx4ezFEQTg0fVx4ezFEQTlCfS1ceHsxREE5Rn1ceHsxREFBMX0tXHh7MURBQUZ9XHh7MUUwMDB9LVx4ezFFMDA2fVx4ezFFMDA4fS1ceHsxRTAxOH1ceHsxRTAxQn0tXHh7MUUwMjF9XHh7MUUwMjN9LVx4ezFFMDI0fVx4ezFFMDI2fS1ceHsxRTAyQX1ceHsxRThEMH0tXHh7MUU4RDZ9XHh7MUU5NDR9LVx4ezFFOTRBfVx4ezFGM0ZCfS1ceHsxRjNGRn1ceHtFMDAwMX1ceHtFMDAyMH0tXHh7RTAwN0Z9XHh7RTAxMDB9LVx4e0UwMUVGfV0pKFxwTCkoXHBMKispL3UnOwo8P3BocAoKcmV0dXJuIGFycmF5ICgKJ2EnID0+ICdBJywKJ2InID0+ICdCJywKJ2MnID0+ICdDJywKJ2QnID0+ICdEJywKJ2UnID0+ICdFJywKJ2YnID0+ICdGJywKJ2cnID0+ICdHJywKJ2gnID0+ICdIJywKJ2knID0+ICdJJywKJ2onID0+ICdKJywKJ2snID0+ICdLJywKJ2wnID0+ICdMJywKJ20nID0+ICdNJywKJ24nID0+ICdOJywKJ28nID0+ICdPJywKJ3AnID0+ICdQJywKJ3EnID0+ICdRJywKJ3InID0+ICdSJywKJ3MnID0+ICdTJywKJ3QnID0+ICdUJywKJ3UnID0+ICdVJywKJ3YnID0+ICdWJywKJ3cnID0+ICdXJywKJ3gnID0+ICdYJywKJ3knID0+ICdZJywKJ3onID0+ICdaJywKJ8K1JyA9PiAnzpwnLAonw6AnID0+ICfDgCcsCifDoScgPT4gJ8OBJywKJ8OiJyA9PiAnw4InLAonw6MnID0+ICfDgycsCifDpCcgPT4gJ8OEJywKJ8OlJyA9PiAnw4UnLAonw6YnID0+ICfDhicsCifDpycgPT4gJ8OHJywKJ8OoJyA9PiAnw4gnLAonw6knID0+ICfDiScsCifDqicgPT4gJ8OKJywKJ8OrJyA9PiAnw4snLAonw6wnID0+ICfDjCcsCifDrScgPT4gJ8ONJywKJ8OuJyA9PiAnw44nLAonw68nID0+ICfDjycsCifDsCcgPT4gJ8OQJywKJ8OxJyA9PiAnw5EnLAonw7InID0+ICfDkicsCifDsycgPT4gJ8OTJywKJ8O0JyA9PiAnw5QnLAonw7UnID0+ICfDlScsCifDticgPT4gJ8OWJywKJ8O4JyA9PiAnw5gnLAonw7knID0+ICfDmScsCifDuicgPT4gJ8OaJywKJ8O7JyA9PiAnw5snLAonw7wnID0+ICfDnCcsCifDvScgPT4gJ8OdJywKJ8O+JyA9PiAnw54nLAonw78nID0+ICfFuCcsCifEgScgPT4gJ8SAJywKJ8SDJyA9PiAnxIInLAonxIUnID0+ICfEhCcsCifEhycgPT4gJ8SGJywKJ8SJJyA9PiAnxIgnLAonxIsnID0+ICfEiicsCifEjScgPT4gJ8SMJywKJ8SPJyA9PiAnxI4nLAonxJEnID0+ICfEkCcsCifEkycgPT4gJ8SSJywKJ8SVJyA9PiAnxJQnLAonxJcnID0+ICfElicsCifEmScgPT4gJ8SYJywKJ8SbJyA9PiAnxJonLAonxJ0nID0+ICfEnCcsCifEnycgPT4gJ8SeJywKJ8ShJyA9PiAnxKAnLAonxKMnID0+ICfEoicsCifEpScgPT4gJ8SkJywKJ8SnJyA9PiAnxKYnLAonxKknID0+ICfEqCcsCifEqycgPT4gJ8SqJywKJ8StJyA9PiAnxKwnLAonxK8nID0+ICfEricsCifEsScgPT4gJ0knLAonxLMnID0+ICfEsicsCifEtScgPT4gJ8S0JywKJ8S3JyA9PiAnxLYnLAonxLonID0+ICfEuScsCifEvCcgPT4gJ8S7JywKJ8S+JyA9PiAnxL0nLAonxYAnID0+ICfEvycsCifFgicgPT4gJ8WBJywKJ8WEJyA9PiAnxYMnLAonxYYnID0+ICfFhScsCifFiCcgPT4gJ8WHJywKJ8WLJyA9PiAnxYonLAonxY0nID0+ICfFjCcsCifFjycgPT4gJ8WOJywKJ8WRJyA9PiAnxZAnLAonxZMnID0+ICfFkicsCifFlScgPT4gJ8WUJywKJ8WXJyA9PiAnxZYnLAonxZknID0+ICfFmCcsCifFmycgPT4gJ8WaJywKJ8WdJyA9PiAnxZwnLAonxZ8nID0+ICfFnicsCifFoScgPT4gJ8WgJywKJ8WjJyA9PiAnxaInLAonxaUnID0+ICfFpCcsCifFpycgPT4gJ8WmJywKJ8WpJyA9PiAnxagnLAonxasnID0+ICfFqicsCifFrScgPT4gJ8WsJywKJ8WvJyA9PiAnxa4nLAonxbEnID0+ICfFsCcsCifFsycgPT4gJ8WyJywKJ8W1JyA9PiAnxbQnLAonxbcnID0+ICfFticsCifFuicgPT4gJ8W5JywKJ8W8JyA9PiAnxbsnLAonxb4nID0+ICfFvScsCifFvycgPT4gJ1MnLAonxoAnID0+ICfJgycsCifGgycgPT4gJ8aCJywKJ8aFJyA9PiAnxoQnLAonxognID0+ICfGhycsCifGjCcgPT4gJ8aLJywKJ8aSJyA9PiAnxpEnLAonxpUnID0+ICfHticsCifGmScgPT4gJ8aYJywKJ8aaJyA9PiAnyL0nLAonxp4nID0+ICfIoCcsCifGoScgPT4gJ8agJywKJ8ajJyA9PiAnxqInLAonxqUnID0+ICfGpCcsCifGqCcgPT4gJ8anJywKJ8atJyA9PiAnxqwnLAonxrAnID0+ICfGrycsCifGtCcgPT4gJ8azJywKJ8a2JyA9PiAnxrUnLAonxrknID0+ICfGuCcsCifGvScgPT4gJ8a8JywKJ8a/JyA9PiAnx7cnLAonx4UnID0+ICfHhCcsCifHhicgPT4gJ8eEJywKJ8eIJyA9PiAnx4cnLAonx4knID0+ICfHhycsCifHiycgPT4gJ8eKJywKJ8eMJyA9PiAnx4onLAonx44nID0+ICfHjScsCifHkCcgPT4gJ8ePJywKJ8eSJyA9PiAnx5EnLAonx5QnID0+ICfHkycsCifHlicgPT4gJ8eVJywKJ8eYJyA9PiAnx5cnLAonx5onID0+ICfHmScsCifHnCcgPT4gJ8ebJywKJ8edJyA9PiAnxo4nLAonx58nID0+ICfHnicsCifHoScgPT4gJ8egJywKJ8ejJyA9PiAnx6InLAonx6UnID0+ICfHpCcsCifHpycgPT4gJ8emJywKJ8epJyA9PiAnx6gnLAonx6snID0+ICfHqicsCifHrScgPT4gJ8esJywKJ8evJyA9PiAnx64nLAonx7InID0+ICfHsScsCifHsycgPT4gJ8exJywKJ8e1JyA9PiAnx7QnLAonx7knID0+ICfHuCcsCifHuycgPT4gJ8e6JywKJ8e9JyA9PiAnx7wnLAonx78nID0+ICfHvicsCifIgScgPT4gJ8iAJywKJ8iDJyA9PiAnyIInLAonyIUnID0+ICfIhCcsCifIhycgPT4gJ8iGJywKJ8iJJyA9PiAnyIgnLAonyIsnID0+ICfIiicsCifIjScgPT4gJ8iMJywKJ8iPJyA9PiAnyI4nLAonyJEnID0+ICfIkCcsCifIkycgPT4gJ8iSJywKJ8iVJyA9PiAnyJQnLAonyJcnID0+ICfIlicsCifImScgPT4gJ8iYJywKJ8ibJyA9PiAnyJonLAonyJ0nID0+ICfInCcsCifInycgPT4gJ8ieJywKJ8ijJyA9PiAnyKInLAonyKUnID0+ICfIpCcsCifIpycgPT4gJ8imJywKJ8ipJyA9PiAnyKgnLAonyKsnID0+ICfIqicsCifIrScgPT4gJ8isJywKJ8ivJyA9PiAnyK4nLAonyLEnID0+ICfIsCcsCifIsycgPT4gJ8iyJywKJ8i8JyA9PiAnyLsnLAonyL8nID0+ICfisb4nLAonyYAnID0+ICfisb8nLAonyYInID0+ICfJgScsCifJhycgPT4gJ8mGJywKJ8mJJyA9PiAnyYgnLAonyYsnID0+ICfJiicsCifJjScgPT4gJ8mMJywKJ8mPJyA9PiAnyY4nLAonyZAnID0+ICfisa8nLAonyZEnID0+ICfisa0nLAonyZInID0+ICfisbAnLAonyZMnID0+ICfGgScsCifJlCcgPT4gJ8aGJywKJ8mWJyA9PiAnxoknLAonyZcnID0+ICfGiicsCifJmScgPT4gJ8aPJywKJ8mbJyA9PiAnxpAnLAonyZwnID0+ICfqnqsnLAonyaAnID0+ICfGkycsCifJoScgPT4gJ+qerCcsCifJoycgPT4gJ8aUJywKJ8mlJyA9PiAn6p6NJywKJ8mmJyA9PiAn6p6qJywKJ8moJyA9PiAnxpcnLAonyaknID0+ICfGlicsCifJqicgPT4gJ+qericsCifJqycgPT4gJ+KxoicsCifJrCcgPT4gJ+qerScsCifJrycgPT4gJ8acJywKJ8mxJyA9PiAn4rGuJywKJ8myJyA9PiAnxp0nLAonybUnID0+ICfGnycsCifJvScgPT4gJ+KxpCcsCifKgCcgPT4gJ8amJywKJ8qCJyA9PiAn6p+FJywKJ8qDJyA9PiAnxqknLAonyocnID0+ICfqnrEnLAonyognID0+ICfGricsCifKiScgPT4gJ8mEJywKJ8qKJyA9PiAnxrEnLAonyosnID0+ICfGsicsCifKjCcgPT4gJ8mFJywKJ8qSJyA9PiAnxrcnLAonyp0nID0+ICfqnrInLAonyp4nID0+ICfqnrAnLAonzYUnID0+ICfOmScsCifNsScgPT4gJ82wJywKJ82zJyA9PiAnzbInLAonzbcnID0+ICfNticsCifNuycgPT4gJ8+9JywKJ828JyA9PiAnz74nLAonzb0nID0+ICfPvycsCifOrCcgPT4gJ86GJywKJ86tJyA9PiAnzognLAonzq4nID0+ICfOiScsCifOrycgPT4gJ86KJywKJ86xJyA9PiAnzpEnLAonzrInID0+ICfOkicsCifOsycgPT4gJ86TJywKJ860JyA9PiAnzpQnLAonzrUnID0+ICfOlScsCifOticgPT4gJ86WJywKJ863JyA9PiAnzpcnLAonzrgnID0+ICfOmCcsCifOuScgPT4gJ86ZJywKJ866JyA9PiAnzponLAonzrsnID0+ICfOmycsCifOvCcgPT4gJ86cJywKJ869JyA9PiAnzp0nLAonzr4nID0+ICfOnicsCifOvycgPT4gJ86fJywKJ8+AJyA9PiAnzqAnLAonz4EnID0+ICfOoScsCifPgicgPT4gJ86jJywKJ8+DJyA9PiAnzqMnLAonz4QnID0+ICfOpCcsCifPhScgPT4gJ86lJywKJ8+GJyA9PiAnzqYnLAonz4cnID0+ICfOpycsCifPiCcgPT4gJ86oJywKJ8+JJyA9PiAnzqknLAonz4onID0+ICfOqicsCifPiycgPT4gJ86rJywKJ8+MJyA9PiAnzownLAonz40nID0+ICfOjicsCifPjicgPT4gJ86PJywKJ8+QJyA9PiAnzpInLAonz5EnID0+ICfOmCcsCifPlScgPT4gJ86mJywKJ8+WJyA9PiAnzqAnLAonz5cnID0+ICfPjycsCifPmScgPT4gJ8+YJywKJ8+bJyA9PiAnz5onLAonz50nID0+ICfPnCcsCifPnycgPT4gJ8+eJywKJ8+hJyA9PiAnz6AnLAonz6MnID0+ICfPoicsCifPpScgPT4gJ8+kJywKJ8+nJyA9PiAnz6YnLAonz6knID0+ICfPqCcsCifPqycgPT4gJ8+qJywKJ8+tJyA9PiAnz6wnLAonz68nID0+ICfPricsCifPsCcgPT4gJ86aJywKJ8+xJyA9PiAnzqEnLAonz7InID0+ICfPuScsCifPsycgPT4gJ82/JywKJ8+1JyA9PiAnzpUnLAonz7gnID0+ICfPtycsCifPuycgPT4gJ8+6JywKJ9CwJyA9PiAn0JAnLAon0LEnID0+ICfQkScsCifQsicgPT4gJ9CSJywKJ9CzJyA9PiAn0JMnLAon0LQnID0+ICfQlCcsCifQtScgPT4gJ9CVJywKJ9C2JyA9PiAn0JYnLAon0LcnID0+ICfQlycsCifQuCcgPT4gJ9CYJywKJ9C5JyA9PiAn0JknLAon0LonID0+ICfQmicsCifQuycgPT4gJ9CbJywKJ9C8JyA9PiAn0JwnLAon0L0nID0+ICfQnScsCifQvicgPT4gJ9CeJywKJ9C/JyA9PiAn0J8nLAon0YAnID0+ICfQoCcsCifRgScgPT4gJ9ChJywKJ9GCJyA9PiAn0KInLAon0YMnID0+ICfQoycsCifRhCcgPT4gJ9CkJywKJ9GFJyA9PiAn0KUnLAon0YYnID0+ICfQpicsCifRhycgPT4gJ9CnJywKJ9GIJyA9PiAn0KgnLAon0YknID0+ICfQqScsCifRiicgPT4gJ9CqJywKJ9GLJyA9PiAn0KsnLAon0YwnID0+ICfQrCcsCifRjScgPT4gJ9CtJywKJ9GOJyA9PiAn0K4nLAon0Y8nID0+ICfQrycsCifRkCcgPT4gJ9CAJywKJ9GRJyA9PiAn0IEnLAon0ZInID0+ICfQgicsCifRkycgPT4gJ9CDJywKJ9GUJyA9PiAn0IQnLAon0ZUnID0+ICfQhScsCifRlicgPT4gJ9CGJywKJ9GXJyA9PiAn0IcnLAon0ZgnID0+ICfQiCcsCifRmScgPT4gJ9CJJywKJ9GaJyA9PiAn0IonLAon0ZsnID0+ICfQiycsCifRnCcgPT4gJ9CMJywKJ9GdJyA9PiAn0I0nLAon0Z4nID0+ICfQjicsCifRnycgPT4gJ9CPJywKJ9GhJyA9PiAn0aAnLAon0aMnID0+ICfRoicsCifRpScgPT4gJ9GkJywKJ9GnJyA9PiAn0aYnLAon0aknID0+ICfRqCcsCifRqycgPT4gJ9GqJywKJ9GtJyA9PiAn0awnLAon0a8nID0+ICfRricsCifRsScgPT4gJ9GwJywKJ9GzJyA9PiAn0bInLAon0bUnID0+ICfRtCcsCifRtycgPT4gJ9G2JywKJ9G5JyA9PiAn0bgnLAon0bsnID0+ICfRuicsCifRvScgPT4gJ9G8JywKJ9G/JyA9PiAn0b4nLAon0oEnID0+ICfSgCcsCifSiycgPT4gJ9KKJywKJ9KNJyA9PiAn0ownLAon0o8nID0+ICfSjicsCifSkScgPT4gJ9KQJywKJ9KTJyA9PiAn0pInLAon0pUnID0+ICfSlCcsCifSlycgPT4gJ9KWJywKJ9KZJyA9PiAn0pgnLAon0psnID0+ICfSmicsCifSnScgPT4gJ9KcJywKJ9KfJyA9PiAn0p4nLAon0qEnID0+ICfSoCcsCifSoycgPT4gJ9KiJywKJ9KlJyA9PiAn0qQnLAon0qcnID0+ICfSpicsCifSqScgPT4gJ9KoJywKJ9KrJyA9PiAn0qonLAon0q0nID0+ICfSrCcsCifSrycgPT4gJ9KuJywKJ9KxJyA9PiAn0rAnLAon0rMnID0+ICfSsicsCifStScgPT4gJ9K0JywKJ9K3JyA9PiAn0rYnLAon0rknID0+ICfSuCcsCifSuycgPT4gJ9K6JywKJ9K9JyA9PiAn0rwnLAon0r8nID0+ICfSvicsCifTgicgPT4gJ9OBJywKJ9OEJyA9PiAn04MnLAon04YnID0+ICfThScsCifTiCcgPT4gJ9OHJywKJ9OKJyA9PiAn04knLAon04wnID0+ICfTiycsCifTjicgPT4gJ9ONJywKJ9OPJyA9PiAn04AnLAon05EnID0+ICfTkCcsCifTkycgPT4gJ9OSJywKJ9OVJyA9PiAn05QnLAon05cnID0+ICfTlicsCifTmScgPT4gJ9OYJywKJ9ObJyA9PiAn05onLAon050nID0+ICfTnCcsCifTnycgPT4gJ9OeJywKJ9OhJyA9PiAn06AnLAon06MnID0+ICfToicsCifTpScgPT4gJ9OkJywKJ9OnJyA9PiAn06YnLAon06knID0+ICfTqCcsCifTqycgPT4gJ9OqJywKJ9OtJyA9PiAn06wnLAon068nID0+ICfTricsCifTsScgPT4gJ9OwJywKJ9OzJyA9PiAn07InLAon07UnID0+ICfTtCcsCifTtycgPT4gJ9O2JywKJ9O5JyA9PiAn07gnLAon07snID0+ICfTuicsCifTvScgPT4gJ9O8JywKJ9O/JyA9PiAn074nLAon1IEnID0+ICfUgCcsCifUgycgPT4gJ9SCJywKJ9SFJyA9PiAn1IQnLAon1IcnID0+ICfUhicsCifUiScgPT4gJ9SIJywKJ9SLJyA9PiAn1IonLAon1I0nID0+ICfUjCcsCifUjycgPT4gJ9SOJywKJ9SRJyA9PiAn1JAnLAon1JMnID0+ICfUkicsCifUlScgPT4gJ9SUJywKJ9SXJyA9PiAn1JYnLAon1JknID0+ICfUmCcsCifUmycgPT4gJ9SaJywKJ9SdJyA9PiAn1JwnLAon1J8nID0+ICfUnicsCifUoScgPT4gJ9SgJywKJ9SjJyA9PiAn1KInLAon1KUnID0+ICfUpCcsCifUpycgPT4gJ9SmJywKJ9SpJyA9PiAn1KgnLAon1KsnID0+ICfUqicsCifUrScgPT4gJ9SsJywKJ9SvJyA9PiAn1K4nLAon1aEnID0+ICfUsScsCifVoicgPT4gJ9SyJywKJ9WjJyA9PiAn1LMnLAon1aQnID0+ICfUtCcsCifVpScgPT4gJ9S1JywKJ9WmJyA9PiAn1LYnLAon1acnID0+ICfUtycsCifVqCcgPT4gJ9S4JywKJ9WpJyA9PiAn1LknLAon1aonID0+ICfUuicsCifVqycgPT4gJ9S7JywKJ9WsJyA9PiAn1LwnLAon1a0nID0+ICfUvScsCifVricgPT4gJ9S+JywKJ9WvJyA9PiAn1L8nLAon1bAnID0+ICfVgCcsCifVsScgPT4gJ9WBJywKJ9WyJyA9PiAn1YInLAon1bMnID0+ICfVgycsCifVtCcgPT4gJ9WEJywKJ9W1JyA9PiAn1YUnLAon1bYnID0+ICfVhicsCifVtycgPT4gJ9WHJywKJ9W4JyA9PiAn1YgnLAon1bknID0+ICfViScsCifVuicgPT4gJ9WKJywKJ9W7JyA9PiAn1YsnLAon1bwnID0+ICfVjCcsCifVvScgPT4gJ9WNJywKJ9W+JyA9PiAn1Y4nLAon1b8nID0+ICfVjycsCifWgCcgPT4gJ9WQJywKJ9aBJyA9PiAn1ZEnLAon1oInID0+ICfVkicsCifWgycgPT4gJ9WTJywKJ9aEJyA9PiAn1ZQnLAon1oUnID0+ICfVlScsCifWhicgPT4gJ9WWJywKJ+GDkCcgPT4gJ+GykCcsCifhg5EnID0+ICfhspEnLAon4YOSJyA9PiAn4bKSJywKJ+GDkycgPT4gJ+GykycsCifhg5QnID0+ICfhspQnLAon4YOVJyA9PiAn4bKVJywKJ+GDlicgPT4gJ+GylicsCifhg5cnID0+ICfhspcnLAon4YOYJyA9PiAn4bKYJywKJ+GDmScgPT4gJ+GymScsCifhg5onID0+ICfhsponLAon4YObJyA9PiAn4bKbJywKJ+GDnCcgPT4gJ+GynCcsCifhg50nID0+ICfhsp0nLAon4YOeJyA9PiAn4bKeJywKJ+GDnycgPT4gJ+GynycsCifhg6AnID0+ICfhsqAnLAon4YOhJyA9PiAn4bKhJywKJ+GDoicgPT4gJ+GyoicsCifhg6MnID0+ICfhsqMnLAon4YOkJyA9PiAn4bKkJywKJ+GDpScgPT4gJ+GypScsCifhg6YnID0+ICfhsqYnLAon4YOnJyA9PiAn4bKnJywKJ+GDqCcgPT4gJ+GyqCcsCifhg6knID0+ICfhsqknLAon4YOqJyA9PiAn4bKqJywKJ+GDqycgPT4gJ+GyqycsCifhg6wnID0+ICfhsqwnLAon4YOtJyA9PiAn4bKtJywKJ+GDricgPT4gJ+GyricsCifhg68nID0+ICfhsq8nLAon4YOwJyA9PiAn4bKwJywKJ+GDsScgPT4gJ+GysScsCifhg7InID0+ICfhsrInLAon4YOzJyA9PiAn4bKzJywKJ+GDtCcgPT4gJ+GytCcsCifhg7UnID0+ICfhsrUnLAon4YO2JyA9PiAn4bK2JywKJ+GDtycgPT4gJ+GytycsCifhg7gnID0+ICfhsrgnLAon4YO5JyA9PiAn4bK5JywKJ+GDuicgPT4gJ+GyuicsCifhg70nID0+ICfhsr0nLAon4YO+JyA9PiAn4bK+JywKJ+GDvycgPT4gJ+GyvycsCifhj7gnID0+ICfhj7AnLAon4Y+5JyA9PiAn4Y+xJywKJ+GPuicgPT4gJ+GPsicsCifhj7snID0+ICfhj7MnLAon4Y+8JyA9PiAn4Y+0JywKJ+GPvScgPT4gJ+GPtScsCifhsoAnID0+ICfQkicsCifhsoEnID0+ICfQlCcsCifhsoInID0+ICfQnicsCifhsoMnID0+ICfQoScsCifhsoQnID0+ICfQoicsCifhsoUnID0+ICfQoicsCifhsoYnID0+ICfQqicsCifhsocnID0+ICfRoicsCifhsognID0+ICfqmYonLAon4bW5JyA9PiAn6p29JywKJ+G1vScgPT4gJ+KxoycsCifhto4nID0+ICfqn4YnLAon4biBJyA9PiAn4biAJywKJ+G4gycgPT4gJ+G4gicsCifhuIUnID0+ICfhuIQnLAon4biHJyA9PiAn4biGJywKJ+G4iScgPT4gJ+G4iCcsCifhuIsnID0+ICfhuIonLAon4biNJyA9PiAn4biMJywKJ+G4jycgPT4gJ+G4jicsCifhuJEnID0+ICfhuJAnLAon4biTJyA9PiAn4biSJywKJ+G4lScgPT4gJ+G4lCcsCifhuJcnID0+ICfhuJYnLAon4biZJyA9PiAn4biYJywKJ+G4mycgPT4gJ+G4micsCifhuJ0nID0+ICfhuJwnLAon4bifJyA9PiAn4bieJywKJ+G4oScgPT4gJ+G4oCcsCifhuKMnID0+ICfhuKInLAon4bilJyA9PiAn4bikJywKJ+G4pycgPT4gJ+G4picsCifhuKknID0+ICfhuKgnLAon4birJyA9PiAn4biqJywKJ+G4rScgPT4gJ+G4rCcsCifhuK8nID0+ICfhuK4nLAon4bixJyA9PiAn4biwJywKJ+G4sycgPT4gJ+G4sicsCifhuLUnID0+ICfhuLQnLAon4bi3JyA9PiAn4bi2JywKJ+G4uScgPT4gJ+G4uCcsCifhuLsnID0+ICfhuLonLAon4bi9JyA9PiAn4bi8JywKJ+G4vycgPT4gJ+G4vicsCifhuYEnID0+ICfhuYAnLAon4bmDJyA9PiAn4bmCJywKJ+G5hScgPT4gJ+G5hCcsCifhuYcnID0+ICfhuYYnLAon4bmJJyA9PiAn4bmIJywKJ+G5iycgPT4gJ+G5iicsCifhuY0nID0+ICfhuYwnLAon4bmPJyA9PiAn4bmOJywKJ+G5kScgPT4gJ+G5kCcsCifhuZMnID0+ICfhuZInLAon4bmVJyA9PiAn4bmUJywKJ+G5lycgPT4gJ+G5licsCifhuZknID0+ICfhuZgnLAon4bmbJyA9PiAn4bmaJywKJ+G5nScgPT4gJ+G5nCcsCifhuZ8nID0+ICfhuZ4nLAon4bmhJyA9PiAn4bmgJywKJ+G5oycgPT4gJ+G5oicsCifhuaUnID0+ICfhuaQnLAon4bmnJyA9PiAn4bmmJywKJ+G5qScgPT4gJ+G5qCcsCifhuasnID0+ICfhuaonLAon4bmtJyA9PiAn4bmsJywKJ+G5rycgPT4gJ+G5ricsCifhubEnID0+ICfhubAnLAon4bmzJyA9PiAn4bmyJywKJ+G5tScgPT4gJ+G5tCcsCifhubcnID0+ICfhubYnLAon4bm5JyA9PiAn4bm4JywKJ+G5uycgPT4gJ+G5uicsCifhub0nID0+ICfhubwnLAon4bm/JyA9PiAn4bm+JywKJ+G6gScgPT4gJ+G6gCcsCifhuoMnID0+ICfhuoInLAon4bqFJyA9PiAn4bqEJywKJ+G6hycgPT4gJ+G6hicsCifhuoknID0+ICfhuognLAon4bqLJyA9PiAn4bqKJywKJ+G6jScgPT4gJ+G6jCcsCifhuo8nID0+ICfhuo4nLAon4bqRJyA9PiAn4bqQJywKJ+G6kycgPT4gJ+G6kicsCifhupUnID0+ICfhupQnLAon4bqbJyA9PiAn4bmgJywKJ+G6oScgPT4gJ+G6oCcsCifhuqMnID0+ICfhuqInLAon4bqlJyA9PiAn4bqkJywKJ+G6pycgPT4gJ+G6picsCifhuqknID0+ICfhuqgnLAon4bqrJyA9PiAn4bqqJywKJ+G6rScgPT4gJ+G6rCcsCifhuq8nID0+ICfhuq4nLAon4bqxJyA9PiAn4bqwJywKJ+G6sycgPT4gJ+G6sicsCifhurUnID0+ICfhurQnLAon4bq3JyA9PiAn4bq2JywKJ+G6uScgPT4gJ+G6uCcsCifhursnID0+ICfhuronLAon4bq9JyA9PiAn4bq8JywKJ+G6vycgPT4gJ+G6vicsCifhu4EnID0+ICfhu4AnLAon4buDJyA9PiAn4buCJywKJ+G7hScgPT4gJ+G7hCcsCifhu4cnID0+ICfhu4YnLAon4buJJyA9PiAn4buIJywKJ+G7iycgPT4gJ+G7iicsCifhu40nID0+ICfhu4wnLAon4buPJyA9PiAn4buOJywKJ+G7kScgPT4gJ+G7kCcsCifhu5MnID0+ICfhu5InLAon4buVJyA9PiAn4buUJywKJ+G7lycgPT4gJ+G7licsCifhu5knID0+ICfhu5gnLAon4bubJyA9PiAn4buaJywKJ+G7nScgPT4gJ+G7nCcsCifhu58nID0+ICfhu54nLAon4buhJyA9PiAn4bugJywKJ+G7oycgPT4gJ+G7oicsCifhu6UnID0+ICfhu6QnLAon4bunJyA9PiAn4bumJywKJ+G7qScgPT4gJ+G7qCcsCifhu6snID0+ICfhu6onLAon4butJyA9PiAn4busJywKJ+G7rycgPT4gJ+G7ricsCifhu7EnID0+ICfhu7AnLAon4buzJyA9PiAn4buyJywKJ+G7tScgPT4gJ+G7tCcsCifhu7cnID0+ICfhu7YnLAon4bu5JyA9PiAn4bu4JywKJ+G7uycgPT4gJ+G7uicsCifhu70nID0+ICfhu7wnLAon4bu/JyA9PiAn4bu+JywKJ+G8gCcgPT4gJ+G8iCcsCifhvIEnID0+ICfhvIknLAon4byCJyA9PiAn4byKJywKJ+G8gycgPT4gJ+G8iycsCifhvIQnID0+ICfhvIwnLAon4byFJyA9PiAn4byNJywKJ+G8hicgPT4gJ+G8jicsCifhvIcnID0+ICfhvI8nLAon4byQJyA9PiAn4byYJywKJ+G8kScgPT4gJ+G8mScsCifhvJInID0+ICfhvJonLAon4byTJyA9PiAn4bybJywKJ+G8lCcgPT4gJ+G8nCcsCifhvJUnID0+ICfhvJ0nLAon4bygJyA9PiAn4byoJywKJ+G8oScgPT4gJ+G8qScsCifhvKInID0+ICfhvKonLAon4byjJyA9PiAn4byrJywKJ+G8pCcgPT4gJ+G8rCcsCifhvKUnID0+ICfhvK0nLAon4bymJyA9PiAn4byuJywKJ+G8pycgPT4gJ+G8rycsCifhvLAnID0+ICfhvLgnLAon4byxJyA9PiAn4by5JywKJ+G8sicgPT4gJ+G8uicsCifhvLMnID0+ICfhvLsnLAon4by0JyA9PiAn4by8JywKJ+G8tScgPT4gJ+G8vScsCifhvLYnID0+ICfhvL4nLAon4by3JyA9PiAn4by/JywKJ+G9gCcgPT4gJ+G9iCcsCifhvYEnID0+ICfhvYknLAon4b2CJyA9PiAn4b2KJywKJ+G9gycgPT4gJ+G9iycsCifhvYQnID0+ICfhvYwnLAon4b2FJyA9PiAn4b2NJywKJ+G9kScgPT4gJ+G9mScsCifhvZMnID0+ICfhvZsnLAon4b2VJyA9PiAn4b2dJywKJ+G9lycgPT4gJ+G9nycsCifhvaAnID0+ICfhvagnLAon4b2hJyA9PiAn4b2pJywKJ+G9oicgPT4gJ+G9qicsCifhvaMnID0+ICfhvasnLAon4b2kJyA9PiAn4b2sJywKJ+G9pScgPT4gJ+G9rScsCifhvaYnID0+ICfhva4nLAon4b2nJyA9PiAn4b2vJywKJ+G9sCcgPT4gJ+G+uicsCifhvbEnID0+ICfhvrsnLAon4b2yJyA9PiAn4b+IJywKJ+G9sycgPT4gJ+G/iScsCifhvbQnID0+ICfhv4onLAon4b21JyA9PiAn4b+LJywKJ+G9ticgPT4gJ+G/micsCifhvbcnID0+ICfhv5snLAon4b24JyA9PiAn4b+4JywKJ+G9uScgPT4gJ+G/uScsCifhvbonID0+ICfhv6onLAon4b27JyA9PiAn4b+rJywKJ+G9vCcgPT4gJ+G/uicsCifhvb0nID0+ICfhv7snLAon4b6AJyA9PiAn4b6IJywKJ+G+gScgPT4gJ+G+iScsCifhvoInID0+ICfhvoonLAon4b6DJyA9PiAn4b6LJywKJ+G+hCcgPT4gJ+G+jCcsCifhvoUnID0+ICfhvo0nLAon4b6GJyA9PiAn4b6OJywKJ+G+hycgPT4gJ+G+jycsCifhvpAnID0+ICfhvpgnLAon4b6RJyA9PiAn4b6ZJywKJ+G+kicgPT4gJ+G+micsCifhvpMnID0+ICfhvpsnLAon4b6UJyA9PiAn4b6cJywKJ+G+lScgPT4gJ+G+nScsCifhvpYnID0+ICfhvp4nLAon4b6XJyA9PiAn4b6fJywKJ+G+oCcgPT4gJ+G+qCcsCifhvqEnID0+ICfhvqknLAon4b6iJyA9PiAn4b6qJywKJ+G+oycgPT4gJ+G+qycsCifhvqQnID0+ICfhvqwnLAon4b6lJyA9PiAn4b6tJywKJ+G+picgPT4gJ+G+ricsCifhvqcnID0+ICfhvq8nLAon4b6wJyA9PiAn4b64JywKJ+G+sScgPT4gJ+G+uScsCifhvrMnID0+ICfhvrwnLAon4b6+JyA9PiAnzpknLAon4b+DJyA9PiAn4b+MJywKJ+G/kCcgPT4gJ+G/mCcsCifhv5EnID0+ICfhv5knLAon4b+gJyA9PiAn4b+oJywKJ+G/oScgPT4gJ+G/qScsCifhv6UnID0+ICfhv6wnLAon4b+zJyA9PiAn4b+8JywKJ+KFjicgPT4gJ+KEsicsCifihbAnID0+ICfihaAnLAon4oWxJyA9PiAn4oWhJywKJ+KFsicgPT4gJ+KFoicsCifihbMnID0+ICfihaMnLAon4oW0JyA9PiAn4oWkJywKJ+KFtScgPT4gJ+KFpScsCifihbYnID0+ICfihaYnLAon4oW3JyA9PiAn4oWnJywKJ+KFuCcgPT4gJ+KFqCcsCifihbknID0+ICfihaknLAon4oW6JyA9PiAn4oWqJywKJ+KFuycgPT4gJ+KFqycsCifihbwnID0+ICfihawnLAon4oW9JyA9PiAn4oWtJywKJ+KFvicgPT4gJ+KFricsCifihb8nID0+ICfiha8nLAon4oaEJyA9PiAn4oaDJywKJ+KTkCcgPT4gJ+KSticsCifik5EnID0+ICfikrcnLAon4pOSJyA9PiAn4pK4JywKJ+KTkycgPT4gJ+KSuScsCifik5QnID0+ICfikronLAon4pOVJyA9PiAn4pK7JywKJ+KTlicgPT4gJ+KSvCcsCifik5cnID0+ICfikr0nLAon4pOYJyA9PiAn4pK+JywKJ+KTmScgPT4gJ+KSvycsCifik5onID0+ICfik4AnLAon4pObJyA9PiAn4pOBJywKJ+KTnCcgPT4gJ+KTgicsCifik50nID0+ICfik4MnLAon4pOeJyA9PiAn4pOEJywKJ+KTnycgPT4gJ+KThScsCifik6AnID0+ICfik4YnLAon4pOhJyA9PiAn4pOHJywKJ+KToicgPT4gJ+KTiCcsCifik6MnID0+ICfik4knLAon4pOkJyA9PiAn4pOKJywKJ+KTpScgPT4gJ+KTiycsCifik6YnID0+ICfik4wnLAon4pOnJyA9PiAn4pONJywKJ+KTqCcgPT4gJ+KTjicsCifik6knID0+ICfik48nLAon4rCwJyA9PiAn4rCAJywKJ+KwsScgPT4gJ+KwgScsCifisLInID0+ICfisIInLAon4rCzJyA9PiAn4rCDJywKJ+KwtCcgPT4gJ+KwhCcsCifisLUnID0+ICfisIUnLAon4rC2JyA9PiAn4rCGJywKJ+KwtycgPT4gJ+KwhycsCifisLgnID0+ICfisIgnLAon4rC5JyA9PiAn4rCJJywKJ+KwuicgPT4gJ+KwiicsCifisLsnID0+ICfisIsnLAon4rC8JyA9PiAn4rCMJywKJ+KwvScgPT4gJ+KwjScsCifisL4nID0+ICfisI4nLAon4rC/JyA9PiAn4rCPJywKJ+KxgCcgPT4gJ+KwkCcsCifisYEnID0+ICfisJEnLAon4rGCJyA9PiAn4rCSJywKJ+KxgycgPT4gJ+KwkycsCifisYQnID0+ICfisJQnLAon4rGFJyA9PiAn4rCVJywKJ+KxhicgPT4gJ+KwlicsCifisYcnID0+ICfisJcnLAon4rGIJyA9PiAn4rCYJywKJ+KxiScgPT4gJ+KwmScsCifisYonID0+ICfisJonLAon4rGLJyA9PiAn4rCbJywKJ+KxjCcgPT4gJ+KwnCcsCifisY0nID0+ICfisJ0nLAon4rGOJyA9PiAn4rCeJywKJ+KxjycgPT4gJ+KwnycsCifisZAnID0+ICfisKAnLAon4rGRJyA9PiAn4rChJywKJ+KxkicgPT4gJ+KwoicsCifisZMnID0+ICfisKMnLAon4rGUJyA9PiAn4rCkJywKJ+KxlScgPT4gJ+KwpScsCifisZYnID0+ICfisKYnLAon4rGXJyA9PiAn4rCnJywKJ+KxmCcgPT4gJ+KwqCcsCifisZknID0+ICfisKknLAon4rGaJyA9PiAn4rCqJywKJ+KxmycgPT4gJ+KwqycsCifisZwnID0+ICfisKwnLAon4rGdJyA9PiAn4rCtJywKJ+KxnicgPT4gJ+KwricsCifisaEnID0+ICfisaAnLAon4rGlJyA9PiAnyLonLAon4rGmJyA9PiAnyL4nLAon4rGoJyA9PiAn4rGnJywKJ+KxqicgPT4gJ+KxqScsCifisawnID0+ICfisasnLAon4rGzJyA9PiAn4rGyJywKJ+KxticgPT4gJ+KxtScsCifisoEnID0+ICfisoAnLAon4rKDJyA9PiAn4rKCJywKJ+KyhScgPT4gJ+KyhCcsCifisocnID0+ICfisoYnLAon4rKJJyA9PiAn4rKIJywKJ+KyiycgPT4gJ+KyiicsCifiso0nID0+ICfisownLAon4rKPJyA9PiAn4rKOJywKJ+KykScgPT4gJ+KykCcsCifispMnID0+ICfispInLAon4rKVJyA9PiAn4rKUJywKJ+KylycgPT4gJ+KylicsCifispknID0+ICfispgnLAon4rKbJyA9PiAn4rKaJywKJ+KynScgPT4gJ+KynCcsCifisp8nID0+ICfisp4nLAon4rKhJyA9PiAn4rKgJywKJ+KyoycgPT4gJ+KyoicsCifisqUnID0+ICfisqQnLAon4rKnJyA9PiAn4rKmJywKJ+KyqScgPT4gJ+KyqCcsCifisqsnID0+ICfisqonLAon4rKtJyA9PiAn4rKsJywKJ+KyrycgPT4gJ+KyricsCifisrEnID0+ICfisrAnLAon4rKzJyA9PiAn4rKyJywKJ+KytScgPT4gJ+KytCcsCifisrcnID0+ICfisrYnLAon4rK5JyA9PiAn4rK4JywKJ+KyuycgPT4gJ+KyuicsCifisr0nID0+ICfisrwnLAon4rK/JyA9PiAn4rK+JywKJ+KzgScgPT4gJ+KzgCcsCifis4MnID0+ICfis4InLAon4rOFJyA9PiAn4rOEJywKJ+KzhycgPT4gJ+KzhicsCifis4knID0+ICfis4gnLAon4rOLJyA9PiAn4rOKJywKJ+KzjScgPT4gJ+KzjCcsCifis48nID0+ICfis44nLAon4rORJyA9PiAn4rOQJywKJ+KzkycgPT4gJ+KzkicsCifis5UnID0+ICfis5QnLAon4rOXJyA9PiAn4rOWJywKJ+KzmScgPT4gJ+KzmCcsCifis5snID0+ICfis5onLAon4rOdJyA9PiAn4rOcJywKJ+KznycgPT4gJ+KznicsCifis6EnID0+ICfis6AnLAon4rOjJyA9PiAn4rOiJywKJ+KzrCcgPT4gJ+KzqycsCifis64nID0+ICfis60nLAon4rOzJyA9PiAn4rOyJywKJ+K0gCcgPT4gJ+GCoCcsCifitIEnID0+ICfhgqEnLAon4rSCJyA9PiAn4YKiJywKJ+K0gycgPT4gJ+GCoycsCifitIQnID0+ICfhgqQnLAon4rSFJyA9PiAn4YKlJywKJ+K0hicgPT4gJ+GCpicsCifitIcnID0+ICfhgqcnLAon4rSIJyA9PiAn4YKoJywKJ+K0iScgPT4gJ+GCqScsCifitIonID0+ICfhgqonLAon4rSLJyA9PiAn4YKrJywKJ+K0jCcgPT4gJ+GCrCcsCifitI0nID0+ICfhgq0nLAon4rSOJyA9PiAn4YKuJywKJ+K0jycgPT4gJ+GCrycsCifitJAnID0+ICfhgrAnLAon4rSRJyA9PiAn4YKxJywKJ+K0kicgPT4gJ+GCsicsCifitJMnID0+ICfhgrMnLAon4rSUJyA9PiAn4YK0JywKJ+K0lScgPT4gJ+GCtScsCifitJYnID0+ICfhgrYnLAon4rSXJyA9PiAn4YK3JywKJ+K0mCcgPT4gJ+GCuCcsCifitJknID0+ICfhgrknLAon4rSaJyA9PiAn4YK6JywKJ+K0mycgPT4gJ+GCuycsCifitJwnID0+ICfhgrwnLAon4rSdJyA9PiAn4YK9JywKJ+K0nicgPT4gJ+GCvicsCifitJ8nID0+ICfhgr8nLAon4rSgJyA9PiAn4YOAJywKJ+K0oScgPT4gJ+GDgScsCifitKInID0+ICfhg4InLAon4rSjJyA9PiAn4YODJywKJ+K0pCcgPT4gJ+GDhCcsCifitKUnID0+ICfhg4UnLAon4rSnJyA9PiAn4YOHJywKJ+K0rScgPT4gJ+GDjScsCifqmYEnID0+ICfqmYAnLAon6pmDJyA9PiAn6pmCJywKJ+qZhScgPT4gJ+qZhCcsCifqmYcnID0+ICfqmYYnLAon6pmJJyA9PiAn6pmIJywKJ+qZiycgPT4gJ+qZiicsCifqmY0nID0+ICfqmYwnLAon6pmPJyA9PiAn6pmOJywKJ+qZkScgPT4gJ+qZkCcsCifqmZMnID0+ICfqmZInLAon6pmVJyA9PiAn6pmUJywKJ+qZlycgPT4gJ+qZlicsCifqmZknID0+ICfqmZgnLAon6pmbJyA9PiAn6pmaJywKJ+qZnScgPT4gJ+qZnCcsCifqmZ8nID0+ICfqmZ4nLAon6pmhJyA9PiAn6pmgJywKJ+qZoycgPT4gJ+qZoicsCifqmaUnID0+ICfqmaQnLAon6pmnJyA9PiAn6pmmJywKJ+qZqScgPT4gJ+qZqCcsCifqmasnID0+ICfqmaonLAon6pmtJyA9PiAn6pmsJywKJ+qagScgPT4gJ+qagCcsCifqmoMnID0+ICfqmoInLAon6pqFJyA9PiAn6pqEJywKJ+qahycgPT4gJ+qahicsCifqmoknID0+ICfqmognLAon6pqLJyA9PiAn6pqKJywKJ+qajScgPT4gJ+qajCcsCifqmo8nID0+ICfqmo4nLAon6pqRJyA9PiAn6pqQJywKJ+qakycgPT4gJ+qakicsCifqmpUnID0+ICfqmpQnLAon6pqXJyA9PiAn6pqWJywKJ+qamScgPT4gJ+qamCcsCifqmpsnID0+ICfqmponLAon6pyjJyA9PiAn6pyiJywKJ+qcpScgPT4gJ+qcpCcsCifqnKcnID0+ICfqnKYnLAon6pypJyA9PiAn6pyoJywKJ+qcqycgPT4gJ+qcqicsCifqnK0nID0+ICfqnKwnLAon6pyvJyA9PiAn6pyuJywKJ+qcsycgPT4gJ+qcsicsCifqnLUnID0+ICfqnLQnLAon6py3JyA9PiAn6py2JywKJ+qcuScgPT4gJ+qcuCcsCifqnLsnID0+ICfqnLonLAon6py9JyA9PiAn6py8JywKJ+qcvycgPT4gJ+qcvicsCifqnYEnID0+ICfqnYAnLAon6p2DJyA9PiAn6p2CJywKJ+qdhScgPT4gJ+qdhCcsCifqnYcnID0+ICfqnYYnLAon6p2JJyA9PiAn6p2IJywKJ+qdiycgPT4gJ+qdiicsCifqnY0nID0+ICfqnYwnLAon6p2PJyA9PiAn6p2OJywKJ+qdkScgPT4gJ+qdkCcsCifqnZMnID0+ICfqnZInLAon6p2VJyA9PiAn6p2UJywKJ+qdlycgPT4gJ+qdlicsCifqnZknID0+ICfqnZgnLAon6p2bJyA9PiAn6p2aJywKJ+qdnScgPT4gJ+qdnCcsCifqnZ8nID0+ICfqnZ4nLAon6p2hJyA9PiAn6p2gJywKJ+qdoycgPT4gJ+qdoicsCifqnaUnID0+ICfqnaQnLAon6p2nJyA9PiAn6p2mJywKJ+qdqScgPT4gJ+qdqCcsCifqnasnID0+ICfqnaonLAon6p2tJyA9PiAn6p2sJywKJ+qdrycgPT4gJ+qdricsCifqnbonID0+ICfqnbknLAon6p28JyA9PiAn6p27JywKJ+qdvycgPT4gJ+qdvicsCifqnoEnID0+ICfqnoAnLAon6p6DJyA9PiAn6p6CJywKJ+qehScgPT4gJ+qehCcsCifqnocnID0+ICfqnoYnLAon6p6MJyA9PiAn6p6LJywKJ+qekScgPT4gJ+qekCcsCifqnpMnID0+ICfqnpInLAon6p6UJyA9PiAn6p+EJywKJ+qelycgPT4gJ+qelicsCifqnpknID0+ICfqnpgnLAon6p6bJyA9PiAn6p6aJywKJ+qenScgPT4gJ+qenCcsCifqnp8nID0+ICfqnp4nLAon6p6hJyA9PiAn6p6gJywKJ+qeoycgPT4gJ+qeoicsCifqnqUnID0+ICfqnqQnLAon6p6nJyA9PiAn6p6mJywKJ+qeqScgPT4gJ+qeqCcsCifqnrUnID0+ICfqnrQnLAon6p63JyA9PiAn6p62JywKJ+qeuScgPT4gJ+qeuCcsCifqnrsnID0+ICfqnronLAon6p69JyA9PiAn6p68JywKJ+qevycgPT4gJ+qevicsCifqn4MnID0+ICfqn4InLAon6p+IJyA9PiAn6p+HJywKJ+qfiicgPT4gJ+qfiScsCifqn7YnID0+ICfqn7UnLAon6q2TJyA9PiAn6p6zJywKJ+qtsCcgPT4gJ+GOoCcsCifqrbEnID0+ICfhjqEnLAon6q2yJyA9PiAn4Y6iJywKJ+qtsycgPT4gJ+GOoycsCifqrbQnID0+ICfhjqQnLAon6q21JyA9PiAn4Y6lJywKJ+qtticgPT4gJ+GOpicsCifqrbcnID0+ICfhjqcnLAon6q24JyA9PiAn4Y6oJywKJ+qtuScgPT4gJ+GOqScsCifqrbonID0+ICfhjqonLAon6q27JyA9PiAn4Y6rJywKJ+qtvCcgPT4gJ+GOrCcsCifqrb0nID0+ICfhjq0nLAon6q2+JyA9PiAn4Y6uJywKJ+qtvycgPT4gJ+GOrycsCifqroAnID0+ICfhjrAnLAon6q6BJyA9PiAn4Y6xJywKJ+qugicgPT4gJ+GOsicsCifqroMnID0+ICfhjrMnLAon6q6EJyA9PiAn4Y60JywKJ+quhScgPT4gJ+GOtScsCifqroYnID0+ICfhjrYnLAon6q6HJyA9PiAn4Y63JywKJ+quiCcgPT4gJ+GOuCcsCifqroknID0+ICfhjrknLAon6q6KJyA9PiAn4Y66JywKJ+quiycgPT4gJ+GOuycsCifqrownID0+ICfhjrwnLAon6q6NJyA9PiAn4Y69JywKJ+qujicgPT4gJ+GOvicsCifqro8nID0+ICfhjr8nLAon6q6QJyA9PiAn4Y+AJywKJ+qukScgPT4gJ+GPgScsCifqrpInID0+ICfhj4InLAon6q6TJyA9PiAn4Y+DJywKJ+qulCcgPT4gJ+GPhCcsCifqrpUnID0+ICfhj4UnLAon6q6WJyA9PiAn4Y+GJywKJ+qulycgPT4gJ+GPhycsCifqrpgnID0+ICfhj4gnLAon6q6ZJyA9PiAn4Y+JJywKJ+qumicgPT4gJ+GPiicsCifqrpsnID0+ICfhj4snLAon6q6cJyA9PiAn4Y+MJywKJ+qunScgPT4gJ+GPjScsCifqrp4nID0+ICfhj44nLAon6q6fJyA9PiAn4Y+PJywKJ+quoCcgPT4gJ+GPkCcsCifqrqEnID0+ICfhj5EnLAon6q6iJyA9PiAn4Y+SJywKJ+quoycgPT4gJ+GPkycsCifqrqQnID0+ICfhj5QnLAon6q6lJyA9PiAn4Y+VJywKJ+qupicgPT4gJ+GPlicsCifqrqcnID0+ICfhj5cnLAon6q6oJyA9PiAn4Y+YJywKJ+quqScgPT4gJ+GPmScsCifqrqonID0+ICfhj5onLAon6q6rJyA9PiAn4Y+bJywKJ+qurCcgPT4gJ+GPnCcsCifqrq0nID0+ICfhj50nLAon6q6uJyA9PiAn4Y+eJywKJ+qurycgPT4gJ+GPnycsCifqrrAnID0+ICfhj6AnLAon6q6xJyA9PiAn4Y+hJywKJ+qusicgPT4gJ+GPoicsCifqrrMnID0+ICfhj6MnLAon6q60JyA9PiAn4Y+kJywKJ+qutScgPT4gJ+GPpScsCifqrrYnID0+ICfhj6YnLAon6q63JyA9PiAn4Y+nJywKJ+quuCcgPT4gJ+GPqCcsCifqrrknID0+ICfhj6knLAon6q66JyA9PiAn4Y+qJywKJ+quuycgPT4gJ+GPqycsCifqrrwnID0+ICfhj6wnLAon6q69JyA9PiAn4Y+tJywKJ+quvicgPT4gJ+GPricsCifqrr8nID0+ICfhj68nLAon772BJyA9PiAn77yhJywKJ++9gicgPT4gJ++8oicsCifvvYMnID0+ICfvvKMnLAon772EJyA9PiAn77ykJywKJ++9hScgPT4gJ++8pScsCifvvYYnID0+ICfvvKYnLAon772HJyA9PiAn77ynJywKJ++9iCcgPT4gJ++8qCcsCifvvYknID0+ICfvvKknLAon772KJyA9PiAn77yqJywKJ++9iycgPT4gJ++8qycsCifvvYwnID0+ICfvvKwnLAon772NJyA9PiAn77ytJywKJ++9jicgPT4gJ++8ricsCifvvY8nID0+ICfvvK8nLAon772QJyA9PiAn77ywJywKJ++9kScgPT4gJ++8sScsCifvvZInID0+ICfvvLInLAon772TJyA9PiAn77yzJywKJ++9lCcgPT4gJ++8tCcsCifvvZUnID0+ICfvvLUnLAon772WJyA9PiAn77y2JywKJ++9lycgPT4gJ++8tycsCifvvZgnID0+ICfvvLgnLAon772ZJyA9PiAn77y5JywKJ++9micgPT4gJ++8uicsCifwkJCoJyA9PiAn8JCQgCcsCifwkJCpJyA9PiAn8JCQgScsCifwkJCqJyA9PiAn8JCQgicsCifwkJCrJyA9PiAn8JCQgycsCifwkJCsJyA9PiAn8JCQhCcsCifwkJCtJyA9PiAn8JCQhScsCifwkJCuJyA9PiAn8JCQhicsCifwkJCvJyA9PiAn8JCQhycsCifwkJCwJyA9PiAn8JCQiCcsCifwkJCxJyA9PiAn8JCQiScsCifwkJCyJyA9PiAn8JCQiicsCifwkJCzJyA9PiAn8JCQiycsCifwkJC0JyA9PiAn8JCQjCcsCifwkJC1JyA9PiAn8JCQjScsCifwkJC2JyA9PiAn8JCQjicsCifwkJC3JyA9PiAn8JCQjycsCifwkJC4JyA9PiAn8JCQkCcsCifwkJC5JyA9PiAn8JCQkScsCifwkJC6JyA9PiAn8JCQkicsCifwkJC7JyA9PiAn8JCQkycsCifwkJC8JyA9PiAn8JCQlCcsCifwkJC9JyA9PiAn8JCQlScsCifwkJC+JyA9PiAn8JCQlicsCifwkJC/JyA9PiAn8JCQlycsCifwkJGAJyA9PiAn8JCQmCcsCifwkJGBJyA9PiAn8JCQmScsCifwkJGCJyA9PiAn8JCQmicsCifwkJGDJyA9PiAn8JCQmycsCifwkJGEJyA9PiAn8JCQnCcsCifwkJGFJyA9PiAn8JCQnScsCifwkJGGJyA9PiAn8JCQnicsCifwkJGHJyA9PiAn8JCQnycsCifwkJGIJyA9PiAn8JCQoCcsCifwkJGJJyA9PiAn8JCQoScsCifwkJGKJyA9PiAn8JCQoicsCifwkJGLJyA9PiAn8JCQoycsCifwkJGMJyA9PiAn8JCQpCcsCifwkJGNJyA9PiAn8JCQpScsCifwkJGOJyA9PiAn8JCQpicsCifwkJGPJyA9PiAn8JCQpycsCifwkJOYJyA9PiAn8JCSsCcsCifwkJOZJyA9PiAn8JCSsScsCifwkJOaJyA9PiAn8JCSsicsCifwkJObJyA9PiAn8JCSsycsCifwkJOcJyA9PiAn8JCStCcsCifwkJOdJyA9PiAn8JCStScsCifwkJOeJyA9PiAn8JCSticsCifwkJOfJyA9PiAn8JCStycsCifwkJOgJyA9PiAn8JCSuCcsCifwkJOhJyA9PiAn8JCSuScsCifwkJOiJyA9PiAn8JCSuicsCifwkJOjJyA9PiAn8JCSuycsCifwkJOkJyA9PiAn8JCSvCcsCifwkJOlJyA9PiAn8JCSvScsCifwkJOmJyA9PiAn8JCSvicsCifwkJOnJyA9PiAn8JCSvycsCifwkJOoJyA9PiAn8JCTgCcsCifwkJOpJyA9PiAn8JCTgScsCifwkJOqJyA9PiAn8JCTgicsCifwkJOrJyA9PiAn8JCTgycsCifwkJOsJyA9PiAn8JCThCcsCifwkJOtJyA9PiAn8JCThScsCifwkJOuJyA9PiAn8JCThicsCifwkJOvJyA9PiAn8JCThycsCifwkJOwJyA9PiAn8JCTiCcsCifwkJOxJyA9PiAn8JCTiScsCifwkJOyJyA9PiAn8JCTiicsCifwkJOzJyA9PiAn8JCTiycsCifwkJO0JyA9PiAn8JCTjCcsCifwkJO1JyA9PiAn8JCTjScsCifwkJO2JyA9PiAn8JCTjicsCifwkJO3JyA9PiAn8JCTjycsCifwkJO4JyA9PiAn8JCTkCcsCifwkJO5JyA9PiAn8JCTkScsCifwkJO6JyA9PiAn8JCTkicsCifwkJO7JyA9PiAn8JCTkycsCifwkLOAJyA9PiAn8JCygCcsCifwkLOBJyA9PiAn8JCygScsCifwkLOCJyA9PiAn8JCygicsCifwkLODJyA9PiAn8JCygycsCifwkLOEJyA9PiAn8JCyhCcsCifwkLOFJyA9PiAn8JCyhScsCifwkLOGJyA9PiAn8JCyhicsCifwkLOHJyA9PiAn8JCyhycsCifwkLOIJyA9PiAn8JCyiCcsCifwkLOJJyA9PiAn8JCyiScsCifwkLOKJyA9PiAn8JCyiicsCifwkLOLJyA9PiAn8JCyiycsCifwkLOMJyA9PiAn8JCyjCcsCifwkLONJyA9PiAn8JCyjScsCifwkLOOJyA9PiAn8JCyjicsCifwkLOPJyA9PiAn8JCyjycsCifwkLOQJyA9PiAn8JCykCcsCifwkLORJyA9PiAn8JCykScsCifwkLOSJyA9PiAn8JCykicsCifwkLOTJyA9PiAn8JCykycsCifwkLOUJyA9PiAn8JCylCcsCifwkLOVJyA9PiAn8JCylScsCifwkLOWJyA9PiAn8JCylicsCifwkLOXJyA9PiAn8JCylycsCifwkLOYJyA9PiAn8JCymCcsCifwkLOZJyA9PiAn8JCymScsCifwkLOaJyA9PiAn8JCymicsCifwkLObJyA9PiAn8JCymycsCifwkLOcJyA9PiAn8JCynCcsCifwkLOdJyA9PiAn8JCynScsCifwkLOeJyA9PiAn8JCynicsCifwkLOfJyA9PiAn8JCynycsCifwkLOgJyA9PiAn8JCyoCcsCifwkLOhJyA9PiAn8JCyoScsCifwkLOiJyA9PiAn8JCyoicsCifwkLOjJyA9PiAn8JCyoycsCifwkLOkJyA9PiAn8JCypCcsCifwkLOlJyA9PiAn8JCypScsCifwkLOmJyA9PiAn8JCypicsCifwkLOnJyA9PiAn8JCypycsCifwkLOoJyA9PiAn8JCyqCcsCifwkLOpJyA9PiAn8JCyqScsCifwkLOqJyA9PiAn8JCyqicsCifwkLOrJyA9PiAn8JCyqycsCifwkLOsJyA9PiAn8JCyrCcsCifwkLOtJyA9PiAn8JCyrScsCifwkLOuJyA9PiAn8JCyricsCifwkLOvJyA9PiAn8JCyrycsCifwkLOwJyA9PiAn8JCysCcsCifwkLOxJyA9PiAn8JCysScsCifwkLOyJyA9PiAn8JCysicsCifwkaOAJyA9PiAn8JGioCcsCifwkaOBJyA9PiAn8JGioScsCifwkaOCJyA9PiAn8JGioicsCifwkaODJyA9PiAn8JGioycsCifwkaOEJyA9PiAn8JGipCcsCifwkaOFJyA9PiAn8JGipScsCifwkaOGJyA9PiAn8JGipicsCifwkaOHJyA9PiAn8JGipycsCifwkaOIJyA9PiAn8JGiqCcsCifwkaOJJyA9PiAn8JGiqScsCifwkaOKJyA9PiAn8JGiqicsCifwkaOLJyA9PiAn8JGiqycsCifwkaOMJyA9PiAn8JGirCcsCifwkaONJyA9PiAn8JGirScsCifwkaOOJyA9PiAn8JGiricsCifwkaOPJyA9PiAn8JGirycsCifwkaOQJyA9PiAn8JGisCcsCifwkaORJyA9PiAn8JGisScsCifwkaOSJyA9PiAn8JGisicsCifwkaOTJyA9PiAn8JGisycsCifwkaOUJyA9PiAn8JGitCcsCifwkaOVJyA9PiAn8JGitScsCifwkaOWJyA9PiAn8JGiticsCifwkaOXJyA9PiAn8JGitycsCifwkaOYJyA9PiAn8JGiuCcsCifwkaOZJyA9PiAn8JGiuScsCifwkaOaJyA9PiAn8JGiuicsCifwkaObJyA9PiAn8JGiuycsCifwkaOcJyA9PiAn8JGivCcsCifwkaOdJyA9PiAn8JGivScsCifwkaOeJyA9PiAn8JGivicsCifwkaOfJyA9PiAn8JGivycsCifwlrmgJyA9PiAn8Ja5gCcsCifwlrmhJyA9PiAn8Ja5gScsCifwlrmiJyA9PiAn8Ja5gicsCifwlrmjJyA9PiAn8Ja5gycsCifwlrmkJyA9PiAn8Ja5hCcsCifwlrmlJyA9PiAn8Ja5hScsCifwlrmmJyA9PiAn8Ja5hicsCifwlrmnJyA9PiAn8Ja5hycsCifwlrmoJyA9PiAn8Ja5iCcsCifwlrmpJyA9PiAn8Ja5iScsCifwlrmqJyA9PiAn8Ja5iicsCifwlrmrJyA9PiAn8Ja5iycsCifwlrmsJyA9PiAn8Ja5jCcsCifwlrmtJyA9PiAn8Ja5jScsCifwlrmuJyA9PiAn8Ja5jicsCifwlrmvJyA9PiAn8Ja5jycsCifwlrmwJyA9PiAn8Ja5kCcsCifwlrmxJyA9PiAn8Ja5kScsCifwlrmyJyA9PiAn8Ja5kicsCifwlrmzJyA9PiAn8Ja5kycsCifwlrm0JyA9PiAn8Ja5lCcsCifwlrm1JyA9PiAn8Ja5lScsCifwlrm2JyA9PiAn8Ja5licsCifwlrm3JyA9PiAn8Ja5lycsCifwlrm4JyA9PiAn8Ja5mCcsCifwlrm5JyA9PiAn8Ja5mScsCifwlrm6JyA9PiAn8Ja5micsCifwlrm7JyA9PiAn8Ja5mycsCifwlrm8JyA9PiAn8Ja5nCcsCifwlrm9JyA9PiAn8Ja5nScsCifwlrm+JyA9PiAn8Ja5nicsCifwlrm/JyA9PiAn8Ja5nycsCifwnqSiJyA9PiAn8J6kgCcsCifwnqSjJyA9PiAn8J6kgScsCifwnqSkJyA9PiAn8J6kgicsCifwnqSlJyA9PiAn8J6kgycsCifwnqSmJyA9PiAn8J6khCcsCifwnqSnJyA9PiAn8J6khScsCifwnqSoJyA9PiAn8J6khicsCifwnqSpJyA9PiAn8J6khycsCifwnqSqJyA9PiAn8J6kiCcsCifwnqSrJyA9PiAn8J6kiScsCifwnqSsJyA9PiAn8J6kiicsCifwnqStJyA9PiAn8J6kiycsCifwnqSuJyA9PiAn8J6kjCcsCifwnqSvJyA9PiAn8J6kjScsCifwnqSwJyA9PiAn8J6kjicsCifwnqSxJyA9PiAn8J6kjycsCifwnqSyJyA9PiAn8J6kkCcsCifwnqSzJyA9PiAn8J6kkScsCifwnqS0JyA9PiAn8J6kkicsCifwnqS1JyA9PiAn8J6kkycsCifwnqS2JyA9PiAn8J6klCcsCifwnqS3JyA9PiAn8J6klScsCifwnqS4JyA9PiAn8J6klicsCifwnqS5JyA9PiAn8J6klycsCifwnqS6JyA9PiAn8J6kmCcsCifwnqS7JyA9PiAn8J6kmScsCifwnqS8JyA9PiAn8J6kmicsCifwnqS9JyA9PiAn8J6kmycsCifwnqS+JyA9PiAn8J6knCcsCifwnqS/JyA9PiAn8J6knScsCifwnqWAJyA9PiAn8J6knicsCifwnqWBJyA9PiAn8J6knycsCifwnqWCJyA9PiAn8J6koCcsCifwnqWDJyA9PiAn8J6koScsCik7Cjw/cGhwCgoKCgoKCgoKCgp1c2UgU3ltZm9ueVxQb2x5ZmlsbFxNYnN0cmluZyBhcyBwOwoKaWYgKCFmdW5jdGlvbl9leGlzdHMoJ21iX2NvbnZlcnRfZW5jb2RpbmcnKSkgewpmdW5jdGlvbiBtYl9jb252ZXJ0X2VuY29kaW5nKCRzdHJpbmcsICR0b19lbmNvZGluZywgJGZyb21fZW5jb2RpbmcgPSBudWxsKSB7IHJldHVybiBwXE1ic3RyaW5nOjptYl9jb252ZXJ0X2VuY29kaW5nKCRzdHJpbmcsICR0b19lbmNvZGluZywgJGZyb21fZW5jb2RpbmcpOyB9Cn0KaWYgKCFmdW5jdGlvbl9leGlzdHMoJ21iX2RlY29kZV9taW1laGVhZGVyJykpIHsKZnVuY3Rpb24gbWJfZGVjb2RlX21pbWVoZWFkZXIoJHN0cmluZykgeyByZXR1cm4gcFxNYnN0cmluZzo6bWJfZGVjb2RlX21pbWVoZWFkZXIoJHN0cmluZyk7IH0KfQppZiAoIWZ1bmN0aW9uX2V4aXN0cygnbWJfZW5jb2RlX21pbWVoZWFkZXInKSkgewpmdW5jdGlvbiBtYl9lbmNvZGVfbWltZWhlYWRlcigkc3RyaW5nLCAkY2hhcnNldCA9IG51bGwsICR0cmFuc2Zlcl9lbmNvZGluZyA9IG51bGwsICRuZXdsaW5lID0gbnVsbCwgJGluZGVudCA9IG51bGwpIHsgcmV0dXJuIHBcTWJzdHJpbmc6Om1iX2VuY29kZV9taW1laGVhZGVyKCRzdHJpbmcsICRjaGFyc2V0LCAkdHJhbnNmZXJfZW5jb2RpbmcsICRuZXdsaW5lLCAkaW5kZW50KTsgfQp9CmlmICghZnVuY3Rpb25fZXhpc3RzKCdtYl9kZWNvZGVfbnVtZXJpY2VudGl0eScpKSB7CmZ1bmN0aW9uIG1iX2RlY29kZV9udW1lcmljZW50aXR5KCRzdHJpbmcsICRtYXAsICRlbmNvZGluZyA9IG51bGwpIHsgcmV0dXJuIHBcTWJzdHJpbmc6Om1iX2RlY29kZV9udW1lcmljZW50aXR5KCRzdHJpbmcsICRtYXAsICRlbmNvZGluZyk7IH0KfQppZiAoIWZ1bmN0aW9uX2V4aXN0cygnbWJfZW5jb2RlX251bWVyaWNlbnRpdHknKSkgewpmdW5jdGlvbiBtYl9lbmNvZGVfbnVtZXJpY2VudGl0eSgkc3RyaW5nLCAkbWFwLCAkZW5jb2RpbmcgPSBudWxsLCAkaGV4ID0gZmFsc2UpIHsgcmV0dXJuIHBcTWJzdHJpbmc6Om1iX2VuY29kZV9udW1lcmljZW50aXR5KCRzdHJpbmcsICRtYXAsICRlbmNvZGluZywgJGhleCk7IH0KfQppZiAoIWZ1bmN0aW9uX2V4aXN0cygnbWJfY29udmVydF9jYXNlJykpIHsKZnVuY3Rpb24gbWJfY29udmVydF9jYXNlKCRzdHJpbmcsICRtb2RlLCAkZW5jb2RpbmcgPSBudWxsKSB7IHJldHVybiBwXE1ic3RyaW5nOjptYl9jb252ZXJ0X2Nhc2UoJHN0cmluZywgJG1vZGUsICRlbmNvZGluZyk7IH0KfQppZiAoIWZ1bmN0aW9uX2V4aXN0cygnbWJfaW50ZXJuYWxfZW5jb2RpbmcnKSkgewpmdW5jdGlvbiBtYl9pbnRlcm5hbF9lbmNvZGluZygkZW5jb2RpbmcgPSBudWxsKSB7IHJldHVybiBwXE1ic3RyaW5nOjptYl9pbnRlcm5hbF9lbmNvZGluZygkZW5jb2RpbmcpOyB9Cn0KaWYgKCFmdW5jdGlvbl9leGlzdHMoJ21iX2xhbmd1YWdlJykpIHsKZnVuY3Rpb24gbWJfbGFuZ3VhZ2UoJGxhbmd1YWdlID0gbnVsbCkgeyByZXR1cm4gcFxNYnN0cmluZzo6bWJfbGFuZ3VhZ2UoJGxhbmd1YWdlKTsgfQp9CmlmICghZnVuY3Rpb25fZXhpc3RzKCdtYl9saXN0X2VuY29kaW5ncycpKSB7CmZ1bmN0aW9uIG1iX2xpc3RfZW5jb2RpbmdzKCkgeyByZXR1cm4gcFxNYnN0cmluZzo6bWJfbGlzdF9lbmNvZGluZ3MoKTsgfQp9CmlmICghZnVuY3Rpb25fZXhpc3RzKCdtYl9lbmNvZGluZ19hbGlhc2VzJykpIHsKZnVuY3Rpb24gbWJfZW5jb2RpbmdfYWxpYXNlcygkZW5jb2RpbmcpIHsgcmV0dXJuIHBcTWJzdHJpbmc6Om1iX2VuY29kaW5nX2FsaWFzZXMoJGVuY29kaW5nKTsgfQp9CmlmICghZnVuY3Rpb25fZXhpc3RzKCdtYl9jaGVja19lbmNvZGluZycpKSB7CmZ1bmN0aW9uIG1iX2NoZWNrX2VuY29kaW5nKCR2YWx1ZSA9IG51bGwsICRlbmNvZGluZyA9IG51bGwpIHsgcmV0dXJuIHBcTWJzdHJpbmc6Om1iX2NoZWNrX2VuY29kaW5nKCR2YWx1ZSwgJGVuY29kaW5nKTsgfQp9CmlmICghZnVuY3Rpb25fZXhpc3RzKCdtYl9kZXRlY3RfZW5jb2RpbmcnKSkgewpmdW5jdGlvbiBtYl9kZXRlY3RfZW5jb2RpbmcoJHN0cmluZywgJGVuY29kaW5ncyA9IG51bGwsICRzdHJpY3QgPSBmYWxzZSkgeyByZXR1cm4gcFxNYnN0cmluZzo6bWJfZGV0ZWN0X2VuY29kaW5nKCRzdHJpbmcsICRlbmNvZGluZ3MsICRzdHJpY3QpOyB9Cn0KaWYgKCFmdW5jdGlvbl9leGlzdHMoJ21iX2RldGVjdF9vcmRlcicpKSB7CmZ1bmN0aW9uIG1iX2RldGVjdF9vcmRlcigkZW5jb2RpbmcgPSBudWxsKSB7IHJldHVybiBwXE1ic3RyaW5nOjptYl9kZXRlY3Rfb3JkZXIoJGVuY29kaW5nKTsgfQp9CmlmICghZnVuY3Rpb25fZXhpc3RzKCdtYl9wYXJzZV9zdHInKSkgewpmdW5jdGlvbiBtYl9wYXJzZV9zdHIoJHN0cmluZywgJiRyZXN1bHQgPSBhcnJheSgpKSB7IHBhcnNlX3N0cigkc3RyaW5nLCAkcmVzdWx0KTsgfQp9CmlmICghZnVuY3Rpb25fZXhpc3RzKCdtYl9zdHJsZW4nKSkgewpmdW5jdGlvbiBtYl9zdHJsZW4oJHN0cmluZywgJGVuY29kaW5nID0gbnVsbCkgeyByZXR1cm4gcFxNYnN0cmluZzo6bWJfc3RybGVuKCRzdHJpbmcsICRlbmNvZGluZyk7IH0KfQppZiAoIWZ1bmN0aW9uX2V4aXN0cygnbWJfc3RycG9zJykpIHsKZnVuY3Rpb24gbWJfc3RycG9zKCRoYXlzdGFjaywgJG5lZWRsZSwgJG9mZnNldCA9IDAsICRlbmNvZGluZyA9IG51bGwpIHsgcmV0dXJuIHBcTWJzdHJpbmc6Om1iX3N0cnBvcygkaGF5c3RhY2ssICRuZWVkbGUsICRvZmZzZXQsICRlbmNvZGluZyk7IH0KfQppZiAoIWZ1bmN0aW9uX2V4aXN0cygnbWJfc3RydG9sb3dlcicpKSB7CmZ1bmN0aW9uIG1iX3N0cnRvbG93ZXIoJHN0cmluZywgJGVuY29kaW5nID0gbnVsbCkgeyByZXR1cm4gcFxNYnN0cmluZzo6bWJfc3RydG9sb3dlcigkc3RyaW5nLCAkZW5jb2RpbmcpOyB9Cn0KaWYgKCFmdW5jdGlvbl9leGlzdHMoJ21iX3N0cnRvdXBwZXInKSkgewpmdW5jdGlvbiBtYl9zdHJ0b3VwcGVyKCRzdHJpbmcsICRlbmNvZGluZyA9IG51bGwpIHsgcmV0dXJuIHBcTWJzdHJpbmc6Om1iX3N0cnRvdXBwZXIoJHN0cmluZywgJGVuY29kaW5nKTsgfQp9CmlmICghZnVuY3Rpb25fZXhpc3RzKCdtYl9zdWJzdGl0dXRlX2NoYXJhY3RlcicpKSB7CmZ1bmN0aW9uIG1iX3N1YnN0aXR1dGVfY2hhcmFjdGVyKCRzdWJzdGl0dXRlX2NoYXJhY3RlciA9IG51bGwpIHsgcmV0dXJuIHBcTWJzdHJpbmc6Om1iX3N1YnN0aXR1dGVfY2hhcmFjdGVyKCRzdWJzdGl0dXRlX2NoYXJhY3Rlcik7IH0KfQppZiAoIWZ1bmN0aW9uX2V4aXN0cygnbWJfc3Vic3RyJykpIHsKZnVuY3Rpb24gbWJfc3Vic3RyKCRzdHJpbmcsICRzdGFydCwgJGxlbmd0aCA9IDIxNDc0ODM2NDcsICRlbmNvZGluZyA9IG51bGwpIHsgcmV0dXJuIHBcTWJzdHJpbmc6Om1iX3N1YnN0cigkc3RyaW5nLCAkc3RhcnQsICRsZW5ndGgsICRlbmNvZGluZyk7IH0KfQppZiAoIWZ1bmN0aW9uX2V4aXN0cygnbWJfc3RyaXBvcycpKSB7CmZ1bmN0aW9uIG1iX3N0cmlwb3MoJGhheXN0YWNrLCAkbmVlZGxlLCAkb2Zmc2V0ID0gMCwgJGVuY29kaW5nID0gbnVsbCkgeyByZXR1cm4gcFxNYnN0cmluZzo6bWJfc3RyaXBvcygkaGF5c3RhY2ssICRuZWVkbGUsICRvZmZzZXQsICRlbmNvZGluZyk7IH0KfQppZiAoIWZ1bmN0aW9uX2V4aXN0cygnbWJfc3RyaXN0cicpKSB7CmZ1bmN0aW9uIG1iX3N0cmlzdHIoJGhheXN0YWNrLCAkbmVlZGxlLCAkYmVmb3JlX25lZWRsZSA9IGZhbHNlLCAkZW5jb2RpbmcgPSBudWxsKSB7IHJldHVybiBwXE1ic3RyaW5nOjptYl9zdHJpc3RyKCRoYXlzdGFjaywgJG5lZWRsZSwgJGJlZm9yZV9uZWVkbGUsICRlbmNvZGluZyk7IH0KfQppZiAoIWZ1bmN0aW9uX2V4aXN0cygnbWJfc3RycmNocicpKSB7CmZ1bmN0aW9uIG1iX3N0cnJjaHIoJGhheXN0YWNrLCAkbmVlZGxlLCAkYmVmb3JlX25lZWRsZSA9IGZhbHNlLCAkZW5jb2RpbmcgPSBudWxsKSB7IHJldHVybiBwXE1ic3RyaW5nOjptYl9zdHJyY2hyKCRoYXlzdGFjaywgJG5lZWRsZSwgJGJlZm9yZV9uZWVkbGUsICRlbmNvZGluZyk7IH0KfQppZiAoIWZ1bmN0aW9uX2V4aXN0cygnbWJfc3RycmljaHInKSkgewpmdW5jdGlvbiBtYl9zdHJyaWNocigkaGF5c3RhY2ssICRuZWVkbGUsICRiZWZvcmVfbmVlZGxlID0gZmFsc2UsICRlbmNvZGluZyA9IG51bGwpIHsgcmV0dXJuIHBcTWJzdHJpbmc6Om1iX3N0cnJpY2hyKCRoYXlzdGFjaywgJG5lZWRsZSwgJGJlZm9yZV9uZWVkbGUsICRlbmNvZGluZyk7IH0KfQppZiAoIWZ1bmN0aW9uX2V4aXN0cygnbWJfc3Rycmlwb3MnKSkgewpmdW5jdGlvbiBtYl9zdHJyaXBvcygkaGF5c3RhY2ssICRuZWVkbGUsICRvZmZzZXQgPSAwLCAkZW5jb2RpbmcgPSBudWxsKSB7IHJldHVybiBwXE1ic3RyaW5nOjptYl9zdHJyaXBvcygkaGF5c3RhY2ssICRuZWVkbGUsICRvZmZzZXQsICRlbmNvZGluZyk7IH0KfQppZiAoIWZ1bmN0aW9uX2V4aXN0cygnbWJfc3RycnBvcycpKSB7CmZ1bmN0aW9uIG1iX3N0cnJwb3MoJGhheXN0YWNrLCAkbmVlZGxlLCAkb2Zmc2V0ID0gMCwgJGVuY29kaW5nID0gbnVsbCkgeyByZXR1cm4gcFxNYnN0cmluZzo6bWJfc3RycnBvcygkaGF5c3RhY2ssICRuZWVkbGUsICRvZmZzZXQsICRlbmNvZGluZyk7IH0KfQppZiAoIWZ1bmN0aW9uX2V4aXN0cygnbWJfc3Ryc3RyJykpIHsKZnVuY3Rpb24gbWJfc3Ryc3RyKCRoYXlzdGFjaywgJG5lZWRsZSwgJGJlZm9yZV9uZWVkbGUgPSBmYWxzZSwgJGVuY29kaW5nID0gbnVsbCkgeyByZXR1cm4gcFxNYnN0cmluZzo6bWJfc3Ryc3RyKCRoYXlzdGFjaywgJG5lZWRsZSwgJGJlZm9yZV9uZWVkbGUsICRlbmNvZGluZyk7IH0KfQppZiAoIWZ1bmN0aW9uX2V4aXN0cygnbWJfZ2V0X2luZm8nKSkgewpmdW5jdGlvbiBtYl9nZXRfaW5mbygkdHlwZSA9ICdhbGwnKSB7IHJldHVybiBwXE1ic3RyaW5nOjptYl9nZXRfaW5mbygkdHlwZSk7IH0KfQppZiAoIWZ1bmN0aW9uX2V4aXN0cygnbWJfaHR0cF9vdXRwdXQnKSkgewpmdW5jdGlvbiBtYl9odHRwX291dHB1dCgkZW5jb2RpbmcgPSBudWxsKSB7IHJldHVybiBwXE1ic3RyaW5nOjptYl9odHRwX291dHB1dCgkZW5jb2RpbmcpOyB9Cn0KaWYgKCFmdW5jdGlvbl9leGlzdHMoJ21iX3N0cndpZHRoJykpIHsKZnVuY3Rpb24gbWJfc3Ryd2lkdGgoJHN0cmluZywgJGVuY29kaW5nID0gbnVsbCkgeyByZXR1cm4gcFxNYnN0cmluZzo6bWJfc3Ryd2lkdGgoJHN0cmluZywgJGVuY29kaW5nKTsgfQp9CmlmICghZnVuY3Rpb25fZXhpc3RzKCdtYl9zdWJzdHJfY291bnQnKSkgewpmdW5jdGlvbiBtYl9zdWJzdHJfY291bnQoJGhheXN0YWNrLCAkbmVlZGxlLCAkZW5jb2RpbmcgPSBudWxsKSB7IHJldHVybiBwXE1ic3RyaW5nOjptYl9zdWJzdHJfY291bnQoJGhheXN0YWNrLCAkbmVlZGxlLCAkZW5jb2RpbmcpOyB9Cn0KaWYgKCFmdW5jdGlvbl9leGlzdHMoJ21iX291dHB1dF9oYW5kbGVyJykpIHsKZnVuY3Rpb24gbWJfb3V0cHV0X2hhbmRsZXIoJHN0cmluZywgJHN0YXR1cykgeyByZXR1cm4gcFxNYnN0cmluZzo6bWJfb3V0cHV0X2hhbmRsZXIoJHN0cmluZywgJHN0YXR1cyk7IH0KfQppZiAoIWZ1bmN0aW9uX2V4aXN0cygnbWJfaHR0cF9pbnB1dCcpKSB7CmZ1bmN0aW9uIG1iX2h0dHBfaW5wdXQoJHR5cGUgPSAnJykgeyByZXR1cm4gcFxNYnN0cmluZzo6bWJfaHR0cF9pbnB1dCgkdHlwZSk7IH0KfQoKaWYgKFBIUF9WRVJTSU9OX0lEID49IDgwMDAwKSB7CnJlcXVpcmVfb25jZSBfX0RJUl9fLicvUmVzb3VyY2VzL21iX2NvbnZlcnRfdmFyaWFibGVzLnBocDgnOwp9IGVsc2VpZiAoIWZ1bmN0aW9uX2V4aXN0cygnbWJfY29udmVydF92YXJpYWJsZXMnKSkgewpmdW5jdGlvbiBtYl9jb252ZXJ0X3ZhcmlhYmxlcygkdG9FbmNvZGluZywgJGZyb21FbmNvZGluZywgJiRhID0gbnVsbCwgJiRiID0gbnVsbCwgJiRjID0gbnVsbCwgJiRkID0gbnVsbCwgJiRlID0gbnVsbCwgJiRmID0gbnVsbCkgeyByZXR1cm4gcFxNYnN0cmluZzo6bWJfY29udmVydF92YXJpYWJsZXMoJHRvRW5jb2RpbmcsICRmcm9tRW5jb2RpbmcsICRhLCAkYiwgJGMsICRkLCAkZSwgJGYpOyB9Cn0KCmlmICghZnVuY3Rpb25fZXhpc3RzKCdtYl9vcmQnKSkgewpmdW5jdGlvbiBtYl9vcmQoJHN0cmluZywgJGVuY29kaW5nID0gbnVsbCkgeyByZXR1cm4gcFxNYnN0cmluZzo6bWJfb3JkKCRzdHJpbmcsICRlbmNvZGluZyk7IH0KfQppZiAoIWZ1bmN0aW9uX2V4aXN0cygnbWJfY2hyJykpIHsKZnVuY3Rpb24gbWJfY2hyKCRjb2RlcG9pbnQsICRlbmNvZGluZyA9IG51bGwpIHsgcmV0dXJuIHBcTWJzdHJpbmc6Om1iX2NocigkY29kZXBvaW50LCAkZW5jb2RpbmcpOyB9Cn0KaWYgKCFmdW5jdGlvbl9leGlzdHMoJ21iX3NjcnViJykpIHsKZnVuY3Rpb24gbWJfc2NydWIoJHN0cmluZywgJGVuY29kaW5nID0gbnVsbCkgeyAkZW5jb2RpbmcgPSBudWxsID09PSAkZW5jb2RpbmcgPyBtYl9pbnRlcm5hbF9lbmNvZGluZygpIDogJGVuY29kaW5nOyByZXR1cm4gbWJfY29udmVydF9lbmNvZGluZygkc3RyaW5nLCAkZW5jb2RpbmcsICRlbmNvZGluZyk7IH0KfQppZiAoIWZ1bmN0aW9uX2V4aXN0cygnbWJfc3RyX3NwbGl0JykpIHsKZnVuY3Rpb24gbWJfc3RyX3NwbGl0KCRzdHJpbmcsICRsZW5ndGggPSAxLCAkZW5jb2RpbmcgPSBudWxsKSB7IHJldHVybiBwXE1ic3RyaW5nOjptYl9zdHJfc3BsaXQoJHN0cmluZywgJGxlbmd0aCwgJGVuY29kaW5nKTsgfQp9CgppZiAoZXh0ZW5zaW9uX2xvYWRlZCgnbWJzdHJpbmcnKSkgewpyZXR1cm47Cn0KCmlmICghZGVmaW5lZCgnTUJfQ0FTRV9VUFBFUicpKSB7CmRlZmluZSgnTUJfQ0FTRV9VUFBFUicsIDApOwp9CmlmICghZGVmaW5lZCgnTUJfQ0FTRV9MT1dFUicpKSB7CmRlZmluZSgnTUJfQ0FTRV9MT1dFUicsIDEpOwp9CmlmICghZGVmaW5lZCgnTUJfQ0FTRV9USVRMRScpKSB7CmRlZmluZSgnTUJfQ0FTRV9USVRMRScsIDIpOwp9Cjw/cGhwCgoKCgoKCgoKCgpuYW1lc3BhY2UgU3ltZm9ueVxDb21wb25lbnRcUHJvY2Vzc1xFeGNlcHRpb247CgoKCgoKCmludGVyZmFjZSBFeGNlcHRpb25JbnRlcmZhY2UKewp9Cjw/cGhwCgoKCgoKCgoKCgpuYW1lc3BhY2UgU3ltZm9ueVxDb21wb25lbnRcUHJvY2Vzc1xFeGNlcHRpb247CgoKCgoKCmNsYXNzIEludmFsaWRBcmd1bWVudEV4Y2VwdGlvbiBleHRlbmRzIFxJbnZhbGlkQXJndW1lbnRFeGNlcHRpb24gaW1wbGVtZW50cyBFeGNlcHRpb25JbnRlcmZhY2UKewp9Cjw/cGhwCgoKCgoKCgoKCgpuYW1lc3BhY2UgU3ltZm9ueVxDb21wb25lbnRcUHJvY2Vzc1xFeGNlcHRpb247CgoKCgoKCmNsYXNzIExvZ2ljRXhjZXB0aW9uIGV4dGVuZHMgXExvZ2ljRXhjZXB0aW9uIGltcGxlbWVudHMgRXhjZXB0aW9uSW50ZXJmYWNlCnsKfQo8P3BocAoKCgoKCgoKCgoKbmFtZXNwYWNlIFN5bWZvbnlcQ29tcG9uZW50XFByb2Nlc3NcRXhjZXB0aW9uOwoKdXNlIFN5bWZvbnlcQ29tcG9uZW50XFByb2Nlc3NcUHJvY2VzczsKCgoKCgoKY2xhc3MgUHJvY2Vzc0ZhaWxlZEV4Y2VwdGlvbiBleHRlbmRzIFJ1bnRpbWVFeGNlcHRpb24Kewpwcml2YXRlICRwcm9jZXNzOwoKcHVibGljIGZ1bmN0aW9uIF9fY29uc3RydWN0KFByb2Nlc3MgJHByb2Nlc3MpCnsKaWYgKCRwcm9jZXNzLT5pc1N1Y2Nlc3NmdWwoKSkgewp0aHJvdyBuZXcgSW52YWxpZEFyZ3VtZW50RXhjZXB0aW9uKCdFeHBlY3RlZCBhIGZhaWxlZCBwcm9jZXNzLCBidXQgdGhlIGdpdmVuIHByb2Nlc3Mgd2FzIHN1Y2Nlc3NmdWwuJyk7Cn0KCiRlcnJvciA9IHNwcmludGYoJ1RoZSBjb21tYW5kICIlcyIgZmFpbGVkLicuIlxuXG5FeGl0IENvZGU6ICVzKCVzKVxuXG5Xb3JraW5nIGRpcmVjdG9yeTogJXMiLAokcHJvY2Vzcy0+Z2V0Q29tbWFuZExpbmUoKSwKJHByb2Nlc3MtPmdldEV4aXRDb2RlKCksCiRwcm9jZXNzLT5nZXRFeGl0Q29kZVRleHQoKSwKJHByb2Nlc3MtPmdldFdvcmtpbmdEaXJlY3RvcnkoKQopOwoKaWYgKCEkcHJvY2Vzcy0+aXNPdXRwdXREaXNhYmxlZCgpKSB7CiRlcnJvciAuPSBzcHJpbnRmKCJcblxuT3V0cHV0OlxuPT09PT09PT09PT09PT09PVxuJXNcblxuRXJyb3IgT3V0cHV0OlxuPT09PT09PT09PT09PT09PVxuJXMiLAokcHJvY2Vzcy0+Z2V0T3V0cHV0KCksCiRwcm9jZXNzLT5nZXRFcnJvck91dHB1dCgpCik7Cn0KCnBhcmVudDo6X19jb25zdHJ1Y3QoJGVycm9yKTsKCiR0aGlzLT5wcm9jZXNzID0gJHByb2Nlc3M7Cn0KCnB1YmxpYyBmdW5jdGlvbiBnZXRQcm9jZXNzKCkKewpyZXR1cm4gJHRoaXMtPnByb2Nlc3M7Cn0KfQo8P3BocAoKCgoKCgoKCgoKbmFtZXNwYWNlIFN5bWZvbnlcQ29tcG9uZW50XFByb2Nlc3NcRXhjZXB0aW9uOwoKdXNlIFN5bWZvbnlcQ29tcG9uZW50XFByb2Nlc3NcUHJvY2VzczsKCgoKCgoKY2xhc3MgUHJvY2Vzc1RpbWVkT3V0RXhjZXB0aW9uIGV4dGVuZHMgUnVudGltZUV4Y2VwdGlvbgp7CmNvbnN0IFRZUEVfR0VORVJBTCA9IDE7CmNvbnN0IFRZUEVfSURMRSA9IDI7Cgpwcml2YXRlICRwcm9jZXNzOwpwcml2YXRlICR0aW1lb3V0VHlwZTsKCnB1YmxpYyBmdW5jdGlvbiBfX2NvbnN0cnVjdChQcm9jZXNzICRwcm9jZXNzLCAkdGltZW91dFR5cGUpCnsKJHRoaXMtPnByb2Nlc3MgPSAkcHJvY2VzczsKJHRoaXMtPnRpbWVvdXRUeXBlID0gJHRpbWVvdXRUeXBlOwoKcGFyZW50OjpfX2NvbnN0cnVjdChzcHJpbnRmKAonVGhlIHByb2Nlc3MgIiVzIiBleGNlZWRlZCB0aGUgdGltZW91dCBvZiAlcyBzZWNvbmRzLicsCiRwcm9jZXNzLT5nZXRDb21tYW5kTGluZSgpLAokdGhpcy0+Z2V0RXhjZWVkZWRUaW1lb3V0KCkKKSk7Cn0KCnB1YmxpYyBmdW5jdGlvbiBnZXRQcm9jZXNzKCkKewpyZXR1cm4gJHRoaXMtPnByb2Nlc3M7Cn0KCnB1YmxpYyBmdW5jdGlvbiBpc0dlbmVyYWxUaW1lb3V0KCkKewpyZXR1cm4gc2VsZjo6VFlQRV9HRU5FUkFMID09PSAkdGhpcy0+dGltZW91dFR5cGU7Cn0KCnB1YmxpYyBmdW5jdGlvbiBpc0lkbGVUaW1lb3V0KCkKewpyZXR1cm4gc2VsZjo6VFlQRV9JRExFID09PSAkdGhpcy0+dGltZW91dFR5cGU7Cn0KCnB1YmxpYyBmdW5jdGlvbiBnZXRFeGNlZWRlZFRpbWVvdXQoKQp7CnN3aXRjaCAoJHRoaXMtPnRpbWVvdXRUeXBlKSB7CmNhc2Ugc2VsZjo6VFlQRV9HRU5FUkFMOgpyZXR1cm4gJHRoaXMtPnByb2Nlc3MtPmdldFRpbWVvdXQoKTsKCmNhc2Ugc2VsZjo6VFlQRV9JRExFOgpyZXR1cm4gJHRoaXMtPnByb2Nlc3MtPmdldElkbGVUaW1lb3V0KCk7CgpkZWZhdWx0Ogp0aHJvdyBuZXcgXExvZ2ljRXhjZXB0aW9uKHNwcmludGYoJ1Vua25vd24gdGltZW91dCB0eXBlICIlZCIuJywgJHRoaXMtPnRpbWVvdXRUeXBlKSk7Cn0KfQp9Cjw/cGhwCgoKCgoKCgoKCgpuYW1lc3BhY2UgU3ltZm9ueVxDb21wb25lbnRcUHJvY2Vzc1xFeGNlcHRpb247CgoKCgoKCmNsYXNzIFJ1bnRpbWVFeGNlcHRpb24gZXh0ZW5kcyBcUnVudGltZUV4Y2VwdGlvbiBpbXBsZW1lbnRzIEV4Y2VwdGlvbkludGVyZmFjZQp7Cn0KPD9waHAKCgoKCgoKCgoKCm5hbWVzcGFjZSBTeW1mb255XENvbXBvbmVudFxQcm9jZXNzOwoKCgoKCgoKY2xhc3MgRXhlY3V0YWJsZUZpbmRlcgp7CnByaXZhdGUgJHN1ZmZpeGVzID0gYXJyYXkoJy5leGUnLCAnLmJhdCcsICcuY21kJywgJy5jb20nKTsKCgoKCnB1YmxpYyBmdW5jdGlvbiBzZXRTdWZmaXhlcyhhcnJheSAkc3VmZml4ZXMpCnsKJHRoaXMtPnN1ZmZpeGVzID0gJHN1ZmZpeGVzOwp9CgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBhZGRTdWZmaXgoJHN1ZmZpeCkKewokdGhpcy0+c3VmZml4ZXNbXSA9ICRzdWZmaXg7Cn0KCgoKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBmaW5kKCRuYW1lLCAkZGVmYXVsdCA9IG51bGwsIGFycmF5ICRleHRyYURpcnMgPSBhcnJheSgpKQp7CmlmIChpbmlfZ2V0KCdvcGVuX2Jhc2VkaXInKSkgewokc2VhcmNoUGF0aCA9IGV4cGxvZGUoUEFUSF9TRVBBUkFUT1IsIGluaV9nZXQoJ29wZW5fYmFzZWRpcicpKTsKJGRpcnMgPSBhcnJheSgpOwpmb3JlYWNoICgkc2VhcmNoUGF0aCBhcyAkcGF0aCkgewoKaWYgKEBpc19kaXIoJHBhdGgpKSB7CiRkaXJzW10gPSAkcGF0aDsKfSBlbHNlIHsKaWYgKGJhc2VuYW1lKCRwYXRoKSA9PSAkbmFtZSAmJiBAaXNfZXhlY3V0YWJsZSgkcGF0aCkpIHsKcmV0dXJuICRwYXRoOwp9Cn0KfQp9IGVsc2UgewokZGlycyA9IGFycmF5X21lcmdlKApleHBsb2RlKFBBVEhfU0VQQVJBVE9SLCBnZXRlbnYoJ1BBVEgnKSA/OiBnZXRlbnYoJ1BhdGgnKSksCiRleHRyYURpcnMKKTsKfQoKJHN1ZmZpeGVzID0gYXJyYXkoJycpOwppZiAoJ1xcJyA9PT0gXERJUkVDVE9SWV9TRVBBUkFUT1IpIHsKJHBhdGhFeHQgPSBnZXRlbnYoJ1BBVEhFWFQnKTsKJHN1ZmZpeGVzID0gYXJyYXlfbWVyZ2UoJHBhdGhFeHQgPyBleHBsb2RlKFBBVEhfU0VQQVJBVE9SLCAkcGF0aEV4dCkgOiAkdGhpcy0+c3VmZml4ZXMsICRzdWZmaXhlcyk7Cn0KZm9yZWFjaCAoJHN1ZmZpeGVzIGFzICRzdWZmaXgpIHsKZm9yZWFjaCAoJGRpcnMgYXMgJGRpcikgewppZiAoQGlzX2ZpbGUoJGZpbGUgPSAkZGlyLlxESVJFQ1RPUllfU0VQQVJBVE9SLiRuYW1lLiRzdWZmaXgpICYmICgnXFwnID09PSBcRElSRUNUT1JZX1NFUEFSQVRPUiB8fCBAaXNfZXhlY3V0YWJsZSgkZmlsZSkpKSB7CnJldHVybiAkZmlsZTsKfQp9Cn0KCnJldHVybiAkZGVmYXVsdDsKfQp9CgpDb3B5cmlnaHQgKGMpIDIwMDQtMjAxOCBGYWJpZW4gUG90ZW5jaWVyCgpQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYSBjb3B5Cm9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlICJTb2Z0d2FyZSIpLCB0byBkZWFsCmluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMKdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbApjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMgZnVybmlzaGVkCnRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczoKClRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkIGluIGFsbApjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLgoKVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEICJBUyBJUyIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1IKSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFksCkZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRQpBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSCkxJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sCk9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4KVEhFIFNPRlRXQVJFLgoKPD9waHAKCgoKCgoKCgoKCm5hbWVzcGFjZSBTeW1mb255XENvbXBvbmVudFxQcm9jZXNzOwoKCgoKCgoKY2xhc3MgUGhwRXhlY3V0YWJsZUZpbmRlcgp7CnByaXZhdGUgJGV4ZWN1dGFibGVGaW5kZXI7CgpwdWJsaWMgZnVuY3Rpb24gX19jb25zdHJ1Y3QoKQp7CiR0aGlzLT5leGVjdXRhYmxlRmluZGVyID0gbmV3IEV4ZWN1dGFibGVGaW5kZXIoKTsKfQoKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBmaW5kKCRpbmNsdWRlQXJncyA9IHRydWUpCnsKJGFyZ3MgPSAkdGhpcy0+ZmluZEFyZ3VtZW50cygpOwokYXJncyA9ICRpbmNsdWRlQXJncyAmJiAkYXJncyA/ICcgJy5pbXBsb2RlKCcgJywgJGFyZ3MpIDogJyc7CgoKaWYgKFxkZWZpbmVkKCdISFZNX1ZFUlNJT04nKSkgewpyZXR1cm4gKGdldGVudignUEhQX0JJTkFSWScpID86IFBIUF9CSU5BUlkpLiRhcmdzOwp9CgoKaWYgKFxkZWZpbmVkKCdQSFBfQklOQVJZJykgJiYgUEhQX0JJTkFSWSAmJiBcaW5fYXJyYXkoXFBIUF9TQVBJLCBhcnJheSgnY2xpJywgJ2NsaS1zZXJ2ZXInLCAncGhwZGJnJyksIHRydWUpKSB7CnJldHVybiBQSFBfQklOQVJZLiRhcmdzOwp9CgppZiAoJHBocCA9IGdldGVudignUEhQX1BBVEgnKSkgewppZiAoIUBpc19leGVjdXRhYmxlKCRwaHApKSB7CnJldHVybiBmYWxzZTsKfQoKcmV0dXJuICRwaHA7Cn0KCmlmICgkcGhwID0gZ2V0ZW52KCdQSFBfUEVBUl9QSFBfQklOJykpIHsKaWYgKEBpc19leGVjdXRhYmxlKCRwaHApKSB7CnJldHVybiAkcGhwOwp9Cn0KCmlmIChAaXNfZXhlY3V0YWJsZSgkcGhwID0gUEhQX0JJTkRJUi4oJ1xcJyA9PT0gXERJUkVDVE9SWV9TRVBBUkFUT1IgPyAnXFxwaHAuZXhlJyA6ICcvcGhwJykpKSB7CnJldHVybiAkcGhwOwp9CgokZGlycyA9IGFycmF5KFBIUF9CSU5ESVIpOwppZiAoJ1xcJyA9PT0gXERJUkVDVE9SWV9TRVBBUkFUT1IpIHsKJGRpcnNbXSA9ICdDOlx4YW1wcFxwaHBcXCc7Cn0KCnJldHVybiAkdGhpcy0+ZXhlY3V0YWJsZUZpbmRlci0+ZmluZCgncGhwJywgZmFsc2UsICRkaXJzKTsKfQoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gZmluZEFyZ3VtZW50cygpCnsKJGFyZ3VtZW50cyA9IGFycmF5KCk7CgppZiAoXGRlZmluZWQoJ0hIVk1fVkVSU0lPTicpKSB7CiRhcmd1bWVudHNbXSA9ICctLXBocCc7Cn0gZWxzZWlmICgncGhwZGJnJyA9PT0gXFBIUF9TQVBJKSB7CiRhcmd1bWVudHNbXSA9ICctcXJyJzsKfQoKcmV0dXJuICRhcmd1bWVudHM7Cn0KfQo8P3BocAoKCgoKCgoKCgoKbmFtZXNwYWNlIFN5bWZvbnlcQ29tcG9uZW50XFByb2Nlc3M7Cgp1c2UgU3ltZm9ueVxDb21wb25lbnRcUHJvY2Vzc1xFeGNlcHRpb25cUnVudGltZUV4Y2VwdGlvbjsKCgoKCgoKCgoKCmNsYXNzIFBocFByb2Nlc3MgZXh0ZW5kcyBQcm9jZXNzCnsKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBfX2NvbnN0cnVjdCgkc2NyaXB0LCAkY3dkID0gbnVsbCwgYXJyYXkgJGVudiA9IG51bGwsICR0aW1lb3V0ID0gNjAsIGFycmF5ICRvcHRpb25zID0gYXJyYXkoKSkKewokZXhlY3V0YWJsZUZpbmRlciA9IG5ldyBQaHBFeGVjdXRhYmxlRmluZGVyKCk7CmlmIChmYWxzZSA9PT0gJHBocCA9ICRleGVjdXRhYmxlRmluZGVyLT5maW5kKCkpIHsKJHBocCA9IG51bGw7Cn0KaWYgKCdwaHBkYmcnID09PSBcUEhQX1NBUEkpIHsKJGZpbGUgPSB0ZW1wbmFtKHN5c19nZXRfdGVtcF9kaXIoKSwgJ2RiZycpOwpmaWxlX3B1dF9jb250ZW50cygkZmlsZSwgJHNjcmlwdCk7CnJlZ2lzdGVyX3NodXRkb3duX2Z1bmN0aW9uKCd1bmxpbmsnLCAkZmlsZSk7CiRwaHAgLj0gJyAnLlByb2Nlc3NVdGlsczo6ZXNjYXBlQXJndW1lbnQoJGZpbGUpOwokc2NyaXB0ID0gbnVsbDsKfQppZiAoJ1xcJyAhPT0gXERJUkVDVE9SWV9TRVBBUkFUT1IgJiYgbnVsbCAhPT0gJHBocCkgewoKCgokcGhwID0gJ2V4ZWMgJy4kcGhwOwp9CgpwYXJlbnQ6Ol9fY29uc3RydWN0KCRwaHAsICRjd2QsICRlbnYsICRzY3JpcHQsICR0aW1lb3V0LCAkb3B0aW9ucyk7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBzZXRQaHBCaW5hcnkoJHBocCkKewokdGhpcy0+c2V0Q29tbWFuZExpbmUoJHBocCk7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBzdGFydCgkY2FsbGJhY2sgPSBudWxsKQp7CmlmIChudWxsID09PSAkdGhpcy0+Z2V0Q29tbWFuZExpbmUoKSkgewp0aHJvdyBuZXcgUnVudGltZUV4Y2VwdGlvbignVW5hYmxlIHRvIGZpbmQgdGhlIFBIUCBleGVjdXRhYmxlLicpOwp9CgpwYXJlbnQ6OnN0YXJ0KCRjYWxsYmFjayk7Cn0KfQo8P3BocAoKCgoKCgoKCgoKbmFtZXNwYWNlIFN5bWZvbnlcQ29tcG9uZW50XFByb2Nlc3NcUGlwZXM7CgoKCgoKCmFic3RyYWN0IGNsYXNzIEFic3RyYWN0UGlwZXMgaW1wbGVtZW50cyBQaXBlc0ludGVyZmFjZQp7CnB1YmxpYyAkcGlwZXMgPSBhcnJheSgpOwoKcHJpdmF0ZSAkaW5wdXRCdWZmZXIgPSAnJzsKcHJpdmF0ZSAkaW5wdXQ7CnByaXZhdGUgJGJsb2NrZWQgPSB0cnVlOwpwcml2YXRlICRsYXN0RXJyb3I7CgoKCgpwdWJsaWMgZnVuY3Rpb24gX19jb25zdHJ1Y3QoJGlucHV0KQp7CmlmIChcaXNfcmVzb3VyY2UoJGlucHV0KSkgewokdGhpcy0+aW5wdXQgPSAkaW5wdXQ7Cn0gZWxzZWlmIChcaXNfc3RyaW5nKCRpbnB1dCkpIHsKJHRoaXMtPmlucHV0QnVmZmVyID0gJGlucHV0Owp9IGVsc2UgewokdGhpcy0+aW5wdXRCdWZmZXIgPSAoc3RyaW5nKSAkaW5wdXQ7Cn0KfQoKCgoKcHVibGljIGZ1bmN0aW9uIGNsb3NlKCkKewpmb3JlYWNoICgkdGhpcy0+cGlwZXMgYXMgJHBpcGUpIHsKZmNsb3NlKCRwaXBlKTsKfQokdGhpcy0+cGlwZXMgPSBhcnJheSgpOwp9CgoKCgoKCnByb3RlY3RlZCBmdW5jdGlvbiBoYXNTeXN0ZW1DYWxsQmVlbkludGVycnVwdGVkKCkKewokbGFzdEVycm9yID0gJHRoaXMtPmxhc3RFcnJvcjsKJHRoaXMtPmxhc3RFcnJvciA9IG51bGw7CgoKcmV0dXJuIG51bGwgIT09ICRsYXN0RXJyb3IgJiYgZmFsc2UgIT09IHN0cmlwb3MoJGxhc3RFcnJvciwgJ2ludGVycnVwdGVkIHN5c3RlbSBjYWxsJyk7Cn0KCgoKCnByb3RlY3RlZCBmdW5jdGlvbiB1bmJsb2NrKCkKewppZiAoISR0aGlzLT5ibG9ja2VkKSB7CnJldHVybjsKfQoKZm9yZWFjaCAoJHRoaXMtPnBpcGVzIGFzICRwaXBlKSB7CnN0cmVhbV9zZXRfYmxvY2tpbmcoJHBpcGUsIDApOwp9CmlmIChudWxsICE9PSAkdGhpcy0+aW5wdXQpIHsKc3RyZWFtX3NldF9ibG9ja2luZygkdGhpcy0+aW5wdXQsIDApOwp9CgokdGhpcy0+YmxvY2tlZCA9IGZhbHNlOwp9CgoKCgpwcm90ZWN0ZWQgZnVuY3Rpb24gd3JpdGUoKQp7CmlmICghaXNzZXQoJHRoaXMtPnBpcGVzWzBdKSkgewpyZXR1cm47Cn0KJGlucHV0ID0gJHRoaXMtPmlucHV0OwokciA9ICRlID0gYXJyYXkoKTsKJHcgPSBhcnJheSgkdGhpcy0+cGlwZXNbMF0pOwoKCmlmIChmYWxzZSA9PT0gQHN0cmVhbV9zZWxlY3QoJHIsICR3LCAkZSwgMCwgMCkpIHsKcmV0dXJuOwp9Cgpmb3JlYWNoICgkdyBhcyAkc3RkaW4pIHsKaWYgKGlzc2V0KCR0aGlzLT5pbnB1dEJ1ZmZlclswXSkpIHsKJHdyaXR0ZW4gPSBmd3JpdGUoJHN0ZGluLCAkdGhpcy0+aW5wdXRCdWZmZXIpOwokdGhpcy0+aW5wdXRCdWZmZXIgPSBzdWJzdHIoJHRoaXMtPmlucHV0QnVmZmVyLCAkd3JpdHRlbik7CmlmIChpc3NldCgkdGhpcy0+aW5wdXRCdWZmZXJbMF0pKSB7CnJldHVybiBhcnJheSgkdGhpcy0+cGlwZXNbMF0pOwp9Cn0KCmlmICgkaW5wdXQpIHsKZm9yICg7OykgewokZGF0YSA9IGZyZWFkKCRpbnB1dCwgc2VsZjo6Q0hVTktfU0laRSk7CmlmICghaXNzZXQoJGRhdGFbMF0pKSB7CmJyZWFrOwp9CiR3cml0dGVuID0gZndyaXRlKCRzdGRpbiwgJGRhdGEpOwokZGF0YSA9IHN1YnN0cigkZGF0YSwgJHdyaXR0ZW4pOwppZiAoaXNzZXQoJGRhdGFbMF0pKSB7CiR0aGlzLT5pbnB1dEJ1ZmZlciA9ICRkYXRhOwoKcmV0dXJuIGFycmF5KCR0aGlzLT5waXBlc1swXSk7Cn0KfQppZiAoZmVvZigkaW5wdXQpKSB7CgoKJHRoaXMtPmlucHV0ID0gbnVsbDsKfQp9Cn0KCgppZiAobnVsbCA9PT0gJHRoaXMtPmlucHV0ICYmICFpc3NldCgkdGhpcy0+aW5wdXRCdWZmZXJbMF0pKSB7CmZjbG9zZSgkdGhpcy0+cGlwZXNbMF0pOwp1bnNldCgkdGhpcy0+cGlwZXNbMF0pOwp9IGVsc2VpZiAoISR3KSB7CnJldHVybiBhcnJheSgkdGhpcy0+cGlwZXNbMF0pOwp9Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBoYW5kbGVFcnJvcigkdHlwZSwgJG1zZykKewokdGhpcy0+bGFzdEVycm9yID0gJG1zZzsKfQp9Cjw/cGhwCgoKCgoKCgoKCgpuYW1lc3BhY2UgU3ltZm9ueVxDb21wb25lbnRcUHJvY2Vzc1xQaXBlczsKCgoKCgoKCgppbnRlcmZhY2UgUGlwZXNJbnRlcmZhY2UKewpjb25zdCBDSFVOS19TSVpFID0gMTYzODQ7CgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBnZXREZXNjcmlwdG9ycygpOwoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0RmlsZXMoKTsKCgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIHJlYWRBbmRXcml0ZSgkYmxvY2tpbmcsICRjbG9zZSA9IGZhbHNlKTsKCgoKCgoKcHVibGljIGZ1bmN0aW9uIGFyZU9wZW4oKTsKCgoKCnB1YmxpYyBmdW5jdGlvbiBjbG9zZSgpOwp9Cjw/cGhwCgoKCgoKCgoKCgpuYW1lc3BhY2UgU3ltZm9ueVxDb21wb25lbnRcUHJvY2Vzc1xQaXBlczsKCnVzZSBTeW1mb255XENvbXBvbmVudFxQcm9jZXNzXFByb2Nlc3M7CgoKCgoKCgoKY2xhc3MgVW5peFBpcGVzIGV4dGVuZHMgQWJzdHJhY3RQaXBlcwp7CnByaXZhdGUgJHR0eU1vZGU7CnByaXZhdGUgJHB0eU1vZGU7CnByaXZhdGUgJGRpc2FibGVPdXRwdXQ7CgpwdWJsaWMgZnVuY3Rpb24gX19jb25zdHJ1Y3QoJHR0eU1vZGUsICRwdHlNb2RlLCAkaW5wdXQsICRkaXNhYmxlT3V0cHV0KQp7CiR0aGlzLT50dHlNb2RlID0gKGJvb2wpICR0dHlNb2RlOwokdGhpcy0+cHR5TW9kZSA9IChib29sKSAkcHR5TW9kZTsKJHRoaXMtPmRpc2FibGVPdXRwdXQgPSAoYm9vbCkgJGRpc2FibGVPdXRwdXQ7CgpwYXJlbnQ6Ol9fY29uc3RydWN0KCRpbnB1dCk7Cn0KCnB1YmxpYyBmdW5jdGlvbiBfX2Rlc3RydWN0KCkKewokdGhpcy0+Y2xvc2UoKTsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIGdldERlc2NyaXB0b3JzKCkKewppZiAoJHRoaXMtPmRpc2FibGVPdXRwdXQpIHsKJG51bGxzdHJlYW0gPSBmb3BlbignL2Rldi9udWxsJywgJ2MnKTsKCnJldHVybiBhcnJheSgKYXJyYXkoJ3BpcGUnLCAncicpLAokbnVsbHN0cmVhbSwKJG51bGxzdHJlYW0sCik7Cn0KCmlmICgkdGhpcy0+dHR5TW9kZSkgewpyZXR1cm4gYXJyYXkoCmFycmF5KCdmaWxlJywgJy9kZXYvdHR5JywgJ3InKSwKYXJyYXkoJ2ZpbGUnLCAnL2Rldi90dHknLCAndycpLAphcnJheSgnZmlsZScsICcvZGV2L3R0eScsICd3JyksCik7Cn0KCmlmICgkdGhpcy0+cHR5TW9kZSAmJiBQcm9jZXNzOjppc1B0eVN1cHBvcnRlZCgpKSB7CnJldHVybiBhcnJheSgKYXJyYXkoJ3B0eScpLAphcnJheSgncHR5JyksCmFycmF5KCdwdHknKSwKKTsKfQoKcmV0dXJuIGFycmF5KAphcnJheSgncGlwZScsICdyJyksCmFycmF5KCdwaXBlJywgJ3cnKSwgCmFycmF5KCdwaXBlJywgJ3cnKSwgCik7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBnZXRGaWxlcygpCnsKcmV0dXJuIGFycmF5KCk7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiByZWFkQW5kV3JpdGUoJGJsb2NraW5nLCAkY2xvc2UgPSBmYWxzZSkKewokdGhpcy0+dW5ibG9jaygpOwokdyA9ICR0aGlzLT53cml0ZSgpOwoKJHJlYWQgPSAkZSA9IGFycmF5KCk7CiRyID0gJHRoaXMtPnBpcGVzOwp1bnNldCgkclswXSk7CgoKc2V0X2Vycm9yX2hhbmRsZXIoYXJyYXkoJHRoaXMsICdoYW5kbGVFcnJvcicpKTsKaWYgKCgkciB8fCAkdykgJiYgZmFsc2UgPT09IHN0cmVhbV9zZWxlY3QoJHIsICR3LCAkZSwgMCwgJGJsb2NraW5nID8gUHJvY2Vzczo6VElNRU9VVF9QUkVDSVNJT04gKiAxRTYgOiAwKSkgewpyZXN0b3JlX2Vycm9yX2hhbmRsZXIoKTsKCgppZiAoISR0aGlzLT5oYXNTeXN0ZW1DYWxsQmVlbkludGVycnVwdGVkKCkpIHsKJHRoaXMtPnBpcGVzID0gYXJyYXkoKTsKfQoKcmV0dXJuICRyZWFkOwp9CnJlc3RvcmVfZXJyb3JfaGFuZGxlcigpOwoKZm9yZWFjaCAoJHIgYXMgJHBpcGUpIHsKCgokcmVhZFskdHlwZSA9IGFycmF5X3NlYXJjaCgkcGlwZSwgJHRoaXMtPnBpcGVzLCB0cnVlKV0gPSAnJzsKCmRvIHsKJGRhdGEgPSBmcmVhZCgkcGlwZSwgc2VsZjo6Q0hVTktfU0laRSk7CiRyZWFkWyR0eXBlXSAuPSAkZGF0YTsKfSB3aGlsZSAoaXNzZXQoJGRhdGFbMF0pICYmICgkY2xvc2UgfHwgaXNzZXQoJGRhdGFbc2VsZjo6Q0hVTktfU0laRSAtIDFdKSkpOwoKaWYgKCFpc3NldCgkcmVhZFskdHlwZV1bMF0pKSB7CnVuc2V0KCRyZWFkWyR0eXBlXSk7Cn0KCmlmICgkY2xvc2UgJiYgZmVvZigkcGlwZSkpIHsKZmNsb3NlKCRwaXBlKTsKdW5zZXQoJHRoaXMtPnBpcGVzWyR0eXBlXSk7Cn0KfQoKcmV0dXJuICRyZWFkOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gYXJlT3BlbigpCnsKcmV0dXJuIChib29sKSAkdGhpcy0+cGlwZXM7Cn0KCgoKCgoKCgoKcHVibGljIHN0YXRpYyBmdW5jdGlvbiBjcmVhdGUoUHJvY2VzcyAkcHJvY2VzcywgJGlucHV0KQp7CnJldHVybiBuZXcgc3RhdGljKCRwcm9jZXNzLT5pc1R0eSgpLCAkcHJvY2Vzcy0+aXNQdHkoKSwgJGlucHV0LCAkcHJvY2Vzcy0+aXNPdXRwdXREaXNhYmxlZCgpKTsKfQp9Cjw/cGhwCgoKCgoKCgoKCgpuYW1lc3BhY2UgU3ltZm9ueVxDb21wb25lbnRcUHJvY2Vzc1xQaXBlczsKCnVzZSBTeW1mb255XENvbXBvbmVudFxQcm9jZXNzXEV4Y2VwdGlvblxSdW50aW1lRXhjZXB0aW9uOwp1c2UgU3ltZm9ueVxDb21wb25lbnRcUHJvY2Vzc1xQcm9jZXNzOwoKCgoKCgoKCgoKCmNsYXNzIFdpbmRvd3NQaXBlcyBleHRlbmRzIEFic3RyYWN0UGlwZXMKewpwcml2YXRlICRmaWxlcyA9IGFycmF5KCk7CnByaXZhdGUgJGZpbGVIYW5kbGVzID0gYXJyYXkoKTsKcHJpdmF0ZSAkbG9ja0hhbmRsZXMgPSBhcnJheSgpOwpwcml2YXRlICRyZWFkQnl0ZXMgPSBhcnJheSgKUHJvY2Vzczo6U1RET1VUID0+IDAsClByb2Nlc3M6OlNUREVSUiA9PiAwLAopOwpwcml2YXRlICRkaXNhYmxlT3V0cHV0OwoKcHVibGljIGZ1bmN0aW9uIF9fY29uc3RydWN0KCRkaXNhYmxlT3V0cHV0LCAkaW5wdXQpCnsKJHRoaXMtPmRpc2FibGVPdXRwdXQgPSAoYm9vbCkgJGRpc2FibGVPdXRwdXQ7CgppZiAoISR0aGlzLT5kaXNhYmxlT3V0cHV0KSB7CgoKCgokcGlwZXMgPSBhcnJheSgKUHJvY2Vzczo6U1RET1VUID0+IFByb2Nlc3M6Ok9VVCwKUHJvY2Vzczo6U1RERVJSID0+IFByb2Nlc3M6OkVSUiwKKTsKJHRtcERpciA9IHN5c19nZXRfdGVtcF9kaXIoKTsKJGxhc3RFcnJvciA9ICd1bmtub3duIHJlYXNvbic7CnNldF9lcnJvcl9oYW5kbGVyKGZ1bmN0aW9uICgkdHlwZSwgJG1zZykgdXNlICgmJGxhc3RFcnJvcikgeyAkbGFzdEVycm9yID0gJG1zZzsgfSk7CmZvciAoJGkgPSAwOzsgKyskaSkgewpmb3JlYWNoICgkcGlwZXMgYXMgJHBpcGUgPT4gJG5hbWUpIHsKJGZpbGUgPSBzcHJpbnRmKCclc1xcc2ZfcHJvY18lMDJYLiVzJywgJHRtcERpciwgJGksICRuYW1lKTsKCmlmICghJGggPSBmb3BlbigkZmlsZS4nLmxvY2snLCAndycpKSB7CnJlc3RvcmVfZXJyb3JfaGFuZGxlcigpOwp0aHJvdyBuZXcgUnVudGltZUV4Y2VwdGlvbihzcHJpbnRmKCdBIHRlbXBvcmFyeSBmaWxlIGNvdWxkIG5vdCBiZSBvcGVuZWQgdG8gd3JpdGUgdGhlIHByb2Nlc3Mgb3V0cHV0OiAlcycsICRsYXN0RXJyb3IpKTsKfQppZiAoIWZsb2NrKCRoLCBMT0NLX0VYIHwgTE9DS19OQikpIHsKY29udGludWUgMjsKfQppZiAoaXNzZXQoJHRoaXMtPmxvY2tIYW5kbGVzWyRwaXBlXSkpIHsKZmxvY2soJHRoaXMtPmxvY2tIYW5kbGVzWyRwaXBlXSwgTE9DS19VTik7CmZjbG9zZSgkdGhpcy0+bG9ja0hhbmRsZXNbJHBpcGVdKTsKfQokdGhpcy0+bG9ja0hhbmRsZXNbJHBpcGVdID0gJGg7CgppZiAoIWZjbG9zZShmb3BlbigkZmlsZSwgJ3cnKSkgfHwgISRoID0gZm9wZW4oJGZpbGUsICdyJykpIHsKZmxvY2soJHRoaXMtPmxvY2tIYW5kbGVzWyRwaXBlXSwgTE9DS19VTik7CmZjbG9zZSgkdGhpcy0+bG9ja0hhbmRsZXNbJHBpcGVdKTsKdW5zZXQoJHRoaXMtPmxvY2tIYW5kbGVzWyRwaXBlXSk7CmNvbnRpbnVlIDI7Cn0KJHRoaXMtPmZpbGVIYW5kbGVzWyRwaXBlXSA9ICRoOwokdGhpcy0+ZmlsZXNbJHBpcGVdID0gJGZpbGU7Cn0KYnJlYWs7Cn0KcmVzdG9yZV9lcnJvcl9oYW5kbGVyKCk7Cn0KCnBhcmVudDo6X19jb25zdHJ1Y3QoJGlucHV0KTsKfQoKcHVibGljIGZ1bmN0aW9uIF9fZGVzdHJ1Y3QoKQp7CiR0aGlzLT5jbG9zZSgpOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0RGVzY3JpcHRvcnMoKQp7CmlmICgkdGhpcy0+ZGlzYWJsZU91dHB1dCkgewokbnVsbHN0cmVhbSA9IGZvcGVuKCdOVUwnLCAnYycpOwoKcmV0dXJuIGFycmF5KAphcnJheSgncGlwZScsICdyJyksCiRudWxsc3RyZWFtLAokbnVsbHN0cmVhbSwKKTsKfQoKCgoKcmV0dXJuIGFycmF5KAphcnJheSgncGlwZScsICdyJyksCmFycmF5KCdmaWxlJywgJ05VTCcsICd3JyksCmFycmF5KCdmaWxlJywgJ05VTCcsICd3JyksCik7Cn0KCgoKCnB1YmxpYyBmdW5jdGlvbiBnZXRGaWxlcygpCnsKcmV0dXJuICR0aGlzLT5maWxlczsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIHJlYWRBbmRXcml0ZSgkYmxvY2tpbmcsICRjbG9zZSA9IGZhbHNlKQp7CiR0aGlzLT51bmJsb2NrKCk7CiR3ID0gJHRoaXMtPndyaXRlKCk7CiRyZWFkID0gJHIgPSAkZSA9IGFycmF5KCk7CgppZiAoJGJsb2NraW5nKSB7CmlmICgkdykgewpAc3RyZWFtX3NlbGVjdCgkciwgJHcsICRlLCAwLCBQcm9jZXNzOjpUSU1FT1VUX1BSRUNJU0lPTiAqIDFFNik7Cn0gZWxzZWlmICgkdGhpcy0+ZmlsZUhhbmRsZXMpIHsKdXNsZWVwKFByb2Nlc3M6OlRJTUVPVVRfUFJFQ0lTSU9OICogMUU2KTsKfQp9CmZvcmVhY2ggKCR0aGlzLT5maWxlSGFuZGxlcyBhcyAkdHlwZSA9PiAkZmlsZUhhbmRsZSkgewokZGF0YSA9IHN0cmVhbV9nZXRfY29udGVudHMoJGZpbGVIYW5kbGUsIC0xLCAkdGhpcy0+cmVhZEJ5dGVzWyR0eXBlXSk7CgppZiAoaXNzZXQoJGRhdGFbMF0pKSB7CiR0aGlzLT5yZWFkQnl0ZXNbJHR5cGVdICs9IFxzdHJsZW4oJGRhdGEpOwokcmVhZFskdHlwZV0gPSAkZGF0YTsKfQppZiAoJGNsb3NlKSB7CmZ0cnVuY2F0ZSgkZmlsZUhhbmRsZSwgMCk7CmZjbG9zZSgkZmlsZUhhbmRsZSk7CmZsb2NrKCR0aGlzLT5sb2NrSGFuZGxlc1skdHlwZV0sIExPQ0tfVU4pOwpmY2xvc2UoJHRoaXMtPmxvY2tIYW5kbGVzWyR0eXBlXSk7CnVuc2V0KCR0aGlzLT5maWxlSGFuZGxlc1skdHlwZV0sICR0aGlzLT5sb2NrSGFuZGxlc1skdHlwZV0pOwp9Cn0KCnJldHVybiAkcmVhZDsKfQoKCgoKcHVibGljIGZ1bmN0aW9uIGFyZU9wZW4oKQp7CnJldHVybiAkdGhpcy0+cGlwZXMgJiYgJHRoaXMtPmZpbGVIYW5kbGVzOwp9CgoKCgpwdWJsaWMgZnVuY3Rpb24gY2xvc2UoKQp7CnBhcmVudDo6Y2xvc2UoKTsKZm9yZWFjaCAoJHRoaXMtPmZpbGVIYW5kbGVzIGFzICR0eXBlID0+ICRoYW5kbGUpIHsKZnRydW5jYXRlKCRoYW5kbGUsIDApOwpmY2xvc2UoJGhhbmRsZSk7CmZsb2NrKCR0aGlzLT5sb2NrSGFuZGxlc1skdHlwZV0sIExPQ0tfVU4pOwpmY2xvc2UoJHRoaXMtPmxvY2tIYW5kbGVzWyR0eXBlXSk7Cn0KJHRoaXMtPmZpbGVIYW5kbGVzID0gJHRoaXMtPmxvY2tIYW5kbGVzID0gYXJyYXkoKTsKfQoKCgoKCgoKCgpwdWJsaWMgc3RhdGljIGZ1bmN0aW9uIGNyZWF0ZShQcm9jZXNzICRwcm9jZXNzLCAkaW5wdXQpCnsKcmV0dXJuIG5ldyBzdGF0aWMoJHByb2Nlc3MtPmlzT3V0cHV0RGlzYWJsZWQoKSwgJGlucHV0KTsKfQp9Cjw/cGhwCgoKCgoKCgoKCgpuYW1lc3BhY2UgU3ltZm9ueVxDb21wb25lbnRcUHJvY2VzczsKCnVzZSBTeW1mb255XENvbXBvbmVudFxQcm9jZXNzXEV4Y2VwdGlvblxJbnZhbGlkQXJndW1lbnRFeGNlcHRpb247CnVzZSBTeW1mb255XENvbXBvbmVudFxQcm9jZXNzXEV4Y2VwdGlvblxMb2dpY0V4Y2VwdGlvbjsKdXNlIFN5bWZvbnlcQ29tcG9uZW50XFByb2Nlc3NcRXhjZXB0aW9uXFByb2Nlc3NGYWlsZWRFeGNlcHRpb247CnVzZSBTeW1mb255XENvbXBvbmVudFxQcm9jZXNzXEV4Y2VwdGlvblxQcm9jZXNzVGltZWRPdXRFeGNlcHRpb247CnVzZSBTeW1mb255XENvbXBvbmVudFxQcm9jZXNzXEV4Y2VwdGlvblxSdW50aW1lRXhjZXB0aW9uOwp1c2UgU3ltZm9ueVxDb21wb25lbnRcUHJvY2Vzc1xQaXBlc1xQaXBlc0ludGVyZmFjZTsKdXNlIFN5bWZvbnlcQ29tcG9uZW50XFByb2Nlc3NcUGlwZXNcVW5peFBpcGVzOwp1c2UgU3ltZm9ueVxDb21wb25lbnRcUHJvY2Vzc1xQaXBlc1xXaW5kb3dzUGlwZXM7CgoKCgoKCgoKY2xhc3MgUHJvY2Vzcwp7CmNvbnN0IEVSUiA9ICdlcnInOwpjb25zdCBPVVQgPSAnb3V0JzsKCmNvbnN0IFNUQVRVU19SRUFEWSA9ICdyZWFkeSc7CmNvbnN0IFNUQVRVU19TVEFSVEVEID0gJ3N0YXJ0ZWQnOwpjb25zdCBTVEFUVVNfVEVSTUlOQVRFRCA9ICd0ZXJtaW5hdGVkJzsKCmNvbnN0IFNURElOID0gMDsKY29uc3QgU1RET1VUID0gMTsKY29uc3QgU1RERVJSID0gMjsKCgpjb25zdCBUSU1FT1VUX1BSRUNJU0lPTiA9IDAuMjsKCnByaXZhdGUgJGNhbGxiYWNrOwpwcml2YXRlICRjb21tYW5kbGluZTsKcHJpdmF0ZSAkY3dkOwpwcml2YXRlICRlbnY7CnByaXZhdGUgJGlucHV0Owpwcml2YXRlICRzdGFydHRpbWU7CnByaXZhdGUgJGxhc3RPdXRwdXRUaW1lOwpwcml2YXRlICR0aW1lb3V0Owpwcml2YXRlICRpZGxlVGltZW91dDsKcHJpdmF0ZSAkb3B0aW9uczsKcHJpdmF0ZSAkZXhpdGNvZGU7CnByaXZhdGUgJGZhbGxiYWNrU3RhdHVzID0gYXJyYXkoKTsKcHJpdmF0ZSAkcHJvY2Vzc0luZm9ybWF0aW9uOwpwcml2YXRlICRvdXRwdXREaXNhYmxlZCA9IGZhbHNlOwpwcml2YXRlICRzdGRvdXQ7CnByaXZhdGUgJHN0ZGVycjsKcHJpdmF0ZSAkZW5oYW5jZVdpbmRvd3NDb21wYXRpYmlsaXR5ID0gdHJ1ZTsKcHJpdmF0ZSAkZW5oYW5jZVNpZ2NoaWxkQ29tcGF0aWJpbGl0eTsKcHJpdmF0ZSAkcHJvY2VzczsKcHJpdmF0ZSAkc3RhdHVzID0gc2VsZjo6U1RBVFVTX1JFQURZOwpwcml2YXRlICRpbmNyZW1lbnRhbE91dHB1dE9mZnNldCA9IDA7CnByaXZhdGUgJGluY3JlbWVudGFsRXJyb3JPdXRwdXRPZmZzZXQgPSAwOwpwcml2YXRlICR0dHk7CnByaXZhdGUgJHB0eTsKCnByaXZhdGUgJHVzZUZpbGVIYW5kbGVzID0gZmFsc2U7Cgpwcml2YXRlICRwcm9jZXNzUGlwZXM7Cgpwcml2YXRlICRsYXRlc3RTaWduYWw7Cgpwcml2YXRlIHN0YXRpYyAkc2lnY2hpbGQ7CgoKCgoKCnB1YmxpYyBzdGF0aWMgJGV4aXRDb2RlcyA9IGFycmF5KAowID0+ICdPSycsCjEgPT4gJ0dlbmVyYWwgZXJyb3InLAoyID0+ICdNaXN1c2Ugb2Ygc2hlbGwgYnVpbHRpbnMnLAoKMTI2ID0+ICdJbnZva2VkIGNvbW1hbmQgY2Fubm90IGV4ZWN1dGUnLAoxMjcgPT4gJ0NvbW1hbmQgbm90IGZvdW5kJywKMTI4ID0+ICdJbnZhbGlkIGV4aXQgYXJndW1lbnQnLAoKCjEyOSA9PiAnSGFuZ3VwJywKMTMwID0+ICdJbnRlcnJ1cHQnLAoxMzEgPT4gJ1F1aXQgYW5kIGR1bXAgY29yZScsCjEzMiA9PiAnSWxsZWdhbCBpbnN0cnVjdGlvbicsCjEzMyA9PiAnVHJhY2UvYnJlYWtwb2ludCB0cmFwJywKMTM0ID0+ICdQcm9jZXNzIGFib3J0ZWQnLAoxMzUgPT4gJ0J1cyBlcnJvcjogImFjY2VzcyB0byB1bmRlZmluZWQgcG9ydGlvbiBvZiBtZW1vcnkgb2JqZWN0IicsCjEzNiA9PiAnRmxvYXRpbmcgcG9pbnQgZXhjZXB0aW9uOiAiZXJyb25lb3VzIGFyaXRobWV0aWMgb3BlcmF0aW9uIicsCjEzNyA9PiAnS2lsbCAodGVybWluYXRlIGltbWVkaWF0ZWx5KScsCjEzOCA9PiAnVXNlci1kZWZpbmVkIDEnLAoxMzkgPT4gJ1NlZ21lbnRhdGlvbiB2aW9sYXRpb24nLAoxNDAgPT4gJ1VzZXItZGVmaW5lZCAyJywKMTQxID0+ICdXcml0ZSB0byBwaXBlIHdpdGggbm8gb25lIHJlYWRpbmcnLAoxNDIgPT4gJ1NpZ25hbCByYWlzZWQgYnkgYWxhcm0nLAoxNDMgPT4gJ1Rlcm1pbmF0aW9uIChyZXF1ZXN0IHRvIHRlcm1pbmF0ZSknLAoKMTQ1ID0+ICdDaGlsZCBwcm9jZXNzIHRlcm1pbmF0ZWQsIHN0b3BwZWQgKG9yIGNvbnRpbnVlZCopJywKMTQ2ID0+ICdDb250aW51ZSBpZiBzdG9wcGVkJywKMTQ3ID0+ICdTdG9wIGV4ZWN1dGluZyB0ZW1wb3JhcmlseScsCjE0OCA9PiAnVGVybWluYWwgc3RvcCBzaWduYWwnLAoxNDkgPT4gJ0JhY2tncm91bmQgcHJvY2VzcyBhdHRlbXB0aW5nIHRvIHJlYWQgZnJvbSB0dHkgKCJpbiIpJywKMTUwID0+ICdCYWNrZ3JvdW5kIHByb2Nlc3MgYXR0ZW1wdGluZyB0byB3cml0ZSB0byB0dHkgKCJvdXQiKScsCjE1MSA9PiAnVXJnZW50IGRhdGEgYXZhaWxhYmxlIG9uIHNvY2tldCcsCjE1MiA9PiAnQ1BVIHRpbWUgbGltaXQgZXhjZWVkZWQnLAoxNTMgPT4gJ0ZpbGUgc2l6ZSBsaW1pdCBleGNlZWRlZCcsCjE1NCA9PiAnU2lnbmFsIHJhaXNlZCBieSB0aW1lciBjb3VudGluZyB2aXJ0dWFsIHRpbWU6ICJ2aXJ0dWFsIHRpbWVyIGV4cGlyZWQiJywKMTU1ID0+ICdQcm9maWxpbmcgdGltZXIgZXhwaXJlZCcsCgoxNTcgPT4gJ1BvbGxhYmxlIGV2ZW50JywKCjE1OSA9PiAnQmFkIHN5c2NhbGwnLAopOwoKCgoKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBfX2NvbnN0cnVjdCgkY29tbWFuZGxpbmUsICRjd2QgPSBudWxsLCBhcnJheSAkZW52ID0gbnVsbCwgJGlucHV0ID0gbnVsbCwgJHRpbWVvdXQgPSA2MCwgYXJyYXkgJG9wdGlvbnMgPSBhcnJheSgpKQp7CmlmICghXGZ1bmN0aW9uX2V4aXN0cygncHJvY19vcGVuJykpIHsKdGhyb3cgbmV3IFJ1bnRpbWVFeGNlcHRpb24oJ1RoZSBQcm9jZXNzIGNsYXNzIHJlbGllcyBvbiBwcm9jX29wZW4sIHdoaWNoIGlzIG5vdCBhdmFpbGFibGUgb24geW91ciBQSFAgaW5zdGFsbGF0aW9uLicpOwp9CgokdGhpcy0+Y29tbWFuZGxpbmUgPSAkY29tbWFuZGxpbmU7CiR0aGlzLT5jd2QgPSAkY3dkOwoKCgoKCmlmIChudWxsID09PSAkdGhpcy0+Y3dkICYmIChcZGVmaW5lZCgnWkVORF9USFJFQURfU0FGRScpIHx8ICdcXCcgPT09IFxESVJFQ1RPUllfU0VQQVJBVE9SKSkgewokdGhpcy0+Y3dkID0gZ2V0Y3dkKCk7Cn0KaWYgKG51bGwgIT09ICRlbnYpIHsKJHRoaXMtPnNldEVudigkZW52KTsKfQoKJHRoaXMtPnNldElucHV0KCRpbnB1dCk7CiR0aGlzLT5zZXRUaW1lb3V0KCR0aW1lb3V0KTsKJHRoaXMtPnVzZUZpbGVIYW5kbGVzID0gJ1xcJyA9PT0gXERJUkVDVE9SWV9TRVBBUkFUT1I7CiR0aGlzLT5wdHkgPSBmYWxzZTsKJHRoaXMtPmVuaGFuY2VTaWdjaGlsZENvbXBhdGliaWxpdHkgPSAnXFwnICE9PSBcRElSRUNUT1JZX1NFUEFSQVRPUiAmJiAkdGhpcy0+aXNTaWdjaGlsZEVuYWJsZWQoKTsKJHRoaXMtPm9wdGlvbnMgPSBhcnJheV9yZXBsYWNlKGFycmF5KCdzdXBwcmVzc19lcnJvcnMnID0+IHRydWUsICdiaW5hcnlfcGlwZXMnID0+IHRydWUpLCAkb3B0aW9ucyk7Cn0KCnB1YmxpYyBmdW5jdGlvbiBfX2Rlc3RydWN0KCkKewokdGhpcy0+c3RvcCgwKTsKfQoKcHVibGljIGZ1bmN0aW9uIF9fY2xvbmUoKQp7CiR0aGlzLT5yZXNldFByb2Nlc3NEYXRhKCk7Cn0KCgoKCgoKCgoKCgoKCgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gcnVuKCRjYWxsYmFjayA9IG51bGwpCnsKJHRoaXMtPnN0YXJ0KCRjYWxsYmFjayk7CgpyZXR1cm4gJHRoaXMtPndhaXQoKTsKfQoKCgoKCgoKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBtdXN0UnVuKCRjYWxsYmFjayA9IG51bGwpCnsKaWYgKCEkdGhpcy0+ZW5oYW5jZVNpZ2NoaWxkQ29tcGF0aWJpbGl0eSAmJiAkdGhpcy0+aXNTaWdjaGlsZEVuYWJsZWQoKSkgewp0aHJvdyBuZXcgUnVudGltZUV4Y2VwdGlvbignVGhpcyBQSFAgaGFzIGJlZW4gY29tcGlsZWQgd2l0aCAtLWVuYWJsZS1zaWdjaGlsZC4gWW91IG11c3QgdXNlIHNldEVuaGFuY2VTaWdjaGlsZENvbXBhdGliaWxpdHkoKSB0byB1c2UgdGhpcyBtZXRob2QuJyk7Cn0KCmlmICgwICE9PSAkdGhpcy0+cnVuKCRjYWxsYmFjaykpIHsKdGhyb3cgbmV3IFByb2Nlc3NGYWlsZWRFeGNlcHRpb24oJHRoaXMpOwp9CgpyZXR1cm4gJHRoaXM7Cn0KCgoKCgoKCgoKCgoKCgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gc3RhcnQoJGNhbGxiYWNrID0gbnVsbCkKewppZiAoJHRoaXMtPmlzUnVubmluZygpKSB7CnRocm93IG5ldyBSdW50aW1lRXhjZXB0aW9uKCdQcm9jZXNzIGlzIGFscmVhZHkgcnVubmluZycpOwp9CmlmICgkdGhpcy0+b3V0cHV0RGlzYWJsZWQgJiYgbnVsbCAhPT0gJGNhbGxiYWNrKSB7CnRocm93IG5ldyBMb2dpY0V4Y2VwdGlvbignT3V0cHV0IGhhcyBiZWVuIGRpc2FibGVkLCBlbmFibGUgaXQgdG8gYWxsb3cgdGhlIHVzZSBvZiBhIGNhbGxiYWNrLicpOwp9CgokdGhpcy0+cmVzZXRQcm9jZXNzRGF0YSgpOwokdGhpcy0+c3RhcnR0aW1lID0gJHRoaXMtPmxhc3RPdXRwdXRUaW1lID0gbWljcm90aW1lKHRydWUpOwokdGhpcy0+Y2FsbGJhY2sgPSAkdGhpcy0+YnVpbGRDYWxsYmFjaygkY2FsbGJhY2spOwokZGVzY3JpcHRvcnMgPSAkdGhpcy0+Z2V0RGVzY3JpcHRvcnMoKTsKCiRjb21tYW5kbGluZSA9ICR0aGlzLT5jb21tYW5kbGluZTsKCmlmICgnXFwnID09PSBcRElSRUNUT1JZX1NFUEFSQVRPUiAmJiAkdGhpcy0+ZW5oYW5jZVdpbmRvd3NDb21wYXRpYmlsaXR5KSB7CiRjb21tYW5kbGluZSA9ICdjbWQgL1Y6T04gL0U6T04gL0QgL0MgIignLiRjb21tYW5kbGluZS4nKSc7CmZvcmVhY2ggKCR0aGlzLT5wcm9jZXNzUGlwZXMtPmdldEZpbGVzKCkgYXMgJG9mZnNldCA9PiAkZmlsZW5hbWUpIHsKJGNvbW1hbmRsaW5lIC49ICcgJy4kb2Zmc2V0Lic+Jy5Qcm9jZXNzVXRpbHM6OmVzY2FwZUFyZ3VtZW50KCRmaWxlbmFtZSk7Cn0KJGNvbW1hbmRsaW5lIC49ICciJzsKCmlmICghaXNzZXQoJHRoaXMtPm9wdGlvbnNbJ2J5cGFzc19zaGVsbCddKSkgewokdGhpcy0+b3B0aW9uc1snYnlwYXNzX3NoZWxsJ10gPSB0cnVlOwp9Cn0gZWxzZWlmICghJHRoaXMtPnVzZUZpbGVIYW5kbGVzICYmICR0aGlzLT5lbmhhbmNlU2lnY2hpbGRDb21wYXRpYmlsaXR5ICYmICR0aGlzLT5pc1NpZ2NoaWxkRW5hYmxlZCgpKSB7CgokZGVzY3JpcHRvcnNbM10gPSBhcnJheSgncGlwZScsICd3Jyk7CgoKJGNvbW1hbmRsaW5lID0gJ3sgKCcuJHRoaXMtPmNvbW1hbmRsaW5lLicpIDwmMyAzPCYtIDM+L2Rldi9udWxsICYgfSAzPCYwOyc7CiRjb21tYW5kbGluZSAuPSAncGlkPSQhOyBlY2hvICRwaWQgPiYzOyB3YWl0ICRwaWQ7IGNvZGU9JD87IGVjaG8gJGNvZGUgPiYzOyBleGl0ICRjb2RlJzsKCgoKJHB0c1dvcmthcm91bmQgPSBmb3BlbihfX0ZJTEVfXywgJ3InKTsKfQoKJHRoaXMtPnByb2Nlc3MgPSBwcm9jX29wZW4oJGNvbW1hbmRsaW5lLCAkZGVzY3JpcHRvcnMsICR0aGlzLT5wcm9jZXNzUGlwZXMtPnBpcGVzLCAkdGhpcy0+Y3dkLCAkdGhpcy0+ZW52LCAkdGhpcy0+b3B0aW9ucyk7CgppZiAoIVxpc19yZXNvdXJjZSgkdGhpcy0+cHJvY2VzcykpIHsKdGhyb3cgbmV3IFJ1bnRpbWVFeGNlcHRpb24oJ1VuYWJsZSB0byBsYXVuY2ggYSBuZXcgcHJvY2Vzcy4nKTsKfQokdGhpcy0+c3RhdHVzID0gc2VsZjo6U1RBVFVTX1NUQVJURUQ7CgppZiAoaXNzZXQoJGRlc2NyaXB0b3JzWzNdKSkgewokdGhpcy0+ZmFsbGJhY2tTdGF0dXNbJ3BpZCddID0gKGludCkgZmdldHMoJHRoaXMtPnByb2Nlc3NQaXBlcy0+cGlwZXNbM10pOwp9CgppZiAoJHRoaXMtPnR0eSkgewpyZXR1cm47Cn0KCiR0aGlzLT51cGRhdGVTdGF0dXMoZmFsc2UpOwokdGhpcy0+Y2hlY2tUaW1lb3V0KCk7Cn0KCgoKCgoKCgoKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiByZXN0YXJ0KCRjYWxsYmFjayA9IG51bGwpCnsKaWYgKCR0aGlzLT5pc1J1bm5pbmcoKSkgewp0aHJvdyBuZXcgUnVudGltZUV4Y2VwdGlvbignUHJvY2VzcyBpcyBhbHJlYWR5IHJ1bm5pbmcnKTsKfQoKJHByb2Nlc3MgPSBjbG9uZSAkdGhpczsKJHByb2Nlc3MtPnN0YXJ0KCRjYWxsYmFjayk7CgpyZXR1cm4gJHByb2Nlc3M7Cn0KCgoKCgoKCgoKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiB3YWl0KCRjYWxsYmFjayA9IG51bGwpCnsKJHRoaXMtPnJlcXVpcmVQcm9jZXNzSXNTdGFydGVkKF9fRlVOQ1RJT05fXyk7CgokdGhpcy0+dXBkYXRlU3RhdHVzKGZhbHNlKTsKaWYgKG51bGwgIT09ICRjYWxsYmFjaykgewokdGhpcy0+Y2FsbGJhY2sgPSAkdGhpcy0+YnVpbGRDYWxsYmFjaygkY2FsbGJhY2spOwp9CgpkbyB7CiR0aGlzLT5jaGVja1RpbWVvdXQoKTsKJHJ1bm5pbmcgPSAnXFwnID09PSBcRElSRUNUT1JZX1NFUEFSQVRPUiA/ICR0aGlzLT5pc1J1bm5pbmcoKSA6ICR0aGlzLT5wcm9jZXNzUGlwZXMtPmFyZU9wZW4oKTsKJHRoaXMtPnJlYWRQaXBlcygkcnVubmluZywgJ1xcJyAhPT0gXERJUkVDVE9SWV9TRVBBUkFUT1IgfHwgISRydW5uaW5nKTsKfSB3aGlsZSAoJHJ1bm5pbmcpOwoKd2hpbGUgKCR0aGlzLT5pc1J1bm5pbmcoKSkgewp1c2xlZXAoMTAwMCk7Cn0KCmlmICgkdGhpcy0+cHJvY2Vzc0luZm9ybWF0aW9uWydzaWduYWxlZCddICYmICR0aGlzLT5wcm9jZXNzSW5mb3JtYXRpb25bJ3Rlcm1zaWcnXSAhPT0gJHRoaXMtPmxhdGVzdFNpZ25hbCkgewp0aHJvdyBuZXcgUnVudGltZUV4Y2VwdGlvbihzcHJpbnRmKCdUaGUgcHJvY2VzcyBoYXMgYmVlbiBzaWduYWxlZCB3aXRoIHNpZ25hbCAiJXMiLicsICR0aGlzLT5wcm9jZXNzSW5mb3JtYXRpb25bJ3Rlcm1zaWcnXSkpOwp9CgpyZXR1cm4gJHRoaXMtPmV4aXRjb2RlOwp9CgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBnZXRQaWQoKQp7CnJldHVybiAkdGhpcy0+aXNSdW5uaW5nKCkgPyAkdGhpcy0+cHJvY2Vzc0luZm9ybWF0aW9uWydwaWQnXSA6IG51bGw7Cn0KCgoKCgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIHNpZ25hbCgkc2lnbmFsKQp7CiR0aGlzLT5kb1NpZ25hbCgkc2lnbmFsLCB0cnVlKTsKCnJldHVybiAkdGhpczsKfQoKCgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gZGlzYWJsZU91dHB1dCgpCnsKaWYgKCR0aGlzLT5pc1J1bm5pbmcoKSkgewp0aHJvdyBuZXcgUnVudGltZUV4Y2VwdGlvbignRGlzYWJsaW5nIG91dHB1dCB3aGlsZSB0aGUgcHJvY2VzcyBpcyBydW5uaW5nIGlzIG5vdCBwb3NzaWJsZS4nKTsKfQppZiAobnVsbCAhPT0gJHRoaXMtPmlkbGVUaW1lb3V0KSB7CnRocm93IG5ldyBMb2dpY0V4Y2VwdGlvbignT3V0cHV0IGNhbiBub3QgYmUgZGlzYWJsZWQgd2hpbGUgYW4gaWRsZSB0aW1lb3V0IGlzIHNldC4nKTsKfQoKJHRoaXMtPm91dHB1dERpc2FibGVkID0gdHJ1ZTsKCnJldHVybiAkdGhpczsKfQoKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBlbmFibGVPdXRwdXQoKQp7CmlmICgkdGhpcy0+aXNSdW5uaW5nKCkpIHsKdGhyb3cgbmV3IFJ1bnRpbWVFeGNlcHRpb24oJ0VuYWJsaW5nIG91dHB1dCB3aGlsZSB0aGUgcHJvY2VzcyBpcyBydW5uaW5nIGlzIG5vdCBwb3NzaWJsZS4nKTsKfQoKJHRoaXMtPm91dHB1dERpc2FibGVkID0gZmFsc2U7CgpyZXR1cm4gJHRoaXM7Cn0KCgoKCgoKcHVibGljIGZ1bmN0aW9uIGlzT3V0cHV0RGlzYWJsZWQoKQp7CnJldHVybiAkdGhpcy0+b3V0cHV0RGlzYWJsZWQ7Cn0KCgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIGdldE91dHB1dCgpCnsKJHRoaXMtPnJlYWRQaXBlc0Zvck91dHB1dChfX0ZVTkNUSU9OX18pOwoKaWYgKGZhbHNlID09PSAkcmV0ID0gc3RyZWFtX2dldF9jb250ZW50cygkdGhpcy0+c3Rkb3V0LCAtMSwgMCkpIHsKcmV0dXJuICcnOwp9CgpyZXR1cm4gJHJldDsKfQoKCgoKCgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0SW5jcmVtZW50YWxPdXRwdXQoKQp7CiR0aGlzLT5yZWFkUGlwZXNGb3JPdXRwdXQoX19GVU5DVElPTl9fKTsKCiRsYXRlc3QgPSBzdHJlYW1fZ2V0X2NvbnRlbnRzKCR0aGlzLT5zdGRvdXQsIC0xLCAkdGhpcy0+aW5jcmVtZW50YWxPdXRwdXRPZmZzZXQpOwokdGhpcy0+aW5jcmVtZW50YWxPdXRwdXRPZmZzZXQgPSBmdGVsbCgkdGhpcy0+c3Rkb3V0KTsKCmlmIChmYWxzZSA9PT0gJGxhdGVzdCkgewpyZXR1cm4gJyc7Cn0KCnJldHVybiAkbGF0ZXN0Owp9CgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBjbGVhck91dHB1dCgpCnsKZnRydW5jYXRlKCR0aGlzLT5zdGRvdXQsIDApOwpmc2VlaygkdGhpcy0+c3Rkb3V0LCAwKTsKJHRoaXMtPmluY3JlbWVudGFsT3V0cHV0T2Zmc2V0ID0gMDsKCnJldHVybiAkdGhpczsKfQoKCgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0RXJyb3JPdXRwdXQoKQp7CiR0aGlzLT5yZWFkUGlwZXNGb3JPdXRwdXQoX19GVU5DVElPTl9fKTsKCmlmIChmYWxzZSA9PT0gJHJldCA9IHN0cmVhbV9nZXRfY29udGVudHMoJHRoaXMtPnN0ZGVyciwgLTEsIDApKSB7CnJldHVybiAnJzsKfQoKcmV0dXJuICRyZXQ7Cn0KCgoKCgoKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBnZXRJbmNyZW1lbnRhbEVycm9yT3V0cHV0KCkKewokdGhpcy0+cmVhZFBpcGVzRm9yT3V0cHV0KF9fRlVOQ1RJT05fXyk7CgokbGF0ZXN0ID0gc3RyZWFtX2dldF9jb250ZW50cygkdGhpcy0+c3RkZXJyLCAtMSwgJHRoaXMtPmluY3JlbWVudGFsRXJyb3JPdXRwdXRPZmZzZXQpOwokdGhpcy0+aW5jcmVtZW50YWxFcnJvck91dHB1dE9mZnNldCA9IGZ0ZWxsKCR0aGlzLT5zdGRlcnIpOwoKaWYgKGZhbHNlID09PSAkbGF0ZXN0KSB7CnJldHVybiAnJzsKfQoKcmV0dXJuICRsYXRlc3Q7Cn0KCgoKCgoKcHVibGljIGZ1bmN0aW9uIGNsZWFyRXJyb3JPdXRwdXQoKQp7CmZ0cnVuY2F0ZSgkdGhpcy0+c3RkZXJyLCAwKTsKZnNlZWsoJHRoaXMtPnN0ZGVyciwgMCk7CiR0aGlzLT5pbmNyZW1lbnRhbEVycm9yT3V0cHV0T2Zmc2V0ID0gMDsKCnJldHVybiAkdGhpczsKfQoKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBnZXRFeGl0Q29kZSgpCnsKaWYgKCEkdGhpcy0+ZW5oYW5jZVNpZ2NoaWxkQ29tcGF0aWJpbGl0eSAmJiAkdGhpcy0+aXNTaWdjaGlsZEVuYWJsZWQoKSkgewp0aHJvdyBuZXcgUnVudGltZUV4Y2VwdGlvbignVGhpcyBQSFAgaGFzIGJlZW4gY29tcGlsZWQgd2l0aCAtLWVuYWJsZS1zaWdjaGlsZC4gWW91IG11c3QgdXNlIHNldEVuaGFuY2VTaWdjaGlsZENvbXBhdGliaWxpdHkoKSB0byB1c2UgdGhpcyBtZXRob2QuJyk7Cn0KCiR0aGlzLT51cGRhdGVTdGF0dXMoZmFsc2UpOwoKcmV0dXJuICR0aGlzLT5leGl0Y29kZTsKfQoKCgoKCgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0RXhpdENvZGVUZXh0KCkKewppZiAobnVsbCA9PT0gJGV4aXRjb2RlID0gJHRoaXMtPmdldEV4aXRDb2RlKCkpIHsKcmV0dXJuOwp9CgpyZXR1cm4gaXNzZXQoc2VsZjo6JGV4aXRDb2Rlc1skZXhpdGNvZGVdKSA/IHNlbGY6OiRleGl0Q29kZXNbJGV4aXRjb2RlXSA6ICdVbmtub3duIGVycm9yJzsKfQoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gaXNTdWNjZXNzZnVsKCkKewpyZXR1cm4gMCA9PT0gJHRoaXMtPmdldEV4aXRDb2RlKCk7Cn0KCgoKCgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gaGFzQmVlblNpZ25hbGVkKCkKewokdGhpcy0+cmVxdWlyZVByb2Nlc3NJc1Rlcm1pbmF0ZWQoX19GVU5DVElPTl9fKTsKCmlmICghJHRoaXMtPmVuaGFuY2VTaWdjaGlsZENvbXBhdGliaWxpdHkgJiYgJHRoaXMtPmlzU2lnY2hpbGRFbmFibGVkKCkpIHsKdGhyb3cgbmV3IFJ1bnRpbWVFeGNlcHRpb24oJ1RoaXMgUEhQIGhhcyBiZWVuIGNvbXBpbGVkIHdpdGggLS1lbmFibGUtc2lnY2hpbGQuIFRlcm0gc2lnbmFsIGNhbiBub3QgYmUgcmV0cmlldmVkLicpOwp9CgpyZXR1cm4gJHRoaXMtPnByb2Nlc3NJbmZvcm1hdGlvblsnc2lnbmFsZWQnXTsKfQoKCgoKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBnZXRUZXJtU2lnbmFsKCkKewokdGhpcy0+cmVxdWlyZVByb2Nlc3NJc1Rlcm1pbmF0ZWQoX19GVU5DVElPTl9fKTsKCmlmICgkdGhpcy0+aXNTaWdjaGlsZEVuYWJsZWQoKSAmJiAoISR0aGlzLT5lbmhhbmNlU2lnY2hpbGRDb21wYXRpYmlsaXR5IHx8IC0xID09PSAkdGhpcy0+cHJvY2Vzc0luZm9ybWF0aW9uWyd0ZXJtc2lnJ10pKSB7CnRocm93IG5ldyBSdW50aW1lRXhjZXB0aW9uKCdUaGlzIFBIUCBoYXMgYmVlbiBjb21waWxlZCB3aXRoIC0tZW5hYmxlLXNpZ2NoaWxkLiBUZXJtIHNpZ25hbCBjYW4gbm90IGJlIHJldHJpZXZlZC4nKTsKfQoKcmV0dXJuICR0aGlzLT5wcm9jZXNzSW5mb3JtYXRpb25bJ3Rlcm1zaWcnXTsKfQoKCgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIGhhc0JlZW5TdG9wcGVkKCkKewokdGhpcy0+cmVxdWlyZVByb2Nlc3NJc1Rlcm1pbmF0ZWQoX19GVU5DVElPTl9fKTsKCnJldHVybiAkdGhpcy0+cHJvY2Vzc0luZm9ybWF0aW9uWydzdG9wcGVkJ107Cn0KCgoKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBnZXRTdG9wU2lnbmFsKCkKewokdGhpcy0+cmVxdWlyZVByb2Nlc3NJc1Rlcm1pbmF0ZWQoX19GVU5DVElPTl9fKTsKCnJldHVybiAkdGhpcy0+cHJvY2Vzc0luZm9ybWF0aW9uWydzdG9wc2lnJ107Cn0KCgoKCgoKcHVibGljIGZ1bmN0aW9uIGlzUnVubmluZygpCnsKaWYgKHNlbGY6OlNUQVRVU19TVEFSVEVEICE9PSAkdGhpcy0+c3RhdHVzKSB7CnJldHVybiBmYWxzZTsKfQoKJHRoaXMtPnVwZGF0ZVN0YXR1cyhmYWxzZSk7CgpyZXR1cm4gJHRoaXMtPnByb2Nlc3NJbmZvcm1hdGlvblsncnVubmluZyddOwp9CgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBpc1N0YXJ0ZWQoKQp7CnJldHVybiBzZWxmOjpTVEFUVVNfUkVBRFkgIT0gJHRoaXMtPnN0YXR1czsKfQoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gaXNUZXJtaW5hdGVkKCkKewokdGhpcy0+dXBkYXRlU3RhdHVzKGZhbHNlKTsKCnJldHVybiBzZWxmOjpTVEFUVVNfVEVSTUlOQVRFRCA9PSAkdGhpcy0+c3RhdHVzOwp9CgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIGdldFN0YXR1cygpCnsKJHRoaXMtPnVwZGF0ZVN0YXR1cyhmYWxzZSk7CgpyZXR1cm4gJHRoaXMtPnN0YXR1czsKfQoKCgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gc3RvcCgkdGltZW91dCA9IDEwLCAkc2lnbmFsID0gbnVsbCkKewokdGltZW91dE1pY3JvID0gbWljcm90aW1lKHRydWUpICsgJHRpbWVvdXQ7CmlmICgkdGhpcy0+aXNSdW5uaW5nKCkpIHsKCiR0aGlzLT5kb1NpZ25hbCgxNSwgZmFsc2UpOwpkbyB7CnVzbGVlcCgxMDAwKTsKfSB3aGlsZSAoJHRoaXMtPmlzUnVubmluZygpICYmIG1pY3JvdGltZSh0cnVlKSA8ICR0aW1lb3V0TWljcm8pOwoKaWYgKCR0aGlzLT5pc1J1bm5pbmcoKSkgewoKCiR0aGlzLT5kb1NpZ25hbCgkc2lnbmFsID86IDksIGZhbHNlKTsKfQp9CgppZiAoJHRoaXMtPmlzUnVubmluZygpKSB7CmlmIChpc3NldCgkdGhpcy0+ZmFsbGJhY2tTdGF0dXNbJ3BpZCddKSkgewp1bnNldCgkdGhpcy0+ZmFsbGJhY2tTdGF0dXNbJ3BpZCddKTsKCnJldHVybiAkdGhpcy0+c3RvcCgwLCAkc2lnbmFsKTsKfQokdGhpcy0+Y2xvc2UoKTsKfQoKcmV0dXJuICR0aGlzLT5leGl0Y29kZTsKfQoKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBhZGRPdXRwdXQoJGxpbmUpCnsKJHRoaXMtPmxhc3RPdXRwdXRUaW1lID0gbWljcm90aW1lKHRydWUpOwoKZnNlZWsoJHRoaXMtPnN0ZG91dCwgMCwgU0VFS19FTkQpOwpmd3JpdGUoJHRoaXMtPnN0ZG91dCwgJGxpbmUpOwpmc2VlaygkdGhpcy0+c3Rkb3V0LCAkdGhpcy0+aW5jcmVtZW50YWxPdXRwdXRPZmZzZXQpOwp9CgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIGFkZEVycm9yT3V0cHV0KCRsaW5lKQp7CiR0aGlzLT5sYXN0T3V0cHV0VGltZSA9IG1pY3JvdGltZSh0cnVlKTsKCmZzZWVrKCR0aGlzLT5zdGRlcnIsIDAsIFNFRUtfRU5EKTsKZndyaXRlKCR0aGlzLT5zdGRlcnIsICRsaW5lKTsKZnNlZWsoJHRoaXMtPnN0ZGVyciwgJHRoaXMtPmluY3JlbWVudGFsRXJyb3JPdXRwdXRPZmZzZXQpOwp9CgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBnZXRDb21tYW5kTGluZSgpCnsKcmV0dXJuICR0aGlzLT5jb21tYW5kbGluZTsKfQoKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBzZXRDb21tYW5kTGluZSgkY29tbWFuZGxpbmUpCnsKJHRoaXMtPmNvbW1hbmRsaW5lID0gJGNvbW1hbmRsaW5lOwoKcmV0dXJuICR0aGlzOwp9CgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBnZXRUaW1lb3V0KCkKewpyZXR1cm4gJHRoaXMtPnRpbWVvdXQ7Cn0KCgoKCgoKcHVibGljIGZ1bmN0aW9uIGdldElkbGVUaW1lb3V0KCkKewpyZXR1cm4gJHRoaXMtPmlkbGVUaW1lb3V0Owp9CgoKCgoKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBzZXRUaW1lb3V0KCR0aW1lb3V0KQp7CiR0aGlzLT50aW1lb3V0ID0gJHRoaXMtPnZhbGlkYXRlVGltZW91dCgkdGltZW91dCk7CgpyZXR1cm4gJHRoaXM7Cn0KCgoKCgoKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBzZXRJZGxlVGltZW91dCgkdGltZW91dCkKewppZiAobnVsbCAhPT0gJHRpbWVvdXQgJiYgJHRoaXMtPm91dHB1dERpc2FibGVkKSB7CnRocm93IG5ldyBMb2dpY0V4Y2VwdGlvbignSWRsZSB0aW1lb3V0IGNhbiBub3QgYmUgc2V0IHdoaWxlIHRoZSBvdXRwdXQgaXMgZGlzYWJsZWQuJyk7Cn0KCiR0aGlzLT5pZGxlVGltZW91dCA9ICR0aGlzLT52YWxpZGF0ZVRpbWVvdXQoJHRpbWVvdXQpOwoKcmV0dXJuICR0aGlzOwp9CgoKCgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gc2V0VHR5KCR0dHkpCnsKaWYgKCdcXCcgPT09IFxESVJFQ1RPUllfU0VQQVJBVE9SICYmICR0dHkpIHsKdGhyb3cgbmV3IFJ1bnRpbWVFeGNlcHRpb24oJ1RUWSBtb2RlIGlzIG5vdCBzdXBwb3J0ZWQgb24gV2luZG93cyBwbGF0Zm9ybS4nKTsKfQppZiAoJHR0eSkgewpzdGF0aWMgJGlzVHR5U3VwcG9ydGVkOwoKaWYgKG51bGwgPT09ICRpc1R0eVN1cHBvcnRlZCkgewokaXNUdHlTdXBwb3J0ZWQgPSAoYm9vbCkgQHByb2Nfb3BlbignZWNobyAxID4vZGV2L251bGwnLCBhcnJheShhcnJheSgnZmlsZScsICcvZGV2L3R0eScsICdyJyksIGFycmF5KCdmaWxlJywgJy9kZXYvdHR5JywgJ3cnKSwgYXJyYXkoJ2ZpbGUnLCAnL2Rldi90dHknLCAndycpKSwgJHBpcGVzKTsKfQoKaWYgKCEkaXNUdHlTdXBwb3J0ZWQpIHsKdGhyb3cgbmV3IFJ1bnRpbWVFeGNlcHRpb24oJ1RUWSBtb2RlIHJlcXVpcmVzIC9kZXYvdHR5IHRvIGJlIHJlYWQvd3JpdGFibGUuJyk7Cn0KfQoKJHRoaXMtPnR0eSA9IChib29sKSAkdHR5OwoKcmV0dXJuICR0aGlzOwp9CgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBpc1R0eSgpCnsKcmV0dXJuICR0aGlzLT50dHk7Cn0KCgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gc2V0UHR5KCRib29sKQp7CiR0aGlzLT5wdHkgPSAoYm9vbCkgJGJvb2w7CgpyZXR1cm4gJHRoaXM7Cn0KCgoKCgoKcHVibGljIGZ1bmN0aW9uIGlzUHR5KCkKewpyZXR1cm4gJHRoaXMtPnB0eTsKfQoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0V29ya2luZ0RpcmVjdG9yeSgpCnsKaWYgKG51bGwgPT09ICR0aGlzLT5jd2QpIHsKCgpyZXR1cm4gZ2V0Y3dkKCkgPzogbnVsbDsKfQoKcmV0dXJuICR0aGlzLT5jd2Q7Cn0KCgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gc2V0V29ya2luZ0RpcmVjdG9yeSgkY3dkKQp7CiR0aGlzLT5jd2QgPSAkY3dkOwoKcmV0dXJuICR0aGlzOwp9CgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBnZXRFbnYoKQp7CnJldHVybiAkdGhpcy0+ZW52Owp9CgoKCgoKCgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIHNldEVudihhcnJheSAkZW52KQp7CgokZW52ID0gYXJyYXlfZmlsdGVyKCRlbnYsIGZ1bmN0aW9uICgkdmFsdWUpIHsKcmV0dXJuICFcaXNfYXJyYXkoJHZhbHVlKTsKfSk7CgokdGhpcy0+ZW52ID0gYXJyYXkoKTsKZm9yZWFjaCAoJGVudiBhcyAka2V5ID0+ICR2YWx1ZSkgewokdGhpcy0+ZW52WyRrZXldID0gKHN0cmluZykgJHZhbHVlOwp9CgpyZXR1cm4gJHRoaXM7Cn0KCgoKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBnZXRTdGRpbigpCnsKQHRyaWdnZXJfZXJyb3IoJ1RoZSAnLl9fTUVUSE9EX18uJyBtZXRob2QgaXMgZGVwcmVjYXRlZCBzaW5jZSBTeW1mb255IDIuNSBhbmQgd2lsbCBiZSByZW1vdmVkIGluIDMuMC4gVXNlIHRoZSBnZXRJbnB1dCgpIG1ldGhvZCBpbnN0ZWFkLicsIEVfVVNFUl9ERVBSRUNBVEVEKTsKCnJldHVybiAkdGhpcy0+Z2V0SW5wdXQoKTsKfQoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0SW5wdXQoKQp7CnJldHVybiAkdGhpcy0+aW5wdXQ7Cn0KCgoKCgoKCgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gc2V0U3RkaW4oJHN0ZGluKQp7CkB0cmlnZ2VyX2Vycm9yKCdUaGUgJy5fX01FVEhPRF9fLicgbWV0aG9kIGlzIGRlcHJlY2F0ZWQgc2luY2UgU3ltZm9ueSAyLjUgYW5kIHdpbGwgYmUgcmVtb3ZlZCBpbiAzLjAuIFVzZSB0aGUgc2V0SW5wdXQoKSBtZXRob2QgaW5zdGVhZC4nLCBFX1VTRVJfREVQUkVDQVRFRCk7CgpyZXR1cm4gJHRoaXMtPnNldElucHV0KCRzdGRpbik7Cn0KCgoKCgoKCgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gc2V0SW5wdXQoJGlucHV0KQp7CmlmICgkdGhpcy0+aXNSdW5uaW5nKCkpIHsKdGhyb3cgbmV3IExvZ2ljRXhjZXB0aW9uKCdJbnB1dCBjYW4gbm90IGJlIHNldCB3aGlsZSB0aGUgcHJvY2VzcyBpcyBydW5uaW5nLicpOwp9CgokdGhpcy0+aW5wdXQgPSBQcm9jZXNzVXRpbHM6OnZhbGlkYXRlSW5wdXQoX19NRVRIT0RfXywgJGlucHV0KTsKCnJldHVybiAkdGhpczsKfQoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gZ2V0T3B0aW9ucygpCnsKcmV0dXJuICR0aGlzLT5vcHRpb25zOwp9CgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIHNldE9wdGlvbnMoYXJyYXkgJG9wdGlvbnMpCnsKJHRoaXMtPm9wdGlvbnMgPSAkb3B0aW9uczsKCnJldHVybiAkdGhpczsKfQoKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBnZXRFbmhhbmNlV2luZG93c0NvbXBhdGliaWxpdHkoKQp7CnJldHVybiAkdGhpcy0+ZW5oYW5jZVdpbmRvd3NDb21wYXRpYmlsaXR5Owp9CgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIHNldEVuaGFuY2VXaW5kb3dzQ29tcGF0aWJpbGl0eSgkZW5oYW5jZSkKewokdGhpcy0+ZW5oYW5jZVdpbmRvd3NDb21wYXRpYmlsaXR5ID0gKGJvb2wpICRlbmhhbmNlOwoKcmV0dXJuICR0aGlzOwp9CgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBnZXRFbmhhbmNlU2lnY2hpbGRDb21wYXRpYmlsaXR5KCkKewpyZXR1cm4gJHRoaXMtPmVuaGFuY2VTaWdjaGlsZENvbXBhdGliaWxpdHk7Cn0KCgoKCgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIHNldEVuaGFuY2VTaWdjaGlsZENvbXBhdGliaWxpdHkoJGVuaGFuY2UpCnsKJHRoaXMtPmVuaGFuY2VTaWdjaGlsZENvbXBhdGliaWxpdHkgPSAoYm9vbCkgJGVuaGFuY2U7CgpyZXR1cm4gJHRoaXM7Cn0KCgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIGNoZWNrVGltZW91dCgpCnsKaWYgKHNlbGY6OlNUQVRVU19TVEFSVEVEICE9PSAkdGhpcy0+c3RhdHVzKSB7CnJldHVybjsKfQoKaWYgKG51bGwgIT09ICR0aGlzLT50aW1lb3V0ICYmICR0aGlzLT50aW1lb3V0IDwgbWljcm90aW1lKHRydWUpIC0gJHRoaXMtPnN0YXJ0dGltZSkgewokdGhpcy0+c3RvcCgwKTsKCnRocm93IG5ldyBQcm9jZXNzVGltZWRPdXRFeGNlcHRpb24oJHRoaXMsIFByb2Nlc3NUaW1lZE91dEV4Y2VwdGlvbjo6VFlQRV9HRU5FUkFMKTsKfQoKaWYgKG51bGwgIT09ICR0aGlzLT5pZGxlVGltZW91dCAmJiAkdGhpcy0+aWRsZVRpbWVvdXQgPCBtaWNyb3RpbWUodHJ1ZSkgLSAkdGhpcy0+bGFzdE91dHB1dFRpbWUpIHsKJHRoaXMtPnN0b3AoMCk7Cgp0aHJvdyBuZXcgUHJvY2Vzc1RpbWVkT3V0RXhjZXB0aW9uKCR0aGlzLCBQcm9jZXNzVGltZWRPdXRFeGNlcHRpb246OlRZUEVfSURMRSk7Cn0KfQoKCgoKCgpwdWJsaWMgc3RhdGljIGZ1bmN0aW9uIGlzUHR5U3VwcG9ydGVkKCkKewpzdGF0aWMgJHJlc3VsdDsKCmlmIChudWxsICE9PSAkcmVzdWx0KSB7CnJldHVybiAkcmVzdWx0Owp9CgppZiAoJ1xcJyA9PT0gXERJUkVDVE9SWV9TRVBBUkFUT1IpIHsKcmV0dXJuICRyZXN1bHQgPSBmYWxzZTsKfQoKcmV0dXJuICRyZXN1bHQgPSAoYm9vbCkgQHByb2Nfb3BlbignZWNobyAxID4vZGV2L251bGwnLCBhcnJheShhcnJheSgncHR5JyksIGFycmF5KCdwdHknKSwgYXJyYXkoJ3B0eScpKSwgJHBpcGVzKTsKfQoKCgoKCgpwcml2YXRlIGZ1bmN0aW9uIGdldERlc2NyaXB0b3JzKCkKewppZiAoJ1xcJyA9PT0gXERJUkVDVE9SWV9TRVBBUkFUT1IpIHsKJHRoaXMtPnByb2Nlc3NQaXBlcyA9IFdpbmRvd3NQaXBlczo6Y3JlYXRlKCR0aGlzLCAkdGhpcy0+aW5wdXQpOwp9IGVsc2UgewokdGhpcy0+cHJvY2Vzc1BpcGVzID0gVW5peFBpcGVzOjpjcmVhdGUoJHRoaXMsICR0aGlzLT5pbnB1dCk7Cn0KCnJldHVybiAkdGhpcy0+cHJvY2Vzc1BpcGVzLT5nZXREZXNjcmlwdG9ycygpOwp9CgoKCgoKCgoKCgoKcHJvdGVjdGVkIGZ1bmN0aW9uIGJ1aWxkQ2FsbGJhY2soJGNhbGxiYWNrKQp7CiR0aGF0ID0gJHRoaXM7CiRvdXQgPSBzZWxmOjpPVVQ7CiRjYWxsYmFjayA9IGZ1bmN0aW9uICgkdHlwZSwgJGRhdGEpIHVzZSAoJHRoYXQsICRjYWxsYmFjaywgJG91dCkgewppZiAoJG91dCA9PSAkdHlwZSkgewokdGhhdC0+YWRkT3V0cHV0KCRkYXRhKTsKfSBlbHNlIHsKJHRoYXQtPmFkZEVycm9yT3V0cHV0KCRkYXRhKTsKfQoKaWYgKG51bGwgIT09ICRjYWxsYmFjaykgewpcY2FsbF91c2VyX2Z1bmMoJGNhbGxiYWNrLCAkdHlwZSwgJGRhdGEpOwp9Cn07CgpyZXR1cm4gJGNhbGxiYWNrOwp9CgoKCgoKCnByb3RlY3RlZCBmdW5jdGlvbiB1cGRhdGVTdGF0dXMoJGJsb2NraW5nKQp7CmlmIChzZWxmOjpTVEFUVVNfU1RBUlRFRCAhPT0gJHRoaXMtPnN0YXR1cykgewpyZXR1cm47Cn0KCiR0aGlzLT5wcm9jZXNzSW5mb3JtYXRpb24gPSBwcm9jX2dldF9zdGF0dXMoJHRoaXMtPnByb2Nlc3MpOwokcnVubmluZyA9ICR0aGlzLT5wcm9jZXNzSW5mb3JtYXRpb25bJ3J1bm5pbmcnXTsKCiR0aGlzLT5yZWFkUGlwZXMoJHJ1bm5pbmcgJiYgJGJsb2NraW5nLCAnXFwnICE9PSBcRElSRUNUT1JZX1NFUEFSQVRPUiB8fCAhJHJ1bm5pbmcpOwoKaWYgKCR0aGlzLT5mYWxsYmFja1N0YXR1cyAmJiAkdGhpcy0+ZW5oYW5jZVNpZ2NoaWxkQ29tcGF0aWJpbGl0eSAmJiAkdGhpcy0+aXNTaWdjaGlsZEVuYWJsZWQoKSkgewokdGhpcy0+cHJvY2Vzc0luZm9ybWF0aW9uID0gJHRoaXMtPmZhbGxiYWNrU3RhdHVzICsgJHRoaXMtPnByb2Nlc3NJbmZvcm1hdGlvbjsKfQoKaWYgKCEkcnVubmluZykgewokdGhpcy0+Y2xvc2UoKTsKfQp9CgoKCgoKCnByb3RlY3RlZCBmdW5jdGlvbiBpc1NpZ2NoaWxkRW5hYmxlZCgpCnsKaWYgKG51bGwgIT09IHNlbGY6OiRzaWdjaGlsZCkgewpyZXR1cm4gc2VsZjo6JHNpZ2NoaWxkOwp9CgppZiAoIVxmdW5jdGlvbl9leGlzdHMoJ3BocGluZm8nKSB8fCBcZGVmaW5lZCgnSEhWTV9WRVJTSU9OJykpIHsKcmV0dXJuIHNlbGY6OiRzaWdjaGlsZCA9IGZhbHNlOwp9CgpvYl9zdGFydCgpOwpwaHBpbmZvKElORk9fR0VORVJBTCk7CgpyZXR1cm4gc2VsZjo6JHNpZ2NoaWxkID0gZmFsc2UgIT09IHN0cnBvcyhvYl9nZXRfY2xlYW4oKSwgJy0tZW5hYmxlLXNpZ2NoaWxkJyk7Cn0KCgoKCgoKCgpwcml2YXRlIGZ1bmN0aW9uIHJlYWRQaXBlc0Zvck91dHB1dCgkY2FsbGVyKQp7CmlmICgkdGhpcy0+b3V0cHV0RGlzYWJsZWQpIHsKdGhyb3cgbmV3IExvZ2ljRXhjZXB0aW9uKCdPdXRwdXQgaGFzIGJlZW4gZGlzYWJsZWQuJyk7Cn0KCiR0aGlzLT5yZXF1aXJlUHJvY2Vzc0lzU3RhcnRlZCgkY2FsbGVyKTsKCiR0aGlzLT51cGRhdGVTdGF0dXMoZmFsc2UpOwp9CgoKCgoKCgoKCgpwcml2YXRlIGZ1bmN0aW9uIHZhbGlkYXRlVGltZW91dCgkdGltZW91dCkKewokdGltZW91dCA9IChmbG9hdCkgJHRpbWVvdXQ7CgppZiAoMC4wID09PSAkdGltZW91dCkgewokdGltZW91dCA9IG51bGw7Cn0gZWxzZWlmICgkdGltZW91dCA8IDApIHsKdGhyb3cgbmV3IEludmFsaWRBcmd1bWVudEV4Y2VwdGlvbignVGhlIHRpbWVvdXQgdmFsdWUgbXVzdCBiZSBhIHZhbGlkIHBvc2l0aXZlIGludGVnZXIgb3IgZmxvYXQgbnVtYmVyLicpOwp9CgpyZXR1cm4gJHRpbWVvdXQ7Cn0KCgoKCgoKCnByaXZhdGUgZnVuY3Rpb24gcmVhZFBpcGVzKCRibG9ja2luZywgJGNsb3NlKQp7CiRyZXN1bHQgPSAkdGhpcy0+cHJvY2Vzc1BpcGVzLT5yZWFkQW5kV3JpdGUoJGJsb2NraW5nLCAkY2xvc2UpOwoKJGNhbGxiYWNrID0gJHRoaXMtPmNhbGxiYWNrOwpmb3JlYWNoICgkcmVzdWx0IGFzICR0eXBlID0+ICRkYXRhKSB7CmlmICgzICE9PSAkdHlwZSkgewokY2FsbGJhY2soc2VsZjo6U1RET1VUID09PSAkdHlwZSA/IHNlbGY6Ok9VVCA6IHNlbGY6OkVSUiwgJGRhdGEpOwp9IGVsc2VpZiAoIWlzc2V0KCR0aGlzLT5mYWxsYmFja1N0YXR1c1snc2lnbmFsZWQnXSkpIHsKJHRoaXMtPmZhbGxiYWNrU3RhdHVzWydleGl0Y29kZSddID0gKGludCkgJGRhdGE7Cn0KfQp9CgoKCgoKCnByaXZhdGUgZnVuY3Rpb24gY2xvc2UoKQp7CiR0aGlzLT5wcm9jZXNzUGlwZXMtPmNsb3NlKCk7CmlmIChcaXNfcmVzb3VyY2UoJHRoaXMtPnByb2Nlc3MpKSB7CnByb2NfY2xvc2UoJHRoaXMtPnByb2Nlc3MpOwp9CiR0aGlzLT5leGl0Y29kZSA9ICR0aGlzLT5wcm9jZXNzSW5mb3JtYXRpb25bJ2V4aXRjb2RlJ107CiR0aGlzLT5zdGF0dXMgPSBzZWxmOjpTVEFUVVNfVEVSTUlOQVRFRDsKCmlmICgtMSA9PT0gJHRoaXMtPmV4aXRjb2RlKSB7CmlmICgkdGhpcy0+cHJvY2Vzc0luZm9ybWF0aW9uWydzaWduYWxlZCddICYmIDAgPCAkdGhpcy0+cHJvY2Vzc0luZm9ybWF0aW9uWyd0ZXJtc2lnJ10pIHsKCiR0aGlzLT5leGl0Y29kZSA9IDEyOCArICR0aGlzLT5wcm9jZXNzSW5mb3JtYXRpb25bJ3Rlcm1zaWcnXTsKfSBlbHNlaWYgKCR0aGlzLT5lbmhhbmNlU2lnY2hpbGRDb21wYXRpYmlsaXR5ICYmICR0aGlzLT5pc1NpZ2NoaWxkRW5hYmxlZCgpKSB7CiR0aGlzLT5wcm9jZXNzSW5mb3JtYXRpb25bJ3NpZ25hbGVkJ10gPSB0cnVlOwokdGhpcy0+cHJvY2Vzc0luZm9ybWF0aW9uWyd0ZXJtc2lnJ10gPSAtMTsKfQp9CgoKCgokdGhpcy0+Y2FsbGJhY2sgPSBudWxsOwoKcmV0dXJuICR0aGlzLT5leGl0Y29kZTsKfQoKCgoKcHJpdmF0ZSBmdW5jdGlvbiByZXNldFByb2Nlc3NEYXRhKCkKewokdGhpcy0+c3RhcnR0aW1lID0gbnVsbDsKJHRoaXMtPmNhbGxiYWNrID0gbnVsbDsKJHRoaXMtPmV4aXRjb2RlID0gbnVsbDsKJHRoaXMtPmZhbGxiYWNrU3RhdHVzID0gYXJyYXkoKTsKJHRoaXMtPnByb2Nlc3NJbmZvcm1hdGlvbiA9IG51bGw7CiR0aGlzLT5zdGRvdXQgPSBmb3BlbigncGhwOi8vdGVtcC9tYXhtZW1vcnk6Jy4oMTAyNCAqIDEwMjQpLCAndytiJyk7CiR0aGlzLT5zdGRlcnIgPSBmb3BlbigncGhwOi8vdGVtcC9tYXhtZW1vcnk6Jy4oMTAyNCAqIDEwMjQpLCAndytiJyk7CiR0aGlzLT5wcm9jZXNzID0gbnVsbDsKJHRoaXMtPmxhdGVzdFNpZ25hbCA9IG51bGw7CiR0aGlzLT5zdGF0dXMgPSBzZWxmOjpTVEFUVVNfUkVBRFk7CiR0aGlzLT5pbmNyZW1lbnRhbE91dHB1dE9mZnNldCA9IDA7CiR0aGlzLT5pbmNyZW1lbnRhbEVycm9yT3V0cHV0T2Zmc2V0ID0gMDsKfQoKCgoKCgoKCgoKCgoKcHJpdmF0ZSBmdW5jdGlvbiBkb1NpZ25hbCgkc2lnbmFsLCAkdGhyb3dFeGNlcHRpb24pCnsKaWYgKG51bGwgPT09ICRwaWQgPSAkdGhpcy0+Z2V0UGlkKCkpIHsKaWYgKCR0aHJvd0V4Y2VwdGlvbikgewp0aHJvdyBuZXcgTG9naWNFeGNlcHRpb24oJ0NhbiBub3Qgc2VuZCBzaWduYWwgb24gYSBub24gcnVubmluZyBwcm9jZXNzLicpOwp9CgpyZXR1cm4gZmFsc2U7Cn0KCmlmICgnXFwnID09PSBcRElSRUNUT1JZX1NFUEFSQVRPUikgewpleGVjKHNwcmludGYoJ3Rhc2traWxsIC9GIC9UIC9QSUQgJWQgMj4mMScsICRwaWQpLCAkb3V0cHV0LCAkZXhpdENvZGUpOwppZiAoJGV4aXRDb2RlICYmICR0aGlzLT5pc1J1bm5pbmcoKSkgewppZiAoJHRocm93RXhjZXB0aW9uKSB7CnRocm93IG5ldyBSdW50aW1lRXhjZXB0aW9uKHNwcmludGYoJ1VuYWJsZSB0byBraWxsIHRoZSBwcm9jZXNzICglcykuJywgaW1wbG9kZSgnICcsICRvdXRwdXQpKSk7Cn0KCnJldHVybiBmYWxzZTsKfQp9IGVsc2UgewppZiAoISR0aGlzLT5lbmhhbmNlU2lnY2hpbGRDb21wYXRpYmlsaXR5IHx8ICEkdGhpcy0+aXNTaWdjaGlsZEVuYWJsZWQoKSkgewokb2sgPSBAcHJvY190ZXJtaW5hdGUoJHRoaXMtPnByb2Nlc3MsICRzaWduYWwpOwp9IGVsc2VpZiAoXGZ1bmN0aW9uX2V4aXN0cygncG9zaXhfa2lsbCcpKSB7CiRvayA9IEBwb3NpeF9raWxsKCRwaWQsICRzaWduYWwpOwp9IGVsc2VpZiAoJG9rID0gcHJvY19vcGVuKHNwcmludGYoJ2tpbGwgLSVkICVkJywgJHNpZ25hbCwgJHBpZCksIGFycmF5KDIgPT4gYXJyYXkoJ3BpcGUnLCAndycpKSwgJHBpcGVzKSkgewokb2sgPSBmYWxzZSA9PT0gZmdldHMoJHBpcGVzWzJdKTsKfQppZiAoISRvaykgewppZiAoJHRocm93RXhjZXB0aW9uKSB7CnRocm93IG5ldyBSdW50aW1lRXhjZXB0aW9uKHNwcmludGYoJ0Vycm9yIHdoaWxlIHNlbmRpbmcgc2lnbmFsIGAlc2AuJywgJHNpZ25hbCkpOwp9CgpyZXR1cm4gZmFsc2U7Cn0KfQoKJHRoaXMtPmxhdGVzdFNpZ25hbCA9IChpbnQpICRzaWduYWw7CiR0aGlzLT5mYWxsYmFja1N0YXR1c1snc2lnbmFsZWQnXSA9IHRydWU7CiR0aGlzLT5mYWxsYmFja1N0YXR1c1snZXhpdGNvZGUnXSA9IC0xOwokdGhpcy0+ZmFsbGJhY2tTdGF0dXNbJ3Rlcm1zaWcnXSA9ICR0aGlzLT5sYXRlc3RTaWduYWw7CgpyZXR1cm4gdHJ1ZTsKfQoKCgoKCgoKCnByaXZhdGUgZnVuY3Rpb24gcmVxdWlyZVByb2Nlc3NJc1N0YXJ0ZWQoJGZ1bmN0aW9uTmFtZSkKewppZiAoISR0aGlzLT5pc1N0YXJ0ZWQoKSkgewp0aHJvdyBuZXcgTG9naWNFeGNlcHRpb24oc3ByaW50ZignUHJvY2VzcyBtdXN0IGJlIHN0YXJ0ZWQgYmVmb3JlIGNhbGxpbmcgJXMuJywgJGZ1bmN0aW9uTmFtZSkpOwp9Cn0KCgoKCgoKCgpwcml2YXRlIGZ1bmN0aW9uIHJlcXVpcmVQcm9jZXNzSXNUZXJtaW5hdGVkKCRmdW5jdGlvbk5hbWUpCnsKaWYgKCEkdGhpcy0+aXNUZXJtaW5hdGVkKCkpIHsKdGhyb3cgbmV3IExvZ2ljRXhjZXB0aW9uKHNwcmludGYoJ1Byb2Nlc3MgbXVzdCBiZSB0ZXJtaW5hdGVkIGJlZm9yZSBjYWxsaW5nICVzLicsICRmdW5jdGlvbk5hbWUpKTsKfQp9Cn0KPD9waHAKCgoKCgoKCgoKCm5hbWVzcGFjZSBTeW1mb255XENvbXBvbmVudFxQcm9jZXNzOwoKdXNlIFN5bWZvbnlcQ29tcG9uZW50XFByb2Nlc3NcRXhjZXB0aW9uXEludmFsaWRBcmd1bWVudEV4Y2VwdGlvbjsKdXNlIFN5bWZvbnlcQ29tcG9uZW50XFByb2Nlc3NcRXhjZXB0aW9uXExvZ2ljRXhjZXB0aW9uOwoKCgoKY2xhc3MgUHJvY2Vzc0J1aWxkZXIKewpwcml2YXRlICRhcmd1bWVudHM7CnByaXZhdGUgJGN3ZDsKcHJpdmF0ZSAkZW52ID0gYXJyYXkoKTsKcHJpdmF0ZSAkaW5wdXQ7CnByaXZhdGUgJHRpbWVvdXQgPSA2MDsKcHJpdmF0ZSAkb3B0aW9ucyA9IGFycmF5KCk7CnByaXZhdGUgJGluaGVyaXRFbnYgPSB0cnVlOwpwcml2YXRlICRwcmVmaXggPSBhcnJheSgpOwpwcml2YXRlICRvdXRwdXREaXNhYmxlZCA9IGZhbHNlOwoKCgoKcHVibGljIGZ1bmN0aW9uIF9fY29uc3RydWN0KGFycmF5ICRhcmd1bWVudHMgPSBhcnJheSgpKQp7CiR0aGlzLT5hcmd1bWVudHMgPSAkYXJndW1lbnRzOwp9CgoKCgoKCgoKcHVibGljIHN0YXRpYyBmdW5jdGlvbiBjcmVhdGUoYXJyYXkgJGFyZ3VtZW50cyA9IGFycmF5KCkpCnsKcmV0dXJuIG5ldyBzdGF0aWMoJGFyZ3VtZW50cyk7Cn0KCgoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gYWRkKCRhcmd1bWVudCkKewokdGhpcy0+YXJndW1lbnRzW10gPSAkYXJndW1lbnQ7CgpyZXR1cm4gJHRoaXM7Cn0KCgoKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBzZXRQcmVmaXgoJHByZWZpeCkKewokdGhpcy0+cHJlZml4ID0gXGlzX2FycmF5KCRwcmVmaXgpID8gJHByZWZpeCA6IGFycmF5KCRwcmVmaXgpOwoKcmV0dXJuICR0aGlzOwp9CgoKCgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIHNldEFyZ3VtZW50cyhhcnJheSAkYXJndW1lbnRzKQp7CiR0aGlzLT5hcmd1bWVudHMgPSAkYXJndW1lbnRzOwoKcmV0dXJuICR0aGlzOwp9CgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIHNldFdvcmtpbmdEaXJlY3RvcnkoJGN3ZCkKewokdGhpcy0+Y3dkID0gJGN3ZDsKCnJldHVybiAkdGhpczsKfQoKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBpbmhlcml0RW52aXJvbm1lbnRWYXJpYWJsZXMoJGluaGVyaXRFbnYgPSB0cnVlKQp7CiR0aGlzLT5pbmhlcml0RW52ID0gJGluaGVyaXRFbnY7CgpyZXR1cm4gJHRoaXM7Cn0KCgoKCgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIHNldEVudigkbmFtZSwgJHZhbHVlKQp7CiR0aGlzLT5lbnZbJG5hbWVdID0gJHZhbHVlOwoKcmV0dXJuICR0aGlzOwp9CgoKCgoKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBhZGRFbnZpcm9ubWVudFZhcmlhYmxlcyhhcnJheSAkdmFyaWFibGVzKQp7CiR0aGlzLT5lbnYgPSBhcnJheV9yZXBsYWNlKCR0aGlzLT5lbnYsICR2YXJpYWJsZXMpOwoKcmV0dXJuICR0aGlzOwp9CgoKCgoKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBzZXRJbnB1dCgkaW5wdXQpCnsKJHRoaXMtPmlucHV0ID0gUHJvY2Vzc1V0aWxzOjp2YWxpZGF0ZUlucHV0KF9fTUVUSE9EX18sICRpbnB1dCk7CgpyZXR1cm4gJHRoaXM7Cn0KCgoKCgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIHNldFRpbWVvdXQoJHRpbWVvdXQpCnsKaWYgKG51bGwgPT09ICR0aW1lb3V0KSB7CiR0aGlzLT50aW1lb3V0ID0gbnVsbDsKCnJldHVybiAkdGhpczsKfQoKJHRpbWVvdXQgPSAoZmxvYXQpICR0aW1lb3V0OwoKaWYgKCR0aW1lb3V0IDwgMCkgewp0aHJvdyBuZXcgSW52YWxpZEFyZ3VtZW50RXhjZXB0aW9uKCdUaGUgdGltZW91dCB2YWx1ZSBtdXN0IGJlIGEgdmFsaWQgcG9zaXRpdmUgaW50ZWdlciBvciBmbG9hdCBudW1iZXIuJyk7Cn0KCiR0aGlzLT50aW1lb3V0ID0gJHRpbWVvdXQ7CgpyZXR1cm4gJHRoaXM7Cn0KCgoKCgoKCgoKcHVibGljIGZ1bmN0aW9uIHNldE9wdGlvbigkbmFtZSwgJHZhbHVlKQp7CiR0aGlzLT5vcHRpb25zWyRuYW1lXSA9ICR2YWx1ZTsKCnJldHVybiAkdGhpczsKfQoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gZGlzYWJsZU91dHB1dCgpCnsKJHRoaXMtPm91dHB1dERpc2FibGVkID0gdHJ1ZTsKCnJldHVybiAkdGhpczsKfQoKCgoKCgpwdWJsaWMgZnVuY3Rpb24gZW5hYmxlT3V0cHV0KCkKewokdGhpcy0+b3V0cHV0RGlzYWJsZWQgPSBmYWxzZTsKCnJldHVybiAkdGhpczsKfQoKCgoKCgoKCnB1YmxpYyBmdW5jdGlvbiBnZXRQcm9jZXNzKCkKewppZiAoMCA9PT0gXGNvdW50KCR0aGlzLT5wcmVmaXgpICYmIDAgPT09IFxjb3VudCgkdGhpcy0+YXJndW1lbnRzKSkgewp0aHJvdyBuZXcgTG9naWNFeGNlcHRpb24oJ1lvdSBtdXN0IGFkZCgpIGNvbW1hbmQgYXJndW1lbnRzIGJlZm9yZSBjYWxsaW5nIGdldFByb2Nlc3MoKS4nKTsKfQoKJG9wdGlvbnMgPSAkdGhpcy0+b3B0aW9uczsKCiRhcmd1bWVudHMgPSBhcnJheV9tZXJnZSgkdGhpcy0+cHJlZml4LCAkdGhpcy0+YXJndW1lbnRzKTsKJHNjcmlwdCA9IGltcGxvZGUoJyAnLCBhcnJheV9tYXAoYXJyYXkoX19OQU1FU1BBQ0VfXy4nXFxQcm9jZXNzVXRpbHMnLCAnZXNjYXBlQXJndW1lbnQnKSwgJGFyZ3VtZW50cykpOwoKaWYgKCR0aGlzLT5pbmhlcml0RW52KSB7CgokZW52ID0gYXJyYXlfcmVwbGFjZSgkX0VOViwgJF9TRVJWRVIsICR0aGlzLT5lbnYpOwp9IGVsc2UgewokZW52ID0gJHRoaXMtPmVudjsKfQoKJHByb2Nlc3MgPSBuZXcgUHJvY2Vzcygkc2NyaXB0LCAkdGhpcy0+Y3dkLCAkZW52LCAkdGhpcy0+aW5wdXQsICR0aGlzLT50aW1lb3V0LCAkb3B0aW9ucyk7CgppZiAoJHRoaXMtPm91dHB1dERpc2FibGVkKSB7CiRwcm9jZXNzLT5kaXNhYmxlT3V0cHV0KCk7Cn0KCnJldHVybiAkcHJvY2VzczsKfQp9Cjw/cGhwCgoKCgoKCgoKCgpuYW1lc3BhY2UgU3ltZm9ueVxDb21wb25lbnRcUHJvY2VzczsKCnVzZSBTeW1mb255XENvbXBvbmVudFxQcm9jZXNzXEV4Y2VwdGlvblxJbnZhbGlkQXJndW1lbnRFeGNlcHRpb247CgoKCgoKCgoKY2xhc3MgUHJvY2Vzc1V0aWxzCnsKCgoKcHJpdmF0ZSBmdW5jdGlvbiBfX2NvbnN0cnVjdCgpCnsKfQoKCgoKCgoKCnB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gZXNjYXBlQXJndW1lbnQoJGFyZ3VtZW50KQp7CgoKCgppZiAoJ1xcJyA9PT0gXERJUkVDVE9SWV9TRVBBUkFUT1IpIHsKaWYgKCcnID09PSAkYXJndW1lbnQpIHsKcmV0dXJuIGVzY2FwZXNoZWxsYXJnKCRhcmd1bWVudCk7Cn0KCiRlc2NhcGVkQXJndW1lbnQgPSAnJzsKJHF1b3RlID0gZmFsc2U7CmZvcmVhY2ggKHByZWdfc3BsaXQoJy8oIikvJywgJGFyZ3VtZW50LCAtMSwgUFJFR19TUExJVF9OT19FTVBUWSB8IFBSRUdfU1BMSVRfREVMSU1fQ0FQVFVSRSkgYXMgJHBhcnQpIHsKaWYgKCciJyA9PT0gJHBhcnQpIHsKJGVzY2FwZWRBcmd1bWVudCAuPSAnXFwiJzsKfSBlbHNlaWYgKHNlbGY6OmlzU3Vycm91bmRlZEJ5KCRwYXJ0LCAnJScpKSB7CgokZXNjYXBlZEFyZ3VtZW50IC49ICdeJSInLnN1YnN0cigkcGFydCwgMSwgLTEpLiciXiUnOwp9IGVsc2UgewoKaWYgKCdcXCcgPT09IHN1YnN0cigkcGFydCwgLTEpKSB7CiRwYXJ0IC49ICdcXCc7Cn0KJHF1b3RlID0gdHJ1ZTsKJGVzY2FwZWRBcmd1bWVudCAuPSAkcGFydDsKfQp9CmlmICgkcXVvdGUpIHsKJGVzY2FwZWRBcmd1bWVudCA9ICciJy4kZXNjYXBlZEFyZ3VtZW50LiciJzsKfQoKcmV0dXJuICRlc2NhcGVkQXJndW1lbnQ7Cn0KCnJldHVybiAiJyIuc3RyX3JlcGxhY2UoIiciLCAiJ1xcJyciLCAkYXJndW1lbnQpLiInIjsKfQoKCgoKCgoKCgoKCgoKcHVibGljIHN0YXRpYyBmdW5jdGlvbiB2YWxpZGF0ZUlucHV0KCRjYWxsZXIsICRpbnB1dCkKewppZiAobnVsbCAhPT0gJGlucHV0KSB7CmlmIChcaXNfcmVzb3VyY2UoJGlucHV0KSkgewpyZXR1cm4gJGlucHV0Owp9CmlmIChcaXNfc3RyaW5nKCRpbnB1dCkpIHsKcmV0dXJuICRpbnB1dDsKfQppZiAoaXNfc2NhbGFyKCRpbnB1dCkpIHsKcmV0dXJuIChzdHJpbmcpICRpbnB1dDsKfQoKaWYgKFxpc19vYmplY3QoJGlucHV0KSAmJiBtZXRob2RfZXhpc3RzKCRpbnB1dCwgJ19fdG9TdHJpbmcnKSkgewpAdHJpZ2dlcl9lcnJvcignUGFzc2luZyBhbiBvYmplY3QgYXMgYW4gaW5wdXQgaXMgZGVwcmVjYXRlZCBzaW5jZSBTeW1mb255IDIuNSBhbmQgd2lsbCBiZSByZW1vdmVkIGluIDMuMC4nLCBFX1VTRVJfREVQUkVDQVRFRCk7CgpyZXR1cm4gKHN0cmluZykgJGlucHV0Owp9Cgp0aHJvdyBuZXcgSW52YWxpZEFyZ3VtZW50RXhjZXB0aW9uKHNwcmludGYoJyVzIG9ubHkgYWNjZXB0cyBzdHJpbmdzIG9yIHN0cmVhbSByZXNvdXJjZXMuJywgJGNhbGxlcikpOwp9CgpyZXR1cm4gJGlucHV0Owp9Cgpwcml2YXRlIHN0YXRpYyBmdW5jdGlvbiBpc1N1cnJvdW5kZWRCeSgkYXJnLCAkY2hhcikKewpyZXR1cm4gMiA8IFxzdHJsZW4oJGFyZykgJiYgJGNoYXIgPT09ICRhcmdbMF0gJiYgJGNoYXIgPT09ICRhcmdbXHN0cmxlbigkYXJnKSAtIDFdOwp9Cn0KPD9waHAKCmlmIChQSFBfU0FQSSAhPT0gJ2NsaScgJiYgUEhQX1NBUEkgIT09ICdwaHBkYmcnKSB7CiAgICBlY2hvICdXYXJuaW5nOiBDb21wb3NlciBzaG91bGQgYmUgaW52b2tlZCB2aWEgdGhlIENMSSB2ZXJzaW9uIG9mIFBIUCwgbm90IHRoZSAnLlBIUF9TQVBJLicgU0FQSScuUEhQX0VPTDsKfQoKc2V0bG9jYWxlKExDX0FMTCwgJ0MnKTsKcmVxdWlyZSBfX0RJUl9fLicvLi4vc3JjL2Jvb3RzdHJhcC5waHAnOwoKdXNlIENvbXBvc2VyXENvbnNvbGVcQXBwbGljYXRpb247CnVzZSBDb21wb3NlclxYZGVidWdIYW5kbGVyXFhkZWJ1Z0hhbmRsZXI7CnVzZSBDb21wb3NlclxVdGlsXFBsYXRmb3JtOwoKZXJyb3JfcmVwb3J0aW5nKC0xKTsKCi8vIFJlc3RhcnQgd2l0aG91dCBYZGVidWcKJHhkZWJ1ZyA9IG5ldyBYZGVidWdIYW5kbGVyKCdDb21wb3NlcicpOwokeGRlYnVnLT5jaGVjaygpOwp1bnNldCgkeGRlYnVnKTsKCmlmIChkZWZpbmVkKCdISFZNX1ZFUlNJT04nKSAmJiB2ZXJzaW9uX2NvbXBhcmUoSEhWTV9WRVJTSU9OLCAnNC4wJywgJz49JykpIHsKICAgIGVjaG8gJ0hIVk0gNC4wIGhhcyBkcm9wcGVkIHN1cHBvcnQgZm9yIENvbXBvc2VyLCBwbGVhc2UgdXNlIFBIUCBpbnN0ZWFkLiBBYm9ydGluZy4nLlBIUF9FT0w7CiAgICBleGl0KDEpOwp9CgppZiAoZnVuY3Rpb25fZXhpc3RzKCdpbmlfc2V0JykpIHsKICAgIEBpbmlfc2V0KCdkaXNwbGF5X2Vycm9ycycsICcxJyk7CgogICAgLy8gU2V0IHVzZXIgZGVmaW5lZCBtZW1vcnkgbGltaXQKICAgIGlmICgkbWVtb3J5TGltaXQgPSBnZXRlbnYoJ0NPTVBPU0VSX01FTU9SWV9MSU1JVCcpKSB7CiAgICAgICAgQGluaV9zZXQoJ21lbW9yeV9saW1pdCcsICRtZW1vcnlMaW1pdCk7CiAgICB9IGVsc2UgewogICAgICAgICRtZW1vcnlJbkJ5dGVzID0gZnVuY3Rpb24gKCR2YWx1ZSkgewogICAgICAgICAgICAkdW5pdCA9IHN0cnRvbG93ZXIoc3Vic3RyKCR2YWx1ZSwgLTEsIDEpKTsKICAgICAgICAgICAgJHZhbHVlID0gKGludCkgJHZhbHVlOwogICAgICAgICAgICBzd2l0Y2goJHVuaXQpIHsKICAgICAgICAgICAgICAgIGNhc2UgJ2cnOgogICAgICAgICAgICAgICAgICAgICR2YWx1ZSAqPSAxMDI0OwogICAgICAgICAgICAgICAgICAgIC8vIG5vIGJyZWFrIChjdW11bGF0aXZlIG11bHRpcGxpZXIpCiAgICAgICAgICAgICAgICBjYXNlICdtJzoKICAgICAgICAgICAgICAgICAgICAkdmFsdWUgKj0gMTAyNDsKICAgICAgICAgICAgICAgICAgICAvLyBubyBicmVhayAoY3VtdWxhdGl2ZSBtdWx0aXBsaWVyKQogICAgICAgICAgICAgICAgY2FzZSAnayc6CiAgICAgICAgICAgICAgICAgICAgJHZhbHVlICo9IDEwMjQ7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHJldHVybiAkdmFsdWU7CiAgICAgICAgfTsKCiAgICAgICAgJG1lbW9yeUxpbWl0ID0gdHJpbShpbmlfZ2V0KCdtZW1vcnlfbGltaXQnKSk7CiAgICAgICAgLy8gSW5jcmVhc2UgbWVtb3J5X2xpbWl0IGlmIGl0IGlzIGxvd2VyIHRoYW4gMS41R0IKICAgICAgICBpZiAoJG1lbW9yeUxpbWl0ICE9IC0xICYmICRtZW1vcnlJbkJ5dGVzKCRtZW1vcnlMaW1pdCkgPCAxMDI0ICogMTAyNCAqIDE1MzYpIHsKICAgICAgICAgICAgQGluaV9zZXQoJ21lbW9yeV9saW1pdCcsICcxNTM2TScpOwogICAgICAgIH0KICAgICAgICB1bnNldCgkbWVtb3J5SW5CeXRlcyk7CiAgICB9CiAgICB1bnNldCgkbWVtb3J5TGltaXQpOwp9CgpQbGF0Zm9ybTo6cHV0RW52KCdDT01QT1NFUl9CSU5BUlknLCByZWFscGF0aCgkX1NFUlZFUlsnYXJndiddWzBdKSk7CgovLyBydW4gdGhlIGNvbW1hbmQgYXBwbGljYXRpb24KJGFwcGxpY2F0aW9uID0gbmV3IEFwcGxpY2F0aW9uKCk7CiRhcHBsaWNhdGlvbi0+cnVuKCk7CgpDb3B5cmlnaHQgKGMpIE5pbHMgQWRlcm1hbm4sIEpvcmRpIEJvZ2dpYW5vCgpQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYSBjb3B5Cm9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlICJTb2Z0d2FyZSIpLCB0byBkZWFsCmluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMKdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbApjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMgZnVybmlzaGVkCnRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczoKClRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkIGluIGFsbApjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLgoKVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEICJBUyBJUyIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1IKSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFksCkZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRQpBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSCkxJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sCk9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4KVEhFIFNPRlRXQVJFLgoKZEY7U1ZNYbQW7P+J4wXVzj2D0DgCAAAAR0JNQg==',
'theme.css' => 'aHRtbCwgYm9keSB7CiAgICBiYWNrZ3JvdW5kOiAjZjRmNGY0OwogICAgbWFyZ2luOiAwOwogICAgcGFkZGluZzogMDsKfQppbWcgewogICAgbWF4LXdpZHRoOiAxMDAlOwp9Ci50aGVtZS1taWRkbGUgewogICAgbWFyZ2luOiAwIGF1dG87CiAgICBtYXgtd2lkdGg6IDYwMHB4OwogICAgd2lkdGg6IGNhbGMoMTAwJSAtIDQwcHgpOwp9Cg==',
'theme.js' => 'd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCBmdW5jdGlvbigpewogICAgY29uc29sZS5sb2coJ3dpbmRvdy5vbmxvYWQoKTogZG9uZS4nKTsKfSk7',


		);

		if( !array_key_exists($path, $resources) ){ return false; }
		return base64_decode($resources[$path]);
	}

	/**
	 * 拡張子から mime-type を得る
	 */
	public function get_mime_type($ext){
		switch( $ext ){
			case 'html':
			case 'htm':
				return 'text/html';
				break;
			case 'js':
				return 'text/javascript';
				break;
			case 'css':
			case 'scss':
				return 'text/css';
				break;
			case 'gif':
				return 'image/gif';
				break;
			case 'png':
				return 'image/png';
				break;
			case 'jpg':
			case 'jpeg':
			case 'jpe':
				return 'image/jpeg';
				break;
			case 'svg':
				return 'image/svg+xml ';
				break;
			case 'text':
			case 'txt':
			case 'log':
			case 'sh':
			case 'bat':
			case 'php':
			case 'json':
			case 'yml':
			case 'yml':
			case 'htaccess':
				return 'text/plain';
				break;
		}
		return false;
	}

}
?>